<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Pythonä¸­çš„é—ä¼ ç®—æ³•å®Œæ•´å®ç° | æå®¢å¿«è¨Š</title><meta property="og:title" content="Pythonä¸­çš„é—ä¼ ç®—æ³•å®Œæ•´å®ç° - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="http://p1.pstatp.com/large/pgc-image/1531731137721602bd9c18c"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/1c10283.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/1c10283.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/1c10283.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/1c10283.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/1c10283.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/1c10283.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/1c10283.html><link rel=canonical href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/1c10283.html><meta property="article:published_time" content="2020-10-29T20:46:33+08:00"><meta property="article:modified_time" content="2020-10-29T20:46:33+08:00"><meta name=Keywords content><meta name=description content="Pythonä¸­çš„é—ä¼ ç®—æ³•å®Œæ•´å®ç°"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E6%B8%B8%E6%88%8F/1c10283.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Pythonä¸­çš„é—ä¼ ç®—æ³•å®Œæ•´å®ç°</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E6%B8%B8%E6%88%8F.html>æ¸¸æˆ</a></span></div><div class=post-content><div><p>æœ¬æ•™ç¨‹å°†åŸºäºä¸€ä¸ªç®€å•çš„ç¤ºä¾‹åœ¨Pythonä¸­å®ç°é—ä¼ ç®—æ³•ä¼˜åŒ–æŠ€æœ¯ï¼Œåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è¯•å›¾æœ€å¤§åŒ–ä¸€ä¸ªæ–¹ç¨‹çš„è¾“å‡ºã€‚æœ¬æ•™ç¨‹ä½¿ç”¨åè¿›åˆ¶è¡¨ç¤ºçš„åŸºå› ï¼Œå•ç‚¹äº¤å‰ï¼Œå’Œå‡åŒ€å˜å¼‚ã€‚</p><div class=pgc-img><img alt=Pythonä¸­çš„é—ä¼ ç®—æ³•å®Œæ•´å®ç° onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/1531731137721602bd9c18c><p class=pgc-img-caption></p></div><h1>é—ä¼ ç®—æ³•æ¦‚è¿°</h1><p>é—ä¼ ç®—æ³•ï¼ˆGAï¼‰çš„æµç¨‹å›¾å¦‚å›¾1æ‰€ç¤ºã€‚é—ä¼ ç®—æ³•ä¸­æ¶‰åŠçš„æ¯ä¸ªæ­¥éª¤éƒ½æœ‰ä¸€äº›å˜åŒ–ã€‚</p><div class=pgc-img><img alt=Pythonä¸­çš„é—ä¼ ç®—æ³•å®Œæ•´å®ç° onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/1531731168330b5dc664bad><p class=pgc-img-caption>å›¾1.é—ä¼ ç®—æ³•æµç¨‹å›¾</p></div><p>ä¾‹å¦‚ï¼ŒåŸºå› çš„è¡¨ç¤ºæœ‰ä¸åŒç±»å‹ï¼Œä¾‹å¦‚äºŒè¿›åˆ¶ï¼Œåè¿›åˆ¶ï¼Œæ•´æ•°ç­‰ã€‚æ¯ç§ç±»å‹éƒ½æœ‰ä¸åŒçš„å¯¹å¾…ã€‚å­˜åœ¨ä¸åŒç±»å‹çš„çªå˜ï¼Œä¾‹å¦‚ä½ç¿»è½¬ï¼Œäº¤æ¢ï¼Œåè½¬ï¼Œå‡åŒ€ï¼Œéå‡åŒ€ï¼Œé«˜æ–¯ï¼Œæ”¶ç¼©ç­‰ã€‚æ­¤å¤–ï¼Œäº¤å‰å…·æœ‰ä¸åŒçš„ç±»å‹ï¼Œä¾‹å¦‚æ··åˆï¼Œå•ç‚¹ï¼Œä¸¤ç‚¹ï¼Œå‡åŒ€ç­‰ã€‚æœ¬æ•™ç¨‹ä¸ä¼šå®ç°æ‰€æœ‰è¿™äº›ï¼Œåªæ˜¯å®ç°äº†GAä¸­æ¶‰åŠçš„æ¯ä¸ªæ­¥éª¤çš„ä¸€ç§ç±»å‹ã€‚æœ¬æ•™ç¨‹ä½¿ç”¨åŸºå› çš„åè¿›åˆ¶è¡¨ç¤ºï¼Œå•ç‚¹äº¤å‰å’Œå‡åŒ€å˜å¼‚ã€‚</p><h1>ç¤ºä¾‹</h1><p>æœ¬æ•™ç¨‹é¦–å…ˆä»‹ç»æˆ‘ä»¬å°†è¦å®ç°çš„ç­‰å¼ã€‚ç­‰å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>Y = w1x1 + w2x2 + w3x3 + w4x4 + w5x5 + w6x6</p><p>è¯¥æ–¹ç¨‹æœ‰6ä¸ªè¾“å…¥ï¼ˆx1åˆ°x6ï¼‰å’Œ6ä¸ªæƒé‡ï¼ˆw1åˆ°w6ï¼‰ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œè¾“å…¥å€¼ä¸ºï¼ˆx1ï¼Œx2ï¼Œx3ï¼Œx4ï¼Œx5ï¼Œx6ï¼‰=ï¼ˆ4ï¼Œ-2,7,5,11ï¼Œ 1ï¼‰ã€‚æˆ‘ä»¬æ­£åœ¨å¯»æ‰¾æœ€å¤§åŒ–è¿™ç§æ–¹ç¨‹çš„å‚æ•°ï¼ˆæƒé‡ï¼‰ã€‚æœ€å¤§åŒ–è¿™ç§æ–¹ç¨‹çš„æƒ³æ³•ä¼¼ä¹å¾ˆç®€å•ã€‚æ­£è¾“å…¥ä¹˜ä»¥æœ€å¤§å¯èƒ½çš„æ­£æ•°ï¼Œè´Ÿæ•°ä¹˜ä»¥æœ€å°å¯èƒ½çš„è´Ÿæ•°ã€‚ä½†æˆ‘ä»¬å¸Œæœ›å®ç°çš„æƒ³æ³•æ˜¯å¦‚ä½•è®©GAåšåˆ°è¿™ä¸€ç‚¹ï¼Œä»¥ä¾¿çŸ¥é“ä½¿ç”¨æ­£è¾“å…¥å’Œè´Ÿè¾“å…¥çš„è´Ÿæƒé‡æ›´å¥½ã€‚è®©æˆ‘ä»¬å¼€å§‹å®æ–½GAã€‚</p><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåŒ…å«6ä¸ªè¾“å…¥çš„åˆ—è¡¨å’Œä¸€ä¸ªç”¨äºä¿å­˜æƒé‡æ•°é‡çš„å˜é‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote><p># Inputs of the equation.</p><p>equation_inputs = [4,-2,3.5,5,-11,-4.7]</p><p># Number of the weights we are looking to optimize.</p><p>num_weights = 6</p></blockquote><p>ä¸‹ä¸€æ­¥æ˜¯å®šä¹‰åˆå§‹æ€»ä½“ã€‚æ ¹æ®æƒé‡çš„æ•°é‡ï¼Œæ¯ä¸ªæŸ“è‰²ä½“(æº¶æ¶²æˆ–ä¸ªä½“)è‚¯å®šæœ‰6ä¸ªåŸºå› ï¼Œæ¯ä¸ªæƒé‡å¯¹åº”ä¸€ä¸ªåŸºå› ã€‚ä½†æ˜¯é—®é¢˜æ˜¯æ¯ä¸ªç¾¤ä½“æœ‰å¤šå°‘ä¸ªè§£å†³æ–¹æ¡ˆ?æ²¡æœ‰å›ºå®šçš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©é€‚åˆæˆ‘ä»¬é—®é¢˜çš„å€¼ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä¿ç•™å®ƒçš„é€šç”¨æ€§ï¼Œä»¥ä¾¿åœ¨ä»£ç ä¸­ä¿®æ”¹å®ƒã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå˜é‡æ¥è¡¨ç¤ºæ¯ä¸ªç¾¤ä½“çš„è§£å†³æ–¹æ¡ˆæ•°é‡ï¼Œå¦ä¸€ä¸ªå˜é‡æ¥è¡¨ç¤ºç¾¤ä½“çš„å¤§å°ï¼Œæœ€åï¼Œä¸€ä¸ªå˜é‡æ¥è¡¨ç¤ºå®é™…çš„åˆå§‹ç¾¤ä½“æ•°é‡:</p><blockquote><p>import numpy</p><p>sol_per_pop = 8</p><p># Defining the population size.</p><p>pop_size = (sol_per_pop,num_weights) # The population will have sol_per_pop chromosome where each chromosome has num_weights genes.</p><p>#Creating the initial population.</p><p>new_population = numpy.random.uniform(low=-4.0, high=4.0, size=pop_size)</p></blockquote><p>å¯¼å…¥numpyåº“åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨numpy.random.uniformå‡½æ•°éšæœºåˆ›å»ºåˆå§‹ç§ç¾¤ã€‚æ ¹æ®æ‰€é€‰å‚æ•°ï¼Œå®ƒå°†å…·æœ‰å½¢çŠ¶ï¼ˆ8,6ï¼‰ã€‚è¿™æ˜¯8æ¡æŸ“è‰²ä½“ï¼Œæ¯æ¡æŸ“è‰²ä½“æœ‰6ä¸ªåŸºå› ï¼Œæ¯ä¸ªæƒé‡ä¸€ä¸ªã€‚è¿è¡Œæ­¤ä»£ç åï¼Œç¾¤ä½“å¦‚ä¸‹ï¼š</p><blockquote><p>[[-2.19134006 -2.88907857 2.02365737 -3.97346034 3.45160502 2.05773249]</p><p>[ 2.12480298 2.97122243 3.60375452 3.78571392 0.28776565 3.5170347 ]</p><p>[ 1.81098962 0.35130155 1.03049548 -0.33163294 3.52586421 2.53845644]</p><p>[-0.63698911 -2.8638447 2.93392615 -1.40103767 -1.20313655 0.30567304]</p><p>[-1.48998583 -1.53845766 1.11905299 -3.67541087 1.33225142 2.86073836]</p><p>[ 1.14159503 2.88160332 1.74877772 -3.45854293 0.96125878 2.99178241]</p><p>[ 1.96561297 0.51030292 0.52852716 -1.56909315 -2.35855588 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -0.72163167 0.7516408 0.00677938]]</p></blockquote><p>è¯·æ³¨æ„ï¼Œå®ƒæ˜¯éšæœºç”Ÿæˆçš„ï¼Œå› æ­¤åœ¨å†æ¬¡è¿è¡Œæ—¶è‚¯å®šä¼šå‘ç”Ÿå˜åŒ–ã€‚</p><p>åœ¨å‡†å¤‡ç¾¤ä½“ä¹‹åï¼Œæ¥ä¸‹æ¥å°†éµå¾ªå›¾1ä¸­çš„æµç¨‹å›¾ã€‚åŸºäºé€‚åº”åº¦å‡½æ•°ï¼Œæˆ‘ä»¬å°†é€‰æ‹©å½“å‰ç¾¤ä½“ä¸­çš„æœ€ä½³ä¸ªä½“ä½œä¸ºäº¤é…çš„çˆ¶æ¯ã€‚æ¥ä¸‹æ¥æ˜¯åº”ç”¨GAå˜ä½“ï¼ˆäº¤å‰å’Œå˜å¼‚ï¼‰æ¥äº§ç”Ÿä¸‹ä¸€ä»£çš„åä»£ï¼Œé€šè¿‡é™„åŠ çˆ¶æ¯å’Œåä»£æ¥åˆ›å»ºæ–°çš„ç¾¤ä½“ï¼Œå¹¶ä¸”é‡å¤è¿™äº›æ­¥éª¤è¿›è¡Œå¤šæ¬¡è¿­ä»£/ç”Ÿæˆã€‚ä¸‹ä¸€ä¸ªPythonä»£ç åº”ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š</p><blockquote><p>import GA</p><p>num_generations = 5</p><p>num_parents_mating = 4</p><p>for generation in range(num_generations):</p><p># Measuring the fitness of each chromosome in the population.</p><p>fitness = GA.cal_pop_fitness(equation_inputs, new_population)</p><p># Selecting the best parents in the population for mating.</p><p>parents = GA.select_mating_pool(new_population, fitness,</p><p>num_parents_mating)</p><p># Generating next generation using crossover.</p><p>offspring_crossover = GA.crossover(parents,</p><p>offspring_size=(pop_size[0]-parents.shape[0], num_weights))</p><p># Adding some variations to the offsrping using mutation.</p><p>offspring_mutation = GA.mutation(offspring_crossover)</p><p># Creating the new population based on the parents and offspring.</p><p>new_population[0:parents.shape[0], :] = parents</p><p>new_population[parents.shape[0]:, :] = offspring_mutation</p></blockquote><p>ç°åœ¨çš„ä»£æ•°æ˜¯5ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œå®ƒè¢«é€‰ä¸ºå°ä»¥æ˜¾ç¤ºæ‰€æœ‰ä»£çš„ç»“æœã€‚</p><p>ç¬¬ä¸€æ­¥æ˜¯ä½¿ç”¨GAæ±‚æ€»ä½“ä¸­çš„æ¯ä¸ªè§£çš„é€‚åº”åº¦å€¼ã€‚cal_pop_fitnesså‡½æ•°ã€‚è¯¥å‡½æ•°åœ¨GAæ¨¡å—å†…çš„å®ç°å¦‚ä¸‹:</p><blockquote><p>def cal_pop_fitness(equation_inputs, pop):</p><p># Calculating the fitness value of each solution in the current population.</p><p># The fitness function calculates the sum of products between each input and its corresponding weight.</p><p>fitness = numpy.sum(pop*equation_inputs, axis=1)</p><p>return fitness</p></blockquote><p>é™¤äº†æ€»ä½“ä¹‹å¤–ï¼Œé€‚åº”åº¦å‡½æ•°è¿˜æ¥å—æ–¹ç¨‹è¾“å…¥å€¼ï¼ˆx1åˆ°x6ï¼‰ã€‚æ ¹æ®æˆ‘ä»¬çš„å‡½æ•°ï¼Œå°†é€‚åº”åº¦å€¼è®¡ç®—ä¸ºæ¯ä¸ªè¾“å…¥ä¸å…¶å¯¹åº”åŸºå› ï¼ˆæƒé‡ï¼‰ä¹‹é—´çš„ä¹˜ç§¯ï¼ˆSOPï¼‰ä¹‹å’Œã€‚æ ¹æ®æ¯ä¸ªç¾¤ä½“çš„è§£å†³æ–¹æ¡ˆæ•°é‡ï¼Œå°†æœ‰ä¸€äº›SOPã€‚æ­£å¦‚æˆ‘ä»¬ä¹‹å‰åœ¨å˜é‡å‘½åsol_per_popä¸­å°†è§£å†³æ–¹æ¡ˆçš„æ•°é‡è®¾ç½®ä¸º8 ï¼Œå°†æœ‰8ä¸ªSOPï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote><p>[-63.41070188 14.40299221 -42.22532674 18.24112489 -45.44363278 -37.00404311 15.99527402 17.0688537 ]</p></blockquote><p>æ³¨æ„ï¼Œé€‚åº”åº¦å€¼è¶Šé«˜ï¼Œè§£å†³æ–¹æ¡ˆå°±è¶Šå¥½ã€‚</p><p>åœ¨è®¡ç®—æ‰€æœ‰è§£å†³æ–¹æ¡ˆçš„é€‚åº”åº¦å€¼ä¹‹åï¼Œä¸‹ä¸€æ­¥æ˜¯æ ¹æ®ä¸‹ä¸€ä¸ªå‡½æ•°GA.select_mating_poolï¼Œåœ¨åŒ¹é…æ± ä¸­é€‰æ‹©å…¶ä¸­æœ€å¥½çš„ä½œä¸ºçˆ¶ç±»ã€‚è¯¥å‡½æ•°æ¥å—ç¾¤ä½“ã€é€‚åˆåº¦å€¼å’Œæ‰€éœ€çš„çˆ¶æ¯æ•°é‡ã€‚å®ƒè¿”å›æ‰€é€‰çš„çˆ¶ç±»ã€‚å…¶åœ¨GAæ¨¡å—å†…çš„å®ç°å¦‚ä¸‹:</p><blockquote><p>def select_mating_pool(pop, fitness, num_parents):</p><p># Selecting the best individuals in the current generation as parents for producing the offspring of the next generation.</p><p>parents = numpy.empty((num_parents, pop.shape[1]))</p><p>for parent_num in range(num_parents):</p><p>max_fitness_idx = numpy.where(fitness == numpy.max(fitness))</p><p>max_fitness_idx = max_fitness_idx[0][0]</p><p>parents[parent_num, :] = pop[max_fitness_idx, :]</p><p>fitness[max_fitness_idx] = -99999999999</p><p>return parents</p></blockquote><p>æ ¹æ®å˜é‡num_parents_matchä¸­å®šä¹‰çš„çˆ¶ç±»çš„æ•°é‡ï¼Œè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„æ¥ä¿å­˜å®ƒä»¬ï¼Œå°±åƒåœ¨è¿™ä¸€è¡Œä¸­ä¸€æ ·:</p><blockquote><p>parents = numpy.emptyï¼ˆï¼ˆnum_parentsï¼Œpop.shape [1]ï¼‰ï¼‰</p></blockquote><p>å¾ªç¯éå†å½“å‰ç¾¤ä½“ï¼Œè¯¥å‡½æ•°è·å¾—æœ€é«˜é€‚åº”åº¦å€¼çš„ç´¢å¼•ï¼Œå› ä¸ºå®ƒæ˜¯æ ¹æ®æ­¤è¡Œé€‰æ‹©çš„æœ€ä½³è§£å†³æ–¹æ¡ˆï¼š</p><blockquote><p>max_fitness_idx = numpy.whereï¼ˆfitness == numpy.maxï¼ˆfitnessï¼‰ï¼‰</p></blockquote><p>æ­¤ç´¢å¼•ç”¨äºä½¿ç”¨ä»¥ä¸‹è¡Œæ£€ç´¢ä¸æ­¤é€‚åˆåº¦å€¼å¯¹åº”çš„è§£å†³æ–¹æ¡ˆï¼š</p><blockquote><p>parent [parent_numï¼Œï¼š] = pop [max_fitness_idxï¼Œï¼š]</p></blockquote><p>ä¸ºäº†é¿å…å†æ¬¡é€‰æ‹©è¿™ç§è§£å†³æ–¹æ¡ˆï¼Œå®ƒçš„é€‚åº”åº¦å€¼è¢«è®¾ç½®ä¸ºä¸€ä¸ªéå¸¸å°çš„å€¼ï¼Œè¿™ä¸ªå€¼å¾ˆå¯èƒ½ä¸ä¼šè¢«å†æ¬¡é€‰ä¸­ï¼Œå³- 99999999999999999ã€‚æœ€åè¿”å›çˆ¶æ•°ç»„ï¼Œæ ¹æ®æˆ‘ä»¬çš„ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤º:</p><blockquote><p>[[-0.63698911 -2.8638447 2.93392615 -1.40103767 -1.20313655 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -0.72163167 0.7516408 0.00677938]</p><p>[ 1.96561297 0.51030292 0.52852716 -1.56909315 -2.35855588 2.29682254]</p><p>[ 2.12480298 2.97122243 3.60375452 3.78571392 0.28776565 3.5170347 ]]</p></blockquote><p>æ³¨æ„ï¼Œè¿™ä¸‰ä¸ªçˆ¶ç±»æ˜¯å½“å‰ç¾¤ä½“ä¸­æœ€å¥½çš„ä¸ªä½“ï¼ŒåŸºäºä»–ä»¬çš„é€‚åˆåº¦å€¼åˆ†åˆ«ä¸º18.24112489,17.0688537,15.99527402å’Œ14.40299221ã€‚</p><p>ä¸‹ä¸€æ­¥æ˜¯ä½¿ç”¨è¿™æ ·é€‰æ‹©çš„äº²æœ¬è¿›è¡Œäº¤é…ä»¥äº§ç”Ÿåä»£ã€‚æ ¹æ®åŠŸèƒ½ï¼Œäº¤é…ä»äº¤å‰æ“ä½œå¼€å§‹GA.crossoverã€‚æ­¤å‡½æ•°æ¥å—çˆ¶æ¯å’Œåä»£çš„å¤§å°ã€‚å®ƒä½¿ç”¨åä»£å¤§å°æ¥äº†è§£ä»è¿™äº›çˆ¶æ¯é‚£é‡Œç”Ÿäº§çš„åä»£çš„æ•°é‡ã€‚è¿™æ ·çš„åŠŸèƒ½åœ¨GAæ¨¡å—å†…éƒ¨å®ç°å¦‚ä¸‹ï¼š</p><blockquote><p>def crossover(parents, offspring_size):</p><p>offspring = numpy.empty(offspring_size)</p><p># The point at which crossover takes place between two parents. Usually, it is at the center.</p><p>crossover_point = numpy.uint8(offspring_size[1]/2)</p><p>for k in range(offspring_size[0]):</p><p># Index of the first parent to mate.</p><p>parent1_idx = k%parents.shape[0]</p><p># Index of the second parent to mate.</p><p>parent2_idx = (k+1)%parents.shape[0]</p><p># The new offspring will have its first half of its genes taken from the first parent.</p><p>offspring[k, 0:crossover_point] = parents[parent1_idx, 0:crossover_point]</p><p># The new offspring will have its second half of its genes taken from the second parent.</p><p>offspring[k, crossover_point:] = parents[parent2_idx, crossover_point:]</p><p>return offspring</p></blockquote><p>è¯¥å‡½æ•°é¦–å…ˆæ ¹æ®åä»£å¤§å°åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote><p>offspring = numpy.emptyï¼ˆoffspring_sizeï¼‰</p></blockquote><p>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨å•ç‚¹äº¤å‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŒ‡å®šäº¤å‰å‘ç”Ÿçš„ç‚¹ã€‚é€‰æ‹©è¯¥ç‚¹ä»¥æ ¹æ®æ­¤è¡Œå°†è§£å†³æ–¹æ¡ˆåˆ’åˆ†ä¸ºä¸¤ä¸ªç›¸ç­‰çš„ä¸€åŠï¼š</p><blockquote><p>crossover_point = numpy.uint8ï¼ˆoffspring_size [1] / 2ï¼‰</p></blockquote><p>ç„¶åæˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸¤ä¸ªçˆ¶æ¯è¿›è¡Œäº¤å‰ã€‚æ ¹æ®è¿™ä¸¤è¡Œé€‰æ‹©è¿™äº›çˆ¶æ¯çš„æŒ‡æ•°ï¼š</p><blockquote><p>parent1_idx = kï¼…parents.shape [0]</p><p>parent2_idx =ï¼ˆk + 1ï¼‰ï¼…parents.shape [0]</p></blockquote><p>çˆ¶æ¯çš„é€‰æ‹©æ–¹å¼ç±»ä¼¼äºæˆ’æŒ‡ã€‚ç¬¬ä¸€ä¸ªæŒ‡æ ‡ä¸º0å’Œ1çš„ç‰©ç§é¦–å…ˆè¢«é€‰æ‹©äº§ç”Ÿä¸¤ä¸ªåä»£ã€‚å¦‚æœä»æœ‰å‰©ä½™çš„åä»£è¦ç¹æ®–ï¼Œé‚£ä¹ˆæˆ‘ä»¬é€‰æ‹©åŒäº²1å’ŒåŒäº²2çš„åä»£ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦æ›´å¤šçš„åä»£ï¼Œé‚£ä¹ˆæˆ‘ä»¬é€‰æ‹©ç¬¬äºŒä¸ªæœ‰ç´¢å¼•2å’Œ3çš„çˆ¶æ¯ã€‚é€šè¿‡ç´¢å¼•3ï¼Œæˆ‘ä»¬åˆ°è¾¾äº†æœ€åä¸€ä¸ªçˆ¶å…ƒç´ ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦ç”Ÿæˆæ›´å¤šçš„åä»£ï¼Œé‚£ä¹ˆæˆ‘ä»¬é€‰æ‹©å¸¦æœ‰ç´¢å¼•3çš„çˆ¶èŠ‚ç‚¹ï¼Œç„¶åè¿”å›ç´¢å¼•0çš„çˆ¶èŠ‚ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>å°†äº¤å‰æ“ä½œåº”ç”¨äºçˆ¶é¡¹åçš„è§£å†³æ–¹æ¡ˆå­˜å‚¨åœ¨offspring å˜é‡ä¸­ï¼Œå®ƒä»¬å¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote><p>[[-0.63698911 -2.8638447 2.93392615 -0.72163167 0.7516408 0.00677938]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.35855588 2.29682254]</p><p>[ 1.96561297 0.51030292 0.52852716 3.78571392 0.28776565 3.5170347 ]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.40103767 -1.20313655 0.30567304]]</p></blockquote><p>æ¥ä¸‹æ¥æ˜¯offspring ä½¿ç”¨GA.mutationGAæ¨¡å—å†…éƒ¨çš„å‡½æ•°å°†ç¬¬äºŒä¸ªGAå˜ä½“mutå˜é‡åº”ç”¨äºå­˜å‚¨åœ¨å˜é‡ä¸­çš„äº¤å‰ç»“æœã€‚è¿™ç§å‡½æ•°æ¥å—äº¤å‰åä»£å¹¶åœ¨åº”ç”¨å‡åŒ€çªå˜åè¿”å›å®ƒä»¬ã€‚è¯¥åŠŸèƒ½å®ç°å¦‚ä¸‹ï¼š</p><blockquote><p>def mutation(offspring_crossover):</p><p># Mutation changes a single gene in each offspring randomly.</p><p>for idx in range(offspring_crossover.shape[0]):</p><p># The random value to be added to the gene.</p><p>random_value = numpy.random.uniform(-1.0, 1.0, 1)</p><p>offspring_crossover[idx, 4] = offspring_crossover[idx, 4] + random_value</p><p>return offspring_crossover</p></blockquote><p>å®ƒå¾ªç¯éå†æ¯ä¸ªåä»£ï¼Œå¹¶æ ¹æ®ä»¥ä¸‹è¡Œæ·»åŠ ä¸€ä¸ªå‡åŒ€ç”Ÿæˆçš„éšæœºæ•°ï¼ŒèŒƒå›´ä»-1åˆ°1ï¼š</p><blockquote><p>random_value = numpy.random.uniformï¼ˆ-1.0,1.0,1ï¼‰</p></blockquote><p>ç„¶åæ ¹æ®æ­¤è¡Œå°†è¿™æ ·çš„éšæœºæ•°æ·»åŠ åˆ°åä»£çš„ç´¢å¼•4çš„åŸºå› ä¸­ï¼š</p><blockquote><p>offspring_crossover [idxï¼Œ4] = offspring_crossover [idxï¼Œ4] + random_value</p></blockquote><p>è¯·æ³¨æ„ï¼Œç´¢å¼•å¯ä»¥æ›´æ”¹ä¸ºä»»ä½•å…¶ä»–ç´¢å¼•ã€‚åº”ç”¨çªå˜åçš„åä»£å¦‚ä¸‹ï¼š</p><blockquote><p>[[-0.63698911 -2.8638447 2.93392615 -0.72163167 1.66083721 0.00677938]</p><p>[3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]</p><p>[1.96561297 0.51030292 0.52852716 3.78571392 0.45337472 3.5170347]</p><p>[2.12480298 2.97122243 3.60375452 -1.40103767 -1.5781162 0.30567304]]</p></blockquote><p>è¿™äº›ç»“æœè¢«æ·»åŠ åˆ°å˜é‡ä¸­offspring_crossoverå¹¶ç”±å‡½æ•°è¿”å›ã€‚</p><p>åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬æˆåŠŸåœ°ä»4ä¸ªé€‰å®šçš„çˆ¶æ¯ä¸­äº§ç”Ÿäº†4ä¸ªåä»£ï¼Œæˆ‘ä»¬å‡†å¤‡åˆ›é€ ä¸‹ä¸€ä»£çš„æ–°ç§ç¾¤ã€‚</p><p>è¯·æ³¨æ„ï¼ŒGAæ˜¯ä¸€ç§åŸºäºéšæœºçš„ä¼˜åŒ–æŠ€æœ¯ã€‚å®ƒè¯•å›¾é€šè¿‡å¯¹å®ƒä»¬åº”ç”¨ä¸€äº›éšæœºå˜åŒ–æ¥å¢å¼ºå½“å‰çš„è§£å†³æ–¹æ¡ˆã€‚å› ä¸ºè¿™äº›å˜åŒ–æ˜¯éšæœºçš„ï¼Œæˆ‘ä»¬ä¸ç¡®å®šå®ƒä»¬ä¼šäº§ç”Ÿæ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œä¼˜é€‰åœ¨æ–°çš„ç¾¤ä½“ä¸­ä¿ç•™å…ˆå‰çš„æœ€ä½³è§£å†³æ–¹æ¡ˆï¼ˆçˆ¶æ¯ï¼‰ã€‚åœ¨æœ€ç³Ÿç³•çš„æƒ…å†µä¸‹ï¼Œå½“æ‰€æœ‰æ–°çš„åä»£éƒ½æ¯”è¿™æ ·çš„çˆ¶æ¯æ›´ç³Ÿç³•æ—¶ï¼Œæˆ‘ä»¬å°†ç»§ç»­ä½¿ç”¨è¿™æ ·çš„çˆ¶æ¯ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¿è¯æ–°ä¸€ä»£å°†è‡³å°‘ä¿ç•™ä»¥å‰çš„è‰¯å¥½ç»“æœï¼Œå¹¶ä¸”ä¸ä¼šå˜å¾—æ›´ç³Ÿã€‚æ–°äººå£å°†æ‹¥æœ‰å‰çˆ¶æ¯çš„å‰4ä¸ªè§£å†³æ–¹æ¡ˆã€‚æœ€å4ä¸ªè§£å†³æ–¹æ¡ˆæ¥è‡ªåº”ç”¨äº¤å‰å’Œå˜å¼‚ååˆ›å»ºçš„åä»£ï¼š</p><blockquote><p>new_population [0ï¼šparents.shape [0]</p><p>ï¼Œï¼š] = parent new_population [parents.shape [0]ï¼šï¼Œï¼š] = offspring_mutation</p></blockquote><p>é€šè¿‡è®¡ç®—ç¬¬ä¸€ä»£æ‰€æœ‰è§£å†³æ–¹æ¡ˆï¼ˆçˆ¶æ¯å’Œåä»£ï¼‰çš„é€‚åº”åº¦ï¼Œä»–ä»¬çš„é€‚åº”åº¦å¦‚ä¸‹ï¼š</p><blockquote><p>[18.24112489 17.0688537 15.99527402 14.40299221 -8.46075629 31.73289712 6.10307563 24.08733441]</p></blockquote><p>ä¹‹å‰çš„æœ€é«˜é€‚åº”åº¦æ˜¯18.24112489ï¼Œä½†ç°åœ¨æ˜¯31.7328971158ã€‚è¿™æ„å‘³ç€éšæœºå˜åŒ–è¶‹å‘äºæ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚è¿™å¾ˆæ£’ã€‚ä½†è¿™ç§ç»“æœå¯ä»¥é€šè¿‡æ›´å¤šä»£æ¥å¢å¼ºã€‚ä»¥ä¸‹æ˜¯å¦å¤–4ä»£çš„æ¯ä¸ªæ­¥éª¤çš„ç»“æœï¼š</p><blockquote><p>Generation : 1</p><p>Fitness values:</p><p>[ 18.24112489 17.0688537 15.99527402 14.40299221 -8.46075629 31.73289712 6.10307563 24.08733441]</p><p>Selected parents:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.40103767 -1.5781162 0.30567304]</p><p>[-0.63698911 -2.8638447 2.93392615 -1.40103767 -1.20313655 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -0.72163167 0.7516408 0.00677938]]</p><p>Crossover result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.5781162 0.30567304]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.40103767 -1.20313655 0.30567304]</p><p>[-0.63698911 -2.8638447 2.93392615 -0.72163167 0.7516408 0.00677938]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]]</p><p>Mutation result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.2392086 0.30567304]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.40103767 -0.38610586 0.30567304]</p><p>[-0.63698911 -2.8638447 2.93392615 -0.72163167 1.33639943 0.00677938]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.13941727 2.29682254]]</p><p>Best result after generation 1 : 34.1663669207</p><p>Generation : 2</p><p>Fitness values:</p><p>[ 31.73289712 24.08733441 18.24112489 17.0688537 34.16636692 10.97522073 -4.89194068 22.86998223]</p><p>Selected Parents:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.2392086 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.40103767 -1.5781162 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.13941727 2.29682254]]</p><p>Crossover result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.5781162 0.30567304]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.56909315 -1.13941727 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.2392086 0.30567304]]</p><p>Mutation result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.20515009 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -0.73543721 0.30567304]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.56909315 -0.50581509 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.20089639 0.30567304]]</p><p>Best result after generation 2: 34.5930432629</p><p>Generation : 3</p><p>Fitness values:</p><p>[ 34.16636692 31.73289712 24.08733441 22.86998223 34.59304326 28.6248816 2.09334217 33.7449326 ]</p><p>Selected parents:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.20515009 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.2392086 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.20089639 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]]</p><p>Crossover result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.2392086 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.20089639 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.20515009 2.29682254]]</p><p>Mutation result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.40103767 -2.20744102 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.16589294 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.37553107 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.44124005 2.29682254]]</p><p>Best result after generation 3: 44.8169235189</p><p>Generation : 4</p><p>Fitness values</p><p>[ 34.59304326 34.16636692 33.7449326 31.73289712 44.81692352</p><p>33.35989464 36.46723397 37.19003273]</p><p>Selected parents:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.40103767 -2.20744102 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.44124005 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.37553107 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.20515009 2.29682254]]</p><p>Crossover result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.37553107 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.20515009 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -2.20744102 0.30567304]]</p><p>Mutation result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.13382082 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.98105233 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.27638584 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.70558545 0.30567304]]</p><p>Best result after generation 4: 44.8169235189</p></blockquote><p>åœ¨ä¸Šè¿°5ä»£ä¹‹åï¼Œæœ€ä½³ç»“æœç°åœ¨å…·æœ‰ç­‰äº44.8169235189çš„é€‚åº”å€¼ï¼Œè€Œç¬¬ä¸€ä»£ä¹‹åçš„æœ€ä½³ç»“æœæ˜¯18.24112489ã€‚</p><p>æœ€ä½³è§£å†³æ–¹æ¡ˆå…·æœ‰ä»¥ä¸‹æƒé‡ï¼š</p><p>[3.00912373 -2.745417 3.27131287 -1.40103767 -2.20744102 0.30567304]</p><h1>å®Œæ•´çš„Pythonå®ç°</h1><p>å®ç°GAçš„å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><blockquote><p>import numpy</p><p>import GA</p><p>"""</p><p>The y=target is to maximize this equation ASAP:</p><p>y = w1x1+w2x2+w3x3+w4x4+w5x5+6wx6</p><p>where (x1,x2,x3,x4,x5,x6)=(4,-2,3.5,5,-11,-4.7)</p><p>What are the best values for the 6 weights w1 to w6?</p><p>We are going to use the genetic algorithm for the best possible values after a number of generations.</p><p>"""</p><p># Inputs of the equation.</p><p>equation_inputs = [4,-2,3.5,5,-11,-4.7]</p><p># Number of the weights we are looking to optimize.</p><p>num_weights = 6</p><p>"""</p><p>Genetic algorithm parameters:</p><p>Mating pool size</p><p>Population size</p><p>"""</p><p>sol_per_pop = 8</p><p>num_parents_mating = 4</p><p># Defining the population size.</p><p>pop_size = (sol_per_pop,num_weights) # The population will have sol_per_pop chromosome where each chromosome has num_weights genes.</p><p>#Creating the initial population.</p><p>new_population = numpy.random.uniform(low=-4.0, high=4.0, size=pop_size)</p><p>print(new_population)</p><p>num_generations = 5</p><p>for generation in range(num_generations):</p><p>print("Generation : ", generation)</p><p># Measing the fitness of each chromosome in the population.</p><p>fitness = GA.cal_pop_fitness(equation_inputs, new_population)</p><p># Selecting the best parents in the population for mating.</p><p>parents = GA.select_mating_pool(new_population, fitness,</p><p>num_parents_mating)</p><p># Generating next generation using crossover.</p><p>offspring_crossover = GA.crossover(parents,</p><p>offspring_size=(pop_size[0]-parents.shape[0], num_weights))</p><p># Adding some variations to the offsrping using mutation.</p><p>offspring_mutation = GA.mutation(offspring_crossover)</p><p># Creating the new population based on the parents and offspring.</p><p>new_population[0:parents.shape[0], :] = parents</p><p>new_population[parents.shape[0]:, :] = offspring_mutation</p><p># The best result in the current iteration.</p><p>print("Best result : ", numpy.max(numpy.sum(new_population*equation_inputs, axis=1)))</p><p># Getting the best solution after iterating finishing all generations.</p><p>#At first, the fitness is calculated for each solution in the final generation.</p><p>fitness = GA.cal_pop_fitness(equation_inputs, new_population)</p><p># Then return the index of that solution corresponding to the best fitness.</p><p>best_match_idx = numpy.where(fitness == numpy.max(fitness))</p><p>print("Best solution : ", new_population[best_match_idx, :])</p><p>print("Best solution fitness : ", fitness[best_match_idx])</p></blockquote><p><strong>GAæ¨¡å—å¦‚ä¸‹ï¼š</strong></p><blockquote><p>import numpy</p><p>def cal_pop_fitness(equation_inputs, pop):</p><p># Calculating the fitness value of each solution in the current population.</p><p># The fitness function caulcuates the sum of products between each input and its corresponding weight.</p><p>fitness = numpy.sum(pop*equation_inputs, axis=1)</p><p>return fitness</p><p>def select_mating_pool(pop, fitness, num_parents):</p><p># Selecting the best individuals in the current generation as parents for producing the offspring of the next generation.</p><p>parents = numpy.empty((num_parents, pop.shape[1]))</p><p>for parent_num in range(num_parents):</p><p>max_fitness_idx = numpy.where(fitness == numpy.max(fitness))</p><p>max_fitness_idx = max_fitness_idx[0][0]</p><p>parents[parent_num, :] = pop[max_fitness_idx, :]</p><p>fitness[max_fitness_idx] = -99999999999</p><p>return parents</p><p>def crossover(parents, offspring_size):</p><p>offspring = numpy.empty(offspring_size)</p><p># The point at which crossover takes place between two parents. Usually it is at the center.</p><p>crossover_point = numpy.uint8(offspring_size[1]/2)</p><p>for k in range(offspring_size[0]):</p><p># Index of the first parent to mate.</p><p>parent1_idx = k%parents.shape[0]</p><p># Index of the second parent to mate.</p><p>parent2_idx = (k+1)%parents.shape[0]</p><p># The new offspring will have its first half of its genes taken from the first parent.</p><p>offspring[k, 0:crossover_point] = parents[parent1_idx, 0:crossover_point]</p><p># The new offspring will have its second half of its genes taken from the second parent.</p><p>offspring[k, crossover_point:] = parents[parent2_idx, crossover_point:]</p><p>return offspring</p><p>def mutation(offspring_crossover):</p><p># Mutation changes a single gene in each offspring randomly.</p><p>for idx in range(offspring_crossover.shape[0]):</p><p># The random value to be added to the gene.</p><p>random_value = numpy.random.uniform(-1.0, 1.0, 1)</p><p>offspring_crossover[idx, 4] = offspring_crossover[idx, 4] + random_value</p><p>return offspring_crossover</p></blockquote></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Python','é—ä¼ ','å®ç°'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>