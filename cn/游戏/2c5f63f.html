<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>é—ä¼ ç®—æ³•(Python) #3 ä»é›¶å¼€å§‹è§£å†³OneMaxé—®é¢˜ | æå®¢å¿«è¨Š</title><meta property="og:title" content="é—ä¼ ç®—æ³•(Python) #3 ä»é›¶å¼€å§‹è§£å†³OneMaxé—®é¢˜ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="http://p1.pstatp.com/large/pgc-image/5d69e28f41a44f81b8dd0bbe9f2f2b6f"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/2c5f63f.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/2c5f63f.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/2c5f63f.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/2c5f63f.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/2c5f63f.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/2c5f63f.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/2c5f63f.html><link rel=canonical href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/2c5f63f.html><meta property="article:published_time" content="2020-10-29T20:46:33+08:00"><meta property="article:modified_time" content="2020-10-29T20:46:33+08:00"><meta name=Keywords content><meta name=description content="é—ä¼ ç®—æ³•(Python) #3 ä»é›¶å¼€å§‹è§£å†³OneMaxé—®é¢˜"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E6%B8%B8%E6%88%8F/2c5f63f.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>é—ä¼ ç®—æ³•(Python) #3 ä»é›¶å¼€å§‹è§£å†³OneMaxé—®é¢˜</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E6%B8%B8%E6%88%8F.html>æ¸¸æˆ</a></span></div><div class=post-content><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6822898083571958286/?group_id=6822898083571958286" rel="noopener noreferrer" target=_blank>ä¸Šä¸€æœŸ</a></p><h2 class=pgc-h-arrow-right>1. OneMaxé—®é¢˜(OneMax Problem)</h2><p>OneMaxé—®é¢˜æ˜¯é—ä¼ ç®—æ³•çš„å…¥é—¨é—®é¢˜ï¼Œå…¶å†…å®¹æ˜¯ï¼šå¦‚ä½•ä½¿ä¸€æ®µé•¿åº¦å›ºå®šçš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²æ‰€æœ‰ä½ç½®ä¸Šæ•°å­—ä¹‹å’Œæœ€å¤§ã€‚</p><p>è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªé•¿åº¦ä¸º5çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ä¸ºä¾‹ï¼š</p><ul><li>10010 -> å’Œä¸º2</li><li>00111 -> å’Œä¸º3</li><li>11111 -> å’Œä¸º5(æœ€å¤§å€¼)</li></ul><p>å¯¹ä¸€èˆ¬äººï¼Œæ˜¾è€Œæ˜“è§ï¼Œå½“æ‰€æœ‰ä½æ•°éƒ½ä¸º1æ—¶ï¼Œè¯¥å­—ç¬¦ä¸²çš„å’Œæœ€å¤§ï¼Œä½†åœ¨æˆ‘ä»¬ç”¨é—ä¼ ç®—æ³•è§£å†³è¯¥é—®é¢˜æ—¶ï¼Œé—ä¼ ç®—æ³•æœ¬èº«å¹¶æ²¡æœ‰è¿™æ ·çš„çŸ¥è¯†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†ä¸ä¾é ä»»ä½•é—ä¼ ç®—æ³•çš„åŒ…ï¼Œä»å¤´å¼€å§‹ç”¨é—ä¼ ç®—æ³•è§£å†³OneMaxé—®é¢˜ã€‚</p><h2 class=pgc-h-arrow-right>2.é—®é¢˜çš„è§£å†³æ€è·¯</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¾—æŠŠè¿™ä¸ªé—®é¢˜è½¬æ¢æˆä¸€ä¸ªé—ä¼ ç®—æ³•é—®é¢˜ï¼Œå³ï¼šæˆ‘ä»¬å¾—å®šä¹‰ä¸ªä½“ã€ç§ç¾¤ï¼Œé€‰æ‹©ã€æ‚äº¤ã€çªå˜æ–¹æ³•ã€é€‚åº”åº¦å‡½æ•°ç­‰ã€‚å‡è®¾æœ‰ä¸€ä¸ªé•¿åº¦ä¸º100çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥åšå‡ºä»¥ä¸‹å®šä¹‰ï¼š</p><ul><li>ä¸ªä½“ï¼šä¸ªä½“å³ä¸ºé—®é¢˜çš„è§£ï¼Œè¿™ä¸ªé—®é¢˜ä¸­ä¸ªä½“å¯ä»¥ç›´è§‚çš„å®šä¹‰ä¸ºä¸€ä¸ªé•¿åº¦ä¸º100åˆ—è¡¨ï¼ˆListï¼‰ï¼Œåˆ—è¡¨ä¸Šæ¯ä¸ªå…ƒç´ ä¸º0æˆ–1.</li><li>ç§ç¾¤ï¼šç§ç¾¤å³æ‰€æœ‰ä¸ªä½“çš„åˆé›†ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç§ç¾¤å®šä¹‰ä¸ºæ‰€æœ‰ä¸ªä½“ç»„æˆçš„åˆ—è¡¨ã€‚</li><li>é€‰æ‹©ï¼šä½¿ç”¨é”¦æ ‡èµ›æ³•(Tournament Selection)</li><li>æ‚äº¤ï¼šä½¿ç”¨å•ç‚¹æ‚äº¤æ³•(Singe-Point Crossover)</li><li>çªå˜ï¼šä½¿ç”¨ä½ç¿»è½¬çªå˜æ³•(Flip Bit Mutation)</li><li>é€‚åº”åº¦å‡½æ•°ï¼š æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä½¿å­—ç¬¦ä¸²ä¸Šæ‰€æœ‰æ•°å­—ä¹‹å’Œæœ€å¤§ï¼Œé€‚åº”åº¦å‡½æ•°å¯ä»¥ç›´è§‚çš„å®šä¹‰ä¸ºåˆ—è¡¨ä¸­æ‰€æœ‰æ•°å­—ä¹‹å’Œã€‚</li></ul><p>è‹¥å¯¹ä¸Šè¿°å®šä¹‰ä¸å¤ªäº†è§£çš„ï¼Œå¯ä»¥å›çœ‹é—ä¼ ç®—æ³•ç³»åˆ—çš„ç¬¬äºŒæœŸã€‚</p><h2 class=pgc-h-arrow-right>3.ç”¨Pythonå®ç°é—ä¼ ç®—æ³•</h2><p>ä»¥ä¸‹å°†åˆ†æ­¥éª¤è§£é‡Šæ¯ä¸€éƒ¨åˆ†çš„ä»£ç ï¼Œå®Œæ•´ä»£ç åœ¨æœ¬æ–‡çš„æœ€åå¯è§ã€‚</p><h3 class=pgc-h-arrow-right>3.0.å‡†å¤‡å·¥ä½œ</h3><pre><code>import randomimport matplotlib.pyplot as pltrandom.seed(39)</code></pre><p>å¯¼å…¥æ‰€æœ‰éœ€è¦çš„åŒ…ï¼š</p><ul><li>randomï¼š ç”¨äºç”Ÿæˆéšæœºæ•°</li><li>matplotlibï¼š ç”¨äºç”»å›¾</li><li>random.seed: ç¡®å®šç§å­ï¼ˆå³éšæœºçŠ¶æ€ï¼‰ï¼Œè¿™æ ·æ¯æ¬¡è¿ç®—æˆ‘ä»¬éƒ½èƒ½å¾—åˆ°åŒæ ·çš„ç»“æœ</li></ul><h3 class=pgc-h-arrow-right>3.1.å®šä¹‰ä¸ªä½“å’Œç§ç¾¤</h3><pre><code># 1. define individual and populationdef CreateIndividual():    return([random.randint(0,1) for _ in range(100)])def CreatePopulation(size):    return([CreateIndividual() for _ in range(size)])</code></pre><ul><li>CreateIndividualï¼šä¸ªä½“å³ä¸ºä¸€ä¸ªé•¿åº¦ä¸º100çš„åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ ï¼ˆåŸºå› ï¼‰ä¸º0æˆ–1ã€‚</li><li>CreatePopulationï¼š ç§ç¾¤å³å¤šä¸ªä¸ªä½“ç»„æˆçš„åˆ—è¡¨ã€‚</li></ul><h3 class=pgc-h-arrow-right>3.2.å®šä¹‰é€‰æ‹©ã€æ‚äº¤ã€çªå˜æ–¹æ³•å’Œé€‚åº”åº¦å‡½æ•°</h3><h4 class=pgc-h-arrow-right>3.2.1.é€‰æ‹©</h4><pre><code># 2.1. define select functiondef tournament(population,size):    participants = random.sample(population,size)    # evaluate function is defined in 3.4    winner = max(participants,key=lambda ind:evaluate(ind))    return(winner.copy())def select(population,size):    return([tournament(population,size) for _ in range(len(population))])</code></pre><ul><li>tournamentï¼šä»ç§ç¾¤ä¸­éšæœºæŠ½å–sizeä¸ªä¸ªä½“ï¼Œä»ä¸­é€‰å–é€‚åº”åº¦æœ€é«˜çš„ä¸ªä½“ã€‚æ³¨æ„ä½¿ç”¨.copyä»¥é˜²åŒä¸€ä¸ªåˆ—è¡¨è¢«å¤šæ¬¡å¼•ç”¨ã€‚</li><li>selectï¼šä¸ºäº†ä¿æŒç§ç¾¤çš„å¤§å°ä¸å˜ï¼Œé”¦æ ‡èµ›çš„æ¬¡æ•°åº”ä¸ç§ç¾¤ä¸­ä¸ªä½“çš„æ•°é‡ç›¸åŒ</li></ul><h4 class=pgc-h-arrow-right>3.2.2.æ‚äº¤</h4><pre><code># 2.2. define mate functiondef SinglePointCrossover(ind1,ind2):    loc = random.randint(0,len(ind1)-1)    genes1 = ind1[loc:]    genes2 = ind2[loc:]    ind1[loc:] = genes2    ind2[loc:] = genes1    return([ind1.copy(),ind2.copy()])def mate(population,probability):    new_population = []    for i in range(0,len(population),2):        ind1 = population[i].copy()        ind2 = population[i+1].copy()        if random.random() &lt; probability:            new_population.extend(SinglePointCrossover(ind1,ind2))        else:            new_population.extend([ind1,ind2])    return(new_population)</code></pre><ul><li>SinglePointCrossoverï¼šå•ç‚¹æ‚äº¤æ³•çš„å®ç°ï¼Œä¸¤ä¸ªä¸ªä½“äº¤æ¢éšæœºä½ç½®åŠå…¶åé¢çš„åŸºå› </li><li>mateï¼šå¯¹ç§ç¾¤è¿›è¡Œæ‚äº¤ï¼ŒæŒ‰ä¸€å®šæ¦‚ç‡æ¯ä¸¤ä¸ªç›¸é‚»çš„ä¸ªä½“è¿›è¡Œæ‚äº¤probabilityå‚æ•°ï¼šæ¯æ¬¡ç”Ÿæˆä¸€ä¸ª0è‡³1ä¹‹é—´çš„éšæœºæ•°ï¼Œè‹¥éšæœºæ•°å°äºè¯¥æ¦‚ç‡ï¼Œåˆ™è¿›è¡Œæ‚äº¤ï¼Œå¦åˆ™å¯¹åº”çš„ä¸¤ä¸ªä¸ªä½“è¢«å…‹éš†ã€‚</li></ul><h4 class=pgc-h-arrow-right>3.2.3.çªå˜</h4><pre><code># 2.3. define mutate functiondef flipOneGene(ind):    loc = random.randint(0,len(ind)-1)    ind[loc] = 1 - ind[loc] # 0-&gt;1 or 1-&gt;0    return(ind.copy())def mutate(population,probability):    new_population = []    for ind in population:        if random.random() &lt; probability:            new_population.append(flipOneGene(ind))        else:            new_population.append(ind.copy())    return(new_population)</code></pre><ul><li>flipOneGene:ä½ç¿»è½¬çªå˜ï¼Œä¸ªä½“ä¸Šçš„ä¸€ä¸ªéšæœºåŸºå› è¿›è¡Œçªå˜ã€‚</li><li>mutate: æ¯ä¸ªä¸ªä½“éƒ½ä»¥ä¸€å®šæ¦‚ç‡çªå˜ï¼Œè‹¥ä¸çªå˜ï¼Œåˆ™è¯¥ä¸ªä½“è¢«å…‹éš†ã€‚</li></ul><h4 class=pgc-h-arrow-right>3.2.4.é€‚åº”åº¦å‡½æ•°</h4><pre><code># 2.4. define evaluate functiondef evaluate(individual):    return(sum(individual))</code></pre><p>OneMaxçš„é€‚åº”åº¦å‡½æ•°å°±æ˜¯åˆ—è¡¨ä¸­æ‰€æœ‰æ•°å­—ä¹‹å’Œã€‚</p><h4 class=pgc-h-arrow-right>3.2.5.ç»Ÿè®¡ç§ç¾¤æ•°æ®</h4><pre><code># 2.5. define statistical metrics to monitor algorithm performancedef population_score_max(population):    return(max([evaluate(ind) for ind in population]))def population_score_mean(population):    return(sum([evaluate(ind) for ind in population])/len(population))</code></pre><p>ä¸ºäº†è¿½è¸ªç®—æ³•çš„è¿›åº¦å’Œå‘ç°ç®—æ³•ä¸­å¯èƒ½å‡ºç°çš„é”™è¯¯ï¼Œæˆ‘ä»¬å¯ä»¥ç»Ÿè®¡æ¯æ¬¡è¿­ä»£ä¸­ç§ç¾¤é€‚åº”åº¦çš„æœ€å¤§å€¼ä¸å‡å€¼ã€‚</p><h3 class=pgc-h-arrow-right>3.3.è¿è¡Œé—ä¼ ç®—æ³•</h3><pre><code># 3. Run genetic algorithmdef main(    POPULATION_SIZE = 100,    TOURNAMENT_SIZE = 3,    CROSSOVER_PROB = 0.9,    MUTATE_PROB = 0.1,    MAX_GENERATIONS = 100):    generation = 0    population = CreatePopulation(POPULATION_SIZE)    max_scores = [population_score_max(population)]    mean_scores = [population_score_mean(population)]    best_individual = []    while generation &lt; MAX_GENERATIONS:        population = select(population,TOURNAMENT_SIZE)        population = mate(population,CROSSOVER_PROB)        population = mutate(population,MUTATE_PROB)        # collect statistics        max_scores.append(population_score_max(population))        mean_scores.append(population_score_mean(population))        best_individual = max(            best_individual,            max(population,key=lambda ind: evaluate(ind))        ).copy()        generation += 1        print("Best Solution:")    print(best_individual)    plt.plot(max_scores, color='red',label="Max Score")    plt.plot(mean_scores, color='green',label="Mean Score")    plt.legend()    plt.xlabel("Generations")    plt.ylabel("Fitness Score")    plt.grid()    plt.show()   if __name__ == "__main__":    main()</code></pre><p>åœ¨è¿è¡Œç®—æ³•å‰ï¼Œæˆ‘ä»¬é¦–å…ˆå¾—å®šä¹‰ä¸€äº›å‚æ•°ï¼š</p><ul><li>ç§ç¾¤å¤§å°(Population Size):ä¸€èˆ¬è€Œè¨€ç§ç¾¤è¶Šå¤§ï¼Œè¶Šå®¹æ˜“åœ¨è¾ƒå°çš„ä»£æ•°å†…è·å¾—æœ€ä¼˜è§£ï¼Œä½†ä»£ä»·æ˜¯æ¯ä¸€ä»£çš„è¿ç®—é‡ä¼šå˜å¤§ã€‚</li><li>é”¦æ ‡èµ›å¤§å°ï¼ˆTournament Sizeï¼‰: é”¦æ ‡èµ›çš„å¤§å°ä¸€èˆ¬ä¸è¦å–çš„å¤ªå¤§ï¼Œå¦åˆ™ç§ç¾¤å®¹æ˜“å› è¿‡æ—©åœ°å¤±å»å¤šæ ·æ€§è€Œè¿‡æ—©æ”¶æ•›ã€‚ä¸¾ä¸€ä¸ªæç«¯ä¾‹å­ï¼Œå½“ç§ç¾¤å¤§å°ä¸º100ä¸”é”¦æ ‡èµ›å¤§å°ä¹Ÿä¸º100æ—¶ï¼Œç¬¬ä¸€æ¬¡é€‰æ‹©åæ‰€æœ‰çš„ä¸ªä½“éƒ½ä¼šå˜æˆåŒä¸€ä¸ªä¸ªä½“ï¼Œç®—æ³•ä¾¿å¾ˆéš¾å†æœ‰æ”¹å–„çš„ç©ºé—´ã€‚</li><li>æ‚äº¤æ¦‚ç‡ï¼ˆCrossover Probabilityï¼‰ï¼šæ‚äº¤çš„æ¦‚ç‡åº”å–ä¸€ä¸ªè¾ƒå¤§çš„å€¼ï¼Œæ¯”å¦‚0.7,0.8,0.9ç­‰ï¼Œå…·ä½“æ•°å€¼åº”è§†å…·ä½“æƒ…å†µè€Œå®šã€‚</li><li>çªå˜æ¦‚ç‡ï¼ˆMutate Probabilityï¼‰ï¼šçªå˜æ¦‚ç‡åº”å–ä¸€ä¸ªè¾ƒå°çš„å€¼ï¼Œå¦‚0.05ï¼Œ0.1ï¼Œ0.2ç­‰ï¼Œè‹¥å–å€¼å¤ªå¤§ï¼Œåˆ™ç§ç¾¤çš„éšæœºæ€§å¤ªå¼ºï¼Œä¸åˆ©äºä¿å­˜é€‚åº”åº¦é«˜çš„ä¸ªä½“ï¼Œä»è€Œä½¿é—ä¼ ç®—æ³•å˜æˆå®Œå…¨éšæœºçš„æœç´¢ã€‚</li><li>æœ€å¤§ä»£æ•°(Max Generation):é—ä¼ ç®—æ³•ä¸å¯èƒ½æ— æ­¢å°½çš„è¿è¡Œä¸‹å»ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘ä»¬éƒ½ä¼šè®¾ç½®ç»ˆæ­¢æ¡ä»¶ï¼Œè¿™ä¸ªé—®é¢˜ä¸­ï¼Œæˆ‘ä»¬ä»¥æœ€å¤§ä»£æ•°ä¸ºç»ˆæ­¢æ¡ä»¶ï¼Œå½“è¿­ä»£è¿›è¡Œåˆ°ä¸€å®šæ¬¡æ•°æ—¶ç®—æ³•ç»ˆæ­¢ã€‚</li></ul><p>åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€ä»£é‡Œæˆ‘ä»¬éƒ½è¿›è¡Œé€‰æ‹©(select),æ‚äº¤(mate)ï¼Œçªå˜(mate)è¿ç®—ï¼Œå¹¶æ”¶é›†ç§ç¾¤çš„æœ€å¤§å’Œå¹³å‡é€‚åº”åº¦æ•°æ®ï¼Œç”¨ä»¥è¿½è¸ªç®—æ³•çš„è¿›åº¦ï¼Œæˆ–å‘ç°ç®—æ³•ä¸­å­˜åœ¨çš„é—®é¢˜ã€‚è§†é—®é¢˜è€Œå®šï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è®°å½•ä¸‹æ¯ä»£ä¸­é€‚åº”åº¦æœ€é«˜çš„ä¸ªä½“(best individual)ï¼Œä»¥é˜²æ­¢å…¶å› æ‚äº¤å’Œçªå˜è€Œæ¶ˆå¤±ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬è§‚å¯Ÿæœ€ä¼˜è§£ä¸ç§ç¾¤çš„æ•°æ®ã€‚</p><h3 class=pgc-h-arrow-right>4.ç®—æ³•ç»“æœ</h3><p>æˆ‘ä»¬æˆåŠŸè·å¾—äº†OneMaxçš„æœ€ä¼˜è§£(æ‰€æœ‰ä½ç½®ä¸Šéƒ½æ˜¯1)ï¼š[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]</p><p>ç§ç¾¤çš„è¿›åŒ–è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ç§ç¾¤çš„è¿›åŒ–é€Ÿåº¦ç”±å¿«åˆ°æ…¢ï¼Œä¸”åœ¨61ä»£å·¦å³åœæ­¢è¿›åŒ–ï¼Œä¸”åœ¨ç¬¬58ä»£æ—¶å·²ç»äº§ç”Ÿäº†æœ€ä¼˜è§£ã€‚</p><p><br></p><div class=pgc-img><img alt="é—ä¼ ç®—æ³•(Python) #3 ä»é›¶å¼€å§‹è§£å†³OneMaxé—®é¢˜" onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/5d69e28f41a44f81b8dd0bbe9f2f2b6f><p class=pgc-img-caption></p></div><p><br></p><h3 class=pgc-h-arrow-right>5. å®Œæ•´ä»£ç </h3><pre><code>import randomimport matplotlib.pyplot as pltrandom.seed(39)# 1. define individual and populationdef CreateIndividual():    return([random.randint(0,1) for _ in range(100)])def CreatePopulation(size):    return([CreateIndividual() for _ in range(size)])# 2. define select, mate, mutate, evaluate function ----# 2.1. define select functiondef tournament(population,size):    participants = random.sample(population,size)    # evaluate function is defined in 3.4    winner = max(participants,key=lambda ind:evaluate(ind))    return(winner.copy())def select(population,size):    return([tournament(population,size) for _ in range(len(population))])# 2.2. define mate functiondef SinglePointCrossover(ind1,ind2):    loc = random.randint(0,len(ind1)-1)    genes1 = ind1[loc:]    genes2 = ind2[loc:]    ind1[loc:] = genes2    ind2[loc:] = genes1    return([ind1.copy(),ind2.copy()])def mate(population,probability):    new_population = []    for i in range(0,len(population),2):        ind1 = population[i].copy()        ind2 = population[i+1].copy()        if random.random() &lt; probability:            new_population.extend(SinglePointCrossover(ind1,ind2))        else:            new_population.extend([ind1,ind2])    return(new_population)# 2.3. define mutate functiondef flipOneGene(ind):    loc = random.randint(0,len(ind)-1)    ind[loc] = 1 - ind[loc] # 0-&gt;1 or 1-&gt;0    return(ind.copy())def mutate(population,probability):    new_population = []    for ind in population:        if random.random() &lt; probability:            new_population.append(flipOneGene(ind))        else:            new_population.append(ind.copy())    return(new_population)# 2.4. define evaluate functiondef evaluate(individual):    return(sum(individual))# 2.5. define statistical metrics to monitor algorithm performancedef population_score_max(population):    return(max([evaluate(ind) for ind in population]))def population_score_mean(population):    return(sum([evaluate(ind) for ind in population])/len(population))# 3. Run genetic algorithmdef main(    POPULATION_SIZE = 100,    TOURNAMENT_SIZE = 3,    CROSSOVER_PROB = 0.9,    MUTATE_PROB = 0.1,    MAX_GENERATIONS = 100):    generation = 0    population = CreatePopulation(POPULATION_SIZE)    max_scores = [population_score_max(population)]    mean_scores = [population_score_mean(population)]    best_individual = []    while generation &lt; MAX_GENERATIONS:        population = select(population,TOURNAMENT_SIZE)        population = mate(population,CROSSOVER_PROB)        population = mutate(population,MUTATE_PROB)        # collect statistics        max_scores.append(population_score_max(population))        mean_scores.append(population_score_mean(population))        best_individual = max(            best_individual,            max(population,key=lambda ind: evaluate(ind))        ).copy()        generation += 1        print("Best Solution:")    print(best_individual)    plt.plot(max_scores, color='red',label="Max Score")    plt.plot(mean_scores, color='green',label="Mean Score")    plt.legend()    plt.xlabel("Generations")    plt.ylabel("Fitness Score")    plt.grid()    plt.show()   if __name__ == "__main__":    main()</code></pre><h2 class=pgc-h-arrow-right>4.å°ç»“</h2><p>ä¸ºäº†æ·±å…¥çš„è§£é‡Šé—ä¼ ç®—æ³•ï¼Œæœ¬æ–‡ä¸­æ²¡æœ‰ä½¿ç”¨ä»»ä½•çš„é—ä¼ ç®—æ³•åŒ…æ¥è§£å†³OneMaxé—®é¢˜ã€‚è€Œä¸‹ä¸€æœŸï¼Œæˆ‘ä»¬ä¼šä»‹ç»DEAP(Distributed Evolutionary Algorithm in Python)åŒ…,å¹¶åœ¨ä¹‹åçš„æ–‡ç« é‡Œç”¨DEAPæ¡†æ¶æ¥è§£å†³é—ä¼ ç®—æ³•é—®é¢˜ã€‚</p><p>æœ¬äººè¿‘æœŸåˆšå¼€å§‹å†™æ–‡ç« ï¼Œæ¬¢è¿äº¤æµå­¦ä¹ ï¼</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'é—ä¼ ','Python','é›¶å¼€å§‹'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>