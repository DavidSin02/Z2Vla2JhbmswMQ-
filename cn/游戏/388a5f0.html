<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Python编写遗传算法实战，整数编码，启发式搜索解决旅行商问题 | 极客快訊</title><meta property="og:title" content="Python编写遗传算法实战，整数编码，启发式搜索解决旅行商问题 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="http://p3.pstatp.com/large/dfic-imagehandler/f1d21356-1ef5-4ec5-a4a5-c5699b12bee1"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/388a5f0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/388a5f0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/388a5f0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/388a5f0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/388a5f0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/388a5f0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/388a5f0.html><link rel=canonical href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/388a5f0.html><meta property="article:published_time" content="2020-10-29T20:46:34+08:00"><meta property="article:modified_time" content="2020-10-29T20:46:34+08:00"><meta name=Keywords content><meta name=description content="Python编写遗传算法实战，整数编码，启发式搜索解决旅行商问题"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E6%B8%B8%E6%88%8F/388a5f0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Python编写遗传算法实战，整数编码，启发式搜索解决旅行商问题</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E6%B8%B8%E6%88%8F.html>游戏</a></span></div><div class=post-content><p>上一篇写了遗传算法的原理，这一篇写遗传算法解决旅行商问题的实战，而且使用python编写。近几年python越来越受欢迎，其中主要是简单易学和上手快，并且编代码的效率高，甚至有人喊出“人生苦短，我要用python”的口号，所以小编也来凑凑热闹。</p><h1>旅行商问题</h1><p>旅行商是一个组合优化问题，是一个经典的NP-hard问题，也就是不能在一个可接受的时间范围内得到最优解的问题。旅行商的问题来自一位商人，这位商人需要从一座城市出发，游历每一个城市最后回到出发的城市，商人希望整个游历路径最短。假如现在有A、B、C、D、F、E、G，七个城市并且两两城市之间的距离已知。如果从A出发，那么A->D->B->C->G->E->F->A就是一条游历的路径，并且可以得知其中的总距离，那么怎么样的路径组合才是最短的路径？每个路径的排列都计算一次路径，找到最短的路径，这样的时间复杂度为O(n!)，当n很大时，出现“知数爆炸”问题。</p><div class=pgc-img><img alt=Python编写遗传算法实战，整数编码，启发式搜索解决旅行商问题 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/dfic-imagehandler/f1d21356-1ef5-4ec5-a4a5-c5699b12bee1><p class=pgc-img-caption>骆驼商人</p></div><h1>实战结果</h1><p>图中一共16座城，城市的座标为：</p><p>x = [0, 1, 3.7, 3, 4, 2.3, 4, 5.5, 4, 3, 2, 1, 0, 10, 0, 9.6]</p><p>y = [0, 8.0, 0, 4, 0, 1, 3.6, 3, 7.3, 4, 9.6, 4, 8.6, 6.1, 2, 1]</p><p>在343次迭代的时候取得较优解，优解的距离为41.4，将优解换算为城市的座标点，得到完整的路线图。</p><div class=pgc-img><img alt=Python编写遗传算法实战，整数编码，启发式搜索解决旅行商问题 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/846acbdc41b247568f24d4698bc9a472><p class=pgc-img-caption>优解路线图1</p></div><p>另一条路线。</p><div class=pgc-img><img alt=Python编写遗传算法实战，整数编码，启发式搜索解决旅行商问题 onerror=errorimg.call(this); src=http://p9.pstatp.com/large/pgc-image/4c96925675934f77880c4c72cc14544a><p class=pgc-img-caption>优解路线图2</p></div><p>随着迭代次数增加，即不断的遗传进化，启发式的向最优解靠近，渐渐的距离减小，过程虽然曲折。由于初始的路线是随机生成的，每一次的计算结果都不一样，找到的最好的解也不一样，有时陷入局部最优解，有时甚至可以得到全局最优解。</p><div class=pgc-img><img alt=Python编写遗传算法实战，整数编码，启发式搜索解决旅行商问题 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/15c96fed362448dbb5ee097ad58a4b67><p class=pgc-img-caption>随着迭代次数增加，距离减小</p></div><h1>算法过程</h1><p>遗传算法是不断迭代的过程，其中只有达到了迭代的次数或者解的精度才可以跳出迭代，迭代的过程中总是不断的进行选择、交叉和变异。</p><p>计算适应度函数就是不断维护fitness矩阵，其中第一列为适应度，第二列为选择概率，第三列为累计概率。计算适应度函数主要是为下面的选择函数准备好数据。</p><div class=pgc-img><img alt=Python编写遗传算法实战，整数编码，启发式搜索解决旅行商问题 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/6c18b166f1b34383adecf4b182910839><p class=pgc-img-caption>计算适应度函数</p></div><p>选择函数是通过轮盘赌的方式将遗传的下一代选择，并且选择的时候适应度强的个体被选中的概率按比例增大，数据主要来自fitness矩阵。</p><div class=pgc-img><img alt=Python编写遗传算法实战，整数编码，启发式搜索解决旅行商问题 onerror=errorimg.call(this); src=http://p9.pstatp.com/large/pgc-image/2e7fe5482be5480299a8818ae38d9af0><p class=pgc-img-caption>选择函数</p></div><p>交叉函数将两个个体的染色体相同位置的相同长度的基因互换，交叉之后会产生重复的表现型，代码中的处理方法是，将两段交叉的基因中重复的数字去掉，剩下的数字于未交叉的数字映射去重。</p><div class=pgc-img><img alt=Python编写遗传算法实战，整数编码，启发式搜索解决旅行商问题 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/3c2c14ad55c14dc2911f761531585c25><p class=pgc-img-caption>交叉函数</p></div><p>相对来说变异的处理十分简单，随机选择一个个体，互换两个位置上的数字就可以了。</p><div class=pgc-img><img alt=Python编写遗传算法实战，整数编码，启发式搜索解决旅行商问题 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/41e9856cb2804c6cb2c086a677d98d31><p class=pgc-img-caption>变异函数</p></div><p>已经上传到Github,但是这里不能放链接。</p><p>本文的版权归算法卡农所有，抄袭等侵权行为必究！</p><p>喜欢我的话，加个关注吧，有更加精彩的内容等着大家。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Python','编写','遗传'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>