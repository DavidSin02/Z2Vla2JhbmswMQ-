<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>é—ä¼ ç®—æ³•å’Œè¶…å‚æ•° | æå®¢å¿«è¨Š</title><meta property="og:title" content="é—ä¼ ç®—æ³•å’Œè¶…å‚æ•° - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="http://p3.pstatp.com/large/pgc-image/1535181061510088ebc8f85"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/abc1008.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/abc1008.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/abc1008.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/abc1008.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/abc1008.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/abc1008.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/abc1008.html><link rel=canonical href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/abc1008.html><meta property="article:published_time" content="2020-10-29T20:46:33+08:00"><meta property="article:modified_time" content="2020-10-29T20:46:33+08:00"><meta name=Keywords content><meta name=description content="é—ä¼ ç®—æ³•å’Œè¶…å‚æ•°"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E6%B8%B8%E6%88%8F/abc1008.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>é—ä¼ ç®—æ³•å’Œè¶…å‚æ•°</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E6%B8%B8%E6%88%8F.html>æ¸¸æˆ</a></span></div><div class=post-content><div><div class=pgc-img><img alt=é—ä¼ ç®—æ³•å’Œè¶…å‚æ•° onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/1535181061510088ebc8f85><p class=pgc-img-caption></p></div><h1>é—ä¼ ç®—æ³•æ˜¯ä»€ä¹ˆ?</h1><p>é—ä¼ ç®—æ³•æ˜¯ä¼˜åŒ–é—®é¢˜çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ éœ€è¦æ‰¾åˆ°æœ€ä½³çš„å‚æ•°é›†æ¥æœ€å°åŒ–æŸå¤±å‡½æ•°ã€‚é—ä¼ ç®—æ³•æ˜¯è¿›åŒ–ç®—æ³•çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸ªæƒ³æ³•å—åˆ°è‡ªç„¶å’Œè‡ªç„¶é€‰æ‹©çš„å¯å‘ã€‚</p><p>åœ¨è‡ªç„¶ç•Œä¸­ï¼Œè¿›åŒ–è‡³å°‘éœ€è¦ä¸‰ä¸ªæ¡ä»¶:</p><ul><li>é—ä¼ â€”â€”ç”Ÿç‰©ä½“å¿…é¡»èƒ½å¤Ÿå°†æŸäº›ç‰¹å®šçš„ç‰¹å¾é—ä¼ ç»™åä»£;</li><li>å˜å¼‚â€”â€”ç§ç¾¤å†…çš„ç”Ÿç‰©å¿…é¡»å…·æœ‰ä¸åŒçš„ç‰¹å¾;</li><li>ç«äº‰â€”â€”äº§ç”Ÿçš„åä»£æ•°é‡è¶…è¿‡äº†ç”Ÿå­˜èƒ½åŠ›ã€‚</li></ul><p>ç°åœ¨æƒ³è±¡ä¸€ä¸‹ï¼Œä½ åœ¨ä¸€ä¸ªç‰¹å®šçš„ç¼–ç¨‹ç¯å¢ƒä¸­ç¼–ç äº†ä¸€äº›å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç”Ÿç‰©ä½“ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªæœºå™¨å­¦ä¹ ï¼ˆMLï¼‰æ¨¡å‹çš„ç§ç¾¤ï¼Œå®ƒä¼šå¦‚ä½•å·¥ä½œ?</p><ol><li>é¦–å…ˆç”ŸæˆMLæ¨¡å‹çš„åˆå§‹ç§ç¾¤ï¼Œéšæœºé€‰æ‹©è¶…å‚æ•°ã€‚</li><li>è®¡ç®—æ¯ä¸ªæ¨¡å‹çš„æŸå¤±å‡½æ•°ï¼Œä¾‹å¦‚ï¼Œå¯¹æ•°æŸå¤±ã€‚</li><li>ç„¶åé€‰æ‹©ä¸€äº›è¯¯å·®æœ€å°çš„æ¨¡å‹ã€‚</li><li>ç°åœ¨æ‚¨éœ€è¦åˆ›å»ºåä»£ï¼Œå› æ­¤æ‚¨éœ€è¦åŸºäºä¸Šä¸€ä»£æœ€å¥½çš„æ¨¡å‹åˆ›å»ºä¸€ç»„æ–°çš„æœºå™¨å­¦ä¹ ï¼ˆMLï¼‰æ¨¡å‹ï¼Œå¹¶ç¨å¾®æ›´æ”¹å®ƒä»¬çš„è¶…å‚æ•°ã€‚æ‚¨çš„æ–°ç§ç¾¤å°†ä»ä»¥å‰çš„ç§ç¾¤ä¸­çš„æ¨¡å‹å’Œæ–°ç”Ÿæˆçš„æ¨¡å‹ä¸­ä»¥ä¸€å®šæ¯”ä¾‹åŒ…å«ï¼Œä¾‹å¦‚ï¼Œ50/50ã€‚</li><li>è®¡ç®—æŸå¤±å‡½æ•°ï¼Œå¯¹æ¨¡å‹è¿›è¡Œæ’åºï¼Œç„¶åå†é‡å¤æ•´ä¸ªè¿‡ç¨‹ã€‚</li></ol><p>é—ä¼ ç®—æ³•å¹¶ä¸å®Œç¾ï¼Œæ‚¨ä»ç„¶éœ€è¦æŒ‡å®šæ‚¨çš„æŸå¤±å‡½æ•°ã€æ‚¨çš„ç§ç¾¤å¤§å°ã€å…·æœ‰å˜åŒ–å‚æ•°çš„åä»£æ¯”ä¾‹ç­‰ç­‰ã€‚</p><h1>TPOT</h1><p>å¯èƒ½æ˜¯å¯¹é—ä¼ è¶…å‚æ•°è°ƒä¼˜æœ€å‹å¥½çš„åº“ã€‚</p><p>GitHub:https://github.com/EpistasisLab/tpot</p><p>ä»¥ä¸‹æ˜¯æˆ‘ä»TPOTä¸­æå–æœ€ä½³è¶…å‚æ•°çš„æ–¹æ³•ï¼ŒPythonä»£ç å¦‚ä¸‹ï¼š</p><blockquote><p>#Search for best hyperparameters for XGBoost</p><p>from xgboost import XGBClassifier</p><p>from tpot import TPOTClassifier, TPOTRegressor</p><p>from deap.gp import Primitive</p><p>#Define your hyperparameters</p><p>params = {'max_depth': np.arange(1,200,1),</p><p>'learning_rate': np.arange(0.0001,0.1,0.0001),</p><p>'n_estimators': np.arange(1,200,1),</p><p>'nthread':[6],</p><p>'gamma':np.arange(0.00001,0.1,0.00001),</p><p>'subsample':np.arange(0.1,2,0.1),</p><p>'reg_lambda': np.arange(0.1,200,1),</p><p>'reg_alpha': np.arange(1,200,1),</p><p>'min_child_weight': np.arange(1,200,1),</p><p>'gamma': np.arange(0.1,2,0.1),</p><p>'colsample_bytree': np.arange(0.1,2,0.1),</p><p>'colsample_bylevel': np.arange(0.1,2,0.1)</p><p>}</p><p>#Run TPOT</p><p>tpot_classifier = TPOTClassifier(generations=20, population_size=500, offspring_size=250,</p><p>verbosity=2, early_stop=8,</p><p>config_dict={'xgboost.XGBClassifier': params}, cv = 10, scoring = 'accuracy')</p><p>tpot_classifier.fit(X, Y)</p><p>#Extract best parameters</p><p>args = {}</p><p>for arg in tpot_classifier._optimized_pipeline:</p><p>if type(arg) != Primitive:</p><p>try:</p><p>if arg.value.split('__')[1].split('=')[0] in ['max_depth', 'n_estimators', 'nthread','min_child_weigh']:</p><p>args[arg.value.split('__')[1].split('=')[0]] = int(arg.value.split('__')[1].split('=')[1])</p><p>else:</p><p>args[arg.value.split('__')[1].split('=')[0]] = float(arg.value.split('__')[1].split('=')[1])</p><p>except:</p><p>pass</p><p>params = args</p><p>#Now you can use XGBoost with best hyperparameters</p><p>xgbxgb == XGBClassifierXGBClas (**params)</p></blockquote><h1>å¦‚ä½•è°ƒæ•´ç¥ç»ç½‘ç»œï¼Ÿ</h1><p>åœ¨ç¥ç»ç½‘ç»œçš„æƒ…å†µä¸‹ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨é—ä¼ ç®—æ³•ï¼Œå®ƒä»¬çš„å·¥ä½œé€Ÿåº¦æ¯”åŸºäºç½‘æ ¼æœç´¢çš„æ–¹æ³•å¿«å¾—å¤šã€‚</p><p>æˆ‘æ‰¾åˆ°äº†è¿™ä¸ªGitHubå­˜å‚¨åº“ - ä½¿ç”¨é—ä¼ ç®—æ³•æ¼”åŒ–ç¥ç»ç½‘ç»œï¼ˆhttps://github.com/harvitronix/neural-network-genetic-algorithmï¼‰ï¼Œå¹¶ä¸”éå¸¸å–œæ¬¢è¿™ç§æ–¹æ³•ã€‚</p><p>ç”¨æ³•ç¤ºä¾‹ï¼š</p><blockquote><p>from evolution import NeuroEvolution</p><p>params = {</p><p>"epochs": [10, 20, 35],</p><p>"batch_size": [10, 20, 40],</p><p>"n_layers": [1, 2, 3, 4],</p><p>"n_neurons": [20, 40, 60],</p><p>"dropout": [0.1, 0.2, 0.5],</p><p>"optimizers": ["nadam", "adam"],</p><p>"activations": ["relu", "sigmoid"],</p><p>"last_layer_activations": ["sigmoid"],</p><p>"losses": ["binary_crossentropy"],</p><p>"metrics": ["accuracy"]</p><p>}</p></blockquote><p>....</p><blockquote><p># x_train, y_train, x_test, y_test - prepared data</p><p>search = NeuroEvolution(generations = 10, population = 10, params=params)</p><p>search.evolve(x_train, y_train, x_test, y_test)</p><p>100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [05:37&lt;00:00, 29.58s/it]</p><p>100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [03:55&lt;00:00, 25.55s/it]</p><p>100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [02:05&lt;00:00, 15.05s/it]</p><p>100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [01:37&lt;00:00, 14.03s/it]</p><p>100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [02:49&lt;00:00, 22.53s/it]</p><p>100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [02:37&lt;00:00, 23.14s/it]</p><p>100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [02:36&lt;00:00, 21.37s/it]</p><p>100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [01:57&lt;00:00, 18.56s/it]</p><p>100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [02:42&lt;00:00, 25.29s/it]</p><p>"best accuracy: 0.79, best params: {'epochs': 35, 'batch_size': 40, 'n_layers': 2, 'n_neurons': 20, 'dropout': 0.1, 'optimizers': 'nadam', 'activations': 'relu', 'last_layer_activations': 'sigmoid', 'losses': 'binary_crossentropy', 'metrics': 'accuracy'}"</p><p># or you can call it with</p><p>search.best_params</p></blockquote><p>å®ƒè¿˜å¯ä»¥æœç´¢æœ€ä½³æ•°é‡çš„å›¾å±‚å’Œç¥ç»å…ƒï¼Œä»¥åŠæ‚¨å®šä¹‰çš„è¶…å‚æ•°çš„ä½ç½®ã€‚</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'é—ä¼ ','å‚æ•°','ç®—æ³•'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>