<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>åŸºäºé—ä¼ ç®—æ³•ï¼ˆGAï¼‰è¿›åŒ–çš„å°æ¸¸æˆ | æå®¢å¿«è¨Š</title><meta property="og:title" content="åŸºäºé—ä¼ ç®—æ³•ï¼ˆGAï¼‰è¿›åŒ–çš„å°æ¸¸æˆ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="http://p3.pstatp.com/large/50aa0002ca11ee575709"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/d458300.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/d458300.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/d458300.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/d458300.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/d458300.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/d458300.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/d458300.html><link rel=canonical href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/d458300.html><meta property="article:published_time" content="2020-10-29T20:46:33+08:00"><meta property="article:modified_time" content="2020-10-29T20:46:33+08:00"><meta name=Keywords content><meta name=description content="åŸºäºé—ä¼ ç®—æ³•ï¼ˆGAï¼‰è¿›åŒ–çš„å°æ¸¸æˆ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E6%B8%B8%E6%88%8F/d458300.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>åŸºäºé—ä¼ ç®—æ³•ï¼ˆGAï¼‰è¿›åŒ–çš„å°æ¸¸æˆ</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E6%B8%B8%E6%88%8F.html>æ¸¸æˆ</a></span></div><div class=post-content><div><blockquote><p>æ‘˜è¦ï¼š æœ¬æ–‡æ˜¯ä¸€ç¯‡ä½¿ç”¨Pythonè¯­è¨€æ¨¡æ‹Ÿç”Ÿç‰©ä½“å’Œé£Ÿç‰©ä¹‹é—´çš„å…³ç³»å’ŒåŸºäºé—ä¼ ç®—æ³•è¿›åŒ–ç”Ÿç‰©ä½“çš„å®ä¾‹æ•™ç¨‹ã€‚</p></blockquote><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿäº†ä¸€ä¸ªåŒ…å«ç”Ÿç‰©ä½“å’Œé£Ÿç‰©çš„ç¯å¢ƒï¼Œç”Ÿç‰©ä½“ä¸ºäº†ç”Ÿå­˜å¿…é¡»å°½å¯èƒ½å¤šçš„æ¶ˆè€—é£Ÿç‰©ã€‚åœ¨æ¨¡æ‹Ÿç¯å¢ƒä¸­ï¼Œç”Ÿç‰©ä½“å°†ç”±ä¸€ä¸ªç®€å•çš„ã€å®Œå…¨è¿æ¥çš„ç¥ç»ç½‘ç»œæ¥æ§åˆ¶ã€‚ç¥ç»ç½‘ç»œçš„è¾“å…¥æ˜¯ä¸€ç§æ ‡å‡†åŒ–å€¼ï¼Œä»-1åˆ°+1ä¹‹é—´ï¼Œè¿™è¡¨ç¤ºæœ€è¿‘çš„é£Ÿç‰©é¢—ç²’çš„æ–¹å‘ã€‚è¿™ä¸ªæ–¹å‘æ˜¯é€šè¿‡æœ€è¿‘çš„é£Ÿç‰©é¢—ç²’(+/-180åº¦)æ–¹å‘è®¡ç®—å‡ºæ¥çš„ã€‚ä¸‹é¢æ˜¯ä¸¤ä¸ªç”Ÿç‰©ä½“å’Œé£Ÿç‰©é¢—ç²’çš„ç¤ºä¾‹ï¼š</p><p><img alt=åŸºäºé—ä¼ ç®—æ³•ï¼ˆGAï¼‰è¿›åŒ–çš„å°æ¸¸æˆ onerror=errorimg.call(this); src=http://p3.pstatp.com/large/50aa0002ca11ee575709></p><p>å› ä¸ºæˆ‘ä»¬çš„è¾“å…¥èŒƒå›´ä»-1åˆ°+1ï¼Œæ‰€ä»¥è¾“å‡ºèŒƒå›´åº”å½“ä¹Ÿä»-1åˆ°+1ï¼Œå› æ­¤tanhå‡½æ•°å°†ä¼šæˆä¸ºç†æƒ³çš„æ¿€æ´»å‡½æ•°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¥ç»ç½‘ç»œçš„å›¾å’Œå®ƒçš„è¾“å…¥ã€è¾“å‡ºä»¥åŠå®ƒçš„éšè—å±‚ï¼š</p><p><img alt=åŸºäºé—ä¼ ç®—æ³•ï¼ˆGAï¼‰è¿›åŒ–çš„å°æ¸¸æˆ onerror=errorimg.call(this); src=http://p3.pstatp.com/large/50a90002d4ffbb5b1039></p><p>ç”±äºç¥ç»ç½‘ç»œä»…ä»…æ˜¯ç®€å•çš„çŸ©é˜µä¹˜æ³•ï¼Œå› æ­¤åˆ©ç”¨NumPyåªéœ€è¦å‡ è¡Œä»£ç å°±å¯ä»¥äº†ã€‚åœ¨è¿›åŒ–è¿‡ç¨‹ä¸­ï¼Œä¸€äº›æƒé‡ä¼šè¢«ä¼˜åŒ–ã€‚æœ€åï¼Œæˆ‘å°†é»˜è®¤çš„éšè—èŠ‚ç‚¹æ•°è®¾ç½®ä¸º5ï¼Œè¿™ä¸ªå¯ä»¥æ ¹æ®ä½ è‡ªå·±çš„å–œå¥½è®¾ç½®ã€‚æ¥ä¸‹æ¥æ˜¯ç¼–å†™Pythonä»£ç æ¨¡æ‹Ÿæ•´ä¸ªç”Ÿæ€ï¼š</p><p><strong>ä¸€ã€ç”Ÿç‰©</strong></p><p>ç”Ÿç‰©ç±»åŒ…å«äº†ç¥ç»ç½‘ç»œä»¥åŠæ›´æ–°å®ƒçš„é€Ÿåº¦å’Œä½ç½®çš„å‡½æ•°ã€‚å½“ä¸€ä¸ªç”Ÿç‰©ä½“è¢«åˆå§‹åŒ–æ—¶ï¼Œå®ƒçš„ä½ç½®ã€æ–¹å‘ã€é€Ÿåº¦ã€åŠ é€Ÿåº¦å’Œç¥ç»ç½‘ç»œçš„æƒé‡éƒ½ä¼šéšæœºäº§ç”Ÿã€‚ä¸‹é¢æ˜¯è¿™ä¸ªç”Ÿç‰©ç±»çš„ä»£ç ï¼š</p><pre>class organism(): def __init__(self, settings, wih=None, who=None, name=None): self.x = uniform(settings['x_min'], settings['x_max']) # position (x) self.y = uniform(settings['y_min'], settings['y_max']) # position (y) self.r = uniform(0,360) # orientation [0, 360] self.v = uniform(0,settings['v_max']) # velocity [0, v_max] self.dv = uniform(-settings['dv_max'], settings['dv_max']) # dv self.d_food = 100 # distance to nearest food self.r_food = 0 # orientation to nearest food self.fitness = 0 # fitness (food count) self.wih = wih self.who = who self.name = name # NEURAL NETWORK def think(self): # SIMPLE MLP af = lambda x: np.tanh(x) # activation function h1 = af(np.dot(self.wih, self.r_food)) # hidden layer out = af(np.dot(self.who, h1)) # output layer # UPDATE dv AND dr WITH MLP RESPONSE self.nn_dv = float(out[0]) # [-1, 1] (accelerate=1, deaccelerate=-1) self.nn_dr = float(out[1]) # [-1, 1] (left=1, right=-1) # UPDATE HEADING def update_r(self, settings): self.r += self.nn_dr * settings['dr_max'] * settings['dt'] self.r = self.r % 360 # UPDATE VELOCITY def update_vel(self, settings): self.v += self.nn_dv * settings['dv_max'] * settings['dt'] if self.v &lt; 0: self.v = 0 if self.v &gt; settings['v_max']: self.v = settings['v_max'] # UPDATE POSITION def update_pos(self, settings): dx = self.v * cos(radians(self.r)) * settings['dt'] dy = self.v * sin(radians(self.r)) * settings['dt'] self.x += dx self.y += dy</pre><p><strong>äºŒã€é£Ÿç‰©</strong></p><p>é£Ÿç‰©ç±»åŒ…å«åº§æ ‡ä½ç½®å’Œèƒ½é‡å€¼ï¼Œèƒ½é‡å€¼çš„å¤šå°‘å°†ç›´æ¥å½±å“ç”Ÿç‰©ä½“çš„å¥åº·ã€‚ç°åœ¨ï¼Œè¿™ä¸ªèƒ½é‡å€¼ä¿æŒä¸å˜ï¼Œå¹¶è®¾ä¸º1ï¼Œä½†å¦‚æœä½ æƒ³è¦ä¿®æ”¹å®ƒï¼Œå®ƒå¯ä»¥è¢«éšæœºåŒ–æˆ–æ”¹å˜ä¸ºä»»ä½•å€¼ã€‚æ­¤å¤–ï¼Œå½“é£Ÿç‰©è¢«ç”Ÿç‰©ä½“æ¶ˆè€—åï¼Œrespawnå‡½æ•°å°±ä¼šè¢«è°ƒç”¨ï¼Œç”¨äºé‡æ–°ç”Ÿæˆé£Ÿç‰©é¢—ç²’çš„ä½ç½®ã€‚è¿™ä½¿å¾—æ¯ä¸ªæ¨¡æ‹Ÿæ—¶é—´å†…çš„é£Ÿç‰©é¢—ç²’æ€»æ•°ä¿æŒä¸å˜ã€‚</p><pre>class food(): def __init__(self, settings): self.x = uniform(settings['x_min'], settings['x_max']) self.y = uniform(settings['y_min'], settings['y_max']) self.energy = 1 def respawn(self,settings): self.x = uniform(settings['x_min'], settings['x_max']) self.y = uniform(settings['y_min'], settings['y_max']) self.energy = 1</pre><p><strong>ä¸‰ã€è¿›åŒ–</strong></p><p>ç”Ÿç‰©ä½“å°†ä½¿ç”¨é—ä¼ ç®—æ³•(GA)è¿›è¡Œä¼˜åŒ–ï¼Œé—ä¼ ç®—æ³•(GA)æ˜¯å±äºè¿›åŒ–ç®—æ³•(EA)çš„æ›´å¤§èŒƒå›´ã€‚é—ä¼ ç®—æ³•æ¨¡ä»¿è‡ªç„¶çš„ç”Ÿç‰©è¿›åŒ–è¿‡ç¨‹ï¼Œä»æœ€åˆçš„ç§ç¾¤å¼€å§‹ï¼Œé€šè¿‡é€‰æ‹©ã€äº¤å‰å’Œå˜å¼‚äº§ç”Ÿåä»£ï¼Œå½¢æˆä¸€ä¸ªæœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆã€‚å¯¹äºæœ¬æ•™ç¨‹ï¼ŒEAè®¡åˆ’å¦‚ä¸‹:</p><p>1ã€é€‰æ‹©ï¼šç®€å•çš„é€‰æ‹©å½¢å¼è¢«ç§°ä¸ºç²¾è‹±ä¸»ä¹‰ï¼Œå³é€‰æ‹©æœ€ä¼˜ç§€çš„ä¸‹ä¸€ä»£ã€‚</p><p>2ã€è·¨ç•Œï¼šåœ¨ç²¾è‹±ä¸»ä¹‰é˜¶æ®µä¸­éšæœºé€‰æ‹©ä¸ªä½“ä½œä¸ºçˆ¶æ¯ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªæ–°çš„åä»£ã€‚å› æ­¤æˆ‘ä»¬è¦å¤„ç†ç¥ç»ç½‘ç»œçš„æƒé‡ï¼Œä¸‹é¢çš„æ–¹ç¨‹å°†ä¸¤ä¸ªçˆ¶æ¯ä¹‹é—´çš„æ€§çŠ¶é—ä¼ ç»™åä»£:</p><p>offspring=parent1(a)+parent2(1âˆ’a)</p><p>aæ˜¯åœ¨0å’Œ1ä¹‹é—´éšæœºç”Ÿæˆçš„å€¼ï¼Œè€Œçˆ¶1å’Œçˆ¶2è¡¨ç¤ºç¥ç»ç½‘ç»œçš„æƒé‡ã€‚å› ä¸ºæœ‰ä¸¤ä¸ªæ­£åœ¨æ··åˆçš„çŸ©é˜µ(wihå’Œwho)ï¼Œå› æ­¤æ–¹ç¨‹å®é™…ä¸Šæ˜¯è¿™æ ·çš„:</p><p>offspring_wih=parent_wih1(a)+parent_wih2(1âˆ’a)</p><p>offspring_who=parent_who1(a)+parent_who2(1âˆ’a)</p><p>3ã€çªå˜ï¼šä¸€æ—¦äº§ç”Ÿæ–°çš„åä»£å°±ä¼šäº§ç”Ÿä¸€ä¸ªä»‹äº0å’Œ1ä¹‹é—´çš„éšæœºæ•°ã€‚å¦‚æœè¿™ä¸ªå€¼ä½äºç”¨æˆ·åˆå§‹åŒ–çš„çªå˜é˜ˆå€¼ï¼Œå°±ä¼šå‘ç”Ÿçªå˜ã€‚åœ¨å‘ç”Ÿçªå˜çš„æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªç¥ç»ç½‘ç»œæƒé‡çŸ©é˜µä¸­çš„ä¸€ä¸ªéšæœºæƒé‡å°†è¢«ä¸€ä¸ªéšæœºå€¼æ‰€å–ä»£ï¼Œè¿™ä¸ªå€¼åœ¨åˆå§‹å€¼çš„+/-10%ä¹‹é—´ã€‚è¿™å°†ä¼šåœ¨ç”Ÿç‰©ä½“ä¸­äº§ç”Ÿå¾®å°çš„å˜åŒ–ï¼Œä»è€Œæœ‰å¯èƒ½äº§ç”Ÿæ›´å¥åº·çš„ç”Ÿç‰©ä½“ã€‚çªå˜æ•ˆæœä»…é™äºåŸå§‹å€¼çš„+/-10%ï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›é¿å…åœ¨ç¥ç»ç½‘ç»œä¸­é€ æˆç¾éš¾æ€§çš„æ•…éšœè€Œå¯¼è‡´æ•´ä¸ªç”Ÿç‰©ç¾¤ä½“ç˜«ç—ªã€‚</p><p>ä¸‹é¢çš„å›¾æ˜¾ç¤ºäº†è¿™ä¸ªEAæ–¹æ¡ˆï¼š</p><p><img alt=åŸºäºé—ä¼ ç®—æ³•ï¼ˆGAï¼‰è¿›åŒ–çš„å°æ¸¸æˆ onerror=errorimg.call(this); src=http://p1.pstatp.com/large/50a8000326fcb7ef6731></p><p>è¿™ä¸ªEAä»£ç ç¨‹åºå¦‚ä¸‹æ‰€ç¤º:</p><pre>ef evolve(settings, organisms_old, gen): elitism_num = int(floor(settings['elitism'] * settings['pop_size'])) new_orgs = settings['pop_size'] - elitism_num #--- GET STATS FROM CURRENT GENERATION ----------------+ stats = defaultdict(int) for org in organisms_old: if org.fitness &gt; stats['BEST'] or stats['BEST'] == 0: stats['BEST'] = org.fitness if org.fitness &lt; stats['WORST'] or stats['WORST'] == 0: stats['WORST'] = org.fitness stats['SUM'] += org.fitness stats['COUNT'] += 1 stats['AVG'] = stats['SUM'] / stats['COUNT'] #--- ELITISM (KEEP BEST PERFORMING ORGANISMS) ---------+ orgs_sorted = sorted(organisms_old, key=operator.attrgetter('fitness'), reverse=True) organisms_new = [] for i in range(0, elitism_num): organisms_new.append(organism(settings, wih=orgs_sorted[i].wih, who=orgs_sorted[i].who, name=orgs_sorted[i].name)) #--- GENERATE NEW ORGANISMS ---------------------------+ for w in range(0, new_orgs): # SELECTION (TRUNCATION SELECTION) canidates = range(0, elitism_num) random_index = sample(canidates, 2) org_1 = orgs_sorted[random_index[0]] org_2 = orgs_sorted[random_index[1]] # CROSSOVER crossover_weight = random() wih_new = (crossover_weight * org_1.wih) + ((1 - crossover_weight) * org_2.wih) who_new = (crossover_weight * org_1.who) + ((1 - crossover_weight) * org_2.who) # MUTATION mutate = random() if mutate &lt;= settings['mutate']: # PICK WHICH WEIGHT MATRIX TO MUTATE mat_pick = randint(0,1)  # MUTATE: WIH WEIGHTS if mat_pick == 0: index_row = randint(0,settings['hnodes']-1) wih_new[index_row] = wih_new[index_row] * uniform(0.9, 1.1) if wih_new[index_row] &gt; 1: wih_new[index_row] = 1 if wih_new[index_row] &lt; -1: wih_new[index_row] = -1 # MUTATE: WHO WEIGHTS if mat_pick == 1: index_row = randint(0,settings['onodes']-1) index_col = randint(0,settings['hnodes']-1) who_new[index_row][index_col] = who_new[index_row][index_col] * uniform(0.9, 1.1) if who_new[index_row][index_col] &gt; 1: who_new[index_row][index_col] = 1 if who_new[index_row][index_col] &lt; -1: who_new[index_row][index_col] = -1 organisms_new.append(organism(settings, wih=wih_new, who=who_new, name='gen['+str(gen)+']-org['+str(w)+']')) return organisms_new, stats</pre><p><strong>å››ã€æ¨¡æ‹Ÿ</strong></p><p>æœ€åæ˜¯æ¨¡æ‹Ÿå®é™…è¿è¡Œçš„å…³é”®ä»£ç ï¼Œæ¨¡æ‹Ÿå‡½æ•°å°†åœ¨æ¯ä¸€ä»£è°ƒç”¨ä¸€æ¬¡ã€‚æ¨¡æ‹Ÿæ—¶é—´æ­¥éª¤åˆ™æ˜¯é€šè¿‡å°†æ€»æ¨¡æ‹Ÿæ—¶é—´é™¤ä»¥æ—¶é—´é—´éš”dtæ¥ç¡®å®šçš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ¨¡æ‹Ÿæ—¶é—´è®¾ç½®ä¸º100ç§’ï¼Œè€Œdtç­‰äº1/25ç§’ï¼Œé‚£ä¹ˆæ€»å…±éœ€è¦æ¨¡æ‹Ÿ2500ä¸ªæ—¶é—´æ­¥éª¤ã€‚åœ¨æ¯ä¸€ä¸ªæ­¥éª¤ä¸­ï¼Œå°†è¿›è¡Œä»¥ä¸‹æ“ä½œ:</p><p>1ã€ç¢°æ’æ£€æµ‹ï¼šæ£€æŸ¥ç”Ÿç‰©å’Œé£Ÿç‰©é¢—ç²’ä¹‹é—´çš„ç¢°æ’ã€‚å½“æ£€æµ‹åˆ°ç¢°æ’æ—¶ï¼Œè¯¥ç”Ÿç‰©ä½“å°†å¾—åˆ°æ›´æ–°ï¼Œé£Ÿç‰©é¢—ç²’å°†åœ¨ä¸€ä¸ªæ–°çš„éšæœºä½ç½®ä¸Šé‡ç”Ÿã€‚</p><p>2ã€å¯»æ‰¾æœ€è¿‘çš„é£Ÿç‰©é¢—ç²’ï¼šå¯¹äºæ¯ä¸€ä¸ªç”Ÿç‰©ä½“ï¼Œå¿…é¡»ç¡®å®šæœ€è¿‘çš„é£Ÿç‰©é¢—ç²’ã€‚</p><p>3ã€ç¡®å®šæœ€è¿‘çš„é£Ÿç‰©é¢—ç²’çš„æ–¹å‘ï¼šä¸€æ—¦æœ€è¿‘çš„é£Ÿç‰©é¢—ç²’è¢«ä¸€ä¸ªç”Ÿç‰©ä½“ç¡®å®šï¼Œå°±å¿…é¡»è®¡ç®—å‡ºè¿™ä¸ªé¢—ç²’çš„æ–¹å‘ã€‚</p><p>4ã€æŸ¥è¯¢ç¥ç»ç½‘ç»œï¼šç”±äºä½¿ç”¨äº†æ›´æ–°çš„æ–¹å‘å€¼ï¼Œå› æ­¤æ¯ä¸ªç”Ÿç‰©çš„ç¥ç»ç½‘ç»œéƒ½å°†å˜å¾—ä¸åŒã€‚</p><p>5ã€æ›´æ–°ç”Ÿç‰©ä½“ï¼šåŸºäºç¥ç»ç½‘ç»œçš„å“åº”ï¼Œç”Ÿç‰©ä½“çš„é€Ÿåº¦å’Œä½ç½®éƒ½å¾—åˆ°äº†æ›´æ–°ã€‚</p><p>ä¸‹é¢æ˜¯æ¨¡æ‹Ÿå‡½æ•°:</p><pre>def simulate(settings, organisms, foods, gen): total_time_steps = int(settings['gen_time'] / settings['dt']) #--- CYCLE THROUGH EACH TIME STEP ---------------------+ for t_step in range(0, total_time_steps, 1): # PLOT SIMULATION FRAME #if gen == settings['gens'] - 1 and settings['plot']==True: if gen==49: plot_frame(settings, organisms, foods, gen, t_step) # UPDATE FITNESS FUNCTION for food in foods: for org in organisms: food_org_dist = dist(org.x, org.y, food.x, food.y) # UPDATE FITNESS FUNCTION if food_org_dist &lt;= 0.075: org.fitness += food.energy food.respawn(settings) # RESET DISTANCE AND HEADING TO NEAREST FOOD SOURCE org.d_food = 100 org.r_food = 0 # CALCULATE HEADING TO NEAREST FOOD SOURCE for food in foods: for org in organisms: # CALCULATE DISTANCE TO SELECTED FOOD PARTICLE food_org_dist = dist(org.x, org.y, food.x, food.y) # DETERMINE IF THIS IS THE CLOSEST FOOD PARTICLE if food_org_dist &lt; org.d_food: org.d_food = food_org_dist org.r_food = calc_heading(org, food) # GET ORGANISM RESPONSE for org in organisms: org.think() # UPDATE ORGANISMS POSITION AND VELOCITY for org in organisms: org.update_r(settings) org.update_vel(settings) org.update_pos(settings)return organisms</pre><p><strong>äº”ã€ç»“æœ</strong></p><p>åœ¨åˆ›å»ºæ‰€æœ‰çš„ä¸»è¦ç»„ä»¶ä¹‹åï¼Œæœ€ç»ˆä»£ç å°±å¯ä»¥ç»„è£…èµ·æ¥äº†ã€‚æ³¨æ„ï¼šåœ¨ä¸Šé¢çš„æ–‡ç« ä¸­ï¼Œå¿½ç•¥äº†ä¸€äº›æ›´å°çš„å‡½æ•°ï¼Œå› ä¸ºå®ƒä»¬å¤ªç®€å•äº†ï¼Œé˜…è¯»å®ƒä»¬è¦æ¯”ç›´æ¥é˜…è¯»ä»£ç èŠ±è´¹æ›´é•¿çš„æ—¶é—´ã€‚æ‰€æœ‰çš„ä»£ç æˆ‘éƒ½æ”¾åœ¨GitHubä¸Šäº†ï¼Œä½ å¯ä»¥ç‚¹å‡»è¿™é‡Œä¸‹è½½ã€‚</p><p>æˆ‘ä½¿ç”¨äº†matplotlibæ¥æ˜¾ç¤ºæ¨¡æ‹Ÿã€‚å½“ä½ è¿è¡Œæ•´ä¸ªä»£ç æ—¶ï¼Œè¾“å‡ºåº”è¯¥ä¸æ­¤ç±»ä¼¼:</p><p><img alt=åŸºäºé—ä¼ ç®—æ³•ï¼ˆGAï¼‰è¿›åŒ–çš„å°æ¸¸æˆ onerror=errorimg.call(this); src=http://p3.pstatp.com/large/50a8000326fb783eacfc></p><p>ä»¥ä¸Šä¸ºè¯‘æ–‡</p><p>æ–‡ç« åŸæ ‡é¢˜ã€ŠEvolving Simple Organisms using a Genetic Algorithm and Deep Learning from Scratch with Python</p><p>ã€‹ï¼Œä½œè€…ï¼šNathanï¼Œè¯‘è€…ï¼šé»„å°å‡¡ï¼Œå®¡æ ¡ï¼šè¢è™ã€‚</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'é—ä¼ ','GA','è¿›åŒ–'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>