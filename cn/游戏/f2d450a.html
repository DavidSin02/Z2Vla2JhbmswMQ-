<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>智能化用电信息采集功能设计与实现 | 极客快訊</title><meta property="og:title" content="智能化用电信息采集功能设计与实现 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="http://p3.pstatp.com/large/pgc-image/Ro5r4482CHXjFa"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/f2d450a.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/f2d450a.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/f2d450a.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/f2d450a.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/f2d450a.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/f2d450a.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/f2d450a.html><link rel=canonical href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/f2d450a.html><meta property="article:published_time" content="2020-10-29T20:47:38+08:00"><meta property="article:modified_time" content="2020-10-29T20:47:38+08:00"><meta name=Keywords content><meta name=description content="智能化用电信息采集功能设计与实现"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E6%B8%B8%E6%88%8F/f2d450a.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>智能化用电信息采集功能设计与实现</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E6%B8%B8%E6%88%8F.html>游戏</a></span></div><div class=post-content><p>计量自动化系统（又简称“四线一库”系统）是指：单相智能电能表自动化检定系统、三相智能电能表自动化检定系统<sup>[1]</sup>、低压电流互感器自动化检定系统<sup>[2]</sup>、用电采集终端自动化检定系统、智能化仓储库房。“四线一库”是在国家电网公司“三集五大”中营销业务系统的一个重要环节之一的“省级计量中心生产调度平台”（MDS）的业务基础。</p><p>“四线一库”总控技术支持系统（MCS）<sup>[3-4]</sup>作为主要对“四线一库”的集中调度、控制的系统，在其中集成了各“四线一库”的信息。本文从MCS中接口模块的信息建模、交互流程、关键技术等方面主要阐述了系统对“四线一库”系统信息进行采集和整合的设计及实现。</p><p><strong>1 系统分析</strong></p><p><strong>1.1 现存问题</strong></p><p>1.1.1 信息孤岛问题</p><p>目前“四线一库”系统作为各省公司计量中心的生产核心，存在一些问题：各系统由不同厂家承建，软硬件差异较大，且物理位置分散（各系统处于计量中心各楼层），不利于管理。各自系统的信息处于相互孤立、难以利用的状态。另外，其他辅助系统（如温湿度<sup>[5]</sup>、空压机等）的监控，由于不牵涉主要生产业务，一般不被纳入业务系统，处于各自独立实现的状态，无统一规范。</p><p><strong>1.1.2 信息建模问题</strong></p><p>已有的MDS四线一库接口<sup>[6]</sup>主要关注检定任务、出入库任务的下发和最终执行情况。其中实现了各检定、仓储任务的调度功能，存在业务单一、数据量较小、对应接口可扩展性较低的问题。主要原因为在已有系统中未建立统一可扩展的传输信息模型。</p><p><strong>1.1.3 响应效率问题</strong></p><p>需要监控的“四线一库”各系统信息粒度较细，数据较大，会导致交互频繁。原有的MDS中的交互处理方式为业务需要等待业务处理完成，返回响应，如业务处理时间过长，采用同样的方式易导致网络堵塞。</p><p><strong>1.2 系统主体框架</strong></p><p>为在省级计量中心实现对于各检定、仓储系统的监控，需要建立对“四线一库”系统实时统一监控的平台，解决各套系统的信息整合问题。MCS基于“四线一库”全场景信息的状态在线监测关键技术研究成果，结合浙江计量中心计量生产的实际情况和业务需要设计和研发，主要实现对“四线一库”的集中调度、分级控制，实现计量生产过程的实时监控，发现运行中存在的问题和隐患，提供实时预警功能。</p><p>MCS使用OSGi的技术框架<sup>[7-8]</sup>，实现模块的可插拔部署。各功能作为组件构建整个系统，具有较高的可移植性和可扩展性。模块（Bundle）为OSGi框架中的最基本单位，各模块实现系统中需要的各类功能。在各模块中，使用J2EE分层架构<sup>[8]</sup>，分别为数据层、逻辑层、控制层和界面层。数据层使用hibernate技术框架，逻辑层使用Spring技术框架，控制层使用Spring MVC技术框架，前端主要采用JS/JSP技术。在MCS中，按实现功能划分有：告警监控、流程监控、楼层监控、计划监控、接口运行状态监控、采集等模块。</p><p><strong>1.3 接口功能需求</strong></p><p>MCS中采集模块负责与外部系统的交互，在系统中整合与其他多套系统通过网络交互数据，打破各系统之间的异构壁垒，为MCS提供数据支撑，如图1所示。</p><img alt=智能化用电信息采集功能设计与实现 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/Ro5r4482CHXjFa><p>接口需要满足如下功能和性能方面的需求：</p><p>（1）需要建立统一的编码标准和通信技术规范，以整合不同系统的数据；</p><p>（2）交互方式易于扩展，能够基于对应的编码进行扩展；</p><p>（3）响应数据尽可能快，交互响应与后续数据处理分离。</p><p><strong>2 信息交互功能设计和实现</strong></p><p><strong>2.1 传输技术</strong></p><p>系统接口模块选用Web Service技术[9-12]进行通信。Web Service具有良好的互操作性、良好的封装性、廉价性、松散耦合的结构，能够满足异构系统间的交互。传输内容为符合规范的XML格式。</p><p>在MCS中开发Web Service服务端，接收和解析各类消息，作为通信消息或者控制消息使用。各检定及仓储系统中开发客户端根据自身业务规范将自身数据封装，作为接口参数数据传输至服务端。</p><p><strong>2.2 信息建模</strong></p><p>在使用Web Service进行异构系统间通信时，首先应当考虑数据的建模问题。从监控对象、数据分类、数据结构3个角度进行信息建模。</p><p><strong>2.2.1 数据对象</strong></p><p>在MCS中，系统的资产按层级分为系统、装置以及电气设备三层。其中系统定义为单、三相电能表、互感器、采集终端监测以及自动化仓储系统；装置为系统下的各类生产单元，如检定系统下的外观监测装置、多功能检定装置等；电气层为各系统底层PLC可监控到的最小维度，为装置的组件。</p><p>出于模拟仿真需要，传输的数据粒度主要为装置一级，进行数据的传输和展示。可通过面向对象（OO）<sup>[13]</sup>的思维对传输数据进行建模。传输的数据对象主要为装置的数据对象。标识数据对象可用一串编码字符串，编号规则见表1。</p><img alt=智能化用电信息采集功能设计与实现 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/Ro5r44Y1gHIYB><p>电气设备编号示例如图2，表示“自动化单相01号单元01号检定装置027号压接气缸”。如想标识装置或系统一层，截取编号中前面对应位数即可，如1101208001表示“自动化单相01号单元01号检定装置”，“1101”表示“自动化单相01号单元”。</p><p><strong>2.2.2 数据结构</strong></p><p>每个数据对象中包含基本信息和业务信息，均作为对象中属性存在（可见2.3第报文规范）。其中，基本信息包含数据的标识、交互规范版本、发送及接收方信息、交互时间等。业务信息包含数据对象信息，如状态、业务数量和处理时长等。</p><p><strong>2.2.3 数据分类</strong></p><p>根据业务以及传输频度，MCS中主要的数据类型可分为实时数据和定时数据。其中，实时数据包含状态信息和告警信息，用于信息的实时展示（例如三维仿真系统应用），交互频度较高；定时数据为系统的各类业务数值数据，用于信息统计展示，交互频度相对较低。</p><p><strong>2.3 报文规范</strong></p><p>传输的对象格式为自行定义的XML格式，报文详细格式内容如图3所示。</p><img alt=智能化用电信息采集功能设计与实现 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/Ro5r45P9afytPR><p>从图3中可见，报文的基础信息在报文的根节点（DBSET）中，在其下放置各信息，类似于定义类的属性。这样后期的修改和扩展较为灵活，可根据各自需要修改详细的报文规范，在报文中进行字段的增删改操作，对接口交互部分无影响。</p><p><strong>2.4 信息处理步骤</strong></p><p>数据的交互处理在“四线一库”系统与MCS之间进行。MCS收集并处理四线一库系统的业务数据，并在处理完成后对数据进行存储或者转发操作。信息交互处理流程如图4所示。</p><img alt=智能化用电信息采集功能设计与实现 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/Ro5r45gH0zIp1><p>信息的接收处理步骤为：</p><p>（1）MCS采集模块接收数据，记录交互的数据内容；</p><p>（2）对数据进行判定，查看数据是否正常，回复客户端并记录日志，写入数据库；</p><p>（3）开启线程，通过DOM将XML数据转换为普通java对象格式；</p><p>（4）开启数据处理线程，对对象进行处理。</p><p>由于接收到数据后即简单判定回复客户端（步骤（1）、步骤（2）），与数据处理过程分离，所以交互相应速度较快，不会出现因处理时间过长而发生数据阻塞的情况，能满足高频的处理需求。</p><p><strong>3 系统实现效果</strong></p><p>在功能方面，目前MCS在浙江省电力公司计量中心上线运行。该系统能在保持各系统低耦合的情况下，实现信息的整合，打破信息孤岛，能够实现信息的收集、解析，并基于此实现后续处理和展示功能；且系统的可扩展性较好，在现有的标准基础上，能够对数据项进行简易扩展，满足不同系统的不同数据项监控要求。</p><p>在性能方面，经过调研，真实的系统单元数量及数据频度被获取并整理。基于此进行测试模拟，在较高交互频度及数据量下每次交互响应时间为20~25 ms，能够满足在具有更高硬件条件和更低交互频度下的真实生产环境需求。</p><p><strong>4 结束语</strong></p><p>在互联网思维的影响下，整合各类系统资源的需求增多。本设计通过统一报文、统一编码建模，结合Web Service交互技术，打破各系统之间的异构屏蔽，实现异构系统整合。通过整合各类信息资源，提高监管的精细化程度，提升生产的效率。</p><p><strong>参考文献</strong></p><p>[1]张晓颖, 庄葛巍, 朱铮, 等. 新型高安全性的智能电表自动化检定系统[J]. 自动化仪表, 2016, 37(5): 75-78.</p><p>[2]章鹿华,易忠林,王思彤,等.低压电流互感器自动化检定系统设计与实现[J]. 自动化仪表, 2013, 34(12): 48-50.</p><p>[3]丁涛, 徐二强, 刘忠, 等. 省级计量中心生产调度平台的设计[J]. 电气应用, 2012(9):34-37.</p><p>[4]陈立. 省级计量中心生产调度平台架构研究[J]. 通讯世界, 2014(11):166-167.</p><p>[5]范志夫, 曹宏纯, 汤振华. 基于OPC协议的省级计量中心检定区温湿度接口函数开发及实现[J]. 江西电力, 2015(3).</p><p>[6]国家电网公司.省级计量中心生产调度平台与四线一库系统接口技术规范[S].2012.</p><p>[7]李朋云, 陈金勇, 张琦. 基于OSGi的面向服务软件体系结构设计[J]. 计算机与网络, 2014(22):61-63.</p><p>[8]葛新, 董朝阳, 梁小江. 基于OSGi面向服务的软件体系架构[J]. 计算机技术与发展, 2012(10):121-124.</p><p>[9]荣秋生, 郭国强. 基于J2EE四层体系框架系统的研究与实现[J]. 计算技术与自动化, 2006(4):84-87.</p><p>[10]ABITRBOUL S, BENJELLOURN O, MANOLESCU I, et al. Active XML: peer-to-peer data and web services integration [C]. Proc of Vldb, 2002:1087-1090.</p><p>[11]彭冰沁, 刘先锋. 基于XML的Web Service分布式应用[J]. Computer and Modernization, 2006(11):8-11.</p><p>[12]李建奇. 基于Web Services的异构系统集成技术研究与应用[D]. 长沙: 湖南大学, 2007.</p><p>[13]XIONG W, WEI C. Design of object oriented web service API framework[J]. Computer Technology & Development, 2009, 19(8): 54-57, 61.</p><p><strong>作者信息:</strong></p><p>李允昭1，柯 伟2，刘铭洋2，徐一晨2，潘红伟2，马胜国3</p><p>（1. 国网新疆电力有限公司，新疆 乌鲁木齐830063；</p><p>2. 国网新疆电力有限公司电力科学研究院计量中心，新疆 乌鲁木齐830000；</p><p>3. 深圳市国电科技通信有限公司，广东 深圳518031）</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'用电','采集','设计'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>