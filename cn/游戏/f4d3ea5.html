<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>在数据上选择正确特征的衡量指标：相关性和P值 | 极客快訊</title><meta property="og:title" content="在数据上选择正确特征的衡量指标：相关性和P值 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="http://p1.pstatp.com/large/pgc-image/1536810090762a766c4e028"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/f4d3ea5.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/f4d3ea5.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/f4d3ea5.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/f4d3ea5.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/f4d3ea5.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/f4d3ea5.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/f4d3ea5.html><link rel=canonical href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/f4d3ea5.html><meta property="article:published_time" content="2020-10-29T20:48:06+08:00"><meta property="article:modified_time" content="2020-10-29T20:48:06+08:00"><meta name=Keywords content><meta name=description content="在数据上选择正确特征的衡量指标：相关性和P值"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E6%B8%B8%E6%88%8F/f4d3ea5.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>在数据上选择正确特征的衡量指标：相关性和P值</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E6%B8%B8%E6%88%8F.html>游戏</a></span></div><div class=post-content><div><blockquote><p><strong>点击上方关注，All in AI中国</strong></p></blockquote><p>作者：Vishal R</p><p>通常，当我们得到一个数据集时，我们可能会在数据集中发现过多的特征。我们在构建机器学习模型以进行必要的预测时，在数据集中发现的所有特征可能都没有什么用。使用一些特征甚至会使预测变得更糟。因此，特征选择在建立机器学习模型中起着巨大的作用。</p><p>在这篇文章中，我们将探讨两种可以在数据上选择正确特征的衡量指标。</p><p><strong>什么是相关性？</strong></p><p>相关性是一个统计术语，其通常在使用中是指两个变量彼此之间具有线性关系的接近程度。</p><p>例如，两个线性相关的变量（例如，x和y相互依赖为x = 2y）将具有比非线性相关的两个变量（例如，u和v相互依赖为u=v2）更高的相关性。</p><p><strong>相关性如何帮助选择特征？</strong></p><p>具有高相关性的特征更依赖于线性，因此对因变量具有几乎相同的影响。因此，当两个特征具有高度相关性时，我们可以删除这两个特征中的一个。</p><p><strong>P值</strong></p><p>在我们尝试了解p值之前，我们需要了解零假设。</p><p>零假设是一种普遍的说法，即两种测量现象之间没有关系。</p><p>测试（接受、认可、拒绝或反驳）零假设，从而得出结论，认为存在或不存在相信两种现象之间存在关系的理由（例如潜在治疗具有可测量的效果），是该模式中的中心任务。统计学领域给出了拒绝零假设的精确标准。</p><p><strong>什么是p值？</strong></p><p>p值或概率值或渐近显著性是给定统计模型的概率值，如果零假设为真，则通常称为统计摘要的一组统计观测值在数量上大于或等于观测结果。</p><p><strong>p值如何帮助选择特征？</strong></p><p>从数据集中删除不同的特征将对数据集的p值产生不同的影响。我们可以删除不同的特征并测量每种情况下的p值。这些测量的p值可用于决定是否保留特征。</p><p><strong>实施</strong></p><p><strong>导入必要的库</strong></p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/1536810090762a766c4e028><p class=pgc-img-caption>numpy.random.seed使随机数可预测，并用于再现性.</p></div><p><strong>数据集</strong></p><p>这里使用的数据集是乳腺癌威斯康星（诊断）数据集。</p><p>该数据集包含569个记录和32个特征（包括Id）。这些特征代表了可用于预测肿瘤是恶性还是良性的各种参数。</p><p><strong>加载数据集</strong></p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/15368100908508bdd3ab760><p class=pgc-img-caption></p></div><p>移除Id和未命名列</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/1536810090928cad34a58d8><p class=pgc-img-caption></p></div><p>接下来，我们对分类变量进行编码。</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/153681009101400cdc882ff><p class=pgc-img-caption></p></div><p><strong>基于相关性的特征选择</strong></p><p>生成相关矩阵</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p9.pstatp.com/large/pgc-image/1536810091128b59615537d><p class=pgc-img-caption></p></div><p>生成相关热图</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/1536810091217dc000fb8c7><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/153681009134762cc2ef3c1><p class=pgc-img-caption></p></div><p>数据集的相关热图接下来，我们比较特征之间的相关性，并删除两个相关性高于0.9的特征之一。</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/1536810091463a58cc3ad69><p class=pgc-img-caption></p></div><p>现在，数据集只有那些相关性小于0.9的列</p><p><strong>根据p值选择列</strong></p><p>接下来，我们将根据它们对p值的影响来选择列。我们正在删除列诊断，因为它是我们试图预测的列。</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/153681009158928d8f21005><p class=pgc-img-caption></p></div><p>将结果移动到新的Dataframe</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p9.pstatp.com/large/pgc-image/1536810091697e27e8b1d81><p class=pgc-img-caption></p></div><p>使用p值和相关性选择列来创建数据文件</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/1536810091850da2d84ee50><p class=pgc-img-caption></p></div><p><strong>可视化选定的功能</strong></p><p>绘制数据以显示其分布</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/15368100919933c514a0a70><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/15368100922011ba308cf5a><p class=pgc-img-caption>所选特征的分布图</p></div><p>现在我们将数据拆分为训练集和测试集。20％的数据用于创建测试数据，80％用于创建训练数据。</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/15368100923013138ec9318><p class=pgc-img-caption></p></div><p><strong>使用所选特征构建模型</strong></p><p>我们使用带有高斯内核的支持向量分类器来进行预测。我们将在训练数据上训练模型，并使用测试数据计算模型的准确性。</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/1536810092393fb0b801da7><p class=pgc-img-caption></p></div><p>进行预测并计算准确性</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/1536810092483028ed857c5><p class=pgc-img-caption></p></div><p>我们在这里使用混淆矩阵</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/1536810092586d224c9a480><p class=pgc-img-caption></p></div><p>获得的准确度为0.9298245614035088</p><p><strong>构建没有特征选择的模型并比较结果</strong></p><p>接下来，我们重复除特征选择之外的所有上述步骤，它们是：</p><ul><li>加载数据</li><li>删除不需要的列</li><li>编码分类变量</li><li>将数据拆分为训练集和测试集</li><li>将数据拟合到模型中</li><li>进行预测并计算准确度</li></ul><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p9.pstatp.com/large/pgc-image/1536810092683e01978c851><p class=pgc-img-caption></p></div><p>获得的准确度为0.7017543859649122</p><p>在这里我们可以看到，当执行适当的特征选择时，预测的准确性更好。</p><div class=pgc-img><img alt=在数据上选择正确特征的衡量指标：相关性和P值 onerror=errorimg.call(this); src=http://p9.pstatp.com/large/pgc-image/15368179456367e091909a2><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'特征','数据','选择'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>