<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>三分钟学会遗传算法 | 极客快訊</title><meta property="og:title" content="三分钟学会遗传算法 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="http://p3.pstatp.com/large/dfic-imagehandler/77327867-8f42-46ff-951d-f833dc5e8032"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/fa7911e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/fa7911e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/fa7911e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/fa7911e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/fa7911e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/fa7911e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e6%b8%b8%e6%88%8f/fa7911e.html><link rel=canonical href=https://geekbank.cf/tw/%e6%b8%b8%e6%88%8f/fa7911e.html><meta property="article:published_time" content="2020-10-29T20:46:33+08:00"><meta property="article:modified_time" content="2020-10-29T20:46:33+08:00"><meta name=Keywords content><meta name=description content="三分钟学会遗传算法"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E6%B8%B8%E6%88%8F/fa7911e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>三分钟学会遗传算法</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E6%B8%B8%E6%88%8F.html>游戏</a></span></div><div class=post-content><div><div class=pgc-img><img alt=三分钟学会遗传算法 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/dfic-imagehandler/77327867-8f42-46ff-951d-f833dc5e8032><p class=pgc-img-caption>遗传算法</p></div><p>此节介绍最著名的遗传算法(GA)。遗传算法属于进化算法，基本思想是取自“物竞天泽、适者生存”的进化法则。简单来说，遗传算法就是将问题编码成为染色体，然后经过不断选择、交叉、变异等操作来更新染色体的编码并进行迭代，每次迭代保留上一代好的染色体，丢弃差的染色体，最终达到满足目标的最终染色体。整个流程由下图构成（手写，见谅 -_-!!）</p><div class=pgc-img><img alt=三分钟学会遗传算法 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/697ea4086d9e4b748504b81e237e5b56><p class=pgc-img-caption>流程图</p></div><p>步骤由以下几步构成：</p><p><strong>编码</strong>（coding）——首先初始化及编码。在此步，根据问题或者目标函数（objective function）构成解数据（solutions），在遗传算法中，该解数据就被称为染色体（chromosome）。值得一提的是，遗传算法为多解（population based）算法，所以会有多条染色体。初始化中会随机生成N条染色体，, 这里表示染色体包含了n条。其中 ，这里表示第i条染色体由d维数值构成。GA会以这个N个数据作为初始点开始进行进化。</p><p><strong>评估适应度</strong>（evaluate fitness）——这一步用染色体来进行目标函数运算，染色体的好坏将被指明。</p><p><strong>选择</strong>（selection）——从当前染色体中挑选出优良的个体，以一定概率使他们成为父代进行交叉或者变异操作，他们的优秀基因后代得到保留。物竞天择这里得以体现。</p><p><strong>交叉</strong>（crossover）——父代的两个两个染色体，通过互换染色体构成新的染色体。例如下图，父亲母亲各提供两个基因给我。这样我既保留了父母的基于，同时又有自己的特性。</p><div class=pgc-img><img alt=三分钟学会遗传算法 onerror=errorimg.call(this); src=http://p9.pstatp.com/large/pgc-image/77f3317b4c0b45bebe4c69bb9fb37f76><p class=pgc-img-caption>交叉</p></div><p><strong>变异</strong>（mutation）——以一定概率使基因发生突变。该算子一般以较低概率发生。如下图所示：</p><div class=pgc-img><img alt=三分钟学会遗传算法 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/521866192261482b9d35deca981adbd9><p class=pgc-img-caption>变异</p></div><p>下面我们将一步一步为各位呈现如何用matlab编写一个简单的GA算法。</p><p>本问题为实数最小化minimization问题。我们需要在解空间内找到最小值或近似最小值，此处我们使用sphere函数作为目标函数（读者可以自行修改为其他的目标函数）。</p><div class=pgc-img><img alt=三分钟学会遗传算法 onerror=errorimg.call(this); src=http://p9.pstatp.com/large/pgc-image/1f35df94386040078630dfd3e338f541><p class=pgc-img-caption>sphere function</p></div><ul><li>初始化：在这一步中，我们将在给定问题空间内生成随机解，代码如下：</li></ul><pre>% %% 初始化% % 输入：chromes_size，dim维数,lb下界，ub上界% % 输出：chromes新种群function chromes=init_chromes(chromes_size,dim,lb,ub) % 上下界中随机生成染色体 chromes = rand(chromes_size,dim)*(ub-lb)+lb;end</pre><ul><li>选择：选择是从当前代中挑选优秀的染色体保留以繁殖下一代。我们这里采取的方法是俄罗斯轮盘选择方式。谁的解优，谁获得选中的概率越高。首先，我们需要先求出各染色体的fitness倒数。</li><li>,然后求出各染色体的比重，比重越大，被保留机会越大。。代码如下：</li></ul><pre>%% 选择%俄罗斯轮盘赌function [newchromes,newfitness] = selection(chromes,fitness) weights = 1./fitness; % fitness倒数 totalfit=sum(weights); % 累加所有weights totalf = weights./totalfit; %求出各染色体比重 index = []; for i = 1:size(chromes,1) % 循环选出较优染色体 pick = rand; while pick == 0 pick = rand; end for j = 1:size(chromes,1) pick = pick - totalf(j); if pick&lt;0 index = [index j]; break end end end newchromes =chromes(index,:); newfitness = fitness(index);end</pre><ul><li>交叉：此步会随机选取两个选择过后的染色体作为父代，从两个染色体中各截取一部分基因生成新的染色体，代码如下：</li></ul><pre>%% 交叉function newchromes = crossover(chromes,pc) % 生成一个新的解 newchromes = ones(size(chromes)); for i = 1:size(chromes,1) % 随机选取两个染色体 parents=randperm(10,2); %随机选取一个位置 pos = round(rand*size(chromes,2)); if(rand&lt;pc) % 交叉生成新的解 newchromes(i,:)=[chromes(parents(1),1:pos) chromes(parents(2),pos+1:size(chromes,2))]; else newchromes(i,:)=chromes(i,:); end endend</pre><ul><li>变异：以一各小概率生成随机变异一个gene，代码如下：</li></ul><pre>% 变异function newchromes= muatation(chromes,pm,lb,ub) for i = 1:size(chromes,1) newchromes(i,:) = chromes(i,:); if (rand&lt;pm) %随机选取一位 pos = ceil(rand*size(chromes,2)); %变异 newchromes(i,pos)= rand*(ub-lb)+lb; end endend</pre><ul><li>主函数，首先初始化各参数，然后进行迭代，当满足终止条件停止：</li></ul><pre>% 清除workspace，清屏clearclc % 染色体数量chromes_size = 20;% 问题维数dim = 10;% 交叉概率pc =0.9;% 变异概率pm = 0.2;% 问题上下边界lb = -1;ub = 1;% 循环次数maxiter = 1000;% 目标方程namefunc= 'objfun';fd = str2func(namefunc);​% 初始化chromes = init_chromes(chromes_size,dim,lb,ub);% 求个染色体fitness for i = 1:chromes_size fitness(i)=feval(fd,chromes(i,:)); end% 求出最优解 [bestfitness bestindex]=min(fitness); bestchrome = chromes(bestindex,:); % 主循环for iter=1:maxiter % 选择 [chromes,newfitness] = selection(chromes,fitness); % 交叉 chromes= crossover(chromes,pc); % 变异 chromes= muatation(chromes,pm,lb,ub); % 更新最优 for i = 1:chromes_size fitness(i)=feval(fd,chromes(i,:)); if fitness(i)&lt;bestfitness bestfitness= fitness(i) bestchrome = chromes(i,:); end end trace(iter)=bestfitness; end​% 绘制fitness曲线plot(trace)title('Fitness curve')xlabel('Iterations')ylabel('Fitness value')</pre><p>运行之后生成一个fitness下降曲线，如下图：</p><div class=pgc-img><img alt=三分钟学会遗传算法 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/e6fac4c4983548789d21f3ce9fca6241><p class=pgc-img-caption>适应度下降曲线</p></div><p>遗传算法大大提升了寻优问题的通用性,因为遗传算法属于stochastic algorithm,不再是Deterministic algorithm（如果各位对此感兴趣，请留言，我可进一步讲解）。</p><p>但是有些显著缺陷还是明显影响该算法效率，主要问题如下：</p><ol><li>premature，过早收敛，极易陷入局部最优解</li><li>初始点对算法结果影响巨大，初始点好的解效果好，反之亦然。</li></ol><p>下一节，将介绍群智能算法的代表之作——粒子群寻优算法。</p><p>如有任何疑问请留言，欢迎评论交流，创作不易，请勿抄袭，请收藏，关注，转发~</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'钟学会','遗传','算法'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>