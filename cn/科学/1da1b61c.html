<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>异步串行通信 | 极客快訊</title><meta property="og:title" content="异步串行通信 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/b9f26063422e4d1792bca7bce2b7d283"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/1da1b61c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/1da1b61c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/1da1b61c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/1da1b61c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/1da1b61c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/1da1b61c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/1da1b61c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/1da1b61c.html><meta property="article:published_time" content="2020-11-14T20:50:52+08:00"><meta property="article:modified_time" content="2020-11-14T20:50:52+08:00"><meta name=Keywords content><meta name=description content="异步串行通信"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E5%AD%A6/1da1b61c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>异步串行通信</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E5%AD%A6.html>科学</a></span></div><div class=post-content><div><p>1. 基本原理</p><p>异步串行通信是指通信双方以一个字符（包括特定附加位）作为数据传输单位且发送方传送字符的间隔时间不一定，具有不规则数据段传送特性的串行数据传输。</p><p>异步通信数据帧的第一位是开始位，在通信线上没有数据传送时处于逻辑'1'状态。当发送设备要发送一个字符数据时，首先发出一个逻辑“0”信号，这个逻辑低电平就是起始位。起始位通过通信线传向接收设备，当接收设备检测到这个逻辑低电平后，就开始准备接收数据位信号。因此，起始位所起的作用就是表示字符传送开始。</p><p>当接收设备收到起始位后，紧接着就会收到数据位。数据位的个数可以是5，6，7或8位的数据。在字符数据传送过程中，数据位从最低位开始传输。数据发送完之后，可以发送奇偶校验位。奇偶校验位用于有限差错检测，通信双方在通信时需约定一致的奇偶校验方式。就数据传送而言，奇偶校验位是冗余位，但它表示数据的一种性质，这种性质用于检错，虽有限但很容易实现。在奇偶位或数据位之后发送的是停止位，可以是1位、1．5位或2位，停止位一直为逻辑'1'状态。停止位是一个字符数据的结束标志。</p><p>在异步通信中，字符数据以图所示的格式一个一个地传送。在发送间隙，即空闲时，通信线路总是处于逻辑“1”状态，每个字符数据的传送均以逻辑“0”开始。</p><p>2. 通信协议</p><p>通信协议是指通信双方对数据传送控制的一种约定。通信双方必须遵守。通信协议应该包含两部分内容：一是硬件协议，即是接口协议；二是软件协议，即通信协议。</p><p>3. 串行通信数据接口标准</p><p>最常用的是RS-232和RS-485串行接口标准。当通信双方需要进行数据通信时，必须有统一的通信数据接口标准。如果不一样，需要转换。例如三菱FX2N 通信接口是RS-422接口标准，而FR-E500变频器是RS-485接口标准。两者通信，PLC需要添加FX2N-485-BD通信板，这样就将RS-422转换为RS-485接口标准。</p><p>4. 通信格式</p><p>需要解决问题：</p><p>a. 如何通知传送数据到了；</p><p>b. 接受方如何知道一个字符串发送完毕，要区分上一个字符串与下一个字符串；</p><p>c. 接受方接受到字符串后如何知道这个字串有没有错。</p><p>解决的方式有起止式异步传送。</p><div class=pgc-img><img alt=异步串行通信 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b9f26063422e4d1792bca7bce2b7d283><p class=pgc-img-caption></p></div><p>起止式异步协议的特点是一个字符一个字符传输，并且传送一个字符总是以起始位开始，以停止位结束，字符之间没有固定的时间间隔要求。其格式如图3 所示。每一个字符的前面都有一位起始位（低电平，逻辑值0），字符本身有5～7位数据位组成，接着字符后面是一位校验位（也可以没有校验位），最后是一位，或意味半，或二位停止位，停止位后面是不定长度的空闲位。停止位和空闲位都规定为高电平（逻辑值），这样就保证起始位开始处一定有一个下跳沿。从图中可以看出，这种格式是靠起始位和停止位来实现字符的界定或同步的，故称为起始式协议。</p><p>起／止位的作用：起始位实际上是作为联络信号附加进来的，当它变为低电平时，告诉收方传送开始。它的到来，表示下面接着是数据位来了，要准备接收。而停止位标志一个字符的结束，它的出现，表示一个字符传送完毕。这样就为通信双方提供了何时开始收发，何时结束的标志。传送开始前，发收双方把所采用的起止式格式（包括字符的数据 位长度，停止位位数，有无校验位以及是奇校验还是偶校验等）和数据传输速率作统一规定。传送开始后，接收设备不断地检测传输线，看是否有起始位到来。当收 到一系列的“1”（停止位或空闲位）之后，检测到一个下跳沿，说明起始位出现，起始位经确认后，就开始接收所规定 的数据位和奇偶校验位以及停止位。经过处理将停止位去掉，把数据位拼装成一个并行字节，并且经校验后，无奇偶错才算正确的接收一个字符。一个字符接收完毕，接收设备有继续测试传输线，监视“0”电平的到来和下一个字符的开始，直到全部数据传送完毕。</p><p>由上述工作过程可看到，异步通信是按字符传输的，每传输一个字符，就用起始位来通知收方，以此来重新核对收发双方同步。若接收设备和发送设备两者的时钟频率 略有偏差，这也不会因偏差的累积而导致错位，加之字符之间的空闲位也为这种偏差提供一种缓冲，所以异步串行通信的可靠性高。但由于要在每个字符的前后加上 起始位和停止位这样一些附加位，使得传输效率变低了，只有约80%。因此，起止协议一般用在数据速率较慢的场合（小于19.2kbit/s）。在高速传送时，一般要采用同步协议。</p><p>5. 通信数据格式（报文格式）</p><p>把一个一个的字符串组织在一起，形成了一个字符串，这个由多个字符串组成的数据信息就是通信控制的具体内容，称为一帧信息。设计一个能够控制出错的数据信息帧结构是通信协议的主要内容。</p><p>在PLC与变频器等智能设备中，其数据帧结构基本上是根据HDLC（高级数据链路控制）信息帧设计的。HDLC的完整的帧由标志字段（F）、地址字段（A）、控制字段（C）、信息字段（I）、帧校验序列字段（FCS）等组成。</p><p>HDLC的数据信息帧结构：</p><div class=pgc-img><img alt=异步串行通信 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/0aa56f879e0b4ba48e16e4b1e16e396c><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'异步','串行','通信'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>