<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>主成分分析的逐步解释 | 极客快訊</title><meta property="og:title" content="主成分分析的逐步解释 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/5a00c8981000481398306ae7e323749e"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/32d995f7.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/32d995f7.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/32d995f7.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/32d995f7.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/32d995f7.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/32d995f7.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/32d995f7.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/32d995f7.html><meta property="article:published_time" content="2020-11-14T20:56:36+08:00"><meta property="article:modified_time" content="2020-11-14T20:56:36+08:00"><meta name=Keywords content><meta name=description content="主成分分析的逐步解释"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E5%AD%A6/32d995f7.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>主成分分析的逐步解释</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E5%AD%A6.html>科学</a></span></div><div class=post-content><div><p>这篇文章的目的是提供主成分分析的完整和简化的解释，特别是逐步解释它是如何工作的，这样每个人都可以理解它并使用它，而不必具有强大的数学背景。</p><p>PCA实际上是web上广泛使用的一种方法，有一些很棒的文章，但是只有很少一部分直接切入主题并解释它是如何工作的，而没有深入研究技术细节和“为什么”。这就是为什么我决定自己以简化的方式呈现它的原因。</p><p>在开始解释之前，这篇文章提供了PCA在每个步骤中做了什么的逻辑解释，并简化了它背后的数学概念，如标准化，协方差，特征向量和特征值，而没有关注如何计算它们。</p><p>那么什么是主成分分析？</p><p>主成分分析（PCA）是一种降维方法，通常用于降低大数据集的维数，方法是将一组大的变量转换成一个较小的变量集，该变量集仍然包含大数据集中的大部分信息。</p><p>减少数据集的变量数量自然是以放弃精度为代价的，但降维的技巧是为了简单起见而略微准确。因为较小的数据集更易于探索和可视化，并且使机器学习算法更容易和更快地分析数据，而无需处理无关的变量。</p><p>综上所述，PCA的概念很简单 - 减少数据集的变量数量，同时保留尽可能多的信息。</p><p>逐步讲解</p><p>第1步：标准化</p><p>此步骤的目的是标准化输入数据集变量的范围，以使它们中的每个变量大致成比例地分析。</p><p>更具体地说，在使用PCA之前必须对数据进行标准化的原因是PCA对于初始变量的方差非常敏感。也就是说，如果初始变量的范围之间存在较大差异，那么范围较大的变量将占据范围较小的变量（例如，范围介于0和100之间的变量将占据0到1之间的变量。 ），这将导致主要组成部分的偏差。因此，将数据转换为可比较的比例可以防止这个问题。</p><p>数学上，这可以通过减去平均值并除以每个变量的每个值的标准偏差来完成。</p><div class=pgc-img><img alt=主成分分析的逐步解释 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/5a00c8981000481398306ae7e323749e><p class=pgc-img-caption></p></div><p>标准化完成后，所有变量都将转换为[0,1]范围。</p><p>第2步：协方差矩阵计算</p><p>此步骤的目的是了解输入数据集的变量是如何相对于其他变量的平均值变化的，或者换句话说，以查看它们之间是否存在任何关系。因为有时候，变量之间的高度相关性使得它们包含了冗余信息。因此，为了确定这些相关性，我们计算协方差矩阵。</p><p>协方差矩阵是p × p 对称矩阵（其中p是维数），与所有可能的条目相关联的协方差对初始变量。例如，例如,对于一个三维的数据集3变量x, y,和z,协方差矩阵是一个3×3的矩阵：</p><div class=pgc-img><img alt=主成分分析的逐步解释 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ffd3d5e7c1f54d548747ebbc5c392666><p class=pgc-img-caption></p></div><p>三维数据的协方差矩阵由于变量与其自身的协方差就是其方差（Cov（a，a）= Var（a）），因此在主对角线（左上角到右下角）中，我们实际上具有每个起始变量的方差。并且由于协方差是可交换的（Cov（a，b）= Cov（b，a）），所以协方差矩阵的分量相对于主对角线是对称的，这意味着上三角和下三角部分是相等的。</p><p><strong>我们作为矩阵项的协方差告诉我们变量之间的相关性是什么?</strong></p><p>协方差的标志很重要：</p><ul><li>如果是肯定的话：两个变量同时增加或减少（相关）</li><li>如果是否定的话：一个增加，另一个减少（不相关）</li></ul><p>现在，我们知道协方差矩阵不只是一个表，他总结了所有可能变量对之间的相关性。</p><p>步骤3：计算协方差矩阵的特征向量和特征值以识别主成分</p><p>特征向量和特征值是我们需要计算的线性代数概念，以便确定数据的主要组成部分。在开始解释这些概念之前，让我们首先理解主要组成的含义。</p><p>主成分是由初始变量的线性组合构成的新变量 ，它们之间没有相关性。线性组合是通过将每个变量乘以常数并将乘法的结果相加得到的表达式。例如，变量Height和Weight的线性组合可以构造为（1×Height - 2×Weight） 或类似的其他组合。</p><p>因此，PCA使用协方差矩阵，通过构造一组不相关的新变量（主成分）并且携带100％的初始变量信息来消除初始变量中识别出的冗余。要认识到的一件重要的事情是，新变量将不那么可解释，并且对我们没有任何实际意义，因为它们被构造为初始变量的线性组合。因此，正如您将在接下来的步骤中看到的那样，我们将它们命名为：PC1，PC2，......等。</p><p>从几何学上讲，主成分表示解释<strong>最大方差</strong>的数据的方向，也就是说，这些线捕获了数据的大部分信息。这里方差和信息之间的关系是，直线上的方差越大，数据点在直线上的离散度就越大，直线上的离散度越大，信息就越多。简单地说，只要把主成分想成新的轴，就可以提供最好的角度来观察和评估数据，这样观察结果之间的差异就会更明显。</p><p><strong>PCA如何构建主成分？</strong></p><p>由于数据中存在与变量一样多的主成分，因此主成分以第一主成分占数据集中<strong>最大可能方差</strong>的方式构造。例如，假设我们的数据集的散点图如下所示，我们可以猜出第一个主成分吗？是的，它大致是与紫色标记匹配的线，因为它穿过原点，并且它是点（红点）的投影最分散的线。或者从数学上讲，它是最大化方差的线（从投影点（红点）到原点的平方距离的平均值）。</p><div class=pgc-img><img alt=主成分分析的逐步解释 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d585c9f9c2ee47bc8497fa9b024c527e><p class=pgc-img-caption></p></div><p>第二主成分以相同的方式计算，条件是它与第一主成分不相关（即垂直）并且它解释了下一个最大方差。</p><p>这种情况一直持续到总共计算出了p个主成分，等于原始变量的数量。</p><p>现在我们理解了主成分的含义，让我们回到特征向量和特征值。你首先需要知道的是它们总是成对出现，所以每个特征向量都有一个特征值。它们的数量等于数据的维数。例如，对于三维数据集，存在3个变量，因此存在3个特征向量3个对应的特征值。</p><p>协方差矩阵的特征向量实际上是方差（信息）最多的轴的方向，我们称之为主成分。并且特征值只是附加到特征向量的系数，它们给出了每个主成分中的方差。</p><p>通过按特征值的顺序对特征向量进行排序，从最高到最低，按重要性顺序得到主要成分。</p><p><strong>例：</strong></p><p>假设我们的数据集是2维的，有2个变量<strong><em>x，y</em></strong>，并且协方差矩阵的特征向量和特征值如下：</p><div class=pgc-img><img alt=主成分分析的逐步解释 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7e755930ce784326b6561f2a446d155c><p class=pgc-img-caption></p></div><p>如果我们按降序对特征值进行排序，则得到λ1>λ2，这意味着对应于第一主成分（PC1）的特征向量是<em>v1</em>，而对应于第二成分（PC2）的特征向量是<em>v2。</em></p><p>在具有主成分之后，为了计算每个成分所占的方差（信息）的百分比，我们将每个成分的特征值除以特征值的总和。如果我们在上面的例子中应用它，我们发现PC1和PC2分别携带了96％和4％的数据方差。</p><p>第4步：特征向量</p><p>正如我们在上一步中所看到的，计算特征向量并按它们的特征值降序排列它们，使我们能够按重要性顺序找到主成分。在这个步骤中，我们要做的是，选择是保留所有这些成分还是丢弃那些重要性较低的成分（低特征值），并与其余成分形成一个我们称之为特征向量的向量矩阵。</p><p>因此，特征向量只是一个矩阵，其中包含我们决定保留的成分的特征向量作为列。这使得它成为降维的第一步，因为如果我们选择在<strong>n</strong>个特征向量中保留<strong>p</strong>个特征向量，最终的数据集将只有<strong>p</strong>个维度。</p><p><strong>示例</strong>：</p><p>继续前一步骤的示例，我们可以用特征向量v1和v2形成一个特征向量：</p><div class=pgc-img><img alt=主成分分析的逐步解释 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/407ab16d35ee42b395246d2d177fe3bb><p class=pgc-img-caption></p></div><p>或者丢弃特征向量<em>v</em> 2，这是较不重要的特征向量，只形成v1的特征向量：</p><div class=pgc-img><img alt=主成分分析的逐步解释 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8d06b449cd1647839700871afe5e7721><p class=pgc-img-caption></p></div><p>丢弃特征向量<em>v2</em>将使维数减少1，从而导致信息丢失。但是考虑到v2只携带了4%的信息，因此损失并不重要，我们仍有96％的信息由<em>v</em> 1 携带。</p><p>因此，正如我们在示例中看到的那样，您可以选择是保留所有成分还是丢弃不重要的成分，具体取决于您要查找的内容。因为如果您只是想根据不相关的新变量（主要成分）描述您的数据而不寻求降低维度，则不需要留下较少的重要成分。</p><p>最后一步：沿主成分轴重新绘制数据</p><p>在前面的步骤中，除了标准化之外，不对数据进行任何更改，只需选择主要成分并形成特征向量，但输入数据集始终保持原始轴的方式（即，初始变量）。</p><p>在这个最后一步中，目标是使用由协方差矩阵的特征向量形成的特征向量，将数据从原始轴重新定向到由主成分表示的数据（因此称为主成分分析）。这可以通过将原始数据集的转置乘以特征向量的转置来完成。</p><div class=pgc-img><img alt=主成分分析的逐步解释 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/09cab62496534662a6e8919023c85530><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=主成分分析的逐步解释 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ed90ac3e3707413caff65ebbf1e2ccae><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'解释','成分','逐步'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>