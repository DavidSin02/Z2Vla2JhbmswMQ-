<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>串口通信RS232的基本接法，原来这么简单，今天终于弄明白了 | 极客快訊</title><meta property="og:title" content="串口通信RS232的基本接法，原来这么简单，今天终于弄明白了 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/dfic-imagehandler/27b92444-3dbc-45b6-9784-d4c54dd2b4e9"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/3a56a79d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/3a56a79d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/3a56a79d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/3a56a79d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/3a56a79d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/3a56a79d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/3a56a79d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/3a56a79d.html><meta property="article:published_time" content="2020-11-14T20:50:52+08:00"><meta property="article:modified_time" content="2020-11-14T20:50:52+08:00"><meta name=Keywords content><meta name=description content="串口通信RS232的基本接法，原来这么简单，今天终于弄明白了"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E5%AD%A6/3a56a79d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>串口通信RS232的基本接法，原来这么简单，今天终于弄明白了</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E5%AD%A6.html>科学</a></span></div><div class=post-content><p>目前较为常用的串口有9针串口（DB9）和25针串口（DB25），通信距离较近时(&lt;12m)，可以用电缆线直接连接标准RS232端口(RS422,RS485较远)，若距离较远，需附加调制解调器（MODEM）。最为简单且常用的是三线制接法，即地、接收数据和发送数据三 脚相连，本文只涉及到最为基本的接法，且直接用RS232相连。</p><div class=pgc-img><img alt=串口通信RS232的基本接法，原来这么简单，今天终于弄明白了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/27b92444-3dbc-45b6-9784-d4c54dd2b4e9><p class=pgc-img-caption></p></div><p><strong>1、DB9和DB25的常用信号针脚的说明</strong></p><p>9针串口（DB9） 25针串口（DB25）</p><p>针号 功能说明 缩写 针号 功能说明 缩写</p><p>1 数据载波检测 DCD 8 数据载波检测 DCD</p><p>2 接收数据 RXD 3 接收数据 RXD</p><p>3 发送数据 TXD 2 发送数据 TXD</p><p>4 数据终端准备 DTR 20 数据终端准备 DTR</p><p>5 信号地 GND 7 信号地 GND</p><p>6 数据设备准备好 DSR 6 数据准备好 DSR</p><p>7 请求发送 RTS 4 请求发送 RTS</p><p>8 清除发送 CTS 5 清除发送 CTS</p><p>9 振铃指示 DELL 22 振铃指示 DELL</p><div class=pgc-img><img alt=串口通信RS232的基本接法，原来这么简单，今天终于弄明白了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2b05a3b387a94fdfb615c0e21383c509><p class=pgc-img-caption></p></div><p><strong>2、RS232C串口通信接线方法（三线制）</strong></p><p>首先，串口传输数据只要有接收数据针脚和发送针脚就能实现：同一个串口的接收脚和发送脚直接用线相连，两个串口相连或一个串口和多个串口相连　</p><p>同一个串口的接收脚和发送脚直接用线相连 对9针串口和25针串口，均是2与3直接相连；</p><p>两个不同串口（不论是同一台计算机的两个串口或分别是不同计算机的串口）</p><p>上面表格是对微机标准串行口而言的，还有许多非标准设备，如接收GPS数据或电子罗盘数据，只要记住一个原则：接收数据针脚（或线）与发送数据针脚（或线）相连，彼此交叉，信 号 地 对应相接，就能百战百胜。</p><div class=pgc-img><img alt=串口通信RS232的基本接法，原来这么简单，今天终于弄明白了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8ce27d2f23fa4188b84f1a7bc94ede5c><p class=pgc-img-caption></p></div><p><strong>3、串 口调试中要注意的几点：</strong></p><p>串口调试时，准备一个好用的调试工具，如串口调试助手、串口精灵等，有事半功倍之效果； 强烈建议不要带电插拨串口，插拨时至少有一端是断电的，否则串口易损坏。</p><p><strong>单工、半双工和全双工的定义</strong></p><p>如果在通信过程的任意时刻，信息只能由一方A传到另一方B，则称为单工。</p><p>如果在任意时刻，信息既可由A传到B，又能由B传A，但只能由一个方向上的传输存在，称为半双工传输。</p><p>如果在任意时刻，线路上存在A到B和B到A的双向信号传输，则称为全双工。</p><p>电话线就是二线全双工信道。 由于采用了回波抵消技术，双向的传输信号不致混淆不清。双工信道有时也将收、发信道分开，采用分离的线路或频带传输相反方向的信号，如回线传输。</p><div class=pgc-img><img alt=串口通信RS232的基本接法，原来这么简单，今天终于弄明白了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/443c8ed43de14f9fbb70b086a3e9a4df><p class=pgc-img-caption></p></div><p><strong>奇偶校验</strong></p><p>串行数据在传输过程中，由于干扰可能引起信息的出错，例如，传输字符‘E’，其各位为：</p><p>　　0100，0101=45H</p><p>　　D7 D0</p><p>由于干扰，可能使位变为1，这种情况，我们称为出现了“误码”。我们把如何发现传输中的错误，叫“检错”。发现错误后，如何消除错误，叫“纠错”。</p><p>最简单的检错方法是“奇偶校验”，即在传送字符的各位之外，再传送1位奇/偶校验位。可采用奇校验或偶校验。</p><p>奇校验：所有传送的数位（含字符的各数位和校验位）中，“1”的个数为奇数，如：</p><p>　　1 0110，0101</p><p>　　0 0110，0001</p><p>偶校验：所有传送的数位（含字符的各数位和校验位）中，“1”的个数为偶数，如：</p><p>　　1 0100，0101</p><p>　　0 0100，0001</p><p>奇偶校验能够检测出信息传输过程中的部分误码（1位误码能检出，2位及2位以上误码不能检出），同时，它不能纠错。在发现错误后，只能要求重发。但由于其实现简单，仍得到了广泛使用。</p><p>有些检错方法，具有自动纠错能力。如循环冗余码（CRC）检错等。</p><div class=pgc-img><img alt=串口通信RS232的基本接法，原来这么简单，今天终于弄明白了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4514101b3ed24595b5edaef8bb6ac4ae><p class=pgc-img-caption></p></div><p><strong>串口通讯流控制</strong></p><p>我们在串行通讯处理中，常常看到RTS/CTS和XON/XOFF这两个选项，这就是两个流控制的选项，目前流控制主要应用于调制解调器的数据通讯中，但对普通RS232编程，了解一点这方面的知识是有好处的。那么，流控制在串行通讯中有何作用，在编制串行通讯程序怎样应用呢？这里我们就来谈谈这个问题。</p><p>（1）流控制在串行通讯中的作用</p><p>这里讲到的“流”，当然指的是数据流。数据在两个串口之间传输时，常常会出现丢失数据的现象，或者两台计算机的处理速度不同，如台式机与单片机之间的通讯，接收端数据缓冲区已满，则此时继续发送来的数据就会丢失。现在我们在网络上通过MODEM进行数据传输，这个问题就尤为突出。流控制能解决这个问题，当接收端数据处理不过来时，就发出“不再接收”的信号，发送端就停止发送，直到收到“可以继续发送”的信号再发送数据。因此流控制可以控制数据传输的进程，防止数据的丢失。 PC机中常用的两种流控制是硬件流控制（包括RTS/CTS、DTR/CTS等）和软件流控制XON/XOFF（继续/停止），下面分别说明。</p><div class=pgc-img><img alt=串口通信RS232的基本接法，原来这么简单，今天终于弄明白了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/32bce8e296dd4188b28ab6a3a8822c31><p class=pgc-img-caption></p></div><p>（2）硬件流控制</p><p>硬件流控制常用的有RTS/CTS流控制和DTR/DSR（数据终端就绪/数据设置就绪）流控制。</p><p>硬件流控制必须将相应的电缆线连上，用RTS/CTS（请求发送/清除发送）流控制时，应将通讯两端的RTS、CTS线对应相连，数据终端设备（如计算机）使用RTS来起始调制解调器或其它数据通讯设备的数据流，而数据通讯设备（如调制解调器）则用CTS来启动和暂停来自计算机的数据流。这种硬件握手方式的过程为：我们在编程时根据接收端缓冲区大小设置一个高位标志（可为缓冲区大小的75％）和一个低位标志（可为缓冲区大小的25％），当缓冲区内数据量达到高位时，我们在接收端将CTS线置低电平（送逻辑0），当发送端的程序检测到CTS为低后，就停止发送数据，直到接收端缓冲区的数据量低于低位而将CTS置高电平。RTS则用来标明接收设备有没有准备好接收数据。　</p><p>常用的流控制还有还有DTR/DSR（数据终端就绪/数据设置就绪）。我们在此不再详述。由于流控制的多样性，我个人认为，当软件里用了流控制时，应做详细的说明，如何接线，如何应用。</p><div class=pgc-img><img alt=串口通信RS232的基本接法，原来这么简单，今天终于弄明白了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/20d1c6dcbf574d14a14d1ea38c2d7fbb><p class=pgc-img-caption></p></div><p>（3）软件流控制</p><p>由于电缆线的限制，我们在普通的控制通讯中一般不用硬件流控制，而用软件流控制。一般通过XON/XOFF来实现软件流控制。常用方法是：当接收端的输入缓冲区内数据量超过设定的高位时，就向数据发送端发出XOFF字符（十进制的19或Control-S，设备编程说明书应该有详细阐述），发送端收到XOFF字符后就立即停止发送数据；当接收端的输入缓冲区内数据量低于设定的低位时，就向数据发送端发出XON字符（十进制的17或Control-Q），发送端收到XON字符后就立即开始发送数据。一般可以从设备配套源程序中找到发送的是什么字符。　　</p><p>应该注意，若传输的是二进制数据，标志字符也有可能在数据流中出现而引起误操作，这是软件流控制的缺陷，而硬件流控制不会有这个问题。</p><p><strong>工业物联网@帝特</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'串口','RS232','原来'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>