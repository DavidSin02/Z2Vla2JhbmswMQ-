<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>国际汇款之账户体系与记账处理 | 极客快訊</title><meta property="og:title" content="国际汇款之账户体系与记账处理 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/RZw5SJ5Eh1PKL9"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/4eda03b5.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/4eda03b5.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/4eda03b5.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/4eda03b5.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/4eda03b5.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/4eda03b5.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/4eda03b5.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/4eda03b5.html><meta property="article:published_time" content="2020-11-14T20:53:58+08:00"><meta property="article:modified_time" content="2020-11-14T20:53:58+08:00"><meta name=Keywords content><meta name=description content="国际汇款之账户体系与记账处理"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E5%AD%A6/4eda03b5.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>国际汇款之账户体系与记账处理</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E5%AD%A6.html>科学</a></span></div><div class=post-content><blockquote><p>本文主要讲述了国际汇款系统的记账原理以及账户体系的设计框架与结构。</p></blockquote><img alt=国际汇款之账户体系与记账处理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RZw5SJ5Eh1PKL9><p></p><h1 toutiao-origin=h2>一、为什么要做账户体系</h1><p>可能有人问，系统一定要设计账户体系吗？</p><p>原则上，如果你的系统不是转接系统，那么在使用上是会用到账户的。（转接系统指的是，系统本身不过账，商户端提交信息，系统解析后组成报文转发至渠道侧，由渠道方直接给商户结算，系统只记录信息流）</p><p>在国际汇款产品中，账户既是资金流转的载体，也是财务核算的工具。所以，账户体系的设计是整个核心系统的底层基础，是核心系统在基础金融服务的基础上，为用户提供对于资金收、付、管的服务。</p><p></p><h1 toutiao-origin=h2>二、账户到底能干嘛</h1><p>账户体系的设计，主要依据于账户在系统中的作用。一般系统中，账户常用的用途有：</p><ol><li>记录客户在系统中的交易余额增减</li><li>记录账务流水的历史</li><li>帮助自有平台完成会计账记录与核算</li></ol><p></p><h1 toutiao-origin=h2>三、系统的记账原理</h1><p>上面说了账户的用途主要是作为财务核算的工具，那么我们来看一下，系统是如何记账的？</p><p>为提高交易性能（尤其是交易量很大的2C类产品），我们常常在设计系统的时候，将交易与账务分离，以提高交易处理的性能和效率。所以，记账一般分为2步：</p><ol><li>支付完成后同步记流水账（单边记账）；</li><li>异步通知会计系统记会计账（复式记账）。</li></ol><p>所以，账务的处理分为账务系统处理和会计系统处理。</p><p></p><h2 toutiao-origin=h3>账务处理</h2><p>用户触发交易，交易系统生成一条交易流水，并在付款成功后，将交易流水发送至账务系统，生成一条记账请求。</p><p>账务系统为每笔交易分配账务流水号，并调用计费服务，算出商户的交易手续费。系统进行实时生成一条流水账，流水账里会包含交易流水号、产品、交易类型，交易金额、币种、交易主体等。账务系统采用单边记账的方式，记流水账，同时更新账户余额。</p><p></p><h2 toutiao-origin=h3>会计处理</h2><p>账务系统记账完成后，系统会定时通过批处理的方式将将流水账发送至会计系统，并触发写事件组件来存放一笔交易下的所有事件记录，并调用事先维护好的事件分录，从而“拼成”会计传票，即会计分录。</p><p>会计系统采用复式记账的方式，记会计账，同时更新会计余额。</p><p>会计记账完毕后，每日日终进行会计系统会进行试算平衡检查，保证记账准确性。另外，对账系统也会对账务系统和会计系统的余额进行对账。</p><img alt=国际汇款之账户体系与记账处理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/Rcb0Vv6EB95R5j><p><strong>注：</strong></p><ul><li>分户账（外）：客户账，账户系统记录的流水账，采用单式记账法，满足让用户及时看到账户余额和订单状态；</li><li>分户账（内）：内部账，会计系统记录的会计账，采用复式记账法。记录会计分录和余额，为日终对账和清算提供支持。</li></ul><p>从记账原理中，我们看到一件事：是<strong>交易驱动记账</strong>，从而产生了流水账和会计账，同时更新了账户余额与会计余额。</p><p>另一方面，我们将提供的业务服务包装成产品，并通过产品定义与产品定价向外输出，而交易归属于产品，是产品的拆分。所以，产品-交易-账户-会计，从上到下形成一个链条。</p><p></p><h1 toutiao-origin=h2>四、建立账户体系</h1><p>前面我们已经提到，账户更新的时候先更新分户账（外），再更新分户账（内），所以账户可以划分为客户账户与内部账户，其中，客户账户主要记录商户端账务信息，内部账户主要记录平台自身的账务信息。另外，账户的类型可以根据用途和会计科目设置。</p><p>例如，国际汇款产品的账户整体框架就可以这样设计：</p><img alt=国际汇款之账户体系与记账处理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/Rcb0VvG1u95ZZa><p><strong>商户端：</strong></p><ul><li>多币种余额：主要记录商户在平台上不同币种的账户余额；</li><li>实体账户：主要记录开立为商户开立的实体账户信息（平台为商户提供的增值服务）；</li><li>业务中间账户：过渡账户；</li><li>固定风险备用金账户：对于一些风险业务，会收取一定的备用金（预留）；</li><li>预付手续费账户：主要用于先付费业务（预留）</li></ul><p><strong>平台端：</strong></p><ul><li>银行存款账户：资产类账户，记录平台银行账户收付信息；</li><li>其他应付款账户：负债类账户，记录应付给商户的资金信息；</li><li>货币兑换账户：共同类账户，记录外汇买卖时的资金变化；</li><li>汇兑损益账户：损益类账户，记录货币兑换时发生的损益情况；</li><li>营业收入账户：损益类账户，记录平台的收入情况，一般可按照产品设置手续费账户；</li><li>费用账户：损益类账户，记录平台的支出费用，如通道成本等。</li></ul><p></p><h1 toutiao-origin=h2>五、账户结构</h1><img alt=国际汇款之账户体系与记账处理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/Rcb0VvOnwtdY2><p></p><h1 toutiao-origin=h2>六、小结</h1><p>账户体系的设计，既要满足业务发展的需要，又不可过于繁琐、阵仗过大。一些产品在初期交易体量不大，或者某些公司有自己独立财务系统的情况下，可以先不用设计内部账，只设计客户账，通过交易记流水，财务人员可以通过下载交易流水与自己的财务系统或者台账进行对账也是可以的。</p><p>本文由 @锅包肉 原创发布于人人都是产品经理。未经许可，禁止转载。</p><p>题图来自Unsplash，基于CC0协议</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'国际','汇款','账户'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>