<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>网管技术贴：三层交换机与路由器的区别 | 极客快訊</title><meta property="og:title" content="网管技术贴：三层交换机与路由器的区别 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/153562466445537cf4d8864"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/565afccc.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/565afccc.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/565afccc.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/565afccc.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/565afccc.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/565afccc.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/565afccc.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/565afccc.html><meta property="article:published_time" content="2020-11-14T20:50:24+08:00"><meta property="article:modified_time" content="2020-11-14T20:50:24+08:00"><meta name=Keywords content><meta name=description content="网管技术贴：三层交换机与路由器的区别"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E5%AD%A6/565afccc.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>网管技术贴：三层交换机与路由器的区别</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E5%AD%A6.html>科学</a></span></div><div class=post-content><div><p>在众多的网络产品中，交换机对于构建高性能的网络起着至关重要的作用，其技术发展同样令人瞩目。现在，"第三层交换"这个词在业界已经比较流行了，在大中型网络中，已经有了很多以千兆第三层交换机为核心的网络。随着我国企业网、校园网以及宽带网的迅速发展，第三层交换机成为新的市场增长点，它的应用也从最初网络中心的骨干层、汇聚层一直渗透到网络边缘的接入层。而该领域也不再由国外厂商独领风骚，许多国内厂商，如TCL网络和神州数码网络等都推出了各具特色的第三层交换产品。</p><p><strong>一、交换技术的发展</strong></p><p>计算机技术与通信技术的结合促进了计算机局域网的飞速发展，从20世纪60年代末Aloha网的出现，到90年代后期千兆交换式以太网的登台亮相，短短的30年间，经历了从单工到双工、从共享到交换、从低速到高速、从简单到复杂、从昂贵到普及、从第二层交换到多层交换的飞跃。</p><p><strong>1.第二层交换</strong></p><p>在刚开始组建局域网时，主要局限于主机连接、文件和打印共享，多个用户共享10Mbps带宽就能满足这些需求。随着网络规模的日益扩大，先前的网络系统已不能胜任，这是因为在局域网中，最早的网络互联设备是集线器，它是第一层(物理层)设备。由于在这种基于CSMA/CD物理层协议的网络中，经常发生用户数据的冲突，并由此导致重发数据，使传输的效率大大降低。当时采用了第二层(数据链路层)设备网桥，它起到细化网段和减小冲突域的作用，从而优化了局域网的性能。但网桥是对高层(第三层以上)协议透明的设备，不能有效阻止广播风暴，因此需要采用路由器。路由器在子网间互联、安全控制和广播风暴限制等方面起了关键的作用，但复杂的算法、较低的数据吞吐量使其成为网络的瓶颈。为了解决以上问题，业界对网桥进行了改进，制造出局域网交换机，用它来替代集线器，以提高网络的性能。</p><p>局域网交换机是一种第二层网络设备，它在运行过程中不断收集和建立自己的MAC地址表，并且定时刷新。它的引入使网络各站点之间可独享带宽，消除了无谓的冲突检测和出错重发，提高了传输效率，而且是点对点传送用户数据，其他节点是不可见的。但第二层交换也有其弱点，包括不能有效解决广播风暴、异种网络互联和安全性控制等问题。因此，产生了交换机上的VLAN(虚拟局域网)技术。</p><p><strong>2.第三层交换</strong></p><p>第二层交换机工作在OSI参考模型的第二层--数据链路层上，主要功能包括物理编址、网络拓扑结构、错误校验、帧序列以及流量控制等。为了改进交换机的性能，又推出了第三层交换机，它在保留第二层计算机所有功能的前提上，增加了许多新的功能，如对VLAN的支持、对链路汇聚的支持，甚至具有防火墙的功能等。简单来说，所谓的第三层交换机就是在基于协议的VLAN划分时，增加了路由功能。</p><p>第三层交换机是Intranet应用的关键，它将第二层交换机和第三层路由器两者的优势有机而智能化地结合成一个灵活的解决方案，可在各个层次提供线速性能。这种集成化的结构还引进了策略管理属性，不仅使第二层与第三层相互关联起来，而且还提供流量优先化处理、安全访问机制以及其他多种功能。</p><p>第三层交换机分为接口层、交换层和路由层等3个部分。接口层包含了所有重要的局域网接口，如10/100Mbps以太网、千兆以太网、FDDI和ATM等;交换层集成了多种局域网接口，并辅之以策略管理，同时还提供链路汇聚、VLAN和标记机制;路由层提供主要的局域网路由协议，包括IP、IPX和AppleTalk等，并通过策略管理，提供传统路由或直通的第三层转发技术。策略管理和行政管理相结合，使得网络管理员能够根据企业的特定需求调整网络。</p><div class=pgc-img><img alt=网管技术贴：三层交换机与路由器的区别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/153562466445537cf4d8864><p class=pgc-img-caption></p></div><p>一般来说，第三层交换产品都采用可编程可扩展的ASIC芯片技术，可以提供以下一些丰富的特性：</p><p>(1)在所有端口，针对所有网络接口和协议的无阻塞线速交换和路由;</p><p>(2)具有极高的吞吐量，数据包的转发速度(即转发包/每秒，pps)通常比中高端路由器还要快10～100倍;</p><p>(3)多种协议的路由选择，如IP(RIPv1/v2、OSPF)、IP Multicast(DVMRP、PIM)和IPX等;</p><p>(4)支持多种VLAN的划分，能够根据端口/MAC地址、协议、IP子网、IEEE 802.1Q或Cisco ISL等划分;</p><p>(5)具有带宽预留(RSVP)及具有服务类别(CoS)和服务质量(QoS)的业务量优先级处理，支持IEEE 802.1p和业务分类(DifferServ);</p><p>(6)可设定访问列表控制(Access List Control)的过滤规则，或基于防火墙的安全策略;</p><p>(7)支持通过以太网的点到点协议(PPPoE)，支持安全用户认证，配合用户计费，增强用户管理特性;</p><p>(8)支持以太网带宽单元递增分配服务;</p><p>(9)ASIC的可编程性，支持诸如IPv6的技术和其他未来技术，保护用户投资。</p><p><strong>二、第三层交换与路由器的比较</strong></p><div class=pgc-img><img alt=网管技术贴：三层交换机与路由器的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15356246872309f5e26af05><p class=pgc-img-caption></p></div><p>在过去，网络中的数据大都遵守"80/20"规则，即网络中只有大约20%的数据包是通过骨干路由器与中央服务器或企业网络的其他部分进行通信，而80%的网络流量主要仍集中在不同的部门子网内。而现在，情况却发生了根本性的变化，以至形成了"20/80"规则。为了应付不断增长的数据流量，共享介质型的网络纷纷被交换型网络所替代。这种变化对原来用于网络分段的传统路由器产生了直接的冲击。鉴于大部分的数据流量都跨越 IP子网，路由器事实上已经成为了网络传输的瓶颈。</p><p>传统的路由器主要功能是实现路由选择与网络互联，即通过一定途径获得子网的拓扑信息与各物理线路的网络特性，并通过一定的路由算法获得达到各子网的最佳路径，建立相应路由表，从而将每个IP包跳到跳(hop to hop)传到目的地; 其次，它必须处理不同的链路协议。IP包途经每个路由器时，需经过排队、协议处理和寻址选择路由等软件处理环节，造成延时加大。同时路由器采用共享总线方式，总的吞吐量受到限制，当用户数量增加时，每个用户的接入速率降低。路由器更注重对多种介质类型和多种传输速度的支持，而目前数据缓冲和转换能力比线速吞吐能力和低时延更为重要。虽然路由器的性能最近也得到了一定的提高，大约达到1Mpps，但采用这种路由器的费用也高得惊人。</p><p>和路由技术相比，交换技术的好处就是速度快，当网络规模很大时，高速、大容量路由器是十分必要的。另一方面，由于现代通信网络大都采用光纤技术，所以现在数据网络的主要瓶颈是节点路由器。现在的第三层交换、路由交换或其他名词都是这种思路的结果。虽然第三层交换最初是为局域网设计的，它采用目的IP地址进行交换，但是现在这种技术也已经开始在广域网中使用。</p><p>第三层交换在现在的网络建设中起着越来越重要的作用，它不需要将广播封包扩散，而是直接利用动态建立的MAC地址来通信，如IP地址、ARP等，具有多路广播和虚拟网间基于IP和IPX等协议的路由功能，这方面功能的顺利实现，主要依靠专用集成电路(ASIC)。把传统的路由软件处理的指令改为ASIC芯片的嵌入式指令，从而加速了对包的转发和过滤，使得高速下的线性路由和服务质量都有了可靠的保证。</p><p><strong>三、第三层交换的应用</strong></p><div class=pgc-img><img alt=网管技术贴：三层交换机与路由器的区别 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/15356247207335ca1b4c406><p class=pgc-img-caption></p></div><p>第三层交换机的应用其实很简单，主要用途是代替传统路由器作为网络的核心。因此，凡是没有广域网连接需求，同时又需要路由器的地方，都可以用第三层交换机来代替。</p><p>在企业网和校园网中，一般会将第三层交换机用在网络的核心层，用第三层交换机上的千兆端口或百兆端口连接不同的子网或VLAN。这样网络结构相对简单，节点数相对较少; 另外，其不需要较多的控制功能，并且成本较低。</p><p>在目前火爆的宽带网络建设中，第三层交换机一般被放置在小区的中心和多个小区的汇聚层，第三层交换机的出现动摇了企业路由器的地位。正如路由器统治广域网一样，第三层交换机将在今后主宰局域网已成为不争的事实。</p><p>从当前国内的情况来看，第三层交换机发展势头良好。可喜的是，许多国内厂商纷纷推出第三层以太网交换机，而且性能良好。第三层交换机在应用方面具有以下特点。</p><p><strong>1.担当骨干交换机</strong></p><p>第三层交换机一般用于网络的骨干交换机和服务器群交换机，也可作为网络节点交换机。在网络中，同其他以太网交换机配合使用，网络管理员能构造无缝的10/100/1000Mbps以太网交换系统，为整个信息系统提供统一的网络服务。这样的网络系统结构简单，同时还具有可伸缩性和基于策略的QoS服务等功能。第三层交换机为网络提供QoS服务的内容包括优先级管理、带宽管理、VLAN交换等。基于策略的QoS使得网络管理员能为各种不同类型的网络流量包括TCP/UDP会话按优先级分配带宽，而且没有任何交换性能上的损失。</p><p>由于应用的需求，骨干交换机多为千兆交换机，所以目前第三层交换机也多为千兆交换机，可以提供10/100Mbps自适应端口和千兆端口，既可以连接铜线，也可以连接光纤，并提供高性能的背板通道。这类交换机有机柜式的，也有可堆叠的，可以根据不同的情况选用。</p><p><strong>2.支持Trunk协议</strong></p><p>在应用中，经常有以太网交换机相互连接或以太网交换机与服务器互联的情况，其中互联用的单根连线往往会成为网络的瓶颈。采用Trunk技术能将若干条相同的源交换机与目的交换机的以太网连接线从逻辑上看成一条连接线。这样既保证局域网不会出现环路，同时也有效地加大了连接带宽。性能良好的第三层交换机全面支持Trunk协议，一些可支持8组Trunk，从而能够有效解决了企业局域网中的连接带宽问题。</p><p><strong>3.实现组播和自学</strong></p><p>一些第三层除了支持动态路由协议RIP和OSPF外，针对日渐流行的支持多点组播的需求，还能够实施基于标准的多点组播协议，如距离矢量多点组播路由协议(DVMRP)。</p><p>第三层交换机还可以支持自学习功能，它能自动发现主机的IP地址与连接端口的对应关系，而不使用任何路由协议。一旦把交换机接入网络，它就通过不断地侦听ARP、RIP和ICMP数据包来学习所有连接的主机的IP地址和子网掩码信息。根据学习到的信息，交换机将建立和维护路由表中的路由信息，并且自动地为所有IP数据包提供路由服务。</p><p><strong>4.提高安全性</strong></p><p>在网络中，对于所传输数据包，出于安全考虑，需要根据很多规则对数据进行过滤，确保只有符合规定的数据包才能通过第三层交换机。第三层交换机支持内部具有硬件的过滤器，能在不降低系统性能的情况下对所有数据包进行过滤，而且能根据从第二层到第七层的任意内容对数据包进行过滤。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'网管','技术','三层'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>