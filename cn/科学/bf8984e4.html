<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>UART通讯总线工作原理的理解--龚玉山 | 极客快訊</title><meta property="og:title" content="UART通讯总线工作原理的理解--龚玉山 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/842bf9c3b2e1476086cbc791e2e00dcc"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/bf8984e4.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/bf8984e4.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/bf8984e4.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/bf8984e4.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/bf8984e4.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/bf8984e4.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/bf8984e4.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/bf8984e4.html><meta property="article:published_time" content="2020-11-14T20:50:52+08:00"><meta property="article:modified_time" content="2020-11-14T20:50:52+08:00"><meta name=Keywords content><meta name=description content="UART通讯总线工作原理的理解--龚玉山"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E5%AD%A6/bf8984e4.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>UART通讯总线工作原理的理解--龚玉山</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E5%AD%A6.html>科学</a></span></div><div class=post-content><p>奥的斯电梯OCSS/LCBII /TCBC/GECB板与电梯轿厢和电梯井道之间的串行通讯采用了UART通讯，将井道和轿厢的输入、输出和开关部件的信号转换成串行通讯信号传输给电梯操作控制系统，大大节省了现场布线，下面就UART通讯总线工作原理的理解予以描述。</p><p>通用异步收发传输器（Universal Asynchronous Receiver/Transmitter)，通常称作UART。它将要传输的资料在串行通信与并行通信之间加以转换。作为把并行输入信号转成串行输出信号的芯片，UART通常被集成于其他通讯接口的连结上。</p><p>它不是像SPI和I2C这样的通信协议，而是微控制器中独立的物理电路或独立的IC。UART最好的一点是它只使用两根线就可以在设备之间传输数据，UART背后的原理很容易理解。</p><p><strong>UART通信简介</strong></p><div class=pgc-img><img alt=UART通讯总线工作原理的理解--龚玉山 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/842bf9c3b2e1476086cbc791e2e00dcc><p class=pgc-img-caption></p></div><p>在UART通信中，两个UART直接相互通信。发送UART将来自CPU等控制设备的并行数据转换为串行形式，并将其串行发送到接收UART，接收UART然后将串行数据转换回接收设备的并行数据。在两个UART之间传输数据只需要两根线。数据从发送UART的Tx引脚流向接收UART的Rx引脚：</p><div class=pgc-img><img alt=UART通讯总线工作原理的理解--龚玉山 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a028a418d4b844478cc123f59e0c70be><p class=pgc-img-caption></p></div><p>UART以异步方式发送数据，这意味着没有时钟信号将发送UART的位输出与接收UART的位采样同步。发送UART不是时钟信号，而是将开始和停止位添加到正在传输的数据包中。这些位定义数据包的开始和结束，因此接收UART知道何时开始读取位。</p><p>当接收UART检测到起始位时，它开始以称为波特率的特定频率读取输入位。波特率是数据传输速度的度量，以每秒位数（bps）表示。两个UART必须以大致相同的波特率运行。发送和接收UART之间的波特率只能相差10％左右。</p><p>两个UART还必须配置为发送和接收相同的数据包结构。</p><div class=pgc-img><img alt=UART通讯总线工作原理的理解--龚玉山 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/cdbbe90310a64738bdca584b0f5f20df><p class=pgc-img-caption></p></div><p><strong>UART如何工作</strong></p><p>UART传输数据依靠的是UART总线，数据总线用于通过CPU，存储器或微控制器等其他设备将数据发送到UART。数据以并行形式从数据总线传输到发送UART。在发送UART从数据总线获得并行数据之后，它将添加起始位，奇偶校验位和停止位，从而创建数据包。接下来，数据包在Tx引脚上逐位串行输出。UART接收端则在其Rx引脚上逐位读取数据包。然后，接收UART将数据转换回并行形式，并删除起始位，奇偶校验位和停止位。最后，接收UART将数据包并行传输到接收端的数据总线：</p><div class=pgc-img><img alt=UART通讯总线工作原理的理解--龚玉山 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/25fc8b425dc54a1490b1be61d7d916f5><p class=pgc-img-caption></p></div><p>UART传输的数据被组织成数据包。每个数据包包含1个起始位，5到9个数据位（取决于UART），可选的奇偶校验位以及1或2个停止位：</p><div class=pgc-img><img alt=UART通讯总线工作原理的理解--龚玉山 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/5ac6ce922a03420bb19f81f962a65fcc><p class=pgc-img-caption></p></div><p><strong>开始位</strong></p><p>当UART数据传输线不传输数据时，它通常保持在高电压电平。为了开始数据传输，发送UART将传输线从高电平拉至低电平一个时钟周期。当接收UART检测到高电压到低电压转换时，它开始以波特率的频率读取数据帧中的位。</p><p><strong>数据框</strong></p><p>数据框包含要传输的实际数据。如果使用奇偶校验位，则它可以是5位到8位长。如果不使用奇偶校验位，则数据帧可以是9位长。在大多数情况下，数据首先以最低有效位发送。</p><p><strong>奇偶校验位</strong></p><p>奇偶校验描述数字的均匀性或奇数。奇偶校验位是接收UART在传输过程中判断是否有任何数据发生变化的一种方法。电磁辐射、不匹配的波特率或长距离传输时，数据都有可能发生变化。接收UART读取数据帧后，它会计算值为1的位数，并检查总数是偶数还是奇数。如果奇偶校验位为0（偶校验），则数据帧中的1位应总计为偶数。如果奇偶校验位是1（奇校验），则数据帧中的1位应总计为奇数。当奇偶校验位与数据匹配时，UART知道传输没有错误。但如果奇偶校验位为0，然而1位应总计为奇数;或者奇偶校验位是1，并且1位应总计是偶数，则数据帧中的位已经改变。</p><p>停止位</p><p>为了通知传输数据包的结束，UART发送端会将数据传输线从低电压驱动至高电压至少两位持续时间。</p><p>UART传输步骤</p><p>1.发送UART从数据总线并行接收数据：</p><div class=pgc-img><img alt=UART通讯总线工作原理的理解--龚玉山 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b02035657d5340eb9e2669c21c082bed><p class=pgc-img-caption></p></div><p>2.发送UART将起始位，奇偶校验位和停止位添加到数据帧：</p><div class=pgc-img><img alt=UART通讯总线工作原理的理解--龚玉山 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b1329107ec5542fdb4efd88a7fffb3c4><p class=pgc-img-caption></p></div><p>3.整个数据包从发送UART串行发送到接收UART。接收UART以预先配置的波特率对数据线进行采样：</p><div class=pgc-img><img alt=UART通讯总线工作原理的理解--龚玉山 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5ed4b99137a64f119d4f866102d7614e><p class=pgc-img-caption></p></div><p>4.接收UART丢弃数据帧中的起始位，奇偶校验位和停止位：</p><div class=pgc-img><img alt=UART通讯总线工作原理的理解--龚玉山 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/50c948b07e604140b75c4fbe11d0040c><p class=pgc-img-caption></p></div><p>5.接收UART将串行数据转换回并行并将其传输到接收端的数据总线：</p><div class=pgc-img><img alt=UART通讯总线工作原理的理解--龚玉山 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/13a3af4853f24ec1bebc6cac35e6b436><p class=pgc-img-caption></p></div><p><strong>UART的优点和缺点</strong></p><p>没有任何一种通信协议是完美的，以下是一些优点和缺点，可帮助您确定它们是否符合您项目的需求：</p><p><strong>优点</strong></p><p>只使用两根电线</p><p>不需要时钟信号</p><p>有一个奇偶校验位</p><p>只要双方设置后，就可以改变数据包的结构</p><p>有完整的文档并且具有广泛的使用</p><p><strong>缺点</strong></p><p>数据帧的大小限制为最多9位（9bit），也就是最大帧为起始位1位（1bit）+数据位9位（9bit）+奇偶校验1位（1bit）+停止位2位（2bit）</p><p>不支持多个从属或多个主系统</p><p>每个UART的波特率必须在10％之内</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'UART','通讯','总线'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>