<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>TensorFlow è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œæ‹Ÿåˆæ­£å¼¦å‡½æ•°çš„è¯¦ç»†è¿‡ç¨‹ï¼ˆå«ä»£ç ï¼‰ | æå®¢å¿«è¨Š</title><meta property="og:title" content="TensorFlow è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œæ‹Ÿåˆæ­£å¼¦å‡½æ•°çš„è¯¦ç»†è¿‡ç¨‹ï¼ˆå«ä»£ç ï¼‰ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/07ba2801bb4a4fcba38ad8ba8d575696"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c10cccf3.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c10cccf3.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/c10cccf3.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c10cccf3.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c10cccf3.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/c10cccf3.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/c10cccf3.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c10cccf3.html><meta property="article:published_time" content="2020-11-14T20:58:34+08:00"><meta property="article:modified_time" content="2020-11-14T20:58:34+08:00"><meta name=Keywords content><meta name=description content="TensorFlow è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œæ‹Ÿåˆæ­£å¼¦å‡½æ•°çš„è¯¦ç»†è¿‡ç¨‹ï¼ˆå«ä»£ç ï¼‰"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E5%AD%A6/c10cccf3.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>TensorFlow è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œæ‹Ÿåˆæ­£å¼¦å‡½æ•°çš„è¯¦ç»†è¿‡ç¨‹ï¼ˆå«ä»£ç ï¼‰</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E5%AD%A6.html>ç§‘å­¦</a></span></div><div class=post-content><div><p>é‡‡ç”¨TensorFlow å®ç°ä¸€ä¸ªå…¨è¿æ¥çš„æ·±åº¦ç¥ç»å¾€ï¼Œæ‹Ÿåˆæ­£å¼¦å‡½æ•°ã€‚</p><p>æ­£å¼¦å‡½æ•°çš„å…¬å¼ï¼šy = sin(x)</p><p>ä¸‹é¢å…·ä½“æ“ä½œæ˜¯åœ¨æœ¬åœ° Jupyter Notebook ç¯å¢ƒä¸­å®Œæˆçš„ï¼Œå¯¹Jupyter Notebook ä¸ç†Ÿæ‚‰çš„åŒå­¦ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„é“¾æ¥ã€‚</p><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6713091746764423692/?group_id=6713091746764423692" target=_blank>Windowsä¸‹çš„Jupyter Notebook å®‰è£…ä¸è‡ªå®šä¹‰å¯åŠ¨ï¼ˆå›¾æ–‡è¯¦è§£ï¼‰</a></p><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6705855555849683469/?group_id=6705855555849683469" target=_blank>Jupyter Notebookç¥å™¨-å…è´¹ä½“éªŒæ¥è‡ªå¾®è½¯çš„Azure Notebook</a></p><div class=tt-column-card data-content='{"new_thumb_url": "http://sf1-ttcdn-tos.pstatp.com/img/pgc-image/1554257239510c388d75d26", "title": "TensorFlow\u6df1\u5ea6\u5b66\u4e60\u5b9e\u8df5", "distribution_user_id": 1593359982664708, "price": 147, "column_id": "6675492781865042180", "share_price": 35.28, "author_description": "AI\u706b\u7bad\u8425", "thumb_url": "http://p2.pstatp.com/large/pgc-image/1554257239510c388d75d26", "sold": 38}'></div><h1><strong>1. éœ€è¦æ„å»ºçš„TensorFlowç½‘ç»œç»“æ„</strong></h1><p>ä¸‹é¢è¦æ„å»ºçš„æ¨¡æ‹Ÿæ­£å¼¦å‡½æ•°çš„ç¥ç»ç½‘ç»œï¼ŒåŒ…å«3ä¸ªéšè—å±‚ï¼Œæ¯ä¸ªéšè—å±‚16ä¸ªéšè—èŠ‚ç‚¹ï¼Œå•å˜é‡è¾“å…¥ï¼Œå•å˜é‡è¾“å‡ºï¼Œå„å±‚çš„æ¿€æ´»å‡½æ•°éƒ½é‡‡ç”¨ sigmoidå‡½æ•°ï¼Œéœ€è¦æ„å»ºçš„ç½‘ç»œç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><div class=pgc-img><img alt="TensorFlow è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œæ‹Ÿåˆæ­£å¼¦å‡½æ•°çš„è¯¦ç»†è¿‡ç¨‹ï¼ˆå«ä»£ç ï¼‰" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/07ba2801bb4a4fcba38ad8ba8d575696><p class=pgc-img-caption></p></div><h1><strong>2. ç»˜åˆ¶æ ‡å‡†çš„sinæ›²çº¿</strong></h1><p>ä¸‹é¢å®ç°ç»˜åˆ¶æ ‡å‡†çš„æ­£å¼¦å‡½æ•°ï¼Œä¹‹åæ ‡å‡†çš„æ­£å¼¦å‡½æ•°å’Œæ¨¡æ‹Ÿç»“æœéƒ½é‡‡ç”¨ pylab.plot ç”»åˆ°å›¾ä¸Šï¼Œæ–¹ä¾¿åšå¯¹æ¯”ã€‚</p><div class=pgc-img><img alt="TensorFlow è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œæ‹Ÿåˆæ­£å¼¦å‡½æ•°çš„è¯¦ç»†è¿‡ç¨‹ï¼ˆå«ä»£ç ï¼‰" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d2034f39eb4244c8a9dbd3ec89b2702a><p class=pgc-img-caption></p></div><p><strong>å…·ä½“ä»£ç ï¼š</strong></p><p>å¯¼å…¥ç›¸åº”çš„PythonåŒ…å’Œæ¨¡å—ã€‚</p><blockquote><p>import tensorflow as tf</p><p>import math</p><p>import numpy as np</p><p>import matplotlib.pyplot as plt</p><p>import pylab</p></blockquote><p>å®šä¹‰draw_sin_line() å‡½æ•°ï¼Œè¯¥å‡½æ•°ç”¨æ¥ç»˜åˆ¶æ ‡å‡†çš„sinæ›²çº¿ã€‚</p><blockquote><p>def draw_sin_line():</p><p>'''</p><p>ç»˜åˆ¶æ ‡å‡†çš„sinæ›²çº¿</p><p>'''</p><p>x = np.arange(0, 2*np.pi, 0.01)</p><p>x = x.reshape((len(x), 1))</p><p>y = np.sin(x)</p><p>pylab.plot(x, y, label='æ ‡å‡†çš„sinæ›²çº¿')</p><p>plt.axhline(linewidth=1, color='r')</p><p>plt.axvline(x=np.pi, linestyle='--', linewidth=1, color='g')</p></blockquote><p>pylabå°†æ‰€æœ‰çš„åŠŸèƒ½å‡½æ•°ï¼ˆpyplotçŠ¶æ€æœºå‡½æ•°ï¼Œå¤§éƒ¨åˆ†æ˜¯ numpyé‡Œé¢çš„å‡½æ•°ï¼‰å…¨éƒ¨å¯¼å…¥å…¶å•ç‹¬çš„å‘½åç©ºé—´å†…ã€‚ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Œæ˜¯å› ä¸ºè¿™æ ·å¯ä»¥å¾ˆå¥½åœ°ä¸ipythonï¼ˆæˆ–è€…ç±»ä¼¼çš„IDEï¼Œæ¯”å¦‚pycharmï¼‰å®ç°å¾ˆå¥½çš„äº¤äº’æ¨¡å¼ã€‚</p><p>ä¸Šé¢è°ƒç”¨ pylabçš„plotå‡½æ•°ç»˜åˆ¶æ›²çº¿ï¼Œpylabæ˜¯pythonä¸‹æŒºä¸é”™çš„ä¸€ä¸ªç”»å›¾æ¨¡å—ï¼Œä½¿ç”¨ä¹Ÿéå¸¸ç®€å•ã€‚</p><p>plt.axhline()å‡½æ•°ï¼Œç»˜åˆ¶å¹³è¡Œäºxè½´çš„æ°´å¹³å‚è€ƒçº¿ã€‚</p><p>plt.axvline()å‡½æ•°ï¼Œç»˜åˆ¶å¹³è¡Œäºyè½´çš„å‚ç›´å‚è€ƒçº¿ã€‚</p><h1><strong>3. åˆ›å»ºè®­ç»ƒæ ·æœ¬</strong></h1><p>å®šä¹‰ get_train_data() å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªè®­ç»ƒæ ·æœ¬(train_x, train_y)ï¼Œå…¶ä¸­ train_x æ˜¯éšæœºçš„è‡ªå˜é‡ï¼Œtrain_y æ˜¯train_x çš„sinå‡½æ•°å€¼ã€‚</p><p><strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><blockquote><p>def get_train_data():</p><p>'''</p><p>è¿”å›ä¸€ä¸ªè®­ç»ƒæ ·æœ¬(train_x, train_y)</p><p>å…¶ä¸­ train_x æ˜¯éšæœºçš„è‡ªå˜é‡ï¼Œtrain_y æ˜¯train_x çš„sinå‡½æ•°å€¼</p><p>'''</p><p>train_x = np.random.uniform(0.0, 2*np.pi, (1))</p><p>train_y = np.sin(train_x)</p><p>return train_x, train_y</p></blockquote><p>å‡½æ•°åŸå‹ï¼š numpy.random.uniform(low,high,size)</p><p>åŠŸèƒ½ï¼šä»ä¸€ä¸ªå‡åŒ€åˆ†å¸ƒ[low,high)ä¸­éšæœºé‡‡æ ·ï¼Œæ³¨æ„å®šä¹‰åŸŸæ˜¯å·¦é—­å³å¼€ï¼Œå³åŒ…å«lowï¼Œä¸åŒ…å«high.</p><p>å‚æ•°ä»‹ç»:</p><p>low: é‡‡æ ·ä¸‹ç•Œï¼Œfloatç±»å‹ï¼Œé»˜è®¤å€¼ä¸º0ï¼›</p><p>high: é‡‡æ ·ä¸Šç•Œï¼Œfloatç±»å‹ï¼Œé»˜è®¤å€¼ä¸º1ï¼›</p><p>size: è¾“å‡ºæ ·æœ¬æ•°ç›®ï¼Œä¸ºintæˆ–å…ƒç»„(tuple)ç±»å‹ï¼Œä¾‹å¦‚ï¼Œsize=(m,n,k), åˆ™è¾“å‡ºm*n*kä¸ªæ ·æœ¬ï¼Œç¼ºçœæ—¶è¾“å‡º1ä¸ªå€¼ã€‚</p><p>è¿”å›å€¼ï¼šndarrayç±»å‹ï¼Œå…¶å½¢çŠ¶å’Œå‚æ•°sizeä¸­æè¿°ä¸€è‡´ã€‚</p><h1><strong>4. å®šä¹‰æ¨ç†å‡½æ•°inference</strong></h1><p>æ„å»ºTensorFlow ç½‘ç»œç»“æ„çš„é€»è¾‘åœ¨ inference() å‡½æ•°ä¸­å®ç°ã€‚</p><p>å…¶ä¸­ï¼Œæ„å»ºäº†3ä¸ªéšè—å±‚ï¼Œæ¯ä¸ªéšè—å±‚16ä¸ªèŠ‚ç‚¹ï¼Œè¿æ¥èŠ‚ç‚¹çš„å‚æ•° weight å’Œ biasçš„åˆå§‹åŒ–æ˜¯å‡å€¼ä¸º0ã€æ–¹å·®ä¸º1çš„éšæœºåˆå§‹åŒ–ï¼Œæ¯ä¸ªéšè—å±‚çš„å•ä½é‡‡ç”¨ tf.sigmoid() ä½œä¸ºæ¿€æ´»å‡½æ•°ï¼Œè¾“å‡ºå±‚ä¸­æ²¡æœ‰å¢åŠ  sigmoidå‡½æ•°ï¼Œè¿™æ˜¯å› ä¸ºå‰é¢çš„å‡ å±‚éçº¿æ€§å˜æ¢å·²ç»æå–å¥½äº†è¶³å¤Ÿå……åˆ†çš„ç‰¹å¾ï¼Œä½¿ç”¨è¿™äº›ç‰¹å¾å·²ç»å¯ä»¥è®©æ¨¡å‹ç”¨æœ€åä¸€ä¸ªçº¿æ€§åˆ†ç±»å‡½æ•°æ¥åˆ†ç±»ã€‚</p><p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><blockquote><p>def inference(input_data):</p><p>'''</p><p>å®šä¹‰å‰å‘è®¡ç®—çš„ç½‘ç»œç»“æ„</p><p>args: è¾“å…¥xçš„å€¼ï¼Œå•ä¸ªå€¼</p><p>'''</p><p>with tf.variable_scope('hidden1'):</p><p># ç¬¬ä¸€ä¸ªéšè—å±‚ï¼Œé‡‡ç”¨16ä¸ªéšè—èŠ‚ç‚¹</p><p>weights = tf.get_variable("weight", [1, 16], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>biases = tf.get_variable("bias", [1, 16], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>hidden1 = tf.sigmoid(tf.multiply(input_data, weights) + biases)</p><p>with tf.variable_scope('hidden2'):</p><p># ç¬¬äºŒä¸ªéšè—å±‚ï¼Œé‡‡ç”¨16ä¸ªéšè—èŠ‚ç‚¹</p><p>weights = tf.get_varaible("weight", [16, 16], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>biases = tf.get_variable("bias", [16], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>mul = tf.matmul(hidden1, weights)</p><p>hidden2 = tf.sigmoid(mul + biases)</p><p>with tf.variable_scope('hidden3'):</p><p># ç¬¬ä¸‰ä¸ªéšè—å±‚ï¼Œé‡‡ç”¨16ä¸ªéšè—èŠ‚ç‚¹</p><p>weights = tf.get_varaible("weight", [16, 16], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>biases = tf.get_variable("bias", [16], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>mul = tf.matmul(hidden2, weights)</p><p>hidden3 = tf.sigmoid(mul + biases)</p><p>with tf.variable_scope('output_layer'):</p><p># è¾“å‡ºå±‚</p><p>weights = tf.get_varaible("weight", [16, 1], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>biases = tf.get_variable("bias", [1], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>output = tf.matmul(hidden3, weights) + biases</p><p>return output</p></blockquote><p>å¦‚æœå˜é‡å­˜åœ¨ï¼Œå‡½æ•°tf.get_variable( ) ä¼šè¿”å›ç°æœ‰çš„å˜é‡ã€‚å¦‚æœå˜é‡ä¸å­˜åœ¨ï¼Œä¼šæ ¹æ®ç»™å®šå½¢çŠ¶å’Œåˆå§‹å€¼åˆ›å»ºå˜é‡ã€‚</p><p>åˆå§‹å™¨ï¼ˆinitializerï¼‰= tf.random_normal_initializer(0.0, 1) æ˜¯å…¶ä¸­ä¸€ç§å†…ç½®çš„åˆå§‹å™¨ã€‚</p><h1><strong>5. å®šä¹‰è®­ç»ƒå‡½æ•°</strong></h1><p>ä½¿ç”¨TensorFlow å®ç°ç¥ç»ç½‘ç»œæ—¶ï¼Œéœ€è¦å®šä¹‰ç½‘ç»œç»“æ„ã€å‚æ•°ã€æ•°æ®çš„è¾“å…¥å’Œè¾“å‡ºã€é‡‡ç”¨çš„æŸå¤±å‡½æ•°å’Œä¼˜åŒ–æ–¹æ³•ã€‚</p><p>æœ€ç¹ççš„è®­ç»ƒä¸­çš„åå‘ä¼ æ’­ã€è‡ªåŠ¨æ±‚å¯¼å’Œå‚æ•°æ›´æ–°ç­‰æ“ä½œç”±TensorFlow è´Ÿè´£å®ç°ã€‚</p><p><strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼Œä»£ç ä¸­æœ‰è¯¦ç»†çš„æ³¨é‡Šï¼š</strong></p><blockquote><p># é€šè¿‡æ¢¯åº¦ä¸‹é™å°†æŸå¤±æœ€å°åŒ–</p><p>def train():</p><p># å­¦ä¹ ç‡</p><p>learning_rate = 0.01</p><p>x = tf.placeholder(tf.float32)</p><p>y = tf.placeholder(tf.float32)</p><p># åŸºäºè®­ç»ƒå¥½çš„æ¨¡å‹æ¨ç†ï¼Œè·å–æ¨ç†ç»“æœ</p><p>net_out = inference(x)</p><p># å®šä¹‰æŸå¤±å‡½æ•°çš„op</p><p>loss_op = tf.square(net_out - y)</p><p># é‡‡ç”¨éšæœºæ¢¯åº¦ä¸‹é™çš„ä¼˜åŒ–å‡½æ•°</p><p>opt = tf.train.GradientDescentOptimizer(learning_rate)</p><p># å®šä¹‰è®­ç»ƒæ“ä½œ</p><p>train_op = opt.minimize(loss_op)</p><p># å˜é‡åˆå§‹åŒ–</p><p>init = tf.global_variables_initializer()</p><p>with tf.Session() as sess:</p><p># æ‰§è¡Œå˜é‡çš„åˆå§‹åŒ–æ“ä½œ</p><p>sess.run(init)</p><p>print("å¼€å§‹è®­ç»ƒ ...")</p><p>for i in range(100001):</p><p># è·å–è®­ç»ƒæ•°æ®</p><p>train_x, train_y = get_train_data()</p><p>sess.run(train_op, feed_dict={x: train_x, y: train_y})</p><p># å®šæ—¶è¾“å‡ºå½“å‰çš„çŠ¶æ€</p><p>if i % 10000 == 0:</p><p>times = int(i/10000)</p><p># æ¯æ‰§è¡Œ10000æ¬¡è®­ç»ƒåï¼Œæµ‹è¯•ä¸€ä¸‹ç»“æœï¼Œæµ‹è¯•ç»“æœç”¨ pylab.plot()å‡½æ•°åœ¨ç•Œé¢ä¸Šç»˜åˆ¶å‡ºæ¥</p><p>test_x_ndarray = np.arange(0, 2 * np.pi, 0.01)</p><p>test_y_ndarray = np.zeros([len(test_x_ndarray)])</p><p>ind = 0</p><p>for test_x in test_x_ndarray:</p><p>test_y = sess.run(net_out, feed_dict={x: test_x, y: 1})</p><p># å¯¹æ•°ç»„ä¸­æŒ‡å®šçš„ç´¢å¼•å€¼æŒ‡å‘çš„å…ƒç´ æ›¿æ¢æˆæŒ‡å®šçš„å€¼</p><p>np.put(test_y_ndarray, ind, test_y)</p><p>ind += 1</p><p># å…ˆç»˜åˆ¶æ ‡å‡†çš„æ­£å¼¦å‡½æ•°çš„æ›²çº¿</p><p># å†ç”¨è™šçº¿ç»˜åˆ¶å‡ºæ¨¡æ‹Ÿæ­£å¼¦å‡½æ•°çš„æ›²çº¿</p><p>draw_sin_line()</p><p>pylab.plot(test_x_ndarray, test_y_ndarray, '--', label = str(times) + ' times')</p><p>pylab.legend(loc='upper right')</p><p>pylab.show()</p><p>print("=== DONE ===")</p></blockquote><p>ä»è¾“å…¥æ•°æ®åˆ°ç¥ç»ç½‘ç»œï¼Œåˆ°è¾“å‡ºé¢„æµ‹å€¼ï¼Œé‡‡ç”¨é¢„æµ‹å€¼å’Œæ ‡å‡†å€¼çš„å·®çš„å¹³æ–¹ä½œä¸ºæŸå¤±å‡½æ•°ï¼Œç„¶åå°†å¾—åˆ°çš„æŸå¤±å‡½æ•°çš„æ“ä½œ loss_op ä¼ ç»™éšæœºæ¢¯åº¦ä¸‹é™ä¼˜åŒ–æ–¹æ³• tf.train.GradientDescentOptimizerï¼Œä»è€Œå¾—åˆ°æœ€åè®­ç»ƒæ“ä½œ train_opã€‚</p><p>åœ¨ä¼šè¯çš„run æ–¹æ³•ä¸­ï¼Œä¼ å…¥è®­ç»ƒæ•°æ®ï¼Œæ¯ä¸€æ¬¡æ‰§è¡Œ train_opï¼Œå°±ä¼šæ ¹æ®è¾“å…¥çš„è®­ç»ƒæ ·æœ¬åšä¸€æ¬¡å‰å‘è®¡ç®—ã€ä¸€æ¬¡åå‘ä¼ æ’­å’Œä¸€æ¬¡å‚æ•°æ›´æ–°ã€‚</p><p>æ¯è®­ç»ƒ10000ä¸ªæ ·æœ¬ï¼Œå°±å°†æ ‡å‡†çš„æ­£å¼¦å‡½æ•°å’Œæ¨¡æ‹Ÿç»“æœé‡‡ç”¨ pylab.plot()å‡½æ•°ç»˜åˆ¶å‡ºæ¥åšå¯¹æ¯”ï¼Œå…¶ä¸­ç”¨å®çº¿è¡¨ç¤ºæ ‡å‡†çš„æ­£å¼¦å‡½æ•°ï¼Œè™šçº¿è¡¨ç¤ºæ¨¡æ‹Ÿçš„æ­£å¼¦å‡½æ•°ï¼ˆä¹Ÿå°±æ˜¯åŸºäºç¥ç»ç½‘ç»œæ¨ç†çš„ç»“æœï¼‰ã€‚</p><h1><strong>6. å¼€å§‹éªŒè¯è®­ç»ƒå‡½æ•°</strong></h1><p>æ‰§è¡Œ train() å‡½æ•°ï¼Œå°±å¼€å§‹è®­ç»ƒå¹¶éªŒè¯ã€‚</p><p>ç¬¬ä¸€æ¬¡çš„å‚æ•°æ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œæ¨¡æ‹Ÿå‡ºæ¥çš„æ­£å¼¦å‡½æ•°å’Œæ ‡å‡†çš„æ­£å¼¦å‡½æ•°å®Œå…¨ä¸ä¸€æ ·ã€‚</p><div class=pgc-img><img alt="TensorFlow è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œæ‹Ÿåˆæ­£å¼¦å‡½æ•°çš„è¯¦ç»†è¿‡ç¨‹ï¼ˆå«ä»£ç ï¼‰" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c74f1f4fd94c4bada38e5844a412513a><p class=pgc-img-caption></p></div><p>ç¥ç»ç½‘ç»œæ¨¡å‹ç»è¿‡è®­ç»ƒ 10000æ¬¡ä¹‹åï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ã€‚æ­¤æ—¶ï¼Œæ¨¡æ‹Ÿæ›²çº¿ï¼ˆè™šçº¿ï¼‰å¼€å§‹å‘å®çº¿é è¿‘äº†ã€‚</p><div class=pgc-img><img alt="TensorFlow è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œæ‹Ÿåˆæ­£å¼¦å‡½æ•°çš„è¯¦ç»†è¿‡ç¨‹ï¼ˆå«ä»£ç ï¼‰" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0413a84c975c40a6b2dabc0865c7b812><p class=pgc-img-caption></p></div><p>ä¸‹é¢æ˜¯è®­ç»ƒåˆ° 10000x10æ¬¡ä¹‹åï¼Œç»“æœå¦‚ä¸‹ã€‚æ­¤æ—¶ï¼Œæ¨¡æ‹Ÿæ›²çº¿åŸºæœ¬ä¸Šå’Œæ ‡å‡†çš„æ­£å¼¦æ›²çº¿é‡åˆäº†ã€‚</p><div class=pgc-img><img alt="TensorFlow è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œæ‹Ÿåˆæ­£å¼¦å‡½æ•°çš„è¯¦ç»†è¿‡ç¨‹ï¼ˆå«ä»£ç ï¼‰" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/fc45228a6421489e86b0b4968610672f><p class=pgc-img-caption></p></div><div class=tt-column-card data-content='{"new_thumb_url": "http://sf1-ttcdn-tos.pstatp.com/img/mosaic-legacy/fe3f00002562ef2bf82e", "title": "\u6bcf\u5929\u4e94\u5206\u949f\u73a9\u8f6cpython\u57fa\u7840\u7f16\u7a0b", "distribution_user_id": 1593359982664708, "price": 16.6, "column_id": "1626154665784323", "share_price": 5.31, "author_description": "\u5e7b\u98ce\u7684AI\u4e4b\u8def", "thumb_url": "http://p10.pstatp.com/large/mosaic-legacy/fe3f00002562ef2bf82e", "sold": 413}'></div><p>å¦‚æœè§‰å¾—æ‹Ÿåˆåº¦è¿˜ä¸å¤Ÿï¼Œè¿˜å¯ä»¥ç»§ç»­è®­ç»ƒã€‚è¿™æ ·ï¼Œå°±å®ç°äº†ç”¨æ·±åº¦ç¥ç»ç½‘ç»œæ¨¡æ‹Ÿæ­£å¼¦å‡½æ•°åœ¨0-2Piçš„æ›²çº¿ã€‚</p><blockquote><p>å‚è€ƒæ–‡ç« ï¼š</p><p>ã€ŠTensorFlowå…¥é—¨ä¸å®æˆ˜ã€‹-ç½—å†¬æ—¥</p></blockquote></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'TensorFlow','è®­ç»ƒ','ç¥ç»'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>