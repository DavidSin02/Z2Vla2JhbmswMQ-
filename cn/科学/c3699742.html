<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 | 极客快訊</title><meta property="og:title" content="以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/293a4c252bed4fc1aa990943d7486c86"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c3699742.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c3699742.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/c3699742.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c3699742.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c3699742.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/c3699742.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/c3699742.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c3699742.html><meta property="article:published_time" content="2020-11-14T20:53:13+08:00"><meta property="article:modified_time" content="2020-11-14T20:53:13+08:00"><meta name=Keywords content><meta name=description content="以太网、Profinet、Profibus三种网络架构搭建及拓扑分析"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E5%AD%A6/c3699742.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>以太网、Profinet、Profibus三种网络架构搭建及拓扑分析</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E5%AD%A6.html>科学</a></span></div><div class=post-content><p>​</p><div class=pgc-img><img alt=以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/293a4c252bed4fc1aa990943d7486c86><p class=pgc-img-caption></p></div><p>写在面前</p><p>工业控制网络按照“集中管理，分散控制”的原则，用于连接工业控制系统的工业计算机控制器、可编程逻辑控制器、传感器、变送器、执行器、人机接口、工业服务器等设备节点，传输工业控制系统的采集、命令、诊断和协调等信号。整个控制网络分为监控层、控制层、设备层三层网络。（注意：这里主要讲的是控制网络，即是前面文章：工业控制系统安全入门与实践—从五层架构和安全标准说起中的下面三层）</p><p><br></p><p><strong>01 网络拓扑结构与特点</strong></p><p>一般的网络拓扑结构及特点如下：</p><p><br></p><p>总线型：</p><div class=pgc-img><img alt=以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2baafa5c71c64e678bf02c2fc128f1aa><p class=pgc-img-caption></p></div><p>总线拓扑结构所有设备连接到一条连接介质上。总线结构所需要的电缆数量少，线缆长度短，易于布线和维护。多个结点共用一条传输信道，信道利用率高。</p><p>星型：</p><div class=pgc-img><img alt=以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/91e96081009f47a3857648088871ba15><p class=pgc-img-caption></p></div><p>星型拓扑结构是一个中心，多个分节点。它结构简单，连接方便，管理和维护都相对容易，而且扩展性强。网络延迟时间较小，传输误差低。中心无故障，一般网络没问题。中心故障，网络就出问题，同时共享能力差，通信线路利用率不高。</p><p>环状：</p><div class=pgc-img><img alt=以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/029279a7592e448088b02d83e63cd67c><p class=pgc-img-caption></p></div><p><br></p><p>环形拓扑结构是节点形成一个闭合环。工作站少，节约设备。当然，这样就导致一个节点出问题，网络就会出问题，而且不好诊断故障。</p><p><br></p><p>树型：</p><div class=pgc-img><img alt=以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f760c0fb7d92402193eaf6bfbdee6fee><p class=pgc-img-caption></p></div><p><br></p><p>树形拓扑结构从总线拓扑演变而来。形状像一棵倒置的树,顶端是树根，树根以下带分支，每个分支还可再带子分支，树根接收各站点发送的数据，然后再广播发送到全网。好扩展，容易诊断错误，但对根部要求高。</p><p><br></p><p>网状：</p><div class=pgc-img><img alt=以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/147c413fbdb343d99521b7b149ecc58d><p class=pgc-img-caption></p></div><p>网形拓扑结构是应用最广泛的，它的优点是不受瓶颈问题和失效问题的影响，一旦线路出问题，可以做其他线路，但太复杂，成本高。</p><p><strong>02 以太网、Profinet、Profibus实际搭建分析</strong></p><p><br></p><p><strong>以太网架构搭建及网络拓扑形式</strong></p><p>a) 网络架构搭建</p><p>(1) 首先要按照控制分区确定PLC的具体数量和位置；</p><p>(2) 根据PLC的数量和位置，将PLC接于制造执行系统(MES)的交换机上；</p><p>(3) 将上位机接于MES交换机上，组建以太网网络结构。</p><p>b) 搭建原则</p><p>工业以太网交换机是一种可以提供环网耦合功能的有源网络组件，有高效冗余的特性，可以保证当现场总线出现故障的时候，上位机与PLC之间的正常数据交换。在应用过程中每个交换机至少需预留1个备用口。</p><p>c) 网络拓扑形式</p><div class=pgc-img><img alt=以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/39989f3c266740d996e00222a986b6ae><p class=pgc-img-caption></p></div><p>以太网通过采用星型网络拓扑结构保证PLC与上位机之间大量数据的实时传输。</p><p><br></p><p><strong>Profinet架构搭建及网络拓扑形式</strong></p><p>a) 网络架构搭建</p><p>(1) 首先需要按照控制分区确定所需搭建网络结构线体的现场设备数量。</p><p>(2) 根据现场设备的数量及位置，确定交换机通讯接口数量，在交换机的选择过程中线体形式的系统优先考虑16口交换机，工作站形式的系统优先考虑8口交换机。</p><p>(3) 对于线体形式系统若交换机数量大于2台，则采用网管型交换机并将交换机组成环网型结构后与PLC连接，组建网络结构。</p><p>b) 搭建原则</p><p>(1) 线体形式交换机与现场设备之间优先采用星型+总线型网络拓扑结构，如果选用总线型拓扑结构，原则上每路总线连接设备不能超过5个，每两个相邻设备间距离不能超过90米；</p><p>(2) 每个交换机应至少预留1个备用口；</p><p>(3) 线体间的信号交互通过PN/PN耦合器来实现。</p><p>c) 网络拓扑形式</p><p>(1) 线体网络结构形式</p><div class=pgc-img><img alt=以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c8093be416b949aeb9c109c97a907c71><p class=pgc-img-caption></p></div><p>图1监控层与控制层网络拓扑结构示意图</p><p>图1为“以太网+Profinet环网”的网络结构示意图。在图中可以看到，整个网络包括监控层、控制层两个层次。PLC与上位机之间通过以太网的形式进行数据的传输。PLC与现场设备采用Profinet网络形式进行连接，网管型交换机组成环网之后与PLC相连。耦合器主要应用于网际间的信号交互，用于连接的两个相互独立的Profinet网络进行数据交换。</p><div class=pgc-img><img alt=以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b1ca0ea8ef834d46ab0756166d47468f><p class=pgc-img-caption></p></div><p>图2设备层网络拓扑结构示意图</p><p>上图为设备层的网络结构拓扑示意图。在图中可以看到，现场设备与交换机之间采用总线型+星型的混合拓扑结构，此时需要保证相邻设备间距离不能超过90米。Profinet网线使用专用网线，接头使用专用快速连接的金属接头，以保证网络通讯稳定、可靠。机器人及其周边设备通过非网管型交换机连接。</p><p><br></p><ol start=2><li>工作站网络结构形式</li></ol><div class=pgc-img><img alt=以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/457f99e1ee4d4222911a89da4b6819f2><p class=pgc-img-caption></p></div><p>以太网+Profinet拓扑结构</p><p><br></p><p>方案二是方案一的简化形式，当现场交换机小于3台时，交换机之间可不必组成环网，直接采用这种连接方式。交换机采用非网管型，工作站之间或者工作站与其他控制系统的信号交互通过PN/PN耦合器实现。</p><p><br></p><p><strong>Profibus架构搭建及网络拓扑形式</strong></p><p>a) 网络架构搭建</p><p>(1) 确定需要搭建网络结构的线体包含的现场设备数量。</p><p>(2) 按照驱动性负载、通讯模块、机器人系统、安全设备、车型识别等对现场设备进行分类汇总。</p><p>(3) 确定中继器的总类及数量：</p><p>①根据网络设备的类型和位置，确定总共需要搭建几条总线；</p><p>②通过判定需要诊断功能的总线数量来确定诊断中继器的个数；</p><p>③根据网段中网络设备的距离判断所需中继器的数量；</p><p>(4) 根据确定的中继器数量，组建整个Profibus网络拓扑结构。</p><p>b) 搭建原则</p><p>(1) 由于中继器具有信号放大和再生的功能，在一条Profibus总线上使用RS485时，最多可以安装9个。</p><p>(2) 在Profibus网络结构中，当硬件设备超过32个，或者波特率对应的网络通讯距离已经超出经验值范围时(见下表)，就应该使用Profibus中继器来扩展网络连接，从而达到扩展网络规模、保证良好通信质量的目的。</p><p><br></p><div class=pgc-img><img alt=以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/02fb45a2442f4321a5357d376fcf59b4><p class=pgc-img-caption></p></div><p><br></p><p>(3) 例如一条Profibus总线上有80个站点，那么就需要2个中继器将网络分成3个段。由于中继器本身也是一个特殊的DP从站设备，在网段中分别占用一个物理地址，因而实际上都只能再连接31个DP主站/从站设备。</p><p>(4) 中继器扩展的距离，假设1.5Mbps的波特率时，通讯距离为130米，则网段1从最远站到中继器网段1之间的距离为130米，而从中继器的网段2到最远站还可以再扩展130米，这样整个网络的距离为260米，以此类推。</p><p>(5) 如果选用带诊断功能的中继器，每个中继器的DP2/DP3网段诊断的最远距离不能超过80米，且保证同一诊断回路不能有两个诊断设备。</p><p>(6) 线体间的信号交互通过DP/DP耦合器来实现。</p><p>(7) 在网络组建过程中，要严格保证每条总线具备可靠的终端电阻。</p><p>a) 网络拓扑形式</p><div class=pgc-img><img alt=以太网、Profinet、Profibus三种网络架构搭建及拓扑分析 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c86db4b96ded4fd6b8c45f12d842c41d><p class=pgc-img-caption></p></div><p>Profibus网络结构示意图</p><p><br></p><p>上图是Profibus网络结构示意图。在Profibus网络结构示意图中，采用总线型的网络拓扑结构。中继器将Profibus-DP分为多条总线，将网络中的驱动性负载、通讯模块、机器人系统、车型识别、安全开关分总线布置。耦合器主要应用于网际间的信号交互，用来连接两个相互独立的Profibus网络进行数据交换，其通信速率可以不同，可传送的输入和输出数据最大为244个字节。它的每个Profibus接口做为一个独立的设备在网络中有独立的设备名，更新时间可以不同，但是通信数据区输入/输出方式必须是相互对应的。</p><p><br></p><p><strong>02 特点及应用</strong></p><ol start=1><li><strong>以太网特点及应用</strong></li></ol><p>工业以太网是建立在IEEE802.3系列标准和TCP/IP上的分布式实时控制通讯网络，工业以太网适用于数据量传输量大，传输速度要求较高的场合。它采用CSMA/CD协议，同时兼容TCP/IP协议。PLC与上位机之间的通讯，我们采用了以太网的形式。</p><p><br></p><ol start=2><li><strong>Profinet特点及应用</strong></li></ol><p>Profinet采用以太网作为通信介质，实际上是在以太网上挂接传统的Profibus系统和新型的智能现场设备，因此基于以太网的任何开发都可以直接应用在Profinet网络中。Profinet具有功能完善、传输速率高、抗干扰能力强、使用方便等优点。Profinet包括Profinet I/O和Profinet CBA两个主要部分，其中Profinet I/O用于连接分散的外围设备，采用循环数据和非循环数据两种通信方式。PLC与现场设备间的通讯可以通过Profinet的形式来实现。</p><ol start=3><li><br></li><li><strong>Profibus特点及应用</strong></li></ol><p>Profibus 是Process Fieldbus 的简称，其总线传输速率一般可在9.6Kbit/s-12Mbit/s间选择。Profibus总线的传输距离长：可以采用双绞线或光缆作为传输介质，在对速率要求不高的情况下（9.6Kbit/s）传输距离可以达到1200m，即使是在12Mbit/s最高的传输速率下，其传输距离也能达到200m，此外，我们也可以使用中继器等设备来延长其传输距离可达10km。</p><p>PROFIBUS由三个兼容部分组成：PROFIBUS一DP，PROFIBUS一FMS，PROFIBUS一PA三个兼容版本。其中PROFIBUS一DP是一种经过优化的高速通信网络，专为自动控制系统和分散1/0设备之间通信设计，用于分布式控制系统的高速数据传输；PROFIBuS一FMS主要解决车间级通用性通信任务，完成中等速度的循环和非循环通信任务；PROFIBUS一PA专为过程自动化设计，提供标准的本质安全传输技术，用于对安全性要求较高的场合及有总线供电的站点。我们一般使用PROFIBUS一DP协议。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Profinet','Profibus','三种'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>