<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>C语言——你知道魔方阵么？ | 极客快訊</title><meta property="og:title" content="C语言——你知道魔方阵么？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/7ecc4e6024e746eca6170bf8366c47a5"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c947328b.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c947328b.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/c947328b.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c947328b.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c947328b.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/c947328b.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/c947328b.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/c947328b.html><meta property="article:published_time" content="2020-11-14T20:56:36+08:00"><meta property="article:modified_time" content="2020-11-14T20:56:36+08:00"><meta name=Keywords content><meta name=description content="C语言——你知道魔方阵么？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E5%AD%A6/c947328b.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>C语言——你知道魔方阵么？</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E5%AD%A6.html>科学</a></span></div><div class=post-content><div><p>所谓，魔方阵，就是一个n*n阶的矩阵，他的每列的元素的和相等，每列的元素的和也相等，并且对角线的元素的和也相等。</p><p>例如下面就是一个5阶的魔方矩阵：</p><div class=pgc-img><img alt=C语言——你知道魔方阵么？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7ecc4e6024e746eca6170bf8366c47a5><p class=pgc-img-caption></p></div><ul><li>第一行元素之和：17+24+1+8+15=65</li><li>第一列元素之和：17+23+4+10+11=65</li><li>主对角线上元素之和：17+5+13+21+9=65</li></ul><p>欧克，那我们来看看怎么实现的吧：</p><p>假定阵列的行列下标都从0开始，则魔方阵的生成方法为：在第0行中间置1，对从2开始的其余n2-1个数依次按下列规则存放：</p><p>(1) 假定当前数的下标为(i，j)，则下一个数的放置位置为当前位置的右上方，即下标为(i-1，j+1)的位置。</p><p>(2) 如果当前数在第0行，即i-1小于0，则将下一个数放在最后一行的下一列上，即下标为(n-1，j+1)的位置。</p><p>(3) 如果当前数在最后一列上，即j+1大于n-1，则将下一个数放在上一行的第一列上，即下标为(i-1，0)的位置。</p><p>(4) 如果当前数是n的倍数，则将下一个数直接放在当前位置的正下方，即下标为(i+1，j）的位置。</p><p>过程就是着呢个过程，方法怎么设计，代码怎么写就看你们的了：</p><p>参考代码：</p><pre>#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;int array(int n){ int i, j, no, num, max; int *mtrx; if(n%2 == 0) /*n是偶数，则加1使其变为奇数*/ { n=n+1; } max=n*n; mtrx=(int *)malloc(max+max); /*为魔方阵分配内存*/ mtrx[n/2]=1; /* 将1存入数组*/ i=0; /*自然数1所在行*/ j=n/2; /*自然数1所在列*/ /*从2开始确定每个数的存放位置*/ for(num=2; num&lt;=max; num++) { i=i-1; j=j+1; if((num-1)%n == 0) /*当前数是n的倍数*/ { i=i+2; j=j-1; } if(i&lt;0) /*当前数在第0行*/ { i=n-1; } if(j&gt;n-1) /*当前数在最后一列，即n-1列*/ { j=0; } no=i*n+j; /*找到当前数在数组中的存放位置*/ mtrx[no]=num; } /*打印生成的魔方阵*/ printf("生成的%d-魔方阵为:",n); no=0; for(i=0; i&lt;n; i++) { printf("\n"); for(j=0; j&lt;n; j++) { printf("%3d", mtrx[no]); no++; } } printf("\n"); free(mtrx); return 0;}int main(){ int n; printf("请输入n值:\n"); scanf("%d", &amp;n); array(n); /*调用array函数*/ return 0;}</pre><p>赶紧编程实现一下吧，</p><p>有什么问题欢迎留言讨论哦，</p><p>如果您喜欢，欢迎点一下关注呦。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'语言','魔方','阵么'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>