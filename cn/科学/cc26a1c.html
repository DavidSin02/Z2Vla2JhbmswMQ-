<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Day9 G2/Axis座标轴详解 | 极客快訊</title><meta property="og:title" content="Day9 G2/Axis座标轴详解 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="http://p3.pstatp.com/large/pgc-image/c879eadd0cd44c6fa64691a2609a70df"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/cc26a1c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/cc26a1c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/cc26a1c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/cc26a1c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/cc26a1c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/cc26a1c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/cc26a1c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/cc26a1c.html><meta property="article:published_time" content="2020-10-29T20:45:29+08:00"><meta property="article:modified_time" content="2020-10-29T20:45:29+08:00"><meta name=Keywords content><meta name=description content="Day9 G2/Axis座标轴详解"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E5%AD%A6/cc26a1c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Day9 G2/Axis座标轴详解</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E5%AD%A6.html>科学</a></span></div><div class=post-content><div><p>在学会怎么配置座标轴之前，我们需要了解G2中座标轴的组成。</p><h1><strong>座标轴的组成</strong></h1><p>G2中座标轴一共由5部分组成，其中各组成部分及其对应配置参数如下图所示：</p><div class=pgc-img><img alt="Day9 G2/Axis座标轴详解" onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/c879eadd0cd44c6fa64691a2609a70df><p class=pgc-img-caption></p></div><p>座标轴各部分代表的含义如下图所示：</p><div class=pgc-img><img alt="Day9 G2/Axis座标轴详解" onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/56f575e972a34968a359cbfeb489b023><p class=pgc-img-caption></p></div><h1><strong>座标轴的配置</strong></h1><p>同其他属性一样，座标轴的配置也有两种方式：</p><ul><li>属性式配置</li></ul><pre>options:{ axes: { field: { title:{}, line:{}, label:{}, tickLine:{}, grid:{} } }}</pre><ul><li>函数式配置</li></ul><pre> chart.axis("field",{ title:{}, line:{}, label:{}, tickLine:{}, grid:{} });</pre><p>说完座标轴的总体配置方式，下面给大家介绍座标轴各部分的具体配置。</p><p><strong>标题 title</strong></p><p>title的可配置参数如下：</p><pre>title: { autoRotate: {boolean}, // 是否需要自动旋转，默认为 true offset: {number}, // 数值，设置座标轴标题距离座标轴线的距离 // 设置标题的文本样式 textStyle: { textAlign: 'center', // 文本对齐方向，可取值为： start middle end fill: '#404040', // 文本的颜色 fontSize: '12', // 文本大小 fontWeight: 'bold', // 文本粗细 rotate: 30, // 文本旋转角度，以角度为单位，仅当 autoRotate 为 false 时生效 textBaseline: 'top' // 文本基准线，可取 top middle bottom，默认为middle }, position: 'start' | 'center' | 'end' // 标题的显示位置（相对于座标轴线），可取值为 start center end}</pre><p>注意：在G2默认主题中，座标轴标题是默认不显示的。</p><pre>//name代表下图中x轴的变量，value表示y轴的变量 axes: { name: { }}</pre><div class=pgc-img><img alt="Day9 G2/Axis座标轴详解" onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/bd00287b235d4e4e8bf59e6465393919><p class=pgc-img-caption></p></div><p>我们发现当未设置name即X轴中的title时，默认是不显示的，如果想要显示座标轴标题，则必须将title属性设置为真值（备注：在JS中除了null、undefined、0、false、""这5个假值，其他都为真值），如果需要修改title的样式位置等属性时，只要对title内部进行属性设置就可以。</p><pre>axes: { name: { title:{ textStyle: { //标题样式设置 fontSize:20,  fill:"red" } }  }}</pre><div class=pgc-img><img alt="Day9 G2/Axis座标轴详解" onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/bbe1a02a661047e088f24b0bfe6dc59b><p class=pgc-img-caption></p></div><p>从上图可以看出，当我们将name中的title设置为真值时，座标轴默认的标题是该数字字段对应的属性名（这里X轴对应的属性名为name），如果要更改座标轴的标题，需要到度量scales中的alias属性修改，修改方式如下：</p><pre>scales: { name: { type: "cat", alias: "水果名" //座标轴标题名修改 } } axes: { name: { title:{ textStyle: { //标题样式设置 fontSize:20,  fill:"red" } }  } }</pre><div class=pgc-img><img alt="Day9 G2/Axis座标轴详解" onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/bbfec8de34ba4a3287e006562a323a14><p class=pgc-img-caption></p></div><p><strong>总结：座标轴的title属性主要是对标题样式的一些配置，而如果要修改座标轴标题的名字，则需要到度量scales中的alias属性中设置。</strong></p><p><strong>座标轴线 line</strong></p><p>line可配置参数如下：</p><pre>line: { stroke: {string}, // 座标轴线的颜色 strokeOpacity: {number}, // 座标轴线的透明度，数值范围为 0 - 1 lineDash: {array}, // 设置虚线的样式，如 [2, 3]第一个用来表示实线的像素，第二个用来表示空白的像素。如果提供了奇数个值，则这个值的数列重复一次，从而变成偶数个值 lineWidth: {number} // 设置座标轴线的粗细}</pre><p>这一块参数设置比较简单，自行实验调参即可，这里不再详述，放一个虚线座标轴的配置和效果图：</p><pre> line:{ stroke:"red", lineDash:[2,3], lineWidth:2 }</pre><div class=pgc-img><img alt="Day9 G2/Axis座标轴详解" onerror=errorimg.call(this); src=http://p9.pstatp.com/large/pgc-image/6c46cb12adbb42c49af1dd6ecbf79c99><p class=pgc-img-caption></p></div><p><strong>注意：G2默认主题中，y轴座标线默认不显示，如果想让它显示，可将line属性设置为真值，如想进一步设置y轴样式，可对y轴对应的字段名的line参数进行配置。</strong></p><p><strong>文本 label</strong></p><p>label可配置参数如下：</p><pre>label: { offset: {number}, // 数值，设置座标轴文本 label 距离座标轴线的距离，图例legend也会移动 offsetX: {number}, // 在 offset 的基础上 x 方向的偏移量 offsetY: {number}, // 在 offset 的基础上 y 方向的偏移量 // 设置文本的显示样式，还可以是个回调函数，回调函数的参数为该座标轴对应字段的数值 rotate: 30, // 注意，旋转角度的配置不再在 textStyle 里配置 textStyle: { rotate:30,//label沿顺时针方向的旋转度数 textAlign: 'center', // 文本对齐方向，可取值为： start center end fill: '#404040', // 文本的颜色 fontSize: '12', // 文本大小 fontWeight: 'bold', // 文本粗细 textBaseline: 'top' // 文本基准线，可取 top middle bottom，默认为middle } | (text) =&gt; { // text: 座标轴对应字段的数值 }, autoRotate: {boolean}, // 文本是否需要自动旋转，默认为 true</pre><ul><li>label更详细参数配置项请看chart基本属性配置</li></ul><p><strong>注意：目前的3.4版本的G2对于label还存在一个bug，就是在label的textStyle中设置rotate只有首个label生效，但是在textStyle外部设置label全部有效。</strong></p><p><strong>刻度线 tickLine</strong></p><p>tickLine可配置参数如下：</p><pre>tickLine: { lineWidth: 1, // 刻度线宽 stroke: '#ccc', // 刻度线的颜色 strokeOpacity: 0.5, // 刻度线颜色的透明度 length: 5, // 刻度线的长度，可以为负值（表示反方向渲染） alignWithLabel:true//设为负值则显示为category数据类型特有的样式}</pre><p>示例：</p><pre> tickLine:{ stroke:'black', length:5, //注意正方向是x轴反方向 lineWidth:2 }</pre><div class=pgc-img><img alt="Day9 G2/Axis座标轴详解" onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/45721917f73f455383547064bdd14b2d><p class=pgc-img-caption></p></div><p><strong>注意：X轴的tickLine是默认存在的，Y轴的axis配置信息都是默认不存在的，包括tickLine。</strong></p><p><strong>网格 grid</strong></p><p>网格可配置参数如下：</p><pre>grid: { align: 'center', // 声明网格顶点从两个刻度中间开始，默认从刻度点开始 type: 'line' | 'polygon', // 声明网格的类型，line 表示线，polygon 表示矩形框 // 当网格类型 type 为 line 时，使用 lineStyle 设置样式 lineStyle: { stroke: '#d9d9d9', // 网格线的颜色 lineWidth: 1, // 网格线的粗细 lineDash: [4, 4 ] // 网格线的虚线配置，第一个参数描述虚线的实部占多少像素，第二个参数描述虚线的虚部占多少像素 }, hightLightZero: true, // 默认不高亮0轴 zeroLineStyle: { // 当且仅当 highLightZero 为 true 时生效 stroke: '#595959', lineDash: [ 0, 0 ] }, alternateColor: '#ccc' | [ '#f80', '#ccc' ], // 当网格类型 type 为 polygon 时，使用 alternateColor 为网格设置交替的颜色，指定一个值则先渲染奇数层，两个值则交替渲染 hideFirstLine: true | false, // 是否隐藏第一条网格线，默认为 false hideLastLine: true | false // 是否隐藏最后一条网格线，默认为 false}</pre><p>常用的grid属性配置如下：</p><pre>grid:{ type: 'line', lineStyle: { stroke: 'blue', lineWidth: 1, lineDash: [ 4, 4 ] }, }</pre><div class=pgc-img><img alt="Day9 G2/Axis座标轴详解" onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/9d2a6f167777431cb4a3ed14a7e713df><p class=pgc-img-caption></p></div><p><strong>注意:G2默认主题下，Y轴默认会生成虚线网格线，X轴默认不会生成网格线。</strong></p><h1><strong>Scale度量和Axis的区别</strong></h1><p>我们知道Scale和Axis都能对座标系进行设置，所以在这里比较一下两者的区别：</p><p>Scale：度量可以设置座标轴的刻度点个数，间距等，更多的是对刻度的设置。</p><p>Axis：座标轴更多的是座标轴刻度和座标轴的样式设置，但是无法设置刻度。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Day9','G2','Axis'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>