<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了 | 极客快訊</title><meta property="og:title" content="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/dfic-imagehandler/42b28bd0-b7eb-428e-ad50-90fc00062398"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/d5790f0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/d5790f0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/d5790f0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/d5790f0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/d5790f0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/d5790f0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/d5790f0.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/d5790f0.html><meta property="article:published_time" content="2020-10-29T21:02:12+08:00"><meta property="article:modified_time" content="2020-10-29T21:02:12+08:00"><meta name=Keywords content><meta name=description content="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E5%AD%A6/d5790f0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E5%AD%A6.html>科学</a></span></div><div class=post-content><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/42b28bd0-b7eb-428e-ad50-90fc00062398><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right><span style="color:#ff2941;--tt-darkmode-color: #FF2941"><strong>一、条件断点</strong></span></h1><p style=text-align:justify><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">循环中经常用到这个技巧，比如：遍历1个大List的过程中，想让断点停在某个特定值</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/78d46ce00c754b66919282c4da02b661><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">参考上图，在断点的位置，右击断点旁边的小红点，会出来一个界面，在Condition这里填入断点条件即可，这样调试时，就会自动停在i=10的位置</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a3489b5be04f4400a02f745301ed875a><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right><span style="color:#ff2941;--tt-darkmode-color: #FF2941"><strong>二、回到"上一步"</strong></span></h1><p style=text-align:justify><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">该技巧最适合特别复杂的方法套方法的场景，好不容易跑起来，一不小心手一抖，断点过去了，想回过头看看刚才的变量值，如果不知道该技巧，只能再跑一遍。</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/b24bd9e0920043de85635c17462f4cee><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">参考上图，method1方法调用method2，当前断点的位置j=100，点击上图红色箭头位置的Drop Frame图标后，时间穿越了</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e1cd4a8325774e73a039ed072d5f7eb2><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">回到了method1刚开始调用的时候，变量i变成了99，没毛病吧，老铁们，是不是很6 :)</span></p><p style=text-align:justify><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">注：好奇心是人类进步的阶梯，如果想知道为啥这个功能叫Drop Frame，而不是类似Back To Previous 之类的，可以去翻翻JVM的书，JVM内部以栈帧为单位保存线程的运行状态，drop frame即扔掉当前运行的栈帧，这样当前“指针”的位置，就自然到了上一帧的位置。</span></p><h1 class=pgc-h-arrow-right><span style="color:#ff2941;--tt-darkmode-color: #FF2941">三、多线程调试</span></h1><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">多线程同时运行时，谁先执行，完全是看CPU行情的，无法控制先后，运行时可能没什么问题，但是调试时就比较麻烦了，最明显的就是断点乱跳，一会儿停这个线程，一会儿停在另一个线程，比如下图：</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/18eabd18593746948a749e21d601fafe><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">如果想希望下一个断点位置是第2句诗句，可能要失望了：</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/528c2767d8c941ce9c1fe0689f27830b><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">如果想让线程在调试时，想按自己的愿意来，让它停在哪个线程就停在哪个线程，可以在图中3个断点的小红点上右击，</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b28d2527b732448aab06934ca4b2ca19><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">即：Suspend挂起的条件是按每个线程来，而非All。把这3个断点都这么设置后，再来一发试试</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c0f0b93763ca4f6195d889184437f333><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">注意上图中的红框位置，断点停下来时，这个下拉框可以看到各个线程（注：给线程起个容易识别的名字是个好习惯！），我们可以选择线程“天空中的飞鸟”</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4031dcd0f9e348dda039f28f4a088fa7><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">断点如愿停在了第2句诗。</span></p><h1 class=pgc-h-arrow-right><span style="color:#ff2941;--tt-darkmode-color: #FF2941"><strong>四、远程调试</strong></span></h1><p style=text-align:justify><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">这也是一个装B的利器，本机不用启动项目，只要有源代码，可以在本机直接远程调试服务器上的代码，打开姿势如下：</span></p><p><span style="color:#ff2941;--tt-darkmode-color: #FF2941">4、1 项目启动时，先允许远程调试</span></p><pre><code>java -server -Xms512m -Xmx512m -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=9081 -Djava.ext.dirs=. ${main_class}</code></pre><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">起作用的就是</span></p><pre><code>-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=9081</code></pre><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">注意：远程调试从技术上讲，就是在本机与远程建立scoket通讯，所以端口不要冲突，而且本机要允许访问远程端口，另外这一段参数，放要在-jar 或 ${main_class}的前面</span></p><p><span style="color:#ff2941;--tt-darkmode-color: #FF2941"><strong>4、2 idea中设置远程调试</strong></span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/55b275880a704d5893ca2971b0f783f7><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">然后就可以调试了</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/32f9d8338c2d43b5b00fbdf9175fdb80><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">前提是本机有项目的源代码 ，在需要的地方打个断点，然后访问一个远程的url试试，断点就会停下来。</span></p><h1 class=pgc-h-arrow-right><span style="color:#ff2941;--tt-darkmode-color: #FF2941"><strong>五、临时执行表达式/修改变量的运行值</strong></span></h1><p style=text-align:justify><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">调试时，可以临时执行一些表达式，参考下图：点击这二个图标中的任何1个都可以</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/645777d0dd574d538691bfd53393726a><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">点击+号后，就可以在新出现的输入框里输入表达式，比如i+5</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9bed665d96b74d77b2631e293f0a3666><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">然后回车，马上就能看到结果</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1b033c0d8e354122bea5c53017cd1cb9><p class=pgc-img-caption></p></div><p><span style="color:#4a4a4a;--tt-darkmode-color: #9B9B9B">当然，如果调试时，想动态修改变量的值，也很容易，在变量上右击，然后选择Set Value，剩下的事，地球人都知道。</span></p><p><br></p><div class=pgc-img><img alt="IntelliJ IDEA 2020的调试技巧，真的比eclipse强太多了" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/698ad40f3d574de88af916126c851a3d><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'IntelliJ','IDEA','2020'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>