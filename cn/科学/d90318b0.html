<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>博途S7_1200如何修改PWM脉冲宽度？ | 极客快訊</title><meta property="og:title" content="博途S7_1200如何修改PWM脉冲宽度？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/3132055c92bc4c63b3786faac1544352"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/d90318b0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/d90318b0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/d90318b0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/d90318b0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/d90318b0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/d90318b0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%a6/d90318b0.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%a6/d90318b0.html><meta property="article:published_time" content="2020-11-14T20:55:56+08:00"><meta property="article:modified_time" content="2020-11-14T20:55:56+08:00"><meta name=Keywords content><meta name=description content="博途S7_1200如何修改PWM脉冲宽度？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E5%AD%A6/d90318b0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>博途S7_1200如何修改PWM脉冲宽度？</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E5%AD%A6.html>科学</a></span></div><div class=post-content><div><p><strong>1 PWM功能简介</strong></p><p>PWM(脉冲宽度可调)是一种周期固定，脉宽可调节的脉冲输出，如图1示，PWM功能虽然使用的是数字量输出，但其在很多方面类似于模拟量，比如它可以控制电机的转速，阀门的位置等。S7-1200 CPU提供了两个输出通道用于高速脉冲输出，分别可组态为PTO或PWM，PTO的功能只能由运动控制指令来实现，PWM功能使用CTRL_PWM指令块实现，当一个通道被组态为PWM时，将不能使用PTO功能，反之亦然。</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3132055c92bc4c63b3786faac1544352><p class=pgc-img-caption></p></div><p>1 脉冲周期 2 脉冲宽度</p><p>脉冲宽度可表示为脉冲周期的百分之几（0-100%），千分之几（0-1000），万分之几（0-10000）或S7 analog(模拟量)形式，脉宽的范围可从0（无脉冲，数字量输出为0）到全脉冲周期（无脉冲，数字量输出为1 ）</p><p><strong>2 PWM功能组态</strong></p><p>CPU的两路脉冲发生器，使用特定的输出点，如图所示，用户可使用CPU集成输出点或信号板的输出点，表中所示为默认情况下的地址分配，用户也可自己更改输出地址，无论点的地址如何变化，PTO1/PWM1总是使用第一组输出，PTO2/PWM2使用紧接着的一组输出，对于CPU集成点和信号板上的点都是如此。PTO在使用脉冲输出时一般占用2个输出点，而PWM只使用一个点，另个没有使用的点可用作其它功能。</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d97ba5c5d2384dadaeae7f6dd0a250c3><p class=pgc-img-caption></p></div><p><strong>3、举例说明如何组态和指令的使用</strong></p><p>（1）进入Device Configuration（设备组态）界面，选中CPU,点击属性，选中Pulse Generator(PTO/PWM)。如图</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/337426e1d62b48989adb88db8b1303eb><p class=pgc-img-caption></p></div><p>（2） 组态脉冲发生器参数</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cc50c941f0774482ab8be2b22bc2c98a><p class=pgc-img-caption></p></div><p><strong>a. 信号类型</strong>：选择脉冲类型。如下图所示，有PWM和PTO两种，其中PTO又分成4种，每种类型的具体含义在运动控制部分进行介绍。这在里选择PWM。</p><p><strong>b. 时基</strong>：用来设定PWM脉冲周期的时间单位。在PWM模式下，时基单位分成：毫秒和微 秒。</p><p><strong>c. 脉宽格式</strong>：用来定义PWM脉冲的占空比档次，如下图所示，分成4种：</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e3b27a65de4d42a2a6f30c62f4a9cbee><p class=pgc-img-caption></p></div><ul><li>以其中的“百分之一”举例，表示把PWM脉冲周期分成100等分，以1/100为单位来表示一个脉冲周期中脉冲的高电平，也可以理解成1/100是PWM脉冲周期中高电平的分辨率。“千分之一”和“万分之一”相应地把PWM的周期分成更小的等分，分辨率更高。</li><li>“S7模拟量格式”表示的是把PWM的周期划分成27648等分，以1/27648为单位来表示一个脉冲周期中脉冲的高电平。 因为S7-1200 PLC的模拟量量程范围为0～27648或-27648～27648。</li></ul><p><strong>d. 循环时间</strong>：表示PWM脉冲的周期时间，Portal 软件中对“循环时间”限定的范围值：1～16777215。</p><p><strong>e. 初始脉冲宽度</strong>：表示PWM脉冲周期中的高电平的脉冲宽度，可以设定的范围值由“脉宽格式”确定，例如，如果“脉宽格式”选择了“万分之一”，则“初始脉冲宽度”值可以设定的范围值从0～10000，同理，如果“脉宽格式”选择了“S7模拟量格式”，则“初始脉冲宽度”值可以设定的范围值从0-27648。如果设定值为0，则PLC没有脉冲发出。</p><p><strong>硬件输出</strong>：根据需要选择S7-1200 PLC上的某个DO点作为PWM输出。如下图所示：</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bd02875e2da7447a95432f733249354c><p class=pgc-img-caption></p></div><p><strong>I/O地址</strong>：用来设置PWM的地址和周期更新方式，如下图所示：</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/51afc1662e9f42798cc3e120350d3903><p class=pgc-img-caption></p></div><p><strong>硬件标识符</strong>：该PWM通道的硬件标识符是软件自动生成的，不能修改。</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5cca944779894ef4acd5c9e538a2afc0><p class=pgc-img-caption></p></div><p><strong>（3）指令的使用</strong></p><p>在Portal软件中打开程序块，进行PWM的编程。在指令选件中的“扩展指令”中的“脉冲”文件夹中可以找到CTRL_PWM指令。可以通过双击指令或是拖拽的方式把CTRL_PWM指令放到程序编辑区。如下图所示：<strong></strong></p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a678826a488c4ef5b7bd41fff460e4b7><p class=pgc-img-caption></p></div><p>在插入CTRL_PWM指令时会提示关联背景数据块，如下图所示，该数据块的名称和编号可以由用户手动设置，也可以选择系统默认值</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/20b19e23e36942419b5351a380400798><p class=pgc-img-caption></p></div><p>配置CTRL_PWM指令参数。</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/0ceeae2c33af4dd4ab5eb8c0522edaea><p class=pgc-img-caption></p></div><p>在本例中的程序如下：</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/be573a025ece4a7e84c898ced2b1c551><p class=pgc-img-caption></p></div><p>本例设想用一个电位计来控制脉冲宽度，则需要将脉宽格式修改为模拟量格式</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a2066d40f00e4badba2c2d541908dbec><p class=pgc-img-caption></p></div><p>将模拟量的赋值输入到QW1000中去。这样就可以实现脉冲宽度随着外部信号的变化而变化。</p><div class=pgc-img><img alt=博途S7_1200如何修改PWM脉冲宽度？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9b963c3133194f3fb58b2d019a01338f><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'博途','S7','1200'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>