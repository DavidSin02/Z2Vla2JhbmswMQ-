<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>面向过程程序设计思路：函数封装、泛化、重构 | 极客快訊</title><meta property="og:title" content="面向过程程序设计思路：函数封装、泛化、重构 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0153d04.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0153d04.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0153d04.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0153d04.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0153d04.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0153d04.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0153d04.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0153d04.html><meta property="article:published_time" content="2020-10-29T20:59:51+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:51+08:00"><meta name=Keywords content><meta name=description content="面向过程程序设计思路：函数封装、泛化、重构"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/0153d04.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>面向过程程序设计思路：函数封装、泛化、重构</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1>1 面向过程开发计划</h1><p>A <strong>development plan(开发计划)</strong> is a process for writing programs. The process we used in this case study is “encapsulation（封装，这里是指函数封装） and generalization（泛化）”. The steps of this process are:</p><blockquote><p>1.1 Start by writing a small program with no function definitions.</p><p>1.2 Once you get the program working, identify a coherent piece of it, encapsulate（封装） the piece in a function and give it a name.</p><p>1.3 Generalize the function by adding appropriate parameters.（函数添加合适的参数实现泛化）</p><p>1.4 Repeat steps 1–3 until you have a set of working functions. Copy and paste working code to avoid retyping (and re-debugging).</p><p>1.5 Look for opportunities to improve the program by refactoring（重构）. For example, if you have similar code in several places, consider factoring it into an appropriately general function.</p></blockquote><p>This process has some drawbacks—we will see alternatives later—but it can be useful if you don’t know ahead of time how to<strong> divide the program into functions</strong>. This approach lets you design as you go along.</p><h1>2 面向过程开发中的函数</h1><p>In the context of programming, a <strong>function</strong> is a named sequence of statements that performs a computation. When you define a function, you specify the name and the sequence of statements. Later, you can “call” the function by name.</p><h1>3 Parameters and arguments（形参和实参）</h1><p>Some of the functions we have seen require arguments. For example, when you call math.sin you pass a number as an argument. Some functions take more than one argument: math.pow takes two, the base and the exponent.</p><p>Inside the function, the arguments are assigned（赋值） to variables called <strong>parameters</strong>.</p><p>When you create a variable inside a function, it is <strong>local（局部的）</strong>, which means that it only exists inside the function.</p><p>Parameters are also local.</p><p>（当实参是一个已赋值的变量时，当这个变量是可变对象还是不可对象，以及可变对象在函数内部是赋值操作还是修改操作，是否修改实参变量会有所区别）</p><h1>4 <strong>interface of a function</strong>函数接口</h1><p>The<strong> interface of a function</strong> is a summary of how it is used: what are the parameters? What does the function do? And what is the return value? An interface is “clean” if it allows the caller to do what they want without dealing with unnecessary details.</p><h1>5 Flow of execution执行流程</h1><p>To ensure that a function is defined before its first use, you have to know the order statements run in, which is called the <strong>flow of execution</strong>.</p><p>Execution always begins at the first statement of the program. Statements are run one at a time, in order from top to bottom.</p><p>Function definitions do not alter the flow of execution of the program, but remember that statements inside the function don’t run until the function is called.</p><p>A function call is like a detour（迂回路径） in the flow of execution. Instead of going to the next statement, the flow jumps to the body of the function, runs the statements there, and then comes back to pick up where it left off.</p><p>That sounds simple enough, until you remember that one function can call another. While in the middle of one function, the program might have to run the statements in another function. Then, while running that new function, the program might have to run yet another function!</p><p>Fortunately, Python is good at keeping track of where it is, so each time a function completes, the program picks up where it left off in the function that called it. When it gets to the end of the program, it terminates.</p><p>In summary, when you read a program, you don’t always want to read from top to bottom. Sometimes it makes more sense if you follow the flow of execution.</p><h1><strong>6 函数定义的前置条件与调用的后置条件</strong></h1><p>An interface is like a contract between a function and a caller. The caller agrees to provide certain parameters and the function agrees to do certain work.</p><p>These requirements are called <strong>preconditions（前置条件）</strong> because they are supposed to be true before the function starts executing. Conversely, conditions at the end of the function are <strong>postconditions（后置条件）</strong>. Postconditions include the intended effect of the function (like drawing line segments) and any side effects (like moving the Turtle or making other changes).</p><p>Preconditions are the responsibility of the caller. If the caller violates a (properly documented!) precondition and the function doesn’t work correctly, the bug is in the caller, not the function.</p><p>If the preconditions are satisfied and the postconditions are not, the bug is in the function. If your pre- and postconditions are clear, they can help with debugging.</p><h1>7 Why functions?为什么要有函数？</h1><p>It may not be clear why it is worth the trouble to <strong>divide a program into functions</strong>. There are several reasons:</p><ul><li>Creating a new function gives you an opportunity to name a group of statements, which makes your program easier to read and debug（调试）.</li><li>Functions can make a program smaller by eliminating repetitive code. Later, if you make a change, you only have to make it in one place.</li><li>Dividing a long program into functions allows you to debug the parts one at a time and then <strong>assemble（组装）</strong> them into a working whole.</li><li>Well-designed functions are often useful for many programs. Once you write and debug one, you can <strong>reuse（复用）</strong> it.</li></ul><h1>8 Glossary术语</h1><p><strong>function:</strong></p><p>A named sequence of statements that performs some useful operation. Functions may or may not take arguments and may or may not produce a result.</p><p><strong>function definition:</strong></p><p>A statement that creates a new function, specifying its name, parameters, and the statements it contains.</p><p><strong>function object:</strong></p><p>A value created by a function definition. The name of the function is a variable that refers to a function object.</p><p><strong>function header:</strong></p><p>The first line of a function definition.</p><p><strong>function body:</strong></p><p>The sequence of statements inside a function definition.</p><p><strong>parameter（形参）:</strong></p><p>A name used inside a function to refer to the value passed as an argument.</p><p><strong>function call（函数调用）:</strong></p><p>A statement that runs a function. It consists of the function name followed by an argument list in parentheses.</p><p><strong>argument（实参）:</strong></p><p>A value provided to a function when the function is called. This value is assigned to the corresponding parameter in the function.</p><p><strong>local variable（局部变量）:</strong></p><p>A variable defined inside a function. A local variable can only be used inside its function.</p><p><strong>return value（返回值）:</strong></p><p>The result of a function. If a function call is used as an expression, the return value is the value of the expression.</p><p><strong>fruitful function（有返回值函数）:</strong></p><p>A function that returns a value.</p><p><strong>void function（无返回值函数）:</strong></p><p>A function that always returns None. None is a special value returned by void functions.</p><p><strong>module（模块）:</strong></p><p>A file that contains a collection of related functions and other definitions.</p><p><strong>import statement（import语句）:</strong></p><p>A statement that reads a module file and creates a module object.</p><p><strong>module object（模块对象）:</strong></p><p>A value created by an import statement that provides access to the values defined in a module.</p><p><strong>dot notation（句点表示法）:</strong></p><p>The syntax for calling a function in another module by specifying the module name followed by a dot (period) and the function name.</p><p><strong>composition（组合）:</strong></p><p>Using an expression as part of a larger expression, or a statement as part of a larger statement.</p><p><strong>flow of execution:</strong></p><p>The order statements run in.</p><p><strong>stack diagram（栈图）:</strong></p><p>A graphical representation of a stack of functions, their variables, and the values they refer to.</p><p><strong>encapsulation（封装）:</strong></p><p>The process of transforming a sequence of statements into a function definition.</p><p><strong>generalization（泛化）:</strong></p><p>The process of replacing something unnecessarily specific (like a number) with something appropriately general (like a variable or parameter).</p><p><strong>interface（接口）:</strong></p><p>A description of how to use a function, including the name and descriptions of the arguments and return value.</p><p><strong>refactoring（重构）:</strong></p><p>The process of modifying a working program to improve function interfaces and other qualities of the code.</p><p><strong>development plan（开发计划）:</strong></p><p>A process for writing programs.</p><p><strong>docstring（文档字符串）:</strong></p><p>A string that appears at the top of a function definition to document the function’s interface.</p><p><strong>precondition（先置条件）:</strong></p><p>A requirement that should be satisfied by the caller before a function starts.</p><p><strong>postcondition（后置条件）:</strong></p><p>A requirement that should be satisfied by the function before it ends.</p><p>－End－</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'泛化','过程','设计'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>