<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>阿里云弹性伸缩服务简介，弹性伸缩服务入门扫盲 | 极客快訊</title><meta property="og:title" content="阿里云弹性伸缩服务简介，弹性伸缩服务入门扫盲 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/1538214769522e3e469ade5"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/03d16469.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/03d16469.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/03d16469.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/03d16469.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/03d16469.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/03d16469.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/03d16469.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/03d16469.html><meta property="article:published_time" content="2020-11-14T21:08:10+08:00"><meta property="article:modified_time" content="2020-11-14T21:08:10+08:00"><meta name=Keywords content><meta name=description content="阿里云弹性伸缩服务简介，弹性伸缩服务入门扫盲"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/03d16469.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>阿里云弹性伸缩服务简介，弹性伸缩服务入门扫盲</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>阿里云弹性伸缩服务简介，弹性伸缩服务扫盲。本文简要介绍什么是阿里云弹性伸缩服务，以及如何入门使用弹性伸缩服务。阿里云提供可以免费开通的弹性伸缩服务，弹性伸缩服务本身不收费，只需为实际使用的服务器资源（ECS服务器、RDS数据库等）付费。</p><div class=pgc-img><img alt=阿里云弹性伸缩服务简介，弹性伸缩服务入门扫盲 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1538214769522e3e469ade5><p class=pgc-img-caption></p></div><p>阿里云弹性伸缩服务可以自动为您调整弹性计算资源大小，以满足您业务需求的变化。弹性伸缩根据您设置的伸缩规则，在业务需求增长时自动为您增加ECS实例以保证计算能力，在业务需求下降时自动减少ECS实例以节约成本。</p><p>阿里云弹性伸缩的主要功能包括：根据客户业务需求自动调整ECS实例数量；自动向负载均衡的后端服务器组中添加或移除相应的ECS实例；自动向RDS访问白名单中添加或移除ECS实例的IP。弹性伸缩服务提供3个不同的伸缩方案，即弹性扩张、弹性收缩和弹性自愈。弹性扩张是指当您的业务升级时，为您自动完成底层资源升级，避免访问延时和资源超负荷运行。比如，您可以配置云监控实时关注您的ECS实例使用情况。当云监控检测到伸缩组内的ECS实例vCPU使用率突破80%时，弹性伸缩根据您配置的伸缩规则弹性扩张ECS资源，自动创建合适数量的ECS实例，并自动添加ECS实例到负载均衡实例和RDS实例的访问白名单中。弹性收缩是指当您的业务需求下降时，为您自动完成底层资源释放，避免资源浪费。比如您可以配置当云监控检测到伸缩组内的ECS实例vCPU使用率低于30%时，弹性伸缩根据您配置的伸缩规则弹性收缩ECS资源，自动释放合适数量的ECS实例，并自动从负载均衡实例和RDS实例的访问白名单中移除ECS实例。弹性自愈则是指通过提供健康检查功能，自动监控伸缩组内的ECS实例的健康状态，避免伸缩组内健康ECS实例低于您设置的最小值。当检测到某台ECS实例处于不健康状态时。弹性伸缩自动释放不健康ECS实例并创建新的ECS实例，自动添加新ECS实例到负载均衡实例和RDS实例的访问白名单中。</p><p>通过上述简介，我们可以看到，弹性伸缩通常是需要和负载均衡SLB和RDS数据库配合使用的。因为我们弹性扩张、弹性收缩或者弹性自愈的目的都是为了保证服务的稳定性，而负载均衡是应对访问量剧烈变化情况，保持提供稳定服务的首选方案。同时，因为弹性伸缩的ECS服务器示例是动态创建和动态释放的，新创建的服务器示例必须配置好跟SLB中已有的服务器相同的运行环境和应用程序，才能正常工作。因此，通过使用RDS数据库，实现ECS服务器和数据库的分离，可以极大地降低新的ECS服务器示例初始化时的复杂度，以及因为ECS服务器示例被动态释放造成数据丢失的风险。后文会再讲述初始化ECS服务器示例的方法。</p><p>阿里云弹性伸缩可以实现智能调度云计算资源，应对各种复杂场景。典型的应用场景有：1. 视频公司：春晚或每周五热门节目来临时，负载激增，需及时、自动扩展云计算资源。2. 视频直播公司：业务负载变化难以预测，需要阿里云自动根据CPU利用率、应用负载、带宽利用率作为衡量指标进行弹性伸缩。3. 游戏公司：每天中午12点及晚上6点到9点间需求增长，需要定时扩容。4. 电商公司：双十一、618、周年庆、新品发布抢购等突发流量高峰期，需要弹性扩容的情况。</p><p>了解了弹性伸缩可以做什么之后，问题来了，具体怎么使用呢？弹性收缩比较好理解，因为它只是从当前负载均衡SLB服务器队列中移除部分多余的示例，加上相关数据都是存贮在与ECS服务器相互独立RDS数据库中，移除服务器不会有任何影响。弹性扩张和弹性自愈就比较复杂了，都涉及到新增加的ECS服务器实例的环境初始化问题。同一个SLB中的所有服务器都必须具有相同的系统运行环境和应用配置，这样才能完成相同的工作。那么，弹性扩张时新增加的ECS服务器示例是如何初始化的呢？主要有几个方式：1. 创建弹性伸缩配置 ECS 实例时，您可以通过 ECS 自定义镜像模板来创建实例。在 ECS 实例运行过程中，如果需要做系统内部数据同步，建议您自定义安装 rsync 进行同步。2. 在弹性伸缩自动创建ECS实例后，如果想要自动安装、更新程序和自动加载代码，需要您在自定义镜像中存放执行脚本，并设置命令使操作系统启动后自动执行该脚本。CentOS 6 及以下系统采用 system V init 作为初始化进程，CentOS 7 采用systemd来做初始化进程。3. 弹性伸缩配置中新增了UserData、KeyPair、RamRole、Tags 4个特性。使用UserData，您可以快速安全的完成自动化的配置过程，在ECS实例数量随着业务需求弹性变化的同时，您还能够安全、快速地完成应用级别的扩容和缩容。您还可以通过配置KeyPair、Tags等参数，实现更加高效、智能的ECS实例管理服务。4. 通过使用Terraform等开源的IT基础架构管理工具来实现。Terraform 是一个安全、高效地部署、更改、版本化基础设施和应用程序的工具，可以用来管理多层次的资源。从上层的软件配置到底层的网络、系统配置都可以使用 Terraform 统一进行管理。Terraform 用配置文件来描述一个应用。 Terraform 会将配置文件与当前环境对比后，生成一个执行计划，这个计划会列出为了达到配置文件中定义的状态所需要执行的操作，然后执行计划以达到期望的状态。要使用Terraform，可以在自定义镜像中配置好Terraform。这样在新增ECS服务器示例时，就可以为新的实例实现应用环境自动配置了。</p><p>后续我们将继续为大家介绍弹性伸缩服务的更多细节。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'伸缩','云弹性','服务'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>