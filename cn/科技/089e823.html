<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>隐藏在电影背后的神秘力量，竟然是 ta | 极客快訊</title><meta property="og:title" content="隐藏在电影背后的神秘力量，竟然是 ta - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/5217dee20a2b40508b51074b826f9794"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/089e823.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/089e823.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/089e823.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/089e823.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/089e823.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/089e823.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/089e823.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/089e823.html><meta property="article:published_time" content="2020-10-29T21:07:15+08:00"><meta property="article:modified_time" content="2020-10-29T21:07:15+08:00"><meta name=Keywords content><meta name=description content="隐藏在电影背后的神秘力量，竟然是 ta"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/089e823.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>隐藏在电影背后的神秘力量，竟然是 ta</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>拿好你的爆米花，挑个好座位，舒舒服服地坐好，好戏要开始了……</p><p>有请数学闪亮登场</p><p>我们都惊叹于电影中计算机生成的难以置信的逼真图像。但是大多数人没有意识到的是：《侏罗纪公园》的恐龙和《指环王》（尤其是其中古鲁姆的出场）的神奇画面，如果没有数学，就不可能出现。但是这些惊人的图像是如何制作的？计算机图形学和计算机视觉是一门庞大的学科，在这篇文章中，我们将简单地看一下得到电影成品所需要的一些数学知识。首先，我们将创造电影中所看到的世界，然后把它变成现实。</p><p>设定场景</p><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5217dee20a2b40508b51074b826f9794><p class=pgc-img-caption></p></div><p>以猴子模型为例，其表面的建模是由简单多边形（如三角形）组成的线骨架。</p><p>用电脑制作电影的第一步是<strong>创造故事中的人物和他们生活的世界</strong>。这里的每一个对象都需要建模，模型的曲面是由连接的多边形（通常是三角形）组成的，三角形的顶点存储在计算机中。根据三角形判断曲面的内外面是很重要的。模型的这些信息按照<strong>顶点存储的顺序</strong>进行编码，可以根据<strong>右手螺旋法则</strong>判断其顺序：<strong>右手的手指按照顶点给定的顺序绕三角形卷曲，你的大拇指会落在三角形的一边——那一边就是外面。</strong>如果你用下面这个例子来尝试，你会发现三角形（A，B，C）的向外方向（称为向外法线）与（A，C，B）的方向相反。</p><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e0da1abf6d9b4b9ca461df110744abd3><p class=pgc-img-caption></p></div><p>用右手螺旋法则可以发现：（A，B，C）的外法线与（A，C，B）的方向相反</p><p>现在，物体表面是一个由三角形组成的丝网，之后可以准备给它的每个部件<strong>上色</strong>了。这部分需要真实地捕捉模型所在场景的灯光，这是通过一个称为<strong>光线追踪</strong>的过程来完成的。从我们的视角出发，将光线反向传播到物体上，再经由物体反射，如果光线与一个光源相交的话，此部分就用明亮的颜色来涂染，使这部分看起来明亮。如果反射的光线没有与光源相交，则用较暗的颜色来刻画这部分曲面。</p><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/28facf8d8c5d46d8af96f426f4b33e47><p class=pgc-img-caption></p></div><p>从你的视点追踪光线到一个面，它是否反射并与光源相交？</p><p>要将光线追溯到一个特定的面，我们需要用数学来描述曲面，并求解包含光线和由该面描述的平面的几何方程，这一步可以通过向量来完成。将场景放到三维座标系中，我们的视角在原点（）上，<strong>向量 表示从原点开始到座标为、和 位置结束的箭头</strong>。我们可以把乘以一个数字，比方说数字2，根据规则：</p><p><strong>所以 代表向量方向不变，但长度拉长两倍的效果。</strong></p><p>现在看表达式 ，其中 是一个变量，换句话说就是任何实数。由于代表长度的 是变量，因此这个向量长度不定，但是方向一定。换句话说，这个表达式表示的是包含向量 的直线，这条直线（或者说光线）从原点（即我们的视角）沿着向量 给定的方向发出。</p><p>三角形定义的平面可以用<strong>三条信息</strong>表示：其中一个<strong>顶点</strong>（不妨称之为顶点 ）的位置，以及从 到顶点 的<strong>向量</strong>、从 到顶点 的<strong>向量</strong>。</p><p><strong>下面的方框给出了从我们的眼睛开始的光线方程和由一个三角面给出的平面方程。为了找出光线与平面是否相交、在哪里相交，以及计算反射光线的方程，我们需要求解包含这两个表达式的方程。</strong></p><p>光线方程，其中 是实数， 是向量：</p><p>由顶点 ,, 定义的平面方程：</p><p><br></p><p>（具体的求解过程这里不再详细展开，感兴趣的可以戳→这。）</p><p><strong>光线追踪</strong>可以生成逼真的场景，但速度非常慢。当然，这对于计算机来说是可以接受的，但是当你需要实时改变灯光时，比如在电脑游戏光的改变，这个问题就变得复杂起来了。复杂一点的现象，如<strong>阴影</strong>、<strong>焦散</strong>和<strong>多次反射</strong>很难动态建模，这里要用到更复杂的数学方法，例如<strong>预计算辐射传输</strong>（ precomputed radiance transfer，PRT）和<strong>辐射度算法</strong>（Radiosity）。</p><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d6484bebbc9d456ba1deb933497d3cbe><p class=pgc-img-caption></p></div><p>像《毁灭战士3》和《无冬之夜》这样的电脑游戏就需要动态光线</p><p><br></p><p>只需要一点简单的想象力</p><p>一旦场景设置好，灯光打好，我们只需要等导演大喊“Action！”，角色就可以动起来了。现在我们来看看数学是怎么让这些图像活灵活现的。</p><p><strong>一个物体能做的最基本的运动之一就是绕着一个给定的轴，旋转一定的角度</strong>。座标几何为我们提供了许多求解物体旋转后每个点的位置的工具，但重要的是这些方法的效率和速度。</p><p>为了了解这些方法，让我们从基础开始讲起。我们知道 有两个平方根： 和 ， 。但是 的平方根是多少？<strong>为了求解负数的平方根，数学家引入了新的数字，叫做 ，其中 ，</strong>因此 （），我们发现 。</p><p>的引入意味着类似 这样的方程现在可以求解了。而被称为<strong>复数</strong>有着 这样形式的数字，也成为数学中的一个重要工具。虽然仍然有很多人对这个奇怪的假想数字并不满意。（更多关于复数的介绍可以看这和这）</p><p><strong>1806年，业余数学家让·罗贝尔·阿尔冈给出了复数和 的几何解释</strong>。阿尔冈将复数与平面上的点关联起来，实数 位于一个轴上，虚数 位于另一个轴上。例如，数字对应于点（1,1）。一般来说，复数 对应于点（a，b）。</p><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0663fda8e65646859107a27b795aafcf><p class=pgc-img-caption></p></div><p>复数乘法有一个几何描述——旋转。</p><p>阿尔冈意识到复数的乘法有一个几何描述：<strong>旋转</strong>。让我们看看如果我们用 （由点（1，1）表示）乘以 发生什么：</p><p>，</p><p>它代表点（-1，1），即（1，1）（逆时针）旋转90度。</p><p>再将( )再乘以 ，</p><p>，</p><p>代表 ，即再次（逆时针）旋转了 90 度。</p><p><strong>乘以 是（逆时针）旋转90度的指令！</strong>事实上，任何旋转，不仅仅是90度旋转，都可以用复数相乘来实现。</p><p>延伸到 3D</p><p>数学家<strong>威廉·卢云·哈密顿爵士</strong>也许是都柏林三一学院最著名的毕业生。他一生的最后二十年致力于<strong>寻找一种表示三维旋转的方法</strong>，这种方法类似于复数可以表示二维的旋转。</p><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d11705e709c64b54a4ab4fd65d4a4ba5><p class=pgc-img-caption></p></div><p>布伦桥上的纪念牌匾，哈密顿爵士正是在这座桥下散步时发现了四元数</p><p>在他生命的最后，哈密顿发现了答案，一种他称之为<strong>四元数</strong>的形式。</p><p>其中 ， 是实数。</p><p><strong>类比复数的操作，我们可以用几何来描述四元数并用它们来表示旋转。但这次不是二维空间的旋转，而是三维空间的旋转。</strong></p><p>为此，、 和 表示三维空间中的基本平面：即 表示 平面， 表示 平面， 表示 平面，它们的向外法线分别在 x，-y 和 z 方向。</p><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5d533ed44e15407e91c32aa3683c2354><p class=pgc-img-caption></p></div><p>和 可以被几何解释为三维空间的基本平面。</p><p>假设我们希望将点（），绕从原点开始的向量（）旋转角 ，我们利用这个向量和角构造两个四元数 ：</p><p>然后我们可以用这两个四元数乘以 （表示为 、 和 方向上的单位向量的组合）得出：</p><p>结果证明，这个乘法得到的点 正是向量 绕着给定的轴旋转角度 得到的点！<strong>所以就像复数可以用来描述平面上的旋转，四元数也可以用来描述三维空间中的旋转。</strong></p><p>哈密顿在都柏林的桥上想出来的才华横溢的想法，虽然被证明是旋转三维物体的最有效方法，并没有得到所有人的认可。</p><p>开尔文勋爵、物理学家威廉·汤姆森在谈到四元数时说：“……虽然这个方法精巧绝伦，但对那些真正用到他们的人来说，可以说是‘一种不折不扣的邪恶’！”</p><p>尤其让人担心的是，<strong>当你把两个四元数相乘时，相乘的顺序会影响到答案，它们具有“非交换性”的性质。</strong>例如，从哈密顿的乘法规则可以看出 和 。当我们把 ， 和 当作元素平面时，汤姆森和同时代的人们担心他们的数学运算性质会出现问题。</p><p>使图像栩栩如生</p><p><strong>现在许多的图形应用程序图像的移动都用到了哈密顿的发明。</strong>计算机图形学中最重要的两个工具是<strong>变形</strong>和<strong>插值</strong>。<strong>插值</strong>和<strong>关键帧技术</strong>涉及到<strong>指定对象的初始和结束形状和位置，并让计算机计算出中间的阶段，</strong>如下图所示。</p><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/da6a21d339844f4d8f2dda6fcd8222e0><p class=pgc-img-caption></p></div><p>茶壶的形状在一系列框架下逐渐变化。</p><p>这是一个最基础的蛇的动画（由Richard Wareham创建），其中<strong>整条蛇是由计算机通过几个指定点的移动插值来创建的</strong>。<strong>变形是从简单对象创建复杂对象的一种方法，</strong>可以通过数学处理普通球体的场景来得出下面这样的布料落在变形球体的场景。<strong>变形和插值都需要快速和稳定的数学技术，而四元数相关的方法正好提供了这些技术。</strong></p><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/36bd967358b648d3971fbdef4c55531d><p class=pgc-img-caption></p></div><p>一块布落在圆球上可以用物理定律来模拟</p><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/86f0f1c34a51422b88b20af90f63f1d0><p class=pgc-img-caption></p></div><p>然后操纵一块布掉到一个变形的球体上。</p><p>让古鲁姆看起来更真实</p><p>以上所述的技术是经典动画必不可少的工具，其对于创建动画人物的效果也是很令人满意的。但是，当我们用它来制作涉及到人类的动画时，我们可以立刻发现它的不真实性。<strong>要创建逼真的运动，运动捕捉是必要的。</strong></p><p>很多角色，比如电影版《指环王》中的古鲁姆，都是用<strong>动作捕捉</strong>来塑造的。<strong>这是通过在真实的人身上的关键点（头、肩、肘、膝等）安装传感器来实现的。</strong></p><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/75f0755e6e9040ce94a762df8ba8be0a><p class=pgc-img-caption></p></div><p>古鲁姆的动作捕捉 来源：youtube</p><p>多个镜头对个体进行拍摄，传感器将位置变化存储在计算机上。将骨架拟合到三维数据中，然后将以上所述的所有信息都被当做是细节放到骨架上，从而创造出一个活生生的、呼吸的、移动的角色。</p><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/14e00861fa674751bbf7a0960ecc8d10><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="隐藏在电影背后的神秘力量，竟然是 ta" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4d4b021442e241d9a0955fbccdbecb4e><p class=pgc-img-caption></p></div><p>从附在身体不同部位的传感器上获得数据，并在数学上对数据进行了骨架动作拟合。</p><p>如果你坚持看完过整个电影演职员表，你会发现，一部成功的电影需要各种各样的创造性才能：作家、导演、演员、服装设计师、道具设计师等等。<strong>但是有一个名字经常会被忽略掉——数学。</strong>如果没有光线追踪的几何学或者四元数在三维空间的旋转，今天的许多电影都是不可能实现的。所以下次当你坐在电影院的座位上欣赏CG（计算机图形学）产生的奇观的时候，可以为这个节目的隐藏明星——<strong>数学</strong>，鼓掌。</p><p>注：古鲁姆为《指环王》中的角色</p><p><br></p><p>原文链接：</p><p>https://plus.maths.org/content/maths-goes-movies</p><p><br></p><p>来源： 中科院物理所</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'隐藏','电影','ta'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>