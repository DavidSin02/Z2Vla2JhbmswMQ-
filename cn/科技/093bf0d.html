<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>市场随机游走和蒙特卡洛分析法 | 极客快訊</title><meta property="og:title" content="市场随机游走和蒙特卡洛分析法 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/1527644654113bcc233f273"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/093bf0d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/093bf0d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/093bf0d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/093bf0d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/093bf0d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/093bf0d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/093bf0d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/093bf0d.html><meta property="article:published_time" content="2020-10-29T21:05:27+08:00"><meta property="article:modified_time" content="2020-10-29T21:05:27+08:00"><meta name=Keywords content><meta name=description content="市场随机游走和蒙特卡洛分析法"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/093bf0d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>市场随机游走和蒙特卡洛分析法</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p><strong>随机游走（random walk），</strong>即无规则运动，概念接近于布朗运动，是布朗运动的理想数学状态，而布朗运动是一个物理概念，学术概念太深奥，举一个最简单的例子，在装满水的水缸中滴几滴墨水，那么墨水的路径就叫做布朗运动。再回到随机游走，随机游走模型的提出是与证券价格的变动模式紧密联系在一起的。</p><p>最早使用统计方法分析收益率的著作是在 1900年由路易·巴舍利耶（Louis Bachelier）发表的，他把用于分析赌博的方法用于股票、债券、期货和期权。在巴舍利耶的论文中，其具有开拓性的贡献就在于认识到随机游走过程是布朗运动。1953年，英国统计学家肯德尔在应用时间序列分析研究股票价格波动并试图得出股票价格波动的模式时，得到了一个令人大感意外的结论：股票价格没有任何规律可寻，它就像“一个醉汉走步一样，几乎宛若机会之魔每周扔出一个随机数字，把它加在目前的价格上，以此决定下一周的价格。”即股价遵循的是随机游走规律。</p><p>在很多系统都存在不同类型的无规则行走，他们都具有相似结构。单个的随机事件我们不可预测，但随机大量的群体行为，却是精确可知的，这就是概率世界的魅力，在偶然中隐含着必然。随机性造成了低尺度下的差异性，但在高尺度下又表现为共同的特征的相似性。按照概率的观点“宇宙即是所有随机事件概率的总和”。于是，我们再引出蒙特卡洛模拟概念。</p><p><strong>蒙特卡洛（Monte Carlo）方法，又称随机抽样或统计试验方法</strong>，因摩纳哥著名的赌场蒙特卡洛而得名，数学家们称这种表述为“模式”，而当一种模式足够精确时，他能产生与实际操作中对同一条件相同的反应。传统的经验方法由于不能逼近真实的物理过程，很难得到满意的结果，而蒙特卡罗方法由于能够真实地模拟实际物理过程，故解决问题与实际非常符合，可以得到很圆满的结果。当所要求解的问题是某种事件出现的概率，或者是某个随机变量的期望值时，它们可以通过某种“试验”的方法，得到这种事件出现的频率，或者这个随机变数的平均值，并用它们作为问题的解。这就是蒙特卡罗方法的基本思想。蒙特卡罗方法通过抓住事物运动的几何数量和几何特征，利用数学方法来加以模拟，即进行一种数字模拟实验。</p><p><strong>蒙塔卡洛模拟有很多种方法，今天，给大家介绍的方法叫做几何布朗运动（GBM），它的数学定义如下：</strong></p><p>dSt=μtStdt+σtStdz</p><p>其中，St 代表价格</p><p>μt 代表瞬时漂移项</p><p>σt 代表瞬时波动率</p><p>dz 代表服从均值为0，方差为dt的正态随机变量</p><p>即dz~ N(0，dt)</p><p>简单起见，我们还可以把上述公式写成如下这样：</p><div class=pgc-img><img alt=市场随机游走和蒙特卡洛分析法 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1527644654113bcc233f273><p class=pgc-img-caption></p></div><p>接下来，我们就结合真实数据来给大家讲讲蒙特卡洛模拟到底是怎么一回事。</p><p>我们选取伦敦现银2016年7月22日到2016年8月22日每日收盘价的数据，得下图：</p><div class=pgc-img><img alt=市场随机游走和蒙特卡洛分析法 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1527644654151114f160024><p class=pgc-img-caption></p></div><p>其中红线代表真实价格走势，其余代表根据上述公式模拟出来的走势线，其中我们假设μ=0，σ=0.1，由于总共22个交易日，每条模拟线代表22个交易日，也就有22个独立同分布的ε，?t=1/22，S0=19.619为7月22日的收盘价，如果我们进行了1000次模拟，也就会有1000条模拟线（这里为了美观就不画出了），所以我们会有1000个通过蒙特卡洛模拟出来的2016年8月22日的收盘价，我们取一个均值，得到8月22日模拟收盘价为19.604，而8月22日真实的收盘价为18.889，可以看出还是比较接近真实价格的，但不是很精确，原因如下，真实的走势的漂移项和波动率是会随时间变化的，并且收益也不服从正态分布，往往呈现厚尾分布，对此，我们可以采用蒙特卡洛模拟中的另一个方法---bootstrap，它与GBM的不同之处在于随机数的产生机制不同，bootstrap的随机数是基于历史数据得出的假设分布产生的。</p><p><strong>什么是蒙特卡洛树搜索</strong></p><p>蒙特卡洛树搜索（MCTS）是一种在人工智能问题中进行决策优化的方法，通常是对于那些在组合游戏中需要移动规划的部分。蒙特卡洛树搜索将随机模拟的通用性与树搜索的准确性进行了结合。</p><p>冯·诺依曼于 1928 年提出的极小化极大理论（minimax）为之后的对抗性树搜索方法铺平了道路，而这些在计算机科学和人工智能刚刚成立的时候就成为了决策理论的根基。蒙特卡洛方法通过随机采样解决问题，随后在 20 世纪 40 年代，被作为了一种解决模糊定义问题而不适合直接树搜索的方法。Rémi Coulomb 于 2006 年将这两种方法结合，来提供一种新的方法作为围棋中的移动规划，如今称为蒙特卡洛树搜索（MCTS）。</p><p>近期由于它在计算机围棋上的成果和对某些难题具有解决的潜力，科研领域对于 MCTS 的研究兴趣快速上升。它的应用领域已不止于博弈，而且理论上 MCTS 可以应用于任何能够以 {状态，动作} 形式描述，通过模拟来预测结果的领域。</p><p><strong>基本算法</strong></p><p>最基本的 MCTS 算法本身就是简单的：根据模拟出来的结果，建立一棵节点相连的搜索树。整个过程可以被分解为如下几步：</p><div class=pgc-img><img alt=市场随机游走和蒙特卡洛分析法 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15276446542088214d967de><p class=pgc-img-caption></p></div><p><strong>1.选择</strong></p><p>从根节点 R 开始，递归地选择最优子节点（下面会解释）直到一个叶子节点 L 为止。</p><p><strong>2.扩展</strong></p><p>如果 L 不是终止节点（就是说，博弈尚未结束）那么就创建一个或多个子节点，并选择其中一个 C。</p><p><strong>3.模拟</strong></p><p>从 C 执行一次模拟推出（译者注：通常称为 playout 或 rollout）直到得到一个结果。</p><p><strong>4.反向传播</strong></p><p>每一个节点必须包含两部分重要的信息：基于模拟所得结果的估值，和被访问的次数</p><p>在最简单和最大化利用内存的执行中，MCTS 会在每次迭代中添加一个子节点。注意，在某些情况下每次迭代增加多个子节点可能会更有益。</p><p><strong>节点的选择</strong></p><p><strong>老虎机与 UCB 算法</strong></p><p>在树递归地向下发展时的节点的选择，是取决于该节点是否最大化了某些数量，类似于多臂老虎机问题：即玩家每回合都要选择那个能够带给他们最大化收益的老虎机。接下来的上限置信区间（Upper Confidence Bounds, UCB）公式通常会被用到：</p><div class=pgc-img><img alt=市场随机游走和蒙特卡洛分析法 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/152764465411574848733ff><p class=pgc-img-caption></p></div><p>其中 vi 是节点的估值，ni 是节点被访问的次数而 N 是它的父亲节点被访问的总次数。C 是可调的偏置参数。</p><p><strong>利用性 vs 探索性</strong></p><p>UCB 公式在利用性与探索性之间提供了不错的平衡，鼓励访问未曾访问过的节点。奖励是基于随机模拟的，所以节点在变的可靠之前必须被访问一定的次数。MCTS 估值往往在开始的表现会非常不可靠，但随着足够多的时间而逐渐向可靠的估值收敛，若有无限多的时间则可以收敛至最优估值。</p><p><strong>蒙特卡洛树搜索（MCTS）与上限置信区间树（UCT）</strong></p><p>Kocsis 和 Szepervari (2006)首先利用 UCB 提出了一个完整的 MCTS 算法并命名为上限置信区间树（UCT）的方法。这个方法正是如今被大多数人采用于 MCTS 的实施中的算法。</p><p>UCT 可以被描述为 MCTS 的一种特殊情况，即：</p><p>UCT = MCTS + UCB</p><p><strong>优点</strong></p><p>MCTS最大的好处就在于它无需知道该博弈（或者其他问题领域）的任何战术或策略。这个算法可以无需知道任何该博弈的信息（除了可进行的动作和终止条件）。这意味着任何的 MCTS 的实现方案可以在仅仅修改一小部分后便移植到其他的博弈中，对于所有的博弈问题来说 MCTS 的这个特性也是一种隐形的好处。</p><p><strong>非对称树增长（Asymmetric Tree Growth）</strong></p><p>MCTS 表现出一种非对称的树增长来适应搜索空间的拓扑。算法会访问其更‘感兴趣’的节点，并将搜索空间集中于更加相关的部分。</p><div class=pgc-img><img alt=市场随机游走和蒙特卡洛分析法 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1527644654216e9df282c42><p class=pgc-img-caption></p></div><p>这使得 MCTS 很适合于拥有大量影响因素的博弈中，如 19x19 大小的围棋。如此巨大的空间组合往往会使得标准的深度或广度搜索方法出现问题，但 MCTS 的适应特性意味着它会（最终）找到那些更为优秀的移动（动作）并专注于那里的搜索。</p><p><strong>优雅的退出</strong></p><p>算法可以在任意时间中止并返回当前最佳的评估策略。建立的搜索树可以被抛弃或为以后的复用而保留。</p><p><strong>易用性</strong></p><p>算法非常易于实现，可见教程。（译者注：python 及 java 源码及相关知识点可在此找到）</p><p><strong>缺点</strong></p><p>MCTS 虽然只有少量缺陷，但他们可以很严重（影响树搜索的效果）。</p><p><strong>博弈强度</strong></p><p>MCTS 算法，在最基本的形式下，即使针对中等复杂度的博弈也有可能在一定时间内不能够给出很好的决策。这很可能是由于决策空间的绝对大小和关键树节点在没有被访问足够多的次数的情况下不能够给出可靠的估值的原因。幸运的是，算法的表现可以通过一些技巧来提升。</p><p>声明：部分数据内容来源于网络，侵删。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'市场','随机游','蒙特卡洛'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>