<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略 | 极客快訊</title><meta property="og:title" content="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/a278d4d137864ccfa7d933b06e6d0886"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0b2e976.html><meta property="article:published_time" content="2020-10-29T20:50:28+08:00"><meta property="article:modified_time" content="2020-10-29T20:50:28+08:00"><meta name=Keywords content><meta name=description content="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/0b2e976.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>前言</h1><ul><li>计算机网络基础 该是程序猿需掌握的知识，但往往会被忽略</li><li>今天，我将详细讲解计算机网络中最重要的TCP协议，含其特点、三次握手、四次挥手、无差错传输等知识，希望你们会喜欢。</li></ul><blockquote><p>阅读本文前，请先了解计算机网络基础知识：献上一份全面 & 详细的计算机网络基础 学习指南</p></blockquote><hr><h1 class=pgc-h-arrow-right>目录</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a278d4d137864ccfa7d933b06e6d0886><p class=pgc-img-caption></p></div><p>示意图</p><hr><h1 class=pgc-h-arrow-right>1. 定义</h1><p>Transmission Control Protocol，即 传输控制协议</p><blockquote><p>属于 传输层通信协议 基于TCP的应用层协议有HTTP、SMTP、FTP、Telnet 和 POP3</p></blockquote><hr><h1 class=pgc-h-arrow-right>2 特点</h1><ul><li>面向连接、面向字节流、全双工通信、可靠</li><li>具体介绍如下：</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7c46fed0e54a43aeacf75730c3069a42><p class=pgc-img-caption></p></div><p>示意图</p><hr><h1 class=pgc-h-arrow-right>3. 优缺点</h1><ul><li>优点：数据传输可靠</li><li>缺点：效率慢（因需建立连接、发送确认包等）</li></ul><hr><h1 class=pgc-h-arrow-right>4. 应用场景（对应的应用层协议）</h1><p>要求通信数据可靠时，即 数据要准确无误地传递给对方</p><blockquote><p>如：传输文件：HTTP、HTTPS、FTP等协议；传输邮件：POP、SMTP等协议</p></blockquote><ul><li>万维网：HTTP协议</li><li>文件传输：FTP协议</li><li>电子邮件：SMTP协议</li><li>远程终端接入：TELNET协议</li></ul><hr><h1 class=pgc-h-arrow-right>5. 报文段格式</h1><ul><li>TCP虽面向字节流，但传送的数据单元 = 报文段</li><li>报文段 = 首部 + 数据 2部分</li><li>TCP的全部功能体现在它首部中各字段的作用，故下面主要讲解TCP报文段的首部</li></ul><blockquote><p>首部前20个字符固定、后面有4n个字节是根据需而增加的选项 故 TCP首部最小长度 = 20字节</p></blockquote><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/08551e761be94930bb711492f4c31123><p class=pgc-img-caption></p></div><p>示意图</p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/de1e8ecdc019410fa46d8a6bf0d65dac><p class=pgc-img-caption></p></div><p>示意图</p><hr><h1 class=pgc-h-arrow-right>6. 建立连接过程</h1><ul><li>TCP建立连接需 <strong>三次握手</strong></li><li>具体介绍如下</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7ed26faf03c047ccbf4db3e4d69404a1><p class=pgc-img-caption></p></div><p>示意图</p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ca660684d7e44514b947ce0b1bcbfa69><p class=pgc-img-caption></p></div><p>示意图</p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/580529fc897545ac9194959b07cd0a57><p class=pgc-img-caption></p></div><p>示意图</p><p><strong>成功进行TCP的三次握手后，就建立起一条TCP连接，即可传送应用层数据</strong></p><blockquote><p>注</p><p>因 TCP提供的是全双工通信，故通信双方的应用进程在任何时候都能发送数据 三次握手期间，任何1次未收到对面的回复，则都会重发</p></blockquote><h3 class=pgc-h-arrow-right>特别说明：为什么TCP建立连接需三次握手？</h3><ul><li>结论 防止服务器端因接收了<strong>早已失效的连接请求报文</strong>，从而一直等待客户端请求，最终导致<strong>形成死锁、浪费资源</strong></li><li>具体描述</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5ed6240c2eb84c2fa333831cd3f99e49><p class=pgc-img-caption></p></div><p>具体描述</p><blockquote><p>SYN洪泛攻击：</p><p>从上可看出：服务端的TCP资源分配时刻 = 完成第二次握手时；而客户端的TCP资源分配时刻 = 完成第三次握手时 这就使得服务器易于受到SYN洪泛攻击，即同时多个客户端发起连接请求，从而需进行多个请求的TCP连接资源分配</p></blockquote><hr><h1 class=pgc-h-arrow-right>7. 释放连接过程</h1><ul><li>在通信结束后，双方都可以释放连接，共需 <strong>四次挥手</strong></li><li>具体如下</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/046b7b58267c4baaa9dbae508fb27143><p class=pgc-img-caption></p></div><p>示意图</p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/854cea57820c413ba687899924601f24><p class=pgc-img-caption></p></div><p>示意图</p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1019b0eeb692437386e0804e6e2e0751><p class=pgc-img-caption></p></div><p>示意图</p><h3 class=pgc-h-arrow-right>特别说明：为什么TCP释放连接需四次挥手？</h3><ul><li>结论<br>为了保证通信双方都能通知对方 需释放 & 断开连接</li></ul><blockquote><p>即释放连接后，都无法接收 / 发送消息给对方</p></blockquote><ul><li>具体描述</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ba2c0b7a52414feb856a2202d6368d6c><p class=pgc-img-caption></p></div><p>示意图</p><blockquote><p>延伸疑问：为什么客户端关闭连接前要等待2MSL时间？</p><p>即 TIME - WAIT 状态的作用是什么； MSL = 最长报文段寿命（Maximum Segment Lifetime）</p></blockquote><ul><li>原因1：为了保证客户端发送的最后1个连接释放确认报文 能到达服务器，从而使得服务器能正常释放连接</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7ec3d359c8c24c718bb3107e4db94bac><p class=pgc-img-caption></p></div><p>示意图</p><ul><li>原因2：防止 上文提到的早已失效的连接请求报文 出现在本连接中<br>客户端发送了最后1个连接释放请求确认报文后，再经过2MSL时间，则可使本连接持续时间内所产生的所有报文段都从网络中消失。</li></ul><blockquote><p>即 在下1个新的连接中就不会出现早已失效的连接请求报文</p></blockquote><hr><h1 class=pgc-h-arrow-right>8. 无差错传输</h1><ul><li>对比于UDP，TCP的传输是可靠的、无差错的</li><li>那么，为什么TCP的传输为什么是可靠的、无差错的呢？</li><li>下面，我将详细讲解TCP协议的无差错传输</li></ul><h3 class=pgc-h-arrow-right>8.1 含义</h3><ul><li>无差错：即 传输信道不出差错</li><li>发送 & 接收效率匹配：即 无论发送方以多快的速度发送数据，接收方总来得及处理收到的数据</li></ul><h3 class=pgc-h-arrow-right>8.2 基础：滑动窗口 协议</h3><ul><li>先理解2个基础概念：发送窗口、接收窗口</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e51e1bc88d9b47668701ca4855cd85b7><p class=pgc-img-caption></p></div><p>示意图</p><ul><li>工作原理<br>对于发送端：</li></ul><ol start=1><li>每收到一个确认帧，发送窗口就向前滑动一个帧的距离</li><li>当发送窗口内无可发送的帧时（即窗口内的帧全部是已发送但未收到确认的帧），发送方就会停止发送，直到收到接收方发送的确认帧使窗口移动，窗口内有可以发送的帧，之后才开始继续发送<br>具体如下图：</li></ol><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/36f3551ee20c403fa5df455e06e2e80e><p class=pgc-img-caption></p></div><p>示意图</p><p>对于接收端：当收到数据帧后，将窗口向前移动一个位置，并发回确认帧，若收到的数据帧落在接收窗口之外，则一律丢弃。</p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e42b7dfad28040f9899697531cf19c9f><p class=pgc-img-caption></p></div><p>示意图</p><h3 class=pgc-h-arrow-right>滑动窗口 协议的重要特性</h3><ul><li>只有接收窗口向前滑动、接收方发送了确认帧时，发送窗口才有可能（只有发送方收到确认帧才是一定）向前滑动</li><li>停止-等待协议、后退N帧协议 & 选择重传协议只是在发送窗口大小和接收窗口大小上有所差别：</li></ul><blockquote><p>停止等待协议：发送窗口大小=1，接收窗口大小=1；即 单帧滑动窗口 等于 停止-等待协议 后退N帧协议：发送窗口大小>1，接收窗口大小=1。 选择重传协议：发送窗口大小>1，接收窗口大小>1。</p></blockquote><ul><li>当接收窗口的大小为1时，可保证帧有序接收。</li><li>数据链路层的滑动窗口协议中，窗口的大小在传输过程中是固定的（注意要与TCP的滑动窗口协议区别）</li></ul><h3 class=pgc-h-arrow-right>8.3 实现无差错传输的解决方案</h3><p>核心思想：采用一些可靠传输协议，使得</p><ol start=1><li>出现差错时，让发送方重传差错数据：即 出错重传</li><li>当接收方来不及接收收到的数据时，可通知发送方降低发送数据的效率：即 速度匹配</li></ol><ul><li>针对上述2个问题，分别采用的解决方案是：自动重传协议 和 流量控制 & 拥塞控制协议</li></ul><h3 class=pgc-h-arrow-right>解决方案1：自动重传请求协议ARQ（针对 出错重传）</h3><ul><li>定义<br>即 Auto Repeat reQuest，具体介绍如下：</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f10ba2a29c0a43aa9871ea2a4bdfe8a7><p class=pgc-img-caption></p></div><p>示意图</p><ul><li>类型</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ab10bca5ac5b49a298ef49d0c9ad04fa><p class=pgc-img-caption></p></div><p>示意图</p><p>下面，将主要讲解 上述3类协议</p><h3 class=pgc-h-arrow-right>类型1：停等式ARQ（Stop-and-Wait）</h3><ul><li>原理：（单帧滑动窗口）停止 - 等待协议 + 超时重传</li></ul><blockquote><p>即 ：发送窗口大小=1、接收窗口大小=1</p></blockquote><ul><li>停止 - 等待协议的协议原理如下：</li></ul><blockquote><p>发送方每发送一帧，要等到接收方的应答信号后才能发送下一帧 接收方每接收一帧，都要反馈一个应答信号，表示可接下一帧 若接收方不反馈应答信号，则发送方必须一直等待</p></blockquote><h3 class=pgc-h-arrow-right>类型2：后退N帧协议</h3><p>也称：连续ARQ协议</p><ul><li>原理<br>多帧滑动窗口 + 累计确认 + 后退N帧 + 超时重传</li></ul><blockquote><p>即 ：发送窗口大小>1、接收窗口大小=1</p></blockquote><ul><li>具体描述<br>a. 发送方：采用多帧滑动窗口的原理，可连续发送多个数据帧 而不需等待对方确认<br>b. 接收方：采用 <strong>累计确认 & 后退N帧</strong>的原理，只允许按顺序接收帧。具体原理如下：</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8cff1ea152ed49b28a13009e794cd737><p class=pgc-img-caption></p></div><p>示意图</p><h3 class=pgc-h-arrow-right>示例讲解</h3><p>本示例 = 源站 向 目的站 发送数据帧。具体示例如下：</p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/298187bc376e43e08c22e8abcc1f6758><p class=pgc-img-caption></p></div><p>示意图</p><h3 class=pgc-h-arrow-right>类型3：选择重传ARQ（Selective Repeat）</h3><ul><li>原理<br>多帧滑动窗口 + 累计确认 + 后退N帧 + 超时重传</li></ul><blockquote><p>即 ：发送窗口大小>1、接收窗口大小>1</p></blockquote><p>类似于类型2（后退N帧协议），此处仅仅是接收窗口大小的区别，故此处不作过多描述</p><ul><li>特点<br>a. 优：因连续发送数据帧而提高了信道的利用率<br>b. 缺：重传时又必须把原来已经传送正确的数据帧进行重传（仅因为这些数据帧前面有一个数据帧出了错），将导致传送效率降低</li></ul><blockquote><p>由此可见，若信道传输质量很差，导致误码率较大时，后退N帧协议不一定优于停止-等待协议</p></blockquote><h1 class=pgc-h-arrow-right>解决方案2：流量控制 & 拥塞控制（针对 速度匹配）</h1><h3 class=pgc-h-arrow-right>措施1：流量控制</h3><ul><li>简介</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0a906e2196894c068580e6363096eb2c><p class=pgc-img-caption></p></div><p>示意图</p><ul><li>示例</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3000955a9ade41f19846b6285c064722><p class=pgc-img-caption></p></div><p>示意图</p><ul><li>特别注意：死锁问题</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f388cd9763894288a9d04269a681b29f><p class=pgc-img-caption></p></div><p>示意图</p><hr><h3 class=pgc-h-arrow-right>措施2：拥塞控制</h3><ul><li>定义<br>防止过多的数据注入到网络中，使得网络中的路由器 & 链路不致于过载</li></ul><blockquote><p>拥塞：对网络中的资源需求 > 该资源所能提供的部分</p></blockquote><ul><li>与 “流量控制”的区别</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/79abf00e5b0040888d3a7c820bad5bc7><p class=pgc-img-caption></p></div><p>示意图</p><ul><li>具体解决方案<br>共分为2个解决方案：慢开始 & 拥塞避免、快重传 & 快恢复</li></ul><blockquote><p>其中，涉及4种算法，即 慢开始 & 拥塞避免、快重传 & 快恢复</p></blockquote><p>具体介绍如下</p><h1 class=pgc-h-arrow-right>解决方案1：慢开始 & 拥塞避免</h1><h3 class=pgc-h-arrow-right>1.1 储备知识：拥塞窗口、慢开始算法、拥塞避免算法</h3><h3 class=pgc-h-arrow-right>a. 拥塞窗口</h3><ul><li>发送方维持一个状态变量：拥塞窗口（cwnd， congestion window ），具体介绍如下</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b056c87f3a714230a38d1a7ec4ba630e><p class=pgc-img-caption></p></div><p>示意图</p><h3 class=pgc-h-arrow-right>b. 慢开始算法</h3><ul><li>原理 当主机开始发送数据时，由小到大逐渐增大 拥塞窗口数值（即 发送窗口数值），从而 由小到大逐渐增大发送报文段</li><li>目的 开始传输时，<strong>试探</strong>网络的拥塞情况</li><li>具体措施</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e3afe1a897a94361a913d7bea64b2ea2><p class=pgc-img-caption></p></div><p>示意图</p><ul><li>示意图</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/de55a58e5f734c2a996b9558a441d97b><p class=pgc-img-caption></p></div><p>示意图</p><ul><li>特别注意<br>慢开始的“慢”指：一开始发送报文段时拥塞窗口（cwnd）设置得较小（为1），使得发送方在开始时只发送一个报文段（目的是试探一下网络的拥塞情况）</li></ul><blockquote><p>并不是指拥塞窗口（cwnd）的增长速率慢</p></blockquote><h3 class=pgc-h-arrow-right>c. 拥塞避免 算法</h3><ul><li>原理<br>使得拥塞窗口（cwnd）<strong>按线性规律 缓慢增长</strong>：每经过一个往返时间RTT，发送方的拥塞窗口（cwnd）加1</li></ul><blockquote><p><strong>拥塞避免 并不可避免拥塞</strong>，只是将拥塞窗口按现行规律缓慢增长，使得网络比较不容易出现拥塞 相比慢开始算法的加倍，拥塞窗口增长速率缓慢得多</p></blockquote><ul><li>示意图</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/396c12261ee84747866f95a7501b82ba><p class=pgc-img-caption></p></div><p>示意图</p><h3 class=pgc-h-arrow-right>1.2 解决方案描述（慢开始 & 拥塞避免）</h3><ul><li>为了防止拥塞窗口（cwnd）增长过大而引起网络拥塞，采用慢开始 & 拥塞避免 2种算法，具体规则如下</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/884f48d764284e40b2013355d0c88b82><p class=pgc-img-caption></p></div><p>示意图</p><ul><li>实例说明</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/50b5679133e74183b74d03465edbebdf><p class=pgc-img-caption></p></div><p>示意图</p><h1 class=pgc-h-arrow-right>解决方案2：快重传 & 快恢复</h1><p>快重传 & 快恢复的解决方案 是对慢开始 & 拥塞避免算法的改进</p><h3 class=pgc-h-arrow-right>2.1 储备知识：快重传算法、快恢复算法</h3><h3 class=pgc-h-arrow-right>a. 快重传算法</h3><ul><li>原理 接收方 每收到一个失序的报文段后 就立即发出重复确认（为的是使发送方及早知道有报文段没有到达对方），而不要等到自己发送数据时才进行捎带确认 发送方只要一连收到3个重复确认就立即重传对方尚未收到的报文段，而不必 继续等待设置的重传计时器到期</li><li>作用 由于发送方尽早重传未被确认的报文段，因此采用快重传后可以使整个网络吞吐量提高约20%</li><li>示意图</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ebd256b72c5f4f86ad41518c483f6514><p class=pgc-img-caption></p></div><p>示意图</p><h3 class=pgc-h-arrow-right>b. 快恢复</h3><p>当发送方连续收到3个重复确认后，就：</p><ol start=1><li>执行 <strong>乘法减小</strong> 算法：把 慢开始门限（ssthresh）设置为 出现拥塞时发送方窗口值的一半 = 拥塞窗口的1半</li><li>将拥塞窗口（cwnd）值设置为 慢开始门限ssthresh减半后的数值 = 拥塞窗口的1半</li><li>执行 <strong>加法增大</strong> 算法：执行拥塞避免算法，使拥塞窗口缓慢地线性增大。</li></ol><blockquote><p>注：</p><p>由于跳过了拥塞窗口（cwnd）从1起始的慢开始过程，所以称为：快恢复 此处网络不会发生网络拥塞，因若拥塞，则不会收到多个重复确认报文</p></blockquote><h3 class=pgc-h-arrow-right>2.2 解决方案描述（快重传 & 快恢复）</h3><ul><li>原理<br>为了优化慢开始 & 拥塞避免的解决方案，在上述方案中加入快重传 & 快恢复 2种算法，具体规则如下</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3606865115cf43508da9977f63a09920><p class=pgc-img-caption></p></div><p>示意图</p><ul><li>示意图</li></ul><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3340fcf6898245999f038b6279601dba><p class=pgc-img-caption></p></div><p>示意图</p><p>至此，关于TCP无差错传输的知识讲解完毕。</p><hr><h1 class=pgc-h-arrow-right>9. 与UDP协议的区别</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a42332fe46d24020b870a4ffa8fd8964><p class=pgc-img-caption></p></div><p>示意图</p><hr><p><br></p><h1 class=pgc-h-arrow-right>HTTP协议</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/db402bb197e54720a23a63f465f6a4be><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第1章了解Web及网络基础</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9f29c39ee0e445e190ea4a5c0f2b227f><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b636f0ed05484b2985b88cfa383fc0bd><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第2章简单的HTTP协议</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d13b1f7532804849b63db787ce623059><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第3章HTTP报文内的HTTP信息</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/cf88423aa9eb450ca2a180f9ba594500><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第4章返回结果的HTTP状态码</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/9065e1829a73459fa36ae9536df128ac><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第5章与HTTP协作的Web服务器</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c5a7bcc7df8949a2885ac873b5399e51><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/29c8af3242674ab7a5670d681af584ba><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第6章HTTP首部</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/dd62c2a6dff14fa0a88846e115a8a7fd><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第7章确保Web安全的HTTPS+第8章确认访问用户身份的认证</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/76b01b95d5c84fee869620d883172ca2><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0231cfc6a5304f36aa4729f496230a3e><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第9章基于HTTP的功能追加协议</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/46b33e0cd794438aa8d76235084714dd><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第10章构建Web内容的技术</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/02bc1e8ab98c4ebfbfd967a165b83d04><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第11章Web的攻击技术</h1><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fe1dcc746ebc479b9a98e6eee982b18a><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7fc6bb34c14249cba57a18ca665822a4><p class=pgc-img-caption></p></div><p>HTTP协议肯定是不够的，网络底层知识TCP/IP协议送上！</p><p><strong>需要免费领取全部的学习资料老铁麻烦帮忙转发一下这篇文章+关注我，然后私信我【666】都可以免费获取！</strong></p><h1 class=pgc-h-arrow-right>TCP/IP</h1><p><strong>总目录</strong></p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/066c8408-cbd3-45a6-855e-f6f3e3e8a6f4><p class=pgc-img-caption></p></div><p><strong>第1章概述</strong></p><p><strong>第2章Intemet地址结构</strong></p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a6b13589d8b242789fcdbb410268b036><p class=pgc-img-caption></p></div><p><strong>第3章链路层</strong></p><p><strong>第4章地址解析协议</strong></p><p><strong>第5章Intemet协议</strong></p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2dbb1f429cec48f7b6f7e657f4b8d052><p class=pgc-img-caption></p></div><p><strong>第6章系统配置: DHcP和自动配置</strong></p><p><strong>第7章防火墙和网络地址转换</strong></p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/941dc5918d864239ae5fab5cf8ef57fd><p class=pgc-img-caption></p></div><p><strong>第8章ICMPv4和ICMPv6: Intemet控制报文协议</strong></p><p><strong>第9章广播和本地组播(IGMP和MLD)</strong></p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d27f40b9629f4a85b69369fdec7be075><p class=pgc-img-caption></p></div><p><strong>第10章用户数据报协议和IP分片</strong></p><p><strong>第11章名称解析和域名系统</strong></p><p><strong>第12章TCP:传输控制协议(初步)</strong></p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7aef65e8f4634d4dbc4c300c94a4b46d><p class=pgc-img-caption></p></div><p><strong>第13章TCP连接管理</strong></p><p><strong>第14章TCP超时与重传</strong></p><p><strong>第15章TCP数据流与窗日管理</strong></p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/8b441a35a4e24468a0428cf04ae8689f><p class=pgc-img-caption></p></div><p><strong>第16章TCP拥塞控制</strong></p><p><strong>第17章TCP保括机制</strong></p><p><strong>第18童安全可扩展身份认证协议、IP安全协议、传输层安全、DNS安全、域名密钥识别邮件</strong></p><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1ec8c198f2df4f54893eb2a92288e8c9><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="计算机网络：这是一份全面图解tcp & 详细 的TCP协议攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8e0325e9ce6f499289231bc899dce330><p class=pgc-img-caption></p></div><p><strong>需要免费领取全部的学习资料老铁麻烦帮忙转发一下这篇文章+关注我，然后私信我【666】都可以免费获取！</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'计算机','网络','这是'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>