<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>煤矿液压支架CAN总线监控系统的设计 | 极客快訊</title><meta property="og:title" content="煤矿液压支架CAN总线监控系统的设计 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/57ca83b0-8c9d-4f38-87c8-117d353fcc39"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0c5c487.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0c5c487.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0c5c487.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0c5c487.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0c5c487.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0c5c487.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0c5c487.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0c5c487.html><meta property="article:published_time" content="2020-10-29T21:06:39+08:00"><meta property="article:modified_time" content="2020-10-29T21:06:39+08:00"><meta name=Keywords content><meta name=description content="煤矿液压支架CAN总线监控系统的设计"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/0c5c487.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>煤矿液压支架CAN总线监控系统的设计</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>针对刨煤机组中液压支架多而分散、系统信息量大等特点，基于CAN协议总线设计了液压支架分布式监控系统，上位机监控端可通过CAN总线和液压支架控制器进行通信，实现多液压支架的分散安装和集中控制功能，介绍了系统的整体结构、工作原理、液压支架控制器节点的硬件设计和CAN应用层协议以及软件通信设计。</strong></p><div class=pgc-img><img alt=煤矿液压支架CAN总线监控系统的设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/57ca83b0-8c9d-4f38-87c8-117d353fcc39><p class=pgc-img-caption></p></div><p>网络化是煤矿监控系统发展的必然趋势，随着综采机械化水平的不断提高，对液压支架工作状态的监测技术水平要求也越高。目前，采煤机和运输机的监控系统已经在许多煤矿投入使用，但液压支架工作状态的实时监测系统滞后于上述监控系统。液压支架的控制节点一般采用BIDI Bus网络联通，随着现场总线的提出，支架控制网络开始使用现场总线，如较为先进的CAN。</p><p>CAN是多主总线网络，CAN协议总线在实时性、成本、可靠性等方面有它独特的优越性。对液压支架的监控关键在于支架的工作状态数据和控制数据的实时传输，因此采用CAN协议总线形成的分布式控制网络能及时掌握液压支架的工作数据从而实现对液压支架的实时监控，这样能避免很多不必要的事故，能达到既节省劳动力和工作时间又能高效率的生产工作的目的。</p><h2 class=pgc-h-arrow-right>1 支架电液监控系统</h2><p>液压支架监控系统包括支架控制节点、CAN总线、地面控制、井下服务器、传感器等，如图1所示。液压支架节点采集压力、位移等信号，通过CAN总线实时传给地面控制室，地面控制室根据接收的采集信号控制支架节点的动作。</p><div class=pgc-img><img alt=煤矿液压支架CAN总线监控系统的设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b0c9ce7d25d34e9f80929a85dc72ae92><p class=pgc-img-caption>1 基于 CAN总线的支架电液控制系统</p></div><p>液压支架监控CAN总线信息分3类：</p><p>(1) 传感器信息：液压支架运动中采集的传感器信息。</p><p>(2) 控制信息：由控制节点发出，控制执行节点动作。</p><p>(3) 紧急指令：由总控制节点发送至执行节点，如紧急停机等动作。</p><h2 class=pgc-h-arrow-right>2 支架CAN控制器设计</h2><p>本系统采用的微处理器是ATMEL公司的低功耗、高性能微控制器AT89S52，系统的CAN控制器采用PHILIPS公司的独立CAN控制器SJA1000，CAN总线驱动器选用82C250。</p><p>AT89S52与工业80C51产品指令和引脚完全兼容，具有8K字节的可编程Flash存储器、256字节RAM。将控制器AT89S52的P1.0和SJA1000的AD0~AD7相连以接收与发送数据。将SJA1000的/CS连接到主控制器的P2.7口，AT89S52通过此接口读、写SJA1000，将SJA1000的功能引脚分别与控制器对应引脚相连，在访问处理器外设时将会自动产生相应的操作。</p><p>为了提高支架控制节点的抗干扰能力，选用高速光耦6N137将CAN控制器与收发器隔离。另外，网络终端的支架节点需要接120欧姆的电阻以匹配总线的阻抗。图2所示是CAN接口硬件电路图。</p><div class=pgc-img><img alt=煤矿液压支架CAN总线监控系统的设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/df4de591523c4a0a8a44013716deb42d><p class=pgc-img-caption>图2 CAN接口硬件电路图</p></div><h2 class=pgc-h-arrow-right>3 系统的软件设计</h2><p><strong>3.1 信息优先级分配</strong></p><p>采用CAN2.0A标准帧格式，由于系统中周期性信息与随机信息共存，采用截止期单调算法分配信息的标识符，即以每个信息的要求截止期限为依据，截止期越大的信息给予越低的优先级，整个系统保证每个信息的优先级唯一。</p><p><strong>3.2 CAN通信软件的设计</strong></p><p>根据模块化思想，将CAN通信软件分为三个部分，即CAN初始化模块、信息接收模块以及信息发送模块。</p><p>CAN控制器SJA1000在正式收发信号之前必须进行初始化设置，初始化首先禁能主控制器中断源，进入CAN控制器复位模式，之后需进行时钟分频寄存器、验收代码、定时寄存器、输出控制寄存器等配置，最后时能CAN中断，则完成了初始化。</p><p>报文的发送和接收由CAN控制器SJA1000独立完成[3]。主控制器将要发送报文传送到发送缓冲器，然后置位发送请求标志，发送指令采用查询控制段的状态标志来控制发送；收到信息时，通过中断请求通知控制器已经接收信息，主控制器从接收缓冲器提取信息，将信息存入本地存储器，然后释放接收缓冲器。</p><p><strong>3.3上位机PC监控系统设计</strong></p><p>为了动态显示液压支架的运行情况，基于组态软件开发了监控界面，PC节点通过CAN适配卡接入CAN网络，接收液压支架CAN网络传递的数据，并形象的显示出来，主界面如图3所示。</p><div class=pgc-img><img alt=煤矿液压支架CAN总线监控系统的设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7a8c0297ade24611a0768c23d6513376><p class=pgc-img-caption>图3 液压支架监控界面</p></div><h2 class=pgc-h-arrow-right>4 结语</h2><p>本文设计的基于CAN总线设计的刨煤机组液压支架监控系统可实现液压支架工作状态的实时监控功能，该监控系统已经成功应用于薄煤层开采中，相比BIDI Bus系统，该系统响应速度快，可靠性高，运行过程中表现稳定。</p><blockquote class=pgc-blockquote-abstract><p>本文编自《电气技术》，原文标题为“CAN总线液压支架监控系统设计”，作者为郝刚。</p></blockquote></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'煤矿','液压','总线'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>