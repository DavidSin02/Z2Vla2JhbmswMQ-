<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>åŸºäºå¼‚å¸¸çš„çŒæ€è¡ŒåŠ¨â€”â€”è‡ªä¿æŠ¤è§¦å‘è‡ªæ€ | æå®¢å¿«è¨Š</title><meta property="og:title" content="åŸºäºå¼‚å¸¸çš„çŒæ€è¡ŒåŠ¨â€”â€”è‡ªä¿æŠ¤è§¦å‘è‡ªæ€ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/02304faf-c13a-4a5c-8140-936c459a313f"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0f7e8d99.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0f7e8d99.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0f7e8d99.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0f7e8d99.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0f7e8d99.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0f7e8d99.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0f7e8d99.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0f7e8d99.html><meta property="article:published_time" content="2020-11-14T21:02:39+08:00"><meta property="article:modified_time" content="2020-11-14T21:02:39+08:00"><meta name=Keywords content><meta name=description content="åŸºäºå¼‚å¸¸çš„çŒæ€è¡ŒåŠ¨â€”â€”è‡ªä¿æŠ¤è§¦å‘è‡ªæ€"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/0f7e8d99.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>åŸºäºå¼‚å¸¸çš„çŒæ€è¡ŒåŠ¨â€”â€”è‡ªä¿æŠ¤è§¦å‘è‡ªæ€</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div class=pgc-img><img alt=åŸºäºå¼‚å¸¸çš„çŒæ€è¡ŒåŠ¨â€”â€”è‡ªä¿æŠ¤è§¦å‘è‡ªæ€ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/02304faf-c13a-4a5c-8140-936c459a313f><p class=pgc-img-caption></p></div><p></p><h1 class=pgc-h-arrow-right>0ã€å¼•è¨€</h1><p>è¿™æ¬¡åˆ†æçš„é—®é¢˜ ï¼Œéå¸¸åˆæ„æ€ï¼Œä¸€æ¬¾è½¯ä»¶çš„è‡ªä¿æŠ¤æœºåˆ¶è§¦å‘äº†ï¼ŒæŠ›å‡ºäº†ä¸€æ¬¡å¼‚å¸¸ï¼Œåœ¨å¼‚å¸¸é“¾çš„å¤„ç†ä¸­åšäº†ç‚¹ç®€å•çš„æ£€æµ‹ï¼Œå‘½ä¸­åˆ™å†æ¬¡è§¦å‘ä¸€æ¬¡å¼‚å¸¸ï¼Œå³å¼‚å¸¸ä¸­åµŒå¥—å¼‚å¸¸ï¼Œç„¶è€Œæœ€å…·æœ‰æŒ‘æˆ˜æ„æ€çš„äº‹æƒ…æ˜¯å¦‚ä½•æ‰¾åˆ°æ¡ˆå‘ç¬¬ä¸€ç°åœºï¼Œå±‹æ¼åé€¢è¿å¤œé›¨ï¼ŒWindbgæä¾›çš„å¸¸ç”¨å‘½ä»¤é›†ä½“ç½¢å·¥ï¼Œå¢æ·»äº†åˆ†æçš„è¶£å‘³æ€§ã€‚åšä¸€æ¬¡ä¾¦æ¢ï¼Œä»dmpçš„è››ä¸é©¬è¿¹ä¸­æ‰¾åˆ°æ¡ˆå‘ç¬¬ä¸€ç°åœºï¼Œåˆ†æé—®é¢˜çš„æ ¹æœ¬åŸå› ï¼Œä¾¿æ˜¯æ­¤æ–‡çš„æ¥ç”±ã€‚</p><p>æ¶‰åŠåˆ°ä»¥ä¸‹çŸ¥è¯†ç‚¹ï¼š</p><p>1ã€å‘½ä»¤å¤±æ•ˆæ—¶ï¼Œå¦‚ä½•æ‰‹åŠ¨åœ¨dmpä¸­æ‰¾åˆ°å…³é”®è°ƒç”¨ï¼Œå…³é”®æ•°æ®ï¼›</p><p>2ã€å¦‚ä½•æ‰‹åŠ¨é‡æ„æ ˆå¸§ï¼Œå¤åŸè°ƒç”¨æ ˆï¼›</p><p>3ã€ç”¨æˆ·æ€å¼‚å¸¸åˆ†å‘çš„ä¼˜å…ˆçº§åŠè·¯å¾„ï¼›</p><p>4ã€32ä½ä¸‹ï¼ŒOSä»å†…æ ¸åˆ†å‘è‡³ç”¨æˆ·æ€æ—¶åšçš„å…³é”®åŠ¨ä½œï¼Œ64ä½ä¸‹åˆæœ‰ä½•åŒºåˆ«ï¼›</p><p>5ã€åµŒå¥—çš„å¼‚å¸¸å¦‚ä½•æ‰¾åˆ°æ¡ˆå‘ç¬¬ä¸€ç°åœºï¼›</p><p></p><h1 class=pgc-h-arrow-right>1ã€èƒŒæ™¯</h1><p>å‘¨æœ«é—²å±…åœ¨å®¶ï¼Œè€å‹å‘æ¥æ±‚åŠ©ä¿¡æ¯ï¼Œè¯´æ˜¯ç©æ¸¸æˆç©çš„å¥½å¥½çš„ï¼Œçªç„¶å´©æºƒäº†ï¼Œä½œä¸ºè½¯ä»¶å¼€å‘çš„ä»–è‡ªç„¶æƒ³æ¢å¯»ä¸‹crashçš„åŸå› ç½—ï¼Œé€šè¿‡Everythingæœç´¢äº†ä¸‹ç”µè„‘ä¸Šçš„*.dmpï¼Œæ‰¾åˆ°äº†æœ¬æ¬¡æ¸¸æˆå´©æºƒäº§ç”Ÿçš„dmpæ–‡ä»¶ã€‚é¢˜å¤–è¯ï¼Œæ¸¸æˆä¸€èˆ¬éƒ½ä¼šåœ¨crashæ—¶ä¿å­˜ä¸‹dmpï¼Œå¹¶å‘é€è‡³åå°å¤„ç†ï¼Œè¿™é‡Œèƒ½æ‰¾åˆ°ä¹Ÿå°±ä¸å¥‡æ€ªäº†ã€‚ç„¶åä¾¿ç¥­å‡ºç¥å™¨â€”â€”Windbgå¼€å§‹åˆ†æï¼Œä½†ç”±äºå„ç§åŸå› è¯¸å¦‚MiniDumpï¼Œæ²¡æœ‰PDBï¼Œæ ˆå›æº¯å¤±è´¥ï¼ŒWindbgçš„å¾ˆå¤šè‡ªåŠ¨åŒ–å‘½ä»¤å¤±æ•ˆç­‰ç­‰åŸå› ï¼Œæ²¡æœ‰åˆ†æå„æ‰€ä»¥ç„¶å‡ºæ¥ï¼Œé‚æŠ›ç»™äº†æˆ‘ï¼Œè¯·æˆ‘åŠ©å…¶ä¸€è‡‚ä¹‹åŠ›ï¼Œçœ‹çœ‹åˆ°åº•æ˜¯å•¥å­åŸå› ã€‚åˆ†æä¹‹ä½™ï¼Œè§‰å¾—æŒºæœ‰æ„æ€ï¼Œæ’°æ–‡ä»¥åˆ†äº«ä¹‹ã€‚</p><p></p><h1 class=pgc-h-arrow-right>2ã€åˆ†æè¿‡ç¨‹</h1><p>2.1 step1ï¼šçœ‹ä¸€ä¸‹å¼‚å¸¸è®°å½•ï¼Œå¦‚ä¸‹ï¼Œä¸ºäº†è§„é¿å“ªæ¬¾æ¸¸æˆï¼Œè¿™é‡Œéšè—ç€ä¸æ¸¸æˆç›¸å…³çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ¸¸æˆçš„å„ä¸ªæ¨¡å—åï¼Œä»£ä¹‹ä»¥GameModule,GameExeè¿™æ ·çš„åå­—ï¼›</p><pre><code>0:023&gt; .exr -1ExceptionAddress: 013e50c1 (GameExe+0x000050c1)   ExceptionCode: c0000005 (Access violation)  ExceptionFlags: 00000000NumberParameters: 2   Parameter[0]: 00000001   Parameter[1]: 00000000Attempt to write to address 00000000</code></pre><p>å¸¸è§„çš„å¼‚å¸¸ï¼Œå¾€ç©ºæŒ‡é’ˆé‡Œå†™æ•°æ®äº†ï¼›</p><p>2.2 step2ï¼šå†çœ‹ä¸‹å¼‚å¸¸ä¸Šä¸‹æ–‡ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>0:023&gt; .ecxreax=000001e7 ebx=7755d418 ecx=7f1d0720 edx=00000000 esi=00000000 edi=0b369ee8eip=013e50c1 esp=0ea8e600 ebp=0ea8e644 iopl=0         nv up ei pl nz ac pe nccs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00010216GameExe+0x50c1:013e50c1 a300000000      mov     dword ptr ds:[00000000h],eax ds:002b:00000000=????????</code></pre><p>ä¸ä¸Šè¾¹å¼‚å¸¸è®°å½•ç»™çš„ä¿¡æ¯ä¹Ÿæ˜¯å»åˆçš„ï¼Œä½†è¿™æ¡åæ±‡ç¼–ä»£ç éå¸¸çš„å¥‡æ€ªï¼Œå±…ç„¶æ˜¯ç¡¬ç¼–ç å¥½äº†çš„å¾€0x00000000åœ°å€ä¸­å†™æ•°æ®ï¼Œè¿™åˆ°åº•æ˜¯åœ¨å¹²å˜›ï¼Ÿçœ‹ä¸‹é™„è¿‘çš„åæ±‡ç¼–ä»£ç å§ï¼Œçœ‹çœ‹åœ¨å¹²ä»€ä¹ˆï¼Œå¦‚ä¸‹ï¼š</p><pre><code>0:023&gt; u 013e5090  l20GameExe+0x5090:013e5090 8b442404        mov     eax,dword ptr [esp+4]013e5094 8b00            mov     eax,dword ptr [eax]013e5096 813803000080    cmp     dword ptr [eax],80000003h013e509c 752a            jne     GameExe+0x50c8 (013e50c8)013e509e 68982d4e01      push    offset GameExe+0x102d98 (014e2d98)013e50a3 6a00            push    0013e50a5 68982d4e01      push    offset GameExe+0x102d98 (014e2d98)013e50aa 68982d4e01      push    offset GameExe+0x102d98 (014e2d98)013e50af 688c2e4e01      push    offset GameExe+0x102e8c (014e2e8c)013e50b4 e8e7e00300      call    GameExe+0x431a0 (014231a0)013e50b9 83c414          add     esp,14h013e50bc e8cfe00300      call    GameExe+0x43190 (01423190)013e50c1 a300000000      mov     dword ptr ds:[00000000h],eax013e50c6 ebfe            jmp     GameExe+0x50c6 (013e50c6)013e50c8 33c0            xor     eax,eax013e50ca c20400          ret     4</code></pre><p>ä»ä¸Šè¾¹åæ±‡ç¼–å‡ºæ¥çš„ä»£ç æ¥çœ‹ï¼Œæœ‰æ„æ€çš„è¿˜ä¸ä»…ä»…æ˜¯è¿™ä¸€è¡Œä»£ç ï¼Œç´§æ¥ç€çš„ä¸‹ä¸€è¡Œä»£ç ä¹Ÿæ˜¯éå¸¸å¥‡æ€ªï¼Œæ­»å¾ªç¯ï¼Œåœ¨åŸåœ°æ‰“è½¬ã€‚è¶Šæ¥è¶Šæœ‰è¶£äº†ï¼Œç®€å•åˆ†æä¸‹è¿™æ®µä»£ç çš„åŠŸèƒ½ï¼š</p><p>é¦–å…ˆï¼Œè¿™ä¸ªå‡½æ•°æ²¡æœ‰è‡ªå·±ç‹¬ç«‹çš„æ ˆå¸§ï¼Œ[esp+4]å–å‡ºçš„ä¾¿æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œè¿™ä¸ªå‡½æ•°ä¹Ÿåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œret 4å¯ä»¥è¯´æ˜ï¼›å½“ç„¶è¿™é‡Œè¾¹æ²¡æœ‰ç”¨åˆ°ecxï¼Œedxä¹‹ç±»çš„å¯„å­˜å™¨ï¼Œæ‰€ä»¥å°±æ’é™¤äº†å¯„å­˜å™¨ä¼ å‚çš„å¯èƒ½æ€§ï¼›</p><p>æ¥ç€ï¼Œ80000003hè¿™ä¸ªæ•°å­—æœ‰ç€ç‰¹æ®Šçš„å«ä¹‰çš„ï¼Œæ­£å¦‚C0000005hä»£è¡¨çš„æ˜¯ EXCEPTION_ACCESS_VIOLATIONï¼Œ80000003hä»£è¡¨çš„æ˜¯ EXCEPTION_BREAKPOINT;</p><pre><code>èŠ‚é€‰è‡ªWinBase.hå’ŒWinNT.h#define STATUS_ACCESS_VIOLATION          ((DWORD)0xC0000005L)#define STATUS_BREAKPOINT                ((DWORD)0x80000003L)  #define EXCEPTION_ACCESS_VIOLATION       STATUS_ACCESS_VIOLATION#define EXCEPTION_BREAKPOINT             STATUS_BREAKPOINT</code></pre><p>è¿™å°±æ›´å¢åŠ äº†é—®é¢˜çš„æœ‰è¶£æ€§ï¼Œæ˜¾ç„¶è¿™é‡Œæ˜¯åœ¨åˆ¤æ–­å½“å‰å¼‚å¸¸æ˜¯ä¸æ˜¯EXCEPTION_BREAKPOINTï¼Œä¸æ˜¯çš„è¯ç›´æ¥è¿”å›0ï¼Œä»€ä¹ˆä¹Ÿä¸å¹²ï¼›å¦åˆ™çš„è¯åˆ™è°ƒç”¨å…¶ä»–å‡½æ•°å¤„ç†ï¼Œç„¶åå†æ¬¡è§¦å‘å†™0x00000000åœ°å€ï¼Œå†æ¬¡åµŒå¥—è§¦å‘å¼‚å¸¸ï¼Œè§¦å‘è‡ªæ€ï¼›æˆ‘çš„ç¬¬ä¸€ååº”æ˜¯ï¼šæ¸¸æˆåœ¨åšåè°ƒè¯•çš„äº‹æƒ…å—ï¼Ÿä½†ç«‹é©¬åˆå¦å®šäº†è¿™ä¸ªæƒ³æ³•ï¼ŒåŸå› å¾ˆç®€å•â€”â€”å¦‚æœå½“å‰è¿›ç¨‹å¤„äºè°ƒè¯•çŠ¶æ€ï¼ŒEXCEPTION_BREAKPOINTå¼‚å¸¸å‹æ ¹ä¸ä¼šæ´¾é£ç»™è¿›ç¨‹ï¼Œè°ƒè¯•å™¨å°±ç»™å¤„ç†æ‰äº†ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹ä¸‹ï¼Œè¿›ç¨‹æ˜¯å¦è¢«è°ƒè¯•ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>0:023&gt; !pebPEB at 00889000    InheritedAddressSpace:    No    ReadImageFileExecOptions: No    BeingDebugged:            No    ImageBaseAddress:         013e0000    Ldr                       7755fbe0+0x068 NtGlobalFlag     : 0</code></pre><p>è¿™äº›è¯æ®éƒ½æˆ–å¤šæˆ–å°‘çš„è¯å®ç€ï¼Œå½“å‰çš„æ¸¸æˆè¿›ç¨‹æ²¡æœ‰è¢«è°ƒè¯•ã€‚[åè¾¹ä¼šä¸“é—¨å†™æ–‡ç« è®²è§£å¼‚å¸¸æ˜¯å¦‚ä½•è¢«CPUå‘ç°å¹¶è½¬äº¤ç»™OSï¼ŒOSåˆæ˜¯å¦‚ä½•ç¡®è®¤æ˜¯å†…æ ¸å¼‚å¸¸è¿˜æ˜¯ç”¨æˆ·æ€å¼‚å¸¸ï¼Œå¦‚æœæ˜¯ç”¨æˆ·æ€å¼‚å¸¸ï¼ŒOSåˆæ˜¯å¦‚ä½•åˆ†å‘ç»™ç”¨æˆ·æ€è¿›ç¨‹çš„ã€‚]ã€‚å…ˆä¸ç€æ€¥å›ç­”è¿™äº›é—®é¢˜ï¼Œçœ‹ä¸‹æ ˆå›æº¯ï¼Œçœ‹çœ‹ç¨‹åºçš„æ‰§è¡Œè·¯å¾„ï¼›</p><p>2.3 step3ï¼šæ ˆå›æº¯ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>0:023&gt; k# ChildEBP RetAddr  WARNING: Stack unwind information not available. Following frames may be wrong.00 0ea8e644 774af15a GameExe+0x50c101 0ea8e6d8 774c088f ntdll!RtlDispatchException+0x7c02 0ea8e6d8 0f688051 ntdll!KiUserExceptionDispatcher+0xf03 0ea8eb9c 0f652ee8 libcef+0x19805104 0ea8f0e8 116521a8 libcef+0x162ee805 0ea8f264 116529ba libcef+0x21621a806 0ea8f2bc 1167c36c libcef+0x21629ba07 0ea8f2c8 11636600 libcef+0x218c36c08 0ea8f4e0 11650bb1 libcef+0x214660009 0ea8f524 11b4b196 libcef+0x2160bb10a 0ea8f538 0f692ab5 libcef+0x265b1960b 0ea8f594 0f65f0ef libcef+0x1a2ab50c 0ea8f6d8 0f65eae3 libcef+0x16f0ef0d 0ea8f758 0f6943b7 libcef+0x16eae30e 0ea8f77c 0f65ee20 libcef+0x1a43b70f 0ea8f7ac 0f65eddd libcef+0x16ee2010 0ea8f7d4 0f67a94b libcef+0x16eddd11 0ea8f7dc 0f67ad9a libcef+0x18a94b12 0ea8f814 0f65d2e2 libcef+0x18ad9a13 0ea8f830 76da62c4 libcef+0x16d2e214 0ea8f844 774b0f79 kernel32!BaseThreadInitThunk+0x2415 0ea8f88c 774b0f44 ntdll!__RtlUserThreadStart+0x2f16 0ea8f89c 00000000 ntdll!_RtlUserThreadStart+0x1b</code></pre><p>ç”±äºæ²¡æœ‰ç¬¦å·ï¼Œå½“ç„¶ä¹Ÿè‚¯å®šä¸ä¼šæœ‰ç½—ï¼Œæ‰€ä»¥å›æº¯å‡ºæ¥çš„æ ˆå¯è¯»æ€§å·®ï¼Œä½†ä¸è¦ç´§ï¼Œåšé€†å‘åˆ†æï¼Œä¸ä¹Ÿè¿™æ ·çš„å˜›ã€‚ä½†è¿™ä¸ªæ ˆä¸æ­£å¸¸ï¼Œè¿™é‡Œè¿˜æ²¡æœ‰è¿›å…¥SEHçš„åˆ†å‘ï¼Œè€Œæ˜¯åœ¨VEHå°±è¢«æ‹¦æˆªæ‰äº†ï¼›VHEçš„å…¨ç§°æ˜¯Vectored Exception Handlingï¼Œå‘é‡åŒ–å¼‚å¸¸å¤„ç†ï¼Œè¿™ä¸ªä¸SEHä¸å¤ªä¸€æ ·ï¼Œä¸”åªèƒ½ç”¨åœ¨Ring3ï¼Œæ˜¯è¿›ç¨‹çº§åˆ«çš„ï¼Œä¸åƒSEHæ˜¯çº¿ç¨‹çº§åˆ«çš„ï¼Œå¼‚å¸¸åœ¨åˆ†å‘æ—¶ï¼Œå…ˆéå†VEHé“¾ï¼Œå¤„ç†äº†åˆ™ä¸ä¼šç»§ç»­å¾€åä¼ é€’ï¼Œæ²¡å¤„ç†åˆ™ç»§ç»­åéå†ï¼Œåˆ†å‘å¼‚å¸¸ï¼›æˆ‘ä¸ºä»€ä¹ˆè¯´å½“å‰å¤„äºVEHå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå› ä¸ºæ²¡æœ‰çœ‹è§SEHçš„ç‰¹å¾å¤„ç†å‡½æ•°ï¼Œå“ªæ€•æ˜¯ç›¸å…³è”çš„ä¸€ç‚¹ç‚¹å‡½æ•°è°ƒç”¨çš„å½±å­éƒ½æ²¡æœ‰ï¼Œä¸ºäº†æ‰“æ¶ˆä½ çš„ç–‘è™‘ï¼Œæˆ‘ä»¬æ¥é€†å‘åˆ†æä¸‹ntdll!RtlDispatchExceptionçš„å…³é”®éƒ¨åˆ†ï¼Œè¿™ä¸ªå‡½æ•°å¾ˆå¤§ï¼Œæˆ‘ä»¬å°±çœ‹çœ‹774af15aè¿”å›åœ°å€é™„è¿‘çš„ä»£ç ã€‚</p><p>2.4 step4ï¼šé€†å‘åˆ†æå…³é”®APIçš„å…³é”®éƒ¨åˆ†ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>0:023&gt; u 774af13fntdll!RtlDispatchException+0x61:774af13f 7411            je      ntdll!RtlDispatchException+0x74 (774af152)774af141 e89137fcff      call    ntdll!RtlGuardIsValidStackPointer (774728d7)774af146 85c0            test    eax,eax774af148 0f8468010000    je      ntdll!RtlDispatchException+0x1d8 (774af2b6)774af14e 8b542410        mov     edx,dword ptr [esp+10h]774af152 53              push    ebx774af153 8bce            mov     ecx,esi774af155 e8f7610000      call    ntdll!RtlpCallVectoredHandlers (774b5351)774af15a 84c0            test    al,al774af15c 0f851c010000    jne     ntdll!RtlDispatchException+0x1a0 (774af27e)...çœç•¥774af22a e8b13a0200      call    ntdll!RtlpExecuteHandlerForException (774d2ce0)</code></pre><p>ä¼šåˆ¤æ–­RtlpCallVectoredHandlers()çš„è¿”å›å€¼ï¼Œå¦‚æœæ˜¯0çš„è¯ï¼Œåˆ™è°ƒç”¨RtlpExecuteHandlerForException()ï¼Œé‚£ä¹ˆ0æ˜¯å•¥æ„æ€å‘¢ï¼Ÿä¸”çœ‹ä¸‹è¾¹çš„å®šä¹‰ï¼Œè¿”å›0æ„å‘³ç€ç»§ç»­åˆ†å‘å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯RtlpExecuteHandlerForException()ä¸­åšçš„å‹’ï¼Œå³éå†SEHé“¾è¿›è¡Œå¼‚å¸¸çš„åˆ†å‘ï¼Œæš‚ä¸”æŒ‰ä¸‹ä¸è¡¨ã€‚</p><pre><code>èŠ‚é€‰è‡ªexcpt.h#define EXCEPTION_EXECUTE_HANDLER       1#define EXCEPTION_CONTINUE_SEARCH       0#define EXCEPTION_CONTINUE_EXECUTION    -1</code></pre><p>å›è¿‡å¤´æ¥çœ‹çœ‹ä¸Šè¾¹æ¸¸æˆåšçš„äº‹æƒ…ï¼Œå¦‚æœä¸æ˜¯EXCEPTION_BREAKPOINTåˆ™è®©å¼‚å¸¸ç»§ç»­åˆ†å‘ï¼Œä¸åšä»»ä½•ç‰¹æ®Šå¤„ç†ï¼Œå¦‚æœæ˜¯EXCEPTION_BREAKPOINTçš„è¯ï¼Œåˆ™æ²¡æœ‰æ¥ä¸‹æ¥çš„äº‹æƒ…äº†ã€‚ç®€å•åˆ†æä¸‹RtlpCallVectoredHandlers()å³å¯çŸ¥é“OSæ˜¯å¦‚ä½•ç®¡ç†VEHçš„äº†ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>0:023&gt; u ntdll!RtlpCallVectoredHandlers l30ntdll!RtlpCallVectoredHandlers:774b5351 8bff            mov     edi,edi774b5353 55              push    ebp774b5354 8bec            mov     ebp,esp774b5356 83ec30          sub     esp,30h774b5359 a1d4425677      mov     eax,dword ptr [ntdll!__security_cookie (775642d4)]774b535e 33c5            xor     eax,ebp774b5360 8945fc          mov     dword ptr [ebp-4],eax774b5363 8b4508          mov     eax,dword ptr [ebp+8]774b5366 53              push    ebx774b5367 56              push    esi774b5368 8bf1            mov     esi,ecx774b536a 6bd80c          imul    ebx,eax,0Ch774b536d 648b0d30000000  mov     ecx,dword ptr fs:[30h]774b5374 894df0          mov     dword ptr [ebp-10h],ecx774b5377 8d4802          lea     ecx,[eax+2]774b537a 33c0            xor     eax,eax774b537c 8955ec          mov     dword ptr [ebp-14h],edx774b537f 8b55f0          mov     edx,dword ptr [ebp-10h]774b5382 40              inc     eax774b5383 d3e0            shl     eax,cl774b5385 81c318d45577    add     ebx,offset ntdll!LdrpVectorHandlerList (7755d418)774b538b 57              push    edi774b538c 8975e0          mov     dword ptr [ebp-20h],esi774b538f 854228          test    dword ptr [edx+28h],eax774b5392 8b55ec          mov     edx,dword ptr [ebp-14h]774b5395 c645fb00        mov     byte ptr [ebp-5],0774b5399 894dd8          mov     dword ptr [ebp-28h],ecx774b539c 0f85cbaf0300    jne     ntdll!RtlpCallVectoredHandlers+0x3b01c (774f036d)774b53a2 8b4dfc          mov     ecx,dword ptr [ebp-4]774b53a5 8a45fb          mov     al,byte ptr [ebp-5]774b53a8 33cd            xor     ecx,ebp774b53aa 5f              pop     edi774b53ab 5e              pop     esi774b53ac 5b              pop     ebx774b53ad e88eb10000      call    ntdll!__security_check_cookie (774c0540)774b53b2 8be5            mov     esp,ebp774b53b4 5d              pop     ebp774b53b5 c20400          ret     4</code></pre><p>å³é€šè¿‡ntdll!LdrpVectorHandlerListè¿™ä¸ªé“¾è¡¨æ¥ç®¡ç†æ¯ä¸ªHandlerï¼Œ AddVectoredExceptionHandlerã€ RemoveVectoredExceptionHandleråˆ†åˆ«å¾€è¿™ä¸ªé“¾è¡¨é‡Œå¢åˆ é¡¹ã€‚https://docs.microsoft.com/en-us/windows/win32/debug/vectored-exception-handling</p><p>2.5 step5ï¼šå¯»æ‰¾æ¡ˆå‘ç¬¬ä¸€ç°åœºâ€”â€”åˆ†æèµ·å› </p><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çœ‹è§çš„æ‰€æœ‰çš„å¼‚å¸¸ä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬æ ˆå›æº¯ï¼Œéƒ½æ˜¯ç¬¬äºŒæ¡ˆå‘ç°åœºäº†ï¼Œæ˜¯â€mov dword ptr ds:[00000000h],eaxâ€è¿™æ¡æŒ‡ä»¤è§¦å‘çš„ï¼Œå®ƒå¹¶ä¸æ˜¯æœ€ç›´æ¥å¯¼è‡´è¿™æ¬¡crashçš„ç½ªé­ç¥¸é¦–ï¼Œé¡¶å¤šç®—ä¸ªèƒŒé”…çš„ï¼Œè‡ªæ€çš„ç½ªåè¢«ä»–åå®äº†ã€‚æŒ‰ç†è¯´ï¼Œå¦‚æœåµŒå¥—äº†ä¸€æ¬¡å¼‚å¸¸ï¼Œé‚£.cxråæ‰§è¡Œkè¿›è¡Œå›æº¯çš„è¯ï¼Œæ ˆä¸Šåº”è¯¥æœ‰ä¸¤ä¸ªntdll!KiUserExceptionDispatcheræ‰å¯¹ï¼Œæˆ‘ä»¬çœ‹ä¸‹ç°å®çš„æƒ…å†µæ˜¯æ€æ ·çš„ï¼š</p><pre><code>0:023&gt; .cxr;k# ChildEBP RetAddr  00 0ea8cd98 76f41d80 ntdll!NtWaitForMultipleObjects+0xc01 0ea8cf2c 76f41c78 kernelbase!WaitForMultipleObjectsEx+0xf002 0ea8cf48 71021997 kernelbase!WaitForMultipleObjects+0x18WARNING: Stack unwind information not available. Following frames may be wrong.03 0ea8dfdc 71021179 GameCrashdmp+0x199704 0ea8dfe4 774edff0 GameCrashdmp+0x117905 0ea8f88c 774b0f44 ntdll!__RtlUserThreadStart+0x3d0a606 0ea8f89c 00000000 ntdll!_RtlUserThreadStart+0x1b</code></pre><p>whatï¼Ÿï¼Ÿï¼Ÿè¿™æ˜¯å•¥ï¼Œå±…ç„¶ä¸€ä¸ªntdll!KiUserExceptionDispatcheréƒ½æ²¡æœ‰ï¼Œåˆšåˆšä¸Šè¾¹.ecxrä¹‹åçš„kçœ‹æ ˆå›æº¯ä¸æ˜¯è¿˜æœ‰ä¸€ä¸ªntdll!KiUserExceptionDispatcherçš„å—ï¼Ÿæ€ä¹ˆç°åœ¨ä¸€ä¸ªéƒ½æ²¡æœ‰äº†ï¼Ÿè¿™å½“ç„¶æ˜¯Windbgåœ¨æ ˆå›æº¯æ—¶é™¤äº†é—®é¢˜äº†ï¼Œè€Œä¸”ä¹Ÿç»å¸¸ä¼šå‡ºé—®é¢˜ï¼Œè¿™ä¹Ÿæ€ªä¸å¾—ä»–ï¼ŒåŸå› æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬æ²¡æœ‰ç¬¦å·ï¼Œdmpä¹Ÿæ˜¯Minidumpç±»å‹çš„ï¼Œæœ‰çš„ä¹Ÿæ˜¯FPOçš„ï¼Œå®ƒå›æº¯èµ·æ¥è‚¯å®šä¼šæœ‰é—®é¢˜çš„ã€‚ç°åœ¨å°±æœ‰ä¸¤ä¸ªé—®é¢˜éœ€è¦è§£å†³äº†ï¼Œç¬¬ä¸€ï¼šä¸Šè¾¹å‡ºç°çš„è¿™ä¸ªntdll!KiUserExceptionDispatcheræ˜¯ç¬¬ä¸€æ¡ˆå‘ç°åœºè¿˜æ˜¯ã€‚ã€‚ã€‚</p><p>ç¬¬äºŒï¼šå¦‚æœæ˜¯ç¬¬ä¸€æ¡ˆå‘ç°åœºï¼Œé‚£ç¬¬äºŒæ¡ˆå‘ç°åœºçš„ntdll!KiUserExceptionDispatcherå¦‚ä½•æ‰¾å‡ºæ¥ï¼›</p><p>æˆ‘ä»¬å†ç”¨ä¸‹Windbgæä¾›çš„å…¶ä»–ä¸¤ä¸ªå¾ˆå‰å®³çš„å‘½ä»¤æ¥æ‰¾ntdll!KiUserExceptionDispatcherï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æªå‡ºæ¥ï¼Œå¦‚ä¸‹:</p><pre><code>0:023&gt; !ddstackRange: 0ea89000-&gt;0ea900000x0ea8cd90    0x664c17e5    nvwgf2um+005817e50x0ea8ce1c    0x76f4627c    kernelbase!CreateProcessW+0000002c0x0ea8e004    0x774c2330    ntdll!_except_handler4_common+000000800x0ea8e1c8    0x01426886    GameExe+000468860x0ea8e244    0x7755d418    ntdll!LdrpVectorHandlerList+000000000x0ea8e274    0x01426886    GameExe+000468860x0ea8e400    0x013e50c1    GameExe+000050c10x0ea8e490    0x013e50c1    GameExe+000050c10x0ea8e5dc    0x014d5818    GameExe+000f58180x0ea8e5f4    0x014e2d98    GameExe+00102d980x0ea8e638    0x013e5090    GameExe+000050900x0ea8e648    0x774af15a    ntdll!RtlDispatchException+0000007c0x0ea8e768    0x1165331a    libcef+0216331a0x0ea8e814    0x1165331a    libcef+0216331a0x0ea8e980    0x0f688051    libcef+001980510x0ea8eb04    0x77185bd9    ucrtbase!&lt;lambda_54dcfcba6f8e0c549fa430f4d53fb7dd&gt;::operator()+000000330x0ea8eb64    0x0f65390b    libcef+0016390b0x0ea8ec54    0x5deb11c8    AudioSes+000011c80x0ea8f0f8    0x0f653f19    libcef+00163f190x0ea8f158    0x11636410    libcef+021464100x0ea8f2e8    0x116362c5    libcef+021462c50x0ea8f340    0x10cc84df    libcef+017d84df0x0ea8f3b0    0x10cc9c91    libcef+017d9c910x0ea8f528    0x11b4b196    libcef+0265b1960x0ea8f54c    0x0f3e3702    ffmpeg+002237020x0ea8f564    0x0f692aca    libcef+001a2aca0x0ea8f574    0x0f3e3702    ffmpeg+002237020x0ea8f57c    0x1165095c    libcef+0216095c0x0ea8f5b4    0x0f3e1bd3    ffmpeg+00221bd30x0ea8f724    0x0f3e3702    ffmpeg+002237020x0ea8f794    0x0f363c33    ffmpeg+001a3c330x0ea8f850    0x664c22d5    nvwgf2um+005822d50x0ea8f898    0x774d2ec5    ntdll!FinalExceptionHandlerPad37+000000000:023&gt; !findstack ntdll!KiUserExceptionDispatc*rScanning thread 004</code></pre><p>å¾ˆé—æ†¾ï¼Œè¿™äº›å‘½ä»¤é›†ä½“å“‘ç«ï¼Œå•¥å¸®åŠ©ä¹Ÿæ²¡æœ‰ï¼Œæˆ‘ä»¬è¦å¼€å§‹é è‡ªå·±çš„åŒæ‰‹æ¥æ˜é‡‘äº†ï¼Œä½¿ç”¨dpsæ¥åšï¼Œè¾“å‡ºçš„å¤ªå¤šäº†ï¼Œç®€å•æ•´ç†ä¸‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class=pgc-img><img alt=åŸºäºå¼‚å¸¸çš„çŒæ€è¡ŒåŠ¨â€”â€”è‡ªä¿æŠ¤è§¦å‘è‡ªæ€ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a2931a662e8b44a1b05a6b0c1b7ac894><p class=pgc-img-caption></p></div><p>æœç„¶ä¸å‡ºæ‰€æ–™ï¼Œæ‰¾å‡ºæ¥äº†ã€‚æ ¹æ®æ ˆçš„é€’å‡åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥æ¨æ–­ï¼Œç¬¬ä¸€æ¡ˆå‘ç°åœºçš„ntdll!KiUserExceptionDispatcheråº”è¯¥æ˜¯0x0ea8e6dcè¿™ä¸ªï¼Œä¸‹ä¸€æ­¥å°±æ˜¯è¿˜åŸåˆ°æ¡ˆå‘ç¬¬ä¸€ç°åœºäº†ï¼Œå¦‚ä¸‹æ“ä½œï¼š</p><pre><code>KiUserExceptionDispatcher( PEXCEPTION_RECORD pExcptRec, CONTEXT * pContext )0:023&gt; dd 0ea8e6dc0ea8e6dc  774c088f 0ea8e6f0 0ea8e740 0ea8e6f00ea8e6ec  0ea8e740 80000003 00000000 000000000ea8e6fc  0f688051 00000001 00000000 000000000ea8e70c  00000000 00000000 00000000 000000000ea8e71c  00000000 00000000 00000000 000000000ea8e72c  00000000 00000000 00000000 000000000ea8e73c  00000000 0001007f 00000000 000000000ea8e74c  00000000 00000000 00000000 00000000</code></pre><p>è¿™é‡Œéœ€è¦è¯´æ˜ä¸‹ï¼Œ32ä½çš„ç¨‹åºï¼ŒOSåœ¨ä»å†…æ ¸å°†å¼‚å¸¸åˆ†å‘è‡³ç”¨æˆ·æ€æ—¶ï¼Œä¼šä¼ªé€ ä¸¤ä¸ªå‚æ•°ï¼Œå¹¶ä¸”é€šè¿‡ç”¨æˆ·æ€æ ˆä¼ é€’ï¼Œè€Œå¯¹äº64ä½çš„ç¨‹åºï¼Œåˆ™æœ‰å·®åˆ«ï¼Œæ˜¯é€šè¿‡å¯„å­˜å™¨ä¼ é€’çš„å‚æ•°ï¼Œè€Œéé€šè¿‡æ ˆï¼Œè¿™ä¸ªåè¾¹åˆ†ædmpæ—¶è¯¦è§£ï¼›å¥½äº†ï¼Œæœ‰äº†KiUserExceptionDispatcherçš„åŸå‹ï¼Œåˆæœ‰äº†ä¼ é€’ç»™ä»–çš„ä¸¤ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆä¸‹ä¸€æ­¥å°±å¼€å§‹å¤åŸæ¡ˆå‘ç°åœºå§ã€‚</p><pre><code>0:023&gt; .exr 0ea8e6f0ExceptionAddress: 0f688051 (libcef+0x00198051)   ExceptionCode: 80000003 (Break instruction exception)  ExceptionFlags: 00000000NumberParameters: 1   Parameter[0]: 000000000:023&gt; .cxr 0ea8e740eax=0ea8ec00 ebx=0ea8f1a8 ecx=00000000 edx=000003d1 esi=0ea8f1b4 edi=000003d1eip=0f688051 esp=0ea8eba0 ebp=0ea8f0e8 iopl=0         nv up ei pl zr na pe nccs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00000246libcef+0x198051:0f688051 ??              ???</code></pre><p>çœ‹åˆ°è¿™äº›æ•°æ®ï¼Œæˆ‘æ‚¬ç€çš„å¿ƒè½ä¸‹æ¥äº†ï¼Œæ¯•ç«Ÿçœ‹åˆ°è¿™ä¸ªå°±å·²ç„¶è¯æ˜äº†ä¹‹å‰çš„æ¨æµ‹éƒ½æ˜¯æ­£ç¡®çš„ã€‚ç®€å•åˆ†æä¸‹ï¼Œå¼‚å¸¸è®°å½•ä¸­è®°å½•ä¸‹æ¥çš„å¼‚å¸¸Codeæ˜¯80000003ï¼Œä»¥ä¸ºäº†æ¸¸æˆè‡ªèº«è§¦å‘äº†ä¸€ä¸ªint 3çš„æ–­ç‚¹ï¼Œè¿™äºä¹‹å‰é‚£é‡Œåˆ†æçš„é€»è¾‘ä¹Ÿæ˜¯å¯¹çš„ä¸Šçš„ï¼Œå¼‚å¸¸ä¸Šä¸‹æ–‡åˆ™ç›´æ¥æ¢å¤å‡ºäº†æ¸¸æˆæ‰§è¡Œint 3æ—¶çš„æ‰§è¡ŒçŠ¶æ€ï¼›å¯ä»¥çš„æ˜¯ï¼Œdmpæ—¶è¿™å—å†…å­˜æ²¡æœ‰è¢«ä¿å­˜ä¸‹æ¥ï¼Œå¯¼è‡´ç°åœ¨çœ‹ä¸äº†åæ±‡ç¼–ï¼Œä¸è¿‡ä¹Ÿä¸è¦ç´§äº†ï¼Œè¿™é‡Œçš„æŒ‡ä»¤ä¸€å®šæ˜¯int 3ï¼›</p><p>è¿™é‡Œçš„æŒ‡ä»¤çœ‹ä¸äº†ï¼Œä½†è¿˜æ˜¯å¯ä»¥çœ‹ä¸‹ç¨‹åºæ‰§è¡Œåˆ°è¿™é‡Œçš„æ‰§è¡Œè·¯å¾„ï¼Œçœ‹ä¸‹è°ƒç”¨æ ˆå§ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>0:023&gt; kf#   Memory  ChildEBP RetAddr  WARNING: Stack unwind information not available. Following frames may be wrong.00           0ea8eb9c 0f652ee8 libcef+0x19805101       54c 0ea8f0e8 116521a8 libcef+0x162ee802       17c 0ea8f264 116529ba libcef+0x21621a803        58 0ea8f2bc 1167c36c libcef+0x21629ba04         c 0ea8f2c8 11636600 libcef+0x218c36c05       218 0ea8f4e0 11650bb1 libcef+0x214660006        44 0ea8f524 11b4b196 libcef+0x2160bb107        14 0ea8f538 0f692ab5 libcef+0x265b19608        5c 0ea8f594 0f65f0ef libcef+0x1a2ab509       144 0ea8f6d8 0f65eae3 libcef+0x16f0ef0a        80 0ea8f758 0f6943b7 libcef+0x16eae30b        24 0ea8f77c 0f65ee20 libcef+0x1a43b70c        30 0ea8f7ac 0f65eddd libcef+0x16ee200d        28 0ea8f7d4 0f67a94b libcef+0x16eddd0e         8 0ea8f7dc 0f67ad9a libcef+0x18a94b0f        38 0ea8f814 0f65d2e2 libcef+0x18ad9a10        1c 0ea8f830 76da62c4 libcef+0x16d2e211        14 0ea8f844 774b0f79 kernel32!BaseThreadInitThunk+0x2412        48 0ea8f88c 774b0f44 ntdll!__RtlUserThreadStart+0x2f13        10 0ea8f89c 00000000 ntdll!_RtlUserThreadStart+0x1b0:023&gt; ?54cEvaluate expression: 1356 = 0000054c</code></pre><p>æ ˆæœ‰äº›ä¸å¤ªå¯¹åŠ²ï¼Œè¡¨ç°ä¸º01#æ ˆå¸§å¤ªå¤§äº†ï¼›ç”¨äº†è¿™ä¹ˆå¤šå­—èŠ‚ï¼Œå…ˆæ¥çœ‹çœ‹è¿™é‡Œå­˜å‚¨çš„æ•°æ®æœ‰æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ï¼›æ‰¾åˆ°çš„å­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>0:023&gt; da 0ea8ecdc+8 l100000ea8ece4  "[0812/210050:FATAL:core_audio_ut"0ea8ed04  "il_win.cc(292)] Check failed: de"0ea8ed24  "vice_enumerator. .Backtrace:..ce"0ea8ed44  "f_time_to_timet [0x0F6889A7+8270"0ea8ed64  "31]..cef_time_to_timet [0x0F652D"0ea8ed84  "17+606727]..TerminateProcessWith"0ea8eda4  "outDump [0x116521A8+10745848]..T"0ea8edc4  "erminateProcessWithoutDump [0x11"0ea8ede4  "6529BA+10747914]..TerminateProce"0ea8ee04  "ssWithoutDump [0x1167C36C+109183"0ea8ee24  "32]..TerminateProcessWithoutDump"0ea8ee44  " [0x11636600+10632272]..Terminat"0ea8ee64  "eProcessWithoutDump [0x11650BB1+"0ea8ee84  "10740225]..TerminateProcessWitho"0ea8eea4  "utDump [0x11B4B196+15960038]..Ge"0ea8eec4  "tHandleVerifier [0x0F692AB5+469]"0ea8eee4  "..cef_time_to_timet [0x0F65F0EF+"0ea8ef04  "656863]..cef_time_to_timet [0x0F"0ea8ef24  "65EAE3+655315]..GetHandleVerifie"0ea8ef44  "r [0x0F6943B7+6871]..cef_time_to"0ea8ef64  "_timet [0x0F65EE20+656144]..cef_"0ea8ef84  "time_to_timet [0x0F65EDDD+656077"0ea8efa4  "]..cef_time_to_timet [0x0F67A94B"0ea8efc4  "+769595]..cef_time_to_timet [0x0"0ea8efe4  "F67AD9A+770698]..cef_time_to_tim"0ea8f004  "et [0x0F65D2E2+649170]..BaseThre"0ea8f024  "adInitThunk [0x76DA62C4+36]..Rtl"0ea8f044  "SubscribeWnfStateChangeNotificat"0ea8f064  "ion [0x774B0F79+1081]..RtlSubscr"0ea8f084  "ibeWnfStateChangeNotification [0"0ea8f0a4  "x774B0F44+1028].."</code></pre><p>æ•´ç†ä¹‹åå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class=pgc-img><img alt=åŸºäºå¼‚å¸¸çš„çŒæ€è¡ŒåŠ¨â€”â€”è‡ªä¿æŠ¤è§¦å‘è‡ªæ€ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/dd914f0c237e4783862b7d10ddab00eb><p class=pgc-img-caption></p></div><p>åŸç†æ˜¯ä¸€å¤§æ¨å­—ç¬¦ä¸²å æ®å¯è¿™å—å†…å­˜ï¼Œä½†è¿™ç€å®ä¸æ˜¯ä»€ä¹ˆå¥½ä¹ æƒ¯ï¼›ç°åœ¨æ¥è§£é‡Šä¸‹ï¼Œä¸ºä½•æ¸¸æˆè¿›ç¨‹è‡ªå·±å°±æ‰§è¡Œäº†ä¸€ä¸ªint 3ï¼›æ ¹æ®æç¤ºçš„å­—ç¬¦ä¸²æ–‡æœ¬å¯æ¨æµ‹ï¼š</p><p>libcef.dllä¸­æ£€æµ‹åˆ°ä¸€ä¸ªFATALé”™è¯¯ï¼Œå…·ä½“çš„é”™è¯¯å°±æ˜¯è·Ÿaudioç›¸å…³çš„æ ¡éªŒå¤±è´¥äº†ï¼Œç”±äºCheck failedï¼Œä¸”libcefè¿˜è®¤ä¸ºè¿™æ˜¯ä¸ªFATALâ€”â€”è‡´å‘½ç±»å‹çš„é”™è¯¯ï¼Œå°±ç›´æ¥æ‰§è¡Œint 3 è§¦å‘æ–­ç‚¹äº†ï¼›è¯åˆè¯´å›æ¥ï¼Œè¿™ç§æ­»æ³•ç¡®å®ä¸ä¼˜é›…ä¹Ÿä¸é«˜æ˜ã€‚libcefçš„å…·ä½“ä¿¡æ¯å¦‚ä¸‹ï¼š</p><pre><code>0:023&gt; lmvm libcefBrowse full module liststart    end        module name0f4f0000 129bd000   libcef   T (no symbols)               Loaded symbol image file: libcef.dll    Image path: c:xxxxlibcef.dll    Image name: libcef.dll    Browse all global symbols  functions  data    Timestamp:        Wed Jan 30 12:17:12 2019 (5c512548)    CheckSum:         0348AAFD    ImageSize:        034CD000    File version:     2.1432.2186.0    Product version:  2.1432.2186.0    File flags:       0 (Mask 17)    File OS:          4 Unknown Win32    File type:        2.0 Dll    File date:        00000000.00000000    Translations:     0000.04b0 0000.04e4 0409.04b0 0409.04e4    Information from resource tables:</code></pre><p>æ²¡å•¥æœ‰ç”¨çš„ä¿¡æ¯ï¼Œæˆ‘æœ‰çœ‹äº†çœ‹æˆ‘æœ¬åœ°æœ‰æ²¡æœ‰è¿™ä¸ªdllï¼Œç»“æœè¿˜çœŸæœ‰ï¼Œå°è±¡ç¬”è®°é‡Œå°±æœ‰ç”¨ä»–ï¼›åŸæ¥æ˜¯å¤§ä½¬googleå®¶çš„ï¼Œå¤±æ•¬å¤±æ•¬ã€‚</p><div class=pgc-img><img alt=åŸºäºå¼‚å¸¸çš„çŒæ€è¡ŒåŠ¨â€”â€”è‡ªä¿æŠ¤è§¦å‘è‡ªæ€ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ab4ca36465d544abb0cf24fdfe098e84><p class=pgc-img-caption></p></div><p>2.6 step6ï¼šæœ€åçš„æˆ˜å½¹â€”â€”æ‰‹åŠ¨é‡æ„æˆ˜ï¼›</p><p>ç°åœ¨æƒ³çœ‹ä¸‹æ•´ä¸ªç¨‹åºä»ç¬¬ä¸€æ¬¡å¼‚å¸¸è§¦å‘åˆ°å¼‚å¸¸çš„åˆ†å‘è¿‡ç¨‹å†åˆ°ç¨‹åºçš„æœ€åä¸€æ¡æŒ‡ä»¤çš„æ•´ä¸ªæ ˆå›æº¯ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿå½“ç„¶æ˜¯æ ˆé‡æ„äº†ã€‚ é‡æ„çš„æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿéœ€è¦æ€ä¹ˆåšå‘¢ï¼Ÿé‡æ„åšè¦åšçš„æ ¸å¿ƒå·¥ä½œä¾¿æ˜¯ä¿®å¤å—æŸçš„æ ˆå¸§ï¼Œé‚£å¦‚ä½•æ‰¾åˆ°é‚£äº›æ ˆå¸§æ˜¯å—æŸçš„å‘¢ï¼Ÿé çŒœæµ‹ï¼Œå½“ç„¶ä¸æ˜¯ççŒœï¼Œç»¼åˆç°æœ‰çš„è¯æ®ã€‚æˆ‘ä»¬å›åˆ°å½“å‰çº¿ç¨‹çš„åˆå§‹ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œç„¶åæ ˆå›æº¯ä¸‹çœ‹çœ‹ï¼›</p><pre><code>0:023&gt; .cxr;kfResetting default scope#   Memory  ChildEBP RetAddr  00           0ea8cd98 76f41d80 ntdll!NtWaitForMultipleObjects+0xc01       194 0ea8cf2c 76f41c78 kernelbase!WaitForMultipleObjectsEx+0xf002        1c 0ea8cf48 71021997 kernelbase!WaitForMultipleObjects+0x18WARNING: Stack unwind information not available. Following frames may be wrong.03      1094 0ea8dfdc 71021179 GameCrashDmp+0x199704         8 0ea8dfe4 774edff0 GameCrashDmp+0x117905      18a8 0ea8f88c 774b0f44 ntdll!__RtlUserThreadStart+0x3d0a606        10 0ea8f89c 00000000 ntdll!_RtlUserThreadStart+0x1b</code></pre><p>æ ¹æ®ä¸Šè¾¹çš„ä¿¡æ¯å¯çŸ¥ï¼Œ03#å’Œ05#æ ˆå¸§æœ‰é—®é¢˜ï¼Œæˆ‘ä»¬é€ä¸€è¿›è¡ŒæŸ¥çœ‹ï¼›</p><p>å…ˆçœ‹03#çš„æ•°æ®:</p><div class=pgc-img><img alt=åŸºäºå¼‚å¸¸çš„çŒæ€è¡ŒåŠ¨â€”â€”è‡ªä¿æŠ¤è§¦å‘è‡ªæ€ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/7aa09f224c964ebca2945ab947a2968c><p class=pgc-img-caption></p></div><p>å†çœ‹05#å¸§çš„æ•°æ®:</p><pre><code>0:023&gt; dd 0ea8dfe40ea8dfe4  0ea8f88c 774edff0 0ea8e014 774c2a200ea8dff4  0ea8f88c 00000000 fffffffe 0ea8e02c0ea8e004  774c2330 00000000 00000000 000000000ea8e014  0ea8e150 0ea8e1a0 77548760 000000010ea8e024  77548750 00000047 0ea8e04c 774c67700ea8e034  775642d4 774c0540 0ea8e150 0ea8f87c0ea8e044  0ea8e1a0 0ea8e0dc 0ea8e070 774d2d420ea8e054  0ea8e150 0ea8f87c 0ea8e1a0 0ea8e0dc</code></pre><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œè¿™ä¸ªæ ˆå¸§æ˜æ˜¾æœ‰é—®é¢˜äº†ï¼Œæˆ‘ä»¬è¯•ç€è¿™æ ·æ”¹ä¸€ä¸‹ï¼Œçœ‹çœ‹æ•ˆæœå¦‚ä½•ï¼š</p><pre><code>0:023&gt; ed 0ea8dfe4  0ea8dfe4+80:023&gt; kf#   Memory  ChildEBP RetAddr  00           0ea8cd98 76f41d80 ntdll!NtWaitForMultipleObjects+0xc01       194 0ea8cf2c 76f41c78 kernelbase!WaitForMultipleObjectsEx+0xf002        1c 0ea8cf48 71021997 kernelbase!WaitForMultipleObjects+0x1803      1094 0ea8dfdc 71021179 GameCrashdmp+0x199704         8 0ea8dfe4 774edff0 GameCrashdmp+0x117905         8 0ea8dfec 774c2a20 ntdll!__RtlUserThreadStart+0x3d0a606        14 0ea8e000 774c2330 ntdll!_EH4_CallFilterFunc+0x1207        2c 0ea8e02c 774c6770 ntdll!_except_handler4_common+0x8008        20 0ea8e04c 774d2d42 ntdll!_except_handler4+0x2009        24 0ea8e070 774d2d14 ntdll!ExecuteHandler2+0x260a        c8 0ea8e138 774c088f ntdll!ExecuteHandler+0x240b         0 0ea8e138 013e50c1 ntdll!KiUserExceptionDispatcher+0xf        ;ç¬¬äºŒæ¬¡å¼‚å¸¸åˆ†å‘0c       50c 0ea8e644 774af15a GameExe+0x50c1                             ;æ¡ˆå‘ç¬¬äºŒç°åœº0d        94 0ea8e6d8 774c088f ntdll!RtlDispatchException+0x7c0e         0 0ea8e6d8 0f688051 ntdll!KiUserExceptionDispatcher+0xf        ;ç¬¬ä¸€æ¬¡å¼‚å¸¸åˆ†å‘0f       4c4 0ea8eb9c 0f652ee8 libcef+0x198051                            ;æ¡ˆå‘ç¬¬ä¸€ç°åœº10       54c 0ea8f0e8 116521a8 libcef+0x162ee811       17c 0ea8f264 116529ba libcef+0x21621a812        58 0ea8f2bc 1167c36c libcef+0x21629ba13         c 0ea8f2c8 11636600 libcef+0x218c36c14       218 0ea8f4e0 11650bb1 libcef+0x214660015        44 0ea8f524 11b4b196 libcef+0x2160bb116        14 0ea8f538 0f692ab5 libcef+0x265b19617        5c 0ea8f594 0f65f0ef libcef+0x1a2ab518       144 0ea8f6d8 0f65eae3 libcef+0x16f0ef19        80 0ea8f758 0f6943b7 libcef+0x16eae31a        24 0ea8f77c 0f65ee20 libcef+0x1a43b71b        30 0ea8f7ac 0f65eddd libcef+0x16ee201c        28 0ea8f7d4 0f67a94b libcef+0x16eddd1d         8 0ea8f7dc 0f67ad9a libcef+0x18a94b1e        38 0ea8f814 0f65d2e2 libcef+0x18ad9a1f        1c 0ea8f830 76da62c4 libcef+0x16d2e220        14 0ea8f844 774b0f79 kernel32!BaseThreadInitThunk+0x2421        48 0ea8f88c 774b0f44 ntdll!__RtlUserThreadStart+0x2f22        10 0ea8f89c 00000000 ntdll!_RtlUserThreadStart+0x1b</code></pre><p>å®Œç¾ï¼Œè¿™ä¸ªæ ˆå›æº¯è¦å¥½å¾—å¤šï¼Œç¨‹åºçš„æ‰§è¡Œè„‰ç»œå¾ˆæ¸…æ™°äº†ï¼›</p><p></p><h1 class=pgc-h-arrow-right>3ã€æ€»ç»“</h1><p>æœ¬æ–‡ä»å¼‚å¸¸å…¥æ‰‹ï¼Œé€šè¿‡å„ç§åˆ†æï¼Œè¾¨è¯†å‡ºç¬¬ä¸€æ¬¡æ¡ˆå‘ç°åœºï¼Œç¬¬äºŒæ¬¡æ¡ˆå‘ç°åœºï¼Œå¹¶é€†å‘åˆ†æäº†å…³é”®çš„å¼‚å¸¸åˆ†å‘å‡½æ•°ï¼Œç®€è¦ä»‹ç»äº†VEHï¼Œæ¥ç€æ ¹æ®æœç´¢åˆ°çš„æ•°æ®çŒœæµ‹é™¤äº†ç¨‹åºä¸ºä½•è§¦å‘int 3è¿›è¡Œè‡ªæ€çš„åŠ¨ä½œï¼›æœ€åé€šè¿‡æ‰‹åŠ¨é‡æ„ï¼Œæ¢å¤å‡ºç¨‹åºæ‰§è¡Œåˆ°æ­»äº¡çš„æ•´ä¸ªæ‰§è¡Œæµç¨‹ï¼›</p><p>æœ¬æ–‡ç”±<strong>void *</strong>åŸåˆ›å‘å¸ƒ<br>è½¬è½½ï¼Œè¯·å‚è€ƒè½¬è½½å£°æ˜ï¼Œæ³¨æ˜å‡ºå¤„ï¼š https://www.anquanke.com/post/id/209035</p><div class=tt-column-card data-content='{"url":"","content":"","thumb_url":"http://p10.pstatp.com/large/pgc-image/47e2f4b3dc7d4e349073a3b4be67210a","title":"webå®‰å…¨æ·±åº¦è§£æ","author_description":"å®‰ç•Œ","price":299,"share_price":119.6,"sold":0,"column_id":"6844049146677035267","new_thumb_url":"http://sf3-ttcdn-tos.pstatp.com/img/pgc-image/47e2f4b3dc7d4e349073a3b4be67210a"}'><p class=column-placeholder></p></div><p>æˆ‘æ˜¯å®‰ä»”ï¼Œä¸€ååˆšå…¥èŒç½‘ç»œå®‰å…¨åœˆçš„ç½‘å®‰èŒæ–°ï¼Œæ¬¢è¿å…³æ³¨æˆ‘ï¼Œè·Ÿæˆ‘ä¸€èµ·æˆé•¿ï¼› æ¬¢è¿å¤§å®¶ç§ä¿¡å›å¤ã€å…¥ç¾¤ã€‘ï¼ŒåŠ å…¥å®‰ç•Œç½‘å¤§å’–äº¤æµç¾¤ï¼Œè·Ÿæˆ‘ä¸€èµ·äº¤æµè®¨è®ºã€‚</p><p style=text-align:start>å°ç™½å…¥è¡Œç½‘ç»œå®‰å…¨ã€æ··è¿¹å®‰å…¨è¡Œä¸šæ‰¾å¤§å’–ï¼Œä»¥åŠæ›´å¤šæˆé•¿å¹²è´§èµ„æ–™ï¼Œæ¬¢è¿å…³æ³¨#å®‰ç•Œç½‘äººæ‰åŸ¹å…»è®¡åˆ’#ã€#ç½‘ç»œå®‰å…¨åœ¨æˆ‘èº«è¾¹#ã€@å®‰ç•Œäººæ‰åŸ¹å…»è®¡åˆ’</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'å¼‚å¸¸','çŒæ€','è¡ŒåŠ¨'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>