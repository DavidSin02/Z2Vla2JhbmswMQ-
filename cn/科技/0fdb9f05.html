<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>眼图形成理论（二） | 极客快訊</title><meta property="og:title" content="眼图形成理论（二） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/b2d2061d22564d92b0826c16e83277f2"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0fdb9f05.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0fdb9f05.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0fdb9f05.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0fdb9f05.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0fdb9f05.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0fdb9f05.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0fdb9f05.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0fdb9f05.html><meta property="article:published_time" content="2020-11-14T21:01:50+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:50+08:00"><meta name=Keywords content><meta name=description content="眼图形成理论（二）"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/0fdb9f05.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>眼图形成理论（二）</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>下面详细介绍如消光比等一些复杂的概念，以帮忙理解眼图的性能。<br>（1）消光比（Extinction Ratio）<br>消光比定义为眼图中“1”电平与“0”电平的统计平均的比值，其计算公式可以是如下的三种：</p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b2d2061d22564d92b0826c16e83277f2><p class=pgc-img-caption></p></div><p>消光比在光通信发射源的量测上是相当重要的参数，它的大小决定了通信信号的品质。<strong class=highlight-text>消光比越大，代表在接收机端会有越好的逻辑鉴别率；消光比越小，表示信号较易受到干扰，系统误码率会上升。</strong><br>消光比直接影响光接收机的灵敏度，从提高接收机灵敏度的角度希望消光比尽可能大，有利于减少功率代价。但是，消光比也不是越大越好，如果消光比太大会使激光器的图案相关抖动增加。因此，一般建议实际消光比与最低要求消光比大 0.5~1.5dB。</p><p>（2）眼交叉比<br>眼图交叉比，是测量交叉点振幅与信号“1”及“0”位准之关系，因此不同交叉比例关系可传递不同信号位准。一般标准的信号其交叉比为 50%，即表示信号“1”及“0”各占一半的位准。为了测量其相关比率，使用如下图所示的统计方式。交叉位准是依据交叉点垂直统计的中心窗口而计算出来的平均值，其比例方程式如下（其中的 1 及 0 位准是取眼图中间的 20%为其平均值，即从 40%~60%中作换算）：</p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6c9e24f810d74a8fa899e1d7635c038a><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0f0d99bc5a2447258ec87cca87daa16d><p class=pgc-img-caption>眼图信号交叉点比例关系</p></div><p>随着交叉点比例关系的不同，表示不同的信号 1 或 0 传递质量的能耐。如下图所示，左边图形为不同交叉比例关系的眼图，对应到右边相关的 1 及 0 脉冲信号。同时也可以了解到在不同脉冲信号时间的宽度与图交叉比例的关系。</p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/69cee7d2a2cd4c658080f2b50d68eb8e><p class=pgc-img-caption>不同眼交叉比与脉冲信号的关系</p></div><p>对于一般的信号而言，平均分布信号位准 1 及 0 是最常见的。一般要求眼图交叉比为50%，即以相同的信号脉冲 1 与 0 长度为标准，来作相关参数的验证。因此，根据眼交叉比关系的分布，可以有效地测量因不同 1 及 0 信号位准的偏差所造成的相对振幅损失分析。例如，眼交叉比过大，即传递过多 1 位准信号，将会依此交叉比关系来验证信号误码、屏蔽及其极限值。眼交叉比过小，即传递过多 0 位准信号，一般容易造成接收端信号不易从其中抽取频率，导致无法同步，进而产生同步损失。</p><p>（3）信号上升时间与下降时间<br>一般测量上升及下降时间是以眼图占 20%～80%的部分为主，其中上升时间如下图，分别以左侧交叉点左侧(20%)至右侧(80%)两块水平区间作此传递信号上升斜率时间之换算，计算公式如下：</p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ebc17af208a54ef79c33cd97dfdfc3ae><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3ebcfee38afc45c68652f712ab808d39><p class=pgc-img-caption>眼图信号上升时间</p></div><p>我们知道，时间位准 20%及 80%是与信号位准 1 及 0 有着相关性的。当然，如果上升时间愈短，即愈能表现出眼图中间的白色区块，即代表可传递的信号及容忍误码比率较好。而对于眼图下降时间如下图所示，分别以右侧交叉点左侧(80%)至右侧(20%)两块水平区间作此信号传递下降斜率时间之换算，计算公式如下：</p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ec974798d2c84b4bae2e57182c738118><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bcc8014aba654022a4f7e28e9746e1ed><p class=pgc-img-caption>眼图信号下降时间</p></div><p>如同上升时间一般，如果下降时间愈短，亦愈能表现出眼图中间的白色区块，可以传递的信号及容忍误码比率愈好。</p><p>（4） Q 因子（Q Factor）</p><p>Q 因子是用于测量眼图信噪比的参数，它的定义是接收机在最佳判决门限下信号功率和噪声功率的比值，可适用于各种信号格式和速率的数字信号，其计算公式如下：</p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/2c864b03-9719-4f29-b1d7-c02b776eef47><p class=pgc-img-caption></p></div><p><br></p><p>其中，“1”电平的平均值 Ptop 与“0”电平的平均值 Pbase 的差为眼幅度，“1”信号噪声有效值σ1 与“0”信号噪声有效值σ 0 之和为信号噪声有效值。</p><p>Q 因子综合反映眼图的质量问题。 Q 因子越高，眼图的质量就越好，信噪比就越高。Q 因子一般受噪声、光功率、电信号是否从始端到终端阻抗匹配等因素影响。一般来说，眼图中 1 电平的这条线越细、越平滑， Q 因子越高。 <strong class=highlight-text>在不加光衰减的情况下，发送侧光眼图的 Q 因子不应该小于 12，接收测的 Q 因子不应该小于 6 。</strong></p><p>（5）平均功率<br>通过眼图反映的平均功率，即是整个数据流的平均值。与眼图振幅测量不同，平均功率则是直方图的平均值。如果数据编码正常工作，平均功率应为总眼图振幅的 50%。</p><p>（6）抖动<br>抖动是在高速数据传输线中导致误码的定时噪声。如果系统的数据速率提高，在几秒内测得的抖动幅度会大体不变，但在位周期的几分之一时间内测量时，它会随着数据速率成比例提高，进而导致误码。因此，在系统中尽可能的减少这种相关抖动，提升系统总体性能。</p><p>抖动，描述了信号的水平波动，即信号的某特定时刻相对于其理想时间位置上的短期偏离，示意图如下：</p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1b850dbf80c740e2adc5cffd601aa62f><p class=pgc-img-caption>抖动示意图</p></div><p>示波器观测到的抖动如下图所示。图中为抖动大的眼图的交点，其直方图是一个像素宽的交点块投射到时间轴上的投影。理想情况下应该为一个点，但由于码元的水平波动，导致其形成了一个区域。</p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e4c166d85ab64bc9b5f249f50c30ad9d><p class=pgc-img-caption>抖动的眼图交点</p></div><p>器件生成的固有抖动称为抖动输出。其主要来源可以分为两个：随机抖动(RJ)和确定性抖动(DJ)，其中确定性抖动(Deterministic Jitter)又可以分为周期性抖动（Periodic Jitter）、占空比失真（Duty Cycle Distortion）、 码间干扰（Inter-Symbol Interference）和串扰。 DCD源自时钟周期中的不对称性。 ISI 源自由于数据相关效应和色散导致的边沿响应变化。 PJ源自周期来源的电磁捡拾，如电源馈通。串扰是由捡拾其它信号导致的。 DJ 的主要特点是，其峰到峰值具有上下限。 DCD 和 ISI 称为有界相关抖动， Pj 和串扰称为不相关有界抖动， 而 RJ 称为不相关无界抖动。另外，抖动分布是 RJ 和 DJ 概率密度函数的卷积。</p><p>分析抖动以及其具体产生原因将有助于在系统设计时尽可能的减少抖动产生的影响，同时可以确定抖动对 BER 的影响，并保证系统 BER 低于某个最大值，通常是10-12 。因此，抖动的形成原因直观的表示如下图：</p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c28628a043f546d2a40263a302f40ff3><p class=pgc-img-caption>抖动形成原因</p></div><p><strong>1.4 眼图与误码率 BER</strong></p><p>在数字电路系统中，发送端发送出多个比特的数据，由于多种因素的影响，接收端可能会接收到一些错误的比特（即误码）。 错误的比特数与总的比特数之比称为误码率，即Bit Error Ratio，简称 BER。误码率是描述数字电路系统性能的最重要的参数。在 GHz 比特率的通信电路系统中（比如 Fibre Channel、 PCIe、 SONET、 SATA）， 通常要求 BER 小于或等于10-12 。误码率较大时，通信系统的效率低、性能不稳定。影响误码率的因素包括抖动、噪声、信道的损耗、信号的比特率等。</p><p>在误码率（BER）的测试中，码型发生器会生成数十亿个数据比特，并将这些数据比特发送给输入设备，然后在输出端接收这些数据比特。然后，误码分析仪将接收到的数据与发送的原始数据一位一位进行对比，确定哪些码接收错误，随后会给出一段时间内内计得到的 BER。考虑误码率测试的需要，我们以下面的实际测试眼图为参考，以生成 BER图，参考眼图如下所示：</p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bdc1e1f67f634c5b8b39ba348b8fe0d1><p class=pgc-img-caption>参考眼图</p></div><p>BER 图是样点时间位置 BER(t)的函数，称为 BERT 扫描图或浴缸曲线。简而言之，它是<strong class=highlight-text>在相对于参考时钟给定的额定取样时间的不同时间 t 上测得的 BER。</strong>参考时钟可以是信号发射机时钟，也可以是从接收的信号中恢复的时钟，具体取决于测试的系统。以上述的眼图为参考，眼睛张开度与误码率的关系以及其 BER 图如下：</p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/22988a06bc2b425b8cd650d34063eb31><p class=pgc-img-caption>眼睛张开度与误码率的关系</p></div><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2494b912a5df4031be5246b317821320><p class=pgc-img-caption>BER(T)扫描或浴缸曲线</p></div><p>上述两图中， BER 图与眼图时间轴相同，两侧与眼图边沿相对应，样点位于中心。 BER一定时，曲线之间的距离是该 BER 上的眼图张开程度。在样点接近交点时，抖动会导致BER 提高到最大 0.5。</p><p><strong>1.5 眼图与系统性能</strong><br>当接收信号同时受到码间串扰和噪声的影响时，系统性能的定量分析较为困难，一般可以利用示波器，通过观察接收信号的“眼图”对系统性能进行定性的、可视的估计。由眼图可以观察出符号间干扰和噪声的影响，具体描述如下：</p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3837870fb89342be8aa47b6bbb35f9fc><p class=pgc-img-caption>眼图与系统性能的关系</p></div><p>眼图对于展示数字信号传输系统的性能提供了很多有用的信息：可以从中看出码间串扰的大小和噪声的强弱，有助于直观地了解码间串扰和噪声的影响，评价一个基带系统的性能优劣；可以指示接收滤波器的调整，以减小码间串扰，如：</p><p><strong class=highlight-text>眼图的“眼睛”张开的大小反映着码间串扰的强弱。“眼睛”张的越大，且眼图越端正，表示码间串扰越小；反之表示码间串扰越大</strong>。当存在噪声时，噪声将叠加在信号上，观察到的眼图的线迹会变得模糊不清。若同时存在码间串扰 ，“眼睛”将张开得更小。与无码间串扰时的眼图相比，原来清晰端正的细线迹，变成了比较模糊的带状线，而且不很端正。<strong class=highlight-text> 噪声越大，线迹越宽，越模糊；码间串扰越大，眼图越不端正。</strong></p><div class=pgc-img><img alt=眼图形成理论（二） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/27a5a97c5ef147c9930d13d07ecdf886><p class=pgc-img-caption>眼图与信号质量</p></div><p>理论分析得到如下几条结论，在实际应用中要以此为参考，从眼图中对系统性能作一评价：<br>（1）最佳抽样时刻应 在 “眼睛” 张开最大的时刻。<br>（2）对定时误差的灵敏度可由眼图斜边的斜率决定。斜率越大，对定时误差就越灵敏。<br>（3）在抽样时刻上，眼图上下两分支阴影区的垂直高度，表示最大信号畸变。<br>（4）眼图中央的横轴位置应对应判决门限电平。<br>（5）在抽样时刻，上下两分支离门限最近的一根线迹至门限的距离表示各相应电平的噪声容限，噪声瞬时值超过它就可能发生错误判决。<br>（6）对于利用信号过零点取平均来得到定时信息的接收系统，眼图倾斜分支与横轴相交的区域的大小表示零点位置的变动范围，这个变动范围的大小对提取定时信息有重要的影响。通过以上的分析可以知道，眼图可以完美的衡量系统的性能，那么，如何才能够获得“张开”的眼图呢？以下从几个方面考虑：</p><p>（1）考虑 PCB 走线长度：短走线并非始终能够满足，短走线意味着低损耗。<br>（2）考虑 PCB 走线宽度：宽走线可以降低趋肤效应。<br>（3）减小板材的介电常数：降低介电损耗(Dielectric Loss)，但将增加成本。<br>（4）信号预加重和均衡处理：通过对跳变位预加重(Pre-Emphasis)处理，补偿线路上因信号跳变产生的针对高频分量的损耗 。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'眼图','理论','形成'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>