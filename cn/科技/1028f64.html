<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>汇编语言重点总结（四） | 极客快訊</title><meta property="og:title" content="汇编语言重点总结（四） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/1529053725998a3cb57f4ea"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1028f64.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1028f64.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1028f64.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1028f64.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1028f64.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1028f64.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1028f64.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1028f64.html><meta property="article:published_time" content="2020-10-29T21:00:27+08:00"><meta property="article:modified_time" content="2020-10-29T21:00:27+08:00"><meta name=Keywords content><meta name=description content="汇编语言重点总结（四）"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/1028f64.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>汇编语言重点总结（四）</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>30、逻辑右移 SHR (shift logical right)</p><p>指令的汇编格式：SHR dst,cnt</p><p>指令的基本功能：SHR指令向右逐位移动cnt次，每次逐位移动后，最高位用0来补充，最低位移入CF。</p><p>指令支持的寻址方式：目的操作数dst可以是除立即数外的任何寻址方式。移位次数（或位数）cnt=1时，1可以直接写在指令中，cnt〉1时，cnt必须放入CL寄存器中。</p><p>指令对标志位的影响：CF=移入的数值</p><p>OF=1 当cnt=1时，移动后最高位的值发生变化。</p><p>OF=0 当cnt=1时，移动时最高位的值未发生变化。</p><p>SF、ZF、PF根据移动后的结果设置。</p><p>31、算术左移 SAL (shift arithmetic left)</p><p>指令的汇编格式：SAL dst cnt</p><p>指令的基本功能：SAL指令向左逐位移动cnt次，每次逐位移动后，最低位用0来补充，最高位移入CF。</p><p>指令支持的寻址方式：目的操作数dst可以是除立即数外的任何寻址方式。移位次数（或位数）cnt=1时，1可以直接写在指令中，cnt〉1时，cnt必须放入CL寄存器中。</p><p>指令对标志位的影响：CF=移入的数值</p><p>OF=1 当cnt=1时，移动后最高位的值发生变化。</p><p>OF=0 当cnt=1时，移动时最高位的值未发生变化。</p><p>SF、ZF、PF根据移动后的结果设置。</p><p>32、算术右移 SAR (shift arithmetic right)</p><p>指令的汇编格式：SAR dst,cnt</p><p>指令的基本功能：SAR指令向右逐位移动cnt次，每次逐位移动后，最高位用符号位来补充，最低位移入CF。</p><p>指令支持的寻址方式：目的操作数dst可以是除立即数外的任何寻址方式。移位次数（或位数）cnt=1时，1可以直接写在指令中，cnt〉1时，cnt必须放入CL寄存器中。</p><p>指令对标志位的影响：CF=移入的数值</p><p>OF=1 当cnt=1时，移动后最高位的值发生变化。</p><p>OF=0 当cnt=1时，移动时最高位的值未发生变化。</p><p>SF、ZF、PF根据移动后的结果设置。</p><p>33、循环左移 ROL (rotate left)</p><p>指令的汇编格式：ROL dst,cnt</p><p>指令的基本功能：ROL 对由dst指定的寄存器或存储器操作数左移循环移动cnt所指定的次数，每左移一次，把最高位同时移入CF和操作数最低位。</p><p>指令支持的寻址方式：目的操作数dst可以是除立即数外的任何寻址方式。移动次数（或位数）cnt=1时，1可以直接写在指令中，cnt〉1时，cnt必须放入CL寄存器中。</p><p>指令对标志位的影响：CF=移入的数值</p><p>OF=1 当cnt=1时，移动后最高位的值发生变化。</p><p>OF=0 当cnt=1时，移动时最高位的值未发生变化。</p><p>SF、ZF、PF根据移动后的结果设置。</p><p>34、循环右移 ROR (rotate right)</p><p>指令的汇编格式：ROR dst,cnt</p><p>指令的基本功能：ROR 对由dst指定的寄存器或存储器操作数右移循环移动cnt所指定的次数，每右移一次，把最低位同时移入CF和操作数最高位。</p><p>指令支持的寻址方式：目的操作数dst可以是除立即数外的任何寻址方式。移动次数（或位数）cnt=1时，1可以直接写在指令中，cnt>1时，cnt必须放入CL寄存器中。</p><p>指令对标志位的影响：CF=移入的数值</p><p>OF=1 当cnt=1时，移动后最高位的值发生变化。</p><p>OF=0 当cnt=1时，移动时最高位的值未发生变化。</p><p>SF、ZF、PF根据移动后的结果设置。</p><p>35、带进位的循环左移 RCL (rotate left through carry)</p><p>指令的汇编格式：RCL dst,cnt</p><p>指令的基本功能：RCL 对由dst指定的寄存器或存储器操作数，连同进位标志CF左循环移动，m所指定的次数，每左移一次，把操作数的最高位移入CF，而CF中原有内容移入操作数的最低位。</p><p>指定支持的寻址方式：目的操作数dst可以是除立即数外的任何寻址方式。移动次数（或位数）cnt=1时，1可以直接写在指令中，cnt〉1时，cnt必须放入CL寄存器中。</p><p>指令对标志位的影响：CF=移入的数值。</p><p>OF=1 当cnt=1时，移动后最高位的值未发生变化。</p><p>OF=0 当cnt=1时，移动后最高位的值发生变化。</p><p>SF、ZF、PF标志位不受影响。</p><p>36、带进位的循环右移 RCR (rotate right through carry)</p><p>指令的汇编格式：RCR dst，cnt</p><p>指令的基本功能：RCR 对由dst指定的寄存器或存储器操作数，连同进位标志CF右循环移动，m所指定的次数，每右移一次，把操作数的最高低位移入CF，而CF中原有内容移入操作数的最高位。</p><p>指令支持的寻址方式：目的操作数dst可以是除立即数外的任何寻址方式。移动次数（或位数）cnt=1时，1可以直接写入指令中，cnt〉1时，cnt必须放入CL寄存器中。</p><p>指令对标志位的影响：CF=移入的数值。</p><p>OF=1 当cnt=1时，操作数最高位的值未发生变化。</p><p>OF=0 当cnt=1时，操作数最高位的值发生变化。</p><p>SF、ZF、PF标志位不受影响。</p><p><strong>[串处理指令]</strong></p><p><strong>一、设置方向标志指令</strong></p><p>37、DF置零 CLD (clear direction flag)</p><p>DF置一 STD (set direction flag)</p><p>指令的汇编格式：CLD</p><p>STD</p><p>指令的基本功能：CLD DF=0</p><p>STD DF=1</p><p><strong>二、串处理指令</strong></p><p>38、串传送 MOVSB / MOVSW (move string byte/word)</p><p>指令的汇编格式：MOVSB</p><p>MOVSW</p><p>指令的基本功能：(ES:DI)&lt;-(DS:SI)</p><p>(SI)&lt;-(SI)+/-1(字节)或+/-2(字)</p><p>(DI)&lt;-(DI)+/-1(字节)或+/-2(字)</p><p>指令对条件码的影响：不影响条件码。</p><p>指令的特殊要求：源串必须在数据段中，目的串必须在附加段中，串处理指令隐含的寻址方式是SI和DI寄存器的间接寻址方式。源串允许使用段跨越前缀来指定段。</p><p>39、存串 STOSB / STOSW (stroe from string byte/word)</p><p>指令的汇编格式：STOSB</p><p>STOSW</p><p>指令的基本功能：(ES:DI)&lt;-(AL)或(AX)</p><p>(DI)&lt;-(DI)+/-1(字节)或+/-2(字)</p><p>指令对条件码的影响：不影响条件码。</p><p>指令的特殊要求：源串必须在数据段中，目的串必须在附加段中，串处理指令隐含的寻址方式是SI和DI寄存器的间接寻址方式。源串允许使用段跨越前缀来指定段。</p><p>40、取串LODSB / LODSW (load from string byte/word)</p><p>指令的汇编格式：LODSB</p><p>LODSW</p><p>指令的基本功能：(AL)或(AX)&lt;-(DS:SI)</p><p>(SI)&lt;-(SI)+/-1(字节)或+/-2(字)</p><p>指令对条件码的影响：不影响条件码。</p><p>指令的特殊要求：源串必须在数据段中，目的串必须在附加段中，串处理指令隐含的寻址方式是SI和DI寄存器的间接寻址方式。源串允许使用段跨越前缀来指定段。</p><p>41、串比较 CMPSB / CMPSW (compare string byte/word)</p><p>指令的汇编格式：CMPSB</p><p>CMPSW</p><p>指令的基本功能：(DS:SI)-(ES:DI) 根据比较结果设置条件码</p><p>(SI)&lt;-(SI)+/-1(字节)或+/-2(字)</p><p>(DI)&lt;-(DI)+/-1(字节)或+/-2(字)</p><p>指令对条件码的影响：SF=1 减法结果为负数（符号位为1）</p><p>SF=0 减法结果为正数（符号位为0）</p><p>ZF=1 减法结果为零</p><p>ZF=0 减法结果不为零</p><p>CF=1 二进制减法运算中最高有效位向高位有借位（被减数小于减数，不够减的情况）</p><p>CF=0 二进制减法运算中最高有效为向高位无借位（被减数〉=减数，够减的情况）</p><p>OF=1 两数符号相反（正数-负数，或负数-正数），而结果符号与减数相同。</p><p>OF=0 同符号数相减时，或不同符号数相减，其结果符号与减数不同。</p><p>42、串扫描 SCASB / SCASW (scan string byte / word)</p><p>指令的格式：SCASB</p><p>SCASW</p><p>指令的基本功能：(AL)&lt;-(ES:DI)或(AX)&lt;-(ES:DI) 根据扫描比较的结果设置条件码。</p><p>(DI)&lt;-(DI)+/-1(字节)或+/-2(字)</p><p>指令对条件码的影响：SF=1 结果为负数（符号位为1）</p><p>SF=0 结果为正数（符号位为0）</p><p>ZF=1 结果为零</p><p>ZF=0 结果不为零</p><p>CF=1 二进制减法运算中最高有效位向高位有借位（被减数小于减数，不够减的情况）</p><p>CF=0 二进制减法运算中最高有效为向高位无借位（被减数〉=减数，够减的情况）</p><p>OF=1 两数符号相反（正数-负数，或负数-正数），而结果符号与减数相同。</p><p>OF=0 同符号数相减时，或不同符号数相减，其结果符号与减数不同。</p><p><strong>三、串重复前缀</strong></p><p>43、重复执行串 REP</p><p>指令的汇编格式：REP (CX)=重复次数</p><p>指令的基本功能：① (CX)=0时，串指令执行完毕，否则执行② ~ ④</p><p>② (CX)←(CX)－1③ 执行串指令（MOVS或STOS）④ 重复执行①</p><p>44、相等/为零时重复执行串指令 REPE/REPZ</p><p>指令的汇编格式：REPE / REPZ (CX)=比较/扫描的次数</p><p>指令的基本功能：① (CX)=0或ZF=0时，结束执行串指令，否则继续② ~ ④</p><p>② (CX)←(CX)－1③ 执行串指令（CMPS或SCAS）④ 重复执行①</p><p>45、不等/不为零时重复执行串指令 REPNE / PEPNZ</p><p>指令的汇编格式：REPNE / PEPNZ (CX)=比较/扫描的次数</p><p>指令的基本功能：① (CX)=0或ZF=1，结束执行串指令，否则继续② ~ ④</p><p>② (CX)←(CX)－1③ 执行串指令（CMPS或SCAS）④ 重复执行①</p><p><strong>控制转移指令]</strong></p><p><strong>一、无条件转移指令</strong></p><p>46、短转移 JMP SHORT label (short jump)</p><p>指令的汇编格式：JMP SHORT label</p><p>指令的基本功能：(IP)&lt;-当前(IP)+8位位移量 8位位移量是汇编程序在汇编源程序时，根据目标地址和当前IP之间的距离自动生成的。</p><p>指令对条件码的影响：对标志位无影响。</p><p>47、近转移 JMP NEAR PTR label (near jump)</p><p>指令的汇编格式：直接转移 JMP label (direct jump)</p><p>寄存器间接转移 JMP reg (register indirect jump)</p><p>存储器间接转移 JMP WORD PTR OPR (memory indirect jump)</p><p>指令的基本功能：JMP label (IP) &lt;- OFFSET label = (IP)当前＋16位位移量</p><p>JMP reg (IP) &lt;- (reg)</p><p>JMP WORD PTR OPR (IP) &lt;- (PA+1,PA)</p><p>指令支持的寻址方式：指令中的转向地址可以是直接寻址方式、寄存器寻址方式、寄存器间接寻址方式和存储器寻址方式。</p><p>指令对条件码的影响：对标志位无影响。</p><p>48、远转移 JMP FAR PTR label (for jump)</p><p>指令的汇编格式：JMP FAR PTR label</p><p>指令的基本功能：(IP)&lt;-label的段内偏移地址 (CS)&lt;-label所在段的段地址</p><p>指令支持的寻址方式：远转移的目的地址可以使用除立即寻址方式外的任何寻址方式来表示。指令对条件码的影响：对标志位无影响。</p><p><strong>二、条件转移指令</strong></p><p>指令的汇编格式及功能</p><p>根据条件码的值转移：</p><p>49、JZ(JE) OPR ZF=1</p><p>50、JNZ(JNE) OPR ZF=0</p><p>51、JS OPR SF=1</p><p>52、JNS OPR SF=0</p><p>53、JO OPR OF=1</p><p>54、JNO OPR OF=0</p><p>55、JP OPR PF=1</p><p>56、JNP OPR PF=0</p><p>57、JC OPR CF=1</p><p>58、JNC OPR CF=0</p><p>比较两个无符号数，根据比较的结果转移</p><p>59、JB(JNAE,JC) OPR CF=1 被减数小于减数则转移</p><p>60、JNB(JAE,JNC) OPR CF=0 被减数大于或等于减数则转移</p><p>61、JBE(JNA) OPR CF或ZF=1 被减数小于或等于减数则转移</p><p>62、JNBE(JA) OPR CF或ZF=0 被减数大于减数则转移</p><p>比较两个带符号数，根据比较结果转移</p><p>63、JL/JNGE OPR SF异或OF=1 被减数小于减数则转移</p><p>64、JNL/JGE SF异或OF=0 被减数不小于减数则转移</p><p>65、JLE/JNE (SF异或OF)与ZF=1 被减数不大于减数则转移</p><p>66、JNLE/JG (SF异或OF)与ZF=0 被减数大于减数则转移根据CX寄存器的值转移</p><p>67、JCXZ (CX)=0 CX内容为零则转移</p><p>指令的特殊要求：所有条件转移指令都是短转移指令，转移的目标地址必须在当前IP地址的-128至+127字节范围之内，因此条件转移指令是2字节指令。</p><p><strong>三、循环指令</strong></p><p>68、循环 LOOP (loop)</p><p>指令的汇编格式：LOOP label</p><p>指令的基本功能：① (CX)←(CX)－1 ② 若(CX)≠0，则(IP)←(IP)当前＋位移量，否则循环结束。</p><p>指令的特殊要求：循环指令都是短转移格式的指令，也就是说，位移量是用8位带符号数来表示的，转向地址在相对于当前IP值的－128 ~ ＋127字节范围之内。</p><p>69、为零/相等时循环 LOOPZ/LOOPE (loop while nonzero or equal)</p><p>指令的汇编格式：LOOPNZ/LOOPNE label</p><p>指令的基本功能：① (CX)←(CX)－1</p><p>② 若ZF=1且(CX)≠0，则(IP)←(IP)当前＋位移量，否则循环结束。</p><p>指令的特殊要求：循环指令都是短转移格式的指令，也就是说，位移量是用8位带符号数来表示的，转向地址在相对于当前IP值的－128 ~ ＋127字节范围之内。</p><p>70、不为零/不相等时循环 LOOPNZ/LOOPNE (loop while nonzero or not equal)</p><p>指令的汇编格式：LOOPNZ/LOOPNE label</p><p>指令的基本功能：① (CX)←(CX)－1</p><p>② 若ZF=0且(CX)≠0，则(IP)←(IP)当前＋位移量，否则循环结束。</p><p>指令的特殊要求：循环指令都是短转移格式的指令，也就是说，位移量是用8位带符号数来表示的，转向地址在相对于当前IP值的－128 ~ ＋127字节范围之内。</p><p><strong>四、子程序调用</strong></p><p>71、段内直接近调用 CALL SUBROUT</p><p>指令的基本功能：(SP)&lt;-(SP)-2</p><p>((SP)+1,(sp))&lt;-(IP)</p><p>(IP)&lt;-(IP)+16位位移量</p><p>段内间接近调用 CALL DESTIN</p><p>指令的基本功能：(SP)&lt;-(SP)-2</p><p>((SP)+1,(SP))&lt;-(IP)</p><p>(IP)&lt;-(EA)</p><p>72、段间直接调用 CALL FAR PTR SUBROUT</p><p>指令的基本功能：(SP)&lt;-(SP)-2,((SP))&lt;-(CS)当前</p><p>(SP)&lt;-(SP)-2,((SP))&lt;-(IP)当前</p><p>(IP)&lt;-偏移地址(在指令的第2、3个字节)</p><p>(CS)&lt;-段地址(在指令的第4、5个字节)</p><p><strong>五、返回指令</strong></p><p>73、段内返回(近返回) RET</p><p>指令的基本功能：(IP)&lt;-((SP)+1,(SP))</p><p>(SP)&lt;-(SP)+2</p><p>段间返回(远返回) RET</p><p>指令的基本功能：(IP)&lt;-((SP)),(SP)&lt;-(SP)+2</p><p>(CS)&lt;-((SP)),(SP)&lt;-(SP)+2</p><p>带立即数返回 RET N</p><p>执行操作：① 返回地址出栈（操作同段内或段间返回）</p><p>② 修改堆栈指针：(SP) ← (SP)＋N</p><p><strong>六、中断及中断返回指令</strong></p><p>74、INT n 中断指令（interrupt），n为中断类型号</p><p>执行操作：① 入栈保存FLAGS：(SP) ← (SP)－2，((SP)) ← (FLAGS)</p><p>② 入栈保存返回地址：(SP) ← (SP)－2，((SP)) ← (CS)</p><p>(SP) ← (SP)－2，((SP)) ← (IP)</p><p>③ 转中断处理程序：(IP) ← (n×4)</p><p>(CS) ← (n×4＋2)</p><p>75、IRET 中断返回指令（return from interrupt）</p><p>执行操作：① 返回地址出栈：(IP) ← ((SP))，(SP) ← (SP)＋2</p><p>(CS) ← ((SP))，(SP) ← (SP)＋2</p><p>② FLAGS出栈：(FLAGS) ← ((SP))，(SP) ← (SP)＋2</p><p>76、INTO 溢出则中断（中断类型为4）</p><p>执行操作：若OF=1（有溢出），则：</p><p>① 入栈保存FLAGS：(SP) ← (SP)－2，((SP)) ← (FLAGS)</p><p>② 入栈保存返回地址：(SP) ← (SP)－2，((SP)) ← (CS)</p><p>(SP) ← (SP)－2，((SP)) ← (IP)</p><p>③ 转中断处理程序：(IP) ← (4×4)= (10H)</p><p>(CS) ← (4×4＋2)= (12H</p><div class=pgc-img><img alt=汇编语言重点总结（四） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1529053725998a3cb57f4ea><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'编语','点总结','言重'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>