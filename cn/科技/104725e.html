<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率 | 极客快訊</title><meta property="og:title" content="从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/7762a9ac-be38-45b5-8433-c76ec23f20ac"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/104725e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/104725e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/104725e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/104725e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/104725e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/104725e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/104725e.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/104725e.html><meta property="article:published_time" content="2020-10-29T20:59:41+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:41+08:00"><meta name=Keywords content><meta name=description content="从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/104725e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><blockquote class=article-blockquote-first><p>点击右上方红色按钮，关注“IT骆驼”，每天了解一点企业信息化常识</p></blockquote><p>作者：毕承峙</p><p>日期：2020年3月2日</p><p><strong>摘要：</strong><strong>企业</strong><strong>信息化的过程，通过需求和设计后，最终将落地到具体的开发技术，随着科技进步，软件系统开发技术和开发工具也日新月异，我见过不少企业因为开发采用的技术手段过时了，只能彻底推倒重来的情况，这样既不科学，又浪费资源，也严重影响了企业的正常发展。但如果从一开始就做好系统技术架构选型和设计，即使开发工具、开发语言不断迭代，但系统核心仍然可以只需稍作微调，即可满足新的需求，这样在系统升级迭代的时候，可提升开发效率，降低系统开发成本。</strong></p><div class=pgc-img><img alt=从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/7762a9ac-be38-45b5-8433-c76ec23f20ac><p class=pgc-img-caption>Web 设计方案灰色</p></div><h1 class=pgc-h-decimal data-index=01>系统架构的定义</h1><p><strong>系统架构是在已全部业务需求定义的前提下，是业务需求转化为系统技术实现的技术模型。</strong>信息化的过程需要不同岗位的专业技术人员一起配合实现，这部分技术人员精通IT技术，但对企业业务不一定理解，这就需要产品经理（或项目经理）将业务需求转化为不同的技术模型，便于开发团队不同角色之间的沟通理解。根据不同维度对系统架构的理解，便于不同角色的团队成员做出最准确的理解和判断，系统架构主要分为逻辑架构、开发架构、数据脚骨、物理架构和运行架构五类。</p><p><strong>（1）逻辑架构</strong></p><p><strong>逻辑架构设计主要是确定系统的功能范围及系统逻辑划分。</strong>逻辑架构是根据业务逻辑向系统技术逻辑的转化。如：在SaaS平台中，用户收银操作的业务逻辑是：用户选择商品，然后进行支付，根据商品的属性、市场营销活动信息等判断是否需要返利（如积分奖励）、然后记录收银信息及核准。收银的逻辑架构中涉及到用户信息、商品信息、营销信息、财务信息等相关信息，而这些信息可能来自不同的业务子系统，如：用户信息来自CRM系统；商品信息来自ERP系统；营销信息来自销售管理系统；财务信息属于财务系统。如何读系统进行逻辑划分，将收银操作功能划归到哪一个子系统等。</p><div class=pgc-img><img alt=从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2be4b21e79024cc28361299cb9bd6673><p class=pgc-img-caption>收银系统的业务逻辑</p></div><p>根据以上业务分类，对收银的系统功能罗逻辑架构设计如下：</p><div class=pgc-img><img alt=从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a412a63a9bac4a5da5cd314136d21c3f><p class=pgc-img-caption>系统逻辑划分</p></div><p>通过以上功能和业务逻辑，设计人员就可以完成相应的系统对象和实体设计。</p><p><br></p><p><strong>（2）开发架构</strong></p><p>开发架构是在系统逻辑设计的基础上，从系统开发的角度来实现。开发架构设计企业信息化业务应用场景，如：是否需要基于PC操作，是否需要移动端支持等，同时，还需要考虑数据规模、用户访问规模以及消息及时性等，以确定技术选型。开发架构一般是设计系统实现层次。如收银系统在逻辑化分后的开发架构设计如下：</p><div class=pgc-img><img alt=从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/cdad114db728438db3ede5a1390f8a29><p class=pgc-img-caption>买单子系统相关开发架构设计</p></div><p>从上图中看出一个简单的买单子系统，需要涉及到前端（包括PC、移动端）、应用服务端、数据库等的设计。推而广之，企业信息化普通的设计，在此基础上，还将涉及到权限管理、服务监控、安全管理等其他相关模块。</p><p><br></p><p><strong>（3）数据架构</strong></p><p>数据架构是在开发架构的基础上，通过分析系统涉及到的数据对象，并对数据对象之间的关系进行处理的架构图，一般称为实体-关系图（E_R图），E_R图设计的准则就是实体和关系，需要根据系统数据量、访问频次等，在性能、存储等方面做取舍。有的数据对象数据较多、结构比较复杂，需要分为多张数据表存储，然后做连接关系（JOIN）进行访问，有的由于性能需求，需要做数据冗余存储，减少数据库连接操作（数据库连接由于采用笛卡尔积的算法，在关系数据表连接时，需要进行大量运算，一旦数据量增加到一定程度，笛卡尔积对系统开销将成指数级增长，不利于系统性能），而当数据量不太大时，通过数据表连接的方式访问，既减少了数据冗余，又增强数据一致性。如：收银子系统的数据架构设计如下：</p><div class=pgc-img><img alt=从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/96d1ffc833d541df863d9363234add71><p class=pgc-img-caption>用户买单涉及的E_R图（简）</p></div><p>企业信息化时，复杂的系统涉及的实体（Entity）往往上千个，实体和实体之间的关系就更多，需要通过严谨的关系涉及，才能保证实体之间的关系链条。</p><p>数据架构设计除了基本的E_R设计之外，还需要从性能和访问频次的角度来设计，尤其是针对大型系统，对数据库需要做分库分表甚至分布式部署，同时需要对数据I/O进行分离，关于数据库分库分表及读写分离设计，涉及内容较深，需要单独介绍，此处略。</p><p><br></p><p><strong>（4）物理架构</strong></p><p>物理架构是指系统如何分布和部署，在云计算没有推广之前，企业信息化都需要管理自己的服务器，并托管到IDC机房（有专业而独立运营的企业，从移动运营商专线接入自己的机房），其中将涉及到服务器的部署。目前大部分企业都租用云计算厂家提供的云服务器，所以不再需要考虑专门的机房建设和服务器端物理架构。但仍然需要从逻辑上对服务器进行设计和管理。典型的租用云服务后，物理架构模型设计如下：</p><div class=pgc-img><img alt=从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2012004e2be942a5a57029301f995cbc><p class=pgc-img-caption>应用系统通用物理架构</p></div><p><br></p><p><strong>（5）运行架构</strong></p><p>运行架构是指系统在上线运行后的升级迭代、版本控制、质量控制、数据维护、异常处理等的操作模型。大型系统需要专业的运行架构来控制。如：系统内存监控、CPU负载监控、磁盘空间监控、数据哭访问峰值监控等。同时，对系统版本升级迭代也有严格要求，需要做好升级前的数据备份、系统切换以及实施监督等。</p><p><br></p><h1 class=pgc-h-decimal data-index=02>系统架构设计流程</h1><p>在以上收银系统设计中，笔者采用了传统的架构设计方法，传统设计方法的优点是对于简单的中小型系统而言，前提投入不需要太大，团队人数规模不用太多，只需要一步一步简单做设计和开发即可。但对于大型系统，传统的架构设计就显得力不从心了。这是还必须用到分布式架构、SOA等架构。无论哪种架构，在设计时的流程步骤都是相通的，总体来说，系统架构设计包括以下几个流程：</p><div class=pgc-img><img alt=从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/49228e6441c346b3a25b55877daef7ca><p class=pgc-img-caption>系统架构设计流程</p></div><p><strong>（1）做好业务复杂度识别。</strong>要做好复杂度识别，需要从企业对信息化整体要求着手，如：性能需求、可用性、扩展性、安全性等需求着手，同时需要考虑企业的预期投入，包括资金投入、时间计划、人力资源投入等，还需要考虑企业业务流程复杂度，评估将来系统运行的数据增速、数据量等。完成复杂度识别后，对每一个识别项进行分析，判断识别项的关键程度、优先级，最终得到企业信息化建设复杂度识别清单，该清单将作为系统架构设计的整体判断依据。</p><p><strong>（2）设计系统架构备选方案。</strong>至少需要根据业务复杂度识别清单，完成两个方案设计，并主推A方案，保留B方案。方案设计时只需要做好主题逻辑和层次设计，不需要做详细的技术设计。同时方案必须要具有技术体系差异性（如：A方案选择Java体系，则B方案可选择.NET技术），方案设计时务必抛开个人知识领域，要尽可能吸收采纳超越个人知识体系的方案，在概念上多借鉴别人成功案例，同时在可行性上需要兼顾企业自身情况，尤其需要考虑企业资金、人员、时间几个维度的现状及要求。</p><p><strong>（3）评审确定备选方案。</strong>方案评选主要围绕按照系统架构方案需要配备的人员、需要实现的时间以及需要投入的资金几个维度。</p><p><strong>（4）开展方案详细设计。</strong>确定系统架构设计方案后，围绕方案开展详细设计，系统架构设计完成后，开发人员可根据方案设计完成系统详细设计说明书。</p><p><br></p><h1 class=pgc-h-decimal data-index=03>高性能系统架构设计的要点</h1><p>无论系统大小，高性能都是共同追求的目标。如何设计出高性能的系统架构呢？我们需要先了解衡量系统性能的指标。主要包括：</p><ul><li><strong>响应时间（Response Time）</strong>：指从请求开始到收效返回数据的时间。相应时间由请求发送时间、网络传输时间、服务器处理时间三部分构成。</li><li><strong>并发数</strong>：系统可同时处理的请求数。</li><li><strong>吞吐量</strong>：主要是1秒钟内的处理量。处理量包括事务处理、请求处理、查询处理。因此吞吐量主要是指：每秒事务数（TPS）、每秒请求数（HPT）、每秒查询数（QPS）。</li><li><strong>性能计数器等</strong>：主要是针对系统重要参数的监控，这些参数包括：CPU负载、对象与线程数、磁盘空间、网络I/O等。</li></ul><p>针对以上指标，可以从几个方面来做好系统架构设计：</p><p><strong>（1）做好前端性能优化，以减少请求和网络访问时间</strong>。前端优化主要包括前端页面（或APP）运行能能优化、静态资源读取优化（一般采用CND加速）以及Web请求优化（如：反向代理等）；</p><p><strong>（2）做好应用服务性能优化，减少服务响应时间</strong>。如：分布式存储、数据库读写分离、异步操作、代码优化等。</p><p><strong>（3）提升服务器端硬件配置，减少响应时间。如</strong>：负载均衡、内存数据缓存、高转速硬盘、提升网络带宽等。</p><p><br></p><h1 class=pgc-h-decimal data-index=04>高可扩展性系统架构设计要点</h1><p>我们经常接触到的一个典型的可扩展性例子是电脑主板上的USB接口，之所以USB得以广泛应用，在于它标准通用的即插即用。基本所有电脑主板、笔记本电脑都预留了一个甚至多个USB接口。由此可看出，一套具有高可扩展性的系统架构，对系统生命周期影响将是决定性的。</p><p>在企业信息化中，高可扩展性表现在系统对业务需求变化的适应性。要做到对这种变化的适应性，就必须要遵守一定的“规范”，且这个“规范”是大家都认同的，可识别的。因此，<strong>高可扩展性的设计原则是：规范、识别、应用。</strong></p><div class=pgc-img><img alt=从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f238d9315e75404ea4fb092ba42d2540><p class=pgc-img-caption>规范、识别、应用是高可扩展性的设计要点</p></div><ul><li><strong>规范：</strong>不仅在企业信息化内部管理系统之间，需要遵守一定的规范，在提供给外部系统访问时，同样需要做好规范。通常情况下，我们用接口定义来表示系统的规范性，一个完整的接口定义包括：名称、输入参数、输出参数、输出数据类型等；</li></ul><ul><li><strong>识别：</strong>表示在访问系统时，提前已知道系统的情况，如：你需要去机场接一个从未接触过的人，在去之前一定要准备必要的识别信息，如：姓名、航班号、大概的外貌描述等，同时还需要根据这些特点制作好对方也能之别的“接机牌”，这样，当对方下机后，才能知道是你去接机，然后才能和你对话。因此识别是双方的，一方提供了接口，访问接口方需要按接口方提供的规范进行访问，否则提供接口方将不能识别访问，从而拒绝访问方的请求；</li></ul><ul><li><strong>应用：</strong>在技术是线上包括注册和执行两个环节，所谓注册就是在访问之前，告诉你我要来访问了，且我的访问时征求你同意，按照你的规范来进行的，执行则是根据请求的参数，按照预先制定好的规范进行实现，并按照要求格式返回相关信息的过程。</li></ul><h1 class=pgc-h-decimal data-index=05>关于系统架构设计的资源</h1><p><br></p><div class=pgc-img><img alt=从这5个方面做好系统架构设计，可降低开发成本，提升一倍效率 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/5d2f502e-7fc7-4c1d-ad0d-b5a646b72b84><p class=pgc-img-caption>厉害的架构师和信息化企业之间就像千里马与伯乐</p></div><p>系统架构设计师时候系统架构设计的关键资源。它不同于项目经理或产品经理，但兼具项目经理或产品经理的基本技能，同时具有项目经或产品经理可能不具有的开发专业技能。系统架构师一般从资深开发人员中蜕变而出。其不仅具有动手开发的能力，同时兼顾当前主流技术的发展趋势，并能准确将关键技术应用到系统关键之处，并综合企业的可投入资金、可投入人员情况，选择比较适合的技术体系，进行合理的架构设计。</p><p>系统架构师的设计眼光和设计能力决定了系统可扩展性的优劣，也直接决定了系统生命周期。在企业信息化建设之初，能招募到一位合格的系统架构师，乃企业之福。由于系统架构师一般都是专业技能比较强的资深人士，对所服务企业的要求也会比较高，很多技术大牛往往因为没有遇到伯乐而最终泯然众人，所以，能为发挥自己一技之长而创造施展机会的企业，对系统架构师而言，何尝不是一种人生的机遇呢。</p><p><br></p><p><strong>后记：二十多年的信息化工作，让我养成了覆盘的习惯，经历的每个项目都有可借鉴的地方，也有需要改善之处。同时，看到一些企业在信息化建设时没有积累，仓促上马，建设的系统最终不了了之，对这些项目，从技术开发的角度来分析，系统架构设计时限制了其生命周期。一方面企业投入了大量的资金、人力、物力、时间，甚至牺牲部分业务拓展来支持信息化建设，一方面收效甚微，甚至成为企业发展的鸡肋和负担，让人不胜惋惜。</strong></p><p><br></p><p><a class=tteditor-forum data-concern-id=1660007322130435 data-id=1660007322130435 data-name=系统架构 data-uid>#系统架构#</a></p><p><a class=tteditor-forum data-concern-id=1645887371758619 data-id=1645887371758619 data-name=企业信息化 data-uid>#企业信息化#</a></p><p><a class=tteditor-forum data-concern-id=6213177852309801474 data-id=5500687309 data-name=数据库 data-uid>#数据库#</a></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'系统','架构','设计'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>