<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>RS-485总线通信协议解析及拓扑结构 | 极客快訊</title><meta property="og:title" content="RS-485总线通信协议解析及拓扑结构 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/f3e5a2a9794f4a5f8af0bf545d8197f8"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/11ef4524.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/11ef4524.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/11ef4524.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/11ef4524.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/11ef4524.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/11ef4524.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/11ef4524.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/11ef4524.html><meta property="article:published_time" content="2020-11-14T20:59:43+08:00"><meta property="article:modified_time" content="2020-11-14T20:59:43+08:00"><meta name=Keywords content><meta name=description content="RS-485总线通信协议解析及拓扑结构"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/11ef4524.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>RS-485总线通信协议解析及拓扑结构</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>RS-485总线通信协议解析</h1><p>RS-485总线技术只是规定了接口的电气标准，并没有规定RS-485接口的电缆，插件以及通信协议，只是OSI规范中物理层的一个标准，由于RS-485总线采用差分平衡传输方式，一般使用的电缆建议采用屏蔽双绞线，使得485+与485-两两双绞，外面采用屏蔽层屏蔽外部电磁干扰，但是在现场实施施工中，有人采用平行线也是可以适用于RS-485总线的电缆，只是抗干扰能力较差，传输距离不远且通信质量不稳定，一般都是建议采用屏蔽双绞线。而接口定义形式，由于RS-485总线一般都是用到485+，485-以及GND三根线，没有硬性规定接口定义形式，一般市面上多见的接口形式有RJ45接口，工业接线端子接口，DB9串口接线端子以及RJ11电话线接口等。一般而言，采用工业接线端子更为合适，因为如果需要接入终端电阻的话，采用工业接线端子是很好接入的，而且接入屏蔽双绞线也是工业接线端子更加方便。</p><p>由于RS-485总线并没有规定通信协议，有很多厂家自己推出基于RS-485总线的通信协议，其中最为著名的是由modicon公司推出的Modbus协议，该协议具有两个版本，一个是Modbus RTU和Modbus ASCII两种帧报文格式。</p><p>由于RS-485总线支持点对多点通信模式，而其没有数据冲突检测解决机制，所以数据冲突的问题都是依靠主机来解决，通过主机对整个系统进行全方位的控制，避免数据冲突的产生，一般而言，由于必须通过主机进行控制以避免数据冲突，基于RS-485总线通信只能支持一主多从的通信方式。</p><p>由于RS-485总线支持一主多从的通信模式，主机需要能够识别下位多个从机设备，所以从机设备必须具备一个在485网络中的唯一的地址码，就像班级中给学生分配学号一样，学生的姓名可能会有重复，但是学号必须是该班级内唯一的。而老师只需要叫唤学生的学号要求学生回答问题或者做相应的动作等。 同样的道理，485通信主机通过呼叫485通信从机的地址码来控制485通信从机的相关动作。</p><p>485通信网络开始通信的时候，就会对整个网络的设备进行轮询，也就是对485通信从机进行逐个的询问，确认网络中是否存在该设备以及该设备是否能够正常运转。就像老师在正式授课之前会对班级进行点名，确认是否有人缺课，一旦有人缺课做上标识以保证在课堂提问的时候不会点到缺课的学号以免浪费时间。</p><p>485通信主机下发指令是以广播形式发送，485通信从机接收到相关指令，将指令中的地址码与自己的地址码对应，发现是下发给自己的指令则立即执行相关指令，执行完相关指令之后发送相应的状态代码给485通信主机，示意其可以继续下一条指令。否则丢弃该指令，静默等待485通信主机的下一条指令。同样的道理，当老师向某个学生提问的时候，其他学生在此期间是不能出声，只有被提问的学生回答问题，当学生回答完问题之后，就说回答完毕，然后大家静待老师的下一个提问或者授课。</p><p>一般而言，老师授课都是一个人在课堂，但是有些特殊情况是需要两个或者两个以上的老师同时在一个课堂授课，这样就需要一个协调的机制来协调多个老师的授课。而在485通信网络中，也有可能存在多个RS-485通信主机共存于同一个RS-485通信网络中，在这种情况下使用485共享器用于满足这些需求，485共享器分为两种，抢占式模式以及优先级模式，抢占式模式就是先到先得，就像老师在授课的时候，谁在授课的时候其他老师是不能打断他的授课的，只有在他将该段内容讲完之后，停顿一定时间之后，其他老师才可以开始自己的授课，同样的也是先到先得，谁先开口，谁就授课，直到该段内容讲完之后再重新争取控制权。优先级模式则是定义相应的优先级，比如系主任的优先级高于普通老师的优先级，即使在老师正常授课的时候。</p><p>还有就是485通信线路问题，当传输距离较远的时候或者外部干扰过大导致噪音太大，485通信信号会有一定的衰减，就像教室较大以及教室外面比较吵闹的情况，后面的学生并不能清楚的听到相关的内容，在中间增加一个485中继器，将衰减的485信号重新整形还原放大，使得距离较远的485通信从机能够识别485信号。还有就是当教室较大，可能会在教室里面产生混音，通过在教室合理放置多个喇叭，就像485总线连接为星型拓扑结构，产生了信号反射导致通信质量不稳定，使用485集线器将各条485总线相互隔离，独立驱动可以有效的解决类似问题。</p><h1 class=pgc-h-arrow-right>RS-485总线几种拓扑结构</h1><p>RS-485总线布线规范规定其必须是总线式拓扑结构，也就是要是手牵手菊花链布线方式，但是在现场实际施工过程中，现场RS-485设备的分布不会总是按照线性分布，而可能是零散的分布在不同的位置上或者是呈网格状分布，也有可能呈树形分布，在这种情况下，采用总线式拓扑结构布线不仅浪费线材，拓扑结构也更加复杂，容易造成RS-485总线系统的通信质量不稳定。一般需要借助一些相应的设备布设成星形拓扑结构或者树形拓扑结构，方便现场布线施工以及后期现场维护工作。</p><p>1.总线式拓扑结构，总线式拓扑结构是RS-485总线的布线规范，总线式拓扑结构其实就是一种特殊的树形拓扑结构，只不过总线式拓扑结构的分支线路距离非常短，在RS-485总线布线中，建议分支距离不要超过0.5米，一般都是建议直接手牵手菊花链的连接，不留分支，这样可以保证没有信号反射的问题。而所谓的手牵手菊花链连接方式就是：A,B,C三台RS-485设备，A设备的485+接入B设备的485+，B设备的485+再连接C设备的485+，有更多设备的话，以此类推，485-的接线方式和485+的接线方式一样。</p><div class=pgc-img><img alt=RS-485总线通信协议解析及拓扑结构 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f3e5a2a9794f4a5f8af0bf545d8197f8><p class=pgc-img-caption></p></div><p>2.星形拓扑结构，RS-485总线支持点对多点通信方式，即一个主控485设备控制多个从控485设备，而主控设备多放置于中心位置，如果按照总线式拓扑结构布线的话，485线路需要围绕主控485设备布线，布线方式复杂且浪费线材，利用485集线器布设成星形拓扑结构则布线结构简单，施工以及维护都会非常方便。</p><div class=pgc-img><img alt=RS-485总线通信协议解析及拓扑结构 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/684d46493eaa489c881f062d02d7657a><p class=pgc-img-caption></p></div><p>3.树形拓扑结构，在现场布线情况下，RS-485设备可能分布在某个主干线的两边，如果采用手牵手的布线方式，则会来回往复的走线，形成浪费且布线结构复杂，布设成树形拓扑结构是比较合理的。树形拓扑结构域总线式拓扑结构的区别在于树形拓扑结构的分支距离比较长，RS-485总线一旦分支距离较长的话，非常容易形成信号反射，从而导致通信不稳定，利用485中继器做隔离，可以有效的保证RS-485总线通信的稳定性。<br></p><div class=pgc-img><img alt=RS-485总线通信协议解析及拓扑结构 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/abb00e5686ef40d6a8d7d40a7183d1d9><p class=pgc-img-caption></p></div><p><br></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'RS','485','总线'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/364b9b0f.html alt=RS-485总线的负载能力和通讯电缆长度之间的关系 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/550df2bf0e144cde99083e4c59569628 style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/364b9b0f.html title=RS-485总线的负载能力和通讯电缆长度之间的关系>RS-485总线的负载能力和通讯电缆长度之间的关系</a></li><hr><li><a href=../../cn/%E7%A7%91%E6%8A%80/e04dac89.html alt=RS-485总线通信故障怎么处理？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/e04dac89.html title=RS-485总线通信故障怎么处理？>RS-485总线通信故障怎么处理？</a></li><hr><li><a href=../../cn/%E7%A7%91%E6%8A%80/407b1697.html alt=RS-485总线接口电路硬件如何设计？RS-485如何进行网络配置？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/743903794d134e8db7e0cb8db90ff20b style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/407b1697.html title=RS-485总线接口电路硬件如何设计？RS-485如何进行网络配置？>RS-485总线接口电路硬件如何设计？RS-485如何进行网络配置？</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>