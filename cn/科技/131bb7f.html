<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ | æå®¢å¿«è¨Š</title><meta property="og:title" content="50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/RTBO8cK9mJlDy3"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/131bb7f.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/131bb7f.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/131bb7f.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/131bb7f.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/131bb7f.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/131bb7f.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/131bb7f.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/131bb7f.html><meta property="article:published_time" content="2020-10-29T20:59:29+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:29+08:00"><meta name=Keywords content><meta name=description content="50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/131bb7f.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><blockquote><p>ä»€ä¹ˆç±»å‹çš„å¯è§†åŒ–ç”¨äºä»€ä¹ˆç±»å‹çš„é—®é¢˜ï¼Ÿæœ¬æ–‡å¯å¸®åŠ©æ‚¨ä¸ºç‰¹å®šåˆ†æç›®æ ‡é€‰æ‹©æ­£ç¡®çš„å›¾è¡¨ç±»å‹ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ggplot2åœ¨Rä¸­å®ç°å®ƒã€‚</p></blockquote><p>æœ¬æ–‡è½¬è½½è‡ªâ€œRå‹èˆâ€ï¼Œå·²è·æˆæƒï¼Œç‚¹æˆ‘è·³è½¬åŸæ–‡é“¾æ¥</p><p>æœ¬æ–‡ç¿»è¯‘è‡ªï¼šhttp://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html</p><p><strong>ä¸€ä¸ªæœ‰æ•ˆçš„å›¾æ ‡:</strong></p><ul><li><p>åœ¨ä¸æ­ªæ›²äº‹å®çš„æƒ…å†µä¸‹ä¼ è¾¾æ­£ç¡®çš„ä¿¡æ¯</p></li><li><p>ç®€å•è€Œä¼˜é›…çš„è¡¨è¾¾ä¿¡æ¯å†…å®¹</p></li><li><p>é€šè¿‡ç¾å­¦è¡¨è¾¾ä¿¡æ¯ï¼Œè€Œä¸æ˜¯æ©ç›–ä¿¡æ¯</p></li><li><p>æ²¡æœ‰ä¿¡æ¯è´Ÿè½½</p></li></ul><p>ä¸‹é¢ä»‹ç»äº†å…«ç±»å¸¸è§çš„å›¾è¡¨å¯è§†åŒ–æƒ…æ™¯ã€‚åœ¨ç»˜å›¾ä¹‹å‰ï¼Œè¯·ä»”ç»†è€ƒè™‘ä½ å‡†å¤‡å¦‚ä½•é€šè¿‡å¯è§†åŒ–çš„æ–¹å¼è¡¨è¾¾ç»Ÿè®¡äº‹å®æˆ–äº‹ä»¶å…³ç³»ã€‚ä¹Ÿè®¸å°±æ˜¯è¿™å…«ç±»æƒ…æ™¯ä¸­çš„ä¸€ä¸ªã€‚</p><p></p><h2>ç±»å‹ä¸€ï¼šç›¸å…³æ€§ Correlation</h2><p>ä»¥åŠå‡ ä¸ªå›¾ç”¨äºæ£€æŸ¥ä¸¤ä¸ªå˜é‡è§çš„ç›¸å…³æ€§</p><p></p><h3>æ•£ç‚¹å›¾ Scatterplot</h3><p>æ•£ç‚¹å›¾æ˜¯æ•°æ®åˆ†æè¿‡ç¨‹ä¸­ä½¿ç”¨æœ€å¤šçš„å›¾æ ‡ä¹‹ä¸€ã€‚å½“ä½ æƒ³äº†è§£ä¸¤ä¸ªå˜é‡é—´çš„ç›¸å…³æ€§æ—¶ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯æ•£ç‚¹å›¾ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ggplot2é‡Œçš„geom_pointç»˜åˆ¶æ•£ç‚¹å›¾ã€‚å¦å¤–ï¼Œè¿˜å¯ä»¥ç”¨geom_smoothæ¥ç»˜åˆ¶å¹³æ»‘æ›²çº¿ï¼Œé€šè¿‡è®¾ç½®methon='lm'æ¥ç»˜åˆ¶æœ€ä½³æ‹Ÿåˆæ›²çº¿ã€‚</p><pre><code>options(scipen=999) <br>library(ggplot2)<br>theme_set(theme_bw)<br>data("midwest", package = "ggplot2")<br># midwest &lt;- read.csv("http://goo.gl/G1K41K")<br><br># Scatterplot<br>gg &lt;- ggplot(midwest, aes(x=area, y=poptotal)) +<br>geom_point(aes(col=state, size=popdensity)) +<br>geom_smooth(method="loess", se=F) +<br>xlim(c(0, 0.1)) +<br>ylim(c(0, 500000)) +<br>labs(subtitle="Area Vs Population",<br>y="Population",<br>x="Area",<br>title="Scatterplot",<br>caption = "Source: midwest")<br><br>plot(gg)</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RTBO8cK9mJlDy3><p></p><h3>å¸¦æœ‰ç¯ç»•çš„æ•£ç‚¹å›¾ Scatterplot With Encircling</h3><p>åœ¨å±•ç¤ºç»“æœæ—¶ï¼Œæœ‰æ—¶å¯ä»¥å°†æŸä¸ªç‰¹æ®Šçš„åŒºåŸŸåŒ…å›´èµ·æ¥ï¼Œä»è€Œè¾¾åˆ°çªå‡ºå±•ç¤ºçš„æ•ˆæœã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ggaltåŒ…é‡Œçš„geom_encircleå®ç°ã€‚</p><p>åœ¨geom_encircleä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šéœ€è¦çªå‡ºçš„æ•°æ®é›†ï¼Œæ­¤å¤–è¿˜å¯ä»¥æ‰©å±•æ›²çº¿ï¼Œä»¥ä¾¿åœ¨ç‚¹ä¹‹å¤–ä¼ é€’ï¼›ä»¥åŠä¿®æ”¹æ›²çº¿çš„é¢œè‰²åŠå¤§å°ã€‚</p><pre><code># install 'ggalt' pkg<br># devtools::install_github("hrbrmstr/ggalt")<br>options(scipen = 999)<br>library(ggplot2)<br>library(ggalt)<br>midwest_select &lt;- midwest[midwest$poptotal &gt; 350000 &amp;<br>midwest$poptotal &lt;= 500000 &amp;<br>midwest$area &gt; 0.01 &amp;<br>midwest$area &lt; 0.1, ]<br><br># Plot<br>ggplot(midwest, aes(x=area, y=poptotal)) +<br>geom_point(aes(col=state, size=popdensity)) + # draw points<br>geom_smooth(method="loess", se=F) +<br>xlim(c(0, 0.1)) +<br>ylim(c(0, 500000)) + # draw smoothing line<br>geom_encircle(aes(x=area, y=poptotal),<br>data=midwest_select,<br>color="red",<br>size=2,<br>expand=0.08) + # encircle<br>labs(subtitle="Area Vs Population",<br>y="Population",<br>x="Area",<br>title="Scatterplot + Encircle",<br>caption="Source: midwest")<br></code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO8cV3reNN4t><p></p><h3>æŠ–åŠ¨å›¾ Jitter Plot</h3><p>æˆ‘ä»¬çœ‹çœ‹å…ˆç”¨ä¸€ç»„æ–°çš„æ•°æ®ç»˜åˆ¶æ•£ç‚¹å›¾ã€‚è¿™æ¬¡ï¼Œæˆ‘å°†ä½¿ç”¨mpgæ•°æ®é›†æ¥ç»˜åˆ¶åŸå¸‚é‡Œç¨‹ï¼ˆctyï¼‰ä¸å…¬è·¯é‡Œç¨‹ã€‚</p><pre><code># load package and data<br>library(ggplot2)<br></code><p><code>data(mpg, package="ggplot2") </code></p><p><code># alternate source: "http://goo.gl/uEeRGu")</code></p><code>theme_set(theme_bw) # pre-set the bw theme.<br><br>g &lt;- ggplot(mpg, aes(cty, hwy))<br><br># Scatterplot<br>g + geom_point +<br>geom_smooth(method="lm", se=F) +<br>labs(subtitle="mpg: city vs highway mileage",<br>y="hwy",<br>x="cty",<br>title="Scatterplot with overlapping points",<br>caption="Source: midwest")<br></code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO8cf97vTMGQ><p>è™½ç„¶æˆ‘ä»¬èƒ½å¤Ÿä»å›¾ä¸­çœ‹å‡ºï¼Œä¸¤ä¸ªå˜é‡å­˜åœ¨ç›¸å…³æ€§ã€‚ä½†æ˜¯ä¸éš¾å‘ç°ï¼Œå¾ˆå¤šæ•£ç‚¹è¢«éšè—äº†ï¼Œå› ä¸ºæ•°æ®å­˜åœ¨é‡å çš„é—®é¢˜ã€‚ç”±äºctyå’Œhvyä¸¤ä¸ªå˜é‡éƒ½æ˜¯æ•´æ•°ï¼Œæ‰€ä»¥æ•°æ®é‡å çš„ç°è±¡æ›´åŠ ä¸¥é‡ã€‚å¯¹äºè¿™ç±»æ•°æ®é›†çš„æ•£ç‚¹å›¾ï¼Œå±•ç¤ºè¿‡ç¨‹ä¸­åº”è¯¥æ ¼å¤–å°å¿ƒã€‚é‚£ä¹ˆåº”è¯¥å¦‚ä½•è§£å†³ä¸€ä¸ªé—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨jitter_geomå¯¹æ•°æ®å¢åŠ æŠ–åŠ¨ï¼Œé€šè¿‡è®¾ç½®widthï¼Œä½¿å¾—é‡å çš„ç‚¹åœ¨åŸå§‹ä½ç½®éšæœºæŠ–åŠ¨ã€‚</p><pre><code> # load package and data<br>library(ggplot2)<br>data(mpg, package="ggplot2")<br># mpg &lt;- read.csv("http://goo.gl/uEeRGu")<br><br># Scatterplot<br>theme_set(theme_bw) # pre-set the bw theme.<br>g &lt;- ggplot(mpg, aes(cty, hwy))<br>g + geom_jitter(width = .5, size=1) +<br>labs(subtitle="mpg: city vs highway mileage",<br>y="hwy",<br>x="cty",<br>title="Jittered Points")<br></code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RTBO8cp87yIJOE><p></p><h3>è®¡æ•°å›¾ Counts Chart</h3><p>ç¬¬äºŒç§è§£å†³æ•£ç‚¹é‡å çš„æ–¹æ³•æ˜¯ä½¿ç”¨è®¡æ•°å›¾ã€‚å½“æ•°æ®å­˜åœ¨æ•£ç‚¹é‡å æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ•£ç‚¹å¤§å°æ¥è¡¨è¾¾æ•°æ®é‡å çš„ç¨‹åº¦ã€‚</p><pre><code># load package and data<br>library(ggplot2)<br>data(mpg, package="ggplot2")<br># mpg &lt;- read.csv("http://goo.gl/uEeRGu")<br><br># Scatterplot<br>theme_set(theme_bw) # pre-set the bw theme.<br>g &lt;- ggplot(mpg, aes(cty, hwy))<br>g + geom_count(col="tomato3", show.legend=F) +<br>labs(subtitle="mpg: city vs highway mileage",<br>y="hwy",<br>x="cty",<br>title="Counts Plot")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO8cy7ETcBuA><p></p><h3>æ°”æ³¡å›¾ Bubble plot</h3><p>è™½ç„¶æ•£ç‚¹å›¾èƒ½å¤Ÿè¡¨ç¤ºä¸¤ä¸ªè¿ç»­å˜é‡é—´çš„ç›¸å…³å…³ç³»ã€‚ä½†å¦‚æœæƒ³åœ¨ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢äº†è§£æ•°æ®é—´çš„æ½œåœ¨å…³ç³»æ—¶ï¼Œæ°”æ³¡å›¾ä¼šæ›´æœ‰ç”¨ï¼š</p><p>1.åŸºäºåˆ†ç±»å˜é‡ï¼Œä¿®æ”¹æ•£ç‚¹é¢œè‰²2.åŸºäºå¦ä¸€ä¸ªè¿ç»­å˜é‡ï¼Œè¡¨ç¤ºæ•£ç‚¹çš„å¤§å°</p><p>ç®€å•æ¥è¯´ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå››ç»´å˜é‡çš„æ•°æ®ï¼Œä¸¤ä¸ªè¿ç»­å˜é‡ï¼Œä¸€ä¸ªåˆ†ç±»å˜é‡ç”¨ä»¥è¡¨ç¤ºé¢œè‰²ï¼Œä¸€ä¸ªè¿ç»­å˜é‡è¡¨ç¤ºç‚¹çš„å¤§å°ï¼Œé‚£ä¹ˆæ°”æ³¡å›¾å°±éå¸¸é€‚åˆäº†ã€‚</p><p>æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œæ°”æ³¡å›¾æ¸…æ¥šåœ°åŒºåˆ†äº†åˆ¶é€ å•†ä¹‹é—´çš„å·®å¼‚ä»¥åŠæœ€ä½³æ‹Ÿåˆæ›²çº¿çš„æ–œç‡å˜åŒ–ï¼Œä»è€Œèƒ½å¤Ÿæ›´å¥½çš„æ¯”è¾ƒä¸åŒç»„ç¾¤é—´çš„å·®å¼‚ã€‚</p><pre><code># load package and data<br>library(ggplot2)<br>data(mpg, package="ggplot2")<br># mpg &lt;- read.csv("http://goo.gl/uEeRGu")<br><br>mpg_select &lt;- mpg[mpg$manufacturer %in% c("audi", "ford", "honda", "hyundai"), ]<br><br># Scatterplot<br>theme_set(theme_bw) # pre-set the bw theme.<br>g &lt;- ggplot(mpg_select, aes(displ, cty)) +<br>labs(subtitle="mpg: Displacement vs City Mileage",<br>title="Bubble chart")<br><br>g + geom_jitter(aes(col=manufacturer, size=hwy)) +<br>geom_smooth(aes(col=manufacturer), method="lm", se=F)</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO8kG9KXx6of><p></p><h3>åŠ¨æ€æ°”æ³¡å›¾ Animated Bubble chart</h3><p>å¯¹äºåŠ¨æ€æ°”æ³¡å›¾çš„å®ç°ï¼Œå¯ä»¥ä½¿ç”¨gganimateåŒ…ã€‚åŠ¨æ€æ°”æ³¡å›¾å’Œæ™®é€šæ°”æ³¡å›¾çš„åŒºåˆ«å°±åœ¨äºä½¿ç”¨ç¬¬äº”ç»´æ•°æ®(ä¸€èˆ¬æ˜¯æ—¶é—´)æ¥å±•ç¤ºæ•°æ®é—´çš„å˜åŒ–ã€‚åŠ¨æ€æ°”æ³¡å›¾çš„å¤„ç†æ–¹æ³•å’Œå…¶å®ƒå›¾å½¢åŸºæœ¬ä¸€è‡´ï¼Œä¸åŒçš„æ˜¯éœ€è¦åœ¨aeså±‚æŒ‡å®šåŠ¨ç”»å±•ç¤ºçš„å˜é‡ã€‚æ„å»ºç»˜å›¾åï¼Œå¯ä»¥ä½¿ç”¨gganimateé€šè¿‡è®¾ç½®åŠ¨ç”»çš„æ—¶é—´é—´éš”ã€‚</p><pre><code># Source: https://github.com/dgrtwo/gganimate<br># install.packages("cowplot") # a gganimate dependency<br># devtools::install_github("dgrtwo/gganimate")<br>library(ggplot2)<br>library(gganimate)<br>library(gapminder)<br>theme_set(theme_bw) # pre-set the bw theme.<br><br></code><p><code>g &lt;- ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, </code></p><p><code>frame = year)) +</code></p><code> geom_point +<br>geom_smooth(aes(group = year),<br>method = "lm",<br>show.legend = FALSE) +<br>facet_wrap(~continent, scales = "free") +<br>scale_x_log10 # convert to log scale<br><br>gganimate(g, interval=0.2)</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO8l0A6CyS74><p></p><h3>è¾¹ç¼˜åˆ†å¸ƒçš„ç›´æ–¹å›¾ï¼ç®±å‹å›¾ Marginal Histogram / Boxplot</h3><p>å¦‚æœä½ æƒ³åœ¨ç”¨ä¸€å¼ å›¾è¡¨ä¸­æ˜¾ç¤ºä¸¤ä¸ªå˜é‡çš„å…³ç³»ä»¥åŠåˆ†å¸ƒï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨è¾¹ç¼˜åˆ†å¸ƒç›´æ–¹å›¾ã€‚å®ƒå¯ä»¥åœ¨æ•£ç‚¹å›¾çš„Xã€Yå‘¨ï¼Œæ˜¾ç¤ºå˜é‡çš„ç›´æ–¹å›¾ã€‚è¾¹ç¼˜åˆ†å¸ƒç›´æ–¹å›¾å¯ä»¥é€šè¿‡ggExtraåŒ…çš„ggMarginalå‡½æ•°å®ç°ã€‚é™¤äº†ç»˜åˆ¶ç›´æ–¹å›¾å¤–ï¼Œè¿˜æ”¯æŒç»˜åˆ¶è¾¹ç¼˜åˆ†å¸ƒçš„ç®±å‹å›¾å’Œå¯†åº¦å‡½æ•°ã€‚</p><pre><code># load package and data<br>library(ggplot2)<br>library(ggExtra)<br>data(mpg, package="ggplot2")<br># mpg &lt;- read.csv("http://goo.gl/uEeRGu")<br><br># Scatterplot<br>theme_set(theme_bw) # pre-set the bw theme.<br>mpg_select &lt;- mpg[mpg$hwy &gt;= 35 &amp; mpg$cty &gt; 27, ]<br>g &lt;- ggplot(mpg, aes(cty, hwy)) +<br>geom_count +<br>geom_smooth(method="lm", se=F)<br><br>ggMarginal(g, type = "histogram", fill="transparent")<br>ggMarginal(g, type = "boxplot", fill="transparent")<br># ggMarginal(g, type = "density", fill="transparent")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO8lC1XdPjgL><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RTBO8lKQaQ20W><p></p><h3>ç›¸å…³å…³ç³»å›¾ Correlogram</h3><p>ç›¸å…³å…³ç³»å›¾å¯ä»¥åŒæ—¶æ˜¾ç¤ºç»Ÿä¸€ç»„æ•°æ®ä¸­å¤šä¸ªå˜é‡é—´çš„ç›¸å…³æ€§ã€‚é€šè¿‡ggcorrplotåŒ…å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°å®ƒã€‚</p><pre><code># devtools::install_github("kassambara/ggcorrplot")<br>library(ggplot2)<br>library(ggcorrplot)<br><br># Correlation matrix<br>data(mtcars)<br>corr &lt;- round(cor(mtcars), 1)<br><br># Plot<br>ggcorrplot(corr, hc.order = TRUE,<br>type = "lower",<br>lab = TRUE,<br>lab_size = 3,<br>method="circle",<br>colors = c("tomato2", "white", "springgreen3"),<br>title="Correlogram of mtcars",<br>ggtheme=theme_bw)</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO8lTHI0ZwZX><p></p><h2>ç±»å‹äºŒ: åå·® Deviation</h2><h3>å‘æ•£å‹æ¡å½¢å›¾ Diverging bars</h3><p>å‘æ•£å‹æ¡å½¢å›¾ï¼Œæ˜¯ä¸€ç§å¯ä»¥åŒæ—¶å¤„ç†æ­£è´Ÿå€¼çš„æ¡å½¢å›¾è¡¨ã€‚ä¸€èˆ¬é€šè¿‡geom<em>barå‡½æ•°å°±èƒ½å®ç°ï¼Œä½†æ˜¯ä½¿ç”¨geom</em>barå‡½æ•°æ—¶ï¼Œå¾€å¾€ä¼šå‡ºç°æ¦‚å¿µä¸Šçš„æ··æ·†ã€‚å› ä¸ºè¯¥å‡½æ•°æ—¢å¯ä»¥ç”»ç›´æ–¹å›¾ä¹Ÿå¯ä»¥ç”»æ¡å½¢å›¾ã€‚</p><p>æ¯”å¦‚ï¼Œgeom_barå‡½æ•°çš„statå‚æ•°é»˜è®¤å€¼æ˜¯countï¼Œè¿™ä¹Ÿæ„å‘³ç€ï¼Œå½“æŒ‡å®šçš„æ•°æ®æ˜¯è¿ç»­å˜é‡æ—¶ï¼Œç³»ç»Ÿä¼šç”Ÿæˆç›´æ–¹å›¾ã€‚ä¸ºäº†åˆ›å»ºæ¡å½¢å›¾è€Œä¸æ˜¯ç›´æ–¹å›¾ï¼Œéœ€è¦ä½œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><ul><li><p>è®¾ç½®å‚æ•°stat=identity</p></li><li><p>åœ¨aesä¸­æä¾›xå’Œyä¸¤ç»´å˜é‡ï¼Œå…¶ä¸­xæ˜¯å­—ç¬¦æˆ–å› å­å‹å˜é‡ï¼Œyæ˜¯æ•°å€¼å‹å˜é‡</p></li></ul><p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œé¦–å…ˆå¯¹mtcarsæ•°æ®é›†çš„mpgè¿›è¡Œæ ‡å‡†åŒ–ã€‚å°†é‚£äº›mpgå¤§äºé›¶çš„è½¦è¾†æ ‡è®°ä¸ºç»¿è‰²ï¼Œå°äºé›¶çš„è½¦è¾†æ ‡è®°ä¸ºçº¢è‰²ã€‚</p><pre><code>library(ggplot2)<br>theme_set(theme_bw)<br><br># Data Prep<br>data("mtcars") # load data<br>mtcars$`car name` &lt;- rownames(mtcars)<br>mtcars$mpg_z &lt;- round((mtcars$mpg - mean(mtcars$mpg))/sd(mtcars$mpg), 2)<br>mtcars$mpg_type &lt;- ifelse(mtcars$mpg_z &lt; 0, "below", "above")<br>mtcars &lt;- mtcars[order(mtcars$mpg_z), ] # sort<br></code><p><code>mtcars$`car name` &lt;- factor(mtcars$`car name`, </code></p><p><code>levels = mtcars$`car name`) </code></p><code>#Diverging Barcharts<br>ggplot(mtcars, aes(x=`car name`, y=mpg_z, label=mpg_z)) +<br>geom_bar(stat='identity', aes(fill=mpg_type), width=.5) +<br>scale_fill_manual(name="Mileage",<br>labels = c("Above Average", "Below Average"),<br>values = c("above"="#00ba38", "below"="#f8766d")) +<br>labs(subtitle="Normalised mileage from 'mtcars'",<br>title= "Diverging Bars") +<br>coord_flip</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO8oJHpbPnnb><p></p><h3>å‘æ•£å‹æ£’æ£’ç³–å›¾ Diverging Lollipop Chart</h3><p>æ£’æ£’ç³–å›¾ä¸æ¡å½¢å›¾ç±»ä¼¼ã€‚ä¸€èˆ¬å¯ä»¥ä½¿ç”¨geom_<em>pointå’Œgeom_</em>segmentæ¥ç”»æ£’æ£’ç³–å›¾ã€‚å€Ÿç”¨æ¡å½¢å›¾çš„æ•°æ®ï¼Œæˆ‘ä»¬è¿™é‡Œç”¨æ£’æ£’ç³–å›¾æ¥å®ç°å®ƒã€‚</p><pre><code>library(ggplot2)<br>theme_set(theme_bw)<br><br>ggplot(mtcars, aes(x=`car name`, y=mpg_z, label=mpg_z)) +<br>geom_point(stat='identity', fill="black", size=6) +<br>geom_segment(aes(y = 0,<br>x = `car name`,<br>yend = mpg_z,<br>xend = `car name`),<br>color = "black") +<br>geom_text(color="white", size=2) +<br>labs(title="Diverging Lollipop Chart",<br>subtitle="Normalized mileage from 'mtcars': Lollipop") +<br>ylim(-2.5, 2.5) +<br>coord_flip</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RTBO8oV86TBa7d><p></p><h3>å‘æ•£å‹ç‚¹å›¾ Diverging Dot Plot</h3><p>ç‚¹å›¾ä¸æ¡å½¢å›¾åŸç†ä¸€è‡´ï¼Œåªæ˜¯è¡¨è¾¾å½¢å¼ä¸åŒã€‚</p><pre><code>library(ggplot2)<br>theme_set(theme_bw)<br><br># Plot<br>ggplot(mtcars, aes(x=`car name`, y=mpg_z, label=mpg_z)) +<br>geom_point(stat='identity', aes(col=mpg_type), size=6) +<br>scale_color_manual(name="Mileage",<br>labels = c("Above Average", "Below Average"),<br>values = c("above"="#00ba38", "below"="#f8766d")) +<br>geom_text(color="white", size=2) +<br>labs(title="Diverging Dot Plot",<br>subtitle="Normalized mileage from 'mtcars': Dotplot") +<br>ylim(-2.5, 2.5) +<br>coord_flip</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO8pSBKru5pz><p></p><h3>é¢ç§¯å›¾ Area Chart</h3><p>é¢ç§¯å›¾ä¸€èˆ¬ç”¨æ¥è¡¨ç¤ºæŸæŒ‡æ ‡ä¸åŸºå‡†æŒ‡æ ‡ç›¸æ¯”çš„å˜åŒ–æƒ…å†µã€‚é€šå¸¸å¯ä»¥ç”¨geom_areaå‡½æ•°å®ç°å®ƒã€‚</p><pre><code>library(ggplot2)<br>library(quantmod)<br>data("economics", package = "ggplot2")<br><br># Compute % Returns<br></code><p><code>economics$returns_perc &lt;- c(0, diff(economics$psavert)/</code></p><p><code>economics$psavert[-length(economics$psavert)])</code></p><code><br># Create break points and labels for axis ticks<br>brks &lt;- economics$date[seq(1, length(economics$date), 12)]<br></code><p><code>lbls &lt;- lubridate::year(economics$date[seq(1, </code></p><p><code>length(economics$date), 12)])</code></p><code><br># Plot<br>ggplot(economics[1:100, ], aes(date, returns_perc)) +<br>geom_area +<br>scale_x_date(breaks=brks, labels=lbls) +<br>theme(axis.text.x = element_text(angle=90)) +<br>labs(title="Area Chart",<br>subtitle = "Perc Returns for Personal Savings",<br>y="% Returns for Personal savings",<br>caption="Source: economics")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RTBO8paG6i0J4g><p></p><h2>ä¸‰: æ’åº Ranking</h2><p>æ’åºå›¾ä¸€èˆ¬ç”¨äºæ¯”è¾ƒå¤šä¸ªé¡¹ç›®ä¹‹é—´çš„æŒ‡æ ‡å¤§å°ã€‚</p><p></p><h3>æœ‰åºæ¡å½¢å›¾ Ordered Bar Chart</h3><p>æœ‰åºæ¡å½¢å›¾æ˜¯æŒ‰ç…§Yè½´å˜é‡å¤§å°è¿›è¡Œæ’åºçš„æ¡å½¢å›¾ã€‚è®©æˆ‘ä»¬ç”¨mpgæ•°æ®é›†ç»˜åˆ¶æ¯ä¸ªåˆ¶é€ å•†çš„å¹³å‡åŸå¸‚é‡Œç¨‹æ•°çš„æœ‰åºæ¡å½¢å›¾ã€‚</p><pre><code>cty_mpg &lt;- aggregate(mpg$cty, by=list(mpg$manufacturer), FUN=mean) <br>colnames(cty_mpg) &lt;- c("make", "mileage")<br>cty_mpg &lt;- cty_mpg[order(cty_mpg$mileage), ]<br>cty_mpg$make &lt;- factor(cty_mpg$make, levels = cty_mpg$make)<br>library(ggplot2)<br>theme_set(theme_bw)<br><br># Draw plot<br>ggplot(cty_mpg, aes(x=make, y=mileage)) +<br>geom_bar(stat="identity", width=.5, fill="tomato3") +<br>labs(title="Ordered Bar Chart",<br>subtitle="Make Vs Avg. Mileage",<br>caption="source: mpg") +<br>theme(axis.text.x = element_text(angle=65, vjust=0.6))</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO8r25UnCr1P><p></p><h3>æ£’æ£’ç³–å›¾ Lollipop Chart</h3><p>ä¸æ¡å½¢å›¾ç±»ä¼¼ï¼Œæ£’æ£’ç³–å›¾ä¹Ÿå…·å¤‡ç±»ä¼¼çš„å›¾å½¢å±•ç¤ºæ•ˆæœã€‚é€šè¿‡å°†æ¡å½¢æ”¹ä¸ºç»†çº¿ï¼Œå¯ä»¥è®©å›¾å½¢æ˜¾å¾—æ›´ç®€æ´ï¼Œæ›´ç¾è§‚ã€‚</p><pre><code>library(ggplot2)<br>theme_set(theme_bw)<br><br># Plot<br>ggplot(cty_mpg, aes(x=make, y=mileage)) +<br>geom_point(size=3) +<br>geom_segment(aes(x=make,<br>xend=make,<br>y=0,<br>yend=mileage)) +<br>labs(title="Lollipop Chart",<br>subtitle="Make Vs Avg. Mileage",<br>caption="source: mpg") +<br>theme(axis.text.x = element_text(angle=65, vjust=0.6))</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO8v14dkoVDh><p></p><h3>ç‚¹å›¾ Dot Plot</h3><p>ç‚¹å›¾å…¶å®å’Œæ£’æ£’ç³–å›¾ç±»ä¼¼ï¼Œä½†æ˜¯æ²¡æœ‰çº¿æ¡ï¼Œå¹¶ä¸”æŒ‡æ ‡è¢«åè½¬åˆ°äº†Xè½´ã€‚</p><pre><code>library(ggplot2)<br>library(scales)<br>theme_set(theme_classic)<br><br># Plot<br>ggplot(cty_mpg, aes(x=make, y=mileage)) +<br>geom_point(col="tomato2", size=3) + # Draw points<br>geom_segment(aes(x=make,<br>xend=make,<br>y=min(mileage),<br>yend=max(mileage)),<br>linetype="dashed",<br>size=0.1) + # Draw dashed lines<br>labs(title="Dot Plot",<br>subtitle="Make Vs Avg. Mileage",<br>caption="source: mpg") +<br>coord_flip</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO8vAHYzgptK><p></p><h3>å€¾æ–œå›¾ Slope Chart</h3><p>æ–œç‡å›¾æ˜¯æ¯”è¾ƒ2ä¸ªæ—¶é—´ç‚¹ä¹‹é—´ä½ç½®çš„ç»ä½³æ–¹æ³•ï¼Œæ—¢èƒ½å±•ç¤ºå€¼çš„å¤§å°å˜åŒ–ï¼Œä¹Ÿèƒ½åŒæ—¶å±•ç¤ºæ’åçš„å˜åŒ–ã€‚ä¸‹å›¾å¯ä»¥ä½œä¸ºå€¾æ–œå›¾çš„ä¸€ä¸ªå±•ç¤ºã€‚</p><pre><code>library(ggplot2)<br>library(scales)<br>theme_set(theme_classic)<br><br># prep data<br>df &lt;- read.csv("https://raw.githubusercontent.com/<br>selva86/datasets/master/gdppercap.csv")<br>colnames(df) &lt;- c("continent", "1952", "1957")<br>left_label &lt;- paste(df$continent, round(df$`1952`),sep=", ")<br>right_label &lt;- paste(df$continent, round(df$`1957`),sep=", ")<br>df$class &lt;- ifelse((df$`1957` - df$`1952`) &lt; 0, "red", "green")<br><br># Plot<br>p &lt;- ggplot(df) +<br>geom_segment(aes(x=1, xend=2,<br>y=`1952`, yend=`1957`,<br>col=class), size=.75,<br>show.legend=F) +<br>geom_vline(xintercept=1, linetype="dashed", size=.1) +<br>geom_vline(xintercept=2, linetype="dashed", size=.1) +<br>scale_color_manual(labels = c("Up", "Down"),<br>values = c("green"="#00ba38",<br>"red"="#f8766d")) +<br>labs(x="", y="Mean GdpPerCap") +<br>xlim(.5, 2.5) + ylim(0,(1.1*(max(df$`1952`, df$`1957`))))<br><br># Add texts<br>p &lt;- p + geom_text(label=left_label, y=df$`1952`,<br>x=rep(1, NROW(df)), hjust=1.1, size=3.5)<br>p &lt;- p + geom_text(label=right_label, y=df$`1957`,<br>x=rep(2, NROW(df)), hjust=-0.1, size=3.5)<br>p &lt;- p + geom_text(label="Time 1", x=1, y=1.1*(max(df$`1952`,<br>df$`1957`)), hjust=1.2, size=5)<br>p &lt;- p + geom_text(label="Time 2", x=2, y=1.1*(max(df$`1952`,<br>df$`1957`)), hjust=-0.1, size=5)<br><br># Minify theme<br>p + theme(panel.background = element_blank,<br>panel.grid = element_blank,<br>axis.ticks = element_blank,<br>axis.text.x = element_blank,<br>panel.border = element_blank,<br>plot.margin = unit(c(1,2,1,2), "cm"))</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO8vJ958MHlv><p></p><h3>å“‘é“ƒå›¾ Dumbbell Plot</h3><p>å“‘é“ƒå›¾é€‚åˆå±•ç¤ºä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´çš„ç›¸å¯¹ä½ç½®ï¼Œæ¯”è¾ƒä¸¤ä¸ªç±»åˆ«ä¹‹é—´çš„è·ç¦»ã€‚æ­£ç¡®çš„å“‘é“ƒå›¾è¦æ±‚Yè½´å˜é‡æ˜¯ä¸€ä¸ªå› å­ï¼Œå¹¶ä¸”å› å­æ°´å¹³ä¸æŒ‡æ ‡é¡ºåºç›¸åŒã€‚</p><pre><code># devtools::install_github("hrbrmstr/ggalt")<br>library(ggplot2)<br>library(ggalt)<br>theme_set(theme_classic)<br><br>health &lt;- read.csv("https://raw.githubusercontent.com/<br>selva86/datasets/master/health.csv")<br>health$Area &lt;- factor(health$Area, levels=as.character(health$Area))<br><br># health$Area &lt;- factor(health$Area)<br>gg &lt;- ggplot(health, aes(x=pct_2013, xend=pct_2014,<br>y=Area, group=Area)) +<br>geom_dumbbell(color="#a3c4dc",<br>size=0.75,<br>point.colour.l="#0e668b") +<br>scale_x_continuous(label=percent) +<br>labs(x=,<br>y=,<br>title="Dumbbell Chart",<br>subtitle="Pct Change: 2013 vs 2014",<br>caption="Source: https://github.com/hrbrmstr/ggalt") +<br>theme(plot.title = element_text(hjust=0.5, face="bold"),<br>plot.background=element_rect(fill="#f7f7f7"),<br>panel.background=element_rect(fill="#f7f7f7"),<br>panel.grid.minor=element_blank,<br>panel.grid.major.y=element_blank,<br>panel.grid.major.x=element_line,<br>axis.ticks=element_blank,<br>legend.position="top",<br>panel.border=element_blank)<br>plot(gg)</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO8vS9jPQkX2><p></p><h2>å››: åˆ†å¸ƒ Distribution</h2><p>å½“æ‹¥æœ‰å¤§é‡æ•°æ®ç‚¹å¹¶æƒ³è¦ç ”ç©¶æ•°æ®ç‚¹çš„åˆ†å¸ƒç‰¹ç‚¹æ—¶ï¼Œåˆ™å¯ä»¥ç”»åˆ†å¸ƒå›¾ã€‚</p><p></p><h3>ç›´æ–¹å›¾ Histogram</h3><p>è¿ç»­å˜é‡ç›´æ–¹å›¾ä¸€èˆ¬å¯ä»¥é€šè¿‡geom_baræˆ–è€…geom_histogramæ¥å®ç°ã€‚å½“ä½¿ç”¨geom_histogramæ—¶ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨binå‚æ•°æ¥æ§åˆ¶æŸ±å­çš„æ•°é‡ã€‚æˆ–è€…ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®binwidthæ¥è®¾ç½®binçš„èŒƒå›´ã€‚å› ä¸ºgeom_<em>histogramæä¾›äº†æ§åˆ¶ç®±æ•°å’Œbinwidthçš„åŠŸèƒ½ï¼Œå› æ­¤ä¸€èˆ¬å¯ä»¥é€‰æ‹©geom_</em>histogramæ¥ç»˜åˆ¶ç›´æ–¹å›¾ã€‚</p><pre><code>library(ggplot2)<br>theme_set(theme_classic)<br><br># Histogram on a Continuous (Numeric) Variable<br></code><p><code>g &lt;- ggplot(mpg, aes(displ)) + </code></p><p><code>scale_fill_brewer(palette = "Spectral")</code></p><code><br>g + geom_histogram(aes(fill=class),<br>binwidth = .1,<br>col="black",<br>size=.1) + # change binwidth<br>labs(title="Histogram with Auto Binning",<br>subtitle="Engine Displacement across Vehicle Classes")<br><br>g + geom_histogram(aes(fill=class),<br>bins=5,<br>col="black",<br>size=.1) + # change number of bins<br>labs(title="Histogram with Fixed Bins",<br>subtitle="Engine Displacement across Vehicle Classes")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO8vb58w9Iof><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO8zbAQE2HZ3><p></p><h3>åˆ†ç±»å˜é‡ç›´æ–¹å›¾ Histogram on a categorical variable</h3><p>åˆ†ç±»å˜é‡ä¸Šçš„ç›´æ–¹å›¾å°†ç”Ÿæˆæ˜¾ç¤ºæ¯ä¸ªç±»åˆ«çš„æ¡å½¢å›¾çš„é¢‘ç‡å›¾è¡¨ã€‚é€šè¿‡è°ƒæ•´å®½åº¦ï¼Œå¯ä»¥è°ƒæ•´æ¡å½¢çš„åšåº¦ã€‚</p><pre><code>library(ggplot2)<br>theme_set(theme_classic)<br><br># Histogram on a Categorical variable<br>g &lt;- ggplot(mpg, aes(manufacturer))<br>g + geom_bar(aes(fill=class), width = 0.5) +<br>theme(axis.text.x = element_text(angle=65, vjust=0.6)) +<br>labs(title="Histogram on Categorical Variable",<br>subtitle="Manufacturer across Vehicle Classes")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO8zpAKn93tK><p></p><h3>å¯†åº¦å‡½æ•°å›¾ Density plot</h3><pre><code>library(ggplot2)<br>theme_set(theme_classic)<br><br># Plot<br>g &lt;- ggplot(mpg, aes(cty))<br>g + geom_density(aes(fill=factor(cyl)), alpha=0.8) +<br>labs(title="Density plot",<br>subtitle="City Mileage Grouped by Number of cylinders",<br>caption="Source: mpg",<br>x="City Mileage",<br>fill="# Cylinders")</code><br></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO9047kFKUgM><p></p><h3>ç®±å‹å›¾ Box Plot</h3><p>ç®±å½¢å›¾æ˜¯ç ”ç©¶æ•°æ®åˆ†å¸ƒçš„ä¸€ä¸ªå¥½å·¥å…·ã€‚å®ƒè¿˜å¯ä»¥æ˜¾ç¤ºå¤šä¸ªç»„å†…çš„åˆ†å¸ƒï¼Œä»¥åŠä¸­ä½æ•°ï¼ŒèŒƒå›´å’Œå¼‚å¸¸å€¼ã€‚</p><p>ç®±å‹å›¾æ¡†å†…çš„é»‘çº¿ä»£è¡¨æ•°æ®çš„ä¸­ä½æ•°ï¼Œç®±å­çš„é¡¶éƒ¨å’Œåº•éƒ¨åˆ†å¸ƒæ—¶æ•°æ®çš„75%å’Œ25%çš„åˆ†ä½æ•°ã€‚çº¿æ¡çš„ç»ˆç‚¹è·ç¦»ä¸º1.5*IQRï¼ŒIQRä¸ºç¬¬25å’Œç¬¬75ç™¾åˆ†ä½æ•°ä¹‹é—´çš„è·ç¦»ã€‚çº¿æ¡ä»¥å¤–çš„ç‚¹è¡¬ä¹‹ä¸ºå¼‚å¸¸ç‚¹ã€‚</p><pre><code>library(ggplot2)<br>theme_set(theme_classic)<br><br># Plot<br>g &lt;- ggplot(mpg, aes(class, cty))<br>g + geom_boxplot(varwidth=T, fill="plum") +<br>labs(title="Box plot",<br>subtitle="City Mileage grouped by Class of vehicle",<br>caption="Source: mpg",<br>x="Class of Vehicle",<br>y="City Mileage")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO90GGCyIOXJ><pre><code>library(ggthemes)<br>g &lt;- ggplot(mpg, aes(class, cty))<br>g + geom_boxplot(aes(fill=factor(cyl))) +<br>theme(axis.text.x = element_text(angle=65, vjust=0.6)) +<br>labs(title="Box plot",<br>subtitle="City Mileage grouped by Class of vehicle",<br>caption="Source: mpg",<br>x="Class of Vehicle",<br>y="City Mileage")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO90j7xd68pa><p></p><h3>å¸¦ç‚¹çš„ç®±å‹å›¾ Dot + Box Plot</h3><p>é™¤äº†ç®±å‹å›¾çš„åŸºæœ¬ä¿¡æ¯å¤–ï¼Œç‚¹å›¾å¯ä»¥ä¸ºç®±å‹å›¾æä¾›æ›´å¤šçš„ä¿¡æ¯ï¼Œåœ¨å›¾ä¸­æ¯ä¸ªç‚¹ä»£è¡¨ä¸€ä¸ªè§‚å¯Ÿç‚¹ã€‚</p><pre><code>library(ggplot2)<br>theme_set(theme_bw)<br><br># plot<br>g &lt;- ggplot(mpg, aes(manufacturer, cty))<br>g + geom_boxplot +<br>geom_dotplot(binaxis='y',<br>stackdir='center',<br>dotsize = .5,<br>fill="red") +<br>theme(axis.text.x = element_text(angle=65, vjust=0.6)) +<br>labs(title="Box plot + Dot plot",<br></code><p><code>subtitle="City Mileage vs Class: Each dot represents 1 row</code></p><p><code>in source data",</code></p><code> caption="Source: mpg",<br>x="Class of Vehicle",<br>y="City Mileage")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO94p8Zme5Mw><p></p><h3>å¡”å¤«ç‰¹ç®±å‹å›¾ Tufte Boxplot</h3><pre><code>library(ggthemes)<br>library(ggplot2)<br>theme_set(theme_tufte) # from ggthemes<br><br># plot<br>g &lt;- ggplot(mpg, aes(manufacturer, cty))<br>g + geom_tufteboxplot +<br>theme(axis.text.x = element_text(angle=65, vjust=0.6)) +<br>labs(title="Tufte Styled Boxplot",<br>subtitle="City Mileage grouped by Class of vehicle",<br>caption="Source: mpg",<br>x="Class of Vehicle",<br>y="City Mileage")</code><br></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO9506i94JbW><p></p><h3>å°æç´å›¾ Violin Plot</h3><p>å°æç´å›¾ä¸ç®±å‹å›¾ç±»ä¼¼ï¼Œä½†æ˜¯å°æç´å›¾è¿˜åŒ…å«äº†æ•°æ®çš„å¯†åº¦å‡½æ•°å›¾ã€‚</p><pre><code>library(ggplot2)<br>theme_set(theme_bw)<br><br># plot<br>g &lt;- ggplot(mpg, aes(class, cty))<br>g + geom_violin +<br>labs(title="Violin plot",<br>subtitle="City Mileage vs Class of vehicle",<br>caption="Source: mpg",<br>x="Class of Vehicle",<br>y="City Mileage")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO958HTIDN9I><p></p><h3>äººå£é‡‘å­—å¡”å›¾ Population Pyramid</h3><p>äººå£é‡‘å­—å¡”æä¾›äº†ä¸€ç§ç‹¬ç‰¹çš„æ–¹å¼æ¥å¯è§†åŒ–äººå£æ•°é‡æˆ–äººå£ç™¾åˆ†æ¯”ã€‚ä¸‹é¢çš„é‡‘å­—å¡”å›¾ï¼Œåæ˜ äº†åœ¨ç”µå­é‚®ä»¶è¥é”€æ´»åŠ¨æ¸ é“çš„æ¯ä¸ªé˜¶æ®µç”¨æˆ·æ•°ã€‚</p><pre><code>library(ggplot2)<br>library(ggthemes)<br>options(scipen = 999) # turns of scientific notations like 1e+40<br><br># Read data<br></code><p><code>email_campaign_funnel &lt;- read.csv("https://raw.githubusercontent.com</code></p><p><code>/selva86/datasets/master/email_campaign_funnel.csv")</code></p><code><br># X Axis Breaks and Labels<br>brks &lt;- seq(-15000000, 15000000, 5000000)<br>lbls = paste0(as.character(c(seq(15, 0, -5),<br>seq(5, 15, 5))), "m")<br><br># Plot<br>ggplot(email_campaign_funnel, aes(x = Stage,<br>y = Users, fill = Gender)) + # Fill column<br>geom_bar(stat = "identity", width = .6) + # draw the bars<br>scale_y_continuous(breaks = brks, # Breaks<br>labels = lbls) + # Labels<br>coord_flip + # Flip axes<br>labs(title="Email Campaign Funnel") +<br>theme_tufte + # Tufte theme from ggfortify<br>theme(plot.title = element_text(hjust = .5),<br>axis.ticks = element_blank) + # Centre plot title<br>scale_fill_brewer(palette = "Dark2") # Color palette</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO95HCix9x0t><p></p><h2>äº”: ç»„æˆ Composition</h2><h3>åå¤«é¥¼å›¾ Waffle Chart</h3><p>åå¤«é¥¼å›¾é€šå¸¸å¯ä»¥ç”¨æ¥æ˜¾ç¤ºæ€»äººå£åˆ†ç±»ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ggplot2çš„geom_tileå‡½æ•°å®ç°åå¤«é¥¼å›¾ã€‚</p><pre><code>var &lt;- mpg$class # the categorical data <br><br>nrows &lt;- 10<br>df &lt;- expand.grid(y = 1:nrows, x = 1:nrows)<br>categ_table &lt;- round(table(var) * ((nrows*nrows)/(length(var))))<br>categ_table<br><br>df$category &lt;- factor(rep(names(categ_table), categ_table))<br><br>## Plot<br>ggplot(df, aes(x = x, y = y, fill = category)) +<br>geom_tile(color = "black", size = 0.5) +<br>scale_x_continuous(expand = c(0, 0)) +<br>scale_y_continuous(expand = c(0, 0), trans = 'reverse') +<br>scale_fill_brewer(palette = "Set3") +<br>labs(title="Waffle Chart", subtitle="'Class' of vehicles",<br>caption="Source: mpg")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO95PFHagvoO><p></p><h3>é¥¼å›¾ Pie Chart</h3><p>é¥¼å›¾æ˜¯æ˜¾ç¤ºæ•°æ®ç»„æˆçš„ä¸€ç§é‡è¦æ–¹å¼ï¼Œåœ¨ggplotä¸­ï¼Œéœ€è¦é€šè¿‡coord_polarå‡½æ•°æ¥å®ç°ã€‚</p><pre><code>library(ggplot2)<br>theme_set(theme_classic)<br><br># Source: Frequency table<br>df &lt;- as.data.frame(table(mpg$class))<br>colnames(df) &lt;- c("class", "freq")<br>pie &lt;- ggplot(df, aes(x = "", y=freq, fill = factor(class))) +<br>geom_bar(width = 1, stat = "identity") +<br>theme(axis.line = element_blank,<br>plot.title = element_text(hjust=0.5)) +<br>labs(fill="class",<br>x=,<br>y=,<br>title="Pie Chart of class",<br>caption="Source: mpg")<br><br>pie + coord_polar(theta = "y", start=0)<br><br># Source: Categorical variable.<br># mpg$class<br>pie &lt;- ggplot(mpg, aes(x = "", fill = factor(class))) +<br>geom_bar(width = 1) +<br>theme(axis.line = element_blank,<br>plot.title = element_text(hjust=0.5)) +<br>labs(fill="class",<br>x=,<br>y=,<br>title="Pie Chart of class",<br>caption="Source: mpg")<br><br>pie + coord_polar(theta = "y", start=0)</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RTBO99W8OzuXKu><p></p><h3>æ ‘å½¢å›¾ Treemap</h3><p>æ ‘å½¢å›¾æ˜¯ç°å®åˆ†å±‚æ•°æ®çš„å¥½æ–¹æ³•ã€‚åœ¨ggplotä¸­ï¼ŒtreemapifyåŒ…å«æœ‰æ ‘å½¢å›¾æ‰€éœ€è¦çš„æ•°æ®å¤„ç†åŠç»˜å›¾æ–¹æ³•ã€‚</p><p>ä¸ºäº†åˆ›å»ºæ ‘å½¢å›¾ï¼Œéœ€è¦å…ˆå°†æ•°æ®è½¬æ¢æˆtreemapifyéœ€è¦çš„æ•°æ®æ ¼å¼ã€‚</p><p>æ­¤å›¾æµ‹è¯•æ²¡é€šè¿‡ï¼ï¼ï¼</p><pre><code> library(ggplot2) <br>library(treemapify)<br></code><p><code>proglangs &lt;- read.csv("https://raw.githubusercontent.com/</code></p><p><code>selva86/datasets/master/proglanguages.csv")</code></p><code><br># plot<br>treeMapCoordinates &lt;- treemapify(proglangs,<br>area = "value",<br>fill = "parent",<br>label = "id",<br>group = "parent")<br><br>treeMapPlot &lt;- ggplotify(treeMapCoordinates) +<br>scale_x_continuous(expand = c(0, 0)) +<br>scale_y_continuous(expand = c(0, 0)) +<br>scale_fill_brewer(palette = "Dark2")<br><br>print(treeMapPlot)</code></pre><p></p><h3>æ¡å½¢å›¾ Bar Chart</h3><pre><code>freqtable &lt;- table(mpg$manufacturer)<br>df &lt;- as.data.frame.table(freqtable)<br>library(ggplot2)<br>theme_set(theme_classic)<br><br># Plot<br>g &lt;- ggplot(df, aes(Var1, Freq))<br>g + geom_bar(stat="identity", width = 0.5, fill="tomato2") +<br>labs(title="Bar Chart",<br>subtitle="Manufacturer of vehicles",<br></code><p><code>caption="Source: Frequency of Manufacturers from </code></p><p><code>'mpg' dataset") +</code></p><code> theme(axis.text.x = element_text(angle=65, vjust=0.6)) <br></code><br></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO9A21CPeCR1><pre><code># From on a categorical column variable<br>g &lt;- ggplot(mpg, aes(manufacturer))<br>g + geom_bar(aes(fill=class), width = 0.5) +<br>theme(axis.text.x = element_text(angle=65, vjust=0.6)) +<br>labs(title="Categorywise Bar Chart",<br>subtitle="Manufacturer of vehicles",<br>caption="Source: Manufacturers from 'mpg' dataset")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO9AB6MuxMn3><p></p><h2>å…­:æ—¶åºå˜åŒ– Change</h2><h3>æ—¶é—´åºåˆ—å›¾ Time Series</h3><p>ggfortifyåŒ…æ”¯æŒautoplotå‡½æ•°ç›´æ¥ä»æ—¶é—´åºåˆ—å¯¹è±¡ä¸­è‡ªåŠ¨ç»˜åˆ¶æ—¶é—´åºåˆ—å›¾ã€‚</p><pre><code>## From Timeseries object (ts)<br>library(ggplot2)<br>library(ggfortify)<br>theme_set(theme_classic)<br><br># Plot<br>autoplot(AirPassengers) +<br>labs(title="AirPassengers")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO9AKBP2djux><p></p><h3>æ•°æ®æ¡†æ ¼å¼çš„æ—¶é—´åºåˆ—å›¾ Time Series Plot From a Data Frame</h3><pre><code>library(ggplot2)<br>theme_set(theme_classic)<br><br># Allow Default X Axis Labels<br>ggplot(economics, aes(x=date)) +<br>geom_line(aes(y=returns_perc)) +<br>labs(title="Time Series Chart",<br>subtitle="Returns Percentage from 'Economics' Dataset",<br>caption="Source: Economics",<br>y="Returns %")</code><br></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO9Gh1u3wLnt><p></p><h3>å…³äºæœˆåº¦æ•°æ®çš„æ—¶é—´åºåˆ—å›¾ <em>Monthly</em>Time</h3><pre><code>library(ggplot2)<br>library(lubridate)<br>theme_set(theme_bw)<br><br>economics_m &lt;- economics[1:24, ]<br><br># labels and breaks for X axis text<br>lbls &lt;- paste0(month.abb[month(economics_m$date)], " ",<br>lubridate::year(economics_m$date))<br>brks &lt;- economics_m$date<br><br># plot<br>ggplot(economics_m, aes(x=date)) +<br>geom_line(aes(y=uempmed)) +<br>labs(title="Monthly Time Series",<br>subtitle="Returns Percentage from Economics Dataset",<br>caption="Source: Economics",<br>y="Returns %") + # title and caption<br>scale_x_date(labels = lbls,<br>breaks = brks) +<br>theme(axis.text.x = element_text(angle = 90, vjust=0.5),<br>panel.grid.minor = element_blank)</code><br></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO9Gt5P68Dza><p></p><h3>å…³äºå¹´åº¦æ•°æ®çš„æ—¶é—´åºåˆ—å›¾ <em>Yearly</em>Time</h3><pre><code>library(ggplot2)<br>library(lubridate)<br>theme_set(theme_bw)<br><br>economics_y &lt;- economics[1:90, ]<br><br># labels and breaks for X axis text<br>brks &lt;- economics_y$date[seq(1, length(economics_y$date), 12)]<br>lbls &lt;- lubridate::year(brks)<br><br># plot<br>ggplot(economics_y, aes(x=date)) +<br>geom_line(aes(y=uempmed)) +<br>labs(title="Yearly Time Series",<br>subtitle="uempmed Percentage from Economics Dataset",<br>caption="Source: Economics",<br>y="uempmed %") + # title and caption<br>scale_x_date(labels = lbls,<br>breaks = brks) +<br></code><p><code>theme(axis.text.x = element_text(angle = 90, vjust=0.5), </code></p><p><code>panel.grid.minor = element_blank) </code></p><br></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO9HxFtguo1c><p></p><h3>åŒæ—¶å±•ç¤ºå¤šä¸ªæ—¶é—´åºåˆ— Long Data Format: Multiple Time Series</h3><pre><code>data(economics_long, package = "ggplot2")<br>head(economics_long)<br>library(ggplot2)<br>library(lubridate)<br>theme_set(theme_bw)<br><br>df &lt;- economics_long[economics_long$variable %in%<br>c("psavert", "uempmed"), ]<br>df &lt;- df[lubridate::year(df$date) %in% c(1967:1981), ]<br><br># labels and breaks for X axis text<br>brks &lt;- df$date[seq(1, length(df$date), 12)]<br>lbls &lt;- lubridate::year(brks)<br><br># plot<br>ggplot(df, aes(x=date)) +<br>geom_line(aes(y=value, col=variable)) +<br>labs(title="Time Series of Returns Percentage",<br>subtitle="Drawn from Long Data format",<br>caption="Source: Economics",<br>y="Returns %",<br>color=) + # title and caption<br>scale_x_date(labels = lbls, breaks = brks) +<br>scale_color_manual(labels = c("psavert", "uempmed"),<br>values = c("psavert"="#00ba38",<br>"uempmed"="#f8766d")) +<br>theme(axis.text.x = element_text(angle = 90, vjust=0.5, size = 8),<br>panel.grid.minor = element_blank)</code><br></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO9I7H6exAUQ><p></p><h3>å †ç§¯å›¾ Stacked Area Chart</h3><pre><code>library(ggplot2)<br>library(lubridate)<br>theme_set(theme_bw)<br><br>df &lt;- economics[, c("date", "psavert", "uempmed")]<br>df &lt;- df[lubridate::year(df$date) %in% c(1967:1981), ]<br><br># labels and breaks for X axis text<br>brks &lt;- df$date[seq(1, length(df$date), 12)]<br>lbls &lt;- lubridate::year(brks)<br><br># plot<br>ggplot(df, aes(x=date)) +<br>geom_area(aes(y=psavert+uempmed, fill="psavert")) +<br>geom_area(aes(y=uempmed, fill="uempmed")) +<br>labs(title="Area Chart of Returns Percentage",<br>subtitle="From Wide Data format",<br>caption="Source: Economics",<br>y="Returns %") +<br>scale_x_date(labels = lbls, breaks = brks) +<br>scale_fill_manual(name="",<br>values = c("psavert"="#00ba38", "uempmed"="#f8766d")) +<br>theme(panel.grid.minor = element_blank)</code><br></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RTBO9IH2Vao5YX><p></p><h3>æ—¥å†çƒ­å›¾ Calendar Heatmap</h3><p>å½“ä½ æƒ³å¼ºè°ƒåœ¨æ—¥å†æ ¼å¼ä¸­ï¼Œæ•°æ®å˜åŒ–æƒ…å†µ(å¦‚è‚¡ç¥¨æ•°æ®)ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨æ—¥å†çƒ­å›¾ã€‚é€šè¿‡æ•°æ®å‡†å¤‡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨geom_tileå‡½æ•°æ¥å®ç°æ—¥å†çƒ­å›¾ã€‚</p><pre><code>library(ggplot2)<br>library(plyr)<br>library(scales)<br>library(zoo)<br><br></code><p><code>df &lt;- read.csv("https://raw.githubusercontent.com/selva86/datasets</code></p><p><code>/master/yahoo.csv")</code></p><code>df$date &lt;- as.Date(df$date) # format date<br>df &lt;- df[df$year &gt;= 2012, ] # filter reqd years<br><br># Create Month Week<br>df$yearmonth &lt;- as.yearmon(df$date)<br>df$yearmonthf &lt;- factor(df$yearmonth)<br>df &lt;- ddply(df,.(yearmonthf), transform, monthweek=1+week-min(week))<br>df &lt;- df[, c("year", "yearmonthf", "monthf",<br>"week", "monthweek", "weekdayf", "VIX.Close")]<br><br><br># Plot<br>ggplot(df, aes(monthweek, weekdayf, fill = VIX.Close)) +<br>geom_tile(colour = "white") +<br>facet_grid(year~monthf) +<br>scale_fill_gradient(low="red", high="green") +<br>labs(x="Week of Month",<br>y="",<br>title = "Time-Series Calendar Heatmap",<br>subtitle="Yahoo Closing Price",<br>fill="Close")</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO9Ok9IyCWaD><p></p><h3>å­£èŠ‚æ€§æ—¶é—´åºåˆ— Seasonal Plot</h3><pre><code>library(ggplot2)<br>library(forecast)<br>theme_set(theme_classic)<br><br># Subset data<br></code><p><code>nottem_small &lt;- window(nottem, start=c(1920, 1), end=c(1925, 12)) </code></p><p><code># subset a smaller timewindow</code></p><code><br># Plot<br></code><p><code>ggseasonplot(AirPassengers) + </code></p><p><code>labs(title="Seasonal plot: International Airline Passengers")</code></p><p><code>ggseasonplot(nottem_small) + </code></p><p><code>labs(title="Seasonal plot: Air temperatures at Nottingham Castle") </code></p><br><br></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO9OvGn99Im3><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO9P42zLyB8y><p></p><h2>ä¸ƒ: åˆ†ç»„ Groups</h2><h3>åˆ†å±‚æ ‘å½¢å›¾ Hierarchical Dendrogram</h3><pre><code># install.packages("ggdendro")<br>library(ggplot2)<br>library(ggdendro)<br>theme_set(theme_bw)<br><br>hc &lt;- hclust(dist(USArrests), "ave") # hierarchical clustering<br><br># plot<br>ggdendrogram(hc, rotate = TRUE, size = 2)</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO9PE7ASIt8m><p></p><h3>èšç±» Clusters</h3><p>å¯¹äºä¸åŒçš„æ•°æ®ç°‡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨geom_<em>encircleæ¥æ˜¾ç¤ºã€‚å¦‚æœæ•°æ®å­˜åœ¨å¤šç»´ç‰¹å¾ï¼Œå¯ä»¥è€ƒè™‘é‡‡ç”¨PCAé™ç»´ï¼Œå¹¶å°†ç¬¬ä¸€ä¸»æˆåˆ†ä¸ç¬¬äºŒä¸»æˆåˆ†ä½œä¸ºå›¾å½¢çš„Xã€Yè½´ã€‚geom</em>encircleå°†éœ€è¦çªå‡ºçš„æ•°æ®ç°‡åŒ…å›´èµ·æ¥ï¼Œä»è€Œè¾¾åˆ°çªå‡ºæ•°æ®çš„ä½œç”¨ã€‚</p><pre><code># devtools::install_github("hrbrmstr/ggalt")<br>library(ggplot2)<br>library(ggalt)<br>library(ggfortify)<br>theme_set(theme_classic)<br><br>df &lt;- iris[c(1, 2, 3, 4)]<br>pca_mod &lt;- prcomp(df)<br><br>df_pc &lt;- data.frame(pca_mod$x, Species=iris$Species)<br>df_pc_vir &lt;- df_pc[df_pc$Species == "virginica", ]<br>df_pc_set &lt;- df_pc[df_pc$Species == "setosa", ]<br>df_pc_ver &lt;- df_pc[df_pc$Species == "versicolor", ]<br><br># Plot ----------------------------------------------------<br>ggplot(df_pc, aes(PC1, PC2, col=Species)) +<br>geom_point(aes(shape=Species), size=2) +<br>labs(title="Iris Clustering",<br>subtitle="With principal components PC1 and<br>PC2 as X and Y axis",<br>caption="Source: Iris") +<br>coord_cartesian(xlim = 1.2 * c(min(df_pc$PC1), max(df_pc$PC1)),<br>ylim = 1.2 * c(min(df_pc$PC2), max(df_pc$PC2))) +<br>geom_encircle(data = df_pc_vir, aes(x=PC1, y=PC2)) +<br>geom_encircle(data = df_pc_set, aes(x=PC1, y=PC2)) +<br>geom_encircle(data = df_pc_ver, aes(x=PC1, y=PC2))</code></pre><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTBO9Q2AfwRL5m><p></p><h2>å…«: ç©ºé—´å¯è§†åŒ–Spatial</h2><p>ggmapåŒ…æä¾›äº†ä¸google maps apiäº¤äº’çš„å·¥å…·ï¼Œå¹¶è·å–è¦ç»˜åˆ¶çš„åœ°ç‚¹çš„åº§æ ‡ ã€‚</p><p>Error: Google now requires an API key. See ?register_google for details.</p><p>ç›®å‰ä½¿ç”¨éœ€è¦æ³¨å†ŒAPI keyï¼Œè€Œä¸”å›½å†…ä¹Ÿæ— æ³•ç›´è¿ï¼Œä»¥ä¸‹æ²¡æœ‰æµ‹è¯•ã€‚</p><pre><code># Better install the dev versions ----------<br># devtools::install_github("dkahle/ggmap")<br># devtools::install_github("hrbrmstr/ggalt")<br><br># load packages<br>library(ggplot2)<br>library(ggmap)<br>library(ggalt)<br><br># Get Chennai's Coordinates --------------------------------<br>chennai &lt;- geocode("Chennai")<br><br># Get the Map ----------------------------------------------<br># Google Satellite Map<br>chennai_ggl_sat_map &lt;- qmap("chennai", zoom=12,<br>source = "google", maptype="satellite")<br><br># Google Road Map<br>chennai_ggl_road_map &lt;- qmap("chennai", zoom=12,<br>source = "google", maptype="roadmap")<br><br># Google Hybrid Map<br>chennai_ggl_hybrid_map &lt;- qmap("chennai", zoom=12,<br>source = "google", maptype="hybrid")<br><br># Open Street Map<br>chennai_osm_map &lt;- qmap("chennai", zoom=12, source = "osm")<br><br># Get Coordinates for Chennai's Places ---------------------<br>chennai_places &lt;- c("Kolathur",<br>"Washermanpet",<br>"Royapettah",<br>"Adyar",<br>"Guindy")<br><br>places_loc &lt;- geocode(chennai_places)<br><br><br># Plot Open Street Map -------------------------------------<br>chennai_osm_map + geom_point(aes(x=lon, y=lat),<br>data = places_loc,<br>alpha = 0.7,<br>size = 7,<br>color = "tomato") +<br>geom_encircle(aes(x=lon, y=lat),<br>data = places_loc, size = 2, color = "blue")<br><br># Plot Google Road Map -------------------------------------<br>chennai_ggl_road_map + geom_point(aes(x=lon, y=lat),<br>data = places_loc,<br>alpha = 0.7,<br>size = 7,<br>color = "tomato") +<br>geom_encircle(aes(x=lon, y=lat),<br>data = places_loc, size = 2, color = "blue")<br><br># Google Hybrid Map ----------------------------------------<br>chennai_ggl_hybrid_map + geom_point(aes(x=lon, y=lat),<br>data = places_loc,<br>alpha = 0.7,<br>size = 7,<br>color = "tomato") +<br>geom_encircle(aes(x=lon, y=lat),<br>data = places_loc, size = 2, color = "blue")</code></pre><p></p><h3>è¡—é“åœ°å›¾</h3><img alt=50ä¸ªggplot2å¯è§†åŒ–æ¡ˆä¾‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTBO9VP1Gc2QMh><p><strong>æµ‹è¯•ç¯å¢ƒ</strong></p><p>sessionInfo</p><p>## R version 3.6.0 (2019-04-26)</p><p>## Platform: x86_64-w64-mingw32/x64 (64-bit)</p><p>## Running under: Windows 10 x64 (build 17134)</p><p>##</p><p>## Matrix products: default</p><p>##</p><p>## locale:</p><p>## [1] LC_COLLATE=Chinese (Simplified)_China.936</p><p>## [2] LC_CTYPE=Chinese (Simplified)_China.936</p><p>## [3] LC_MONETARY=Chinese (Simplified)_China.936</p><p>## [4] LC_NUMERIC=C</p><p>## [5] LC_TIME=Chinese (Simplified)_China.936</p><p>##</p><p>## attached base packages:</p><p>## [1] stats graphics grDevices utils datasets methods base</p><p>##</p><p>## other attached packages:</p><p>## [1] ggdendro_0.1-20 forecast_8.7 reshape2_1.4.3 dplyr_0.8.1</p><p>## [5] plyr_1.8.4 lubridate_1.7.4 ggfortify_0.4.7 ggthemes_4.2.0</p><p>## [9] scales_1.0.0 quantmod_0.4-14 TTR_0.23-4 xts_0.11-2</p><p>## [13] zoo_1.8-6 ggcorrplot_0.1.3 ggExtra_0.8 gifski_0.8.6</p><p>## [17] gganimate_1.0.3 ggalt_0.4.0 ggplot2_3.1.1</p><p>##</p><p>## loaded via a namespace (and not attached):</p><p>## [1] tseries_0.10-47 maps_3.3.0 tidyr_0.8.3</p><p>## [4] shiny_1.3.2 assertthat_0.2.1 yaml_2.2.0</p><p>## [7] progress_1.2.2 backports_1.1.4 Rttf2pt1_1.3.7</p><p>## [10] pillar_1.4.0 lattice_0.20-38 quadprog_1.5-7</p><p>## [13] glue_1.3.1 extrafontdb_1.0 digest_0.6.19</p><p>## [16] RColorBrewer_1.1-2 promises_1.0.1 colorspace_1.4-1</p><p>## [19] htmltools_0.3.6 httpuv_1.5.1 timeDate_3043.102</p><p>## [22] pkgconfig_2.0.2 purrr_0.3.2 xtable_1.8-4</p><p>## [25] tweenr_1.0.1 later_0.8.0 tibble_2.1.1</p><p>## [28] farver_1.1.0 withr_2.1.2 urca_1.3-0</p><p>## [31] nnet_7.3-12 lazyeval_0.2.2 cli_1.1.0</p><p>## [34] magrittr_1.5 crayon_1.3.4 mime_0.6</p><p>## [37] evaluate_0.13 ash_1.0-15 fansi_0.4.0</p><p>## [40] nlme_3.1-139 MASS_7.3-51.4 tools_3.6.0</p><p>## [43] prettyunits_1.0.2 hms_0.4.2 stringr_1.4.0</p><p>## [46] munsell_0.5.0 compiler_3.6.0 rlang_0.3.4</p><p>## [49] grid_3.6.0 miniUI_0.1.1.1 labeling_0.3</p><p>## [52] rmarkdown_1.13 proj4_1.0-8 fracdiff_1.4-2</p><p>## [55] gtable_0.3.0 curl_3.3 R6_2.4.0</p><p>## [58] gridExtra_2.3 knitr_1.23 zeallot_0.1.0</p><p>## [61] extrafont_0.17 utf8_1.1.4 KernSmooth_2.23-15</p><p>## [64] stringi_1.4.3 parallel_3.6.0 Rcpp_1.0.1</p><p>## [67] vctrs_0.1.0 png_0.1-7 lmtest_0.9-37</p><p>## [70] tidyselect_0.2.5 xfun_0.7</p><p><strong>åå°å›å¤â€œggplot2â€è·å¾—æœ¬æ–‡åŸä»£ç ã€‚</strong></p><p></p><h2>çŒœä½ å–œæ¬¢</h2><p>10000+ï¼šèŒç¾¤åˆ†æå®å®ä¸çŒ«ç‹— æ¢…æ¯’ç‹‚æƒ³æ›² æDNAå‘Nature Cellä¸“åˆŠ è‚ é“æŒ‡æŒ¥å¤§è„‘</p><p>ç³»åˆ—æ•™ç¨‹ï¼šå¾®ç”Ÿç‰©ç»„å…¥é—¨ Biostar å¾®ç”Ÿç‰©ç»„ å®åŸºå› ç»„</p><p>ä¸“ä¸šæŠ€èƒ½ï¼šå­¦æœ¯å›¾è¡¨é«˜åˆ†æ–‡ç« ç”Ÿä¿¡å®å…¸ ä¸å¯æˆ–ç¼ºçš„äºº</p><p>ä¸€æ–‡è¯»æ‡‚ï¼šå®åŸºå› ç»„ å¯„ç”Ÿè™«ç›Šå¤„ è¿›åŒ–æ ‘</p><p>å¿…å¤‡æŠ€èƒ½ï¼šæé—® æœç´¢ Endnote</p><p>æ–‡çŒ®é˜…è¯» çƒ­å¿ƒè‚  SemanticScholar Geenmedical</p><p>æ‰©å¢å­åˆ†æï¼šå›¾è¡¨è§£è¯» åˆ†ææµç¨‹ ç»Ÿè®¡ç»˜å›¾</p><p>16SåŠŸèƒ½é¢„æµ‹ PICRUSt FAPROTAX Bugbase Tax4Fun</p><p>åœ¨çº¿å·¥å…·ï¼š16Sé¢„æµ‹åŸ¹å…»åŸº ç”Ÿä¿¡ç»˜å›¾</p><p>ç§‘ç ”ç»éªŒï¼šäº‘ç¬”è®° äº‘åä½œ å…¬ä¼—å·</p><p>ç¼–ç¨‹æ¨¡æ¿: Shell R Perl</p><p>ç”Ÿç‰©ç§‘æ™®: è‚ é“ç»†èŒäººä½“ä¸Šçš„ç”Ÿå‘½ç”Ÿå‘½å¤§è·ƒè¿› ç»†èƒæš—æˆ˜ äººä½“å¥¥ç§˜</p><p></p><h2>å†™åœ¨åé¢</h2><p>ä¸ºé¼“åŠ±è¯»è€…äº¤æµã€å¿«é€Ÿè§£å†³ç§‘ç ”å›°éš¾ï¼Œæˆ‘ä»¬å»ºç«‹äº†â€œå®åŸºå› ç»„â€ä¸“ä¸šè®¨è®ºç¾¤ï¼Œç›®å‰å·±æœ‰å›½å†…å¤–5000+ ä¸€çº¿ç§‘ç ”äººå‘˜åŠ å…¥ã€‚å‚ä¸è®¨è®ºï¼Œè·å¾—ä¸“ä¸šè§£ç­”ï¼Œæ¬¢è¿åˆ†äº«æ­¤æ–‡è‡³æœ‹å‹åœˆï¼Œå¹¶æ‰«ç åŠ ä¸»ç¼–å¥½å‹å¸¦ä½ å…¥ç¾¤ï¼ŒåŠ¡å¿…å¤‡æ³¨â€œå§“å-å•ä½-ç ”ç©¶æ–¹å‘-èŒç§°/å¹´çº§â€ã€‚PIè¯·æ˜ç¤ºèº«ä»½ï¼Œå¦æœ‰æµ·å†…å¤–å¾®ç”Ÿç‰©ç›¸å…³PIç¾¤ä¾›å¤§ä½¬åˆä½œäº¤æµã€‚æŠ€æœ¯é—®é¢˜å¯»æ±‚å¸®åŠ©ï¼Œé¦–å…ˆé˜…è¯»ã€Šå¦‚ä½•ä¼˜é›…çš„æé—®ã€‹å­¦ä¹ è§£å†³é—®é¢˜æ€è·¯ï¼Œä»æœªè§£å†³ç¾¤å†…è®¨è®ºï¼Œé—®é¢˜ä¸ç§èŠï¼Œå¸®åŠ©åŒè¡Œã€‚</p><p>å­¦ä¹ 16Sæ‰©å¢å­ã€å®åŸºå› ç»„ç§‘ç ”æ€è·¯å’Œåˆ†æå®æˆ˜ï¼Œå…³æ³¨â€œå®åŸºå› ç»„â€</p><p>ç‚¹å‡»é˜…è¯»åŸæ–‡ï¼Œè·³è½¬æœ€æ–°æ–‡ç« ç›®å½•é˜…è¯»</p><p>https://mp.weixin.qq.com/s/5jQspEvH5_4Xmart22gjMA</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'50','ggplot2','å¯è§†åŒ–'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>