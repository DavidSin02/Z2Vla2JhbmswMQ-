<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>一种工业用温度测量模块的设计与实现 | 极客快訊</title><meta property="og:title" content="一种工业用温度测量模块的设计与实现 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/6303cb76df4d40ad96e5d1588d7a99bf"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1443a40b.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1443a40b.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1443a40b.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1443a40b.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1443a40b.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1443a40b.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1443a40b.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1443a40b.html><meta property="article:published_time" content="2020-11-14T20:59:11+08:00"><meta property="article:modified_time" content="2020-11-14T20:59:11+08:00"><meta name=Keywords content><meta name=description content="一种工业用温度测量模块的设计与实现"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/1443a40b.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>一种工业用温度测量模块的设计与实现</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p class=ql-align-center><br></p><p class=ql-align-center><strong>一种工业用温度测量模块的设计与实现</strong></p><p class=ql-align-center>罗伯特侯</p><p><strong>0 引言</strong></p><p>温度是工业生产中最重要的参数之一，因此温度测量设备在工业领域不可或缺。热电偶是工业场合中应用最广泛的温度传感器,它的主要特点是测温范围宽,价格低，同时结构简单,坚固耐用。</p><p>笔者采用高集成度、高精度ADC芯片ADS1248芯片，设计了一种热电偶温度测量模块。本文详细阐述了该温度测量模块的设计方法。</p><p><strong>1 系统硬件设计及原理</strong></p><p><strong>1.1硬件框图</strong></p><p>系统硬件框图如图1所示。图中MCU为主芯片；ADS1248为采样芯片，1片ADS1248可采样4路热电偶信号；在MCU与ADS1248之间的通信信号采用了磁耦芯片ADuM1401进行隔离；TMP275为测温芯片，测量环境温度，提供热电偶冷端补偿温度；外接24VDC电源通过隔离DC-DC模块转换成5V，为采样电路供电。在每路输入设计了滤波器，以衰减热电偶上的噪声。主芯片与采样芯片间通过串口进行通信，MCU与ADS1248通过SPI口进行数据交换，MCU与TMP275通过I2C口进行数据交换。</p><p>此模块为可编程控制器的扩展模块，因此具有扩展总线。通过扩展总线，该模块与可编程控制器主机进行数据交换。</p><div class=pgc-img><img alt=一种工业用温度测量模块的设计与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6303cb76df4d40ad96e5d1588d7a99bf><p class=pgc-img-caption>图1 系统硬件框图</p></div><p><strong>1.2 ADS1248特性及应用</strong></p><div class=pgc-img><img alt=一种工业用温度测量模块的设计与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4ac4040840fe4fbe926a67816456e9b5><p class=pgc-img-caption>图2 ADS1248框图</p></div><p>TI 公司的ADS1248是高度集成的24位精密ADC芯片,它集成了低噪音可编程增益放大器(PGA)、单周期设定数字滤波器的精密Delta-Sigma ADC、振荡器、输入切换器（Input Mux）,可采样4 组差分或7组单端输入。该芯片还具有50/60 Hz同步抑制模式；传感器断线检测功能。设计中选用该芯片可在不影响性能的情况下减少器件数量，简化设计。</p><p><strong>1.3抗干扰设计</strong></p><p>热电偶信号为差分小信号。根据K型热电偶分度表计算得出，在-100ºC～1200ºC温度范围内，该类型热电偶输出电压信号幅度在50mV之内。实际应用中，热电偶配线较长。因此，热电偶采样电路易受工频干扰和射频干扰的影响。为实现精确测量，模块中必须加入抗干扰措施。</p><p>工频干扰（50Hz及60Hz电磁波）是工控测量系统中最常见的一种干扰噪声，对测量精度影响很大。本设计，利用ADS1248集成的数字滤波器（Programmable Digital Filter）对此类干扰进行抑制。图2框图中，数字滤波器放置于模数转换之后，其作用是对采样值进行数字滤波处理，从而达到滤除干扰噪声的目的。</p><p>ADS1248中数字滤波器的滤波特性与采样速率有关。综合衡量多方面因素后，本设计选取20SPS(每秒20次)的采样速率，此时数字滤波特性如图3所示。通过该滤波器，50Hz及60Hz工频干扰噪声均被衰减70dB以上。</p><div class=pgc-img><img alt=一种工业用温度测量模块的设计与实现 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ca4c25ea720d4df3acdfae303d378908><p class=pgc-img-caption>图3 数字滤波器特性（20SPS）</p></div><p class=ql-align-center>除工频干扰外，射频干扰也不可忽略。为抑制射频干扰，设计中在热电偶与采样芯片之间加入了RC低通滤波器，如图4所示。图4中虚线框内为RC低通滤波器，该电路对热电偶上耦合的射频干扰起到衰减作用。为达到良好效果，C1a和C1b容值相同，R1a和R1b阻值相同，且C2≥10C1。</p><div class=pgc-img><img alt=一种工业用温度测量模块的设计与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/70d00bab252249f7aae4013756cb2356><p class=pgc-img-caption>图4抗射频干扰滤波电路</p></div><p>图4中RC低通滤波器对差模和共模射频干扰信号均具有衰减作用，因此该滤波器具有两种不同的带宽：差模带宽和共模带宽。假设C1a和C1b的容值为C1，R1a和R1b阻值为R1，两种带宽计算公式见公式（1）和公式（2）。</p><div class=pgc-img><img alt=一种工业用温度测量模块的设计与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a984387424a14887988bed4a71a96990><p class=pgc-img-caption></p></div><p>设定滤波器RC参数时，首先确定R1的值，然后根据带宽需求依据公式（1）和公式（2）计算电容值。本设计中取R1为47</p><p>，C1为47pF，C2为0.1uF。 除以上抗干扰措施外，实践证明，将模拟地通过端子连接到大地也可提高采样值的精度及稳定性。</p><p><strong>1.4 冷端补偿设计及原理</strong></p><p>利用热电偶测量温度时必须进行冷端补偿。冷端补偿的方法有多种，传统方法为热电阻温度补偿法，本设计利用温度传感器芯片TMP275进行冷端补偿，有效地降低的用户的使用成本，简化了配线。</p><p>TMP275是TI公司的一款低功耗数字输出温度传感器。在+10 ºC至+85 ºC范围内的精确度为±0.5 ºC (最大值)、9至12位可编程分辨率、其双线串行接口可与I2C相兼容。</p><p>MCU与TMP275通过I2C相连，两者之间不进行电气隔离。设计中设置TMP275为12位分辨率，以提高精度。为降低功耗，采用关闭模式，当需要通过TMP275采样温度时，首先向其发送一个启动命令，采样完成后采样值存入数据寄存器，TMP275自动关闭，直至下一个启动采样命令到来。TMP275自动关闭后并不影响串行通信功能。</p><p>图5为冷端补偿原理流程图。该流程图说明了通过热电偶信号的采样值和冷端温度值计算出热电偶的另一端温度值的过程。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=一种工业用温度测量模块的设计与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a90977b8f5884af1956a0036595ceaed><p class=pgc-img-caption>图5 冷端补偿原理流程图</p></div><p>如图5所示，首先通过热电偶采样值计算出热电偶输出电压值，同时将由TMP275得到的冷端温度值通过查找分度表转换成电压值，然后将以上两个电压值相加，最后将相加后得到电压值通过分度表转换成温度值（摄氏度），该温度值便是被测温度值。</p><p><strong>2 系统软件设计</strong></p><p><strong>2.1 软件流程图</strong></p><p>图6为系统软件主流程图。系统上电后，首先进行初始化工作，然后进入主循环。在主循环中首先取扩展总线上写入的配置信息（通道开启、温度制式、断线默认值等配置信息）并做设置，当配置信息与前次不相同时，才进行配置操作。</p><div class=pgc-img><img alt=一种工业用温度测量模块的设计与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/86c43e5d715440749db1b6988dd2f219><p class=pgc-img-caption>图6 软件主流程图</p></div><p>主循环中第二个操作是采样TMP275得到冷端温度值。通过断线检测步骤，被开启但出现断线故障的通道号被标记。接下来是采集热电偶通道，程序只对开启且没有断线故障的通道进行采样。对所有正常通道采集完成后，便依据采样值、断线状态和通道配置计算出各通道的温度值，没有开启的通道温度值为0。得到所有通到温度值后，便把这些温度数据写到相应的内存区域，等待可编程控制器主机读取。</p><p>在计算温度值的过程中，需用到K型热电偶（镍铬-镍硅热电偶）分度表（GB/T 16839.1-1997）。该分度为热电偶输出电压与热电偶两端温度差值之间的对应关系表，通过查找该表可以实现电压与温度的相互转换。该表存放于内存区中，温度步长为10，温度范围为-270ºC～1300ºC。在电压值与温度值相互转换过程中，利用线性插值算法逼近热电偶特性曲线，以减小误差。</p><p><strong>3测试结果</strong></p><p>文中温度测量模块使用环境为0℃～+55℃。用热电偶检验仪（VICTOR 14+）模拟K型热电偶输入信号，将温度测量模块置于恒温箱中，在不同温度条件下对温度测量模块进行测试，测试结果如表1所示。</p><div class=pgc-img><img alt=一种工业用温度测量模块的设计与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1fb5c314113e4a42a683f995922b28f4><p class=pgc-img-caption></p></div><p><strong>4结束语</strong></p><p>本设计充分利用高集成度、高精度ADC芯片ADS1248和温度传感器芯片TMP275的特点，简化设计，降低成本，同时进行了有效的抗干扰设计。该温度测量模块可采样8路K型热电偶信号，测量温度范围为-100ºC～1200ºC，精度为±0.5%满量程加1ºC，具有很高的工业应用价值。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'一种','工业用','温度'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>