<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ç­‰è·ç¦»è‚¡ç¥¨é…å¯¹é‡åŒ–äº¤æ˜“ç­–ç•¥-Rè¯­è¨€ | æå®¢å¿«è¨Š</title><meta property="og:title" content="ç­‰è·ç¦»è‚¡ç¥¨é…å¯¹é‡åŒ–äº¤æ˜“ç­–ç•¥-Rè¯­è¨€ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/b4586e2813564491aec7530eeb937930"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/14de871a.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/14de871a.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/14de871a.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/14de871a.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/14de871a.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/14de871a.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/14de871a.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/14de871a.html><meta property="article:published_time" content="2020-11-14T21:06:14+08:00"><meta property="article:modified_time" content="2020-11-14T21:06:14+08:00"><meta name=Keywords content><meta name=description content="ç­‰è·ç¦»è‚¡ç¥¨é…å¯¹é‡åŒ–äº¤æ˜“ç­–ç•¥-Rè¯­è¨€"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/14de871a.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ç­‰è·ç¦»è‚¡ç¥¨é…å¯¹é‡åŒ–äº¤æ˜“ç­–ç•¥-Rè¯­è¨€</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p>ä¸ºäº†åˆ†æ•£äº¤æ˜“ä¸­çš„é£é™©ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é‡åŒ–äº¤æ˜“ä¸­é€‰æ‹©å¸‚åœºä¸­æ€§ç­–ç•¥ã€‚</p><p>æˆ‘ä»¬é€‰æ‹©å…·æœ‰åŸºæœ¬é¢ç›¸å…³æ€§çš„è‚¡ç¥¨å¯¹ï¼Œä»·æ ¼è¶‹åŠ¿å…·æœ‰è¶‹åŒå’Œè¶‹ç¦»ï¼Œä¹°å¤šå¼ºåŠ¿çš„è‚¡ç¥¨ï¼Œå–ç©ºå¼±åŠ¿çš„è‚¡ç¥¨ï¼ŒåŒæ—¶äº¤æ˜“ï¼Œæ§åˆ¶è‚¡å¸‚é£é™©ã€‚</p><p>æ¡ˆä¾‹æ˜¯çŸ³æ²¹å…¬å¸åŸƒå…‹æ£®ç¾å­š(NYSE:XOM)å’ŒçŸ³æ²¹å…¬å¸é›ªä½›é¾™(NYSE:CVX)</p><blockquote><p>å…¬å¸ç®€ä»‹ï¼šåŸƒå…‹æ£®ç¾å­šå…¬å¸äº1882å¹´åœ¨ç¾å›½æ–°æ³½è¥¿å·æˆç«‹ï¼Œå…¬å¸çš„åˆ†éƒ¨åŠé™„å±å…¬å¸åœ¨ç¾å›½å’Œä¸–ç•Œä¸Šå¤§å¤šæ•°å…¶ä»–å›½å®¶ç»è¥æˆ–ä¹°å–äº§å“ã€‚å…¬å¸ä¸»è¦ä¸šåŠ¡ä¸ºèƒ½æºï¼Œæ¶‰åŠå‹˜æ¢ã€ç”Ÿäº§ã€åŸæ²¹å’Œå¤©ç„¶æ°”ï¼›ç”Ÿäº§çŸ³æ²¹äº§å“ï¼›è¿è¾“å’Œé”€å”®åŸæ²¹ã€å¤©ç„¶æ°”å’ŒçŸ³æ²¹äº§å“ã€‚å…¬å¸æ˜¯çŸ³æ²¹åŒ–å·¥å•†å“çš„åˆ¶é€ å•†å’Œé”€å”®å•†ï¼ŒåŒ…æ‹¬çƒ¯çƒƒã€èŠ³çƒƒã€èšä¹™çƒ¯å’Œèšä¸™çƒ¯å¡‘æ–™å’Œå„ç§ç‰¹è‰²äº§å“ã€‚æ­¤å¤–ï¼Œå…¬å¸è¿˜æ‹¥æœ‰å‘ç”µè®¾æ–½çš„åˆ©ç›Šã€‚å…¬å¸ä¹Ÿæ˜¯å…¨çƒä¸»è¦çš„çŸ³åŒ–äº§å“ç”Ÿäº§å•†å’Œè¥é”€å•†ï¼Œå¹¶å‚ä¸å‘ç”µã€‚</p></blockquote><div class=pgc-img><img alt=ç­‰è·ç¦»è‚¡ç¥¨é…å¯¹é‡åŒ–äº¤æ˜“ç­–ç•¥-Rè¯­è¨€ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b4586e2813564491aec7530eeb937930><p class=pgc-img-caption></p></div><blockquote><p>å…¬å¸ç®€ä»‹ï¼š é›ªä½›é¾™è‚¡ä»½æœ‰é™å…¬å¸äº1926å¹´åœ¨ç¾å›½ç‰¹æ‹‰åå·æ³¨å†Œæˆç«‹ã€‚å…¬å¸ç»è¥èŒƒå›´åŒ…æ‹¬çŸ³æ²¹å’ŒåŒ–å­¦å·¥ä¸šçš„å„ä¸ªæ–¹é¢ã€‚ä¸Šæ¸¸ä¸šåŠ¡ä¸»è¦åŒ…æ‹¬å‹˜æ¢ã€å¼€å‘åŠç”Ÿäº§åŸæ²¹åŠå¤©ç„¶æ°”ï¼›åŠ å·¥ã€æ¶²åŒ–ã€è¿è¾“å’Œæ¶²åŒ–å¤©ç„¶æ°”å†æ°”åŒ–ï¼›ä¸»è¦çš„å›½é™…çŸ³æ²¹å‡ºå£ç®¡é“è¾“é€åŸæ²¹ï¼›è¿è¾“ã€å‚¨å­˜å’Œé”€å”®å¤©ç„¶æ°”ï¼›ä¸€ä¸ªå¤©ç„¶æ°”åˆæˆæ²¹é¡¹ç›®ã€‚ä¸‹æ¸¸ä¸šåŠ¡ä¸»è¦åŒ…æ‹¬å°†åŸæ²¹æç‚¼ä¸ºçŸ³æ²¹äº§å“ï¼›è¥é”€åŸæ²¹åŠå…¶æˆå“ï¼›é€šè¿‡ç®¡é“ã€æµ·æ´‹èˆ¹èˆ¶ã€ç”µæœºè®¾å¤‡å’Œè½¨é“è½¦è¿é€åŸæ²¹å’Œæˆå“æ²¹ï¼›åˆ¶é€ å’Œé”€å”®åœ¨å·¥ä¸šç”¨é€”ã€ç‡ƒæ–™å’Œæ¶¦æ»‘æ²¹æ·»åŠ å‰‚ä¸Šåº”ç”¨çš„çŸ³åŒ–äº§å“ã€å¡‘æ–™ã€‚</p></blockquote><div class=pgc-img><img alt=ç­‰è·ç¦»è‚¡ç¥¨é…å¯¹é‡åŒ–äº¤æ˜“ç­–ç•¥-Rè¯­è¨€ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3774c35004db46bab11f1ffc3f9d4dcb><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>å›æµ‹</h1><p><br></p><pre><code># è½½å…¥é‡åŒ–å’Œç»©æ•ˆåˆ†æåº“library(quantmod)library(PerformanceAnalytics)# ä¸‹è½½è‚¡ä»·å’Œæå–æ”¶ç›˜ä»·å‡½æ•°get_symbol_cl &lt;- function(symbol) {  getSymbols(symbol,             src = "yahoo",             from = "2010-01-01",             to = "2016-01-01")  temp &lt;- Ad(get(symbol))  return(temp)}# è®¡ç®—æ”¶ç›Šç‡å‡½æ•°ret_normalize &lt;- function(ret) {  ret[1] &lt;- 0  norm_ret &lt;- cumprod(1 + ret)  return(norm_ret)}# ä¸‹è½½åŸƒå…‹æ£®ç¾å­š(NYSE:XOM)å’Œé›ªä½›é¾™(NYSE:CVX)è‚¡ç¥¨çš„æ”¶ç›˜ä»·# é€‰æ‹©çš„è‚¡ç¥¨å¯¹åº”è¯¥æœ‰æ˜æ˜¾çš„è¶‹åŒå’Œé©±ç¦»ï¼ŒåŒå‘ä¸è¡Œï¼Œä¾‹å¦‚é“ç¼æ–¯æŒ‡æ•°å’Œæ ‡æ™®500æŒ‡æ•°xom &lt;- get_symbol_cl("XOM")cvx &lt;- get_symbol_cl("CVX")# è®¡ç®—æ”¶ç›Šç‡ret_xom &lt;- Delt(xom)colnames(ret_xom) &lt;- "ret_xom"ret_cvx &lt;- Delt(cvx)colnames(ret_cvx) &lt;- "ret_cvx"# è½¬åŒ–ä¸ºæ ‡å‡†åŒ–æ”¶ç›Šç‡norm_xom &lt;- ret_normalize(ret_xom)norm_cvx &lt;- ret_normalize(ret_cvx)# æ ‡å‡†åŒ–ä»·æ ¼å·®ï¼Œå‡å€¼å’Œæ ‡å‡†å·®diff &lt;- norm_xom - norm_cvxme &lt;- mean(diff)std &lt;- sd(diff)# æ ‡å‡†å·®çš„ä¸Šä¸‹è¾¹ç•Œï¼Œè¿™æ˜¯æœ€é‡è¦çš„æ•°æ®n &lt;- 1ub &lt;- me + n * stdlb &lt;- me - n * std# å›æµ‹ä¿¡å·ï¼Œç”¨å‘é‡åŒ–çš„ifelseï¼Œæ€§èƒ½æ›´å¥½# 1ä¹°XOMå–CVXï¼Œ-1å–XOMä¹°CVXï¼Œ0ç©ºä»“signal &lt;- NULLsignal &lt;- ifelse(diff &gt; ub, -1,                 ifelse(diff &lt; lb, 1, 0))# æ ‡å‡†åŒ–ä»·æ ¼å·®ã€ä»·å·®å’Œäº¤æ˜“ä¿¡å·par(mfrow = c(3, 1))plot(  cbind(norm_xom, norm_cvx),  main = "åŸƒå…‹æ£®ç¾å­š &amp; é›ªä½›é¾™ æ ‡å‡†ä»·æ ¼",  col = c("black", "red"),  ylim = c(0.5, 2),  ylab = "æ ‡å‡†ä»·æ ¼")plot(diff,main="ä»·æ ¼å·®")plot(signal,main="äº¤æ˜“ä¿¡å·")</code></pre><div class=pgc-img><img alt=ç­‰è·ç¦»è‚¡ç¥¨é…å¯¹é‡åŒ–äº¤æ˜“ç­–ç•¥-Rè¯­è¨€ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/31826bc66f564628ad4c0cc9425202e9><p class=pgc-img-caption></p></div><pre><code># å›æµ‹äº¤æ˜“# ä¸è€ƒè™‘æ‰€æœ‰è´¹ç”¨å’Œæ»‘ç‚¹spread_return &lt;- ret_xom - ret_cvxcost &lt;- 0trade_return &lt;- spread_return*lag(signal)-costnames(trade_return) &lt;- "TradStrat_PT#1"# äº¤æ˜“æ•ˆæœå’Œç»©æ•ˆæŒ‡æ ‡summary(as.vector(trade_return))cumm_ret &lt;- Return.cumulative(trade_return)annual_ret &lt;- Return.annualized(trade_return)par(mfrow=c(1,1))charts.PerformanceSummary(trade_return,main="äº¤æ˜“æŠ¥å‘Š")maxDrawdown(trade_return)StdDev(trade_return)StdDev.annualized(trade_return)VaR(trade_return)SharpeRatio(trade_return,Rf=0,FUN="StdDev")SharpeRatio.annualized(trade_return,Rf=0)</code></pre><div class=pgc-img><img alt=ç­‰è·ç¦»è‚¡ç¥¨é…å¯¹é‡åŒ–äº¤æ˜“ç­–ç•¥-Rè¯­è¨€ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/592d4af62a974c7b89a43979beac88fb><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>äº¤æ˜“æ•ˆæœå’Œç»©æ•ˆæŒ‡æ ‡</h1><p><br></p><pre><code>&gt; # äº¤æ˜“æ•ˆæœå’Œç»©æ•ˆæŒ‡æ ‡&gt; summary(as.vector(trade_return))      Min.    1st Qu.     Median       Mean    3rd Qu.       Max.       NA's -0.0373405  0.0000000  0.0000000  0.0002067  0.0000000  0.0329959          1 &gt; tail(cumm_ret)                  TradStrat_PT#1Cumulative Return      0.3460039&gt; maxDrawdown(trade_return)[1] 0.1077101&gt; StdDev(trade_return)              [,1]StdDev 0.004425325&gt; StdDev.annualized(trade_return)                              TradStrat_PT#1Annualized Standard Deviation     0.07024986&gt; VaR(trade_return)    TradStrat_PT#1VaR   -0.005450908&gt; SharpeRatio(trade_return,Rf=0,FUN="StdDev")                              TradStrat_PT#1StdDev Sharpe (Rf=0%, p=95%):     0.04671048&gt; SharpeRatio.annualized(trade_return,Rf=0)                                TradStrat_PT#1Annualized Sharpe Ratio (Rf=0%)      0.7241807&gt; </code></pre><p><br></p><h1 class=pgc-h-arrow-right>ä¸‹ä¸€æ­¥ä¼˜åŒ–æ–¹å‘</h1><p>è¿™ä¸ªç­–ç•¥çš„ä¼˜åŒ–å…³é”®æ˜¯ï¼šä¼˜é€‰è‚¡ç¥¨å¯¹ï¼Œå¯»æ‰¾ä¸Šä¸‹è¾¹ç•Œnçš„å€¼</p><blockquote><p>æ„Ÿè°¢é˜…è¯»ï¼Œæ¬¢è¿å…³æ³¨å’Œç•™è¨€</p><p>é‡åŒ–æŠ•èµ„ä¸æœŸè´§å¤–æ±‡æ•£ä»™ï¼ŒåŸºé‡‘ä¿é™©æ°´å¹³ä¹Ÿæ‹¿çš„å‡ºæ‰‹</p></blockquote><p><br></p><div class=pgc-img><img alt=ç­‰è·ç¦»è‚¡ç¥¨é…å¯¹é‡åŒ–äº¤æ˜“ç­–ç•¥-Rè¯­è¨€ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/39431c672dae4d67b692bf69755d737e><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'é…å¯¹','è¯­è¨€','ç­‰è·'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>