<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ä¸€ç¯‡æ–‡ç« æå®šPythonçº¿ç¨‹æ¨¡å—threadä¸threading | æå®¢å¿«è¨Š</title><meta property="og:title" content="ä¸€ç¯‡æ–‡ç« æå®šPythonçº¿ç¨‹æ¨¡å—threadä¸threading - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/a56af7c26ba74730ad3172c8f89cc824"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/15871260.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/15871260.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/15871260.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/15871260.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/15871260.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/15871260.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/15871260.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/15871260.html><meta property="article:published_time" content="2020-11-14T20:55:06+08:00"><meta property="article:modified_time" content="2020-11-14T20:55:06+08:00"><meta name=Keywords content><meta name=description content="ä¸€ç¯‡æ–‡ç« æå®šPythonçº¿ç¨‹æ¨¡å—threadä¸threading"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/15871260.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ä¸€ç¯‡æ–‡ç« æå®šPythonçº¿ç¨‹æ¨¡å—threadä¸threading</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>å…³äºæ¨¡å—é€‰æ‹©</h1><p>ã€€ã€€Pythonæä¾›äº†å‡ ä¸ªç”¨äºå¤šçº¿ç¨‹ç¼–ç¨‹çš„æ¨¡å—ï¼ŒåŒ…æ‹¬threadã€threadingå’ŒQueueç­‰ã€‚threadå’Œthreadingæ¨¡å—å…è®¸ç¨‹åºå‘˜åˆ›å»ºå’Œç®¡ç†çº¿ç¨‹ã€‚threadæ¨¡å—æä¾›äº†åŸºæœ¬çš„çº¿ç¨‹å’Œé”çš„æ”¯æŒï¼Œthreadingæä¾›äº†æ›´é«˜çº§åˆ«ã€åŠŸèƒ½æ›´å¼ºçš„çº¿ç¨‹ç®¡ç†çš„åŠŸèƒ½ã€‚Queueæ¨¡å—å…è®¸ç”¨æˆ·åˆ›å»ºä¸€ä¸ªå¯ä»¥ç”¨äºå¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«æ•°æ®çš„é˜Ÿåˆ—æ•°æ®ç»“æ„ã€‚ã€€ã€€é¿å…ä½¿ç”¨threadæ¨¡å—ï¼Œå› ä¸ºæ›´é«˜çº§åˆ«çš„threadingæ¨¡å—æ›´ä¸ºå…ˆè¿›ï¼Œå¯¹çº¿ç¨‹çš„æ”¯æŒæ›´ä¸ºå®Œå–„ï¼Œè€Œä¸”ä½¿ç”¨threadæ¨¡å—é‡Œçš„å±æ€§æœ‰å¯èƒ½ä¼šä¸threadingå‡ºç°å†²çªï¼›å…¶æ¬¡ä½çº§åˆ«çš„threadæ¨¡å—çš„åŒæ­¥åŸè¯­å¾ˆå°‘(å®é™…ä¸Šåªæœ‰ä¸€ä¸ª)ï¼Œè€Œthreadingæ¨¡å—åˆ™æœ‰å¾ˆå¤šï¼›å†è€…ï¼Œthreadæ¨¡å—ä¸­å½“ä¸»çº¿ç¨‹ç»“æŸæ—¶ï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½ä¼šè¢«å¼ºåˆ¶ç»“æŸæ‰ï¼Œæ²¡æœ‰è­¦å‘Šä¹Ÿä¸ä¼šæœ‰æ­£å¸¸çš„æ¸…é™¤å·¥ä½œï¼Œè‡³å°‘threadingæ¨¡å—èƒ½ç¡®ä¿é‡è¦çš„å­çº¿ç¨‹é€€å‡ºåè¿›ç¨‹æ‰é€€å‡ºã€‚</p><p>ã€€ã€€threadæ¨¡å—ä¸æ”¯æŒå®ˆæŠ¤çº¿ç¨‹ï¼Œå½“ä¸»çº¿ç¨‹é€€å‡ºæ—¶ï¼Œæ‰€æœ‰çš„å­çº¿ç¨‹ä¸è®ºå®ƒä»¬æ˜¯å¦è¿˜åœ¨å·¥ä½œï¼Œéƒ½ä¼šè¢«å¼ºè¡Œé€€å‡ºã€‚è€Œthreadingæ¨¡å—æ”¯æŒå®ˆæŠ¤çº¿ç¨‹ï¼Œå®ˆæŠ¤çº¿ç¨‹ä¸€èˆ¬æ˜¯ä¸€ä¸ªç­‰å¾…å®¢æˆ·è¯·æ±‚çš„æœåŠ¡å™¨ï¼Œå¦‚æœæ²¡æœ‰å®¢æˆ·æå‡ºè¯·æ±‚å®ƒå°±åœ¨é‚£ç­‰ç€ï¼Œå¦‚æœè®¾å®šä¸€ä¸ªçº¿ç¨‹ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œå°±è¡¨ç¤ºè¿™ä¸ªçº¿ç¨‹æ˜¯ä¸é‡è¦çš„ï¼Œåœ¨è¿›ç¨‹é€€å‡ºçš„æ—¶å€™ï¼Œä¸ç”¨ç­‰å¾…è¿™ä¸ªçº¿ç¨‹é€€å‡ºã€‚</p><h1 class=pgc-h-arrow-right>threadingæ¨¡å—</h1><p><strong>å¤šçº¿ç¨‹å¯åŠ¨</strong></p><pre><code># å¤šçº¿ç¨‹å¯åŠ¨import osimport timefrom threading import Threaddef func():    time.sleep(1)    print('hello çº¿ç¨‹', os.getpid())t = Thread(target=func)t.start()print(os.getpid())# ç»“æœ# 6360# hello çº¿ç¨‹ 6360</code></pre><p><strong>åŒæ­¥å¼€å¯å¤šçº¿ç¨‹</strong></p><pre><code># åŒæ­¥å¼€å¯å¤šçº¿ç¨‹import osimport timefrom threading import Threaddef func():    time.sleep(1)    print('hello çº¿ç¨‹', os.getpid())thread_l = []for i in range(10):    t = Thread(target=func)    t.start()    thread_l.append(t)for j in thread_l:    j.join()print(os.getpid())</code></pre><p><strong>å¼€å¯çº¿ç¨‹çš„å¦ä¸€ç§æ–¹æ³•</strong></p><pre><code># å¼€å¯çº¿ç¨‹çš„å¦ä¸€ç§æ–¹æ³•import osimport timefrom threading import Threadclass My_thread(Thread):    def run(self):        time.sleep(1)        print('hello çº¿ç¨‹', os.getpid())thread_l = []for i in range(10):    t = My_thread()    t.start()    thread_l.append(t)for j in thread_l:    j.join()print(os.getpid())</code></pre><p><strong>ä»¥ç±»çš„æ–¹å¼å¼€å¯è¿›ç¨‹ä¸­çš„æ³¨æ„æ±‡æ€»</strong></p><pre><code># ä»¥ç±»çš„æ–¹å¼å¼€å¯è¿›ç¨‹ä¸­çš„æ³¨æ„æ±‡æ€»import osimport timefrom threading import Threadclass My_thread(Thread):    count = 0  # è¿›ç¨‹ä¸­çš„é™æ€å±æ€§æ˜¯å…±äº«çš„  è®¡ç®—è°ƒç”¨çº¿ç¨‹çš„æ¬¡æ•°    def __init__(self, arg):  # ä¼ å‚æ–¹æ³•        super().__init__()  # ç»§æ‰¿çˆ¶ç±»çš„initæ–¹æ³•        self.arg = arg    def run(self):        My_thread.count += 1        time.sleep(1)        print('%s,%s' % (self.arg, os.getpid()))thread_l = []for i in range(10):    t = My_thread(i, )    t.start()    thread_l.append(t)for j in thread_l:    j.join()print(t.count)</code></pre><p><strong>self.nameè·å–çº¿ç¨‹åå­—</strong></p><pre><code># self.nameè·å–çº¿ç¨‹åå­—import osimport timefrom threading import Threadclass My_thread(Thread):    count = 0  # è¿›ç¨‹ä¸­çš„é™æ€å±æ€§æ˜¯å…±äº«çš„  è®¡ç®—è°ƒç”¨çº¿ç¨‹çš„æ¬¡æ•°    def __init__(self, arg):  # ä¼ å‚æ–¹æ³•        super().__init__()  # ç»§æ‰¿çˆ¶ç±»çš„initæ–¹æ³•        self.arg = arg    def run(self):        My_thread.count += 1        time.sleep(1)        print('%s,%s,%s' % (self.arg, self.name, os.getpid()))thread_l = []for i in range(10):    t = My_thread(i, )    t.start()    thread_l.append(t)for j in thread_l:    j.join()print(t.count)# ç»“æœ# 4,Thread-5,6284# 3,Thread-4,6284# 2,Thread-3,6284# 1,Thread-2,6284# 0,Thread-1,6284# 9,Thread-10,6284# 8,Thread-9,6284# 6,Thread-7,6284# 7,Thread-8,6284# 5,Thread-6,6284# 10</code></pre><p><strong>çº¿ç¨‹å‘¨è¾¹</strong></p><pre><code># çº¿ç¨‹å‘¨è¾¹import timeimport threadingdef func(i):    time.sleep(0.5)    print(i, threading.currentThread().name, threading.currentThread().ident)#     ident  çº¿ç¨‹idfor i in range(10):    t = threading.Thread(target=func, args=(i, ))    t.start()print(threading.enumerate())  # è¿”å›æ­£åœ¨è¿è¡Œç€çš„çº¿ç¨‹åˆ—è¡¨print(len(threading.enumerate()))  # æ‰“å°çº¿ç¨‹æ•°é‡print(threading.activeCount())  # è®°å½•æ´»ç€çš„çº¿ç¨‹æ•°é‡# ç»“æœ# [&lt;_MainThread(MainThread, started 9004)&gt;, &lt;Thread(Thread-1, started 18804)&gt;, &lt;Thread(Thread-2, started 4892)&gt;, &lt;Thread(Thread-3, started 12760)&gt;, &lt;Thread(Thread-4, started 22276)&gt;, &lt;Thread(Thread-5, started 20732)&gt;, &lt;Thread(Thread-6, started 19072)&gt;, &lt;Thread(Thread-7, started 17020)&gt;, &lt;Thread(Thread-8, started 22228)&gt;, &lt;Thread(Thread-9, started 22252)&gt;, &lt;Thread(Thread-10, started 22280)&gt;]# 11# 11# 0 Thread-1 18804# 1 Thread-2 4892# 3 Thread-4 22276# 4 Thread-5 20732# 2 Thread-3 12760# 8 Thread-9 22252# 9 Thread-10 22280# 7 Thread-8 22228# 6 Thread-7 17020# 5 Thread-6 19072</code></pre><p><strong>socketå¯åŠ¨å¤šçº¿ç¨‹</strong></p><pre><code># socketå¯åŠ¨å¤šçº¿ç¨‹# clientç«¯import socketsk = socket.socket()sk.connect(('127.0.0.1', 8080))ret = sk.recv()print(ret)msg = input('&gt;&gt;&gt;')sk.send(msg.encode('utf-8'))sk.close()# serverç«¯import socketfrom threading import Threaddef func(conn):    conn.send(b'hello')    ret = conn.recv(1024)    print(ret)    conn.close()sk = socket.socket()sk.bind(('127.0.0.1', 8080))sk.listen()while True:    conn, addr = sk.accept()    Thread(target=func, args=(conn, )).start()sk.close()</code></pre><h1 class=pgc-h-arrow-right>å®ˆæŠ¤çº¿ç¨‹</h1><pre><code># å®ˆæŠ¤è¿›ç¨‹import timefrom threading import Threaddef func():    print('å¼€å§‹æ‰§è¡Œå­çº¿ç¨‹')    time.sleep(2)    print('å­çº¿ç¨‹æ‰§è¡Œç»“æŸ')t = Thread(target=func)t.setDaemon(True)  # è¿›ç¨‹è®¾ç½®å®ˆæŠ¤è¿›ç¨‹ æ˜¯å±æ€§ daemon = Truet.start()t2 = Thread(target=func)t2.start()t2.join()  # ç­‰å¾…t2ç»“æŸ  \\  t2æ‰§è¡Œå®Œæ¯• ä¸»çº¿ç¨‹ç»“æŸ# æ³¨æ„# å®ˆæŠ¤çº¿ç¨‹ å®ˆæŠ¤è¿›ç¨‹ éƒ½æ˜¯ç­‰å¾…ä¸»è¿›ç¨‹æˆ–ä¸»çº¿ç¨‹ä¸­çš„ä»£ç  æ‰§è¡Œå®Œæ¯•# ç»“æœ# å¼€å§‹æ‰§è¡Œå­çº¿ç¨‹# å¼€å§‹æ‰§è¡Œå­çº¿ç¨‹# å­çº¿ç¨‹æ‰§è¡Œç»“æŸ# å­çº¿ç¨‹æ‰§è¡Œç»“æŸ</code></pre><h1 class=pgc-h-arrow-right>äº’æ–¥Lockä¸é€’å½’é”RLock</h1><p><strong>é”çš„ä½¿ç”¨</strong></p><pre><code># é”import timefrom threading import Threadfrom threading import Lockdef func():    global n    lock.acquire()    temp = n  # ä»è¿›ç¨‹ä¸­è·å–n    time.sleep(0.01)    n = temp-1  # å¾—åˆ°ç»“æœå†å­˜å‚¨å›è¿›ç¨‹    lock.release()n = 100lock = Lock()t_lis = []for i in range(100):    t = Thread(target=func)    t.start()    t_lis.append(t)[t.join() for t in t_lis]print(n)</code></pre><p><strong class=highlight-text>PSï¼šGIL ä¸æ˜¯é”æ•°æ®ï¼Œè€Œæ˜¯é”çº¿ç¨‹</strong></p><p><strong class=highlight-text>åœ¨å¤šçº¿ç¨‹ä¸­ï¼Œç‰¹æ®Šæƒ…å†µï¼Œä»è¦åŠ é”ï¼Œå¯¹æ•°æ®åŠ é”ï¼ˆå…·ä½“è§é”å¾—ä½¿ç”¨ï¼‰</strong></p><p><strong>äº’æ–¥é”ä¸joinçš„åŒºåˆ«</strong></p><pre><code>#ä¸åŠ é”:å¹¶å‘æ‰§è¡Œ,é€Ÿåº¦å¿«,æ•°æ®ä¸å®‰å…¨from threading import current_thread,Thread,Lockimport os,timedef task():    global n    print('%s is running' %current_thread().getName())    temp=n    time.sleep(0.5)    n=temp-1if __name__ == '__main__':    n=100    lock=Lock()    threads=[]    start_time=time.time()    for i in range(100):        t=Thread(target=task)        threads.append(t)        t.start()    for t in threads:        t.join()    stop_time=time.time()    print('ä¸»:%s n:%s' %(stop_time-start_time,n))'''Thread-1 is runningThread-2 is running......Thread-100 is runningä¸»:0.5216062068939209 n:99'''#ä¸åŠ é”:æœªåŠ é”éƒ¨åˆ†å¹¶å‘æ‰§è¡Œ,åŠ é”éƒ¨åˆ†ä¸²è¡Œæ‰§è¡Œ,é€Ÿåº¦æ…¢,æ•°æ®å®‰å…¨from threading import current_thread,Thread,Lockimport os,timedef task():    #æœªåŠ é”çš„ä»£ç å¹¶å‘è¿è¡Œ    time.sleep(3)    print('%s start to run' %current_thread().getName())    global n    #åŠ é”çš„ä»£ç ä¸²è¡Œè¿è¡Œ    lock.acquire()    temp=n    time.sleep(0.5)    n=temp-1    lock.release()if __name__ == '__main__':    n=100    lock=Lock()    threads=[]    start_time=time.time()    for i in range(100):        t=Thread(target=task)        threads.append(t)        t.start()    for t in threads:        t.join()    stop_time=time.time()    print('ä¸»:%s n:%s' %(stop_time-start_time,n))'''Thread-1 is runningThread-2 is running......Thread-100 is runningä¸»:53.294203758239746 n:0'''#æ—¢ç„¶åŠ é”ä¼šè®©è¿è¡Œå˜æˆä¸²è¡Œ,é‚£ä¹ˆæˆ‘åœ¨startä¹‹åç«‹å³ä½¿ç”¨join,å°±ä¸ç”¨åŠ é”äº†å•Š,ä¹Ÿæ˜¯ä¸²è¡Œçš„æ•ˆæœå•Š#æ²¡é”™:åœ¨startä¹‹åç«‹åˆ»ä½¿ç”¨jion,è‚¯å®šä¼šå°†100ä¸ªä»»åŠ¡çš„æ‰§è¡Œå˜æˆä¸²è¡Œ,æ¯«æ— ç–‘é—®,æœ€ç»ˆnçš„ç»“æœä¹Ÿè‚¯å®šæ˜¯0,æ˜¯å®‰å…¨çš„,ä½†é—®é¢˜æ˜¯#startåç«‹å³join:ä»»åŠ¡å†…çš„æ‰€æœ‰ä»£ç éƒ½æ˜¯ä¸²è¡Œæ‰§è¡Œçš„,è€ŒåŠ é”,åªæ˜¯åŠ é”çš„éƒ¨åˆ†å³ä¿®æ”¹å…±äº«æ•°æ®çš„éƒ¨åˆ†æ˜¯ä¸²è¡Œçš„#å•ä»ä¿è¯æ•°æ®å®‰å…¨æ–¹é¢,äºŒè€…éƒ½å¯ä»¥å®ç°,ä½†å¾ˆæ˜æ˜¾æ˜¯åŠ é”çš„æ•ˆç‡æ›´é«˜.from threading import current_thread,Thread,Lockimport os,timedef task():    time.sleep(3)    print('%s start to run' %current_thread().getName())    global n    temp=n    time.sleep(0.5)    n=temp-1if __name__ == '__main__':    n=100    lock=Lock()    start_time=time.time()    for i in range(100):        t=Thread(target=task)        t.start()        t.join()    stop_time=time.time()    print('ä¸»:%s n:%s' %(stop_time-start_time,n))'''Thread-1 start to runThread-2 start to run......Thread-100 start to runä¸»:350.6937336921692 n:0 #è€—æ—¶æ˜¯å¤šä¹ˆçš„ææ€–'''</code></pre><h1 class=pgc-h-arrow-right>æ­»é”ä¸é€’å½’é”</h1><p>è¿›ç¨‹ä¹Ÿæœ‰æ­»é”ä¸é€’å½’é”ï¼Œåœ¨è¿›ç¨‹é‚£é‡Œå¿˜è®°è¯´äº†ï¼Œæ”¾åˆ°è¿™é‡Œä¸€åˆ‡è¯´äº†é¢</p><p>ã€€ã€€æ‰€è°“æ­»é”ï¼š æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹æˆ–çº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§äº’ç›¸ç­‰å¾…çš„ç°è±¡ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•æ¨è¿›ä¸‹å»ã€‚æ­¤æ—¶ç§°ç³»ç»Ÿå¤„äºæ­»é”çŠ¶æ€æˆ–ç³»ç»Ÿäº§ç”Ÿäº†æ­»é”ï¼Œè¿™äº›æ°¸è¿œåœ¨äº’ç›¸ç­‰å¾…çš„è¿›ç¨‹ç§°ä¸ºæ­»é”è¿›ç¨‹ï¼Œå¦‚ä¸‹å°±æ˜¯æ­»é”</p><p><strong>æ­»é”</strong></p><pre><code>æ­»é”from threading import Lock as Lockimport timemutexA=Lock()mutexA.acquire()mutexA.acquire()print(123)mutexA.release()mutexA.release()</code></pre><p>ã€€ã€€è§£å†³æ–¹æ³•ï¼Œé€’å½’é”ï¼Œåœ¨Pythonä¸­ä¸ºäº†æ”¯æŒåœ¨åŒä¸€çº¿ç¨‹ä¸­å¤šæ¬¡è¯·æ±‚åŒä¸€èµ„æºï¼Œpythonæä¾›äº†å¯é‡å…¥é”RLockã€‚</p><p>ã€€ã€€è¿™ä¸ªRLockå†…éƒ¨ç»´æŠ¤ç€ä¸€ä¸ªLockå’Œä¸€ä¸ªcounterå˜é‡ï¼Œcounterè®°å½•äº†acquireçš„æ¬¡æ•°ï¼Œä»è€Œä½¿å¾—èµ„æºå¯ä»¥è¢«å¤šæ¬¡requireã€‚ç›´åˆ°ä¸€ä¸ªçº¿ç¨‹æ‰€æœ‰çš„acquireéƒ½è¢«releaseï¼Œå…¶ä»–çš„çº¿ç¨‹æ‰èƒ½è·å¾—èµ„æºã€‚ä¸Šé¢çš„ä¾‹å­å¦‚æœä½¿ç”¨RLockä»£æ›¿Lockï¼Œåˆ™ä¸ä¼šå‘ç”Ÿæ­»é”</p><p><strong>é€’å½’é”RLock</strong></p><pre><code>from threading import RLock as Lockimport timemutexA=Lock()mutexA.acquire()mutexA.acquire()print(123)mutexA.release()mutexA.release()</code></pre><p><strong>é€’å½’é”è§£å†³æ­»é”é—®é¢˜</strong></p><pre><code>import timefrom threading import Thread,RLockfork_lock = noodle_lock = RLock()def eat1(name):    noodle_lock.acquire()    print('%s æŠ¢åˆ°äº†é¢æ¡'%name)    fork_lock.acquire()    print('%s æŠ¢åˆ°äº†å‰å­'%name)    print('%s åƒé¢'%name)    fork_lock.release()    noodle_lock.release()def eat2(name):    fork_lock.acquire()    print('%s æŠ¢åˆ°äº†å‰å­' % name)    time.sleep(1)    noodle_lock.acquire()    print('%s æŠ¢åˆ°äº†é¢æ¡' % name)    print('%s åƒé¢' % name)    noodle_lock.release()    fork_lock.release()for name in ['å“ªå’','egon','yuan']:    t1 = Thread(target=eat1,args=(name,))    t2 = Thread(target=eat2,args=(name,))    t1.start()    t2.start()</code></pre><h1 class=pgc-h-arrow-right>ä¿¡å·é‡</h1><p>åŒè¿›ç¨‹çš„ä¸€æ ·</p><p>Semaphoreç®¡ç†ä¸€ä¸ªå†…ç½®çš„è®¡æ•°å™¨ï¼Œ</p><p>æ¯å½“è°ƒç”¨acquire()æ—¶å†…ç½®è®¡æ•°å™¨-1ï¼›</p><p>è°ƒç”¨release() æ—¶å†…ç½®è®¡æ•°å™¨+1ï¼›</p><p>è®¡æ•°å™¨ä¸èƒ½å°äº0ï¼›å½“è®¡æ•°å™¨ä¸º0æ—¶ï¼Œacquire()å°†é˜»å¡çº¿ç¨‹ç›´åˆ°å…¶ä»–çº¿ç¨‹è°ƒç”¨release()ã€‚</p><p>å®ä¾‹ï¼š(åŒæ—¶åªæœ‰5ä¸ªçº¿ç¨‹å¯ä»¥è·å¾—semaphore,å³å¯ä»¥é™åˆ¶æœ€å¤§è¿æ¥æ•°ä¸º5)ï¼š</p><pre><code>from threading import Thread,Semaphoreimport threadingimport time# def func():#     if sm.acquire():#         print (threading.currentThread().getName() + ' get semaphore')#         time.sleep(2)#         sm.release()def func():    sm.acquire()    print('%s get sm' %threading.current_thread().getName())    time.sleep(3)    sm.release()if __name__ == '__main__':    sm=Semaphore(5)    for i in range(23):        t=Thread(target=func)        t.start()</code></pre><p>ä¸è¿›ç¨‹æ± æ˜¯å®Œå…¨ä¸åŒçš„æ¦‚å¿µï¼Œè¿›ç¨‹æ± Pool(4)ï¼Œæœ€å¤§åªèƒ½äº§ç”Ÿ4ä¸ªè¿›ç¨‹ï¼Œè€Œä¸”ä»å¤´åˆ°å°¾éƒ½åªæ˜¯è¿™å››ä¸ªè¿›ç¨‹ï¼Œä¸ä¼šäº§ç”Ÿæ–°çš„ï¼Œè€Œä¿¡å·é‡æ˜¯äº§ç”Ÿä¸€å †çº¿ç¨‹/è¿›ç¨‹</p><h1 class=pgc-h-arrow-right>äº‹ä»¶</h1><p>ã€€ã€€åŒè¿›ç¨‹çš„ä¸€æ ·</p><p>ã€€ã€€çº¿ç¨‹çš„ä¸€ä¸ªå…³é”®ç‰¹æ€§æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½æ˜¯ç‹¬ç«‹è¿è¡Œä¸”çŠ¶æ€ä¸å¯é¢„æµ‹ã€‚å¦‚æœç¨‹åºä¸­çš„å…¶ ä»–çº¿ç¨‹éœ€è¦é€šè¿‡åˆ¤æ–­æŸä¸ªçº¿ç¨‹çš„çŠ¶æ€æ¥ç¡®å®šè‡ªå·±ä¸‹ä¸€æ­¥çš„æ“ä½œ,è¿™æ—¶çº¿ç¨‹åŒæ­¥é—®é¢˜å°±ä¼šå˜å¾—éå¸¸æ£˜æ‰‹ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜,æˆ‘ä»¬éœ€è¦ä½¿ç”¨threadingåº“ä¸­çš„Eventå¯¹è±¡ã€‚ å¯¹è±¡åŒ…å«ä¸€ä¸ªå¯ç”±çº¿ç¨‹è®¾ç½®çš„ä¿¡å·æ ‡å¿—,å®ƒå…è®¸çº¿ç¨‹ç­‰å¾…æŸäº›äº‹ä»¶çš„å‘ç”Ÿã€‚åœ¨ åˆå§‹æƒ…å†µä¸‹,Eventå¯¹è±¡ä¸­çš„ä¿¡å·æ ‡å¿—è¢«è®¾ç½®ä¸ºå‡ã€‚å¦‚æœæœ‰çº¿ç¨‹ç­‰å¾…ä¸€ä¸ªEventå¯¹è±¡, è€Œè¿™ä¸ªEventå¯¹è±¡çš„æ ‡å¿—ä¸ºå‡,é‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°†ä¼šè¢«ä¸€ç›´é˜»å¡ç›´è‡³è¯¥æ ‡å¿—ä¸ºçœŸã€‚ä¸€ä¸ªçº¿ç¨‹å¦‚æœå°†ä¸€ä¸ªEventå¯¹è±¡çš„ä¿¡å·æ ‡å¿—è®¾ç½®ä¸ºçœŸ,å®ƒå°†å”¤é†’æ‰€æœ‰ç­‰å¾…è¿™ä¸ªEventå¯¹è±¡çš„çº¿ç¨‹ã€‚å¦‚æœä¸€ä¸ªçº¿ç¨‹ç­‰å¾…ä¸€ä¸ªå·²ç»è¢«è®¾ç½®ä¸ºçœŸçš„Eventå¯¹è±¡,é‚£ä¹ˆå®ƒå°†å¿½ç•¥è¿™ä¸ªäº‹ä»¶, ç»§ç»­æ‰§è¡Œ</p><pre><code>event.isSet()ï¼šè¿”å›eventçš„çŠ¶æ€å€¼ï¼›event.wait()ï¼šå¦‚æœ event.isSet()==Falseå°†é˜»å¡çº¿ç¨‹ï¼›event.set()ï¼š è®¾ç½®eventçš„çŠ¶æ€å€¼ä¸ºTrueï¼Œæ‰€æœ‰é˜»å¡æ± çš„çº¿ç¨‹æ¿€æ´»è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œ ç­‰å¾…æ“ä½œç³»ç»Ÿè°ƒåº¦ï¼›event.clear()ï¼šæ¢å¤eventçš„çŠ¶æ€å€¼ä¸ºFalseã€‚</code></pre><p><br></p><div class=pgc-img><img alt=ä¸€ç¯‡æ–‡ç« æå®šPythonçº¿ç¨‹æ¨¡å—threadä¸threading onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/a56af7c26ba74730ad3172c8f89cc824><p class=pgc-img-caption></p></div><p><br></p><p>ä¾‹å¦‚ï¼Œæœ‰å¤šä¸ªå·¥ä½œçº¿ç¨‹å°è¯•è¿æ¥MySQLï¼Œæˆ‘ä»¬æƒ³è¦åœ¨è¿æ¥å‰ç¡®ä¿MySQLæœåŠ¡æ­£å¸¸æ‰è®©é‚£äº›å·¥ä½œçº¿ç¨‹å»è¿æ¥MySQLæœåŠ¡å™¨ï¼Œå¦‚æœè¿æ¥ä¸æˆåŠŸï¼Œéƒ½ä¼šå»å°è¯•é‡æ–°è¿æ¥ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é‡‡ç”¨threading.Eventæœºåˆ¶æ¥åè°ƒå„ä¸ªå·¥ä½œçº¿ç¨‹çš„è¿æ¥æ“ä½œ</p><pre><code>import threadingimport time,randomfrom threading import Thread,Eventdef conn_mysql():    count=1    while not event.is_set():        if count &gt; 3:            raise TimeoutError('é“¾æ¥è¶…æ—¶')        print('&lt;%s&gt;ç¬¬%sæ¬¡å°è¯•é“¾æ¥' % (threading.current_thread().getName(), count))        event.wait(0.5)        count+=1    print('&lt;%s&gt;é“¾æ¥æˆåŠŸ' %threading.current_thread().getName())def check_mysql():    print('\033[45m[%s]æ­£åœ¨æ£€æŸ¥mysql\033[0m' % threading.current_thread().getName())    time.sleep(random.randint(2,4))    event.set()if __name__ == '__main__':    event=Event()    conn1=Thread(target=conn_mysql)    conn2=Thread(target=conn_mysql)    check=Thread(target=check_mysql)    conn1.start()    conn2.start()    check.start()</code></pre><h1 class=pgc-h-arrow-right>æ¡ä»¶</h1><p>ä½¿å¾—çº¿ç¨‹ç­‰å¾…ï¼Œåªæœ‰æ»¡è¶³æŸæ¡ä»¶æ—¶ï¼Œæ‰é‡Šæ”¾nä¸ªçº¿ç¨‹</p><p><strong>è¯´æ˜</strong></p><p>Pythonæä¾›çš„Conditionå¯¹è±¡æä¾›äº†å¯¹å¤æ‚çº¿ç¨‹åŒæ­¥é—®é¢˜çš„æ”¯æŒã€‚Conditionè¢«ç§°ä¸ºæ¡ä»¶å˜é‡ï¼Œé™¤äº†æä¾›ä¸Lockç±»ä¼¼çš„acquireå’Œreleaseæ–¹æ³•å¤–ï¼Œè¿˜æä¾›äº†waitå’Œnotifyæ–¹æ³•ã€‚çº¿ç¨‹é¦–å…ˆacquireä¸€ä¸ªæ¡ä»¶å˜é‡ï¼Œç„¶ååˆ¤æ–­ä¸€äº›æ¡ä»¶ã€‚å¦‚æœæ¡ä»¶ä¸æ»¡è¶³åˆ™waitï¼›å¦‚æœæ¡ä»¶æ»¡è¶³ï¼Œè¿›è¡Œä¸€äº›å¤„ç†æ”¹å˜æ¡ä»¶åï¼Œé€šè¿‡notifyæ–¹æ³•é€šçŸ¥å…¶ä»–çº¿ç¨‹ï¼Œå…¶ä»–å¤„äºwaitçŠ¶æ€çš„çº¿ç¨‹æ¥åˆ°é€šçŸ¥åä¼šé‡æ–°åˆ¤æ–­æ¡ä»¶ã€‚ä¸æ–­çš„é‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œä»è€Œè§£å†³å¤æ‚çš„åŒæ­¥é—®é¢˜ã€‚</p><p><strong>å®ä¾‹</strong></p><pre><code>import threadingdef run(n):    con.acquire()    con.wait()    print("run the thread: %s" % n)    con.release()if __name__ == '__main__':    con = threading.Condition()    for i in range(10):        t = threading.Thread(target=run, args=(i,))        t.start()    while True:        inp = input('&gt;&gt;&gt;')        if inp == 'q':            break        con.acquire()        con.notify(int(inp))        con.release()        print('****')</code></pre><h1 class=pgc-h-arrow-right>å®šæ—¶å™¨</h1><p>å®šæ—¶å™¨ï¼ŒæŒ‡å®šnç§’åæ‰§è¡ŒæŸä¸ªæ“ä½œ</p><pre><code>from threading import Timer def hello():    print("hello, world") t = Timer(1, hello)t.start()  # after 1 seconds, "hello, world" will be printed</code></pre><h1 class=pgc-h-arrow-right>çº¿ç¨‹é˜Ÿåˆ—</h1><p>queueé˜Ÿåˆ— ï¼šä½¿ç”¨import queueï¼Œç”¨æ³•ä¸è¿›ç¨‹Queueä¸€æ ·</p><p>queue is especially useful in threaded programming when information must be exchanged safely between multiple threads.</p><p><strong>class queue.Queue(maxsize=0) #å…ˆè¿›å…ˆå‡º</strong></p><pre><code>import queueq=queue.Queue()q.put('first')q.put('second')q.put('third')print(q.get())print(q.get())print(q.get())'''ç»“æœ(å…ˆè¿›å…ˆå‡º):firstsecondthird'''</code></pre><p><strong>class queue.LifoQueue(maxsize=0) #åè¿›å…ˆå‡º</strong></p><pre><code>import queueq=queue.LifoQueue()q.put('first')q.put('second')q.put('third')print(q.get())print(q.get())print(q.get())'''ç»“æœ(åè¿›å…ˆå‡º):thirdsecondfirst'''</code></pre><p><strong>class queue.PriorityQueue(maxsize=0) #å­˜å‚¨æ•°æ®æ—¶å¯è®¾ç½®ä¼˜å…ˆçº§çš„é˜Ÿåˆ—</strong></p><p><strong>ä¼˜å…ˆçº§é˜Ÿåˆ—</strong></p><pre><code>import queueq=queue.PriorityQueue()#putè¿›å…¥ä¸€ä¸ªå…ƒç»„,å…ƒç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ä¼˜å…ˆçº§(é€šå¸¸æ˜¯æ•°å­—,ä¹Ÿå¯ä»¥æ˜¯éæ•°å­—ä¹‹é—´çš„æ¯”è¾ƒ),æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜q.put((20,'a'))q.put((10,'b'))q.put((30,'c'))print(q.get())print(q.get())print(q.get())'''ç»“æœ(æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜,ä¼˜å…ˆçº§é«˜çš„ä¼˜å…ˆå‡ºé˜Ÿ):(10, 'b')(20, 'a')(30, 'c')'''</code></pre><p><strong>æ›´å¤šæ–¹æ³•è¯´æ˜</strong></p><pre><code>Constructor for a priority queue. maxsize is an integer that sets the upperbound limit on the number of items that can be placed in the queue. Insertion will block once this size has been reached, until queue items are consumed. If maxsize is less than or equal to zero, the queue size is infinite.The lowest valued entries are retrieved first (the lowest valued entry is the one returned by sorted(list(entries))[0]). A typical pattern for entries is a tuple in the form: (priority_number, data).exception queue.EmptyException raised when non-blocking get() (or get_nowait()) is called on a Queue object which is empty.exception queue.FullException raised when non-blocking put() (or put_nowait()) is called on a Queue object which is full.Queue.qsize()Queue.empty() #return True if empty  Queue.full() # return True if full Queue.put(item, block=True, timeout=None)Put item into the queue. If optional args block is true and timeout is None (the default), block if necessary until a free slot is available. If timeout is a positive number, it blocks at most timeout seconds and raises the Full exception if no free slot was available within that time. Otherwise (block is false), put an item on the queue if a free slot is immediately available, else raise the Full exception (timeout is ignored in that case).Queue.put_nowait(item)Equivalent to put(item, False).Queue.get(block=True, timeout=None)Remove and return an item from the queue. If optional args block is true and timeout is None (the default), block if necessary until an item is available. If timeout is a positive number, it blocks at most timeout seconds and raises the Empty exception if no item was available within that time. Otherwise (block is false), return an item if one is immediately available, else raise the Empty exception (timeout is ignored in that case).Queue.get_nowait()Equivalent to get(False).Two methods are offered to support tracking whether enqueued tasks have been fully processed by daemon consumer threads.Queue.task_done()Indicate that a formerly enqueued task is complete. Used by queue consumer threads. For each get() used to fetch a task, a subsequent call to task_done() tells the queue that the processing on the task is complete.If a join() is currently blocking, it will resume when all items have been processed (meaning that a task_done() call was received for every item that had been put() into the queue).Raises a ValueError if called more times than there were items placed in the queue.Queue.join() blockç›´åˆ°queueè¢«æ¶ˆè´¹å®Œæ¯•</code></pre><h1 class=pgc-h-arrow-right>Pythonæ ‡å‡†æ¨¡å—--concurrent.futures</h1><pre><code>#1 ä»‹ç»concurrent.futuresæ¨¡å—æä¾›äº†é«˜åº¦å°è£…çš„å¼‚æ­¥è°ƒç”¨æ¥å£ThreadPoolExecutorï¼šçº¿ç¨‹æ± ï¼Œæä¾›å¼‚æ­¥è°ƒç”¨ProcessPoolExecutor: è¿›ç¨‹æ± ï¼Œæä¾›å¼‚æ­¥è°ƒç”¨Both implement the same interface, which is defined by the abstract Executor class.#2 åŸºæœ¬æ–¹æ³•#submit(fn, *args, **kwargs)å¼‚æ­¥æäº¤ä»»åŠ¡#map(func, *iterables, timeout=None, chunksize=1) å–ä»£forå¾ªç¯submitçš„æ“ä½œ#shutdown(wait=True) ç›¸å½“äºè¿›ç¨‹æ± çš„pool.close()+pool.join()æ“ä½œwait=Trueï¼Œç­‰å¾…æ± å†…æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•å›æ”¶å®Œèµ„æºåæ‰ç»§ç»­wait=Falseï¼Œç«‹å³è¿”å›ï¼Œå¹¶ä¸ä¼šç­‰å¾…æ± å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä½†ä¸ç®¡waitå‚æ•°ä¸ºä½•å€¼ï¼Œæ•´ä¸ªç¨‹åºéƒ½ä¼šç­‰åˆ°æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•submitå’Œmapå¿…é¡»åœ¨shutdownä¹‹å‰#result(timeout=None)å–å¾—ç»“æœ#add_done_callback(fn)å›è°ƒå‡½æ•°</code></pre><p><strong>ProcessPoolExecutor</strong></p><pre><code>#ä»‹ç»The ProcessPoolExecutor class is an Executor subclass that uses a pool of processes to execute calls asynchronously. ProcessPoolExecutor uses the multiprocessing module, which allows it to side-step the Global Interpreter Lock but also means that only picklable objects can be executed and returned.class concurrent.futures.ProcessPoolExecutor(max_workers=None, mp_context=None)An Executor subclass that executes calls asynchronously using a pool of at most max_workers processes. If max_workers is None or not given, it will default to the number of processors on the machine. If max_workers is lower or equal to 0, then a ValueError will be raised.#ç”¨æ³•from concurrent.futures import ThreadPoolExecutor,ProcessPoolExecutorimport os,time,randomdef task(n):    print('%s is runing' %os.getpid())    time.sleep(random.randint(1,3))    return n**2if __name__ == '__main__':    executor=ProcessPoolExecutor(max_workers=3)    futures=[]    for i in range(11):        future=executor.submit(task,i)        futures.append(future)    executor.shutdown(True)    print('+++&gt;')    for future in futures:        print(future.result())</code></pre><p><strong>ThreadPoolExecutor</strong></p><pre><code>#ä»‹ç»ThreadPoolExecutor is an Executor subclass that uses a pool of threads to execute calls asynchronously.class concurrent.futures.ThreadPoolExecutor(max_workers=None, thread_name_prefix='')An Executor subclass that uses a pool of at most max_workers threads to execute calls asynchronously.Changed in version 3.5: If max_workers is None or not given, it will default to the number of processors on the machine, multiplied by 5, assuming that ThreadPoolExecutor is often used to overlap I/O instead of CPU work and the number of workers should be higher than the number of workers for ProcessPoolExecutor.New in version 3.6: The thread_name_prefix argument was added to allow users to control the threading.Thread names for worker threads created by the pool for easier debugging.#ç”¨æ³•ä¸ProcessPoolExecutorç›¸åŒ</code></pre><p><strong>mapçš„ç”¨æ³•</strong></p><pre><code>from concurrent.futures import ThreadPoolExecutor,ProcessPoolExecutorimport os,time,randomdef task(n):    print('%s is runing' %os.getpid())    time.sleep(random.randint(1,3))    return n**2if __name__ == '__main__':    executor=ThreadPoolExecutor(max_workers=3)    # for i in range(11):    #     future=executor.submit(task,i)    executor.map(task,range(1,12)) #mapå–ä»£äº†for+submit</code></pre><p><strong>å›è°ƒå‡½æ•°</strong></p><pre><code>from concurrent.futures import ThreadPoolExecutor,ProcessPoolExecutorfrom multiprocessing import Poolimport requestsimport jsonimport osdef get_page(url):    print('&lt;è¿›ç¨‹%s&gt; get %s' %(os.getpid(),url))    respone=requests.get(url)    if respone.status_code == 200:        return {'url':url,'text':respone.text}def parse_page(res):    res=res.result()    print('&lt;è¿›ç¨‹%s&gt; parse %s' %(os.getpid(),res['url']))    parse_res='url:&lt;%s&gt; size:[%s]\n' %(res['url'],len(res['text']))    with open('db.txt','a') as f:        f.write(parse_res)if __name__ == '__main__':    urls=[        'https://www.baidu.com',        'https://www.python.org',        'https://www.openstack.org',        'https://help.github.com/',        'http://www.sina.com.cn/'    ]    # p=Pool(3)    # for url in urls:    #     p.apply_async(get_page,args=(url,),callback=pasrse_page)    # p.close()    # p.join()    p=ProcessPoolExecutor(3)    for url in urls:        p.submit(get_page,url).add_done_callback(parse_page) #parse_pageæ‹¿åˆ°çš„æ˜¯ä¸€ä¸ªfutureå¯¹è±¡objï¼Œéœ€è¦ç”¨obj.result()æ‹¿åˆ°ç»“æœ</code></pre><p><a class=tteditor-forum data-concern-id=6588565913220418055 data-id=1608536599803912 data-name=è®¡ç®—æœº data-uid>#è®¡ç®—æœº#</a><a class=tteditor-forum data-concern-id=6591605976862820867 data-id=1609278802827335 data-name=python data-uid>#python#</a><a class=tteditor-forum data-concern-id=1642457486431287 data-id=1642457486431287 data-name=PythonåŸºç¡€ data-uid>#PythonåŸºç¡€#</a><a class=tteditor-forum data-concern-id=6213187417604622850 data-id=4457388390 data-name=äº’è”ç½‘ data-uid>#äº’è”ç½‘#</a><a class=tteditor-forum data-concern-id=1662231535517703 data-id=1662231535517703 data-name=ç§‘æŠ€æ–°æ˜Ÿåˆ›ä½œè¥ data-uid>#ç§‘æŠ€æ–°æ˜Ÿåˆ›ä½œè¥#</a></p><div class=pgc-img><img alt=ä¸€ç¯‡æ–‡ç« æå®šPythonçº¿ç¨‹æ¨¡å—threadä¸threading onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/958cb032-50b7-4cef-b87d-95cf24c4907f><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=ä¸€ç¯‡æ–‡ç« æå®šPythonçº¿ç¨‹æ¨¡å—threadä¸threading onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/2912625f-5572-48c2-8492-6f5c8c3bff04><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=ä¸€ç¯‡æ–‡ç« æå®šPythonçº¿ç¨‹æ¨¡å—threadä¸threading onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/96b9639e-21a8-4021-8270-a1098f9c7a00><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Python','çº¿ç¨‹','æ¨¡å—'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>