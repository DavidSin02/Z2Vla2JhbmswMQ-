<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ„å¸ˆçš„ä¸¤ä¸‡å­—æ€»ç»“ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ„å¸ˆçš„ä¸¤ä¸‡å­—æ€»ç»“ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/a7567f0bc0694fd0ad5ba0987efc07ce"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/16431777.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/16431777.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/16431777.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/16431777.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/16431777.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/16431777.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/16431777.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/16431777.html><meta property="article:published_time" content="2020-11-14T20:59:18+08:00"><meta property="article:modified_time" content="2020-11-14T20:59:18+08:00"><meta name=Keywords content><meta name=description content="Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ„å¸ˆçš„ä¸¤ä¸‡å­—æ€»ç»“"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/16431777.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ„å¸ˆçš„ä¸¤ä¸‡å­—æ€»ç»“</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>ç›®å½•</h1><ol start=1><li>Javaé¢å‘å¯¹è±¡åŸºæœ¬æ¦‚å¿µ</li><li>System</li><li>String, StringBuffer</li><li>æ•°å€¼ï¼Œå­—ç¬¦ï¼Œå¸ƒå°”å¯¹è±¡ä¸ç®€å•ç±»å‹çš„æ“ä½œ</li><li>Class, ClassLoader</li><li>Java IOç³»ç»Ÿ</li><li>Javaé›†åˆç±»</li><li>ResourceBundle, Properties</li><li>Exceptions</li><li>JDBCç±»åº“</li><li>å¸¸ç”¨è®¾è®¡æ¨¡å¼</li><li>è¯»è€…ç¦åˆ©</li></ol><h1 class=pgc-h-arrow-right>ä¸€ã€Javaé¢å‘å¯¹è±¡åŸºæœ¬æ¦‚å¿µ</h1><p>JavaåŸºæœ¬ä¸Šæ˜¯é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œ é™¤äº†ä¸€äº›ç®€å•ç±»å‹(primitive)çš„å˜é‡ä»¥å¤–ï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ï¼Œ ç¨‹åºæ˜¯å¯¹è±¡çš„ç»„åˆï¼Œ æ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„ç©ºé—´ï¼Œ å¹¶ä¸”æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ç§ç±»å‹ï¼Œ åŒä¸€ç±»æ‰€æœ‰å¯¹è±¡éƒ½èƒ½æ¥å—ç›¸åŒçš„æ¶ˆæ¯ã€‚ ä¸‹é¢åªå¯¹Javaä¸­å¯¹è±¡çš„ç»“æ„ä½œç®€å•çš„è¯´æ˜ï¼š</p><ul><li>ç±»ï¼ˆclassï¼‰: classæ˜¯å®šä¹‰ç±»çš„å…³é”®å­—ï¼Œ ç±»ä¸­åŒ…å«ç±»å˜é‡ï¼Œ æ–¹æ³•ï¼Œ å†…éƒ¨ç±»ï¼Œ å†…éƒ¨æ¥å£ç­‰ã€‚ç”±classå¯ä»¥ç”Ÿæˆç±»çš„å®ä¾‹ï¼Œ å³ä¸€ä¸ªä¸ªå¯¹è±¡ã€‚ å¦‚æœä¸€ä¸ªç±»çš„æˆå‘˜è¢«å®šä¹‰æˆstaticçš„ï¼Œåˆ™è¿™ä¸ªæˆå‘˜ä¸ä¸“å±äºä»»ä½•å¯¹è±¡ï¼Œ è€Œæ˜¯å±äºè¿™ä¸ªç±»ï¼Œ æ‰€æœ‰çš„å¯¹è±¡å…±äº«è¿™ä¸ªæˆå‘˜ã€‚</li><li>æŠ½è±¡ç±»(abstract class): æŠ½è±¡ç±»ä¸èƒ½ç›´æ¥ç”Ÿæˆä¸€ä¸ªå®ä¾‹ï¼Œ æŠ½è±¡ç±»ä¸­å¿…éœ€æœ‰æ–¹æ³•æ˜¯abstractçš„ï¼ŒæŠ½è±¡ç±»çš„æ„æ€å°±æ˜¯å®ƒå®ç°äº†ä¸€éƒ¨åˆ†çš„æ–¹æ³•ï¼Œ è€Œå®šä¹‰ä¸ºabstractçš„æ–¹æ³•åˆ™éœ€è¦åœ¨å®ƒçš„å­—ç±»ä¸­å»å®ç°ã€‚</li><li>æ¥å£(interface): æ¥å£å¯ä»¥ç†è§£ä¸ºçº¯æŠ½è±¡çš„ç±»ï¼Œ å®ƒçš„æ¯ä¸ªæ–¹æ³•éƒ½æ˜¯æœªå®ç°çš„ï¼Œ å®ƒå¯ä»¥æœ‰æˆå‘˜å˜é‡ï¼Œ ä½†å¿…é¡»æ˜¯staticçš„ã€‚ ä¸€ä¸ªç±»å¦‚æœä»è¿™ä¸ªæ¥å£ç»§æ‰¿ï¼ˆimplementsï¼‰åˆ™å®ƒå¿…é¡»å®ç°è¿™ä¸ªæ¥å£çš„æ‰€æœ‰æ–¹æ³•ã€‚</li></ul><p>ç»§æ‰¿ç±»ç”¨å…³é”®å­—ï¼šextendsï¼Œç»§æ‰¿æ¥å£ç”¨å…³é”®å­—ï¼šimplementsã€‚ ä¸€ä¸ªç±»åªèƒ½ä»ä¸€ä¸ªç±»ç»§æ‰¿ä¸‹æ¥ï¼Œ ä½†å¯ä»¥ä»å¤šä¸ªæ¥å£ç»§æ‰¿ï¼ˆç±»ä¼¼äºC++çš„å¤šé‡ç»§æ‰¿ï¼‰ã€‚ å­—ç±»å¯ä»¥è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•(method)ï¼Œ ä½†ä¸èƒ½è¦†ç›–çˆ¶ç±»çš„æˆå‘˜å˜é‡(field)ã€‚ å¦‚æœçˆ¶ç±»çš„æ–¹æ³•ä¸ºfinalæˆ–staticçš„åˆ™ä¸èƒ½è¢«è¦†ç›–ã€‚ç±»çš„åˆå§‹åŒ–é¡ºåºæ˜¯ï¼Œ å¦‚æœæœ‰çˆ¶ç±»ï¼Œ åˆ™å…ˆåˆå§‹åŒ–çˆ¶ç±»çš„fieldï¼Œç„¶åæ‰§è¡Œçˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œ å¦‚æœå­ç±»æ²¡æœ‰æ˜¾å¼çš„å»è°ƒçˆ¶ç±»çš„æ„é€ å‡½æ•°åˆ™ç¼ºçœçš„ä¼šå»è°ƒçˆ¶ç±»çš„æ— å‚æ•°æ„é€ å‡½æ•°ã€‚ ç„¶åæ˜¯å­ç±»çš„fieldä¸æ„é€ å‡½æ•°çš„åˆå§‹åŒ–ã€‚</p><pre><code>public interface SuperInterface {	public staitc String SOME_FLAG = â€œ1â€;	public void someMethod();}public Class SuperClass {	{		System.out.println(â€œinit SuperClass fieldâ€);	}	public SuperClass() {		System.out.println(â€œinit SuperClass Constructorâ€);	}	public void runMethod() {		System.out.println(â€œrun SuperClass runMethod()â€);	}}public Class SubClass extends SuperClass implements SuperInterface {	{		System.out.println(â€œinit SubClass fieldâ€);	}	public SubClass() {		System.out.println(â€œinit SubClass Constructorâ€);	}	public void someMethod() {		System.out.println(â€œrun SubClass someMethod()â€);	}	public void runMethod() {		System.out.println(â€œrun SubClass runMethod()â€);	}}</code></pre><p>æœ‰ä»¥ä¸‹testä»£ç ï¼š</p><pre><code>public class Test {	public void main(String[] args) {		SubClass sub = new SubClass();		sub. runMethod();	}}</code></pre><p>åˆ™ä¼šè¾“å‡ºï¼š</p><pre><code>init SuperClass fieldinit SuperClass Constructorinit SubClass fieldinit SubClass Constructorrun SubClass runMethod()</code></pre><p>ä»¥ä¸‹ç« èŠ‚æ‰€è®²è¿°åˆ°çš„å¸¸ç”¨çš„Java APIå°±æ˜¯ä¸€äº›Javaè‡ªå¸¦çš„ä¸€äº›Classæˆ–Interfaceçš„ç”¨æ³•ã€‚</p><h1 class=pgc-h-arrow-right>äºŒã€System</h1><p>Systemç±»ä½äºpackage java.langä¸‹é¢ï¼Œ å‡¡æ˜¯æ­¤packageä¸‹é¢çš„ç±»æˆ‘ä»¬å¯ä»¥ç›´æ¥å¼•ç”¨æ— éœ€å…ˆimportè¿›æ¥ï¼Œ å› ä¸ºJVMç¼ºçœå°±loadäº†è¿™ä¸‹é¢çš„æ‰€æœ‰classã€‚</p><p>SystemåŒ…å«äº†ä¸€äº›æˆ‘ä»¬å¸¸ç”¨çš„æ–¹æ³•ä¸æˆå‘˜å˜é‡ã€‚ Systemä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œ æ‰€æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥ç›´æ¥å¼•ç”¨ã€‚ ä¸»è¦ä½œç”¨å¤§è‡´æœ‰ï¼š</p><p><strong>2.1 è¾“å…¥è¾“å‡ºæµ</strong>ï¼š</p><ul><li>(PrintStream) System.out ï¼ˆæ ‡å‡†ç»ˆç«¯è¾“å‡ºæµï¼‰ï¼Œ</li><li>(PrintStream) System.errï¼ˆæ ‡å‡†é”™è¯¯è¾“å‡ºæµï¼‰ï¼Œ</li><li>(InputStream) System.inï¼ˆæ ‡å‡†è¾“å…¥æµï¼‰ã€‚</li></ul><p>æˆ‘ä»¬è¿˜å¯ä»¥é‡å®šå‘è¿™äº›æµï¼Œ æ¯”å¦‚å°†æ‰€æœ‰çš„System.outçš„è¾“å‡ºå…¨éƒ¨é‡å®šå‘è‡³ä¸€æ–‡ä»¶ä¸­å»ã€‚</p><ul><li>System.setOut(PrintStream) æ ‡å‡†è¾“å‡ºé‡å®šå‘</li><li>System.setErr(PrintStream) æ ‡å‡†é”™è¯¯è¾“å‡ºé‡å®šå‘</li><li>System.setIn(InputStream) æ ‡å‡†è¾“å…¥é‡å®šå‘</li></ul><p><strong>2.2 å–å½“å‰æ—¶é—´</strong>ï¼š</p><p>System.currentTimeMillis() æ‰€å–åˆ°çš„æ—¶é—´æ˜¯ä»1970/01/01ä»¥æ¥1/1000ç§’è®¡ç®—çš„longå‹å€¼ã€‚è¿™ä¸ªå€¼å¯ä»¥è½¬æ¢è‡³Dateæˆ–Timestampå€¼ã€‚ å®ƒä¸€èˆ¬è¿˜å¯ä»¥ç”¨æ¥è®¡ç®—ç¨‹åºæ‰§è¡Œçš„æ—¶é—´ã€‚ä¾‹ï¼š</p><pre><code>long beginTime = System. currentTimeMillis();â€¦â€¦System.out.println(â€œrun time = â€ + (System. currentTimeMillis() â€“ beginTime));</code></pre><p><strong>2.3 æ•°ç»„æ‹·è´</strong>ï¼š</p><pre><code>System.arraycopy(Object src, int src_position, Object dst, int dst_position, int length)</code></pre><ul><li>srcï¼š æºæ•°ç»„ã€‚</li><li>src_positionï¼š æºæ•°ç»„æ‹·è´çš„èµ·å§‹ä½ç½®ã€‚</li><li>dstï¼š ç›®æ ‡æ•°ç»„</li><li>dst_positionï¼š æ‹·è´è‡³ç›®æ ‡æ•°ç»„çš„èµ·å§‹ä½ç½®</li><li>lengthï¼š æ‹·è´å…ƒç´ çš„é•¿åº¦</li></ul><p>åˆ©ç”¨System.arraycopyè¿›è¡Œæ•°ç»„çš„æ‹·è´æ•ˆç‡æ˜¯æœ€é«˜çš„ï¼Œ ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬è‡ªå·±å¾ˆå°‘ç›´æ¥ç”¨åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œä½†åœ¨é›†åˆç±»çš„å†…éƒ¨ä¸­éƒ½å¤§é‡ä½¿ç”¨äº†è¿™ä¸ªæ–¹æ³•ã€‚</p><p>ä¾‹ï¼š</p><pre><code>int[] array1 = {1, 2, 3, 4, 5};int[] array2 = {4, 5, 6, 7, 8};int array3 = new int[8];System.arraycopy(array1, 0, array3, 0, 5);System.arraycopy(array2, 2, array3, 5, 3);</code></pre><p>æ­¤æ—¶array3 = {1, 2, 3, 4, 5, 6, 7, 8}</p><p>è¿™æ¯”ç”¨forå¾ªç¯æ¥è¿›è¡Œèµ‹å€¼æ•ˆç‡è¦é«˜ã€‚</p><p><strong>2.4 å­˜å–ç³»ç»Ÿçš„Properties</strong>ï¼š</p><p>System.getProperties()ï¼šå–å¾—å½“å‰æ‰€æœ‰çš„Propertiesï¼Œ Propertieså°†åœ¨åé¢çš„é›†åˆä¸€èŠ‚è¿›è¡Œè¯¦ç»†çš„è®ºè¿°ã€‚</p><ul><li>System.setProperties(Properties props)ï¼šè®¾ç½®ç³»ç»Ÿçš„Propertiesã€‚</li><li>System.getProperty(String key)ï¼š æ ¹æ®ä¸€ä¸ªé”®å€¼æ¥å–å¾—ä¸€ä¸ªPropertyã€‚</li><li>System.setProperty(String key, String value)ï¼š è®¾ç½®ç³»ç»Ÿçš„ä¸€ä¸ªPropertyã€‚</li></ul><p>JVMèµ·åŠ¨çš„æ—¶å€™å°†ä¼šæœ‰ä¸€äº›ç¼ºçœçš„Propertieså€¼ï¼Œ ä¾‹å¦‚ï¼š</p><ul><li>java.version Javaè¿è¡Œç¯å¢ƒç‰ˆæœ¬</li><li>java.home Javaä¸»ç›®å½• installation directory</li><li>java.class.path Java çš„class path</li><li>java.ext.dirs Javaçš„æ‰©å±•ç›®å½•è·¯å¾„</li><li>file.separator æ–‡ä»¶åˆ†éš”ç¬¦("/" on UNIX)</li><li>path.separator è·¯å¾„åˆ†éš”ç¬¦(":" on UNIX)</li><li>line.separator è¡Œåˆ†éš”ç¬¦ ("\n" on UNIX)</li><li>user.name ç”¨æˆ·å</li><li>user.home ç”¨æˆ·ä¸»ç›®å½•</li><li>user.dir ç”¨æˆ·å½“å‰å·¥ä½œç›®å½•</li></ul><p>æ›´è¯¦ç»†çš„ä¿¡æ¯è¯·å‚ç…§Java APIã€‚ å¦å¤–åœ¨èµ·åŠ¨ä¸€ä¸ªjavaç¨‹åºçš„æ—¶å€™å¯ä»¥é€šè¿‡-Dæ¥è®¾ç½®ç³»ç»Ÿçš„Propertyï¼Œ æ¯”å¦‚ java â€“Dejb.file=ejb_Test PrintTest åœ¨PrintTesté‡Œé¢å°±å¯ä»¥é€šè¿‡System.getProperty(â€œejb.fileâ€)æ¥å–å¾—å€¼ejb_Testã€‚</p><p><strong>2.5 å…¶å®ƒ</strong></p><ul><li>System. loadLibrary(String libname)ï¼š åŠ è½½nativeçš„åŠ¨æ€åº“ã€‚ å¯ä»¥ç”¨Cå†™JNIçš„åº“ï¼Œ ç„¶ååœ¨javaä¸­é€šè¿‡nativeæ–¹æ³•æ¥è°ƒç”¨ã€‚</li><li>System.setSecurityManager(SecurityManager s)</li><li>System.getSecurityManager()ï¼š è®¾ç½®ä¸å–å¾—ç³»ç»Ÿçš„security classã€‚</li></ul><h1 class=pgc-h-arrow-right>ä¸‰ã€String, StringBuffer</h1><p><strong>3.1 åŸºæœ¬ç”¨æ³•</strong></p><p>Stringå¯ä»¥è¯´æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„ä¸€ä¸ªç±»ï¼Œ ç†Ÿç»ƒæŒæ¡å®ƒçš„ä¸€äº›åŸºæœ¬ç”¨æ³•æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p><p>Stringæ˜¯ç”±ä¸€ç»„å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œ ä¸‹æ ‡ç”±0å¼€å§‹ã€‚ ä¸€æ—¦æœ‰å¿…è¦æ”¹å˜åŸæ¥çš„å†…å®¹ï¼Œ æ¯ä¸ªStringæ–¹æ³•éƒ½æœ‰è¿”å›äº†ä¸€ä¸ªæ–°çš„Stringå¯¹è±¡ã€‚</p><ul><li>char charAt(int index) è¿”å›æŒ‡å®šä½ç½®çš„å­—ç¬¦ã€‚</li><li>int compareTo(Object o)</li><li>int compareTo(String anotherString)</li></ul><p>ä¸å¦å¤–ä¸€ä¸ªå¯¹è±¡è¿›è¡Œæ¯”è¾ƒã€‚</p><ul><li>int compareToIgnoreCase(String str) ä¸å¦ä¸€ä¸ªStringè¿›è¡Œæ¯”è¾ƒï¼Œ ä¸åŒºåˆ†å¤§å°å†™</li><li>String concat(String str) è¿æ¥ä¸¤å­—ç¬¦ä¸²ï¼Œ å¯ä»¥ç›´æ¥ç”¨+ï¼Œ å› ä¸ºJavaç»™Stringè¦†ç›–äº†+</li><li>static String copyValueOf(char[] data)</li><li>static String copyValueOf(char[] data, int offset, int count)</li></ul><p>å°†dataæ•°ç»„è½¬æ¢è‡³String</p><ul><li>boolean endsWith(String suffix) æµ‹è¯•æ­¤Stringæ˜¯å¦ä»¥suffixç»“å°¾ã€‚</li><li>boolean startsWith(String prefix) æµ‹è¯•æ­¤Stringæ˜¯å¦ä»¥prefixå¼€å¤´ã€‚</li><li>boolean equals(Object anObject)</li><li>boolean equalsIgnoreCase(String anotherString)</li></ul><p>æ¯”è¾ƒä¸¤å­—ç¬¦ä¸²çš„å€¼ã€‚ ä¸ç›¸ç­‰åˆ™è¿”å›false</p><ul><li>byte[] getBytes() æ ¹æ®ç¼ºçœçš„å­—ç¬¦ç¼–ç å°†Stringè½¬æ¢æˆå­—èŠ‚æ•°ç»„ã€‚</li><li>byte[] getBytes(String enc) æ ¹æ®æŒ‡å®šçš„ç¼–ç å°†Stringè½¬æ¢ä¸‡å­—èŠ‚æ•°ç»„ã€‚</li><li>void getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin) æ‹·è´å­—ç¬¦è‡³ä¸€æ•°ç»„ä¸­</li><li>int indexOf(int ch) ä»å­—ä¸²çš„èµ·å§‹ä½ç½®æŸ¥æ‰¾å­—ç¬¦chç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</li><li>int indexOf(int ch, int fromIndex) ä»æŒ‡å®šçš„fromIndexä½ç½®å‘åæŸ¥æ‰¾ç¬¬ä¸€æ¬¡å‡ºç°chçš„ä½ç½®ï¼Œ</li><li>int indexOf(String str)</li><li>int indexOf(String str, int fromIndex)</li></ul><p>å¦‚æœä¸å­˜åœ¨chæˆ–stréƒ½è¿”å›-1</p><ul><li>int lastIndexOf(int ch) ä»å­—ä¸²çš„æœ€ç»ˆä½ç½®å¾€å‰æŸ¥æ‰¾ç¬¬ä¸€æ¬¡å‡ºç°chçš„ä½ç½®</li><li>int lastIndexOf(int ch, int fromIndex) ä»æŒ‡å®šçš„ä½ç½®å¾€å‰æŸ¥æ‰¾ç¬¬ä¸€æ¬¡å‡ºç°chçš„ä½ç½®ï¼Œ</li><li>int lastIndexOf(String str)</li><li>int lastIndexOf(String str, int fromIndex)</li></ul><p>å¦‚æœä¸å­˜åœ¨åˆ™è¿”å›-1</p><ul><li>int length() è¯¥å­—ç¬¦ä¸²çš„å­—ç¬¦é•¿åº¦ï¼ˆä¸€ä¸ªå…¨è§’çš„æ±‰å­—é•¿åº¦ä¸º1ï¼‰</li><li>String replace(char oldChar, char newChar) å°†å­—ç¬¦oldCharå…¨éƒ¨æ›¿æ¢ä¸ºnewCharï¼Œ è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚</li><li>String substring(int beginIndex) è¿”å›ä»beginIndexå¼€å§‹çš„å­—ç¬¦ä¸²å­é›†</li><li>String substring(int beginIndex, int endIndex) è¿”å›ä»beginIndexè‡³endIndexç»“æŸçš„å­—ç¬¦ä¸²çš„å­é›†ã€‚ å…¶ä¸­endIndex â€“ beginIndexç­‰äºå­é›†çš„å­—ç¬¦ä¸²é•¿åº¦</li><li>char[] toCharArray() è¿”å›è¯¥å­—ç¬¦ä¸²çš„å†…éƒ¨å­—ç¬¦æ•°ç»„</li><li>String toLowerCase() è½¬æ¢è‡³å°å†™å­—æ¯çš„å­—ç¬¦ä¸²</li><li>String toLowerCase(Locale locale)</li><li>String toUpperCase() è½¬æ¢è‡³å¤§å†™å­—æ¯çš„å­—ç¬¦ä¸²</li><li>String toUpperCase(Locale locale)</li><li>String toString() è¦†ç›–äº†Objectçš„toStringæ–¹æ³•ï¼Œ è¿”å›æœ¬èº«ã€‚</li><li>String trim() å°†å­—ç¬¦ä¸²ä¸¤è¾¹çš„åŠè§’ç©ºç™½å­—ç¬¦å»æ‰ï¼Œ å¦‚æœéœ€è¦å»æ‰å…¨è§’çš„ç©ºç™½å­—ç¬¦å¾—è¦è‡ªå·±å†™ã€‚</li><li>static String valueOf(primitive p) å°†å…¶å®ƒçš„ç®€å•ç±»å‹çš„å€¼è½¬æ¢ä¸ºä¸€ä¸ªString</li></ul><p>StingBufferæ˜¯ä¸€ä¸ªå¯å˜çš„å­—ç¬¦ä¸²ï¼Œå®ƒå¯ä»¥è¢«æ›´æ”¹ã€‚åŒæ—¶StringBufferæ˜¯Thread safeçš„ï¼Œ ä½ å¯ä»¥æ”¾å¿ƒçš„ä½¿ç”¨ï¼Œ å¸¸ç”¨çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li>StringBuffer append(param) åœ¨StringBufferå¯¹è±¡ä¹‹åè¿½åŠ param(å¯ä»¥ä¸ºæ‰€æœ‰çš„ç®€å•ç±»å‹å’ŒObject) è¿”å›è¿½åŠ åçš„StringBufferï¼Œ ä¸åŸæ¥çš„å¯¹è±¡æ˜¯åŒä¸€ä»½ã€‚</li><li>char charAt(int index) è¿”å›æŒ‡å®šä½ç½®indexçš„å­—ç¬¦ã€‚</li><li>StringBuffer delete(int start, int end) åˆ é™¤æŒ‡å®šåŒºåŸŸstart~endçš„å­—ç¬¦ã€‚</li><li>StringBuffer deleteCharAt(int index) åˆ é™¤æŒ‡å®šä½ç½®indexçš„å­—ç¬¦ã€‚</li><li>void getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin) åŒStringçš„getCharsæ–¹æ³•</li><li>StringBuffer insert(int offset, boolean b) åœ¨æŒ‡å®šä½ç½®offsetæ’å…¥param(ä¸ºæ‰€æœ‰çš„ç®€å•ç±»å‹ä¸Object)</li><li>int length() åŒStringçš„length()</li><li>StringBuffer replace(int start, int end, String str) å°†æŒ‡å®šåŒºåŸŸstart~endçš„å­—ç¬¦ä¸²æ›¿æ¢ä¸ºstr</li><li>StringBuffer reverse() åè½¬å­—ç¬¦çš„é¡ºåº</li><li>void setCharAt(int index, char ch) è®¾ç½®å­—ç¬¦chè‡³indexä½ç½®ã€‚</li><li>String substring(int start)</li><li>String substring(int start, int end) åŒStringçš„subString</li><li>String toString() è¿”å›ä¸€ä¸ªString</li></ul><p>å¤§å®¶å¯èƒ½å·²ç»æ³¨æ„åˆ°å¾ˆå¤šæ–¹æ³•éƒ½è¿”å›äº†ä¸€ä¸ªStringBufferå¯¹è±¡ï¼Œ ä½†è¿”å›çš„è¿™ä¸ªå¯¹è±¡ä¸Stringçš„æ–¹æ³•è¿”å›çš„Stringä¸ä¸€æ ·ï¼Œ è¿”å›çš„StringBufferå¯¹è±¡ä¸è¢«æ“ä½œçš„StringBufferå¯¹è±¡æ˜¯åŒä¸€ä»½ï¼Œ è€ŒStringçš„æ–¹æ³•è¿”å›çš„Stringåˆ™è‚¯å®šæ˜¯é‡æ–°ç”Ÿæˆçš„ä¸€ä¸ªStringã€‚</p><p><strong>3.2 æ€§èƒ½å¯¹æ¯”</strong></p><p>å› ä¸ºStringè¢«è®¾è®¡æˆä¸€ç§å®‰å…¨çš„å­—ç¬¦ä¸²ï¼Œ é¿å…äº†C/C++ä¸­çš„å°´å°¬ã€‚å› æ­¤åœ¨å†…éƒ¨æ“ä½œçš„æ—¶å€™ä¼šé¢‘ç¹çš„è¿›è¡Œå¯¹è±¡çš„äº¤æ¢ï¼Œ å› æ­¤å®ƒçš„æ•ˆç‡ä¸å¦‚StringBufferã€‚ å¦‚æœéœ€è¦é¢‘ç¹çš„è¿›è¡Œå­—ç¬¦ä¸²çš„å¢åˆ æ“ä½œçš„è¯æœ€å¥½ç”¨StringBufferã€‚ æ¯”å¦‚æ‹¼SQLæ–‡ï¼Œ å†™å…±å‡½ã€‚ å¦ï¼š ç¼–ç»å™¨å¯¹Stringçš„+æ“ä½œè¿›è¡Œäº†ä¸€å®šçš„ä¼˜åŒ–ã€‚</p><pre><code>x = "a" + 4 + "c"</code></pre><p>ä¼šè¢«ç¼–ç»æˆ</p><pre><code>x = new StringBuffer().append("a").append(4).append("c").toString()</code></pre><p>ä½†ï¼š</p><pre><code>x = â€œaâ€;x = x + 4;x = x + â€œcâ€;</code></pre><p>åˆ™ä¸ä¼šè¢«ä¼˜åŒ–ã€‚ å¯ä»¥çœ‹å‡ºå¦‚æœåœ¨ä¸€ä¸ªè¡¨è¾¾å¼é‡Œé¢è¿›è¡ŒStringçš„å¤šæ¬¡+æ“ä½œä¼šè¢«ä¼˜åŒ–ï¼Œ è€Œå¤šä¸ªè¡¨è¾¾å¼çš„+æ“ä½œä¸ä¼šè¢«ä¼˜åŒ–ã€‚</p><p><strong>3.3 æŠ€å·§</strong></p><p>â‘ . åœ¨Servlet2.3ä¸JSP1.1ä»¥å‰ç”»é¢poståˆ°åå°çš„æ•°æ®æ˜¯é€šè¿‡ISO88591æ ¼å¼è¿›è¡Œç¼–ç çš„ï¼Œ åˆ™å½“é‡åˆ°å…¨è§’æ—¥æ–‡å­—çš„æ—¶å€™, åœ¨åå°requestå¾—åˆ°çš„æ•°æ®å¯èƒ½å°±æ˜¯ä¹±ç , è¿™ä¸ªæ—¶å€™å°±å¾—è‡ªå·±è¿›è¡Œç¼–ç è½¬æ¢, é€šè¿‡String.getBytes(String enc)æ–¹æ³•å¾—åˆ°ä¸€ä¸ªå­—èŠ‚æµ, ç„¶åé€šè¿‡String(byte[] bytes, String enc)è¿™ä¸ªæ„é€ å‡½æ•°å¾—åˆ°ä¸€ä¸ªç”¨æ–°çš„ç¼–ç ç”Ÿæˆçš„å­—ç¬¦ä¸². ä¾‹å¦‚å°†ISO88591çš„å­—ç¬¦ä¸²è½¬æ¢æˆShift_JISçš„å­—ç¬¦ä¸², æ–¹æ³•å¦‚ä¸‹:</p><pre><code>public static String convertString(String str) {	if (str == null) {		return null;	}	try {		byte[] buf = str.getBytes("ISO8859_1");		return new String(buf, "Shift_JIS");	}	catch (Exception ex) {		ex.printStackTrace();		return null;	}}</code></pre><p>ä¸è¿‡åœ¨æœ€æ–°çš„Servlet2.3ä¸Jsp1.2ä¸­å¯ä»¥é€šè¿‡request.setCharacterEncodingæ¥è¿›è¡Œè®¾ç½®å–å€¼çš„ç åˆ¶, ä¸éœ€è¦è‡ªå·±å†åšè½¬æ¢ã€‚</p><p>â‘¡. å› ä¸ºJavaåœ¨è®¡ç®—Stringçš„é•¿åº¦æ˜¯ä»¥å­—ç¬¦ä¸ºå•ä½çš„ï¼Œ å› æ­¤ä¸€ä¸ªå…¨è§’ä¸åŠè§’çš„å­—ç¬¦é•¿åº¦æ˜¯ä¸€æ ·çš„ï¼Œ ä½†æ˜¯DBä¸­å¾€å¾€æ˜¯æ ¹æ®å­—èŠ‚æ¥è®¡ç®—é•¿åº¦çš„ï¼Œ å› æ­¤æˆ‘ä»¬åœ¨åšCheckçš„æ—¶å€™å¾—è¦åˆ¤æ–­Stringçš„å­—èŠ‚é•¿ï¼Œ å¯ä»¥ç”¨ä»¥ä¸‹çš„æ–¹æ³•ï¼š</p><pre><code>public static String length(String str) {	if (str == null) {		return 0;	}	return str.getBytes().length;}</code></pre><h1 class=pgc-h-arrow-right>å››ã€æ•°å€¼ï¼Œå­—ç¬¦ï¼Œå¸ƒå°”å¯¹è±¡ä¸ç®€å•ç±»å‹çš„æ“ä½œ</h1><p>ç®€å•çš„å¯¹ç…§è¡¨å¦‚ä¸‹ï¼š</p><p><br></p><div class=pgc-img><img alt=Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ„å¸ˆçš„ä¸¤ä¸‡å­—æ€»ç»“ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a7567f0bc0694fd0ad5ba0987efc07ce><p class=pgc-img-caption></p></div><p><br></p><p>ä¸Cç­‰å…¶å®ƒè¯­è¨€ä¸åŒçš„æ˜¯æ•°å€¼çš„èŒƒå›´ä¸éšå¹³å°çš„æ”¹å˜è€Œæ”¹å˜ï¼Œ è¿™å°±ä¿è¯äº†å¹³å°ä¹‹é—´çš„ç»Ÿä¸€æ€§ï¼Œæé«˜äº†å¯ç§»æ¤æ€§ã€‚</p><p>Number: Numberæœ¬èº«æ˜¯ä¸ªæŠ½è±¡ç±»ï¼Œ ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œ æ‰€æœ‰ç›´æ¥ä»Numberç»§æ‰¿ä¸‹æ¥çš„å­ç±»éƒ½æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š</p><ul><li>byte byteValue() è¿”å›å­—èŠ‚å€¼</li><li>double doubleValue() è¿”å›doubleå€¼</li><li>float floatValue() è¿”å›floatå€¼</li><li>int intValue() è¿”å›floatå€¼</li><li>long longValue() è¿”å›longå€¼</li><li>short shortValue() è¿”å›shortå€¼</li></ul><p>åœ¨éœ€è¦é€šè¿‡Objectæ¥å–å¾—ç®€å•æ•°æ®ç±»å‹çš„å€¼çš„æ—¶å€™å°±å¾—ç”¨åˆ°ä»¥ä¸Šçš„æ–¹æ³•ï¼Œ ä¸è¿‡æˆ‘ä¸æ¨èä¸åŒç±»å‹ä¹‹é—´çš„å–å€¼ï¼Œ æ¯”å¦‚Longå‹çš„Objectä¸è¦ç›´æ¥å»è°ƒç”¨intValue()ï¼Œç²¾åº¦å¯èƒ½ä¼šä¸¢å¤±ã€‚</p><p>å¦‚æœæƒ³é€šè¿‡Stringæ¥å¾—åˆ°ä¸€ä¸ªæ•°å€¼ç±»å‹çš„ç®€å•ç±»å‹å€¼ï¼Œ ä¸€èˆ¬åœ¨æ¯ä¸ªNumberçš„ç±»é‡Œé¢éƒ½æœ‰ä¸€ä¸ªparseXXX(String)çš„é™æ€æ–¹æ³•ï¼Œ å¦‚ä¸‹ï¼š</p><ul><li>byte Byte.parseByte(String s)</li><li>double Double.parseDouble(String s)</li><li>float Float.parseFloat(String s)</li><li>int Integer.parseInt(String s)</li><li>long Long.parseLong(String s)</li><li>short Short.parseShort(String s)</li></ul><p>å¦‚æœæƒ³ç›´æ¥ä»Stringå¾—åˆ°ä¸€ä¸ªNumberå‹çš„Objectï¼Œåˆ™æ¯ä¸ªNumberç±»é‡Œé¢éƒ½æœ‰valueOf(String s) è¿™ä¸ªé™æ€æ–¹æ³•ã€‚å¦‚ï¼š</p><ul><li>Byte Byte.valueOf(String s)</li><li>Double Double.valueOf(String s)</li><li>Float Float.valueOf(String s)</li><li>Integer Integer.valueOf(String s)</li><li>Long Long.valueOf(String s)</li><li>Short Short.valueOf(String s)</li></ul><p>ä¸€èˆ¬çš„åœ¨æ„é€ ä¸€ä¸ªNumberçš„æ—¶å€™éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªStringæ¥å®Œæˆï¼Œ æ¯”å¦‚ï¼š</p><pre><code>Long longObject = new Long(â€œ1234567890â€);</code></pre><p>ç­‰ä»·äº</p><pre><code>Long longObject = Long.valueOf(â€œ1234567890â€);</code></pre><p>å› ä¸ºæ¯ä¸ªNumberçš„å­ç±»éƒ½å®ç°äº†Objectçš„toString()æ–¹æ³•ï¼Œ æ‰€ä»¥ï¼Œ å¦‚æœæƒ³å¾—åˆ°ä¸€ä¸ªStringå‹çš„æ•°å€¼ï¼Œ ç›´æ¥è°ƒç”¨XXX.toString()å°±å¯ä»¥äº†ã€‚ å¦‚æœæƒ³å¾—åˆ°ä¸€ä¸ªç®€å•ç±»å‹çš„Stringï¼Œ æ–¹æ³•å¾ˆå¤šæ€»ç»“å¦‚ä¸‹ï¼š</p><ul><li>é¦–å…ˆç”Ÿæˆå¯¹åº”çš„Number Objectç±»å‹ï¼Œ ç„¶åè°ƒç”¨toString()</li><li>è°ƒç”¨Numberå­ç±» .toString(type t) å…¶ä¸­tå°±æ˜¯ç®€å•ç±»å‹çš„æ•°æ®ã€‚</li><li>è°ƒç”¨String.valueOf(type t) ï¼ˆæ¨èä½¿ç”¨è¿™ç§æ–¹æ³•ï¼‰</li></ul><p>å¤§å®¶å¯ä»¥çœ‹å‡ºï¼Œ å¾€å¾€ä¸€ç§ç»“æœå¯ä»¥ç”¨å¤šç§æ–¹æ³•å®ç°ï¼Œ æ€»çš„åŸåˆ™å°±æ˜¯æ·±åº¦æœ€å°‘ä¼˜å…ˆã€‚æ¯”å¦‚ç”±ä¸€ä¸ªStringå¾—åˆ°ä¸€ä¸ªç®€å•ç±»å‹çš„å€¼å¯ä»¥æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼š</p><pre><code>Integer.parseInt(â€œ12345â€);</code></pre><p>æˆ–</p><pre><code>(new Integer(s)).intValue(â€œ12345â€);</code></pre><p>å½“ç„¶åº”è¯¥ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•ã€‚</p><p><strong>Character</strong>: Characterå¯¹åº”ç€charç±»å‹ï¼Œ Characterç±»é‡Œé¢æœ‰å¾ˆå¤šé™æ€çš„æ–¹æ³•æ¥å¯¹charè¿›è¡Œåˆ¤æ–­æ“ä½œï¼Œ è¯¦ç»†çš„æ“ä½œè¯·å‚ç…§JDK APIã€‚ Javaå¯¹å­—ç¬¦çš„åˆ¤æ–­æ“ä½œåŸºæœ¬éƒ½æ˜¯ä»¥Unicodeè¿›è¡Œçš„ï¼Œ æ¯”å¦‚Character.isDigit(char ch)è¿™ä¸ªæ–¹æ³•ï¼Œ ä¸å…‰åŠè§’çš„0-9ç¬¦åˆè¦æ±‚ï¼Œ å…¨è§’çš„æ—¥æ–‡0-9ä¹Ÿæ˜¯ç¬¦åˆè¦æ±‚çš„ã€‚</p><p><strong>Boolean</strong>: Booleanå¯¹åº”ç€booleanç±»å‹ï¼Œ booleanåªæœ‰trueå’Œfalseä¸¤ä¸ªå€¼ï¼Œ ä¸èƒ½ä¸å…¶å®ƒæ•°å€¼ç±»å‹äº’æ¢ï¼Œ å¯ä»¥é€šè¿‡å­—ç¬¦ä¸²â€trueâ€ä»¥åŠâ€falseâ€æ¥å¾—åˆ°Objectçš„Booleanï¼Œ ä¹Ÿå¯ä»¥é€šè¿‡ç®€å•ç±»å‹çš„booleanå¾—åˆ°Booleanï¼Œ å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li>Boolean(boolean value) é€šè¿‡ç®€å•ç±»å‹çš„booleanæ„é€ Boolean</li><li>Boolean(String s) é€šè¿‡String(â€œtrueâ€, â€œfalseâ€)æ„é€ Boolean</li><li>boolean booleanValue() ç”±Objectçš„Booleanå¾—åˆ°ç®€å•ç±»å‹çš„booleanå€¼</li><li>boolean equals(Object obj) è¦†ç›–äº†Objectçš„.equalsæ–¹æ³•ï¼Œ Objectå€¼æ¯”è¾ƒ</li><li>static Boolean valueOf(String s) åŠŸèƒ½ä¸æ„é€ å‡½æ•°Boolean(String s)ä¸€æ ·</li></ul><h1 class=pgc-h-arrow-right>äº”ã€Class, ClassLoader</h1><p>Javaæ˜¯ä¸€ç§ä»‹äºè§£é‡Šä¸ç¼–ç»ä¹‹é—´çš„è¯­è¨€ï¼Œ Javaä»£ç é¦–å…ˆç¼–ç»æˆå­—èŠ‚ç ï¼Œ åœ¨è¿è¡Œçš„æ—¶å€™å†ç¿»è¯‘æˆæœºå™¨ç ã€‚ è¿™æ ·åœ¨è¿è¡Œçš„æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡Javaæä¾›çš„åå°„æ–¹æ³•(reflect)æ¥å¾—åˆ°ä¸€ä¸ªObjectçš„Classçš„é¢å¤–ä¿¡æ¯ï¼Œ çµæ´»æ€§å¾ˆå¤§ï¼Œå¯ä»¥ç®€åŒ–å¾ˆå¤šæ“ä½œã€‚</p><p>Class: ä»»ä½•ä¸€ä¸ªObjectéƒ½èƒ½é€šè¿‡getClass()è¿™ä¸ªæ–¹æ³•å¾—åˆ°å®ƒåœ¨è¿è¡ŒæœŸé—´çš„Classã€‚ å¾—åˆ°è¿™ä¸ªClassä¹‹åå¯åšçš„äº‹æƒ…å°±å¤šäº†ï¼Œ æ¯”å¦‚åŠ¨æ€å¾—åˆ°å®ƒçš„æ„é€ å‡½æ•°ï¼Œ æˆå‘˜å˜é‡ï¼Œ æ–¹æ³•ç­‰ç­‰ã€‚ è¿˜å¯ä»¥å†ç”Ÿæˆä¸€ä»½æ–°çš„å®ä¾‹ï¼Œ ä¸‹é¢åªç»™å‡ºå‡ ä¸ªæˆ‘ä»¬å¸¸ç”¨çš„æ–¹æ³•ï¼Œ æ›´è¯¦ç»†çš„ç”¨æ³•å‚ç…§Java API</p><ul><li>Class Class.forName(String className) throws ClassNotFoundExceptionï¼š è¿™æ˜¯ä¸ªé™æ€æ–¹æ³•ï¼Œ é€šè¿‡ä¸€ä¸ªClassçš„å…¨ç§°æ¥å¾—åˆ°è¿™ä¸ªClassã€‚</li><li>String getName() å–å¾—è¿™ä¸ªClassçš„å…¨ç§°ï¼Œ åŒ…æ‹¬packageåã€‚</li><li>Object newInstance() å¾—åˆ°ä¸€ä¸ªå®ä¾‹ï¼Œ è°ƒç”¨ç¼ºçœçš„æ„é€ å‡½æ•°ã€‚</li></ul><p>ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªç±»ï¼š com.some.util.MyClass å¦‚æœå¾—åˆ°å®ƒçš„ä¸€ä¸ªå®ä¾‹å‘¢ï¼Ÿ å¯èƒ½æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼š</p><pre><code>MyClass myClass = new MyClass()ï¼Œ ç›´æ¥é€šè¿‡æ“ä½œç¬¦newç”Ÿæˆï¼›</code></pre><p>æˆ–è€…ï¼š</p><pre><code>MyClass myClass =  (MyClass) Class.forName(â€œcom.some.util.MyClassâ€).newInstance();</code></pre><p>ä¹Ÿè®¸æœ‰äººå°±ä¼šæ€€ç–‘ç¬¬äºŒç§æ–¹æ³•å®é™…æ„ä¹‰ï¼Œ èƒ½å¤Ÿç›´æ¥newå‡ºæ¥å¹²å˜›ç»•å¼¯ã€‚ ä½†å®é™…ä¸Šå®ƒçš„ç”¨å¤„å´å¾ˆå¤§ï¼Œ ä¸¾ä¸ªä¾‹å­ï¼š ç”¨è¿‡strutsçš„äººéƒ½çŸ¥é“ï¼Œ åœ¨action-config.xmlå½“ä¸­å®šä¹‰äº†ä¸€ç³»åˆ—çš„formBeanä¸actionBeanï¼Œ å½“ç„¶æ¯ä¸ªformä¸actionéƒ½å…·æœ‰åŒç±»å‹ï¼Œ è¿™æ ·åœ¨ä¸€ä¸ªrequestè¿‡æ¥çš„æ—¶å€™æˆ‘å¯ä»¥åŠ¨æ€çš„ç”Ÿæˆä¸€ä¸ªformä¸actionçš„å®ä¾‹è¿›è¡Œå…·ä½“çš„æ“ä½œï¼Œ ä½†åœ¨ç¼–ç çš„æ—¶å€™æˆ‘å¹¶ä¸çŸ¥é“å…·ä½“æ˜¯ä½•ç§çš„formä¸actionï¼Œ æˆ‘åªè°ƒç”¨å®ƒä»¬çˆ¶ç±»çš„æ–¹æ³•ã€‚ ä½ å¦‚æœè¦ç”¨ç¬¬ä¸€ç§æ–¹æ³•çš„è¯ï¼Œ ä½ å¾—åœ¨ç¼–ç çš„æ—¶å€™é€šè¿‡ä¸€ä¸ªæ ‡å¿—æ¥åˆ¤æ–­æ¯ä¸€æ¬¡requestéœ€è¦å…·ä½“ç”Ÿæˆçš„formä¸actionï¼Œ ä»£ç çš„çµæ´»æ€§å¤§å¤§é™ä½ã€‚ æ€»çš„æ¥è¯´åœ¨é¢å‘æ¥å£çš„ç¼–ç¨‹å½“ä¸­ç»å¸¸ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œ æ¯”å¦‚ä¸åŒæ•°æ®åº“å‚å®¶çš„JDBC Driveréƒ½æ˜¯ä»æ ‡å‡†çš„JDBCæ¥å£ç»§æ‰¿ä¸‹å»çš„ï¼Œ æˆ‘ä»¬åœ¨å†™ç¨‹åºçš„æ—¶å€™ç”¨ä¸ç€ç®¡æœ€ç»ˆæ˜¯ä½•ç§çš„Driverï¼Œ åªæœ‰åœ¨è¿è¡Œçš„æ—¶å€™ç¡®å®šã€‚ è¿˜æœ‰XMLçš„Parserä¹Ÿæ˜¯ï¼Œ æˆ‘ä»¬ä½¿ç”¨çš„åªæ˜¯æ ‡å‡†çš„æ¥å£ï¼Œ æœ€ååˆ°åº•æ˜¯è°æ¥å®ç°å®ƒçš„ï¼Œ æˆ‘ä»¬ç”¨ä¸ç€å»ç®¡ã€‚</p><p>ClassLoader: ClassLoaderæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸€èˆ¬çš„ç³»ç»Ÿæœ‰ä¸€ä¸ªç¼ºçœçš„ClassLoaderç”¨æ¥è£…è½½Classï¼Œ ç”¨ClassLoader.getSystemClassLoader()å¯ä»¥å¾—åˆ°ã€‚ä¸è¿‡æœ‰æ—¶å€™ä¸ºäº†å®‰å…¨æˆ–æœ‰å…¶å®ƒçš„ç‰¹æ®Šéœ€è¦æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰è‡ªå·±çš„ClassLoaderæ¥è¿›è¡Œloaderä¸€äº›æˆ‘ä»¬éœ€è¦çš„Classï¼Œ æ¯”å¦‚æœ‰çš„äº§å“å®ƒç”¨äº†è‡ªå·±çš„ClassLoaderå¯ä»¥æŒ‡å®šClassåªä»å®ƒæŒ‡å®šçš„ç‰¹å®šçš„JARæ–‡ä»¶é‡Œé¢æ¥loaderï¼Œå¦‚æœä½ æƒ³é€šè¿‡è¦†ç›–ClassPathæ–¹æ³•æ¥æƒ³è®©å®ƒç”¨ä½ çš„Classæ˜¯è¡Œä¸é€šçš„ã€‚ æœ‰å…´è¶£çš„å¯ä»¥å‚ç…§Java API çš„æ›´è¯¦ç»†çš„ç”¨æ³•è¯´</p><h1 class=pgc-h-arrow-right>å…­ã€Java IOç³»ç»Ÿ</h1><p><strong>6.1 JDK1.0è¾“å…¥æµ</strong></p><pre><code>InputStreamByteArrayInputStreamFileInputStreamFilterInputStreamObjectInputStreamPipedInputStreamSequenceInputStreamBufferedInputStreamDataInputStreamPushbackInputStreamLineNumberInputStream</code></pre><p><strong>6.2 JDK1.1è¾“å…¥æµ</strong></p><pre><code>ReaderBufferedReaderFilterReaderPipedReaderStringReaderInputStreamReaderCharArrayReaderFileReaderPushbackReaderLineNumberReader</code></pre><p><strong>6.3 JDK1.0è¾“å‡ºæµ</strong></p><pre><code>OutputStreamBufferedOutputStreamDataOutputStreamPrintStreamByteArrayOutputStreamFileOutputStreamFilterOutputStreamObjectOutputStreamPipedOutputStream</code></pre><p><strong>6.4 JDK1.1è¾“å‡ºæµ</strong></p><pre><code>WriterBufferedWriterFilterWriterPipedWriterStringWriterFileWriterPrintWriterOutputStreamWriterCharArrayWriter</code></pre><p>å¦‚æœä½ åˆšåˆšæ¥è§¦Javaçš„IOéƒ¨åˆ†ï¼Œ ä½ å¯èƒ½ä¼šæ„Ÿè§‰æ— ä»å…¥æ‰‹ï¼Œ ç¡®å®Javaæä¾›äº†è¿‡å¤šçš„ç±»ï¼Œåè€Œè®©äººæ„Ÿåˆ°å¾ˆä¹±ã€‚</p><p>å¯å°†Javaåº“çš„IOç±»åˆ†ä¸ºè¾“å…¥ä¸è¾“å‡ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œ åœ¨1.0ç‰ˆæœ¬ä¸­æä¾›äº†ä¸¤ä¸ªæŠ½è±¡åŸºç±»ï¼Œ æ‰€æœ‰è¾“å…¥çš„ç±»éƒ½ä»InputStreamç»§æ‰¿ï¼Œ æ‰€æœ‰è¾“å‡ºçš„ç±»éƒ½ä»OutputStreamç»§æ‰¿ï¼Œ 1.1æä¾›äº†ä¸¤ä¸ªæ–°çš„åŸºç±»ï¼Œ è´Ÿè´£è¾“å…¥çš„Readerä¸è¾“å‡ºçš„Writerï¼Œ ä½†å®ƒä»¬å¹¶ä¸æ˜¯ç”¨æ¥æ›¿æ¢åŸæ¥è€çš„InputStreamä¸OutputStreamï¼Œ å®ƒä»¬ä¸»è¦æ˜¯è®©Javaèƒ½æ›´å¥½çš„æ”¯æŒå›½é™…åŒ–çš„éœ€æ±‚ã€‚ åŸæ¥è€çš„IOæµå±‚åªæ”¯æŒ8ä½å­—èŠ‚æµï¼Œ ä¸èƒ½å¾ˆå¥½åœ°æ§åˆ¶16ä½Unicodeå­—ç¬¦ã€‚ Javaå†…å«çš„charæ˜¯16ä½çš„Unicodeï¼Œ æ‰€ä»¥æ·»åŠ äº†Readerå’ŒWriterå±‚æ¬¡ä»¥æä¾›å¯¹æ‰€æœ‰IOæ“ä½œä¸­çš„Unicodeçš„æ”¯æŒã€‚ é™¤æ­¤ä¹‹å¤–æ–°åº“ä¹Ÿå¯¹é€Ÿåº¦è¿›è¡Œäº†ä¼˜åŒ–ï¼Œ å¯æ¯”æ—§åº“æ›´å¿«åœ°è¿è¡Œã€‚</p><p><strong>6.5 InputStreamçš„ç±»å‹</strong>ï¼š</p><ol start=1><li>å­—èŠ‚æ•°ç»„</li><li>Stringå¯¹è±¡</li><li>æ–‡ä»¶</li><li>ç®¡é“ï¼Œ å¯ä»¥ä»å¦å¤–ä¸€ä¸ªè¾“å‡ºæµå¾—åˆ°ä¸€ä¸ªè¾“å…¥æµ</li><li>ä¸€ç³»åˆ—çš„å…¶ä»–æµï¼Œ å¯ä»¥å°†è¿™äº›æµç»Ÿä¸€æ”¶é›†åˆ°å•ç‹¬çš„ä¸€ä¸ªæµå†…ã€‚</li><li>å…¶ä»–èµ·æºï¼ˆå¦‚socketæµç­‰ï¼‰</li></ol><p>è¿˜æœ‰ä¸€ä¸ªæ˜¯Fileç±»ï¼Œ Javaä¸­ä¸€ä¸ªç›®å½•ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç”¨file.isFile()å’Œfile.isDirectory()æ¥è¿›è¡Œåˆ¤æ–­æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•ã€‚ File å¯¹è±¡å¯èƒ½ä½œä¸ºå‚æ•°è½¬æ¢ä¸ºæ–‡ä»¶æµè¿›è¡Œæ“ä½œã€‚ å…·ä½“æ“ä½œå‚ç…§Java IO APIã€‚</p><p><strong>6.6 å¸¸ç”¨æ–¹æ³•</strong>ï¼š</p><pre><code>/** * æ‹¼æ–‡ä»¶å, åœ¨windows()è·Ÿunix(/)ä¸Šçš„æ–‡ä»¶åˆ†å‰²ç¬¦æ˜¯ä¸ä¸€æ ·çš„ * å¯ä»¥é€šè¿‡Fileç±»çš„é™æ€æˆå‘˜å˜é‡separatorå–å¾— */public static String concatFileName(String dir, String fileName) {	String fullFileName = "";	if (dir.endsWith(File.separator)) {		fullFileName = dir + fileName;	} else {		fullFileName = dir + File.separator + fileName;	}	return fullFileName;}/** * ä»æ§åˆ¶å°è¯»å–è¾“å…¥çš„æ•°æ®, System.in (InputStream) å…ˆè½¬æ¢è‡³InputStreamReaderå†ç”¨ * BufferedReaderè¿›è¡Œè¯»å–. * */BufferedReader in = new BufferedReader(new InputStreamReader(System.in));String str = "";while (str != null) {	str = in.readLine();	// process(str); }	/** * ä»æ–‡ä»¶ä¸­æŒ‰è¡Œè¿›è¡Œè¯»å–æ•°æ®å¤„ç† */	BufferedReader in = new BufferedReader(new FileReader("infilename"));	String str;	while ((str = in.readLine()) != null) {		// process(str); }		in.close();		/** * å†™æ•°æ®è‡³ä¸€ä¸ªæ–°çš„æ–‡ä»¶ä¸­å». */		BufferedWriter out = new BufferedWriter(new FileWriter("outfilename"));		out.write("a String");		out.close();		/** * è¿½åŠ æ–°çš„æ•°æ®åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­å», å¦‚æœåŸæ–‡ä»¶ä¸å­˜åœ¨ * åˆ™æ–°å»ºè¿™ä¸ªæ–‡ä»¶. */		BufferedWriter out = new BufferedWriter(new FileWriter("filename", true));		out.write("aString");		out.close();		/** * å°†ä¸€ä¸ªå¯åºåˆ—åŒ–çš„Javaçš„objectä»¥æµæ–¹å¼å†™åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­å»ä¸­. */		ObjectOutput out = new ObjectOutputStream(new FileOutputStream("filename.ser"));		out.writeObject(object);		out.close();		/** * ä»æ–‡ä»¶ä¸­æ¢å¤åºåˆ—åŒ–è¿‡çš„Java Object */		ObjectInputStream in = new ObjectInputStream(new FileInputStream("filename.ser"));		Object object = (Object) in.readObject();		in.close();		/** * ä»¥æŒ‡å®šçš„ç¼–ç æ–¹å¼ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ® */		BufferedReader in = new BufferedReader(new InputStreamReader(							 new FileInputStream("infilename"), "UTF8"));		String str = in.readLine();		/** * ä»¥æŒ‡å®šçš„ç¼–ç æ–¹å¼å†™æ•°æ®åˆ°æ–‡ä»¶ä¸­ */		Writer out = new BufferedWriter(new OutputStreamWriter(									new FileOutputStream("outfilename"), "UTF8"));		out.write("a String");		out.close();</code></pre><p>ç”±ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œ æµä¹‹é—´å¯ä»¥äº’ç›¸è½¬æ¢ï¼Œ å¦‚æœæƒ³å¯¹æµè¿›è¡Œå­—ç¬¦æ“ä½œæœ€å¥½å°†ä¹‹è½¬æ¢æˆBufferedReaderä¸BufferedWriterè¿™æ ·å¯ä»¥æé«˜è¯»å†™çš„æ•ˆç‡ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸€èˆ¬æ¥è¯´æµçš„å¤§å°æ˜¯å¾—ä¸åˆ°çš„ï¼Œ è™½ç„¶ä¸€èˆ¬çš„InputStreaméƒ½æœ‰ä¸€ä¸ªavailable()çš„æ–¹æ³•å¯ä»¥è¿”å›è¿™ä¸ªæµå¯ä»¥è¯»åˆ°çš„å­—èŠ‚æ•°ï¼Œ ä¸è¿‡è¿™ä¸ªæ–¹æ³•æœ‰æ—¶å€™ä¸ä¼šå¾ˆå‡†ç¡®ï¼Œ æ¯”å¦‚åœ¨è¯»å–ç½‘ç»œä¼ è¾“çš„æµçš„æ—¶å€™ï¼Œ å–åˆ°çš„é•¿åº¦å¹¶ä¸ä¸€å®šæ˜¯çœŸå®æœ‰æ•ˆçš„é•¿åº¦ã€‚</p><p>å¤§å®¶åœ¨å†™ç¨‹åºçš„æ—¶å€™å¯èƒ½å·²ç»æ³¨æ„åˆ°ä¸€äº›ç±»éƒ½ç»§æ‰¿äº†java.io.Serializableè¿™ä¸ªæ¥å£ï¼Œ å…¶å®ç»§æ‰¿äº†è¿™ä¸ªæ¥å£ä¹‹åè¿™ä¸ªç±»çš„æœ¬èº«å¹¶ä¸åšä»»ä½•äº‹æƒ…ï¼Œ åªæ˜¯è¿™ä¸ªç±»å¯ä»¥è¢«åºåˆ—åŒ–å¹¶é€šè¿‡æµæ¥è¿›è¡Œä¼ è¾“ï¼Œ å¹¶å¯è¢«è¿˜åŸæˆåŸObjectã€‚ è¿™ä¸ªæµå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“ï¼ˆEJB ä¸­è¿›è¡Œä¼ é€’å‚æ•°å’Œè¿”å›å€¼çš„Data Classï¼‰ï¼Œ ä¹Ÿå¯ä»¥ä¿å­˜åˆ°æ–‡ä»¶ä¸­å»ï¼ˆObjectOutputStreamï¼‰ã€‚</p><p><br></p><div class=pgc-img><img alt=Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ„å¸ˆçš„ä¸¤ä¸‡å­—æ€»ç»“ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/017ad9a4-0c61-4969-b72b-266ec88f4812><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>ä¸ƒã€Javaé›†åˆç±»</h1><p>åœ¨å†™ç¨‹åºçš„æ—¶å€™å¹¶ä¸æ˜¯æ¯æ¬¡åªä½¿ç”¨ä¸€ä¸ªå¯¹è±¡ï¼Œ æ›´å¤šçš„æ˜¯å¯¹ä¸€ç»„å¯¹è±¡è¿›è¡Œæ“ä½œï¼Œ å°±éœ€è¦çŸ¥é“å¦‚ä½•ç»„åˆè¿™äº›å¯¹è±¡ï¼Œ è¿˜æœ‰åœ¨ç¼–ç çš„æ—¶å€™æˆ‘ä»¬æœ‰æ—¶å¹¶ä¸çŸ¥é“åˆ°åº•æœ‰å¤šå°‘å¯¹è±¡ï¼Œå®ƒä»¬éœ€è¦è¿›è¡ŒåŠ¨æ€çš„åˆ†é…å­˜æ”¾ã€‚</p><p>Javaçš„é›†åˆç±»åªèƒ½å®¹çº³å¯¹è±¡å¥æŸ„ï¼Œ å¯¹äºç®€å•ç±»å‹çš„æ•°æ®å­˜æ”¾ï¼Œ åªèƒ½é€šè¿‡æ•°æ®æ¥å­˜æ”¾ï¼Œ æ•°ç»„å¯ä»¥å­˜æ”¾ç®€å•ç±»å‹çš„æ•°æ®ä¹Ÿèƒ½å­˜æ”¾å¯¹è±¡ã€‚</p><p>Javaæä¾›äº†å››ç§ç±»å‹çš„é›†åˆç±»ï¼š Vector(çŸ¢é‡)ï¼Œ BitSet(ä½é›†)ï¼Œ Stack(å †æ ˆ)ï¼Œ Hashtable(æ•£åˆ—è¡¨)ã€‚</p><ol start=1><li>çŸ¢é‡ï¼š ä¸€ç»„æœ‰åºçš„å…ƒç´ ï¼Œ å¯ä»¥é€šè¿‡indexè¿›è¡Œè®¿é—®ã€‚</li><li>ä½é›†ï¼š å…¶å®å°±æ˜¯ç”±äºŒè¿›åˆ¶ä½æ„æˆçš„Vectorï¼Œ ç”¨æ¥ä¿å­˜å¤§é‡â€å¼€-å…³â€ä¿¡æ¯ï¼Œ å®ƒæ‰€å çš„ç©ºé—´æ¯”è¾ƒå°ï¼Œ ä½†æ˜¯æ•ˆç‡ä¸æ˜¯å¾ˆé«˜ï¼Œ å¦‚æœæƒ³é«˜æ•ˆç‡è®¿é—®ï¼Œ è¿˜ä¸å¦‚ç”¨å›ºå®šé•¿åº¦çš„æ•°ç»„ã€‚</li><li>å †æ ˆï¼š å…ˆå…¥åå‡ºï¼ˆLIFOï¼‰é›†åˆï¼Œ java.util.Stackç±»å…¶å®å°±æ˜¯ä»Vectorç»§æ‰¿ä¸‹æ¥çš„ï¼Œ å®ç°äº†pop, pushæ–¹æ³•ã€‚</li><li>æ•£åˆ—è¡¨ï¼š ç”±ä¸€ç»„ç»„â€œé”®--å€¼â€ç»„æˆï¼Œ è¿™é‡Œçš„é”®å¿…é¡»æ˜¯Objectç±»å‹ã€‚ é€šè¿‡Objectçš„hashCodeè¿›è¡Œé«˜æ•ˆç‡çš„è®¿é—®ã€‚</li></ol><p>å¯¹äºè¿™äº›é›†åˆä¹‹é—´çš„å…³è”å…³ç³»è§ä¸‹å›¾ï¼Œ å…¶ä¸­æ ‡è‰²çš„éƒ¨åˆ†ä¸ºæˆ‘ä»¬å¸¸ç”¨çš„ç±»ã€‚</p><p>ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œ åŸºæœ¬æ¥å£æœ‰ä¸¤ä¸ªï¼š</p><p><strong>Collection</strong>ï¼š æ‰€æœ‰çš„çŸ¢é‡é›†åˆç±»éƒ½ä»å®ƒç»§æ‰¿ä¸‹å»çš„ï¼Œ ä½†å¹¶ä¸ç›´æ¥ä»å®ƒç»§æ‰¿ä¸‹å»çš„ã€‚ Listä¸Setè¿™ä¸¤ä¸ªæ¥å£ç›´æ¥ç»§æ‰¿äº†Collectionï¼Œ ä»–ä»¬çš„åŒºåˆ«æ˜¯Listé‡Œé¢å¯ä»¥ä¿å­˜ç›¸åŒçš„å¯¹è±¡å¥æŸ„ï¼Œ è€ŒSeté‡Œé¢çš„å€¼æ˜¯ä¸é‡å¤çš„ã€‚ æˆ‘ä»¬ç»å¸¸ç”¨çš„Vectorä¸ArrayListå°±æ˜¯ä»Listç»§æ‰¿ä¸‹å»çš„ï¼Œ è€ŒHashSetæ˜¯ä»Setç»§æ‰¿çš„ã€‚</p><p><strong>Map</strong>ï¼šæ•£åˆ—è¡¨çš„æ¥å£ï¼Œ Hashtableä¸HashMapç»§æ‰¿äº†è¿™ä¸ªæ¥å£ã€‚ ä¸‹é¢ç»™å‡ºå¸¸ç”¨é›†åˆç±»çš„å¸¸ç”¨æ–¹æ³•ã€‚</p><pre><code>/** * Vector ä¸ ArrayListçš„æ“ä½œå‡ ä¹æ˜¯ä¸€æ ·çš„ * å¸¸ç”¨çš„è¿½åŠ å…ƒç´ ç”¨add(), åˆ é™¤å…ƒç´ ç”¨remove() * å–å…ƒç´ ç”¨get(), éå†å®ƒå¯ä»¥å¾ªç¯ç”¨get()å–. æˆ–è€… * å…ˆå¾—åˆ°ä¸€ä¸ªIterator, ç„¶åé€šè¿‡éå†Iteratorçš„æ–¹æ³• * éå†Vectoræˆ–ArrayList */// ç”Ÿæˆä¸€ä¸ªç©ºçš„VectorVector vector = new Vector();// åœ¨æœ€åè¿½åŠ ä¸€ä¸ªå…ƒç´ ã€‚vector.add("one");vector.add("two");// åœ¨æŒ‡å®šçš„åœ°æ–¹è®¾ç½®ä¸€ä¸ªå€¼vector.set(0, "new one");// ç§»èµ°ä¸€ä¸ªå…ƒç´ æˆ–ç§»èµ°æŒ‡å®šä½ç½®çš„å…ƒç´ vector.remove(0);// ç”¨forå¾ªç¯éå†è¿™ä¸ªVectorfor (int i = 0; i &lt; vector.size(); i++) {	String element = (String) vector.get(i);}// ç”¨æšä¸¾å™¨(Enumeration)éå†å®ƒ(åªæœ‰Vectoræœ‰ï¼ŒArrayListæ²¡æœ‰)Enumeration enu = vector.elements();while (enu.hasMoreElements()) {	enu.nextElement();}// ç”¨åå¤å™¨(Iterator)éå†å®ƒIterator it = vector.iterator();while (it.hasNext()) {	it.next();}/** * Hashtableä¸HashMapçš„æ“ä½œ, è¿½åŠ å…ƒç´ ç”¨put(ä¸æ˜¯add) * åˆ é™¤å…ƒç´ ç”¨remove, éå†å¯ä»¥ç”¨Iterator æ—¢å¯ä»¥éå† * å®ƒçš„key, ä¹Ÿå¯ä»¥æ˜¯value */// ç”Ÿæˆä¸€ä¸ªç©ºçš„Hashtableæˆ–HashMapHashtable hashtable = new Hashtable();// è¿½åŠ ä¸€ä¸ªå…ƒç´ hashtable.put("one", "one object value");// åˆ é™¤ä¸€ä¸ªå…ƒç´ hashtable.remove("one");// ç”¨Iteratoréå†Iterator keyIt = hashtable.keySet().iterator();while (keyIt.hasNext()) {	Object keyName = keyIt.next();	String value = (String) hashtable.get(keyName);}Iterator valueIt = hashtable.values().iterator();while (valueIt.hasNext()) {	valueIt.next();}// ç”¨Enumerationéå†, åªæœ‰Hashtableæœ‰, HashMapæ²¡æœ‰.Enumeration enu = hashtable.elements();while (enu.hasMoreElements()) {	enu.nextElement();}</code></pre><p>è¯´æ˜ï¼š Enumerationæ˜¯è€é›†åˆåº“ä¸­çš„æ¥å£ï¼Œ è€ŒIteratoræ˜¯æ–°é›†åˆï¼ˆ1.2ï¼‰ä¸­å‡ºç°çš„ï¼Œ è€ŒVectorä¸Hashtableä¹Ÿéƒ½æ˜¯è€é›†åˆä¸­çš„ç±»ï¼Œ æ‰€ä»¥åªæœ‰Vectorä¸Hashtableå¯ä»¥ç”¨Enumerationã€‚</p><p><strong>Vectorä¸ArrayListå¯¹æ¯”</strong>ï¼š</p><p>è™½ç„¶åœ¨ä½¿ç”¨çš„æ—¶å€™å¥½è±¡è¿™ä¸¤ä¸ªç±»æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œ å®ƒä»¬éƒ½æ˜¯ä»Listç»§æ‰¿ä¸‹æ¥çš„ï¼Œ æ‹¥æœ‰ç›¸åŒçš„æ–¹æ³•ï¼Œ ä½†å®ƒä»¬çš„å†…éƒ¨è¿˜æ˜¯æœ‰äº›ä¸åŒçš„ï¼Œ</p><ul><li>é¦–å…ˆVectoråœ¨å†…éƒ¨çš„ä¸€äº›æ–¹æ³•ä½œäº†çº¿ç¨‹åŒæ­¥(synchronized)ã€‚ åŒæ­¥çš„ä»£ä»·å°±æ˜¯é™ä½äº†æ‰§è¡Œæ•ˆç‡ï¼Œ ä½†æé«˜äº†å®‰å…¨æ€§ã€‚è€ŒArrayListåˆ™æ˜¯çº¿ç¨‹ä¸åŒæ­¥çš„ï¼Œ å¯ä»¥å¤šçº¿ç¨‹å¹¶å‘è¯»å†™å®ƒã€‚</li><li>å†…éƒ¨æ•°æ®å¢é•¿ç‡ã€‚ æ‰€æœ‰çš„è¿™äº›çŸ¢é‡é›†åˆåœ¨å†…éƒ¨éƒ½æ˜¯ç”¨Objectçš„æ•°ç»„è¿›è¡Œå­˜å‚¨å’Œæ“ä½œçš„ã€‚ æ‰€ä»¥ä¹Ÿå°±æ˜ç™½äº†ä¸ºä»€ä¹ˆå®ƒå¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„Objectï¼Œ ä½†å–å‡ºæ¥çš„æ—¶å€™éœ€è¦è¿›è¡Œç±»å‹å†é€ ã€‚ Vectorä¸ArrayListå…·æœ‰è‡ªåŠ¨ä¼¸ç¼©çš„åŠŸèƒ½ï¼Œ æˆ‘ä»¬ä¸ç”¨ç®¡å®ƒsizeå¤šå¤§ï¼Œ æˆ‘ä»¬éƒ½å¯ä»¥åœ¨å®ƒçš„åé¢è¿½åŠ å…ƒç´ ã€‚ Vectorä¸ArrayListå†…éƒ¨çš„æ•°ç»„å¢é•¿ç‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œ å½“å†…éƒ¨çš„æ•°ç»„ä¸èƒ½å®¹çº³æ›´å¤šå…ƒç´ çš„æ—¶å€™ï¼Œ Vectorä¼šè‡ªåŠ¨å¢é•¿åˆ°åŸä¸¤å€å¤§å°ï¼Œ ArrayListä¼šå˜ä¸ºåŸä¸€å€åŠå¤§å°ï¼Œ è€Œä¸æ˜¯æˆ‘ä»¬æ‰€æƒ³è±¡çš„ä¸€ä¸ªå…ƒç´ ä¸€ä¸ªå…ƒç´ çš„å¢é•¿ã€‚</li></ul><p><strong>Hashtableä¸HashMapå¯¹æ¯”</strong>ï¼š</p><p>Hashtableä¸HashMapéƒ½æ˜¯ä»Mapç»§æ‰¿ä¸‹æ¥çš„ï¼Œ æ–¹æ³•å‡ ä¹éƒ½ä¸€æ ·ï¼Œ å®ƒä»¬å†…éƒ¨æœ‰ä¸¤ä¸ªä¸åŒç‚¹ï¼š</p><ul><li>ä¸Vectorå’ŒArrayListä¸€æ ·ï¼Œ å®ƒä»¬åœ¨çº¿ç¨‹åŒæ­¥æ˜¯ä¸åŒçš„ï¼Œ Hashtableåœ¨å†…éƒ¨åšäº†çº¿ç¨‹åŒæ­¥ï¼Œ è€ŒHashMapæ˜¯çº¿ç¨‹ä¸åŒæ­¥çš„ã€‚</li><li>HashMapçš„é”®ä¸å€¼éƒ½å¯ä»¥ä¸ºnullï¼Œ è€ŒHashtableä¸å¯ä»¥ï¼Œ å¦‚æœä½ è¯•å›¾å°†ä¸€ä¸ªnullå€¼æ”¾åˆ°Hashtableé‡Œé¢å»ï¼Œ ä¼šæŠ›ä¸€ä¸ªNullPointExceptionçš„ã€‚</li></ul><p><strong>æ€§èƒ½å¯¹æ¯”</strong>ï¼š</p><p>æŠ›å¼€ä¸å¸¸ç”¨çš„é›†åˆä¸è®²ï¼Œ æ¯ç§é›†åˆéƒ½åº”è¯¥æœ‰ä¸€ä¸ªæˆ‘ä»¬å¸¸ç”¨çš„é›†åˆç±»ï¼Œ è€Œåœ¨ä¸åŒçš„åœºåˆä¸‹åº”è¯¥ä½¿ç”¨æ•ˆç‡æœ€é«˜çš„ä¸€ä¸ªã€‚ ä¸€èˆ¬æ¥è¯´æˆ‘æ¨èå°½é‡ä½¿ç”¨æ–°çš„é›†åˆç±»ï¼Œ é™¤éä¸å¾—å·²ï¼Œ æ¯”å¦‚è¯´éœ€è¦ç”¨ç”¨äº†è€é›†åˆç±»å†™çš„äº§å“çš„ç¨‹åºã€‚ ä¹Ÿå°±æ˜¯è¯´å°½é‡ä½¿ç”¨ArrayListä¸HashMapï¼Œ è€Œå°‘ä½¿ç”¨Vectorä¸Hashtableã€‚</p><ul><li>åœ¨å•çº¿ç¨‹ä¸­ä½¿ç”¨ArrayListä¸HashMapï¼Œ è€Œåœ¨å¤šçº¿ç¨‹ä¸­å¦‚æœéœ€è¦è¿›è¡Œçº¿ç¨‹åŒæ­¥å¯ä»¥ä½¿ç”¨Vectorä¸Hashtableï¼Œ ä½†ä¹Ÿå¯ä»¥ç”¨synchronizedå¯¹ArrayListä¸HashMapè¿›è¡ŒåŒæ­¥ï¼Œ ä¸è¿‡åŒæ­¥åçš„ArrayListä¸HashMapæ˜¯æ¯”Vectorä¸Hashtableæ…¢çš„ã€‚ ä¸è¿‡æˆ‘è®¤ä¸ºéœ€è¦è¿›è¡Œçº¿ç¨‹åŒæ­¥çš„åœ°æ–¹å¹¶ä¸å¤šã€‚ å¦‚æœä¸€ä¸ªå˜é‡å®šä¹‰åœ¨æ–¹æ³•å†…éƒ¨åŒæ—¶åªå¯èƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹ä¹‹è¿›è¡Œæ“ä½œï¼Œ å°±ä¸å¿…è¦è¿›è¡ŒåŒæ­¥ï¼Œ å¦‚æœå®šä¹‰åœ¨ç±»çš„å†…éƒ¨å¹¶ä¸”ä¸æ˜¯é™æ€çš„ï¼Œ å±äºå®ä¾‹å˜é‡ï¼Œ è€Œè¿™ä¸ªç±»å¹¶æ²¡æœ‰è¢«å¤šçº¿ç¨‹ä½¿ç”¨ä¹Ÿå°±ä¸å¿…è¦åŒæ­¥ã€‚</li><li>ä¸€èˆ¬è‡ªå·±å†™çš„ç¨‹åºå¾ˆå°‘ä¼šè‡ªå·±å»å¦å¼€çº¿ç¨‹çš„ï¼Œ ä½†åœ¨Webå¼€å‘çš„æ—¶å€™ï¼Œ å¦‚æœç”¨äº†Servletï¼Œ åˆ™æ¯ä¸ªrequestéƒ½æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œ ä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªServletéƒ½æ˜¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹è¿è¡Œçš„ï¼Œ å¦‚æœServletä¸­ä½¿ç”¨äº†å…¨å±€é™æ€çš„æˆå‘˜å˜é‡å°±å¾—å°å¿ƒç‚¹å„¿ï¼Œ å¦‚æœéœ€è¦åŒæ­¥å°±å¾—åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Šsynchronizedä¿®é¥°ç¬¦ï¼Œ å¦‚æœå…è®¸å¤šä¸ªçº¿ç¨‹æ“ä½œå®ƒï¼Œ å¹¶ä¸”ä½ çŸ¥é“ä¸ä¼šæœ‰ä»€ä¹ˆå†²çªé—®é¢˜å°±å¯ä»¥å¤§èƒ†çš„ä½¿ç”¨ArrayListä¸HashMapã€‚ å¦å¤–å¦‚æœåœ¨å¤šçº¿ç¨‹ä¸­æœ‰çº¿ç¨‹åœ¨å¯¹ArrayListæˆ–HashMapè¿›è¡Œä¿®æ”¹ï¼ˆç»“æ„ä¸Šçš„ä¿®æ”¹ï¼‰ï¼Œ è€Œæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨ç”¨Iteratorè¿›è¡Œè¯»å–æ“ä½œï¼Œ è¿™ä¸ªæ—¶å€™å°±æœ‰å¯èƒ½ä¼šæŠ›ConcurrentModificationException, å› ä¸ºç”¨Iteratorçš„æ—¶å€™ï¼Œ ä¸å…è®¸åŸListçš„ç»“æ„æ”¹å˜ã€‚ä½†å¯ä»¥ç”¨getæ–¹æ³•æ¥å–ã€‚</li></ul><p><strong>å¸¸ç”¨æŠ€å·§</strong>ï¼š</p><p>â‘ . é‡‡ç”¨é¢å‘æ¥å£çš„ç¼–ç¨‹æŠ€å·§ï¼Œ æ¯”å¦‚ç°åœ¨éœ€è¦å†™ä¸€ä¸ªå…±é€šå‡½æ•°ï¼Œå¯¹çŸ¢é‡é›†åˆç±»è¯¸å¦‚Vectorï¼ŒArrayListï¼ŒHashSetç­‰ç­‰è¿›è¡Œæ“ä½œï¼Œ ä½†æˆ‘å¹¶ä¸çŸ¥é“æœ€ç»ˆç”¨æˆ·ä¼šå…·ä½“ä¼ ç»™æˆ‘ä»€ä¹ˆç±»å‹çš„ç±»ï¼Œ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Collectionæ¥å£ï¼Œ ä»è€Œä½¿ä»£ç å…·æœ‰å¾ˆå¤§çš„çµæ´»æ€§ã€‚ ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code>/** * å°†listé‡Œé¢çš„æ‰€æœ‰å…ƒç´ ç”¨sepè¿æ¥èµ·æ¥ï¼Œ * listå¯ä»¥ä¸ºVector, ArrayList, HashSetç­‰ã€‚ */public static String join(String sep, Collection list) {	StringBuffer sb = new StringBuffer();	Iterator iterator = list.iterator();	while (iterator.hasNext()) {		sb.append(iterator.next());		if (iterator.hasNext()) {			sb.append(sep);		}	}	return sb.toString();}</code></pre><p>â‘¡. åˆ©ç”¨Setè¿›è¡ŒUniqueï¼Œ æ¯”å¦‚æœ‰ä¸€ç»„å¯¹è±¡ï¼ˆå…¶ä¸­æœ‰å¯¹è±¡æ˜¯é‡å¤çš„ï¼‰ï¼Œ ä½†æˆ‘ä»¬åªå¯¹ä¸åŒçš„å¯¹è±¡æ„Ÿå…´è¶£ï¼Œ è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨HashSetè¿™ä¸ªé›†åˆç±»ï¼Œ ç„¶åå¯ä»¥é€šè¿‡è¦†ç›–Objectçš„equalsæ–¹æ³•æ¥é€‰æ‹©è‡ªå®šä¹‰åˆ¤æ–­ç›¸ç­‰çš„ruleã€‚ ç¼ºçœçš„æ˜¯åœ°å€åˆ¤æ–­ã€‚ ä¾‹ï¼š</p><pre><code>class DataClass {	private String code = null;	private String name = null;	public void setCode(String code) {		this.code = code;	}	public String getCode() {		return this.code;	}	public void setName(String name) {		this.name = name;	}	public String getName() {		return this.name;	}	public Boolean equals(DataClass otherData) {		if (otherData != null) {			if (this.getCode() != null&amp;&amp; this.getCode().equals(otherData.getCode()) {				return true;			}		}		return false;	}}DataClass data1 = new DataClass();DataClass data2 = new DataClass();data1.setCode("1");data2.setCode("1");HashSet singleSet = new HashSet();singleSet.add(data1);singleSet.add(data2);</code></pre><p>ç»“æœsingleSeté‡Œé¢åªæœ‰data1ï¼Œ å› ä¸ºdata2.equals(data1)ï¼Œ æ‰€ä»¥data2å¹¶æ²¡æœ‰åŠ è¿›å»ã€‚</p><p>â‘¢. çµæ´»çš„è®¾è®¡é›†åˆçš„å­˜å‚¨æ–¹å¼ï¼Œ ä»¥è·å¾—è¾ƒé«˜æ•ˆçš„å¤„ç†ã€‚ é›†åˆé‡Œé¢å¯ä»¥å†åµŒå¥—é›†åˆï¼Œ ä¾‹ï¼šåœ¨ArrayListé‡Œé¢å­˜æ”¾HashMapï¼Œ HashMapé‡Œé¢å†åµŒå¥—HashMapã€‚</p><h1 class=pgc-h-arrow-right>å…«ã€ResourceBundle, Properties</h1><p><strong>ResourceBundle</strong>ï¼šå¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œ é…ç½®æ–‡ä»¶æ˜¯å°‘ä¸äº†çš„ï¼Œ ä¸€äº›éœ€è¦æ ¹æ®ç¯å¢ƒè¿›è¡Œä¿®æ”¹çš„å‚æ•°ï¼Œ éƒ½æœ‰å¾—æ”¾åˆ°é…ç½®æ–‡ä»¶ä¸­å»ï¼Œ åœ¨Javaä¸­ä¸€èˆ¬æ˜¯é€šè¿‡ä¸€ä¸ªpropertiesæ–‡ä»¶æ¥å®ç°çš„ï¼Œ è¿™ä¸ªæ–‡ä»¶ä»¥propertiesç»“å°¾ã€‚ å†…éƒ¨ç»“æ„æ˜¯äºŒç»´çš„ï¼Œ ä»¥key=valueçš„å½¢å¼å­˜åœ¨ã€‚ å¦‚ä¸‹ï¼š</p><pre><code>options.column.name.case=1options.column.bean.serializable=1options.column.bean.defaultconstructor=1options.column.method.setter=1options.general.user.version=1.0database.connection[0]=csc/csc@localhost_oci8database.connection[1]=cscweb/cscweb@localhost_thin</code></pre><p>ResourceBundleç”¨æ¥è§£æè¿™æ ·çš„æ–‡ä»¶ï¼Œ å®ƒçš„åŠŸèƒ½æ˜¯å¯ä»¥æ ¹æ®ä½ çš„Localeæ¥è¿›è¡Œè§£æé…ç½®æ–‡ä»¶ï¼Œ å¦‚æœä¸€ä¸ªäº§å“éœ€è¦è¿›è¡Œå¤šè¯­è¨€æ”¯æŒï¼Œ æ¯”å¦‚åœ¨ä¸åŒè¯­ç§çš„ç³»ç»Ÿä¸Šï¼Œ ä¼šæ˜¾ç¤ºæ ¹æ®å®ƒçš„è¯­è¨€æ˜¾ç¤ºç›¸åº”çš„ç•Œé¢è¯­è¨€ï¼Œ å°±å¯ä»¥å®šä¹‰å¤šä»½çš„propertiesæ–‡ä»¶ï¼Œ æ¯ä¸ªæ–‡ä»¶çš„keyæ˜¯ä¸€æ ·çš„ï¼Œ åªæ˜¯valueä¸ä¸€æ ·ï¼Œ ç„¶ååœ¨applicationèµ·åŠ¨çš„æ—¶å€™ï¼Œ å¯ä»¥åˆ¤åˆ«æœ¬æœºçš„Localeæ¥è§£æç›¸åº”çš„propertiesæ–‡ä»¶ã€‚ Propertiesæ–‡ä»¶é‡Œé¢çš„æ•°æ®å¾—è¦æ˜¯Unicodeã€‚ åœ¨jdkä¸‹é¢å¯ä»¥ç”¨native2asciiè¿™ä¸ªå‘½ä»¤è¿›è¡Œè½¬æ¢ã€‚ ä¾‹ï¼š native2ascii Message.txt Message.properties ä¼šç”Ÿæˆä¸€ä¸ªUnicodeçš„æ–‡ä»¶ã€‚</p><p><strong>Properties</strong>: Propertiesè¿™ä¸ªç±»å…¶å®å°±æ˜¯ä»Hashtableç»§æ‰¿ä¸‹æ¥çš„ï¼Œ ä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯ä¸€ä¸ªæ•£åˆ—è¡¨ï¼Œ åŒºåˆ«åœ¨äºå®ƒçš„keyä¸valueéƒ½æ˜¯Stringå‹çš„ï¼Œ å¦å¤–ä¹ŸåŠ äº†å‡ ä¸ªå¸¸ç”¨çš„æ–¹æ³•ï¼š</p><ul><li>String getProperty(String key) å–å¾—ä¸€ä¸ªproperty</li><li>String getProperty(String key, String defaultValue) å–propertyï¼Œ å¦‚æœä¸å­˜åœ¨åˆ™è¿”å›defaultValueã€‚</li><li>void list(PrintStream out) å‘outè¾“å‡ºæ‰€æœ‰çš„properties</li><li>void list(PrintWriter out)</li><li>Enumeration propertyNames() å°†æ‰€æœ‰çš„property keyåä»¥Enumerationå½¢å¼è¿”å›ã€‚</li><li>Object setProperty(String key, String value) è®¾ç½®ä¸€ä¸ªpropertyã€‚</li></ul><p>ResourceBundleä¸Propertiesä¸€èˆ¬ç»“åˆèµ·æ¥ä½¿ç”¨ã€‚ å®ƒä»¬çš„ç”¨æ³•å¾ˆç®€å•ï¼Œ ç”±ResourceBundleè§£æå‡ºæ¥çš„keyä¸valueç„¶åæ”¾è‡³åˆ°ä¸€ä¸ªé™æ€çš„Propertiesæˆå‘˜å˜é‡é‡Œé¢å»ï¼Œ ç„¶åå°±å¯ä»¥é€šè¿‡è®¿é—®Propertiesçš„æ–¹æ³•è¿›è¡Œè¯»å–Propertyã€‚ ä¸‹é¢ç»™ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><pre><code>public class PropertyManager implements Serializable {	/** å®šä¹‰ä¸€ä¸ªé™æ€çš„Propertieså˜é‡ */	private static Properties properties = new Properties();	/** * é€šè¿‡ä¸€ä¸ªç±»ä¼¼äºç±»åçš„å‚æ•°è¿›è¡ŒPropertyæ–‡ä»¶çš„åˆæœŸåŒ– * æ¯”å¦‚ç°åœ¨æœ‰ä¸€ä¸ªæ–‡ä»¶å«Message.propertiesï¼Œ å®ƒå­˜æ”¾åœ¨ * ejb/utilä¸‹é¢å¹¶ä¸”ï¼Œ è¿™ä¸ªç›®å½•åœ¨è¿è¡Œçš„classpathä¸‹é¢ * åˆ™inå°±ä¸ºejb.util.Message * */	public static void init(String in) throws MissingResourceException {		ResourceBundle bundle = ResourceBundle.getBundle(in);		Enumeration enum = bundle.getKeys();		Object key = null;		Object value = null;		while (enum.hasMoreElements()) {			key = enum.nextElement();			value = bundle.getString(key.toString());			properties.put(key, value);		}	}	/** * å–å¾—ä¸€ä¸ªPropertyå€¼ */	public static String getProperty(String key) {		return properties.get(key);	}	/** * è®¾ç½®ä¸€ä¸ªPropertyå€¼ */	public static void setProperty(String key, String value) {		properties.put(key, value);	}}</code></pre><p>ä¸è¿‡ç°åœ¨çš„Javaäº§å“ä¸­ï¼Œè¶Šæ¥è¶Šå€¾å‘äºç”¨XMLæ›¿æ¢Propertiesæ–‡ä»¶æ¥è¿›è¡Œé…ç½®ã€‚ XMLé…ç½®å…·æœ‰å±‚æ¬¡ç»“æ„æ¸…æ¥šçš„ä¼˜ç‚¹ã€‚</p><h1 class=pgc-h-arrow-right>ä¹ã€Exceptions</h1><pre><code>ThrowableExceptionErrorRuntimeExceptionClassNotFoundExceptionIOExceptionSQLExceptionIndexOutOfBoundsExceptionClassCastExceptionNullPointerExceptionOutOfMemoryErrorStackOverflowErrorNoClassDefFoundError</code></pre><p>Javaé‡‡ç”¨è¿ä¾‹(Exception)å¤„ç†æœºåˆ¶æ¥è¿›è¡Œé”™è¯¯å¤„ç†ã€‚ è¿ä¾‹æœºåˆ¶çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯èƒ½å¤Ÿç®€åŒ–é”™è¯¯æ§åˆ¶ä»£ç ï¼Œ æˆ‘ä»¬å†ä¹Ÿä¸ç”¨æ£€æŸ¥ä¸€ä¸ªç‰¹å®šçš„é”™è¯¯ï¼Œ ç„¶ååœ¨ç¨‹åºçš„å¤šå¤„åœ°æ–¹å¯¹å…¶è¿›è¡Œæ§åˆ¶ã€‚ æ­¤å¤–ï¼Œ ä¹Ÿä¸éœ€è¦åœ¨æ–¹æ³•è°ƒç”¨çš„æ—¶å€™æ£€æŸ¥é”™è¯¯ï¼ˆå› ä¸ºä¿è¯æœ‰äººèƒ½å¤Ÿæ•è·è¿™é‡Œçš„é”™è¯¯ï¼‰ã€‚ æˆ‘ä»¬åªéœ€è¦åœ¨ä¸€ä¸ªåœ°æ–¹å¤„ç†é—®é¢˜ï¼šâ€è¿ä¾‹æ§åˆ¶æ¨¡å—â€æˆ–è€…â€è¿ä¾‹æ§åˆ¶å™¨â€ã€‚ è¿™æ ·å¯æœ‰æ•ˆå‡å°‘ä»£ç é‡ï¼Œ å¹¶å°†é‚£äº›ç”¨äºæè¿°å…·ä½“æ“ä½œçš„ä»£ç ä¸ä¸“é—¨çº æ­£é”™è¯¯çš„ä»£ç åˆ†éš”å¼€ã€‚</p><p>ä¸€ä¸ªå®Œæ•´çš„è¿ä¾‹ä¾‹å­ï¼š</p><pre><code>public void throwTest() throws MyException {	try {		...	}	catch (SQLException se) {		cat.error("", se);		throw new MyException(se.getMessage());	}	catch (Exception e) {		cat.error("", e);	}	finally {		...	}}</code></pre><p>å¦‚æœä¸€æ®µä»£ç æœ‰å¯èƒ½ä¼šæŠ›å‡ºè¿ä¾‹å¯ä»¥ç”¨try {} catch {}æ¥å¤„ç†ã€‚ è¢«catchåˆ°çš„è¿ä¾‹å¯ä»¥å†æŠ›å‡ºï¼Œ ä¹Ÿå¯ä»¥è½¬æ¢ä¸ºå…¶å®ƒç±»å‹çš„ExceptionæŠ›å‡ºã€‚ finallyå—é‡Œé¢çš„ä»£ç æ€»ä¼šè¢«æ‰§è¡Œåˆ°çš„ï¼Œ ä¸ç®¡å‰é¢æ˜¯å¦å·²ç»throwæˆ–returnäº†ã€‚</p><p>Throwableæ˜¯æ‰€æœ‰è¿ä¾‹çš„åŸºç±»ï¼Œ å®ƒæœ‰ä¸¤ç§å¸¸è§„ç±»å‹ã€‚ å…¶ä¸­ï¼Œ Errorä»£è¡¨ç¼–ç»æœŸå’Œç³»ç»Ÿé”™è¯¯ï¼Œ æˆ‘ä»¬ä¸€èˆ¬ä¸å¿…ç‰¹æ„æ•è·å®ƒä»¬ã€‚ Exceptionæ˜¯å¯ä»¥ä»ä»»ä½•æ ‡å‡†Javaåº“çš„ç±»æ–¹æ³•ä¸­æ·å‡ºçš„åŸºæœ¬ç±»å‹ã€‚</p><p>çœ‹ä¸Šé¢çš„å›¾ï¼Œ å¦‚æœæ˜¯Errorçš„å­ç±»æˆ–æ˜¯RuntimeExceptionçš„å­ç±»è¿™ç§è¿ä¾‹æœ‰ä¸€å®šçš„ç‰¹æ®Šæ€§ï¼Œ å¯ä»¥è¯´æˆ‘ä»¬å¯ä»¥å½“å®ƒä»¬ä¸å­˜åœ¨ï¼Œ å½“è¿™ç§è¿ä¾‹æŠ›å‡ºçš„æ—¶å€™ï¼Œ æˆ‘ä»¬å¯ä»¥ä¸catchå®ƒï¼Œ ä¹Ÿå¯ä»¥ä¸åœ¨æ–¹æ³•ä¸Šthrowså®ƒã€‚ RuntimeExceptionä¸€èˆ¬ä»£è¡¨çš„æ˜¯ä¸€ä¸ªç¼–ç¨‹é”™è¯¯ï¼Œ æ˜¯å®Œå…¨å¯ä»¥é¿å…çš„ã€‚</p><p><strong>æ€§èƒ½æ³¨æ„ç‚¹</strong>ï¼š å› ä¸ºä½¿ç”¨äº†Exceptionä¹‹åæ˜¯è¦å½±å“ä¸€äº›æ•ˆç‡çš„ï¼Œ æ‰€ä»¥Exceptionä¸èƒ½æ»¥ç”¨ã€‚ä¸€èˆ¬çš„ä¸è¦ç”¨Exceptionæ¥æ§åˆ¶ä¸šåŠ¡æµç¨‹ï¼Œ å…¶æ¬¡ä¸è¦å¾ªç¯ä½“å†…ä½¿ç”¨ã€‚</p><p><strong>æŠ€å·§</strong>ï¼šæˆ‘ä»¬å¯ä»¥ä»Exceptionæˆ–ç›´æ¥ä»Throwableç»§æ‰¿å†™æˆ‘ä»¬è‡ªå·±çš„Exceptionï¼Œ ç„¶åæ ¹æ®ä¸šåŠ¡éœ€è¦æŠ›ä¸åŒç§ç±»çš„Exceptionã€‚</p><h1 class=pgc-h-arrow-right>åã€JDBCç±»åº“</h1><p>æœ‰äº† JDBCï¼Œå‘å„ç§å…³ç³»æ•°æ®åº“å‘é€ SQL è¯­å¥å°±æ˜¯ä¸€ä»¶å¾ˆå®¹æ˜“çš„äº‹ã€‚æ¢è¨€ä¹‹ï¼Œæœ‰äº† JDBC APIï¼Œå°±ä¸å¿…ä¸ºè®¿é—® Sybase æ•°æ®åº“ä¸“é—¨å†™ä¸€ä¸ªç¨‹åºï¼Œä¸ºè®¿é—® Oracle æ•°æ®åº“åˆä¸“é—¨å†™ä¸€ä¸ªç¨‹åºï¼Œä¸ºè®¿é—® Informix æ•°æ®åº“åˆå†™å¦ä¸€ä¸ªç¨‹åºï¼Œç­‰ç­‰ã€‚æ‚¨åªéœ€ç”¨ JDBC API å†™ä¸€ä¸ªç¨‹åºå°±å¤Ÿäº†ï¼Œå®ƒå¯å‘ç›¸åº”æ•°æ®åº“å‘é€ SQL è¯­å¥ã€‚è€Œä¸”ï¼Œä½¿ç”¨ Java ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„åº”ç”¨ç¨‹åºï¼Œå°±æ— é¡»å»å¿§è™‘è¦ä¸ºä¸åŒçš„å¹³å°ç¼–å†™ä¸åŒçš„åº”ç”¨ç¨‹åºã€‚å°† Java å’Œ JDBC ç»“åˆèµ·æ¥å°†ä½¿ç¨‹åºå‘˜åªé¡»å†™ä¸€éç¨‹åºå°±å¯è®©å®ƒåœ¨ä»»ä½•å¹³å°ä¸Šè¿è¡Œã€‚</p><p>ä¸‹é¢ä¸ºå¸¸ç”¨çš„å¤„ç†æµç¨‹ï¼š</p><pre><code>DriverManagerConnectionStatementPreparedStatementCallableStatementResultSet</code></pre><p>ç®€å•åœ°è¯´ï¼ŒJDBC å¯åšä¸‰ä»¶äº‹ï¼š</p><ol start=1><li>ä¸æ•°æ®åº“å»ºç«‹è¿æ¥</li><li>å‘é€ SQL è¯­å¥</li><li>å¤„ç†ç»“æœ</li></ol><p>ä¸‹åˆ—ä»£ç æ®µç»™å‡ºäº†ä»¥ä¸Šä¸‰æ­¥çš„åŸºæœ¬ç¤ºä¾‹ï¼š</p><pre><code>Class.forName("oracle.jdbc.driver.OracleDriver").newInstance();Connection conn = DriverManager.getConnection ("jdbc:oracle:thin:@eai-sol:1521:eai_db", "csc2", "csc2");Statement stmt = conn.createStatement();ResultSet rs = stmt.executeQuery("SELECT CONTACTID FROM CONTACTINFO");while (rs.next()) {long contactID = rs.getLong("CONTACTID");}</code></pre><p>ä¸‹é¢å¯¹å¸¸ç”¨çš„å‡ ä¸ªç±»å’Œæ¥å£åšäº›ç®€å•çš„è¯´æ˜ã€‚</p><p><strong>DriverManager</strong>ï¼š</p><p>DriverManagerç±»æ˜¯ JDBC çš„ç®¡ç†å±‚ï¼Œä½œç”¨äºç”¨æˆ·å’Œé©±åŠ¨ç¨‹åºä¹‹é—´ã€‚å®ƒè·Ÿè¸ªå¯ç”¨çš„é©±åŠ¨ç¨‹åºï¼Œå¹¶åœ¨æ•°æ®åº“å’Œç›¸åº”é©±åŠ¨ç¨‹åºä¹‹é—´å»ºç«‹è¿æ¥ã€‚å¦å¤–ï¼ŒDriverManager ç±»ä¹Ÿå¤„ç†è¯¸å¦‚é©±åŠ¨ç¨‹åºç™»å½•æ—¶é—´é™åˆ¶åŠç™»å½•å’Œè·Ÿè¸ªæ¶ˆæ¯çš„æ˜¾ç¤ºç­‰äº‹åŠ¡ã€‚å¯¹äºç®€å•çš„åº”ç”¨ç¨‹åºï¼Œä¸€èˆ¬ç¨‹åºå‘˜éœ€è¦åœ¨æ­¤ç±»ä¸­ç›´æ¥ä½¿ç”¨çš„å”¯ä¸€æ–¹æ³•æ˜¯ DriverManager.getConnectionã€‚æ­£å¦‚åç§°æ‰€ç¤ºï¼Œè¯¥æ–¹æ³•å°†å»ºç«‹ä¸æ•°æ®åº“çš„è¿æ¥ã€‚</p><pre><code>Class.forName("oracle.jdbc.driver.OracleDriver").newInstance();Connection conn = DriverManager.getConnection ("jdbc:oracle:thin:@eai-sol:1521:eai_db", "csc2", "csc2");</code></pre><p>å…¶ä¸­ç¬¬ä¸€å¥è¯çš„ä½œç”¨æ˜¯åœ¨å½“å‰çš„ç¯å¢ƒä¸­loadä¸€ä¸ªDB Driverï¼Œ æœ‰äººå¯èƒ½è§‰å¾—å¥‡æ€ªï¼Œ è¿™å¥è¯æ‰§è¡Œå®Œä¹‹åï¼Œ åé¢æ€ä¹ˆçŸ¥é“å»ç”¨è¿™ä¸ªDriverå‘¢ï¼Ÿ å…¶å®DriverManagerå¯ä»¥ä»loadçš„classesé‡Œé¢æ‰¾åˆ°æ³¨å†Œè¿‡çš„driverï¼Œç„¶åä½¿ç”¨å®ƒæ‰€æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå¯ä»¥æˆåŠŸè¿æ¥åˆ°ç»™å®š URL çš„é©±åŠ¨ç¨‹åºã€‚ ç¬¬äºŒå¥è¯çš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯URL, User, Passwordã€‚ï¼¤riverä¸ä¸€æ ·ï¼Œâ€ƒURLå¯èƒ½ä¹Ÿä¸ä¸€æ ·ã€‚</p><p><strong>Statement</strong>ï¼š</p><p>Statement å¯¹è±¡ç”¨äºå°† SQL è¯­å¥å‘é€åˆ°æ•°æ®åº“ä¸­ã€‚å®é™…ä¸Šæœ‰ä¸‰ç§ Statement å¯¹è±¡ï¼Œå®ƒä»¬éƒ½ä¸ºåœ¨ç»™å®šè¿æ¥ä¸Šæ‰§è¡Œ SQL è¯­å¥çš„åŒ…å®¹å™¨ï¼šStatementã€PreparedStatementï¼ˆå®ƒä» Statement æ‰¿è€Œæ¥ï¼‰å’Œ CallableStatementï¼ˆå®ƒä» PreparedStatement ç»§æ‰¿è€Œæ¥ï¼‰ã€‚å®ƒä»¬éƒ½ä¸“ç”¨äºå‘é€å®šç±»å‹çš„ SQL è¯­å¥ï¼š Statement å¯¹è±¡ç”¨äºæ‰§è¡Œä¸å¸¦å‚æ•°çš„ç®€å• SQL è¯­å¥ï¼›PreparedStatement å¯¹è±¡ç”¨äºæ‰§è¡Œå¸¦æˆ–ä¸å¸¦ IN å‚æ•°çš„é¢„ç¼–è¯‘ SQL è¯­å¥ï¼›CallableStatement å¯¹è±¡ç”¨äºæ‰§è¡Œå¯¹æ•°æ®åº“å·²å­˜å‚¨è¿‡ç¨‹çš„è°ƒç”¨ã€‚</p><p>Statement æ¥å£æä¾›äº†æ‰§è¡Œè¯­å¥å’Œè·å–ç»“æœçš„åŸºæœ¬æ–¹æ³•ã€‚PreparedStatement æ¥å£æ·»åŠ äº†å¤„ç† IN å‚æ•°çš„æ–¹æ³•ï¼›è€Œ CallableStatement æ·»åŠ äº†å¤„ç† OUT å‚æ•°çš„æ–¹æ³•ã€‚</p><p>â‘ . åˆ›å»º Statement å¯¹è±¡</p><p>å»ºç«‹äº†åˆ°ç‰¹å®šæ•°æ®åº“çš„è¿æ¥ä¹‹åï¼Œå°±å¯ç”¨è¯¥è¿æ¥å‘é€ SQL è¯­å¥ã€‚Statement å¯¹è±¡ç”¨ Connection çš„æ–¹æ³• createStatement åˆ›å»ºï¼Œå¦‚ä¸‹åˆ—ä»£ç æ®µä¸­æ‰€ç¤ºï¼š</p><pre><code>Statement stmt = conn.createStatement();</code></pre><p>ä¸ºäº†æ‰§è¡Œ Statement å¯¹è±¡ï¼Œè¢«å‘é€åˆ°æ•°æ®åº“çš„ SQL è¯­å¥å°†è¢«ä½œä¸ºå‚æ•°æä¾›ç»™ Statement çš„æ–¹æ³•ï¼š</p><pre><code>ResultSet rs = stmt.executeQuery("SELECT a, b, c FROM table1");</code></pre><p>â‘¡. ä½¿ç”¨ Statement å¯¹è±¡æ‰§è¡Œè¯­å¥</p><p>Statement æ¥å£æä¾›äº†ä¸‰ç§æ‰§è¡Œ SQL è¯­å¥çš„æ–¹æ³•ï¼šexecuteQueryã€executeUpdate å’Œexecuteã€‚ä½¿ç”¨å“ªä¸€ä¸ªæ–¹æ³•ç”± SQL è¯­å¥æ‰€äº§ç”Ÿçš„å†…å®¹å†³å®šã€‚</p><p>æ–¹æ³• executeQuery ç”¨äºäº§ç”Ÿå•ä¸ªç»“æœé›†çš„è¯­å¥ï¼Œä¾‹å¦‚ SELECT è¯­å¥ã€‚</p><p>æ–¹æ³• executeUpdate ç”¨äºæ‰§è¡Œ INSERTã€UPDATE æˆ– DELETE è¯­å¥ä»¥åŠ SQL DDLï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼‰è¯­å¥ï¼Œä¾‹å¦‚ CREATE TABLE å’Œ DROP TABLEã€‚INSERTã€UPDATE æˆ– DELETE è¯­å¥çš„æ•ˆæœæ˜¯ä¿®æ”¹è¡¨ä¸­é›¶è¡Œæˆ–å¤šè¡Œä¸­çš„ä¸€åˆ—æˆ–å¤šåˆ—ã€‚executeUpdate çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼ŒæŒ‡ç¤ºå—å½±å“çš„è¡Œæ•°ï¼ˆå³æ›´æ–°è®¡æ•°ï¼‰ã€‚å¯¹äº CREATE TABLE æˆ– DROP TABLE ç­‰ä¸æ“ä½œè¡Œçš„è¯­å¥ï¼ŒexecuteUpdate çš„è¿”å›å€¼æ€»ä¸ºé›¶ã€‚</p><p>æ–¹æ³• execute ç”¨äºæ‰§è¡Œè¿”å›å¤šä¸ªç»“æœé›†ã€å¤šä¸ªæ›´æ–°è®¡æ•°æˆ–äºŒè€…ç»„åˆçš„è¯­å¥ã€‚</p><p>â‘¢. è¯­å¥å®Œæˆ</p><p>å½“è¿æ¥å¤„äºè‡ªåŠ¨æäº¤æ¨¡å¼æ—¶ï¼Œå…¶ä¸­æ‰€æ‰§è¡Œçš„è¯­å¥åœ¨å®Œæˆæ—¶å°†è‡ªåŠ¨æäº¤æˆ–è¿˜åŸã€‚è¯­å¥åœ¨å·²æ‰§è¡Œä¸”æ‰€æœ‰ç»“æœè¿”å›æ—¶ï¼Œå³è®¤ä¸ºå·²å®Œæˆã€‚å¯¹äºè¿”å›ä¸€ä¸ªç»“æœé›†çš„ executeQuery æ–¹æ³•ï¼Œåœ¨æ£€ç´¢å®Œ ResultSet å¯¹è±¡çš„æ‰€æœ‰è¡Œæ—¶è¯¥è¯­å¥å®Œæˆã€‚å¯¹äºæ–¹æ³• executeUpdateï¼Œå½“å®ƒæ‰§è¡Œæ—¶è¯­å¥å³å®Œæˆã€‚ä½†åœ¨å°‘æ•°è°ƒç”¨æ–¹æ³• execute çš„æƒ…å†µä¸­ï¼Œåœ¨æ£€ç´¢æ‰€æœ‰ç»“æœé›†æˆ–å®ƒç”Ÿæˆçš„æ›´æ–°è®¡æ•°ä¹‹åè¯­å¥æ‰å®Œæˆã€‚</p><p>â‘£. å…³é—­ Statement å¯¹è±¡</p><p>Statement å¯¹è±¡å°†ç”± Java åƒåœ¾æ”¶é›†ç¨‹åºè‡ªåŠ¨å…³é—­ã€‚è€Œä½œä¸ºä¸€ç§å¥½çš„ç¼–ç¨‹é£æ ¼ï¼Œåº”åœ¨ä¸éœ€è¦ Statement å¯¹è±¡æ—¶æ˜¾å¼åœ°å…³é—­å®ƒä»¬ã€‚è¿™å°†ç«‹å³é‡Šæ”¾ DBMS èµ„æºï¼Œæœ‰åŠ©äºé¿å…æ½œåœ¨çš„å†…å­˜é—®é¢˜ã€‚ å…³é—­Statementç”¨ stmt.close()â€ƒæ–¹æ³•ã€‚</p><p><strong>ResultSet</strong>ï¼š</p><p>ResultSet åŒ…å«ç¬¦åˆ SQL è¯­å¥ä¸­æ¡ä»¶çš„æ‰€æœ‰è¡Œï¼Œå¹¶ä¸”å®ƒé€šè¿‡ä¸€å¥— get æ–¹æ³•ï¼ˆè¿™äº› get æ–¹æ³•å¯ä»¥è®¿é—®å½“å‰è¡Œä¸­çš„ä¸åŒåˆ—ï¼‰æä¾›äº†å¯¹è¿™äº›è¡Œä¸­æ•°æ®çš„è®¿é—®ã€‚ResultSet.next æ–¹æ³•ç”¨äºç§»åŠ¨åˆ° ResultSet ä¸­çš„ä¸‹ä¸€è¡Œï¼Œä½¿ä¸‹ä¸€è¡Œæˆä¸ºå½“å‰è¡Œã€‚</p><p>ç»“æœé›†ä¸€èˆ¬æ˜¯ä¸€ä¸ªè¡¨ï¼Œå…¶ä¸­æœ‰æŸ¥è¯¢æ‰€è¿”å›çš„åˆ—æ ‡é¢˜åŠç›¸åº”çš„å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæŸ¥è¯¢ä¸º SELECT a, b, c FROM Table1ï¼Œåˆ™ç»“æœé›†å°†å…·æœ‰å¦‚ä¸‹å½¢å¼ï¼š</p><pre><code>a        b         c-------- --------- --------12345    Cupertino CA83472    Redmond   WA83492    Boston    MA</code></pre><p>ä¸‹é¢çš„ä»£ç æ®µæ˜¯æ‰§è¡Œ SQL è¯­å¥çš„ç¤ºä¾‹ã€‚è¯¥ SQL è¯­å¥å°†è¿”å›è¡Œé›†åˆï¼Œå…¶ä¸­åˆ— 1 ä¸º intï¼Œåˆ— 2 ä¸º Stringï¼Œè€Œåˆ— 3 åˆ™ä¸ºæ—¥æœŸå‹ï¼š</p><pre><code>Statement stmt = conn.createStatement();ResultSet rs = stmt.executeQuery("SELECT a, b, c FROM Table1");while (rs.next()) {	int i = rs.getint("a");	String s = rs.getString("b");	Timestamp t = rs.getTimestamp("c");}</code></pre><p>â‘ . è¡Œå’Œå…‰æ ‡</p><p>ResultSet ç»´æŠ¤æŒ‡å‘å…¶å½“å‰æ•°æ®è¡Œçš„å…‰æ ‡ã€‚æ¯è°ƒç”¨ä¸€æ¬¡ next æ–¹æ³•ï¼Œå…‰æ ‡å‘ä¸‹ç§»åŠ¨ä¸€è¡Œã€‚æœ€åˆå®ƒä½äºç¬¬ä¸€è¡Œä¹‹å‰ï¼Œå› æ­¤ç¬¬ä¸€æ¬¡è°ƒç”¨ next å°†æŠŠå…‰æ ‡ç½®äºç¬¬ä¸€è¡Œä¸Šï¼Œä½¿å®ƒæˆä¸ºå½“å‰è¡Œã€‚éšç€æ¯æ¬¡è°ƒç”¨ next å¯¼è‡´å…‰æ ‡å‘ä¸‹ç§»åŠ¨ä¸€è¡Œï¼ŒæŒ‰ç…§ä»ä¸Šè‡³ä¸‹çš„æ¬¡åºè·å– ResultSet è¡Œã€‚åœ¨ ResultSet å¯¹è±¡æˆ–å…¶çˆ¶è¾ˆ Statement å¯¹è±¡å…³é—­ä¹‹å‰ï¼Œå…‰æ ‡ä¸€ç›´ä¿æŒæœ‰æ•ˆã€‚</p><p>â‘¡. åˆ—</p><p>æ–¹æ³• getXXX æä¾›äº†è·å–å½“å‰è¡Œä¸­æŸåˆ—å€¼çš„é€”å¾„ã€‚åœ¨æ¯ä¸€è¡Œå†…ï¼Œå¯æŒ‰ä»»ä½•æ¬¡åºè·å–åˆ—å€¼ã€‚ä½†ä¸ºäº†ä¿è¯å¯ç§»æ¤æ€§ï¼Œåº”è¯¥ä»å·¦è‡³å³è·å–åˆ—å€¼ï¼Œå¹¶ä¸”ä¸€æ¬¡æ€§åœ°è¯»å–åˆ—å€¼ã€‚åˆ—åæˆ–åˆ—å·å¯ç”¨äºæ ‡è¯†è¦ä»ä¸­è·å–æ•°æ®çš„åˆ—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ ResultSet å¯¹è±¡ rs çš„ç¬¬äºŒåˆ—åä¸ºâ€œtitleâ€ï¼Œå¹¶å°†å€¼å­˜å‚¨ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™ä¸‹åˆ—ä»»ä¸€ä»£ç å°†è·å–å­˜å‚¨åœ¨è¯¥åˆ—ä¸­çš„å€¼ï¼š</p><pre><code>String s = rs.getString("title");String s = rs.getString(2);</code></pre><p>æ³¨æ„åˆ—æ˜¯ä»å·¦è‡³å³ç¼–å·çš„ï¼Œå¹¶ä¸”ä»åˆ— 1 å¼€å§‹ã€‚åŒæ—¶ï¼Œç”¨ä½œ getXXX æ–¹æ³•çš„è¾“å…¥çš„åˆ—åä¸åŒºåˆ†å¤§å°å†™ã€‚ ä¸ºäº†ä»£ç çš„å¯ç»´æŠ¤æ€§ä¸å¯è¯»æ€§ï¼Œâ€ƒåº”è¯¥ç¦æ­¢ç”¨indexçš„æ–¹æ³•æ¥å–å€¼ï¼Œâ€ƒè¦ç”¨è¯»åˆ—åçš„æ–¹æ³•ï¼Œâ€ƒå¦‚ä¸Šé¢çš„ç¬¬ä¸€è¡Œå–å€¼æ–¹æ³•ã€‚</p><p>â‘¢. æ•°æ®ç±»å‹å’Œè½¬æ¢</p><p>å¯¹äº getXXX æ–¹æ³•ï¼ŒJDBC é©±åŠ¨ç¨‹åºè¯•å›¾å°†åŸºæœ¬æ•°æ®è½¬æ¢æˆæŒ‡å®š Java ç±»å‹ï¼Œç„¶åè¿”å›é€‚åˆçš„ Java å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ getXXX æ–¹æ³•ä¸º getStringï¼Œè€ŒåŸºæœ¬æ•°æ®åº“ä¸­æ•°æ®ç±»å‹ä¸º VARCHARï¼Œåˆ™ JDBC é©±åŠ¨ç¨‹åºå°†æŠŠ VARCHAR è½¬æ¢æˆ Java Stringã€‚getString çš„è¿”å›å€¼å°†ä¸º Java String å¯¹è±¡ã€‚</p><p>â‘£. NULL ç»“æœå€¼</p><p>è¦ç¡®å®šç»™å®šç»“æœå€¼æ˜¯å¦æ˜¯ JDBC NULLï¼Œå¿…é¡»å…ˆè¯»å–è¯¥åˆ—ï¼Œç„¶åä½¿ç”¨ ResultSet.wasNull æ–¹æ³•æ£€æŸ¥è¯¥æ¬¡è¯»å–æ˜¯å¦è¿”å› JDBC NULLã€‚</p><p><strong>PreparedStatement</strong>ï¼š</p><p>è¯¥ PreparedStatement æ¥å£ç»§æ‰¿ Statementï¼Œå¹¶ä¸ä¹‹åœ¨ä¸¤æ–¹é¢æœ‰æ‰€ä¸åŒï¼š</p><p>PreparedStatement å®ä¾‹åŒ…å«å·²ç¼–è¯‘çš„ SQL è¯­å¥ã€‚è¿™å°±æ˜¯ä½¿è¯­å¥â€œå‡†å¤‡å¥½â€ã€‚ åŒ…å«äº PreparedStatement å¯¹è±¡ä¸­çš„ SQL è¯­å¥å¯å…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª IN å‚æ•°ã€‚IN å‚æ•°çš„å€¼åœ¨ SQL è¯­å¥åˆ›å»ºæ—¶æœªè¢«æŒ‡å®šã€‚ç›¸åçš„ï¼Œè¯¥è¯­å¥ä¸ºæ¯ä¸ª IN å‚æ•°ä¿ç•™ä¸€ä¸ªé—®å·ï¼ˆâ€œï¼Ÿâ€ï¼‰ä½œä¸ºå ä½ç¬¦ã€‚æ¯ä¸ªé—®å·çš„å€¼å¿…é¡»åœ¨è¯¥è¯­å¥æ‰§è¡Œä¹‹å‰ï¼Œé€šè¿‡é€‚å½“çš„ setXXX æ–¹æ³•æ¥æä¾›ã€‚</p><p>ç”±äº PreparedStatement å¯¹è±¡å·²é¢„ç¼–è¯‘è¿‡ï¼Œæ‰€ä»¥å…¶æ‰§è¡Œé€Ÿåº¦è¦å¿«äº Statement å¯¹è±¡ã€‚å› æ­¤ï¼Œå¤šæ¬¡æ‰§è¡Œçš„ SQL è¯­å¥ç»å¸¸åˆ›å»ºä¸º PreparedStatement å¯¹è±¡ï¼Œä»¥æé«˜æ•ˆç‡ã€‚</p><p>ä½œä¸º Statement çš„å­ç±»ï¼ŒPreparedStatement ç»§æ‰¿äº† Statement çš„æ‰€æœ‰åŠŸèƒ½ã€‚å¦å¤–å®ƒè¿˜æ·»åŠ äº†ä¸€æ•´å¥—æ–¹æ³•ï¼Œç”¨äºè®¾ç½®å‘é€ç»™æ•°æ®åº“ä»¥å–ä»£ IN å‚æ•°å ä½ç¬¦çš„å€¼ã€‚åŒæ—¶ï¼Œä¸‰ç§æ–¹æ³• executeã€ executeQuery å’Œ executeUpdate å·²è¢«æ›´æ”¹ä»¥ä½¿ä¹‹ä¸å†éœ€è¦å‚æ•°ã€‚</p><p>â‘ . åˆ›å»º PreparedStatement å¯¹è±¡</p><p>ä»¥ä¸‹çš„ä»£ç æ®µï¼ˆå…¶ä¸­ conn æ˜¯ Connection å¯¹è±¡ï¼‰åˆ›å»ºåŒ…å«å¸¦ä¸¤ä¸ª IN å‚æ•°å ä½ç¬¦çš„ SQL è¯­å¥çš„ PreparedStatement å¯¹è±¡ï¼š</p><pre><code>PreparedStatement pstmt=conn.prepareStatement("UPDATE table1 SET a = ? WHERE b = ?");</code></pre><p>pstmt å¯¹è±¡åŒ…å«è¯­å¥ " UPDATE table1 SET a = ? WHERE b = ?"ï¼Œå®ƒå·²å‘é€ç»™ DBMSï¼Œå¹¶ä¸ºæ‰§è¡Œä½œå¥½äº†å‡†å¤‡ã€‚</p><p>â‘¡. ä¼ é€’ IN å‚æ•°</p><p>åœ¨æ‰§è¡Œ PreparedStatement å¯¹è±¡ä¹‹å‰ï¼Œå¿…é¡»è®¾ç½®æ¯ä¸ª ? å‚æ•°çš„å€¼ã€‚è¿™å¯é€šè¿‡è°ƒç”¨ setXXX æ–¹æ³•æ¥å®Œæˆï¼Œå…¶ä¸­ XXX æ˜¯ä¸è¯¥å‚æ•°ç›¸åº”çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå‚æ•°å…·æœ‰ Java ç±»å‹ longï¼Œåˆ™ä½¿ç”¨çš„æ–¹æ³•å°±æ˜¯ setLongã€‚setXXX æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦è®¾ç½®çš„å‚æ•°çš„åºæ•°ä½ç½®ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è®¾ç½®ç»™è¯¥å‚æ•°çš„å€¼ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç å°†ç¬¬ä¸€ä¸ªå‚æ•°è®¾ä¸º 123456789ï¼Œç¬¬äºŒä¸ªå‚æ•°è®¾ä¸º 100000000ï¼š</p><pre><code>pstmt.setLong(1, 123456789);pstmt.setLong(2, 100000000);CallableStatement:</code></pre><p>CallableStatement å¯¹è±¡ä¸ºæ‰€æœ‰çš„ DBMS æä¾›äº†ä¸€ç§ä»¥æ ‡å‡†å½¢å¼è°ƒç”¨å·²å‚¨å­˜è¿‡ç¨‹(ä¹Ÿå°±æ˜¯ï¼³ï¼°)çš„æ–¹æ³•ã€‚å·²å‚¨å­˜è¿‡ç¨‹å‚¨å­˜åœ¨æ•°æ®åº“ä¸­ã€‚å¯¹å·²å‚¨å­˜è¿‡ç¨‹çš„è°ƒç”¨æ˜¯ CallableStatement å¯¹è±¡æ‰€å«çš„å†…å®¹ã€‚æœ‰ä¸¤ç§å½¢å¼ï¼šä¸€ç§å½¢å¼å¸¦ç»“æœå‚æ•°ï¼Œå¦ä¸€ç§å½¢å¼ä¸å¸¦ç»“æœå‚æ•°ã€‚ç»“æœå‚æ•°æ˜¯ä¸€ç§è¾“å‡º (OUT) å‚æ•°ï¼Œæ˜¯å·²å‚¨å­˜è¿‡ç¨‹çš„è¿”å›å€¼ã€‚ä¸¤ç§å½¢å¼éƒ½å¯å¸¦æœ‰æ•°é‡å¯å˜çš„è¾“å…¥ï¼ˆIN å‚æ•°ï¼‰ã€è¾“å‡ºï¼ˆOUT å‚æ•°ï¼‰æˆ–è¾“å…¥å’Œè¾“å‡ºï¼ˆINOUT å‚æ•°ï¼‰çš„å‚æ•°ã€‚é—®å·å°†ç”¨ä½œå‚æ•°çš„å ä½ç¬¦ã€‚</p><p>åœ¨ JDBC ä¸­è°ƒç”¨å·²å‚¨å­˜è¿‡ç¨‹çš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºã€‚æ³¨æ„ï¼Œæ–¹æ‹¬å·è¡¨ç¤ºå…¶é—´çš„å†…å®¹æ˜¯å¯é€‰é¡¹ï¼›æ–¹æ‹¬å·æœ¬èº«å¹¶ä¸æ˜¯è¯­æ³•çš„ç»„æˆéƒ¨ä»½ã€‚</p><pre><code>{call è¿‡ç¨‹å[(?, ?, ...)]}</code></pre><p>è¿”å›ç»“æœå‚æ•°çš„è¿‡ç¨‹çš„è¯­æ³•ä¸ºï¼š</p><pre><code>{? = call è¿‡ç¨‹å[(?, ?, ...)]}</code></pre><p>ä¸å¸¦å‚æ•°çš„å·²å‚¨å­˜è¿‡ç¨‹çš„è¯­æ³•ç±»ä¼¼ï¼š</p><pre><code>{call è¿‡ç¨‹å}</code></pre><p>é€šå¸¸ï¼Œåˆ›å»º CallableStatement å¯¹è±¡çš„äººåº”å½“çŸ¥é“æ‰€ç”¨çš„ DBMS æ˜¯æ”¯æŒå·²å‚¨å­˜è¿‡ç¨‹çš„ï¼Œå¹¶ä¸”çŸ¥é“è¿™äº›è¿‡ç¨‹éƒ½æ˜¯äº›ä»€ä¹ˆã€‚ç„¶è€Œï¼Œå¦‚æœéœ€è¦æ£€æŸ¥ï¼Œå¤šç§ DatabaseMetaData æ–¹æ³•éƒ½å¯ä»¥æä¾›è¿™æ ·çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ DBMS æ”¯æŒå·²å‚¨å­˜è¿‡ç¨‹çš„è°ƒç”¨ï¼Œåˆ™ supportsStoredProcedures æ–¹æ³•å°†è¿”å› trueï¼Œè€Œ getProcedures æ–¹æ³•å°†è¿”å›å¯¹å·²å‚¨å­˜è¿‡ç¨‹çš„æè¿°ã€‚</p><p>CallableStatement ç»§æ‰¿ Statement çš„æ–¹æ³•ï¼ˆå®ƒä»¬ç”¨äºå¤„ç†ä¸€èˆ¬çš„ SQL è¯­å¥ï¼‰ï¼Œè¿˜ç»§æ‰¿äº† PreparedStatement çš„æ–¹æ³•ï¼ˆå®ƒä»¬ç”¨äºå¤„ç† IN å‚æ•°ï¼‰ã€‚CallableStatement ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•éƒ½ç”¨äºå¤„ç† OUT å‚æ•°æˆ– INOUT å‚æ•°çš„è¾“å‡ºéƒ¨åˆ†ï¼šæ³¨å†Œ OUT å‚æ•°çš„ JDBC ç±»å‹ï¼ˆä¸€èˆ¬ SQL ç±»å‹ï¼‰ã€ä»è¿™äº›å‚æ•°ä¸­æ£€ç´¢ç»“æœï¼Œæˆ–è€…æ£€æŸ¥æ‰€è¿”å›çš„å€¼æ˜¯å¦ä¸º JDBC NULLã€‚</p><p>â‘¢. åˆ›å»º CallableStatement å¯¹è±¡</p><p>CallableStatement å¯¹è±¡æ˜¯ç”¨ Connection æ–¹æ³• prepareCall åˆ›å»ºçš„ã€‚ä¸‹ä¾‹åˆ›å»º CallableStatement çš„å®ä¾‹ï¼Œå…¶ä¸­å«æœ‰å¯¹å·²å‚¨å­˜è¿‡ç¨‹ Csc_ GetCustomIdè°ƒç”¨ã€‚è¯¥è¿‡ç¨‹æœ‰ä¸¤ä¸ªå˜é‡ï¼Œä½†ä¸å«ç»“æœå‚æ•°ï¼š</p><pre><code>CallableStatement cstmt = con.prepareCall("{call CSC_GetCustomId (?, ?, ?)}");</code></pre><p>å…¶ä¸­ ? å ä½ç¬¦ä¸º INã€ OUT è¿˜æ˜¯ INOUT å‚æ•°ï¼Œå–å†³äºå·²å‚¨å­˜è¿‡ç¨‹ Csc_ GetCustomIdã€‚</p><p>â‘£. IN å’Œ OUT å‚æ•°</p><p>å°†IN å‚æ•°ä¼ ç»™ CallableStatement å¯¹è±¡æ˜¯é€šè¿‡ setXXX æ–¹æ³•å®Œæˆçš„ã€‚è¯¥æ–¹æ³•ç»§æ‰¿è‡ª PreparedStatementã€‚æ‰€ä¼ å…¥å‚æ•°çš„ç±»å‹å†³å®šäº†æ‰€ç”¨çš„ setXXX æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼Œç”¨ setFloat æ¥ä¼ å…¥ float å€¼ç­‰ï¼‰ã€‚</p><p>å¦‚æœå·²å‚¨å­˜è¿‡ç¨‹è¿”å› OUT å‚æ•°ï¼Œåˆ™åœ¨æ‰§è¡Œ CallableStatement å¯¹è±¡ä»¥å‰å¿…é¡»å…ˆæ³¨å†Œæ¯ä¸ª OUT å‚æ•°çš„ JDBC ç±»å‹ï¼ˆè¿™æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºæŸäº› DBMS è¦æ±‚ JDBC ç±»å‹ï¼‰ã€‚æ³¨å†Œ JDBC ç±»å‹æ˜¯ç”¨ registerOutParameter æ–¹æ³•æ¥å®Œæˆçš„ã€‚è¯­å¥æ‰§è¡Œå®Œåï¼ŒCallableStatement çš„ getXXX æ–¹æ³•å°†å–å›å‚æ•°å€¼ã€‚æ­£ç¡®çš„ getXXX æ–¹æ³•æ˜¯ä¸ºå„å‚æ•°æ‰€æ³¨å†Œçš„ JDBC ç±»å‹æ‰€å¯¹åº”çš„ Java ç±»å‹ä¹Ÿå°±æ˜¯è¯´ï¼Œ registerOutParameter ä½¿ç”¨çš„æ˜¯ JDBC ç±»å‹ï¼ˆå› æ­¤å®ƒä¸æ•°æ®åº“è¿”å›çš„ JDBC ç±»å‹åŒ¹é…ï¼‰ï¼Œè€Œ getXXX å°†ä¹‹è½¬æ¢ä¸º Java ç±»å‹ã€‚ä¸‹é¢ç»™å‡ºCSCä¸­çš„ä¸€ä¸ªä¾‹å­ï¼š</p><pre><code>String sqlSp = "{call CSC_GetCustomId(?, ?, ?)}";cstmt = conn.prepareCall(sqlSp.toString());cstmt.registerOutParameter(1, Types.NUMERIC);cstmt.registerOutParameter(2, Types.NUMERIC);cstmt.registerOutParameter(3, Types.VARcHAR);cstmt.execute();long customerID = cstmt.getlong(1);long lRet = cstmt.getlong(2);String sErr = cstmt.getString(3);</code></pre><p>â‘¤. INOUT å‚æ•°</p><p>æ—¢æ”¯æŒè¾“å…¥åˆæ¥å—è¾“å‡ºçš„å‚æ•°ï¼ˆINOUT å‚æ•°ï¼‰é™¤äº†è°ƒç”¨ registerOutParameter æ–¹æ³•å¤–ï¼Œè¿˜è¦æ±‚è°ƒç”¨é€‚å½“çš„ setXXX æ–¹æ³•ï¼ˆè¯¥æ–¹æ³•æ˜¯ä» PreparedStatement ç»§æ‰¿æ¥çš„ï¼‰ã€‚setXXX æ–¹æ³•å°†å‚æ•°å€¼è®¾ç½®ä¸ºè¾“å…¥å‚æ•°ï¼Œè€Œ registerOutParameter æ–¹æ³•å°†å®ƒçš„ JDBC ç±»å‹æ³¨å†Œä¸ºè¾“å‡ºå‚æ•°ã€‚setXXX æ–¹æ³•æä¾›ä¸€ä¸ª Java å€¼ï¼Œè€Œé©±åŠ¨ç¨‹åºå…ˆæŠŠè¿™ä¸ªå€¼è½¬æ¢ä¸º JDBC å€¼ï¼Œç„¶åå°†å®ƒé€åˆ°æ•°æ®åº“ä¸­ã€‚è¿™ç§ IN å€¼çš„ JDBC ç±»å‹å’Œæä¾›ç»™ registerOutParameter æ–¹æ³•çš„ JDBC ç±»å‹åº”è¯¥ç›¸åŒã€‚ç„¶åï¼Œè¦æ£€ç´¢è¾“å‡ºå€¼ï¼Œå°±è¦ç”¨å¯¹åº”çš„ getXXX æ–¹æ³•ã€‚ä¾‹å¦‚ï¼ŒJava ç±»å‹ä¸º byte çš„å‚æ•°åº”è¯¥ä½¿ç”¨æ–¹æ³• setByte æ¥èµ‹è¾“å…¥å€¼ã€‚åº”è¯¥ç»™ registerOutParameter æä¾›ç±»å‹ä¸º TINYINT çš„ JDBC ç±»å‹ï¼ŒåŒæ—¶åº”ä½¿ç”¨ getByte æ¥æ£€ç´¢è¾“å‡ºå€¼ã€‚ä¸‹ä¾‹å‡è®¾æœ‰ä¸€ä¸ªå·²å‚¨å­˜è¿‡ç¨‹ reviseTotalï¼Œå…¶å”¯ä¸€å‚æ•°æ˜¯ INOUT å‚æ•°ã€‚æ–¹æ³• setByte æŠŠæ­¤å‚æ•°è®¾ä¸º 25ï¼Œé©±åŠ¨ç¨‹åºå°†æŠŠå®ƒä½œä¸º JDBC TINYINT ç±»å‹é€åˆ°æ•°æ®åº“ä¸­ã€‚æ¥ç€ï¼ŒregisterOutParameter å°†è¯¥å‚æ•°æ³¨å†Œä¸º JDBC TINYINTã€‚æ‰§è¡Œå®Œè¯¥å·²å‚¨å­˜è¿‡ç¨‹åï¼Œå°†è¿”å›ä¸€ä¸ªæ–°çš„ JDBC TINYINT å€¼ã€‚æ–¹æ³• getByte å°†æŠŠè¿™ä¸ªæ–°å€¼ä½œä¸º Java byte ç±»å‹æ£€ç´¢ã€‚</p><pre><code>CallableStatement cstmt = con.prepareCall("{call reviseTotal(?)}");cstmt.setbyte(1, 25);cstmt.registerOutParameter(1, java.sql.Types.TINYiNT);cstmt.executeUpdate();byte x = cstmt.getbyte(1);</code></pre><p><br></p><div class=pgc-img><img alt=Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ„å¸ˆçš„ä¸¤ä¸‡å­—æ€»ç»“ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/38e2b4ed-dac9-42c6-b3f4-2a650215eb2c><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>åä¸€ã€å¸¸ç”¨è®¾è®¡æ¨¡å¼</h1><p><strong>10.1 Singletonæ¨¡å¼</strong></p><p>Singletonæ¨¡å¼ä¸»è¦ä½œç”¨æ˜¯ä¿è¯åœ¨Javaåº”ç”¨ç¨‹åºä¸­ï¼Œä¸€ä¸ªClassåªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ã€‚ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p><p>â‘ . å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ƒçš„æ„é€ å‡½æ•°ä¸ºprivateçš„ï¼Œæ‰€æœ‰æ–¹æ³•ä¸ºstaticçš„ã€‚å…¶ä»–ç±»å¯¹å®ƒçš„å¼•ç”¨å…¨éƒ¨æ˜¯é€šè¿‡ç±»åç›´æ¥å¼•ç”¨ã€‚ä¾‹å¦‚ï¼š</p><pre><code>private SingleClass() {}public static String getMethod1() {}public static ArrayList getMethod2() {}</code></pre><p>â‘¡. å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ƒçš„æ„é€ å‡½æ•°ä¸ºprivateçš„ï¼Œå®ƒæœ‰ä¸€ä¸ªstaticçš„privateçš„è¯¥ç±»å˜é‡ï¼Œé€šè¿‡ä¸€ä¸ªpublicçš„getInstanceæ–¹æ³•è·å–å¯¹å®ƒçš„å¼•ç”¨,ç»§è€Œè°ƒç”¨å…¶ä¸­çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p><pre><code>private staitc SingleClass _instance = null;private SingleClass() {}public static SingleClass getInstance() {	if (_instance == null) {		_instance = new SingleClass();	}	return _instance;}public String getMethod1() {}public ArrayList getMethod2() {}</code></pre><p><strong>10.2 Prototypeæ¨¡å¼</strong></p><p>Prototypeæ¨¡å¼ç”¨äºåˆ›å»ºå¯¹è±¡ï¼Œå°¤å…¶æ˜¯å½“åˆ›å»ºå¯¹è±¡éœ€è¦è®¸å¤šæ—¶é—´å’Œèµ„æºæ—¶ã€‚åœ¨Javaä¸­ï¼ŒPrototypeæ¨¡å¼çš„å®ç°æ˜¯é€šè¿‡æ–¹æ³•clone(),è¯¥æ–¹æ³•å®šä¹‰åœ¨Javaçš„æ ¹å¯¹è±¡Objectä¸­, å› æ­¤ï¼ŒJavaä¸­çš„å…¶ä»–å¯¹è±¡åªè¦è¦†ç›–å®ƒå°±è¡Œäº†ã€‚é€šè¿‡clone(),æˆ‘ä»¬å¯ä»¥ä»ä¸€ä¸ªå¯¹è±¡è·å¾—æ›´å¤šçš„å¯¹è±¡ï¼Œ</p><p>å¹¶è¯·å¯ä»¥æŒ‰ç…§æˆ‘ä»¬çš„éœ€è¦ä¿®æ”¹ä»–ä»¬çš„å±æ€§ã€‚</p><pre><code>public class Prototype implements Cloneable {	private String Name;	public rototype(String Name) {		this.Name = Name;	}	public void setName(String Name) {		this.Name = Name;	}	public String getName() {		return Name;	}	public Object clone() {		try{			return super.clone();		}		catch(CloneNotSupportedException cnse){			cnse.printStackTrace();			return null;		}	}}Prototype p = new Prototype("My First Name");Prototype p1 = p.clone();p.setName("My Second Name");Prototype p2 = p.clone();</code></pre><p><strong>10.3 Factoryæ¨¡å¼å’ŒAbstract Factoryæ¨¡å¼</strong></p><p>â‘ . Factoryæ¨¡å¼</p><p>åˆ©ç”¨ç»™Factoryå¯¹è±¡ä¼ é€’ä¸åŒçš„å‚æ•°ï¼Œä»¥è¿”å›å…·æœ‰ç›¸åŒåŸºç±»æˆ–å®ç°äº†åŒä¸€æ¥å£çš„å¯¹è±¡ã€‚</p><p>â‘¡. Abstract Factoryæ¨¡å¼</p><p>å…ˆåˆ©ç”¨Factoryæ¨¡å¼è¿”å›Factoryå¯¹è±¡ï¼Œåœ¨é€šè¿‡Factoryå¯¹è±¡è¿”å›ä¸åŒçš„å¯¹è±¡ï¼</p><p>ä¸‹é¢ç»™å‡ºSun XML Parserä¸­çš„ä¾‹å­ï¼š</p><pre><code>// 1. Abstract Factoryæ¨¡å¼SAXParserFactory spf = SAXParserFactory.newInstance();String validation = System.getProperty ("javax.xml.parsers.validation", "false");if (validation.equalsIgnoreCase("true")) {	spf.setValidating (true);}// 2. Factoryæ¨¡å¼SAXParser sp = spf.newSAXParser();parser = sp.getParser();parser.setDocumentHandler(this);parser.parse (uri);</code></pre><ol start=1><li>SAXParserFactoryä¸­çš„é™æ€æ–¹æ³•newInstance()æ ¹æ®ç³»ç»Ÿå±æ€§javax.xml.parsers.SAXParserFactoryä¸åŒçš„å€¼ç”Ÿæˆä¸åŒçš„SAXParserFactoryå¯¹è±¡spfã€‚ç„¶åSAXParserFactoryå¯¹è±¡åˆåˆ©ç”¨æ–¹æ³•newSAXParser()ç”ŸæˆSAXParserå¯¹è±¡ã€‚</li></ol><p>æ³¨æ„ï¼š</p><p>SAXParserFactory çš„å®šä¹‰ä¸ºï¼š</p><pre><code>public abstract class SAXParserFactory extends java.lang.Object</code></pre><p>SAXParserFactoryImpl çš„å®šä¹‰ä¸ºï¼š</p><pre><code>public class SAXParserFactoryImpl extends javax.xml.parsers.SAXParserFactorypublic static SAXParserFactory newInstance() {	String factoryImplName = null;	try {		factoryImplName =System.getProperty("javax.xml.parsers.SAXParserFactory",								"com.sun.xml.parser.SAXParserFactoryImpl");	}	catch (SecurityException se) {		factoryImplName = "com.sun.xml.parser.SAXParserFactoryImpl";	}	SAXParserFactory factoryImpl;	try {		Class clazz = Class.forName(factoryImplName);		factoryImpl = (SAXParserFactory) clazz.newInstance();	}	catch (ClassNotFoundException cnfe) {		throw new FactoryConfigurationError(cnfe);	}	catch (IllegalAccessException iae) {		throw new FactoryConfigurationError(iae);	}	catch (InstantiationException ie) {		throw new FactoryConfigurationError(ie);	}	return factoryImpl;}</code></pre><ol start=2><li>newSAXParser() æ–¹æ³•åœ¨SAXParserFactoryå®šä¹‰ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œ</li></ol><p>SAXParserFactoryImplç»§æ‰¿äº†SAXParserFactoryï¼Œå®ƒå®ç°äº†æ–¹æ³•newSAXParser()ï¼š</p><pre><code>public SAXParser newSAXParser()throws SAXException, ParserConfigurationException {	SAXParserImpl saxParserImpl = new SAXParserImpl(this);	return saxParserImpl;}</code></pre><p>æ³¨æ„ï¼š</p><p>SAXParserImplçš„å®šä¹‰ä¸ºï¼š</p><pre><code>public class SAXParserImpl extends javax.xml.parsers.SAXParser</code></pre><p>SAXParserImplçš„æ„é€ å‡½æ•°å®šä¹‰ä¸ºï¼š</p><pre><code>public SAXParserImpl(SAXParserFactory spf)throws SAXException, ParserConfigurationException {	super();	this.spf = spf;	if (spf.isValidating ()) {		parser = new ValidatingParser();		validating = true;	} else {		parser = new Parser();	}	if (spf.isNamespaceAware ()) {		namespaceAware = true;		throw new ParserConfigurationException(		"Namespace not supported by SAXParser");	}}</code></pre><h1 class=pgc-h-arrow-right>å†™åœ¨æœ€åï¼š</h1><ul><li><strong>é’ˆå¯¹äºJavaç¨‹åºå‘˜ï¼Œç¬”è€…æœ€è¿‘æ•´ç†äº†ä¸€äº›é¢è¯•çœŸé¢˜ï¼Œæ€ç»´å¯¼å›¾ï¼Œç¨‹åºäººç”Ÿç­‰PDFå­¦ä¹ èµ„æ–™ï¼›</strong></li><li><strong>å…³æ³¨ç§ä¿¡æˆ‘"86"ï¼Œå³å¯è·å–ï¼</strong></li><li><strong>å¸Œæœ›è¯»åˆ°è¿™çš„æ‚¨èƒ½ç‚¹ä¸ªå°èµå’Œå…³æ³¨ä¸‹æˆ‘ï¼Œä»¥åè¿˜ä¼šæ›´æ–°æŠ€æœ¯å¹²è´§ï¼Œè°¢è°¢æ‚¨çš„æ”¯æŒï¼</strong></li></ul><div class=pgc-img><img alt=Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ„å¸ˆçš„ä¸¤ä¸‡å­—æ€»ç»“ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fd2fab2ea6e84ee2827fcbbbb89fe2d6><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Java','API','æ„å¸ˆ'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>