<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Python Matplotlib ç®€æ˜“æ•™ç¨‹ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Python Matplotlib ç®€æ˜“æ•™ç¨‹ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/1b9317bfa8f44db28702e7e1e66f11ae"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/18dd62f.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/18dd62f.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/18dd62f.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/18dd62f.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/18dd62f.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/18dd62f.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/18dd62f.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/18dd62f.html><meta property="article:published_time" content="2020-10-29T21:06:43+08:00"><meta property="article:modified_time" content="2020-10-29T21:06:43+08:00"><meta name=Keywords content><meta name=description content="Python Matplotlib ç®€æ˜“æ•™ç¨‹"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/18dd62f.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Python Matplotlib ç®€æ˜“æ•™ç¨‹</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p><strong>ç®€å•æ¼”ç¤º</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as np# ä»[-1,1]ä¸­ç­‰è·å»50ä¸ªæ•°ä½œä¸ºxçš„å–å€¼x = np.linspace(-1, 1, 50)print(x)y = 2*x + 1# ç¬¬ä¸€ä¸ªæ˜¯æ¨ªåº§æ ‡çš„å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯çºµåº§æ ‡çš„å€¼plt.plot(x, y)# å¿…è¦æ–¹æ³•ï¼Œç”¨äºå°†è®¾ç½®å¥½çš„figureå¯¹è±¡æ˜¾ç¤ºå‡ºæ¥plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/1b9317bfa8f44db28702e7e1e66f11ae><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as npx = np.linspace(-1, 1, 50)y = 2**x + 1# ç¬¬ä¸€ä¸ªæ˜¯æ¨ªåº§æ ‡çš„å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯çºµåº§æ ‡çš„å€¼plt.plot(x, y) plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e9c0944fe8e14489b04251d3ea0cbab7><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>æ˜¾ç¤ºå¤šä¸ªå›¾åƒ</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as np# å¤šä¸ªfigurex = np.linspace(-1, 1, 50)y1 = 2*x + 1y2 = 2**x + 1# ä½¿ç”¨figure()å‡½æ•°é‡æ–°ç”³è¯·ä¸€ä¸ªfigureå¯¹è±¡# æ³¨æ„ï¼Œæ¯æ¬¡è°ƒç”¨figureçš„æ—¶å€™éƒ½ä¼šé‡æ–°ç”³è¯·ä¸€ä¸ªfigureå¯¹è±¡plt.figure()# ç¬¬ä¸€ä¸ªæ˜¯æ¨ªåº§æ ‡çš„å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯çºµåº§æ ‡çš„å€¼plt.plot(x, y1)# ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯ç¼–å·ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºçš„æ˜¯å›¾è¡¨çš„é•¿å®½plt.figure(num = 3, figsize=(8, 5))# å½“æˆ‘ä»¬éœ€è¦åœ¨ç”»æ¿ä¸­ç»˜åˆ¶ä¸¤æ¡çº¿çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•ï¼šplt.plot(x, y2)plt.plot(x, y1,  color='red', # çº¿é¢œè‰² linewidth=1.0, # çº¿å®½  linestyle='--' # çº¿æ ·å¼ )plt.show()</pre><p>è¿™é‡Œä¼šæ˜¾ç¤ºä¸¤ä¸ªå›¾åƒï¼š</p><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/61b13be24694454192c16f82489a2b59><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2e4da428d9d24fee862a430b8dc2f64a><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>å»é™¤è¾¹æ¡†ï¼ŒæŒ‡å®šè½´çš„åç§°</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as np# ä»[-1,1]ä¸­ç­‰è·å»50ä¸ªæ•°ä½œä¸ºxçš„å–å€¼x = np.linspace(-1, 1, 50)y1 = 2*x + 1y2 = 2**x + 1# è¯·æ±‚ä¸€ä¸ªæ–°çš„figureå¯¹è±¡plt.figure()# ç¬¬ä¸€ä¸ªæ˜¯æ¨ªåº§æ ‡çš„å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯çºµåº§æ ‡çš„å€¼plt.plot(x, y1) # è®¾ç½®è½´çº¿çš„lableï¼ˆæ ‡ç­¾ï¼‰plt.xlabel("I am x")plt.ylabel("I am y")plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/45d10ede4f6e4ba1a9a23a6c102153f7><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>åŒæ—¶ç»˜åˆ¶å¤šæ¡æ›²çº¿</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as np# ä»[-1,1]ä¸­ç­‰è·å»50ä¸ªæ•°ä½œä¸ºxçš„å–å€¼x = np.linspace(-1, 1, 50)y1 = 2*x + 1y2 = 2**x + 1# numè¡¨ç¤ºçš„æ˜¯ç¼–å·ï¼Œfigsizeè¡¨ç¤ºçš„æ˜¯å›¾è¡¨çš„é•¿å®½plt.figure(num = 3, figsize=(8, 5)) plt.plot(x, y2)# è®¾ç½®çº¿æ¡çš„æ ·å¼plt.plot(x, y1,  color='red', # çº¿æ¡çš„é¢œè‰² linewidth=1.0, # çº¿æ¡çš„ç²—ç»† linestyle='--' # çº¿æ¡çš„æ ·å¼ )# è®¾ç½®å–å€¼å‚æ•°èŒƒå›´plt.xlim((-1, 2)) # xå‚æ•°èŒƒå›´plt.ylim((1, 3)) # yå‚æ•°èŒƒå›´# è®¾ç½®ç‚¹çš„ä½ç½®new_ticks = np.linspace(-1, 2, 5)plt.xticks(new_ticks)# ä¸ºç‚¹çš„ä½ç½®è®¾ç½®å¯¹åº”çš„æ–‡å­—ã€‚# ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç‚¹çš„ä½ç½®ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç‚¹çš„æ–‡å­—æç¤ºã€‚plt.yticks([-2, -1.8, -1, 1.22, 3], [r'$really\ bad$', r'$bad$', r'$normal$', r'$good$', r'$readly\ good$'])# gca = 'get current axis'ax = plt.gca()# å°†å³è¾¹å’Œä¸Šè¾¹çš„è¾¹æ¡†ï¼ˆè„Šï¼‰çš„é¢œè‰²å»æ‰ax.spines['right'].set_color('none')ax.spines['top'].set_color('none')# ç»‘å®šxè½´å’Œyè½´ax.xaxis.set_ticks_position('bottom')ax.yaxis.set_ticks_position('left')# å®šä¹‰xè½´å’Œyè½´çš„ä½ç½®ax.spines['bottom'].set_position(('data', 0))ax.spines['left'].set_position(('data', 0))plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d07258925f774323a0776fde771bee46><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>å¤šæ¡æ›²çº¿ä¹‹æ›²çº¿è¯´æ˜</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as np# ä»[-1,1]ä¸­ç­‰è·å»50ä¸ªæ•°ä½œä¸ºxçš„å–å€¼x = np.linspace(-1, 1, 50)y1 = 2*x + 1y2 = 2**x + 1# ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯ç¼–å·ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºçš„æ˜¯å›¾è¡¨çš„é•¿å®½plt.figure(num = 3, figsize=(8, 5)) plt.plot(x, y2)plt.plot(x, y1, color='red', linewidth=1.0, linestyle='--')# è®¾ç½®å–å€¼å‚æ•°plt.xlim((-1, 2))plt.ylim((1, 3))# è®¾ç½®lableplt.xlabel("I am x")plt.ylabel("I am y")# è®¾ç½®ç‚¹çš„ä½ç½®new_ticks = np.linspace(-1, 2, 5)plt.xticks(new_ticks)plt.yticks([-2, -1.8, -1, 1.22,3], [r'$really\ bad$', r'$bad$', r'$normal$', r'$good$', r'$readly\ good$'])l1, = plt.plot(x, y2,  label='aaa' )l2, = plt.plot(x, y1,  color='red', # çº¿æ¡é¢œè‰² linewidth = 1.0, # çº¿æ¡å®½åº¦ linestyle='-.', # çº¿æ¡æ ·å¼ label='bbb' #æ ‡ç­¾ )# ä½¿ç”¨ï½Œï½…ï½‡ï½…ï½ï½„ç»˜åˆ¶å¤šæ¡æ›²çº¿plt.legend(handles=[l1, l2],  labels = ['aaa', 'bbb'],  loc = 'best' )plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2761f7b6e0814b749b89f900c62a350e><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>å¤šä¸ªfigureï¼Œå¹¶åŠ ä¸Šç‰¹æ®Šç‚¹æ³¨é‡Š</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as np# ä»[-1,1]ä¸­ç­‰è·å»50ä¸ªæ•°ä½œä¸ºxçš„å–å€¼x = np.linspace(-1, 1, 50)y1 = 2*x + 1y2 = 2**x + 1plt.figure(figsize=(12, 8)) # ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯ç¼–å·ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºçš„æ˜¯å›¾è¡¨çš„é•¿å®½plt.plot(x, y2)plt.plot(x, y1, color='red', linewidth=1.0, linestyle='--')# gca = 'get current axis'ax = plt.gca()# å°†å³è¾¹å’Œä¸Šè¾¹çš„è¾¹æ¡†ï¼ˆè„Šï¼‰çš„é¢œè‰²å»æ‰ax.spines['right'].set_color('none')ax.spines['top'].set_color('none')# ç»‘å®šxè½´å’Œyè½´ax.xaxis.set_ticks_position('bottom')ax.yaxis.set_ticks_position('left')# å®šä¹‰xè½´å’Œyè½´çš„ä½ç½®ax.spines['bottom'].set_position(('data', 0))ax.spines['left'].set_position(('data', 0))# æ˜¾ç¤ºäº¤å‰ç‚¹x0 = 1y0 = 2*x0 + 1# sè¡¨ç¤ºç‚¹çš„å¤§å°ï¼Œé»˜è®¤rcParams['lines.markersize']**2plt.scatter(x0, y0, s = 66, color = 'b')# å®šä¹‰çº¿çš„èŒƒå›´ï¼ŒXçš„èŒƒå›´æ˜¯å®šå€¼ï¼Œyçš„èŒƒå›´æ˜¯ä»y0åˆ°0çš„ä½ç½®# lwçš„æ„æ€æ˜¯linewidth,çº¿å®½plt.plot([x0, x0], [y0, 0], 'k-.', lw= 2.5)# è®¾ç½®å…³é”®ä½ç½®çš„æç¤ºä¿¡æ¯plt.annotate(r'$2x+1=%s$' %  y0,  xy=(x0, y0),  xycoords='data',  xytext=(+30, -30), textcoords='offset points', fontsize=16, # è¿™é‡Œè®¾ç½®çš„æ˜¯å­—ä½“çš„å¤§å° # è¿™é‡Œè®¾ç½®çš„æ˜¯ç®­å¤´å’Œç®­å¤´çš„å¼§åº¦ arrowprops=dict(arrowstyle='-&gt;',connectionstyle='arc3,rad=.2') )# åœ¨figureä¸­æ˜¾ç¤ºæ–‡å­—ä¿¡æ¯# å¯ä»¥ä½¿ç”¨\æ¥è¾“å‡ºç‰¹æ®Šçš„å­—ç¬¦\mu\ \sigma\ \alphaplt.text(0, 3,  r'$This\ is\ a\ good\ idea.\ \mu\ \sigma_i\ \alpha_t$', fontdict={'size':16,'color':'r'})plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/72bc1c658a78480897e23b29bd1889b5><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>tickèƒ½è§åº¦è®¾ç½®</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as np# ä»[-1,1]ä¸­ç­‰è·å»50ä¸ªæ•°ä½œä¸ºxçš„å–å€¼x = np.linspace(-1, 1, 50)y = 2*x - 1plt.figure(figsize=(12, 8)) # ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯ç¼–å·ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºçš„æ˜¯å›¾è¡¨çš„é•¿å®½# alphaæ˜¯è®¾ç½®é€æ˜åº¦çš„plt.plot(x, y, color='r', linewidth=10.0, alpha=0.5)# gca = 'get current axis'ax = plt.gca()# å°†å³è¾¹å’Œä¸Šè¾¹çš„è¾¹æ¡†ï¼ˆè„Šï¼‰çš„é¢œè‰²å»æ‰ax.spines['right'].set_color('none')ax.spines['top'].set_color('none')# ç»‘å®šxè½´å’Œyè½´ax.xaxis.set_ticks_position('bottom')ax.yaxis.set_ticks_position('left')# å®šä¹‰xè½´å’Œyè½´çš„ä½ç½®ax.spines['bottom'].set_position(('data', 0))ax.spines['left'].set_position(('data', 0))# å¯ä»¥ä½¿ç”¨tickè®¾ç½®é€æ˜åº¦for label in ax.get_xticklabels() + ax.get_yticklabels(): label.set_fontsize(12) label.set_bbox(dict(facecolor='y', edgecolor='None', alpha=0.7))plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/90bdab9095364c1cb37fb6cc4d4263d2><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>å¤šæ¡æ›²çº¿é€šç”¨ä¾‹å­</strong></p><ul><li><br></li></ul><pre>def init_colors(): return ['blue', 'red', 'green', 'black', 'pink', 'purple', 'gray', 'yellow']def show_graph(data, save_png_name=None, colors=init_colors()): """ ç»˜åˆ¶æŠ˜çº¿å›¾ :param data: æ•°æ®æ ¼å¼ï¼š{label:{X:Y}, label:{X:Y}...} :param save_png_name:ä¿å­˜çš„å›¾ç‰‡çš„åå­— :param colors: é¢œè‰²åˆ—è¡¨ :return: None """ # è§£å†³ä¸­æ–‡æ˜¾ç¤ºä¹±ç çš„é—®é¢˜ï¼Œä¸ç”¨ä¸­æ–‡å°±ä¸éœ€è¦è®¾ç½®äº† my_font = font_manager.FontProperties(fname="/è‡ªå·±è¡¥å……è·¯å¾„/IOS8.ttf")  plt.figure(figsize=(14, 6)) plts = [] labels = [] for index, label in enumerate(data.keys()): if label is 'rotate': continue color = colors[index] X = data.get(label).keys() Y = [data.get(label).get(x) for x in X] temp, = plt.plot(X, Y, color=color, label=label) plts.append(temp) labels.append(label) plt.legend(handles=plts, labels=labels, prop=my_font) plt.show() if save_png_name is not None: plt.savefig(save_png_name)</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2262008d90254a1cbf77de0646821801><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0c09439484b24d86b9da9c917284632e><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>æ•£ç‚¹å›¾</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as npn = 1024# ä»[0]X = np.random.normal(0, 1, n)Y = np.random.normal(0, 1, n)T = np.arctan2(X, Y)plt.scatter(np.arange(5), np.arange(5))plt.xticks(())plt.yticks(())plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d0b9eac8681b4166b3a1074f3e6bbb9f><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>æ¡å½¢å›¾</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as npn = 12X = np.arange(n)Y1 = (1 - X/float(n)) * np.random.uniform(0.5, 1.0, n)Y2 = (1 - X/float(n)) * np.random.uniform(0.5, 1.0, n)plt.figure(figsize=(12, 8))plt.bar(X, +Y1, facecolor='#9999ff', edgecolor='white')plt.bar(X, -Y2, facecolor='#ff9999', edgecolor='white')for x, y in zip(X,Y1): # ha: horizontal alignmentæ°´å¹³æ–¹å‘ # va: vertical alignmentå‚ç›´æ–¹å‘ plt.text(x, y+0.05, '%.2f' % y, ha='center', va='bottom')for x, y in zip(X,-Y2): # ha: horizontal alignmentæ°´å¹³æ–¹å‘ # va: vertical alignmentå‚ç›´æ–¹å‘ plt.text(x, y-0.05, '%.2f' % y, ha='center', va='top') # å®šä¹‰èŒƒå›´å’Œæ ‡ç­¾plt.xlim(-.5, n)plt.xticks(())plt.ylim(-1.25, 1.25)plt.yticks(())plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/97eb1df6a81747249e1f7f52bb9a8d9b><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>contourç­‰é«˜çº¿å›¾</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as npdef get_height(x, y): # the height function return (1-x/2+x**5+y**3)*np.exp(-x**2-y**2)n = 256x = np.linspace(-3, 3, n)y = np.linspace(-3, 3, n)X, Y = np.meshgrid(x, y)plt.figure(figsize=(14, 8))# use plt.contourf to filling contours# X, Y and value for (X, Y) point# æ¨ªåº§æ ‡ã€çºµåº§æ ‡ã€é«˜åº¦ã€ ã€é€æ˜åº¦ã€cmapæ˜¯é¢œè‰²å¯¹åº”è¡¨# ç­‰é«˜çº¿çš„å¡«å……é¢œè‰²plt.contourf(X, Y, get_height(X, Y), 16, alpah=0.7, cmap=plt.cm.hot) # use plt.contour to add contour lines# è¿™é‡Œæ˜¯ç­‰é«˜çº¿çš„çº¿C = plt.contour(X, Y, get_height(X, Y), 16, color='black', linewidth=.5)# adding labelplt.clabel(C, inline=True, fontsize=16)plt.xticks(())plt.yticks(())plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a659223e2b5e4379960c1993990903e2><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>imageå›¾ç‰‡æ˜¾ç¤º</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as np# image dataa = np.array([0.313660827978, 0.365348418405, 0.423733120134, 0.365348418405, 0.439599930621, 0.525083754405, 0.423733120134, 0.525083754405, 0.651536351379]).reshape(3,3)"""for the value of "interpolation", check this:http://matplotlib.org/examples/images_contours_and_fields/interpolation_methods.htmlfor the value of "origin"= ['upper', 'lower'], check this:http://matplotlib.org/examples/pylab_examples/image_origin.html"""# è¿™æ˜¯é¢œè‰²çš„æ ‡æ³¨# ä¸»è¦ä½¿ç”¨imshowæ¥æ˜¾ç¤ºå›¾ç‰‡ï¼Œè¿™é‡Œæš‚æ—¶ä¸é€‚ç”¨å›¾ç‰‡æ¥æ˜¾ç¤ºï¼Œé‡‡ç”¨è‰²å—çš„æ–¹å¼æ¼”ç¤ºã€‚plt.imshow(a, interpolation='nearest', cmap='bone', origin='lower')plt.colorbar(shrink=.90) # è¿™æ˜¯é¢œè‰²æ·±åº¦çš„æ ‡æ³¨ï¼Œshrinkè¡¨ç¤ºå‹ç¼©æ¯”ä¾‹plt.xticks(())plt.yticks(())plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/29064301b32f4f2aa7251d51b88dad73><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>3Dæ•°æ®å›¾</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as npfrom mpl_toolkits.mplot3d import Axes3Dfig = plt.figure(figsize=(12, 8))ax = Axes3D(fig)# ç”ŸæˆXï¼ŒYX = np.arange(-4, 4, 0.25)Y = np.arange(-4, 4, 0.25)X,Y = np.meshgrid(X, Y)R = np.sqrt(X**2 + Y**2)# height valueZ = np.sin(R)# ç»˜å›¾# rstrideï¼ˆrowï¼‰å’Œcstride(column)è¡¨ç¤ºçš„æ˜¯è¡Œåˆ—çš„è·¨åº¦ax.plot_surface(X, Y, Z,  rstride=1, # è¡Œçš„è·¨åº¦ cstride=1, # åˆ—çš„è·¨åº¦ cmap=plt.get_cmap('rainbow') # é¢œè‰²æ˜ å°„æ ·å¼è®¾ç½® )# offset è¡¨ç¤ºè·ç¦»zdirçš„è½´è·ç¦»ax.contourf(X, Y, Z, zdir='z', offest=-2, cmap='rainbow')ax.set_zlim(-2, 2)plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c98ba90ff2c34eb083d8b6e79634d4dd><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>Subplotå¤šåˆä¸€æ˜¾ç¤º</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as npplt.figure()# å°†æ•´ä¸ªfigureåˆ†æˆä¸¤è¡Œä¸¤åˆ—plt.subplot(2, 2, 1)# ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºXçš„èŒƒå›´ï¼Œç¬¬äºŒä¸ªæ˜¯yçš„èŒƒå›´plt.plot([0, 1], [0, 1])plt.subplot(222)plt.plot([0, 1], [0, 2])plt.subplot(223)plt.plot([0, 1], [0, 3])plt.subplot(224)plt.plot([0, 1], [0, 4])plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/612f37d9c2814a40b712174127a23bf9><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>åˆ†æ ¼æ˜¾ç¤º</strong></p><ul><li><br></li></ul><pre>subplot2gridimport matplotlib.pyplot as pltimport numpy as npimport matplotlib.gridspec as gridspecplt.figure()# ç¬¬ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºå°†æ€»çš„é¢æ¿è¿›è¡Œåˆ’åˆ†ï¼Œåˆ’åˆ†ä¸º3è¡Œ3åˆ—ï¼Œ# ç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºè¯¥é¢æ¿ä»0è¡Œ0åˆ—å¼€å§‹ï¼Œåˆ—çš„è·¨åº¦ï¼ˆcolspanï¼‰ä¸º3åˆ—ï¼Œè¡Œçš„è·¨åº¦ï¼ˆrowspanï¼‰ä¸º1ax1 = plt.subplot2grid((3, 3), (0, 0), colspan=3, rowspan=1)# ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¡¨ç¤ºXçš„èŒƒå›´ä¸º[1,2]ï¼Œç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºYçš„èŒƒå›´ä¸º[1,2]ax1.plot([1, 2], [1, 2])ax1.set_title(r'$ax1\_title$')# ç¬¬ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºå°†æ€»çš„é¢æ¿è¿›è¡Œåˆ’åˆ†ï¼Œåˆ’åˆ†ä¸º3è¡Œ3åˆ—ï¼Œ# ç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºè¯¥é¢æ¿ä»1è¡Œ0åˆ—å¼€å§‹ï¼Œåˆ—çš„è·¨åº¦ï¼ˆcolspanï¼‰ä¸º2åˆ—ï¼Œè¡Œçš„è·¨åº¦ï¼ˆrowspanï¼‰å–é»˜è®¤å€¼1ax2 = plt.subplot2grid((3, 3), (1, 0), colspan=2)ax2.set_title(r'$ax2\_title$')# ç¬¬ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºå°†æ€»çš„é¢æ¿è¿›è¡Œåˆ’åˆ†ï¼Œåˆ’åˆ†ä¸º3è¡Œ3åˆ—ï¼Œ# ç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºè¯¥é¢æ¿ä»1è¡Œ2åˆ—å¼€å§‹ï¼Œè¡Œçš„è·¨åº¦ï¼ˆrowspanï¼‰ä¸º2åˆ—ï¼Œåˆ—çš„è·¨åº¦ï¼ˆcolspanï¼‰å–é»˜è®¤å€¼1ax3 = plt.subplot2grid((3, 3), (1, 2), rowspan=2)ax3.set_title(r'$ax3\_title$')# ç¬¬ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºå°†æ€»çš„é¢æ¿è¿›è¡Œåˆ’åˆ†ï¼Œåˆ’åˆ†ä¸º3è¡Œ3åˆ—ï¼Œ# ç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºè¯¥é¢æ¿ä»2è¡Œ0åˆ—å¼€å§‹,è¡Œçš„è·¨åº¦ï¼ˆrowspanï¼‰ä¸º2åˆ—ï¼Œåˆ—çš„è·¨åº¦ï¼ˆcolspanï¼‰å–é»˜è®¤å€¼1ax4 = plt.subplot2grid((3, 3), (2, 0))ax4.set_title(r'$ax4\_title$')# ç¬¬ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºå°†æ€»çš„é¢æ¿è¿›è¡Œåˆ’åˆ†ï¼Œåˆ’åˆ†ä¸º3è¡Œ3åˆ—ï¼Œ# ç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºè¯¥é¢æ¿ä»2è¡Œ1åˆ—å¼€å§‹,è¡Œçš„è·¨åº¦ï¼ˆrowspanï¼‰ä¸º2åˆ—ï¼Œåˆ—çš„è·¨åº¦ï¼ˆcolspanï¼‰å–é»˜è®¤å€¼1ax5 = plt.subplot2grid((3, 3), (2, 1))ax5.set_title(r'$ax5\_title$')plt.tight_layout()plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0ede18648c9546f1bb05f8d87567321a><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>gridspec</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as npplt.figure()# é¦–å…ˆï¼Œå®šä¹‰ç½‘æ ¼çš„å¸ƒå±€ä¸º3è¡Œ3åˆ—gs = gridspec.GridSpec(3, 3)# è¿™é‡Œè¡¨ç¤ºä»0è¡Œå…¨éƒ¨éƒ½æ˜¯ax1çš„ax1 = plt.subplot(gs[0, :])ax1.set_title(r'$ax1\_title$')# è¿™é‡Œè¡¨ç¤ºç¬¬ä¸€è¡Œä¸­0åˆ—å’Œ1åˆ—éƒ½æ˜¯ax2çš„ax2 = plt.subplot(gs[1, :2])ax2.set_title(r'$ax2\_title$')# è¿™é‡Œè¡¨ç¤ºç¬¬ä¸€è¡Œä¸­2åˆ—æ˜¯ax3çš„ax3 = plt.subplot(gs[1:, 2])ax3.set_title(r'$ax3\_title$')# è¿™é‡Œè¡¨ç¤ºæœ€åä¸€è¡Œä¸­0åˆ—æ˜¯ax4çš„ax4 = plt.subplot(gs[-1, 0])ax4.set_title(r'$ax4\_title$')# è¿™é‡Œè¡¨ç¤ºæœ€åä¸€è¡Œä¸­å€’æ•°ç¬¬äºŒåˆ—æ˜¯ax5çš„ax5 = plt.subplot(gs[-1, -2])ax5.set_title(r'$ax5\_title$')plt.tight_layout()plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0c81c1526cbb4f41a8cdd65028d386a5><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>easy to define structureåˆ†æ ¼æ˜¾ç¤º</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as npplt.figure()# sharexè¡¨ç¤ºå…±äº«Xè½´ï¼Œshareyè¡¨ç¤ºå…±äº«yè½´f, ((ax11, ax12), (ax21, ax22)) = plt.subplots(2, 2, sharex=True, sharey=True)# æ˜¾ç¤ºç‚¹ï¼ˆ1, 2ï¼‰, ï¼ˆ1, 2ï¼‰ax11.scatter([1, 2], [1, 2])ax11.set_title('11')ax12.set_title('11')ax21.set_title('21')ax22.set_title('22')plt.tight_layout()plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/10c5059c600e4ea5888b8ec3400b0646><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>å›¾ä¸­å›¾</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as npfig = plt.figure(figsize=(10, 6))x = [1, 2, 3, 4, 5, 6, 7]y = [1, 3, 4, 2, 5, 8, 6]# å¤§å›¾left, bottom, width, weight = 0.1, 0.1, 0.8, 0.8ax1 = fig.add_axes([left, bottom, width, weight])ax1.plot(x, y, 'r')ax1.set_xlabel(r'$x$')ax1.set_ylabel(r'$y$')ax1.set_title(r'$Ã—Ã—InterestingÃ—Ã—$')# å·¦ä¸Šå°å›¾left, bottom, width, weight = 0.2, 0.6, 0.25, 0.25ax2 = fig.add_axes([left, bottom, width, weight])ax2.plot(y, x, 'b')ax2.set_xlabel(r'$x$')ax2.set_ylabel(r'$y$')ax2.set_title(r'$title\ inside\ 1$')# å³ä¸‹å°å›¾plt.axes([0.6, 0.2, 0.25, 0.25])# å°†yçš„æ•°æ®é€†åºè¾“å‡º[::1]plt.plot(y[::-1],x, 'g')plt.xlabel('x')plt.ylabel('y')plt.title(r'$title\ inside\ 2$')plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/61b8d51c5faf45f28502603d84cc1e9c><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>ä¸»æ¬¡åº§æ ‡è½´</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as np# ä»[0, 10]ä»¥0.1ä¸ºé—´éš”ï¼Œå½¢æˆä¸€ä¸ªåˆ—è¡¨x = np.arange(0, 10, 0.1)y1 = 0.05 * x**2y2 = -1 * y1fig, ax1 = plt.subplots()# é•œåƒï¼ˆä¸Šä¸‹å·¦å³é¢ å€’ï¼‰ax2 = ax1.twinx()ax1.plot(x, y1, 'g-')ax2.plot(x, y2, 'b--')# ä¸ºè½´è¿›è¡Œå‘½åax1.set_xlabel(r'$X\ data$', fontsize=16)ax1.set_ylabel(r'$Y1$', color='g', fontsize=16)ax2.set_ylabel(r'$Y2$', color='b', fontsize=16)plt.show()</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a353d39ab22544b0b4f81947959ccd97><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p><strong>AnimationåŠ¨ç”»</strong></p><ul><li><br></li></ul><pre>import matplotlib.pyplot as pltimport numpy as npfrom matplotlib import animationfig, ax = plt.subplots()# ä»[0, 2*np.pi]ä»¥0.01ä¸ºé—´éš”ï¼Œå½¢æˆä¸€ä¸ªåˆ—è¡¨x = np.arange(0, 2*np.pi, 0.01)# è¿™é‡Œåªéœ€è¦åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥å°±ç”¨é€—å·â€œ,â€åŠ ç©ºç™½çš„å½¢å¼çœç•¥äº†åˆ—è¡¨åé¢çš„å…ƒç´ line, = ax.plot(x, np.sin(x))def animate(i): line.set_ydata(np.sin(x + i/100)) return line, def init(): line.set_ydata(np.sin(x)) # è¿™é‡Œç”±äºä»…ä»…éœ€è¦åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥åé¢çš„å°±ç›´æ¥ç”¨ç©ºç™½çœç•¥äº† return line, ani = animation.FuncAnimation(fig=fig,  func=animate, # åŠ¨ç”»å‡½æ•° frames=100, # å¸§æ•° init_func=init, # åˆå§‹åŒ–å‡½æ•° interval=20, # 20ms blit=True)plt.show()</pre><p><strong>å¥½äº†ï¼Œæœ¬æ–‡å°±ç»™å¤§ä¼™åˆ†äº«åˆ°è¿™é‡Œï¼Œæ–‡æœ«åˆ†äº«ä¸€æ³¢ç¦åˆ©</strong></p><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/36fbdd96342d43da8a426e4c0062d1ac><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="Python Matplotlib ç®€æ˜“æ•™ç¨‹" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/07796ed7f6a54546a7d414bd7e8f26cf><p class=pgc-img-caption></p></div><p class=ql-align-justify><strong>è·å–æ–¹å¼ï¼šå…³æ³¨+ç§ä¿¡æˆ‘â€œpythonèµ„æ–™â€å³å¯è·å–ä»¥ä¸Šèµ„æºï¼</strong></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Python','Matplotlib','ç®€æ˜“'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>