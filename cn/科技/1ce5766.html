<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>5G OTA测试太复杂？—试试用仿真工具来帮忙 | 极客快訊</title><meta property="og:title" content="5G OTA测试太复杂？—试试用仿真工具来帮忙 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/2217644e44064d738872da744b12190f"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1ce5766.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1ce5766.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1ce5766.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1ce5766.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1ce5766.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1ce5766.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1ce5766.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1ce5766.html><meta property="article:published_time" content="2020-10-29T20:51:46+08:00"><meta property="article:modified_time" content="2020-10-29T20:51:46+08:00"><meta name=Keywords content><meta name=description content="5G OTA测试太复杂？—试试用仿真工具来帮忙"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/1ce5766.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>5G OTA测试太复杂？—试试用仿真工具来帮忙</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>近年来，随着智能化产品层出不穷，竞争愈发激烈，众多终端类产品厂商对自身产品的指标要求越来越高，除了传导测试，也开始对自家产品提出OTA性能指标的要求。</p><p>本篇文章就跟大家分享一下<strong>5G时代OTA测试</strong>的相关内容。文章主要目录如下：</p><p><strong>01. OTA测试是什么</strong></p><p><strong>02. OTA的主要测量指标</strong></p><p><strong>03. 5G的到来，为OTA测试带来了新挑战</strong></p><p><strong>04. 5G时代，如何轻松应对OTA测试挑战</strong></p><p><strong>05. 使用SystemVue软件进行OTA仿真的流程</strong></p><p><strong>06. OTA仿真案例</strong></p><p><br></p><p>.<strong>OTA测试是什么？</strong></p><p>顾名思义，<strong>OTA测试</strong>会模拟产品的无线信号在空气中传输的场景，在待测件发射天线或接收天线端口通过无线信号与测试系统连接开展测试。</p><p>OTA测试可以将产品内部辐射干扰、产品结构、天线的因素、射频芯片收发算法等因素考虑进去，是非常接近产品实际使用场景的测试手段。</p><p><br></p><p>我们以最早的3G UE SISO OTA测试为例来了解<strong>OTA测试所需的最基本环境：</strong></p><ul class=list-paddingleft-2><li>吸波暗室，转盘（控制UE旋转）</li></ul><ul class=list-paddingleft-2><li>探头天线（在某一固定位置接收UE辐射信号）</li></ul><ul class=list-paddingleft-2><li>用于提供探头天线虚拟基站信号的无线测试平台（如Keysight UXM系列，图中未显示）</li></ul><p>测量过程中将通过旋转转台来控制并测量UE天线在不同方向的辐射特性。</p><div class=pgc-img><img alt="5G OTA测试太复杂？—试试用仿真工具来帮忙" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/2217644e44064d738872da744b12190f><p class=pgc-img-caption>图 1</p></div><p>4G LTE时代的测量由于MIMO的引入而变得更加复杂，3GPP标准委员会采纳了两种测量方式：</p><ul class=list-paddingleft-2><li><strong>MPAC</strong>Multi-Probe Anechoic Chamber 多探头法</li></ul><ul class=list-paddingleft-2><li><strong>RTS </strong>Radiated Two-Stage Method 辐射两步法</li></ul><p>这两种方案都可以测量UE在衰落信道下的吞吐量指标。</p><p><strong>MPAC</strong>所需的基本设备包括吸波暗室，无线测试平台(如Keysight UXM系列)，信道模拟器(如Keysight Propsim Channel Emulator)，多组探头天线及转盘；</p><p><strong>RTS</strong>测量方案所需的基本设备包括吸波暗室，无线测试平台(如Keysight UXM系列)，一组探头天线，衰落信道由UXM内部的通道模拟器实现。</p><p><br></p><p>.<strong>OTA的主要测量指标</strong></p><p>OTA测量包括发射端测量和接收端测量两个部分。<strong>发射端测量指标</strong>主要包括以功率测量为主的指标，如TRP(总辐射功率)和以信道质量为主的指标如Directional EVM；<strong>接收端测量指标</strong>主要包括波束顶点处的灵敏度，交调，Throughput(吞吐量)等。具体如下：</p><p><strong>- 发射端：</strong></p><ul class=list-paddingleft-2><li>ACLR (Adjacent Channel Leakage Ratio) 邻道泄漏功率比</li></ul><ul class=list-paddingleft-2><li>TRP (Total Radiated Power) 总辐射功率</li></ul><ul class=list-paddingleft-2><li>EIRP (Equivalent Isotropic Radiated Power) 等效全向辐射功率，即某方向测得的辐射功率，为TRP的基本构成单位</li></ul><ul class=list-paddingleft-2><li>Directional EVM (Error Vector Magnitude) 具有方向性的矢量误差幅度</li></ul><ul class=list-paddingleft-2><li>Directional Power 具有方向性的功率</li></ul><p><br></p><p><strong>- 接收端：</strong></p><ul class=list-paddingleft-2><li>TIS (Total Isotropic Sensitivity) 总全向灵敏度</li></ul><ul class=list-paddingleft-2><li>EIS (Effective Isotropic Sensitivity) 有效全向灵敏度， 即某方向测得的灵敏度，为TIS的基本构成单位。</li></ul><ul class=list-paddingleft-2><li>Performance Test即特定场景 (SISO/MIMO) 下的吞吐量测试</li></ul><p><br></p><p>.<strong>5G的到来，为OTA测试带来了新挑战</strong></p><p>5G 时代，系统频段更高，此外基站Massive MIMO技术的应用，使得传统的传导复杂程度大大提高，除了手机，基站端也不得不进行OTA测试。</p><p><strong>1、</strong>5G OTA测试面临着一系列的新挑战</p><p><strong>1）</strong>5G OTA测量需支持两个频段：FR1—6GHz以下频段以及FR2—毫米波频段。</p><div class=pgc-img><img alt="5G OTA测试太复杂？—试试用仿真工具来帮忙" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/194ea37360ba404b9253559d16797457><p class=pgc-img-caption>表 1</p></div><p><strong>2）</strong>基站端引入的Massive MIMO技术要求其至少支持8X8阵列天线，阵列合成波束的直接远场测试对暗室尺寸要求很大。目前可能的方案有紧缩场测量，近场测量，由中场测量结果推算紧缩场等，不同方案各有千秋，最终测量方案标准委员会尚未有定论。</p><p><strong>3）</strong>OTA测量往往需要遍历整个球面不同方向，至少需要多少个测试点，如何划分测试点，这些都直接影响测得的系统性能和测试速度。</p><p><strong>4）</strong>未来5G NR毫米波终端设备很可能不存在射频测试端口，这意味着以往所有传导测试下测量的各项指标都要转到暗室OTA环境测试，过去积累的测量经验不再适用。</p><p><br></p><p><strong>2、</strong>不同无线通信制式的OTA一致性测试比较</p><div class=pgc-img><img alt="5G OTA测试太复杂？—试试用仿真工具来帮忙" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ae5213165f9c40bd8615e2a8625b0bad><p class=pgc-img-caption>表 2</p></div><p><br></p><p><strong>3、5G时代，如何轻松应对OTA测试挑战</strong></p><p>由于暗室的引入，OTA测试系统非常复杂，系统搭建时间长，硬件设备多，而OTA系统指标测试需要在所有硬件都就绪的情况下才能展开，一旦发现待测件OTA系统性能无法满足3GPP要求，就需要重新返工，这导致产品系统集成的成本很高，风险极大。</p><p><br></p><p><strong>1</strong></p><p>应对OTA测试带来的挑战</p><p>为了应对OTA测试带来的挑战，在硬件设备准备齐全之前，可以先通过进行OTA仿真，在产品研发阶段提前快速获取系统OTA指标性能上限，在仿真环境下确保产品满足OTA各项指标要求后，再进行后续开发和硬件测试，这样可以大大降低设计风险，避免不必要的返工，减少反复测量的次数。</p><p>5G NR OTA测试是对整机的测试，需要综合考量基带、射频及天线共同作用下的性能指标，因此需要一款能够同时考量这三方面，并且能够测量OTA所需的系统指标，如EVM, ACLR, Throughput等的仿真软件。</p><p><br></p><p><strong>2</strong></p><p>Keysight Pathwave SystemVue</p><p>Keysight Pathwave SystemVue 是用于电子系统级(ESL)设计的专业EDA软件，<strong>是业界唯一可以完整的进行5G NR 基站/手机的基带、射频及天线整机OTA仿真和系统验证的工具。</strong></p><ul class=list-paddingleft-2><li><strong>对于5G基带系统实现</strong>SystemVue提供基于3GPP协议标准的5G NR基带算法参考库，包括上行/下行信号的物理层发射和接收算法，覆盖0.5GHz ~ 100GHz的3D毫米波信道模型，发射及接收OTA暗室模型等；</li></ul><ul class=list-paddingleft-2><li><strong>对于射频子系统的考量</strong>SystemVue内提供丰富的射频行为级模型，支持通过器件射频参数模拟实际射频器件，或导入器件的S参数、X参数模型，或直接与Keysight Pathwave ADS (Advanced Design System) 专业的射频电路级设计软件进行联合仿真；</li></ul><ul class=list-paddingleft-2><li><strong>对于天线性能的考量</strong>可以通过在SystemVue的信道模型或OTA暗室仿真模型内导入仿真或测量得到的天线远场方向图文件—Antenna Pattern (可通过Keysight Pathwave EMPro 三维电磁场仿真软件仿真并提取)，用以将天线辐射特性反映在实际传输信号中。</li></ul><div class=pgc-img><img alt="5G OTA测试太复杂？—试试用仿真工具来帮忙" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/e6e25c162ce644d7adc18cc707f88540><p class=pgc-img-caption>图 2</p></div><p><br></p><p><strong>在早期设计阶段</strong></p><p>通过系统级仿真获取系统性能的上限，完成射频模组及天线的系统级定标。SystemVue提供符合3GPP一致性测试标准的仿真模板，设计者不需要花费时间研究协议的具体内容与物理层实现方式，只需通过带入测试用例所需基本参数，即可通过OTA仿真获取EVM/ACLR/灵敏度等指标，在设计初期快速定位问题，降低系统集成的风险。</p><p><strong>在产品验证阶段</strong></p><p>通过与ADS等专业电路级仿真工具进行联合仿真，或导入射频器件仿真或测量模型，如S参数、X参数等，并导入EM仿真或暗室测量得到的天线方向图文件，以进一步使仿真结果贴近真实产品性能，提前验证系统OTA性能指标，缩短OTA验证时间，节约暗室测量时间与成本。并且，SystemVue可与Keysight仪表无缝连接，支持快速搭建参数可配置的原型样机系统，加速硬件验证流程。</p><p>另外，SystemVue也可仿真验证基于RTS两步法的OTA测量方法和MPAC OTA测量方法，并助力了标准化制定过程。</p><p>Keysight积极参与标准化定制过程，在3GPP协会针对MPAC OTA测量的探头摆放位置的标准化进程讨论中，Keysight结合F64信道模拟器，利用系统级仿真工具SystemVue及其OTA暗室模型，仿真评估了不同探头天线摆放位置下系统的吞吐量，提出了最优的探头摆放方案并通过了提案(R4-1912104)。</p><p>关于FR2的测量中，Keysight基于SystemVue中进行的吞吐量仿真提出了RTS测量中的暗室隔离度指标建议，<u>详情请访问3GPP网站下载R5-198264提案</u>。</p><p><br></p><p>.<strong>使用SystemVue软件进行OTA仿真的流程</strong></p><div class=pgc-img><img alt="5G OTA测试太复杂？—试试用仿真工具来帮忙" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/db22ee1a119e4565b9a6d82ddcf7447b><p class=pgc-img-caption>图 3</p></div><p><br></p><div class=pgc-img><img alt="5G OTA测试太复杂？—试试用仿真工具来帮忙" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/99dd2c410a5b4f79aaa92445849db169><p class=pgc-img-caption>图 4</p></div><p>SystemVue中的OTA仿真流程根据测量需要，主要分为两类：<u>发射端测量流程 </u>和 <u>接收端测量流程</u>。</p><p><br></p><p><strong>所需模块包括：</strong></p><ul class=list-paddingleft-2><li><strong>5G NR基带算法模型</strong>用于产生并发射、接收解调、解码、测量5G NR上行/下行数据；</li></ul><ul class=list-paddingleft-2><li><strong>OTA暗室仿真模型</strong>用于模拟OTA测量环境，支持任意排布的天线阵列，天线方向图的导入，任意方向的探头位置等；</li></ul><ul class=list-paddingleft-2><li><strong>根据3GPP TR 38.901 建立的3D MIMO 信道模型</strong>用于Performance Test等需要的衰落信道，完成协议要求的吞吐量(Throughput)测试，或模拟动态波束赋形和波束跟踪在LOS信道下的性能。</li></ul><p><strong>- 发射端测量流程：</strong></p><p>基带信号产生 ➔ 射频模块 ➔ Tx相控阵处理 ➔ 暗室Tx OTA模型(最终输出空口信号的EVM/ACLR等测量指标)<strong>量流程：</strong></p><p><br></p><p><strong>- 接收端测</strong></p><p>(虚拟发射端信号产生，终端测量时，即为模拟基站发射信号) ➔ 暗室Rx OTA模型 ➔ Rx相控阵处理 ➔ 射频模块 ➔ 基带接收机(包括同步，信道估计，译码等过程，最终输出吞吐量/灵敏度等测量指标)</p><p><br></p><p>.<strong>OTA仿真案例</strong></p><p>SystemVue 提供根据协议搭建的基站及UE终端仿真模板，分别包括对发射端、接收端所需各项指标的仿真和验证，以及SISO/MIMO场景下的各项指标验证，并支持根据用户所需场景灵活调整系统架构。以下是基站和UE终端的两个OTA仿真模板。</p><p><br></p><p><strong>1、</strong>基站下行发射端测量</p><p>以基站下行发射端测量为例，需要测量Directional EVM, EIRP, TRP, ACLR等指标。系统原理图中包括基本的NR下行(BS)信号源，上变频模块，功放模型，相控阵波束控制模组，Tx OTA暗室模型以及信号测量模块，实际应用中可根据用户设计调整其中的基带、射频及天线模块实现方式。</p><div class=pgc-img><img alt="5G OTA测试太复杂？—试试用仿真工具来帮忙" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c7b0bdae30bc4002bcb8852b5af6d99c><p class=pgc-img-caption>图 5</p></div><p>本例中，通过在模板中的Tx OTA暗室模块中导入中场、远场等不同情况下的天线方向图，并控制探测点位置的扫描，仿真得到不同波束方位角的测量指标。</p><div class=pgc-img><img alt="5G OTA测试太复杂？—试试用仿真工具来帮忙" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9910c44a8e4f4c01809a1d1c642c159b><p class=pgc-img-caption>图 6</p></div><p>以图6中directional EVM 和SSB Power Phi Cut为例说明仿真情况：</p><ul class=list-paddingleft-2><li>红色为收发天线间距10倍波长处的结果</li></ul><ul class=list-paddingleft-2><li>蓝色为距离50倍波长处的结果</li></ul><ul class=list-paddingleft-2><li>绿色为距离500倍波长 (接近远场) 处的结果</li></ul><p>基于中场和基于远场的结果在波束主瓣方向基本一致，而在波束零点位置，由于中场无法忽略位置信息带来的相位影响，因此和远场结果有所区别，这与暗室测量结果一致。同时也可以看到，在信噪比一致的情况下，EVM结果与功率结果互补。</p><p><br></p><p><strong>2</strong>、手机终端设备(UE)接收端灵敏度测量</p><p>我们再来看一下终端设备的接收端测量模板。协议规定参考灵敏度指标REFSENS为在基站波束与手机波束主瓣方向对准时，接收端可以进行可靠通信 (吞吐量百分比在95%及以上) 所需的最小信号功率。</p><div class=pgc-img><img alt="5G OTA测试太复杂？—试试用仿真工具来帮忙" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e14d9ed88f014014af3b41c198fb12cf><p class=pgc-img-caption>图 7</p></div><p><br></p><div class=pgc-img><img alt="5G OTA测试太复杂？—试试用仿真工具来帮忙" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/49c0dbe30e1945bcb305236d10047673><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="5G OTA测试太复杂？—试试用仿真工具来帮忙" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fa69f1561f95413d9fcc24a551199d14><p class=pgc-img-caption>图 8</p></div><p>利用上图8模板，可进行REFSENS灵敏度测量</p><p>接收端测量的信号源来自基站，因此仍然使用NR DL信号源提供虚拟基站信号并上变频到射频信号，并添加相应射频器件参数；</p><p>而此时OTA暗室模型、波束扫描及其他射频前端模块则模拟待测UE探测点及接收模组，其中天线部分仍由天线方向图文件带入OTA模型内实现；</p><p>基带接收机部分由SystemVue 5G算法库提供，最后接测量模块求解出BER，Throughput等指标，并通过对功率进行扫描找到Throughput由100%下降到95%时的临界点，以得到接收机前端灵敏度REFSENS。</p><p>基于此，也可扩展到覆盖整个球面的灵敏度仿真，以确保UE如手机在任意方向的通话质量，这一指标在标准中通过EIS (Effective Isotropic Sensitivity) 定义：</p><p>将球面灵敏度功率EIS进行累计积分得到EIS CCDF曲线，根据不同功率等级，协议定义了在EIS CCDF曲线的不同百分比处对应的EIS，即UE球面覆盖功率指标要求。SystemVue已提供了不同球面分割情况下，该项测量指标的仿真，在此不做更多赘述。</p><p><br></p><p>综上，我们分析了5G时代OTA测试的挑战以及如何采用仿真的方式降低系统性风险，听完我们的介绍之后，如果您对OTA仿真以及测试的具体流程和方法感兴趣，<strong>欢迎沟通~~~</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'5G','OTA','测试'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>