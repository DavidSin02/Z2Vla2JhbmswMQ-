<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>如何正确选择DNxHR的质量级别 | 极客快訊</title><meta property="og:title" content="如何正确选择DNxHR的质量级别 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/15395612328392dc9aba7b2"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1d50618b.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1d50618b.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1d50618b.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1d50618b.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1d50618b.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1d50618b.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1d50618b.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1d50618b.html><meta property="article:published_time" content="2020-11-14T21:01:36+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:36+08:00"><meta name=Keywords content><meta name=description content="如何正确选择DNxHR的质量级别"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/1d50618b.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>如何正确选择DNxHR的质量级别</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>在DNxHR压缩编码的众多质量级别（Level）中作出选择，通常是在质量和带宽之间进行妥协的结果。一些用户只关注图像质量而完全不考虑带宽的问题。而另外一些用户则会考量存储空间和网络带宽。本文当中，我们将对两方面分别进行讨论。</p><p>任何编码格式都是下面这三项指标的妥协产物：质量、压缩效率以及编解码算法的复杂度。算法复杂度与CPU直接相关。复杂度较低的编码格式对CPU的利用效率通常都比较高，因此对它进行编码或解码的速度也较快；相反，复杂度较高的编码格式在相同质量下的压缩比虽然较高，但对CPU的要求也会更高，编解码的速度也就慢一些。</p><p>举例来说，所有基于H.264长GOP编码的压缩格式都偏向高压缩比、高算法复杂度。而类似DNxHD或PreRes这样的编码则偏向低复杂度、低压缩比。</p><p><strong>1</strong> <strong>质量的考虑</strong></p><p>DNxHR编码的质量取决于采用何种“级别”（Level）。本文中，“质量”和“级别”这两个术语具有相同含义。</p><p>DNxHR与DNxHD具有类似的质量级别划分。在DNxHD中，我们使用码率来描述其质量级别，比如DNxHD 36，DNxHD 220x。但是进入分辨率无关的领域，这种命名规则已不再适用，因为不同分辨率、帧速率的存在，同样的压缩级别，码率相差却很大。因此我们需要一种新的命名规则。下表中就是两种命名规则的对应关系：</p><div class=pgc-img><img alt=如何正确选择DNxHR的质量级别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15395612328392dc9aba7b2><p class=pgc-img-caption></p></div><p>考虑到用户考虑的首要指标通常是图像质量，带宽次之，因此需要一种可度量的参数来描述质量。PSNR就是这样一种可用来描述图像质量的参数。我们使用它对常见的压缩格式进行比较。</p><p>这种比较通常有两个维度，来作为选择DNxHR质量级别的依据。其中一个维度是DNxHR与摄像机原始图像的比较，另外一个维度是DNxHR与DNxHD的比较。</p><p><strong>1.1</strong> <strong>与DNxHD比较</strong></p><p>HR的压缩算法与HD的压缩算法是一样的。对于同样的高清输入源，两种编码的质量也完全相同。所以，假如之前你采用的是HDxHD120，那么现在你就可以使用DNxHR SQ。当然，由于分辨率的提升，带来视觉上的天然提升，因此，现在你甚至可以采用低一个级别的DNxHR。</p><p></p><div class=pgc-img><img alt=如何正确选择DNxHR的质量级别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1539561232698028e47882e><p class=pgc-img-caption></p></div><p>传统认为，DNxHD 120或者185X的HD图像适合在50吋显示设备上播放，现在DNxHR LB就可以被用来在相同尺寸的显示器上播放UHD图像。在这个尺寸上，如果说DNxHD 36的HD图像会有马赛克现象，则DNxHR LB也会有相同程度的马赛克出现。当然，一台满足UHD标准的显示器，它的像素点尺寸会缩小到HD显示器像素尺寸的1/4，所以DNxHR LB的主观感受会比DNxHD 36好很多。这完全得益于UHD显示器DPI（Dots Per Inch，像素密度）指标的提升。</p><p><strong>1.2</strong> <strong>与摄像机原始记录格式比较</strong></p><p>DNxHR格式在开发过程中采用了一个原则，即：将摄像机记录格式转码为适用于编辑的“中间格式”时，颜色／量化精度／分辨率这三个指标，至少有一个要保持与源相同。比如，在转换ARRI 10bit LogC的原始素材时，就应当选择用DNxHR 10bit级别。</p><p>类似的，DNxHR编码也可以保留原始素材上的高动态色度以及Log亮度信息。例如，索尼F55摄影机拍摄的S-Gamut色域空间、基于S-Log的HDR、10bit量化的XAVC-I格式的图像，其Log信息和动态范围可以被任意一个级别的DNxHR所保留下来。不过，不同级别的DNxHR，其保留的色度和亮度的精度也不同，10bit的精度要高过8bit，444采样的精度也要高过422采样的。</p><p>借助分辨率无关技术，DNxHR还可以支持不同的光栅尺寸和帧速率，包括像8K分辨率、120帧／秒这种极限情况。当你在原始素材与DNxHR素材之间做对比时，要想在颜色／量化精度／分辨率这三个维度上看出差异，一台性能优异的监看设备是必不可少的。否则的话，就会因为显示的问题而影响结论。</p><div class=pgc-img><img alt=如何正确选择DNxHR的质量级别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/15395612330022fa88607a1><p class=pgc-img-caption></p></div><p>上图是一位客户在试图找出DNxHR HQX（10bit），XAVC-I 4K（10bit）和DNxHR LB（8bit）这三种格式之间的差异。监看设备是索尼60吋的BRAVIA 4K监视器，通过一根HDMI 2.0信号线与AJA 4K板卡相连，Media Composer软件回放，工程属性是UHDTV 59.94p，10bit，全尺寸。在这种情况下，很难看出三种格式的差异来。如果将显示尺寸扩大到IMAX级别，即90英尺宽（约合27米）的银幕上，毫无疑问LB的质量差异将会很容易看出来。</p><p>所以，如果你的拍摄记录格式是XAVC-I 4K 10bit，为了最大可能保留原始素材的细节，你应当选择DNxHR HQX，因为后者同样也是10bit量化，422采样。此时选用DNxHR 444是无意义的，444的采样相对于422的原始素材来说是个浪费；DNxHR SQ或LB也不适用，作为8bit的级别，它们会降低10bit XAVC的精度。DNxHR HQX尽可能多地保留了原始素材的属性，同时又拥有着比XAVC好得多的编辑性能。</p><p>另一个角度考虑，目前大多数消费类的4K电视实际上并不是10bit的；有一些甚至达不到UHD标准的Bt. 2020色域空间，仅能达到HD标准的Rec 709。所以在当前，DNxHR HQX显得有些“供大于求”，尤其是当你不需要做大量特效镜头时，它的确是有点浪费。</p><p><strong>2</strong> <strong>带宽的考虑</strong></p><p>如果你将带宽的需求列为第一位的问题，在确保带宽的前提下才会考虑质量，那么你大约跟50%的人是一样的。Avid客户中差不多有半数的人会首先考虑带宽问题。基本上，质量级别决定了带宽；此外，当你选用1/4或1/16的代理时间线（Proxy Timeline）来转码时，也会影响素材文件的带宽占用。采用何种带宽，要综合考虑CPU、存储以及网络带宽的因素。最极限的情况下，你可以选用1/16分辨率的DNxHR LB来做4K的代理编辑，这使得你可以在一个SD的网络环境中完成4K的离线制作。毫无疑问，这种质量级别是不够做输出标准的，因此在离线剪辑完成后，还需要做套片、重链接、完成等工作。在Media Composer 8.3之前的版本，上述工作只能在第三方系统中完成。而现在，你可以在Media Composer中直接做重链接然后输出成片。有了代理时间线功能，以及便捷的重链接功能，你可以随时在1/16低码率图像和高质量原始素材之间做切换。</p><p>DNxHR的每一个质量级别都拥有一个恒定的压缩比，它是图像压缩程度的一个标杆。同样质量级别，不同的帧速率和图像尺寸显然会影响最终的码率。由于现在有三个因素会影响码率（压缩比、帧速率、图像尺寸），有必要使用一个表格来列出所有可能的组合。下表就是一个例子：</p><p></p><div class=pgc-img><img alt=如何正确选择DNxHR的质量级别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/15395612329689ef4381155><p class=pgc-img-caption></p></div><p><strong>3</strong> <strong>选择DNxHR质量级别的原则</strong></p><p>基于上述讨论，下面给出了一些原则性的指导意见：</p><p>10 bit - HQX 和444</p><p>o UHDTV的标准中没有8bit，只有10bit。因此假如你希望完全依照标准，则需要采用10bit</p><p>o 原始素材是10bit的，而你打算保留其量化精度</p><p>o 需要用最高质量来进行归档保存</p><p>o 需要制作大量的合成、特效、抠像、颜色校正</p><p>o 图像中包含大量的过渡与渐变－此时用8bit会造成较为明显的阶梯效果</p><p>444与HQX的对比</p><p>o 假如原始素材采用4:4:4拍摄，你希望保留色度采样精度，可以使用444</p><p>o 假如原始素材采用4:2:2拍摄，此时用444就是一种浪费</p><p>HQ, SQ与LB的对比</p><p>o 全部都是8bit，在大多数监看环境下几乎观察不到质量差异</p><p>o 采用何种质量，完全取决于主观体验和硬盘/带宽的平衡考虑</p><p>LB</p><p>o 如果都是HD分辨率的话，DNxHR LB的质量与常用的DNxHD 36质量相当</p><p>o LB之所以有吸引力，是因为在高分辨率下，马赛克效应会被降低到几乎观察不到，同时它又具备了CPU解码速度和带宽的双重优势</p><p>o LB所占硬盘空间约为XAVC-I 4K的三分之二。对广播机构而言，由于采用LB而节省下来的硬盘空间应该是值得的</p><p>LB 四分之一分辨率</p><p>o 如果输入源是UHD-1标准，则LB 1/4 会将其下变换为HD图像，相应的，带宽方面，此时等同于DNxHD 36，作为离线剪辑很合适。同电影工作者经常会导出DNxHD 36格式的样片一样，电视工作者同样可以输出一个DNxHR LB 1/4的样片</p><p>o 当硬盘空间和网络带宽很紧张时，可采用此格式</p><p>o 可以用来输出一个低画质的HD版本</p><p>o 仍然比SD格式的清晰度高出很多</p><p>o 对于分辨率低于UHD-1标准的项目而言，比如DCI 2K，采用DNxHR LB 1/4，其码率会比电影剪辑师所熟悉的DNxHD 36更加低，更加节省硬盘空间。但是此时已经达不到广播级HD标准了</p><p>LB十六分之一分辨率</p><p>o 此时图像分辨率已经低于SD，再加上被放大4倍回放，视觉效果大致等同于被压缩很厉害的JPEG图像</p><p>o 在HD或UHD显示器上回放时，图像质量明显不符合广播标准</p><p>o 在非编的桌面显示器中回放时，可以被用来做代理剪辑</p><p>o 硬盘空间和网络带宽及其有限时，可以用来做代理码率</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'正确','选择','DNxHR'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>