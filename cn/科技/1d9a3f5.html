<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 | 极客快訊</title><meta property="og:title" content="王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/74474d96e12b4e8e9774b03105c54cb9"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1d9a3f5.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1d9a3f5.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1d9a3f5.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1d9a3f5.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1d9a3f5.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1d9a3f5.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1d9a3f5.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1d9a3f5.html><meta property="article:published_time" content="2020-10-29T20:53:45+08:00"><meta property="article:modified_time" content="2020-10-29T20:53:45+08:00"><meta name=Keywords content><meta name=description content="王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/1d9a3f5.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>·<strong>适配器模式在王者荣耀中的应用</strong></p><p>·应用一：元歌通过傀儡假扮敌方的任意英雄</p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/74474d96e12b4e8e9774b03105c54cb9><p class=pgc-img-caption></p></div><p>应用二：王者荣耀iOS与安卓互通</p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d4c2eec8304042ac8af20492d301aec9><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>一、简述</h1><p>简单来讲，适配器模式就是通过一个适配器将一个类的接口变成客户端所期待的另一种接口，从而使原本因接口不匹配而无法在一起工作的两个类能够在一起工作。</p><p>在第一个应用中，我方英雄元歌通过一技能操纵傀儡，可以在本体状态使用秘术影来突进目标，使其傀儡随机变成敌方英雄的样子，进而在一定程度上对敌方的判断进行干扰；当然在此情况下，元歌的傀儡不仅可以模仿敌方英雄的样子，还有其局内语音也可以被傀儡模仿。</p><p>我方元歌和敌方英雄本是不可互通其样式属性的，但在适配器“傀儡”的作用下可以实现此操作</p><p>在第二个应用中，因为资料不互通，所以对于那些在游戏中投入极多的玩家来说，如果需要换手机的话，这款游戏甚至会成为最后决定的一个因素。因为如果要换系统的话，不论是iOS转到安卓还是安卓转到iOS，因为游戏数据不互通，所以游戏都要重新玩起，以前的英雄皮肤铭文等统统不作数。为了避免玩家遭受到如此差的体验感，王者团队推出了平台互通功能，解决了一些玩家在这方面的苦恼。</p><p>iOS和安卓之间是不互通的，为了使两平台数据互通，就需要使用适配器将两平台搭建，实现数据互通功能</p><p>本例中应用Iterator接口与Enumeration接口</p><h1 class=pgc-h-arrow-right>二、适配器模式（Adapter Pattern）</h1><p>适配器模式理解：</p><p>高度概括：将一个类的接口转换成客户希望的另外一个接口。Adapter模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。</p><p>适配器模式是将一个类的接口（被适配者）转换成客户希望的另外一个接口（目标）的成熟模式，该模式中设计有目标、被适配者和适配器。适配器模式的关键是建立一个适配器，这个适配器实现了目标接口幷包含有被适配者的引用。</p><p>适配器模式结构中的三种角色：</p><p>·目标（Target）：是一个接口，该接口是客户想使用的接口；</p><p>·被适配者（Adaptee）：是一个已存在的接口或抽象类，这个接口或抽象类需要适配 ；</p><p>·适配器（Adapter）：是一个类，该类实现了目标接口幷包含有被适配者的引用（适配器的职责是对被适配者接口（抽象类）与目标接口进行适配）</p><p>适配器模式的UML类图：</p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/b5a236bd-11cd-46b1-b2ca-ecbbdd77e66a><p class=pgc-img-caption></p></div><p>适配器模式的优缺点：</p><p>优点：</p><p>①目标和被适配者是完全解耦关系；</p><p>②满足“开—闭原则”；</p><p>缺点：</p><p>其使用有一定的局限性，不能将一个适配者类和它的子类同时适配到目标接口</p><p>适配器模式的适用情景：</p><p>一个程序想使用已经存在的类，但该类所实现的接口和当前程序所使用的接口不一致。</p><h1 class=pgc-h-arrow-right>三、王者荣耀角度下实现适配器模式结构图及代码</h1><p>应用一：</p><p>实现此适配器模式的UML类图</p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/c22696d6-5d0a-4563-bdf7-9acf39a56b9c><p class=pgc-img-caption></p></div><p><strong>eclipse结构图</strong></p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e32e07dea04141d0a571fe870a359841><p class=pgc-img-caption></p></div><p><strong>主函数【应用（Application）】</strong></p><p><strong>Application.java</strong></p><pre><code>package angle_adapter;/*         测试类Application   :   main函数  */import angle_adapter.Enemy;import angle_adapter.HeroYuange;import angle_adapter.KuileiOfYuange;import angle_adapter.TargetHero;import angle_adapter.Yuange;public class Application {	public static void main(String[] args) {		   TargetHero enemy;                         //目标接口（敌方被模仿英雄）		   Enemy makeboluo=new Enemy();              //被模仿英雄：马可波罗	       enemy=makeboluo;                          //原本属于被模仿英雄马可波罗的局内台词	       System.out.println("标准的英雄及其所属台词：");	       enemy.beenLearntFromAnEnemyHero();     //接通电流，开始洗衣服	       System.out.println("-----------------------------------------------");	       Yuange yuange=new Yuange();               //元歌想要模仿其他英雄及其局内台词	       KuileiOfYuange kuilei=new KuileiOfYuange(yuange);//元歌不能直接模仿，需要借助适配器——傀儡	       enemy=kuilei;                          //元歌的傀儡模仿敌方英雄马可波罗及其局内台词	       System.out.println("被元歌傀儡伪装后的英雄及其所属台词：");	       yuange.learnFromAnEnemyHero();     //元歌局内实现原本属于其他英雄的台词	    }	}	class Enemy implements TargetHero{    //原本属于目标英雄“马可波罗”的局内台词	    String name;	    Enemy(){	       name="马可波罗";	    }	    Enemy(String s){	       name=s;	    }	    public void beenLearntFromAnEnemyHero(){	       dialogue();	    }	    public void dialogue(){	       System.out.println(name+"：世界不只有眼前的苟且，还有诗和远方");	    }	}		class Yuange implements HeroYuange{    //元歌在局内可以实现原本属于其他英雄的台词	    String name;	    Yuange(){	       name="【元歌】马可波罗";	    }	    Yuange(String s){	       name=s;	    }	    public void learnFromAnEnemyHero(){	       simulateDialogue();	    }		public void simulateDialogue(){	       System.out.println(name+"：世界不只有眼前的苟且，还有诗和远方");	    }	}</code></pre><p><strong>目标（Target）</strong></p><p><strong>TargetHero.java</strong></p><pre><code>package angle_adapter;/*	     角色1：目标：是一个接口，该接口是客户想使用的接口 	 */public interface TargetHero {		public abstract void beenLearntFromAnEnemyHero();}</code></pre><p><strong>被适配者（Adaptee）</strong></p><p><strong>HeroYuange.java</strong></p><pre><code>package angle_adapter;/*          角色2：被适配者：是一个已存在的接口或抽象类，这个接口或抽象类需要适配 */public interface HeroYuange {	public abstract void learnFromAnEnemyHero();}</code></pre><p><strong>适配器（Adapter）</strong></p><p><strong>KuileiOfYuange.java</strong></p><pre><code>package angle_adapter;/*            角色3：适配器：是一个类，该类实现了目标接口幷包含有被适配者的引用（适配器的职责是对被适配者接口（抽象类）与目标接口进行适配） */import angle_adapter.HeroYuange;public class KuileiOfYuange implements TargetHero{		HeroYuange yuangeKuilei;	KuileiOfYuange(HeroYuange yuangeKuilei){      //元歌傀儡作为适配器	       this.yuangeKuilei=yuangeKuilei;	   }	public void beenLearntFromAnEnemyHero(){		   yuangeKuilei.learnFromAnEnemyHero();	   }}</code></pre><p>运行结果截图</p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/274a8098637442739778c0c6f9091a9f><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>应用二（Iterator接口与Enumeration接口）：</h1><p>实现此适配器模式的UML类图</p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/66d529c7-ee57-4666-9e70-909fa33ff0cb><p class=pgc-img-caption></p></div><p><strong>eclipse结构图</strong></p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2f0d500ef52d4070a356e72c66ef0cc9><p class=pgc-img-caption></p></div><p><strong>主函数【应用（Application）】</strong></p><p><strong>Application.java</strong></p><pre><code>package angle_adapterPattern;import angle_adapterPattern.IOS;import angle_adapterPattern.IteratorAdapter;import angle_adapterPattern.AndroidOS;import java.util.Enumeration;public class Application {	public static void main(String[] args) {		AndroidOS androidRoleList=new AndroidOS();		androidRoleList.setRoleData();		Enumeration roleData=androidRoleList.getEnumeration();		IteratorAdapter adapter=new IteratorAdapter(roleData);		IOS newRoleData=new IOS(adapter);		newRoleData.setRoleData();		System.out.println("【系统提示】 恭喜您！您的角色数据在安卓、iOS系统互通成功了！");		System.out.println("------------------------------------------------------------");	    System.out.println("【系统提示】 您在安卓系统的角色数据成功导入到iOS系统中的数据有:");		newRoleData.getRoleData();		   }	}</code></pre><p><strong>1）AndroidOS类</strong></p><p><strong>AndroidOS.java</strong></p><pre><code>package angle_adapterPattern;import java.util.Enumeration;import java.util.Vector;public class AndroidOS {	   private Vector&lt;String&gt; vector;	    private Enumeration roleData;	    AndroidOS(){	        vector=new Vector&lt;String&gt;(); 	    }	    public void setRoleData(){        	       vector.add("       【金币】 1314");	       vector.add("       【钻石】 520");	       vector.add("       【点券】 521");	       vector.add("       【英雄】 98");	       vector.add("       【皮肤】 296");	       vector.add("       【段位】 荣耀王者101星");	       vector.add("        ……");	    }	    public Enumeration getEnumeration(){	       return vector.elements();	    }}</code></pre><p><strong>2）IOS类</strong></p><p><strong>IOS.java</strong></p><pre><code>package angle_adapterPattern;import java.util.Iterator;import java.util.LinkedList;public class IOS {    LinkedList&lt;String&gt; roleData;    Iterator iterator;    IOS(Iterator iterator){    	roleData=new LinkedList&lt;String&gt;();        this.iterator=iterator;     }    public void setRoleData(){          while(iterator.hasNext()){          String data=(String)iterator.next();          roleData.add(data);       }    }    public void getRoleData(){        Iterator&lt;String&gt; iter=roleData.iterator();        while(iter.hasNext()){          String data=iter.next();          System.out.println(data);       }           }}</code></pre><p><strong>适配器（Adapter）</strong></p><p><strong>IteratorAdapter.java</strong></p><pre><code>package angle_adapterPattern;import java.util.Enumeration;import java.util.Iterator;public class IteratorAdapter implements Iterator{    Enumeration heroData;    IteratorAdapter(Enumeration heroData){        this.heroData=heroData;    }    public boolean hasNext(){        return heroData.hasMoreElements();    }    public Object next(){        return heroData.nextElement();    }    public void remove(){        System.out.println("枚举器没有删除集合元素的方法");    }}</code></pre><p><strong>运行结果截图</strong><br></p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/b9e71f2e-fbde-4651-b40b-aae8d26d702e><p class=pgc-img-caption></p></div><blockquote class=pgc-blockquote-abstract><p>原文链接：https://blog.csdn.net/IT_charge/article/details/104986282</p></blockquote><p><strong>最后给大家分享一波，设计模式文档和视频，希望大家能够喜欢~~23种设计模式9.35G学习视频~~</strong></p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/8e41b541-ae81-4691-90c8-0d5ac5e45d2c><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/2f5ba317-bbb4-4b20-bb84-c45899b583ce><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/49fc0182-aa89-46f9-840d-af0d4d0862bb><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/eb32bcf3-3555-4f2a-b00d-df9a4a58e7a3><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>23种设计模式文档~~</h1><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/f70b5175-4663-47f4-a6a4-3e6374e7f0c5><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/47a3877c-f195-43ab-a49c-e777756fd15f><p class=pgc-img-caption></p></div><p><strong>喜欢的小伙伴可以转发此文关注小编，小编会持续更新哦~~，还有需要23种设计模式9.35G学习视频和学习文档的小伙伴，可以私信小编“模式”来得到获取方式吧~~~</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'模式','荣耀','对象'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/d016e71.html alt=王者荣耀角度下分析面向对象程序设计B中23种设计模式之装饰模式 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/403d8ef296a9474a8930377f152db32e style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/d016e71.html title=王者荣耀角度下分析面向对象程序设计B中23种设计模式之装饰模式>王者荣耀角度下分析面向对象程序设计B中23种设计模式之装饰模式</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>