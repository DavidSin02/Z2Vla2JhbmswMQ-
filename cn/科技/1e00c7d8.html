<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>存储网络 Day35 可移动媒体管理 | 极客快訊</title><meta property="og:title" content="存储网络 Day35 可移动媒体管理 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/1e94883921fc4f85aec8f47ad6df5236"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1e00c7d8.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1e00c7d8.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1e00c7d8.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1e00c7d8.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1e00c7d8.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1e00c7d8.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1e00c7d8.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1e00c7d8.html><meta property="article:published_time" content="2020-11-14T21:02:52+08:00"><meta property="article:modified_time" content="2020-11-14T21:02:52+08:00"><meta name=Keywords content><meta name=description content="存储网络 Day35 可移动媒体管理"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/1e00c7d8.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>存储网络 Day35 可移动媒体管理</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1>11.4.6媒体跟踪和跳跃</h1><p>与硬盘相比，磁带等可移动介质是一种“流浪型”存储介质：它们可以简单地从库中移除并运输到另一个位置。管理系统必须始终知道每个墨盒的存储位置。在任何情况下，如果未经系统授权，盒式磁带都不会丢失或被移除。一些业务连续性策略基于将磁带传输到安全位置（第9.5.3节）。因此，可移动媒体管理必须继续存储盒式磁带的所有元数据，即使这恰好位于其他位置。在从已授权的应用程序中删除盒式磁带之前，无法删除盒式磁带的元数据。</p><p>术语存储库或存储库管理是指管理不在库中的盒式磁带的能力。与磁带库中的磁带盒不同，无法立即访问已转移到其他位置的磁带。因此，诸如受到良好保护的房屋和备用数据中心的其他位置也被称为场外位置。移除介质管理应该能够管理非现场位置的盒式磁带，并监控磁带库和场外位置之间的盒式磁带传输（图11.7）。自动控制机制必须确保转移的墨盒实际到达所需的目标位置。</p><p>将磁带传输到其他存储库以及在场外存储库中管理磁带始终需要人工支持。在此过程中，必须在管理系统中继续更新墨盒的位置。因此，可移动介质管理需要管理接口来支持手动活动。例如，管理系统可以向操作员指示应该从库中移除哪些盒并将其运送到场外存储库。操作员接受相应的请求并在处理完毕后对其进行确认。因此，管理系统始终知道所有墨盒的位置，甚至是那些已经转移到不同存储位置或正在运送到新存储库的墨盒。</p><p>根据配置，许多墨盒定期在主存储和非现场位置之间来回运输。例如，业务连续性策略可以指定每天将备份媒体传输到远程仓库（第9.4.5节）。策略有助于自动执行这些重复的手动活动。归档数据的移​​动策略可以指定磁带在完全写入后在磁带库中保留30天，然后转移到保险箱并在那里存储10年并最终销毁。</p><p>尽管采取了所有预防措施，但墨盒的实际存储位置并不总是与系统中记录的位置一致。 因此，有时应使用可移动介质管理（审计）中的清单来检查库和场外存储库的清单。 诸如磁带的许多可移动介质具有条形码。 磁带库可以使用激光扫描条形码，并通过可移动介质管理自动检查其库存。 此外，许多库使用SNMP陷阱来报告何时再次打开或关闭门。 可以针对此类事件自动启动审核。</p><p>图11.7离线存储空间的集成需要手动支持。</p><div class=pgc-img><img alt="存储网络 Day35 可移动媒体管理" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/1e94883921fc4f85aec8f47ad6df5236><p class=pgc-img-caption></p></div><p>中央可移动媒体管理是所有访问删除媒体的支点。 任何应用程序都不能将自己从系统的控制中移除，也不能以不受控制的方式访问或启动媒体。 这是确保正确记录所有进程并始终可以找到所有介质的唯一方法。 对于某些应用程序，例如业务数据的数字存档，必须保护这些日志不受操纵，以符合法规要求（第8.2.2节）。</p><h1>11.4.7墨盒生命周期管理</h1><p>与介质和写/读单元紧密连接在一起的硬盘相比，可移动介质的盒完全与驱动器分离。因此，除了墨盒的存储位置，可移动介质管理还必须管理其生命周期。</p><p>盒式磁带的生命周期从管理系统中的盒式磁带声明（初始化）开始。然后，将一个盒式磁带分配给临时池，以便授权应用程序访问新盒式磁带。一段时间后，应用程序请求盒式磁带（分配）并写入和读取数据（使用）。当应用程序不再使用其数据时（Deallocation），应用程序将返回该盒式磁带。现在可以将盒式磁带再次分配给临时池，因此其他应用程序可以使用其存储容量，或者当盒式磁带达到其生命周期结束时（退休）将从系统中移除盒式磁带。</p><p>墨盒的生命周期意味着管理系统必须跟踪每个墨盒的各种状态（图11.8）。一开始，墨盒是“未定义的”。没有关于墨盒的进一步信息。这是盒式磁带进入管理系统之前的初始状态。</p><p>图11.8墨盒生命周期中的状态。</p><div class=pgc-img><img alt="存储网络 Day35 可移动媒体管理" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6583e658173f431194388afb5fd5f82e><p class=pgc-img-caption></p></div><p>作为第一步，向管理系统通知盒式磁带，因此其状态变为“已定义”。提供了有关类型，墨盒标签，位置和其他元数据的信息，其中描述了墨盒。</p><p>通过分配到临时池，盒式磁带变为“可用”。现在，盒式磁带的存储容量可用于授权用于相应临时池的应用程序。</p><p>应用程序必须在使用之前保留盒式磁带的存储容量。存储容量的分配通常会触发在盒式磁带分区上创建卷，其中应用程序应该能够自由选择卷的名称。通常，第一个创建的卷的状态确定整个盒的状态。创建第一个卷后，相应盒式磁带的状态将更改为“已分配”。</p><p>如果卷上的数据不再受关注，则应用程序将释放卷以释放其存储容量。整个盒子保持分配，直到它包括至少一个体积。为了提高存储利用率，应用程序应该能够重新分配相同的存储空间。绝不应将分配的盒式磁带分配给另一个应用程序或从系统中删除，因为这可能导致当前拥有盒式磁带的应用程序的数据丢失。当应用程序释放盒式磁带的最后一个卷时，整个盒式磁带将更改为“deallocated”。</p><p>从磁带盒中取出所有卷后，整个存储空间可供其他应用程序使用。根据系统配置，在墨盒被“回收”之前，将进行额外的处理步骤。一些系统多次覆盖这样的盒式磁带，因此旧的数据不能被稍后重复使用相同盒式磁带的其他应用程序读取。其他配置只是暂时将墨盒存放一段时间才能“回收”（保留）。通常根本不进行任何处理，因此解除分配的盒式磁带立即被回收。</p><p>一旦解除分配的盒式磁带达到其使用寿命的终点，它将不会被“回收”，而是从系统中完全“清除”。盒式磁带的所有元数据都保留在管理系统中 - 例如，用于正式审核以证明过去盒式磁带访问的定期合规性。在删除元数据之前，盒式磁带再次转为初始状态“未定义”。</p><p>在墨盒生命周期管理中，许多任务和状态转换需要自动执行。 这些包括：</p><p>监测保留期;</p><p>运输到下一个存储地点（移动或轮换）;</p><p>媒体达到一定年龄时的复制;</p><p>在存储期结束时删除媒体;</p><p>从系统中回收或自动移除墨盒。</p><p>自动化任务的各个参数由适用于各个墨盒或墨盒组的策略指定，以提高墨盒生命周期管理的自动化等级。</p><h1>11.4.8监测</h1><p>可移动介质的管理系统必须支持管理员监视驱动器和盒式磁带。大型设备包括数千个墨盒和远超过一百个驱动器。因此，对于超过一定尺寸的安装，绝对需要自动控制系统或至少部分系统。特别是对于可移动介质，重要的是监控结构良好，因为在日常操作中，验证每个备份的时间太少。如果在系统写入磁带时出现错误，则在数据需要恢复之前可能无法识别 - 此时为时已晚。如果没有第二个副本，则会发生数据中心最糟糕的可能事件：数据丢失！</p><p>现代磁带驱动器可以很好地监控其状态。这意味着内置固件无法纠正的读写错误数以及加载操作数存储在驱动器中。理想情况下，管理系统将读取这些数据并进行存储，以便进行进一步分析。</p><p>进一步的步骤是由系统自动分析这些数据。如果达到某些错误状态，则可以自动触发操作，以便至少不允许进一步的错误状态。在某些情况下，甚至可以自动纠正错误，例如关闭驱动器并重新打开。在最坏的情况下，只能将驱动器标记为有缺陷，以免进一步使用。在这些任务中，通过规则控制的机制也可以帮助并显著减轻管理员的压力。</p><p>存储在驱动器上的数据不仅提供有关驱动器本身的信息，还提供有关已加载磁带的信息。此数据可用于实现磁带质量管理，例如，在读取和写入时监视错误率，并在必要时将数据复制到新磁带（如果超过某个阈值），之后删除有缺陷的磁带来自系统。</p><h1>11.4.9报告</h1><p>可移动介质的中央管理系统可精确记录有关磁带，驱动器和磁带库的所有操作。相应的元数据是强大报告的基础，例如：</p><p>盒子是否已装入系统？</p><p>何时分配哪个墨盒到哪个墨盒？</p><p>何时访问哪个卷？</p><p>这个卷只是阅读还是写？</p><p>使用了哪种驱动器？</p><p>这是授权访问还是拒绝访问？</p><p>法律和法规规定了正式审核，以证明某些应用程序（如数字存档）的定期合规性（第8.2.2节）。为此，必须生成完整且不可操作的审计跟踪，其中列出了从应用程序到磁带的所有访问。这些审计跟踪的单个条目应提供有关访问盒式磁带的人员，访问权限以及访问权限的信息。</p><p>审计跟踪还可用于派生使用情况统计信息。有关何时使用驱动器以及使用驱动器的时间的数据对于对所有驱动器的实际利用率进行定性陈述非常重要。在任何时候，是否有足够的驱动器可以执行所有挂载请求？是否有更多的驱动器可用，而不是过去12个月内同时需要的最大数量？这些问题的答案可以在报告数据中找到。与驱动器的使用一样，可用存储空间当然也是有意义的。有足够的可用容量吗？有瓶颈吗？</p><p>使用统计数据为分析预测未来需求的趋势奠定了基础。存储需求将如何增长？ 12个月内需要多少驱动器？有多少插槽和墨盒？管理系统应该能够帮助寻找这些问题的答案，以便及时规划和实施各自的扩展。</p><p>就像使用资源的数据一样，关于使用过程中发生的错误的数据对于成功使用可移动媒体也非常重要。制造商X的存储介质是否导致制造商Y的驱动器中的读写错误少于制造商Z的介质？适当的评估有助于优化系统的整体性能。</p><h1>11.5 IEEE 1244可移动媒体管理标准</h1><p>早在1990年，IEEE计算机协会就建立了1244项目，用于开发存储系统标准。还建立了存储系统标准工作组，目的是开发大容量存储系统的参考模型（海量存储系统参考模型，MSSRM）。该参考模型显著影响了当今使用的某些存储系统的设计。然后将该模型修改了几次，并于1994年作为IEEE参考模型开放存储系统互连（OSSI）发布。最后，在2000年进一步修订后，发布了1244可移动媒体管理标准。</p><p>该标准由一系列文档组成，这些文档描述了可移动媒体的独立于平台的分布式管理系统。它还定义了可移动媒体管理系统的体系结构及其与外部世界的接口。该架构使软件制造商能够实现可扩展的分布式软件系统，这些软件系统可作为应用软件与库和驱动器硬件之间的通用中间件。因此，系统的服务可以合并到一个中央组件中，并从那里提供给所有应用程序。该规范特别关注平台独立性，因此很早就开始考虑当前存储网络的异构环境。</p><p>基于此标准构建的系统可以管理不同类型的媒体。除了用于计算机领域的典型介质，例如磁带，CD，DVD或光学介质，还可以管理音频和视频磁带，文件和视频磁盘。实际上，在IEEE 1244兼容系统中没有关于介质属性的假设。必须为系统要支持的每种媒体类型定义它们的特征（边数，分区数等）。有一系列预定义类型，每个类型都有自己的属性。这种开放式设计使您可以随时指定新媒体类型及其属性，并将其添加到当前系统。</p><p>除了媒体类型的中立性外，该标准还允许管理自动和手动操作的库。 操作员界面也是文档化的，用于将消息发送给库的相应管理员，可以实现此目的。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'存储','网络','Day35'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>