<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>51特殊功能寄存器详解 | 极客快訊</title><meta property="og:title" content="51特殊功能寄存器详解 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/d25171249ec0436bb7a97eea855a3f45"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/209bf64.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/209bf64.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/209bf64.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/209bf64.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/209bf64.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/209bf64.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/209bf64.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/209bf64.html><meta property="article:published_time" content="2020-10-29T20:50:02+08:00"><meta property="article:modified_time" content="2020-10-29T20:50:02+08:00"><meta name=Keywords content><meta name=description content="51特殊功能寄存器详解"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/209bf64.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>51特殊功能寄存器详解</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>一：中断允许寄存器 IE</p><p>CPU对中断系统所有中断以及某个中断源的开放和屏蔽是由中断允许寄存器IE控制的。</p><div class=pgc-img><img alt=51特殊功能寄存器详解 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d25171249ec0436bb7a97eea855a3f45><p class=pgc-img-caption></p></div><p>EX0 (IE.0)，外部中断0允许位;</p><p>ET0 (IE.1)，定时/计数器T0中断允许位;</p><p>EX1 (IE.2)，外部中断0允许位;</p><p>ET1 (IE.3)，定时/计数器T1中断允许位;</p><p>ES (IE.4)，串行口中断允许位;</p><p>EA (IE.7)， CPU中断允许(总允许)位。</p><p>IE寄存器可进行位寻址，所以可单独操作各个位 例如要操作第零位，直接给EX0赋值即可</p><p>二：中断优先级控制 IP</p><div class=pgc-img><img alt=51特殊功能寄存器详解 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9c4ff3ca9e634934b77c95d3c6490c81><p class=pgc-img-caption></p></div><p>PX0(IP.0)，外部中断0优先级设定位;</p><p>PT0(IP.1)，定时/计数器T0优先级设定位;</p><p>PX1(IP.2)，外部中断0优先级设定位;</p><p>PT1(IP.3)，定时/计数器T1优先级设定位;</p><p>PS (IP.4)，串行口优先级设定位;</p><p>PT2 (IP.5) ，定时/计数器T2优先级设定位。</p><p>80C52单片机有四个中断优先级，即可实现四级中断服务嵌套。每个中断源的中断优先级由中断优先级寄存器IP和IPH中的相应位的状态来规定的。</p><div class=pgc-img><img alt=51特殊功能寄存器详解 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/937667d146944e4a83c7093bd12128bd><p class=pgc-img-caption></p></div><p>PX0(IPH.0)，外部中断0优先级设定位;</p><p>PT0(IPH.1)，定时/计数器T0优先级设定位;</p><p>PX1(IPH.2)，外部中断0优先级设定位;</p><p>PT1(IPH.3)，定时/计数器T1优先级设定位;</p><p>PS (IPH.4)，串行口优先级设定位;</p><p>PT2 (IPH.5) ，定时/计数器T2优先级设定位。</p><p>同一优先级中的中断申请不止一个时，则有中断优先权排队问题。同一优先级的中断优先权排队，由中断系统硬件确定的自然优先级形成，其排列如所示：</p><div class=pgc-img><img alt=51特殊功能寄存器详解 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/cf8035e5d6ed474ca0de1c5bd5d09fbf><p class=pgc-img-caption></p></div><p>三：工作方式寄存器TMOD</p><p>工作方式寄存器TMOD用于设置定时/计数器的工作方式，低四位用于T0，高四位用于T1。其格式如下：</p><div class=pgc-img><img alt=51特殊功能寄存器详解 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/aff9a6ca5eb64978a0fa968945be2a02><p class=pgc-img-caption></p></div><p>GATE：门控位。GATE=0时，只要用软件使TCON中的TR0或TR1为1，就可以启动定时/计数器工作;GATA=1时，要用软件使TR0或TR1为1，同时外部中断引脚INT0/1也为高电平时，才能启动定时/计数器工作。即此时定时器的启动条件，加上了INT0/1引脚为高电平这一条件。</p><p>C/T :定时/计数模式选择位。 C/T=0为定时模式; C/T=1为计数模式。</p><p>M1M0：工作方式设置位。定时/计数器有四种工作方式，由M1M0进行设置。</p><div class=pgc-img><img alt=51特殊功能寄存器详解 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/6a75e945c7284f8ab0b6f03d9d1772b7><p class=pgc-img-caption></p></div><p>1、方式0</p><p>方式0为13位计数，由TL0的低5位(高3位未用)和TH0的8位组成。TL0的低5位溢出时向TH0进位，TH0溢出时，置位TCON中的TF0标志，向CPU发出中断请求。</p><p>2、方式1 与方式0相似，只是位数不同</p><div class=pgc-img><img alt=51特殊功能寄存器详解 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e398c4c0f22f4091ab3a6402c4643f98><p class=pgc-img-caption></p></div><p>3、方式2：8位自动重装(区别于0,1有两点 1：位数 2：溢出后自动重装，不用我们软件重装,TH充当常数寄存器 )</p><p>4：方式3：T0有效，分成两个独立的8位定时器</p><p>四：控制寄存器TCON</p><p>TCON的低4位用于控制外部中断,已在前面介绍。TCON的高4位用于控制定时/计数器的启动和中断申请。其格式如下：</p><div class=pgc-img><img alt=51特殊功能寄存器详解 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7964102c47d54c3c8104ef1c643d9f2d><p class=pgc-img-caption></p></div><p>TF1(TCON.7)：T1溢出中断请求标志位。T1计数溢出时由硬件自动置TF1为1。CPU响应中断后TF1由硬件自动清0。T1工作时，CPU可随时查询TF1的状态。所以，TF1可用作查询测试的标志。TF1也可以用软件置1或清0，同硬件置1或清0的效果一样。</p><p>TR1(TCON.6)：T1运行控制位。TR1置1时，T1开始工作;TR1置0时，T1停止工作。TR1由软件置1或清0。所以，用软件可控制定时/计数器的启动与停止。</p><p>TF0(TCON.5)：T0溢出中断请求标志位，其功能与TF1类同。</p><p>TR0(TCON.4)：T0运行控制位，其功能与TR1类同。</p><p>IT0(TCON.0)，外部中断0触发方式控制位。</p><p>当IT0=0时，为电平触发方式。</p><p>当IT0=1时，为边沿触发方式(下降沿有效)。</p><p>IE0(TCON.1)，外部中断0中断请求标志位。</p><p>IT1(TCON.2)，外部中断1触发方式控制位。</p><p>IE1(TCON.3)，外部中断1中断请求标志位。</p><p>五：中断标志SCON</p><div class=pgc-img><img alt=51特殊功能寄存器详解 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/712ed9dca18b4218b430f76ef69488cb><p class=pgc-img-caption></p></div><p>RI(SCON.0)，串行口接收中断标志位。当允许串行口接收数据时，每接收完一个串行帧，由硬件置位RI。注意，RI必须由软件清除。</p><p>TI(SCON.1)，串行口发送中断标志位。当CPU将一个发送数据写入串行口发送缓冲器时，就启动了发送过程。每发送完一个串行帧，由硬件置位TI。CPU响应中断时，不能自动清除TI，TI必须由软件清除。</p><div class=pgc-img><img alt=51特殊功能寄存器详解 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c590c83065c94cb4b28631af07c79ef2><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=51特殊功能寄存器详解 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/f059a41b1c164a2095f8d398708b56f8><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'51','详解','寄存器'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>