<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>公钥体系（PKI）等密码学技术基础 | 极客快訊</title><meta property="og:title" content="公钥体系（PKI）等密码学技术基础 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/39f419a563c54a29832130442ad3c99a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/223d3d8.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/223d3d8.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/223d3d8.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/223d3d8.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/223d3d8.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/223d3d8.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/223d3d8.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/223d3d8.html><meta property="article:published_time" content="2020-10-29T20:51:34+08:00"><meta property="article:modified_time" content="2020-10-29T20:51:34+08:00"><meta name=Keywords content><meta name=description content="公钥体系（PKI）等密码学技术基础"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/223d3d8.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>公钥体系（PKI）等密码学技术基础</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>公钥体系（PKI）等密码学技术基础</p><h3 class=pgc-h-arrow-right>公钥体系（Public Key Infrastructure, PKI）的一些概念</h3><h4 class=pgc-h-arrow-right>对称密码算法， 典型算法：DES, AES</h4><ol start=1><li>加解密方共用一个密钥</li><li>加/解密速度快，但密钥在网络上分发比较困难，因为密钥在分发过程中可能被别人获取</li></ol><h4 class=pgc-h-arrow-right>哈希或散列函数（Hash）, 典型算法 SHA, MD5</h4><ol start=1><li>如果两个散列值是不相同的，那么这两个散列值的原始输入<br>也是不相同的</li><li>用于信息压缩，并发现信息是否发生变化</li><li>计算速度快，特定算法其结果长度统一</li><li>目前至少使用SHA256</li></ol><h4 class=pgc-h-arrow-right>非对称密码算法（公钥体系），典型算法：RSA, ECC</h4><ol start=1><li>加解密时，通讯一方有一对密钥（公钥和私钥）</li><li>公钥可以公开，分发给任何人</li><li>私钥不可以公开，严格持有</li><li>公钥加密，只能用私钥解密，私钥加密， 只能用公钥解密</li><li>加/解密速度较慢，但无密钥分发问题</li></ol><h4 class=pgc-h-arrow-right>公钥体系与对称密钥相结合的加密方式</h4><ol start=1><li>公钥体系通常运算性能低，做大量数据加解密力不从心</li><li>通常利用公钥体系实现对称密钥的安全交换</li></ol><p>下面看一下利用公钥体系实现对称密钥的安全交换，如下图：</p><div class=pgc-img><img alt=公钥体系（PKI）等密码学技术基础 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/39f419a563c54a29832130442ad3c99a><p class=pgc-img-caption></p></div><p>A 要把原文传给 B</p><ol start=1><li>A 把原文用密钥加密（对称加密）</li><li>A 用 B 的公钥把密钥加密。最后得到了密文（加密后的原文， 加密后的密钥）</li><li>密文传到 B, B 用 B 的私钥解密传过来的加密密钥，得到密钥</li><li>B 用密钥解密加密的原文，得到原文</li></ol><p>通过利用公钥体系实现对称密钥的安全交换，既避免了用非对称加密原文的性能低下缺点，又避免了对称加密不能在网络上安全分发的缺点，简而言之，充分利用了对称加密和非对称加密的优点，避免了它们的缺点。</p><h4 class=pgc-h-arrow-right>基于公钥体系的签名和验签机制</h4><p>数字签名的目的：检测数据未经授权的修改，签名者的身份识别和抗抵赖。</p><p>我们通过下图解释这个过程：</p><div class=pgc-img><img alt=公钥体系（PKI）等密码学技术基础 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/48c8fd2ab9544881948472fad3464d5f><p class=pgc-img-caption></p></div><ol start=1><li>A 把原文用散列算法进行 Hash 运算，得到的结果称为摘要</li><li>A 用 A 的私钥加密摘要信息，得到的结果称为数字签名</li><li>A 把原文并附带 A 的数字签名一起发送给 B</li><li>B 用 A 的公钥对发送过来的数字签名解密得到原文摘要</li><li>B 对发送过来的原文用同样的散列算法进行 Hash 运算，得到新摘要</li><li>B 比对原文摘要与这个新摘要</li><li>如果相同则证明（1）原文没有被篡改; （2）信息是 A 发送的</li></ol><p>通过以上的步骤就完成了签名与验签的过程。后面的数字证书体系也是以此为核心。</p><h4 class=pgc-h-arrow-right>一些问题</h4><ol start=1><li>为什么要用 Hash 对原文进行运算生成摘要呢？</li></ol><pre><code>1. 缩小存储或传输的数据量      2. 减轻公钥体系加解密性能低下的问题</code></pre><ol start=1><li>第 7 步的解释</li></ol><pre><code>1. 如果发送的信息没有篡改，那么 也只有使用A的公钥才可以通过 相应的验签      2. 此验签过程，若通过，则表示信息一定是“公钥 A”的持有者制作</code></pre><h4 class=pgc-h-arrow-right>数字证书(Certificate) 和 CA（认证中心，数字证书发证系统）</h4><p>前面我们了解了基于公钥体系的签名和验签机制，但还有一个问题，A 与 B 发送信息前是要把 A 的公钥发送给 B 的，想像一下，如果 A 与 B 的通信过程中被攻击者 C 截取了，然后 C 用自己的公钥冒充 A 的公钥发送给 B。并且在后续通信中 C 修改了原文，然后用自己的私钥生成自己的签名，冒充 A 的身份给 B 发送信息，而 A, B 对此全然不知，这是非常危险的。那么如何解决这个问题呢？这就用到数字证书和 CA。什么是数字证书与 CA ？想想现实世界中我们向别人证明自己的身份是用身份证，而这个身份证是政府机关颁发的，网络世界也类似，数字证书就相当于身份证，CA 相当于权威的政府机关。</p><p>数字证书（Digital Certificate），又叫“数字身份证”、“网络身份证”，是由认证中心发放并经认证中心数字签名的，包含公开密钥拥有者以及公开密钥相关信息的一种电子文件，可以用来证明数字证书持有者的真实身份。</p><p>数字证书采用公钥体制:</p><ul><li>数字证书是”公钥+证书名称信息+签发机构对证书的数字签名”、匹配的私钥</li><li>数字证书遵从X.509国际标准</li></ul><p>如果“ A 有数字身份”，则：</p><p>A 有自己的一对公钥和私钥;</p><p>数字身份的发证机关(CA)，证明了这个公钥对应的持有人是 A。</p><p>我们来看个例子：</p><p>假设服务器 <strong>https://example.com</strong> 需要数字证书</p><ol start=1><li>服务器 example.com 将从 CA(例如 Digicert) 请求证书；</li><li>Digicert 将为 example.com 创建数字证书，数字证书将包含必要的数据，例如服务器名称，服务器的公钥等；</li><li>Digicert 将创建数据（数字证书）的哈希值，并使用自己的私钥对其进行加密（即生成了 Digicert(CA) 的数字签名）；</li><li>浏览器和操作系统自带 Digicert 等权威机构的公钥；</li><li>当浏览器收到数字签名和数字证书证书时，它将使用公钥从数字签名解密生成哈希值，它还将使用数字证书中指定的散列算法生成数据（数字证书）的哈希值，如果两个哈希值匹配，则签名验证成功并且证书是可信的。</li></ol></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'公钥','体系','PKI'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>