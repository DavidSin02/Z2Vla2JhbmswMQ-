<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ | æå®¢å¿«è¨Š</title><meta property="og:title" content="è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/297b94665d5249589e96e7c427acc207"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/228f3c3d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/228f3c3d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/228f3c3d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/228f3c3d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/228f3c3d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/228f3c3d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/228f3c3d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/228f3c3d.html><meta property="article:published_time" content="2020-11-14T21:06:12+08:00"><meta property="article:modified_time" content="2020-11-14T21:06:12+08:00"><meta name=Keywords content><meta name=description content="è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/228f3c3d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p>è‡ªSpringCloudé—®ä¸–ä»¥æ¥ï¼Œå¾®æœåŠ¡ä»¥å¸­å·ä¹‹åŠ¿é£é¡å…¨çƒï¼Œä¼ä¸šæ¶æ„éƒ½åœ¨ä»ä¼ ç»ŸSOAå‘å¾®æœåŠ¡è½¬å‹ã€‚ç„¶è€Œå¾®æœåŠ¡è¿™æŠŠåŒåˆƒå‰‘åœ¨å¸¦æ¥å„ç§ä¼˜åŠ¿çš„åŒæ—¶ï¼Œä¹Ÿç»™è¿ç»´ã€æ€§èƒ½ç›‘æ§ã€é”™è¯¯çš„æ’æŸ¥å¸¦æ¥çš„æå¤§çš„å›°éš¾ã€‚</p><p style=text-align:start>åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼ŒæœåŠ¡æ¶æ„ä¼šåŒ…å«æ•°åä¹ƒè‡³ä¸Šç™¾ä¸ªæœåŠ¡èŠ‚ç‚¹ã€‚å¾€å¾€ä¸€æ¬¡è¯·æ±‚ä¼šè®¾è®¡åˆ°å¤šä¸ªå¾®æœåŠ¡ï¼Œæƒ³è¦æ’æŸ¥ä¸€æ¬¡è¯·æ±‚é“¾è·¯ä¸­ç»è¿‡äº†å“ªäº›èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„æ‰§è¡Œæƒ…å†µå¦‚ä½•ï¼Œå°±æˆä¸ºäº†äºŸå¾…è§£å†³çš„é—®é¢˜ã€‚äºæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„APMç®¡ç†ç³»ç»Ÿåº”è¿è€Œç”Ÿã€‚</p><h1 class=pgc-h-arrow-right><strong>ä»€ä¹ˆæ˜¯APMç³»ç»Ÿï¼Ÿ</strong></h1><p style=text-align:start>APMç³»ç»Ÿå¯ä»¥å¸®åŠ©ç†è§£ç³»ç»Ÿè¡Œä¸ºã€ç”¨äºåˆ†ææ€§èƒ½é—®é¢˜çš„å·¥å…·ï¼Œä»¥ä¾¿å‘ç”Ÿæ•…éšœçš„æ—¶å€™ï¼Œèƒ½å¤Ÿå¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ï¼Œè¿™å°±æ˜¯APMç³»ç»Ÿï¼Œå…¨ç§°æ˜¯ï¼ˆ<strong>A</strong>pplication <strong>P</strong>erformance <strong>M</strong>onitorï¼‰ã€‚</p><p style=text-align:start>è°·æ­Œå…¬å¼€çš„è®ºæ–‡æåˆ°çš„Google Dapperå¯ä»¥è¯´æ˜¯æœ€æ—©çš„APMç³»ç»Ÿäº†ï¼Œç»™googleçš„å¼€å‘è€…å’Œè¿ç»´å›¢é˜Ÿå¸®äº†å¤§å¿™ï¼Œæ‰€ä»¥è°·æ­Œå…¬å¼€è®ºæ–‡åˆ†äº«äº†Dapperã€‚</p><p style=text-align:start>è€Œåï¼Œå¾ˆå¤šçš„æŠ€æœ¯å…¬å¸åŸºäºè¿™ç¯‡è®ºæ–‡çš„åŸç†ï¼Œè®¾è®¡å¼€å‘äº†å¾ˆå¤šå‡ºè‰²çš„APMæ¡†æ¶ï¼Œä¾‹å¦‚Pinpointã€SkyWalkingç­‰ã€‚</p><p style=text-align:start>è€ŒSpringCloudå®˜ç½‘ä¹Ÿé›†æˆäº†ä¸€å¥—è¿™æ ·çš„ç³»ç»Ÿï¼šSpring Cloud Sleuthï¼Œç»“åˆZipkinã€‚</p><p style=text-align:start>APMçš„åŸºæœ¬åŸç†</p><p style=text-align:start>ç›®å‰å¤§éƒ¨åˆ†çš„APMç³»ç»Ÿéƒ½æ˜¯åŸºäºGoogleçš„DapperåŸç†å®ç°ï¼Œæˆ‘ä»¬ç®€å•æ¥çœ‹çœ‹Dapperä¸­çš„æ¦‚å¿µå’Œå®ç°åŸç†ã€‚</p><p style=text-align:start>å…ˆæ¥çœ‹ä¸€æ¬¡è¯·æ±‚è°ƒç”¨ç¤ºä¾‹ï¼š</p><ol start=1><li>æœåŠ¡é›†ç¾¤ä¸­åŒ…æ‹¬ï¼šå‰ç«¯ï¼ˆAï¼‰ï¼Œä¸¤ä¸ªä¸­é—´å±‚ï¼ˆBå’ŒCï¼‰ï¼Œä»¥åŠä¸¤ä¸ªåç«¯ï¼ˆDå’ŒEï¼‰</li><li>å½“ç”¨æˆ·å‘èµ·ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œé¦–å…ˆåˆ°è¾¾å‰ç«¯AæœåŠ¡ï¼Œç„¶åAåˆ†åˆ«å¯¹BæœåŠ¡å’ŒCæœåŠ¡è¿›è¡ŒRPCè°ƒç”¨ï¼›</li><li>BæœåŠ¡å¤„ç†å®Œç»™Aåšå‡ºå“åº”ï¼Œä½†æ˜¯CæœåŠ¡è¿˜éœ€è¦å’Œåç«¯çš„DæœåŠ¡å’ŒEæœåŠ¡äº¤äº’ä¹‹åå†è¿”è¿˜ç»™AæœåŠ¡ï¼Œæœ€åç”±AæœåŠ¡æ¥å“åº”ç”¨æˆ·çš„è¯·æ±‚ï¼›</li></ol><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/297b94665d5249589e96e7c427acc207><p class=pgc-img-caption></p></div><p style=text-align:start>å¦‚ä½•æ‰èƒ½å®ç°è·Ÿè¸ªå‘¢ï¼Ÿ</p><p style=text-align:start>Googleçš„Dapperè®¾è®¡äº†ä¸‹é¢çš„å‡ ä¸ªæ¦‚å¿µç”¨æ¥è®°å½•è¯·æ±‚é“¾è·¯ï¼š</p><pre><code>Spanï¼šè¯·æ±‚ä¸­çš„åŸºæœ¬å·¥ä½œå•å…ƒï¼Œæ¯ä¸€æ¬¡é“¾è·¯è°ƒç”¨ï¼ˆRPCã€Restã€æ•°æ®åº“è°ƒç”¨ï¼‰éƒ½ä¼šåˆ›å»ºä¸€ä¸ªSpanã€‚å¤§æ¦‚ç»“æ„å¦‚ä¸‹ï¼štype Span struct { TraceID int64 // ç”¨äºæ ‡ç¤ºä¸€æ¬¡å®Œæ•´çš„è¯·æ±‚id Name string // å•å…ƒåç§° ID int64 // å½“å‰è¿™æ¬¡è°ƒç”¨span_id ParentID int64 // ä¸Šå±‚æœåŠ¡çš„span_id,æœ€ä¸Šå±‚æœåŠ¡parent_idä¸ºnullï¼Œä»£è¡¨æ ¹æœåŠ¡ Annotation []Annotation // æ³¨é‡Šï¼Œç”¨äºè®°å½•è°ƒç”¨ä¸­çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚æ—¶é—´}</code></pre><ul><li>Traceï¼šä¸€æ¬¡å®Œæ•´çš„è°ƒç”¨é“¾è·¯ï¼ŒåŒ…å«å¤šä¸ªSpançš„æ ‘çŠ¶ç»“æ„ï¼Œå…·æœ‰å”¯ä¸€çš„TraceID</li></ul><p style=text-align:start>ä¸€æ¬¡è¯·æ±‚çš„æ¯ä¸ªé“¾è·¯ï¼Œé€šè¿‡spanIdã€parentIdå°±èƒ½ä¸²è”èµ·æ¥ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15b0f233c8d74295816fec1dd879e3dc><p class=pgc-img-caption></p></div><p style=text-align:start>å½“ç„¶ï¼Œä»è¯·æ±‚åˆ°æœåŠ¡å™¨å¼€å§‹ï¼ŒæœåŠ¡å™¨è¿”å›responseç»“æŸï¼Œæ¯ä¸ªspanå­˜åœ¨ç›¸åŒçš„å”¯ä¸€æ ‡è¯†trace_idã€‚</p><h1 class=pgc-h-arrow-right><strong>APMçš„ç­›é€‰æ ‡å‡†</strong></h1><p style=text-align:start>ç›®å‰ä¸»æµçš„APMæ¡†æ¶éƒ½ä¼šåŒ…å«ä¸‹åˆ—å‡ ä¸ªç»„ä»¶æ¥å®Œæˆé“¾è·¯ä¿¡æ¯çš„æ”¶é›†å’Œå±•ç¤ºï¼š</p><ul><li>æ¢é’ˆï¼ˆAgentï¼‰ï¼šè´Ÿè´£åœ¨å®¢æˆ·ç«¯ç¨‹åºè¿è¡Œæ—¶æœç´¢æœåŠ¡è°ƒç”¨é“¾è·¯ä¿¡æ¯ï¼Œå‘é€ç»™æ”¶é›†å™¨</li><li>æ”¶é›†å™¨ï¼ˆCollectorï¼‰ï¼šè´Ÿè´£å°†æ•°æ®æ ¼å¼åŒ–ï¼Œä¿å­˜åˆ°å­˜å‚¨å™¨</li><li>å­˜å‚¨å™¨ï¼ˆStorageï¼‰ï¼šä¿å­˜æ•°æ®</li><li>UIç•Œé¢ï¼ˆWebUIï¼‰ï¼šç»Ÿè®¡å¹¶å±•ç¤ºæ”¶é›†åˆ°çš„ä¿¡æ¯</li></ul><p style=text-align:start>å› æ­¤ï¼Œè¦ç­›é€‰ä¸€æ¬¾åˆæ ¼çš„APMæ¡†æ¶ï¼Œå°±æ˜¯å¯¹æ¯”å„ä¸ªç»„ä»¶çš„ä½¿ç”¨å·®å¼‚ï¼Œä¸»è¦å¯¹æ¯”é¡¹ï¼š</p><ul><li><strong>æ¢é’ˆçš„æ€§èƒ½</strong></li></ul><p style=text-align:start>ä¸»è¦æ˜¯agentå¯¹æœåŠ¡çš„ååé‡ã€CPUå’Œå†…å­˜çš„å½±å“ã€‚å¦‚æœæ¢é’ˆåœ¨æ”¶é›†å¾®æœåŠ¡è¿è¡Œæ•°æ®æ—¶ï¼Œå¯¹å¾®æœåŠ¡çš„è¿è¡Œäº§ç”Ÿäº†æ¯”è¾ƒå¤§çš„æ€§èƒ½å½±å“ï¼Œç›¸ä¿¡æ²¡ä»€ä¹ˆäººæ„¿æ„ä½¿ç”¨ã€‚</p><ul><li><strong>collectorçš„å¯æ‰©å±•æ€§</strong></li></ul><p style=text-align:start>èƒ½å¤Ÿæ°´å¹³æ‰©å±•ä»¥ä¾¿æ”¯æŒå¤§è§„æ¨¡æœåŠ¡å™¨é›†ç¾¤ï¼Œä¿è¯æ”¶é›†å™¨çš„é«˜å¯ç”¨ç‰¹æ€§ã€‚</p><ul><li><strong>å…¨é¢çš„è°ƒç”¨é“¾è·¯æ•°æ®åˆ†æ</strong></li></ul><p style=text-align:start>æ•°æ®çš„åˆ†æè¦<strong>å¿«</strong> ï¼Œåˆ†æçš„ç»´åº¦å°½å¯èƒ½<strong>å¤š</strong>ã€‚è·Ÿè¸ªç³»ç»Ÿèƒ½æä¾›è¶³å¤Ÿå¿«çš„ä¿¡æ¯åé¦ˆï¼Œå°±å¯ä»¥å¯¹ç”Ÿäº§ç¯å¢ƒä¸‹çš„å¼‚å¸¸çŠ¶å†µåšå‡ºå¿«é€Ÿååº”ï¼Œæœ€å¥½æä¾›ä»£ç çº§åˆ«çš„å¯è§æ€§ä»¥ä¾¿è½»æ¾å®šä½å¤±è´¥ç‚¹å’Œç“¶é¢ˆã€‚</p><ul><li><strong>å¯¹äºå¼€å‘é€æ˜ï¼Œå®¹æ˜“å¼€å…³</strong></li></ul><p style=text-align:start>å³ä¹Ÿä½œä¸ºä¸šåŠ¡ç»„ä»¶ï¼Œåº”å½“å°½å¯èƒ½å°‘å…¥ä¾µæˆ–è€…æ— å…¥ä¾µå…¶ä»–ä¸šåŠ¡ç³»ç»Ÿï¼Œå¯¹äºä½¿ç”¨æ–¹é€æ˜ï¼Œå‡å°‘å¼€å‘äººå‘˜çš„è´Ÿæ‹…ã€‚</p><ul><li><strong>å®Œæ•´çš„è°ƒç”¨é“¾åº”ç”¨æ‹“æ‰‘</strong></li></ul><p style=text-align:start>è‡ªåŠ¨æ£€æµ‹åº”ç”¨æ‹“æ‰‘ï¼Œå¸®åŠ©ä½ ææ¸…æ¥šåº”ç”¨çš„æ¶æ„</p><p style=text-align:start>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯¹æ¯”ä¸‹ç›®å‰æ¯”è¾ƒå¸¸è§çš„ä¸‰ç§APMæ¡†æ¶çš„å„é¡¹æŒ‡æ ‡ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li>ZIPkinï¼šç”±Twitterå…¬å¸å¼€æºï¼Œå¼€æ”¾æºä»£ç åˆ†å¸ƒå¼çš„è·Ÿè¸ªç³»ç»Ÿï¼Œç”¨äºæ”¶é›†æœåŠ¡çš„å®šæ—¶æ•°æ®ï¼Œä»¥è§£å†³å¾®æœåŠ¡æ¶æ„ä¸­çš„å»¶è¿Ÿé—®é¢˜ï¼ŒåŒ…æ‹¬ï¼šæ•°æ®çš„æ”¶é›†ã€å­˜å‚¨ã€æŸ¥æ‰¾å’Œå±•ç°ã€‚</li><li>Pinpointï¼šä¸€æ¬¾å¯¹Javaç¼–å†™çš„å¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿçš„APMå·¥å…·ï¼Œç”±éŸ©å›½äººå¼€æºçš„åˆ†å¸ƒå¼è·Ÿè¸ªç»„ä»¶ã€‚</li><li>Skywalkingï¼šå›½äº§çš„ä¼˜ç§€APMç»„ä»¶ï¼Œæ˜¯ä¸€ä¸ªå¯¹JAVAåˆ†å¸ƒå¼åº”ç”¨ç¨‹åºé›†ç¾¤çš„ä¸šåŠ¡è¿è¡Œæƒ…å†µè¿›è¡Œè¿½è¸ªã€å‘Šè­¦å’Œåˆ†æçš„ç³»ç»Ÿã€‚ç°åœ¨æ˜¯Apacheçš„é¡¶çº§é¡¹ç›®ä¹‹ä¸€</li></ul><p style=text-align:start>ä¸‰è€…å¯¹æ¯”å¦‚ä¸‹ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3eeda4c399884cfc8c10759dea30d9e3><p class=pgc-img-caption></p></div><p style=text-align:start>å¯è§ï¼Œzipkinçš„æ¢é’ˆæ€§èƒ½ã€å¼€å‘é€æ˜æ€§ã€æ•°æ®åˆ†æèƒ½åŠ›éƒ½ä¸å ä¼˜ï¼Œå®åœ¨æ˜¯ä¸‹ä¸‹ä¹‹é€‰ã€‚</p><p style=text-align:start>è€Œpinpointåœ¨æ•°æ®åˆ†æèƒ½åŠ›ã€å¼€å‘é€æ˜æ€§ä¸Šæœ‰è¾ƒå¤§çš„ä¼˜åŠ¿,ä¸è¿‡Pinpointçš„éƒ¨ç½²ç›¸å¯¹æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦çš„ç¡¬ä»¶èµ„æºè¾ƒé«˜ã€‚</p><p style=text-align:start>Skywalkingçš„æ¢é’ˆæ€§èƒ½å’Œå¼€å‘é€æ˜æ€§ä¸Šå…·æœ‰è¾ƒå¤§ä¼˜åŠ¿ï¼Œæ•°æ®åˆ†æèƒ½åŠ›ä¸Šä¹Ÿè¿˜ä¸é”™ï¼Œé‡è¦çš„æ˜¯å…¶éƒ¨ç½²æ¯”è¾ƒæ–¹ä¾¿çµæ´»ï¼Œæ¯”èµ·Pinpointæ›´é€‚åˆä¸­å°å‹ä¼ä¸šä½¿ç”¨ã€‚</p><p style=text-align:start>å› æ­¤ï¼Œæœ¬æ–‡ä¼šå¸¦ç€å¤§å®¶å­¦ä¹ Skywalkingçš„ä½¿ç”¨ã€‚</p><h1 class=pgc-h-arrow-right><strong>Skywalkingä»‹ç»</strong></h1><p style=text-align:start><strong>SkyWalking</strong> åˆ›å»ºäº2015å¹´ï¼Œæä¾›åˆ†å¸ƒå¼è¿½è¸ªåŠŸèƒ½ã€‚ä»5.xå¼€å§‹ï¼Œé¡¹ç›®è¿›åŒ–ä¸ºä¸€ä¸ªå®ŒæˆåŠŸèƒ½çš„Application Performance Managementç³»ç»Ÿã€‚ ä»–è¢«ç”¨äºè¿½è¸ªã€ç›‘æ§å’Œè¯Šæ–­åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œç‰¹åˆ«æ˜¯ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œäº‘åŸç”Ÿæˆ–å®¹ç§¯æŠ€æœ¯ã€‚æä¾›ä»¥ä¸‹ä¸»è¦åŠŸèƒ½ï¼š</p><ul><li>åˆ†å¸ƒå¼è¿½è¸ªå’Œä¸Šä¸‹æ–‡ä¼ è¾“</li><li>åº”ç”¨ã€å®ä¾‹ã€æœåŠ¡æ€§èƒ½æŒ‡æ ‡åˆ†æ</li><li>æ ¹æºåˆ†æ</li><li>åº”ç”¨æ‹“æ‰‘åˆ†æ</li><li>åº”ç”¨å’ŒæœåŠ¡ä¾èµ–åˆ†æ</li><li>æ…¢æœåŠ¡æ£€æµ‹</li><li>æ€§èƒ½ä¼˜åŒ–</li></ul><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0dde17a79ce3440b9f81fa24a2dec7bc><p class=pgc-img-caption></p></div><p style=text-align:start>ä¸»è¦çš„ç‰¹å¾ï¼š</p><ul><li>å¤šè¯­è¨€æ¢é’ˆæˆ–ç±»åº“</li><ul><li>Javaè‡ªåŠ¨æ¢é’ˆï¼Œè¿½è¸ªå’Œç›‘æ§ç¨‹åºæ—¶ï¼Œä¸éœ€è¦ä¿®æ”¹æºç ã€‚</li><li>ç¤¾åŒºæä¾›çš„å…¶ä»–å¤šè¯­è¨€æ¢é’ˆ</li><ul><li>.NET Core</li><li>Node.js</li></ul></ul><li>å¤šç§åç«¯å­˜å‚¨ï¼š ElasticSearchï¼Œ H2</li><li>æ”¯æŒ<br>OpenTracing</li><ul><li>Javaè‡ªåŠ¨æ¢é’ˆæ”¯æŒå’ŒOpenTracing APIååŒå·¥ä½œ</li></ul><li>è½»é‡çº§ã€å®Œå–„åŠŸèƒ½çš„åç«¯èšåˆå’Œåˆ†æ</li><li>ç°ä»£åŒ–Web UI</li><li>æ—¥å¿—é›†æˆ</li><li>åº”ç”¨ã€å®ä¾‹å’ŒæœåŠ¡çš„å‘Šè­¦</li></ul><h1 class=pgc-h-arrow-right><strong>Skywalkingçš„å®‰è£…</strong></h1><p style=text-align:start>å…ˆæ¥çœ‹ä¸‹Skywalkingçš„å®˜æ–¹ç»™å‡ºçš„ç»“æ„å›¾ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15d06efdf7bb4ac5b8a692e25347d898><p class=pgc-img-caption></p></div><p style=text-align:start>å¤§è‡´åˆ†å››ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>skywalking-oap-serverï¼šå°±æ˜¯<strong>O</strong>bservability <strong>A</strong>nalysis <strong>P</strong>latformdçš„æœåŠ¡ï¼Œç”¨æ¥æ”¶é›†å’Œå¤„ç†æ¢é’ˆå‘æ¥çš„æ•°æ®</li><li>skywalking-UIï¼šå°±æ˜¯skywalkingæä¾›çš„Web UI æœåŠ¡ï¼Œå›¾å½¢åŒ–æ–¹å¼å±•ç¤ºæœåŠ¡é“¾è·¯ã€æ‹“æ‰‘å›¾ã€traceã€æ€§èƒ½ç›‘æ§ç­‰</li><li>agentï¼šæ¢é’ˆï¼Œè·å–æœåŠ¡è°ƒç”¨çš„é“¾è·¯ä¿¡æ¯ã€æ€§èƒ½ä¿¡æ¯ï¼Œå‘é€åˆ°skywalkingçš„OAPæœåŠ¡</li><li>Storageï¼šå­˜å‚¨ï¼Œä¸€èˆ¬é€‰æ‹©elasticsearch</li></ul><p style=text-align:start>Skywalkingæ”¯æŒwindowsæˆ–è€…Linuxç¯å¢ƒéƒ¨ç½²ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©åœ¨Linuxä¸‹å®‰è£…Skywalkingï¼Œå¤§å®¶è¦<strong>å…ˆç¡®ä¿è‡ªå·±çš„Linuxç¯å¢ƒä¸­æœ‰elasticsearchåœ¨å¯åŠ¨ä¸­</strong>ã€‚</p><p style=text-align:start>æ¥ä¸‹æ¥çš„å®‰è£…åˆ†ä¸ºä¸‰æ­¥ï¼š</p><ul><li>ä¸‹è½½å®‰è£…åŒ…</li><li>å®‰è£…Skywalkingçš„OAPæœåŠ¡å’ŒWebUI</li><li>åœ¨æœåŠ¡ä¸­éƒ¨ç½²æ¢é’ˆ</li></ul><h1 class=pgc-h-arrow-right><strong>ä¸‹è½½å®‰è£…åŒ…</strong></h1><p style=text-align:start>å®‰è£…åŒ…å¯ä»¥åœ¨Skywalkingçš„å®˜ç½‘ä¸‹è½½ï¼Œ</p><p style=text-align:start>ç›®å‰æœ€æ–°ç‰ˆæœ¬æ˜¯8.0.1ç‰ˆæœ¬ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/270cdf368fa944d1a1b2d4a93f53372e><p class=pgc-img-caption></p></div><p style=text-align:start>ä¸‹è½½å¥½çš„å®‰è£…åŒ…ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/68e66eda628844808370e3ddeda9ad2a><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right><strong>å®‰è£…OAPæœåŠ¡å’ŒWebUI</strong></h1><h1 class=pgc-h-arrow-right><strong>å®‰è£…</strong></h1><p style=text-align:start>å°†ä¸‹è½½å¥½çš„å®‰è£…åŒ…è§£å‹åˆ°Linuxçš„æŸä¸ªç›®å½•ä¸‹ï¼š</p><pre><code>tar xvf apache-skywalking-apm-es7-8.0.1.tar.gz</code></pre><p style=text-align:start>ç„¶åå¯¹è§£å‹å¥½çš„æ–‡ä»¶å¤¹é‡å‘½åï¼š</p><pre><code>mv apache-skywalking-apm-es7 skywalking</code></pre><p style=text-align:start>è¿›å…¥è§£å‹å¥½çš„ç›®å½•ï¼š</p><pre><code>cd skywalking</code></pre><p style=text-align:start>æŸ¥çœ‹ç›®å½•ç»“æ„ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/93bad577a191492b93f7f6936541f4d7><p class=pgc-img-caption></p></div><p style=text-align:start>å‡ ä¸ªå…³é”®çš„ç›®å½•ï¼š</p><ul><li>agentï¼šæ¢é’ˆ</li><li>binï¼šå¯åŠ¨è„šæœ¬</li><li>configï¼šé…ç½®æ–‡ä»¶</li><li>logsï¼šæ—¥å¿—</li><li>oap-libsï¼šä¾èµ–</li><li>webappï¼šWebUI</li></ul><p style=text-align:start>è¿™é‡Œè¦ä¿®æ”¹configç›®å½•ä¸­çš„application.ymlæ–‡ä»¶ï¼Œè¯¦ç»†é…ç½®è§å®˜ç½‘ã€‚</p><h1 class=pgc-h-arrow-right><strong>é…ç½®</strong></h1><p style=text-align:start>è¿›å…¥configç›®å½•ï¼Œä¿®æ”¹application.ymlï¼Œä¸»è¦æ˜¯æŠŠå­˜å‚¨æ–¹æ¡ˆä»h2æ”¹ä¸ºelasticsearch</p><p style=text-align:start>å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹é¢çš„é…ç½®ï¼š</p><pre><code>cluster:  selector: ${SW_CLUSTER:standalone}  standalone:core:  selector: ${SW_CORE:default}  default:    role: ${SW_CORE_ROLE:Mixed} # Mixed/Receiver/Aggregator    restHost: ${SW_CORE_REST_HOST:0.0.0.0}    restPort: ${SW_CORE_REST_PORT:12800}    restContextPath: ${SW_CORE_REST_CONTEXT_PATH:/}    gRPCHost: ${SW_CORE_GRPC_HOST:0.0.0.0}    gRPCPort: ${SW_CORE_GRPC_PORT:11800}    gRPCSslEnabled: ${SW_CORE_GRPC_SSL_ENABLED:false}    gRPCSslKeyPath: ${SW_CORE_GRPC_SSL_KEY_PATH:""}    gRPCSslCertChainPath: ${SW_CORE_GRPC_SSL_CERT_CHAIN_PATH:""}    gRPCSslTrustedCAPath: ${SW_CORE_GRPC_SSL_TRUSTED_CA_PATH:""}    downsampling:      - Hour      - Day      - Month    # Set a timeout on metrics data. After the timeout has expired, the metrics data will automatically be deleted.    enableDataKeeperExecutor: ${SW_CORE_ENABLE_DATA_KEEPER_EXECUTOR:true} # Turn it off then automatically metrics data delete will be close.    dataKeeperExecutePeriod: ${SW_CORE_DATA_KEEPER_EXECUTE_PERIOD:5} # How often the data keeper executor runs periodically, unit is minute    recordDataTTL: ${SW_CORE_RECORD_DATA_TTL:3} # Unit is day    metricsDataTTL: ${SW_CORE_RECORD_DATA_TTL:7} # Unit is day    # Cache metric data for 1 minute to reduce database queries, and if the OAP cluster changes within that minute,    # the metrics may not be accurate within that minute.    enableDatabaseSession: ${SW_CORE_ENABLE_DATABASE_SESSION:true}    topNReportPeriod: ${SW_CORE_TOPN_REPORT_PERIOD:10} # top_n record worker report cycle, unit is minute    # Extra model column are the column defined by in the codes, These columns of model are not required logically in aggregation or further query,    # and it will cause more load for memory, network of OAP and storage.    # But, being activated, user could see the name in the storage entities, which make users easier to use 3rd party tool, such as Kibana-&gt;ES, to query the data by themselves.    activeExtraModelColumns: ${SW_CORE_ACTIVE_EXTRA_MODEL_COLUMNS:false}    # The max length of service + instance names should be less than 200    serviceNameMaxLength: ${SW_SERVICE_NAME_MAX_LENGTH:70}    instanceNameMaxLength: ${SW_INSTANCE_NAME_MAX_LENGTH:70}    # The max length of service + endpoint names should be less than 240    endpointNameMaxLength: ${SW_ENDPOINT_NAME_MAX_LENGTH:150}storage:  selector: ${SW_STORAGE:elasticsearch7}  elasticsearch7:    nameSpace: ${SW_NAMESPACE:""}    clusterNodes: ${SW_STORAGE_ES_CLUSTER_NODES:localhost:9200}    protocol: ${SW_STORAGE_ES_HTTP_PROTOCOL:"http"}    trustStorePath: ${SW_STORAGE_ES_SSL_JKS_PATH:""}    trustStorePass: ${SW_STORAGE_ES_SSL_JKS_PASS:""}    dayStep: ${SW_STORAGE_DAY_STEP:1} # Represent the number of days in the one minute/hour/day index.    user: ${SW_ES_USER:""}    password: ${SW_ES_PASSWORD:""}    secretsManagementFile: ${SW_ES_SECRETS_MANAGEMENT_FILE:""} # Secrets management file in the properties format includes the username, password, which are managed by 3rd party tool.    indexShardsNumber: ${SW_STORAGE_ES_INDEX_SHARDS_NUMBER:1} # The index shards number is for store metrics data rather than basic segment record    superDatasetIndexShardsFactor: ${SW_STORAGE_ES_SUPER_DATASET_INDEX_SHARDS_FACTOR:5} # Super data set has been defined in the codes, such as trace segments. This factor provides more shards for the super data set, shards number = indexShardsNumber * superDatasetIndexShardsFactor. Also, this factor effects Zipkin and Jaeger traces.    indexReplicasNumber: ${SW_STORAGE_ES_INDEX_REPLICAS_NUMBER:0}    # Batch process setting, refer to https://www.elastic.co/guide/en/elasticsearch/client/java-api/5.5/java-docs-bulk-processor.html    bulkActions: ${SW_STORAGE_ES_BULK_ACTIONS:1000} # Execute the bulk every 1000 requests    flushInterval: ${SW_STORAGE_ES_FLUSH_INTERVAL:10} # flush the bulk every 10 seconds whatever the number of requests    concurrentRequests: ${SW_STORAGE_ES_CONCURRENT_REQUESTS:2} # the number of concurrent requests    resultWindowMaxSize: ${SW_STORAGE_ES_QUERY_MAX_WINDOW_SIZE:10000}    metadataQueryMaxSize: ${SW_STORAGE_ES_QUERY_MAX_SIZE:5000}    segmentQueryMaxSize: ${SW_STORAGE_ES_QUERY_SEGMENT_SIZE:200}    profileTaskQueryMaxSize: ${SW_STORAGE_ES_QUERY_PROFILE_TASK_SIZE:200}    advanced: ${SW_STORAGE_ES_ADVANCED:""}  h2:    driver: ${SW_STORAGE_H2_DRIVER:org.h2.jdbcx.JdbcDataSource}    url: ${SW_STORAGE_H2_URL:jdbc:h2:mem:skywalking-oap-db}    user: ${SW_STORAGE_H2_USER:sa}    metadataQueryMaxSize: ${SW_STORAGE_H2_QUERY_MAX_SIZE:5000}receiver-sharing-server:  selector: ${SW_RECEIVER_SHARING_SERVER:default}  default:    authentication: ${SW_AUTHENTICATION:""}receiver-register:  selector: ${SW_RECEIVER_REGISTER:default}  default:receiver-trace:  selector: ${SW_RECEIVER_TRACE:default}  default:    sampleRate: ${SW_TRACE_SAMPLE_RATE:10000} # The sample rate precision is 1/10000. 10000 means 100% sample in default.    slowDBAccessThreshold: ${SW_SLOW_DB_THRESHOLD:default:200,mongodb:100} # The slow database access thresholds. Unit ms.â€‹receiver-jvm:  selector: ${SW_RECEIVER_JVM:default}  default:â€‹receiver-clr:  selector: ${SW_RECEIVER_CLR:default}  default:â€‹receiver-profile:  selector: ${SW_RECEIVER_PROFILE:default}  default:â€‹service-mesh:  selector: ${SW_SERVICE_MESH:default}  default:â€‹istio-telemetry:  selector: ${SW_ISTIO_TELEMETRY:default}  default:â€‹envoy-metric:  selector: ${SW_ENVOY_METRIC:default}  default:    acceptMetricsService: ${SW_ENVOY_METRIC_SERVICE:true}    alsHTTPAnalysis: ${SW_ENVOY_METRIC_ALS_HTTP_ANALYSIS:""}â€‹prometheus-fetcher:  selector: ${SW_PROMETHEUS_FETCHER:default}  default:    active: ${SW_PROMETHEUS_FETCHER_ACTIVE:false}â€‹receiver_zipkin:  selector: ${SW_RECEIVER_ZIPKIN:-}  default:    host: ${SW_RECEIVER_ZIPKIN_HOST:0.0.0.0}    port: ${SW_RECEIVER_ZIPKIN_PORT:9411}    contextPath: ${SW_RECEIVER_ZIPKIN_CONTEXT_PATH:/}â€‹receiver_jaeger:  selector: ${SW_RECEIVER_JAEGER:-}  default:    gRPCHost: ${SW_RECEIVER_JAEGER_HOST:0.0.0.0}    gRPCPort: ${SW_RECEIVER_JAEGER_PORT:14250}â€‹query:  selector: ${SW_QUERY:graphql}  graphql:    path: ${SW_QUERY_GRAPHQL_PATH:/graphql}â€‹alarm:  selector: ${SW_ALARM:default}  default:â€‹telemetry:  selector: ${SW_TELEMETRY:none}  none:  prometheus:    host: ${SW_TELEMETRY_PROMETHEUS_HOST:0.0.0.0}    port: ${SW_TELEMETRY_PROMETHEUS_PORT:1234}â€‹configuration:  selector: ${SW_CONFIGURATION:none}  none:  grpc:    host: ${SW_DCS_SERVER_HOST:""}    port: ${SW_DCS_SERVER_PORT:80}    clusterName: ${SW_DCS_CLUSTER_NAME:SkyWalking}    period: ${SW_DCS_PERIOD:20}  apollo:    apolloMeta: ${SW_CONFIG_APOLLO:http://106.12.25.204:8080}    apolloCluster: ${SW_CONFIG_APOLLO_CLUSTER:default}    apolloEnv: ${SW_CONFIG_APOLLO_ENV:""}    appId: ${SW_CONFIG_APOLLO_APP_ID:skywalking}    period: ${SW_CONFIG_APOLLO_PERIOD:5}  zookeeper:    period: ${SW_CONFIG_ZK_PERIOD:60} # Unit seconds, sync period. Default fetch every 60 seconds.    nameSpace: ${SW_CONFIG_ZK_NAMESPACE:/default}    hostPort: ${SW_CONFIG_ZK_HOST_PORT:localhost:2181}    # Retry Policy    baseSleepTimeMs: ${SW_CONFIG_ZK_BASE_SLEEP_TIME_MS:1000} # initial amount of time to wait between retries    maxRetries: ${SW_CONFIG_ZK_MAX_RETRIES:3} # max number of times to retry  etcd:    period: ${SW_CONFIG_ETCD_PERIOD:60} # Unit seconds, sync period. Default fetch every 60 seconds.    group: ${SW_CONFIG_ETCD_GROUP:skywalking}    serverAddr: ${SW_CONFIG_ETCD_SERVER_ADDR:localhost:2379}    clusterName: ${SW_CONFIG_ETCD_CLUSTER_NAME:default}  consul:    # Consul host and ports, separated by comma, e.g. 1.2.3.4:8500,2.3.4.5:8500    hostAndPorts: ${SW_CONFIG_CONSUL_HOST_AND_PORTS:1.2.3.4:8500}    # Sync period in seconds. Defaults to 60 seconds.    period: ${SW_CONFIG_CONSUL_PERIOD:1}    # Consul aclToken    aclToken: ${SW_CONFIG_CONSUL_ACL_TOKEN:""}â€‹exporter:  selector: ${SW_EXPORTER:-}  grpc:    targetHost: ${SW_EXPORTER_GRPC_HOST:127.0.0.1}    targetPort: ${SW_EXPORTER_GRPC_PORT:9870}â€‹</code></pre><p style=text-align:start><br></p><h1 class=pgc-h-arrow-right><strong>å¯åŠ¨</strong></h1><p style=text-align:start>è¦ç¡®ä¿å·²ç»å¯åŠ¨äº†elasticsearchï¼Œå¹¶ä¸”é˜²ç«å¢™å¼€æ”¾8080ã€11800ã€12800ç«¯å£ã€‚</p><p style=text-align:start>è¿›å…¥binç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤å³å¯è¿è¡Œï¼š</p><pre><code>./startup.sh</code></pre><p style=text-align:start>é»˜è®¤çš„UIç«¯å£æ˜¯8080</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7e2843bafa9d4261a1f5ab500f86552b><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right><strong>éƒ¨ç½²å¾®æœåŠ¡æ¢é’ˆ</strong></h1><p style=text-align:start>ç°åœ¨ï¼ŒSkywalkingçš„æœåŠ¡ç«¯å·²ç»å¯åŠ¨å®Œæˆï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨å¾®æœåŠ¡ä¸­åŠ å…¥æœåŠ¡æ¢é’ˆï¼Œæ¥æ”¶é›†æ•°æ®ã€‚</p><h1 class=pgc-h-arrow-right><strong>è§£å‹</strong></h1><p style=text-align:start>é¦–å…ˆï¼Œå°†è¯¾å‰èµ„æ–™ç»™çš„å‹ç¼©åŒ…è§£å‹ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bde980cd851d4faf8af0b364ffa2db83><p class=pgc-img-caption></p></div><p style=text-align:start>å°†å…¶ä¸­çš„agentè§£å‹åˆ°æŸä¸ªç›®å½•ï¼Œä¸è¦å‡ºç°ä¸­æ–‡ï¼Œå¯ä»¥çœ‹åˆ°å…¶ç»“æ„å¦‚ä¸‹ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fe5578fff9964df581421a37f06d5656><p class=pgc-img-caption></p></div><p style=text-align:start>å…¶ä¸­æœ‰ä¸€ä¸ªskywalking-agent.jarå°±æ˜¯ä¸€æˆ‘ä»¬è¦ç”¨çš„æ¢é’ˆã€‚</p><h1 class=pgc-h-arrow-right><strong>é…ç½®</strong></h1><p style=text-align:start>å¦‚æœæ˜¯è¿è¡Œä¸€ä¸ªjaråŒ…ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶è¾“å…¥å‚æ•°æ¥æŒ‡å®šæ¢é’ˆï¼š</p><pre><code>java -jar xxx.jar -javaagent:C:/lesson/skywalking-agent/skywalking-agent.jar -Dskywalking.agent.service_name=ly-registry -Dskywalking.collector.backend_service=192.168.150.101:11800</code></pre><p style=text-align:start>æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ç”¨å¼€å‘å·¥å…·æ¥è¿è¡Œå’Œé…ç½®ã€‚</p><p style=text-align:start>ä½¿ç”¨IDEAå¼€å‘å·¥å…·æ‰“å¼€ä¸€ä¸ªä½ çš„é¡¹ç›®ï¼Œåœ¨IDEAå·¥å…·ä¸­ï¼Œé€‰æ‹©è¦ä¿®æ”¹çš„å¯åŠ¨é¡¹ï¼Œç‚¹å‡»å³é”®ï¼Œé€‰æ‹©Edit Configurationï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6e491af19d014b408dee0782b58bcf90><p class=pgc-img-caption></p></div><p style=text-align:start>ç„¶ååœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œç‚¹å‡»Environmentï¼Œé€‰æ‹©VM optionsåé¢å¯¹åº”çš„å±•å¼€æŒ‰é’®ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a46019ea2a9a45f996011ad2ca7139f4><p class=pgc-img-caption></p></div><p style=text-align:start>åœ¨å±•å¼€çš„è¾“å…¥æ¡†ä¸­ï¼Œè¾“å…¥ä¸‹é¢çš„é…ç½®ï¼š</p><pre><code>-javaagent:C:/lesson/skywalking-agent/skywalking-agent.jar-Dskywalking.agent.service_name=ly-registry-Dskywalking.collector.backend_service=192.168.150.101:11800</code></pre><p style=text-align:start>æ³¨æ„ï¼š</p><ul><li>-javaagent:C:/lesson/skywalking-agent/skywalking-agent.jarï¼šé…ç½®çš„æ˜¯skywalking-agent.jarè¿™ä¸ªåŒ…çš„ä½ç½®ï¼Œè¦ä¿®æ”¹æˆä½ è‡ªå·±å­˜æ”¾çš„ç›®å½•</li><li>-Dskywalking.agent.service_name=ly-registryï¼šæ˜¯å½“å‰é¡¹ç›®çš„åç§°ï¼Œéœ€è¦åˆ†åˆ«ä¿®æ”¹ä¸ºly-registryã€ly-gatewayã€ly-item-service</li><li>-Dskywalking.collector.backend_service=192.168.150.101:11800ï¼šæ˜¯Skywalkingçš„OPAæœåŠ¡åœ°å€ï¼Œé‡‡ç”¨çš„æ˜¯GRPCé€šä¿¡ï¼Œå› æ­¤ç«¯å£æ˜¯11800ï¼Œä¸æ˜¯8080</li></ul><h1 class=pgc-h-arrow-right><strong>å¯åŠ¨</strong></h1><p style=text-align:start>Skywalkingçš„æ¢é’ˆä¼šåœ¨é¡¹ç›®å¯åŠ¨å‰å¯¹classæ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œå®Œæˆæ¢é’ˆæ¤å…¥ï¼Œå¯¹ä¸šåŠ¡ä»£ç <strong>é›¶ä¾µå…¥</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å¯åŠ¨é¡¹ç›®ï¼Œå³å¯ç”Ÿæ•ˆäº†ã€‚</p><p style=text-align:start>å¯åŠ¨é¡¹ç›®ï¼Œç„¶åå¯¹é¡¹ç›®ä¸­çš„çš„ä¸šåŠ¡æ¥å£è®¿é—®ï¼Œæ¢é’ˆå°±å¼€å§‹å·¥ä½œäº†ã€‚</p><h1 class=pgc-h-arrow-right><strong>WebUIç•Œé¢</strong></h1><p style=text-align:start>è®¿é—®ï¼š192.168.150.101:8080å¯ä»¥çœ‹åˆ°ç»Ÿè®¡æ•°æ®å·²ç»å‡ºæ¥äº†ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f63c4896bc9b4a60a5c714bf537ea8fe><p class=pgc-img-caption></p></div><p style=text-align:start>æœåŠ¡å®ä¾‹çš„æ€§èƒ½ç›‘æ§ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/63de56bf28734aeca858c557bbfc0788><p class=pgc-img-caption></p></div><p style=text-align:start>æœåŠ¡æ‹“æ‰‘å›¾ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/87d1f0999fca42508f66510c379f25cf><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/889bc84e0d614579ac3c74f3a557d83f><p class=pgc-img-caption></p></div><p style=text-align:start>æŸæ¬¡è¯·æ±‚çš„é“¾è·¯è¿½è¸ªä¿¡æ¯ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/cc03466c5dba49f5a29464b9fd70d7fd><p class=pgc-img-caption></p></div><p style=text-align:start>è¡¨æ ¼è§†å›¾ï¼š</p><div class=pgc-img><img alt=è¿˜åœ¨ç”¨Zipkinåˆ†å¸ƒå¼æœåŠ¡é“¾è·¯è¿½è¸ªï¼Ÿæ¥è¯•è¯•è¿™ä¸ªå§ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8fcf8a58c8de4628b9a143b0aba412d3><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'è¿˜åœ¨','Zipkin','æœåŠ¡é“¾'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>