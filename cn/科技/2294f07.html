<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Seleniumè‡ªåŠ¨åŒ–æµ‹è¯•ä¸­çš„ç­‰å¾…æ—¶é—´ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Seleniumè‡ªåŠ¨åŒ–æµ‹è¯•ä¸­çš„ç­‰å¾…æ—¶é—´ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2294f07.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2294f07.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2294f07.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2294f07.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2294f07.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2294f07.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2294f07.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2294f07.html><meta property="article:published_time" content="2020-10-29T21:04:22+08:00"><meta property="article:modified_time" content="2020-10-29T21:04:22+08:00"><meta name=Keywords content><meta name=description content="Seleniumè‡ªåŠ¨åŒ–æµ‹è¯•ä¸­çš„ç­‰å¾…æ—¶é—´"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/2294f07.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Seleniumè‡ªåŠ¨åŒ–æµ‹è¯•ä¸­çš„ç­‰å¾…æ—¶é—´</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p>æˆ‘ä»¬åœ¨åšWeb UIè‡ªåŠ¨åŒ–æµ‹è¯•è¿‡ç¨‹ä¸­ç»å¸¸éœ€è¦ä½¿ç”¨åˆ°ç­‰å¾…æ—¶é—´ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå¯¹äºè‡ªåŠ¨åŒ–æ¥è¯´ï¼Œå®ƒä¸ä¼šåƒäººåœ¨åšæ‰‹å·¥æµ‹è¯•è¿‡ç¨‹ä¸€æ ·ï¼Œç­‰åˆ°æ§ä»¶åŠ è½½å‡ºæ¥æ‰å»æ“ä½œï¼Œå¾€å¾€è‡ªåŠ¨åŒ–æµ‹è¯•æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰§è¡Œæ—¶é—´æ˜¯æ¯«ç§’çº§çš„ï¼Œæ‰€ä»¥å¦‚æœä¸åŠ ç­‰å¾…æ—¶é—´çš„è¯ï¼Œç»å¸¸å°±ä¼šå› ä¸ºæ§ä»¶è¿˜æœªåŠ è½½å‡ºæ¥ï¼Œå¯¼è‡´è‡ªåŠ¨åŒ–ç”¨ä¾‹å¤§æ‰¹é‡çš„å¤±è´¥ã€‚æ‰€ä»¥æˆ‘ä»¬å°±ä¼šç”¨åˆ°ç­‰å¾…æ—¶é—´ã€‚<strong>ç­‰å¾…æ—¶é—´ä¸€èˆ¬æœ‰ä¸‰ç§ï¼š1ã€time.sleep()</strong>ç¬¬ä¸€ç§å°±æ˜¯Python timeæ¨¡å—çš„ç­‰å¾…æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯çº¿ç¨‹ä¼‘çœ ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹æºç ï¼š</p><ol start=1><li>def sleep(seconds): # real signature unknown; restored from __doc__</li><li>"""</li><li>sleep(seconds)</li><li><br></li><li>Delay execution for a given number of seconds. The argument may be</li><li>a floating point number for subsecond precision.</li><li>"""</li><li>pass</li></ol><p>å¤åˆ¶ä»£ç å…¶å®é€šè¿‡æºç å°±å¯ä»¥çœ‹åˆ°å®ƒçš„ä½¿ç”¨ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦å»æ“ä½œæŸä¸ªæ§ä»¶ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ§ä»¶ä»£ç çš„ä¸Šä¸€è¡ŒåŠ time.sleep(5)ï¼Œè¿™æ ·å†æ‰§è¡Œæ§ä»¶æ“ä½œä¹‹å‰å°±ä¼šç­‰å¾…5ç§’æ‰ä¼šå»æ‰§è¡Œå®ƒã€‚é‚£ä¹ˆæœ‰çš„åŒå­¦å°±å›å»é—®äº†ï¼Œé‚£ä¹ˆæˆ‘åº”è¯¥å†™å‡ ç§’å‘¢ï¼Ÿå…¶å®å°±æ ¹æ®ä½ åœ¨è°ƒå¼è¿‡ç¨‹ä¸­ï¼Œæ¯”å¦‚ç¬¬ä¸€æ¬¡è°ƒè¯•è¿™ä¸ªæ§ä»¶åŠ è½½ç”¨äº†5ç§’ï¼Œç¬¬äºŒæ¬¡ç”¨äº†3ç§’ï¼Œç¬¬ä¸‰æ¬¡ç”¨äº†8ç§’ï¼Œé‚£ä¹ˆä½ å°±åº”è¯¥ç»™ä¸€ä¸ªè¿™ä¸ªæ§ä»¶åŠ è½½éœ€è¦æ¶ˆè€—çš„æœ€å¤§æ—¶é—´ï¼Œé‚£ä¹ˆå…·ä½“æ€ä¹ˆå®ç°å‘¢ï¼Ÿä¸‹è¾¹é€šè¿‡æ‰“å¼€è®ºå›ï¼Œç­‰å¾…è¾“å…¥æ¡†åŠ è½½å‡ºæ¥å†è¾“å…¥å†…å®¹ç»™å¤§å®¶è¿›è¡Œæ¼”ç¤ºï¼š</p><ol start=1><li>from selenium import webdriver</li><li>import time</li><li>from selenium.webdriver.common.keys import Keys</li><li>driver = webdriver.Chrome()</li><li>driver.get('http://www.bcbxhome.com')</li><li><br></li><li>driver.maximize_window()</li><li>time.sleep(5)</li><li>driver.find_element_by_id("scbar_txt").send_keys("selenium")</li></ol><p>å¤åˆ¶ä»£ç <strong>2ã€éšå¼ç­‰å¾…driver.implicitly_wait()</strong>å½“ä½¿ç”¨äº†éšå¼ç­‰å¾…æ‰§è¡Œæµ‹è¯•çš„æ—¶å€™ï¼Œå¦‚æœ WebDriveræ²¡æœ‰åœ¨ DOMä¸­æ‰¾åˆ°å…ƒç´ ï¼Œå°†ç»§ç»­ç­‰å¾…ï¼Œè¶…å‡ºè®¾å®šæ—¶é—´ååˆ™æŠ›å‡ºæ‰¾ä¸åˆ°å…ƒç´ çš„å¼‚å¸¸æ¢å¥è¯è¯´ï¼Œå½“æŸ¥æ‰¾å…ƒç´ æˆ–å…ƒç´ å¹¶æ²¡æœ‰ç«‹å³å‡ºç°çš„æ—¶å€™ï¼Œéšå¼ç­‰å¾…å°†ç­‰å¾…ä¸€æ®µæ—¶é—´å†æŸ¥æ‰¾ DOMï¼Œé»˜è®¤çš„æ—¶é—´æ˜¯0ä¸€æ—¦è®¾ç½®äº†éšå¼ç­‰å¾…ï¼Œåˆ™å®ƒå­˜åœ¨æ•´ä¸ª WebDriver å¯¹è±¡å®ä¾‹çš„å£°æ˜å‘¨æœŸä¸­ï¼Œéšå¼çš„ç­‰åˆ°ä¼šè®©ä¸€ä¸ªæ­£å¸¸å“åº”çš„åº”ç”¨çš„æµ‹è¯•å˜æ…¢ï¼Œå®ƒå°†ä¼šåœ¨å¯»æ‰¾æ¯ä¸ªå…ƒç´ çš„æ—¶å€™éƒ½è¿›è¡Œç­‰å¾…ï¼Œè¿™æ ·ä¼šå¢åŠ æ•´ä¸ªæµ‹è¯•æ‰§è¡Œçš„æ—¶é—´ã€‚éšå¼ç­‰å¾…æ—¶é—´å’Œtime.sleepçš„åŒºåˆ«åœ¨äºï¼Œtime.sleepçš„ç­‰å¾…æ˜¯å¿…é¡»æŠŠä½ ä»£ç å†™çš„æ—¶é—´å®Œå…¨ç­‰å¾…å®Œåæ‰ä¼šç»§ç»­æ‰§è¡Œï¼Œè€Œéšå¼ç­‰å¾…æ—¶é—´åªè¦ä½ æ§ä»¶åŠ è½½å‡ºæ¥äº†ï¼Œå®ƒå°±ä¼šç»§ç»­æ‰§è¡Œå¾€ä¸‹æ‰§è¡Œï¼Œæ¯”å¦‚è™½ç„¶ä½ å†™çš„ç­‰å¾…10ç§’ï¼Œä½†æ˜¯æ§ä»¶è¦æ˜¯2ç§’åŠ è½½å®Œæ¯•äº†ï¼Œé‚£ä¹ˆå®é™…ä½ ç­‰å¾…çš„æ—¶é—´å°±åªæœ‰2ç§’ã€‚</p><ol start=1><li>from selenium import webdriver</li><li>driver = webdriver.Chrome()</li><li>driver.get('http://www.bcbxhome.com')</li><li><br></li><li>driver.maximize_window()</li><li>driver.implicitly_wait(10)</li><li>driver.find_element_by_id("scbar_txt").send_keys("selenium")</li></ol><p>å¤åˆ¶ä»£ç <strong>3ã€æ˜¾ç¤ºç­‰å¾…WebDriverWait()</strong>é¦–å…ˆçœ‹ä¸‹WebDriverWaitç±»çš„__init__æ–¹æ³•ï¼š</p><ol start=1><li>def __init__(self, driver, timeout, poll_frequency=POLL_FREQUENCY, ignored_exceptions=None):</li><li>"""Constructor, takes a WebDriver instance and timeout in seconds.</li><li><br></li><li>:Args:</li><li>- driver - Instance of WebDriver (Ie, Firefox, Chrome or Remote)</li><li>- timeout - Number of seconds before timing out</li><li>- poll_frequency - sleep interval between calls</li><li>By default, it is 0.5 second.</li><li>- ignored_exceptions - iterable structure of exception classes ignored during calls.</li><li>By default, it contains NoSuchElementException only.</li><li><br></li><li>Example:</li><li>from selenium.webdriver.support.ui import WebDriverWait \n</li><li>element = WebDriverWait(driver, 10).until(lambda x: x.find_element_by_id("someId")) \n</li><li>is_disappeared = WebDriverWait(driver, 30, 1, (ElementNotVisibleException)).\ \n</li><li>until_not(lambda x: x.find_element_by_id("someId").is_displayed())</li><li>"""</li></ol><p>å¤åˆ¶ä»£ç éœ€è¦é€šè¿‡from selenium.webdriver.support.wait import WebDriverWaitå¯¼å…¥æ¨¡å—driverï¼šæµè§ˆå™¨é©±åŠ¨timeoutï¼šæœ€é•¿è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä»¥ç§’ä¸ºå•ä½poll_frequencyï¼šæ£€æµ‹çš„é—´éš”æ­¥é•¿ï¼Œé»˜è®¤ä¸º0.5signored_exceptionsï¼šè¶…æ—¶åçš„æŠ›å‡ºçš„å¼‚å¸¸ä¿¡æ¯ï¼Œé»˜è®¤æŠ›å‡ºNoSuchElementExeceptionå¼‚å¸¸ã€‚<strong>éœ€è¦ä¸until()æˆ–è€…until_not()æ–¹æ³•ç»“åˆä½¿ç”¨</strong></p><ol start=1><li>def until(self, method, message=''):</li><li>"""Calls the method provided with the driver as an argument until the \</li><li>return value is not False."""</li></ol><p>å¤åˆ¶ä»£ç </p><ol start=1><li>def until_not(self, method, message=''):</li><li>"""Calls the method provided with the driver as an argument until the \</li><li>return value is False."""</li></ol><p>å¤åˆ¶ä»£ç å…¶å®ä¸¤ä¸ªéƒ½æ˜¯ç­‰å¾…æ§ä»¶ï¼Œä¸€ä¸ªæ˜¯ç›´åˆ°è¿™ä¸ªæ§ä»¶å­˜åœ¨äº†ï¼Œé‚£ä¹ˆæ€ä¹ˆæ€ä¹ˆæ ·ï¼Œuntil_notæ˜¯ç›´åˆ°è¿™ä¸ªæ§ä»¶ä¸å­˜åœ¨äº†æ€ä¹ˆæ€ä¹ˆæ ·...<strong>WebDriverWaitä¸expected_conditionsç»“åˆä½¿ç”¨</strong></p><ol start=1><li>from selenium.webdriver.support import expected_conditions as EC</li><li>from selenium.webdriver.common.by import By</li><li><br></li><li>wait = WebDriverWait(driver,10,0.5)</li><li>element =waite.until(EC.presence_of_element_located((By.ID,"kw"),message="")</li></ol><p>å¤åˆ¶ä»£ç <strong>æœ€ç»ˆwebdriverwaitçš„ä½¿ç”¨æ–¹æ³•æ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</strong></p><ol start=1><li>from selenium import webdriver</li><li>from selenium.webdriver.common.by import By</li><li>from selenium.webdriver.support.ui import WebDriverWait</li><li>from selenium.webdriver.support import expected_conditions as EC</li></ol><p>å¤åˆ¶ä»£ç æˆ‘ä»¬å†è§£è¯»ä¸‹æ­¤æ–¹æ³•ï¼Œ5å°±æ˜¯æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œ0.5å°±æ˜¯æ¯éš”å¤šä¹…å»domæ ‘æ£€æµ‹ä¸€æ¬¡ï¼Œæ£€æµ‹çš„æ˜¯å½“å‰é¡µé¢æ˜¯å¦å·²ç»æœ‰äº†å±æ€§ä¸ºIDçš„å±æ€§å€¼æ˜¯scbar_txtçš„æ§ä»¶ï¼Œå¦‚æœæœ‰äº†æŸ¥æ‰¾ç»“æŸã€‚å¦‚æœæ²¡æœ‰éœ€è¦æŠŠ5ç§’ç­‰å¾…å®Œæˆã€‚ä¾‹å¤–æˆ‘ä»¬å†çœ‹ä¸€ä¸‹Byè¿™ä¸ªç±»ï¼Œç‚¹åˆ°æºç å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ï¼š</p><ol start=1><li>class By(object):</li><li>"""</li><li>Set of supported locator strategies.</li><li>"""</li><li><br></li><li>ID = "id"</li><li>XPATH = "xpath"</li><li>LINK_TEXT = "link text"</li><li>PARTIAL_LINK_TEXT = "partial link text"</li><li>NAME = "name"</li><li>TAG_NAME = "tag name"</li><li>CLASS_NAME = "class name"</li><li>CSS_SELECTOR = "css selector"</li></ol><p>å…¶å®è¿™ä¸ªå°±æ˜¯è¯´ä½ æŸ¥æ‰¾å®šä½çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨ä¹‹å‰è®²çš„8å¤§å®šä½æ–¹æ³•çš„ä»»ä½•ä¸€ç§å®šä½ï¼Œè‡³æ­¤ä¸‰ç§ç­‰å¾…æ—¶é—´å°±ä»‹ç»å®Œäº†ã€‚</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Selenium','è‡ªåŠ¨åŒ–','æµ‹è¯•'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>