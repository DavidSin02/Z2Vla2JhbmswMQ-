<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>èƒ½ç”¨æœºå™¨å®Œæˆçš„ï¼Œåƒä¸‡åˆ«å †å·¥ä½œé‡|æŒç»­é›†æˆä¸­çš„æ€§èƒ½è‡ªåŠ¨åŒ–æµ‹è¯• | æå®¢å¿«è¨Š</title><meta property="og:title" content="èƒ½ç”¨æœºå™¨å®Œæˆçš„ï¼Œåƒä¸‡åˆ«å †å·¥ä½œé‡|æŒç»­é›†æˆä¸­çš„æ€§èƒ½è‡ªåŠ¨åŒ–æµ‹è¯• - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/13af1f0e8f1b498b81eb41b809772f90"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2a97c94e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2a97c94e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2a97c94e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2a97c94e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2a97c94e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2a97c94e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2a97c94e.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2a97c94e.html><meta property="article:published_time" content="2020-11-14T21:02:39+08:00"><meta property="article:modified_time" content="2020-11-14T21:02:39+08:00"><meta name=Keywords content><meta name=description content="èƒ½ç”¨æœºå™¨å®Œæˆçš„ï¼Œåƒä¸‡åˆ«å †å·¥ä½œé‡|æŒç»­é›†æˆä¸­çš„æ€§èƒ½è‡ªåŠ¨åŒ–æµ‹è¯•"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/2a97c94e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>èƒ½ç”¨æœºå™¨å®Œæˆçš„ï¼Œåƒä¸‡åˆ«å †å·¥ä½œé‡|æŒç»­é›†æˆä¸­çš„æ€§èƒ½è‡ªåŠ¨åŒ–æµ‹è¯•</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>ä½œè€…ï¼šé—²é±¼æŠ€æœ¯-ç¯é˜³</p><h1>1.èƒŒæ™¯</h1><p>å½“å‰é—²é±¼åœ¨ç²¾ç›Šå¼€å‘æ¨¡å¼ä¸‹ï¼Œæ•´ä¸ªæŠ€æœ¯å›¢é˜Ÿé¢ä¸´äº†è¯¸å¤šçš„èƒ½åŠ›è½åœ°å’ŒæŒ‘æˆ˜ï¼Œå°¤å…¶æ˜¯æ•ˆèƒ½æ–¹é¢çš„2-1-1çš„ç›®æ ‡(2å‘¨éœ€æ±‚äº¤ä»˜å‘¨æœŸï¼Œ1å‘¨éœ€æ±‚å¼€å‘å‘¨æœŸï¼Œ1å°æ—¶è¾¾åˆ°å‘å¸ƒæ ‡å‡†)ï¼Œå…·ä½“å¯è§ <a class=pgc-link href=https://mp.weixin.qq.com/s/SbJemkUDTXK8vyWgHOiGGA target=_blank>é—²é±¼å·¥ç¨‹å¸ˆæ˜¯å¦‚ä½•æ„å»ºæŒç»­é›†æˆæµæ°´çº¿ï¼Œè®©ç ”å‘æ•ˆç‡ç¿»å€çš„</a> ï¼Œåœ¨è¿™ä¸ªå¤§ç›®æ ‡ä¸‹ï¼Œå°±å¿…é¡»æŠŠæ¯ä¸ªç¯èŠ‚éƒ½åšåˆ°æè‡´ã€‚è‡ªåŠ¨åŒ–çš„å»ºè®¾æ˜¯å†³å®šCIæˆè´¥çš„å…³é”®èƒ½åŠ›ï¼Œä»Šå¤©åˆ†äº«ä¸€ä¸‹é—²é±¼Androidå®¢æˆ·ç«¯æ€§èƒ½è‡ªåŠ¨åŒ–ç¯èŠ‚çš„å®è·µã€‚</p><h1>2.é¢ä¸´çš„é—®é¢˜</h1><p>2.1 ä¸»è¦æ˜¯ä¸¤ä¸ªæ–¹é¢çš„é—®é¢˜</p><ul><li>å·¥å…·ç¼ºå¤±ï¼š</li></ul><p>ç›®å‰æ·˜å®ç³»ï¼Œå¯¹äºçº¿ä¸Šæ€§èƒ½æ°´ä½çš„ç›‘æ§æœ‰ä¸€å¥—å®Œå–„çš„ä½“ç³»ï¼Œä½†æ˜¯é’ˆå¯¹æ–°åŠŸèƒ½çš„æ€§èƒ½æµ‹è¯•ï¼Œæ¯ä¸ªä¸šåŠ¡å›¢é˜Ÿéƒ½æœ‰å¯¹åº”çš„æ€§èƒ½ä¸“é¡¹å°ç»„ï¼Œäº§å‡ºçš„å·¥å…·éƒ½æ˜¯æ ¹æ®è‡ªå·±ä¸šåŠ¡ç‰¹ç‚¹çš„å®šåˆ¶å¼€å‘çš„ï¼Œé—²é±¼å®¢æˆ·ç«¯ç›®å‰ä½¿ç”¨Flutteråšä¸ºå®¢æˆ·ç«¯ä¸»å¼€å‘è¯­è¨€ï¼Œå¯¹äºFlutteræ€§èƒ½æ•°æ®çš„è·å–åŠUIè‡ªåŠ¨åŒ–æµ‹è¯•æ”¯æ’‘å·¥å…·ç›®å‰æ˜¯ç¼ºå¤±çš„ï¼ŒåŒæ—¶ä¸šç•Œå¯¹Flutterè‡ªåŠ¨åŒ–å’Œæ€§èƒ½ç›¸å…³çš„å®è·µå‡ ä¹æ²¡æœ‰ï¼›</p><ul><li>æµ‹è¯•å·¥ä½œé‡ç¿»Nå€(N=ä¸€ä¸ªç‰ˆæœ¬å‘¨æœŸå†…çš„åˆ†æ”¯æ•°)ï¼š</li></ul><p>åŸå…ˆçš„å¼€å‘æ¨¡å¼æ˜¯åŠŸèƒ½æµ‹è¯•é›†æˆæµ‹è¯•ä¸€èµ·è¿›è¡Œçš„ï¼Œæ‰€ä»¥æ€§èƒ½æµ‹è¯•åªéœ€è¦é’ˆå¯¹é›†æˆåçš„åŒ…è¿›è¡Œæµ‹è¯•å³å¯ï¼Œåˆ°ç°åœ¨è½¬å˜ä¸ºæ³³é“çš„å¼€å‘æ¨¡å¼ï¼Œä¸€ä¸ªç‰ˆæœ¬å†…ä¼šä¸€èˆ¬åŒ…å«åå‡ ä¸ªå·¦å³çš„æ³³é“åˆ†æ”¯ç”šè‡³æ›´å¤šï¼Œæˆ‘ä»¬å¿…é¡»ç¡®ä¿æ¯ä¸ªæ³³é“çš„åˆ†æ”¯çš„æ€§èƒ½æ˜¯è¾¾æ ‡çš„ï¼Œå¦‚æœæœ‰æ€§èƒ½é—®é¢˜éœ€è¦ç¬¬ä¸€æ—¶é—´åé¦ˆå‡ºæ¥ï¼Œå¦‚æœé—ç•™åˆ°é›†æˆé˜¶æ®µï¼Œé—®é¢˜çš„æ’æŸ¥(åå‡ ä¸ªåˆ†æ”¯ä¸­ç­›æŸ¥)ï¼Œé—®é¢˜çš„è§£å†³å°†ä¼šè€—è´¹å¤§é‡çš„æ—¶é—´ï¼Œæ•ˆç‡å¾ˆéš¾å¾—åˆ°å¤§çš„æå‡ï¼›</p><p>2.2 é—®é¢˜æ€è€ƒ</p><p>ä½“ç³»åŒ–è§£å†³ï¼Œè¦è®©æ¯ä¸ªæ³³é“åˆ†æ”¯éƒ½å¾—åˆ°æœ‰æ•ˆæµ‹è¯•è¦†ç›–ï¼Œæµ‹è¯•ä»¶èƒ½å¤Ÿè‡ªåŠ¨åŒ–æ‰§è¡Œï¼ŒæŒç»­åé¦ˆç»“æœ</p><div class=pgc-img><img alt=èƒ½ç”¨æœºå™¨å®Œæˆçš„ï¼Œåƒä¸‡åˆ«å †å·¥ä½œé‡|æŒç»­é›†æˆä¸­çš„æ€§èƒ½è‡ªåŠ¨åŒ–æµ‹è¯• onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/13af1f0e8f1b498b81eb41b809772f90><p class=pgc-img-caption></p></div><h1>3. è§£å†³æ–¹æ¡ˆ</h1><p>ç»¼åˆä¸Šè¿°é—®é¢˜ï¼Œæ¢³ç†å¦‚ä¸‹è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>é’ˆå¯¹Flutteræ€§èƒ½æ•°æ®çš„è·å–(æ¯”å¦‚ï¼ŒFlutteræœ‰è‡ªå·±çš„SurfaceViewï¼ŒåŸæœ‰Nativeè®¡ç®—FPSçš„æ–¹å¼æ— æ³•ç›´æ¥ä½¿ç”¨)</li><li>é’ˆå¯¹Flutter UIè‡ªåŠ¨åŒ–çš„å®ç°(Flutter/Native UIæ··åˆæ ˆçš„å¤„ç†)</li><li>æ€§èƒ½è‡ªåŠ¨åŒ–è„šæœ¬ / æ€§èƒ½æ•°æ®è‡ªåŠ¨é‡‡é›†ã€ä¸ŠæŠ¥ èå…¥CIæµç¨‹</li><li>æ€§èƒ½é—®é¢˜çš„é€šçŸ¥ / æŠ¥è¡¨å±•ç¤º / åˆ†æ</li></ul><p>3.1 æ€§èƒ½æ•°æ®</p><p>[FPS]</p><p>è§£æå¤„ç† adb shell dumpsys SurfaceFlinger --latency çš„æ•°æ®ï¼Œè¯¦ç»†è¯·è§æ–‡æœ«å‚è€ƒé“¾æ¥(è¯¥æ–¹å¼å…¼å®¹FlutteråŠNativeçš„è§£å†³æ–¹æ¡ˆï¼Œå·²åœ¨Android4.x-9.xéªŒè¯å¯è¡Œ)ï¼Œå¤„ç†SurfaceFlingeræ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p><pre>dumpsys SurfaceFlinger --latency-clear#echo "dumpsys SurfaceFlinger..."if [[ $isflutter = 0 ]];then window=`dumpsys window windows | grep mCurrent | $bb awk '{print $3}'|$bb tr -d '}'` # Get the current window echo $windowfiif [[ $isflutter = 1 ]];then window=`dumpsys SurfaceFlinger --list |grep '^SurfaceView'|$bb awk 'NR==1{print $0}'`if [ -z "$window" ]; then  window="SurfaceView"fiecho $windowfi$bb usleep $sleep_tdumpsys SurfaceFlinger --latency "$window"|$bb awk -v time=$uptime -v target=$target -v kpi=$KPI '{if(NR==1){r=$1/1000000;if(r&lt;0)r=$1/1000;b=0;n=0;w=1}else{if(n&gt;0&amp;&amp;$0=="")O=1;if(NF==3&amp;&amp;$2!=0&amp;&amp;$2!=9223372036854775807){x=($3-$1)/1000000/r;if(b==0){b=$2;n=1;d=0;D=0;if(x&lt;=1)C=r;if(x&gt;1){d+=1;C=int(x)*r;if(x%1&gt;0)C+=r};if(x&gt;2)D+=1;m=r;o=0}else{c=($2-b)/1000000;if(c&gt;1000){O=1}else{n+=1;if(c&gt;=r){C+=c;if(c&gt;kpi)o+=1;if(c&gt;=m)m=c;if(x&gt;1)d+=1;if(x&gt;2)D+=1;b=$2}else{C+=r;b=sprintf("%.0f",b+r*1000000)}}};if(n==1)s=sprintf("%.3f",$2/1000000000)};if(n&gt;0&amp;&amp;O==1){O=0;if(n==1)t=sprintf("%.3f",s+C/1000);else t=sprintf("%.3f",b/1000000000);T=strftime("%F %T",time+t)"."sprintf("%.0f",(time+t)%1*1000);f=sprintf("%.2f",n*1000/C);m=sprintf("%.0f",m);g=f/target;if(g&gt;1)g=1;h=kpi/m;if(h&gt;1)h=1;e=sprintf("%.2f",g*60+h*20+(1-o/n)*20);print s","t","T","f+0","n","d","D","m","o","e","w;n=0;if($0==""){b=0;w+=1}else{b=$2;n=1;d=0;D=0;if(x&lt;=1)C=r;if(x&gt;1){d+=1;C=int(x)*r;if(x%1&gt;0)C+=r};if(x&gt;2)D+=1;m=r;o=0}}}}' &gt;&gt;$file</pre><p>[CPU]</p><p>ä½¿ç”¨çš„æ˜¯topçš„å‘½ä»¤è·å–(è¯¥æ–¹å¼è·å–æ€§èƒ½æ•°æ®æ—¶ï¼Œæ•°æ®æ”¶é›†å¸¦æ¥çš„æŸè€—æœ€å°‘)</p><pre>export bb="/data/local/tmp/busybox"$bb top -b -n 1|$bb awk 'NR==4{print NF-1}'</pre><p>[å†…å­˜]</p><p>è§£æ dumpsys meminfo $package æ‹¿åˆ° Java Heap,Java Heap Average,Java Heap Peak,Native Heap,Native Heap Average,Native Heap Peak,Graphics,Unknown,Pss æ•°æ®</p><pre>do_statistics() { ((COUNT+=1)) isExist="$(echo $OUTPUT | grep "Dalvik Heap")"  if [[ ! -n $isExist ]] ; then old_dumpsys=true else old_dumpsys=false fi if [[ $old_dumpsys = true ]] ; then java_heap="$(echo "$OUTPUT" | grep "Dalvik" | $bb awk '{print $6}' | $bb tr -d '\r')" else java_heap="$(echo "$OUTPUT" | grep "Dalvik Heap[^:]" | $bb awk '{print $8}' | $bb tr -d '\r')" fi echo "1."$JAVA_HEAP_TOTAL "2."$java_heap "3."$JAVA_HEAP_TOTAL ((JAVA_HEAP_TOTAL+=java_heap)) ((JAVA_HEAP_AVG=JAVA_HEAP_TOTAL/COUNT)) if [[ $java_heap -gt $JAVA_HEAP_PEAK ]] ; then JAVA_HEAP_PEAK=$java_heap fi if [[ $old_dumpsys = true ]] ; then native_heap="$(echo "$OUTPUT" | grep "Native" | $bb awk '{print $6}' | $bb tr -d '\r')" else native_heap="$(echo "$OUTPUT" | grep "Native Heap[^:]" | $bb awk '{print $8}' | $bb tr -d '\r' | $bb tr -d '\n')" fi ((NATIVE_HEAP_TOTAL+=native_heap)) ((NATIVE_HEAP_AVG=NATIVE_HEAP_TOTAL/COUNT)) if [[ $native_heap -gt $NATIVE_HEAP_PEAK ]] ; then NATIVE_HEAP_PEAK=$native_heap fi g_Str="Graphics" if [[ $OUTPUT == *$g_Str* ]] ; then echo "Found Graphics..." Graphics="$(echo "$OUTPUT" | grep "Graphics" | $bb awk '{print $2}' | $bb tr -d '\r')" else echo "Not Found Graphics..." Graphics=0 fi Unknown="$(echo "$OUTPUT" | grep "Unknown" | $bb awk '{print $2}' | $bb tr -d '\r')" total="$(echo "$OUTPUT" | grep "TOTAL"|$bb head -1| $bb awk '{print $2}' | $bb tr -d '\r')"}</pre><p>[æµé‡]</p><p>é€šè¿‡ dumpsys package packages è§£æå‡ºå½“å‰å¾…æµ‹è¯•åŒ…æ¥è·å–æµé‡ä¿¡æ¯</p><pre>uid="$(dumpsys package packages|$bb grep -E "Package |userId"|$bb awk -v OFS=" " '{if($1=="Package"){P=substr($2,2,length($2)-2)}else{if(substr($1,1,6)=="userId")print P,substr($1,8,length($1)-7)}}'|grep $package|$bb awk '{print $2}')"echo "Net:"$uidinitreceive=`$bb awk -v OFS=" " 'NR&gt;1{if($2=="wlan0"){wr[$4]+=$6;wt[$4]+=$8}else{if($2=="rmnet0"){rr[$4]+=$6;rt[$4]+=$8}}}END{for(i in wr){print i,wr[i]/1000,wt[i]/1000,"wifi"};for(i in rr){print i,rr[i]/1000,rt[i]/1000,"data"}}' /proc/net/xt_qtaguid/stats | grep $uid|$bb awk '{print $2}'`inittransmit=`$bb awk -v OFS=" " 'NR&gt;1{if($2=="wlan0"){wr[$4]+=$6;wt[$4]+=$8}else{if($2=="rmnet0"){rr[$4]+=$6;rt[$4]+=$8}}}END{for(i in wr){print i,wr[i]/1000,wt[i]/1000,"wifi"};for(i in rr){print i,rr[i]/1000,rt[i]/1000,"data"}}' /proc/net/xt_qtaguid/stats | grep $uid|$bb awk '{print $3}'`echo "initnetarray"$initreceive","$inittransmitgetnet(){ local data_t=`date +%Y/%m/%d" "%H:%M:%S` netdetail=`$bb awk -v OFS=, -v initreceive=$initreceive -v inittransmit=$inittransmit -v datat="$data_t" 'NR&gt;1{if($2=="wlan0"){wr[$4]+=$6;wt[$4]+=$8}else{if($2=="rmnet0"){rr[$4]+=$6;rt[$4]+=$8}}}END{for(i in wr){print datat,i,wr[i]/1000-initreceive,wt[i]/1000-inittransmit,"wifi"};for(i in rr){print datat,i,rr[i]/1000-initreceive,rt[i]/1000-inittransmit,"data"}}' /proc/net/xt_qtaguid/stats | grep $uid` echo $netdetail&gt;&gt;$filenet}</pre><p>3.2 æ€§èƒ½è‡ªåŠ¨åŒ–è„šæœ¬</p><ul><li>åŸºäºAppiumçš„è‡ªåŠ¨åŒ–ç”¨ä¾‹ï¼Œè¿™ä¸ªæŠ€æœ¯ä¸šç•Œå·²ç»æœ‰éå¸¸å¤šçš„å®è·µäº†ï¼Œè¿™é‡Œæˆ‘ä¸å†ç´¯è¿°ï¼Œå¦‚æœä¸äº†è§£çš„åŒå­¦ï¼Œå¯ä»¥åˆ°Appiumå®˜ç½‘ <a class=pgc-link href=http://appium.io/ target=_blank>http://appium.io</a></li><li>Flutterå’ŒNativeé¡µé¢åˆ‡æ¢ä½¿ç”¨Appå†…çš„Schemaè·³è½¬</li><li>Flutteré¡µé¢çš„æ–‡æœ¬è¾“å…¥ç­‰äº¤äº’æ€§è¾ƒå¼ºçš„åœºæ™¯ä½¿ç”¨åŸºäºFlutteræ¡†æ¶å¸¦çš„Integration Testæ¥æ“ä½œ</li></ul><blockquote><p>An <em>integration test</em></p><p>Generally, an <em>integration test</em> runs on a real device or an OS emulator, such as iOS Simulator or Android Emulator. The app under test is typically isolated from the test driver code to avoid skewing the results.</p></blockquote><p>Flutterçš„UIè‡ªåŠ¨åŒ–åŠFlutter/Nativeæ··åˆé¡µé¢çš„å¤„ç†åœ¨æµ‹è¯•ä¸Šçš„åº”ç”¨åç»­å•ç‹¬å¼€æ–‡ç« ä»‹ç»ï¼ŒåŸç†ç›¸å…³å¯ä»¥å…ˆå‚è€ƒ <a class=pgc-link href=https://mp.weixin.qq.com/s/c8sR5LgnmpbWGRxn4D0Kxw target=_blank>åƒäººåƒé¢å½•åˆ¶å›æ”¾æŠ€æœ¯</a></p><p>3.3 æ€§èƒ½è‡ªåŠ¨åŒ–CIæµç¨‹</p><div class=pgc-img><img alt=èƒ½ç”¨æœºå™¨å®Œæˆçš„ï¼Œåƒä¸‡åˆ«å †å·¥ä½œé‡|æŒç»­é›†æˆä¸­çš„æ€§èƒ½è‡ªåŠ¨åŒ–æµ‹è¯• onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5afe8d003ad140ddb56a347bd3028669><p class=pgc-img-caption></p></div><p>3.4 æ€§èƒ½æ•°æ®æŠ¥è¡¨</p><p>FPSç›¸å…³</p><div class=pgc-img><img alt=èƒ½ç”¨æœºå™¨å®Œæˆçš„ï¼Œåƒä¸‡åˆ«å †å·¥ä½œé‡|æŒç»­é›†æˆä¸­çš„æ€§èƒ½è‡ªåŠ¨åŒ–æµ‹è¯• onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c1f468071ec749f2b1c9bbd01e1e86df><p class=pgc-img-caption></p></div><ul><li>Framediff: ç»˜åˆ¶å¸§çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´å·®</li><li>FPS: æ¯ç§’å±•ç¤ºçš„å¸§æ•°</li><li>Frames: ä¸€ä¸ªåˆ·æ–°å‘¨æœŸå†…æ‰€æœ‰çš„å¸§</li><li>jank: ä¸€å¸§å¼€å§‹ç»˜åˆ¶åˆ°ç»“æŸè¶…è¿‡16.67ms å°±è®°ä¸€æ¬¡jankï¼Œjankéé›¶ä»£è¡¨ç¡¬ä»¶ç»˜åˆ¶æ‰å¸§ï¼Œå’Œå±å¹•ç¡¬ä»¶æ€§èƒ½åŠç›¸å…³é©± åŠ¨æ€§èƒ½æœ‰å…³</li><li>jank2: ä¸€å¸§å¼€å§‹ç»˜åˆ¶åˆ°ç»“æŸè¶…è¿‡33.34ms å°±è®°ä¸€æ¬¡jank2</li><li>MFS: åœ¨ä¸€ä¸ªåˆ·æ–°å‘¨æœŸå†…å•å¸§æœ€å¤§è€—æ—¶ï¼ˆæ¯ä¸¤è¡Œå‚ç›´åŒæ­¥çš„æ—¶é—´å·®ä»£è¡¨ä¸¤å¸§ç»˜åˆ¶çš„å¸§é—´éš”ï¼‰</li><li>OKT: åœ¨ä¸€ä¸ªåˆ·æ–°å‘¨æœŸå†…ï¼Œå¸§è€—æ—¶è¶…è¿‡16.67msçš„æ¬¡æ•°</li><li>SS: æµç•…åº¦ï¼Œé€šè¿‡FPSï¼ŒMFSï¼ŒOKTè®¡ç®—å‡ºæ¥ï¼Œæµç•…åº¦ = å®é™…å¸§ç‡æ¯”ç›®æ ‡å¸§ç‡æ¯”å€¼<em>60ã€ç›®æ ‡å¸§ç‡è¶Šé«˜è¶Šå¥½ã€‘ + ç›®æ ‡æ—¶é—´å’Œä¸¤å¸§æ—¶é—´å·®æ¯”å€¼</em>20ã€ä¸¤å¸§æ—¶é—´å·®è¶Šä½è¶Šå¥½ã€‘ + (1-è¶…è¿‡16msæ¬¡æ•°/å¸§æ•°)*20ã€æ¬¡æ•°è¶Šå°‘è¶Šå¥½ã€‘</li></ul><p>CPU</p><div class=pgc-img><img alt=èƒ½ç”¨æœºå™¨å®Œæˆçš„ï¼Œåƒä¸‡åˆ«å †å·¥ä½œé‡|æŒç»­é›†æˆä¸­çš„æ€§èƒ½è‡ªåŠ¨åŒ–æµ‹è¯• onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7127a34c0309433bb62ff29b6f990192><p class=pgc-img-caption></p></div><p>Memory</p><div class=pgc-img><img alt=èƒ½ç”¨æœºå™¨å®Œæˆçš„ï¼Œåƒä¸‡åˆ«å †å·¥ä½œé‡|æŒç»­é›†æˆä¸­çš„æ€§èƒ½è‡ªåŠ¨åŒ–æµ‹è¯• onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ef874257ddb24a918ef27a3b63e2fd3a><p class=pgc-img-caption></p></div><h1>4. æˆæœå±•ç¤º</h1><p>4.1 æŒ‡å®šæ³³é“åˆ†æ”¯æ€§èƒ½ç›‘æ§</p><p>æ³³é“åˆ†æ”¯å‡ºç°äº†æ€§èƒ½é—®é¢˜å†æŠ¥è¡¨ä¸Šä¸€ç›®äº†ç„¶</p><div class=pgc-img><img alt=èƒ½ç”¨æœºå™¨å®Œæˆçš„ï¼Œåƒä¸‡åˆ«å †å·¥ä½œé‡|æŒç»­é›†æˆä¸­çš„æ€§èƒ½è‡ªåŠ¨åŒ–æµ‹è¯• onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8a2695e48ccd41b18d202d6dde4a24d2><p class=pgc-img-caption></p></div><p>4.2 æ€§èƒ½ä¸“é¡¹æ”¯æ’‘</p><p>1ã€Flutterå•†å“è¯¦æƒ…é¡µé‡æ„ 14è½®æµ‹è¯•</p><div class=pgc-img><img alt=èƒ½ç”¨æœºå™¨å®Œæˆçš„ï¼Œåƒä¸‡åˆ«å †å·¥ä½œé‡|æŒç»­é›†æˆä¸­çš„æ€§èƒ½è‡ªåŠ¨åŒ–æµ‹è¯• onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/48616e80911a402bbd2b665399b75ccb><p class=pgc-img-caption></p></div><p>2ã€å®¢æˆ·ç«¯å›¾ç‰‡ç»Ÿä¸€èµ„æºæµ‹è¯• 4è½®æµ‹è¯•</p><div class=pgc-img><img alt=èƒ½ç”¨æœºå™¨å®Œæˆçš„ï¼Œåƒä¸‡åˆ«å †å·¥ä½œé‡|æŒç»­é›†æˆä¸­çš„æ€§èƒ½è‡ªåŠ¨åŒ–æµ‹è¯• onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/ac9963a94a3d4379aa7e7f032bde4800><p class=pgc-img-caption></p></div><h1>5. æ€»ç»“</h1><p>æ€§èƒ½è‡ªåŠ¨åŒ–åªæ˜¯æ•´ä¸ªCIæµç¨‹ä¸­çš„ä¸€ä¸ªç¯èŠ‚ï¼Œä¸ºäº†æè‡´æ•ˆç‡çš„å¤§ç›®æ ‡ï¼Œé—²é±¼è´¨é‡å›¢é˜Ÿè¿˜äº§å‡ºäº†å¾ˆå¤šæ”¯æ’‘å·¥å…·ï¼ŒCIå¹³å°ï¼Œéå†æµ‹è¯•ï¼ŒAIé”™è¯¯è¯†åˆ«ï¼Œç”¨ä¾‹è‡ªåŠ¨ç”Ÿæˆç­‰ç­‰ï¼Œåç»­ä¹Ÿä¼šåˆ†äº«ç»™å¤§å®¶ã€‚</p><h1>6. å‚è€ƒ</h1><p><a class=pgc-link href=https://testerhome.com/topics/2232 target=_blank>https://testerhome.com/topics/2232</a></p><p><a class=pgc-link href=https://testerhome.com/topics/4775 target=_blank>https://testerhome.com/topics/4775</a></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'æœºå™¨','åƒä¸‡åˆ«','æŒç»­'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>