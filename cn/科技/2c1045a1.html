<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ASP.NET Coreä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨éå¸¸ç®€å•çš„æ–¹å¼ï¼Œæ¥ä½¿ç”¨å“åº”å‹ç¼© | æå®¢å¿«è¨Š</title><meta property="og:title" content="ASP.NET Coreä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨éå¸¸ç®€å•çš„æ–¹å¼ï¼Œæ¥ä½¿ç”¨å“åº”å‹ç¼© - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/7b9fcf79-6ed6-4933-8e57-61f4fa936d65"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2c1045a1.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2c1045a1.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2c1045a1.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2c1045a1.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2c1045a1.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2c1045a1.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2c1045a1.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2c1045a1.html><meta property="article:published_time" content="2020-11-14T21:01:37+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:37+08:00"><meta name=Keywords content><meta name=description content="ASP.NET Coreä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨éå¸¸ç®€å•çš„æ–¹å¼ï¼Œæ¥ä½¿ç”¨å“åº”å‹ç¼©"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/2c1045a1.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ASP.NET Coreä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨éå¸¸ç®€å•çš„æ–¹å¼ï¼Œæ¥ä½¿ç”¨å“åº”å‹ç¼©</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p><br></p><div class=pgc-img><img alt="ASP.NET Coreä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨éå¸¸ç®€å•çš„æ–¹å¼ï¼Œæ¥ä½¿ç”¨å“åº”å‹ç¼©" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/7b9fcf79-6ed6-4933-8e57-61f4fa936d65><p class=pgc-img-caption></p></div><p>ä»‹ç»#</p><p>å“åº”å‹ç¼©æŠ€æœ¯æ˜¯ç›®å‰Webå¼€å‘é¢†åŸŸä¸­æ¯”è¾ƒå¸¸ç”¨çš„æŠ€æœ¯ï¼Œåœ¨å¸¦å®½èµ„æºå—é™çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨å‹ç¼©æŠ€æœ¯æ˜¯æå‡å¸¦å®½è´Ÿè½½çš„é¦–é€‰æ–¹æ¡ˆã€‚æˆ‘ä»¬ç†Ÿæ‚‰çš„WebæœåŠ¡å™¨ï¼Œæ¯”å¦‚IISã€Tomcatã€Nginxã€Apacheç­‰éƒ½å¯ä»¥ä½¿ç”¨å‹ç¼©æŠ€æœ¯ï¼Œå¸¸ç”¨çš„å‹ç¼©ç±»å‹åŒ…æ‹¬Brotliã€Gzipã€Deflateï¼Œå®ƒä»¬å¯¹CSSã€JavaScriptã€HTMLã€XML å’Œ JSONç­‰ç±»å‹çš„æ•ˆæœè¿˜æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨ä¸€å®šçš„é™åˆ¶å¯¹äºå›¾ç‰‡æ•ˆæœå¯èƒ½æ²¡é‚£ä¹ˆå¥½ï¼Œå› ä¸ºå›¾ç‰‡æœ¬èº«å°±æ˜¯å‹ç¼©æ ¼å¼ã€‚å…¶æ¬¡ï¼Œå¯¹äºå°äºå¤§çº¦150-1000 å­—èŠ‚çš„æ–‡ä»¶ï¼ˆå…·ä½“å–å†³äºæ–‡ä»¶çš„å†…å®¹å’Œå‹ç¼©çš„æ•ˆç‡ï¼Œå‹ç¼©å°æ–‡ä»¶çš„å¼€é”€å¯èƒ½ä¼šäº§ç”Ÿæ¯”æœªå‹ç¼©æ–‡ä»¶æ›´å¤§çš„å‹ç¼©æ–‡ä»¶ã€‚åœ¨ASP.NET Coreä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨éå¸¸ç®€å•çš„æ–¹å¼æ¥ä½¿ç”¨å“åº”å‹ç¼©ã€‚</p><h3 class=pgc-h-arrow-right>ä½¿ç”¨æ–¹å¼#</h3><p>åœ¨ASP.NET Coreä¸­ä½¿ç”¨å“åº”å‹ç¼©çš„æ–¹å¼æ¯”è¾ƒç®€å•ã€‚é¦–å…ˆï¼Œåœ¨ConfigureServicesä¸­æ·»åŠ services.AddResponseCompressionæ³¨å…¥å“åº”å‹ç¼©ç›¸å…³çš„è®¾ç½®ï¼Œæ¯”å¦‚ä½¿ç”¨çš„å‹ç¼©ç±»å‹ã€å‹ç¼©çº§åˆ«ã€å‹ç¼©ç›®æ ‡ç±»å‹ç­‰ã€‚å…¶æ¬¡ï¼Œåœ¨Configureæ·»åŠ app.UseResponseCompressionæ‹¦æˆªè¯·æ±‚åˆ¤æ–­æ˜¯å¦éœ€è¦å‹ç¼©,å¤§è‡´ä½¿ç”¨æ–¹å¼å¦‚ä¸‹</p><pre><code>Copypublic class Startup{    public void ConfigureServices(IServiceCollection services)    {        services.AddResponseCompression();    }    public void Configure(IApplicationBuilder app, IHostingEnvironment env)    {        app.UseResponseCompression();    }}</code></pre><p>å¦‚æœéœ€è¦è‡ªå®šä¹‰ä¸€äº›é…ç½®çš„è¯è¿˜å¯ä»¥æ‰‹åŠ¨è®¾ç½®å‹ç¼©ç›¸å…³</p><pre><code>Copypublic void ConfigureServices(IServiceCollection services){    services.AddResponseCompression(options =&gt;    {        //å¯ä»¥æ·»åŠ å¤šç§å‹ç¼©ç±»å‹ï¼Œç¨‹åºä¼šæ ¹æ®çº§åˆ«è‡ªåŠ¨è·å–æœ€ä¼˜æ–¹å¼        options.Providers.Add&lt;BrotliCompressionProvider&gt;();        options.Providers.Add&lt;GzipCompressionProvider&gt;();        //æ·»åŠ è‡ªå®šä¹‰å‹ç¼©ç­–ç•¥        options.Providers.Add&lt;MyCompressionProvider&gt;();        //é’ˆå¯¹æŒ‡å®šçš„MimeTypeæ¥ä½¿ç”¨å‹ç¼©ç­–ç•¥        options.MimeTypes =             ResponseCompressionDefaults.MimeTypes.Concat(                new[] { "application/json" });    });    //é’ˆå¯¹ä¸åŒçš„å‹ç¼©ç±»å‹ï¼Œè®¾ç½®å¯¹åº”çš„å‹ç¼©çº§åˆ«    services.Configure&lt;GzipCompressionProviderOptions&gt;(options =&gt;     {        //ä½¿ç”¨æœ€å¿«çš„æ–¹å¼è¿›è¡Œå‹ç¼©ï¼Œå•ä¸ä¸€å®šæ˜¯å‹ç¼©æ•ˆæœæœ€å¥½çš„æ–¹å¼        options.Level = CompressionLevel.Fastest;        //ä¸è¿›è¡Œå‹ç¼©æ“ä½œ        //options.Level = CompressionLevel.NoCompression;        //å³ä½¿éœ€è¦è€—è´¹å¾ˆé•¿çš„æ—¶é—´ï¼Œä¹Ÿè¦ä½¿ç”¨å‹ç¼©æ•ˆæœæœ€å¥½çš„æ–¹å¼        //options.Level = CompressionLevel.Optimal;    });}</code></pre><p>å…³äºå“åº”å‹ç¼©å¤§è‡´çš„å·¥ä½œæ–¹å¼å°±æ˜¯ï¼Œå½“å‘èµ·Httpè¯·æ±‚çš„æ—¶å€™åœ¨Request Headerä¸­æ·»åŠ Accept-Encoding:gzipæˆ–è€…å…¶ä»–ä½ æƒ³è¦çš„å‹ç¼©ç±»å‹ï¼Œå¯ä»¥ä¼ é€’å¤šä¸ªç±»å‹ã€‚æœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚è·å–Accept-Encodingåˆ¤æ–­æ˜¯å¦æ”¯æŒè¯¥ç§ç±»å‹çš„å‹ç¼©æ–¹å¼ï¼Œå¦‚æœæ”¯æŒåˆ™å‹ç¼©è¾“å‡ºå†…å®¹ç›¸å…³å¹¶ä¸”è®¾ç½®Content-Encodingä¸ºå½“å‰ä½¿ç”¨çš„å‹ç¼©æ–¹å¼ä¸€èµ·è¿”å›ã€‚å®¢æˆ·ç«¯å¾—åˆ°å“åº”ä¹‹åè·å–Content-Encodingåˆ¤æ–­æœåŠ¡ç«¯æ˜¯å¦é‡‡ç”¨äº†å‹ç¼©æŠ€æœ¯ï¼Œå¹¶æ ¹æ®å¯¹åº”çš„å€¼åˆ¤æ–­ä½¿ç”¨äº†å“ªç§å‹ç¼©ç±»å‹ï¼Œç„¶åä½¿ç”¨å¯¹åº”çš„è§£å‹ç®—æ³•å¾—åˆ°åŸå§‹æ•°æ®ã€‚</p><h3 class=pgc-h-arrow-right>æºç æ¢ç©¶#</h3><p>é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œç›¸ä¿¡å¤§å®¶å¯¹ResponseCompressionæœ‰äº†ä¸€å®šçš„äº†è§£ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡æŸ¥çœ‹æºç çš„æ–¹å¼äº†è§£ä¸€ä¸‹å®ƒå¤§è‡´çš„å·¥ä½œåŸç†ã€‚</p><h4 class=pgc-h-arrow-right>AddResponseCompression#</h4><p>é¦–å…ˆæˆ‘ä»¬æ¥æŸ¥çœ‹æ³¨å…¥ç›¸å…³çš„ä»£ç ï¼Œå…·ä½“ä»£ç æ‰¿è½½åœ¨ResponseCompressionServicesExtensionsæ‰©å±•ç±»ä¸­[ç‚¹å‡»æŸ¥çœ‹æºç ]</p><pre><code>Copypublic static class ResponseCompressionServicesExtensions{    public static IServiceCollection AddResponseCompression(this IServiceCollection services)    {        services.TryAddSingleton&lt;IResponseCompressionProvider, ResponseCompressionProvider&gt;();        return services;    }    public static IServiceCollection AddResponseCompression(this IServiceCollection services, Action&lt;ResponseCompressionOptions&gt; configureOptions)    {        services.Configure(configureOptions);        services.TryAddSingleton&lt;IResponseCompressionProvider, ResponseCompressionProvider&gt;();        return services;    }}</code></pre><p>ä¸»è¦å°±æ˜¯æ³¨å…¥ResponseCompressionProviderå’ŒResponseCompressionOptions,é¦–å…ˆæˆ‘ä»¬æ¥çœ‹å…³äºResponseCompressionOptions[ç‚¹å‡»æŸ¥çœ‹æºç ]</p><pre><code>Copypublic class ResponseCompressionOptions{    // è®¾ç½®éœ€è¦å‹ç¼©çš„ç±»å‹    public IEnumerable&lt;string&gt; MimeTypes { get; set; }    // è®¾ç½®ä¸éœ€è¦å‹ç¼©çš„ç±»å‹    public IEnumerable&lt;string&gt; ExcludedMimeTypes { get; set; }    // æ˜¯å¦å¼€å¯httpsæ”¯æŒ    public bool EnableForHttps { get; set; } = false;    // å‹ç¼©ç±»å‹é›†åˆ    public CompressionProviderCollection Providers { get; } = new CompressionProviderCollection();}</code></pre><p>å…³äºè¿™ä¸ªç±»å°±ä¸åšè¿‡å¤šä»‹ç»äº†ï¼Œæ¯”è¾ƒç®€å•ã€‚ResponseCompressionProvideræ˜¯æˆ‘ä»¬æä¾›å“åº”å‹ç¼©ç®—æ³•çš„æ ¸å¿ƒç±»ï¼Œå…·ä½“å¦‚ä½•è‡ªåŠ¨é€‰ç”¨å‹ç¼©ç®—æ³•éƒ½æ˜¯ç”±å®ƒæä¾›çš„ã€‚è¿™ä¸ªç±»ä¸­çš„ä»£ç æ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬å°±ä¸é€ä¸ªæ–¹æ³•è®²è§£äº†ï¼Œå…·ä½“æºç å¯è‡ªè¡ŒæŸ¥é˜…[ç‚¹å‡»æŸ¥çœ‹æºç ]ï¼Œé¦–å…ˆæˆ‘ä»¬å…ˆçœ‹ResponseCompressionProviderçš„æ„é€ å‡½æ•°</p><pre><code>Copypublic ResponseCompressionProvider(IServiceProvider services, IOptions&lt;ResponseCompressionOptions&gt; options){    var responseCompressionOptions = options.Value;    _providers = responseCompressionOptions.Providers.ToArray();    //å¦‚æœæ²¡æœ‰è®¾ç½®å‹ç¼©ç±»å‹é»˜è®¤é‡‡ç”¨Brå’ŒGzipå‹ç¼©ç®—æ³•    if (_providers.Length == 0)    {        _providers = new ICompressionProvider[]        {            new CompressionProviderFactory(typeof(BrotliCompressionProvider)),            new CompressionProviderFactory(typeof(GzipCompressionProvider)),        };    }    //æ ¹æ®CompressionProviderFactoryåˆ›å»ºå¯¹åº”çš„å‹ç¼©ç®—æ³•Provideræ¯”å¦‚GzipCompressionProvider    for (var i = 0; i &lt; _providers.Length; i++)    {        var factory = _providers[i] as CompressionProviderFactory;        if (factory != null)        {            _providers[i] = factory.CreateInstance(services);        }    }    //è®¾ç½®é»˜è®¤çš„å‹ç¼©ç›®æ ‡ç±»å‹é»˜è®¤ä¸ºtext/plainã€text/cssã€text/htmlã€application/javascriptã€application/xml    //text/xmlã€application/jsonã€text/jsonã€application/was    var mimeTypes = responseCompressionOptions.MimeTypes;    if (mimeTypes == null || !mimeTypes.Any())    {        mimeTypes = ResponseCompressionDefaults.MimeTypes;    }   //å°†é»˜è®¤MimeTypeæ”¾å…¥HashSet    _mimeTypes = new HashSet&lt;string&gt;(mimeTypes, StringComparer.OrdinalIgnoreCase);    _excludedMimeTypes = new HashSet&lt;string&gt;(        responseCompressionOptions.ExcludedMimeTypes ?? Enumerable.Empty&lt;string&gt;(),        StringComparer.OrdinalIgnoreCase    );    _enableForHttps = responseCompressionOptions.EnableForHttps;}</code></pre><p>å…¶ä¸­BrotliCompressionProviderã€GzipCompressionProvideræ˜¯å…·ä½“æä¾›å‹ç¼©æ–¹æ³•çš„åœ°æ–¹ï¼Œå’±ä»¬å°±çœ‹æ¯”è¾ƒå¸¸ç”¨çš„Gzipçš„Providerçš„å¤§è‡´å®ç°[ç‚¹å‡»æŸ¥çœ‹æºç ]</p><pre><code>Copypublic class GzipCompressionProvider : ICompressionProvider{    public GzipCompressionProvider(IOptions&lt;GzipCompressionProviderOptions&gt; options)    {        Options = options.Value;    }    private GzipCompressionProviderOptions Options { get; }    // å¯¹åº”çš„Encodingåç§°    public string EncodingName { get; } = "gzip";    public bool SupportsFlush =&gt; true;    // æ ¸å¿ƒä»£ç å°±æ˜¯è¿™å¥ å°†åŸå§‹çš„è¾“å‡ºæµè½¬æ¢ä¸ºå‹ç¼©çš„GZipStream    // æˆ‘ä»¬è®¾ç½®çš„Levelå‹ç¼©çº§åˆ«å°†å†³å®šå‹ç¼©çš„æ€§èƒ½å’Œè´¨é‡    public Stream CreateStream(Stream outputStream)        =&gt; new GZipStream(outputStream, Options.Level, leaveOpen: true);}</code></pre><p>å…³äºResponseCompressionProviderå…¶ä»–ç›¸å…³çš„æ–¹æ³•å’±ä»¬åœ¨è®²è§£UseResponseCompressionä¸­é—´ä»¶çš„æ—¶å€™åœ¨å…·ä½“çœ‹ç”¨åˆ°çš„æ–¹æ³•ï¼Œå› ä¸ºè¿™ä¸ªç±»æ˜¯å“åº”å‹ç¼©çš„æ ¸å¿ƒç±»ï¼Œç°åœ¨æå‰è¯´äº†ï¼Œåˆ°ä¸­é—´ä»¶ä½¿ç”¨çš„åœ°æ–¹å¯èƒ½ä¼šå¿˜è®°äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±çœ‹UseResponseCompressionçš„å¤§è‡´å®ç°ã€‚</p><h4 class=pgc-h-arrow-right>UseResponseCompression#</h4><p>UseResponseCompressionå…·ä½“ä¹Ÿå°±ä¸€ä¸ªæ— å‚çš„æ‰©å±•æ–¹æ³•ï¼Œä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå› ä¸ºé…ç½®å’Œå·¥ä½œéƒ½ç”±æ³¨å…¥çš„åœ°æ–¹å®Œæˆäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥æŸ¥çœ‹ä¸­é—´ä»¶é‡Œçš„å®ç°ï¼Œæ‰¾åˆ°ä¸­é—´ä»¶ä½ç½®ResponseCompressionMiddleware[ç‚¹å‡»æŸ¥çœ‹æºç ]</p><pre><code>Copypublic class ResponseCompressionMiddleware{    private readonly RequestDelegate _next;    private readonly IResponseCompressionProvider _provider;    public ResponseCompressionMiddleware(RequestDelegate next, IResponseCompressionProvider provider)    {        _next = next;        _provider = provider;    }    public async Task Invoke(HttpContext context)    {        //åˆ¤æ–­æ˜¯å¦åŒ…å«Accept-Encodingå¤´ä¿¡æ¯ï¼Œä¸åŒ…å«ç›´æ¥å¤§å–Šä¸€å£°"æŠ¬èµ°ä¸‹ä¸€ä¸ª"        if (!_provider.CheckRequestAcceptsCompression(context))        {            await _next(context);            return;        }        //è·å–åŸå§‹è¾“å‡ºBody        var originalBodyFeature = context.Features.Get&lt;IHttpResponseBodyFeature&gt;();        var originalCompressionFeature = context.Features.Get&lt;IHttpsCompressionFeature&gt;();        //åˆå§‹åŒ–å“åº”å‹ç¼©Body        var compressionBody = new ResponseCompressionBody(context, _provider, originalBodyFeature);        //è®¾ç½®æˆå‹ç¼©Body        context.Features.Set&lt;IHttpResponseBodyFeature&gt;(compressionBody);        context.Features.Set&lt;IHttpsCompressionFeature&gt;(compressionBody);        try        {            await _next(context);            await compressionBody.FinishCompressionAsync();        }        finally        {            //æ¢å¤åŸå§‹Body            context.Features.Set(originalBodyFeature);            context.Features.Set(originalCompressionFeature);        }    }}</code></pre><p>è¿™ä¸ªä¸­é—´ä»¶éå¸¸çš„ç®€å•ï¼Œå°±æ˜¯åˆå§‹åŒ–äº†ResponseCompressionBodyã€‚çœ‹åˆ°è¿™é‡Œä½ ä¹Ÿè®¸ä¼šå¥½å¥‡ï¼Œå¹¶æ²¡æœ‰è§¦å‘è°ƒç”¨å‹ç¼©ç›¸å…³çš„ä»»ä½•ä»£ç ï¼ŒResponseCompressionBodyä¹Ÿåªæ˜¯è°ƒç”¨äº†FinishCompressionAsyncéƒ½æ˜¯å’Œé‡Šæ”¾ç›¸å…³çš„ï¼Œä¸è¦ç€æ€¥æˆ‘ä»¬æ¥çœ‹ResponseCompressionBodyç±»çš„ç»“æ„</p><pre><code>Copyinternal class ResponseCompressionBody : Stream, IHttpResponseBodyFeature, IHttpsCompressionFeature{}</code></pre><p>è¿™ä¸ªç±»å®ç°äº†IHttpResponseBodyFeatureï¼Œæˆ‘ä»¬ä½¿ç”¨çš„Response.Bodyå…¶å®å°±æ˜¯è·å–çš„HttpResponseBodyFeature.Streamå±æ€§ã€‚æˆ‘ä»¬ä½¿ç”¨çš„Response.WriteAsyncç›¸å…³çš„æ–¹æ³•ï¼Œå…¶å®å†…éƒ¨éƒ½æ˜¯åœ¨è°ƒç”¨PipeWriterè¿›è¡Œå†™æ“ä½œï¼Œè€ŒPipeWriterå°±æ˜¯æ¥è‡ªHttpResponseBodyFeature.Writerå±æ€§ã€‚å¯ä»¥å¤§è‡´æ¦‚æ‹¬ä¸ºï¼Œè¾“å‡ºç›¸å…³çš„æ“ä½œå…¶æ ¸å¿ƒéƒ½æ˜¯åœ¨æ“ä½œIHttpResponseBodyFeatureã€‚æœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡ŒæŸ¥é˜…HttpResponseç›¸å…³çš„æºç å¯ä»¥äº†è§£ç›¸å…³ä¿¡æ¯ã€‚æ‰€ä»¥æˆ‘ä»¬çš„ResponseCompressionBodyå…¶å®æ˜¯é‡å†™äº†è¾“å‡ºæ“ä½œç›¸å…³æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦ä½ è°ƒç”¨äº†Responseç›¸å…³çš„Writeæˆ–Bodyç›¸å…³çš„ï¼Œå…¶å®æœ¬è´¨éƒ½æ˜¯åœ¨æ“ä½œIHttpResponseBodyFeatureï¼Œç”±äºæˆ‘ä»¬å¼€å¯äº†å“åº”è¾“å‡ºç›¸å…³çš„ä¸­é—´ä»¶ï¼Œæ‰€ä»¥ä¼šè°ƒç”¨IHttpResponseBodyFeatureçš„å®ç°ç±»ResponseCompressionBodyç›¸å…³çš„æ–¹æ³•å®Œæˆè¾“å‡ºã€‚å’Œæˆ‘ä»¬å¸¸è§„ç†è§£çš„è¿˜æ˜¯æœ‰åå·®çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬è®¤ä¸ºï¼Œå…¶å®åªè¦é’ˆå¯¹è¾“å‡ºçš„Streamåšæ“ä½œå°±å¯ä»¥äº†ï¼Œä½†æ˜¯å“åº”å‹ç¼©ä¸­é—´ä»¶ç«Ÿç„¶é‡å†™äº†è¾“å‡ºç›¸å…³çš„æ“ä½œã€‚ äº†è§£åˆ°è¿™ä¸ªä¹‹åï¼Œç›¸ä¿¡å¤§å®¶å°±æ²¡æœ‰å¤ªå¤šç–‘é—®äº†ã€‚ç”±äºResponseCompressionBodyé‡å†™äº†è¾“å‡ºç›¸å…³çš„æ“ä½œï¼Œä»£ç ç›¸å¯¹ä¹Ÿæ¯”è¾ƒå¤šï¼Œå°±ä¸é€ä¸€ç²˜è´´å‡ºæ¥äº†ï¼Œæˆ‘ä»¬åªæŸ¥çœ‹è®¾è®¡åˆ°å“åº”å‹ç¼©æ ¸å¿ƒç›¸å…³çš„ä»£ç ï¼Œå…³äºResponseCompressionBodyæºç ç›¸å…³çš„ç»†èŠ‚æœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡ŒæŸ¥é˜…[ç‚¹å‡»æŸ¥çœ‹æºç ]ï¼Œè¾“å‡ºçš„æœ¬è´¨å…¶å®éƒ½æ˜¯åœ¨è°ƒç”¨Writeæ–¹æ³•ï¼Œæˆ‘ä»¬å°±æ¥æŸ¥çœ‹ä¸€ä¸‹Writeæ–¹æ³•ç›¸å…³çš„å®ç°</p><pre><code>Copypublic override void Write(byte[] buffer, int offset, int count){    //è¿™æ˜¯æ ¸å¿ƒæ–¹æ³•æœ‰å…³äºå‹ç¼©ç›¸å…³çš„è¾“å‡ºéƒ½åœ¨è¿™    OnWrite();    //_compressionStreamåˆå§‹åŒ–åœ¨OnWriteæ–¹æ³•é‡Œ    if (_compressionStream != null)    {        _compressionStream.Write(buffer, offset, count);        if (_autoFlush)        {            _compressionStream.Flush();        }    }    else    {        _innerStream.Write(buffer, offset, count);    }}</code></pre><p>é€šè¿‡ä¸Šé¢çš„ä»£ç æˆ‘ä»¬çœ‹åˆ°OnWriteæ–¹æ³•æ˜¯æ ¸å¿ƒæ“ä½œï¼Œæˆ‘ä»¬ç›´æ¥æŸ¥çœ‹OnWriteæ–¹æ³•å®ç°</p><pre><code>Copyprivate void OnWrite(){    if (!_compressionChecked)    {        _compressionChecked = true;        //åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ‰§è¡Œå‹ç¼©ç›¸å…³çš„é€»è¾‘        if (_provider.ShouldCompressResponse(_context))        {            //åŒ¹é…Varyå¤´ä¿¡æ¯å¯¹åº”çš„å€¼            var varyValues = _context.Response.Headers.GetCommaSeparatedValues(HeaderNames.Vary);            var varyByAcceptEncoding = false;            //åˆ¤æ–­Varyçš„å€¼æ˜¯å¦ä¸ºAccept-Encoding            for (var i = 0; i &lt; varyValues.Length; i++)            {                if (string.Equals(varyValues[i], HeaderNames.AcceptEncoding, StringComparison.OrdinalIgnoreCase))                {                    varyByAcceptEncoding = true;                    break;                }            }            if (!varyByAcceptEncoding)            {                _context.Response.Headers.Append(HeaderNames.Vary, HeaderNames.AcceptEncoding);            }            //è·å–æœ€ä½³çš„ICompressionProviderå³æœ€ä½³çš„å‹ç¼©æ–¹å¼            var compressionProvider = ResolveCompressionProvider();            if (compressionProvider != null)            {                //è®¾ç½®é€‰å®šçš„å‹ç¼©ç®—æ³•ï¼Œæ”¾å…¥Content-Encodingå¤´çš„å€¼é‡Œ                //å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡Content-Encodingå¤´ä¿¡æ¯åˆ¤æ–­æœåŠ¡ç«¯é‡‡ç”¨çš„å“ªç§å‹ç¼©ç®—æ³•                _context.Response.Headers.Append(HeaderNames.ContentEncoding, compressionProvider.EncodingName);                //è¿›è¡Œå‹ç¼©æ—¶ï¼Œå°† Content-MD5 åˆ é™¤è¯¥æ ‡å¤´ï¼Œå› ä¸ºæ­£æ–‡å†…å®¹å·²æ›´æ”¹ä¸”å“ˆå¸Œä¸å†æœ‰æ•ˆã€‚                _context.Response.Headers.Remove(HeaderNames.ContentMD5);                 //è¿›è¡Œå‹ç¼©æ—¶ï¼Œå°† Content-Length åˆ é™¤è¯¥æ ‡å¤´ï¼Œå› ä¸ºåœ¨å¯¹å“åº”è¿›è¡Œå‹ç¼©æ—¶ï¼Œæ­£æ–‡å†…å®¹ä¼šå‘ç”Ÿæ›´æ”¹ã€‚                _context.Response.Headers.Remove(HeaderNames.ContentLength);                //è¿”å›å‹ç¼©ç›¸å…³è¾“å‡ºæµ                _compressionStream = compressionProvider.CreateStream(_innerStream);            }        }    }}private ICompressionProvider ResolveCompressionProvider(){    if (!_providerCreated)    {        _providerCreated = true;       //è°ƒç”¨ResponseCompressionProviderçš„æ–¹æ³•è¿”å›æœ€åˆé€‚çš„å‹ç¼©ç®—æ³•        _compressionProvider = _provider.GetCompressionProvider(_context);    }    return _compressionProvider;}</code></pre><p>ä»ä¸Šé¢çš„é€»è¾‘æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ‰§è¡Œå‹ç¼©ç›¸å…³é€»è¾‘ä¹‹å‰éœ€è¦åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ‰§è¡Œå‹ç¼©ç›¸å…³çš„æ–¹æ³•ShouldCompressResponseï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ResponseCompressionProvideré‡Œçš„æ–¹æ³•ï¼Œè¿™é‡Œå°±ä¸å†ç²˜è´´ä»£ç äº†ï¼Œæœ¬æ¥å°±æ˜¯åˆ¤æ–­é€»è¾‘æˆ‘ç›´æ¥æ•´ç†å‡ºæ¥å¤§è‡´å°±æ˜¯ä¸€ä¸‹å‡ ç§æƒ…å†µ</p><ul><li>å¦‚æœè¯·æ±‚æ˜¯Httpsçš„æƒ…å†µä¸‹ï¼Œæ˜¯å¦è®¾ç½®äº†å…è®¸Httpsæƒ…å†µä¸‹å‹ç¼©çš„è®¾ç½®ï¼Œå³ResponseCompressionOptionsçš„EnableForHttpså±æ€§è®¾ç½®</li><li>Response.Headé‡Œä¸èƒ½åŒ…å«Content-Rangeå¤´ä¿¡æ¯</li><li>Response.Headé‡Œä¹‹å‰ä¸èƒ½åŒ…å«Content-Encodingå¤´ä¿¡æ¯</li><li>Response.Headé‡Œä¹‹å‰å¿…é¡»è¦åŒ…å«Content-Typeå¤´ä¿¡æ¯</li><li>è¿”å›çš„MimeTypeé‡Œä¸èƒ½åŒ…å«é…ç½®çš„ä¸éœ€è¦å‹ç¼©çš„ç±»å‹ï¼Œå³ResponseCompressionOptionsçš„ExcludedMimeTypes</li><li>è¿”å›çš„MimeTypeé‡Œéœ€è¦åŒ…å«é…ç½®çš„éœ€è¦å‹ç¼©çš„ç±»å‹ï¼Œå³ResponseCompressionOptionsçš„MimeTypes</li><li>å¦‚æœä¸æ»¡è¶³ä¸Šé¢çš„ä¸¤ç§æƒ…å†µï¼Œè¿”å›çš„MimeTypeé‡ŒåŒ…å«*/*ä¹Ÿå¯ä»¥æ‰§è¡Œå“åº”å‹ç¼©<br>æ¥ä¸‹æ¥æˆ‘ä»¬æŸ¥çœ‹ResponseCompressionProviderçš„GetCompressionProvideræ–¹æ³•çœ‹å®ƒæ˜¯å¦‚ä½•ç¡®å®šè¿”å›å“ªä¸€ç§å‹ç¼©ç±»å‹çš„</li></ul><pre><code>Copypublic virtual ICompressionProvider GetCompressionProvider(HttpContext context){    var accept = context.Request.Headers[HeaderNames.AcceptEncoding];    //åˆ¤æ–­è¯·æ±‚å¤´æ˜¯å¦åŒ…å«Accept-Encodingä¿¡å¿ƒ    if (StringValues.IsNullOrEmpty(accept))    {        Debug.Assert(false, "Duplicate check failed.");        return null;    }    //è·å–Accept-Encodingé‡Œçš„å€¼ï¼Œåˆ¤æ–­æ˜¯å¦åŒ…å«gzipã€brã€identityç­‰ï¼Œå¹¶è¿”å›åŒ¹é…ä¿¡æ¯    if (!StringWithQualityHeaderValue.TryParseList(accept, out var encodings) || !encodings.Any())    {        return null;    }    //æ ¹æ®è¯·æ±‚ä¿¡æ¯å’Œè®¾ç½®ä¿¡æ¯è®¡ç®—åŒ¹é…ä¼˜å…ˆçº§    var candidates = new HashSet&lt;ProviderCandidate&gt;();    foreach (var encoding in encodings)    {        var encodingName = encoding.Value;        //Qualityæ¶‰åŠåˆ°ä¸€ä¸ªéå¸¸å¤æ‚çš„ç®—æ³•ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡ŒæŸ¥é˜…        var quality = encoding.Quality.GetValueOrDefault(1);        //qualityéœ€å¤§äº0        if (quality &lt; double.Epsilon)        {            continue;        }        //åŒ¹é…è¯·æ±‚å¤´é‡ŒencodingNameå’Œè®¾ç½®çš„providerså‹ç¼©ç®—æ³•é‡ŒEncodingNameä¸€è‡´çš„ç®—æ³•        //ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºåŒ¹é…çš„ä¼˜å…ˆçº§å’Œæ³¨å†Œprovidersé‡Œçš„é¡ºåºä¹Ÿæœ‰å…³ç³»        for (int i = 0; i &lt; _providers.Length; i++)        {            var provider = _providers[i];            if (StringSegment.Equals(provider.EncodingName, encodingName, StringComparison.OrdinalIgnoreCase))            {                candidates.Add(new ProviderCandidate(provider.EncodingName, quality, i, provider));            }        }        //å¦‚æœè¯·æ±‚å¤´é‡ŒEncodingNameæ˜¯*çš„æƒ…å†µåˆ™åœ¨æ‰€æœ‰æ³¨å†Œçš„providersé‡Œè¿›è¡ŒåŒ¹é…        if (StringSegment.Equals("*", encodingName, StringComparison.Ordinal))        {            for (int i = 0; i &lt; _providers.Length; i++)            {                var provider = _providers[i];                candidates.Add(new ProviderCandidate(provider.EncodingName, quality, i, provider));            }            break;        }        //å¦‚æœè¯·æ±‚å¤´é‡ŒEncodingNameæ˜¯identityçš„æƒ…å†µï¼Œåˆ™ä¸å¯¹å“åº”è¿›è¡Œç¼–ç         if (StringSegment.Equals("identity", encodingName, StringComparison.OrdinalIgnoreCase))        {            candidates.Add(new ProviderCandidate(encodingName.Value, quality, priority: int.MaxValue, provider: null));        }    }    ICompressionProvider selectedProvider = null;    //å¦‚æœåŒ¹é…çš„åªæœ‰ä¸€ä¸ªåˆ™ç›´æ¥è¿”å›    if (candidates.Count &lt;= 1)    {        selectedProvider = candidates.FirstOrDefault().Provider;    }    else    {        //å¦‚æœåŒ¹é…åˆ°å¤šä¸ªåˆ™æŒ‰ç…§Qualityå€’åºå’ŒPriorityæ­£åºçš„è´Ÿè´£åŒ¹é…ç¬¬ä¸€ä¸ª        selectedProvider = candidates            .OrderByDescending(x =&gt; x.Quality)            .ThenBy(x =&gt; x.Priority)            .First().Provider;    }    //å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°selectedProvideræˆ–æ˜¯identityçš„æƒ…å†µç›´æ¥è¿”å›null    if (selectedProvider == null)    {        return null;    }    return selectedProvider;}</code></pre><p>é€šè¿‡ä»¥ä¸Šçš„ä»‹ç»æˆ‘ä»¬å¯ä»¥å¤§è‡´äº†è§£åˆ°å“åº”å‹ç¼©çš„å¤§è‡´å·¥ä½œæ–¹å¼ï¼Œç®€å•æ€»ç»“ä¸€ä¸‹</p><ul><li>é¦–å…ˆè®¾ç½®å‹ç¼©ç›¸å…³çš„ç®—æ³•ç±»å‹æˆ–æ˜¯å‹ç¼©ç›®æ ‡çš„MimeType</li><li>å…¶æ¬¡æˆ‘ä»¬å¯ä»¥è®¾ç½®å‹ç¼©çº§åˆ«ï¼Œè¿™å°†å†³å®šå‹ç¼©çš„è´¨é‡å’Œå‹ç¼©æ€§èƒ½</li><li>é€šè¿‡å“åº”å‹ç¼©ä¸­é—´ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°ä¸€ä¸ªä¼˜å…ˆçº§æœ€é«˜çš„å‹ç¼©ç®—æ³•è¿›è¡Œå‹ç¼©ï¼Œè¿™ç§æƒ…å†µä¸»è¦æ˜¯é’ˆå¯¹å¤šç§å‹ç¼©ç±»å‹çš„æƒ…å†µã€‚è¿™ä¸ªå‹ç¼©ç®—æ³•ä¸å†…éƒ¨æœºåˆ¶å’Œæ³¨å†Œå‹ç¼©ç®—æ³•çš„é¡ºåºéƒ½æœ‰ä¸€å®šçš„å…³ç³»ï¼Œæœ€ç»ˆä¼šé€‰æ‹©æƒé‡æœ€å¤§çš„è¿”å›ã€‚</li><li>å“åº”å‹ç¼©ä¸­é—´ä»¶çš„æ ¸å¿ƒå·¥ä½œç±»ResponseCompressionBodyé€šè¿‡å®ç°IHttpResponseBodyFeatureï¼Œé‡å†™è¾“å‡ºç›¸å…³çš„æ–¹æ³•å®ç°å¯¹å“åº”çš„å‹ç¼©ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è¿›è¡Œè°ƒç”¨ç›¸å…³æ–¹æ³•ï¼Œè€Œæ˜¯æ›¿æ¢æ‰é»˜è®¤çš„è¾“å‡ºæ–¹å¼ã€‚åªè¦è®¾ç½®äº†å“åº”å‹ç¼©ï¼Œå¹¶ä¸”è¯·æ±‚æ»¡è¶³å“åº”å‹ç¼©ï¼Œé‚£ä¹ˆæœ‰è°ƒç”¨è¾“å‡ºçš„åœ°æ–¹é»˜è®¤éƒ½æ˜¯æ‰§è¡ŒResponseCompressionBodyé‡Œå‹ç¼©ç›¸å…³çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯æ‹¦æˆªå…·ä½“çš„è¾“å‡ºè¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚è‡³äºä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Œç›®å‰æˆ‘è¿˜æ²¡æœ‰ç†è§£åˆ°è®¾è®¡è€…çœŸæ­£çš„è€ƒè™‘ã€‚</li></ul><h3 class=pgc-h-arrow-right>æ€»ç»“#</h3><p>åœ¨æŸ¥çœ‹ç›¸å…³ä»£ç ä¹‹å‰ï¼Œæœ¬æ¥ä»¥ä¸ºå…³äºå“åº”å‹ç¼©ç›¸å…³çš„é€»è¾‘ä¼šéå¸¸çš„ç®€å•ï¼Œçœ‹è¿‡äº†æºç æ‰çŸ¥é“æ˜¯è‡ªå·±æƒ³çš„å¤ªç®€å•äº†ã€‚å…¶ä¸­å’Œè‡ªå·±æƒ³æ³•å‡ºå…¥æœ€å¤§çš„è«è¿‡äºåœ¨ResponseCompressionMiddlewareä¸­é—´ä»¶é‡Œï¼Œæœ¬ä»¥ä¸ºæ˜¯é€šè¿‡ç»Ÿä¸€æ‹¦æˆªè¾“å‡ºæµæ¥è¿›è¡Œå‹ç¼©æ“ä½œï¼Œæ²¡æƒ³åˆ°æ˜¯å¯¹æ•´ä½“è¾“å‡ºæ“ä½œè¿›è¡Œé‡å†™ã€‚å› ä¸ºåœ¨ä¹‹å‰æˆ‘ä»¬ä½¿ç”¨Asp.Netç›¸å…³æ¡†æ¶çš„æ—¶å€™æ˜¯ç»Ÿä¸€å†™Filteræˆ–è€…HttpModuleè¿›è¡Œå¤„ç†çš„ï¼Œæ‰€ä»¥å­˜åœ¨æ€ç»´å®šå¼ã€‚å¯èƒ½æ˜¯Asp.Net Coreè®¾è®¡è€…æœ‰æ›´æ·±å±‚æ¬¡çš„ç†è§£ï¼Œå¯èƒ½æ˜¯æˆ‘ç†è§£çš„è¿˜ä¸å¤Ÿå½»åº•ï¼Œä¸èƒ½å¤Ÿä½“ä¼šè¿™æ ·åšçš„å¥½å¤„ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œå¦‚æœä½ æœ‰æ›´å¥½çš„ç†è§£æˆ–è€…ç­”æ¡ˆæ¬¢è¿åœ¨è¯„è®ºåŒºé‡Œç•™è¨€è§£æƒ‘ã€‚</p><p><strong>æœ€åï¼Œå’±ç»™å°ç¼–ï¼š</strong></p><p><strong></strong></p><p><strong>1. ç‚¹èµ+è¯„è®º</strong></p><p><strong>2. ç‚¹å¤´åƒå…³æ³¨ï¼Œè½¬å‘ç»™æœ‰éœ€è¦çš„æœ‹å‹ã€‚</strong></p><p><strong></strong></p><p><strong>è°¢è°¢ï¼ï¼</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'ASP','NET','Core'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/bf86ceae.html alt="å¦‚ä½•åœ¨ASP.NET Coreä¸­å®ç°é¢å‘åˆ‡é¢ç¼–ç¨‹(AOP)" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/287c0bf906ec4fd88f87bd726019bf06 style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/bf86ceae.html title="å¦‚ä½•åœ¨ASP.NET Coreä¸­å®ç°é¢å‘åˆ‡é¢ç¼–ç¨‹(AOP)">å¦‚ä½•åœ¨ASP.NET Coreä¸­å®ç°é¢å‘åˆ‡é¢ç¼–ç¨‹(AOP)</a></li><hr><li><a href=../../cn/%E7%A7%91%E6%8A%80/23b34058.html alt="ä¸ºASP.NET Coreå¼€å‘ä¸­é—´ä»¶å‹ç¼©åŠŸèƒ½æé«˜ç³»ç»Ÿæ€§èƒ½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/0e59ba59d6244b84844608d188600738 style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/23b34058.html title="ä¸ºASP.NET Coreå¼€å‘ä¸­é—´ä»¶å‹ç¼©åŠŸèƒ½æé«˜ç³»ç»Ÿæ€§èƒ½">ä¸ºASP.NET Coreå¼€å‘ä¸­é—´ä»¶å‹ç¼©åŠŸèƒ½æé«˜ç³»ç»Ÿæ€§èƒ½</a></li><hr><li><a href=../../cn/%E7%A7%91%E6%8A%80/2eafc565.html alt="ASP.NET Coreå¦‚ä½•ä½¿ç”¨å‹ç¼©ä¸­é—´ä»¶æé«˜Webåº”ç”¨ç¨‹åºæ€§èƒ½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/2f7e2ee9a1f141b48f2b020e9b49f33a style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/2eafc565.html title="ASP.NET Coreå¦‚ä½•ä½¿ç”¨å‹ç¼©ä¸­é—´ä»¶æé«˜Webåº”ç”¨ç¨‹åºæ€§èƒ½">ASP.NET Coreå¦‚ä½•ä½¿ç”¨å‹ç¼©ä¸­é—´ä»¶æé«˜Webåº”ç”¨ç¨‹åºæ€§èƒ½</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>