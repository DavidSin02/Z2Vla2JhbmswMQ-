<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>深度观察 | 可得容量：是时候转变分布式存储购买方式了 | 极客快訊</title><meta property="og:title" content="深度观察 | 可得容量：是时候转变分布式存储购买方式了 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/f049ebf1ec764594a0f3167dd71968e7"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2c3cbc06.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2c3cbc06.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2c3cbc06.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2c3cbc06.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2c3cbc06.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2c3cbc06.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2c3cbc06.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2c3cbc06.html><meta property="article:published_time" content="2020-11-14T21:04:26+08:00"><meta property="article:modified_time" content="2020-11-14T21:04:26+08:00"><meta name=Keywords content><meta name=description content="深度观察 | 可得容量：是时候转变分布式存储购买方式了"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/2c3cbc06.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>深度观察 | 可得容量：是时候转变分布式存储购买方式了</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>什么是存储容量？</h1><p>当我们需要新购买一套存储系统的时候，要考虑的因素有哪些呢？无论是购买一套企业级存储，还是个人在网店上购买一个移动硬盘，除了性能、功耗和价格外，更基础的因素是我们需要首先知道这套系统的存储空间有多大？或者说“我能用它存下多少数据”？</p><p>是的，这就是“存储容量”！</p><p>然而，人们却越来越无法说清楚这个问题的答案。特别是对于企业级存储而言更是如此。</p><p>首先，容量转换时采用不同的进位制可能导致存储容量的呈现差异。存储容量转换的进制位通常有十进制与二进制。人们肉眼能看到的物理存储介质（驱动器或硬盘）生产厂商通常采用十进值度量存储容量，即1TB=1000GB(10的3次方吉兆字节)；计算机内存系统通常在做容量转换时是采用二进制，即1TiB=1024GiB(2的10次方吉兆字节)。</p><p>其次，存在不同的容量描述方式。企业用户可能接触到三种容量描述，即裸容量、可用容量和实际可得容量：</p><p><strong>裸容量（Raw Capacity）</strong>：也被称为“物理容量”，SNIA（Storage Networking Industry Association，存储网络工业协会）将其定义为存储设备可寻址容量的总和，即所有物理存储介质容量的总和。例如某套存储系统有50个硬盘，每个硬盘由介质厂商标注的容量是2TB，那么，总的裸容量是100TB。</p><p><strong>可用容量（Usable Capacity）</strong>: SNIA定义为在存储设备格式化后可供写入的容量。可以理解为裸容量扣除数据冗余保护以及元数据等存储系统内部开销后可写入的字节数。这里的数据冗余保护，对于传统集中式存储而言，通常是RAID机制；对于分布式存储而言，通常是多副本或EC（Erasure Coding，即纠删码）机制。可用容量小于裸容量。</p><p><strong>可得容量（Available Capacity）:</strong> 也被SNIA称为有效容量(Effective Capacity)，是指从用户角色看到的存入存储系统的数据量。即在可用容量的基础上，采用一系列数据缩减技术，例如重复数据删除和数据压缩等，提供给用户主机实际可写入数据对应的容量。因此，可得容量通常是大于或等于可用容量、小于或大于裸容量的。其中描述数据缩减能力的参数是数据缩减比，而可得容量=可用容量×数据缩减比。例如，若当前存储系统的可用容量为50TB，在某应用场景，某存储系统提供的数据缩减比达到2.5：1，即可把2.5单位应用数据缩减成1单位数据写入，最终可存储的数据量（可得容量）为125TB。</p><div class=pgc-img><img alt="深度观察 | 可得容量：是时候转变分布式存储购买方式了" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f049ebf1ec764594a0f3167dd71968e7><p class=pgc-img-caption>不同容量关系示意图</p></div><p>数据缩减比通常并不是一个稳定的参数，它与数据格式、应用场景、缩减技术有效性相关，而企业用户的数据环境往往是复杂多样的，导致这些因素通常都是变量。例如，重删压缩技术，对于数据库、VSI或VDI等场景时，通常能达到比较好的数据缩减比；但是，对于视频等非结构化数据，压缩功能几乎起不了作用。</p><h1 class=pgc-h-arrow-right>存储容量有哪些购买方式？</h1><p>供应商和购买方的立场不同，通常采用多种度量方式销售或购买分布式存储。供应商在兼顾商务竞争力的前提下，总是选择对自身有利的商业模式；企业用户期望在满足应用需求的前提下，兼顾降低总拥有成本。目前分布式存储的授权/购买模式主要有：存储节点CPU颗数、设备裸容量、设备可得容量。</p><div class=pgc-img><img alt="深度观察 | 可得容量：是时候转变分布式存储购买方式了" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a2b3311f1a0c4a129d3e35acda2175b0><p class=pgc-img-caption>分布式存储各类商业模式</p></div><p>例如VMware vSAN及其他依赖vSphere虚拟化平台的超融合产品，按存储系统管理的节点CPU个数进行软件授权，这种度量方式延用于VMware的vSphere虚拟化平台，因为这些产品绑定vSphere仅以超融合的方式销售，因此按CPU授权是其最简单的一种方式。</p><p>由于发展早期的分布式存储产品，大多数采用多副本技术进行数据冗余保护，即一份原始数据存多份副本，其最大问题是存储利空间用率低，甚至低于传统集中式存储。大多厂商采用了裸容量软件授权+硬件节点方式，或将裸容量软件License作为隐性成本叠加进硬件盒子里，不作为显性销售项。但这种模式最大的问题是，各存储厂商采用的冗余保护机制、数据缩减能力不同，同样配置的物理存储介质，能为用户提供的实际可得容量差异很大。如下图所示：</p><div class=pgc-img><img alt="深度观察 | 可得容量：是时候转变分布式存储购买方式了" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e1ee28c4b3d44b679e17baee1cd07eb4><p class=pgc-img-caption>按裸容量购买，用户获得的可得容量不一致</p></div><p><strong>总起来讲，裸容量购买方式可能存在如下问题：</strong></p><ol start=1><li>所购非所得：难以准确计算比对可得容量，用户不能获得最佳总拥有成本的方案。</li><li>难以精准投资：购买实物与真实需求可能不匹配，造成容量不足或冗余浪费风险。</li><li>增加采购成本：用户的业务部门、IT部门、采购部门难以统一语言，业务所需实际存储数据量没有直接作为采购需求，规划和采购复杂，增加时间和人力成本。</li></ol><p>有没有一种以客户为中心、从客户需求出发的容量购买方式呢？保障满足容量需求和应用性能SLA（服务等级协议）的存储“可得容量”商业模式应运而生。</p><h1 class=pgc-h-arrow-right>企业为什么采用可得容量购买存储？</h1><div class=pgc-img><img alt="深度观察 | 可得容量：是时候转变分布式存储购买方式了" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d15d1e987944c38b2898d7a8641d6ba><p class=pgc-img-caption>按可得容量购买，以需求为出发点</p></div><p>如上图所示，可得容量采购方式，用户购买需要的可得容量授权和存储设备，有如下优点：</p><ol start=1><li>容量保障：厂商提供可得容量每TB软件授权，通过软件License直接进行容量保障，容量风险转移至存储厂商，用户所买即所得。</li><li>精准投资：当前用多少买多少，后续弹性扩容按需购买。拥有高存储空间利用率的存储产品进一步为用户节省硬件、运维成本，从而降低总拥有成本。</li><li>简化采购流程：业务部门（我知道有多少业务数据量）、IT部门（我知道要部署多少容量软件与硬件）、采购部门（我知道要买多少容量软件与硬件）统一语言，无需复杂的存储采购规划。</li></ol><p>可得容量购买方式如何帮助企业降低总拥有成本呢？</p><p>以华为OceanStor D系列分布式存储为例。华为在2019年面向全球该产品8.0版本后，顺应用户需求，一并推出了可得容量销售模式。</p><p>不同于部分存储厂商按裸容量授权模式中提供眼花缭乱的高数据缩减比、或叠加复杂条件的容量保障条款方式，OceanStor D系列通过可得容量License直接对可存入数据量进行保障，让企业用户“所买即所得”，透明投资。在容量换算上，华为可得容量均采用二进制转换机制，与存储系统实现保持一致，但在销售项、管理界面显示上遵循Windows用户使用习惯，采用“TB”显示。</p><p>基于同等数据存储需求（性能、容量），在分布式块存储的主要适用场景VSI（虚拟服务器架构）、VDI（虚拟桌面架构）与数据库，以某采用裸容量授权的开源二次开发产品和采用可得容量授权方式的华为分布式存储为例，以用户实际数据存储量为输入，购置成本考虑容量授权和存储节点，并假设单位硬件成本一致；运维成本考虑三年标准维护服务、机房空间、电费和制冷。在这个简化的模型下，从如下图可以看出可得容量采购方式可以帮助企业获得不同程度的总拥有成本降低。</p><p><br></p><div class=pgc-img><img alt="深度观察 | 可得容量：是时候转变分布式存储购买方式了" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8c6dc43d00944138bd45f354c07373e7><p class=pgc-img-caption>可得容量采购方式帮助用户降低TCO</p></div><p>在企业数据中心，分布式存储广泛适应于海量多样性数据存储场景，例如虚拟化/云资源池、大数据分析/AI、HPC和备份归档等，这些场景数据量大、类型多样，通常需要存储进行灵活、大规模扩展。采用“可得容量”购买模式，更能适配“按需”采购使用诉求，能真正为企业用户带来收益。众多企业用户在分布式存储的采购中已由传统的买“盒子”（裸容量）转向买“可得容量”的方式。中国移动在2019年的分布式存储产品集中采购中，已大规模基于可得容量招标；中国电信、众多省级政务云、警务云项目也均采用可得容量的模式购买分布式存储。因为这种采购方式更符合企业用户自身的利益。</p><p>所以，马上告诉供应商你的“可得容量”需求吧！</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'观察','时候','转变分'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>