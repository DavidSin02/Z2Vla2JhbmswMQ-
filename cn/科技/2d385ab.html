<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Python编程快速上手让繁琐工作自动化-生成随机的测验试卷文件 | 极客快訊</title><meta property="og:title" content="Python编程快速上手让繁琐工作自动化-生成随机的测验试卷文件 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/8ec6b5a6-e1c3-44ae-8ccc-0550da636710"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2d385ab.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2d385ab.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2d385ab.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2d385ab.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2d385ab.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2d385ab.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2d385ab.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2d385ab.html><meta property="article:published_time" content="2020-10-29T21:01:13+08:00"><meta property="article:modified_time" content="2020-10-29T21:01:13+08:00"><meta name=Keywords content><meta name=description content="Python编程快速上手让繁琐工作自动化-生成随机的测验试卷文件"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/2d385ab.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Python编程快速上手让繁琐工作自动化-生成随机的测验试卷文件</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><div class=pgc-img><img alt=Python编程快速上手让繁琐工作自动化-生成随机的测验试卷文件 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/8ec6b5a6-e1c3-44ae-8ccc-0550da636710><p class=pgc-img-caption></p></div><h1>需求描述</h1><blockquote><p>假如你是一位地理老师，班上有 35 名学生，你希望进行全国的一个小测验。不妙的是，班里有几个坏蛋，你无法确信学生不会作弊。你希望随机调整问题的次序，这样每份试卷都是独一无二的，这让任何人都不能从其他人那里抄袭答案。当然，手工完成这件事又费时又无聊。好在，你懂一些 Python。</p></blockquote><h1>需求分析</h1><p>程序用到了文件的操作：打开、写入、关闭，和随机数模块以及随机打乱的方法。</p><ol><li>首先要有一个字典，包含所有省份和对应的省会。</li><li>创建 35 份不同的测验试卷。</li><li>为每份试卷创建所有包含所有省份的多重选择题，次序随机。</li><li>为每个问题提供一个正确答案和 3 个随机的错误答案，次序随机。</li><li>将测验试卷写到 35 个文本文件中。</li><li>将答案写到 35 个文本文件中。</li></ol><h1>代码展示</h1><pre>import random#创建35份试卷，问下列省份的省会是哪里，每份试卷的问题的顺序都不一样，防止抄袭。#包含省份和省会的字典capitals = {'湖南':'长沙', '湖北':'武汉', '广东':'广州', '广西':'南宁', '河北':'石家庄', '河南':'郑州', '山东':'济南', '山西':'太原', '江苏':'南京', '浙江':'杭州', '江西':'南昌', '黑龙江':'哈尔滨', '新疆':'乌鲁木齐', '内蒙古':'呼和浩特', '云南':'昆明', '贵州':'贵阳', '福建':'福州', '吉林':'长春', '安徽':'合肥', '四川':'成都', '西藏':'拉萨', '宁夏':'银川', '辽宁':'长春', '青海':'西宁', '甘肃':'兰州', '陕西':'西安', '台湾':'台北', '北京':'北京', '上海':'上海', '天津':'天津', '重庆':'重庆', '香港':'香港', '澳门':'澳门'}#创建35份试卷,每次循环就会生成一份试卷。for quizNum in range(35): # 创建问卷文件和答案文件 quizFile = open('试卷%s.txt' % (quizNum + 1), 'w', encoding='utf-8') answerFile = open('答案%s.txt' % (quizNum + 1), 'w') #写入试卷的头部 quizFile.write('姓名:\t\t\t\t日期:\n\n') quizFile.write('\n\n') #随机打乱省份的顺序,使每份试卷的问题顺序都不一样 allProvinces = list(capitals.keys()) random.shuffle(allProvinces) #开始循环设置答案选项，多少个省份就有多少道问题。 for questionNum in range(len(capitals)): #获取正确答案和其他三个错误答案 #这里的正确答案就是此次循环到的省份对应的省会。 correctAnswer = capitals[allProvinces[questionNum]] #这里的错误答案就是随机获取除此次循环对应省份的省会之外的3个省会即可。 allCapitalList = list(capitals.values()) #删除本次循环省份的省会 del allCapitalList[allCapitalList.index(correctAnswer)] #在已经删除掉正确省会的列表中随机选取三个省会 wrongAnswers = random.sample(allCapitalList, 3) #将错误答案和正确答案的列表相加获得本次循环（本题）的4个回答选项的一个列表。 answerOptions = wrongAnswers + [correctAnswer] #随机打乱生成的回答选项的顺序,否则正确答案都是第四个选项（D） random.shuffle(answerOptions) #写入问题到试卷文件 quizFile.write('{}. {}的省会是哪里？\n'.format(questionNum + 1, allProvinces[questionNum])) #开始写入每题的四个选项,每题循环4次 for i in range(4): quizFile.write(' {}. {}\n'.format('ABCD'[i], answerOptions[i])) quizFile.write('\n') # 将正确回答写入答案文件 answerFile.write('{}. {}\n'.format(questionNum + 1, 'ABCD'[answerOptions.index(correctAnswer)])) #设置为每个试卷的问题和答案就可以关闭这个试卷文件和答案文件 quizFile.close() answerFile.close()</pre><div class=pgc-img><img alt=Python编程快速上手让繁琐工作自动化-生成随机的测验试卷文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cd8770ae62c4465e90a47feeec7614c5><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Python编程快速上手让繁琐工作自动化-生成随机的测验试卷文件 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5c4fdd2a0fc94219b0ea995757394168><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Python编程快速上手让繁琐工作自动化-生成随机的测验试卷文件 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6f74c57fd8434f698c43c08d4528ffd1><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Python编程快速上手让繁琐工作自动化-生成随机的测验试卷文件 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/986070c93e5a4119b11672233e4aab75><p class=pgc-img-caption></p></div><h1>执行结果</h1><p>生成的试卷和答案。</p><div class=pgc-img><img alt=Python编程快速上手让繁琐工作自动化-生成随机的测验试卷文件 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9b0c583823154212a8b7716f3d3ba617><p class=pgc-img-caption></p></div><p>结果检查：</p><div class=pgc-img><img alt=Python编程快速上手让繁琐工作自动化-生成随机的测验试卷文件 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/dd83048aa6a04d6b8d8f2404920bacc5><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Python','编程','繁琐'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>