<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>网络IP地址知识整理大全 | 极客快訊</title><meta property="og:title" content="网络IP地址知识整理大全 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/a49819dbbfca43ab89220119d1d02e2e"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2daafc5.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2daafc5.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2daafc5.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2daafc5.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2daafc5.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2daafc5.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2daafc5.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2daafc5.html><meta property="article:published_time" content="2020-10-29T20:52:23+08:00"><meta property="article:modified_time" content="2020-10-29T20:52:23+08:00"><meta name=Keywords content><meta name=description content="网络IP地址知识整理大全"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/2daafc5.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>网络IP地址知识整理大全</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>1. IP地址分为有类和无类</p><p>1.1 简介</p><p>在我们的实现生活IP地址分为有类和无类。</p><p>有类（主类）IP地址：主要分为A、B、C类，每种类型固定的掩码。</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a49819dbbfca43ab89220119d1d02e2e><p class=pgc-img-caption></p></div><p>无类IP地址：无论哪种类型的IP地址都没有固定掩码。</p><p>1.2 什么是掩码（子网掩码）？</p><p>子网掩码不能单独存在，它必须结合IP地址一起使用。子网掩码只有一个作用，就是将某个IP地址划分成网络地址和主机地址两部分。</p><p>简单点说就像隔房间的墙，把大房间分割成一个个小房间。</p><p>2. 无类的IP地址规划</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4197e8f090804f9e8dfa4499c6710541><p class=pgc-img-caption></p></div><p>比如有类：B类网段172.16.0.0，使用自然掩码255.255.0.0</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/29528950378146419338d8149ce8740d><p class=pgc-img-caption></p></div><p>2.1 区分主类和无类的使用方式</p><p>当使用172.16.0.0主类方式划分网段。以下网络地址规划是错误（在不使用NAT情况下是错误的，NAT在后面的章节进行介绍）</p><p>因为：</p><p>172.16.4.1/16的网络地址是172.16.0.0</p><p>172.16.8.1/16的网络地址是172.16.0.0</p><p>网络地址一样172.16.0.0=172.16.0.0</p><p>所以172.16.4.1/16和172.16.8.1/16是同一网段，这两台计算机中间隔着路由器需要在不同的网段。</p><p>错误的地址规划：</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bef07152c3224dd2b5cd50b94fc04dd9><p class=pgc-img-caption></p></div><p>比如无类：172.16.0.0无类的方式划分网段。以下网络地址规划是正确；</p><p>因为：</p><p>172.16.4.1/24的网络地址是172.16.4.0</p><p>172.16.8.1/24的网络地址是172.16.8.0</p><p>网络地址不一样172.16.4.0≠172.16.8.0</p><p>所以172.16.4.1/24和172.16.8.1/24是不同网段，这两台计算机中间隔着路由器需要在不同的网段；</p><p>正确的地址规划：</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6fdc7af758e246b5b8f02736afadcf7f><p class=pgc-img-caption></p></div><p>2.2 掩码的表示方式</p><p>192.168.1.7/28表示的方式如下</p><p>• 掩码的计算公式</p><p>变量</p><p>a:掩码；</p><p>b:8的最大倍数（b决定了有多少个255）；</p><p>c:尾数（以下思维导图内容）；</p><p>计算公式</p><p>a-8*b=c</p><p>掩码的表示，对应转换，其他的掩码以此类推；</p><p>• 例子</p><p>比如掩码/20，c=20-8*2=4</p><p>a=20</p><p>b=2</p><p>c=4</p><p>b=2表示的方式有2个255；</p><p>c=4尾数为240；最后一组用0填充，255.255.240.0</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4bf4eb190d0b4f699ac3209c8f683ae2><p class=pgc-img-caption></p></div><p>2.3 网络地址计算方式</p><p>在无类地址中，网络地址转换方式；</p><p>• 计算方式1</p><p>将IP地址通过子网掩码计算出网络地址，首先将十进制的IP地址和子网掩码转换为二进制；</p><p>对IP和子网掩码，进行与运算，两个都为1时候为1，任何一个为0得出结果为0；</p><p>例如：192.168.1.7/28计算</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ca11e768cfcd4b2e934e5e0c248d28f1><p class=pgc-img-caption></p></div><p>• 计算方式2</p><p>变量</p><p>a=子网掩码-8*倍数(a小于等于8)</p><p>b=地址数</p><p>c=网络地址</p><p>公式</p><p>b=2^(8-a)</p><p>c=b*整数倍 (c为最接近主机地址的网络地址)</p><p>c≤主机地址 （b为最接近主机地址）</p><p>• 例如1：</p><p>192.168.1.7/28</p><p>a=28-24=4</p><p>b=16</p><p>c≤0</p><p>所以网络地址为192.168.1.0</p><p>• 例如2：</p><p>192.168.1.101/22</p><p>a=22-16=6</p><p>b=2^(8-6)=4</p><p>c≤1（192.168.1.0的第三组为1）</p><p>c=0*4=0</p><p>所以网络地址为192.168.0.0</p><p>2.4 主机数计算</p><p>在一个网段中能够支持多少个主机使用呢？下面我们来计算下主机数。在主机数的计算中我们要注意减去2个地址，这两个地址分别是网络地址和广播地址。</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b33a749e4fb945a98a4c57556467d705><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/73a6509a161449b9bff2eccbb4ecf062><p class=pgc-img-caption></p></div><p>主机数为：</p><p>2^n</p><p>可用主机数为 : 2^n-2</p><p>例如192.168.1.0/24能够支持多少个主机？</p><p>2^8-2=254</p><p>所以能支持254个IP地址</p><p>例如192.168.0.0/22能够支持多少个主机？</p><p>2^10-2=1022</p><p>所以能支持1022个IP地址</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b6563a81c82d4a6b9cb35caadec0899a><p class=pgc-img-caption></p></div><p>2.5 子网数计算</p><p>a能够支持最大的主机的子网掩码</p><p>b能够支持最小的主机的子网掩码</p><p>2^(b-a)=子网数</p><p>比如192.168.1.0/24能够分配多少个/27子网掩码的网段？</p><p>2^(27-24)=8</p><p>能够支持8个子网数。</p><p>2.6 案例</p><p>某公司分配到C类地址201.222.5.0。假设需要20个子网，每个子网有5台主机，我们该如何划分？</p><p>1. 首先要5台主机</p><p>2^n-2>5</p><p>所以n最小取值为3，掩码为29</p><p>2. 能够支持多少个子网？</p><p>首先C类地址那掩码为/24位，然后进行无类掩码/29位，计算2^(29-24)=32</p><p>能够支持32个子网数。</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8060081b85124f3aa78312cdd1ca8e58><p class=pgc-img-caption></p></div><p>2.7 无类地址进行划分</p><p>例子:B类地址子网变长</p><p>B类地址从原来的/16变为/24，掩码进行变长，这时候使用的是VLSM（可变长的子网掩码）；</p><p>掩码边长使网段的主机数减少，但增加了子网数量；</p><p>举个例子，在现实生活中买100平米的房子，大多数人都会将房子分割成一个个功能区房间，餐厅，厨房等，虽然每个房间面积变小但是功能区分割清楚。这个跟我们IP地址进行VLSM意思一样，在/16的时候地址空间是很大，但是没法进行细分各个网段的功能；</p><p>掩码 主机数 子网数</p><p>/16 65534 1</p><p>/24 254 256</p><p>比如172.16.0.0/16变长为/24这时候，地址范围、网络地址、广播地址产生变化，可以将容纳更多的网段，但减少每个网段承载的主机数量。</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1f2f66f898454754ae78756499a1b2e8><p class=pgc-img-caption></p></div><p>例子:C类地址子网变长</p><p>C类地址从原来的/24变为/29，掩码进行变长，这时候使用的是VLSM（可变长的子网掩码）；</p><p>掩码边长使网段的主机数减少，但增加了子网数量；</p><p>举个例子，在现实生活中买50平米的房子，虽然房子小，但是还是会将房子分割成一个个功能区房间，餐厅，厨房等，虽然每个房间面积变小但是功能区分割清楚。在/24的时候地址空间是虽然不大，但是没法进行细分各个网段的功能；</p><p>掩码 主机数 子网数</p><p>/24 254 1</p><p>/29 6 32</p><p>比如192.168.5.0/24变长为/29这时候，地址范围、网络地址、广播地址产生变化，可以将容纳更多的网段，但减少每个网段承载的主机数量。</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/8139db73385247628ffae4ed099aeb30><p class=pgc-img-caption></p></div><p>2.8 子网掩码变长路由汇总</p><p>子网掩码变长以后使路由更容易进行汇总，比如右侧有多个192.168.1.x的网段，这时候只需要发布一条192.168.1.0/24路由就可以进行汇总，而且大大降低了地址的浪费，在后面讲到路由和现网地址规划内容就可知道汇总的重要性。</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e091f4051ff34b3bbd02d8f5c5b46567><p class=pgc-img-caption></p></div><p>2.9 CIDR的使用</p><p>在现实网络中路由条目数决定了设备的运行效率，就跟电脑开应用程序一样，太多的运用程序占用大量的内容，使机器变慢。路由也是一样会占用设备的内存，路由条目数越多设备运行越慢。所以有效的路由汇总可以大大的减少设备的运行压力。</p><p>比如以下右侧的有3条C类路由，这时候在通告个周围的邻居的时候，正常情况下要3条路由。这时候如果使用CIDR将3条路由汇总为1条路由发布，可以减少设备的压力。</p><div class=pgc-img><img alt=网络IP地址知识整理大全 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f6dd96962cb440e09a8acf16d37b8a89><p class=pgc-img-caption></p></div><p>2.10 生活小实验，网段测试</p><p>实验1：</p><p>1.设备</p><p>两台电脑A和B。（电脑要关闭防火墙）</p><p>2.配置</p><p>配置A的IP地址:192.168.1.1/24</p><p>配置B的IP地址:192.168.1.130/24</p><p>3.步骤</p><p>然后在A电脑运行输入cmd</p><p>在窗口下ping 192.168.1.130</p><p>这时候是能够通的。</p><p>实验2：</p><p>1.设备：</p><p>两台电脑A和B。（电脑要关闭防火墙）</p><p>2.配置</p><p>配置A的IP地址:192.168.1.1/25</p><p>配置B的IP地址:192.168.1.130/25</p><p>3.步骤</p><p>然后在A电脑运行输入cmd</p><p>在窗口下ping 192.168.1.130</p><p>这时候是不能通的。</p><p>总结：正常情况下处于同一网段的设备能通讯，不同网段的设备不能通讯（通过三层设备网关能通）</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'网络','IP地址','知识'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>