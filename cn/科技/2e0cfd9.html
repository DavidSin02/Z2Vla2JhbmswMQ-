<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>机床CNC基础知识 | 极客快訊</title><meta property="og:title" content="机床CNC基础知识 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/dfic-imagehandler/aae5d815-8512-4163-a2d6-fdbc5b94fd4d"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2e0cfd9.html><meta property="article:published_time" content="2020-10-29T20:51:48+08:00"><meta property="article:modified_time" content="2020-10-29T20:51:48+08:00"><meta name=Keywords content><meta name=description content="机床CNC基础知识"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/2e0cfd9.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>机床CNC基础知识</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p><strong>机床CNC基础知识</strong></p><p><strong>一． CNC机床与CNC系统</strong></p><p>CNC的含义是计算机数字控制。</p><p>1． CNC机床</p><p>⑴．金属切削用</p><p>孔加工、攻丝、镗削、铣削、车削、切螺纹、切平面、轮廓加工、平面磨削、外圆磨</p><p>削、内圆磨削等。</p><p>⑵．线电极切割机。</p><p>⑶．冲床、步冲、冲压、金属成型、弯管等机床。</p><p>⑷．产业机器人。</p><p>⑸．注塑机。</p><p>⑹．检测、测量机。</p><p>⑺．木工机械。</p><p>⑻．特殊材料加工机械：如加工石材、玻璃、发射性矿料等。</p><p>⑼．特种加工机械激光加工机、气体切割机、焊接机、制图机、印刷机等。</p><p>随着电子技术和计算机技术以及IT技术的发展，目前，这些机床与加工设备都可用数值计算机用数值数据进行控制，称为CNC控制。</p><div class=pgc-img><img alt=机床CNC基础知识 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/aae5d815-8512-4163-a2d6-fdbc5b94fd4d><p class=pgc-img-caption></p></div><p>2． CNC系统</p><p>CNC系统的含义是计算机数值控制系统。</p><p>CNC系统的基本配置</p><p>机床的CNC控制是集成多学科的综合控制技术。</p><p>一台CNC系统包括：⑴．CNC控制单元（数值控制器部分）。⑵．伺服驱动单元和进给伺服电动机。⑶．主轴驱动单元和主轴电动机。⑷．PMC（PLC）控制器。⑸．机床强电柜（包括刀库）控制信号的输入/输出（I/O）单元。⑹．机床的位置测量与反馈单元（通常包括在伺服驱动单元中）。⑺．外部轴（机械）控制单元。如：刀库、交换工作台、上下料机械手等的驱动轴。⑻．信息的输入/输出设备。如电脑、磁盘机、存储卡、键盘、专用信息设备等。⑼．网络。如以太网、HSSB（高速数据传输口）、RS-232C口等和加工现场的局域网。</p><p>CNC单元（控制器部分）的硬件实际上就是一台专用的微型计算机。是CNC设备制造厂自己设计生产的专门用于机床的控制的核心。下面的几张图表示出其基本硬件模块；基本的控制功能模块和一台实际的控制器硬件。</p><p><strong>二．机床的运动座标及进给轴</strong></p><p>一台机床有几个运动轴执行加工时的切削进给，因此称其为进给轴。机床开机后以机床零点为基准建立了机床的机械座标系（直角座标系）。每个轴对应于其中的一个相应的座标。轴有直线运动的，有回转运动的。国际标准ISO对座标轴的方向与名称是有规定的。如下图。</p><p>根据规定，按直角座标系右手法则定义各座标轴，Z轴正方向一般为机床主轴的方向。X、Y、Z定义为直线运动轴；U、V、W为分别平行于X、Y、Z的直线运动轴；A、B、C为回转运动轴，分别围绕X、Y、Z运动，其正方向符合右手螺旋规则。</p><p>CNC控制时用程序命令X、Y、Z、U、V、W、A、B、C等指令被控的座标轴，用数值指令其运动的距离，正负号指令移动方向，F指令运动速度。例如：</p><p>G01 X120 Y-300 F1000；</p><p>意义是G01：X轴与Y轴协调运动，加工一条直线；X120，Y-300：X轴走120mm；Y轴走－300mm；F：进给速度为1000mm/分。如有CNC精加工需求，添加微信来图报价：16620722077</p><div class=pgc-img><img alt=机床CNC基础知识 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/94d7c082-91eb-47ad-9af0-c1c8d5885360><p class=pgc-img-caption></p></div><p><strong>三．CNC插补与位置控制指令的输出</strong></p><p>1．轨迹运动的插补计算--插补器</p><p>CNC对机床的座标运动进行控制。在控制原理上这是位置量控制系统。需要控制的是：几个轴的联动，运动轨迹（加工轮廓）的计算：最重要的是保证运动精度和定位精度（动态的轮廓几何精度和静态的位置几何精度）；各轴的移动量（mm）；移动速度（mm/分）；移动方向；起/制动过程（加速/降速）；移动的分辨率。</p><p>现代的CNC系统是纯电气的控制系统。进给轴的移动是由伺服电动机执行的。通常，一个进给轴由一个伺服电动机驱动。电动机由伺服放大器供给动力。伺服放大器的工作由CNC的插补器的分配输出信号控制。</p><p>CNC对机床进给轴的控制，是执行事先编制好的加工程序指令。程序指令是按零件的轮廓编制的加工刀具运动轨迹（如上图）。程序是根据零件轮廓分段编制的。一个程序段加工一段形状的轮廓。轮廓形状不同，使用不同的程序指令（零件轮廓形状元素）。例如：G01---直线运动指令；</p><p>G02---顺时针圆弧运动指令；G03---逆时针运动圆弧指令；G32（G33）---螺纹加工……</p><p>但是，在一段加工指令中，只是编写此段的走刀终点。如：下面一个程序段要加工X-Y平面上一段圆弧，程序中只指令了终点的座标值X100；Y-200：</p><p>G90 G17 G02 X100. Y-200. R50. F500；</p><p>此段的起点已在前一段编写，就是前段的终点。因此，加工此段时，如上图所示，NC控制器即计算机处理器只知道该段的起点和终点座标值。段中的刀具运行轨迹上其它各个点的座标值必须由处理器计算出来。处理器是依据该段轮廓指令（G02）和起点和终点的座标值计算的，即必须算出希望加工的工件轮廓，算出在执行该段指令过程中刀具沿X轴和Y轴同时移动的中间各点的位置。</p><p>X轴和Y轴的合成运动即形成了刀具加工的工件轮廓轨迹。</p><p>除此之外，在程序中必须指令运动速度（加工速度），如：F500（mm/min）。在位置计算时，要根据轮廓位置算出对应点的刀具运动方向速度。此例中是分别算出沿X轴各点的对应速度和沿Y轴各点的对应速度。</p><p>实现上述运算的机构称之为插补器。</p><p>插补器每运算一次称为一个插补周期，一般为8ms；计算复杂型面的插补器使用高速CPU，插补周期可缩短，目前可达2ms。一个程序段分多个插补周期，取决于轮廓形状和轮廓尺寸。</p><p>执行上例程序段的指令是进行顺时针圆弧的插补。是执行以圆弧计算公式为基础的插补子程序。计算时的判断条件是：不断地执行刀具沿X轴向和Y轴向的进给，每进给一个脉冲当量即判断是否到达终点，是否超差，计算方向是顺时针，进给当量是1μm/脉冲，速度是500mm/min。</p><p>CNC的系统控制软件中包括了多个插补子程序，工件形状的每一种几何元素均对应着刀具的一种几何运动，因此就要求CNC有相应的插补子程序。这就是CNC系统控制软件中控制座标轴运动的G代码。如：G01，G02，G03，G32，G33，G05，G08……。还有一些子程序是考虑加工工艺的要求控制刀具运动的。G代码越多，CNC的功能也就越强。用这些G代码编制零件的加工程序。</p><p>CNC的系统控制软件是用汇编语言编制的。不同类型的机床使用不同的CNC系统。当然，这些系统的控制软件是完全不同的。</p><p>插补器的硬件是CNC的主CPU。当然，还有用纯硬件的插补器。</p><div class=pgc-img><img alt=机床CNC基础知识 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/1767d5b6-5266-48e8-986c-3bdbaa95a134><p class=pgc-img-caption></p></div><p>2．插补脉冲的分配输出</p><p>经过插补运算，算出了加工所要求的工件形状在同一时间周期（插补周期）内各个座标轴移动的距离（移动量），它是以脉冲数表示的，如：在本插补周期内X轴进给25个脉冲；Y轴进给50个脉冲，分别送给对应的座标轴，作为相应轴的位置移动指令。脉冲序列有正负号，指令对应轴的运动方向；脉冲序列按一定的频率输出，指令该轴的运动速度。这一装置叫做脉冲分配器为了防止产生加工运动的冲击、提高加工精度和光洁度，在脉冲分配给各进给轴之前，对进给速度都进行加/减速。如下图所示，CNC可实现两种加/减速控制：插补前加/减速和插补后加/减速。</p><p>插补后通常用直线型或指数型加减速方法：指数型加/减速的速度变化比较平滑，因而冲击小，但是速度指令的滞后较大。相反，直线型加减速的速度变化迅速，时间常数设得较小时会造成冲击，引起机床的震动。但是，加工出的零件轮廓可能与裎编的轮廓接近。</p><p>插补前用直线型加减速方法，这样可以减小加工的形状误差。除此之外，为了提高加工精度和加工速度，还开发了预读/预处理多个程序段、精细加减速等CNC软件。</p><p>3．加工刀具的偏置及补偿</p><p>上述插补的位置脉冲，是按工件轮廓编制的程序计算出来的，即刀具中心点的运行轨迹是工件的轮廓。考虑到刀具有半径和不同的长度，实际加工时刀具中心不能按此轨迹行进，必须根据实际使用的刀具，计入其实际半径和长度，由CNC计算出实际刀具的中心轨迹，按此轨迹控制刀具的移动。此功能叫做“刀具的偏置及补偿”。</p><p>⑴．刀具半径偏置，补偿如下图所示，实际的刀具中心轨迹与按照零件轮廓尺寸编制的CNC加工程序轨迹偏移了一个刀具半径的尺寸。在编程时，用G指令（G41，G42）告诉CNC的插补器执行刀具半径的偏置计算，插补器即按照实际的刀具半径计算出刀具的中心轨迹，以此控制刀具的行进。就是说，上述脉冲分配器输出的给各个进给轴的脉冲数，是插补的零件轮廓偏移了一个刀具半径后的刀心轨迹的进给脉冲数。每个轴的补偿脉冲分别送给相应的进给轴。</p><p>实际刀具的半径值在加工前必须输入至刀具补偿存储器。刀具补偿存储器可同时存储多把刀具的几何尺寸（半径值）。加工中用哪一把刀具，由程序用刀具号指定，如：T102。根据程序中指令的刀号，CNC插补器找到实际的刀具半径值执行计算。</p><p>G41为左刀补：沿着刀具行进的方向看，在工件的左侧加补偿；G42：沿着刀具行进的方向，在工件的右侧加补偿。</p><p>加工前，用一把刀具的长度作为基准，将实际加工中使用的各把刀具先测量好其与基准刀具刀长的正、负差值，将这一差值与上述的刀具半径值一样按刀号输入刀具补偿存储器。编制加工程序时，编入刀具号。加工的开始，用基准刀具的刀尖对刀。CNC执行加工程序时，根据程序中指令的刀号找出刀长的差值，按刀长差值的符号伸长或缩短，进行补偿。上图是铣床刀具长度的补偿，只有Z向补偿。对于车床，有X和Z两个方向。如下图所示。</p><p>在铣床类的CNC系统中，用G43和G44指令刀具的长度补偿，G43为正刀补，即将刀具补偿值加到程序指令的终点座标值上。G44为负刀补，即由程序指令的终点座标值减去刀具的补偿值。</p><p>加工复杂形状的零件（如模具）需要用多个座标轴同时移动的多座标插补器。当然也必须用多座标（多维）的刀具补偿。</p><p><strong>四．运动误差的补偿</strong></p><div class=pgc-img><img alt=机床CNC基础知识 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/cbcbc352-ee35-4402-b540-93b59ed92355><p class=pgc-img-caption></p></div><p>1．运动轴反向时的间隙补偿（失动量补偿）</p><p>在机床工作台的运动中从某一方向变为相反方向的反向时刻，会由于滚珠丝杠和螺母的间隙或丝杠的变形而丢失脉冲，就是所说的失动量。</p><p>在机床上打表实测各轴的反向移动间隙量，根据实测的间隙值用参数设定其补偿量------补偿脉冲数（1μm/脉冲）。这样，在工作台反向时、执行CNC的程序指令的移动前，CNC将补偿脉冲经脉冲分配器、按CNC事先设定的速率输出至相应轴的伺服放大器，对失动量补偿。</p><p>反向间隙值与工作台的移动速度有关，设定相关参数，系统可以对G00（快速移动）和进给速度（F）下的间隙分别进行补偿。</p><p>2．螺距误差补偿</p><p>机床使用的滚珠丝杠，其螺距是有误差的。CNC可对实测的各进给轴滚珠丝杠的螺距误差进行补偿。通常是用激光干涉仪测量滚珠丝杠的螺距误差。测量的基准点为机床的零点。每隔一定的距离设置一个补偿点，该距离是用参数设定的。当然，各轴可以任意设定，比如：X轴的行程长，设为50mm补一个点，Z轴行程短或是要求移动精度高，设为20mm补一个点……。</p><p>补偿值根据实际测量的滚珠丝杠误差确定，其值（补偿脉冲个数）按照补偿点号（从基准点即机床零点算起）设入CNC的螺距误差补偿存储器，如下图所示。通常，一个补偿脉冲的当量是一个μm。补偿值可正、可负。在进给轴运动时，CNC实时检测移动距离，按照这些事先设定的参数值在各轴的相应补偿点给各轴分别输出补偿值，使相应轴在CNC插补输出脉冲的基础上多走或少走相应的螺补脉冲数。</p><p>近来，CNC系统开发了按工作台移动方向的双向螺距误差的补偿功能。进一步提高了进给轴的移动精度。</p><p>五．信息、数据的输入、输出控制</p><p>CNC的输入信息与数据包括加工程序，功能参数，系统参数，机床参数，伺服控制参数，主轴控制参数，PMC参数，刀具数据，Macro(宏)变量，座标系，专用软件数据……这些信息与数据由信息输入/输出操作设备经相应的数据口输入或输出。</p><p>1．数据的输入、输出设备CNC系统目前常用的I/O设备有：⑴.键盘：为了减小安装尺寸，通常是专门设计的，称为MDI 键盘，向CNC输入信息与数据，用于操作CNC单元。⑵.机床操作面板：操作工操作机床的各种动作。⑶. PC机。⑷.软磁盘驱动器(Handy file)：FANUC系统的专用设备。⑸. Panel- i：FANUC系统的专用设备。 ⑹. Flash 存储卡等等。</p><p>每一种设备都有相应的驱动与控制程序。</p><p>2．数据的输入、输出口</p><p>CNC控制器上配有几种数据传送口，用于与外界数据设备的连接。⑴. RS-232C口：连接PC机、软磁盘驱动器等有串行通讯口的设备。⑵. HSSB：高速串行数据总线，用于与PC机或Panel- i连接，高速传送数据。⑶. I/O Link：是基于RS-485的数据口，日本的工业企业标准，用于传送机床强点控制的I/O信号信息。⑷.以太网。⑸.现场局部网络。关于⑷和⑸，下面专门叙述。</p><p>3． 显示器</p><p>用来显示系统的操作与运行的现状与结果，显示加工仿真图形。目前的FANUC系统已经全部使用LCD显示器。这种显示器体积小，彩色显示器的色彩丰富，加工件的仿真非常逼真。</p><p>六．网络及CNC加工的集中控制</p><p>机械加工厂的网络一般可分3级：厂级网；加工单元级网和下级的现场网厂级和加工单元级网目前多用以太网。加工现场网络，FANUC系统可配：Profibus-DP；Device</p><p>net；FL-Net。选用不同的网路需配不同的网路板</p><p>1．以太网</p><p>FANUC CNC-16i/18i/21i，0i-C可配3个不同用途的以太网口：内装于CNC 主板的以太网口，网板和网卡，其中，网卡为即用即插，为临时用途，如调试梯形图；调试机床的进给伺服特性和主轴特性……。</p><p>网板是在系统上增加的插板，上有大容量半导体存储器（最大1GB），代替硬磁盘。主要用于与大容量数据设备（如PC机）连接，批量传送数据与信息，如用于模具加工。内装于主板的以太网口可用於单元控制，与单元控制主机连接。</p><p>2．现场网</p><p>现场网络用于与其他设备批量传送I/O控制信号信息。如，在自动生产线上与其它专用加工机械、装料/卸料机械、物料搬运机械、清洗机械等的信息（信号）联系。根据要求或地域可选Profibus-DP，Device-net或FL-net。FANUC生产了这些网路板，并开发了相应的配套软件。</p><p>3． CNC加工的集中控制</p><p>现代的机械加工工厂（如汽车发动机制造厂）使用CNC机床不只是使其单机运行，是将多台CNC机床和有关的专用设备如上/下料装置，物料传送机械，清洗机，翻转机，测量机，专用加工机等连成流水生产线。对这些机械用网路连接起来，用计算机实施生产的集中管理。整个工厂的生产集中管理的基础是加工单元的集中控制。</p><p>加工单元控制器：由一台主计算机集中控制多台CNC机床的运行。主机与CNC系统用以太网连接。</p><p>为实现对多台CNC机床的集中控制，控制加工单元的主计算机必须能获取各CNC机床的各种信息与数据，包括：①.机床的运行状态：是处于加工运行还是待机；是否有报警；加工哪一个程序？哪一个程序段？是否结束了此次的加工任务？…….②. CNC与机床的信息与数据，如：CNC存储的加工程序；机床正在运行的加工程序；CNC存储的刀具信息；主轴上的刀具号；已加工的工件数；加工时间；程序的运行时间；CNC参数；伺服参数；主轴参数；机床参数；PMC参数；PMC的梯形图；宏变量；报警号与信息等等。就是说，主计算机能够实时监视各CNC机床的运行</p><p>状况，了解对机床进行维护的信息。</p><p>另外，主计算机还必须：①.对各机床进行必要、有时是实时的控制。如，机床的暂停，急停；②.信息与数据的下传，如：加工运行指令；要求的加工工件数；加工程序；刀具信息；CNC参数；伺服参数；主轴参数；机床参数；PMC参数；PMC的梯形图；宏变量等等。③. CNC机床的维护与维修指导信息。</p><p>最终用户可在单元控制的主计算机上自行开发集中控制软件（包括生产管理，计划调度，加工现场监控，故障诊断等软件）。这些应用软件的开发基础，必须使用CNC系统的生产厂家提供的CNC信息库与通讯软件包。FANUC为用户开发了用于此目的的工具软件FOCAS（FANUC Open CNC Application Software）。利用该软件包提供的指令，用户可以实现主计算机与CNC的通讯，上/下传送上面所述的信息与数据。</p><p>为了方便用户，FANUC还开发了单元控制器----i-CELL作为商品。下面的图是i-CELL的功能框图。如果CNC使用的PMC是SB7，还可以传送与显示（在主机上）被控机床的梯形图。</p><p>七．PMC和机床的强电控制</p><p>机床的开机、停机；主轴的起动、停止；加工的开始、结束、中停；润滑、冷却的开、关；工件的装、卸控制；找刀、换刀；工作台交换；辅机的起、停等这些机床动作，都是由接触器、继电器、阀执行的。指令这些动作的控制信号相互间都有一定的顺序或时序，相互之间是互锁的。</p><p>普通机床因动作简单，由电气元、部件（按钮，按键，触点，线圈等）按继电逻辑的原理图硬接线实现的，运行起来不可靠。CNC机床采用PMC逻辑控制。PMC其实就是PLC（可编程逻辑控制器。）但是因为FANUC的机床控制PLC是专门用于控制机床的，其中有多条专用指令，故而叫做PMC-----可编程机床控制器。而且，PMC的程序格式FANUC采用的是梯形图。梯形图的显示格式非常类似于机床的继电逻辑图，直观易懂，易编，易操作。</p><p>CNC一启动，PMC程序即运行。在CNC执行加工程序时，PMC与加工程序并行运行。PMC时刻扫描机床或机床操作者的输入信号和强电柜控制信号的执行结果。</p><p>执行上述机床上的各种动作，在加工程序中需要编制控制指令：M（辅助功能），T（换刀），</p><p>B（第二辅助功能）。</p><p>1.信号及其地址</p><p>PMC把信号根据其作用部位及作用方向分为4种</p><p>X：由机床输入至PMC。如：操作员由机床操作面板上输入的按钮、按键、开关信号。</p><p>Y：由PMC输出至机床的使机床强电动作的信号。如：主轴的正、反向；润滑、冷却的</p><p>开/关信号。PMC处理梯形图程序输出这些信号使机床动作。</p><p>G：PMC输出至CNC的信号（CNC输入）。</p><p>这些信号中有些是启动CNC的一个子程序。这些子程序是CNC控制软件的一部分：</p><p>根据机床的实际动作设计好的机床的强电控制功能。如：急停（G8.4）；自动加工程序启动(G7.2)；工作方式选择（G43.0~2）另外一些信号是PMC通知CNC，使CNC改变或执行某一种运行。如：FIN（G4.3）</p><p>----是PMC通知CNC辅助功能M或换刀功能T已经结束执行。CNC接受到该信号后</p><p>即可启动下个加工程序段的执行；*SSTP（G29.6）：CNC停止主轴电机的控制信号。</p><p>F：CNC输出至PMC的信号。</p><p>其中的一些信号是反映CNC运行状态的标志，表明CNC正处于某一状态。如：</p><p>AL（F1.0）：报警状态。MV（F102）：进给轴移动中。</p><p>另一些信号是CNC响应X（经过G）后，执行某一运行的结果，用以通知PMC。</p><p>PMC收到该信号，视其具体情况，再做适当处理。</p><p>还有一些信号是加工程序指令的译码输出。如：M代码（F10~F13）；T代码</p><p>（F26~F29）。CNC将这些信号输出给PMC进行处理。</p><p>上述这些信号在梯图程序中都必须赋予地址。G和F信号的地址是由CNC的系统软件规定好的，是固定的。有一些X信号地址也由CNC规定好。CNC提供地址表。Y信号可由PMC设计人员自行指定。</p><p>X和Y信号由输入/输出模块经CNC的I/O Link口与CNC单元连接。X和Y信号的另一端经电缆线与电器元件连接。</p><p>2.内部寄存器</p><p>在编制PMC程序时，为了保存数据或信号，PMC要用到内部的一些寄存器：R，K，D，T，</p><p>C，和A。</p><p>R：中间寄存器。可任意使用。</p><p>K：保持型寄存器。存储的内容由后备电池维持。有几个存储单元已被PMC系统使用。</p><p>D：数据存储器。如存储刀具表；主轴变速的各挡速度表。</p><p>T：定时器。存储定时器时间。</p><p>C：计数器。存储计数器的预置值，计数值。</p><p>A：显示信息：存储信息字符。</p><p>3.功能指令</p><p>编制机床的PMC（PLC）控制逻辑，首先必须要弄清所控制的（要实现的）机床动作，对该动作的各个细节排出时序，即，将实现该动作的一步步的子步骤（细微动作）按先后次序列出顺序表，必要步骤还要估计出其执行时间，还要考虑各动作之间的相互关系，动作之间的互锁和解锁条件，另外要了解实现各细微动作，执行PMC指令的电器元件。PMC逻辑就是用PMC指令（语言）将这些细微动作的执行按顺序表示出来。对于顺序逻辑程序，不同的系统制造厂提供了不同的格式，常用的有：语句表和梯形图。FANUC的PMC逻辑程序用梯形图格式，特点是直观，类似于机床的继电器逻辑图，所以非常易于理解。</p><p>而且，PMC语言用了许多专用指令，称为功能指令。这样，逻辑图编得相当简洁。</p><p>FANUC PMC的功能指令约有50余条，但实际常用的也就是20条左右，如：定时器，计数器，回转指令，译码器等。下面的两张图为功能指令格式和功能指令集（部分）。</p><p>4.梯形图</p><p>5. PMC的执行</p><p>CNC开机后，CNC与PMC同时运行。若是PMC接收到机床操作者的X信号要求CNC实现某一操作，例如启动自动加工程序，在梯形图中就把该X信号送到G7.2，CNC收到该指令后，知道是执行自动循环启动子程序，即立即执行。执行过程中输出F0.5，通知PMC，CNC正处于运行加工程序状态。</p><p>如果CNC在执行加工程序时，发现程序段中有M，T等指令，即将该指令译码后以F信号地址送往PMC，例如：M代码，送到F10~F13。PMC处理（译码，顺序和互锁）后，在经某一Y地址送到强电柜，由执行元件（继电器等）执行所须的控制动作。若M指令所在的零件加工程序的程序段中有进给轴运动指令，被控轴走完要求的移动量后，还要判断PMC是否已经执行完CNC赋予（指令）的动作，因此就要求PMC在执行M，T等指令时必须返回一个完成信号FIN。CNC收到该信号时，即可读下一段，执行下一个程序段。</p><p>八．进给伺服轴控制</p><p>机床工作台（包括转台）的进给是用伺服机构驱动的，目前都是电气化的，是用伺服电动机驱动的，而且多数都是用同步电动机。电动机与滚珠丝杠直接连接（如下图），这样由于传动链短，运动损失（lost motion）小，且反应迅速，因此可获得高精度。</p><p>机床的进给伺服属于位置控制伺服系统。如下图所示，输入端接收的是来自CNC插补器、在每个插补周期内串行输出的位置脉冲。脉冲数表示位置的移动量（通常是一个脉冲为1μm------即系统的分辨率为1μm）；脉冲的频率（即在单位时间内输出的脉冲数的多少）表示进给的速度；脉冲的符号表示轴的进给方向,通常是将脉冲直接送往不同伺服轴的指令输入口。</p><p>下图只画出了一个进给轴，实际的机床有几个轴，但是控制原理都是一样的。几个轴在同一插补周期内接收到插补指令时，由于在同一时间内的进给量不同，进给速度不同，运动方向不同，其合成的运动就是曲线，刀具依此曲线轨迹运动即可加工出程序所要求的工件轮廓。</p><p>对进给伺服的要求不只是静态特性，如：停止时的定位精度、稳定度。更重要的是进给的伺服刚性好，响应性快，运动的稳定性好，分辨率高。这样才能高速、高精度地加工出表面光滑的高质量工件。</p><p>1.伺服系统的结构类型</p><p>伺服系统分为开环和闭环两种结构。</p><p>开环：</p><p>所谓开环，就是没有位置反馈的伺服系统。这种结构的电气系统都用步进电动机驱动。由于没有速度和位置的反馈，所以跟随精度差，响应性差，因此加工精度差，效率低。</p><p>闭环：</p><p>闭环是有被控元件的位置反馈的伺服系统。系统的构成包括：执行元件------伺服电动机（一般与滚珠丝杠直接连接）；速度控制器和位置控制器，位置控制器接收CNC插补器的输出指令</p><p>2.同步电动机</p><p>闭环伺服结构的电气系统目前都用交流伺服电动机驱动，多数使用永磁式同步电动机。</p><p>永磁式同步电动机的结构如下图所示。其转子是用高导磁率的永久磁钢作成的磁极，中间穿有电机轴，轴两端用轴承支撑并将其固定于机壳上。定子是用矽钢片叠成的导磁体，导磁体的内表面有齿槽，嵌入用导线绕成的三相绕组线圈。另外在轴的后端部装有编码器。</p><p>当定子的三相绕组通有三相交流电流时，产生的空间旋转磁场就会吸住转子上的磁极同步旋转。同步电动机的速度控制与电功率的提供是用逆变器，逆变器中从直流变到三相交流的功率驱动电路元件需要根据转子磁场的位置实时地换向，这一点非常类似于直流电动机的转子绕组电流随定子磁场位置的换向。因此，为了实时地检测同步电动机转子磁场的位置，在电动机轴上（后端）安装了一个编码器（光码盘------图中的11）。由于有了光码盘，无论电机的转速是快、还是慢，均可以随着电机轴地回转实际地测出转子上磁极磁场的位置，将该位置值送到控制电路后，使控制器可以实时地控制逆变器功率元件的换向，实现了伺服驱动器的自控换向。因此，有人将这种同步电动机的驱动控制器和电动机一起称为自换向同步电动机；另外，因为其控制特性类似于直流电动机，所以也称为无整流子式直流电动机。</p><p>直线电动机：为了提高工作台的运动速度，提高加速度，简化传动链，从而提高传动精度，近来又出现了直线电动机。这种电机属于直连电动机，即直接装在直线运动的工作台上。</p><p>3.位置传感器和速度传感器</p><p>光电编码器：编码器是回转运动的测量元件，通常是装在电动机轴上或是滚珠丝杠上，它直接测量的物理量是电动机或丝杠转过的角度。编码器分为增量式测量或绝对量式测量两个品种。</p><p>直线光栅尺：目前，测量直线运动部件的位置或位移使用直线光栅尺。光栅尺有使用玻璃的透射尺和使用金属基板的反射尺。工作原理与光电编码器类似。透射式光栅尺易于安装，直接贴装在工作台的侧面，故使用较多。</p><p>4.伺服驱动器</p><p>控制同步伺服电动机运行的放大器（驱动器）是交流逆变器。</p><p>FANUC将放大器分为两个模块：整流供电模块（PSM）和伺服逆变模块（SVM）</p><p>九．主轴的驱动控制</p><p>1。控制框图</p><p>主轴控制主要是速度及电动机的转速控制。在程序中用指令：S及五位数值指令主轴的转数。</p><p>例如：S1200;表示要求主轴以1200转转动。正反转的指令为M03(正转)；M04（反转）。为了检测主轴的转速，在主轴或主轴电动机上安装了速度传感器。</p><p>2．主轴速度传感器与位置传感器</p><p>只是速度控制时无位置反馈回路。主轴电动机的速度测量与反馈用装在主轴电动机轴上的磁性传感器。如下图所示。随着主轴电动机的转动，传感器转一转发出128，256，384或512个脉冲（取决于电动机的型号），计算出主轴电动机的转数。若电动机与主轴间不是1：1耦合，则必须在主轴上安装位置编码器，用编码器发出的一转信号测量主轴的转数。通常这种编码器是光电式的，转一转发出1024个脉冲，此外还发出一个一转信号。用这种编码器可实现螺纹加工和刚性攻丝及加工中心机床换刀时的主轴定向</p><p>3．主轴电动机</p><p>用于主轴驱动的电动机有两种形。式：异步电动机和同步电动机。异步机容易制造，可靠性也高，高速运转性能好，所以FANUC用的是异步机。同步机低速性能好，控制性好，低速有大力矩，容易实现较宽的恒功率调速范围。通常，加工铝件和轻金属件主轴转数高，一般使用异步电动机。加工铸铁或钢件主轴转速较低，另外有些加工方式（如Cs轴方式）还要求低速时有较大的力矩，故倾向使用同步电动机。特别是近来，为了提高加工精度，机械设计使驱动电动机直接与机床主轴连接，因此发展用同步机作主轴的驱动，特别是内装主轴电动机，多使用同步机。</p><p>4．主轴电动机驱动放大器</p><p>主轴电动机的控制类似于上述的伺服电动机。但是通常只有速度控制，故无需位置环。下图是FANUC 主轴电动机驱动器的框图。分两个模块：PSM及SPM。PSM是电源模块，它与进给伺服驱动一样，是将输入的交流功率电源变为直流功率电源给逆变器供电。SPM是逆变器部分，是将直流电源变为三相交流给电动机的定子供电。</p><p>十．外部轴的控制</p><p>用伺服电动机控制机床上或机床以外的辅助机械设备的动作，如：换刀机械手，交换工作台，上/下料，工件或毛坯的搬运。</p><p>Power Mate i是一种位置运动控制器，控制各个轴独立运动或是时间上协调运动，使某一轴以一定速度移动到某一位置或是移动某一距离。但是相互间没有位置上的依赖关系，即系统中不必具备位置插补器的功能。当然，FANUC的Power Mate i D是有两轴连动的插补器的，可根据实际需要使用。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'机床','CNC','基础'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>