<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ACL（访问控制列表）原理及应用 | 极客快訊</title><meta property="og:title" content="ACL（访问控制列表）原理及应用 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/dfic-imagehandler/ac0b5f64-e661-4165-be57-709b46d8d30a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/30b3bbe.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/30b3bbe.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/30b3bbe.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/30b3bbe.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/30b3bbe.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/30b3bbe.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/30b3bbe.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/30b3bbe.html><meta property="article:published_time" content="2020-10-29T21:05:53+08:00"><meta property="article:modified_time" content="2020-10-29T21:05:53+08:00"><meta name=Keywords content><meta name=description content="ACL（访问控制列表）原理及应用"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/30b3bbe.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ACL（访问控制列表）原理及应用</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>一、ACL介绍</p><p><br></p><p>信息点间通信和内外网络的通信都是企业网络中必不可少的业务需求，但是为了保证内网的安全性，需要通过安全策略来保障非授权用户只能访问特定的网络资源，从而达到对访问进行控制的目的。</p><p>简而言之，ACL（访问控制列表）可以过滤网络中的流量，控制访问的一种网络技术手段。</p><p>实际上，ACL的本质就是用于描述一个IP 数据包、以太网数据帧若干特征的集合。</p><p>然后根据这些集合去匹配网络中的流量（由大量数据包组成），同时根据策略来“允许”或者“禁止”。</p><p>作用：</p><p>①ACL可以限制网络流量、提高网络性能。</p><p>②ACL提供对通信流量的控制手段。</p><p>③ACL是提供网络安全访问的基本手段。</p><p>④ACL 可以在路由器端口处决定哪种类型的通信流量被转发或被阻塞。</p><p><br></p><p>二、ACL的分类（基于IP）</p><p><br></p><p>①标准 ACL</p><p>标准型 ACL只能匹配源IP 地址，在应用中有三种匹配的方式：</p><p>1、 any，指任意地址</p><p>2、 &lt;net>&lt;mask>，指定某个IP 网段</p><p>3、 src_range ，指定 IP 的地址范围</p><p>配置命令：</p><p>ip access-list standard &lt;name> //标准 ACL，name为名字</p><p>{permit | deny} any</p><p>{permit | deny} &lt;network> &lt;net-mask></p><p>{permit | deny} src_range &lt;start-ip> &lt;end-ip></p><p><br></p><p>②扩展型 ACL</p><p>扩展型 ACL可匹配多个条目，常用的项目有源、目的IP ，源、目的端口号，以及 ip协议号（种类）等，可以用来满足绝大多数的应用。</p><p>在一个条件中，这些项目的前后顺序如下：协议号，源ip地址，源端口号，目的ip地址，目的端 口号。</p><p>配置命令：</p><p>ip access-list extended &lt;name></p><p>{permit|deny} {ip|icmp |tcp| udp} {any |network |src_range} [src_port] {any | network | src_range} [dst_port]</p><p><br></p><p>三、ACL的匹配规则</p><p><br></p><p>一个端口执行哪条ACL，这需要按照列表中的条件语句执行顺序来判断。</p><p>如果一个数据包的报头跟表中某个条件判断语句相匹配，那么后面的语句就将被忽略，不再进行检查。数据包只有在跟第一个判断条件不匹配时，它才被交给ACL 中的下一个条件判断语句进行比较。</p><p>如果匹配（假设为允许发送），则不管是第 一条还是最后一条语句，数据都会立即发送到目的接口。</p><p>如果所有的ACL判断语句都检测完毕，仍没有匹配的语句出口，则该数据包将视为被拒绝而被丢弃（隐含拒绝：deny any ）。</p><p>这里要注意，ACL不能对本身产生的数据包进行控制。</p><p><br></p><p>四、ACL的调用</p><p><br></p><p>不同的模块来调用，将会起到不同的作用，这也是ACL应用广泛的根本原因。常见的调用ACL的模块有：</p><p>①包过滤：ip access-group</p><p>②网络地址转换：NAT</p><p>③策略路由：PBR</p><p>④ip 服务质量：QoS</p><p>⑤动态路由过滤：RIP/OSPF等</p><p>较为常用的是access-group ，其调用方法非常需要确定两个因素：</p><p>1、具体配置接口选择：一般的原则是离开要被控制的主机更近的那个 口。</p><p>2、方向选择：方向有 in和 out 两种，一个接口的一个方向上只能同时</p><p>调用一个 ACL条目。配置命令：</p><p>interface fastethernet</p><p>ip access-group &lt;name> in|out</p><p><br></p><p>五、实验</p><p><br></p><p>实验一：</p><p>使用扩展型ACL，实现 PC ping 不通路由器，但路由器可以ping PC</p><div class=pgc-img><img alt=ACL（访问控制列表）原理及应用 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/ac0b5f64-e661-4165-be57-709b46d8d30a><p class=pgc-img-caption></p></div><p>ip access-list extended test</p><p>F0/0</p><p>deny icmp 192.168.1.254 255.255.255.0 8</p><p>interface fastethernet 0/0</p><p>ip access-group test in</p><p><br></p><p>实验二：</p><p>某网络中，禁止所有用户去ping 、telnet、http访问某服务器（dns</p><p>服务器， ip为192.168.1.253），但要其正常提供服务</p><p>ip access-list extended test</p><p>deny icmp any 192.168.1.253 255.255.255.255</p><p>deny tcp any 192.168.1.253 255.255.255.255 eq 23</p><p>deny tcp any 192.168.1.253 255.255.255.255 eq 80</p><p>permit ip any any</p><p><br></p><p>实验三：</p><p>某网络中除了正常的web访问、邮件收发，其他所有的应用禁止</p><p>ip access-list extended test</p><p>permit tcp any any eq 80</p><p>permit tcp any any eq 25</p><p>permit tcp any any eq 110</p><p>deny ip any any（隐含条目）</p><p><br></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'ACL','访问','应用'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>