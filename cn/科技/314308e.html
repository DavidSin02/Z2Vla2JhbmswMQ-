<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>基于react/vue搭建一个通用的表单管理配置平台 | 极客快訊</title><meta property="og:title" content="基于react/vue搭建一个通用的表单管理配置平台 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/dfic-imagehandler/a6b78e4e-07d0-4e4b-9c5c-3ac49a6b88e0"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/314308e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/314308e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/314308e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/314308e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/314308e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/314308e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/314308e.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/314308e.html><meta property="article:published_time" content="2020-10-29T20:52:28+08:00"><meta property="article:modified_time" content="2020-10-29T20:52:28+08:00"><meta name=Keywords content><meta name=description content="基于react/vue搭建一个通用的表单管理配置平台"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/314308e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>基于react/vue搭建一个通用的表单管理配置平台</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><br></p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/a6b78e4e-07d0-4e4b-9c5c-3ac49a6b88e0><p class=pgc-img-caption></p></div><p class=pgc-end-literature>作者：徐小夕</p><p class=pgc-end-literature>转发链接：https://juejin.im/post/5ea1af9f518825737a316cc3</p><h1 class=pgc-h-arrow-right>前言</h1><p>熟悉我的朋友可能会知道，我一向是不写热点的。为什么不写呢？是因为我不关注热点吗？其实也不是。有些事件我还是很关注的，也确实有不少想法和观点。 但我一直奉行一个原则，就是：<strong>要做有生命力的内容</strong>。</p><p>这篇文章是一篇应用性极强的文章，我们通过一个实际的应用场景，去解决某一类的问题，提供一种或者几种解决方案，来探索技术的魅力。接下来笔者主要分析<strong>表单定制平台</strong>的实现思路和技术方案，来实现一个类似于<strong>金数据</strong>或者<strong>问卷星</strong>一样的<strong>表单配置平台</strong>，大家也可以基于此方案，扩展出功能更加强大的<strong>可视化平台</strong>。</p><h1 class=pgc-h-arrow-right>正文</h1><p>为什么要做一个这样的平台呢？一方面是因为笔者多年来一直服务于B端产品，对于动态表单以及配置化表单有一定的项目积累，并且深知配置化表单的价值所在。举一个很传统的B端表单配置化的例子：传统2B企业在提供<strong>saas</strong>服务时，为了满足不同企业的定制化需求，往往会给企业客户提供定制化或者自由配置的功能，如下图：</p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4fd3e746240e47a28c8aa3bc607c864b><p class=pgc-img-caption></p></div><p>对于<strong>saas</strong>系统而言，软件即服务，在提供基础服务的同时，同样要满足用户个性化需求，所以传统的<strong>saas</strong>软件提供商往往会提供给客户自由配置的空间，这种自由配置的桥梁就是通过表单，举一个简单的例子：</p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d668c032c3e8412c94e5129155b461c9><p class=pgc-img-caption></p></div><p>通过这种方法就可以定制不同风格的企业产品，这里只是举了个比较简单的例子，往往实际项目中会更加复杂，可能会有几十个配置项，当然这种模式是比较传统的配置化方案，也仅仅是<strong>saas</strong>软件提供的很小的一个服务模块。目前主流的做法是采用可视化方案，而且国内也有非常成熟的方案，但基本的思想是一致的，只不过后者的体验更好，操作难度更低。</p><p><br></p><p>笔者简单介绍一下<strong>saas</strong>，方便大家更容易理解其模式：</p><blockquote><p><strong>saas</strong>(软件即服务)是一种云计算产品，为用户提供对供应商云端软件的访问。用户无需在其本地设备上安装应用。相反，应用驻留在远程云网络中，通过 Web 或 API 进行访问。通过应用，用户可以存储和分析数据，并可进行项目协作。</p></blockquote><p>类似的云计算产品也有很多，比如Paas（平台即服务），Iaas（基础架构即服务）等，感兴趣的朋友可以学习了解一下。</p><p>以上介绍更多的是为了让大家理解笔者设计这套平台的基本背景，我们还可以举个更实际的例子就是金数据或者问卷星的表单配置模式，用户可以在管理后台定制自己的表单，并生成一个可访问的链接来向目标用户发放问卷，填写信息，收集信息，最后实现数据分析的目的。</p><p>本文介绍的表单定制平台,也同样支持表单管理,表单数据分析, 表单数据收集, 表单定制等功能, 笔者将采用比较熟悉的技术栈<strong>react</strong>以及第三方ui库<strong>antd4.0</strong>来开发, 后端采用<strong>node + koa</strong>来设计路由接口.</p><h1 class=pgc-h-arrow-right>设计思路</h1><p><br></p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b3c19953d0b347cca3a47bb3bafa4d17><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>实现效果与分析</h1><h1 class=pgc-h-arrow-right>1. 表单定制管理列表</h1><p><br></p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9787398b273c4b94a1622ee58c15064e><p class=pgc-img-caption></p></div><p>管理列表主要用来查看我们配置的表单模板,分析不同表单模板收集的数据,对表单模板进行编辑删除等操作.</p><p><br></p><h1 class=pgc-h-arrow-right>2. 表单定制页面</h1><p><br></p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d578850c622c45bdbd3a4d1c19127bc2><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/60e060c067fe4afead73432a5e33bb50><p class=pgc-img-caption></p></div><p>由上图可知表单定制页面主要用来编辑自定义表单模板,我们可以添加表单标题,表单字段等,目前提供了几种自定义表单控件如下:</p><p><br></p><ul><li><strong>文本框</strong></li><li><strong>多行文本框</strong></li><li><strong>下拉框</strong></li><li><strong>单选框</strong></li><li><strong>复选框</strong></li><li><strong>文件上传控件</strong></li></ul><p>基本涵盖了我们所需要的所有表单业务场景.由上图可知我们可以在任意位置插入自定义字段,同时可以编辑修改删除表单字段.如果想象力再大一点,我们可以基于它来实现不仅仅是<strong>表单问卷型应用</strong>,还可以实现<strong>答题</strong>,<strong>发布内容</strong>等场景.(后期可支持<strong>富文本控件</strong>)</p><h1 class=pgc-h-arrow-right>3. 草稿管理</h1><p><br></p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bf429259fd94460eb6f295f0066473bc><p class=pgc-img-caption></p></div><p>草稿箱设计的目的是方便使用者在配置表单的过程中不确定是否符合需求或者由于某种临时性举动而无法继续配置,这个时候可以将以配置好的内容存入草稿箱,下次继续编辑,所以笔者专门设计了草稿箱管理列表,一旦用户存在草稿,会在管理页面通知用户并显示草稿的数量.作为一个追求体验的技术人,这一块的设计还是相当有必要的.</p><p><br></p><h1 class=pgc-h-arrow-right>4. 生成前台表单访问链接</h1><p><br></p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/86cb1c5af48646e5986e3005f25b3d88><p class=pgc-img-caption></p></div><p>当我们配置好表单之后,我们点击保存, 会生成一个前台访问地址,实时访问表单信息,如下图为点击链接之后的页面:</p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/e70d4611305b41d8a390d69b15119305><p class=pgc-img-caption></p></div><p>我们也可以根据自己的风格,设计自己的表单录入页面, 具体如何实现这样的过程, 后面我会详细介绍.</p><p><br></p><h1 class=pgc-h-arrow-right>5. 查看用户已有数据录入</h1><p><br></p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/08f0afc64ee44aefabb9dccff8638a51><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/906579d9c59a4ae49381343f54216976><p class=pgc-img-caption></p></div><p>我们可以通过点击"查看数据"来访问收集到的表单数据,并通过可视化的工具对数据做分析比较,同时我们也可以在数据列表中删除数据,来控制我们数据展示的纯净.</p><p><br></p><h1 class=pgc-h-arrow-right>6. 表单数据分析</h1><p><br></p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9c5f6972623c4cd49ac7bbfb6c10e408><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/baa7e554ffb94260861088de5221c34e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/358f8c065cb942d1b486038173db4bc2><p class=pgc-img-caption></p></div><p>收集到数据只有,我们会自动集成几个可视化组件来分析表单数据,以上是笔者列出的几个可视化组件,基于<strong>antv G2</strong>来封装.</p><p><br></p><h1 class=pgc-h-arrow-right>应用场景</h1><p>以上主要介绍了自定义表单定制平台的一些功能和交互效果, 我们可以利用该平台做很多有意思的事情.因为表单的抽象是数据,我们拿到定制化的表单json数据之后,我们可以有不同的展现形式,比如用户的<strong>问卷调查</strong>, <strong>网站平台的投票</strong>, <strong>答题页面</strong>, <strong>发布动态</strong>等功能,如下图配置:</p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cf71557ae651493f82006edd3984c0ec><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f4d0431ac842407eb6b62776ac8e49c7><p class=pgc-img-caption></p></div><p>以上配置可以实现类似于微信的发布朋友圈的功能, 然后我们可以通过前端的手段根据用户发表的数据渲染成一个朋友圈列表.</p><p><br></p><p>如果我们再打开自己的脑洞，我们可以这样配置，配置一个这样的表单，表单包括一个文件上传控件和n个文本输入控件，如下图：</p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c6ce368f5aa94beda60610c429f5577e><p class=pgc-img-caption></p></div><p>将这样的表单配置到H5管理模块，<strong>我们只需要上传三张图，然后填写好对应的配文，然后利用市面上成熟的H5全屏滚动插件，就能轻松的定制各种H5活动页面了</strong>。该方案已被笔者的很多子系统使用，效果还是非常好的。</p><p><br></p><p>当然基于该平台甚至能直接配置小型的宣传网站，还有更多想象空间，期待大家去挖掘。</p><h1 class=pgc-h-arrow-right>代码实现</h1><p>要想开发这样一个表单定制平台, 核心在于如何实现表单动态配置的机制.这里笔者将其划分为两部分:<strong>基础表单物料</strong>和<strong>表单编辑生成器</strong>, 如下图所示拆分图:</p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b2a3e139b5ad4abba89a7b5815ffc083><p class=pgc-img-caption></p></div><p>接下来我们一步步实现以上两个核心模块。</p><p><br></p><h1 class=pgc-h-arrow-right>1. 基础表单物料</h1><p>基础表单物料主要是为了用户选择自定义表单控件使用，我们常用的表单动态渲染有map循环+条件判断和单层map+对象法，前者如果要渲染一个动态表单，可能实现如下：</p><pre><code>{    list.map((item, i) =&gt; {        return &lt;React.Fragment key={i}&gt;            {               item.type === 'input' &amp;&amp; &lt;Input /&gt;            }            {               item.type === 'radio' &amp;&amp; &lt;Radio /&gt;            }            // ...        &lt;/React.Fragment&gt;    })}复制代码</code></pre><p>但是这样做有个明显的缺点就是会产生很多没必要的判断，如果对于复杂表单，性能往往很低，所以笔者采用后者来实现，复杂度可以降到O(n).我们先来做配置模版：</p><pre><code>// 基础模版数据const tpl = [  {    label: '文本框',    placeholder: '请输入内容',    type: 'text',    value: '',    index: uuid(5)  },  {    label: '单选框',    type: 'radio',    option: [{label: '男', value: 0}, {label: '女', value: 1}],    index: uuid(5)  },  {    label: '复选框',    type: 'checkbox',    option: [{label: '男', value: 0}, {label: '女', value: 1}],    index: uuid(5)  },  {    label: '多行文本',    placeholder: '请输入内容',    type: 'textarea',    index: uuid(5)  },  {    label: '选择框',    placeholder: '请选择',    type: 'select',    option: [{label: '中国', value: 0}, {label: '俄罗斯', value: 1}],    index: uuid(5)  },  {    label: '文件上传',    type: 'upload',    index: uuid(5)  }]// 模版渲染组件const tplMap = {  text: {    component: (props) =&gt; {      const { placeholder, label } = props      return &lt;div className={styles.fieldOption}&gt;&lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;&lt;Input placeholder={placeholder} /&gt;&lt;/div&gt;    }  },  textarea: {    component: (props) =&gt; {      const { placeholder, label } = props      return &lt;div className={styles.fieldOption}&gt;&lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;&lt;TextArea placeholder={placeholder} /&gt;&lt;/div&gt;    }  },  radio: {    component: (props) =&gt; {      const { option, label } = props      return &lt;div className={styles.fieldOption}&gt;              &lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;              &lt;Radio.Group&gt;                {                  option &amp;&amp; option.map((item, i) =&gt; {                    return &lt;Radio style={radioStyle} value={item.value} key={item.label}&gt;                      { item.label }                    &lt;/Radio&gt;                  })                }            &lt;/Radio.Group&gt;        &lt;/div&gt;    }  },  checkbox: {    component: (props) =&gt; {      const { option, label } = props      return &lt;div className={styles.fieldOption}&gt;              &lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;              &lt;Checkbox.Group&gt;                &lt;Row&gt;                  {                    option &amp;&amp; option.map(item =&gt; {                      return &lt;Col span={16} key={item.label}&gt;                              &lt;Checkbox value={item.value} style={{ lineHeight: '32px' }}&gt;                                { item.label }                              &lt;/Checkbox&gt;                            &lt;/Col&gt;                    })                  }                &lt;/Row&gt;            &lt;/Checkbox.Group&gt;        &lt;/div&gt;    }  },  select: {    component: (props) =&gt; {      const { placeholder, option, label } = props      return &lt;div className={styles.fieldOption}&gt;              &lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;              &lt;Select placeholder={placeholder} style={{width: '100%'}}&gt;                {                  option &amp;&amp; option.map(item =&gt; {                    return &lt;Option value={item.value} key={item.label}&gt;{item.label}&lt;/Option&gt;                  })                }            &lt;/Select&gt;        &lt;/div&gt;    }  },  upload: {    component: (props) =&gt; {      return &lt;div className={styles.fieldOption}&gt;              &lt;span className={styles.fieldLabel}&gt;{props.label}:&lt;/span&gt;              &lt;Upload              listType="picture-card"              className="avatar-uploader"              showUploadList={false}              action="https://www.mocky.io/v2/5cc8019d300000980a055e76"            &gt;              &lt;div&gt;+&lt;/div&gt;            &lt;/Upload&gt;        &lt;/div&gt;    }  }}export {  tpl,  tplMap}复制代码</code></pre><p>基础物料在下图所示中使用：</p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/ccb822539c9c429e89f94cba0762ecea><p class=pgc-img-caption></p></div><p>当我们要添加一个表单项时，我们就可以在左边预览操作区看到添加的项，并可已基于表单编辑生成器来编辑表单字段。</p><p><br></p><h1 class=pgc-h-arrow-right>2. 表单编辑生成器</h1><p>表单编辑生成器分为2部分， 第一部分是用来生成表单项的容器组件，封装了添加，删除，编辑操作功能，代码如下：</p><pre><code>// 表单容器组件const BaseFormEl = (props) =&gt; {  const {isEdit, onEdit, onDel, onAdd} = props  const handleEdit = (v) =&gt; {    onEdit &amp;&amp; onEdit(v)  }  return &lt;div className={styles.formControl}&gt;    &lt;div className={styles.formItem}&gt;{ props.children }&lt;/div&gt;    &lt;div className={styles.actionBar}&gt;      &lt;span className={styles.actionItem} onClick={onDel}&gt;&lt;MinusCircleOutlined /&gt;&lt;/span&gt;      &lt;span className={styles.actionItem} onClick={onAdd}&gt;&lt;PlusCircleOutlined /&gt;&lt;/span&gt;      &lt;span className={styles.actionItem} onClick={handleEdit}&gt;&lt;EditOutlined /&gt;&lt;/span&gt;    &lt;/div&gt;  &lt;/div&gt;}复制代码</code></pre><p>第二部分主要用来渲染操作区模版，基于BaseFormEl包装不同类型的表单组件, 这里举一个比较复杂的select来说明，其他表单控件类似：</p><pre><code>const formMap = {  title: {},  text: {},  textarea: {},  radio: {},  checkbox: {},  select: {    component: (props) =&gt; {      const { onDel, onAdd, onEdit, curIndex, index, type, label, placeholder, required, message, option } = props      return &lt;BaseFormEl         onDel={onDel.bind(this, index)}        onAdd={onAdd.bind(this, index)}        onEdit={onEdit.bind(this, {index, type, placeholder, label, option, required})}        isEdit={curIndex === index}      &gt;        &lt;Form.Item name={label} label={label} rules={[{ message, required }]}&gt;          &lt;Select placeholder={placeholder}&gt;            {              option &amp;&amp; option.map(item =&gt; {                return &lt;Option value={item.value} key={item.label}&gt;{item.label}&lt;/Option&gt;              })            }          &lt;/Select&gt;        &lt;/Form.Item&gt;      &lt;/BaseFormEl&gt;    },    editAttrs: [      {        title: '字段名称',        key: 'label'      },      {        title: '选项',        key: 'option'      },      {        title: '提示文本',        key: 'placeholder'      },      {        title: '是否必填',        key: 'required'      },    ]  },  upload: {}}复制代码</code></pre><p>editAttrs主要用来渲染编辑列表，说明哪些表单项可以编辑，这部分代码比较简单，这里直接用图举例：</p><div class=pgc-img><img alt=基于react/vue搭建一个通用的表单管理配置平台 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/76729fc48eb2490db316071388c6f4f2><p class=pgc-img-caption></p></div><p>最后我们来渲染表单生成器组件：</p><p><br></p><pre><code>export default (props) =&gt; {  const {     formData,     handleDelete,     handleAdd,     handleEdit,     curEditRowIdx   } = props  return &lt;Form name="customForm"&gt;            {              formData &amp;&amp; formData.map(item =&gt; {                let CP = formMap[item.type].component                return &lt;CP {...item} key={item.index}                  onDel={handleDelete}                   onAdd={handleAdd}                  onEdit={handleEdit}                  curIndex={curEditRowIdx}                /&gt;              })            }         &lt;/Form&gt;}复制代码</code></pre><p>至此，基本功能模块已经开发完成，我们只需要将这些物料和组件导入到编辑页面，基于业务来操作和请求即可。由于实现该案例还是有一定复杂度的，笔者没有将所有组件都一一写出来，希望为大家提供一个思考空间，后续笔者将会把该平台整合到笔者的开源CMS系统中，供大家学习使用。有关nodejs部分的内容，由于笔者后期会陆续整理，如果有其他疑问，可以和笔者多交流。</p><h1 class=pgc-h-arrow-right>推荐Vue学习资料文章：</h1><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6818344300082889224/?group_id=6818344300082889224" rel="noopener noreferrer" target=_blank>聊聊昨晚尤雨溪现场针对Vue3.0 Beta版本新特性知识点汇总</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6816988128868303363/?group_id=6816988128868303363" rel="noopener noreferrer" target=_blank>【新消息】Vue 3.0 Beta 版本发布，你还学的动么？</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6810954020031562252/?group_id=6810954020031562252" rel="noopener noreferrer" target=_blank>Vue真是太好了 壹万多字的Vue知识点 超详细!</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805178962034033155/?group_id=6805178962034033155" rel="noopener noreferrer" target=_blank>Vue + Koa从零打造一个H5页面可视化编辑器——Quark-h5</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6815452062881415683/?group_id=6815452062881415683" rel="noopener noreferrer" target=_blank>深入浅出Vue3 跟着尤雨溪学 TypeScript 之 Ref 【实践】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6807954299570618891/?group_id=6807954299570618891" rel="noopener noreferrer" target=_blank>手把手教你深入浅出vue-cli3升级vue-cli4的方法</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6817773725736239628/?group_id=6817773725736239628" rel="noopener noreferrer" target=_blank>Vue 3.0 Beta 和React 开发者分别杠上了</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6813971045469389315/?group_id=6813971045469389315" rel="noopener noreferrer" target=_blank>手把手教你用vue drag chart 实现一个可以拖动 / 缩放的图表组件</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805432820110983688/?group_id=6805432820110983688" rel="noopener noreferrer" target=_blank>Vue3 尝鲜</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6804983224628937228/?group_id=6804983224628937228" rel="noopener noreferrer" target=_blank>总结Vue组件的通信</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6814032233549005323/?group_id=6814032233549005323" rel="noopener noreferrer" target=_blank>手把手让你成为更好的Vue.js开发人员的12个技巧和窍门【实践】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6808329189901468174/?group_id=6808329189901468174" rel="noopener noreferrer" target=_blank>Vue 开源项目 TOP45</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6804715107621274124/?group_id=6804715107621274124" rel="noopener noreferrer" target=_blank>2020 年，Vue 受欢迎程度是否会超过 React？</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6806264785508762124/?group_id=6806264785508762124" rel="noopener noreferrer" target=_blank>尤雨溪：Vue 3.0的设计原则</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6804714637817283084/?group_id=6804714637817283084" rel="noopener noreferrer" target=_blank>使用vue实现HTML页面生成图片</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805425165132890635/?group_id=6805425165132890635" rel="noopener noreferrer" target=_blank>实现全栈收银系统（Node+Vue）（上）</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805455179299684867/?group_id=6805455179299684867" rel="noopener noreferrer" target=_blank>实现全栈收银系统（Node+Vue）（下）</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6809939243440275981/?group_id=6809939243440275981" rel="noopener noreferrer" target=_blank>vue引入原生高德地图</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805848079560868356/?group_id=6805848079560868356" rel="noopener noreferrer" target=_blank>Vue合理配置WebSocket并实现群聊</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805067432382693902/?group_id=6805067432382693902" rel="noopener noreferrer" target=_blank>多年vue项目实战经验汇总</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6809872519034569228/?group_id=6809872519034569228" rel="noopener noreferrer" target=_blank>vue之将echart封装为组件</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805729533463888388/?group_id=6805729533463888388" rel="noopener noreferrer" target=_blank>基于 Vue 的两层吸顶踩坑总结</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6811309005751714311/?group_id=6811309005751714311" rel="noopener noreferrer" target=_blank>Vue插件总结【前端开发必备】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805083839644303876/?group_id=6805083839644303876" rel="noopener noreferrer" target=_blank>Vue 开发必须知道的 36 个技巧【近1W字】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6806268800321716743/?group_id=6806268800321716743" rel="noopener noreferrer" target=_blank>构建大型 Vue.js 项目的10条建议</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6810630570251387406/?group_id=6810630570251387406" rel="noopener noreferrer" target=_blank>深入理解vue中的slot与slot-scope</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6813651165440377351/?group_id=6813651165440377351" rel="noopener noreferrer" target=_blank>手把手教你Vue解析pdf(base64)转图片【实践】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6806116083720782348/?group_id=6806116083720782348" rel="noopener noreferrer" target=_blank>使用vue+node搭建前端异常监控系统</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6815509287964508683/?group_id=6815509287964508683" rel="noopener noreferrer" target=_blank>推荐 8 个漂亮的 vue.js 进度条组件</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6808322447729754632/?group_id=6808322447729754632" rel="noopener noreferrer" target=_blank>基于Vue实现拖拽升级（九宫格拖拽）</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805722999069606412/?group_id=6805722999069606412" rel="noopener noreferrer" target=_blank>手摸手，带你用vue撸后台 系列二(登录权限篇)</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805725101749699076/?group_id=6805725101749699076" rel="noopener noreferrer" target=_blank>手摸手，带你用vue撸后台 系列三(实战篇)</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6806535306754392589/?group_id=6806535306754392589" rel="noopener noreferrer" target=_blank>前端框架用vue还是react？清晰对比两者差异</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6811330273926447620/?group_id=6811330273926447620" rel="noopener noreferrer" target=_blank>Vue组件间通信几种方式，你用哪种？【实践】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6807234412879544845/?group_id=6807234412879544845" rel="noopener noreferrer" target=_blank>浅析 React / Vue 跨端渲染原理与实现</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6812984956667560455/?group_id=6812984956667560455" rel="noopener noreferrer" target=_blank>10个Vue开发技巧助力成为更好的工程师</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6809832482326708748/?group_id=6809832482326708748" rel="noopener noreferrer" target=_blank>手把手教你Vue之父子组件间通信实践讲解【props、$ref 、$emit】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805795810026979847/?group_id=6805795810026979847" rel="noopener noreferrer" target=_blank>1W字长文+多图，带你了解vue的双向数据绑定源码实现</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6815365829404656141/?group_id=6815365829404656141" rel="noopener noreferrer" target=_blank>深入浅出Vue3 的响应式和以前的区别到底在哪里？【实践】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6807204223193711116/?group_id=6807204223193711116" rel="noopener noreferrer" target=_blank>干货满满!如何优雅简洁地实现时钟翻牌器(支持JS/Vue/React)</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6811057831274349059/?group_id=6811057831274349059" rel="noopener noreferrer" target=_blank>基于Vue/VueRouter/Vuex/Axios登录路由和接口级拦截原理与实现</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6807019844597187079/?group_id=6807019844597187079" rel="noopener noreferrer" target=_blank>手把手教你D3.js 实现数据可视化极速上手到Vue应用</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6804640581243896331/?group_id=6804640581243896331" rel="noopener noreferrer" target=_blank>吃透 Vue 项目开发实践｜16个方面深入前端工程化开发技巧【上】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6804675576037638663/?group_id=6804675576037638663" rel="noopener noreferrer" target=_blank>吃透 Vue 项目开发实践｜16个方面深入前端工程化开发技巧【中】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6804707953602462212/?group_id=6804707953602462212" rel="noopener noreferrer" target=_blank>吃透 Vue 项目开发实践｜16个方面深入前端工程化开发技巧【下】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6819081157213159947/?group_id=6819081157213159947" rel="noopener noreferrer" target=_blank>Vue3.0权限管理实现流程【实践】</a>》</p><p class=pgc-end-literature><br>作者：徐小夕<br>转发链接：https://juejin.im/post/5ea1af9f518825737a316cc3</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'react','vue','一个'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>