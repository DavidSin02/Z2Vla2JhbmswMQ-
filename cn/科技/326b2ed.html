<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>一个程序在计算机中是如何运行的？超级干货！！！ | 极客快訊</title><meta property="og:title" content="一个程序在计算机中是如何运行的？超级干货！！！ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/b8374afdbb3746ecac10724aaaa4fd67"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/326b2ed.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/326b2ed.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/326b2ed.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/326b2ed.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/326b2ed.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/326b2ed.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/326b2ed.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/326b2ed.html><meta property="article:published_time" content="2020-10-29T20:50:40+08:00"><meta property="article:modified_time" content="2020-10-29T20:50:40+08:00"><meta name=Keywords content><meta name=description content="一个程序在计算机中是如何运行的？超级干货！！！"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/326b2ed.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>一个程序在计算机中是如何运行的？超级干货！！！</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>开门见山，咱不说废话！</p><p>你有没有想过，你写的程序，是如何在计算机中运行的吗？比如我们搞Java的，肯定写过这段代码</p><pre><code>public class HelloWorld {    public static void main(String[] args) {        System.out.println("Hello World!");     }}</code></pre><p><br></p><p>熟悉吧，可能大家都知道，运行输出“Hello World!”，不过嘞，今天我带你从内存和CPU的角度去剖析一下这段代码在计算机中是如何执行的。</p><p>Hello World保存在哪？</p><p>首先问你个很简单的问题，当你写下这段代码的时候，你把它保存在哪了，假如说你说是桌面，就像现在这样</p><div class=pgc-img><img alt=一个程序在计算机中是如何运行的？超级干货！！！ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b8374afdbb3746ecac10724aaaa4fd67><p class=pgc-img-caption></p></div><p>是的，一个HelloWorld.java文件就保存在了桌面上，这个叫做Java源文件，不过说是保存在桌面上这个有点模糊，这个桌面又是个啥呢，我们应该想象它保存在了我们电脑的哪个部分呢？一台计算机包含如下基本五个部分：</p><p>运算器</p><p>控制器</p><p>存储器</p><p>输入设备</p><p>输出设备</p><p>在计算机中啊，保存信息主要靠存储器，而存储器又分为内部存储器和外部存储器，内部存储器就是内存了，而这个外部存储器主要就是磁盘了，磁盘又分为硬盘和软盘，而我们电脑中的大部分就都是硬盘了，这里也分为固态硬盘和传统机械硬盘。</p><p>不管怎么说吧，磁盘也好内存也罢，就是用来存放数据的，那么我们就知道了我们写的这个Java源文件应该就是存放在电脑中的磁盘了。</p><p>那么代码保存到硬盘中之后呢？</p><p>今天的主角，CPU和内存</p><p>代码被保存到硬盘之后，接下来就要CPU和内存登场了，提起精神了，超级干货来了。</p><p>告诉你个秘密，理解CPU和内存是如何在一块工作的，是每个学编程必备的基础中的基础，反正就是很重要！</p><p>我们在上面提到了硬盘，这里又说到了CPU和内存，那么我们就来看看这三个家伙</p><p>硬盘，内存和CPU</p><p>先看一张图</p><div class=pgc-img><img alt=一个程序在计算机中是如何运行的？超级干货！！！ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/efd1f278a86745bb96ce0ada2f87ae2e><p class=pgc-img-caption></p></div><p>这张图大致描述了三者的一个关系，什么关系嘞，数据读取的关系，我们之前不是说我们写的代码保存到了硬盘中了吗，如果要执行这段代码的话，需要把这段代码从硬盘中读取到内存中，此时的代码已经变成了二进制文件存储在内存中，为了更好的去理解，我们把上面的代码再进一步改写下：</p><pre><code>public class HelloWorld {    public static void main(String[] args) {        int a = 5;        int b = 3;        sum = a + b;        System.out.println(sum);     }}</code></pre><p>也就是加入了一个基础的加法运算，此时这段代码已经变成二进制文件放到了内存中，现在要继续执行，也就是要执行代码的加法操作，此时的数据a和b，也就是5和3已经是二进制的形式在内存中，现在需要把a和b做加法运算，CPU收到这个指令（将a和b相加），就会去内存中将a和b读取，然后存放到自己的寄存器中，然后由CPU中的运算器去做加法运算，得到的结果依然放到寄存器中。</p><p>是不是有点懵？啥是寄存器？运算器呢？别急，我们继续往下看。</p><p>内存是个啥？</p><p>这个内存是啥呢？内存条知道吧，我们电脑中的内存条，它是属于内部存储器，主要就是用来存放数据的，也可以理解为我们这里说的内存，这是实际存在的，我们可以看得见的内存条，但是关于数据存储，怎么存储，是不是还有点模糊，那么我们抽象点来说，这个内存其实就是一个个的小格子，就像这样：</p><div class=pgc-img><img alt=一个程序在计算机中是如何运行的？超级干货！！！ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b19e01a771e24dd38a61ba22bf4f2832><p class=pgc-img-caption></p></div><p>这些小格子就是用来存放数据和指令的，而且每个格子都有自己的编号，这个编号大家也熟悉，就是我们经常说的内存地址。</p><p>另外你需要知道的是，计算机是只认识0和1的，所以存放在内存中的数据其实都是二进制文件了。</p><p>CPU是个重点</p><p>其实关于内存，先了解上面那些就足够了，内容比较多的就是CPU了，想必大家都听说过CPU就相当于人的大脑一样，对电脑来说，至关重要，所以啊，CPU的结构是真的复杂，怎么办？</p><p>一般碰到这样的，我们就需要有选择的进行掌握和学习，因此对于CPU，你必须了解的两个东西，一是寄存器，另外一个就是运算器，为啥，这又是啥？</p><p>想要搞明白这个问题，咱们需要先来看看如下这些知识点。</p><p>CPU的特点</p><p>首先，这家伙是真的复杂，除此之外嘞，你还需要知道对于CPU来说，必须要把数据读取到寄存器中才能做相应的运算，另外CPU的数据读写的速度是真的快，内存和硬盘根本没法比，可能你没啥概念，举个例子吧</p><p>CPU这家伙执行一条指令大约需要耗时1ns，但是对于内存呢？它去硬盘读取数据至少8ms，在这段时间内，CPU可以执行大约800万条指令，说这个，主要是为了让你直观的感受到CPU是真的快。</p><p>就像《码农翻身》一书中说的那样：</p><p>CPU的运算速度快的丧心病狂，但是它能做的事情简单的令人发指</p><p>啥？为啥做的事情简单的令人发指呢？</p><p>别看CPU那么牛，那么复杂，那么快，它做的事情真的挺无聊的，总结起来，CPU主要就干如下四件事情：</p><p>1、从内存中读取数据，然后放到寄存器中</p><p>2、把寄存器中的数据写入到内存</p><p>3、进行数学运算和逻辑运算（加减乘除，AND,OR）</p><p>4、依据相应的条件进行跳转，执行其他指令（一条指令跳转到另外一条指令）</p><p>不知道你发现没，我们似乎一直在提寄存器，这又是什么玩意？这就要看看CPU的构造了</p><p>CPU的重点组成部分</p><p>我们上面也说了，CPU的结构真的很复杂，但是我们需要重点关注如下几个重要组成部分：</p><p>寄存器</p><p>运算器</p><p>没错就是这俩货，那他们是干啥的嘞，首先你得知道他们是CPU中的东西，这个寄存器啊，说白了就是存放数据的，是个存储部件，还记得之前说内存就是一个个的小格子吗？这个寄存器你就可以简单的想成也是小格子，放数据的。</p><p>寄存器</p><p>寄存器是存储部件，容量非常有限，能存储的数据的大小，现在来说一般有两种，也就是我们常听说的32位和64位，32位的寄存器就能存储4个字节的数据，64位的寄存器就能存储8个字节的数据，另外CPU也分为32位和64位其实就是由其中的寄存器的位数决定的，可想而知，即使是64位的寄存器也干不了啥大事啊，所以啊，现在的CPU一般都内置了很多的寄存器，依此来完成比较复杂的操作</p><p>运算器</p><p>另外一个就是运算器了，这个是计算的核心，主要的作用就是用来做加减乘除这些运算的，不过嘞，这里你需要知道的一点就是，运算器是没法直接操作内存中的数据的，很容易想到，运算器操作的数据是寄存器中存放的数据。</p><p>CPU和内存的交互</p><p>简单的了解了内存和CPU之后，我们就可以来看看程序代码是如何进一步被执行的，上面提到了，程序代码被读取到内存中了，现在要执行这段代码，那就需要CPU出马了，首先嘞，CPU会去读取需要进行操作的数据，对了，继续看这代码：</p><pre><code>public class HelloWorld {    public static void main(String[] args) {        int a = 5;        int b = 3;        sum = a + b;        System.out.println(sum);     }}</code></pre><p>也就是需要读取数据a和b，那么读取到的数据a和b存放在哪了呢？根据我们上面对CPU简单的了解可知，数据a和b是被放到了CPU中的寄存器中了，看这个图</p><div class=pgc-img><img alt=一个程序在计算机中是如何运行的？超级干货！！！ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/91d66d9f275042c79c04b5d65775b711><p class=pgc-img-caption></p></div><p>在CPU中有两个比较重要的组件就是运算器和寄存器，寄存器有很多个，再看内存，是一个个的小格子，每个格子有编号，比如说现在数据a和b分别存放在#1和#2上，然后CPU将他们读取放在寄存器R1和R2上</p><div class=pgc-img><img alt=一个程序在计算机中是如何运行的？超级干货！！！ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/132ee1d32a3e45fcb18a7e310189a5ee><p class=pgc-img-caption></p></div><p>这个时候就要计算a和b的和了，然后就轮到运算器出马了，它会拿到寄存器R1和R2，也就是拿到数据a和b，然后做加法运算</p><div class=pgc-img><img alt=一个程序在计算机中是如何运行的？超级干货！！！ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5d00e525d9774726b94db66ec1a7879a><p class=pgc-img-caption></p></div><p>那么计算之后的结果也就是sum，运算器会再次把它放到寄存器，比如R1中，这个时候之前的数据b就会被覆盖，如此一来，CPU和内存就一起完成一次加法运算操作。</p><p>这里其实我们把关注点聚焦到了加法运算操作，实际上，程序代码被装载近内存的时候会产生数据和指令两部分，数据我们都知道是啥，指令嘞？</p><p>其实也好理解，指令就是说明程序该怎么执行，对于CPU来说就是告诉CPU该做什么，比如告诉CPU，读取数据a和b，然后再将他们相加，说白了，CPU是根据指令干活，指令让怎么干，咱就怎么干。</p><p>因此，你必须告诉CPU该干啥，否则，CPU也很懵的呦。</p><p>经过上面的简单介绍，我们再来看看CPU主要做的四件事情：</p><p>1、从内存中读取数据，然后放到寄存器中</p><p>2、把寄存器中的数据写入到内存</p><p>3、进行数学运算和逻辑运算（加减乘除，AND,OR）</p><p>4、依据相应的条件进行跳转，执行其他指令（一条指令跳转到另外一条指令）</p><p>怎么样，是不是更加清晰明了！</p><p>总结一哈</p><p>这么一看，也没啥难的吗？总的来说啊，就是我们写的程序是放在硬盘中的，在运行的时候才会被调入到内存中，也就是说内存中的数据是从硬盘来的，而CPU中寄存器的数据又是从内存中装载进来的，然后CPU会根据相应的指令去操作寄存器中的数据，比如加减乘除什么的，以此来完成一个程序在计算机中的运行。</p><p>一句话总结：</p><p>本身程序是在硬盘上，需要把程序加载进内存，然后由CPU去执行</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'一个','计算机','运行'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>