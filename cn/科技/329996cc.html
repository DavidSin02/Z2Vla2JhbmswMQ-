<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>性能测试-JMeter组件作用域规则 | 极客快訊</title><meta property="og:title" content="性能测试-JMeter组件作用域规则 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/07833f364f42484ca8d7ab06fe1390ec"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/329996cc.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/329996cc.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/329996cc.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/329996cc.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/329996cc.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/329996cc.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/329996cc.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/329996cc.html><meta property="article:published_time" content="2020-11-14T21:00:34+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:34+08:00"><meta name=Keywords content><meta name=description content="性能测试-JMeter组件作用域规则"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/329996cc.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>性能测试-JMeter组件作用域规则</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><br></p><div class=pgc-img><img alt=性能测试-JMeter组件作用域规则 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/07833f364f42484ca8d7ab06fe1390ec><p class=pgc-img-caption>JMeter组件作用域规则</p></div><h1 class=pgc-h-arrow-right>1.1 JMeter测试计划组成</h1><p>JMeter测试计划是由一系列功能不同的元素组成的.</p><p>一个测试计划可以包括如下4类元素:</p><p>1.测试计划</p><p>Test Plan</p><p>容纳执行测试的一系列步骤.</p><p>2.线程组</p><p>Thread Group</p><p>模拟一个或多个用户.</p><p>3.组件</p><p>功能相似或逻辑上相关的元件的集合.</p><p>JMeter包含六大组件:</p><p>(1)配置元件</p><p>(2)前置处理器</p><p>(3)定时器</p><p>(4)后置处理器</p><p>(5)断言</p><p>(6)监听器</p><p>4.控制器</p><p>模拟业务逻辑的实现.</p><p>控制包括:</p><p>(1)取样器</p><p>(2)逻辑控制器</p><p>1.2 JMeter测试树元素分类</p><p>在JMeter的GUI界面,测试计划就是一颗树,Test Plan是树的根节点,</p><p>其他元素都是其子孙.</p><p>从作用域的角度来看,测试树中的元素可以分为两大类:</p><p>1.具有层次结构的元素</p><p>这类元素的作用域与其所处的层次有关.</p><p>这类元素包括:配置元件,前置处理器,定时器,后置处理器,断言,监听器这6大组件.</p><p>2.具有顺序结构的元素</p><p>这类元素一般严格按照其出现的先后顺序依次有序的执行.</p><p>这类元素不会对其他元素的功能有影响,只是起控制作用,没有作用域的概念.</p><p>这类元素包括取样器与逻辑控制.</p><p>另外,还有剩下的线程组比较特殊,线程组也不会影响其他元素的功能,</p><p>但是线程组的执行顺序是可以配置的,若测试计划下包含多个线程组,</p><p>默认是随机执行的,若要按照其出现的顺序依次执行,需要在测试计划下</p><p>勾选"Run Thread Groups consecutively (i.e. one at a time)".</p><h1 class=pgc-h-arrow-right>2 JMeter组件作用域</h1><p>2.1 什么是作用域</p><p>从前面的内容可以看出,JMeter作用域是针对组件而言的,</p><p>只有层次结构的组件才有作用域的概念.</p><p>JMeter组件作用域指的是JMeter组件</p><p>(配置元件,前置处理器,定时器,后置处理器,断言,监听器)起作用的范围,</p><p>在此范围内组件是有效的,可以影响取样器的行为.</p><p>2.2 JMeter组件作用域规则</p><p>按照组件的父节点不同,组件的作用域有如下类型：</p><p>(1)取样器作用域</p><p>父节点为取样器的组件具有的作用域，仅对该取样器起作用;</p><p>(2)逻辑控制器作用域</p><p>父节点为逻辑控制器的组件具有的作用域，对该逻辑控制器下的所有取样器起作用;</p><p>(3)线程组作用域</p><p>父节点为线程组的组件具有的作用域，对该线程组下的所有取样器起作用;</p><p>(4)测试计划作用域</p><p>父节点为测试计划的组件具有的作用域，对测试计划下的所有取样器起作用。</p><p>3 作用域案例说明</p><p>3.1 取样器作用域</p><p>"Response Assertion_1"响应断言,其父节点为"HTTP Resquest_baidu_1"取样器,</p><p>具有取样器作用域,其作用域为该取样器.所以此响应断言只会断言"HTTP Resquest_baidu_1",</p><p>而不会断言"HTTP Resquest_baidu_2"取样器,如下图示:</p><div class=pgc-img><img alt=性能测试-JMeter组件作用域规则 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/30eb500cd4a2459a8a38346f6c9828ad><p class=pgc-img-caption></p></div><p>3.2 逻辑控制器作用域</p><p>"Response Assertion"响应断言,其父节点为"Loop Controller1"逻辑控制器,具有逻辑控制器作用域,其对逻辑控制器下的所有取样器起作用.所以该响应断言会断言"Loop Controller1"逻辑控制器下所有取样器,</p><p>包括"HTTP Request1","HTTP Request2"与"HTTP Request3",如下图示:</p><div class=pgc-img><img alt=性能测试-JMeter组件作用域规则 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b12bfb30d7d84e84ae8b036cbece01f5><p class=pgc-img-caption></p></div><p>3.3 线程组作用域</p><p>"Response Assertion"响应断言,其父节点为"Thread Group"线程组,具有线程组作用域,其对线程组下的所有取样器起作用.所以该响应断言会断言"Thread Group"线程组下所有取样器,包括"HTTP Request1","HTTP Request2","HTTP Request3"与"HTTP Request4",如下图示:</p><div class=pgc-img><img alt=性能测试-JMeter组件作用域规则 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3b0c1ba1930f414aa5ec80a9e5b009fa><p class=pgc-img-caption></p></div><p>3.4 测试计划作用域</p><p>"Response Assertion"响应断言,其父节点为"Test Plan"测试计划,具有测试计划作用域,其对测试计划下的所有取样器起作用.所以该响应断言会断言"Test Plan"测试计划下所有取样器,包括"HTTP Request1","HTTP Request2","HTTP Request3","HTTP Request4","HTTP Request5"与"HTTP Request6",如下图示:</p><div class=pgc-img><img alt=性能测试-JMeter组件作用域规则 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/cfee865e10824dbfa341d6c19b3621a1><p class=pgc-img-caption></p></div><p>4 .组件叠加对作用域的影响</p><p>一般情况下,对于前置处理器,定时器,后置处理器,断言与监听器组件而言,当一个取样器受多个不同作用域的组件影响时,按照这些组件在测试计划中的执行的先后顺序依次作用于取样器.</p><p>举个例子:</p><p>"HTTP Request1"取样器受"Response Assersion1"与"Response Assersion2"</p><p>响应断言的影响,按照执行顺序,首先"Response Assersion2"对</p><p>"HTTP Request1"断言,接下来是""Response Assersion1"再次对</p><p>"HTTP Request1"断言,如下图所示:</p><div class=pgc-img><img alt=性能测试-JMeter组件作用域规则 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/000b0875471f463185e2c9211e83c9f2><p class=pgc-img-caption></p></div><p>但对于配置元件这个组件而言,情况有所不同了.当有多个配置元件作用于取样器时,JMeter按照执行的先后顺序将多个配置元件中的值覆盖合并后再提交给取样器.</p><p>举个例子:</p><p>配置元件"HTTP Request Defaults1"与"HTTP Request Defaults2",设置分别如下图所示:</p><div class=pgc-img><img alt=性能测试-JMeter组件作用域规则 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/db986fc7361b4177965535da9e032363><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=性能测试-JMeter组件作用域规则 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3e9f190709b04da1b0b3735226698028><p class=pgc-img-caption></p></div><p>JMeter将两个配置元件中设置的值进行合并与覆盖,可以在查看结果树中查看合并后的结果,如下图所示:</p><div class=pgc-img><img alt=性能测试-JMeter组件作用域规则 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4d8d9056660c434a9a4ca3764621b1f3><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'作用域','测试','JMeter'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>