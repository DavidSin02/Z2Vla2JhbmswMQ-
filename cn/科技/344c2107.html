<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>你会进行网络排错吗？网络排错方法整理 | 极客快訊</title><meta property="og:title" content="你会进行网络排错吗？网络排错方法整理 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/c4a6dcc358f64822b2c2d4ae5f3bd82f"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/344c2107.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/344c2107.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/344c2107.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/344c2107.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/344c2107.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/344c2107.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/344c2107.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/344c2107.html><meta property="article:published_time" content="2020-11-14T21:02:11+08:00"><meta property="article:modified_time" content="2020-11-14T21:02:11+08:00"><meta name=Keywords content><meta name=description content="你会进行网络排错吗？网络排错方法整理"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/344c2107.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>你会进行网络排错吗？网络排错方法整理</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p class=ql-align-justify>网络故障是最容易出现的，也是难以解决的问题，尤其是经常跟电脑及交换机打交道的朋友，网络故障难免会出现。</p><p class=ql-align-justify>大部分网络故障排查思路与案例处理方法，应该说可以解决日常中大部分的网络问题。</p><p class=ql-align-justify><strong>一、故障排除思路</strong></p><p class=ql-align-justify>定位故障范围</p><p class=ql-align-justify>①全网性网络故障：可定位故障源在出口或核心区域；</p><p class=ql-align-justify>②小范围网络故障：可定位故障源在离故障源最近的相应设备或链路；</p><p class=ql-align-justify>③单点性网络故障：可定位故障源在故障源自身。</p><p class=ql-align-justify>排除故障</p><p class=ql-align-justify>①总体上思路为“链路”à“配置”。</p><p class=ql-align-justify>②首先确认网络或相关设备是否出现人为变更；</p><p class=ql-align-justify>③其次检查物理链路、设备是否正常；</p><p class=ql-align-justify>④最后检查网络设备的相关属性或配置。</p><p class=ql-align-justify><strong>二、常用排错方法</strong></p><p class=ql-align-justify>1、网络设备</p><p class=ql-align-justify>①查看状态灯，包括 电源指示灯、状态灯、报警灯；</p><p class=ql-align-justify>②感知设备的温度，检查设备是否温度过高。</p><p class=ql-align-justify>2、物理链路</p><p class=ql-align-justify>①检查链路指示灯；</p><p class=ql-align-justify>②拔插链路；（附：光纤链路不建议多次拔插，多模光纤可以通过肉眼看到可见光）</p><p class=ql-align-justify>③更换端口。</p><p class=ql-align-justify>3、终端主机</p><p class=ql-align-justify>Windows系统可使用如下常用命令</p><p class=ql-align-justify>ping 192.168.100.254 !连通性测试</p><p class=ql-align-justify>tracert –d 192.168.10.254 !路径追踪</p><p class=ql-align-justify>ipconfig /all !查看网卡信息</p><p class=ql-align-justify>ipconfig /release !网卡信息复位</p><p class=ql-align-justify>ipconfig /renew !重获取IP地址（DHCP环境下）</p><p class=ql-align-justify>ipconfig /flushdns !刷新DNS缓存</p><p class=ql-align-justify>arp –a !查看ARP信息</p><p class=ql-align-justify>arp -d !重置网卡ARP信息</p><p class=ql-align-justify>telnet 192.168.100.254 !远程登录</p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c4a6dcc358f64822b2c2d4ae5f3bd82f><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>测试网络是否通畅。</p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f84129bb2fd849379c566754c69cb084><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>路由跟踪</p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/8e9cde340f3746b98c8c16ff06b8fa71><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>4、分段定位</p><p class=ql-align-justify>从用户端PC到接入交换机</p><p class=ql-align-justify>从接入交换机到汇聚层交换机</p><p class=ql-align-justify>从汇聚层交换机到核心交换机</p><p class=ql-align-justify>从核心交换机到防火墙</p><p class=ql-align-justify>从防火墙到路由器</p><p class=ql-align-justify>从路由器到出口网关</p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f18c5d15f5664220b1e5845943794bdf><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>四、网络设备使用与指示灯查看</strong></p><p class=ql-align-justify>1、网络使用环境</p><p class=ql-align-justify>①温度要求：15℃~30℃</p><p class=ql-align-justify>②相对湿度要求：40%~65%</p><p class=ql-align-justify>③洁净度要求： ≤ 1.3×105 (灰尘粒子直径≥5μm)</p><p class=ql-align-justify>④抗干扰要求：远离强功率高频大电流设备</p><p class=ql-align-justify>⑤交流电源要求：100-240V~/50-60Hz</p><p class=ql-align-justify>⑥设备之间保持良好通风闪热</p><p class=ql-align-justify>2、指示灯查看</p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1f1aecce20c54276b1a9b71dd71930fe><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>常故障案例汇合</strong></p><p class=ql-align-justify><strong>故障案例-1 ： PC无法获取IP地址</strong></p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/54d2d29e8a484069aa6131d3ed5721cc><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>排查步骤：</p><p class=ql-align-justify>①检查DHCP服务器是否正常，相关服务是否运行。</p><p class=ql-align-justify>②从主机、核心交换机分别 ping DHCP服务器。</p><p class=ql-align-justify>③内网设置静态IP地址后,检查是否可以ping通网关。</p><p class=ql-align-justify>根据上面的结果，从链路à设置检查是否有故障。</p><p class=ql-align-justify><strong>故障案例-2：PC可以获取IP地址，但不能上网</strong></p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/8c67e4621b8e4e8281da0372c5d25849><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>排查步骤：</p><p class=ql-align-justify>在不能上网的主机上cmd—>ipconfig /all，查看获取到IP地址信息。</p><p class=ql-align-justify>如果出现下图所示，说明DHCP服务器相应作域的“003 默认路由” 的设置错误。</p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f6cf9ca8394d4535826696b62a368e00><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a202bec5990f41a584946931fee5e038><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>故障案例-3 ： PC获取到错误的IP地址</strong></p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2bb5e16418204e38ac17d230321d97ef><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>排查步骤：</p><p class=ql-align-justify>检查内网是否有人使用了Windows 2003 Server作为操作系统，并开启了DHCP服务,或使用无线宽带路由器，导致地址获取混乱。</p><p class=ql-align-justify>解决方法：</p><p class=ql-align-justify>可以在接入交换机上开启DHCP Snooping，只允许从上联口信任口获取DHCP offer报文，下联口不允许。</p><p class=ql-align-justify><strong>故障案例-4 ： PC不能通过域名访问网站</strong></p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/0cb853bd42304d23b37f1fffd2385ff0><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>排查步骤：</p><p class=ql-align-justify>DNS未设置或设置错误。</p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1d204f04554b4b5f92479701042f4fec><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>故障案例-5 ： ARP欺骗攻击</strong></p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3a145a8e15e94d50a81ce908692ca845><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>排查步骤：</p><p class=ql-align-justify>在不能上网的主机上cmdàipconfig /all，查看获取到IP地址信息.</p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6be97ce586dd449ba1e2bf330345d0b3><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>相关命令：showarp | include xxxx.xxxx.xxxx</p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4a7cf63006274eaa94f2fc2d308e93bd><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>故障案例-6 ： 配置错误—接口VLAN划分错误</strong></p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/35697fdcb08249dfbd4ec2ccd66277bf><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>此模式一般在设置了静态IP地址的环境中出现。</p><p class=ql-align-justify>故障现象：主机ping不通网关。</p><p class=ql-align-justify>排查步骤：</p><p class=ql-align-justify>cmdàipconfig /all 查看主机IP地址。</p><p class=ql-align-justify>检查交换机相应端口的VLAN设置。</p><p class=ql-align-justify>相关命令：show run</p><p class=ql-align-justify>show int status</p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2931daf53bd94420b378c5422ca1669d><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>故障案例-7 ： 网络环路</strong></p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b41a2fa669974f83b6bb636c35f3051a><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>现象：交换机端口指示灯一起同步闪烁，PC ping外网丢包，上网特别慢</p><p class=ql-align-justify>排除方法：通过关闭端口寻找照成环路的网线或者端口；</p><p class=ql-align-justify>解决方法：通过开启生成树来解决该问题，对于第二种方式通过连接PC端口开启spanning-tree bpduguard enable来解决；</p><p class=ql-align-justify><strong>故障案例-8 ： 校内只有部分网段能上网，其他不允许</strong></p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ed004eb907f34050a0a3a1c7c6ebd6e2><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>现象：校园网内部只有部分网段能够上网，其他网段不允许</p><p class=ql-align-justify>排除方法：</p><p class=ql-align-justify>1、出口路由器列表里面是否做了限制；</p><p class=ql-align-justify>2、路由器回指路由是否正常；</p><p class=ql-align-justify>解决方法：</p><p class=ql-align-justify>1、NAT的ACL修改；</p><p class=ql-align-justify>2、添加回指路由；</p><p class=ql-align-justify><strong>故障案例-9 ： 内网服务器无法被公网访问</strong></p><div class=pgc-img><img alt=你会进行网络排错吗？网络排错方法整理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/14f30d735e9642c99a05e3a9d90b3b63><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>现象：在学校外无法通过公网地址访问学校WEB服务器；</p><p class=ql-align-justify>排除方法：出口路由器是否做了端口映射；</p><p class=ql-align-justify>解决方法：添加端口映射来解决</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'网络','排错','你会'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>