<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>C语言学习|指针的介绍 | 极客快訊</title><meta property="og:title" content="C语言学习|指针的介绍 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/dfic-imagehandler/c0e2d97c-76c4-4923-8522-7e8dffe2b46a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/35252384.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/35252384.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/35252384.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/35252384.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/35252384.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/35252384.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/35252384.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/35252384.html><meta property="article:published_time" content="2020-11-14T21:00:48+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:48+08:00"><meta name=Keywords content><meta name=description content="C语言学习|指针的介绍"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/35252384.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>C语言学习|指针的介绍</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><div class=pgc-img><img alt=C语言学习|指针的介绍 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/c0e2d97c-76c4-4923-8522-7e8dffe2b46a><p class=pgc-img-caption></p></div><p>指针是C语言提供的一种特殊而又有非常重要的数据类型。</p><p>联合使用指针和结构体这两种数据类型可以有效地表示许多复杂的数据结构，如队列、堆栈、链表、树、图等。</p><p>指针这个内容为什么那么的重要？</p><p>1.指针为函数提供修改变量值的手段</p><p>2.指针为C语言的内存动态分配系统提供支持</p><p>3.指针为动态数据结构（如链表、队列、二叉树等）提供支持</p><p>4.指针可以改善某些子程序的效率</p><p>指针的概述</p><p>程序是由数据和指令组成的，而数据和指令在执行过程中是存储在计算机内存中的，变量是程序数据中的一种，因此变量也存储在内存中。</p><p>内存地址：内存中的每字节都有一个唯一的编号，以便内存的管理。</p><p>内存地址的编码方式与操作系统有关，在32为计算机上，内存地址编码是32位，从0x00000000到0xFFFFFFFF，最多支持4G的内存。任何数据存储到内存中的过程，都需要记录两条信息，一是分配的内存空间的首地址，二是分配的内存空间大小。</p><p>如果变量的值已经存储与内存中，对变量的访问有两种方式：直接寻址和间接寻址</p><p>直接寻址，顾名思义就是直接访问变量的值，使用变量名或使用变量的地址都可直接引用变量的值。</p><p>例如：</p><p>short int a=12；</p><p>假设编译器在编译程序时为短整型变量分配了两个字节的存储单元。如图</p><div class=pgc-img><img alt=C语言学习|指针的介绍 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c010253be59248c7ac2455264ba30ed8><p class=pgc-img-caption>直接寻址示意图</p></div><p>由于程序运行时变量a被初始化为12，因此变量a当前值是12，也可用变量名a表示变量的值。这种直接按变量名来存取变量值访问方式。而用地址访问就必须知道变量的地址，需要使用取地址运算符&来获取变量的地址。</p><p>例如，用&a表示变量a在内存中所占存储单元的首地址，而无须关心该地址的具体值是多少。如果通过p=&a赋值操作，将变量a的地址赋值给另一个变量p，那么我们就获得了另外一种访问变量的方法，即通过先访问变量p获得变量a的地址值，然后再到该地址值代表的存储单元中去访问变量a。当然，这里的变量p不是普通类型的变量，它是一种特殊类型的变量，即指针类型的变量，简称指针变量。</p><p>指针变量是C语言中专门用于存放地址型数据的变量。这种通过指针变量间接存取它所指向的访问方式，称为间接寻址。间接寻址是通过其他变量来获取要访问变量的地址，再进行访问。</p><div class=pgc-img><img alt=C语言学习|指针的介绍 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/bcb5faffbc9e4642a0d8a4bfca63ef3b><p class=pgc-img-caption>间接寻址示意图</p></div><p>C语言提供了两个单目运算符&和*，使用它们可以方便地实现有关地址和指针的运算。</p><p>取地址运算符&用于得到变量的地址。</p><p>p=&a；</p><p>当指针变量p中存储了变量a的地址时，我们就称指针变量p指向了变量a。在32位计算机上，由于地址是32位的，因此要用指针变量保存地址就需要占用4字节的存储空间。</p><p>为了得到一个指针所指对象的内容，可以用*运算符放在指针变量前实现通过指针变量间接访问它所指向的存储单元的目的，*称为指针运算符，也称间接寻址运算符或解引用运算符，它返回其操作数（即一个指针）所指向的对象的值。</p><p>假设指针变量p已指向了变量a，那么通过*p也可以得到指针变量p所指向的变量a的值，输出*p的值和输出a的值是等价的。</p><p>以这种方式使用指针运算符*，称为指针的解引用。对指针变量进行解引用时，要求指针已被正确初始化或已确认它已指向某个确定的内存单元。</p><p>如果一个指针变量没有被初始化，就使其指向内存中某个确定的存储单元，对这个指针变量解引用，将引起一个致命的运行时错误，或者意外地改写内存中的重要数据，使程序得到一个错误的运行结果。</p><p>编程小实例：</p><p>从键盘任意输入两个整数</p><p>#include&lt;stdio.h></p><p>void swap(int x,int b);</p><p>int main()</p><p>{</p><p>int a,b;</p><p>printf("Please enter a and b:");</p><p>scanf("%d %d",&a,&b);</p><p>printf("Before swap:a=%d,b=%d\n",a,b);</p><p>swap(a,b);</p><p>printf("After swap:a=%d,b=%d\n",a,b);</p><p>return 0;</p><p>}</p><p>void swap(int x,int y)</p><p>{</p><p>int temp;</p><p>temp=a;</p><p>a=b;</p><p>b=temp;</p><p>}</p><p>程序运行的结果如下：</p><p>Please enter a and b:36 12（按回车）</p><p>Before swap:a=36,b=12</p><p>After swap:a=36,b=12</p><p>程序运行示意图如下</p><div class=pgc-img><img alt=C语言学习|指针的介绍 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ce6a1c0f6f8b44bfbd4a6206b3eaad5f><p class=pgc-img-caption></p></div><p>由于形参x和y是动态局部变量，离开定义它们的函数swap后，分配给它们的存储空间就被释放了，当然保存在变量x和y中的互换结果也就找不到了。这时，主函数中实参a和b的值却为发生任何的改变，仍然保持原来的值，即a=36，b=12，因此，程序执行第二个printf的输出结果就是“After swap:a=36,b=12”。显然swap毫无做功。</p><div class=pgc-img><img alt=C语言学习|指针的介绍 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/57d904ca-1243-47e5-a075-96831d42677b><p class=pgc-img-caption></p></div><p>由于C语言中函数参数的传递方式是“单向传值”，当用简单变量作为函数实参进行函数调用时，由于实参向形参的传值是单向的，实参的值被复制个形参后，对形参值得任何改变都不会影响主函数中对应的实参值，因此，为了在函数调用后得到修改后的参数值，虽然可以利用return语句将其值从被调函数中返回给主函数，但return仅限于从函数返回一个值，但需要得到两个或多个修改了的值时，就要用传地址值得方法。</p><p>一种方法是用数组名作为函数参数，即将数组在内存中的起始地址传给形参，这样做可以得到多个变化的值。这些变化的值存放在实参数组中，它是通过形参数组将其改变的。</p><p>如果待修改的数据不多，且不是放在一个数组中，那么可以用指针变量作为函数参数。由于指针变量中存放的某个变量的地址，因此它传给形参的是指针所指向的变量所占存储单元的地址，即不是直接复制变量的值给形参，而是复制了变量地址给形参，相当于房主配了一把钥匙给房客，房客在得到房间钥匙的同时也获得了修改房间内容的权限。由于实参和形参都表示同一个地址值，相当于它们都指向了同一个内存单元，因此，在这种情况下，被调函数对形参所指向的存储单元值的任何修改，都可以在主函数中通过相应的实参来间接读取。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'语言学习','指针','介绍'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>