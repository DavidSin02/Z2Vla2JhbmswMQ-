<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>è¿ç»´å·¥ç¨‹å¸ˆå¿…å¤‡æŠ€èƒ½ï¼šäº¤æ¢æœºä¸Šå¯åŠ¨QOS | æå®¢å¿«è¨Š</title><meta property="og:title" content="è¿ç»´å·¥ç¨‹å¸ˆå¿…å¤‡æŠ€èƒ½ï¼šäº¤æ¢æœºä¸Šå¯åŠ¨QOS - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/228b4f9753a44d7593432b6f8f2b8dcb"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/35e1fd3.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/35e1fd3.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/35e1fd3.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/35e1fd3.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/35e1fd3.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/35e1fd3.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/35e1fd3.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/35e1fd3.html><meta property="article:published_time" content="2020-10-29T21:05:53+08:00"><meta property="article:modified_time" content="2020-10-29T21:05:53+08:00"><meta name=Keywords content><meta name=description content="è¿ç»´å·¥ç¨‹å¸ˆå¿…å¤‡æŠ€èƒ½ï¼šäº¤æ¢æœºä¸Šå¯åŠ¨QOS"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/35e1fd3.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>è¿ç»´å·¥ç¨‹å¸ˆå¿…å¤‡æŠ€èƒ½ï¼šäº¤æ¢æœºä¸Šå¯åŠ¨QOS</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>å¯é™é€Ÿçš„äº¤æ¢æœºä¸€èˆ¬éƒ½åœ¨ä¸‰å±‚æˆ–è€…ä»¥ä¸Šçš„äº¤æ¢æœºï¼Œè‡ª2008å¹´ä¹‹åæ–°å‡ºçš„äº¤æ¢æœºå‹å·äºŒå±‚è®¾å¤‡å°±å¯ä»¥ åšåˆ°QOSé™é€Ÿï¼Œç²¾ç¡®åº¦è¾¾åˆ°1Mbpsï¼Œä¾‹å¦‚Cisco 2960ç³»åˆ—äº¤æ¢æœºã€‚åœ¨è¿™ä¹‹åçš„å¤§å¤šæ•°å›½å†…çš„æ ‡å‡†äºŒå±‚äº¤æ¢æœºéƒ½å¯ä»¥åšå¤šé™é€Ÿï¼Œç²¾ç¡®åº¦åŸºæœ¬èƒ½è¾¾åˆ°1Mbpsï¼Œæ¯”å¦‚ä¸­å…´çš„æ ‡å‡†äºŒå±‚ï¼ŒH3Cçš„æ ‡å‡†äºŒå±‚éƒ½å¯ä»¥åš åˆ°ã€‚è€å¼çš„CISCOæ ‡å‡†äºŒå±‚äº¤æ¢æœºä¾‹å¦‚2950ç±»çš„äº¤æ¢ä¹Ÿå¯ä»¥åšåˆ°é™é€Ÿï¼Œä½†æ˜¯ç²¾ç¡®åº¦åªèƒ½è¾¾åˆ°10Mbpsã€‚2950Gçš„äº¤æ¢å’Œ2950 ä¸ºEIå‹ çš„äº¤æ¢æ²¡æœ‰å¤ªå¤§çš„é™é€ŸåŒºåˆ«ï¼Œå› ä¸ºé™é€Ÿå’Œæœ‰å…³ç³»ï¼Œ2950 ç³»åˆ—çš„äº¤æ¢IOSç‰ˆæœ¬ä¸€èˆ¬éƒ½æ˜¯åœ¨9.0 å·¦å³ï¼Œæœ€æ–°çš„2960ç³»åˆ—äº¤æ¢æœº IOS ç‰ˆæœ¬åœ¨ 12.2 å·¦å³ï¼Œé«˜ç‰ˆæœ¬çš„IOS æä¾›äº†æ›´å¼ºçš„ç³»ç»ŸåŠŸèƒ½ã€‚</p><div class=pgc-img><img alt=è¿ç»´å·¥ç¨‹å¸ˆå¿…å¤‡æŠ€èƒ½ï¼šäº¤æ¢æœºä¸Šå¯åŠ¨QOS onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/228b4f9753a44d7593432b6f8f2b8dcb><p class=pgc-img-caption></p></div><p>ä¸‹é¢é’ˆå¯¹ä¸€äº›é™é€Ÿçš„æ–¹æ³•è¿›è¡Œæ€»ç»“ï¼š</p><p>PC1æ¥åœ¨Cisco3550 F0/1ä¸Šï¼Œé€Ÿç‡ä¸º1M;</p><p>PC1æ¥åœ¨Cisco3550 F0/2ä¸Šï¼Œé€Ÿç‡ä¸º2M;</p><p>Cisco3550çš„G0/1ä¸ºå‡ºå£ã€‚</p><p>PCæ˜¯ç›´æ¥æ¥åœ¨ä¸‰å±‚äº¤æ¢æœºç«¯å£çš„ï¼Œæ„æ€å°±æ˜¯è¯´é™åˆ¶çš„æ˜¯ä¸‰å±‚äº¤æ¢æœºç«¯å£çš„ä¸Šä¸‹è¡Œæµé‡æ§åˆ¶ï¼ŒåŒç†ï¼Œå¦‚æœä¸‰å±‚äº¤æ¢æœºç«¯å£ä¸æ˜¯æ¥PCï¼Œè€Œæ˜¯ä¸€ä¸ªäºŒå±‚äº¤æ¢æœºï¼Œé‚£ä¹ˆå¯ä»¥å¯¹ä¸‹å±‚çš„è®¾å¤‡è¿›è¡Œä¸Šè”é™é€Ÿã€‚</p><p>æ³¨:æ¯ä¸ªæ¥å£æ¯ä¸ªæ–¹å‘åªæ”¯æŒä¸€ä¸ªç­–ç•¥;ä¸€ä¸ªç­–ç•¥å¯ä»¥ç”¨äºå¤šä¸ªæ¥å£ã€‚å› æ­¤æ‰€æœ‰PCçš„ä¸‹è½½é€Ÿç‡çš„é™åˆ¶éƒ½åº”è¯¥å®šä¹‰ã€‚åœ¨åŒä¸€ä¸ªç­–ç•¥(åœ¨æœ¬ä¾‹å­å½“ä¸­ä¸ºpolicy-map user-down)ï¼Œè€ŒPCä¸åŒé€Ÿç‡çš„åŒºåˆ†æ˜¯åœ¨Class-mapåˆ†åˆ«å®šä¹‰ã€‚</p><p>1ã€åœ¨äº¤æ¢æœºä¸Šå¯åŠ¨QOS</p><p>Switch(config)#mls qos //åœ¨äº¤æ¢æœºä¸Šå¯åŠ¨QOS</p><p>2ã€åˆ†åˆ«å®šä¹‰PC1(10.10.1.1)å’ŒPC2(10.10.2.1)è®¿é—®æ§åˆ¶åˆ—è¡¨</p><p>Switch(config)#access-list 10 permit 10.10.1.0 0.0.0.255 //æ§åˆ¶pc1ä¸Šè¡Œæµé‡</p><p>Switch(config)#access-list 100 permit ip any 10.10.1.0 0.0.0.255 //æ§åˆ¶pc1ä¸‹è¡Œæµé‡</p><p>Switch(config)#access-list 11 permit 10.10.2.0 0.0.0.255 //æ§åˆ¶pc2ä¸Šè¡Œæµé‡</p><p>Switch(config)#access-list 111 permit any 10.10.2.0 0.0.0.255 //æ§åˆ¶pc2ä¸‹è¡Œæµé‡</p><p>3ã€å®šä¹‰ç±»ï¼Œå¹¶å’Œä¸Šé¢å®šä¹‰çš„è®¿é—®æ§åˆ¶åˆ—è¡¨ç»‘å®š</p><p>Switch(config)# class-map user1-up //å®šä¹‰PC1ä¸Šè¡Œçš„ç±»ï¼Œå¹¶ç»‘å®šè®¿é—®åˆ—è¡¨10</p><p>Switch(config-cmap)# match access-group 10</p><p>Switch(config-cmap)# exit</p><p>Switch(config)# class-map user2-up</p><p>Switch(config-cmap)# match access-group 11 //å®šä¹‰PC2ä¸Šè¡Œçš„ç±»ï¼Œå¹¶ç»‘å®šè®¿é—®åˆ—è¡¨10</p><p>Switch(config-cmap)# exit</p><p>Switch(config)# class-map user1-down</p><p>Switch(config-cmap)# match access-group 100 //å®šä¹‰PC1ä¸‹è¡Œçš„ç±»ï¼Œå¹¶ç»‘å®šè®¿é—®åˆ—è¡¨100</p><p>Switch(config-cmap)# exit</p><p>Switch(config)# class-map user2-down</p><p>Switch(config-cmap)# match access-group 111 //å®šä¹‰PC2ä¸‹è¡Œçš„ç±»ï¼Œå¹¶ç»‘å®šè®¿é—®åˆ—è¡¨111</p><p>Switch(config-cmap)# exit</p><p>4ã€å®šä¹‰ç­–ç•¥ï¼ŒæŠŠä¸Šé¢å®šä¹‰çš„ç±»ç»‘å®šåˆ°è¯¥ç­–ç•¥</p><p>Switch(config)# policy-map user1-up //å®šä¹‰PC1ä¸Šè¡Œçš„é€Ÿç‡ä¸º1M</p><p>Switch(config-pmap)# class user1-up</p><p>Switch(config-pmap-c)# trust dscp</p><p>Switch(config-pmap-c)# police 1024000 1024000 exceed-action drop</p><p>Switch(config)# policy-map user2-up //å®šä¹‰PC2ä¸Šè¡Œçš„é€Ÿç‡ä¸º2M</p><p>Switch(config-pmap)# class user2-up</p><p>Switch(config-pmap-c)# trust dscp</p><p>Switch(config-pmap-c)# police 2048000 1024000 exceed-action drop</p><p>Switch(config)# policy-map user-down //å®šä¹‰PC1ä¸‹è¡Œçš„é€Ÿç‡ä¸º1M</p><p>Switch(config-pmap)# class user1-down</p><p>Switch(config-pmap-c)# trust dscp</p><p>Switch(config-pmap-c)# police 1024000 1024000 exceed-action drop</p><p>Switch(config-pmap-c)# exit</p><p>Switch(config-pmap)# class user2-down //å®šä¹‰PC2ä¸‹è¡Œçš„é€Ÿç‡ä¸º2M</p><p>Switch(config-pmap-c)# trust dscp</p><p>Switch(config-pmap-c)# police 2048000 1024000 exceed-action drop</p><p>Switch(config-pmap-c)# exit</p><p>5ã€åœ¨æ¥å£ä¸Šè¿ç”¨ç­–ç•¥</p><p>Switch(config)# interface f0/1 //è¿›å…¥PC1ç«¯å£ä¸Šè”äº¤æ¢æœºç«¯å£é…ç½®æ¨¡å¼</p><p>Switch(config-if)# service-policy input user1-up //ç»‘å®šPC1ä¸Šè¡Œç­–ç•¥ä¸ºuser1-up</p><p>Switch(config)# interface f0/2 //è¿›å…¥PC2ç«¯å£ä¸Šè”äº¤æ¢æœºç«¯å£é…ç½®æ¨¡å¼</p><p>Switch(config-if)# service-policy input user2-up //ç»‘å®šPC2ä¸Šè¡Œç­–ç•¥ä¸ºuser2-up</p><p>Switch(config)# interface g0/1 //è¿›å…¥äº¤æ¢æœºä¸Šè”åƒå…†ç«¯å£é…ç½®æ¨¡å¼</p><p>Switch(config-if)# service-policy input user-down //ç»‘å®šäº¤æ¢æœºä¸Šè”ç«¯å£ç­–ç•¥ä¸º user-down</p><p>åˆ©ç”¨ä¸‰å±‚äº¤æ¢ä¸­çš„strom-controlï¼ˆé£æš´æ§åˆ¶ï¼‰åŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½æ˜¯åŸºäºç«¯å£æ§åˆ¶å•æ’­\å¤šæ’­ \ç»„æ’­,å¯ä»¥ç²¾ç¡®åˆ°0.01%ï¼Œä½†æ˜¯ä¸€ä¸ªè¿‘ä¼¼å€¼ ã€‚æ­¤æ–¹æ³•æ˜¯ä¸€ä¸ªé—¨é™æ–¹å¼ï¼Œé™åˆ¶ç›‘æ§æ—¶é—´ä¸ºæ¯ç§’ï¼Œè¶…è¿‡è®¾ç½®çš„é—¨é™ä¾¿ä¸¢å¼ƒåŒ…ï¼Œå¹¶ä¸”ç”¨æˆ·æ˜¯ä¸çŸ¥æƒ…çš„ï¼Œä»¥ä¸ºæ˜¯ç½‘ç»œç»ˆç«¯ï¼Œæˆ–è€…è¿œç¨‹æ— å“åº”ï¼Œæ˜¾ç„¶è¿™ç§æ–¹å¼ä¸èƒ½ç¡®ä¿ç»ˆç«¯ ç”¨æˆ·æ¯æ—¶æ¯åˆ»çš„ç½‘ç»œç•…é€šï¼Œæ‰€ä»¥æœ¬äººè®¤ä¸ºæ­¤æ–¹æ³•åªé€‚ç”¨äºæŸäº›åœºåˆï¼Œæˆ–è€…å’Œå…¶å®ƒç­–ç•¥é…åˆä½¿ç”¨ã€‚</p><p>å…·ä½“é…ç½®æ–¹æ³•ï¼š</p><p>Switch(config)# interface f0/1 //è¿›å…¥äº¤æ¢æœºç«¯å£é…ç½®æ¨¡å¼</p><p>Switch(config-if)# strom-control unicast/broadcast/multi level 10 //è¯¥portå¸¦å®½çš„10%</p><p>ç†è§£é£æš´æ§åˆ¶</p><p>é£æš´æ§åˆ¶é˜²æ­¢äº¤æ¢æœºçš„ç«¯å£è¢«å±€åŸŸç½‘ä¸­çš„å¹¿æ’­ã€å¤šæ’­æˆ–è€…ä¸€ä¸ªç‰©ç†ç«¯å£ä¸Šçš„å•æ’­é£æš´æ‰€ç ´åã€‚å±€åŸŸç½‘é£æš´å‘ç”Ÿåœ¨åŒ…åœ¨å±€åŸŸç½‘ä¸­æ³›æ´ªï¼Œå»ºç«‹çš„è¿‡å¤šçš„æµé‡å¹¶ä¸§å¤±äº†ç½‘ç»œæ€§èƒ½ã€‚åè®®æ ˆä¸­çš„é”™è¯¯æˆ–è€…ç½‘ç»œé…ç½®ä¸Šçš„é”™è¯¯å¯ä»¥å¯¼è‡´é£æš´ã€‚</p><p>é£æš´æ§åˆ¶(æˆ–è€…å«æµé‡å‹åˆ¶)ç®¡ç†è¿›æ ˆçš„æµé‡çŠ¶æ€ï¼Œé€šè¿‡ä¸€æ®µæ—¶é—´å’Œå¯¹æ¯”æµ‹é‡å¸¦æœ‰é¢„å…ˆè®¾å®šçš„å‹åˆ¶çº§åˆ« é—¨é™å€¼çš„æ–¹æ³•æ¥ç®¡ç†ã€‚é—¨é™å€¼è¡¨ç°ä¸ºè¯¥ç«¯å£æ€»çš„å¯ç”¨å¸¦å®½çš„ç™¾åˆ†æ¯”ã€‚äº¤æ¢æœºæ”¯æŒå•ç‹¬çš„é£æš´æ§åˆ¶é—¨é™ç»™å¹¿æ’­ã€ç»„æ’­å’Œå•æ’­ã€‚å¦‚æœæµé‡ç±»å‹çš„é—¨é™å€¼è¾¾åˆ°äº†ï¼Œæ›´å¤šè¿™ç§ ç±»å‹çš„æµé‡å°±ä¼šå—åˆ°å‹åˆ¶ï¼Œç›´åˆ°è¿›æ ˆæµé‡ä¸‹é™åˆ°é—¨é™å€¼çº§åˆ«ä»¥ä¸‹ã€‚</p><p>æ³¨æ„ï¼šå½“ç»„æ’­çš„é€Ÿåº¦è¶…å‡ºä¸€ç»„é—¨é™ï¼Œæ‰€æœ‰çš„è¿›ç«™æµé‡(å¹¿æ’­ç»„æ’­å•æ’­)éƒ½ä¼šè¢«ä¸¢å¼ƒï¼Œç›´åˆ°çº§åˆ«ä¸‹é™åˆ°é—¨é™çº§åˆ«ä»¥ä¸‹ã€‚åªæœ‰stpçš„åŒ…ä¼šè¢«è½¬å‘ã€‚å½“å¹¿æ’­å’Œå•æ’­é—¨é™è¶…å‡ºçš„æ—¶å€™ï¼Œåªæœ‰è¶…å‡ºé—¨é™çš„æµé‡ä¼šè¢«å°é—­ã€‚</p><p>å½“é£æš´æ§åˆ¶å¼€å¯äº†æ—¶ï¼Œäº¤æ¢æœºç›‘è§†é€šè¿‡æ¥å£çš„åŒ…æ¥äº¤æ¢æ€»çº¿å’Œå†³å®šè¿™ä¸ªåŒ…æ˜¯å•æ’­ï¼Œç»„æ’­è¿˜æ˜¯å¹¿æ’­ã€‚äº¤æ¢æœºç›‘è§†å¹¿æ’­ç»„æ’­å’Œå•æ’­çš„æ•°ç›®ï¼Œæ¯1ç§’é’Ÿä¸€æ¬¡ï¼Œå¹¶ä¸”å½“æŸç§ç±»å‹æµé‡çš„é—¨é™å€¼åˆ°è¾¾äº†ï¼Œè¿™ç§æµé‡å°±ä¼šè¢«ä¸¢å¼ƒäº†ã€‚è¿™ä¸ªé—¨é™ä»¥å¯è¢«å¹¿æ’­ä½¿ç”¨çš„æ€»çš„å¯ç”¨å¸¦å®½çš„ç™¾åˆ†æ¯”è¢«æŒ‡å®šã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ¥å£ä¸Šçš„ä¸€æ®µæ—¶é—´å†…çš„å¹¿æ’­æµé‡çš„æ¨¡å‹æ›²çº¿å›¾ã€‚</p><p>è¿™ä¸ªä¾‹å­ä¹Ÿå¯è¢«ç»„æ’­å’Œå•æ’­æµé‡å¥—ç”¨ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¹¿æ’­æµé‡åœ¨T1-T2ã€T4-T5æ—¶é—´ä¹‹é—´è¢«è½¬å‘è¶…è¿‡é…ç½®é—¨é™å€¼æ‰€æœ‰çš„è¯¥ç§æµé‡éƒ½åœ¨ä¸‹ä¸€ä¸ªæ—¶é—´è¢«ä¸¢å¼ƒã€‚å› æ­¤å¹¿æ’­æµé‡åœ¨T2å’ŒT5æ—¶é—´å†…æ˜¯è¢«å°é—­çš„ã€‚åœ¨ä¸‹ä¸€ä¸ªæ—¶æ–­ï¼ŒT3ï¼Œå¦‚æœå¹¿æ’­æµé‡æ²¡æœ‰è¶…å‡ºé™åˆ¶ï¼Œé‚£ä¹ˆå®ƒåˆè¢«è½¬å‘äº†ã€‚</p><p>é£æš´æ§åˆ¶çš„å·¥ä½œæ˜¯é£æš´æ§åˆ¶æŠ‘åˆ¶çº§åˆ«å’Œæ¯ç§’é’Ÿé—´éš”æ§åˆ¶çš„ç»“åˆã€‚ä¸€ä¸ªæ›´é«˜çš„é—¨é™å…è®¸æ›´å¤šçš„åŒ…é€šè¿‡ã€‚å¦‚æœæŠŠé—¨é™å€¼è®¾ç½®æˆ100%æ„å‘³ç€å°†ä¸ä¼šé™åˆ¶æ‰€æœ‰ä»»ä½•çš„æµé‡ã€‚0%æ„å‘³ç€æ‰€æœ‰çš„å¹¿æ’­ç»„æ’­å’Œå•æ’­æµé‡éƒ½ä¼šè¢«å°é—­ã€‚</p><p>æ³¨æ„ï¼šå› ä¸ºåŒ…ä¸ä¼šåœ¨ç»Ÿä¸€æ—¶é—´é—´éš”å†…åˆ°è¾¾ï¼Œæ¯ç§’é’Ÿé—´éš”é—´å¦‚æœæ²¡æœ‰æµé‡ä¼šå½±å“é£æš´æ§åˆ¶ã€‚</p><p>äº¤æ¢æœºæŒç»­ç›‘è§†ç«¯å£çš„æµé‡ï¼Œè€Œä¸”å½“åˆ©ç”¨çº§åˆ«é™åˆ°é—¨é™ä»¥ä¸‹ï¼Œè¿™ç§è¢«ä¸¢å¼ƒç±»å‹çš„æµé‡ï¼Œåˆä¼šè¢«å†æ¬¡è½¬å‘ã€‚</p><p>ä½ å¯ä»¥ä½¿ç”¨storm-controlæ¥å£å‘½ä»¤æ¥è®¾å®šé—¨é™å€¼ç»™æ¯ä¸€ç§ç±»å‹çš„æµé‡ã€‚</p><p>é»˜è®¤çš„é£æš´æ§åˆ¶é…ç½®ï¼šé»˜è®¤åœ°ï¼Œå•æ’­ç»„æ’­å¹¿æ’­çš„é£æš´æ§åˆ¶éƒ½æ˜¯åœ¨äº¤æ¢æœºä¸Šå…³é—­çš„ï¼Œæ„å‘³ç€ï¼šå‹åˆ¶çº§åˆ«éƒ½æ˜¯100%ã€‚</p><p>å¼€å¯é£æš´æ§åˆ¶ï¼šä½ åœ¨æ¥å£å¼€å¯é£æš´æ§åˆ¶ï¼Œå¹¶è¾“å…¥æ€»å¯ç”¨å¸¦å®½çš„ç™¾åˆ†æ¯”æ¥ç¡®å®šä½ è¦ä½¿ç”¨ç»™è¯¥ç§æµé‡ï¼›è¾“å…¥100%ä¼šå…è®¸æ‰€æœ‰æµé‡ã€‚ç„¶è€Œï¼Œå› ä¸ºç¡¬ä»¶çš„é™åˆ¶ä»¥åŠåŒ…å¤§å°çš„ä¸åŒçš„ä¼šå¯¼è‡´åå·®ï¼Œé—¨é™å€¼ç™¾åˆ†æ¯”æ˜¯ä¸€ä¸ªè¿‘ä¼¼å€¼ã€‚</p><p>æ³¨æ„ï¼šé£æš´æ§åˆ¶ä»…æ”¯æŒåœ¨ç‰©ç†ç«¯å£ä¸‹ä½¿ç”¨ï¼›å®ƒä¸æ”¯æŒä»¥å¤ªé€šé“ä¸‹ä½¿ç”¨ï¼Œå°½ç®¡èƒ½æ•²è¿›å»ã€‚</p><p>ä»¥ä¸‹ä¾‹å­åœ¨f0/17ä¸‹æŠŠç»„æ’­é£æš´çº§åˆ«é™åˆ¶åœ¨70.5%</p><p>Switch# configure terminal</p><p>Switch(config)# interface fastethernet0/17</p><p>Switch(config-if)# storm-control multicast level 70.5 //é™åˆ¶ç»„æ’­ç±»å‹çš„åŒ…</p><p>Switch(config-if)# end</p><p>Switch# show storm-control fastethernet0/17 multicast</p><p>Interface Filter State Level Current</p><p>--------- ------------- ------- -------</p><p>Fa0/17 Forwarding 70.50% 0.00%</p><p>è¿™ä¸ªæ˜¯å…³é—­é£æš´æ§åˆ¶</p><p>Switch# configure terminal</p><p>Switch(config)# interface fastethernet0/17</p><p>Switch(config-if)# no storm-control multicast level</p><p>Switch(config-if)# end</p><p>Switch# show storm-control fastethernet0/17 multicast</p><p>Interface Filter State Level Current</p><p>--------- ------------- ------- -------</p><p>CISCO 3550-QOSçš„-æ¥å£é™é€Ÿ</p><p>Building configuration...</p><p>Current configuration : 3123 bytes</p><p>version 12.1</p><p>no service pad</p><p>service timestamps debug uptime</p><p>service timestamps log datetime localtime</p><p>no service password-encryption</p><p>hostname shangwu</p><p>enable secret 5 $1$PmhU$dlsphRGumA1simUEIA87j0</p><p>enable password</p><p>ip subnet-zero</p><p>mls qos</p><p>class-map match-all user1-up</p><p>match access-group 10</p><p>class-map match-all user1-down</p><p>match access-group 100</p><p>policy-map user1-up</p><p>class user1-up</p><p>police 800000 800000 exceed-action drop</p><p>trust dscp</p><p>spanning-tree extend system-id</p><p>interface FastEthernet0/1</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface FastEthernet0/2</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface FastEthernet0/3</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface FastEthernet0/4</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface FastEthernet0/5</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface FastEthernet0/6</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface FastEthernet0/7</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface FastEthernet0/8</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface FastEthernet0/9</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface FastEthernet0/10</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface FastEthernet0/11</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface FastEthernet0/12</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface FastEthernet0/13</p><p>no ip address</p><p>service-policy input user1-up</p><p>interface FastEthernet0/14</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>service-policy input user1-up</p><p>interface FastEthernet0/15</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>service-policy input user1-up</p><p>interface FastEthernet0/16</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>service-policy input user1-up</p><p>interface FastEthernet0/17</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>service-policy input user1-up</p><p>interface FastEthernet0/18</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>service-policy input user1-up</p><p>interface FastEthernet0/19</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>service-policy input user1-up</p><p>interface FastEthernet0/20</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>service-policy input user1-up</p><p>interface FastEthernet0/21</p><p>no ip address</p><p>duplex full</p><p>service-policy input user1-up</p><p>interface FastEthernet0/22</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>service-policy input user1-up</p><p>interface FastEthernet0/23</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>service-policy input user1-up</p><p>interface FastEthernet0/24</p><p>description wan interface</p><p>switchport mode access</p><p>no ip address</p><p>duplex full</p><p>speed 100</p><p>interface GigabitEthernet0/1</p><p>no ip address</p><p>interface GigabitEthernet0/2</p><p>no ip address</p><p>interface Vlan1</p><p>ip address ********255.255.255.0</p><p>ip default-gateway ********</p><p>ip classless</p><p>ip http server</p><p>logging trap debugging</p><p>logging source-interface FastEthernet0/24</p><p>logging ***********</p><p>access-list 10 permit *********.0 0.0.0.255</p><p>access-list 100 permit ip any ********.0 0.0.0.255</p><p>line con 0</p><p>exec-timeout 0 0</p><p>line vty 0 4</p><p>password</p><p>login</p><p>line vty 5 15</p><p>password</p><p>login</p><p>end</p><p>äº¤æ¢æœºçš„ä¸»æœºåã€è¿›å…¥enableæ¨¡å¼çš„å¯†ç ã€è¿œç¨‹ç™»é™†çš„ç”¨æˆ·åå’Œå¯†ç åŠè®¾ç½®ã€ç®¡ç†vlançš„ IPåœ°å€ã€äº¤æ¢æœºçš„é»˜è®¤ç½‘å…³ã€äº¤æ¢æœºçš„ç«¯å£ã€SNMPæœåŠ¡ã€äº¤æ¢æœºæ—¶é—´è®¾ç½®ç­‰ã€‚è¿™äº›å’Œä¹‹å‰çš„2950äº¤æ¢æœºéƒ½æ˜¯ä¸€æ ·çš„ï¼Œ 2960äº¤æ¢æœºå’Œ2950ç›¸æ¯”å¢åŠ äº†é™é€Ÿç­‰åŠŸèƒ½ï¼Œç”±äºä»Šåå®¢æˆ·æ–°ä¸Šæ¶é™¤äº†ç­¾ç½²äº†æµé‡åˆåŒçš„å…¶ä»–éƒ½è¦åœ¨äº¤æ¢æœºçš„ç«¯å£ä¸Šåšé™é€Ÿã€‚</p><p>é¦–å…ˆä¹Ÿæ˜¯ååˆ†é‡è¦çš„ä¸€ç‚¹å°±æ˜¯ï¼Œåœ¨äº¤æ¢æœºçš„é…ç½®æ²¡æœ‰å®Œæˆå‰ï¼Œç‰¹åˆ«æ˜¯VTPæ¨¡å¼çš„é…ç½®ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹VTPçš„åˆå§‹æ¨¡å¼å› é…ç½®ä¸ºtransparentæ¨¡å¼ï¼‰æ²¡æœ‰å®Œæˆå‰ç¦æ­¢å°†äº¤æ¢æœºæ¥å…¥ç½‘ç»œï¼Œä»¥å…ä½¿ç½‘ç»œä¸­çš„VLANä¿¡æ¯å‘ç”Ÿæ”¹å˜ï¼Œå› å½“ä½¿ç”¨consoleçº¿å¯¹å…¶è¿›è¡Œé…ç½®ã€‚</p><p>åœ¨åˆšå¼€å§‹é…ç½®2950çš„æ—¶å€™ç”±äºè¿˜æ²¡æœ‰è®¾ç½®å¯†ç ï¼Œå¤„äºå®‰å…¨æ–¹é¢çš„è€ƒè™‘ä¸è¦å°†å…¶æ¥å…¥ç½‘ç»œï¼Œå› ä½¿ç”¨ consoleå£å¯¹å…¶è¿›è¡Œé…ç½®ã€‚äº¤æ¢æœºåˆšåŠ ç”µå¯åŠ¨æ—¶æ‰€æœ‰çš„ç«¯å£ä¼šè¿›è¡Œè‡ªæ£€ï¼Œå¼€å§‹æ—¶æ¯ä¸ªç«¯å£ä¸Šçš„æŒ‡ç¤ºç¯ä¼šå‘ˆç¥ç€è‰²ç»è¿‡ä¸€æ®µæ—¶é—´åç†„ç­ã€‚ç³»ç»Ÿçš„æŒ‡ç¤ºç­‰é»˜è®¤æƒ…å†µ ä¸‹ä¼šäº®åœ¨SYSTå’Œ STATä¸¤ä¸ªç¯ä¸Šã€‚</p><p>äº¤æ¢æœºå¯åŠ¨åä½¿ç”¨consoleçº¿å¯¹å…¶è¿›è¡Œè®¾ç½®ã€‚Consoleçº¿ä½¿ç”¨çš„æ˜¯ä¸²è¡Œæ¥å£ï¼Œä¸²è¡Œå£ä¸ç”µ è„‘çš„ä¸²è¡Œå£ç›¸è¿ï¼ˆå¦‚ç”µè„‘æ²¡æœ‰ä¸²è¡Œå£å¯ä»¥ä½¿ç”¨è½¬æ¥å™¨è¿æ¥ï¼‰ï¼ŒRJ-45çš„æ¥å¤´å’Œäº¤æ¢æœºçš„consoleå£ç›¸è¿ã€‚çº¿è¿å¥½ååœ¨windowsä¸Šç‚¹å‡» å¼€å§‹â†’ç¨‹åºâ†’é™„ä»¶â†’é€šè®¯â†’è¶…çº§ç»ˆç«¯ï¼Œåœ¨è·³å‡ºæ–°å»ºè¿æ¥å¯¹è¯æ¡†ååœ¨åç§°ä¸€æ ä¸­å¡«å…¥æƒ³è¦æ–°å»ºçš„è¿æ¥åç§°ï¼Œç„¶åç¡®å®šã€‚æ¥ç€æ‰€è¿æ¥çš„COMå£ï¼Œåœ¨COM1å±æ€§é‡Œæ³¢ç‰¹ ç‡é€‰æ‹©"9600"ï¼Œæ•°æ®ä½é€‰æ‹©"8"ï¼Œå¥‡å¶æ•ˆéªŒé€‰æ‹©"æ— "ï¼Œåœæ­¢ä½é€‰æ‹©"1"ï¼Œæµé‡æ§åˆ¶é€‰æ‹©"æ— "ï¼›æˆ–ç›´æ¥ç‚¹å‡»"è¿˜åŸé»˜è®¤å€¼"ï¼Œç¡®å®šè¿›å…¥2950é…ç½®ç•Œ é¢ã€‚</p><p>2950å¦‚ç¬¬ä¸€æ¬¡å¯åŠ¨ä¼šå‡ºç°å¯¹è¯é…ç½®æ¨¡å¼é€‰é¡¹ï¼Œé€‰æ‹©yesè¿›å…¥å¯¹è¯é…ç½®æ¨¡å¼ï¼Œé€‰æ‹©noè¿›å…¥CLIå‘½ä»¤è¡Œç•Œé¢ã€‚ä»¥ä¸‹é…ç½®éƒ½åœ¨CLIæ¨¡å¼ä¸‹è¿›è¡Œã€‚</p><p>åœ¨CLIæ¨¡å¼ä¸‹äº¤æ¢æœºæ˜¾ç¤ºï¼šswitch></p><p>åœ¨æ­¤è¾“å…¥å‘½ä»¤ switch> ç”¨æˆ·æ¨¡å¼</p><p>switch>enable è¿›å…¥ç‰¹æƒæ¨¡å¼</p><p>switch# configure terminal è¿›å…¥é…ç½®æ¨¡å¼</p><p>switch(config)# é…ç½®æ¨¡å¼</p><p>è®¾ç½®ä¸»æœºå switch(config)#hostname <em>ä¸»æœºå </em>ä¸€èˆ¬æƒ…å†µä¸‹ä¸»æœºåçš„è®¾ç½®è§„åˆ™æ˜¯switchåé¢è·Ÿäº¤æ¢æœºç¼–å·ï¼Œå¦‚switch20ã€switch21ç­‰</p><p>è®¾ç½®enableå¯†ç  switch(config)#enable secret <em>å¯†ç </em> è®¾ç½®å¯†ç æ—¶ä½¿ç”¨secretå‘½ä»¤ï¼Œå› ä¸ºå®ƒæ¯”passwordå‘½ä»¤æœ‰æ›´å¥½çš„å®‰å…¨æ€§ï¼Œå¯†ç ç”¨Password Agentè½¯ä»¶éšæœºç”Ÿæˆ12ä½åŒ…å«æ•°å­—å’Œå¤§å°å†™å­—æ¯çš„å¯†ç </p><p>è®¾ç½®è¿œç¨‹ç™»é™†çš„ switch(config)# username <em>ç”¨æˆ·å</em>privilege <em>æƒé™</em> secret <em>å¯†ç </em></p><p>ç”¨æˆ·åã€æƒé™å’Œå¯†ç  åœ¨è®¾ç½®<em>æƒé™</em>å‚æ•°æ—¶ä¸€èˆ¬å¡«0(æœ€ä½æƒé™)ï¼Œ<em>ç”¨æˆ·å</em>ç»Ÿä¸€ä¸ºnetmasterï¼Œå¯†ç ç”¨Password Agentè½¯ä»¶éšæœºç”Ÿæˆ12ä½åŒ…å«æ•°å­—å’Œå¤§å°å†™å­—æ¯çš„å¯†ç </p><p>å¯¹æ‰€è®¾ç½®çš„å¯†ç  switch(config)# service password-encryption è¿›è¡ŒåŠ å¯†</p><p>è®¾ç½®ç®¡ç†vlanå’Œ switch(config)# interface vlan1 è¿›å…¥ç®¡ç†vlançš„é…ç½®</p><p>é»˜è®¤ç½‘å…³ switch(config-if)# ip address <em>IPåœ°å€ å­ç½‘æ©ç  </em>è®¾ç½®ç®¡ç†vlançš„IPï¼Œè¿œç¨‹ç™»é™†ä½¿ç”¨æ­¤IP</p><p>switch(config-if)#no shutdown å¯ç”¨ç®¡ç†vlan</p><p>switch(config-if)#exit é€€å‡ºç®¡ç†vlançš„é…ç½®</p><p>switch(config)# ip default-gateway <em>IPåœ°å€ </em>è®¾ç½®é»˜è®¤ç½‘å…³</p><p>è®¾ç½®äº¤æ¢æœºç«¯å£ switch(config)# interface FastEthernet 0/1 è¿›å…¥äº¤æ¢æœºçš„1å·ç«¯å£</p><p>switch(config-if)# description uplink port å¯¹ç«¯å£è¿›è¡Œæè¿°ï¼Œé»˜è®¤æ—¶äº¤æ¢æœº1å·å£ä¸ºä¸Šè¿å£</p><p>switch(config-if)# switchport mode trunk å°†ä¸Šè¿å£è®¾ä¸ºtrunkæ¨¡å¼</p><p>switch(config-if)# speed 100 è®¾ç½®ç«¯å£é€Ÿç‡</p><p>switch(config-if)# duplex full ç«¯å£è®¾ä¸ºå…¨åŒå·¥æ¨¡å¼</p><p>switch(config-if) interface range fastEthernet 0/2 -24</p><p>è¿›å…¥ç«¯å£2è‡³ç«¯å£24çš„é…ç½®</p><p>switch(config-if-range)#shutdown å…³é—­è¿™äº›ç«¯å£ï¼Œåˆ°ä½¿ç”¨æ—¶å†æ‰“å¼€</p><p>è®¾ç½®SNMPæœåŠ¡ switch(config)#snmp-server community <em>å­—ç¬¦ä¸²LgB96G0o</em> RO</p><p>å‘½ä»¤å…è®¸è¯»è®¿é—®åˆ°ä»»ä½•æäº¤community stringä¸º<em>å­—ç¬¦ä¸²</em>çš„è½¯ä»¶ï¼Œ<em>å­—ç¬¦ä¸²</em>è®¾ç½®è¦ç¬¦åˆé•¿åº¦8ä½ä»¥ä¸Šã€éœ€åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—</p><p>å…³é—­httpæœåŠ¡ switch(config)#no ip http server ç”±äºå¼€å¯httpæœåŠ¡åœ¨å…¨å…¨ä¸Šå­˜åœ¨éšæ‚£ï¼Œå› å…³é—­</p><p>è®¾ç½®vty switch(config)#line vty 0 4 è®¾ç½®telnetä¸º0è‡³4å…±5æ¡çº¿è·¯</p><p>switch24(config-line)# login local ä½¿ç³»ç»Ÿåœ¨è¿œç¨‹ç™»å½•æ—¶ä½¿ç”¨æœ¬åœ°è®¾ç½®çš„ç”¨æˆ·åå’Œå¯†ç è¿›è¡ŒéªŒè¯</p><p>è®¾ç½®timestamps switch(config)# service timestamps debug datetime</p><p>switch(config)# service timestamps log datetime é»˜è®¤æ—¶debug/logä¸ºuptimeï¼Œæ”¹ä¸ºdatetime</p><p>è®¾ç½®VTPæ¨¡å¼ switch#vlan database è¿›å…¥VTPçš„è®¾ç½®</p><p>switch (vlan)#vtp transparent å°†VTPæ¨¡å¼è®¾ç½®ä¸ºtransparentæ¨¡å¼</p><p>è®¾ç½®äº¤æ¢æœºæ—¶é—´ switch#clock set <em>hh:mm:ss</em></p><p>ä¿å­˜äº¤æ¢æœºçš„è®¾ç½® switch#copy running-config startup-config</p><p>æŸ¥çœ‹äº¤æ¢æœºè®¾ç½® switch#show running-config æŸ¥çœ‹äº¤æ¢æœºçš„é…ç½®</p><p>ç«¯å£æµé‡çš„é™åˆ¶</p><p>äº¤æ¢æœºç«¯å£æµé‡çš„é™åˆ¶æ˜¯ç”¨policy-mapæ¥å®ç°çš„ã€‚</p><p>switch (config)#ip access-list standard <em>name</em> // å»ºç«‹æ ‡å‡†çš„å‘½åè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼Œ<em>name</em>ä¸ºACLçš„åç§°</p><p>Switch (config-std-nacl)# permit any // åŒ¹é…ä»»ä½•ip</p><p>Switch (config)#class-map <em>name </em>//è®¾ç½®QoS Class Map</p><p>Switch (config-cmap)#match access-group name <em>name </em>// ç»‘å®šACLåˆ—è¡¨</p><p>Switch (config)#policy-map <em>name</em> // è®¾ç½®ç­–ç•¥åç§°</p><p>Switch (config-pmap)#class <em>name</em> // ç»‘å®šclass-map</p><p>Switch (config-pmap-c)#police <em>3000000 100000</em> exceed-action <em>drop</em> å®šä¹‰ç­–ç•¥æ­£å¸¸é€Ÿç‡ä¸ºæ¯ç§’3Mbitï¼Œå…è®¸è¶…å‡ºçš„èŒƒå›´æ˜¯100KByteï¼Œè¶…å‡ºèŒƒå›´çš„æ•°æ®åŒ…å°±<em>drop</em></p><p>Switch (config)#interface range fastEthernet 0/1 â€“ 24 // è¿›å…¥1ï¼24ç«¯å£ï¼Œé»˜è®¤äº¤æ¢æœºé™¤äº†ä¸Šè”å£å¤–éƒ½è¦åšé™é€Ÿ</p><p>Switch (config-if)#service-policy input <em>name</em> //åœ¨ç«¯å£ä¸Šè¿›çš„æ–¹å‘ç»‘å®šç­–ç•¥</p><p>Switch (config) #mls qos //å¯ç”¨mls qosä½¿ç­–ç•¥ç”Ÿæ•ˆ</p><p>ç«¯å£ç»‘å®šMACåœ°å€</p><p>è¿›å…¥é…ç½®æ¨¡å¼åç”¨ä»¥ä¸‹å‘½ä»¤ç»‘å®šï¼š</p><p>Switch(config-if )switchport port-security mac-address MAC(ä¸»æœºçš„MACåœ°å€)</p><p>è§£é™¤ç»‘å®š</p><p>Switch(config-if )no switchport port-security mac-address MAC(ä¸»æœºçš„MACåœ°å€)</p><p>äºŒå±‚äº¤æ¢æœºå¦‚ä½•é™é€Ÿï¼Ÿ</p><p>ä½¿ç”¨cisco 2950 äº¤æ¢æœºï¼Œæ¯ä¸ªç«¯å£éƒ½æ˜¯äºŒå±‚æ¥å…¥ï¼Œå¦‚ä½•é™é€Ÿï¼Ÿ</p><p>ä½¿ç”¨service-policyå¯ä»¥è¿›è¡Œç«¯å£é™é€Ÿï¼š</p><p>å¯ä»¥å…ˆå®šä¹‰classï¼Œç„¶å</p><p>Switch(config)# policy-map policy1</p><p>Switch(config-pmap)# class class1</p><p>Switch(config-pmap-c)# police 1000000 65536 exceed-action drop</p><p>ç„¶ååœ¨æ¥å£ä¸‹é…ç½®ï¼š</p><p>Switch(config)# interface gigabitethernet0/17</p><p>Switch(config-if)# service-policy input plcmap1</p><p>å¯ä»¥é™é€Ÿï¼Œä½†æ˜¯ä¸ç²¾ç¡®ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p><p>ç»™ä¸ª6500ä¸Šçš„é™é€Ÿä¾‹å­ï¼š</p><p>Mls qos aggregate-policer test 50000000 100000 conform-action transmit exceed-action drop</p><p>Mls qos</p><p>class-map match-any test_limite</p><p>match access-group name test_addr</p><p>policy-map rate-limit-uplink</p><p>class test_limite</p><p>police aggregate test</p><p>ip access-list extended test_addr</p><p>permit ip any x.x.x.x 0.0.0.255</p><p>inter g0/1</p><p>service-policy input rate-limit-uplink</p><p>æ€»ç»“:Ciscoäº¤æ¢æœºç«¯å£é™é€Ÿå¸¸ç”¨é…ç½®ï¼Œä»¥å‰ç«¯å£é™é€Ÿçš„å·¥ä½œéƒ½æ˜¯ç”±ä¸Šçº§éƒ¨é—¨æ¥åšï¼Œæœ€è¿‘ç”±äºåˆ†å…¬å¸è‡ªå·±çš„å†…éƒ¨å®¢æˆ·éœ€æ±‚ï¼Œæˆ‘ä»¬è¦ä¸ºå…¶æä¾›50Mçš„å¸¦å®½.ã€€ä¸ºæ­¤æˆ‘ä»¬å¯æ˜¯ç…è´¹è‹¦å¿ƒä½œäº†ä¸¤å¤©çš„æµ‹è¯•ï¼Œå…ˆæ¥è¯´è¯´æˆ‘ä»¬æµ‹è¯•çš„è®¾å¤‡è¿æ¥æƒ…å†µï¼š</p><p>æ€ç§‘3560ç«¯å£0/47ï¼ˆæ¨¡æ‹Ÿç”¨æˆ·ï¼‰â€”â€”â€”â€”â€”â€”æ€ç§‘6509ç«¯å£0/1ã€0/2ï¼ˆæ¨¡æ‹Ÿå±€ç«¯ï¼Œä¸¤æ¡è·¯æœ‰ä¸Šè”ï¼Œçƒ­å¤‡ï¼‰ã€‚</p><p>æµ‹è¯•æ–¹æ³•åœ¨3560åŠ6509ä¸Šåˆ†åˆ«èµ·ftpè¿›è¡Œæµ‹é€Ÿ</p><p>é‡ç‚¹æ¥äº†ï¼Œæ¥è¯´è¯´6509ä¸Šçš„å‘½ä»¤å§ï¼š</p><p>mls qos aggregate-policer test 50000000 100000 conform-action transmit exceed-action drop</p><p>mls qos</p><p>class-map match-any test_limite</p><p>match access-group name test_addr</p><p>policy-map rate-limit-uplink</p><p>class test_limite</p><p>police aggregate test</p><p>ip access-list extended test_addr (å› ä¸ºä¸Šä¸‹è¡Œéƒ½å¼•ç”¨ç­–ç•¥ä¸€æ ·å› æ­¤ä¸å•ç‹¬åšacl)</p><p>permit ip any x.x.x.x 0.0.0.3 (åˆ†é…ç»™ç”¨æˆ·çš„äº’è”ç½‘åœ°å€æ®µAï¼‰</p><p>permit ip x.x.x.x 0.0.0.3 any</p><p>permit ip any x.x.x.x 0.0.0.3 (åˆ†é…ç»™ç”¨æˆ·çš„äº’è”ç½‘åœ°å€æ®µBï¼‰</p><p>permit ip x.x.x.x 0.0.0.3 any</p><p>inter f0/1</p><p>ip addre x.x.x.x 255.255.255.252</p><p>service-policy input test_uplinké™åˆ¶ä¸Šä¼ </p><p>inter f0/2</p><p>ip addre x.x.x.x 255.255.255.252</p><p>service-policy input test_uplinké™åˆ¶ä¸Šä¼ </p><p>inter g0/47</p><p>service-policy input rate-limit-uplinké™åˆ¶ä¸‹è½½</p><p>ç»è¿‡æµ‹è¯•ï¼Œè¿™ä¸ªæ–¹æ¡ˆæˆåŠŸäº†ï¼æœ‰å‡ ç‚¹éœ€è¦è§£é‡Šä¸€ä¸‹ï¼Œå› ä¸º35å’Œ65åªæœ‰åœ¨inputæ–¹å‘æ‰èƒ½å¼• ç”¨ç­–ç•¥ï¼Œæ‰€ä»¥åŒæ—¶å¯¹ä¸Šè¡Œå’Œä¸‹è½½ä½œé™é€Ÿéœ€è¦åœ¨ä¸Šè”å’Œä¸‹è½½ä¸¤æ–¹å‘çš„ç«¯å£ä¸Šåšï¼Œå…¶æ¬¡ï¼Œæˆ‘ä»¬ä¸­é—´æœ‰å¾ˆå¤šå¼¯è·¯ï¼Œè¯´æ¥ç»™å¤§å®¶æä¸ªé†’ï¼Œå¼€å§‹æˆ‘ä»¬ç”¨çš„æµ‹è¯•è®¾å¤‡æ€§èƒ½å¾ˆä½ï¼Œæ‰€ ä»¥å§‹ç»ˆæµ‹è¯•ä¸å‡ºç†æƒ³çš„ç»“æœï¼Œå¾ˆæ³„æ°”ï¼Œæ— æ„ä¸­æ‹¿äº†æœ€å¥½çš„ä¸€å°ç”µè„‘å»æµ‹è¯•ï¼Œç»“æœå±…ç„¶å‡ºäººæ„æ–™ï¼Œåæ¥åˆæ‰¾äº†ä¸€å°é«˜æ€§èƒ½è®¾å¤‡è¿›è¡Œæµ‹è¯•ï¼Œç»“æœéå¸¸ç†æƒ³ï¼Œåœ¨æ­¤æé†’å¤§ å®¶ï¼Œä½æ€§èƒ½çš„è®¾å¤‡åœ¨æµ‹è¯•é«˜å¸¦å®½çš„æ—¶å€™è¦ç‰¹åˆ«æ³¨æ„ã€‚</p><p>åä¸ºçš„2å±‚äº¤æ¢æœºï¼Œæ˜¯ç›´æ¥è¿›ç«¯å£åï¼Œç”¨line-rateå¯¹ä¸Šä¸‹è¡Œè¿›è¡Œé™é€Ÿï¼Œä¸è¿‡å¥½åƒæ˜¯è¦åŒå‘åš</p><p>ä¸‹é¢æ˜¯å¶çœ‹åˆ°çš„ ä½ è¯•è¯•çœ‹</p><p>access-list 2 permit any</p><p>mls qos</p><p>class-map match-all input-class</p><p>match access-group 2</p><p>class-map match-all output-class</p><p>match ip dscp 0</p><p>policy-map output-policy-2M</p><p>class output-class</p><p>police 2000000 200000 exceed-action drop</p><p>policy-map input-policy-2M</p><p>class input-class</p><p>police 2000000 200000 exceed-action drop</p><p>policy-map output-policy-5M</p><p>class output-class</p><p>police 5000000 500000 exceed-action drop</p><p>policy-map input-policy-5M</p><p>class input-class</p><p>police 5000000 500000 exceed-action drop</p><p>policy-map output-policy-10M</p><p>class output-class</p><p>police 10000000 1000000 exceed-action drop</p><p>policy-map input-policy-10M</p><p>class input-class</p><p>police 10000000 1000000 exceed-action drop</p><p>policy-map output-policy-20M</p><p>class output-class</p><p>police 20000000 1000000 exceed-action drop</p><p>policy-map input-policy-20M</p><p>class input-class</p><p>police 20000000 1000000 exceed-action drop</p><p>interface FastEthernet ?/?</p><p>service-policy input input-policy-5M</p><p>service-policy output output-policy-5M</p><p>ç³»åˆ—æ™ºèƒ½ä»¥å¤ªç½‘äº¤æ¢æœº</p><p>Cisco Catalyst 2960ç³»åˆ—æ™ºèƒ½ä»¥å¤ªç½‘äº¤æ¢æœºæ˜¯ä¸€ä¸ªå…¨æ–°çš„ã€å›ºå®šé…ç½®çš„ç‹¬ç«‹è®¾å¤‡ç³»åˆ—ï¼Œæä¾›æ¡Œé¢å¿«é€Ÿä»¥å¤ªç½‘å’Œåƒå…†ä»¥å¤ªç½‘è¿æ¥ï¼Œå¯ä¸ºå…¥é—¨çº§ä¼ä¸šã€ä¸­å‹å¸‚åœºå’Œåˆ†æ”¯æœºæ„ç½‘ç»œæä¾› å¢å¼ºLANæœåŠ¡ã€‚Catalyst2960ç³»åˆ—å…·æœ‰é›†æˆå®‰å…¨ç‰¹æ€§ï¼ŒåŒ…æ‹¬ç½‘ç»œå‡†å…¥æ§åˆ¶(NAC)ã€é«˜çº§æœåŠ¡è´¨é‡(QoS)å’Œæ°¸ç»­æ€§ï¼Œå¯ä¸ºç½‘ç»œè¾¹ç¼˜æä¾›æ™ºèƒ½æœ åŠ¡ã€‚</p><p>Cisco Catalyst 2960ç³»åˆ—æä¾›ï¼šä¸ºç½‘ç»œè¾¹ç¼˜æä¾›äº†æ™ºèƒ½ç‰¹æ€§ï¼Œå¦‚å…ˆè¿›çš„è®¿é—®æ§åˆ¶åˆ—è¡¨ (ACL)å’Œå¢å¼ºå®‰å…¨ç‰¹æ€§åŒä»‹è´¨ä¸Šè¡Œé“¾è·¯ç«¯å£æä¾›äº†åƒå…†ä»¥å¤ªç½‘ä¸Šè¡Œé“¾è·¯çµæ´»æ€§ï¼Œå¯ä»¥ä½¿ç”¨é“œç¼†æˆ–å…‰çº¤ä¸Šè¡Œé“¾è·¯ç«¯å£â€”æ¯ä¸ªä»‹è´¨ä¸Šè¡Œé“¾è·¯ç«¯å£éƒ½æœ‰ä¸€ä¸ª 10/100/1000ä»¥å¤ªç½‘ç«¯å£å’Œä¸€ä¸ªå°å‹å¯æ’æ‹”(SFP)åƒå…†ä»¥å¤ªç½‘ç«¯å£ï¼Œåœ¨ä½¿ç”¨æ—¶å…¶ä¸­ä¸€ä¸ªç«¯å£æ¿€æ´»ï¼Œä½†ä¸èƒ½åŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªç«¯å£ã€‚é€šè¿‡é«˜çº§QoSã€ç²¾ ç¡®é€Ÿç‡é™åˆ¶ã€ACLå’Œç»„æ’­æœåŠ¡ï¼Œå®ç°äº†ç½‘ç»œæ§åˆ¶å’Œå¸¦å®½ä¼˜åŒ–ã€‚é€šè¿‡å¤šç§éªŒè¯æ–¹æ³•ã€æ•°æ®åŠ å¯†æŠ€æœ¯å’ŒåŸºäºç”¨æˆ·ã€ç«¯å£å’ŒMACåœ°å€çš„ç½‘ç»œå‡†å…¥æ§åˆ¶ï¼Œå®ç°äº†ç½‘ç»œå®‰å…¨ æ€§ï¼Œé€šè¿‡æ€ç§‘ç½‘ç»œåŠ©ç†ï¼Œç®€åŒ–äº†ç½‘ç»œé…ç½®ã€å‡çº§å’Œæ•…éšœè¯Šæ–­ï¼Œä½¿ç”¨Smartportsè‡ªåŠ¨é…ç½®ç‰¹å®šåº”ç”¨</p><p>Cisco Catalyst 2960-24TTï¼š24ä¸ª10/100ä»¥å¤ªç½‘ç«¯å£å’Œ2ä¸ª10/100/1000å›ºå®šä»¥å¤ªç½‘ä¸Šè¡Œé“¾è·¯ç«¯å£ï¼›1æœºæ¶å•å…ƒ(RU)</p><p>Cisco Catalyst 2960-48TTï¼š48ä¸ª10/100ä»¥å¤ªç½‘ç«¯å£å’Œ2ä¸ª10/100/1000å›ºå®šä»¥å¤ªç½‘ä¸Šè¡Œé“¾è·¯ç«¯å£ï¼›1 RU</p><p>Cisco Catalyst 2960-24TCï¼š24ä¸ª10/100ä»¥å¤ªç½‘ç«¯å£å’Œ2ä¸ªåŒä»‹è´¨ä¸Šè¡Œé“¾è·¯ç«¯å£ï¼›1 RU</p><p>Cisco Catalyst 2960-48TCï¼š48ä¸ª10/100ä»¥å¤ªç½‘ç«¯å£å’Œ2ä¸ªåŒä»‹è´¨ä¸Šè¡Œé“¾è·¯ç«¯å£ï¼›1 RU</p><p>Cisco Catalyst 2960G-24TCï¼š20ä¸ª10/100/1000ä»¥å¤ªç½‘ç«¯å£ï¼Œå…¶ä¸­4ä¸ªä¸ºåŒä»‹è´¨ç«¯å£ï¼›1 RU</p><p>CiscoCatalyst2960ç³»åˆ—è½¯ä»¶é•œåƒæä¾›äº†ä¸€ç³»åˆ—ä¸°å¯Œçš„æ™ºèƒ½æœåŠ¡ï¼ŒåŒ…æ‹¬é«˜çº§QoSã€ é€Ÿç‡é™åˆ¶å’ŒACLã€‚SFPåƒå…†ä»¥å¤ªç½‘ç«¯å£å¯å®‰è£…å¤šç§SFPæ”¶å‘å™¨ï¼ŒåŒ…æ‹¬Cisco1000BASE-SXã€1000BASE-LXã€1000BASE- BXã€1000BASE-ZXã€100BASE-FXã€100BASE-LX10ã€100BASE-BXå’Œç²—æ³¢åˆ†å¤šè·¯å¤ç”¨ (CWDM) SFPæ”¶å‘å™¨ã€‚</p><p>é«˜çº§QoS:</p><p>æä¾›äº†802.1p CoSå’ŒDSCPç°åœºåˆ†ç±»ï¼Œå¯ä»¥åˆ©ç”¨æºå’Œç›®çš„åœ°IPåœ°å€ã€æºå’Œç›®çš„åœ°MACåœ°å€æˆ–è€…ç¬¬å››å±‚TCP/UDPç«¯å£å·</p><p>è¿›è¡ŒåŸºæ–¼å•ä¸ªåˆ†ç»„çš„æ ‡è®°å’Œé‡æ–°åˆ†ç±»ã€‚</p><p>æ‰€æœ‰ç«¯å£ä¸Šçš„æ€ç§‘æ§åˆ¶å¹³é¢å’Œæ•°æ®å¹³é¢QoS ACLå¯ä»¥ç¡®ä¿åœ¨å•ä¸ªåˆ†ç»„çš„åŸºç¡€ä¸Šè¿›è¡Œæ­£ç¡®çš„æ ‡è®°ã€‚æ¯ä¸ªç«¯å£çš„4ä¸ªè¾“å‡ºé˜Ÿåˆ—è®©ç”¨æˆ·å¯ä»¥å¯¹å †å ä¸­æœ€å¤šå››ç§æµé‡ç±»å‹è¿›è¡Œä¸åŒçš„ç®¡ç†ã€‚</p><p>SRRè°ƒåº¦ç¡®ä¿äº†ç”¨æˆ·å¯ä»¥é€šè¿‡æ™ºèƒ½åŒ–åœ°æœåŠ¡äºè¾“å…¥å’Œè¾“å‡ºé˜Ÿåˆ—ï¼Œä¸ºæ•°æ®æµé‡æä¾›ä¸åŒçš„ä¼˜å…ˆçº§ã€‚åŠ æƒé˜Ÿå°¾ä¸¢å¼ƒï¼ˆWTDï¼‰å¯ä»¥åœ¨å‘ç”Ÿä¸­æ–­ä¹‹å‰ï¼Œä¸ºè¾“å…¥å’Œè¾“å‡ºé˜Ÿåˆ—æä¾›æ‹¥å¡é¿å…åŠŸèƒ½ã€‚</p><p>ä¸¥æ ¼ä¼˜å…ˆçº§æ’åºå¯ä»¥ç¡®ä¿ä¼˜å…ˆçº§æœ€é«˜çš„åˆ†ç»„å…ˆäºæ‰€æœ‰å…¶ä»–æµé‡è·å¾—æœåŠ¡ã€‚</p><p>é«˜åº¦ç²¾ç¡®çš„QoSåŠŸèƒ½ä¸ä¼šå¯¹æ€§èƒ½é€ æˆä»»ä½•å½±å“ã€‚</p><p>ç²¾ç¡®çš„é€Ÿç‡é™åˆ¶:</p><p>æ€ç§‘CIRåŠŸèƒ½èƒ½å¤Ÿä»¥ä½è¾¾1Mbpsçš„ç²¾ç¡®åº¦ä¿éšœå¸¦å®½ã€‚</p><p>é€Ÿç‡é™åˆ¶åŸºäºæºå’Œç›®çš„åœ°IPåœ°å€ã€æºå’Œç›®çš„åœ°MACåœ°å€ã€ç¬¬å››å±‚TCP/UDPä¿¡æ¯æˆ–è€…è¿™äº›å­—æ®µçš„ä»»æ„ç»„åˆï¼Œå¹¶åˆ©ç”¨QoS ã€ACLï¼ˆIP ACLæˆ–è€…MAC ACLï¼‰ã€çº§åˆ«å›¾å’Œç­–ç•¥å›¾æä¾›ã€‚</p><p>åˆ©ç”¨è¾“å…¥ç­–ç•¥æ§åˆ¶å’Œè¾“å‡ºæ•´å½¢ï¼Œå¯ä»¥æ–¹ä¾¿åœ°ç®¡ç†æ¥è‡ªäºåŸºç«™æˆ–è€…ä¸Šè¡Œé“¾è·¯çš„å¼‚æ­¥ä¸Šè¡Œå’Œä¸‹è¡Œæ•°æ®æµã€‚ æ¯ä¸ªå¿«é€Ÿä»¥å¤ªç½‘æˆ–è€…åƒå…†ä»¥å¤ªç½‘ç«¯å£æœ€å¤šå¯ä»¥æ”¯æŒ64ä¸ªæ±‡æ€»æˆ–è€…å•ç‹¬ç­–ç•¥æ§åˆ¶å™¨ã€‚</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'è¿ç»´','å¸ˆå¿…å¤‡','äº¤æ¢'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>