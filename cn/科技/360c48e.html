<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ | æå®¢å¿«è¨Š</title><meta property="og:title" content="H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/590e48895fe34e4b8dafc12000636709"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/360c48e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/360c48e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/360c48e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/360c48e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/360c48e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/360c48e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/360c48e.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/360c48e.html><meta property="article:published_time" content="2020-10-29T20:51:46+08:00"><meta property="article:modified_time" content="2020-10-29T20:51:46+08:00"><meta name=Keywords content><meta name=description content="H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/360c48e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p><strong>1 H3C MSRè·¯ç”±å™¨ã€äº¤æ¢æœºåŸºæœ¬è°ƒè¯•æ­¥éª¤ï¼ˆåˆå­¦çº§åˆ«ï¼‰ï¼š</strong></p><hr><p><strong>1.1å¦‚ä½•ç™»é™†è¿›è·¯ç”±å™¨æˆ–äº¤æ¢æœº</strong></p><p>1.1.1æ­å»ºé…ç½®ç¯å¢ƒ</p><p>ç¬¬ä¸€æ¬¡ä½¿ç”¨H3Cç³»åˆ—è·¯ç”±å™¨æ—¶ï¼Œåªèƒ½é€šè¿‡é…ç½®å£(Console)è¿›è¡Œé…ç½®ã€‚</p><p>1ï¼‰å°†é…ç½®ç”µç¼†çš„RJ-45ä¸€ç«¯è¿åˆ°è·¯ç”±å™¨çš„é…ç½®å£(Console)ä¸Šã€‚</p><p>2ï¼‰å°†é…ç½®ç”µç¼†çš„DB-9(æˆ–DB-25)å­”å¼æ’å¤´æ¥åˆ°è¦å¯¹è·¯ç”±å™¨è¿›è¡Œé…ç½®çš„å¾®æœºæˆ–ç»ˆç«¯çš„ä¸²å£ä¸Šã€‚</p><p></p><div class=pgc-img><img alt=H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/590e48895fe34e4b8dafc12000636709><p class=pgc-img-caption></p></div><p></p><p>å¤‡æ³¨ï¼šç™»é™†äº¤æ¢æœºçš„æ–¹æ³•ä¸è·¯ç”±å™¨çš„ä¸€è‡´ï¼Œç°ä»…ç”¨è·¯ç”±å™¨ä¸¾</p><p>1.1.2è®¾ç½®å¾®æœºæˆ–ç»ˆç«¯çš„å‚æ•°ï¼ˆè¿›å…¥è·¯ç”±å™¨æˆ–äº¤æ¢æœºï¼‰</p><p>1ï¼‰æ‰“å¼€å¾®æœºï¼ˆç¬”è®°æœ¬ç”µè„‘ï¼‰æˆ–ç»ˆç«¯ã€‚å¦‚æœä½¿ç”¨å¾®æœºè¿›è¡Œé…ç½®ï¼Œéœ€è¦åœ¨å¾®æœºä¸Šè¿è¡Œç»ˆç«¯ä»¿çœŸç¨‹åºï¼Œå¦‚windowsçš„è¶…çº§ç»ˆç«¯ã€‚</p><div class=pgc-img><img alt=H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/49252d671b244fc09127851dd1fcfd70><p class=pgc-img-caption></p></div><p></p><p>2ï¼‰ç¬¬äºŒæ­¥ï¼šè®¾ç½®ç»ˆç«¯å‚æ•°</p><p>aã€å‘½åæ­¤ç»ˆç«¯ H3Cæˆ–è€…è‡ªå·±æƒ³å‘½çš„å</p><div class=pgc-img><img alt=H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/36cd6ab7f32f4f73b471c544685621d6><p class=pgc-img-caption></p></div><p></p><p>bã€é€‰æ‹©ä¸²å£ ä¸€èˆ¬é€‰ç”¨COMå£ï¼Œå¸¸é€‰ç”¨COM1</p><div class=pgc-img><img alt=H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/793ca55c0c6d4304af45978f41b03842><p class=pgc-img-caption></p></div><p></p><p>cã€è®¾ç½®ç»ˆç«¯å…·ä½“å‚æ•°(æ­¤å¤„ç‚¹å‡»â€œé»˜è®¤å€¼â€å³å¯)</p><div class=pgc-img><img alt=H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2fa25d21cdbd44199c9087bc21eea1cb><p class=pgc-img-caption></p></div><p></p><p>dã€æ‰“å¼€è·¯ç”±å™¨çš„ç”µæºï¼Œè·¯ç”±å™¨è¿›è¡Œå¯åŠ¨</p><div class=pgc-img><img alt=H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/034118124dc545688b2751a052cdba6e><p class=pgc-img-caption></p></div><p></p><p>eã€å½“è·¯ç”±å™¨å¯åŠ¨å®Œæ¯•åï¼Œå›è½¦å‡ ä¸‹ï¼Œå½“å‡ºç°&lt;H3C>æ—¶å³å¯é…ç½®è·¯ç”±å™¨ã€‚</p><div class=pgc-img><img alt=H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f832c8e940624e4cafd8d264e1e7dcd2><p class=pgc-img-caption></p></div><p></p><p><strong>1.2è·¯ç”±å™¨åŸºæœ¬è°ƒè¯•å‘½ä»¤</strong></p><p>1.2.1ä½¿ç”¨æœ¬åœ°ç”¨æˆ·è¿›è¡Œtelnetç™»å½•çš„è®¤è¯</p><p>&lt;H3C> system-view è¿›å…¥ç³»ç»Ÿè§†å›¾</p><p>[H3C]telnet server enable æ‰“å¼€è·¯ç”±å™¨çš„telnetåŠŸèƒ½</p><p>[H3C]configure-user count <strong>5</strong> è®¾ç½®å…è®¸åŒæ—¶é…ç½®è·¯ç”±å™¨çš„ç”¨æˆ·æ•°</p><p>[H3C]local-user <strong>telnet</strong> æ·»åŠ æœ¬åœ°ç”¨æˆ·(æ­¤å¤„ä¸ºtelnetç”¨æˆ·ç™»é™†æ—¶ä½¿ç”¨çš„ç”¨æˆ·å)</p><p>[H3C-luser-telnet]password simple <strong>h3c</strong> è®¾ç½®telnetç”¨æˆ·ç™»é™†æ—¶æ‰€ä½¿ç”¨çš„å¯†ç </p><p>[H3C-luser-telnet]service-type telnet è®¾ç½®æœ¬åœ°ç”¨æˆ·çš„æœåŠ¡ç±»å‹(æ­¤å¤„ä¸ºtelnet)</p><p>[H3C-luser-telnet]level 3 è®¾ç½®æœ¬åœ°ç”¨æˆ·çš„æœåŠ¡çº§åˆ«</p><p>[H3C-luser-telnet]quit é€€å‡ºæœ¬åœ°ç”¨æˆ·è§†å›¾</p><p>[H3C]</p><p>[H3C]user-interface vty 0 4 è¿›å…¥ç”¨æˆ·è§†å›¾</p><p>[H3C-ui-vty0-4]authentication-mode scheme é€‰æ‹©â€œschemeâ€è®¤è¯æ–¹å¼</p><p>å¤‡æ³¨ï¼šçº¢è‰²éƒ¨åˆ†å¯ä»¥ç”±å®¢æˆ·è‡ªè¡Œè®¾ç½®ï¼Œæ­¤å¤„ä»…åšä¸¾ä¾‹æ—¶ä½¿ç”¨!</p><p>1.2.2è·¯ç”±å™¨æ¥å£çš„é…ç½®</p><p>ä¸ºæ¥å£é…ç½®ipåœ°å€</p><p>&lt;H3C> system-view è¿›å…¥ç³»ç»Ÿè§†å›¾</p><p>[H3C] interface serial 3/0 è¿›å…¥æŸä¸ªç«¯å£</p><p>[H3C-Serial3/0] ip address<strong> 200.1.1.1 255.255.255.0 </strong>ä¸ºè¯¥ç«¯å£è®¾ç½®ipåœ°å€</p><p>[H3C-Serial3/0] undo shutdown å¯¹è¯¥ç«¯å£è¿›è¡Œå¤ä½</p><p>[H3C-Serial3/0] quit é€€å›åˆ°ç³»ç»Ÿè§†å›¾</p><p>[H3C]</p><p>å¤‡æ³¨ï¼šçº¢è‰²éƒ¨åˆ†å¯ä»¥ç”±å®¢æˆ·è‡ªè¡Œè®¾ç½®ï¼Œæ­¤å¤„ä»…åšä¸¾ä¾‹æ—¶ä½¿ç”¨!</p><p>1.2.3é™æ€è·¯ç”±æˆ–é»˜è®¤è·¯ç”±çš„é…ç½®</p><p>&lt;H3C> system-view è¿›å…¥ç³»ç»Ÿè§†å›¾</p><p>[H3C]ip route-static <strong>192.168.1.0 255.255.255.0 192.168.0.1 </strong>æ·»åŠ ä¸€æ¡é™æ€è·¯ç”±</p><p>[H3C]ip route-static<strong> 0.0.0.0 0.0.0.0 192.168.0.1 </strong>æ·»åŠ ä¸€æ¡é»˜è®¤è·¯ç”±</p><p>å¤‡æ³¨ï¼šçº¢è‰²éƒ¨åˆ†å¯ä»¥ç”±å®¢æˆ·è‡ªè¡Œè®¾ç½®ï¼Œæ­¤å¤„ä»…åšä¸¾ä¾‹æ—¶ä½¿ç”¨!</p><p>1.2.3é…ç½®æ–‡ä»¶çš„ç®¡ç†</p><p>display current-configuration æ˜¾ç¤ºå½“å‰çš„é…ç½®æ–‡ä»¶</p><p>&lt;H3C>save ä¿å­˜é…ç½®æ–‡ä»¶</p><p>display interface <strong>GigabitEthernet 0/0 </strong>æŸ¥çœ‹æŸç«¯å£çš„çŠ¶æ€</p><p>å¤‡æ³¨ï¼š</p><p>displayå‘½ä»¤å¯ä»¥åœ¨ä»»ä½•è§†å›¾ä¸‹è¿›è¡Œ</p><p>çº¢è‰²éƒ¨åˆ†å¯ä»¥ç”±å®¢æˆ·è‡ªè¡Œè®¾ç½®ï¼Œæ­¤å¤„ä»…åšä¸¾ä¾‹æ—¶ä½¿ç”¨!</p><p>äº¤æ¢æœºçš„é…ç½®æ–‡ä»¶ç®¡ç†ä¸è·¯ç”±å™¨ç›¸åŒï¼Œæ•…äº¤æ¢æœºçš„é…ç½®å¹»ç¯ç‰‡ä¸­ä¸å†åšä¸¾ä¾‹ã€‚</p><p><strong>1.3 äº¤æ¢æœºçš„åŸºæœ¬è°ƒè¯•å‘½ä»¤</strong></p><p>1.3.1 åˆ›å»ºVLANå¹¶å°†ç«¯å£åŠ å…¥åˆ°vlanä¸­</p><p>&lt;H3C> system-view è¿›å…¥ç³»ç»Ÿè§†å›¾</p><p>[H3C]vlan <strong>10</strong> åˆ›å»ºvlan 10</p><p>[H3C-vlan100]port ethernet <strong>0/1 </strong>å°†æŸä¸ªç«¯å£åŠ å…¥åˆ°vlanä¸­</p><p>[H3C-vlan100]quit é€€å‡ºåˆ°ç³»ç»Ÿ</p><p>[H3C]</p><p>å¤‡æ³¨ï¼šçº¢è‰²éƒ¨åˆ†å¯ä»¥ç”±å®¢æˆ·è‡ªè¡Œè®¾ç½®ï¼Œæ­¤å¤„ä»…åšä¸¾ä¾‹æ—¶ä½¿ç”¨!</p><p>1.3.2åˆ›å»ºvlanè™šæ¥å£å¹¶ä¸ºæ¥å£é…ç½®ipåœ°å€</p><p>&lt;H3C> system-view è¿›å…¥ç³»ç»Ÿè§†å›¾</p><p>[H3C]interface vlan-interface <strong>1</strong> åˆ›å»ºvlanè™šæ¥å£</p><p>[H3C-Vlan-interface100] ip address <strong>192.168.1.1 255.255.255.0</strong> é…ç½®ipåœ°å€</p><p>å¤‡æ³¨ï¼šçº¢è‰²éƒ¨åˆ†å¯ä»¥ç”±å®¢æˆ·è‡ªè¡Œè®¾ç½®ï¼Œæ­¤å¤„ä»…åšä¸¾ä¾‹æ—¶ä½¿ç”¨!</p><p>1.3.3 é…ç½®é»˜è®¤è·¯ç”±</p><p>[H3C] interface vlan-interface 1</p><p>[H3C-Vlan-interface10] ip address <strong>192.168.1.1 255.255.255.0</strong></p><p>[H3C-Vlan-interface10] quit</p><p>[H3C] ip route-static 0.0.0.0 0.0.0.0 <strong>192.168.1.2 </strong>é…ç½®ç¼ºçœè·¯ç”±</p><p><strong>å¤‡æ³¨ï¼šçº¢è‰²éƒ¨åˆ†å¯ä»¥ç”±å®¢æˆ·è‡ªè¡Œè®¾ç½®ï¼Œæ­¤å¤„ä»…åšä¸¾ä¾‹æ—¶ä½¿ç”¨!</strong></p><p>1.3.4è®¾ç½®ç«¯å£ç±»å‹</p><p>&lt;H3C> system-view è¿›å…¥ç³»ç»Ÿè§†å›¾</p><p>[H3C]interface ethernet 0/1</p><p>[H3C]port link-type trunk å°†ç«¯å£ç±»å‹è®¾ç½®ä¸ºtrunk</p><p>[H3C]port trunk permit vlan all trunkç«¯å£å…è®¸æ‰€æœ‰vlané€šè¿‡</p><p>[H3C]save</p><p>Trunkå¯ä»¥æ”¶å‘å¤šä¸ªvlançš„æŠ¥æ–‡ï¼Œç”¨äºäº¤æ¢æœºä¸äº¤æ¢æœºä¹‹é—´çš„äº’è¿</p><p>1.3.5äº¤æ¢æœºè®¾ç½®telnetç™»å½•çš„è®¤è¯é…ç½®å‘½ä»¤</p><p>&lt;H3C> system-view è¿›å…¥ç³»ç»Ÿè§†å›¾</p><p>[H3C]local-user telnet æ·»åŠ æœ¬åœ°ç”¨æˆ·(æ­¤å¤„ä¸ºtelnetç”¨æˆ·ç™»é™†æ—¶ä½¿ç”¨çš„ç”¨æˆ·å)</p><p>[H3C-luser-telnet]password simple h3c è®¾ç½®telnetç”¨æˆ·ç™»é™†æ—¶æ‰€ä½¿ç”¨çš„å¯†ç </p><p>[H3C-luser-telnet]service-type telnet è®¾ç½®æœ¬åœ°ç”¨æˆ·çš„æœåŠ¡ç±»å‹(æ­¤å¤„ä¸ºtelnet)</p><p>[H3C-luser-telnet]level 3 è®¾ç½®æœ¬åœ°ç”¨æˆ·çš„æœåŠ¡çº§åˆ«</p><p>[H3C-luser-telnet]quit é€€å‡ºæœ¬åœ°ç”¨æˆ·è§†å›¾</p><p>[H3C]</p><p>[H3C]user-interface vty 0 4 è¿›å…¥ç”¨æˆ·è§†å›¾</p><p>[H3C-ui-vty0-4]authentication-mode scheme é€‰æ‹©â€œschemeâ€è®¤è¯æ–¹å¼</p><p><strong>å…¸å‹æ¡ˆä¾‹ï¼š</strong></p><p>æ¡ˆä¾‹1ï¼šå¦‚ä¸‹å›¾ï¼ŒLAB ï¼ˆrouterï¼‰é€šè¿‡é…ç½®è·¯ç”±å™¨é€‚å½“çš„ä¸¤å°ç»ˆç«¯ç”µè„‘èƒ½å¤Ÿç›¸äº’é€šä¿¡ï¼Œè¯·å†™å‡ºç›¸å…³é…ç½®è¯­å¥ã€‚</p><p></p><div class=pgc-img><img alt=H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/171efb02b5c346378794071061dc7889><p class=pgc-img-caption></p></div><p></p><p>æ¡ˆä¾‹2ï¼šLAB ï¼ˆswitchï¼‰</p><div class=pgc-img><img alt=H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bfc5c1943d034415bf3ccc3ab0c2c454><p class=pgc-img-caption></p></div><p></p><p><strong>2 H3Cäº¤æ¢æœºåŸºæœ¬é…ç½®å‘½ä»¤ï¼ˆå…¥é—¨çº§:é…ç½®è¯­å¥æ‹·è´æ³¨è§£ï¼‰</strong></p><hr><p><strong>2.1 IPåœ°å€é…ç½®å‘½ä»¤ï¼š</strong></p><p>&lt;Quidway>system-view----è¿›å…¥ç³»ç»Ÿé…ç½®æ¨¡å¼</p><p>[Quidway] ç³»ç»Ÿé…ç½®ç¼–è¾‘æ¨¡å¼</p><p>[Quidway] interface Vlan-interface 1---äº¤æ¢æœºå‡ºå‚é»˜è®¤VLAN-1</p><p>[Quidway-Vlan-interface1]ip add 192.168.X.254 255.255.255.0â€“é…ç½®IPåœ°å€</p><p>[Quidway-Vlan-interface1]quit</p><p>[Quidway] ip route-static 0.0.0.0 0.0.0.0 192.168.0.33-é…ç½®é™æ€è·¯ç”±ï¼ˆç½‘å…³ï¼‰</p><p><strong>2.2 è¿œç¨‹ç™»å½•é…ç½®å‘½ä»¤ï¼š</strong></p><p>&lt;Quidway>system-view----è¿›å…¥ç³»ç»Ÿé…ç½®æ¨¡å¼</p><p>[Quidway] ç³»ç»Ÿé…ç½®ç¼–è¾‘æ¨¡å¼</p><p>[Quidway] user-interface vty 0 4</p><p>[Quidway-ui-vty0-4] user privilege level 3â€”ç®¡ç†æƒé™é…ç½®</p><p>[Quidway-ui-vty0-4] set authentication password cipher 123456 ï¼ˆcipherä¸ºå¯†æ–‡å¯†ç ï¼‰</p><p><strong>2.3 é…ç½®ç«¯å£é€Ÿç‡åŠç«¯å£åŒå·¥å‘½ä»¤ï¼š</strong></p><p>&lt;Quidway>system-view----è¿›å…¥ç³»ç»Ÿé…ç½®æ¨¡å¼</p><p>[Quidway] ç³»ç»Ÿé…ç½®ç¼–è¾‘æ¨¡å¼</p><p>[Quidway]interface Ethernet 1/0/1---è¿›å…¥çš„ç«¯å£</p><p>[Quidway-Ethernet1/0/1] duplex fullâ€”é…ç½®ç«¯å£ä¸ºâ€œå…¨åŒå·¥çŠ¶æ€â€</p><p>[Quidway-Ethernet1/0/1] speed 100---é…ç½®ç«¯å£ä¸ºâ€œ100Mâ€å¦‚æœæ˜¯åƒå…†ç«¯å£å¯ä»¥é…ç½®æˆ1000Mã€‚</p><p><strong>2.4 åˆ’åˆ†VLANé…ç½®å‘½ä»¤ï¼š</strong></p><p>&lt;Quidway>system-view----è¿›å…¥ç³»ç»Ÿé…ç½®æ¨¡å¼</p><p>[Quidway] ç³»ç»Ÿé…ç½®ç¼–è¾‘æ¨¡å¼</p><p>[Quidway]VLAN 100---åˆ›å»ºVLAN---IDä¸º:100</p><p>[Quidway]VLAN 101---åˆ›å»ºVLAN---IDä¸º:101</p><p>[Quidway-vlan100] port Ethernet 1/0/1 to Ethernet 1/0/10----ä»ç¬¬1å£åˆ°ç¬¬10å£æ·»åŠ åˆ°VLAN 100</p><p>[Quidway-vlan101] port Ethernet 1/0/11 to Ethernet 1/0/24----ä»ç¬¬11å£åˆ°ç¬¬24å£æ·»åŠ åˆ°VLAN 101</p><p><strong>2.5 é…ç½®TRUNKå‘½ä»¤ï¼š</strong></p><p>æ¯”å¦‚ä¸€æ ‹å®¿èˆæ¥¼éœ€è¦ä¸¤ä¸ªç½‘æ®µï¼Œåˆ’åˆ†äº†ä¸¤ä¸ªVLANä¸º100å’Œ101ï¼ŒVLAN 100ä½œä¸ºç®¡ç†VLANé…ç½®å‘½ä»¤å¦‚ä¸‹ï¼š</p><p>&lt;Quidway>system-view----è¿›å…¥ç³»ç»Ÿé…ç½®æ¨¡å¼</p><p>[Quidway] ç³»ç»Ÿé…ç½®ç¼–è¾‘æ¨¡å¼</p><p>[Quidway]VLAN 100---åˆ›å»ºVLAN---IDä¸º:100</p><p>[Quidway]VLAN 101---åˆ›å»ºVLAN---IDä¸º:101</p><p>[Quidway-vlan100] port Ethernet 1/0/1 to Ethernet 1/0/10----ä»ç¬¬1å£åˆ°ç¬¬10å£æ·»åŠ åˆ°VLAN 100</p><p>[Quidway-vlan101] port Ethernet 1/0/11 to Ethernet 1/0/24----ä»ç¬¬11å£åˆ°ç¬¬24å£æ·»åŠ åˆ°VLAN 101</p><p>[Quidway] interface Vlan-interface 100â€”è¿›å…¥VLAN 100</p><p>[Quidway-Vlan-interface100]ip address 192.168.100.254 255.255.255.0---ç»™VLAN 100é…ç½®ç®¡ç†IP</p><p>[Quidway-Vlan-interface100]quit</p><p>[Quidway]ip route-static 0.0.0.0 0.0.0.0 192.168.100.33â€”é…ç½®é™æ€è·¯ç”±ï¼ˆç½‘å…³ï¼‰</p><p>ä¸Šè”ç«¯å£ä¸ºåƒå…†ç«¯å£GigabitEthernet1/1/1åœ¨é…ç½®æ¨¡å¼ä¸‹é…ç½®å‘½ä»¤å¦‚ä¸‹ï¼š</p><p>[Quidway] interface GigabitEthernet 1/1/1---è¿›å…¥ä¸Šè”ç«¯å£</p><p>[Quidway-GigabitEthernet1/1/1] port link-type trunk --TRUNKæ˜¯ç«¯å£æ±‡èšçš„æ„æ€</p><p>[Quidway-GigabitEthernet1/1/1] port trunk permitï¼ˆå…è®¸ï¼‰vlan all----é…ç½®å…è®¸é€šè¿‡çš„VLAN</p><p>å¦‚æœä¸Šè”çš„è·¯ç”±å™¨ç«¯å£æ˜¯è‡ªé€‚åº”é‚£ä¹ˆäº¤æ¢æœºä¸Šè”å£ä¹Ÿæ˜¯è‡ªé€‚åº”ï¼Œå¦‚æœé…ç½®äº†1000Må…¨åŒå·¥é‚£ä¹ˆäº¤æ¢æœºçš„ä¸Šè”ç«¯å£ä¹Ÿè¦é…æˆ1000Må…¨åŒå·¥ã€‚å¦‚ä¸‹å‘½ä»¤ï¼š[Quidway-GigabitEthernet1/1/1] duplex fullâ€”é…ç½®ç«¯å£ä¸ºâ€œå…¨åŒå·¥çŠ¶æ€â€[Quidway-GigabitEthernet1/1/1] speed 1000---é…ç½®ç«¯å£ä¸ºâ€œ1000Mâ€</p><p><strong>2.6 SNMPé…ç½®å‘½ä»¤ï¼š</strong></p><p>[Quidway]snmp-agent community read 1234---SNMPè¯»çš„å¯†ç </p><p>[Quidway]snmp-agent community write 4567â€”SNMPå†™çš„å¯†ç </p><p>[Quidway]snmp-agent sys-info version allâ€”SNMPè½¯ä»¶ç‰ˆæœ¬æœ‰V1ã€V2cã€V3è¿™é‡Œé…ç½®çš„æ˜¯å…è®¸æ‰€æœ‰ç‰ˆæœ¬ã€‚</p><p></p><p><strong>2.7 é…ç½®é˜²ARPæ”»å‡»å‘½ä»¤ï¼š</strong></p><p>&lt;Quidway>system-view</p><p>[Quidway]dhcp-snooping--å¼€å¯äº¤æ¢æœºDHCP Snooping åŠŸèƒ½ã€‚</p><p>å¼€å¯VLAN 1 å†…æ‰€æœ‰ç«¯å£çš„ARP å…¥ä¾µæ£€æµ‹åŠŸèƒ½ã€‚</p><p>[Quidway]vlan 1</p><p>[Quidway-vlan1]arp detection enable</p><p>[Quidway-vlan1]quit</p><p>è®¾ç½®ä¸Šè”ç«¯å£Ethernet1/0/1 ä¸ºDHCP Snooping ä¿¡ä»»ç«¯å£ï¼ŒARP ä¿¡ä»»ç«¯å£ã€‚</p><p>[Quidway]interface Ethernet1/0/1</p><p>[Quidway-Ethernet1/0/1]dhcp-snooping trust</p><p>[Quidway-Ethernet1/0/1]arp detection trust</p><p>[Quidway-Ethernet1/0/1]quit</p><p>å¼€å¯ç«¯å£Ethernet1/0/2 ä¸Šçš„ARP æŠ¥æ–‡é™é€ŸåŠŸèƒ½ï¼Œè®¾ç½®ARP æŠ¥æ–‡é€šè¿‡çš„æœ€å¤§é€Ÿç‡ä¸º20ppsã€‚--ç›®çš„æ˜¯é’ˆå¯¹ç”¨æˆ·æ¥å…¥å£ï¼Œé™¤ä¸Šè”ç«¯å£å¤–ï¼Œä¸‹è”ç”¨æˆ·ç«¯å£å»ºè®®éƒ½è®¾ç½®è¯¥å‘½ä»¤ã€‚å¦‚ä¸‹ï¼š</p><p>[Quidway]interface Ethernet1/0/2</p><p>[Quidway-Ethernet1/0/2]arp rate-limit enable</p><p>[Quidway-Ethernet1/0/2]arp rate-limit 20</p><p>[Quidway-Ethernet1/0/2]quit</p><p>é…ç½®ç«¯å£çŠ¶æ€è‡ªåŠ¨æ¢å¤åŠŸèƒ½ï¼Œæ¢å¤æ—¶é—´é—´éš”ä¸º30 ç§’ã€‚</p><p>[Quidway] arp protective-down recover enable</p><p>[Quidway] arp protective-down recover interval 3</p><p><strong>3 H3Cäº¤æ¢æœºåŸºæœ¬é…ç½®ï¼ˆä¸­çº§ç‰ˆï¼‰</strong></p><hr><p><strong>3.1VRPï¼ŒCMWç®€ä»‹</strong></p><p>3.1.1 VRPï¼ˆVersatile Routing Platformï¼Œé€šç”¨è·¯ç”±å¹³å°ï¼‰æ˜¯åä¸ºå…¬å¸æ•°æ®é€šä¿¡äº§å“çš„é€šç”¨ç½‘ç»œæ“ä½œç³»ç»Ÿå¹³å°ã€‚</p><p>3.1.2 CMWï¼ˆComwareï¼‰æ˜¯H3Cå…¬å¸çš„æ ¸å¿ƒè½¯ä»¶å¹³å°ã€‚</p><p>3.1.3 VRPã€CMWçš„ä½“ç³»ç»“æ„ä»¥TCP/IPæ¨¡å‹ä¸ºå‚è€ƒï¼Œå®ç°äº†æ•°æ®é“¾è·¯å±‚ã€ç½‘ç»œå±‚å’Œåº”ç”¨å±‚çš„å¤šç§åè®®ï¼Œå…¶ä½“ç³»ç»“æ„å›¾å¦‚ä¸‹:</p><div class=pgc-img><img alt=H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/424445b39b6f4a209ec13166d783ae07><p class=pgc-img-caption></p></div><p></p><p>3.1.4 VRPè§†å›¾ç»“æ„</p><p>ç”¨æˆ·è§†å›¾</p><p>ç³»ç»Ÿè§†å›¾</p><p>ã€€ å‘½ä»¤ï¼šsystem-view</p><p>åœ¨ç³»ç»Ÿè§†å›¾ä¸‹ å¯ä»¥è¿›å…¥å„ç§åŠŸèƒ½è§†å›¾ï¼Œåœ¨å„åŠŸèƒ½è§†å›¾ä¸­è¿˜å¯ä»¥è¿›å…¥å­åŠŸèƒ½è§†å›¾</p><div class=pgc-img><img alt=H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/81a6c19e78db4d4cbeeb1748b16e9dbb><p class=pgc-img-caption></p></div><p></p><p><strong>3.2åŸºæœ¬å‘½ä»¤</strong></p><p>3.2.1é…ç½®ç³»ç»Ÿå</p><p>1)ç”¨é€”ï¼šç”¨æˆ·åæ˜¯è®¾å¤‡çš„åå­—ï¼Œç›®çš„æ˜¯è®©ç”¨æˆ·æ›´åŠ æ–¹ä¾¿çš„ä½¿ç”¨è®¾å¤‡ï¼</p><p>2)é…ç½®å‘½ä»¤: sysname</p><p>3.2.2æ¥å£æè¿°</p><p>1)ç”¨é€”ï¼šæ¥å£æè¿°æ˜¯ä¸ºäº†æŒ‡æ˜æ¥å£çš„ä¸€äº›å±æ€§ï¼Œå¦‚æ˜¯ä»€ä¹ˆæ¥å£ï¼Œå¯¹ç«¯æ¥çš„ä»€ä¹ˆè®¾å¤‡ç­‰ï¼Œè®©ç”¨æˆ·æ›´åŠ äº†è§£è¯¥æ¥å£ã€‚</p><p>2)é…ç½®å‘½ä»¤: interface ethernet0/1</p><p>description connect to student</p><p>3.2.3æ¥å£IPåœ°å€çš„é…ç½®</p><p>1)ç”¨é€”:ç»™æ¥å£ä¸€ä¸ªç½‘ç»œä¸Šå”¯ä¸€çš„åŒºåˆ†ç¬¦ï¼</p><p>2)é…ç½®å‘½ä»¤:interface vlan 1</p><p>ip address 168.10.2.1 255.255.255.0</p><p>3.2.4 æŸ¥çœ‹äº¤æ¢æœºä¿¡æ¯</p><p>1)ç”¨é€”:è®©ç”¨æˆ·å¯¹è®¾å¤‡çš„ä¿¡æ¯æ›´äº†è§£ï¼Œä¹Ÿæœ‰åˆ©äºå¯¹è®¾å¤‡åšé…ç½®ï¼</p><p>2ï¼‰é…ç½®å‘½ä»¤:</p><p>ã€€æ˜¾ç¤ºç‰ˆæœ¬ display version</p><p>ã€€æ˜¾ç¤ºå½“å‰é…ç½®ä¿¡æ¯ ã€€ display current</p><p>æ˜¾ç¤ºNVRAMçš„é…ç½® display saved-config</p><p>ã€€æ˜¾ç¤ºæ¥å£ä¿¡æ¯ã€€ ã€€display interface XX</p><p>ã€€æ˜¾ç¤ºè·¯ç”±ä¿¡æ¯ã€€ ã€€display ip routing-table</p><p>3.2.5 è°ƒè¯•äº¤æ¢æœº</p><p>1)ç”¨é€”:æ›´ç»†è‡´çš„æŸ¥çœ‹äº¤æ¢æœºçš„å„ç§æ•°æ®åŒ…ï¼Œå¸®åŠ©å‘ç°ç½‘ç»œé—®é¢˜ï¼</p><p>2)å¸¸ç”¨è°ƒè¯•å‘½ä»¤:</p><p>terminal debugging</p><p>terminal monitorã€€</p><p>debugging ip packet</p><p>undo debugging all</p><p>3.2.6 ç«¯å£é•œåƒ</p><p>1)ç”¨é€”:é€šè¿‡é•œåƒæ¥æŠ“å–ç½‘ç»œæµé‡ï¼Œå¸®åŠ©åˆ†æç½‘ç»œé—®é¢˜ï¼</p><p>2)é…ç½®å‘½ä»¤:</p><p>monitor-port Ethernet 0/1 both ï¼ˆç›‘æ§ç«¯å£ï¼‰</p><p>mirroring-port Ethernet0/2 bothï¼ˆæºç«¯å£ï¼‰</p><p>3.2.7 æµé•œåƒ</p><p>1)ç”¨é€”:</p><p>ã€€é€šè¿‡é•œåƒæ¥æŠ“å–ç½‘ç»œæµé‡ï¼Œå¸®åŠ©åˆ†æç½‘ç»œé—®é¢˜ï¼</p><p>2)é…ç½®å‘½ä»¤:</p><p>mirrored-to ip-group 2000 interface Ethernet 0/1</p><p>acl number 2000</p><p>rule 0 permit</p><p>3.2.8å¿«æ·å‘½ä»¤è¡Œä»‹ç»</p><p>VRPã€CMW</p><p>Ctrl+F å‰ç§»ä¸€ä¸ªå­—ç¬¦</p><p>Ctrl+B åç§»ä¸€ä¸ªå­—ç¬¦</p><p>Ctrl+P â†‘(å‘ä¸Šç®­å¤´)é‡ç”¨å‰ä¸€æ¡å‘½ä»¤</p><p>Ctrl+N â†“(å‘ä¸‹ç®­å¤´)é‡ç”¨ä¸‹ä¸€æ¡å‘½ä»¤</p><p></p><p>3.2.9å¼•å¯¼é…ç½®</p><p>1)ç”¨é€”:é€šè¿‡å¼•å¯¼é…ç½®ï¼Œå¯ä»¥æ”¹å˜ä»ä»€ä¹ˆåœ°æ–¹å–å¾—äº¤æ¢æœºçš„ç³»ç»Ÿè½¯ä»¶ï¼</p><p>2)é…ç½®å‘½ä»¤</p><p>ã€€boot boot-loader xxxx.bin</p><p>æŸ¥çœ‹å‘½ä»¤</p><p>display boot-loader</p><p><strong>3.3äº¤æ¢</strong></p><p>VLANï¼ˆVirtual Local Area Networkï¼‰æŠ€æœ¯æ˜¯æŠŠä¸€ä¸ªLANåˆ’åˆ†æˆå¤šä¸ªé€»è¾‘çš„â€œLANâ€ï¼VLANï¼Œæ¯ä¸ªVLANæ˜¯ä¸€ä¸ªå¹¿æ’­åŸŸï¼ŒVLANå†…çš„ä¸»æœºé—´é€šä¿¡å°±å’Œåœ¨ä¸€ä¸ªLANå†…ä¸€æ ·ï¼Œè€ŒVLANé—´åˆ™ä¸èƒ½ç›´æ¥äº’é€šï¼Œè¿™æ ·ï¼Œå¹¿æ’­æŠ¥æ–‡è¢«é™åˆ¶åœ¨ä¸€ä¸ªVLANå†…ã€‚</p><p>vlan 100 (1-4094) åˆ›å»ºVLAN</p><p>undo vlan 100 (1-4094) åˆ é™¤VLAN.</p><p>port Ethernet 2/0/1 åœ¨VLANä¸­å¢åŠ ç«¯å£.</p><p>undo port Ethernet 2/0/1 åœ¨VLANä¸­åˆ é™¤ç«¯å£.</p><p>port access vlan 100 (1-4094) å°†ç«¯å£åŠ å…¥VLAN</p><p>undo port access vlan 100 (1-4094) å°†ç«¯å£è„±ç¦»VLAN</p><p>display vlan VLAN ID (1-4094) æ˜¾ç¤ºVLANä¿¡æ¯</p><p>Trunk</p><p>Trunkå…è®¸åœ¨åªæœ‰ä¸€æ¡é“¾è·¯çš„æƒ…å†µä¸‹ä¼ è¾“VLANä¿¡æ¯</p><p>â€¢ å®šä¹‰ç«¯å£å±æ€§ä¸ºTrunk.</p><p>port link-type trunk</p><p>â€¢ åˆ é™¤ç«¯å£Trunkå±æ€§.</p><p>undo port link-type</p><p>â€¢ å®šä¹‰ç«¯å£å¯ä»¥ä¼ è¾“çš„VLAN.</p><p>port trunk permit vlan VLAN ID</p><p>â€¢ åœ¨VLANä¸­åˆ é™¤ç«¯å£.</p><p>undo port trunk permit vlan VLAN ID</p><p>Link Aggregation</p><p>é“¾è·¯èšåˆæ˜¯å°†å‡ æ¡ç‰©ç†é“¾è·¯èšåˆåœ¨ä¸€èµ·ï¼Œå½“ä½œä¸€æ¡ é€»è¾‘é“¾è·¯æ¥ä½¿ç”¨ã€‚</p><p>åˆ†ä¸ºé™æ€èšåˆå’ŒåŠ¨æ€èšåˆ</p><p>â€¢ é™æ€èšåˆç«¯å£.</p><p>link-aggregation Ethernet 0/1 to Ethernet 0/4 both</p><p>â€¢ åˆ é™¤ç«¯å£çš„é™æ€èšåˆ.</p><p>undo link-aggregation all</p><p>â€¢ åœ¨ç«¯å£ä¸‹è¿›è¡ŒåŠ¨æ€èšåˆ.</p><p>lacp enable</p><p>â€¢ åœ¨ç«¯å£ä¸‹å–æ¶ˆåŠ¨æ€èšåˆ.</p><p>undo lacp enable</p><p>STPï¼ˆSpanning Tree Protocolï¼‰æ˜¯ç”Ÿæˆæ ‘åè®®çš„è‹±æ–‡ç¼©å†™ã€‚è¯¥åè®®å¯åº”ç”¨äºç¯è·¯ç½‘ç»œï¼Œé€šè¿‡ä¸€å®šçš„ç®—æ³•é˜»æ–­æŸäº›å†—ä½™è·¯å¾„ï¼Œå°†ç¯è·¯ç½‘ç»œä¿®å‰ªæˆæ— ç¯è·¯çš„æ ‘å‹ç½‘ç»œï¼Œä»è€Œé¿å…æŠ¥æ–‡åœ¨ç¯è·¯ç½‘ç»œä¸­çš„å¢ç”Ÿå’Œæ— é™å¾ªç¯ã€‚</p><p>â€¢ å®šä¹‰STPæ¨¡å¼.</p><p>stp mode stp</p><p>â€¢ å–æ¶ˆSTPæ¨¡å¼.</p><p>undo stp mode</p><p>â€¢ å®šä¹‰MSTPæ¨¡å¼.</p><p>stp mode mstp</p><p>â€¢ å–æ¶ˆMSTPæ¨¡å¼.</p><p>undo stp mode</p><p><strong>3.4è·¯ç”±</strong></p><p>3.4.1 RIP</p><p>RIPæ˜¯Routing Information Protocolï¼ˆè·¯ç”±ä¿¡æ¯åè®®ï¼‰çš„ç®€ç§°ã€‚å®ƒæ˜¯ä¸€ç§è¾ƒä¸ºç®€å•çš„å†…éƒ¨ç½‘å…³åè®®ï¼ˆIGPï¼‰ï¼Œä¸»è¦ç”¨äºè§„æ¨¡è¾ƒå°çš„ç½‘ç»œä¸­ã€‚</p><p>â€¢ å¯åŠ¨RIPï¼Œè¿›å…¥RIPè§†å›¾</p><p>rip</p><p>â€¢ åœæ­¢RIPåè®®çš„è¿è¡Œ</p><p>undo rip</p><p>â€¢ åœ¨æŒ‡å®šçš„ç½‘ç»œæ¥å£ä¸Šåº”ç”¨RIP</p><p>network network-address</p><p>â€¢ åœ¨æŒ‡å®šçš„ç½‘ç»œæ¥å£ä¸Šå–æ¶ˆåº”ç”¨RIP</p><p>undo network network-address</p><p>â€¢ æŒ‡å®šæ¥å£çš„RIPç‰ˆæœ¬ä¸ºRIP-1</p><p>rip version 1</p><p>â€¢ æŒ‡å®šæ¥å£çš„RIPç‰ˆæœ¬ä¸ºRIP-2</p><p>rip version 2 [ broadcast | multicast ]</p><p>â€¢ å°†æ¥å£è¿è¡Œçš„RIPç‰ˆæœ¬æ¢å¤ä¸ºç¼ºçœå€¼</p><p>undo rip version { 1 | 2 }</p><p>3.4.2 OSPF</p><p>OSPFæ˜¯Open Shortest Path Firstï¼ˆå¼€æ”¾æœ€çŸ­è·¯ç”±ä¼˜å…ˆåè®®ï¼‰çš„ç¼©å†™ã€‚å®ƒæ˜¯IETFç»„ç»‡å¼€å‘çš„ä¸€ä¸ªåŸºäºé“¾è·¯çŠ¶æ€çš„å†…éƒ¨ç½‘å…³åè®®ã€‚ç›®å‰ä½¿ç”¨çš„æ˜¯ç‰ˆæœ¬2ï¼ˆRFC2328ï¼‰.</p><p>â€¢ å®šä¹‰router id</p><p>â€¢ å¯åŠ¨OSPFï¼Œè¿›å…¥OSPFè§†å›¾</p><p>ospf</p><p>å…³é—­OSPFè·¯ç”±åè®®è¿›ç¨‹</p><p>undo ospf [ process-id ]</p><p>â€¢ è¿›å…¥OSPFåŒºåŸŸè§†å›¾</p><p>area area-id</p><p>â€¢ åˆ é™¤æŒ‡å®šçš„OSPFåŒºåŸŸ</p><p>undo area area-id</p><p>â€¢ æŒ‡å®šç½‘æ®µè¿è¡ŒOSPFåè®®</p><p>network ip-address wildcard-mask</p><p>â€¢ å–æ¶ˆç½‘æ®µè¿è¡ŒOSPFåè®®</p><p>undo network ip-address wildcard-mask</p><p><strong>3.5ç½‘ç»œç®¡ç†</strong></p><p>3.5.1 SNMPçš„ä»‹ç»</p><p>â€¢ ä»‹ç»</p><p>ã€€ç®€å•ç½‘ç»œç®¡ç†åè®®ï¼ˆSNMP)æ˜¯è¢«å¹¿æ³›åº”ç”¨çš„ä¸€é¡¹å·¥ä¸šæ ‡å‡†ï¼Œæ˜¯ç›®å‰ç”¨å¾—æœ€å¹¿æ³›çš„è®¡ç®—æœºç½‘ç»œç®¡ç†åè®®ï¼</p><p>â€¢ ç»“æ„</p><p>ã€€SNMPç»“æ„åˆ†ä¸ºNMS(Network Management Station)å’ŒAGENTä¸¤éƒ¨åˆ†ï¼ŒNMSæ˜¯è¿è¡Œå®¢æˆ·ç«¯çš„å·¥ä½œç«™ï¼ŒAGENTæ˜¯è¿è¡Œåœ¨ç½‘ç»œè®¾å¤‡ä¸Šçš„æœåŠ¡ç«¯è½¯ä»¶ï¼</p><p>â€¢ SNMPç‰ˆæœ¬</p><p>ã€€SNMPç°åœ¨æœ‰ä¸‰ä¸ªç‰ˆæœ¬ï¼ŒSNMP v3/v2c/v1,SNMP v3å…¼å®¹v1å’Œv2c.</p><p>â€¢ SNMPçš„é…ç½®åŒ…æ‹¬ï¼š</p><p>ã€€å¯åŠ¨å’Œå…³é—­SNMP AGENTæœåŠ¡</p><p>ã€€è®¾ç½®å›¢ä½“å</p><p>ã€€é…ç½®ä¸€ä¸ªSNMPç»„</p><p>ã€€è®¾ç½®ç®¡ç†å‘˜çš„è”ç³»æ–¹æ³•</p><p>ã€€å…è®¸ï¼ç¦æ­¢å‘é€TrapæŠ¥æ–‡</p><p>ã€€è®¾ç½®Trapç›®æ ‡ä¸»æœºçš„åœ°å€</p><p>ã€€æŒ‡å®šå‘é€æŠ¥æ–‡çš„æºåœ°å€</p><p>SNMPå®ä¾‹é…ç½®</p><p></p><div class=pgc-img><img alt=H3Cé…ç½®ç»å…¸å…¨é¢æ•™ç¨‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f1748972006444f99bfa85798261f068><p class=pgc-img-caption></p></div><p></p><p>â€¢ System-view è¿›å…¥è§†å›¾</p><p>â€¢ Snmp-agent community read public åªè¯»å›¢ä½“å±æ€§åpublic</p><p>â€¢ Snmp-agent communty write private åªå†™å›¢ä½“å±æ€§åprivate</p><p>â€¢ Snmp-agent sys-inf contact Mr.wang-tel 3306 è®¾ç½®ç®¡ç†å‘˜è”ç³»æ–¹æ³•</p><p>â€¢ Snmp-agent sys-info location telephone 3rd floor è·¯ç”±å™¨ç‰©ç†ä½ç½®</p><p>â€¢ Snmp-agent trap enable ä½¿èƒ½trapæŠ¥æ–‡</p><p>â€¢ Snmp-agent target-host trap address udp-domain 129.102.149.23 udp-port 5000 params securityname public å…è®¸å‘ç½‘ç®¡å·¥ä½œç«™129.102.149.23å‘é€trapæŠ¥æ–‡ï¼Œä½¿ç”¨å›¢ä½“åä¸ºpublic.</p><p></p><p><strong>3.6å®‰å…¨ç®¡ç†</strong></p><p>3.6.1è®¤è¯ä¸æˆæƒ</p><p>â€¢ è¦ç‚¹</p><p>â€¢ éœ€è¦ç¡®å®šæƒåˆ©çš„ç­‰çº§</p><p>â€¢ éœ€è¦ç¡®å®šæˆæƒçš„ç­–ç•¥</p><p>ã€€ã€€Generic or per user</p><p>RADIUS</p><p>Local authentication</p><p>3.6.2è®¤è¯é…ç½®</p><p>â€¢ æœ¬åœ°éªŒè¯</p><p>â€¢ VRPçš„é…ç½®</p><p>ã€€ local-user huawei</p><p>password simple 123</p><p>service-type telnet è®¾ç½®æœ¬åœ°è®¤è¯ç”¨æˆ·åå’Œå¯†ç </p><p>ã€€user-interface vty 0 4 è¿›å…¥vtyè§†å›¾</p><p>ã€€authentication-mode scheme é€šè¿‡telnetè®¿é—®çš„ç”¨æˆ·ä½¿ç”¨æœ¬åœ°éªŒè¯</p><p>3.6.3é™åˆ¶æˆæƒ</p><p>åŒºåˆ†ç”¨æˆ·åœ¨è®¾å¤‡ä¸Šçš„æˆæƒ</p><p>â€¢ é…ç½®ç­‰çº§</p><p>â€¢ è§†å›¾ç­‰çº§</p><p>â€¢ æ”¯æŒç­‰çº§</p><p>ã€€ä½¿ç”¨ç‰¹æƒç­‰çº§ï¼ˆlevel 1---level 3)</p><p>3.6.4æˆæƒé…ç½®</p><p>â€¢ VRPçš„é…ç½®</p><p>ã€€local-user huawei password simple 123 å»ºç«‹ç”¨æˆ·</p><p>ã€€local-user huawei level 3 è®¾å®šæˆæƒç­‰çº§</p><p>â€¢ åº”ç”¨å‘½ä»¤</p><p>command-privilege level 3 view serial display interface</p><p>â€¢ VRPçš„å‘½ä»¤è¡Œä¿æŠ¤</p><p>super password level {1/2/3} {simple/cipher} 123</p><p>3.6.5 Vtyå’Œconsoleçš„æ—¶é—´ä¿æŠ¤</p><p>â€¢ ç”¨é€”</p><p>ä¸ºäº†ä½¿é€šè¿‡vtyå’Œconsoleç™»é™†çš„è®¾å¤‡åœ¨ä½¿ç”¨è€…ç¦»å¼€åä¸è¢«å…¶ä»–æ²¡æœ‰æˆæƒçš„äººä½¿ç”¨ï¼</p><p>â€¢ VRPçš„é…ç½®</p><p>Idle-timeout minite second</p><p>3.6.6è®¿é—®æ§åˆ¶åˆ—è¡¨</p><p>â€¢ æ¦‚è¿°</p><p>è·¯ç”±å™¨ä¸ºäº†è¿‡æ»¤æ•°æ®åŒ…ï¼Œéœ€è¦é…ç½®ä¸€ç³»åˆ—çš„è§„åˆ™ï¼Œä»¥å†³å®šä»€ä¹ˆæ ·çš„æ•°æ®åŒ…èƒ½å¤Ÿé€šè¿‡ï¼Œè¿™äº›è§„åˆ™å°±æ˜¯é€šè¿‡è®¿é—®æ§åˆ¶åˆ—è¡¨ACLï¼ˆAccess Control Listï¼‰å®šä¹‰çš„ã€‚</p><p>â€¢ åˆ†ç±»</p><p>åŸºæœ¬çš„è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆbasic aclï¼‰</p><p>é«˜çº§çš„è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆadvanced aclï¼‰</p><p>åŸºäºæ¥å£çš„è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆinterface-based aclï¼‰</p><p>åŸºäºmacçš„è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆmac-based aclï¼‰</p><p>3.6.7æ ‡å‡†è®¿é—®åˆ—è¡¨çš„é…ç½®</p><p>â€¢ åœ¨ç³»ç»Ÿè§†å›¾ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåŸºæœ¬è®¿é—®æ§åˆ¶åˆ—è¡¨</p><p>acl {number number/name name basic} [match- order {config/auto}]</p><p>â€¢ åœ¨åŸºæœ¬è®¿é—®æ§åˆ¶åˆ—è¡¨è¯•å›¾ä¸‹ï¼Œé…ç½®ACLè§„åˆ™ï¼</p><p>rule [rule-id] {permit/deny} [source sour-add sour-wildcast/any] [time-range time-name] [logging] [fragment] [vpn-instance vpn-instance-name]</p><p>acl number 2000</p><p>rule 1 permit source 20.1.1.0 0.0.0.255</p><p><strong>4 H3Cé…ç½®å®éªŒæ•°æ®æ³¨è§£</strong></p><p>1ã€system-view è¿›å…¥ç³»ç»Ÿè§†å›¾æ¨¡å¼</p><p>2ã€sysname ä¸ºè®¾å¤‡å‘½å</p><p>3ã€display current-configuration å½“å‰é…ç½®æƒ…å†µ</p><p>4ã€ language-mode Chinese|English ä¸­è‹±æ–‡åˆ‡æ¢</p><p>5ã€interface Ethernet 1/0/1 è¿›å…¥ä»¥å¤ªç½‘ç«¯å£è§†å›¾</p><p>6ã€ port link-type Access|Trunk|Hybrid è®¾ç½®ç«¯å£è®¿é—®æ¨¡å¼</p><p>7ã€ undo shutdown æ‰“å¼€ä»¥å¤ªç½‘ç«¯å£</p><p>8ã€ shutdown å…³é—­ä»¥å¤ªç½‘ç«¯å£</p><p>9ã€ quit é€€å‡ºå½“å‰è§†å›¾æ¨¡å¼</p><p>10ã€ vlan 10 åˆ›å»ºVLAN 10å¹¶è¿›å…¥VLAN 10çš„è§†å›¾æ¨¡å¼</p><p>11ã€ port access vlan 10 åœ¨ç«¯å£æ¨¡å¼ä¸‹å°†å½“å‰ç«¯å£åŠ å…¥åˆ°vlan 10ä¸­</p><p>12ã€port E1/0/2 to E1/0/5 åœ¨VLANæ¨¡å¼ä¸‹å°†æŒ‡å®šç«¯å£åŠ å…¥åˆ°å½“å‰vlanä¸­</p><p>13ã€port trunk permit vlan all å…è®¸æ‰€æœ‰çš„vlané€šè¿‡</p><p>H3Cè·¯ç”±å™¨######################################################################################</p><p>1ã€system-view è¿›å…¥ç³»ç»Ÿè§†å›¾æ¨¡å¼</p><p>2ã€sysname R1 ä¸ºè®¾å¤‡å‘½åä¸ºR1</p><p>3ã€display ip routing-table æ˜¾ç¤ºå½“å‰è·¯ç”±è¡¨</p><p>4ã€ language-mode Chinese|English ä¸­è‹±æ–‡åˆ‡æ¢</p><p>5ã€interface Ethernet 0/0 è¿›å…¥ä»¥å¤ªç½‘ç«¯å£è§†å›¾</p><p>6ã€ ip address 192.168.1.1 255.255.255.0 é…ç½®IPåœ°å€å’Œå­ç½‘æ©ç </p><p>7ã€ undo shutdown æ‰“å¼€ä»¥å¤ªç½‘ç«¯å£</p><p>8ã€ shutdown å…³é—­ä»¥å¤ªç½‘ç«¯å£</p><p>9ã€ quit é€€å‡ºå½“å‰è§†å›¾æ¨¡å¼</p><p>10ã€ ip route-static 192.168.2.0 255.255.255.0 192.168.12.2 description To.R2 é…ç½®é™æ€è·¯ç”±</p><p>11ã€ ip route-static 0.0.0.0 0.0.0.0 192.168.12.2 description To.R2 é…ç½®é»˜è®¤çš„è·¯ç”±</p><p>H3C S3100 Switch</p><p>H3C S3600 Switch</p><p>H3C MSR 20-20 Router</p><p>##########################################################################################</p><p>1ã€è°ƒæ•´è¶…çº§ç»ˆç«¯çš„æ˜¾ç¤ºå­—å·ï¼›</p><p>2ã€æ•è·è¶…çº§ç»ˆç«¯æ“ä½œå‘½ä»¤è¡Œï¼Œä»¥å¤‡æ—¥åæŸ¥å¯¹ï¼›</p><p>3ã€ language-mode Chinese|English ä¸­è‹±æ–‡åˆ‡æ¢ ï¼›</p><p>4ã€å¤åˆ¶å‘½ä»¤åˆ°è¶…çº§ç»ˆç«¯å‘½ä»¤è¡Œï¼Œç²˜è´´åˆ°ä¸»æœºï¼›</p><p>5ã€äº¤æ¢æœºæ¸…é™¤é…ç½® :&lt;H3C>reset save ï¼›&lt;H3C>reboot ï¼›</p><p>6ã€è·¯ç”±å™¨ã€äº¤æ¢æœºé…ç½®æ—¶ä¸èƒ½æ‰ç”µï¼Œè¿é€šæµ‹è¯•å‰ä¸€å®šè¦</p><p>æ£€æŸ¥ç½‘ç»œçš„è¿é€šæ€§ï¼Œä¸è¦çŠ¯æœ€ä½çº§çš„é”™è¯¯ã€‚</p><p>7ã€192.168.1.1/24 ç­‰åŒ 192.168.1.1 255.255.255.0ï¼›åœ¨é…ç½®äº¤æ¢æœºå’Œè·¯ç”±å™¨æ—¶ï¼Œ 192.168.1.1 255.255.255.0 å¯ä»¥å†™æˆï¼š</p><p>192.168.1.1 24</p><p>8ã€è®¾å¤‡å‘½åè§„åˆ™ï¼šåœ°å-è®¾å¤‡å-ç³»åˆ—å· ä¾‹ï¼šPingGu-R-S360</p><p><strong>H3Cäº¤æ¢æœºçš„ä¸€äº›ç®€å•é…ç½®</strong></p><p>è¿™é‡Œä½¿ç”¨çš„H3Cäº¤æ¢æœºæ˜¯H126Aï¼Œä»…ä»…åªåšäº†æœ€åŸºæœ¬çš„é…ç½®ä»¥æ»¡è¶³ä½¿ç”¨ã€‚</p><p>é…ç½®ä¸­å¯ä»¥é€šè¿‡display current-configuraå‘½ä»¤æ¥æ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„é…ç½®å†…å®¹ã€‚</p><p># é…ç½®VLAN 1</p><p>&lt;Sysname>system-view</p><p>System View: return to User View with Ctrl+Z.</p><p>[Sysname]vlan 1</p><p>[Sysname-vlan1] quit</p><p>[Sysname]management-vlan 1</p><p>[Sysname]interface Vlan-interface 1</p><p>[Sysname-Vlan-interface1] ip address 10.0.1.201 255.255.255.0</p><p># æ˜¾ç¤ºVLAN æ¥å£1 çš„ç›¸å…³ä¿¡æ¯ã€‚</p><p>&lt;Sysname> display ip interface Vlan-interface 1</p><p># åˆ›å»ºVLANï¼ˆH3Cä¸æ”¯æŒciscoçš„VTPï¼Œæ‰€ä»¥åªèƒ½æ·»åŠ é™æ€VLANï¼‰</p><p>&lt;H3C_TEST>system-view</p><p>System View: return to User View with Ctrl+Z.</p><p>[H3C_TEST]vlan 99</p><p>[H3C_TEST-vlan99]name seicoffice</p><p>[H3C_TEST-vlan99]quit</p><p># æŠŠäº¤æ¢æœºçš„ç«¯ç«¯å£åˆ’åˆ†åˆ°ç›¸åº”çš„Vlanä¸­</p><p>[H3C_TEST]interface ethernet1/0/2ã€€ã€€ã€€ã€€ã€€ã€€ã€€//è¿›å…¥ç«¯å£æ¨¡å¼</p><p>[H3C_TEST-Ethernet1/0/2]port link-type access //è®¾ç½®ç«¯å£çš„ç±»å‹ä¸ºaccess</p><p>[H3C_TEST-Ethernet1/0/2]port access vlan 99ã€€ã€€//æŠŠå½“å‰ç«¯å£åˆ’åˆ°vlan 99</p><p>[H3C_TEST]vlan 99</p><p>[H3C_TEST-vlan99]port ethernet1/0/1 to ethernet1/0/24ã€€ã€€//æŠŠä»¥åŠç½‘ç«¯å£1/0/1åˆ°1/0/24åˆ’åˆ°vlan99</p><p>[H3C_TEST-vlan99]quit</p><p>[H3C_TEST-GigabitEthernet1/2/1]port trunk permit vlan 1 99 // {ID|All} è®¾ç½®trunkç«¯å£å…è®¸é€šè¿‡çš„VLAN</p><p>-------------------------------------------------------------------------------------------------------</p><p># é…ç½®æœ¬åœ°ç”¨æˆ·</p><p>&lt;Sysname>system-view</p><p>System View: return to User View with Ctrl+Z.</p><p>[Sysname]local-user h3c</p><p>New local user added.</p><p>[Sysname-luser-h3c]service-type telnet level 3</p><p>[Sysname-luser-h3c]password simple h3</p><p># é…ç½®æ¬¢è¿ä¿¡æ¯</p><p>[H3C_TEST]header login %Welcome to login h3c!%</p><p># é…ç½®ç”¨æˆ·è®¤è¯æ–¹å¼telnet(vty 0-4)</p><p>[H3C_TEST]user-interface vty 0 4</p><p>[H3C_TEST-ui-vty0-4]authentication-mode scheme</p><p>[H3C_TEST-ui-vty0-4]protocol inbound telnet</p><p>[H3C_TEST-ui-vty0-4]super authentication-mode super-password</p><p>[H3C_TEST-ui-vty0-4]quit</p><p>[H3C_TEST]super password level 3 simple h3c //ç”¨æˆ·ç™»é™†åæå‡æƒé™çš„å¯†ç </p><p># é…ç½®Radiusç­–ç•¥</p><p>[H3C_TEST]radius scheme radius1</p><p>New Radius scheme</p><p>[H3C_TEST-radius-radius1]primary authentication 10.0.1.253 1645</p><p>[H3C_TEST-radius-radius1]primary accounting 10.0.1.253 1646</p><p>[H3C_TEST-radius-radius1]secondary authentication 127.0.0.1 1645</p><p>[H3C_TEST-radius-radius1]secondary accounting 127.0.0.1 1646</p><p>[H3C_TEST-radius-radius1]timer 5</p><p>[H3C_TEST-radius-radius1]key authentication h3c</p><p>[H3C_TEST-radius-radius1]key accounting h3c</p><p>[H3C_TEST-radius-radius1]server-type extended</p><p>[H3C_TEST-radius-radius1]user-name-format without-domain</p><p></p><p># é…ç½®åŸŸ</p><p>[H3C_TEST]domain h3c</p><p>[H3C_TEST-isp-h3c]authentication radius-scheme radius1 local</p><p>[H3C_TEST-isp-h3c]scheme radius-scheme radius1 local</p><p>[H3C_TEST]domain default enable h3c</p><p></p><p># é…ç½®åœ¨è¿œç¨‹è®¤è¯å¤±è´¥æ—¶ï¼Œæœ¬åœ°è®¤è¯çš„key</p><p>[H3C_TEST]local-server nas-ip 127.0.0.1 key h3c</p><p>H3Cäº¤æ¢æœºè·¯ç”±å™¨telnetå’Œconsoleå£ç™»å½•é…ç½®</p><p>2009å¹´11æœˆ09æ—¥ æ˜ŸæœŸä¸€ 10:00</p><p>çº§åˆ«è¯´æ˜</p><p>Level åç§°</p><p>å‘½ä»¤0</p><p>å‚è§‚</p><p>pingã€tracertã€telnet</p><p>1ã€ç›‘æ§</p><p>displayã€debugging</p><p>2ã€é…ç½®</p><p>æ‰€æœ‰é…ç½®å‘½ä»¤ï¼ˆç®¡ç†çº§çš„å‘½ä»¤é™¤å¤–ï¼‰</p><p>3ã€ç®¡ç†</p><p>æ–‡ä»¶ç³»ç»Ÿå‘½ä»¤ã€FTPå‘½ä»¤ã€TFTPå‘½ä»¤ã€XMODEMå‘½ä»¤</p><p>telnetä»…ç”¨å¯†ç ç™»å½•ï¼Œç®¡ç†å‘˜æƒé™</p><p>[Router]user-interface vty 0 4[Router-ui-vty0-4]user privilege level 3[Router-ui-vty0-4]set authentication password simple abc</p><p>telnetä»…ç”¨å¯†ç ç™»å½•ï¼Œéç®¡ç†å‘˜æƒé™</p><p>[Router]super password level 3 simple super</p><p>[Router]user-interface vty 0 4[Router-ui-vty0-4]user privilege level 1[Router-ui-vty0-4]set authentication password simple abc</p><p>telnetä½¿ç”¨è·¯ç”±å™¨ä¸Šé…ç½®çš„ç”¨æˆ·åå¯†ç ç™»å½•ï¼Œç®¡ç†å‘˜æƒé™</p><p>[Router]local-user admin password simple admin[Router]local-user admin service-type telnet[Router]local-user admin level 3</p><p>[Router]user-interface vty 0 4[Router-ui-vty0-4]authentication-mode local</p><p>telnetä½¿ç”¨è·¯ç”±å™¨ä¸Šé…ç½®çš„ç”¨æˆ·åå¯†ç ç™»å½•ï¼Œéç®¡ç†å‘˜æƒé™</p><p>[Router]super password level 3 simple super</p><p>[Router]local-user manage password simple manage[Router]local-user manage service-type telnet[Router]local-user manage level 2</p><p>[Router]user-interface vty 0 4[Router-ui-vty0-4]authentication-mode local</p><p>å¯¹consoleå£è®¾ç½®å¯†ç ï¼Œç™»å½•åä½¿ç”¨ç®¡ç†å‘˜æƒé™</p><p>[Router]user-interface con 0[Router-ui-console0]user privilege level 3[Router-ui-console0]set authentication password simple abc</p><p>å¯¹consoleå£è®¾ç½®å¯†ç ï¼Œç™»å½•åä½¿ç”¨éç®¡ç†å‘˜æƒé™</p><p>[Router]super password level 3 simple super</p><p>[Router]user-interface con 0[Router-ui-console0]user privilege level 1[Router-ui-console0]set authentication password simple abc</p><p>å¯¹consoleå£è®¾ç½®ç”¨æˆ·åå’Œå¯†ç ï¼Œç™»å½•åä½¿ç”¨ç®¡ç†å‘˜æƒé™</p><p>[Router]local-user admin password simple admin[Router]local-user admin service-type terminal[Router]local-user admin level 3</p><p>[Router]user-interface con 0[Router-ui-console0]authentication-mode local</p><p>å¯¹consoleå£è®¾ç½®ç”¨æˆ·åå’Œå¯†ç ï¼Œç™»å½•åä½¿ç”¨éç®¡ç†å‘˜æƒé™</p><p>[Router]super password level 3 simple super</p><p>[Router]local-user manage password simple manage[Router]local-user manage service-type terminal[Router]local-user manage level 2</p><p>[Router]user-interface con 0[Router-ui-console0]authentication-mode local</p><p>simple æ˜¯æ˜æ–‡æ˜¾ç¤ºï¼Œcipher æ˜¯åŠ å¯†æ˜¾ç¤º</p><p>è·¯ç”±å™¨ä¸è®¾ç½®telnetç™»å½•é…ç½®æ—¶ï¼Œç”¨æˆ·æ— æ³•é€šè¿‡telnetç™»å½•åˆ°è·¯ç”±å™¨ä¸Š</p><p>[Router-ui-vty0-4]acl 2000 inboundå¯ä»¥é€šè¿‡aclçš„è§„åˆ™åªå…è®¸ç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·è¿œç¨‹ç™»å½•è·¯ç”±å™¨</p><p>è·¯ç”±å™¨å‘½ä»¤</p><p>~~~~~~~~~~</p><p>[Quidway]display version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</p><p>[Quidway]display current-configuration æ˜¾ç¤ºå½“å‰é…ç½®</p><p>[Quidway]display interfaces æ˜¾ç¤ºæ¥å£ä¿¡æ¯</p><p>[Quidway]display ip route æ˜¾ç¤ºè·¯ç”±ä¿¡æ¯</p><p>[Quidway]sysname aabbcc æ›´æ”¹ä¸»æœºå</p><p>[Quidway]super passwrod 123456 è®¾ç½®å£ä»¤</p><p>[Quidway]interface serial0 è¿›å…¥æ¥å£</p><p>[Quidway-serial0]ip address &lt;ip>&lt;mask></p><p>[Quidway-serial0]undo shutdown æ¿€æ´»ç«¯å£</p><p>[Quidway]link-protocol hdlc ç»‘å®šhdlcåè®®</p><p>[Quidway]user-interface vty 0 4</p><p>[Quidway-ui-vty0-4]authentication-mode password</p><p>[Quidway-ui-vty0-4]set authentication-mode password simple 222</p><p>[Quidway-ui-vty0-4]user privilege level 3</p><p>[Quidway-ui-vty0-4]quit</p><p>[Quidway]debugging hdlc all serial0 æ˜¾ç¤ºæ‰€æœ‰ä¿¡æ¯</p><p>[Quidway]debugging hdlc event serial0 è°ƒè¯•äº‹ä»¶ä¿¡æ¯</p><p>[Quidway]debugging hdlc packet serial0 æ˜¾ç¤ºåŒ…çš„ä¿¡æ¯</p><p>é™æ€è·¯ç”±ï¼š</p><p>[Quidway]ip route-static &lt;ip>&lt;mask>{interface number|nexthop}[value][reject|blackhole]</p><p>ä¾‹å¦‚ï¼š</p><p>[Quidway]ip route-static 129.1.0.0 16 10.0.0.2</p><p>[Quidway]ip route-static 129.1.0.0 255.255.0.0 10.0.0.2</p><p>[Quidway]ip route-static 129.1.0.0 16 Serial 2</p><p>[Quidway]ip route-static 0.0.0.0 0.0.0.0 10.0.0.2</p><p>åŠ¨æ€è·¯ç”±ï¼š</p><p>[Quidway]rip</p><p>[Quidway]rip work</p><p>[Quidway]rip input</p><p>[Quidway]rip output</p><p>[Quidway-rip]network 1.0.0.0 å¯ä»¥all</p><p>[Quidway-rip]network 2.0.0.0</p><p>[Quidway-rip]peer ip-address</p><p>[Quidway-rip]summary</p><p>[Quidway]rip version 1</p><p>[Quidway]rip version 2 multicast</p><p>[Quidway-Ethernet0]rip split-horizon æ°´å¹³åˆ†éš”</p><p>[Quidway]router id A.B.C.D é…ç½®è·¯ç”±å™¨çš„ID</p><p>[Quidway]ospf enable å¯åŠ¨OSPFåè®®</p><p>[Quidway-ospf]import-route direct å¼•å…¥ç›´è”è·¯ç”±</p><p>[Quidway-Serial0]ospf enable area &lt;area_id> é…ç½®OSPFåŒºåŸŸ</p><p>æ ‡å‡†è®¿é—®åˆ—è¡¨å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p><p>acl &lt;acl-number> [match-order config|auto] é»˜è®¤å‰è€…é¡ºåºåŒ¹é…ã€‚</p><p>rule [normal|special]{permit|deny} [source source-addr source-wildcard|any]</p><p>ä¾‹ï¼š</p><p>[Quidway]acl 10</p><p>[Quidway-acl-10]rule normal permit source 10.0.0.0 0.0.0.255</p><p>[Quidway-acl-10]rule normal deny source any</p><p>æ‰©å±•è®¿é—®æ§åˆ¶åˆ—è¡¨é…ç½®å‘½ä»¤</p><p>é…ç½®TCP/UDPåè®®çš„æ‰©å±•è®¿é—®åˆ—è¡¨ï¼š</p><p>rule {normal|special}{permit|deny}{tcp|udp}source {&lt;ip wild>|any}destination &lt;ip wild>|any}</p><p>[operate]</p><p>é…ç½®ICMPåè®®çš„æ‰©å±•è®¿é—®åˆ—è¡¨ï¼š</p><p>rule {normal|special}{permit|deny}icmp source {&lt;ip wild>|any]destination {&lt;ip wild>|any]</p><p>[icmp-code] [logging]</p><p>æ‰©å±•è®¿é—®æ§åˆ¶åˆ—è¡¨æ“ä½œç¬¦çš„å«ä¹‰</p><p>equal portnumber ç­‰äº</p><p>greater-than portnumber å¤§äº</p><p>less-than portnumber å°äº</p><p>not-equal portnumber ä¸ç­‰</p><p>range portnumber1 portnumber2 åŒºé—´</p><p>æ‰©å±•è®¿é—®æ§åˆ¶åˆ—è¡¨ä¸¾ä¾‹</p><p>[Quidway]acl 101</p><p>[Quidway-acl-101]rule deny souce any destination any</p><p>[Quidway-acl-101]rule permit icmp source any destination any icmp-type echo</p><p>[Quidway-acl-101]rule permit icmp source any destination any icmp-type echo-reply</p><p>[Quidway]acl 102</p><p>[Quidway-acl-102]rule permit ip source 10.0.0.1 0.0.0.0 destination 202.0.0.1 0.0.0.0</p><p>[Quidway-acl-102]rule deny ip source any destination any</p><p>[Quidway]acl 103</p><p>[Quidway-acl-103]rule permit tcp source any destination 10.0.0.1 0.0.0.0 destination-port equal ftp</p><p>[Quidway-acl-103]rule permit tcp source any destination 10.0.0.2 0.0.0.0 destination-port equal www</p><p>[Quidway]firewall enable</p><p>[Quidway]firewall default permit|deny</p><p>[Quidway]int e0</p><p>[Quidway-Ethernet0]firewall packet-filter 101 inbound|outbound</p><p>åœ°å€è½¬æ¢é…ç½®ä¸¾ä¾‹</p><p>[Quidway]firewall enable</p><p>[Quidway]firewall default permit</p><p>[Quidway]acl 101</p><p>[Quidway-acl-101]rule deny ip source any destination any</p><p>[Quidway-acl-101]rule permit ip source 129.38.1.4 0 destination any</p><p>[Quidway-acl-101]rule permit ip source 129.38.1.1 0 destination any</p><p>[Quidway-acl-101]rule permit ip source 129.38.1.2 0 destination any</p><p>[Quidway-acl-101]rule permit ip source 129.38.1.3 0 destination any</p><p>[Quidway]acl 102</p><p>[Quidway-acl-102]rule permit tcp source 202.39.2.3 0 destination 202.38.160.1 0</p><p>[Quidway-acl-102]rule permit tcp source any destination 202.38.160.1 0 destination-port great-than</p><p>1024</p><p>[Quidway-Ethernet0]firewall packet-filter 101 inbound</p><p>[Quidway-Serial0]firewall packet-filter 102 inbound</p><p>[Quidway]nat address-group 202.38.160.101 202.38.160.103 pool1</p><p>[Quidway]acl 1</p><p>[Quidway-acl-1]rule permit source 10.110.10.0 0.0.0.255</p><p>[Quidway-acl-1]rule deny source any</p><p>[Quidway-acl-1]int serial 0</p><p>[Quidway-Serial0]nat outbound 1 address-group pool1</p><p>[Quidway-Serial0]nat server global 202.38.160.101 inside 10.110.10.1 ftp tcp</p><p>[Quidway-Serial0]nat server global 202.38.160.102 inside 10.110.10.2 www tcp</p><p>[Quidway-Serial0]nat server global 202.38.160.102 8080 inside 10.110.10.3 www tcp</p><p>[Quidway-Serial0]nat server global 202.38.160.103 inside 10.110.10.4 smtp udp</p><p>PPPéªŒè¯ï¼š</p><p>ä¸»éªŒæ–¹ï¼špap|chap</p><p>[Quidway]local-user u2 password {simple|cipher} aaa</p><p>[Quidway]interface serial 0</p><p>[Quidway-serial0]ppp authentication-mode {pap|chap}</p><p>[Quidway-serial0]ppp chap user u1 //papæ—¶ï¼Œä¸ç”¨æ­¤å¥</p><p>papè¢«éªŒæ–¹ï¼š</p><p>[Quidway]interface serial 0</p><p>[Quidway-serial0]ppp pap local-user u2 password {simple|cipher} aaa</p><p>chapè¢«éªŒæ–¹ï¼š</p><p>[Quidway]interface serial 0</p><p>[Quidway-serial0]ppp chap user u1</p><p>[Quidway-serial0]local-user u2 password {simple|cipher} aaa</p><p>H3Cè·¯ç”±å™¨é…ç½®æ–¹æ¡ˆæ³¨è§£</p><p>2010-06-19 22:44</p><p>#</p><p>version 5.20, Release 1719 //ç‰ˆæœ¬ä¿¡æ¯ï¼Œè‡ªåŠ¨æ˜¾ç¤º</p><p>#</p><p>sysname H3C //ç»™è®¾å¤‡å‘½åä¸ºH3C</p><p>#</p><p>super password level 3 cipher 7WC1&lt;3E`[Y)./a!1$H@GYA!! //è®¾ç½®superå¯†ç </p><p>#</p><p>domain default enable system</p><p>#</p><p>telnet server enable</p><p>#</p><p>vlan 1</p><p>#</p><p>domain system</p><p>access-limit disable</p><p>state active</p><p>idle-cut disable</p><p>self-service-url disable</p><p>#</p><p>user-group system //ä»æ­¤ä»¥ä¸Šæœªæ ‡æ³¨çš„ä¸ºé»˜è®¤é…ç½®ï¼Œä¸ç”¨å»ç†è§£</p><p>#</p><p>local-user admin //æ·»åŠ ç”¨æˆ·åä¸ºadminçš„ç”¨æˆ·</p><p>password cipher .]@USE=B,53Q=^Q`MAF4&lt;1!! //è®¾ç½®å¯†ç ï¼ˆå¯†æ–‡ï¼‰</p><p>authorization-attribute level 3 //è®¾ç½®ç”¨æˆ·æƒé™ä¸º3çº§ï¼ˆæœ€é«˜ï¼‰</p><p>service-type telnet //è®¾ç½®ç”¨æˆ·çš„æ¨¡å¼ä¸ºtelnetç”¨æˆ·</p><p>local-user share //ä»æ­¤å¾€ä¸‹å››è¡ŒåŒä¸Š</p><p>password cipher [HM$GH8P1GSQ=^Q`MAF4&lt;1!!</p><p>authorization-attribute level 1</p><p>service-type telnet</p><p>#</p><p>controller E1 0/0 //è¿›å…¥E1ç‰©ç†ç«¯å£ï¼ˆä¸¤å…†å£ï¼‰</p><p>using e1 //è®¾ç½®ç«¯å£æ¨¡å¼ä¸ºE1ï¼ˆè®¾ç½®åä¸‹é¢ä¼šå‡ºç°interface Serial0/0:0ï¼‰</p><p>#</p><p>interface Aux0 //ä»æ­¤ä»¥ä¸‹ä¸‰è¡Œä¸ºä¸»æ§æ¿auxå£é»˜è®¤é…ç½®</p><p>async mode flow</p><p>link-protocol ppp</p><p>#</p><p>interface Ethernet0/0 //è¿›å…¥E0/0æ¥å£ï¼ˆä»¥å¤ªç½‘å£ï¼‰</p><p>port link-mode route //é…ç½®è¯¥æ¥å£ä¸ºè·¯ç”±æ¨¡å¼</p><p>#</p><p>interface Serial0/0:0 //è¿›å…¥Serial0/0:0ç«¯å£ï¼ˆå‰é¢ç”¨using e1å‘½ä»¤åäº§ç”Ÿï¼Œå¯¹åº”E1ç«¯å£ï¼‰</p><p>link-protocol ppp //é…ç½®é“¾è·¯åè®®ä¸ºpppï¼ˆé»˜è®¤ï¼‰</p><p>ip address 74.1.63.170 255.255.255.252 //é…ç½®è¯¥æ¥å£IPåœ°å€</p><p>#</p><p>interface NULL0</p><p>#</p><p>interface Vlan-interface1 //lanå£vlanåœ°å€ï¼ˆlanå£åœ°å€ï¼‰</p><p>ip address 192.168.1.1 255.255.255.0</p><p>#</p><p>interface Ethernet0/1</p><p>port link-mode bridge</p><p>#</p><p>interface Ethernet0/2</p><p>port link-mode bridge</p><p>#</p><p>interface Ethernet0/3</p><p>port link-mode bridge</p><p>#</p><p>interface Ethernet0/4</p><p>port link-mode bridge</p><p>#</p><p>ip route-static 74.1.8.0 255.255.255.0 74.1.63.169 //é…ç½®é™æ€è·¯ç”±</p><p>#</p><p>user-interface aux 0</p><p>user-interface vty 0 4 //è¿›å…¥vtyæ¥å£ï¼ˆè¿œç¨‹ç™»é™†æ¥å£ï¼‰0-4é€šé“</p><p>authentication-mode scheme //é…ç½®ç™»é™†éªŒè¯ç±»å‹ä¸ºschemeï¼ˆç”¨æˆ·éªŒè¯å‹ï¼‰</p><p>user privilege level 1 //è®¾ç½®å½“éªŒè¯æ¨¡å¼ä¸æ˜¯schemeç±»å‹æ—¶çš„ç™»å½•çº§åˆ«ï¼ˆåºŸé…ç½®ï¼‰</p><p>#</p><p>return</p><p><strong>H3Cè·¯ç”±å™¨åŸºæœ¬é…ç½®å‘½ä»¤</strong></p><p>2009-05-13 22:56</p><p>[Quidway]display version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</p><p>[Quidway]display current-configuration æ˜¾ç¤ºå½“å‰é…ç½®</p><p>[Quidway]display interfaces æ˜¾ç¤ºæ¥å£ä¿¡æ¯</p><p>[Quidway]display ip route æ˜¾ç¤ºè·¯ç”±ä¿¡æ¯</p><p>[Quidway]sysname aabbcc æ›´æ”¹ä¸»æœºå</p><p>[Quidway]super passwrod 123456 è®¾ç½®å£ä»¤</p><p>[Quidway]interface serial0 è¿›å…¥æ¥å£</p><p>[Quidway-serial0]ip address &lt;ip>&lt;mask></p><p>[Quidway-serial0]undo shutdown æ¿€æ´»ç«¯å£</p><p>[Quidway]link-protocol hdlc ç»‘å®šhdlcåè®®</p><p>[Quidway]user-interface vty 0 4</p><p>[Quidway-ui-vty0-4]authentication-mode password</p><p>[Quidway-ui-vty0-4]set authentication-mode password simple 222</p><p>[Quidway-ui-vty0-4]user privilege level 3</p><p>[Quidway-ui-vty0-4]quit</p><p>[Quidway]debugging hdlc all serial0 æ˜¾ç¤ºæ‰€æœ‰ä¿¡æ¯</p><p>[Quidway]debugging hdlc event serial0 è°ƒè¯•äº‹ä»¶ä¿¡æ¯</p><p>[Quidway]debugging hdlc packet serial0 æ˜¾ç¤ºåŒ…çš„ä¿¡æ¯</p><p>é™æ€è·¯ç”±ï¼š</p><p>[Quidway]ip route-static &lt;ip>&lt;mask>{interface number|nexthop}[value][reject|blackhole]</p><p>ä¾‹å¦‚ï¼š</p><p>[Quidway]ip route-static 129.1.0.0 16 10.0.0.2</p><p>[Quidway]ip route-static 129.1.0.0 255.255.0.0 10.0.0.2</p><p>[Quidway]ip route-static 129.1.0.0 16 Serial 2</p><p>[Quidway]ip route-static 0.0.0.0 0.0.0.0 10.0.0.2</p><p>åŠ¨æ€è·¯ç”±ï¼š</p><p>[Quidway]rip</p><p>[Quidway]rip work</p><p>[Quidway]rip input</p><p>[Quidway]rip output</p><p>[Quidway-rip]network 1.0.0.0 ;å¯ä»¥all</p><p>[Quidway-rip]network 2.0.0.0</p><p>[Quidway-rip]peer ip-address</p><p>[Quidway-rip]summary</p><p>[Quidway]rip version 1</p><p>[Quidway]rip version 2 multicast</p><p>[Quidway-Ethernet0]rip split-horizon ;æ°´å¹³åˆ†éš”</p><p>[Quidway]router id A.B.C.D é…ç½®è·¯ç”±å™¨çš„ID</p><p>[Quidway]ospf enable å¯åŠ¨OSPFåè®®</p><p>[Quidway-ospf]import-route direct å¼•å…¥ç›´è”è·¯ç”±</p><p>[Quidway-Serial0]ospf enable area &lt;area_id> é…ç½®OSPFåŒºåŸŸ</p><p></p><p>æ ‡å‡†è®¿é—®åˆ—è¡¨å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p><p>acl &lt;acl-number> [match-order config|auto] é»˜è®¤å‰è€…é¡ºåºåŒ¹é…ã€‚</p><p>rule [normal|special]{permit|deny} [source source-addr source-wildcard|any]</p><p>ä¾‹ï¼š</p><p>[Quidway]acl 10</p><p>[Quidway-acl-10]rule normal permit source 10.0.0.0 0.0.0.255</p><p>[Quidway-acl-10]rule normal deny source any</p><p>æ‰©å±•è®¿é—®æ§åˆ¶åˆ—è¡¨é…ç½®å‘½ä»¤</p><p>é…ç½®TCP/UDPåè®®çš„æ‰©å±•è®¿é—®åˆ—è¡¨ï¼š</p><p>rule {normal|special}{permit|deny}{tcp|udp}source {&lt;ip wild>|any}destination &lt;ip wild>|any}</p><p>[operate]</p><p>é…ç½®ICMPåè®®çš„æ‰©å±•è®¿é—®åˆ—è¡¨ï¼š</p><p>rule {normal|special}{permit|deny}icmp source {&lt;ip wild>|any]destination {&lt;ip wild>|any]</p><p>[icmp-code] [logging]</p><p>æ‰©å±•è®¿é—®æ§åˆ¶åˆ—è¡¨æ“ä½œç¬¦çš„å«ä¹‰</p><p>equal portnumber ç­‰äº</p><p>greater-than portnumber å¤§äº</p><p>less-than portnumber å°äº</p><p>not-equal portnumber ä¸ç­‰</p><p>range portnumber1 portnumber2 åŒºé—´</p><p>æ‰©å±•è®¿é—®æ§åˆ¶åˆ—è¡¨ä¸¾ä¾‹</p><p>[Quidway]acl 101</p><p>[Quidway-acl-101]rule deny souce any destination any</p><p>[Quidway-acl-101]rule permit icmp source any destination any icmp-type echo</p><p>[Quidway-acl-101]rule permit icmp source any destination any icmp-type echo-reply</p><p>[Quidway]acl 102</p><p>[Quidway-acl-102]rule permit ip source 10.0.0.1 0.0.0.0 destination 202.0.0.1 0.0.0.0</p><p>[Quidway-acl-102]rule deny ip source any destination any</p><p>[Quidway]acl 103</p><p>[Quidway-acl-103]rule permit tcp source any destination 10.0.0.1 0.0.0.0 destination-port equal ftp</p><p>[Quidway-acl-103]rule permit tcp source any destination 10.0.0.2 0.0.0.0 destination-port equal www</p><p>[Quidway]firewall enable</p><p>[Quidway]firewall default permit|deny</p><p>[Quidway]int e0</p><p>[Quidway-Ethernet0]firewall packet-filter 101 inbound|outbound</p><p>åœ°å€è½¬æ¢é…ç½®ä¸¾ä¾‹</p><p>[Quidway]firewall enable</p><p>[Quidway]firewall default permit</p><p>[Quidway]acl 101</p><p>[Quidway-acl-101]rule deny ip source any destination any</p><p>[Quidway-acl-101]rule permit ip source 129.38.1.4 0 destination any</p><p>[Quidway-acl-101]rule permit ip source 129.38.1.1 0 destination any</p><p>[Quidway-acl-101]rule permit ip source 129.38.1.2 0 destination any</p><p>[Quidway-acl-101]rule permit ip source 129.38.1.3 0 destination any</p><p>[Quidway]acl 102</p><p>[Quidway-acl-102]rule permit tcp source 202.39.2.3 0 destination 202.38.160.1 0</p><p>[Quidway-acl-102]rule permit tcp source any destination 202.38.160.1 0 destination-port great-than</p><p>1024</p><p>[Quidway-Ethernet0]firewall packet-filter 101 inbound</p><p>[Quidway-Serial0]firewall packet-filter 102 inbound</p><p>[Quidway]nat address-group 202.38.160.101 202.38.160.103 pool1</p><p>[Quidway]acl 1</p><p>[Quidway-acl-1]rule permit source 10.110.10.0 0.0.0.255</p><p>[Quidway-acl-1]rule deny source any</p><p>[Quidway-acl-1]int serial 0</p><p>[Quidway-Serial0]nat outbound 1 address-group pool1</p><p>[Quidway-Serial0]nat server global 202.38.160.101 inside 10.110.10.1 ftp tcp</p><p>[Quidway-Serial0]nat server global 202.38.160.102 inside 10.110.10.2 www tcp</p><p>[Quidway-Serial0]nat server global 202.38.160.102 8080 inside 10.110.10.3 www tcp</p><p>[Quidway-Serial0]nat server global 202.38.160.103 inside 10.110.10.4 smtp udp</p><p>PPPéªŒè¯ï¼š</p><p>ä¸»éªŒæ–¹ï¼špap|chap</p><p>[Quidway]local-user u2 password {simple|cipher} aaa</p><p>[Quidway]interface serial 0</p><p>[Quidway-serial0]ppp authentication-mode {pap|chap}</p><p>[Quidway-serial0]ppp chap user u1 //papæ—¶ï¼Œä¸ç”¨æ­¤å¥</p><p>papè¢«éªŒæ–¹ï¼š</p><p>[Quidway]interface serial 0</p><p>[Quidway-serial0]ppp pap local-user u2 password {simple|cipher} aaa</p><p>chapè¢«éªŒæ–¹ï¼š</p><p>[Quidway]interface serial 0</p><p>[Quidway-serial0]ppp chap user u1</p><p>[Quidway-serial0]local-user u2 password {simple|cipher} aaa</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'H3C','ç»å…¸','æ•™ç¨‹'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>