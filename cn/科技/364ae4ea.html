<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Android çŸ¢é‡å›¾è¯¦è§£ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Android çŸ¢é‡å›¾è¯¦è§£ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/4089cede16d64e73a6cd807ba37280e8"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/364ae4ea.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/364ae4ea.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/364ae4ea.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/364ae4ea.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/364ae4ea.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/364ae4ea.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/364ae4ea.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/364ae4ea.html><meta property="article:published_time" content="2020-10-29T21:08:52+08:00"><meta property="article:modified_time" content="2020-10-29T21:08:52+08:00"><meta name=Keywords content><meta name=description content="Android çŸ¢é‡å›¾è¯¦è§£"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/364ae4ea.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Android çŸ¢é‡å›¾è¯¦è§£</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>å®˜æ–¹æ–‡æ¡£</p><p>å…³äº Vectorï¼Œåœ¨å®˜æ–¹å¼€å‘æŒ‡å—ä¸­ä»‹ç»ã€‚æœ¬æ–‡ç« æ˜¯ç”±ä¸ªäººç¿»è¯‘å®˜æ–¹æŒ‡å—ç„¶åæ·»åŠ ä¸ªäººç†è§£å®Œæˆã€‚</p><blockquote><p>ç”±äºä¸ªäººç²¾åŠ›æœ‰é™ï¼Œå¤šä¸ªæ¸ é“å‘å¸ƒï¼Œæ’ç‰ˆä¸Šå¯èƒ½ä¼šæœ‰é—®é¢˜ï¼Œå¦‚æœå½±å“æŸ¥çœ‹ï¼Œè¯·ç§»æ­¥ <strong>Android å¼€å‘è€…å®¶å›­</strong></p></blockquote><p><strong>Vector Drawables æ¦‚è¿°</strong></p><p>VectorDrawable å’Œ AnimatedVectorDrawable æ˜¯åœ¨ Android 5.0 ç³»ç»Ÿä¸­ç¬¬ä¸€æ¬¡åŠ å…¥ï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Android çš„æ”¯æŒåº“ï¼Œæ¥æ”¯æŒæ—§çš„ç‰ˆæœ¬ï¼Œé€šè¿‡ VectorDrawableCompat å’Œ AnimateVectorDrawableCompat æ¥å®ç°ã€‚</p><p>VectorDrawble æ˜¯åœ¨ xml æ–‡ä»¶ä¸­å®šä¹‰çš„çŸ¢é‡å›¾å½¢ã€‚xml æ–‡ä»¶ä¸­å®šä¹‰çš„çŸ¢é‡å›¾å½¢ï¼Œå®ƒæ˜¯ä¸€ç»„å¸¦æœ‰é¢œè‰²ä¿¡æ¯çš„ç‚¹ã€çº¿å’Œæ›²çº¿ï¼Œä½¿ç”¨çŸ¢é‡å›¾ä¸»è¦çš„ä¼˜ç‚¹æ˜¯å›¾å½¢å¯ä¼¸ç¼©æ€§ã€‚å¯ä»¥åœ¨ä¸æŸå¤±æ˜¾ç¤ºè´¨é‡çš„æƒ…å†µä¸‹è¿›è¡Œç¼©æ”¾ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨ä¸åŒçš„å±å¹•å¯†åº¦çš„æ‰‹æœºä¸Šä½¿ç”¨ç›¸åŒçš„æ–‡ä»¶ã€‚è¿™æ ·ä¼šä½¿ APK æ–‡ä»¶å˜å°æ›´åŠ æœ‰åˆ©äºå¼€å‘äººå‘˜ç»´æŠ¤ã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å¤šä¸ª XML æ–‡ä»¶å’ŒçŸ¢é‡å›¾ç»“åˆç”¨äºåŠ¨ç”»ã€‚</p><p>æ—¢ç„¶è¯´èµ· VectorDrawable äº†ï¼Œé‚£å°±ä¸å¾—ä¸æ SVG ï¼ˆScalable Vector Graphicï¼‰äº†ï¼Œè¿™ä¸¤ä¸ªç»å¸¸æ··æ·†ï¼Œå…¶å® SVG å°±æ˜¯ä¸€ç§åŸºäºå¯æ‰©å±•è¯­è¨€ï¼ˆxmlï¼‰ï¼Œç”¨äºæè¿°äºŒç»´çŸ¢é‡å›¾å½¢çš„ä¸€ç§å›¾å½¢æ ¼å¼ï¼ˆå’Œæˆ‘ä»¬å¸¸è§çš„ .png ç­‰ç­‰å›¾ç‰‡ä¸€æ ·ï¼Œéƒ½æ˜¯ä¸€ç§å›¾ç‰‡æ ¼å¼ï¼‰ï¼Œå®ƒæœ‰è‡ªå·±çš„ä¸€å¥—ç¼–å†™è§„èŒƒï¼ˆä½¿ç”¨ XML ç¼–å†™çš„ï¼‰ï¼Œæ‰€ä»¥è¿™ç§å›¾ç‰‡æ˜¯æ ¹æ®ä»–è‡ªå·±çš„ä¸€å¥—è§„èŒƒé€šè¿‡ XML è¯­è¨€ç¼–å†™è€Œæˆçš„å›¾ç‰‡ã€‚è€Œæˆ‘ä»¬çš„ VectorDrawable æ˜¯ç¼–ç¨‹ä¸­çš„ï¼Œå®ƒä»…æ”¯æŒ SVG è§„èŒƒä¸­æœ‰é™çš„å†…å®¹ã€‚Android Studio æ”¯æŒå°† SVG æ–‡ä»¶è½¬æ¢æˆ VectorDrawable ã€‚è¿™å°±æ˜¯ä»–ä»¬ä¸¤è€…çš„å…³ç³»ã€‚</p><p><strong>path ä¸­çš„å¸¸ç”¨çš„ç®€å•ç»˜åˆ¶å‘½ä»¤</strong></p><ul><li>moveto å‘½ä»¤ M ç§»åŠ¨åˆ°æ–°çš„ä½ç½®</li><li>closepath å‘½ä»¤ Z å°é—­è·¯å¾„ï¼Œä»å½“å‰çš„ä½ç½®ç”»ä¸€æ¡ç›´çº¿åˆ°è¯¥è·¯å¾„æˆ–è€…å­è·¯å¾„èµ·å§‹ä½ç½®</li><li>lineto å‘½ä»¤ L ï¼Œä»å½“å‰çš„ä½ç½®ç”»ä¸€æ¡çº¿åˆ°æŒ‡å®šçš„ä½ç½®</li><li>horizontal lineto å‘½ä»¤ H æ°´å¹³ç”»ä¸€æ¡ç›´çº¿åˆ°æŒ‡å®šä½ç½®</li><li>vertical lineto å‘½ä»¤ V å‚ç›´ç”»ä¸€æ¡ç›´çº¿åˆ°æŒ‡å®šä½ç½®</li><li>è´å¡å°”æ›²çº¿ å‘½ä»¤ Q</li><li>å…‰æ»‘äºŒæ¬¡è´å¡å°”æ›²çº¿ å‘½ä»¤ T</li><li>elliptical arc å‘½ä»¤ A æ¤­åœ†å¼§</li></ul><p>æ¯ä¸ªå‘½ä»¤éƒ½æœ‰å¤§å°å†™çš„å½¢å¼ï¼Œå¤§å†™ä»£è¡¨åé¢çš„å‚æ•°æ˜¯ç»å¯¹åº§æ ‡ï¼Œå°å†™è¡¨ç¤ºç›¸å¯¹åº§æ ‡ï¼ˆæˆ‘ä»¬ä¸€èˆ¬ç”¨å¤§å†™å°±å¯ä»¥äº†ï¼‰ï¼Œå‚æ•°ä¹‹é—´ç”¨ç©ºæ ¼æˆ–è€…é€—å·éš”å¼€ã€‚æ‰€è°“çš„ç›¸å¯¹åº§æ ‡æ˜¯ç›¸å¯¹äºå‰é¢ä¸€ä¸ªç‚¹çš„ï¼Œæ¯”å¦‚ï¼šM30,0 l 10,10 æ¢ç®—æˆç»å¯¹åº§æ ‡å°±æ˜¯ M30,0 L40,10</p><p><strong>å‘½ä»¤ä½¿ç”¨å®ä¾‹</strong></p><ul><li>M(x y) ç§»åŠ¨åˆ°åº§æ ‡ xï¼Œy å¤„</li><li>Z åé¢ä¸æ¥å‚æ•°ï¼Œç›´æ¥è¿æ¥èµ·ç‚¹å’Œç»ˆç‚¹</li><li>Lï¼ˆx yï¼‰ç›´çº¿è¿æ¥åˆ°åº§æ ‡ xï¼Œy å¤„</li><li>Hï¼ˆxï¼‰ æ°´å¹³è¿æ¥</li><li>Vï¼ˆyï¼‰ å‚ç›´è¿æ¥</li><li>Cï¼ˆx1 y1 x2 y2 x yï¼‰æ§åˆ¶ç‚¹ x1ï¼Œy1 x2ï¼Œy2 ç»ˆç‚¹åº§æ ‡ xï¼Œy</li><li>Qï¼ˆx1 y1 x yï¼‰æ§åˆ¶å¸¦ç‚¹ x1ï¼Œy1 ç»ˆç‚¹åº§æ ‡ x ï¼Œyï¼›</li><li>Aï¼ˆrxï¼Œryï¼Œx-axis-rotationï¼Œlarge-arc-flagï¼Œsweep-flagï¼Œxï¼Œyï¼‰ï¼›</li><li class=ql-indent-1>rx,ry æ¤­åœ†åŠå¾„</li><li class=ql-indent-1>x-axis-rotation x è½´æ—‹è½¬è§’åº¦</li><li class=ql-indent-1>large-arc-flag ä¸º 0 çš„æ—¶å€™è¡¨ç¤ºå–å°å¼§åº¦ï¼Œ1 çš„æ—¶å€™å–å¤§å¼§åº¦</li><li class=ql-indent-1>sweep-flag 0 å–é€†æ—¶é’ˆæ–¹å‘ï¼Œ1 å–é¡ºæ—¶é’ˆæ–¹å‘</li><li class=ql-indent-1>(x,y) æ˜¯ç»ˆç‚¹çš„åº§æ ‡</li></ul><p><strong>VectorDrawable å¦‚ä½•å®šä¹‰</strong></p><p>VectorDrawable åœ¨ drawable æ–‡ä»¶å¤¹ä¸­é€šè¿‡ &lt;vector> æ¥å®šä¹‰ï¼Œè¿™é‡Œå…ˆæ¥è¯¦ç»†çš„ä»‹ç»ä¸€ä¸‹ vector ä¸­çš„å„ä¸ªå±æ€§ï¼ˆå’Œç½‘ä¸Šçš„è®¸å¤šä¸ä¸€æ ·ï¼Œç½‘ä¸Šçš„å¤§å¤šéƒ½æ²¡æœ‰è‡ªå·±éªŒè¯è¿‡ï¼‰</p><pre>&lt;!--ç”¨äºå®šä¹‰ vector drawable--&gt;&lt;vector androidï¼šnameï¼ˆç”¨äºå®šä¹‰è¿™ä¸ª vector drawable çš„åå­—ï¼‰ã€ androidï¼šwidthï¼ˆå®šä¹‰è¯¥ drawble çš„å†…éƒ¨å®½åº¦ï¼Œæ”¯æŒæ‰€æœ‰çš„ Android ç³»ç»Ÿæ”¯æŒçš„å°ºå¯¸å•ä½ï¼Œé€šå¸¸ä½¿ç”¨ dpï¼‰ androidï¼šheightï¼ˆå®šä¹‰è¯¥ drawble çš„å†…éƒ¨é«˜åº¦ï¼Œæ”¯æŒæ‰€æœ‰çš„ Android ç³»ç»Ÿæ”¯æŒçš„å°ºå¯¸å•ä½ï¼Œé€šå¸¸ä½¿ç”¨ dpï¼‰ androidï¼šviewportWidth(å®šä¹‰çŸ¢é‡å›¾è§†å›¾çš„å®½åº¦ï¼Œå®é™…ä¸Šå°±æ˜¯å¯¹åº” path è·¯å¾„æ‰€ä½¿ç”¨çš„æ•°æ®) androidï¼šviewportHeight(å®šä¹‰çŸ¢é‡å›¾è§†å›¾çš„é«˜åº¦ï¼Œå®é™…ä¸Šå°±æ˜¯å¯¹åº” path è·¯å¾„æ‰€ä½¿ç”¨çš„æ•°æ®) androidï¼štintï¼ˆå®šä¹‰è¯¥ drawble çº¿æ¡çš„é¢œè‰²ï¼Œå®šä¹‰äº†åï¼Œä½ å†åœ¨è·¯å¾„é‡Œé¢è®¾ç½®é¢œè‰²å°±æ²¡æœ‰ä½œç”¨äº†ï¼‰ androidï¼štintModeï¼ˆå®šä¹‰ tint é¢œè‰²çš„ Porter-Duff blending æ¨¡å¼ï¼Œé»˜è®¤å€¼ä¸º src_inï¼Œæš‚æ—¶ä¸ç”¨ç†ä¼šï¼‰ androidï¼šautoMirrored è®¾ç½®å½“ç³»ç»Ÿä¸º RTL ï¼ˆright-to-leftï¼‰å¸ƒå±€çš„æ—¶å€™ï¼Œæ˜¯å¦è‡ªåŠ¨é•œåƒè¯¥å›¾ç‰‡ã€‚ androidï¼šalpha è¯¥å›¾ç‰‡çš„é€æ˜å±æ€§ &gt; &lt;grup // æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¯¹å‡ ä¸ªè·¯å¾„ä¸€èµ·å¤„ç†ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨ group å…ƒç´ æ¥æŠŠå¤šä¸ª path æ”¾åˆ°ä¸€èµ·ï¼Œgroup æ”¯æŒçš„å±æ€§æœ‰ androidï¼šname å®šä¹‰ group çš„åå­— androidï¼šrotation å®šä¹‰è¯¥ group çš„è·¯å¾„æ—‹è½¬å¤šå°‘åº¦ï¼ˆé¡ºæ—¶é’ˆæ—‹è½¬ï¼‰ androidï¼špivotX å®šä¹‰ç¼©æ”¾å’Œæ—‹è½¬è¯¥ group æ—¶å€™çš„ X å‚è€ƒç‚¹ã€‚è¯¥å€¼ç›¸å¯¹äº vector çš„ viewport å€¼æ¥æŒ‡å®šçš„ã€‚ androidï¼špivotY å®šä¹‰ç¼©æ”¾å’Œæ—‹è½¬è¯¥ group æ—¶å€™çš„ Y å‚è€ƒç‚¹ã€‚è¯¥å€¼ç›¸å¯¹äº vector çš„ viewport å€¼æ¥æŒ‡å®šçš„ã€‚ androidï¼šscaleX å®šä¹‰ X è½´çš„ç¼©æ”¾å€æ•° androidï¼šscaleY å®šä¹‰ Y è½´çš„ç¼©æ”¾å€æ•° androidï¼štranslateX å®šä¹‰ç§»åŠ¨ X è½´çš„ä½ç§»ã€‚ç›¸å¯¹äº vector çš„ viewport å€¼æ¥æŒ‡å®šçš„ androidï¼štranslateY å®šä¹‰ç§»åŠ¨ Y è½´çš„ä½ç§»ã€‚ç›¸å¯¹äº vector çš„ viewport å€¼æ¥æŒ‡å®šçš„&gt; &lt;path  // path å…ƒç´ é‡Œé¢çš„ pathData å°±æ˜¯çŸ¢é‡å›¾çš„è·¯å¾„æ•°æ®ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥è®¾ç½®å…¶ä»–çš„å±æ€§ã€‚path çš„å±æ€§æœ‰ï¼š androidï¼šname å®šä¹‰è¯¥ path çš„åå­—ï¼Œè¿™æ ·åœ¨å…¶ä»–åœ°æ–¹å¯ä»¥é€šè¿‡åå­—æ¥å¼•ç”¨è¿™ä¸ªè·¯å¾„ androidï¼špathData å’Œ SVG ä¸­ d å…ƒç´ ä¸€æ ·çš„è·¯å¾„ä¿¡æ¯ androidï¼šfillColor å®šä¹‰å¡«å……è·¯å¾„çš„é¢œè‰²ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰åˆ™ä¸å¡«å……è·¯å¾„ androidï¼šstrokeWidth å®šä¹‰è·¯å¾„è¾¹æ¡†çš„ç²—ç»†å°ºå¯¸ androidï¼šstrokeAlpha å®šä¹‰è·¯å¾„è¾¹æ¡†çš„é€æ˜åº¦ androidï¼šfillAlpha å®šä¹‰å¡«å……è·¯å¾„é¢œè‰²çš„é€æ˜åº¦ androidï¼štrimPathStart ä»è·¯å¾„èµ·å§‹ä½ç½®(path çš„ M ä½ç½®)æˆªå–åå‰©ä¸‹çš„å†…å®¹ï¼Œå–å€¼èŒƒå›´ä» 0 åˆ° 1ï¼Œæ¯”å¦‚ï¼Œå–å€¼æ˜¯ 0.3 åˆ™æˆªå–åçš„å†…å®¹å°±æ˜¯ åŸé•¿åº¦ - ï¼ˆåŸé•¿åº¦*0.3ï¼‰  androidï¼štrimPathEnd ä»è·¯å¾„èµ·å§‹ä½ç½®ä½ç½®æˆªå–çš„å†…å®¹ï¼Œå–å€¼èŒƒå›´ä» 0 åˆ° 1ï¼Œæ¯”å¦‚ï¼Œå–å€¼æ˜¯ 0.3ï¼Œåˆ™æˆªå–åçš„å†…å®¹å°±æ˜¯ åŸé•¿åº¦*0.3  éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœ trimPathStart å’Œ strimPathEnd ä¸€å—ä½¿ç”¨çš„è¯ï¼Œè¿™é‡Œæœ‰ä¸ªè§„å¾‹å¦‚æœ trimPathEnd å–å€¼å¤§äºç­‰äº trimPathStart çš„æ—¶å€™ç»“æœå°±æ˜¯ä»–ä»¬ä¸¤è€…åˆ†åˆ«æˆªå–åå†…å®¹çš„äº¤é›†ï¼Œå¦‚æœ trimPathEnd å°äº trimPathStart çš„æ—¶å€™ï¼Œå–å€¼å°±æ˜¯ä»–ä»¬ä¿©çš„åˆé›†ï¼ˆè¿™æ˜¯ç»è¿‡æˆ‘æ— æ•°çš„å®éªŒå¾—å‡ºçš„è§„å¾‹ï¼Œä½ ä¹Ÿå¯ä»¥å°è¯•ä¸€ä¸‹ï¼‰ androidï¼štrimPathOffset å…¶å®å°±æ˜¯è®¾ç½®å¼€å§‹ç‚¹çš„åç§»ä½ç½®ï¼ˆå–å€¼ ä» 0 åˆ° 1ï¼‰1 çš„è¯å°±æ˜¯å¼€å§‹ç‚¹å’Œç»“æŸçš„äº’æ¢äº†ï¼Œæ³¨æ„è¿™ä¸ªè·¯å¾„æ˜¯å¯ä»¥å¾ªç¯çš„ï¼ˆä¸‹é¢ç”»å›¾è¯´æ˜ï¼‰ androidï¼šstrokeLineCap è®¾ç½®è·¯å¾„çš„çº¿å¤´çš„å½¢çŠ¶ï¼Œå–å€¼ä¸º buttï¼Œroundï¼Œsquare é»˜è®¤æ˜¯ butt androidï¼šstrokeLineJoin è®¾ç½®è·¯å¾„äº¤ç•Œå¤„çš„è¿æ¥æ–¹å¼ï¼Œå–å€¼ä¸º miterã€roundã€bevel é»˜è®¤æ˜¯ miter androidï¼šstrokeMiterLimit è®¾ç½®æ–œè§’çš„ä¸Šç•Œ é»˜è®¤æ˜¯ 4 ï¼ˆå½“ strokeLineJoin è®¾ç½®ä¸º "miter" çš„æ—¶å€™ï¼Œç»˜åˆ¶ä¸¤æ¡çº¿æ®µä»¥é”è§’ç›¸äº¤çš„æ—¶å€™ï¼Œæ‰€å¾—çš„æ–œé¢å¯èƒ½ç›¸å½“é•¿ï¼Œå½“æ–œé¢å¤ªé•¿ï¼Œå°±ä¼šå˜çš„ä¸åè°ƒã€‚strokeMiterLimit å±æ€§ä¸ºæ–œé¢çš„é•¿åº¦è®¾ç½®äº†ä¸€ä¸ªä¸Šé™ã€‚è¿™ä¸ªå±æ€§è¡¨ç¤ºæ–œé¢é•¿åº¦å’Œçº¿æ¡é•¿åº¦çš„æ¯”å€¼ã€‚å½“ strokeLineJoin è®¾ç½®ä¸ºå…¶ä»–å±æ€§æ—¶ï¼Œè¿™ä¸ªå±æ€§æ˜¯æ— æ•ˆçš„ï¼‰  &lt;/path&gt;  vector è¿˜æ”¯æŒ clip-path å…ƒç´ ï¼Œå®šä¹‰å½“å‰ç»˜åˆ¶çš„å‰ªåˆ‡è·¯å¾„ã€‚æ³¨æ„ï¼šclip-path åªå¯¹å½“å‰çš„ group å’Œå­ group æœ‰æ•ˆã€‚éœ€è¦ API å¤§äºç­‰äº 21         &lt;/grup&gt;&lt;/vector&gt;</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Android çŸ¢é‡å›¾è¯¦è§£" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4089cede16d64e73a6cd807ba37280e8><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>offsetè¯´æ˜.png</p><p><strong>çŸ¢é‡åŠ¨ç”»</strong></p><p>åˆ©ç”¨ XML æ–‡ä»¶æ¥è®¾ç½®çŸ¢é‡åŠ¨ç”»</p><ol><li>åˆ›å»ºä¸€ä¸ªçŸ¢é‡å›¾</li></ol><pre>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;vector xmlns:android="http://schemas.android.com/apk/res/android" android:width="200dp" android:height="200dp" android:viewportWidth="100" android:viewportHeight="100"&gt; &lt;group android:name="head_eyes"&gt; &lt;path android:fillColor="@color/colorPrimary" android:name="head" android:pathData=" M50,50 A15,15,0,1,1 50,51Z" android:strokeWidth="2" android:strokeColor="@color/colorPrimary"/&gt; &lt;group android:name="eyes"&gt; &lt;path android:fillColor="@android:color/white" android:name="eye_left" android:pathData="M55,40A2,2,0,1,1,55,41"/&gt; &lt;path android:fillColor="@android:color/white" android:name="eye_right" android:pathData="M69,40A2,2,0,1,1,69,41"/&gt; &lt;/group&gt; &lt;path android:fillColor="@color/colorAccent" android:pathData="M60,55L55,60H65Z"/&gt; &lt;/group&gt;&lt;/vector&gt;</pre><p class=ql-align-center><br></p><div class=pgc-img><img alt="Android çŸ¢é‡å›¾è¯¦è§£" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bdb5e888c5964c8f8066dd2735c356ad><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>head.png</p><p>å“ˆå“ˆï¼Œæ ·å­å¤ªä¸‘äº†ï¼Œå¤§å®¶å°±å‡‘åˆè‘—çœ‹æŠŠã€‚</p><ol><li>åœ¨ drawble åˆ›å»ºçŸ¢é‡åŠ¨ç”»</li><li>ç›®çš„å°±æ˜¯å°†æˆ‘ä»¬çš„çŸ¢é‡å›¾å’Œ objectAnimator å…³è”èµ·æ¥</li></ol><pre>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;animated-vector xmlns:android="http://schemas.android.com/apk/res/android" // å¯¹åº”åŠ¨ç”»æ–‡ä»¶ android:drawable="@drawable/vector_simple"&gt; &lt;target android:animation="@animator/head" // è¿™é‡Œçš„åå­—å¯¹åº”ä½ çš„çŸ¢é‡å›¾ä¸­æƒ³è¦äº§ç”ŸåŠ¨ç”»çš„ path æˆ–è€… group æˆ–è€… clip-path çš„åå­— android:name="head_eyes"/&gt;&lt;/animated-vector&gt;</pre><ol><li>åœ¨ animator ä¸­åˆ›å»ºåŠ¨ç”»</li></ol><pre>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;set xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;objectAnimator android:duration="200" android:propertyName="translateY" android:repeatCount="infinite" android:repeatMode="reverse" android:valueFrom="0" android:valueTo="20" android:valueType="floatType"/&gt;&lt;/set&gt;</pre><ol><li>å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ å›¾ç‰‡</li></ol><pre>&lt;ImageView android:id="@+id/iv_android" android:layout_width="wrap_content" android:layout_height="wrap_content" android:src="@drawable/animated_head" android:contentDescription="@string/app_name"/&gt;</pre><ol><li>åœ¨ç¨‹åºä¸­å¯åŠ¨åŠ¨ç”»</li></ol><pre>Drawable drawable = ivAndroid.getDrawable();((Animatable)drawable).start();</pre><p><strong>æ•ˆæœå›¾</strong></p><p class=ql-align-center><br></p><div class=pgc-img><img alt="Android çŸ¢é‡å›¾è¯¦è§£" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ca2657c142b04d5884abdacce190158c><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>æ•ˆæœå›¾.gif</p><p>åœ¨ objectAnimator çš„ propertyName ä¸­æœ‰ä¸¤ä¸ªå¾ˆé‡è¦çš„å±æ€§å€¼ï¼Œ<strong>trimPathEnd</strong> å’Œ <strong>trimPathStart</strong> è¡¨ç¤ºæˆªå–ï¼Œå’Œå‰é¢ä»‹ç»çš„ path é‡Œé¢çš„ç±»ä¼¼ï¼Œåˆ©ç”¨è¿™ä¸ªå¯ä»¥ç»˜åˆ¶ vectordrawbleã€‚æ³¨æ„å¦‚æœåŠ¨ç”»ä½¿ç”¨è¿™ä¸ªä¸¤ä¸ªå±æ€§å€¼çš„è¯ï¼Œanimated-vector ä¸­ target å¯¹åº”çš„ name å¿…é¡»æ˜¯ path ç±»å‹ä¸èƒ½æ˜¯ group æ•ˆæœå›¾ï¼š</p><p class=ql-align-center><br></p><div class=pgc-img><img alt="Android çŸ¢é‡å›¾è¯¦è§£" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/711f4f77461643bd82435474ef495648><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>trimPathStart.gif</p><p><strong>SVG å›¾ç‰‡è½¬æˆ vectordrawble</strong></p><p>åˆ©ç”¨æˆ‘ä»¬ Android Studio æä¾›çš„å·¥å…·å°±å¯ä»¥å°† SVG æ ¼å¼çš„å›¾ç‰‡ç›´æ¥è½¬æˆæˆ‘ä»¬çš„ vectordrawble äº†ã€‚</p><p class=ql-align-center><br></p><div class=pgc-img><img alt="Android çŸ¢é‡å›¾è¯¦è§£" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6a158982eafa4215815717176d6491bc><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>svgtovector.png</p><div class=pgc-img><img alt="Android çŸ¢é‡å›¾è¯¦è§£" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a110fe5a7a064507ae4f7ad4fdc26530><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>é€‰æ‹©å›¾ç‰‡.png</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Android','è¯¦è§£','çŸ¢é‡'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>