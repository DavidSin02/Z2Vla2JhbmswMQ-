<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>实战解析：真实AI场景下，极小目标检测与精度提升 | 极客快訊</title><meta property="og:title" content="实战解析：真实AI场景下，极小目标检测与精度提升 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/1d94db46db0a4e8cb651eb043a6db4b3"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3726397a.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3726397a.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3726397a.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3726397a.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3726397a.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3726397a.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3726397a.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3726397a.html><meta property="article:published_time" content="2020-10-29T21:11:34+08:00"><meta property="article:modified_time" content="2020-10-29T21:11:34+08:00"><meta name=Keywords content><meta name=description content="实战解析：真实AI场景下，极小目标检测与精度提升"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/3726397a.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>实战解析：真实AI场景下，极小目标检测与精度提升</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><blockquote class=pgc-blockquote-abstract><p>主讲人 | 哈利 百度高级研发工程师<br>量子位整理编辑</p></blockquote><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>目前，各个企业行业在AI落地应用中，常常会遇到极小目标检测问题。在这些AI应用中，都需要在一个大图中精准识别出极小目标，其检测至关重要，也面临很多<strong>难点</strong>。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>比如，检测框高宽比不固定，图片背景杂乱，数据源稀缺，检测框相比图片非常小，这些难点都会导致较高的漏检率。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>10月21日，「<strong>EasyDL</strong> AI开发系列公开课」第一期直播中，<strong>百度</strong>高级工程师以真实的产业场景为例，深入解析了<u>如何解决这些难</u>点、有效<u>提高极小目标检测的准确率</u>，并手把手演示了如何用EasyDL构建高精度物体检测模型。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>讲解分为4个部分：</span></p><ul><li><span style=font-size:.833em><span style=letter-spacing:.544px>EasyDL平台整体介绍</span></span></li><li><span style=font-size:.833em><span style=letter-spacing:.544px>物体检测任务综述</span></span></li><li><span style=font-size:.833em><span style=letter-spacing:.544px>极小目标检测场景难点分析以及效果的优化</span></span></li><li><span style=font-size:.833em><span style=letter-spacing:.544px>EasyDL经典版实操演示</span></span></li></ul><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>直播回放见链接：</span><a class=pgc-link data-content=mp data-source=outerLink href=https://www.bilibili.com/video/BV1wv411C7QN rel="noopener noreferrer" target=_blank>「链接」</a></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>以下为直播文字实录：</span></p><h1 class=pgc-h-arrow-right>EasyDL平台介绍</h1><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>在和某咨询公司的联合调研中，我们发现有86%的市场需求需要定制开发<strong>业务场景下的AI模型</strong>。比如工业场景需要统计原材料的数量，食品安全场景需要监测厨房厨师是否佩戴安全帽，在零售场景需要检查货品的陈列是否满足标准……诸如此类的定制化需求，难以用统一的、标准化的服务去涵盖，是需要定制开发的。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1d94db46db0a4e8cb651eb043a6db4b3><p class=pgc-img-caption>△需要定制开发AI模型的场景</p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>2017年到2020年，百度AI开发平台收到的定制化需求增长速度非常快。但是我们知道，机器学习系统构建涉及到非常多的模块，这些模块的组合开发具有很大的挑战性，需要投入大量的人力来做。因此，百度也总结了AI定制需求开发与应用中的核心的痛点：</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第一个痛点：<strong>数据</strong>。用户很难获得和场景匹配的数据，并且数据清洗标注、数据的多样性等方面都存在一些问题。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第二个痛点：<strong>开发训练</strong>。用户开发模型的成本非常高，算力资源不足，算法的调优比较困难，并且训练耗时长。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第三个痛点：<strong>部署</strong>。部署的成本非常高，难以落地，模型的适配、迁移难，并且还会有重复开发，并且预测性能差，硬件成本高。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>为了解决这些痛点，百度面向AI开发全流程，提供了<strong>一站式的AI开发平台—EasyDL</strong>。EasyDL主要分成三个部分。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/10199b7432bd468f867eaab1c80dc627><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><span style=letter-spacing:1px>第一部分是<strong>智能数据服务</strong>（EasyData），包括数据采集、数据清洗、数据扩充、数据标注四大能力。</span></span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>EasyData智能数据服务大幅降低了AI定制模型的数据成本。用户如果需要进行全流程的数据采集、数据标注、模型迭代，就会涉及非常多环节，而且需要不断的迭代。而EasyData把整个流程抽象成了5个模块：软硬一体数据采集方案，自动数据清洗/扩充，智能标注，模型训练与发布，自动数据闭环。通过这五大模块的能力，帮助用户把数据采集、模型训练以及最后人工部署的成本都尽可能降低。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/01c1b9c7da29440fb04354586f3f6ca5><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第二部分是<strong>开发与训练</strong>，提供了AutoDL工具，帮助用户自动进行模型调优；并引入了百度自有的超大规模预训练模型，并且预置了很多场景化算法和网络；在训练方面提供分布式训练加速的能力。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>EasyDL训练平台可以帮助用户使用更少的数据，获得更优的效果，而且训练速度更快。具体来说，基于百度自研的大规模预训练模型，大幅降低了数据成本；模型的调优方面，采用了领先的AutoDL技术；在训练方面，应用了飞桨内的训练加速机制。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a9200cbeefd1483db7ba16798b84522c><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第三部分是<strong>端云一体服务部署</strong>，支持公有云部署、私有化部署和设备端部署（EasyEdge）。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>EasyDL提供了灵活丰富的服务部署形态，包含公有云部署、本地服务器部署、设备端SDK以及软硬一体产品。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5c95bf52ba354b5c974a352f8a48f9dd><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>以上是EasyDL在移动端/设备端的应用案例，以深圳旅影为例，用户训练一个场景识别的模型，仅仅迭代两版就获得了97%以上的准确率，效果非常不错。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c020959fbd3a4fccb59cec676af5f8da><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>EasyDL目前支持的图像任务类型包括图像分类、物体检测、图像分割。在企业应用中，图像分类和物体检测占比较高，因此百度在这两方面投入了很多的人力来进行优化。</span></p><h1 class=pgc-h-arrow-right>物体检测任务综述</h1><h1 class=pgc-h-arrow-right>物体检测定义</h1><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>物体检测是指，给定一张图片，识别出图片中的物体属于哪个类别，并对相应的物体进行位置的定位。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/251eab611fc142e796e7140d20707991><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>物体检测技术已经发展了很久，从13年至今，主要有两个方面的发展，一是两阶段检测器，二是单阶段检测器。总体来说技术朝着越来越自动化、越来越高效的方向发展，来满足商业化的需求。</span></p><h1 class=pgc-h-arrow-right>检测器的通用框架</h1><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6a6cdc7223494584bf60d09c3e7e8aa9><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第一个部分是Feature Extraction特征提取模块，图像通过这个网络可以提取出相应的特征。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第二个部分是bonding box Matching，Labeling and Sampling模块，输入一系列的物体标注框，会有一系列的anchor（锚框），比如上图最右边的红色和绿色框就是我们预先定义好的anchor，模型就会用这些anchor作为一个基准，再去学习物体的定位。有了这些anchor之后，我们要和这些机器光进行匹配，去挑选出与物体比较吻合的框，称为正样本，就是绿色的框，不符合的框是负样本。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>从上图中可以看出，这里的负样本的数量非常多，无法直接拿来学习。所以接下来要增加一个采样的模块，挑选出适合模型训练的正负样本，再输入到下一个模块—Detection检测器，并进行分类网络和回归网络的学习。</span></p><h1 class=pgc-h-arrow-right>极小目标检测场景难点分析及效果优化</h1><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>以COCO数据集中的物体定义为例，小物体是指小于32×32个像素点。在实际场景中，我们更倾向于使用相对于原图的比例来定义。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0846bbb3cd7a4e00bc84038aeda8e5fc><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>因此，我们给出相对的定义，物体标注框的长宽乘积，除以整个图像的长宽乘积，再开根号，如果结果小于3%，就称之为小物体。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/30b5c2c5a9d14f4cb69459d9846ecc17><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>常见的极小目标检测场景如图示。这些检测场景有什么难点呢？总结来说：</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>难点1：检测框的<strong>高宽比多变</strong>，甚至出现极端的高宽比，漏检率比较高；</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>难点2：<strong>背景杂乱</strong>，误检率比较高；</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>难点3：<strong>数据源稀缺</strong>，没有丰富的数据训练；</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>难点4：图片非常大，<strong>检测框非常小</strong>，所以漏检率高。</span></p><h1 class=pgc-h-arrow-right>优化案例1：以货架挡板检测场景为例</h1><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1da0adf06a4048b59186f13bf59c2048><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>如图中绿框所示，货架挡板检测的难点在于货架挡板的高宽比非常极端，我们先选一些基础的模型来训练。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>比如我们取SSD、YOLO、Faster RCNN等，就发现Faster RCNN达到了最好的效果—0.812。怎么进一步优化呢？</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>针对上述难点1，业界有<strong>Anchor自适应算法</strong>可以解决这类问题：</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/81520ef48733487db9a7887e1579775a><p class=pgc-img-caption>△Anchor自适应算法概览</p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我们重点介绍<strong>差分进化算法</strong>、<strong>超参优化算法</strong>这两种具有通用性的技术。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>1、差分进化算法</strong></span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>其特点是简单、高效、可拓展。搜索超参是anchor的高宽比和尺度，优化目标是所有检测框与匹配的anchor的<strong>iou总和</strong>最大。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>算法上，第一步是初始化种群。第二步是开始迭代的差分进化，保留优秀个体，淘汰劣质个体。包含变异-交叉-选择3个操作：</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>变异</strong>：从种群中随机挑选两个个体，用一定的规则去产生一个变异个体；</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>交叉</strong>：变异个体与事先指定的某个目标个体进行参数混合，生成实验个体；</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>选择</strong>：将实验个体的优化指标与目标个体进行对比，保留优化指标较好的个体；</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>以上3个操作迭代循环，实现优胜劣汰的能力。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>这个方案的优点就是速度快，无需训练模型，并且可以广泛的适用于各种检测模型，这种算法已经在EasyDL经典版上集成优化了。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>2、超参优化算法</strong></span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>其特点是优化目标和训练模型是一致的。优化目标是训练中的<strong>模型指标</strong>（AP）最优，可以运用贝叶斯优化、进化算法等超参优化算法。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>优点是以模型评估指标作为优化的目标，效果更佳，并可广泛适用于各种检测模型。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>其缺点是比较耗费计算资源。但是相关算法能力已经在EasyDL专业版集成，用户可以通过EasyDL专业版创建项目，实现自动超参搜索。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e701fa7439fb42f18a58b36a70396932><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>货架挡板检测优化—anchor优化</strong></span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我们将anchor自适应的方法应用在本案例上。相对于默认ratios来说，自适应算法收出了5个比例，也就是说5个比例比较适合于这个模型。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f2e760acd6344708ae7af03486735d2a><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我们用anchor自适应的算法进行优化，效果从0.812提升到0.87。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>那么如何进一步优化？我们之前提到了难点2（背景杂乱）和难点3（数据稀缺），现在继续采用自动数据增强的方案，去优化数据本身。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4b3a78640e494f6fb5430d35a1ab1aab><p class=pgc-img-caption>△自动数据增强算法概览</p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>以PBA为例，其特点是灵活、可拓展。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/71b63a1ecb1346ac92527378ea28b745><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>如图，起两个进程分别训练模型，训练模型的主要参数一是超参，另外一个是权重（模型本身的参数）。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>通过第一步训练，第二步需在某一个时间点，比较两个进程的效果，效果更优的进程就会取代效果差的进程的权重。第三步，直接复制权重。第四步，扰动原来的超参，产生一组新的超参，并继续训练。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>迭代循环这个训练流程，就可以产生一个增强算子的调度组合，并且是比较适合于这个数据集本身的。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e307b76246e2413e89392fa4b8428712><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>EasyDL也上线了自动数据增强搜索的能力，基于百度自研的分布式智能搜索的能力，目前支持PBA算法。算子方面，支持图像分类和物体检测两种，开放了超过<strong>40种</strong>的算子。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>利于优化成一个工业级的搜索算法，搜索的效率更高。在EasyDL线上的多场景模型精度上，平均提升了7%以上。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>货架挡板检测优化—自动数据增强</strong></span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bdaf26e57bed40a583a0299984f092db><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我们把自动数据增强应用在货架挡板检测案例上，从原来的0.87提升到了0.88。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我们再考虑一个问题，模型训练本身的超参非常多，如何才能搜索出最佳超参下的效果呢？</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我们可以采用<strong>自动超参搜索</strong>的技术。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/efdc42aa71274196ae4d1eb3ee1ca282><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>EasyDL的自动超参搜索技术是基于百度内部的分布式智能搜索服务，目前支持随机搜索、贝叶斯搜索和进化算法三种算法，支持图像分类和物体检测两类任务。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>有两大特点，一是其中的一些算法可以进行无梯度优化，不依赖于平滑性假设。二是支持大规模并行搜索调参。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>在EasyDL线上多场景上面，加上我们自动数据分析，再加上超参搜索，检测精度平均提升10%以上。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>货架挡板检测优化—自动超参搜索效果</strong></span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/97206f9fe26a49e88b76fc3ab65e0b56><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>继续把自动数据增强应用到本案例中，效果从0.88提升到0.92。总体来说，我们通过一系列的效果优化，从最初的0.812提升到了现在的0.92，效果上非常可观。</span></p><h1 class=pgc-h-arrow-right>优化案例2：以电力巡检缺陷检测为例</h1><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>接下来我们再看电力巡检缺陷检测案例的优化。这个案例的难点在于图片非常大（4k分辨率），但是检测框却非常小，所以其漏检率非常高。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/881c4a72c03a484ba2e11e69aec5103f><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>首先，选择一个基础模型，这里选择了retinanet和Faster RCNN，m AP最高是0.61。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>anchor自适应优化</strong></span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3144ae954d0b45bc9ec6fe8a54aa77bb><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>接下来用anchor自适应优化进行调节，蓝框是K-means聚类的结果；粉红框是差分进化的结果，可以看出差分进化算法在匹配效果上更加优秀。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/52acbb3153734031be676aada1467e75><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>利用anchor自适应优化算法，检测结果从0.61提升到0.65。效果有所提升，但对于商用场景来说不够理想。那么，如何从根本上提升效果？</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><span style=letter-spacing:1px><strong>自动切图优化</strong></span></span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>这里涉及到了上述的第4个难点，图片非常大，检测框非常小。因此，这里就考虑用到<strong>自动切图技术</strong>，既能够不放大图片尺寸，又能够放大检测目标。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3fc259c4984149b591f358629f382ba0><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我们把这张图切成了9个子图，9个子图有一定的相交。问题是这9张子图全部都要参与训练，也就是会增加9倍的简单的负样本，而且模型并没有可以选择的机会。就会导致模型越学越简单，无法检测很难的案例。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>如何解决这个问题？首先，挑选出包含较难负样本的Negative chips切图，把包括这些较难的负样本的区域提取出来，作为一个子图，实现自动挑难负样本的能力。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/17535c5e570d49b2bea2dff46fa3b4e9><p class=pgc-img-caption>△SNIPER-正样本切图策略</p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>其次，用切图代替原图，并降低计算量。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>SNIPER论文考虑到了这个问题，以正样本的切图为例，小尺寸图对应小GT框。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d370825127274f8eb4bb8096ad50f275><p class=pgc-img-caption>△SNIPER-负样本切图策略</p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>对于负样本，则先训练几个anchor，使模型具有一定的分辨能力，标记假阳性的难负样本，并学习错误的样本。通过这种方式，可以找到最难的一批负样本切图。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>接下来，把这些正负样本切图直接送入到模型的训练中。也就是说，针对任意一个检测器，都可以采用这样的前置策略。</span></p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/683d446e3d874e9ca58e0b5e526e51c7><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>回到案例，采用这种自动切图技术，效果从0.65直接提升到0.93，这个效果的跨越幅度非常大。这也证明了自动切图算法能够从根本上能够解决小目标检测的问题。</span></p><h1 class=pgc-h-arrow-right>EasyDL经典版实操演示</h1><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/98f8ef1d32f246ba9d51c5630806caa5><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>详细操作指南可参考官网介绍文档，或参考直播回放视频，这里不再赘述：</span></p><ul><li><span style=font-size:.833em><span style=letter-spacing:.544px>使用文档：https://ai.baidu.com/ai-doc/EASYDL/qk38n31an</span></span></li><li><span style=font-size:.833em><span style=letter-spacing:.544px>直播回放：</span></span><a class=pgc-link data-content=mp data-source=outerLink href=https://www.bilibili.com/video/BV1wv411C7QN rel="noopener noreferrer" target=_blank>「链接」</a></li></ul><h1 class=pgc-h-arrow-right>直播预告</h1><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>端计算模型</strong>目前已应用到各行业的AI技术实践中，如部署在野外气象观测点用于环境监测，以及响应垃圾分类政策用来打造智能垃圾桶等等。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>10月28号，第二期<span style=letter-spacing:1px>「<strong>EasyDL</strong> AI开发系列公开课」</span>直播中，<strong>百度</strong>高级研发工程师将深入讲解<u>如何优化端模型识别速度</u>、<u>如何解决端模型部署问题</u>，同时手把手直播演示如何使用EasyDL&EasyEdge进行模型训练和端模型部署。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:1.111em><strong>▽</strong></span>报名方式见海报，还为大家精心准备了小礼物哦~</p><div class=pgc-img><img alt=实战解析：真实AI场景下，极小目标检测与精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fc64c5d07a264f00b0e041790d885682><p class=pgc-img-caption></p></div><p style=margin:0><span style=font-size:.833em>— 完 —</span></p><p style="margin:16px 0"><span style=font-size:.833em>量子位 QbitAI · 头条号签约</span></p><p style="margin:16px 0"><span style=font-size:.833em>关注我们，第一时间获知前沿科技动态</span></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'实战','真实','AI'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>