<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>原来将 Python 程序打包成exe文件这么简单！只需三步 | 极客快訊</title><meta property="og:title" content="原来将 Python 程序打包成exe文件这么简单！只需三步 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/09fcf20793db4d23b8fdd34634e2262a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c956460.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c956460.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3c956460.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c956460.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c956460.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3c956460.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3c956460.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c956460.html><meta property="article:published_time" content="2020-11-14T21:02:46+08:00"><meta property="article:modified_time" content="2020-11-14T21:02:46+08:00"><meta name=Keywords content><meta name=description content="原来将 Python 程序打包成exe文件这么简单！只需三步"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/3c956460.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>原来将 Python 程序打包成exe文件这么简单！只需三步</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h3 class=pgc-h-arrow-right>一、在cmd命令行执行安装pyinstaller工具</h3><pre><code>pip install pyinstaller</code></pre><p><br></p><h3 class=pgc-h-arrow-right>二、下载安装pyinstaler运行时所需windows扩展：pywin32</h3><pre><code>https://github.com/mhammond/pywin32/releases选择最新版的下载，注意选择与python版本和位数对应的如32位python3.7.4对应下载：【pywin32-223.win32-py3.7.exe】如64位python3.7.4对应下载：【pywin32-223.win-amd64-py3.7.exe】</code></pre><h3 class=pgc-h-arrow-right>三、在命令行中执行打包命令即可</h3><pre><code>格式如下：pyinstaller [opts] yourprogram.py参数含义-F 指定打包后只生成一个exe格式的文件(建议写上这个参数)-D –onedir 创建一个目录，包含exe文件，但会依赖很多文件（默认选项）-c –console, –nowindowed 使用控制台，无界面(默认)-w –windowed, –noconsole 使用窗口，无控制台-p 添加搜索路径，让其找到对应的库。-i 改变生成程序的icon图标例1.指定文件路径打包：pyinstaller -F D:\project\tanchishe.py例2.不带窗口，后台运行打包：pyinstaller -F -w D:\project\tanchishe.py例3.更换程序图标打包：pyinstaller -F -w -i D:\project\test.ico D:\project\tanchishe.py</code></pre><pre><code>这里咱们执行开始打包：(venv) C:\Users\www_9\PycharmProjects\python-tanchishe&gt;pyinstaller -F tanchishe.py</code></pre><p>四、打包结果如下：</p><p><br></p><div class=pgc-img><img alt="原来将 Python 程序打包成exe文件这么简单！只需三步" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/09fcf20793db4d23b8fdd34634e2262a><p class=pgc-img-caption></p></div><p>五、运行打包好的exe文件tanchishe.exe效果如下：</p><p><br></p><div class=pgc-img><img alt="原来将 Python 程序打包成exe文件这么简单！只需三步" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7e6b0411371747dfad0c14fa9019bc24><p class=pgc-img-caption></p></div><p>六、报错处理：</p><ul><li>执行Pyinstaller 打包的exe文件执行报错如下（我用的Python版本为：python3.7.5）：</li></ul><pre><code>Microsoft Windows [版本 10.0.18363.778](c) 2019 Microsoft Corporation。保留所有权利。C:\Users\www_9&gt;C:\Users\www_9\PycharmProjects\python-tanchishe\dist\tanchishe.exeTraceback (most recent call last):  File "lib\site-packages\PyInstaller\loader\rthooks\pyi_rth_pkgres.py", line 13, in &lt;module&gt;  File "c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\PyInstaller\loader\pyimod03_importers.py", line 623, in exec_module    exec(bytecode, module.__dict__)  File "lib\site-packages\pkg_resources\__init__.py", line 86, in &lt;module&gt;ModuleNotFoundError: No module named 'pkg_resources.py2_warn'[30844] Failed to execute script pyi_rth_pkgresC:\Users\www_9&gt;</code></pre><li>解决办法（卸载高版本setuptools ，然后安装setuptools44.0）：</li><ol start=1><li>卸载高版本：pip uninstall setuptools</li></ol><pre><code>(venv) C:\Users\www_9\PycharmProjects\python-tanchishe&gt;pip uninstall setuptoolsFound existing installation: setuptools 46.1.3Uninstalling setuptools-46.1.3:  Would remove:    c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\easy_install.py    c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\pkg_resources\*    c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\setuptools-46.1.3.dist-info\*    c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\setuptools\*    c:\users\www_9\pycharmprojects\python-tanchishe\venv\scripts\easy_install-3.7.exe    c:\users\www_9\pycharmprojects\python-tanchishe\venv\scripts\easy_install.exeProceed (y/n)? y  Successfully uninstalled setuptools-46.1.3</code></pre><ol start=2><li>安装低版本： pip install setuptools==44.0.0</li></ol><pre><code>(venv) C:\Users\www_9\PycharmProjects\python-tanchishe&gt;pip install setuptools==44.0.0Collecting setuptools==44.0.0  Downloading setuptools-44.0.0-py2.py3-none-any.whl (583 kB)     |████████████████████████████████| 583 kB 26 kB/sInstalling collected packages: setuptoolsSuccessfully installed setuptools-44.0.0</code></pre><ol start=3><li>重新打包程序：>pyinstaller -F tanchishe.py</li></ol><pre><code>(venv) C:\Users\www_9\PycharmProjects\python-tanchishe&gt;pyinstaller -F tanchishe.py97 INFO: PyInstaller: 3.698 INFO: Python: 3.7.598 INFO: Platform: Windows-10-10.0.18362-SP0100 INFO: wrote C:\Users\www_9\PycharmProjects\python-tanchishe\tanchishe.spec118 INFO: UPX is not available.120 INFO: Extending PYTHONPATH with paths['C:\\Users\\www_9\\PycharmProjects\\python-tanchishe', 'C:\\Users\\www_9\\PycharmProjects\\python-tanchishe']120 INFO: checking Analysis125 INFO: Building because c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\pkg_resources\__init__.py changed125 INFO: Initializing module dependency graph...131 INFO: Caching module graph hooks...138 INFO: Analyzing base_library.zip ...3643 INFO: Caching module dependency graph...3794 INFO: running Analysis Analysis-00.toc3800 INFO: Adding Microsoft.Windows.Common-Controls to dependent assemblies of final executable  required by c:\users\www_9\pycharmprojects\python-tanchishe\venv\scripts\python.exe3824 INFO: Analyzing C:\Users\www_9\PycharmProjects\python-tanchishe\tanchishe.py4200 INFO: Processing pre-find module path hook   distutils4201 INFO: distutils: retargeting to non-venv dir 'C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Python37_64\\lib'4264 INFO: Processing pre-find module path hook   site4265 INFO: site: retargeting to fake-dir 'c:\\users\\www_9\\pycharmprojects\\python-tanchishe\\venv\\lib\\site-packages\\PyInstaller\\fake-modules'5648 INFO: Processing module hooks...5648 INFO: Loading module hook "hook-distutils.py"...5651 INFO: Loading module hook "hook-encodings.py"...5860 INFO: Loading module hook "hook-pkg_resources.py"...6338 INFO: Processing pre-safe import module hook   win32comTraceback (most recent call last):  File "&lt;string&gt;", line 2, in &lt;module&gt;ModuleNotFoundError: No module named 'win32com'6464 INFO: Processing pre-safe import module hook   win32comTraceback (most recent call last):  File "&lt;string&gt;", line 2, in &lt;module&gt;ModuleNotFoundError: No module named 'win32com'6790 INFO: Excluding import '__main__'6792 INFO:   Removing import of __main__ from module pkg_resources6792 INFO: Loading module hook "hook-pydoc.py"...6794 INFO: Loading module hook "hook-pygame.py"...6795 WARNING: Hidden import "pygame._view" not found!6795 INFO: Loading module hook "hook-sysconfig.py"...6798 INFO: Loading module hook "hook-xml.dom.domreg.py"...6799 INFO: Loading module hook "hook-xml.etree.cElementTree.py"...6800 INFO: Loading module hook "hook-xml.py"...6827 INFO: Looking for ctypes DLLs6842 INFO: Analyzing run-time hooks ...6848 INFO: Including run-time hook 'pyi_rth_pkgres.py'6853 INFO: Looking for dynamic libraries8980 INFO: Looking for eggs8980 INFO: Using Python library C:\Program Files (x86)\Microsoft Visual Studio\Shared\Python37_64\python37.dll8981 INFO: Found binding redirects:[]8985 INFO: Warnings written to C:\Users\www_9\PycharmProjects\python-tanchishe\build\tanchishe\warn-tanchishe.txt9035 INFO: Graph cross-reference written to C:\Users\www_9\PycharmProjects\python-tanchishe\build\tanchisheref-tanchishe.html9054 INFO: checking PYZ9056 INFO: Building because toc changed9057 INFO: Building PYZ (ZlibArchive) C:\Users\www_9\PycharmProjects\python-tanchishe\build\tanchishe\PYZ-00.pyz9922 INFO: Building PYZ (ZlibArchive) C:\Users\www_9\PycharmProjects\python-tanchishe\build\tanchishe\PYZ-00.pyz completed successfully.9943 INFO: checking PKG9946 INFO: Building because toc changed9946 INFO: Building PKG (CArchive) PKG-00.pkg12773 INFO: Building PKG (CArchive) PKG-00.pkg completed successfully.12779 INFO: Bootloader c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\PyInstaller\bootloader\Windows-64bit\run.exe12780 INFO: checking EXE12783 INFO: Building because toc changed12783 INFO: Building EXE from EXE-00.toc12786 INFO: Appending archive to EXE C:\Users\www_9\PycharmProjects\python-tanchishe\dist\tanchishe.exe12796 INFO: Building EXE from EXE-00.toc completed successfully.(venv) C:\Users\www_9\PycharmProjects\python-tanchishe&gt;</code></pre><ol start=4><li>然后运行编译所生成的exe文件</li></ol><pre><code>C:\Users\www_9&gt;C:\Users\www_9\PycharmProjects\python-tanchishe\dist\tanchishe.exepygame 1.9.6Hello from the pygame community. https://www.pygame.org/contribute.htmlC:\Users\www_9&gt;</code></pre><ol start=5><li>tanchishe.exe可以正常运行了</li></ol><div class=pgc-img><img alt="原来将 Python 程序打包成exe文件这么简单！只需三步" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7e6b0411371747dfad0c14fa9019bc24><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>可参考资料：搜索收集的相关知识页面，这里记录下来，方便日后参考。</h3><pre><code>用pyinstaller可以将.py文件转换成.exe格式，让你的程序在没有安装python环境的windows上运行：您也可以参考这里：https://zhuanlan.zhihu.com/p/38659588报错解决参考地址：Pyinstaller No module named pkg_resources.py2_warn：	https://blog.51cto.com/cfy10/2468597?source=dra	pyInstaller打包完成以后运行程序时出现ModuleNotFoundError: No module named 'pkg_resources.py2_warn：	https://blog.csdn.net/BINGYiii/article/details/104193180	windows下安装setuptools与pip:	https://www.cnblogs.com/longronglang/p/10443625.html	下载不同版本 settools  不同版本地址：	https://pypi.Python.org/pypi/setuptools	setuptools 44.0版本地址：	https://pypi.org/project/setuptools/44.0.0/</code></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'原来将','Python','exe'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>