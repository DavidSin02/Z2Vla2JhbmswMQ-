<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>åŸæ¥å°† Python ç¨‹åºæ‰“åŒ…æˆexeæ–‡ä»¶è¿™ä¹ˆç®€å•ï¼åªéœ€ä¸‰æ­¥ | æå®¢å¿«è¨Š</title><meta property="og:title" content="åŸæ¥å°† Python ç¨‹åºæ‰“åŒ…æˆexeæ–‡ä»¶è¿™ä¹ˆç®€å•ï¼åªéœ€ä¸‰æ­¥ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/09fcf20793db4d23b8fdd34634e2262a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c956460.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c956460.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3c956460.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c956460.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c956460.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3c956460.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3c956460.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c956460.html><meta property="article:published_time" content="2020-11-14T21:02:46+08:00"><meta property="article:modified_time" content="2020-11-14T21:02:46+08:00"><meta name=Keywords content><meta name=description content="åŸæ¥å°† Python ç¨‹åºæ‰“åŒ…æˆexeæ–‡ä»¶è¿™ä¹ˆç®€å•ï¼åªéœ€ä¸‰æ­¥"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/3c956460.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>åŸæ¥å°† Python ç¨‹åºæ‰“åŒ…æˆexeæ–‡ä»¶è¿™ä¹ˆç®€å•ï¼åªéœ€ä¸‰æ­¥</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h3 class=pgc-h-arrow-right>ä¸€ã€åœ¨cmdå‘½ä»¤è¡Œæ‰§è¡Œå®‰è£…pyinstallerå·¥å…·</h3><pre><code>pip install pyinstaller</code></pre><p><br></p><h3 class=pgc-h-arrow-right>äºŒã€ä¸‹è½½å®‰è£…pyinstalerè¿è¡Œæ—¶æ‰€éœ€windowsæ‰©å±•ï¼špywin32</h3><pre><code>https://github.com/mhammond/pywin32/releasesé€‰æ‹©æœ€æ–°ç‰ˆçš„ä¸‹è½½ï¼Œæ³¨æ„é€‰æ‹©ä¸pythonç‰ˆæœ¬å’Œä½æ•°å¯¹åº”çš„å¦‚32ä½python3.7.4å¯¹åº”ä¸‹è½½ï¼šã€pywin32-223.win32-py3.7.exeã€‘å¦‚64ä½python3.7.4å¯¹åº”ä¸‹è½½ï¼šã€pywin32-223.win-amd64-py3.7.exeã€‘</code></pre><h3 class=pgc-h-arrow-right>ä¸‰ã€åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œæ‰“åŒ…å‘½ä»¤å³å¯</h3><pre><code>æ ¼å¼å¦‚ä¸‹ï¼špyinstaller [opts] yourprogram.pyå‚æ•°å«ä¹‰-F æŒ‡å®šæ‰“åŒ…ååªç”Ÿæˆä¸€ä¸ªexeæ ¼å¼çš„æ–‡ä»¶(å»ºè®®å†™ä¸Šè¿™ä¸ªå‚æ•°)-D â€“onedir åˆ›å»ºä¸€ä¸ªç›®å½•ï¼ŒåŒ…å«exeæ–‡ä»¶ï¼Œä½†ä¼šä¾èµ–å¾ˆå¤šæ–‡ä»¶ï¼ˆé»˜è®¤é€‰é¡¹ï¼‰-c â€“console, â€“nowindowed ä½¿ç”¨æ§åˆ¶å°ï¼Œæ— ç•Œé¢(é»˜è®¤)-w â€“windowed, â€“noconsole ä½¿ç”¨çª—å£ï¼Œæ— æ§åˆ¶å°-p æ·»åŠ æœç´¢è·¯å¾„ï¼Œè®©å…¶æ‰¾åˆ°å¯¹åº”çš„åº“ã€‚-i æ”¹å˜ç”Ÿæˆç¨‹åºçš„iconå›¾æ ‡ä¾‹1.æŒ‡å®šæ–‡ä»¶è·¯å¾„æ‰“åŒ…ï¼špyinstaller -F D:\project\tanchishe.pyä¾‹2.ä¸å¸¦çª—å£ï¼Œåå°è¿è¡Œæ‰“åŒ…ï¼špyinstaller -F -w D:\project\tanchishe.pyä¾‹3.æ›´æ¢ç¨‹åºå›¾æ ‡æ‰“åŒ…ï¼špyinstaller -F -w -i D:\project\test.ico D:\project\tanchishe.py</code></pre><pre><code>è¿™é‡Œå’±ä»¬æ‰§è¡Œå¼€å§‹æ‰“åŒ…ï¼š(venv) C:\Users\www_9\PycharmProjects\python-tanchishe&gt;pyinstaller -F tanchishe.py</code></pre><p>å››ã€æ‰“åŒ…ç»“æœå¦‚ä¸‹ï¼š</p><p><br></p><div class=pgc-img><img alt="åŸæ¥å°† Python ç¨‹åºæ‰“åŒ…æˆexeæ–‡ä»¶è¿™ä¹ˆç®€å•ï¼åªéœ€ä¸‰æ­¥" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/09fcf20793db4d23b8fdd34634e2262a><p class=pgc-img-caption></p></div><p>äº”ã€è¿è¡Œæ‰“åŒ…å¥½çš„exeæ–‡ä»¶tanchishe.exeæ•ˆæœå¦‚ä¸‹ï¼š</p><p><br></p><div class=pgc-img><img alt="åŸæ¥å°† Python ç¨‹åºæ‰“åŒ…æˆexeæ–‡ä»¶è¿™ä¹ˆç®€å•ï¼åªéœ€ä¸‰æ­¥" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7e6b0411371747dfad0c14fa9019bc24><p class=pgc-img-caption></p></div><p>å…­ã€æŠ¥é”™å¤„ç†ï¼š</p><ul><li>æ‰§è¡ŒPyinstaller æ‰“åŒ…çš„exeæ–‡ä»¶æ‰§è¡ŒæŠ¥é”™å¦‚ä¸‹ï¼ˆæˆ‘ç”¨çš„Pythonç‰ˆæœ¬ä¸ºï¼špython3.7.5ï¼‰ï¼š</li></ul><pre><code>Microsoft Windows [ç‰ˆæœ¬ 10.0.18363.778](c) 2019 Microsoft Corporationã€‚ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚C:\Users\www_9&gt;C:\Users\www_9\PycharmProjects\python-tanchishe\dist\tanchishe.exeTraceback (most recent call last):  File "lib\site-packages\PyInstaller\loader\rthooks\pyi_rth_pkgres.py", line 13, in &lt;module&gt;  File "c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\PyInstaller\loader\pyimod03_importers.py", line 623, in exec_module    exec(bytecode, module.__dict__)  File "lib\site-packages\pkg_resources\__init__.py", line 86, in &lt;module&gt;ModuleNotFoundError: No module named 'pkg_resources.py2_warn'[30844] Failed to execute script pyi_rth_pkgresC:\Users\www_9&gt;</code></pre><li>è§£å†³åŠæ³•ï¼ˆå¸è½½é«˜ç‰ˆæœ¬setuptools ï¼Œç„¶åå®‰è£…setuptools44.0ï¼‰ï¼š</li><ol start=1><li>å¸è½½é«˜ç‰ˆæœ¬ï¼špip uninstall setuptools</li></ol><pre><code>(venv) C:\Users\www_9\PycharmProjects\python-tanchishe&gt;pip uninstall setuptoolsFound existing installation: setuptools 46.1.3Uninstalling setuptools-46.1.3:  Would remove:    c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\easy_install.py    c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\pkg_resources\*    c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\setuptools-46.1.3.dist-info\*    c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\setuptools\*    c:\users\www_9\pycharmprojects\python-tanchishe\venv\scripts\easy_install-3.7.exe    c:\users\www_9\pycharmprojects\python-tanchishe\venv\scripts\easy_install.exeProceed (y/n)? y  Successfully uninstalled setuptools-46.1.3</code></pre><ol start=2><li>å®‰è£…ä½ç‰ˆæœ¬ï¼š pip install setuptools==44.0.0</li></ol><pre><code>(venv) C:\Users\www_9\PycharmProjects\python-tanchishe&gt;pip install setuptools==44.0.0Collecting setuptools==44.0.0  Downloading setuptools-44.0.0-py2.py3-none-any.whl (583 kB)     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 583 kB 26 kB/sInstalling collected packages: setuptoolsSuccessfully installed setuptools-44.0.0</code></pre><ol start=3><li>é‡æ–°æ‰“åŒ…ç¨‹åºï¼š>pyinstaller -F tanchishe.py</li></ol><pre><code>(venv) C:\Users\www_9\PycharmProjects\python-tanchishe&gt;pyinstaller -F tanchishe.py97 INFO: PyInstaller: 3.698 INFO: Python: 3.7.598 INFO: Platform: Windows-10-10.0.18362-SP0100 INFO: wrote C:\Users\www_9\PycharmProjects\python-tanchishe\tanchishe.spec118 INFO: UPX is not available.120 INFO: Extending PYTHONPATH with paths['C:\\Users\\www_9\\PycharmProjects\\python-tanchishe', 'C:\\Users\\www_9\\PycharmProjects\\python-tanchishe']120 INFO: checking Analysis125 INFO: Building because c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\pkg_resources\__init__.py changed125 INFO: Initializing module dependency graph...131 INFO: Caching module graph hooks...138 INFO: Analyzing base_library.zip ...3643 INFO: Caching module dependency graph...3794 INFO: running Analysis Analysis-00.toc3800 INFO: Adding Microsoft.Windows.Common-Controls to dependent assemblies of final executable  required by c:\users\www_9\pycharmprojects\python-tanchishe\venv\scripts\python.exe3824 INFO: Analyzing C:\Users\www_9\PycharmProjects\python-tanchishe\tanchishe.py4200 INFO: Processing pre-find module path hook   distutils4201 INFO: distutils: retargeting to non-venv dir 'C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Python37_64\\lib'4264 INFO: Processing pre-find module path hook   site4265 INFO: site: retargeting to fake-dir 'c:\\users\\www_9\\pycharmprojects\\python-tanchishe\\venv\\lib\\site-packages\\PyInstaller\\fake-modules'5648 INFO: Processing module hooks...5648 INFO: Loading module hook "hook-distutils.py"...5651 INFO: Loading module hook "hook-encodings.py"...5860 INFO: Loading module hook "hook-pkg_resources.py"...6338 INFO: Processing pre-safe import module hook   win32comTraceback (most recent call last):  File "&lt;string&gt;", line 2, in &lt;module&gt;ModuleNotFoundError: No module named 'win32com'6464 INFO: Processing pre-safe import module hook   win32comTraceback (most recent call last):  File "&lt;string&gt;", line 2, in &lt;module&gt;ModuleNotFoundError: No module named 'win32com'6790 INFO: Excluding import '__main__'6792 INFO:   Removing import of __main__ from module pkg_resources6792 INFO: Loading module hook "hook-pydoc.py"...6794 INFO: Loading module hook "hook-pygame.py"...6795 WARNING: Hidden import "pygame._view" not found!6795 INFO: Loading module hook "hook-sysconfig.py"...6798 INFO: Loading module hook "hook-xml.dom.domreg.py"...6799 INFO: Loading module hook "hook-xml.etree.cElementTree.py"...6800 INFO: Loading module hook "hook-xml.py"...6827 INFO: Looking for ctypes DLLs6842 INFO: Analyzing run-time hooks ...6848 INFO: Including run-time hook 'pyi_rth_pkgres.py'6853 INFO: Looking for dynamic libraries8980 INFO: Looking for eggs8980 INFO: Using Python library C:\Program Files (x86)\Microsoft Visual Studio\Shared\Python37_64\python37.dll8981 INFO: Found binding redirects:[]8985 INFO: Warnings written to C:\Users\www_9\PycharmProjects\python-tanchishe\build\tanchishe\warn-tanchishe.txt9035 INFO: Graph cross-reference written to C:\Users\www_9\PycharmProjects\python-tanchishe\build\tanchisheref-tanchishe.html9054 INFO: checking PYZ9056 INFO: Building because toc changed9057 INFO: Building PYZ (ZlibArchive) C:\Users\www_9\PycharmProjects\python-tanchishe\build\tanchishe\PYZ-00.pyz9922 INFO: Building PYZ (ZlibArchive) C:\Users\www_9\PycharmProjects\python-tanchishe\build\tanchishe\PYZ-00.pyz completed successfully.9943 INFO: checking PKG9946 INFO: Building because toc changed9946 INFO: Building PKG (CArchive) PKG-00.pkg12773 INFO: Building PKG (CArchive) PKG-00.pkg completed successfully.12779 INFO: Bootloader c:\users\www_9\pycharmprojects\python-tanchishe\venv\lib\site-packages\PyInstaller\bootloader\Windows-64bit\run.exe12780 INFO: checking EXE12783 INFO: Building because toc changed12783 INFO: Building EXE from EXE-00.toc12786 INFO: Appending archive to EXE C:\Users\www_9\PycharmProjects\python-tanchishe\dist\tanchishe.exe12796 INFO: Building EXE from EXE-00.toc completed successfully.(venv) C:\Users\www_9\PycharmProjects\python-tanchishe&gt;</code></pre><ol start=4><li>ç„¶åè¿è¡Œç¼–è¯‘æ‰€ç”Ÿæˆçš„exeæ–‡ä»¶</li></ol><pre><code>C:\Users\www_9&gt;C:\Users\www_9\PycharmProjects\python-tanchishe\dist\tanchishe.exepygame 1.9.6Hello from the pygame community. https://www.pygame.org/contribute.htmlC:\Users\www_9&gt;</code></pre><ol start=5><li>tanchishe.exeå¯ä»¥æ­£å¸¸è¿è¡Œäº†</li></ol><div class=pgc-img><img alt="åŸæ¥å°† Python ç¨‹åºæ‰“åŒ…æˆexeæ–‡ä»¶è¿™ä¹ˆç®€å•ï¼åªéœ€ä¸‰æ­¥" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7e6b0411371747dfad0c14fa9019bc24><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>å¯å‚è€ƒèµ„æ–™ï¼šæœç´¢æ”¶é›†çš„ç›¸å…³çŸ¥è¯†é¡µé¢ï¼Œè¿™é‡Œè®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿æ—¥åå‚è€ƒã€‚</h3><pre><code>ç”¨pyinstallerå¯ä»¥å°†.pyæ–‡ä»¶è½¬æ¢æˆ.exeæ ¼å¼ï¼Œè®©ä½ çš„ç¨‹åºåœ¨æ²¡æœ‰å®‰è£…pythonç¯å¢ƒçš„windowsä¸Šè¿è¡Œï¼šæ‚¨ä¹Ÿå¯ä»¥å‚è€ƒè¿™é‡Œï¼šhttps://zhuanlan.zhihu.com/p/38659588æŠ¥é”™è§£å†³å‚è€ƒåœ°å€ï¼šPyinstaller No module named pkg_resources.py2_warnï¼š	https://blog.51cto.com/cfy10/2468597?source=dra	pyInstalleræ‰“åŒ…å®Œæˆä»¥åè¿è¡Œç¨‹åºæ—¶å‡ºç°ModuleNotFoundError: No module named 'pkg_resources.py2_warnï¼š	https://blog.csdn.net/BINGYiii/article/details/104193180	windowsä¸‹å®‰è£…setuptoolsä¸pip:	https://www.cnblogs.com/longronglang/p/10443625.html	ä¸‹è½½ä¸åŒç‰ˆæœ¬ settools  ä¸åŒç‰ˆæœ¬åœ°å€ï¼š	https://pypi.Python.org/pypi/setuptools	setuptools 44.0ç‰ˆæœ¬åœ°å€ï¼š	https://pypi.org/project/setuptools/44.0.0/</code></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'åŸæ¥å°†','Python','exe'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>