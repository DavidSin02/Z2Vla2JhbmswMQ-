<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>技术文章—成像系统的动态范围详细解读 | 极客快訊</title><meta property="og:title" content="技术文章—成像系统的动态范围详细解读 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/53d2ac8cbd96402e88d111a6908eb052"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3cf79d2.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3cf79d2.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3cf79d2.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3cf79d2.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3cf79d2.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3cf79d2.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3cf79d2.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3cf79d2.html><meta property="article:published_time" content="2020-10-29T20:58:40+08:00"><meta property="article:modified_time" content="2020-10-29T20:58:40+08:00"><meta name=Keywords content><meta name=description content="技术文章—成像系统的动态范围详细解读"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/3cf79d2.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>技术文章—成像系统的动态范围详细解读</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>翻译自——allaboutcircuits</p><p></p><p>为了满足图像系统越来越广泛的要求，无论是个人还是专业的应用，科研还是工业，都对图像质量提出了越来越高的要求。其中的一个指标动态范围，是决定图像质量的最重要指标。近两年CCD和CMOS芯片在提高动态范围上都获得了很大的进步，例如CCD利用类似于雪崩二极管的撞击（impationigation）现象，产生电子倍增效果。</p><p></p><p>本章节重点理解CCD图像传感器的动态范围，我们将从动态范围的定义开始。用一句话解释：它是指感光材料所能同时记录的最暗到最亮的亮度级别的范围。处于这个范围之外的亮度，感光材料已经无法记录下其影像，因此将其表现为死黑（如果更暗）或死白（如果更亮）。动态范围可以直接用光比来表示，但更方便的是用光圈的档数差来表示。</p><p></p><div class=pgc-img><img alt=技术文章—成像系统的动态范围详细解读 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/53d2ac8cbd96402e88d111a6908eb052><p class=pgc-img-caption></p></div><p></p><p>在机器视觉系统中，反映每一个像元灰度质量的指标是动态范围，也是机器视觉系统要考虑的重要指标之一。动态范围和空间分辨率是机器视觉系统的二个主要指标。</p><p></p><p>灰度的动态范围在工业相机中的模拟视频部分用信号/噪音比（Signal to Noise Ratio）SNR表示；而在工业相机或图像采集卡的A/D转换之后的数字视频量是用比特（bits）位数n表示。</p><p></p><p>在现实世界中，一幅图像会同时具有最亮和最暗的区域，它们之间的差距可能是十分巨大的，机器视觉系统所采集的图像应尽可能地反映出这种灰度的巨大变化范围。此外，在现实世界中图像灰度的微小变化，可能就是机器视觉系统要区别的目标和背景的界限，所以机器视觉系统也应尽可能地将图像中灰度的细微变化反映出来。</p><p></p><p>这二个概念合并起来，就是动态范围，而它又主要取决于工业相机的性能。</p><p></p><p>如果我们把自己限制在光敏电子的范围内，我们可以简化定义如下:动态范围表示传感器能够记录的最大光强的变化。在这篇文章中，我想探索动态范围的概念，它适用于数字成像系统。我们将对这个问题有一个更全面的理解。</p><p></p><p><strong>数字成像系统中的动态范围</strong></p><p></p><p>由于本文重点是CCD作为数码相机的组件，而不是孤立的光探测设备，下面让我们进一步了解动态范围与整个成像系统的关系。</p><p></p><p>首先，亮度这个术语几乎是“光强度”的同义词，但亮度专门指的是由一个特定物体或区域反射、发射或发出的光。而照相机相应亮度指的是从视觉场景的给定部分到达传感器的光量。</p><p></p><p>我们可以把动态范围看作是产生白色图像与产生黑色图像的亮度之间的比率。在数字系统中，白色对应ADC可能的最高输出值，黑色对应ADC可能的最低输出值。以常用的8位灰度范围为例，白色= 255，黑色= 0:</p><p></p><div class=pgc-img><img alt=技术文章—成像系统的动态范围详细解读 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/54d79ce7b5b94f729b432b402fac450c><p class=pgc-img-caption></p></div><p></p><p>数字单色图像中的黑白与物理场景中的“黑”和“白”非常不同，原因有三:</p><p></p><p>1.在视觉感知中，“黑”和“白”与颜色(或缺乏颜色)有关，而一个基本的光敏装置只能表示色调，即“黑”和“白”，为测量亮度的视觉表示。</p><p></p><p>2.在自然界中，真正的黑色是完全没有光的:即零亮度，就像在任何地方都看不到一个光子。事物可以在图像中呈现黑色，即使它们在物理现实中远非黑色。</p><p></p><p>3.在图像中，白色表示最大亮度。在自然界中，亮度持续增加;宇宙中光的强度不受测量系统的限制，如胶片相机、CCD相机、人眼等。如果你学过PS就大致能理解了。</p><p></p><div class=pgc-img><img alt=技术文章—成像系统的动态范围详细解读 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/538ea2d8089047399f87b995e613f6b4><p class=pgc-img-caption></p></div><p></p><p>一种数字单色图像，其中的黑白不同于物理场景中的“黑”和“白”。</p><p></p><p>实质情况是，物理世界经常呈现亮度变化，远远超过相机的测量能力。动态范围告诉我们一个特定的成像系统能捕捉到多少变化，这反过来又帮助我们理解这个系统能在高对比度，即亮度变化大的情况下能够很好地再现场景。</p><p></p><p><strong>动态范围的影响</strong></p><p></p><p>让我们假设你正在拍摄一个场景，其中包括一个深阴影的壁橱和由阳光直接照射的白色花边窗帘。在第一张照片中，衣柜看起来是黑色的，所有细节都消失了。我们只能延长曝光时间。当你增加曝光，再照一张时，衣柜看起来还不错，但现在窗帘全白了——你失去了整个画面的细节。</p><p></p><p>这个案例传达了与图像传感器的动态范围相关的基本限制。场景的最大亮度与最小亮度的比率超过了传感器的动态范围，因此，“高光”中的细节和“阴影”部分你不可能同时保留。</p><p></p><p><strong>高动态范围(HDR)成像</strong></p><p></p><p>上面的例子告诉我们，图像传感器有限的动态范围并不会妨碍相机在单独图像中充分捕捉高光和阴影。我们所需要做的就是用不同的曝光时间拍摄多张照片。</p><p></p><p>因此，我们可以通过合并多幅图像来扩展传感器的场景间动态范围，而这正是人们在创建高动态范围(HDR)图像时所做的。HDR过程包括精确地对齐同一场景的多个图像，并创建一个合成图，该合成图将曝光时间较长的图像的阴影细节与曝光时间较短的图像的高亮细节合并在一起。</p><p></p><p>我认为内部动态范围只是动态范围，我更倾向于将场景间动态范围指定为感知的动态范围或类似的东西。镜头间动态范围可以通过使用滤光片，软件等技巧无限扩展;它并没有告诉我们系统中最重要硬件性能。</p><p></p><p>总而言之，动态范围是表征工程系统的基本手段，成像系统也不例外。</p><p></p><p><strong>延伸阅读——CCD图像传感器的动态范围制约因素有哪些？</strong></p><p></p><p><strong>最大信号和本底噪声</strong></p><p></p><p>在CCD中，输入信号是电磁辐射，输出信号是电荷包，其数量与该电磁辐射的强度相对应。</p><p></p><p>输入信号的动态范围本质上是无限的：亮度可以从零变化（这意味着完全没有光子）到宇宙中最亮的物体产生的强度。但是，输出信号的动态范围是有限的。</p><p></p><p>由于噪声，零亮度不会产生零电荷。由于具有完整的阱容量，亮度增加到某个点以上将不再产生相应的电荷增加。因此，CCD的动态范围是满阱容量与本底噪声的比值，即像素可以产生的最大输出信号电平除以即使像素没有入射光也将产生的信号电平。</p><p></p><div class=pgc-img><img alt=技术文章—成像系统的动态范围详细解读 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/dcf11a23d8f2435e8d31723159626826><p class=pgc-img-caption></p></div><p></p><p>如果你一直在关注图像传感器技术，就会知道CCD中的主要噪声源是暗噪声，光子噪声和读取噪声。但是，在计算动态范围时，我们仅考虑暗噪声和读取噪声。我发现有两个原因：首先，光子噪声不是CCD或随附的读出电路的特性-它是光的本质所固有的，并且在一个系统之间不存在差异。其次，光子噪声不会影响最小的输出信号电平，因为入射光为零时，光子噪声也为零。这使我们得出以下公式：</p><p></p><div class=pgc-img><img alt=技术文章—成像系统的动态范围详细解读 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ebe1df1f68074ad1a66a4cd2ffc1880d><p class=pgc-img-caption></p></div><p></p><p>其中NSATURATION是满阱容量（即，输出信号饱和的电子数），而NNOISE是暗噪声和以电子RMS表示的读取噪声之和。如果你更喜欢使用分贝或止损而不是普通比率，则我们具有以下公式:</p><p></p><div class=pgc-img><img alt=技术文章—成像系统的动态范围详细解读 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/14b3bc0382ac4e889176ef92438706b8><p class=pgc-img-caption></p></div><p></p><div class=pgc-img><img alt=技术文章—成像系统的动态范围详细解读 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8b29a40a1aa24a368aba58167631be26><p class=pgc-img-caption></p></div><p></p><p><strong>CCD的满阱容量</strong></p><p></p><p>影响满阱容量的重要因素是像素的面积，或者如果只有一部分像素对光敏感的话，则是光电二极管的面积。较大的光敏元件对应于其中可以集成电荷的较大的硅部分。因此，我们可以通过增加像素大小来扩展动态范围。鉴于在不改变传感器的总面积的情况下，这样做会导致分辨率降低，因此，如果要增加动态范围并保持分辨率，则需要更大的传感器。</p><p></p><div class=pgc-img><img alt=技术文章—成像系统的动态范围详细解读 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b5437a7b54ab435ebed9a93f5108502a><p class=pgc-img-caption></p></div><p></p><p>物理上较大的光电二极管为光生自由电子的积累提供了更多空间。 当前市场上的CCD在满阱容量上具有广泛的变化。例如，牛津仪器的器件范围从25,000个电子（像素面积= 100 m2，动态范围= 64 dB）到510,000个电子（像素面积= 676 m2，动态范围= 94 dB）。</p><p></p><p><strong>有效满阱容量</strong></p><p></p><p>工作条件可能会影响满阱容量。例如，ON Semi公司的KAI-2020 CCD的满阱容量为20,000电子或40,000电子。实际的物理容量接近40,000电子，但是输出放大器在40 MHz的全读出速度下无法处理40,000电子。因此，在计算动态范围时，我们需要考虑有效的满阱容量，而不是仅与像素的物理特性相对应的电子容量。同样，KAI-2020光电二极管的有效满阱容量取决于所施加的基板电压。较低的基板电压会产生较大的满阱容量（因此会产生较大的动态范围），但同时也会使传感器更容易出现光晕。</p><p></p><p><strong>动态范围和模数转换</strong></p><p></p><p>尽管CCD的动态范围取决于满阱容量和噪声，但我们必须记住，相机必须先对CCD的数据进行数字化处理，然后再对其进行处理。 CCD信号通过ADC到达系统的其余部分，因此，我们需要确保模数转换器提供足够的动态范围。</p><p></p><p>如果你花钱买了具有90 dB动态范围的高性能CCD，然后将其与8位ADC配对，则图像数据的最终动态范围就是ADC的动态范围，只有8位分辨率，实际上约为48 dB。你损失了42 dB。幸运的是，从ADC获得足够的动态范围通常不是主要挑战。许多CCD的动态范围约为60–70 dB，你可以通过12位ADC分辨率来保持这种动态范围性能。 ADI公司和德州仪器（TI）销售高度集成的CCD信号处理器，支持12位A / D转换。</p><p></p><p><strong>结论</strong></p><p></p><p>我们已经看到，动态范围是由CCD的满阱容量和噪声特性决定的。但是，需要记住的一点是，动态范围并不总是最关键的性能指标。动态范围可帮助相机捕捉高对比度场景，但有时候，我们可能对阱容量或低噪声更感兴趣，而不是去追求最大的动态范围而需要兼顾噪声性能和满阱容量。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'技术','系统','动态'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>