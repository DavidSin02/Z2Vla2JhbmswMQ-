<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>西门子S7-300 PLC 的50个经典问题，都懂了你就是专家 | 极客快訊</title><meta property="og:title" content="西门子S7-300 PLC 的50个经典问题，都懂了你就是专家 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/9bebd2b74bd24c6a9eb04f29184c6d4a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3d9462d.html><meta property="article:published_time" content="2020-10-29T21:04:19+08:00"><meta property="article:modified_time" content="2020-10-29T21:04:19+08:00"><meta name=Keywords content><meta name=description content="西门子S7-300 PLC 的50个经典问题，都懂了你就是专家"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/3d9462d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>西门子S7-300 PLC 的50个经典问题，都懂了你就是专家</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div class=pgc-img><img alt="西门子S7-300 PLC 的50个经典问题，都懂了你就是专家" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9bebd2b74bd24c6a9eb04f29184c6d4a><p class=pgc-img-caption></p></div><p><br></p><blockquote><p><br></p></blockquote><p><br></p><p><strong>1:使用CPU 315F和ET 200S时应如何避免出现“通讯故障”消息？</strong></p><p>使用CPU S7 315F， ET 200S以及故障安全DI/DO模块，那么您将调用OB35 的故障安全程序。而且，您已经接受所有监控时间的默认设置值，并且愿意接收“通讯故障”消息。OB 35 默认设置为100毫秒。您已经将F I/O模块的F监控时间设定为100毫秒，因此至少每100毫秒要寻址一次I/O模块。但是由于每100毫秒才调用一次OB 35，因此会发生通讯故障。要确保OB35的扫描间隔和F监控时间有所差别，请确保F监控时间大于OB35的扫描间隔时间。</p><p>S7分布式安全系统，一直到V5.2 SP1 和 6ES7138-4FA00-0AB0，6 ES7138-4FB00-0AB0，6ES7138-4CF00-0AB0 都会出现这个问题。在新的模块中，F 监控时间设定为150毫秒.<br><strong>2:当DP从站不可用时，PROFIBUS上S7-300 CPU的监控时间是多少？ </strong>使用CPU的PROFIBUS接口上的DP从站操作PROFIBUS网络时，希望在启动期间检查期望的组态与实际的组态是否匹配。在 CPU属性对话框中的Startup选项卡上给出了两个不同的时间。<br><strong>3:如何判断电源或缓冲区出错，如：电池故障？ </strong>如果电源(仅S7－400)或缓冲区中的一个错误触发一个事件，则CPU操作系统访问OB81。错误纠正后，重新访问OB81。电池故障情况下，如果电池检测中的BATT.INDIC开关是激活的，则 S7-400仅访问OB81。如果没有组态OB81，则CPU不会进入操作状态STOP。如果OB81不可用，则当电源出错时，CPU仍保持运行。<br><strong>4：为S7CPU上的I/O模块(集中式或者分布式的)分配地址时应当注意哪些问题？ </strong>请注意，创建的数据区域(如一个双字)不能组态在过程映象的边界上，因为在该数据块中，只有边界下面的区域能够被读入过程映像，因此不可能从过程映像访问数据。因此，这些组态规则不支持这种情况：例如，在一个 256 字节输入的过程映像的 254 号地址上组态一个输入双字。如果一定需要如此选址，则必须相应地调整过程映像的大小(在CPU的Properties中)。<br><strong>5：在S7 CPU中如何进行全局数据的基本通讯？在通讯时需要注意什么？ </strong>全局数据通讯用于交换小容量数据，全局数据(GD)可以是： 输入和输出<br>标记<br>数据块中的数据<br>定时器和计数器功能<br>数据交换是指在连入单向或双向GD环的CPU之间以数据包的形式交换数据。GD环由GD环编号来标识。<br>单向连接：某一CPU可以向多个CPU发送GD数据包。<br>双向连接：两个CPU之间的连接：每个CPU都可以发送和接收一个GD数据包。<br>必须确保接收端CPU未确认全局数据的接收。如果想要通过相应通讯块(SFB、FB或FC)来交换数据，则必须进行通讯块之间的连接。通过定义一个连接，可以极大简化通讯块的设计。该定义对所有调用的通讯块都有效且不需要每次都重新定义。<br><strong>6：可以将S7-400存储卡用于CPU 318-2DP吗？ </strong>在通常的操作中，只能使用订货号为6ES7951-1K... (Flash EPROM)和6ES7951-1A... (RAM)的“短”> 存储卡。<br><strong>7：尽管LED灯亮，为什么CPU 31xC不能从缺省地址124和125读取完整输入？ </strong>对于下列型号的CPU ，请检查 24V 电压是否接入引脚 1。LED由输入电流控制。引脚 1 上的 24V 电压需要做进一步处理。</p><p>313C(6ES7 313-5BE0.-0AB0),313C-2DP (6ES7 313-6CE0.-0AB0),313C-2PTP (6ES7 313-6BE0.-0AB0), 314C-2DP (6ES7 314-6CF0.-0AB0),314C-2PTP (6ES7 314-6BF0.-0AB0)<br><strong>8：配置CPU 31x-2 PN/DP的PN接口时，当PROFINET接口偶尔发生通信错误时，该如何处理？ </strong>请确定以太网(PROFINET)中的所有组件(转换）都支持 100 Mbit/s全双工基本操作。避 免中心分配器割裂网络，因为这些设备只能工作于半双工模式。<br><strong>9：在硬件配置编辑器中，“时钟”修正因子有什么含义呢？ </strong>在硬件配置中，通过CPU > Properties > Diagnostics/Clock，你可以进入“时钟”> 域内指定一个修正因子。这个修正因子只影响CPU的硬件时钟。时间中断源自于系统时钟，并且和硬件时钟的设定毫无关系。<br><strong>10：如何通过PROFIBUS DP用功能块实现在主、从站之间实现双向数据传送？ </strong>在主站plc可以通过调用SFC14 “DPRD_DAT“和SFC15 “DPWR_DAT“来完成和从站的数据交换，而对于从站来说可以调用FC1 “DP_SEND“ 和FC2 ”DP_RECV“完成数据的交换。<br><strong>11：可以从S7 CPU中读出哪些标识数据？ </strong>通过SFC 51“RDSYSST”可读出下列标识数据：<br>可以读出订货号和CPU版本号。为此，使用SFC 51和SSL ID 0111并使用下列索引：<br>1 = 模块标识<br>6 = 基本硬件标识<br>7 = 基本固件标识<br><strong>12：在含有CPU 317-2PN/DP的S7-300上，如何编程可加载通讯功能块FB14("GET")和FB15("PUT")用于数据交换？ </strong>为了通过一个S7连接在使用CPU 317-2PN/DP的两个S7-300工作站之间进行数据交换，其中该S7连接是使用NetPro组态的， 在S7通信中，必须调用通讯功能块。模块FB14("GET") 用于从远程CPU取出数据，模块FB15("PUT")用于将数据写入远程CPU。功能块包含在STEP 7 V5.3的标准库中。&lt; CPU 317-2PN/DP的通讯模块FB14("GET")和FB15("PUT")的属性 ：</p><p>FB14和FB15是异步通讯功能。这些模块的运行可能跨越多个OB1循环。通过输入参数REQ激活FB14或FB15。DONE、NDR或ERROR表明作业结束。PUT和GET可以同时通过连接进行通信。</p><p>注意：不能将库SIMATIC_NET_CP中的通讯块用于CPU317-2PN/DP。<br><strong>13：对于紧凑CPU 313C-2 PtP和CPU 314-2 PtP作业同步处理需要注意什么？ </strong>在用户程序中，不可以同时编程SEND作业和FETCH作业。<br>即：<br>只要SEND作业(SFB 63)没有完全终止(DONE或ERROR)，就不能调用FETCH作业(SFB 64)<br>(甚至在REQ=0的时候)。<br>只要FETCH作业(SFB 64)没有完全终止(DONE或ERROR)，就不能调用SEND作业(SFB 63)<br>(甚至在REQ=0的时候)。<br>在处理一个主动作业(SEND作业、SFB 63或FETCH作业、SFB 64)时，同时可以处理一个被动作业<br>(SERVE作业、SFB 65)。<br><strong>14：可以将MICR．ｍａｓｔｅｒ420到440作为组态轴(位置外部检测)和CPU 317T一起运行吗？ </strong>可以，但在动力和精度方面，对组态轴的要求差别非常大。在高要求情况下，伺服驱动SIMODRIVE 611U、MASTERDRIVES MC或SINAMICS S必须和CPU 317T一起运行。在低要求情况下，MICROMASTER系列也能满足动力和精度要求。<br><strong>15：如何在已配置为DP从站的两个CPU模块间组态直接数据交换(节点间通信)？ </strong>两个CPU站配置为DP从站，而且由同一个DP主站操作，它们之间的通信通过配置交换模式为DX可以完成直接数据交换。<br><strong>16：如何使用SFC65，SFC66，SFC67 和 SFC68 进行通信？ </strong>对於单向基本通信，使用系统功能 SFC67 (X_GET)从一个被动站读取数据，使用系统功能SFC68(X_PUT)将数据写入一个被动站(服务器)。这些块只有在主动站中才调用。对于一个双向基本通信，调用站中的系统功能SFC65 (X_SEND)，在该站中想将数据发送到另一个主动站。在同样为主动的主动接收站中，数据将通过系统功能SFC66 (X_RCV)记录。</p><p>两种类型的基本通信中，每次块调用可以处理最多 76 字节的用户数据。对于S7-300 CPU，数据传送的数据一致性是 8 个字节，对于S7-400 CPU则是全长。如果连接到S7-200，必须考虑到S7-200只能用作一个被动站。<br><strong>17：什么是自由分配 I/O 地址？ </strong>地址的自由分配意味着您可对每种模块(SM/FM/CP)自由的分配一个地址。地址分配在 STEP 7 里进行。先定义起始地址，该模块的其它地址以它为基准。</p><p>自由分配地址的优点：因为模块之间没有地址间隙，就可以优化地使用可用地址空间。在创建标准软件时，分配地址过程中可以不考虑所涉及的 S7-300 的组态。<br><strong>18：诊断缓冲器能够干什么？ </strong>更快地识别故障源，因而提高系统的可用性。评估STOP之前的最后事件，并寻找引起STOP的原因。</p><p>诊断缓冲器是一个带有单个诊断条目的循环缓冲器，这些诊断条目显示在事件发生序列中；第一个条目显示的是最近发生的事件。如果缓冲器已满， 最早发生的事件就会被新的条目所覆盖。根据不同的CPU，诊断缓冲器的大小或者固定，或者可以通过HW Config中通过参数进行设置。<br><strong>19：诊断缓冲器中的条目包括哪些？ </strong>1） 故障事件<br>2） 操作模式转变以及其它对用户重要的操作事件<br>3） 用户定义的诊断事件(用SFC52 WR_USMSG)<br>在操作模式STOP下，在诊断缓冲器中尽量少的存储事件，以便用户能够很容易在缓冲器中找到引起STOP的原因。因此，只有当事件要求用户产生一个响应(如计划系统内存复位，电池需要充电)或必须注册重要信息(如固件更新，站故障)时，才将条目存储在诊断缓冲器中。<br><strong>20：如何确定MMC的大小以便完整地存储STEP 7项目？ </strong>为了给项目选择合适的MMC，需要了解整个项目的大小以及要加载块的大小。可以按照如下所述的方法来确定项目的大小：</p><p>1） 首先归档STEP 7项目。然后在Windows资源浏览器中打开已归档项目，并确定其大小(选中该项目并右击)。这会告诉您归档文件的大小。</p><p>2） 将块加载入CPU。现在仍然需要选择"PLC > Module Information > Memory"。在此，在" Load memory RAM + EPROM"中，可以看到分配的加载内存的大小。</p><p>3） 必须将该值和已经确定的归档项目的大小相加。这样就可以得出在一个MMC上保存整个项目所需的总内存的大小。<br><strong>21：CPU全面复位后哪些设置会保留下来？ </strong>复位CPU时，内存没有被完全删除。整个主内存被完全删除了，但加载内存中数据，以及保存在Flash-EPROM存储卡(MC)或微存储卡(MMC)上的数据，则会全部保留下来。除了加载内存以外，计时器(CPU 312 IFM除外)和诊断缓冲也被保留。具有MPI接口或一个组合MPI/DP接口的CPU只在全部复位之前保留接口所采用的当前地址和波特率。另一方面，另一个PROFIBUS地址也被完全删除，不能再访问。</p><p>重要事项：重新设置PG/PC之后，与CPU之间的通讯只能通过MPI或MPI/DP接口来建立。<br><strong>22：为什么不能通过MPI在线访问CPU？ </strong>如果在CPU上已经更改了MPI参数，请检查硬件配置。可以将这些值与在"Set PG/PC interface"下的参数进行比较，看是否有不一致。</p><p>或者可以这样做：打开一个新的项目，创建一个新的硬件组态。在CPU的MPI接口的属性中为地址和传送速度设置各自的值。将"空"项目写入存储卡中。把该存储卡插入到CPU 然后重新打开CPU的电压，将位于存储卡上的设置传送到CPU。现在已经传送了MPI接口的当前设置，并且像这样的话，只要接口没有故障就可以建立连接。这个方法适用于所有具有存储卡接口的S7-CPU。<br><strong>23：错误OB的用途是什么？ </strong>如果发生一个所描述的错误(见文件1)，则将调用并处理相应OB。如果没有加载该OB，则CPU进入STOP(例外：OB70、72、7 3和81)</p><p>S7-CPU可以识别两类错误：<br>1） 同步错误：这些错误在处理特定操作的过程中被触发，并且可以归因于用户程序的特定部分。</p><p>2） 异步错误：这些错误不能直接归因于运行中的程序。这些错误包括优先级类的错误，自动化系统中的错误(故障模块)或者冗余的错误。<br><strong>24：在DP从站或CPU315-2DP型主站里应该编程哪些“故障 OBs”？ </strong>在组态一个作为从站的CPU315-2DP站时，必须在STEP7程序中编程下列OB以便评估分布式I/O类型的错误信息：<br>OB 82 诊断中断 OB 、OB 86 子机架故障 OB 、OB 122 I/O 访问出错</p><p>1） 诊断OB82：如果一个支持诊断，并且已经对其释放了诊断中断的模块识别出一个错误，它既对进入事件也对外出的事件向 CPU 发出一个诊断中断的请求。操作系统然后调用 OB82。在 OB82 自己的局部变量里包含有有缺陷模块的逻辑基地址和 4 个字节的诊断数据。如果你还没有编程 OB82, 则 CPU 进入“停止”模式。你可以阻断或延迟诊断中断 OB ，并通过 SFC 39 - 42 重新释放它。</p><p>2） 子机架故障OB86：如果识别出一个 DP 主站系统或一个分布式 I/O 站有故障（既对进入事件也对外出的事件），该 CPU 的操作系统就调用 OB 86 。如果没有编程 OB 86 但出现了这样一个错误， CPU 就进入“停止”模式。你可以阻断或延迟 OB86 并通过 SFC 39 - 42 重新释放它。</p><p>3） I/O 访问出错OB122：当访问一个模块的数据时出错，该CPU的操作系统就调用OB 122。比方说，CPU在存取一个单个模块的数据时识别出一个读错误，那么操作系统就调用OB 122。该OB 122以与中断块有相同的优先级类别运行。如果没有编程OB 122,那么CPU由“运行”模式改为“停止”模式。<br><strong>25：为什么在某些情况下，保留区会被重写? </strong>在STEP 7的硬件组态中，可以把几个操作数区定义为“保留区”。这样可以在掉电以后，即使没有备份电池的话，仍能保持这些区域中的内容。如果定义一个块为 “保留块”，而它在 CPU 中不存在或只是临时安装过，那么这些区域的部分内容会被重写。在电源接通/断开之后，其他内容会在相关区里找到。<br><strong>26：为何不能把闪存卡的内容加载入S7 300 CPU？ </strong>你的项目在闪存卡上。现在要用它加载 S7 300 。但加载结束后发现 CPU 的 RAM 中仍是空的。出现此问题的原因是你的程序里有无法处理的，"错误的"组织块(比如说， OB86 没有 DP 接口)。在重新设置和重新启动 CPU 后, RAM 仍是空的。诊断缓冲区对这个"无法加载"的块会提示一些信息。<br><strong>27：当把 CPU315-2DP 作为从站，把 CPU315-2DP 作为主站时的诊断地址 </strong>在组态一个 CPU315-2DP 站时，你使用 S7 工具 “H/W CONFIG” 来分配诊断地址。如果发生一个故障，这些诊断地址被加入诊断 OB 的变量 “OB82_MDL_ADDR” 里。你可在 OB82 里分析此变量，确定有故障的站并作出相应的反应。</p><p>下面是如何分配诊断地址的例子：<br>第 1 步：通过 CPU315-2DP 组态从站并赋予一个诊断地址，比如 422。</p><p>第 2 步：通过 CPU315-2DP 组态主站</p><p>第 3 步：把组态好的从站链接到主站并赋予一个诊断地址，比如 1022。<br><strong>28：需要为S7-300 CPU的DP从站接口作何种设置，才可以使用它来进行路由选择？ </strong>如果使用CPU作为I-Slave，并且该CPU也起S7 路由器的作用，那么请注意如下事项：</p><p>用于路由选择的从站的DP接口必须设置为活动状态。这可以在HW Config中完成：在DP接口的属性对话框中，选项" Commissioning/Test operation"或"Programming, status/modify..."必须激活。关于这些设置的注意事项可以在下表中获得。</p><p>对于S7 路由连接，有 4 种可用的连接资源-与其它任何连接资源无关。没有使用PG/OP的连接资源或S7基本通信.</p><p>如果必须通过DP接口来建立一个与位于其机架上的通信伙伴连接时(如在 CP 343-1 中)，也要使用一个路由连接。而对于通过MPI接口与一个位于其机架上的通信伙伴的连接，则不使用路由连接资源，因为在这种情况下，能够直接到达伙伴。注意事项：这不适用于CPU 318。<br><strong>29：为什么当使用S7-300 CPU的内部运行时间表时，没有任何返回值？ </strong>当对CPU 312IFM到316-2DP参数化系统功能块 SFC2, SFC3 和 SFC4 时，为一个运行时间表规定了一个大于 "B#16#0"的标识符，那么将出错并且所需的功能也无法用。此种情况下，将在块的" RETVAL"输出处输出标识符 "8080h" 。<br>说明：对于这些 CPU，只有一个计时器可用。因此你应该只用标识符 "B#16#0"。在一个周期块(OB1, OB35)里一定不能调用系统功能 SFC2 "SET_RTM"，而是应该在重启动OB(OB100)调用它。你也可以通过外部触发器来启动该块。不然的话，该块将老是复位运行计时表，永远完成不了计数。<br><strong>30：变量是如何储存在临时局部数据中的？ </strong>L 堆栈永远以地址“0”开始。在 L 堆栈中，会为每个数据块保留相同个数的字节，作为存放每个块所拥有的静态或局部数据。</p><p>当某个块终止时，那么它的空间随之也被重新释放出来。指针总是指向当前打开块的第一个字节。<br><strong>31：在CPU经过完全复位后是否运行时间计数器也被复位？ </strong>使用S7-300时，带硬件时钟(内置的 “实时时钟”)和带软件时钟的 CPU 之间有区别。对于那些无后备电池的软件时钟的 CPU，运行时间计数器在 CPU 被完全复位后其最后值被删除。而对于那些有后备电池的硬件时钟的 CPU，运行时间计数器的最后值在 CPU 被完全复位后被保留下来。同样， CPU 318 和所有的 S7-400 CPU 的运行时间计数器在 CPU 被完全复位后其最后值被保留。<br><strong>32：如何把不在同一个项目里的一个S7 CPU组态为我的S7 DP主站模块的DP从站？ </strong>缺省情况下, 在STEP 7里只可以把一个S7 CPU组态为从站，如果说该站是在同一个项目中的话。该站然后在“PROFIBUS-DP > 已经组态的站”下的硬件目录里作为“CPU 31x-2 DP”出现。用这种途径，可以设置起 DP 主站与 DP 从站间的链接。</p><p>还存在一个选项，可把一个与主站不在同一个项目里的S7 CPU组态为从站。进行如下：</p><p><strong>按常规组态DP从站。 </strong>从网上下载要用作从站的S7-300 CPU的GSD文件。该文件位于客户支持网址的“PROFIBUS GSD 文件 / SIMATIC”下。</p><p><strong>打开SIMATIC Manager 和硬件配置。 </strong>打开“选项 ; 安装新的 GSD...”，把刚下载的 GSD 文件插入硬件目录 。(注意：此过程中在 HW Config 中无须打开任何窗口)</p><p><strong>通过“选项; 更新目录”来更新硬件目录。&lt; </strong>现在可以组态你的 DP 主站。将可以在 “PROFIBUS-DP > 更多现场设备 > SPS” 下发现作为从站的该 S7-300 CPU 。<br>注意：如果是手动来结合该 DP 从站, 要确保总线参数，该 DP 从站的 PROFIBUS 地址 和它的 I/O 组态在两个项目里必须相同。<br><strong>33：无备用电池情况下断电的影响与完全复位一样吗？ </strong>不一样。在CPU被完全复位的情况下，其硬件配置信息被删除(MPI地址除外)，程序被删除， 剩磁存储器也被清零。</p><p>在无备用电池和存储卡的情况下关电，硬件配置信息(除了MPI地址) 和程序被删除。然而，剩磁存储器不受影响。如果在此情况下重新加载程序，则其工作时采用剩磁存储器的旧值。比方说，这些值通常来自前 8 个计数器。如果不把这一点考虑在内，会导致危险的系统状态。</p><p>建议：无备用电池和存储卡的情况下断电后，总是要做一下完全复位。<br><strong>34：以将 2 线制传感器连接到紧凑型CPU的模拟输入端吗？ </strong>可以将 2 线制和 4 线制的传感器连接到CPU 300C的模拟输入端。使用一个 2 线制传感器时，在硬件组态中将“I = 电流”设置为测量类型，与 4 线制传感器的设置一样。</p><p>注意事项：请注意紧凑型CPU仅支持有源传感器( 4 线制传感器)。如果使用无源传感器( 2 制传感器)，必须使用外部电源。</p><p>警告：请注意所允许的最大输入电流。2 线制传感器在出现短路时可能会超出最大允许电流。技术数据中规定的最大允许电流是50mA(破坏极限)。对于这种情况(例如，对 2 线制传感器加电流限制或与传感器串联一个PTC热敏电阻)，确保提供足够保护。<br><strong>35：SM322-1HH01也能在负载电压为交流 24 V的情况下工作吗？ </strong>是的，您也可以在负载电压为交流 24 V的情况下使用SM322-1HH01。<br><strong>36：要确保SM322-1HF01 接通最小需要多大的负载电压和电流？ </strong>SM322-1HF01 继电器模块需要 17 V和 8 mA才能确保开闭正常。对于触点的寿命来说，这样的值比手册上提供的这个模块的值(10 V和 5 mA)更好。手册的规定值应该认为是最低要求值。<br><strong>37：需要为哪些24V数字量输入模块(6ES7 321-xBxxx- ...)连接电源？ </strong>24V数字量输入模块的电源插针连接 (L+ / M) 。<br><strong>38:在 ET200M 里是否也能使用 SM321 模块(DI16 x 24V)？ </strong>模块 SM321 (MLFB 6ES7 321-7BH00-0AB0) 也可在 ET200M 里使用。其中 CPU 31x-2DP 作为 DP 主站或者是通讯处理器 CP CP342-5 作为 DP 主站。同样该模块可以通过 ET200M 和 S7-400 通讯处理器 CP443-5 连接到一个S7-400 CPU。<br><strong>39:SM323数字卡所占用的地址是多少? </strong>SM323模块有 16 位类型(6ES7 323-1BL00-0AA0)和 8 位类型(6ES7 323-1BH00-0AA0)两种。对于 16 位类型的模块，输入和输出占用“X”和“X+1” 两个地址。如果 SM323 的基地址为 4 (即 X=4；插槽为 5),那么输入就被赋址在地址 4 和 5 下面, 输出的地址同样也被赋址在地址 4 和 5 下面。在模块的接线视图中，输入字节“X”位于左边的顶部，输出字节“X”在右边的顶部。</p><p>对于 8 位类型的模块，输入和输出各占用一个字节，它们有相同的字节地址。若用固定的插槽赋址，SM323 被插入槽 4, 那么输入地址为I 4.0 至 I 4.7，输出地址为 Q 4.0 至 Q 4.7。<br><strong>40:在不改变硬件配置的情况下，能用SM321-1CH20 代替SM321-1CH80 吗？ </strong>SM321-1CH20 和SM321-1CH80 模块的技术参数是相同的。区别仅在SM321-1CH80 可以应用于更广泛的环境条件。因此您无需更改硬件配置。<br><strong>41:进行I/O的直接访问时，必须注意什么？ </strong>需要注意在一个S7-300组态中，如果进行跨越模块的I/O直接读访问(用该命令一次读取几个字节)，那么就会读到不正确的值。可以通过hardware中查看具体的地址。<br><strong>42：SM321模块是否需要连接到 DC 24V 上？ </strong>不需要，如果是 MLFB 为 6ES7 321-1BH02-0AA0 的 SM 321 模块，就不再需要连接 DC 24V 了。<br><strong>43：在 STEP 7 硬件组态中如何规划模拟模块 SM374？在硬件目录中如何找到此模块？ </strong>模拟模块SM374可用于三种模式中：作为 16 通道数字输入模块，作为 16 通道数字输出模块，作为带 8 个输入和 8 个输出的混合数字输入/输出模块。</p><p>现在把SM374按照您需要模拟的模块来组态，就是说；<br>如果把 SM 374 用作为一个 16 通道输入模块，则组态一个 16 通道输入模块 - 推荐使用：SM 321: 6ES7321-1BH01-0AA0，</p><p>如果把 SM 374 用作为一个 16 通道输出模块，则组态一个 16 通道输出模块 - 推荐使用：SM 322: 6ES7322-1BH01-0AA0，</p><p>如果把 SM 374 用作为一个混合输入/输出模块，则组态一个混合输入/输出模块( 8 个输入，8 个输出) - 推荐使用：SM 323: 6ES7323-1BH01-0AA0。<br><strong>44：当测量电流时，出现传感器短路的情况，模块6ES7 331-1KF0.-0AB0的模拟量输入I+是否会被破坏？ </strong>当测量电流时，出现传感器短路的情况，模块6ES7 331-1KF0.-0AB0的模拟输入 I+不会被破坏。该模块具有内置的过流保护功能。模块中每个50欧姆的电阻器前面具有一个PTC元件，用于防止模块的输入通道被破坏。</p><p>请注意，输入电压允许的长期最大值为12V，短暂(最多1秒)值为30V。</p><p><strong>45：如果切断CPU，则 2 线制测量变送器是否继续供电？ </strong>如果变送器模块插入位置“D”，且模块在引脚 1 和引脚 20 上由外部电压供电，则 2 线测量变送器继续供电。即使切断CPU，其供电电流仍维持不变。<br><strong>46：用S7-300模拟量输入模块测量温度（华氏）时，可以使用模块说明文档中列出的绝对误差极限吗？ </strong>不可以直接使用指定的误差极限。基本误差和操作误差都以绝对温度和摄氏温度说明。必须乘以系数1.8将其转换为华氏温度单位。</p><p>例:S7-300 AI 8 x RTD：指定的温度输入操作误差是+/-1.0摄氏度。当以华氏温度测量时，可接受的最大误差是+/-1.8华氏度。</p><p><strong>47：为什么用商用数字万用表在模拟输入块上不能读出用于读取阻抗的恒定电流？ </strong>几乎所有的S5/S7 模拟输入设备仍然以复杂的方式工作，即，所有的通道都依次插到仅有的一个AD转换器上。该原理也适用于读取阻抗所必需的恒定电流。因此，要读的流过电阻的电流仅用于短期读数。对于有一个选定接口抑制"50Hz"和 8 个参数化通道的SM331-7KF02-0AB0 ，这意味着电流将会约每180ms流过一次，每次有20ms可读取阻抗。<br><strong>48：为什么S7-300 模拟输出组的电压输出超出容差？端子S+和S-作何用途？ </strong>下列描述适用于所有模拟输出模块SM 332：<br>当使用模拟输出模块 SM 332 时，必须注意返回输入S+和S-的分配。它们起补偿性能阻抗的目的。当用独立的带有S+ 和S-的电线连接执行器的两个触点时，模拟输出会调节输出电压，以便使动作机构上实际存在的电压为所期望的电压。</p><p>如果想要获得补偿，那么执行器必须用 4 根电线连接。这意味着对于第一个通道，需要：</p><p>输出电压通过针脚 3 和针脚 6 连接到执行器。<br>分配执行器的针脚 4 和针脚 5。<br>如果不想获得补偿，只需在前面的开关上简单的跨接针脚3-4和针脚5-6。</p><p>注意事项：因为打开的传感器端子 (S+ 和S-)，输出电压被调节到最大值 140 mV (用于 10V)。g 对于此分配，无法保持0.5 %的电压输出使用误差限制。<br><strong>49：如何连接一个电位计到6ES7 331-1KF0-0AB0? </strong>电位计的采样端和首端连接到 M+，末端连接 M-，并且 S- 和M-连接到一起。<br>注意: 最大的可带电阻是6K，如果电位计支持直接输出一个可变的电压，那么电位计的首端应该连接V＋，M端连接M－。<br><strong>50：如何把一个PT100温度传感器连接到模拟输入模块SM331？ </strong>PT100热电阻随温度的不同其电阻值随之变化。如果有一恒定电流流经该热电阻，该热电阻上电压的下降随温度而变化。恒定电流加在接点Ic+ 和 Ic-上。模拟模块SM331在M+和M-电测定电流的变化。通过测定电压就可以确定出温度。</p><p>PT100 到模拟输入组有三类连接：4 线连接可得到最精确的测定值。</p><p>* 注意：<br>1）3 线连接用的公式仅表明了模拟输入模块 SM331 （MLFB 号为6ES7 331-7Kxxx-0AB0）b " 的实际测定过程。</p><p>2）在 S7-300 系列中，存在一些通过多次测定的模拟输入端。它们规定出公共返回线的线电阻并作数学补偿。所获精确度几乎与 4 线连接可比美。这样模块的一个例子就是SM331(MLFB号6ES7 331-7PF00-0AB0)。</p><p>3）所给出的公式仍然适用于主要的物理关系，但并不包含确定 PT100 电阻的有效测定过程。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'西门子','S7','300'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/ea62b7ce.html alt=西门子S7-300下载后停机了？怎么找故障？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1536064859530d698e386b0 style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/ea62b7ce.html title=西门子S7-300下载后停机了？怎么找故障？>西门子S7-300下载后停机了？怎么找故障？</a></li><hr><li><a href=../../cn/%E7%A7%91%E6%8A%80/407d4a4f.html alt=西门子S7-300利用循环左移指令实现自复位按钮一键启停 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/37d30003bef90889115a style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/407d4a4f.html title=西门子S7-300利用循环左移指令实现自复位按钮一键启停>西门子S7-300利用循环左移指令实现自复位按钮一键启停</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>