<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>python3ä»é›¶å­¦ä¹ -5.3.5ã€ç”Ÿæˆä¼ªéšæœºæ•°random | æå®¢å¿«è¨Š</title><meta property="og:title" content="python3ä»é›¶å­¦ä¹ -5.3.5ã€ç”Ÿæˆä¼ªéšæœºæ•°random - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3e0ac5fa.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3e0ac5fa.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3e0ac5fa.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3e0ac5fa.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3e0ac5fa.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3e0ac5fa.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3e0ac5fa.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3e0ac5fa.html><meta property="article:published_time" content="2020-11-14T21:08:08+08:00"><meta property="article:modified_time" content="2020-11-14T21:08:08+08:00"><meta name=Keywords content><meta name=description content="python3ä»é›¶å­¦ä¹ -5.3.5ã€ç”Ÿæˆä¼ªéšæœºæ•°random"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/3e0ac5fa.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>python3ä»é›¶å­¦ä¹ -5.3.5ã€ç”Ÿæˆä¼ªéšæœºæ•°random</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p><strong>æºç ï¼š</strong> Lib/random.py</p><hr><p>è¯¥æ¨¡å—å®ç°äº†å„ç§åˆ†å¸ƒçš„ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ã€‚</p><p>å¯¹äºæ•´æ•°ï¼Œä»èŒƒå›´ä¸­æœ‰ç»Ÿä¸€çš„é€‰æ‹©ã€‚ å¯¹äºåºåˆ—ï¼Œå­˜åœ¨éšæœºå…ƒç´ çš„ç»Ÿä¸€é€‰æ‹©ã€ç”¨äºç”Ÿæˆåˆ—è¡¨çš„éšæœºæ’åˆ—çš„å‡½æ•°ã€ä»¥åŠç”¨äºéšæœºæŠ½æ ·è€Œæ— éœ€æ›¿æ¢çš„å‡½æ•°ã€‚</p><p>åœ¨å®æ•°è½´ä¸Šï¼Œæœ‰è®¡ç®—å‡åŒ€ã€æ­£æ€ï¼ˆé«˜æ–¯ï¼‰ã€å¯¹æ•°æ­£æ€ã€è´ŸæŒ‡æ•°ã€ä¼½é©¬å’Œè´å¡”åˆ†å¸ƒçš„å‡½æ•°ã€‚ ä¸ºäº†ç”Ÿæˆè§’åº¦åˆ†å¸ƒï¼Œå¯ä»¥ä½¿ç”¨ von Mises åˆ†å¸ƒã€‚</p><p>å‡ ä¹æ‰€æœ‰æ¨¡å—å‡½æ•°éƒ½ä¾èµ–äºåŸºæœ¬å‡½æ•° random() ï¼Œå®ƒåœ¨åŠå¼€æ”¾åŒºé—´ [0.0,1.0) å†…å‡åŒ€ç”Ÿæˆéšæœºæµ®ç‚¹æ•°ã€‚ Python ä½¿ç”¨ Mersenne Twister ä½œä¸ºæ ¸å¿ƒç”Ÿæˆå™¨ã€‚ å®ƒäº§ç”Ÿ 53 ä½ç²¾åº¦æµ®ç‚¹æ•°ï¼Œå‘¨æœŸä¸º 2**19937-1 ï¼Œå…¶åœ¨ C ä¸­çš„åº•å±‚å®ç°æ—¢å¿«åˆçº¿ç¨‹å®‰å…¨ã€‚ Mersenne Twister æ˜¯ç°å­˜æœ€å¹¿æ³›æµ‹è¯•çš„éšæœºæ•°å‘ç”Ÿå™¨ä¹‹ä¸€ã€‚ ä½†æ˜¯ï¼Œå› ä¸ºå®Œå…¨ç¡®å®šæ€§ï¼Œå®ƒä¸é€‚ç”¨äºæ‰€æœ‰ç›®çš„ï¼Œå¹¶ä¸”å®Œå…¨ä¸é€‚åˆåŠ å¯†ç›®çš„ã€‚</p><p>è¿™ä¸ªæ¨¡å—æä¾›çš„å‡½æ•°å®é™…ä¸Šæ˜¯ random.Random ç±»çš„éšè—å®ä¾‹çš„ç»‘å®šæ–¹æ³•ã€‚ ä½ å¯ä»¥å®ä¾‹åŒ–è‡ªå·±çš„ Random ç±»å®ä¾‹ä»¥è·å–ä¸å…±äº«çŠ¶æ€çš„ç”Ÿæˆå™¨ã€‚</p><p>å¦‚æœä½ æƒ³ä½¿ç”¨è‡ªå·±è®¾è®¡çš„ä¸åŒåŸºç¡€ç”Ÿæˆå™¨ï¼Œç±» Random ä¹Ÿå¯ä»¥ä½œä¸ºå­ç±»ï¼šåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé‡è½½ random() ã€ seed() ã€ getstate() ä»¥åŠ setstate() æ–¹æ³•ã€‚å¯é€‰åœ°ï¼Œæ–°ç”Ÿæˆå™¨å¯ä»¥æä¾› getrandbits() æ–¹æ³•â€”â€”è¿™å…è®¸ randrange() åœ¨ä»»æ„å¤§çš„èŒƒå›´å†…äº§ç”Ÿé€‰æ‹©ã€‚</p><p>random æ¨¡å—è¿˜æä¾› SystemRandom ç±»ï¼Œå®ƒä½¿ç”¨ç³»ç»Ÿå‡½æ•° os.urandom() ä»æ“ä½œç³»ç»Ÿæä¾›çš„æºç”Ÿæˆéšæœºæ•°ã€‚</p><p><strong>è­¦å‘Š</strong></p><p>ä¸åº”å°†æ­¤æ¨¡å—çš„ä¼ªéšæœºç”Ÿæˆå™¨ç”¨äºå®‰å…¨ç›®çš„ã€‚ æœ‰å…³å®‰å…¨æ€§æˆ–åŠ å¯†ç”¨é€”ï¼Œè¯·å‚é˜… secrets æ¨¡å—ã€‚</p><p><strong>å‚è§</strong></p><p>M. Matsumoto and T. Nishimura, â€œMersenne Twister: A 623-dimensionally equidistributed uniform pseudorandom number generatorâ€, ACM Transactions on Modeling and Computer Simulation Vol. 8, No. 1, January pp.3â€“30 1998.</p><p>Complementary-Multiply-with-Carry recipe ç”¨äºå…¼å®¹çš„æ›¿ä»£éšæœºæ•°å‘ç”Ÿå™¨ï¼Œå…·æœ‰é•¿å‘¨æœŸå’Œç›¸å¯¹ç®€å•çš„æ›´æ–°æ“ä½œã€‚</p><h1 class=pgc-h-arrow-right>ç°¿è®°åŠŸèƒ½</h1><ul><li>random.seed(a=None, version=2)</li></ul><p>åˆå§‹åŒ–éšæœºæ•°ç”Ÿæˆå™¨ã€‚å¦‚æœ a è¢«çœç•¥æˆ–ä¸º None ï¼Œåˆ™ä½¿ç”¨å½“å‰ç³»ç»Ÿæ—¶é—´ã€‚ å¦‚æœæ“ä½œç³»ç»Ÿæä¾›éšæœºæºï¼Œåˆ™ä½¿ç”¨å®ƒä»¬è€Œä¸æ˜¯ç³»ç»Ÿæ—¶é—´ï¼ˆæœ‰å…³å¯ç”¨æ€§çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… os.urandom() å‡½æ•°ï¼‰ã€‚å¦‚æœ a æ˜¯ int ç±»å‹ï¼Œåˆ™ç›´æ¥ä½¿ç”¨ã€‚å¯¹äºç‰ˆæœ¬2ï¼ˆé»˜è®¤çš„ï¼‰ï¼Œstr ã€ bytes æˆ– bytearray å¯¹è±¡è½¬æ¢ä¸º int å¹¶ä½¿ç”¨å®ƒçš„æ‰€æœ‰ä½ã€‚å¯¹äºç‰ˆæœ¬1ï¼ˆç”¨äºä»æ—§ç‰ˆæœ¬çš„Pythonå†ç°éšæœºåºåˆ—ï¼‰ï¼Œç”¨äº str å’Œ bytes çš„ç®—æ³•ç”Ÿæˆæ›´çª„çš„ç§å­èŒƒå›´ã€‚åœ¨ 3.2 ç‰ˆæ›´æ”¹: å·²ç§»è‡³ç‰ˆæœ¬2æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆä½¿ç”¨å­—ç¬¦ä¸²ç§å­ä¸­çš„æ‰€æœ‰ä½ã€‚</p><ul><li>random.<strong>getstate</strong>()</li></ul><p>è¿”å›æ•è·ç”Ÿæˆå™¨å½“å‰å†…éƒ¨çŠ¶æ€çš„å¯¹è±¡ã€‚ è¿™ä¸ªå¯¹è±¡å¯ä»¥ä¼ é€’ç»™ setstate() æ¥æ¢å¤çŠ¶æ€ã€‚</p><ul><li>random.<strong>setstate</strong>(state)</li></ul><p>stateåº”è¯¥æ˜¯ä»ä¹‹å‰è°ƒç”¨ getstate() è·å¾—çš„ï¼Œå¹¶ä¸” setstate() å°†ç”Ÿæˆå™¨çš„å†…éƒ¨çŠ¶æ€æ¢å¤åˆ° getstate() è¢«è°ƒç”¨æ—¶çš„çŠ¶æ€ã€‚</p><ul><li>random.<strong>getrandbits</strong>(k)</li></ul><p>è¿”å›å¸¦æœ‰ k ä½éšæœºçš„Pythonæ•´æ•°ã€‚ æ­¤æ–¹æ³•éš MersenneTwister ç”Ÿæˆå™¨ä¸€èµ·æä¾›ï¼Œå…¶ä»–ä¸€äº›ç”Ÿæˆå™¨ä¹Ÿå¯ä»¥å°†å…¶ä½œä¸ºAPIçš„å¯é€‰éƒ¨åˆ†æä¾›ã€‚ å¦‚æœå¯ç”¨ï¼Œgetrandbits() å¯ç”¨ randrange() æ¥å¤„ç†ä»»æ„å¤§èŒƒå›´ã€‚</p><h1 class=pgc-h-arrow-right>æ•´æ•°ç”¨å‡½æ•°</h1><ul><li>random.<strong>randrange</strong>(stop)</li></ul><ul><li>random.<strong>randrange</strong>(start, stop[, step])</li></ul><p>ä» range(start, stop, step) è¿”å›ä¸€ä¸ªéšæœºé€‰æ‹©çš„å…ƒç´ ã€‚ è¿™ç›¸å½“äº choice(range(start, stop, step)) ï¼Œä½†å®é™…ä¸Šå¹¶æ²¡æœ‰æ„å»ºä¸€ä¸ª range å¯¹è±¡ã€‚ä½ç½®å‚æ•°æ¨¡å¼åŒ¹é… range() ã€‚ä¸åº”ä½¿ç”¨å…³é”®å­—å‚æ•°ï¼Œå› ä¸ºè¯¥å‡½æ•°å¯èƒ½ä»¥æ„å¤–çš„æ–¹å¼ä½¿ç”¨å®ƒä»¬ã€‚åœ¨ 3.2 ç‰ˆæ›´æ”¹: randrange() åœ¨ç”Ÿæˆå‡åŒ€åˆ†å¸ƒçš„å€¼æ–¹é¢æ›´ä¸ºå¤æ‚ã€‚ ä»¥å‰å®ƒä½¿ç”¨äº†åƒ``int(random()*n)``è¿™æ ·çš„å½¢å¼ï¼Œå®ƒå¯ä»¥äº§ç”Ÿç¨å¾®ä¸å‡åŒ€çš„åˆ†å¸ƒã€‚</p><ul><li>random.<strong>randint</strong>(a, b)</li></ul><p>è¿”å›éšæœºæ•´æ•° N æ»¡è¶³ a &lt;= N &lt;= bã€‚ç›¸å½“äº randrange(a, b+1)ã€‚</p><h1 class=pgc-h-arrow-right>åºåˆ—ç”¨å‡½æ•°</h1><ul><li>random.<strong>choice</strong>(seq)</li></ul><p>ä»éç©ºåºåˆ— seq è¿”å›ä¸€ä¸ªéšæœºå…ƒç´ ã€‚ å¦‚æœ seq ä¸ºç©ºï¼Œåˆ™å¼•å‘ IndexErrorã€‚</p><ul><li>random.<strong>choices</strong>(population, weights=None, *, cum_weights=None, k=1)</li></ul><p>ä»*population*ä¸­é€‰æ‹©æ›¿æ¢ï¼Œè¿”å›å¤§å°ä¸º k çš„å…ƒç´ åˆ—è¡¨ã€‚ å¦‚æœ population ä¸ºç©ºï¼Œåˆ™å¼•å‘ IndexErrorã€‚å¦‚æœæŒ‡å®šäº† weight åºåˆ—ï¼Œåˆ™æ ¹æ®ç›¸å¯¹æƒé‡è¿›è¡Œé€‰æ‹©ã€‚ æˆ–è€…ï¼Œå¦‚æœç»™å‡º cum_weights åºåˆ—ï¼Œåˆ™æ ¹æ®ç´¯ç§¯æƒé‡ï¼ˆå¯èƒ½ä½¿ç”¨ itertools.accumulate() è®¡ç®—ï¼‰è¿›è¡Œé€‰æ‹©ã€‚ ä¾‹å¦‚ï¼Œç›¸å¯¹æƒé‡``[10, 5, 30, 5]``ç›¸å½“äºç´¯ç§¯æƒé‡``[10, 15, 45, 50]``ã€‚ åœ¨å†…éƒ¨ï¼Œç›¸å¯¹æƒé‡åœ¨è¿›è¡Œé€‰æ‹©ä¹‹å‰ä¼šè½¬æ¢ä¸ºç´¯ç§¯æƒé‡ï¼Œå› æ­¤æä¾›ç´¯ç§¯æƒé‡å¯ä»¥èŠ‚çœå·¥ä½œé‡ã€‚å¦‚æœæ—¢æœªæŒ‡å®š weight ä¹ŸæœªæŒ‡å®š cum_weights ï¼Œåˆ™ä»¥ç›¸ç­‰çš„æ¦‚ç‡è¿›è¡Œé€‰æ‹©ã€‚ å¦‚æœæä¾›äº†æƒé‡åºåˆ—ï¼Œåˆ™å®ƒå¿…é¡»ä¸ population åºåˆ—çš„é•¿åº¦ç›¸åŒã€‚ ä¸€ä¸ª TypeError æŒ‡å®šäº† weights å’Œ*cum_weights*ã€‚weights æˆ– cum_weights å¯ä»¥ä½¿ç”¨ä»»ä½•ä¸ random() è¿”å›çš„ float å€¼äº’æ“ä½œçš„æ•°å€¼ç±»å‹ï¼ˆåŒ…æ‹¬æ•´æ•°ï¼Œæµ®ç‚¹æ•°å’Œåˆ†æ•°ä½†ä¸åŒ…æ‹¬åè¿›åˆ¶å°æ•°ï¼‰ã€‚3.6 æ–°ç‰ˆåŠŸèƒ½.</p><ul><li>random.<strong>shuffle</strong>(x[, random])</li></ul><p>å°†åºåˆ— x éšæœºæ‰“ä¹±ä½ç½®ã€‚å¯é€‰å‚æ•° random æ˜¯ä¸€ä¸ª0å‚æ•°å‡½æ•°ï¼Œåœ¨ [0.0, 1.0) ä¸­è¿”å›éšæœºæµ®ç‚¹æ•°ï¼›é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™æ˜¯å‡½æ•° random() ã€‚è¦æ”¹å˜ä¸€ä¸ªä¸å¯å˜çš„åºåˆ—å¹¶è¿”å›ä¸€ä¸ªæ–°çš„æ‰“ä¹±åˆ—è¡¨ï¼Œè¯·ä½¿ç”¨``sample(x, k=len(x))``ã€‚è¯·æ³¨æ„ï¼Œå³ä½¿å¯¹äºå°çš„ len(x)ï¼Œx çš„æ’åˆ—æ€»æ•°ä¹Ÿå¯ä»¥å¿«é€Ÿå¢é•¿ï¼Œå¤§äºå¤§å¤šæ•°éšæœºæ•°ç”Ÿæˆå™¨çš„å‘¨æœŸã€‚ è¿™æ„å‘³ç€é•¿åºåˆ—çš„å¤§å¤šæ•°æ’åˆ—æ°¸è¿œä¸ä¼šäº§ç”Ÿã€‚ ä¾‹å¦‚ï¼Œé•¿åº¦ä¸º2080çš„åºåˆ—æ˜¯å¯ä»¥åœ¨ Mersenne Twister éšæœºæ•°ç”Ÿæˆå™¨çš„å‘¨æœŸå†…æ‹Ÿåˆçš„æœ€å¤§åºåˆ—ã€‚</p><ul><li>random.<strong>sample</strong>(population, k)</li></ul><p>è¿”å›ä»æ€»ä½“åºåˆ—æˆ–é›†åˆä¸­é€‰æ‹©çš„å”¯ä¸€å…ƒç´ çš„ k é•¿åº¦åˆ—è¡¨ã€‚ ç”¨äºæ— é‡å¤çš„éšæœºæŠ½æ ·ã€‚è¿”å›åŒ…å«æ¥è‡ªæ€»ä½“çš„å…ƒç´ çš„æ–°åˆ—è¡¨ï¼ŒåŒæ—¶ä¿æŒåŸå§‹æ€»ä½“ä¸å˜ã€‚ ç»“æœåˆ—è¡¨æŒ‰é€‰æ‹©é¡ºåºæ’åˆ—ï¼Œå› æ­¤æ‰€æœ‰å­åˆ‡ç‰‡ä¹Ÿå°†æ˜¯æœ‰æ•ˆçš„éšæœºæ ·æœ¬ã€‚ è¿™å…è®¸æŠ½å¥–è·å¥–è€…ï¼ˆæ ·æœ¬ï¼‰è¢«åˆ’åˆ†ä¸ºå¤§å¥–å’Œç¬¬äºŒåè·èƒœè€…ï¼ˆå­åˆ‡ç‰‡ï¼‰ã€‚æ€»ä½“æˆå‘˜ä¸å¿…æ˜¯ hashable æˆ– unique ã€‚ å¦‚æœæ€»ä½“åŒ…å«é‡å¤ï¼Œåˆ™æ¯æ¬¡å‡ºç°éƒ½æ˜¯æ ·æœ¬ä¸­å¯èƒ½çš„é€‰æ‹©ã€‚è¦ä»ä¸€ç³»åˆ—æ•´æ•°ä¸­é€‰æ‹©æ ·æœ¬ï¼Œè¯·ä½¿ç”¨ range() å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚ å¯¹äºä»å¤§é‡äººç¾¤ä¸­é‡‡æ ·ï¼Œè¿™ç§æ–¹æ³•ç‰¹åˆ«å¿«é€Ÿä¸”èŠ‚çœç©ºé—´ï¼šsample(range(10000000), k=60) ã€‚å¦‚æœæ ·æœ¬å¤§å°å¤§äºæ€»ä½“å¤§å°ï¼Œåˆ™å¼•å‘ ValueError ã€‚</p><h1 class=pgc-h-arrow-right>å®å€¼åˆ†å¸ƒ</h1><p>ä»¥ä¸‹å‡½æ•°ç”Ÿæˆç‰¹å®šçš„å®å€¼åˆ†å¸ƒã€‚å¦‚å¸¸ç”¨æ•°å­¦å®è·µä¸­æ‰€ä½¿ç”¨çš„é‚£æ ·, å‡½æ•°å‚æ•°ä»¥åˆ†å¸ƒæ–¹ç¨‹ä¸­çš„ç›¸åº”å˜é‡å‘½å;å¤§å¤šæ•°è¿™äº›æ–¹ç¨‹éƒ½å¯ä»¥åœ¨ä»»ä½•ç»Ÿè®¡å­¦æ•™æä¸­æ‰¾åˆ°ã€‚</p><ul><li>random.<strong>random</strong>()</li></ul><p>è¿”å› [0.0, 1.0) èŒƒå›´å†…çš„ä¸‹ä¸€ä¸ªéšæœºæµ®ç‚¹æ•°ã€‚</p><ul><li>random.<strong>uniform</strong>(a, b)</li></ul><p>è¿”å›ä¸€ä¸ªéšæœºæµ®ç‚¹æ•° N ï¼Œå½“ a &lt;= b æ—¶ a &lt;= N &lt;= b ï¼Œå½“ b &lt; a æ—¶ b &lt;= N &lt;= a ã€‚å–å†³äºç­‰å¼ a + (b-a) * random() ä¸­çš„æµ®ç‚¹èˆå…¥ï¼Œç»ˆç‚¹ b å¯ä»¥åŒ…æ‹¬æˆ–ä¸åŒ…æ‹¬åœ¨è¯¥èŒƒå›´å†…ã€‚</p><ul><li>random.<strong>triangular</strong>(low, high, mode)</li></ul><p>è¿”å›ä¸€ä¸ªéšæœºæµ®ç‚¹æ•° N ï¼Œä½¿å¾— low &lt;= N &lt;= high å¹¶åœ¨è¿™äº›è¾¹ç•Œä¹‹é—´ä½¿ç”¨æŒ‡å®šçš„ mode ã€‚ low å’Œ high è¾¹ç•Œé»˜è®¤ä¸ºé›¶å’Œä¸€ã€‚ mode å‚æ•°é»˜è®¤ä¸ºè¾¹ç•Œä¹‹é—´çš„ä¸­ç‚¹ï¼Œç»™å‡ºå¯¹ç§°åˆ†å¸ƒã€‚</p><ul><li>random.<strong>betavariate</strong>(alpha, beta)</li></ul><p>Beta åˆ†å¸ƒã€‚ å‚æ•°çš„æ¡ä»¶æ˜¯ alpha > 0 å’Œ beta > 0ã€‚ è¿”å›å€¼çš„èŒƒå›´ä»‹äº 0 å’Œ 1 ä¹‹é—´ã€‚</p><ul><li>random.<strong>expovariate</strong>(lambd)</li></ul><p>æŒ‡æ•°åˆ†å¸ƒã€‚ lambd æ˜¯ 1.0 é™¤ä»¥æ‰€éœ€çš„å¹³å‡å€¼ï¼Œå®ƒåº”è¯¥æ˜¯éé›¶çš„ã€‚ ï¼ˆè¯¥å‚æ•°æœ¬åº”å‘½åä¸º â€œlambdaâ€ ï¼Œä½†è¿™æ˜¯ Python ä¸­çš„ä¿ç•™å­—ã€‚ï¼‰å¦‚æœ lambd ä¸ºæ­£ï¼Œåˆ™è¿”å›å€¼çš„èŒƒå›´ä¸º 0 åˆ°æ­£æ— ç©·å¤§ï¼›å¦‚æœ lambd ä¸ºè´Ÿï¼Œåˆ™è¿”å›å€¼ä»è´Ÿæ— ç©·å¤§åˆ° 0ã€‚</p><ul><li>random.<strong>gammavariate</strong>(alpha, beta)</li></ul><p>Gamma åˆ†å¸ƒã€‚ ï¼ˆ ä¸æ˜¯ gamma å‡½æ•°ï¼ ï¼‰ å‚æ•°çš„æ¡ä»¶æ˜¯ alpha > 0 å’Œ beta > 0ã€‚æ¦‚ç‡åˆ†å¸ƒå‡½æ•°æ˜¯:</p><pre><code>x ** (alpha - 1) * math.exp(-x / beta) pdf(x) =&nbsp; -------------------------------------- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; math.gamma(alpha) * beta ** alpha</code></pre><ul><li>random.<strong>gauss</strong>(mu, sigma)</li></ul><p>é«˜æ–¯åˆ†å¸ƒã€‚ mu æ˜¯å¹³å‡å€¼ï¼Œsigma æ˜¯æ ‡å‡†å·®ã€‚ è¿™æ¯”ä¸‹é¢å®šä¹‰çš„ normalvariate() å‡½æ•°ç•¥å¿«ã€‚</p><ul><li>random.<strong>lognormvariate</strong>(mu, sigma)</li></ul><p>å¯¹æ•°æ­£æ€åˆ†å¸ƒã€‚ å¦‚æœä½ é‡‡ç”¨è¿™ä¸ªåˆ†å¸ƒçš„è‡ªç„¶å¯¹æ•°ï¼Œä½ å°†å¾—åˆ°ä¸€ä¸ªæ­£æ€åˆ†å¸ƒï¼Œå¹³å‡å€¼ä¸º mu å’Œæ ‡å‡†å·®ä¸º sigma ã€‚ mu å¯ä»¥æ˜¯ä»»ä½•å€¼ï¼Œsigma å¿…é¡»å¤§äºé›¶ã€‚</p><ul><li>random.<strong>normalvariate</strong>(mu, sigma)</li></ul><p>æ­£æ€åˆ†å¸ƒã€‚ mu æ˜¯å¹³å‡å€¼ï¼Œsigma æ˜¯æ ‡å‡†å·®ã€‚</p><ul><li>random.<strong>vonmisesvariate</strong>(mu, kappa)</li></ul><p>å†¯Â·ç±³å¡æ–¯ï¼ˆvon Misesï¼‰åˆ†å¸ƒã€‚ mu æ˜¯å¹³å‡è§’åº¦ï¼Œä»¥å¼§åº¦è¡¨ç¤ºï¼Œä»‹äº0å’Œ 2*pi ä¹‹é—´ï¼Œkappa æ˜¯æµ“åº¦å‚æ•°ï¼Œå¿…é¡»å¤§äºæˆ–ç­‰äºé›¶ã€‚ å¦‚æœ kappa ç­‰äºé›¶ï¼Œåˆ™è¯¥åˆ†å¸ƒåœ¨ 0 åˆ° 2*pi çš„èŒƒå›´å†…å‡å°åˆ°å‡åŒ€çš„éšæœºè§’åº¦ã€‚</p><ul><li>random.<strong>paretovariate</strong>(alpha)</li></ul><p>å¸•ç´¯æ‰˜åˆ†å¸ƒã€‚ alpha æ˜¯å½¢çŠ¶å‚æ•°ã€‚</p><ul><li>random.<strong>weibullvariate</strong>(alpha, beta)</li></ul><p>å¨å¸ƒå°”åˆ†å¸ƒã€‚ alpha æ˜¯æ¯”ä¾‹å‚æ•°ï¼Œbeta æ˜¯å½¢çŠ¶å‚æ•°ã€‚</p><h1 class=pgc-h-arrow-right>æ›¿ä»£ç”Ÿæˆå™¨</h1><ul><li>class random.<strong>SystemRandom</strong>([seed])</li></ul><p>ä½¿ç”¨ os.urandom() å‡½æ•°çš„ç±»ï¼Œç”¨ä»æ“ä½œç³»ç»Ÿæä¾›çš„æºç”Ÿæˆéšæœºæ•°ã€‚ è¿™å¹¶éé€‚ç”¨äºæ‰€æœ‰ç³»ç»Ÿã€‚ ä¹Ÿä¸ä¾èµ–äºè½¯ä»¶çŠ¶æ€ï¼Œåºåˆ—ä¸å¯é‡ç°ã€‚ å› æ­¤ï¼Œseed() æ–¹æ³•æ²¡æœ‰æ•ˆæœè€Œè¢«å¿½ç•¥ã€‚ getstate() å’Œ setstate() æ–¹æ³•å¦‚æœè¢«è°ƒç”¨åˆ™å¼•å‘ NotImplementedErrorã€‚</p><h1 class=pgc-h-arrow-right>å…³äºå†ç°æ€§çš„è¯´æ˜</h1><p>æœ‰æ—¶èƒ½å¤Ÿé‡ç°ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ç»™å‡ºçš„åºåˆ—æ˜¯æœ‰ç”¨çš„ã€‚ é€šè¿‡é‡æ–°ä½¿ç”¨ç§å­å€¼ï¼Œåªè¦å¤šä¸ªçº¿ç¨‹æ²¡æœ‰è¿è¡Œï¼Œç›¸åŒçš„åºåˆ—å°±å¯ä»¥åœ¨ä¸¤æ¬¡ä¸åŒè¿è¡Œä¹‹é—´é‡ç°ã€‚</p><p>å¤§å¤šæ•°éšæœºæ¨¡å—çš„ç®—æ³•å’Œç§å­å‡½æ•°éƒ½ä¼šåœ¨ Python ç‰ˆæœ¬ä¸­å‘ç”Ÿå˜åŒ–ï¼Œä½†ä¿è¯ä¸¤ä¸ªæ–¹é¢ä¸ä¼šæ”¹å˜ï¼š</p><ul><li>å¦‚æœæ·»åŠ äº†æ–°çš„æ’­ç§æ–¹æ³•ï¼Œåˆ™å°†æä¾›å‘åå…¼å®¹çš„æ’­ç§æœºã€‚</li><li>å½“å…¼å®¹çš„æ’­ç§æœºè¢«èµ‹äºˆç›¸åŒçš„ç§å­æ—¶ï¼Œç”Ÿæˆå™¨çš„ random() æ–¹æ³•å°†ç»§ç»­äº§ç”Ÿç›¸åŒçš„åºåˆ—ã€‚</li></ul><h1 class=pgc-h-arrow-right>ä¾‹å­å’Œé…æ–¹</h1><p>åŸºæœ¬ç¤ºä¾‹:</p><pre><code>&gt;&gt;&gt; random()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Random float:&nbsp; 0.0 &lt;= x &lt; 1.00.37444887175646646&gt;&gt;&gt; uniform(2.5, 10.0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Random float:&nbsp; 2.5 &lt;= x &lt; 10.03.1800146073117523&gt;&gt;&gt; expovariate(1 / 5)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Interval between arrivals averaging 5 seconds5.148957571865031&gt;&gt;&gt; randrange(10)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Integer from 0 to 9 inclusive7&gt;&gt;&gt; randrange(0, 101, 2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Even integer from 0 to 100 inclusive26&gt;&gt;&gt; choice([&#39;win&#39;, &#39;lose&#39;, &#39;draw&#39;])&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Single random element from a sequence&#39;draw&#39;&gt;&gt;&gt; deck = &#39;ace two three four&#39;.split()&gt;&gt;&gt; shuffle(deck)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Shuffle a list&gt;&gt;&gt; deck[&#39;four&#39;, &#39;two&#39;, &#39;ace&#39;, &#39;three&#39;]&gt;&gt;&gt; sample([10, 20, 30, 40, 50], k=4)&nbsp;&nbsp;&nbsp; # Four samples without replacement[40, 10, 50, 30]æ¨¡æ‹Ÿ:&gt;&gt;&gt; # Six roulette wheel spins (weighted sampling with replacement)&gt;&gt;&gt; choices([&#39;red&#39;, &#39;black&#39;, &#39;green&#39;], [18, 18, 2], k=6)[&#39;red&#39;, &#39;green&#39;, &#39;black&#39;, &#39;black&#39;, &#39;red&#39;, &#39;black&#39;]&gt;&gt;&gt; # Deal 20 cards without replacement from a deck of 52 playing cards&gt;&gt;&gt; # and determine the proportion of cards with a ten-value&gt;&gt;&gt; # (a ten, jack, queen, or king).&gt;&gt;&gt; deck = collections.Counter(tens=16, low_cards=36)&gt;&gt;&gt; seen = sample(list(deck.elements()), k=20)&gt;&gt;&gt; seen.count(&#39;tens&#39;) / 200.15&gt;&gt;&gt; # Estimate the probability of getting 5 or more heads from 7 spins&gt;&gt;&gt; # of a biased coin that settles on heads 60% of the time.&gt;&gt;&gt; trial = lambda: choices(&#39;HT&#39;, cum_weights=(0.60, 1.00), k=7).count(&#39;H&#39;) &gt;= 5&gt;&gt;&gt; sum(trial() for i in range(10000)) / 100000.4169&gt;&gt;&gt; # Probability of the median of 5 samples being in middle two quartiles&gt;&gt;&gt; trial = lambda : 2500 &lt;= sorted(choices(range(10000), k=5))[2]&nbsp; &lt; 7500&gt;&gt;&gt; sum(trial() for i in range(10000)) / 100000.7958</code></pre><p>statistical bootstrapping ä½¿ç”¨é‡é‡‡æ ·å’Œæ›¿æ¢æ¥ä¼°è®¡å¤§å°ä¸ºäº”çš„æ ·æœ¬çš„å‡å€¼çš„ç½®ä¿¡åŒºé—´çš„ç¤ºä¾‹:</p><pre><code># http://statistics.about.com/od/Applications/a/Example-Of-Bootstrapping.htmfrom statistics import meanfrom random import choicesdata = 1, 2, 4, 4, 10means = sorted(mean(choices(data, k=5)) for i in range(20))print(f&#39;The sample mean of {mean(data):.1f} has a 90% confidence &#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; f&#39;interval from {means[1]:.1f} to {means[-2]:.1f}&#39;)</code></pre><p>ä½¿ç”¨ é‡æ–°é‡‡æ ·æ’åˆ—æµ‹è¯• æ¥ç¡®å®šç»Ÿè®¡å­¦æ˜¾è‘—æ€§æˆ–è€…ä½¿ç”¨ p-å€¼ æ¥è§‚å¯Ÿè¯ç‰©ä¸å®‰æ…°å‰‚çš„ä½œç”¨ä¹‹é—´å·®å¼‚çš„ç¤ºä¾‹:</p><pre><code># Example from &#34;Statistics is Easy&#34; by Dennis Shasha and Manda Wilsonfrom statistics import meanfrom random import shuffledrug = [54, 73, 53, 70, 73, 68, 52, 65, 65]placebo = [54, 51, 58, 44, 55, 52, 42, 47, 58, 46]observed_diff = mean(drug) - mean(placebo)n = 10000count = 0combined = drug + placebofor i in range(n):&nbsp;&nbsp;&nbsp; shuffle(combined)&nbsp;&nbsp;&nbsp; new_diff = mean(combined[:len(drug)]) - mean(combined[len(drug):])&nbsp;&nbsp;&nbsp; count += (new_diff &gt;= observed_diff)print(f&#39;{n} label reshufflings produced only {count} instances with a difference&#39;)print(f&#39;at least as extreme as the observed difference of {observed_diff:.1f}.&#39;)print(f&#39;The one-sided p-value of {count / n:.4f} leads us to reject the null&#39;)print(f&#39;hypothesis that there is no difference between the drug and the placebo.&#39;)</code></pre><p>æ¨¡æ‹Ÿå•ä¸ªæœåŠ¡å™¨é˜Ÿåˆ—ä¸­çš„åˆ°è¾¾æ—¶é—´å’ŒæœåŠ¡äº¤ä»˜:</p><pre><code>from random import expovariate, gaussfrom statistics import mean, median, stdevaverage_arrival_interval = 5.6average_service_time = 5.0stdev_service_time = 0.5num_waiting = 0arrivals = []starts = []arrival = service_end = 0.0for i in range(20000):&nbsp;&nbsp;&nbsp; if arrival &lt;= service_end:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_waiting += 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arrival += expovariate(1.0 / average_arrival_interval)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arrivals.append(arrival)&nbsp;&nbsp;&nbsp; else:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_waiting -= 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; service_start = service_end if num_waiting else arrival&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; service_time = gauss(average_service_time, stdev_service_time)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; service_end = service_start + service_time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; starts.append(service_start)waits = [start - arrival for arrival, start in zip(arrivals, starts)]print(f&#39;Mean wait: {mean(waits):.1f}.&nbsp; Stdev wait: {stdev(waits):.1f}.&#39;)print(f&#39;Median wait: {median(waits):.1f}.&nbsp; Max wait: {max(waits):.1f}.&#39;)</code></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'python3','é›¶å­¦ä¹ ','5.3'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/2346a233.html alt=python3ä»é›¶å­¦ä¹ -5.3.3ã€åè¿›åˆ¶å®šç‚¹å’Œæµ®ç‚¹è¿ç®—decimal class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/2346a233.html title=python3ä»é›¶å­¦ä¹ -5.3.3ã€åè¿›åˆ¶å®šç‚¹å’Œæµ®ç‚¹è¿ç®—decimal>python3ä»é›¶å­¦ä¹ -5.3.3ã€åè¿›åˆ¶å®šç‚¹å’Œæµ®ç‚¹è¿ç®—decimal</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>