<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>密钥繁多难记难管理？认识高效密钥管理体系 | 极客快訊</title><meta property="og:title" content="密钥繁多难记难管理？认识高效密钥管理体系 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/RivR6n1AU5yy8h"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3e285bff.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3e285bff.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3e285bff.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3e285bff.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3e285bff.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3e285bff.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3e285bff.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3e285bff.html><meta property="article:published_time" content="2020-11-14T21:01:11+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:11+08:00"><meta name=Keywords content><meta name=description content="密钥繁多难记难管理？认识高效密钥管理体系"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/3e285bff.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>密钥繁多难记难管理？认识高效密钥管理体系</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><img alt=密钥繁多难记难管理？认识高效密钥管理体系 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RivR6n1AU5yy8h><blockquote><p>免责声明：本文旨在传递更多市场信息，不构成任何投资建议。文章仅代表作者观点，不代表火星财经官方立场。</p></blockquote><p>小编：记得关注哦</p><p>来源：微众银行区块链</p><img alt=密钥繁多难记难管理？认识高效密钥管理体系 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/Rwyt8QWFxZYCZd><img alt=密钥繁多难记难管理？认识高效密钥管理体系 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RvkFaM4HxWRFw9><p>密钥设置是否只要够安全就能够重复使用？定期修改密钥到底有没有必要？密钥不幸遗失该如何恢复？素未谋面的双方，如何才能安全地进行密钥协商？</p><p>上一论我们了解到，基于密码学的隐私保护方案，其有效性很大程度上取决于能否有效管理好密钥。这里，我们将进一步分析密钥管理的具体范畴、每个操作环节的典型风险，以及应对手段。</p><p>密钥管理的对象是密钥本身或者用于生成密钥的密钥材料（常称之为<strong>根密钥</strong>），三类主要操作环节包括密钥的使用、保存和协商。</p><p>鉴于人类用户（以下简称用户）和计算机系统在自身能力上的差异，需要使用不同技术手段和治理手段来实现有效的密钥管理，以下将对三类操作环节一一展开分析。</p><p><strong>密钥的使用</strong></p><p>密钥的使用是指，用户基于根密钥，为不同业务操作生成实际使用的密钥的过程。这一过程不仅仅包括，直接使用预先设定好的密钥，如输入用户记忆中的用户口令，还包括使用经过一定变换后的密钥。其主要风险是密钥泄露导致的非授权使用，可能会造成以下后果：</p><ul><li>由该密钥加密的隐私数据泄露。特别是当所有历史隐私数据都只用一个密钥加密时，攻击者将有可能获得所有历史隐私数据明文。</li><li><p>使用该密钥通过身份验证入侵系统。不只是数据，攻击者可以获得用户所有的操作特权，例如，恶意修改系统访问控制参数、使用具有法律效应的数字证书对未授权的内容进行数字签名等。</p></li></ul><p>针对这些在密钥使用环节的风险，核心的应对手段为<strong>密钥轮转</strong>，即每隔一定时间，生成一个新的密钥。</p><p>对于计算机系统，一般可以轻易生成新的随机密钥。新密钥与旧密钥可以没有任何关联，其有效期限和密钥本身都将保存在高安全级别的存储介质中，以此最小化密钥暴露的风险。</p><p>然而，以上方案对于用户而言，可用性不高。</p><p>对用户来说，生成一个安全的新密钥，且能够记住和使用它，已经不是一件容易的事。如果再进一步要求用户记忆多个超长、随机、无关联的密钥，那用户很有可能被迫“变通”，使用不安全的手段，例如将密钥全部写在纸上、未受保护的手机APP里。</p><p>如何让用户只记忆一个密钥，还能实现有效的密钥轮转，这里可以用到的关键技术是密钥派生函数（Key Derivation Function, KDF）。</p><p>KDF具有两个核心功能：</p><ul><li>将一个短的用户口令延长到一个满足安全密钥长度的密钥。</li><li><p>由一个根密钥生成多个满足安全密钥长度的密钥。</p></li></ul><p>典型的KDF，如IETF RFC 2898标准中的PBKDF2函数，可以表达成如下形式：</p><p>DerivedKey = PBKDF2(PRF, Password, Salt, IterationCount, DerivedKeyLength)</p><p>其中：</p><ul><li>PRF是一个随机数生成函数，负责在运算过程中生成一系列随机数。</li><li>Password是用户口令。</li><li>Salt是为了防止批量穷举攻击而设置的盐值，其作用等价于用户专属的随机种子。</li><li>IterationCount是生成派生密钥时所需迭代计算的次数，可以通过刻意增加迭代计算的次数，加大攻击者穷举攻击的难度。</li><li><p>DerivedKeyLength是派生密钥的长度，一般比用户口令长很多。</p></li></ul><p>PBKDF2函数的五个输入中，用户只需要记忆用户口令Password，其他都可以由辅助的计算机系统来计算完成。用户口令可以根据用户的偏好设置，不影响用户体验。同时只要用户口令够长，安全性风险一般都比较可控。</p><p>除了PBKDF2之外，BIP-32标准中Hierarchical Deterministic 密钥钱包设计的核心也是KDF。区别在于BIP-32为椭圆曲线公钥密码学算法提供了特有的密钥派生规则，实现了子密钥树形扩展和中间节点公钥托管扩展，有兴趣的读者可以深入了解一下。</p><p>KDF技术上实现了密钥轮转，在治理上也有必要采取一定的措施，进一步降低密钥使用时的风险。常见治理策略主要覆盖了两大方面的风险：</p><ul><li>密钥的最短长度和最低复杂性：密钥长度不能太短，不能被常见的字典库轻易破解。</li><li><p>密钥的复用：建议定期更改密钥，且不能复用历史密钥。对于计算机系统，可以进一步要求为不同的系统用途设置不同的密钥。</p></li></ul><p>关于第一条治理策略，业界一般都没有什么异议，但对于第二条中，用户需定期更改密钥的建议，近年来也有一些不同观点。</p><p>实践中往往发现，为了方便记忆，不少用户采用了不安全的变通方式，选用了有强关联的一组用户口令。例如，2019年使用的旧口令为“password2019”，2020年使用的新口令为“password2020”，一旦旧口令泄露，也很容易推断出新口令。</p><p>反之，如果告知用户不需要定期更改口令，用户在心理上反而更有动力去设置一个更为复杂的口令。所以，实施定期更改用户口令的策略，不一定更安全。</p><p>除了以上治理策略，为了控制内部人员滥用密钥的风险，也很有必要将密钥的控制权分派到多个职能上相互约束的相关人员手中，只有当所有相关人员都同意使用时，才能正常使用，其背后的技术原理将在下一环节中提及。</p><p><strong>密钥的保存</strong></p><p>密钥的保存是指，用户将密钥保存在存储介质中，并在特定的情况下，从存储介质恢复出之前保存的密钥。</p><p>其主要的风险是因保存不当导致密钥泄露或遗失，除了上一环节中提到的后果之外，可能会额外造成以下后果：</p><ul><li>由该密钥加密的隐私数据无法被解密。</li><li><p>由该密钥保护的权益无法被兑现。</p></li></ul><p>针对这些在密钥保存环节的风险，核心的应对手段为<strong>物理隔离</strong>和<strong>密钥分片</strong>。</p><p>前者指的是，密钥保存的环境应该是一个与恶意环境隔离的安全环境。后者指的是，密钥保存时不应该整存整取，而是进行分片，由多个信任方分别保存，必要时还需要实现多地容灾恢复。</p><p>对于计算机系统，安全硬件模块和高物理安全的服务器房间是实现物理隔离常见的手段，必要时，保存密钥的设备可以一直保持离线状态，杜绝意料之外的非授权访问。</p><p>对于密钥分片，可以使用密码学秘密分享算法来实现。最常用的密码学秘密分享算法是Shamir秘密分享算法，由以色列密码学家Adi Shamir在其1979年的论文『How to share a secret』中提出。</p><p>Shamir秘密分享算法的核心思想是，将密钥的值设为一个N阶随机多项式中的常量参数，然后在该随机多项式上随机选M个点的座标，这些座标就是关于密钥的分片。</p><p>这些分片具有以下特性：</p><ul><li>如果攻击者获得分片总数小于N，攻击者无法获得任意关于密钥的信息。</li><li><p>如果所有可能的分片总数M大于N，通过其中任意N个分片，使用拉格朗日多项式插值算法恢复出随机多项式之后，便可有效地恢复出密钥。</p></li></ul><p>相比计算机系统，用户对于前一项物理隔离的要求可能更容易实现。相比读取存储介质中的数据，在未进行威逼利诱的前提下，用技术手段直接提取用户记忆中的口令目前要困难得多。</p><p>但对于第二项密钥分片的要求，则需要配合各类托管技术，使用计算机辅助手段生成和保存高安全性的密钥分片。具体的技术分类和比较，可以参考上一论密钥托管相关内容。</p><p>无论采用哪一种技术，一般情况下，用户最少需要记忆一个用户口令。但如同房门钥匙一样，遗忘用户口令并不罕见，尤其是在账户数目和相关口令总数繁多的情况下。</p><p>如果服务提供商提供有效的重设服务，相比将用户口令全部写在纸上或手机APP里，通过该服务重设用户口令，泄露风险可能更低。</p><p><strong>密钥的协商</strong></p><p>密钥的协商是指，多个用户或系统远程协商即将在交互过程中所使用的密钥。</p><p>作为社会性生物，和陌生人交换信息，是人类生活中必不可少的组成部分。在当前数据驱动的时代，计算机系统通过跨域交换信息实现更大的价值发掘，是现代信息化商业核心业务模式之一。</p><p>在这些信息交换过程中，最典型的应用之一是隐私数据的端到端加密传输，为此需要生成<strong>一次性密钥</strong>对信息进行加密保护。在缺乏可信信道的前提下，能否与交互方安全地完成密钥协商，对于隐私数据的保护尤为关键。</p><p>其主要的风险是恶意通信环境中的密钥截取或篡改，除了密钥使用环节中提到的后果之外，可能会额外造成以下后果：</p><ul><li>由该密钥保护的隐私数据被篡改。例如，金融交易中的收款人、付款金额。</li><li><p>由该密钥保护的其他密钥泄露。例如，通过加密信道传输的后续协议中所约定使用的密钥。</p></li></ul><p>针对这些在密钥协商环节的风险，核心的应对手段为<strong>认证交换</strong>和<strong>认证分发</strong>。</p><p>对于计算机系统，根据业务场景和部署环境安全假设的不同，认证密钥交换的协议有很多不同的类型，最常用的是基于公钥证书体系和Diffie-Hellman密钥交换协议。</p><p>关于认证密钥分发，经典密码学相关方案有基于公钥证书体系的密钥封装（Key Encapsulation Mechanism, KEM）、基于可信中间代理和代理重加密（Proxy Re-Encryption）的密钥密文转换等。比较创新的技术方案包括在第6论中提到的基于量子纠缠理论的量子密钥分发技术，我国的墨子号量子科学实验卫星已经实现了千公里级星地双向量子纠缠分发原型实验。</p><p>在技术手段的协助下，用户往往对于密钥协商是无感的。例如，我们在使用浏览器时，通常不会意识到，对不同的网站建立安全连接时，会根据不同网站的不同数字证书，进行密钥的认证交换，并最终使用不同的一次性密钥与不同的网站通信。</p><p>但用户也需要警惕，核实认证的有效性。一旦数字证书失窃或者过期，攻击者就有机会假扮服务提供方，截获用户的隐私数据，篡改用户的操作请求，实施经典的中间人攻击。</p><p><strong>密钥管理的三大环节中，存在着大量的风险点。由于密钥是密码学中的最高机密，窃取密钥往往是攻击者的首要目标。任何一个环节出现问题，对应隐私保护方案的整体有效性，都会受到严重影响。</strong></p><p>本论的分享主要关注技术方案和治理策略层面（参见以下总结表），在实际方案部署时，工程实现和其他相关层面的保护也很关键，会需要更完备的组合策略，从多个维度上提供层次化的保障。</p><p><strong>正是：密钥管理谨小慎破解，技术治理合璧显神功！</strong></p><p>有效的密钥管理是使用基于密码学的隐私保护方案的重要前提。无论隐私保护方案内部设计多么精妙，任何在密钥使用、保存、协商环节中出现的疏漏，都会使之功亏一篑。</p><p>除了传统的安全性分析，针对用户的可用性分析也至关重要。在实际隐私保护应用中，高于常规人类认知记忆能力的要求，都会促使用户使用不安全的变通手段，导致最终效果大打折扣。</p><p>有效的密钥管理需要在多个维度上融合技术方案和治理策略，同时实现安全性和可用性之间的平衡和优化。</p><p>了解完密钥相关的重要原则和管理技术，自下一论开始，我们将分享在实际的密码学算法中如何使用这些密钥，深入解析隐私保护相关的密码学原语，欲知详情，敬请关注下文分解。</p><p><strong>《隐私保护周三见》</strong></p><p>“科技聚焦人性，隐私回归属主”，这是微众银行区块链团队推出《隐私保护周三见》深度栏目的愿景与初衷。每周三晚8点，专家团队将透过栏目和各位一起探寻隐私保护的发展之道。</p><p>栏目内容含括以下五大模块：关键概念、法律法规、理论基础、技术剖析和案例分享，如您有好的建议或者想学习的内容，欢迎随时提出。</p><p>栏目支持单位：零壹财经、陀螺财经、巴比特、火讯财经、火星财经、价值在线、链客社区</p><p><strong>往期集锦</strong></p><p>第1论｜隐私和效用不可兼得？隐私保护开辟商业新境地</p><p>第2论｜隐私合规风险知几何？数据合规商用需过九重关第3论｜密码学技术何以为信？深究背后的计算困难性理论</p><p>第4论｜密码学技术如何选型？初探理论能力边界的安全模型</p><p>第5论｜密码学技术如何选型？再探工程能力边界的安全模型第6论｜密码学技术如何选型？终探量子计算通信的安全模型</p><p>第7论｜密码密钥傻傻分不清？认识密码学中的最高机密</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'密钥','难记','认识'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>