<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>高级数据链路控制协议-HDLC | 极客快訊</title><meta property="og:title" content="高级数据链路控制协议-HDLC - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/84eeef335a874e5189b605261c879f87"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3f93ef5.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3f93ef5.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3f93ef5.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3f93ef5.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3f93ef5.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3f93ef5.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3f93ef5.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3f93ef5.html><meta property="article:published_time" content="2020-10-29T21:06:38+08:00"><meta property="article:modified_time" content="2020-10-29T21:06:38+08:00"><meta name=Keywords content><meta name=description content="高级数据链路控制协议-HDLC"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/3f93ef5.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>高级数据链路控制协议-HDLC</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong><span style="color:#494949;--tt-darkmode-color: #9D9D9D">一、HDLC简介</span></strong></p><p style=text-align:start><strong><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></strong></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">High-level Data Link Control,高级数据链路控制，简称HDLC,是一种面向比特的链路层协议。使用点到点链路连接，P2P 链路。如下图：</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><div class=pgc-img><img alt=高级数据链路控制协议-HDLC onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/84eeef335a874e5189b605261c879f87><p class=pgc-img-caption></p></div><p style=text-align:center><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">HDLC 支持点到点连接，在这个网络中不是我，就是你，我通过这个链路把包发出来 就算不指定任何地址信息，也一定是我对端的接口去接收，我发送帧肯定是你接收，你发送肯定是我接收。中间没有任何第三个节点，所以在封装 HDLC 帧的时候，不要封装 SD 地址。</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">下面我们来看看HDLC 帧结构：</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><div class=pgc-img><img alt=高级数据链路控制协议-HDLC onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/72262c36113444b3bac65091a1cccdd4><p class=pgc-img-caption></p></div><p style=text-align:center><strong><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></strong></p><p style=text-align:start><strong><span style="color:#494949;--tt-darkmode-color: #9D9D9D">HDLC有三种帧：信息帧、监控帧、无编号帧。</span></strong></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">Flag ：第一字节和最后一个字节是用来同步字段</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">Address：地址字段，只有一个地址。0X0F</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">Control：控制字段，</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">I：信息帧 发送一些正常数据的，最高位为 0</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">S：监控帧 流控和差错控制 最高位为 1 0</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">U：无编号帧 建立 维护 拆除链路的 最高位为 1 1</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">Information：数据字段</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">Cisco 压缩只支持 compress stac 压缩数据从而增加带宽，增加网络可用性。</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><p style=text-align:start><strong><span style="color:#494949;--tt-darkmode-color: #9D9D9D">二、HDLC的基础配置：</span></strong></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><div class=pgc-img><img alt=高级数据链路控制协议-HDLC onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/0f79fc7850f34d92bbe849babce2eb67><p class=pgc-img-caption></p></div><p style=text-align:start><br></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">华为默认连接 serial 线缆是启用的 PPP 协议，Cisco 连接 serial 线缆，默认是 HDLC，encapsulation hdlc 可以敲命令开启，添加一个地址就可以了。</span></p><p style=text-align:start><br></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">三、HDLC接口地址借用</span></p><div class=pgc-img><img alt=高级数据链路控制协议-HDLC onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/566d19fa91a74b61980935497748098c><p class=pgc-img-caption></p></div><p style=text-align:start><br></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">可以在 router 起一个环回口，在环回口起一个地址，通过 serial 和环回口拥有相同的 IP 地址。如果接口是借用的，那么这个 serial 接口是没有直连理由的。需要写静态，一般不使用这个配置。</span></p><p style=text-align:start><br></p><p style=text-align:start><strong><span style="color:#494949;--tt-darkmode-color: #9D9D9D">四、配置实验</span></strong></p><p style=text-align:start><br></p><ol start=1><li><strong><span style="color:#494949;--tt-darkmode-color: #9D9D9D">思科实验</span></strong></li></ol><div class=pgc-img><img alt=高级数据链路控制协议-HDLC onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5253950366f74bf288f2208240a656b9><p class=pgc-img-caption></p></div><p style=text-align:center><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">进入接口配置同网段 IP no shutdown 开启接口，因为 Cisco 默认是 HDLC，</span></p><p style=text-align:center><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><div class=pgc-img><img alt=高级数据链路控制协议-HDLC onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/7f8b95e050104495aecfc143ec79a5a9><p class=pgc-img-caption></p></div><p style=text-align:center><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><div class=pgc-img><img alt=高级数据链路控制协议-HDLC onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6596697799cc4e6daf9fde03ef2ab6ce><p class=pgc-img-caption></p></div><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">可以使用进入接口 encapsulation hdlc 去修改</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><div class=pgc-img><img alt=高级数据链路控制协议-HDLC onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b49201e9f283477da978c0de18ae1bbe><p class=pgc-img-caption></p></div><p style=text-align:center><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">可以看到 R1 的一端为 DCE。</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D"></span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">2.华为实验</span></p><div class=pgc-img><img alt=高级数据链路控制协议-HDLC onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/889a9d4903b847aa9dbc5d84c794df96><p class=pgc-img-caption></p></div><p style=text-align:center><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">Huawei 默认是 PPP 协议 配置 IP 地址 启用 HDLC 可以平通 模拟器默认两端都是 DTE</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><div class=pgc-img><img alt=高级数据链路控制协议-HDLC onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/74f1d6be364e464d989f5515e7b326c1><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=高级数据链路控制协议-HDLC onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e712b6947aef40a18a879a9d115668f0><p class=pgc-img-caption></p></div><p style=text-align:center><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">[AR1]int s1/0/0</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">[AR1-Serial1/0/0]link-protocol hdlc</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">Warning: The encapsulation protocol of the link will be changed. Continue? [Y/N]:y</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">[AR2]int s1/0/0</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">[AR2-Serial1/0/0]link-protocol hdlc</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">Warning: The encapsulation protocol of the link will be changed. Continue? [Y/N]:y</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D">修改为 HDLC</span></p><p style=text-align:start><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><div class=pgc-img><img alt=高级数据链路控制协议-HDLC onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3b4f46fe94b1497cbd6944dec8cf0b63><p class=pgc-img-caption></p></div><p style=text-align:center><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><p style=text-align:justify><span style="color:#494949;--tt-darkmode-color: #9D9D9D">现在使用的协议的是 HDLC 报头和 Cisco 是一模一样。</span></p><p style=text-align:justify><span style="color:#494949;--tt-darkmode-color: #9D9D9D"><br></span></p><p style=text-align:justify><span style="color:#494949;--tt-darkmode-color: #9D9D9D">好啦，今天的干货内容就到这里，如果你觉得小老虎的内容还不错，那请大家动动手分享给身边的小伙伴！</span></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'高级','数据','链路'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>