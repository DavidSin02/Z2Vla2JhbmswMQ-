<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>理工男必备技能：用小小的滚轮，丈量你周围的“天下” | 极客快訊</title><meta property="og:title" content="理工男必备技能：用小小的滚轮，丈量你周围的“天下” - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/3aff0003b80794b92391"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4024e79c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4024e79c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4024e79c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4024e79c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4024e79c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4024e79c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4024e79c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4024e79c.html><meta property="article:published_time" content="2020-11-14T21:08:22+08:00"><meta property="article:modified_time" content="2020-11-14T21:08:22+08:00"><meta name=Keywords content><meta name=description content="理工男必备技能：用小小的滚轮，丈量你周围的“天下”"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/4024e79c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>理工男必备技能：用小小的滚轮，丈量你周围的“天下”</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>Arduino UNO——小型测距轮</p><p>现在打开百度地图，输入起点和终点，两地之间的距离马上显示在手机屏幕上。相比以往的地图，现在的电子地图，地理信息量更大。距离计算的更加精确。可这么大的面积，是怎么测量出来的呢？卫星、卷尺还是其他的。卫星能勘探地形、地面资源。但所测距离的精确度不高；卷尺灵活性不够，所测的距离不够长。排除以上两种还有其他测距工具吗？前段时间在马路上看见有人手持一个滚轮沿着马路边滚动，觉得很是新奇，上前询问，原来他是地图工作者，现在正在绘制路线，并测量两地之间的距离。原来他所用的就是用测距轮。这种测距工具，方便携带，灵活性高，测量精准度高。回来之后自己也制作了一个小型的测距轮。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3aff0003b80794b92391></p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3b0200022016c83e4798></p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p9.pstatp.com/large/3b0000039a8f06ba0e9b></p><p>测距轮相比传统的卷尺，可以随意滑动，可测正负（向左滑动为正，向右滑动负）。</p><p>下面就来看看做的怎么样吧。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/3afc000439c666f44d3b></p><p>【配件图】</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p9.pstatp.com/large/3aff0003b8084a5e797d></p><p>【主要配件】</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3afc0003c9a1ecac6f00></p><p>测距轮的主板我采用的DFRobot最新推出的DFRduino UNO R3的主板，他完全兼容Arduino UNO R3版本。性价比也比较高，相比之下，我更钟意DFRduino UNOR3。因为它采用沉金工艺，外观精致，在追求质量的同时，也提高了颜值 。制作测距尺，还需要一个强大的配件，那就是编码器，这样才能计数。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/3b020002201b6c5771eb></p><p>在这里我采用增量式光电旋转编码器，它能有效的兼容Arduino，PLC等各类主控器。它具有AB两相输出，可以通过旋转的光栅盘和光耦产生可识别方向的计数脉冲信号。其电路输出的类型为NPN集电极开路输出，这样的输出类型可以和内部带上拉电阻的单片机连接，然后实现转速、角度、角速度等数据的测量。</p><p>注意：编码器在不接设备的情况下，集电极开路输出，在没有上拉电阻的时候，是没有电压输出的，如要要示波器示波请在AB两相输出上加上两个上拉电阻。如果实际运用，就不需要加上拉电阻了。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/3b020002201887548a63></p><p>示波器信号</p><p>【部分配件】</p><p>Gravity I2C LCD1602彩色背光液晶屏</p><p>CableAdapter Module 4线传感器转接板</p><p>IO 传感器扩展板</p><p>数字大按钮模块(Gadgteer专用)</p><p>7.4V 2500MA 锂电池 （带充放电保护板）</p><p>高品质环保ABS硅胶车轮</p><p>【电路接线图】</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/3b0000039a99c06f095d></p><p>实物连接图</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/3aff0003b80e0c05a745></p><p>【效果图】</p><p>Reset：此模式为复位模式，切换到此模式，可以清零所测的数据。这样又可以重新开始测距取值了。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/3b020002201c91c9b1cf></p><p>Detection：此模式为测距模式，切换到此模式，可以开始你的表演了，随意测距，上下左右随便滚动，完全无压力。往左滚测得是数值为正，往右滑数值为负（当测距数值为正得时候，往右滑可以看见数值随着减小）。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3aff0003b80794b92391></p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3b0000040b47de681ae2></p><p>Lock：此模式为锁定，当你测得一定的距离后，选择到此模式可以锁定数据，随意你怎么滚动，数据都不会改变了，这样你就可以记录数据了。方便吧，按三下按键就可以了哦。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3afc0003c9a89f406b79></p><p>为了让携带方便，外观漂亮。我用3D打印机打印了外壳。方方正正的，是不是看起来有点呆板。没办法，我能想到的只是如此了。相信朋友们肯定有更好的创意。3D打印的文件我以附件的形式放在文末了。</p><p>注意：因为自己找的轮毂尺寸都不合适，后面自己用3D打印机制作了一个80mm的轮毂。而轮胎还是用的高品质环保ABS硅胶车轮外的轮胎</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p9.pstatp.com/large/3afd000436b8b59c9045></p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3b010002997ca30996f0></p><p>程序：</p><p>Arduino UNO——小型测距轮</p><p>现在打开百度地图，输入起点和终点，两地之间的距离马上显示在手机屏幕上。相比以往的地图，现在的电子地图，地理信息量更大。距离计算的更加精确。可这么大的面积，是怎么测量出来的呢？卫星、卷尺还是其他的。卫星能勘探地形、地面资源。但所测距离的精确度不高；卷尺灵活性不够，所测的距离不够长。排除以上两种还有其他测距工具吗？前段时间在马路上看见有人手持一个滚轮沿着马路边滚动，觉得很是新奇，上前询问，原来他是地图工作者，现在正在绘制路线，并测量两地之间的距离。原来他所用的就是用测距轮。这种测距工具，方便携带，灵活性高，测量精准度高。回来之后自己也制作了一个小型的测距轮。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3afd0004374b23a93b31></p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3afe00042acf5b741249></p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p9.pstatp.com/large/3b01000299ecfa634b7f></p><p>测距轮相比传统的卷尺，可以随意滑动，可测正负（向左滑动为正，向右滑动负）。</p><p>下面就来看看做的怎么样吧。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3b02000293dce4c5e15a></p><p>【配件图】</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3afe00042ad054b87023></p><p>【主要配件】</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/3afd0004374ad62a1f11></p><p>测距轮的主板我采用的DFRobot最新推出的DFRduino UNO R3的主板，他完全兼容Arduino UNO R3版本。性价比也比较高，相比之下，我更钟意DFRduino UNOR3。因为它采用沉金工艺，外观精致，在追求质量的同时，也提高了颜值 。制作测距尺，还需要一个强大的配件，那就是编码器，这样才能计数。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3b0000040c86e13dde87></p><p>在这里我采用增量式光电旋转编码器，它能有效的兼容Arduino，PLC等各类主控器。它具有AB两相输出，可以通过旋转的光栅盘和光耦产生可识别方向的计数脉冲信号。其电路输出的类型为NPN集电极开路输出，这样的输出类型可以和内部带上拉电阻的单片机连接，然后实现转速、角度、角速度等数据的测量。</p><p>注意：编码器在不接设备的情况下，集电极开路输出，在没有上拉电阻的时候，是没有电压输出的，如要要示波器示波请在AB两相输出上加上两个上拉电阻。如果实际运用，就不需要加上拉电阻了。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3afc00043bdaeae901d4></p><p>示波器信号</p><p>【部分配件】</p><p>Gravity I2C LCD1602彩色背光液晶屏</p><p>CableAdapter Module 4线传感器转接板</p><p>IO 传感器扩展板</p><p>数字大按钮模块(Gadgteer专用)</p><p>7.4V 2500MA 锂电池 （带充放电保护板）</p><p>高品质环保ABS硅胶车轮</p><p>【电路接线图】</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3aff00042bf46488d054></p><p>实物连接图</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p9.pstatp.com/large/3b01000299ed9e8776d6></p><p>【效果图】</p><p>Reset：此模式为复位模式，切换到此模式，可以清零所测的数据。这样又可以重新开始测距取值了。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3afc00043bdb03b0b2fa></p><p>Detection：此模式为测距模式，切换到此模式，可以开始你的表演了，随意测距，上下左右随便滚动，完全无压力。往左滚测得是数值为正，往右滑数值为负（当测距数值为正得时候，往右滑可以看见数值随着减小）。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3afd0004374b23a93b31></p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/3b0000040d6039e63a80></p><p>Lock：此模式为锁定，当你测得一定的距离后，选择到此模式可以锁定数据，随意你怎么滚动，数据都不会改变了，这样你就可以记录数据了。方便吧，按三下按键就可以了哦。</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3aff00042bf5703c203d></p><p>为了让携带方便，外观漂亮。我用3D打印机打印了外壳。方方正正的，是不是看起来有点呆板。没办法，我能想到的只是如此了。相信朋友们肯定有更好的创意。3D打印的文件我以附件的形式放在文末了。</p><p>注意：因为自己找的轮毂尺寸都不合适，后面自己用3D打印机制作了一个80mm的轮毂。而轮胎还是用的高品质环保ABS硅胶车轮外的轮胎</p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/3afe00042c173ff03a13></p><p><img alt=理工男必备技能：用小小的滚轮，丈量你周围的“天下” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/3b0100029b562b825a09></p><p>程序：</p><p>#include &lt;Wire.h></p><p>#include "DFRobot_RGBLCD.h"</p><p>DFRobot_RGBLCD lcd(16, 2);</p><p>//rgb_lcd lcd;</p><p>#define A 3</p><p>#define B 4</p><p>#define Key 12//key</p><p>#define D 79 //Diameter 79mm</p><p>float C = 0; //perimeter</p><p>unsigned int Distance;</p><p>int VA = 0;</p><p>int VB = 0;</p><p>unsigned long Count = 0;//count</p><p>unsigned int Count_1 = 0; //Negative count</p><p>unsigned char flag = 1, Mark = 0;</p><p>unsigned long lasttime = 0, Modetime = 0;</p><p>//Length measurement range is ± 6 M</p><p>void setup()</p><p>{</p><p>Serial.begin(9600);</p><p>lcd.init();</p><p>lcd.setRGB(255, 255,0);</p><p>lcd.setCursor(2, 0 );</p><p>lcd.print("M:");</p><p>lcd.setCursor(2, 1 );</p><p>lcd.print("D:");</p><p>lcd.setCursor(12, 1 );</p><p>lcd.print("cm");</p><p>pinMode(A, INPUT_PULLUP); //Pull-up input</p><p>pinMode(B, INPUT_PULLUP);</p><p>pinMode(Key, INPUT);</p><p>attachInterrupt(1, interrupt, RISING);</p><p>C = D * PI;</p><p>}</p><p>void loop()</p><p>{</p><p>if (millis() - 150 > lasttime)//Detect keys once every 150ms</p><p>{</p><p>if (digitalRead(Key) == HIGH)</p><p>if (digitalRead(Key) == HIGH)</p><p>Mark += 1;</p><p>if (Mark > 2)</p><p>Mark = 0;</p><p>while (digitalRead(Key) == HIGH);</p><p>lasttime = millis();</p><p>}</p><p>if (millis() - 100 > Modetime)//Refresh the data every 100ms</p><p>{</p><p>if (Mark == 0) //Cleared</p><p>{</p><p>lcd.setCursor(6, 0 );</p><p>lcd.print("Reset ");</p><p>Distance = C * Count / 40;</p><p>flag = 3;</p><p>lcd.setCursor(11, 0 );</p><p>lcd.print(" ");</p><p>}</p><p>if (Mark == 1) //Calculate the measured value</p><p>{</p><p>lcd.setCursor(6, 0 );</p><p>lcd.print("Detection");//</p><p>lcd.setCursor(4, 1 );</p><p>if (Count > 0 && Count &lt; 0xffff)//Determine whether the length is positive</p><p>{</p><p>lcd.print('-');//The length is negative</p><p>Distance = C * Count / 40;</p><p>}</p><p>else if (Count == 0 && Count_1 == 0 )//Determine whether the length is zero</p><p>{</p><p>lcd.setCursor(4, 1 );</p><p>lcd.print(' ');</p><p>Distance = C * Count / 40;</p><p>}</p><p>else//Length is positive</p><p>{</p><p>lcd.print('+');</p><p>Distance = Count_1 * C / 40;</p><p>}</p><p>}</p><p>else if (Mark == 2) //lock</p><p>{</p><p>lcd.setCursor(6, 0 );</p><p>lcd.print("Lock ");</p><p>Count = 0;</p><p>Count_1 = 0;</p><p>}</p><p>Modetime = millis();</p><p>}</p><p>lcd.setCursor(5, 1 );//Displays the value of Distance</p><p>lcd.print(Distance / 10000);</p><p>lcd.print((Distance / 1000) % 10);</p><p>lcd.print((Distance / 100) % 10);</p><p>lcd.print('.');</p><p>lcd.print((Distance / 10) % 10);</p><p>lcd.print(Distance % 10);</p><p>}</p><p>void interrupt()//Interrupt handler</p><p>{</p><p>VB = digitalRead(B);</p><p>if (Mark == 1)//Detects whether the current mode is a measurement</p><p>{</p><p>if (VB == 1)//To determine whether the positive measurement</p><p>{</p><p>flag = 1;</p><p>if (Count > 0xffff)</p><p>{</p><p>Count_1 -= 1;</p><p>}</p><p>Count += 1;</p><p>}</p><p>else//Reverse measurement</p><p>{</p><p>flag = 0;</p><p>Count -= 1;</p><p>if (Count > 0xFFFF)</p><p>{</p><p>Count_1 += 1;</p><p>}</p><p>}</p><p>//Count is cleared over the range</p><p>if (Count &lt; 0xFFFF && Count > 0x294A)</p><p>Count = 0;</p><p>else if (Count &lt; 0xFFFFD6B5 && Count > 0xFFFF)</p><p>Count = 0;</p><p>}</p><p>}</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'男必备','滚轮','周围'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>