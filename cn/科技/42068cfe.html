<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ä»£ç ç”Ÿæˆå™¨ code-builder | æå®¢å¿«è¨Š</title><meta property="og:title" content="ä»£ç ç”Ÿæˆå™¨ code-builder - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/9d87b11fca7a4a0b86f7d59932d55bdd"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/42068cfe.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/42068cfe.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/42068cfe.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/42068cfe.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/42068cfe.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/42068cfe.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/42068cfe.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/42068cfe.html><meta property="article:published_time" content="2020-11-14T21:02:46+08:00"><meta property="article:modified_time" content="2020-11-14T21:02:46+08:00"><meta name=Keywords content><meta name=description content="ä»£ç ç”Ÿæˆå™¨ code-builder"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/42068cfe.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ä»£ç ç”Ÿæˆå™¨ code-builder</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>èƒŒæ™¯</p><p>æœ¬æ¥code-builderæ˜¯ä¸“é—¨ä¸ºMyBatis Enhanceæ¥ç¼–å†™çš„ä¸€å—ä»£ç ç”Ÿæˆå™¨</p><div class=pgc-img><img alt="ä»£ç ç”Ÿæˆå™¨ code-builder" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9d87b11fca7a4a0b86f7d59932d55bdd><p class=pgc-img-caption></p></div><p>code-builderå¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ</p><p>code-builderæ˜¯ä¸€æ¬¾ä»£ç ç”Ÿæˆmaven mojoæ’ä»¶ï¼Œé€šè¿‡ç®€å•çš„é…ç½®å°±å¯ä»¥å®Œæˆæ•°æ®åº“å†…Tableè½¬æ¢Entityæˆ–è€…å…¶ä»–å®ä½“ç±»ï¼Œæƒ³æ€ä¹ˆç”Ÿæˆå®Œå…¨æ ¹æ®ä½ çš„ä¸ªäººä¸šåŠ¡é€»è¾‘ï¼Œcode-builderå°½å¯èƒ½çš„å®Œå–„çš„æä¾›æ•°æ®åº“å†…çš„ä¸€äº›å®šä¹‰çš„ä¿¡æ¯ï¼Œè®©ä½ æ›´æ–¹ä¾¿æ›´çµæ´»çš„æ¥ç”ŸæˆJavaæ–‡ä»¶ã€‚</p><p>ä½¿ç”¨ç¯å¢ƒ</p><ul><li>Mavenæ„å»ºçš„é¡¹ç›®</li><li>JDK 1.6ä»¥ä¸Šç‰ˆæœ¬</li></ul><p>å®ç°æ–¹å¼</p><p>æ˜¯æ€ä¹ˆè·å–åˆ°çš„æ•°æ®åº“ä¿¡æ¯ï¼Ÿ</p><p>code-builderå†…éƒ¨é‡‡ç”¨äº†java.sql.Connectionçš„MetaDataå…ƒæ•°æ®çš„æ–¹å¼æ¥è·å–æ•°æ®åº“å†…Tableã€Columnç­‰ä¿¡æ¯ï¼ŒMetaDataæ˜¯ä¸å±€é™äºä»»ä½•çš„æ•°æ®åº“ç±»å‹çš„ï¼Œæ‰€ä»¥code-builderåœ¨åŸºç¡€è®¾è®¡ä¸Šæ˜¯å¯ä»¥åœ¨ä»»ä½•æ•°æ®åº“ç±»å‹ä¸­æ¥å®Œæˆå®ƒçš„ç”Ÿæˆä»»åŠ¡çš„ï¼Œä¸è¿‡åˆç‰ˆæœ¬ä»…æ”¯æŒäº†MySQLã€MariaDBè¿™ä¸¤ç§æ•°æ®åº“ç±»å‹ï¼Œåœ¨code-builderåæœŸæ›´æ–°ç‰ˆæœ¬ä¸­ä¼šæŠŠä¸»æµçš„æ•°æ®åº“è¿›è¡Œæ·»åŠ ã€‚</p><p>ç”Ÿæˆæ¨¡æ¿é€‰å‹</p><p>ç›®å‰code-builderå†…éƒ¨é‡‡ç”¨äº†freemarkeræ¨¡æ¿æ¥å®Œæˆå®ä½“ç±»çš„è‡ªåŠ¨ç”Ÿæˆï¼Œæ¨¡æ¿ç”±ä½¿ç”¨è€…æ¥è‡ªå®šä¹‰ç¼–å†™ï¼Œå†…éƒ¨é¢„ç•™äº†ä½¿ç”¨å…¶ä»–æ¨¡æ¿çš„æ–¹å¼ï¼Œå¦‚æœä½ éœ€è¦ä½¿ç”¨åˆ«çš„æ¨¡æ¿ï¼Œå¦‚ï¼šVelocityï¼Œå¯¹åº”æ·»åŠ ç”Ÿæˆçš„å®ç°ä¸šåŠ¡é€»è¾‘å³å¯ã€‚</p><p>æ€ä¹ˆé…ç½®ï¼Ÿ</p><p>SpringBoot æ–¹å¼é…ç½®</p><p>åœ¨1.0.5.RELEASEç‰ˆæœ¬æ·»åŠ äº†é›†æˆSpringBootçš„starterï¼Œä¾èµ–å¦‚ä¸‹æ‰€ç¤ºï¼š</p><ul><li>ä½¿ç”¨Mavenæ„å»ºå·¥å…·æ—¶ï¼Œå¤åˆ¶ä¸‹é¢çš„å†…å®¹åˆ°pom.xmlé…ç½®æ–‡ä»¶å†…</li></ul><pre>&lt;dependency&gt; &lt;groupId&gt;com.gitee.hengboy&lt;/groupId&gt; &lt;artifactId&gt;code-builder-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.0.5.RELEASE&lt;/version&gt;&lt;/dependency&gt;</pre><ul><li>å¦‚æœä½ æ˜¯ç”¨çš„Gradleæ„å»ºå·¥å…·ï¼Œé‚£ä¹ˆå¤åˆ¶ä¸‹é¢çš„å†…å®¹åˆ°ä½ çš„build.gradle</li></ul><pre>compile group: 'com.gitee.hengboy', name: 'code-builder-spring-boot-starter', version: '1.0.5.RELEASE'</pre><p>é‚£ä¹ˆæˆ‘ä»¬åœ¨application.ymlæˆ–è€…application.propertiesé…ç½®æ–‡ä»¶å†…è¯¥æ€ä¹ˆé…ç½®ç›¸å…³çš„å‚æ•°å‘¢ï¼Ÿ</p><pre>hengboy: code: builder: execute: true configuration: package-prefix: com.code.builder.sample.codebuildersample templates: - name: entity.ftl packageName: model fileSuffix: Entity - name: service.ftl packageName: service fileSuffix: Service - name: controller.ftl packageName: controller fileSuffix: Controller generator-by-pattern: '%app_user_info%' db-type: mysql engine-type-enum: freemarker builder-dir: classes.templates.builder target-dir: generated-sources.java tables: - app_shop_type - app_user_exchange_good ignore-class-prefix: App</pre><blockquote><p>æ¯ä¸ªå‚æ•°çš„å…·ä½“ä»‹ç»è¯·å¾€ä¸‹çœ‹ã€‚</p></blockquote><p>Maven Plugin æ–¹å¼é…ç½®</p><p>ç”±äºcode-builderæ˜¯Maven mojoæ’ä»¶çš„å½¢å¼åˆ›å»ºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦åœ¨é¡¹ç›®çš„pom.xmlæ–‡ä»¶å†…æ·»åŠ pluginæ’ä»¶é…ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre>&lt;plugin&gt; &lt;groupId&gt;com.gitee.hengboy&lt;/groupId&gt; &lt;artifactId&gt;code-builder-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.0.5.RELEASE&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;generator&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.46&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;configuration&gt; &lt;execute&gt;true&lt;/execute&gt; &lt;dbType&gt;MySQL&lt;/dbType&gt; &lt;dbDriverClassName&gt;com.mysql.jdbc.Driver&lt;/dbDriverClassName&gt; &lt;dbName&gt;xxxx&lt;/dbName&gt; &lt;dbUserName&gt;xxxx&lt;/dbUserName&gt; &lt;dbPassword&gt;xxxxx&lt;/dbPassword&gt; &lt;dbUrl&gt;jdbc:mysql://xxx.xx.xx.xx:3306&lt;/dbUrl&gt; &lt;tables&gt; &lt;table&gt;app_shop_type&lt;/table&gt; &lt;table&gt;app_user_exchange_good&lt;/table&gt; &lt;/tables&gt; &lt;engineType&gt;FREEMARKER&lt;/engineType&gt; &lt;generatorByPattern&gt;%app_user_info%&lt;/generatorByPattern&gt; &lt;ignoreClassPrefix&gt;App&lt;/ignoreClassPrefix&gt; &lt;builderDir&gt;classes.templates.builder&lt;/builderDir&gt; &lt;builder&gt; &lt;packagePrefix&gt;com.code.builder.sample&lt;/packagePrefix&gt;		 &lt;templates&gt;		 &lt;template&gt;		 &lt;name&gt;entity.ftl&lt;/name&gt;		 &lt;packageName&gt;model&lt;/packageName&gt;		 &lt;/template&gt;		 &lt;template&gt;		 &lt;name&gt;service.ftl&lt;/name&gt;		 &lt;packageName&gt;service&lt;/packageName&gt;		 &lt;fileSuffix&gt;Service&lt;/fileSuffix&gt;		 &lt;/template&gt;		 &lt;template&gt;		 &lt;name&gt;mapper.ftl&lt;/name&gt;		 &lt;packageName&gt;mapper&lt;/packageName&gt;		 &lt;fileSuffix&gt;Mapper&lt;/fileSuffix&gt;		 &lt;/template&gt;		 &lt;/templates&gt; &lt;/builder&gt; &lt;/configuration&gt;&lt;/plugin&gt;</pre><p>æ•°æ®åº“é©±åŠ¨ä¾èµ–æ·»åŠ </p><p>code-builderä¸å±€é™ä½ ä½¿ç”¨çš„æ•°æ®åº“ç±»å‹ï¼Œæ‰€ä»¥åœ¨ç”Ÿæˆæ—¶éœ€è¦ä½¿ç”¨è€…æ·»åŠ å¯¹åº”æ•°æ®ç±»å‹çš„ä¾èµ–ï¼Œå¦‚ä¸Šé¢çš„é…ç½®ä¸­åˆ™æ˜¯æ·»åŠ äº†MySQLæ•°æ®åº“çš„ä¾èµ–</p><pre>.....&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.46&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt;.....</pre><p>ç”Ÿæˆçš„æ§åˆ¶å¼€å…³</p><div class=pgc-img><img alt="ä»£ç ç”Ÿæˆå™¨ code-builder" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1a1a58f12d074ceba5c39f6ae89e6023><p class=pgc-img-caption></p></div><p>å¹¶ä¸æ˜¯æ¯ä¸€æ¬¡çš„ç¼–è¯‘æˆ–è€…æ‰“åŒ…æ—¶éƒ½éœ€è¦ç”Ÿæˆå¯¹åº”çš„å®ä½“ï¼Œé’ˆå¯¹è¿™ç§æƒ…å†µcode-builderæ·»åŠ äº†executeå‚æ•°æ¥æ§åˆ¶å¼€å¯ä¸å…³é—­ã€‚</p><ul><li>trueï¼šå¼€å¯è‡ªåŠ¨ç”Ÿæˆ</li><li>falseï¼šå…³é—­è‡ªåŠ¨ç”Ÿæˆ</li></ul><p>æ•°æ®åº“ç±»å‹é…ç½®</p><p>æ‰§è¡Œè‡ªåŠ¨ç”Ÿæˆå‰éœ€è¦é…ç½®æ•°æ®åº“çš„ç›¸å…³é…ç½®ä¿¡æ¯</p><ul><li>dbTypeï¼šæ•°æ®åº“ç±»å‹ï¼Œé»˜è®¤ä½¿ç”¨MySQLæ•°æ®åº“ç±»å‹ã€‚</li><li>dbDriverClassNameï¼šæ•°æ®åº“é©±åŠ¨ç±»åï¼Œæ ¹æ®ä¸ç”¨çš„æ•°æ®åº“ç±»å‹é…ç½®ä¸åŒçš„é©±åŠ¨ç±»åï¼Œé»˜è®¤æ ¹æ®dbTypeä½¿ç”¨å†…éƒ¨å®šä¹‰çš„ç±»åï¼Œå¦‚éœ€è‡ªå®šä¹‰å¯ä»¥è®¾ç½®ã€‚ï¼ˆä»…maven-pluginä½¿ç”¨ï¼‰</li></ul><p>æ•°æ®åº“åŸºæœ¬ä¿¡æ¯é…ç½® ï¼ˆä»…maven-pluginä½¿ç”¨ï¼‰</p><ul><li>dbNameï¼šæ•°æ®åº“åç§°</li><li>dbUserNameï¼šæ•°æ®åº“ç”¨æˆ·å</li><li>dbPasswordï¼šæ•°æ®åº“å¯†ç </li><li>dbUrlï¼šæ•°æ®åº“è¿æ¥è·¯å¾„ï¼Œè¿æ¥è·¯å¾„ä¸éœ€è¦å¡«å†™æ•°æ®åº“åï¼Œæ­£ç¡®ç¤ºä¾‹å¦‚ï¼šjdbc:mysql://localhost:3306</li></ul><p>ç”Ÿæˆè¡¨åç¬¦åˆè§„åˆ™çš„è¡¨</p><p>æ ¹æ®è¡¨è¾¾å¼æ¥åˆ›å»ºè¡¨ï¼Œè¡¨è¾¾å¼ä¸æ¨¡ç³ŠæŸ¥è¯¢è¯­å¥è¡¨è¾¾å¼ä¸€èˆ¬æ— äºŒï¼Œé…ç½®generatorByPatternå‚æ•°å¹¶è®¾ç½®å¯¹åº”çš„è¡¨è¾¾å¼å°±å¯ä»¥æ ¹æ®è¡¨è¾¾å¼æ¥åŒ¹é…å‡ºå‚ä¸ç”Ÿæˆçš„Tableåˆ—è¡¨ã€‚</p><ul><li>æŒ‡å®šå‰ç¼€åŒ¹é…</li></ul><pre>&lt;generatorByPattern&gt;app_order%&lt;/generatorByPattern&gt;</pre><p>ç¤ºä¾‹ï¼šå°†ä¼šåŒ¹é…å‡ºapp_order_infoã€app_order_recordç­‰è¡¨ã€‚</p><ul><li>æŒ‡å®šåç¼€åŒ¹é…</li></ul><pre>&lt;generatorByPattern&gt;%order&lt;/generatorByPattern&gt;</pre><p>ç¤ºä¾‹ï¼šå°†ä¼šåŒ¹é…å‡ºapp_good_orderã€app_exchange_orderç­‰è¡¨ã€‚</p><ul><li>åŒ…å«åŒ¹é…</li></ul><pre>&lt;generatorByPattern&gt;%order%&lt;/generatorByPattern&gt;</pre><p>ç¤ºä¾‹ï¼šå°†ä¼šåŒ¹é…å‡ºapp_order_infoã€app_good_orderç­‰è¡¨ã€‚</p><p>ç”ŸæˆæŒ‡å®šè¡¨</p><p>code-builderæ”¯æŒæŒ‡å®šå•ä¸ªæˆ–è€…å¤šä¸ªè¡¨æ¥ç”Ÿæˆï¼Œåªéœ€è¦é…ç½®tableså‚æ•°å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre>&lt;tables&gt; &lt;table&gt;app_shop_type&lt;/table&gt; &lt;table&gt;app_user_exchange_good&lt;/table&gt;&lt;/tables&gt;</pre><p>ä¸Šé¢çš„é…ç½®æ˜¯æœ¬æ¬¡ç”Ÿæˆä»…æ“ä½œapp_shop_typeã€app_user_exchange_goodä¸¤å¼ è¡¨ã€‚</p><blockquote><p>æ³¨æ„ï¼štableså‚æ•°çš„ä¼˜å…ˆçº§è¦é«˜äºgeneratorByPatternå‚æ•°ã€‚</p></blockquote><p>è‡ªå®šä¹‰builderæ‰€éœ€æ¨¡æ¿è·¯å¾„</p><p>code-builderä¼šè‡ªåŠ¨å»æ‰¾classes/templates/builderä¸‹çš„æ¨¡æ¿ï¼Œå¦‚æœä½¿ç”¨é»˜è®¤çš„freemarkeræ¨¡æ¿æ¥ç”Ÿæˆï¼Œé‚£ä¹ˆæ¨¡æ¿æ‰€å­˜æ”¾çš„ä½ç½®ä¸ºclasses/templates/builder/freemarkerã€‚ å¦‚æœä½ æƒ³è‡ªå®šä¹‰æ¨¡æ¿çš„è·¯å¾„å¯ä»¥è®¾ç½®builderDirçš„åœ°å€ï¼Œåœ¨è¿™é‡Œå› ä¸ºè€ƒè™‘åˆ°äº†ä¸åŒæ“ä½œç³»ç»Ÿçš„åˆ†éš”ç¬¦ä¸ä¸€æ ·ï¼ˆWindowsç³»ç»Ÿåˆ†éš”ç¬¦\ï¼ŒLinuxä»¥åŠO SXåˆ†éš”ç¬¦ä¸º/ï¼‰æ‰€ä»¥è¿™é‡Œé‡‡ç”¨.åˆ†éš”ç¬¦é…ç½®ï¼Œcode-builderä¼šè‡ªåŠ¨æ ¹æ®æ“ä½œç³»ç»Ÿæ¥è½¬æ¢è·¯å¾„ï¼Œé…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre>&lt;builderDir&gt;classes.code.builder&lt;/builderDir&gt;</pre><blockquote><p>æ³¨æ„ï¼šfreemarkeræ–‡ä»¶å¤¹ä¸å…è®¸ä¿®æ”¹ï¼Œåªèƒ½ä¿®æ”¹code-builderåŠ è½½æ¨¡æ¿çš„æ ¹è·¯å¾„ã€‚</p></blockquote><p>æ’é™¤ç”Ÿæˆå®ä½“åçš„å‰ç¼€</p><p>æ•°æ®åº“è®¾è®¡æœ‰æ—¶éœ€è¦æ·»åŠ å‰ç¼€ï¼Œå¦‚ï¼šapp_ã€sys_ç­‰ï¼Œå®é™…ç”Ÿæˆå®ä½“åå‰ç¼€åˆ™æ˜¯å¹¶ä¸æƒ³å±•ç¤ºï¼Œé‚£ä¹ˆé…ç½®å‚æ•°ignoreClassPrefixå°±å¯ä»¥è‡ªåŠ¨æ’é™¤å‰ç¼€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre>&lt;ignoreClassPrefix&gt;App&lt;/ignoreClassPrefix&gt;</pre><blockquote><p>æ³¨æ„ï¼šç”±äºæ›¿æ¢ç”Ÿæˆåçš„ç±»åç§°æ‰€ä»¥è¿™é‡Œè¦å‡†å®ˆé©¼å³°å‘½åè§„åˆ™é¦–å­—æ¯å¤§å†™ï¼Œä¸€æ¬¡åªèƒ½é…ç½®ä¸€ä¸ªæ›¿æ¢å‰ç¼€ã€‚</p></blockquote><p>ä½¿ç”¨å‰AppUserInfoEntityï¼Œä½¿ç”¨åUserInfoEntityã€‚</p><p>æ¨¡æ¿é…ç½®</p><p>ä½¿ç”¨templatesæ ‡ç­¾é…ç½®è‡ªå®šä¹‰çš„æ¨¡æ¿åˆ—è¡¨ï¼Œä¸€æ¬¡å¯ä»¥ä½¿ç”¨å•ä¸ªæˆ–è€…å¤šä¸ªæ¨¡æ¿è¿›è¡Œç”Ÿæˆï¼Œå¦‚ä¸‹é…ç½®ï¼š</p><pre>&lt;templates&gt; &lt;template&gt; &lt;name&gt;entity.ftl&lt;/name&gt; &lt;packageName&gt;entity&lt;/packageName&gt; &lt;fileSuffix&gt;entity&lt;/fileSuffix&gt; &lt;/template&gt; &lt;template&gt; &lt;name&gt;service.ftl&lt;/name&gt; &lt;packageName&gt;service&lt;/packageName&gt; &lt;fileSuffix&gt;Service&lt;/fileSuffix&gt; &lt;/template&gt; &lt;template&gt; &lt;name&gt;mapper.ftl&lt;/name&gt; &lt;packageName&gt;mapper&lt;/packageName&gt; &lt;fileSuffix&gt;Mapper&lt;/fileSuffix&gt; &lt;/template&gt;&lt;/templates&gt;</pre><ul><li>name ï¼šfreemarkerç›®å½•ä¸‹æ¨¡æ¿çš„åç§°ï¼Œå¿…å¡«</li><li>packageNameï¼šç”Ÿæˆè¯¥æ¨¡æ¿æ–‡ä»¶åçš„å­åŒ…åç§°ï¼Œéå¿…å¡«</li><li>fileSuffixï¼šç”Ÿæˆæ–‡ä»¶çš„åç¼€ï¼Œå¦‚ï¼šé…ç½®åç¼€ä¸ºEntityï¼Œåˆ™æ·»åŠ åç¼€åçš„æ–‡ä»¶åä¸ºUserInfoEntityï¼Œåç¼€é¦–å­—æ¯ä¼šè‡ªåŠ¨æ ¹æ®é©¼å³°è½¬æ¢æˆå¤§å†™</li></ul><p>å†…ç½®å‚æ•°</p><p>æ¨¡æ¿é©±åŠ¨æ•°æ®æ¨¡å‹å†…ç½®äº†éƒ¨åˆ†å‚æ•°ï¼Œcode-builderå‡†å¤‡çš„æ¯ä¸€ä¸ªå‚æ•°éƒ½æ˜¯åœ¨ç”Ÿæˆå®ä½“ç±»æ—¶éƒ½å¯èƒ½ä¼šç”¨åˆ°çš„ã€‚</p><p>Tableå‚æ•°</p><ul><li>tableName è¡¨åï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.String</li><li>remark è¡¨å¤‡æ³¨ä¿¡æ¯ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.String</li><li>entityName å®ä½“ç±»åç§°ï¼Œå¦‚ï¼šuser_infoè½¬æ¢ä¸ºuserInfoï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.String</li><li>columns åˆ—åˆ—è¡¨ï¼Œæ•°æ®ç±»å‹ï¼šjava.util.List&lt;Column></li><li>primaryKeys ä¸»é”®åˆ—è¡¨ï¼Œæ•°æ®ç±»å‹ï¼šjava.util.List&lt;Column></li><li>hasSqlDate æ˜¯å¦å­˜åœ¨java.sql.Dateç±»å‹ï¼Œtrueï¼šå­˜åœ¨ï¼Œfalseï¼šä¸å­˜åœ¨ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.Boolean</li><li>hasTimeStamp æ˜¯å¦å­˜åœ¨java.sql.TimeStampç±»å‹ï¼Œtrueï¼šå­˜åœ¨ï¼Œfalseï¼šä¸å­˜åœ¨ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.Boolean</li><li>hasBigDecimal æ˜¯å¦å­˜åœ¨java.math.BigDecimalç±»å‹ï¼Œtrueï¼šå­˜åœ¨ï¼Œfalseï¼šä¸å­˜åœ¨ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.Boolean</li></ul><p>ä½¿ç”¨æ–¹å¼</p><div class=pgc-img><img alt="ä»£ç ç”Ÿæˆå™¨ code-builder" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/032858d9-8be9-4571-9eb3-9a6d614606c5><p class=pgc-img-caption></p></div><blockquote><p>freemarkeræ¨¡æ¿ï¼š${table.xxx}ï¼Œå¦‚è¡¨åçš„ä½¿ç”¨ä¸º${table.tableName}</p></blockquote><p>Columnå‚æ•°</p><ul><li>columnName åˆ—åï¼Œå¦‚ï¼šuser_idï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.String</li><li>primaryKey æ˜¯å¦ä¸ºä¸»é”®ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.Booleanï¼Œtrueï¼šä¸»é”®ï¼Œfalseï¼šéä¸»é”®</li><li>foreignKey æ˜¯å¦ä¸ºå¤–é”®ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.Booleanï¼Œtrueï¼šå¤–é”®ï¼Œfalseï¼šéå¤–é”®</li><li>size åˆ—é•¿åº¦ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.Integer</li><li>decimalDigits å°æ•°ç‚¹ç²¾åº¦ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.Integer</li><li>nullable åˆ—æ˜¯å¦ä¸ºç©ºï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.Booleanï¼Œtrueï¼šä¸ºç©ºï¼Œfalseï¼šéç©º</li><li>autoincrement æ˜¯å¦è‡ªå¢ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.Booleanï¼Œtrueï¼šè‡ªå¢åˆ—ï¼Œfalseï¼šæ™®é€šåˆ—</li><li>defaultValue é»˜è®¤å€¼ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.String</li><li>remark åˆ—å¤‡æ³¨ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.String</li><li>jdbcType JDBCç±»å‹ï¼Œå¯¹åº”java.sql.Typeså†…ç±»å‹ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.Integer</li><li>jdbcTypeName JDBCç±»å‹åç§°ï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.String</li><li>javaProperty æ ¼å¼åŒ–åçš„å±æ€§åç§°ï¼Œå¦‚ï¼šuserIdï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.String</li><li>javaType Javaæ•°æ®ç±»å‹çŸ­åï¼Œå¦‚ï¼šTimeStampï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.String</li><li>fullJavaType Javaæ•°æ®ç±»å‹å…¨åï¼Œå¦‚ï¼šjava.sql.TimeStampï¼Œæ•°æ®ç±»å‹ï¼šjava.lang.String</li></ul><p>ä½¿ç”¨æ–¹å¼</p><blockquote><p>freemarkeræ¨¡æ¿ï¼š${column.xxx}ï¼Œå¦‚åˆ—åçš„ä½¿ç”¨ä¸º${column.columnName}</p></blockquote><p>åŸºç¡€å‚æ•°</p><ul><li>classNameï¼šClassåç§°ï¼ŒfreemarkeræŒ‡å®šæ¨¡æ¿ç”Ÿæˆæ–‡ä»¶çš„ç±»åï¼Œæ¨¡æ¿å†…é…ç½®${className}ä½¿ç”¨</li><li>packageNameï¼šPackageåç§°ï¼ŒfreemarkeræŒ‡å®šæ¨¡æ¿ç”Ÿæˆæ–‡ä»¶çš„åŒ…åï¼Œæ¨¡æ¿å†…é…ç½®${packageName}ä½¿ç”¨</li></ul><p>æ€ä¹ˆè‡ªå®šä¹‰æ¨¡æ¿ï¼Ÿ</p><p>ä¸‹é¢æä¾›ä¸€ä¸ªç®€å•çš„æ¨¡æ¿ç¤ºä¾‹ï¼Œæ ¹æ®ä¸Šé¢çš„å†…ç½®å‚æ•°å¯ä»¥ä»»æ„è‡ªå®šä¹‰ç”Ÿæˆæ–‡ä»¶çš„å†…å®¹ã€‚</p><pre>&lt;#if (packageName)??&gt;package ${packageName};&lt;/#if&gt;import lombok.Data;&lt;#if (table.hasSqlDate)&gt;import java.sql.Date;&lt;/#if&gt;&lt;#if (table.hasTimeStamp)&gt;import java.sql.Timestamp;&lt;/#if&gt;&lt;#if (table.hasBigDecimal)&gt;import java.math.BigDecimal;&lt;/#if&gt;/** * &lt;p&gt;æœ¬ç±»ä»£ç ç”±code-builderè‡ªåŠ¨ç”Ÿæˆ&lt;/p&gt; * &lt;p&gt;è¡¨å: ${table.tableName} - ${table.remark}&lt;/p&gt; * =============================== * Created with code-builder. * Userï¼šæ’å®‡å°‘å¹´ * Dateï¼š${.now} * ç®€ä¹¦ï¼šhttp://www.jianshu.com/u/092df3f77bca * ç äº‘ï¼šhttps://gitee.com/hengboy * ================================ */@Datapublic class ${className} {&lt;#list table.primaryKeys as key&gt; /** * ${key.columnName} - ${key.remark} */ private ${key.javaType} ${key.javaProperty};&lt;/#list&gt;&lt;#list table.columns as column&gt; &lt;#if (!column.primaryKey)&gt; /** * ${column.columnName} - ${column.remark} */ private ${column.javaType} ${column.javaProperty}; &lt;/#if&gt;&lt;/#list&gt;}</pre><p>ä¸Šé¢æ˜¯ä¸€ä¸ªæ•°æ®å®ä½“çš„freemarkeræ¨¡æ¿å†…å®¹ï¼ŒæŠŠè¿™ä¸ªæ¨¡æ¿å­˜æ”¾åˆ°freemarkerç›®å½•ä¸‹ï¼Œå¯¹åº”åœ¨templatesæ ‡ç­¾å†…æ·»åŠ é…ç½®å°±å¯ä»¥å®Œæˆæ•°æ®å®ä½“çš„è‡ªåŠ¨åˆ›å»ºï¼Œåˆ›å»ºåçš„æ•°æ®å®ä½“å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre>package com.code.builder.sample.model;import lombok.Data;import java.sql.Timestamp;/** * &lt;p&gt;æœ¬ç±»ä»£ç ç”±code-builderè‡ªåŠ¨ç”Ÿæˆ&lt;/p&gt; * &lt;p&gt;è¡¨å: app_balance_type - ä½™é¢ç±»å‹ä¿¡æ¯è¡¨&lt;/p&gt; * =============================== * Created with code-builder. * Userï¼šæ’å®‡å°‘å¹´ * Dateï¼šJul 17, 2018 9:09:13 PM * ç®€ä¹¦ï¼šhttp://www.jianshu.com/u/092df3f77bca * ç äº‘ï¼šhttps://gitee.com/hengboy * ================================ */@Datapublic class BalanceTypeEntity { /** * BT_ID - ä½™é¢ç±»å‹ä¸»é”® */ private String btId; /** * BT_NAME - ä½™é¢ç±»å‹åç§° */ private String btName; /** * BT_FLAG - ä½™é¢ç±»å‹æ ‡è¯† */ private String btFlag; /** * BT_CREATE_TIME - æ·»åŠ æ—¶é—´ */ private Timestamp btCreateTime; /** * BT_MARK - ä½™é¢ç±»å‹å¤‡æ³¨ä¿¡æ¯ */ private String btMark;}</pre><p>åˆ›å»ºçš„å®ä½“ç±»å»äº†å“ªé‡Œï¼Ÿ</p><p>åˆ›å»ºçš„å®ä½“ç±»ä¼šåœ¨target/generated-sources/javaç›®å½•ä¸‹ï¼Œå¦‚æœä½ é…ç½®packagePrefixå‚æ•°ï¼Œä¼šè‡ªåŠ¨åœ¨ç”Ÿæˆç›®å½•ä¸‹åˆ›å»ºpackagePrefixé…ç½®å€¼çš„å­ç›®å½•ã€‚ å¦‚ï¼š</p><pre>&lt;packagePrefix&gt;com.code.builder.sample&lt;/packagePrefix&gt;</pre><p>åˆ™æœ€ç»ˆåˆ›å»ºçš„ç”Ÿæˆæ ¹ç›®å½•ä¸ºï¼štarget/generated-sources/java/com/code/builder/sample</p><div class=pgc-img><img alt="ä»£ç ç”Ÿæˆå™¨ code-builder" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/9d3e383f-ba9b-45c8-9d77-aa8e04bbef7b><p class=pgc-img-caption></p></div><p>æ€ä¹ˆä½¿ç”¨ï¼Ÿ</p><p>SpringBoot æ–¹å¼ä½¿ç”¨</p><ol><li>è¿è¡Œé¡¹ç›®å°±å¯ä»¥æ ¹æ®é…ç½®ç”Ÿæˆå¯¹åº”çš„æ–‡ä»¶</li></ol><p>Maven Plugin æ–¹å¼ä½¿ç”¨</p><ol><li>æ‰§è¡Œmvn cleanå‘½ä»¤ç”¨äºæ¸…ç©ºtargetç›®å½•ä¸‹çš„å†…å®¹</li><li>æ‰§è¡Œmvn compileå‘½ä»¤ç¼–è¯‘é¡¹ç›®å¹¶ä¸”ç”Ÿæˆå®ä½“ç±»</li></ol><p>ä¸ºä»€ä¹ˆSpringBootæ–¹å¼ä¸ç”¨é…ç½®æ•°æ®åº“ä¿¡æ¯ï¼Ÿ</p><p>Maven Pluginæ–¹å¼æ˜¯é€šè¿‡é…ç½®çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ä»¥åŠæ•°æ®åº“è¿æ¥é©±åŠ¨è·å–æ•°æ®åº“è¿æ¥å¯¹è±¡Connectionåæ¥æ“ä½œJDBCå…ƒæ•°æ®ã€‚</p><p>è€ŒSpringBootæ–¹å¼åˆ™æ˜¯ç›´æ¥ä½¿ç”¨é¡¹ç›®ä¸­é…ç½®çš„DataSourceå¯¹è±¡å®ä¾‹æ¥è¿›è¡Œè·å–çš„Connectionæ•°æ®åº“è¿æ¥å¯¹è±¡åæ¥æ“ä½œJDBCå…ƒæ•°æ®ã€‚</p><blockquote><p>æ³¨æ„ï¼šå¦‚æœä½ æ˜¯å¤šæ•°æ®æºé¡¹ç›®ï¼Œé»˜è®¤ä¼šä½¿ç”¨primaryæ•°æ®æºå®ä¾‹ã€‚</p></blockquote><p>ç§ä¿¡å›å¤"code-builder"è·å–é“¾æ¥åœ°å€ï¼Œå–œæ¬¢çš„ç‚¹ä¸ªå…³æ³¨ï¼Œä¸€èµ·å­¦ä¹ æ¢è®¨æ–°æŠ€æœ¯ã€‚</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'ç”Ÿæˆå™¨','ä»£ç ','code'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>