<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>计算机启动过程、启动故障诊断及启动盘制作 | 极客快訊</title><meta property="og:title" content="计算机启动过程、启动故障诊断及启动盘制作 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/89b35bf285e14d81b52b8d1ee2eecf8e"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4245add.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4245add.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4245add.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4245add.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4245add.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4245add.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4245add.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4245add.html><meta property="article:published_time" content="2020-10-29T20:53:30+08:00"><meta property="article:modified_time" content="2020-10-29T20:53:30+08:00"><meta name=Keywords content><meta name=description content="计算机启动过程、启动故障诊断及启动盘制作"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/4245add.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>计算机启动过程、启动故障诊断及启动盘制作</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>写在前面：</p><p>我们的祼机是无法直接使用的，所以说通常所说的计算机启动是指计算机打开电源并运行到操作系统：</p><p>I 开机后，要检查一下硬件是否满足运行的基本条件。</p><p>II 计算机系统安装在哪里？软盘、光盘、硬盘、U盘、网络？往往一台计算机可以安装多个操作系统，那不同的操作系统存放在不同的分区。所以存在存储设备和活动分区选择的问题。</p><p>III 操作系统要加载到内存才可以运行。</p><p>上述过程的完成，需要一个程序最先运行，这个程序比较小，可以固化在一个小的存储设备中，称为BIOS。存储BIOS的芯片由一块后备电池供电，因此无论是在关机状态中，还是遇到系统掉电情况，其信息都不会丢失。</p><h1 class=pgc-h-arrow-right>一、计算机启动流程</h1><p>计算机启动是一个比较复杂的过程，这里主要介绍window启动流程：</p><div class=pgc-img><img alt=计算机启动过程、启动故障诊断及启动盘制作 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/89b35bf285e14d81b52b8d1ee2eecf8e><p class=pgc-img-caption></p></div><p>MBR主引导记录由三个部分组成：</p><blockquote class=pgc-blockquote-abstract><p>（1） 第001-446字节：调用操作系统的机器码。</p><p>（2） 第447-510字节：分区表（Partition table）。</p><p>（3） 第511-512字节：主引导记录签名（0x55和0xAA）。</p></blockquote><p>当电脑运行完POST后，传统型BIOS会根据启动扇区查找开机硬盘中标记"启动"分区下的BOOTMGR文件；若是UEFI则是Bootmgr.efi文件，接着管理程序会读取开机配置数据库（BCD, Boot Configuration Database）下的启动数据，接着根据其中的数据加载与默认或用户所选择的操作系统。</p><p>开机配置数据库是一个存储启动配置且独立于硬件的数据库。它替代了由旧版Windows使用的NTLDR之开机配置文件案boot.ini。开机配置数据库的文件结构是与Windows登录数据库完全相同的。</p><p>Windows Boot Manager通过调用winload.exe程序（作业系统的开机程序）来加载操作系统的核心（ntoskrnl.exe）和基本系统应用程序的。winload.exe用来替代先前Windows中NTLDR程序。</p><h1 class=pgc-h-arrow-right>二、电脑不启动故障诊治全攻略</h1><p>在诸多电脑故障中，无法正常启动是最令用户头痛的事了。</p><p>根据启动过程和故障现象进行诊治：</p><p><strong>1 系统完全不能启动，见不到电源指示灯亮，也听不到冷却风扇的声音。</strong></p><p>这时，基本可以认定是电源部分故障，检查电源线和插座是否有电、主板电源插头是否连好，UPS是否正常供电，再确认电源是否有故障，最简单的就是替换法。</p><p><strong>2 电源指示灯亮，风扇转，但没有明显的系统动作。</strong></p><p>这种情况如果出现在新组装电脑上，应该首先检查CPU是否插牢或更换CPU，而正在使用的电脑的CPU损坏的情况比较少见（人为损坏除外），损坏时一般多带有焦糊味，如果刚刚升级了BIOS或者遭遇了CIH病毒攻击，这要考虑BIOS损坏问题（BIOS莫名其妙的损坏也是有的），修复BIOS的方法很多杂志都介绍过就不重复了；</p><p>确认CPU和BIOS没问题后，就要考虑CMOS设置问题，如果CPU主频设置不正确也会出现这种故障，解决方法就是将CMOS信息清除，既要将CMOS放电，一般主板上都有一个CMOS放电的跳线，如果找不到这个跳线可以将CMOS电池取下来，放电时间不要低于5分钟，然后将跳线恢复原状或重新安装好电池即可；</p><p>如果CPU、BIOS和CMOS都没问题还要考虑电源问题：PC机电源有一个特殊的输出信号，称为POWER GOOD（PG）信号，如果PG信号的低电平持续时间不够或没有低电平时间，PC机将无法启动。如果PG信号一直为低电平，则PC机系统始终处于复位状态。这时PC机也出现黑屏、无声响等死机现象。但这需要专业的维修工具外加一些维修经验，因此，建议采用替换法；电源没有问题就要检查是否有短路，确保主板表面不和金属（特别是机箱的安装固定点）接触。把主板和电源拿出机箱，放在绝缘体表面，如果能启动，说明主板有短路现象；如果还是不能启动则要考虑主板问题，主板故障较为复杂，可以使用替换法确认，然后更换主板。</p><p><strong>3 电源指示灯亮，系统能启动，但系统在初始化时停住了，而且可以听到喇叭的鸣叫声（没有显示画面）</strong></p><p>根据峰鸣代码可以判断出故障的部位。</p><blockquote class=pgc-blockquote-abstract><p>Award BIOS</p><p>1短声：说明系统正常启动。表明机器没有问题。</p><p>2短声：说明CMOS设置错误，重新设置不正确选项。</p><p>1长1短：说明内存或主板出错，换一个内存条试试。</p><p>1长2短：说明显示器或显示卡存在错误。检查显卡和显示器插头等部位是否接触良好或用替换法确定显卡和显示器是否损坏。</p><p>1长3短：说明键盘控制器错误，应检查主板。</p><p>1长9短：说明主板Flash RAM、EPROM错误或BIOS损坏，更换Flash RAM。</p><p>重复短响：说明主板电源有问题。</p><p>不间断的长声：说明系统检测到内存条有问题，重新安装内存条或更换新内存条重试。</p><p>AMI BIOS</p><p>1短：说明内存刷新失败。更换内存条。</p><p>2短：说明内存ECC较验错误。在CMOS 中将内存ECC校验的选项设为Disabled或更换内存。</p><p>3短：说明系统基本内存检查失败。换内存。</p><p>4短：说明系统时钟出错。更换芯片或CMOS电池。</p><p>5短：说明CPU出现错误。检查CPU是否插好。</p><p>6短：说明键盘控制器错误。 应检查主板。</p><p>7短：说明系统实模式错误，不能切换到保护模式。</p><p>8短：说明显示内存错误。显示内存有问题，更换显卡试试。</p><p>9短：说明BIOS芯片检验和错误。</p><p>1长3短：说明内存错误。内存损坏，更换。</p><p>1长8短：说明显示测试错误。显示器数据线没插好或显示卡没插牢。</p></blockquote><p><strong>4 系统能启动，有显示画面，出现故障提示</strong></p><p>这时可以根据提示来判断故障部位。下面就是一些常见的故障提示的判断：</p><p>4.1 提示“CMOS Battery State Low”</p><p>原因：CMOS参数丢失，有时可以启动，使用一段时间后死机，这种现象大多是CMOS供电不足引起的。</p><p>对于不同的CMOS供电方式，采取不同的措施：</p><blockquote class=pgc-blockquote-abstract><p>a 焊接式电池：用电烙铁重新焊上一颗新电池即可；</p><p>b 纽扣式电池：直接更换；</p><p>c 芯片式：更换此芯片，最好采用相同型号芯片替换。</p></blockquote><p>如果更换电池后时间不长又出现同样现象的话，很可能是主板漏电，可检查主板上的二极管或电容是否损坏，也可以跳线使用外接电池，不过这些都需要有一定的硬件维修基础才能完成。</p><p>4.2 提示“CMOS Checksum Failure”</p><p>CMOS中的BIOS检验和读出错；提示“CMOS System Option Not Set”， CMOS系统未设置；提示“CMOS Display Type Mismatch ”，CMOS中显示类型的设置与实测不一致；提示“CMOS Memory Size Mismatch”，主板上的主存储器与CMOS中设置的不一样；提示“CMOS Time & Date Not Set ”，CMOS中的时间和日期没有设置。这些都需要对CMOS重新设置。</p><p>4.3 提示“Keyboard Interface Error”后死机</p><p>原因：主板上键盘接口不能使用，拔下键盘，重新插入后又能正常启动系统，使用一段时间后键盘无反应，这种现象主要是多次拔插键盘引起主板键盘接口松动，拆下主板用电烙铁重新焊接好即可；也可能是带电拔插键盘，引起主板上一个保险电阻断了（在主板上标记为Fn的东西），换上一个1欧姆／0.5瓦的电阻即可.</p><p>4.4 自检过程中断在xxxK Cache处</p><p>这表示主板上Cache损坏，可以在CMOS设置中将“External Cache”项设为“Disable”故障即可排除。同理，在自检主板部件时出现中断，则可以认为该部件损坏，解决方法一般可以在CMOS中将其屏蔽，如果不能屏蔽该部件最好更换主板</p><p>4.5 提示“FDD Controller Failure”</p><p>BIOS不能与软盘驱动器交换信息；提示“HDD Controller Failure”， BIOS不能与硬盘驱动器交换信息。应检查FDD（HDD）控制卡及电缆。</p><p>4.6 提示“8042 Gate A20 Error ”</p><p>8042芯片坏；提示“DMA Error”， DMA 控制器坏。这种故障需要更换。</p><p>4.7 提示“Display Switch Not Proper”</p><p>主板上的显示模式跳线设置错误，重新跳线。</p><p>4.8 提示“Keyboard is Lock...Unlock it”</p><p>键盘被锁住，打开锁后重新引导系统。</p><p>4.9 IDE接口设备检测信息为：“Detecting Primary （或Secondary）Master（或Slave）... None”</p><p>表示该IDE接口都没有找到硬盘，如果该IDE口确实接有硬盘的话，则说明硬盘没接上或硬盘有故障，可以从以下几方面检查：</p><blockquote class=pgc-blockquote-abstract><p>a 硬盘电源线和数据线是否接触不良，或换一根线试试；</p><p>b CMOS设置有无错误，进入CMOS将“Primary Master”、“Primary Slave”、“Secondary Master”三项的的“TYPE”都设置成“Auto”；</p><p>c 替换法确认硬盘本身有故障。</p></blockquote><p>4.10 IDE接口设备检测信息下面显示“Floppy disk(s) fail(40)”出错信息</p><p>表示CMOS所指定的软盘驱动器有问题。判断和解决的方法与硬盘相似。</p><p><strong>5 系统不能引导。</strong></p><p>这种故障一般都不是严重问题，只是系统在找到的用于引导的驱动器中找不到引导文件，比如：BIOS的引导驱动器设置中将软驱排在了硬盘驱动的前面，而软驱中又放有没有引导系统的软盘或者BIOS的引导驱动器设置中将光驱排在了硬盘驱动的前面，而光驱中又放有没有引导系统的光盘，这个都很简单，将光盘或软盘取出就可以了，实际应用中遇到“Disk Boot Failure，Insert System Disk And Press Enter”的提示，多数都是这个原因。</p><p>如果是硬盘不能引导的话一般有两种情况：一种是硬盘数据线没有插好，另一种就是硬盘数据损坏。前者一般多会出现硬盘容量检测不正确和引导时出现死机的现象；后者则是干脆找不到引导文件或提示文件损坏。前者只需重新连接好数据线即可；后者则需要用启动盘或启动光盘启动，根据实际情况来定：</p><p>5.1 提示“Invalid partition table”或“Not Found any [active partition] in HDD Disk Boot Failure，Insert System Disk And Press Enter” ，这说明找不到硬盘活动分区，需要对硬盘重新分区。</p><p>5.2 提示“Miss operation syste”，说明硬盘活动分区需要重新格式化（format c:/s）。</p><p>5.3 提示“Invalid system disk Replace the disk， and then press any key”或显示“Starting Windows 98 …”时出现死机，说明硬盘上的系统文件丢失了或损坏，使用“sys c:”，命令传递系统文件给c盘，再将Command.com拷贝给c盘。</p><p><strong>6 硬盘可以引导，但Windows不能正常启动，也不能进入安全模式。</strong></p><p>这种情况表明Windows出现了严重的错误，首先，用杀毒软件查杀病毒，看是不是病毒造成的，如果没有发现病毒可以用以下方法试一试。</p><p>6.1 直接将接口卡与各个外设都拨去，再插回去，并调整接口卡上的设置（如果可以的话）来检查是否是硬件冲突造成，开机看看是否可正常进入Windows。</p><p>6.2 检查CMOS中的设置是否有不正确的地方，若不清楚，可选择Load Bios Default项目，然后重开机，开机看是否可正常进入Windows。</p><p>6.3 在启动时按下F8键，一般会出现6个选项（如果安装了DOS6.22则出现7个选项）选择第4项“step－by－step confirmation”进入单步运行方式，按照出现死机的命令选择处理方法：</p><blockquote class=pgc-blockquote-abstract><p>a 执行“Process the system registry”计算机就死机，说明是注册表故障，那么可以重新启动按F8键，选第4项后，只在Device=c:\windows\himem.sys 这一项上按“Y”，其余的按“N”后，在DOS提示符下输入Scanreg ／fix 修复注册表或者是 scanreg ／restore恢复到以前系统自动备份的注册表后，再重新启动即可。</p><p>b 在出现“Create a startup log file (BOOTTLOG.TXT) [Enter=Y，Esc=N]”时，选择Y建立Bootlog.txt这个文件，可以检查启动过程中各个系统文件装载的情况。如果在装载某一个.vxd文件时死机，可以到其它计算机上覆制该.vxd文件拷贝过来。</p><p>c 如果是一启动就出现“现在可以安全地关闭计算机了”，一般是因为Windows的System目录的vmm32.vxd被损坏，可以到其它计算机上重新复制一个过来。</p><p>d 一启动就出现蓝屏并显示“VFAT Devcie Initialization Faild”，表示调用Windows目录下的dblbuff.sys和ifshlp.sys文件出了问题，可以在config.sys文件中手工加入如：</p><p>“device=c:\windows\dblbuff.sys”和“devicehigh=c:\windows\ifshlp.sys”，如果还是不行，则表明这两个文件己损坏，可以到其他计算机上新复制过来一份。</p></blockquote><p>6.4 使用文本编辑程序将Msdos.sys文件中的LOGO参数设置为“0”，关闭后再开机时，看看是否可进入Windows，若还是不行，则只能重新安装Windows系统了。在重装Windows时，建议先采用覆盖原来的Windows的方法，这样做的好处是：如果故障能够排除，原来的许多应用程序就不用再安装了；如果覆盖式安装不能解决问题，再采用硬盘格式化之后安装Windows的方法。</p><p><strong>7 Windows无法启动，但能进入安全模式。</strong></p><p>这种故障一般问题不大，修复的机率较高。具体可以参照下面的几种方法去做：</p><p>7.1 在安装新设备后不能正常启动，进入安全模式后，在“控制面板”－－“系统”中选择“设备管理器”选项卡，在列出的所有设备中查找前有一个感叹号冲突的设备，如果有的话，打开这个设备的“属性”，查看“资源”选项卡，看看这个设备与其它设备的中断冲突，然后取消“自动设置”复选框，单击“更改设置”按钮，选择一个没有使用的中断号即可。如果还不行，则可以在设备属性中选择“常规”选项卡，选中“在此硬件配置文件中禁用”复选框，如果能正常启动成功，证明这个硬件的驱动程序可能有问题，可以在设备管理器中将它删除后重装驱动程序。</p><p>7.2 安装了启动时自动运行软的后不能正常启动，可以将其卸载，待系统可以正常启动后，尝试重新安装。顺便说一句，安装系统启动时自动运行的软件不要与其它软件在同一次启动中安装可以减少此类故障。</p><p>7.3 电脑启动时自动运行的文件出现故障造成Windows不能正常启动，或者前一种情况软件无法卸载（包括不能完全卸载）的，可以到下面的地方找到并将其删除：</p><blockquote class=pgc-blockquote-abstract><p>a “开始”菜单内的“程序”文件夹中的“启动”文件夹内。</p><p>b Config.sys与Autoexec.bat中，若有则在该行前面加上“rem”不让它运行。通常防病毒程序都会在这两个文件中加入要执行的程序。</p><p>c Window目录下的Win.ini中[Windows]段中的Run或Load参数后，这里也可以在该行前加上“Rem”，不让它执行。</p><p>d 注册表（Registry）中，运行注册表编辑器(Regedit)，进入编辑器后利用“编辑”中的“查找”功能查找产生故障的自动可执行文件，将不要执行项目的主键删除或将文件更名。注意：修改注册表时，要事先用“导出注册表文件”的方法做好备份。</p></blockquote><p>7.4 如果在系统启动时提示丢失了某些在system.ini文件中的.vxd、.386等文件，你可以到其他计算机上拷贝相应的文件到对应的位置，如果还不行，你还可以备份你的Windows安装目录下system.ini文件，然后用文本编辑器打开system.ini文件找到相应的.vxd或.386的那一行，将该行删除即可，如果修改有误，再用备份还原即可。</p><p>7.5 如果 Windows不能正常启动是由系统文件损坏造成的，可以运行在Windows\system目录下的Sfc.exe文件来检查并恢复遗失或损毁的系统文件，如果产生问题的那个文件是Windows系统需要用到的，则会被修复回来。</p><p>7.6 如果Windows不能正常启动是由文件版本冲突造成的，可以运行Windows目录下的Vemui.exe文件，找出产生问题的文件后，选择“恢复所选文件（R）”按钮，则Windows98会自动用不同号的版本取代目前使用文件，而版本冲突管理器也会给这个被取代的文件制作备份，可以再换回来。</p><h1 class=pgc-h-arrow-right>三、启动盘是怎么回事？</h1><p>如果硬盘出现问题（操作系统安装在硬盘上），即无法启动到操作系统，此时就可以退而求其次，先启动到启动盘（dos操作系统或图形化用户界面操作系统的精减版，如PE操作系统）。</p><p>这是因为，启动文件可以保存在任何一种介质上，但当硬盘文件损坏时或无法启动windows时，就需要用到用光盘、U盘、移动硬盘或磁盘（如有软盘驱动器的话）的启动盘了（安装盘上也有启动文件，其本身也是一个启动盘），启动到dos或PE系统进行安装或恢复。</p><p>如果在DOS上再增加若干款DOS实用程序（工DOS外部命令）的也有称为系统盘的。</p><blockquote class=pgc-blockquote-abstract><p>I Boot引导程序</p><p>II IO.SYS(输入输出处理程序)</p><p>III MSDOS.SYS（文件处理程序）</p><p>IV command.com（命令处理程序）</p></blockquote><p>常见DOS命令，可在DOS环境下完成磁盘分区、磁盘格式化以及文件拷贝等操作。同时，它还包含了光盘、U盘驱动程序，允许Windows系统不能启动时，在DOS环境下直接使用光驱a或U盘。</p><h1 class=pgc-h-arrow-right>1 为U盘安装windows启动代码</h1><p>开始→cmd→diskpart：</p><div class=pgc-img><img alt=计算机启动过程、启动故障诊断及启动盘制作 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6c0cd1208e2f476fa1df8064e102c07c><p class=pgc-img-caption></p></div><p>DISKPART>list disk</p><p>DISKPART>select disk 3</p><p>选择你的U盘（注意千万不要选错盘，下一步操作会清空选择磁盘的数据）</p><p>DISKPART>clear</p><p>清空盘上所有数据和分区（此操作将清空选择的盘上所有数据，如果U盘上有重要数据，在操作此步前请先备份）</p><p>DISKPART>create partition primary</p><p>使用U盘所有空间创建一个主分区.</p><p>DISKPART>select partition 1</p><p>选择刚刚创建的分区。</p><p>DISKPART>format quick fs=fat32</p><p>快速格式化刚刚的分区（这里的fs=fat32指文件系统使用fat32（推荐），你也可以考虑fs=ntfs使用ntfs系统，但是在dos或者linux等环境下不支持）</p><p>DISKPART>active</p><p>将分区设置为活动分区。</p><p>完整的过程如下图：</p><div class=pgc-img><img alt=计算机启动过程、启动故障诊断及启动盘制作 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9ddb04d423ed4ef9a35fe370efff7a75><p class=pgc-img-caption></p></div><p>好，到这里，我们已经为U盘安装了windows启动代码。但是此时的U盘上实际上什么文件都没有，如果直接引导开机的话会提示bootmgr missing。</p><h1 class=pgc-h-arrow-right>2 安装windows引导程序bootmgr</h1><p>打开easybcd（官方下载地址：https://neosmart.net/Download/Register，只要输入用户名和邮箱即可以下载个人版）。<br>切换到BCD Deployment，partition（分区）选择我们的U盘，然后点击Install BCD。</p><div class=pgc-img><img alt=计算机启动过程、启动故障诊断及启动盘制作 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/93e3e70547ea46aaa294eb18976a82c2><p class=pgc-img-caption></p></div><p>等待安装完成。<br>弹出提示：安装完成，是否打开刚刚安装的BCD，点击是。<br>到这里我们可以打开U盘查看下，一共可以看到2个文件夹和一个bootmgr文件。</p><p>（如果只能看到EFI文件夹，请按如下设置显示所有文件）</p><p>组织→文件夹和搜索选项→查看，按红框里设置，确定。</p><p>这里说明一下几个文件的用途：</p><blockquote class=pgc-blockquote-abstract><p>Bootmgr ---- 我们的legacy模式下的引导文件</p><p>EFI文件夹---- 里边是UEFI模式下的引导文件（这个版本的easybcd不支持UEFI）</p><p>Boot文件夹 --- 里边是各种语言包/字体包以及引导配置保存文件BCD</p></blockquote><p>我们后面所有的操作均是对这个BCD文件进行，BCD文件中保存的是启动菜单和配置信息。</p><p>好，我们回到easybcd软件。</p><p>点击viewsettings查看，显示我们操作的文件是I:\Boot\BCD，里边看到的是空白的，我们什么都没有添加。</p><h1 class=pgc-h-arrow-right>3 添加启动项</h1><p>点击Add New Entry。</p><p>可以看到支持很多种引导方式。</p><p>比如，直接引导各种系统windows，linux，mac，甚至可以调用grub。</p><p>或者通过加载vhd、iso、wim、img等镜像引导。</p><p><strong>3.1 添加一个wim封装的win PE系统</strong></p><p>引导Wim封装的winpe我们选择winpe。</p><div class=pgc-img><img alt=计算机启动过程、启动故障诊断及启动盘制作 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/11a062e619864800ac1cf07d80064a88><p class=pgc-img-caption></p></div><p>把wim镜像复制到U盘上，可以放在根目录，也可以放在某个文件夹下面。</p><p>这里我们在U盘上新建一个pe文件夹，然后把下载下来的PE放在这里。</p><p>（注意U盘引导任何镜像，请先将该镜像复制到U盘上，否则只能在本机引导，换个电脑就找不到镜像文件了）</p><p>在easybcd中选择winpe。</p><p>Type选择WIM Image(Ramdisk) 推荐。</p><p>使用内存盘运行-在加载的时候将整个WIM加载到内存中，作为一个虚拟内存盘，加载完成后U盘就可以拔掉了，但wim不能太大超出内存大小。</p><p>Name随便填一个。</p><p>Path就是我们刚刚复制到U盘上的PE文件。</p><p>点击Add Entry。</p><p>回到viewsettings我们可以看到已经添加了一项。</p><p><strong>3.2 也可以再增加一个win7安装盘</strong></p><p>用ultraiso打开一个原版WIN764 ISO镜像，将sources，support，upgrade目录解压缩到U盘根目录（注意不要解压所有的文件，我们只要3个文件夹，尤其是不要解压boot目录，里边也包含bcd文件，会覆盖我们u盘上刚刚生成的bcd）</p><p>然后在easybcd中添加一个winpe，path选择source下的boot.wim。</p><p><strong>3.3 还可以再添加一个DOS 启动ISO镜像（可用easyboot制作）</strong></p><p>同样复制到U盘，新建个iso目录。</p><p>选择ISO文件，选择LOAD FROM MEMORY(针对小文件兼容性好)，点击 add Entry。</p><p>（不是所有的ISO都能启动，这个只能测试，比如LINUX安装盘就无法启动，太大的ISO可能也不行）</p><h1 class=pgc-h-arrow-right>4 启动菜单设置</h1><p>到这里，我们添加了3个启动项。</p><p>在Edit Boot Menu里可以设置排序，默认项，倒计时时间等等，区域选择China，否则中文无法显示，最后别忘了点击Save Settings，并退出easybcd（不退出可能部分设置不保存）</p><div class=pgc-img><img alt=计算机启动过程、启动故障诊断及启动盘制作 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d7077a1ac9144e6e8fb40d3271731966><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>5 另外的选择：一键制作工具</h1><p>以上只是描述了一般启动盘的制作过程。</p><p>也可以使用一键制作u盘启动盘winpe系统的工具来制作：https://www.laomaotao.net/</p><p>-End-</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'启动','计算机','过程'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>