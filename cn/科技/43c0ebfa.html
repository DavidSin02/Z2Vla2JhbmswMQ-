<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>点击了解如何提高链路带宽和链路的可靠性 实现冗余？ | 极客快訊</title><meta property="og:title" content="点击了解如何提高链路带宽和链路的可靠性 实现冗余？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/c86aef5811964cbaa8fe95d3f95a0038"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/43c0ebfa.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/43c0ebfa.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/43c0ebfa.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/43c0ebfa.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/43c0ebfa.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/43c0ebfa.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/43c0ebfa.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/43c0ebfa.html><meta property="article:published_time" content="2020-11-14T21:06:12+08:00"><meta property="article:modified_time" content="2020-11-14T21:06:12+08:00"><meta name=Keywords content><meta name=description content="点击了解如何提高链路带宽和链路的可靠性 实现冗余？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/43c0ebfa.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>点击了解如何提高链路带宽和链路的可靠性 实现冗余？</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div class=pgc-img><img alt="点击了解如何提高链路带宽和链路的可靠性 实现冗余？" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c86aef5811964cbaa8fe95d3f95a0038><p class=pgc-img-caption></p></div><h1><strong>以太信道：Etherchannel（链路聚合LAG）</strong></h1><p>工作原理：以太信道是把两台交换机间的多条物理链路聚合在一起，当做一条逻辑链路来使用，以实现提高链路带宽和链路的可靠性；在以太信道中，SWA发送给SWB的流量，是不会再通过其他成员链路发送回来的，以防止环路的产生。</p><p>一条以太信道可以包含多条成员链路，默认最多为8条。在理论上，通过聚合几条链路，一个聚合口的带宽可以扩展为所有成员口带宽的总和（实际不是）；实际上是基于不同源目MAC地址、源目IP地址；通过HASH计算后将散列值绑定到每一根成员链路上，然后通过匹配数据帧或数据包将流量通过不同的成员链路进行转发，以此来利用多条链路的带宽。</p><div class=pgc-img><img alt="点击了解如何提高链路带宽和链路的可靠性 实现冗余？" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/aba7e853f31f4dafa31f140777ac345b><p class=pgc-img-caption></p></div><p>1、以太信道两端的以太网链路、Ethchannel编号、接口编号、双工模式、带宽、以太信道模式必须保持一致。</p><p>2、Ethchannel-id用来唯一标识一个Ethchannel，该参数的取值可以是0到63之间的任何一个整数。</p><p><strong>以太信道模式：</strong>手动负载均衡模式和静态LACP模式</p><div class=pgc-img><img alt="点击了解如何提高链路带宽和链路的可靠性 实现冗余？" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/dc7a05aa5bc6477c97819fd767febb92><p class=pgc-img-caption></p></div><p>1、静态模式：Ethchannel的建立、成员接口的加入由手工配置；该模式下所有活动链路都参与数据的转发，平均分担流量，因此称为负载均衡模式。如果某条活动链路故障，链路聚合组自动在剩余的活动链路中平均分担流量。</p><p>2、动态LACP模式：链路聚合控制协议，共有标准协议；链路两端的设备相互发送LACP报文，协商以太信道参数；LACP协商选举活动接口和非活动接口，同时在链路两端选举出主交换机和从交换机（同根桥选举），由主交换机来确定由哪些成员链路发送数据，哪些成员链路作为备份链路；LACP有两种工作模式；</p><p>3、动态PAgP模式：端口聚合协议，思科私有协议，不常用；PAgP数据包每30秒发送一次，PAgP会通过这些数据包来查看两端的配置是否一致，并以此管理交换机两端添加链路及链路失效问题；PAgP也有两种工作模式；</p><p>*Passive/Auto：被动等待对端发送LACP/PAgP请求，本端不主动发送请求，如果两端的模式都是Passive/Auto，那么将无法形成EtherChannel。</p><p>*Active/Desirable：主动向对端发送LACP/PAgP请求建立EtherChannel，对端为Passive/Auto或Active/Desirable都可以建立EtherChannel。</p><p>注：使用动态PAgP模式建议关闭Non-Silent参数。</p><p>▶三种以太信道模式的主要区别是：在静态模式中，所有的成员口都处于转发状态；在动态LACP/PAgP模式中，一些链路充当备份链路；</p><p>配置Eth-Trunk口和成员口，需要注意以下规则：</p><p>*只能删除不包含任何成员口的Ethchannel口。</p><p>*把接口加入Ethchannel口时，二层Ethchannel口的成员口必须是二层接口</p><p>*加入Ethchannel口的接口必须是Trunk/Access接口。</p><p>*一个Ethchannel口不能充当其他Ethchanne口的成员口；一个以太接口只能加入一个Ethchannel口。如果把一个以太接口加入另一个Ethchannel口，必须先把该以太接口从当前所属的Ethchannel口中删除。</p><p>*一个Ethchannel口的成员口类型必须相同。例如，一个快速以太口（FE口）和一个千兆以太口（GE口）不能加入同一个Eth-Trunk。</p><p>*位于不同接口板（LPU）上的以太网口可以加入同一个Ethchannel口。如果一个对端接口直接和本端Ethchannel口的一个成员口相连，该对端接口也必须加入一个Ethchannel口。否则两端无法通信。</p><p>VPC和VPC+：在数据中心场景中的以太信道</p><hr><p>关注公众号【网络工程师集中营】</p><p>回复关键词：太阁</p><p>即可免费领取课程</p><div class=pgc-img><img alt="点击了解如何提高链路带宽和链路的可靠性 实现冗余？" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/72bacfb8e26d48e39f229e65914edc7b><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="点击了解如何提高链路带宽和链路的可靠性 实现冗余？" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/728a9a5830404c778c9ec4cca7583b1c><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'链路','点击','了解'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>