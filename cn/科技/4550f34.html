<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>每天学习一点：电源分布网络中的因果关系问题 | 极客快訊</title><meta property="og:title" content="每天学习一点：电源分布网络中的因果关系问题 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/6a8e96139d154d98bda491d1614d5702"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4550f34.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4550f34.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4550f34.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4550f34.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4550f34.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4550f34.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4550f34.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4550f34.html><meta property="article:published_time" content="2020-10-29T21:07:06+08:00"><meta property="article:modified_time" content="2020-10-29T21:07:06+08:00"><meta name=Keywords content><meta name=description content="每天学习一点：电源分布网络中的因果关系问题"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/4550f34.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>每天学习一点：电源分布网络中的因果关系问题</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>在电源敏感的并行总线仿真中，信号走线和电源走线的S参数被一起提取。在没有因果关系（causality ）的情况下提取信号特征在文献中是众所周知的。然而，提取电源参数是有因果关系的，并且提取信号参数也是有因果关系的，因此这是一项具有挑战性的任务，因为信号和电源具有不同的参考阻抗。</p><p>非因果电源输送网络（PDN，power delivery network）可能在瞬态模拟期间导致不正确的电源纹波电压和不正确的信号摆幅。这导致信号完整性（SI）工程师错误地设计PDN，这对产品具有成本影响以及设计周期影响。</p><p>本文是电源敏感的SI模拟中PDN中因果关系问题的案例研究。由于电源敏感的IO缓冲模型（如IBIS 5.0）在模拟中非常常用，因此封装和电路板信号的电源参数提取（S参数）正成为一项挑战性的工作。电源完整性检查（直流下降或交流阻抗分析）将确保PDN对IC汲取电流提供低阻抗，以确保纹波电压得到控制。本文讨论了PDN的因果关系以及如果在PDN上没有对封装或单板进行因果关系检查对设计的影响。</p><p>具有多个参考阻抗的S参数已成为PCB走线和平面的SI-PI协同仿真建模的默认标准，因为它们准确地捕获诸如串扰，反射和损耗之类的非理想特性。例如，在处理信号的S参数时捕获系统中的谐振行为，并且在使用Z参数（从S参数转换）时容易看到阻抗行为。虽然使用S参数进行SI-PI协同分析有许多优点，但在时域仿真中使用它们存在一些问题。</p><p>假设傅立叶变换是从频域到时域的精确转换方式。如果S参数是连续的并且跨越所有频率，那将是真实的;不幸的是，这不是现实世界的情况。现实世界的S参数是带宽受限和采样的，因此转换到时域将导致非因果信号。</p><p>吉布斯效应（Gibbs Phenomenon）是一种众所周知的效应，其导致非因果时域信号并且是由于S参数数据集的有限带宽所引起的。下面的图1说明了这样的情况。</p><div class=pgc-img><img alt=每天学习一点：电源分布网络中的因果关系问题 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6a8e96139d154d98bda491d1614d5702><p class=pgc-img-caption>图1、(a)带宽受限导致的PCB走线损耗(b)相应的冲击响应</p></div><h1><strong>因果关系（Causality，因果律）</strong></h1><p>因果关系（Causality，因果律）是系统仅在收到激励之后才产生响应的属性</p><p>激励但不会提前响应。这项工作的目的是了解在S参数提取期间如何在功率敏感的瞬态仿真中提取信号以及对PDN的影响时，PDN网络中是否会出现因果关系违规。</p><p>要理解因果关系违规，我们需要将它们分为数值和非物理组件。吉布斯效应（Gibbs Phenomenon）是数值非因果关系的一个例子。数值非因果性是由两个独立的属性引起的：</p><p><strong>1.真实世界的S参数是带宽受限的，即不是无穷大带宽的。</strong></p><p><strong>2.真实世界S参数是一个采样数据集，即它是不连续的;它是一个离散化的数据集。</strong></p><p>例如，非物理组件可以是PCB走线的全波模拟，其使用可导致因果关系违规的非物理电介质模型。</p><p>为模拟信号，仿真工具无法使用无限连续信号;因此，无限信号必须离散化。信号的时域和频域表示通过离散傅立叶变换（DFT）链接。如果这样做不仔细的话，则会引入非因果关系效应。</p><p>图2比较了无限连续信号的冲击响应和带宽受限离散信号的冲击响应。</p><div class=pgc-img><img alt=每天学习一点：电源分布网络中的因果关系问题 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6fbace40d36140b98aa50930209e77ca><p class=pgc-img-caption>图2、无限连续信号的冲击响应和带宽受限离散信号的冲击响应</p></div><h1><strong>提取因果S参数模型</strong></h1><p>S参数数据的频率步长/间隔可以影响数据的因果关系：频率间隔越近，S参数模型越好。最大可接受频率间隔由所表征的网络的延迟和上升/下降时间确定。</p><p>S参数数据的最大频率可以影响数据的因果关系。更高的最大频率通常会更好。使数据超出与系统带宽相关的最高频率就足够了。</p><p>重要的是要确保频率扫描从0Hz开始，这是因果关系的性质（与IFFT要求相关），一个真正的DC点所要求的。</p><p>封装和电路板的PDN通常建模为DC至1GHz（芯片电容超过1GHz），参考阻抗为0.1欧姆。信号的建模基于它们的上升/下降时间和从DC开始的数据速率，参考阻抗为50欧姆。当信号和电源一起被提取时，Fmax由高速并行总线接口的信号Fmax决定。</p><p>与信号相比，遵循与频率步长相同的PDN（延迟计算）规则是有点棘手的，因为与1GHz以上的频率相比，PDN需要更多的样本高达1GHz。这确保捕获共振（高阻抗），并且PDN模型是因果关系。与高频相比，这导致低频的步进不均匀。使用行业标准模拟工具或Polar图轨迹验证PDN的因果关系非常重要。</p><p>通过在时间等于延迟到零之前设置所有样本，可以使时域响应完全成因果。下面的图3显示了具有和不具有非因果部分的时域响应。 （非因果部分能量几乎完全取决于频率间隔，对最大频率不敏感。）</p><div class=pgc-img><img alt=每天学习一点：电源分布网络中的因果关系问题 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/46ccfc59a5fc4b70b5a4e53a4647b200><p class=pgc-img-caption>图3、具有和不具有非因果部分的时域响应</p></div><h1><strong>级联因果</strong>通道<strong>模型（</strong>Cascading Causal Channel Models<strong>）</strong></h1><p>在DDR4或Flash接口等电源敏感并行总线仿真中，控制器封装S参数（Touchstone 2.0版本）与单板（Board） S参数以及存储器封装S参数级联，如图4所示。确保每个S参数都是因果关系还不够，因为时域响应仍然可以是非因果的。</p><p>建议使用完全相同的提取设置级联通道模型，优先级如下：</p><ul><li>相同的最大频率Fmax</li><li>相同频率步长</li><li>整数Fmax，即无非整数Fmax。</li><li>Fmax应该是步长的整数倍。 这允许容易重新插值。</li></ul><p>在级联多通道模型的同时，重新插入到公共步长然后在时域中推断为常见的Fmax具有挑战，这是与因果关系问题相关的众多挑战之一。</p><div class=pgc-img><img alt=每天学习一点：电源分布网络中的因果关系问题 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/06b283a719ec4c0c96735638520b60da><p class=pgc-img-caption>图4、级联因果通道模型（Cascading Causal Channel Models）</p></div><h1>PDN因果关系对时域模拟的影响</h1><p>前面的部分展示了如何提取因果模型以及级联多个因果通道模型中的挑战。本节将详细介绍PDN非因果关系对时域电源波动的影响。</p><p>如图4所示的瞬态仿真设置是DDR4 1600MTps 8位宽PRBS7，具有50ps上升时间数据总线以及差分DQS（数据选通）从控制器（IBIS 5.0）流向控制器封装（Touchstone 2.0）到电路板（Touchstone 2.0） ）到内存包（Touchstone 2.0）到内存（IBIS 5.0）的级联图。请注意，控制器和存储器的片上去帽不被视为模拟设置的一部分，以便捕获PDN因果关系的最小影响。</p><p>在此设置中，控制器包和板S参数提取由用户控制，而存储器包由存储器供应商提供（其被验证为因果模型）。</p><p>作为案例研究，生成两个S参数模型;其中一个有PDN因果关系，另一个有PDN非因果关系。注意，信号提取仍然是因果关系，只有PDN被改变。使用非因果关系作为数学人工产物（提取设置）来生成非因果和因果模型。 PDN的IO电源轨引入了非因果关系，它连接控制器电源IO引脚和存储器电源IO引脚。</p><p>图5显示了在IO PDN情况下因果（红色波形）和非因果（蓝色波形）的READ事务期间控制器IO电源轨上的纹波电压的比较。</p><p>请注意，纹波波形在形状方面是相同的，但与因果情况相比，非因果关系的幅度略低。</p><div class=pgc-img><img alt=每天学习一点：电源分布网络中的因果关系问题 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1a471c5a369e4558a686bd9bd6151d40><p class=pgc-img-caption>图5、PDN IO的因果和非因果仿真模型结果</p></div><p>图6显示了在针对IO PDN情况的因果（红色波形）和非因果（蓝色波形）的WRITE（写入）事务期间控制器IO电源轨上的纹波电压的比较。</p><p>请注意，纹波波形在形状方面基本相同，但与因果情况相比，非因果关系的幅度略低。</p><div class=pgc-img><img alt=每天学习一点：电源分布网络中的因果关系问题 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/21d5a5856eca4ed6ad459a2329a06ccc><p class=pgc-img-caption>图6、写入事件期间PDN IO的因果和非因果仿真模型结果</p></div><h1>结论</h1><p>该研究专门针对PDN的因果关系。研究表明如何生成因果模型，因果模型级联问题以及非因果性PDN对瞬态模拟的影响。非因果PDN导致不正确的电源纹波电压。作为一阶效应，不正确的电源纹波电压将导致信号波形上的眼图高度不正确。</p><p>在继续设计之前，确定PDN因果关系至关重要。如果不进行因果关系检查，则模拟可能存在缺陷。因果关系执行技术可以应用于数字非因果关系，但它们通常会在S参数中引入不需要的错误。这种强制执行的结果可能并不可靠，包括大多数商业工具明确或隐含地执行的著名的合理拟合过程。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'学习','一点','电源分'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>