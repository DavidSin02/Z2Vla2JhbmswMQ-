<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Swift中字符串和字符 | 极客快訊</title><meta property="og:title" content="Swift中字符串和字符 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/66c800013518d55ae208"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/460b16e4.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/460b16e4.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/460b16e4.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/460b16e4.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/460b16e4.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/460b16e4.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/460b16e4.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/460b16e4.html><meta property="article:published_time" content="2020-11-14T21:01:00+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:00+08:00"><meta name=Keywords content><meta name=description content="Swift中字符串和字符"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/460b16e4.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Swift中字符串和字符</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p><img alt=Swift中字符串和字符 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/66c800013518d55ae208></p><p><strong>字符串字面量</strong></p><p>你可以在代码里使用一段预定义的字符串值作为字符串字面量。字符串字面量是由一对双引号包裹着的具有固定顺序的字符集。</p><p>let someString = "Some string literal value"</p><p><strong>多行字符串字面量</strong></p><p>如果你需要一个字符串是跨越多行的，那就使用多行字符串字面量 —— 由一对三个双引号包裹着的具有固定顺序的文本字符集：</p><p>let quotation = """</p><p>The White Rabbit put on his spectacles."Where shall I begin,</p><p>please your Majesty?" he asked.</p><p>"Begin at the beginning," the King said gravely, "and go on</p><p>till you come to the end; then stop."</p><p>"""</p><p>一个多行字符串字面量包含了所有的在开启和关闭引号（"""）中的行。这个字符从开启引号(""")之后的第一行开始，到关闭引号(""")之前为止。这就意味着字符串开启引号之后(""")或者结束引号(""")之前都没有换行符号。（译者：下面两个字符串其实是一样的，虽然第二个使用了多行字符串的形式）</p><p><strong>字符串字面量的特殊字符</strong></p><p>字符串字面量可以包含以下特殊字符：</p><p>•转义字符\0(空字符)、\\(反斜线)、\t(水平制表符)、\n(换行符)、\r(回车符)、\"(双引号)、\'(单引号)。</p><p>•Unicode 标量，写成\u{n}(u为小写)，其中n为任意一到八位十六进制数且可用的 Unicode 位码。</p><p><strong>初始化空字符串</strong></p><p>要创建一个空字符串作为初始值，可以将空的字符串字面量赋值给变量，也可以初始化一个新的String实例：</p><p>var emptyString = ""// 空字符串字面量</p><p>var anotherEmptyString = String()// 初始化方法</p><p>// 两个字符串均为空并等价。</p><p>您可以通过检查其Bool类型的isEmpty属性来判断该字符串是否为空：</p><p>if emptyString.isEmpty {</p><p>print("Nothing to see here")</p><p>}</p><p>// 打印输出："Nothing to see here"</p><p><strong>字符串可变性</strong></p><p>您可以通过将一个特定字符串分配给一个变量来对其进行修改，或者分配给一个常量来保证其不会被修改：</p><p>var variableString = "Horse"</p><p>variableString += " and carriage"</p><p>// variableString 现在为 "Horse and carriage"</p><p><strong>字符串是值类型</strong></p><p>Swift 的String类型是值类型。如果您创建了一个新的字符串，那么当其进行常量、变量赋值操作，或在函数/方法中传递时，会进行值拷贝。任何情况下，都会对已有字符串值创建新副本，并对该新副本进行传递或赋值操作。</p><p><strong>使用字符</strong></p><p>您可通过for-in循环来遍历字符串，获取字符串中每一个字符的值：</p><p>for character in"Dog!" {</p><p>print(character)</p><p>}</p><p>// D</p><p>// o</p><p>// g</p><p>// !</p><p>//</p><p><strong>连接字符串和字符</strong></p><p>字符串可以通过加法运算符（+）相加在一起（或称“连接”）创建一个新的字符串：</p><p>let string1 = "hello"</p><p>let string2 = " there"</p><p>var welcome = string1 + string2</p><p>// welcome 现在等于 "hello there"</p><p>您也可以通过加法赋值运算符 (+=) 将一个字符串添加到一个已经存在字符串变量上：</p><p>var instruction = "look over"</p><p>instruction += string2</p><p>// instruction 现在等于 "look over there"</p><p>您可以用append()方法将一个字符附加到一个字符串变量的尾部：</p><p>let exclamationMark: Character = "!"</p><p>welcome.append(exclamationMark)</p><p>// welcome 现在等于 "hello there!"</p><p><strong>字符串插值</strong></p><p>字符串插值是一种构建新字符串的方式，可以在其中包含常量、变量、字面量和表达式。<strong>字符串字面量</strong>和<strong>多行字符串字面量</strong>都可以使用字符串插值。您插入的字符串字面量的每一项都在以反斜线为前缀的圆括号中：</p><p>let multiplier = 3</p><p>let message = "\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)"</p><p>// message 是 "3 times 2.5 is 7.5"</p><p><strong>计算字符数量</strong></p><p>如果想要获得一个字符串中Character值的数量，可以使用count属性：</p><p>let unusualMenagerie = "Koala , Snail , Penguin , Dromedary "</p><p>print("unusualMenagerie has \(unusualMenagerie.count) characters")</p><p>// 打印输出 "unusualMenagerie has 40 characters"</p><p><strong>访问和修改字符串</strong></p><p>你可以通过字符串的属性和方法来访问和修改它，当然也可以用下标语法完成。</p><p><strong>字符串索引</strong></p><p>每一个String值都有一个关联的索引(index)类型，String.Index，它对应着字符串中的每一个Character的位置。</p><p>你可以使用下标语法来访问String特定索引的Character。</p><p>let greeting = "Guten Tag!"</p><p>greeting[greeting.startIndex]</p><p>// G</p><p>greeting[greeting.index(before: greeting.endIndex)]</p><p>// !</p><p>greeting[greeting.index(after: greeting.startIndex)]</p><p>// u</p><p>let index = greeting.index(greeting.startIndex, offsetBy: 7)</p><p>greeting[index]</p><p>// a</p><p>试图获取越界索引对应的Character，将引发一个运行时错误。</p><p>greeting[greeting.endIndex] // error</p><p>greeting.index(after: endIndex) // error</p><p>使用indices属性会创建一个包含全部索引的范围(Range)，用来在一个字符串中访问单个字符。</p><p>for index in greeting.indices {</p><p>print("\(greeting[index]) ", terminator: "")</p><p>}</p><p>// 打印输出 "G u t e n T a g ! "</p><p><strong>插入和删除</strong></p><p>调用insert(_:at:)方法可以在一个字符串的指定索引插入一个字符，调用insert(contentsOf:at:)方法可以在一个字符串的指定索引插入一个段字符串。</p><p>var welcome = "hello"</p><p>welcome.insert("!", at: welcome.endIndex)</p><p>// welcome 变量现在等于 "hello!"</p><p>welcome.insert(contentsOf:" there", at: welcome.index(before: welcome.endIndex))</p><p>// welcome 变量现在等于 "hello there!"</p><p>调用remove(at:)方法可以在一个字符串的指定索引删除一个字符，调用removeSubrange(_:)方法可以在一个字符串的指定索引删除一个子字符串。</p><p>welcome.remove(at: welcome.index(before: welcome.endIndex))</p><p>// welcome 现在等于 "hello there"</p><p>let range = welcome.index(welcome.endIndex, offsetBy: -6)..&lt;welcome.endIndex</p><p>welcome.removeSubrange(range)</p><p>// welcome 现在等于 "hello"</p><p><strong>子字符串</strong></p><p>当你从字符串中获取一个子字符串 —— 例如，使用下标或者prefix(_:)之类的方法 —— 就可以得到一个SubString的实例，而非另外一个String。Swift 里的SubString绝大部分函数都跟String一样，意味着你可以使用同样的方式去操作SubString和String。然而，跟String不同的是，你只有在短时间内需要操作字符串时，才会使用SubString。当你需要长时间保存结果时，就把SubString转化为String的实例：</p><p>let greeting = "Hello, world!"</p><p>let index = greeting.index(of: ",") ?? greeting.endIndex</p><p>let beginning = greeting[..&lt;index]</p><p>// beginning 的值为 "Hello"</p><p>// 把结果转化为 String 以便长期存储。</p><p>let newString = String(beginning)</p><p><strong>比较字符串</strong></p><p>Swift 提供了三种方式来比较文本值：字符串字符相等、前缀相等和后缀相等。</p><p><strong>字符串</strong><strong>/</strong><strong>字符相等</strong></p><p>字符串/字符可以用等于操作符(==)和不等于操作符(!=)，详细描述在比较运算符：</p><p>let quotation = "We're a lot alike, you and I."</p><p>let sameQuotation = "We're a lot alike, you and I."</p><p>if quotation == sameQuotation {</p><p>print("These two strings are considered equal")</p><p>}</p><p>// 打印输出 "These two strings are considered equal"</p><p>通过调用字符串的hasPrefix(_:)/hasSuffix(_:)方法来检查字符串是否拥有特定前缀/后缀，两个方法均接收一个String类型的参数，并返回一个布尔值。</p><p>下面的例子以一个字符串数组表示莎士比亚话剧《罗密欧与朱丽叶》中前两场的场景位置：</p><p>let romeoAndJuliet = [</p><p>"Act 1 Scene 1: Verona, A public place",</p><p>"Act 1 Scene 2: Capulet's mansion",</p><p>"Act 1 Scene 3: A room in Capulet's mansion",</p><p>"Act 1 Scene 4: A street outside Capulet's mansion",</p><p>"Act 1 Scene 5: The Great Hall in Capulet's mansion",</p><p>"Act 2 Scene 1: Outside Capulet's mansion",</p><p>"Act 2 Scene 2: Capulet's orchard",</p><p>"Act 2 Scene 3: Outside Friar Lawrence's cell",</p><p>"Act 2 Scene 4: A street in Verona",</p><p>"Act 2 Scene 5: Capulet's mansion",</p><p>"Act 2 Scene 6: Friar Lawrence's cell"</p><p>]</p><p>您可以调用hasPrefix(_:)方法来计算话剧中第一幕的场景数：</p><p>var act1SceneCount = 0</p><p>for scene in romeoAndJuliet {</p><p>if scene.hasPrefix("Act 1 ") {</p><p>act1SceneCount += 1</p><p>}</p><p>}</p><p>print("There are \(act1SceneCount) scenes in Act 1")</p><p>// 打印输出 "There are 5 scenes in Act 1"</p><p>相似地，您可以用hasSuffix(_:)方法来计算发生在不同地方的场景数：</p><p>var mansionCount = 0</p><p>var cellCount = 0</p><p>for scene in romeoAndJuliet {</p><p>if scene.hasSuffix("Capulet's mansion") {</p><p>mansionCount += 1</p><p>} elseif scene.hasSuffix("Friar Lawrence's cell") {</p><p>cellCount += 1</p><p>}</p><p>}</p><p>print("\(mansionCount) mansion scenes; \(cellCount) cell scenes")</p><p>// 打印输出 "6 mansion scenes; 2 cell scenes"</p><p>注意：</p><p>hasPrefix(_:)和hasSuffix(_:)方法都是在每个字符串中逐字符比较其可扩展的字符群集是否标准相等，详细描述在字符串/字符相等。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Swift','字符串','字符'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>