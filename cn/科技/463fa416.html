<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>MySQLæ— é”åŒ–WALç³»ç»Ÿé‚£äº›äº‹å„¿ | æå®¢å¿«è¨Š</title><meta property="og:title" content="MySQLæ— é”åŒ–WALç³»ç»Ÿé‚£äº›äº‹å„¿ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/827b597cea3c4927a30175adbb9ed922"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/463fa416.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/463fa416.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/463fa416.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/463fa416.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/463fa416.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/463fa416.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/463fa416.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/463fa416.html><meta property="article:published_time" content="2020-10-29T21:09:58+08:00"><meta property="article:modified_time" content="2020-10-29T21:09:58+08:00"><meta name=Keywords content><meta name=description content="MySQLæ— é”åŒ–WALç³»ç»Ÿé‚£äº›äº‹å„¿"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/463fa416.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>MySQLæ— é”åŒ–WALç³»ç»Ÿé‚£äº›äº‹å„¿</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p><br></p><h3 class=pgc-h-arrow-right><br></h3><div class=pgc-img><img alt=MySQLæ— é”åŒ–WALç³»ç»Ÿé‚£äº›äº‹å„¿ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/827b597cea3c4927a30175adbb9ed922><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>æ¦‚è¿°</h3><p>æ•°æ®åº“ç³»ç»Ÿä¸€èˆ¬é‡‡ç”¨WAL(write ahead log)æŠ€æœ¯æ¥å®ç°åŸå­æ€§å’ŒæŒä¹…æ€§ï¼ŒMYSQLä¹Ÿä¸ä¾‹å¤–ã€‚WALä¸­è®°å½•äº‹åŠ¡çš„æ›´æ–°å†…å®¹ï¼Œé€šè¿‡WALå°†éšæœºçš„è„é¡µå†™å…¥å˜æˆé¡ºåºçš„æ—¥å¿—åˆ·ç›˜ï¼Œå¯æå¤§æå‡æ•°æ®åº“å†™å…¥æ€§èƒ½ï¼Œå› æ­¤ï¼ŒWALçš„å†™å…¥èƒ½åŠ›å†³å®šäº†æ•°æ®åº“æ•´ä½“æ€§èƒ½çš„ä¸Šé™ï¼Œå°¤å…¶æ˜¯åœ¨é«˜å¹¶å‘æ—¶ã€‚</p><p>åœ¨MYSQL 8ä»¥å‰ï¼Œå†™æ—¥å¿—è¢«ä¿æŠ¤åœ¨ä¸€æŠŠå¤§é”ä¹‹ä¸‹ï¼Œæœ¬æ¥å¹¶è¡Œäº‹åŠ¡æ—¥å¿—å†™å…¥è¢«äººä¸ºä¸²è¡ŒåŒ–å¤„ç†ã€‚è™½ç®€åŒ–äº†é€»è¾‘ï¼Œä½†ä¹Ÿæå¤§é™åˆ¶äº†æ•´ä½“çš„æ€§èƒ½è¡¨ç°ã€‚8.0å¾ˆå¤§çš„ä¸€éƒ¨åˆ†å·¥ä½œä¾¿æ˜¯å°†æ—¥å¿—ç³»ç»Ÿå¹¶è¡ŒåŒ–ã€‚</p><h3 class=pgc-h-arrow-right>æ—¥å¿—å¹¶è¡ŒåŒ–</h3><p>æ—¥å¿—å¹¶è¡ŒåŒ–çš„æ€è·¯ä¹Ÿå¾ˆç®€å•ï¼šå°†å†™æ—¥å¿—æ‹†åˆ†ä¸ºä¸¤ä¸ªè¿‡ç¨‹ï¼š</p><ol start=1><li>ä»å†…å­˜log bufferä¸­ä¸ºæ—¥å¿—é¢„ç•™ç©ºé—´</li></ol><p>2. å°†æ—¥å¿—å†…å®¹æ‹·è´è‡³1é¢„ç•™çš„ç©ºé—´</p><p>è€Œåœ¨è¿™ä¸¤ä¸ªæ­¥éª¤ä¸­ï¼Œåªéœ€è¦æ­¥éª¤1ä¿è¯åœ¨å¤šå¹¶å‘å¹¶å‘é¢„ç•™ç©ºé—´æ—¶çš„æ­£ç¡®æ€§å³å¯ï¼Œç¡®ä¿å¹¶å‘çº¿ç¨‹é¢„ç•™çš„æ—¥å¿—ç©ºé—´ä¸ä¼šäº¤å‰ã€‚ä¸€æ—¦é¢„ç•™æˆåŠŸï¼Œæ­¥éª¤2å„å¹¶å‘çº¿ç¨‹å¯äº’ä¸å¹²æ‰°åœ°æ‰§è¡Œæ‹·è´è‡³è‡ªå·±çš„é¢„ç•™ç©ºé—´å³å¯ï¼Œè¿™å¤©ç„¶å¯å¹¶å‘ã€‚</p><p>è€Œåœ¨æ­¥éª¤1ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨åŸå­å˜é‡æ¥ä»£æ›¿ä»£ä»·è¾ƒé«˜é”å®è¡Œé¢„ç•™ï¼Œåœ¨mysql 8å®ç°ä¸­ï¼Œå…¶å®å°±ä¸¤è¡Œä»£ç ï¼š</p><pre><code>Log_handle log_buffer_reserve(log_t &amp;log, size_t len) {    ...    const sn_t start_sn = log.sn.fetch_add(len);    const sn_t end_sn = start_sn + len;    ...}</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œåªéœ€è¦ä¸€ä¸ªåŸå­å˜é‡log.snè®°å½•å½“å‰åˆ†é…çš„ä½ç½®ä¿¡æ¯ï¼Œä¸‹æ¬¡åˆ†é…æ—¶æ›´æ–°è¯¥log.snå³å¯ï¼Œéå¸¸ç®€æ´ä¼˜é›…ã€‚</p><p>8.0ä¸­å¼•å…¥çš„å¹¶è¡Œæ—¥å¿—ç³»ç»Ÿè™½ç„¶å¾ˆç¾å¥½ï¼Œä½†æ˜¯ä¹Ÿä¼šå¸¦æ¥ä¸€äº›å°éº»çƒ¦ï¼Œæˆ‘ä»¬ä¸‹é¢ä¼šè¯¦ç»†æè¿°å…¶å¼•å…¥çš„æ—¥å¿—ç©ºæ´é—®é¢˜å¹¶é˜è¿°å…¶è§£å†³æ–¹æ¡ˆã€‚</p><h3 class=pgc-h-arrow-right>Log Bufferç©ºæ´é—®é¢˜</h3><p>Mysql 8.0ä¸­ä½¿ç”¨äº†æ— é”é¢„åˆ†é…çš„æ–¹å¼å¯ä»¥ä½¿MTRå¹¶è¡Œåœ°å°†WALæ—¥å¿—å†™å…¥åˆ°Log Bufferï¼Œæå‡æ€§èƒ½ã€‚ä½†è¿™æ ·åŠ¿å¿…ä¼šå¸¦æ¥Redo Log Bufferçš„ç©ºæ´é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š</p><div class=pgc-img><img alt=MySQLæ— é”åŒ–WALç³»ç»Ÿé‚£äº›äº‹å„¿ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4227f14c46a243759c49e77d338f7d57><p class=pgc-img-caption></p></div><p>ä¸Šå›¾ä¸­ï¼Œ3ä¸ªçº¿ç¨‹åˆ†åˆ«åˆ†é…äº†å¯¹åº”çš„redo bufferï¼Œçº¿ç¨‹1å’Œ3å·²ç»å®Œæˆäº†walæ—¥å¿—å†…å®¹çš„æ‹·è´ï¼Œè€Œçº¿ç¨‹2åˆ™è¿˜åœ¨æ‹·è´ä¸­ï¼Œæ­¤æ—¶å†™å…¥çº¿ç¨‹æœ€å¤šåªèƒ½å°†thread-1çš„redo logå†™å…¥æ—¥å¿—æ–‡ä»¶ã€‚ ä¸ºæ­¤ï¼ŒMySQL 8.0ä¸­å¼•å…¥äº† <strong>Link_buf</strong> ã€‚</p><h3 class=pgc-h-arrow-right>Link_bufåŸç†</h3><p>Link_bufç”¨äºè¾…åŠ©è¡¨ç¤ºå…¶ä»–æ•°æ®ç»“æ„çš„ä½¿ç”¨æƒ…å†µï¼Œåœ¨Link_bufä¸­ï¼Œå¦‚æœä¸€ä¸ªç´¢å¼•ä½ç½®indexå¤„å­˜å‚¨çš„æ˜¯é0å€¼nï¼Œåˆ™è¡¨ç¤ºLink_bufè¾…åŠ©æ ‡è®°çš„é‚£ä¸ªæ•°æ®ç»“æ„ï¼Œä»indexå¼€å§‹åé¢nä¸ªå…ƒç´ å·²è¢«å ç”¨ã€‚</p><pre><code>template &lt;typename Position = uint64_t&gt;class Link_buf { private:  ...  size_t m_capacity;  std::atomic&lt;Distance&gt; *m_links;  alignas(INNOBASE_CACHE_LINE_SIZE) std::atomic&lt;Position&gt; m_tail;};</code></pre><p>Link_bufæ˜¯ä¸€ä¸ªå®šé•¿æ•°ç»„ï¼Œä¸”ä¿è¯æ•°ç»„çš„æ¯ä¸ªå…ƒç´ çš„æ›´æ–°æ˜¯åŸå­æ“ä½œçš„ã€‚ä»¥ç¯å½¢çš„æ–¹å¼å¤ç”¨å·²ç»é‡Šæ”¾çš„ç©ºé—´ã€‚</p><p>åŒæ—¶Link_bufå†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªå˜é‡ m_tail è¡¨ç¤ºå½“å‰æœ€å¤§å¯è¾¾çš„LSNã€‚</p><p>Innodbæ—¥å¿—ç³»ç»Ÿä¸­ä¸ºLog Bufferç»´æŠ¤äº†ä¸¤ä¸ªLink_bufç±»å‹çš„å˜é‡ recent_written å’Œ recent_closed ã€‚ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><div class=pgc-img><img alt=MySQLæ— é”åŒ–WALç³»ç»Ÿé‚£äº›äº‹å„¿ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f1b02edfb4b74c96b0a59c375f5ae60c><p class=pgc-img-caption></p></div><p>ä¸Šå›¾ä¸­ï¼Œå…±æœ‰ä¸¤å¤„æ—¥å¿—ç©ºæ´ï¼Œèµ·å§‹çš„LSNä¸ºlsn1ä¸lsn3ï¼Œå‡æœ‰4ä¸ªå­—èŠ‚ã€‚è€Œlsn2å¤„çš„redo logå·²ç»å†™å…¥ï¼Œå…±3ä¸ªå­—èŠ‚ã€‚åœ¨ recent_written ä¸­ï¼Œlsn1å¼€å§‹å¤„çš„4ä¸ªatomicå‡æ˜¯0ï¼Œlsn3åŒæ ·å¦‚æ­¤ï¼Œè€Œlsn2å¤„å¼€å§‹çš„å­˜å‚¨çš„åˆ™æ˜¯3ï¼Œ0ï¼Œ0è¡¨ç¤ºä»è¯¥ä½ç½®èµ·çš„3ä¸ªå­—èŠ‚å·²ç»æˆåŠŸå†™å…¥äº†redoæ—¥å¿—ã€‚</p><p>æ¥ä¸‹æ¥å½“lsn1å¤„çš„ç©ºæ´è¢«å¡«å……åï¼ŒLink_bufä¸­è¯¥å¤„å¯¹åº”çš„å†…å®¹å°±ä¼šè¢«è®¾ç½®ï¼Œå¦‚ä¸‹ï¼š</p><div class=pgc-img><img alt=MySQLæ— é”åŒ–WALç³»ç»Ÿé‚£äº›äº‹å„¿ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0cb803821dbb4986b9754a634a3b29e7><p class=pgc-img-caption></p></div><p>åŒç†ï¼Œå½“lsn3å¤„çš„ç©ºæ´ä¹Ÿè¢«å¡«å……åï¼ŒçŠ¶æ€å˜æˆä¸‹é¢è¿™æ ·ï¼š</p><div class=pgc-img><img alt=MySQLæ— é”åŒ–WALç³»ç»Ÿé‚£äº›äº‹å„¿ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/de6b8c77b1e941cd99b0b09b8364ae6c><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>Link_bufå®ç°</h3><p><strong>åˆå§‹åŒ–</strong></p><pre><code>bool log_sys_init(...){    ...    log_allocate_recent_written(log);    ...}â€‹constexpr ulong INNODB_LOG_RECENT_WRITTEN_SIZE_DEFAULT = 1024 * 1024;ulong srv_log_recent_written_size = INNODB_LOG_RECENT_WRITTEN_SIZE_DEFAULT;â€‹static void log_allocate_recent_written(log_t &amp;log) {  // é»˜è®¤å€¼ä¸º1MB  log.recent_written = Link_buf&lt;lsn_t&gt;{srv_log_recent_written_size};}â€‹// Link_bufæ„é€ template &lt;typename Position&gt;Link_buf&lt;Position&gt;::Link_buf(size_t capacity)    : m_capacity(capacity), m_tail(0){  ...  m_links = UT_NEW_ARRAY_NOKEY(std::atomic&lt;Distance&gt;, capacity);  for (size_t i = 0; i &lt; capacity; ++i) {    m_links[i].store(0);  }}</code></pre><p>ä»æ„é€ å‡½æ•°ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒLinkBufå†…æ ¸å¿ƒæˆå‘˜æ˜¯ä¸€ç»´æ•°ç»„ï¼Œæ•°ç»„çš„æˆå‘˜ç±»å‹æ˜¯åŸå­ç±»å‹çš„Distanceï¼ˆuint64_tï¼‰ï¼Œæ•°ç»„æˆå‘˜ä¸ªæ•°åˆ™ç”±åˆ›å»ºè€…å†³å®šï¼Œå¦‚Innodbä¸­ä¸ºrecent_writtenåˆ›å»ºçš„LinkBufçš„æ•°ç»„æˆå‘˜ä¸ªæ•°ä¸º1MBï¼Œè€Œä¸ºrecent_closedåˆ›å»ºçš„LinkBufçš„æ•°ç»„æˆå‘˜ä¸ªæ•°ä¸º2MBã€‚</p><p>åŒæ—¶ï¼Œåˆ›å»ºå®Œæˆåä¼šå°†æ•°ç»„çš„æ¯ä¸ªæˆå‘˜åˆå§‹åŒ–ä¸º0ã€‚</p><h3 class=pgc-h-arrow-right>mtr logæ‹·è´å®Œæˆ</h3><p>mtråœ¨commitæ—¶ä¼šå°†å…¶è¿è¡Œæ—¶äº§ç”Ÿçš„æ‰€æœ‰redo logæ‹·è´è‡³Innodbå…¨å±€çš„redo log bufferï¼Œè¿™å€ŸåŠ©äº† mtr_write_log_t å¯¹è±¡æ¥å®Œæˆï¼Œä¸”æ¯æ¬¡æ‹·è´æŒ‰ç…§blockä¸ºå•ä½è¿›è¡Œã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼šä¸€ä¸ªmträ¸­å¯èƒ½å­˜åœ¨å¤šä¸ªblockæ¥å­˜å‚¨mtrè¿è¡Œæ—¶äº§ç”Ÿçš„redo logï¼Œæ¯ä¸ªblockæ‹·è´å®Œæˆåå‡è§¦å‘ä¸€æ¬¡Link_bufçš„æ›´æ–°ã€‚</p><pre><code>struct mtr_write_log_t {  bool operator()(const mtr_buf_t::block_t *block) {    ...    // æ‹·è´å®Œæˆåè§¦å‘LinkBufæ›´æ–°    log_buffer_write_completed(*log_sys, m_handle, start_lsn, end_lsn);  }}â€‹void log_buffer_write_completed(log_t &amp;log, const Log_handle &amp;handle,                                lsn_t start_lsn, lsn_t end_lsn) {  ...  // æ›´æ–°æœ¬æ¬¡å†™å…¥çš„å†…å®¹èŒƒå›´å¯¹åº”çš„LinkBufå†…ç‰¹å®šçš„æ•°ç»„é¡¹å€¼  log.recent_written.add_link(start_lsn, end_lsn);}â€‹template &lt;typename Position&gt;inline size_t Link_buf&lt;Position&gt;::slot_index(Position position) const {  return position &amp; (m_capacity - 1);}â€‹template &lt;typename Position&gt;inline void Link_buf&lt;Position&gt;::add_link(Position from, Position to) {  // å®šä½æœ¬æ¬¡å†™å…¥çš„å†…å®¹èŒƒå›´æ‰€åœ¨æ•°ç»„é¡¹index  // ç®—æ³•æ˜¯å°†èµ·å§‹lsn(@from)å¯¹æ•°ç»„å®¹é‡å–æ¨¡ï¼Œå³from % capacity  const auto index = slot_index(from);  auto &amp;slot = m_links[index];  slot.store(to - from);}</code></pre><p>åœ¨è¿™é‡Œä¼šæ‰¾åˆ°start_lsnå¯¹åº”çš„slotï¼Œå¹¶åœ¨è¯¥slotå†…è®¾ç½®å€¼ä¸ºend_lsn - start_lsnï¼Œè®°å½•è¯¥ä½ç½®å¤„å·²å†™å…¥çš„å†…å®¹æ•°é‡ã€‚</p><p><strong>log_advance_ready_for_write_lsn</strong></p><p>Innodbå°†redo log bufferå†…å®¹å†™å…¥æ—¥å¿—æ–‡ä»¶æ—¶éœ€è¦ä¿è¯ä¸èƒ½å­˜åœ¨ç©ºæ´ï¼Œå³åœ¨å†™å…¥å‰éœ€è¦è·å¾—å½“å‰æœ€å¤§çš„æ— ç©ºæ´lsnã€‚è¿™åŒæ ·ä¾èµ–LinkBufã€‚åœ¨åå°å†™æ—¥å¿—çº¿ç¨‹ log_writer çš„ log_advance_ready_for_write_lsn å‡½æ•°ä¸­å®Œæˆã€‚</p><pre><code>void log_writer(log_t *log_ptr) {    ...    for (uint64_t step = 0;; ++step) {      (void)log_advance_ready_for_write_lsn(log);    }}â€‹bool log_advance_ready_for_write_lsn(log_t &amp;log) {  const lsn_t write_lsn = log.write_lsn.load();  const auto write_max_size = srv_log_write_max_size;â€‹  auto stop_condition = [&amp;](lsn_t prev_lsn, lsn_t next_lsn) {    return (next_lsn - write_lsn &gt;= write_max_size);  };  const lsn_t previous_lsn = log_buffer_ready_for_write_lsn(log);â€‹  if (log.recent_written.advance_tail_until(stop_condition)) {    const lsn_t previous_lsn = log_buffer_ready_for_write_lsn(log);    return (true);  } else {    return (false);  }}</code></pre><p>è¿™é‡Œçš„å…³é”®åœ¨äºå‡½æ•° Link_buf::advance_tail_until ï¼Œå³æ¨è¿›Link_buf::m_tailã€‚</p><pre><code>bool Link_buf&lt;Position&gt;::next_position(Position position, Position &amp;next) {  const auto index = slot_index(position);  auto &amp;slot = m_links[index];  const auto distance = slot.load();  next = position + distance;  return distance == 0;}â€‹bool Link_buf&lt;Position&gt;::advance_tail_until(Stop_condition stop_condition) {  auto position = m_tail.load();  while (true) {    Position next;    bool stop = next_position(position, next);    if (stop || stop_condition(position, next)) {      break;    }    /* å›æ”¶slot */    claim_position(position);    position = next;  }  if (position &gt; m_tail.load()) {    m_tail.store(position);    return true;  } else {    return false;  }}</code></pre><p>è¿™é‡Œçš„åŸç†ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å›¾æ¥è¡¨ç¤ºï¼š</p><div class=pgc-img><img alt=MySQLæ— é”åŒ–WALç³»ç»Ÿé‚£äº›äº‹å„¿ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/29eeefb00be2484a8d7d7baec8d214d7><p class=pgc-img-caption></p></div><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä»ä¸Šæ¬¡å°¾éƒ¨ä½ç½®(m_tail)å¼€å§‹ï¼Œé¡ºåºéå†æ•°ç»„ï¼Œå¦‚æœè¯¥é¡¹ä¸ä¸º0ï¼Œåˆ™æ¨è¿›m_tailï¼Œå¦åˆ™æ„å‘³ç€å‡ºç°äº†ç©ºæ´ï¼Œå°±ä¸èƒ½å†å¾€ä¸‹æ¨è¿›äº†ã€‚</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'MySQL','æ— é”åŒ–','WAL'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>