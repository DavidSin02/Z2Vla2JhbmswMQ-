<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>一文教会你三维网格物体识别 | 极客快訊</title><meta property="og:title" content="一文教会你三维网格物体识别 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/a04700012a35533c88f1"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/491323f5.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/491323f5.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/491323f5.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/491323f5.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/491323f5.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/491323f5.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/491323f5.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/491323f5.html><meta property="article:published_time" content="2020-10-29T21:11:26+08:00"><meta property="article:modified_time" content="2020-10-29T21:11:26+08:00"><meta name=Keywords content><meta name=description content="一文教会你三维网格物体识别"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/491323f5.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>一文教会你三维网格物体识别</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>雷锋网 AI 科技评论按：本文由「图普科技」编译自Medium - 3D body recognition using VGG16 like network</p><p>2017年3月，当时我的老板说自动识别 3D 物体几乎是不可能的，但大家一致反对。</p><p>因此，今天我要解决的问题是：如何输入3D 网格物体（原始三角形和顶点），得到分类概率的输出。</p><p>我找到了如下几种解决方案：</p><ul><li><p>对物体进行缩放并将其分割成体素。将体素给到神经网络中。</p></li><li><p>计算大量描述符，将其放入分类器。</p></li><li><p>从多侧进行物体投射，尝试用单独的分类器进行识别，然后将其放到元分类器中。</p></li></ul><p>在这里我想详细讲述一下一种相对简单有效的方法，即 DeepPano 方法。</p><p></p><h3>数据准备</h3><p>如今，图像数据集包含大量样本。但就 3D 模型数据集而言，并非如此。3D 模型数据集中没有成千上万的图像，因此 3D 模型识别没有得到深入研究，3D 模型数据集也不均衡。大多数数据集包含有未进行方向对齐的物体。</p><p>ModelNet10 是一个相对清晰的 3D 物体数据集。3D 物体在数据集中被存储为包含点线面的 .off 文件。 .off 文件格式不支持显示布料、纹理以及其他材质。</p><p>这里是物体种类与样本数量：</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/a04700012a35533c88f1><p>样本总数约为 5000。当然这个数据集也非常不均衡。</p><p>首先要做的是选择分类器类型。由于如图像、语音等重要数据的技术解决方案都是基于神经网络（或在 Kaggle 比赛中经常使用的奇特组件），因此训练神经网络是合乎逻辑的。神经网络对数据集的均衡性很敏感。所以第二步需要做的是使数据集更均衡。</p><p>我决定使用从 3dWarehouse 中得到的模型获取更多数据并创建扩展数据集。这些模型是以 .skp 文件格式存储的，因此必须进行转换。我使用 SketchUp C Api 创建了 .skp - >.off 转换器来进行转换。</p><p>下一步是数据清理，完全相同的图像已被删除。可以这样分配：</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/a0460002b97cb9efe890><p>这样数据集看起来就比较均衡了。除马桶外，几乎每个物体类别都包含有近1000个样本。其他物体类型之间的不均衡可通过分类权重进行修正。</p><p></p><h3>数据预处理</h3><p>在之前的步骤中，我们已经做了几件重要的事情。</p><ul><li><p>阐述问题。</p></li><li><p>下载我们将要使用的基本数据集（ModelNet10）。</p></li><li><p>从最初的10类物体中选出了7类。</p></li><li><p>通过创建.skp - > .off转换器来转换3d warehouse.中的模型，数据集变得更加均衡。</p></li></ul><p>现在开始深入了解数据预处理。</p><p>在预处理过程中，数据预处理的最终结果是要用一种新的图像来表示 3D 网格物体。我们将使用圆柱投影来创建图像。</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/9fc6000926983298d2a4><p>3D网格物体</p><p>此物体的转换结果</p><p>首先，我们需要读入3D 网格物体并进行存储。这可以通过功能强大的 trimesh 库来完成。它不仅提供读/写功能，而且有大量其他有用的功能，如网格变换，光线追踪等。</p><p>第二步是计算圆柱投影。圆柱投影是什么呢？假设一个立方体位于 XoY 平面的中心，且原点有一条垂直轴。</p><p><strong>注意：</strong>如果物体的主轴不垂直，则需要在进行物体识别前应用方向对齐算法。这是一个完全不同的领域，因此在这里不对此主题进行探讨。</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc600092699bf250a97><p>立方体和主轴</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc90003a0af1c04d1f8><p>现在假设有一个包裹立方体的最小圆柱体。</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc3000ee021a5953466><p>现在将圆柱体的侧面切割成M×N的网格。</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/a0460002b982b34f3b8a><p>现在将每个网格节点垂直投影到主轴上并获取一组投影点。投影点集合由P表示。投影线集合由S表示。</p><p>绿色是主轴，红色是网格，黄色是几何投影线。</p><p>现在将S集合中的每段与网格体，即该立方体相交。你将从每条射线获得一个交点。将该点分配给相应的网格节点。</p><p>其实这是一个特例。一般情况下，S中的一个投影线可以有多个交点，或者根本没有交点。下面就是一个例子。</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc3000ee01ca2aa2fb2><p>因此，通常这个过程的结果是在每个单元中都有一个 M×N 矩阵，其中可能具有交点数组，也可能是空的。对于立方体，每个单元格将包含具有单个元素的数组。</p><p>下一步是从每个单元格的交点中选取离对应的M中的点距离最远的点，并将它们之间的距离写入 M×N 矩阵R。矩阵（或图像）R 称为全景图。</p><p>我们为什么要选取最远的点？最远的点通常集中于物体的外表面。我们将其用全景图表示，可用于识别模块。当然，有人可能会说：“圆环和高度相同的圆柱体会呈现出完全相同的全景图”或者“中心有一个球形孔的立方体和没有孔的立方体会呈现出完全相同的全景图”，这是正确的。以全景图来呈现3D物体并不完美，但如果是用体素来呈现则没有这样的缺点。幸运的是，像椅子、床、汽车或飞机这些真实存在的物体由于其复杂性，很少有相同的全景图。</p><p>最后一步是通过将单元格的值缩放到 [0,1] 区间，对R矩阵进行归一化。如果单元格没有交点，则该单元格的值为零。</p><p>现在我们可以将矩阵R视为灰度图像。这里是所描述过程的 python 代码和全景图计算的一个例子。</p><p>混凝土床、椅子和马桶的全景图。</p><p>我们总结一下到目前为止已经完成的步骤。</p><ul><li><p>现在我们已经将 3D 网格物体表示为灰度图像。</p></li><li><p>3D 物体必须正确对齐。如果没有正确对齐，那么我们首先需要使用方向对齐算法。</p></li><li><p>两个不同的物体有可能具有相同的全景图，但这种可能性很小。</p></li></ul><p>现在我们准备创建卷积神经网络并解决识别问题。</p><p></p><h3>开始识别！</h3><p>我们在上一步中做了一件非常重要的事情，即找到一种合适的方法将3D物体转换成图像，我们可以将其提供给神经网络（NN）。</p><p>步骤如下所示：</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/a0460002b989835c927b><p>我们之前已经完成了第1步，所以现在我们开始第2步和第3步。</p><p>让我们从模型创建开始。</p><p>你可以在架构中看到 RWMP 层。根据 DeepPano 论文，RWMP 层的作用在于， 在 3D 物体围绕主轴旋转的情况下，保持识别精度不变。从技术上讲，RWMP 只是一个行式的 MaxPooling。</p><p>模型准备就绪并编译完成后，读取数据，然后将其刷新，并通过图像尺寸调节创建 ImageDataGenerator。请注意，数据预先按照 70:15:15 的比例进行了训练、验证和测试。由于图像是合成的，并且代表了3D 物体，因此数据无法进行扩增，因为：</p><ul><li><p>由于图像是灰度的，所以不能进行颜色增强。</p></li><li><p>由于RWMP的存在，不能进行水平翻转。</p></li><li><p>垂直翻转意味着将物体颠倒。</p></li><li><p>由于图像的合成性质，无法使用ZCA白化。</p></li><li><p>随机旋转会损失宝贵的物体边角信息，我无法确定这会对3D物体转换产生什么影响。</p></li></ul><p>所以我想不出任何可以应用在这里的数据扩增方法。</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/9fc700071580498f425a><p>现在开始训练模型。</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc6000926a7fc6ae490><p>让我们看看结果。</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc3000ee03dd7170375><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/9fc70007158ac39c4879><p>训练绝对准确度和验证绝对准确度</p><p>正如你所看到的，该模型验证的准确度达到了 92％，训练的准确度达到了 95％，所以没有过度拟合。该模型数据集测试的整体准确度度为 0.895。</p><p>分类报告：</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc400095b80c75e69ac><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/9fc700071586b1c16210><p>测试数据集的混淆矩阵</p><p>我们也可以自行排列这个模型。</p><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc90003a0e0c20e7ddb><img alt=一文教会你三维网格物体识别 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/9fc700071592b8940153><p>来自上面的代码片段</p><p>结果看起来不错，一切都进行得都很顺利，只是有些桌子被错误地识别为梳妆台了。我不确定为什么会发生这种情况。这可能是未来需要改进的步骤之一。</p><p>让我们列出可能需要改进的地方。</p><ul><li><p>识别时要考虑材料、纹理和几何尺寸等因素，否则会形成致无序模型。</p></li><li><p>提高数据集的均衡性或至少使用分类权重。生成模型（例如VAE）可使数据集更均衡。</p></li><li><p>添加更多的物体类别。</p></li><li><p>基于全景图和不同的表示形式创建元模型，例如体素。这可能很昂贵。</p></li></ul><p>到目前为止，所有步骤介绍完毕。</p><p><strong>注：本文由「图普科技」编译，您可以关注微信公众号tuputech，体验基于深度学习的「图像识别」应用。</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'三维网','体识别','格物'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>