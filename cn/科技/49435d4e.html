<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>必不可少的API管理平台！IAM了解一下 | 极客快訊</title><meta property="og:title" content="必不可少的API管理平台！IAM了解一下 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/061ee5b53073474ca26b4d135ff8704f"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/49435d4e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/49435d4e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/49435d4e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/49435d4e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/49435d4e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/49435d4e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/49435d4e.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/49435d4e.html><meta property="article:published_time" content="2020-11-14T21:00:29+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:29+08:00"><meta name=Keywords content><meta name=description content="必不可少的API管理平台！IAM了解一下"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/49435d4e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>必不可少的API管理平台！IAM了解一下</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><blockquote class=pgc-blockquote-abstract><p>全文共3870字，预计学习时长13分钟</p></blockquote><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/061ee5b53073474ca26b4d135ff8704f><p class=pgc-img-caption>图源：unsplash</p></div><p><br></p><p>应用程序接口(Application Program Interface, API)是数字化转型过程的关键组件。通过将系统和服务连接在一起，它使企业开拓全新的业务模式成为可能，架起合作伙伴与客户之间的桥梁，为我们带来无缝衔接的顺畅体验。</p><p><br></p><p>当下，我们正处于API经济中，所有的现代架构理念都深刻依赖于API。</p><p><br></p><p>API生态中最主要的安全需求就在于访问授权。通过访问授权，就能够将相应的访问权限授权给应用或服务，使其他人可以用你的名义访问API。</p><p><br></p><p>不过，为终端用户提供凭证或密钥的方法早已不值得推荐。如今，使用OAuth2.0进行访问委托已经成为行业常态。OAuth2.0可将访问令牌共享给第三方，并支持设定访问权限和有效时间。随着OAuth2.0的普及，OIDC也作为API管理平台中的认证层应运而生。</p><p><br></p><p>黑客必然永远紧跟数字行业的发展。当API的使用成为行业常态，黑客不可避免地盯上了它，并试图攻击其响应系统。随着数据量的增加，API的广泛使用导致数据泄露，这会进一步扩大企业遭受黑客的攻击面，进而造成更严重的损失。尤其是个人身份信息等敏感数据的泄漏，不仅会让企业损失数百万美元的修复费用，还会导致企业形象受损。</p><p><br></p><p>在典型的API管理平台中，密钥管理器组件与授权服务器主要集中在访问委托或安全管理访问令牌上。但如果观察一下最近OWASPAPI安全榜的前10名，就会发现API的安全管理早已不再局限于简单的授权功能。</p><p><br></p><p>这也说明，企业确实需要在API管理平台中使用IAM解决方案来填补这块安全空白。企业级IAM不仅加强了安全性，还带来了许多优化数字化转型的功能，它在API管理平台中是必不可少。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6a284f7ed5dc41a78479c8b553d57390><p class=pgc-img-caption></p></div><p>1. 扩展的访问授权</p><p><br></p><p>OAuth 2.0核心规范定义了五大授权类型，包括授权码、隐式授权、密码、客户端凭证和刷新授权类型。同时OAuth2.0框架可扩展，支持高级访问授权，如使用SAML 2.0不记名授权将SAML 2.0令牌换成OAuth 2.0访问令牌，Kerberos OAuth2授权则使用kerberos令牌验证用户。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/78b9611283d44f7abba17f4ef06e54ba><p class=pgc-img-caption></p></div><p>如果是较为基础的API管理平台，使用基本的授权就足以满足用户访问委托的需求。但如果API管理组件在应用程序中是起到基石作用的话，那么它最好有支持扩展需求的功能。因此，我们将企业级IAM解决方案与APIM平台集成，便可实现对高级访问授权的支持。</p><p><br></p><p>OAuth 2.0仅提供访问授权，但不会显示用户身份。如果需要显示用户身份，可以使用OIDC（一种基于OAuth 2.0搭建的身份层）。它可以提供带有用户信息的访问令牌以及JWT令牌。它也将在IAM解决方案中起主要作用。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6a284f7ed5dc41a78479c8b553d57390><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>2. 终端用户身份管理</h3><p><br></p><p>无论是在企业内部还是外部使用API管理平台，归根结底它还是会被各种人、设备和物体使用。因此，如何管理数字身份成为任何API管理平台的首要问题。</p><p><br></p><p>理想的解决方案必须能够处理不同类型的访客，包括来自人的访问、来自设备的访问，或者人与设备的同时访问。访问系统的身份数量千千万万，而且这些信息也可能存储在成分混杂的身份信息库中。</p><p><br></p><p>此外，如果用户忘记密码，他们要如何更改密码，管理员该如何定义密码强度，系统又需要提供哪些机制来帮助终端用户恢复凭据？如果客户有相关需求，管理员能否代替用户登录账户？这些是每一个系统在处理用户身份时都需要考虑的典型问题。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15416386b014469bb3b5f0e7f7f28c31><p class=pgc-img-caption>图源：unsplash</p></div><p><br></p><p>尽管身份管理十分复杂，IAM解决方案可以化繁为简，有效地管理这些复杂难题。身份信息也许以不同的形式存在于多个身份库中，也可能单独地分布在多个库中。这些都是身份管理需要面对的问题。</p><p><br></p><p>在API平台的初始阶段，开发人员也许不会遇到这些问题，不过随着发展，这些难题迟早需要面对。如果在API管理平台的初期就使用IAM系统，便可轻松确保平台对未来的挑战做好了准备。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6a284f7ed5dc41a78479c8b553d57390><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>3. 跨协议单点登录/登出</h3><p><br></p><p>粗略看来，API管理平台的重点在于如何安全地管理系统中公开的API。不过，在一个完整的数字化转型项目中，API集成只是其中的一小部分，项目中还包含很多应用，这些应用能帮助消费者完成特定的业务。单点登录（SSO）就是一种能够确保客户在不同的数字属性中，都能使用通用凭证获得一致登录体验的机制。</p><p><br></p><p>市面上罕有支持基于OIDC单点登录的授权服务器，即便当今应用都支持基于OIDC的联盟协议，大多数应用仍然普遍使用SAML，也有一些应用使用Ws-Federation。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c26dfba919fc45a8bf2368e571a81f92><p class=pgc-img-caption>图源：logsign</p></div><p><br></p><p>多数数字化转型项目都使用这类协议。因此，支持所有联盟协议的IAM将成为必选方案，值得一提的是，IAM解决方案支持跨协议的单点登录和登出。</p><p><br></p><p>此外，如果该平台还包含使用专有协议进行联盟的旧版应用程序，那么IAM解决方案也支持将其联盟身份验证扩展到这些非标准化协议中。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6a284f7ed5dc41a78479c8b553d57390><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>4. 身份联盟和社会化登录</h3><p><br></p><p>一个成熟的API管理平台，绝不希望其对开发者的吸引力走向下坡路。衡量一个APIM平台是否成功的指标之一，就是它延伸出的开发者社区。</p><p><br></p><p>开发者普遍使用Git，而且几乎所有开发者都至少有一个社交账号，如Facebook、Twitter、LinkedIn等。因此，允许开发者使用社交账号登录APIM平台，可以吸引更多开发者的加入。</p><p><br></p><p>开发者在内部使用APIM管理平台，也希望内部用户能够访问这个平台，可是内部组织可能有很多不同的业务部门，同时这些部门员工的身份信息都存在特定部门的身份库中。在这种特殊情况下，我们就可以使用身份联盟，以使这些内部用户能够无缝地访问新平台。</p><p><br></p><p>我们只需使用身份联盟来完成复杂的身份整合，让新用户在几分钟内就能登录到APIM平台上。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/cd0f7867bf734ed6a2a22733d0afd8f6><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>5. 强化授权</h3><p><br></p><p>认证，指的是验证人或事物身份的机制。通过授权，系统可以检查被验证身份是否有权做出给定的动作或访问给定数据。也就是说，授权可以确保用户或事物只能访问他们有权访问的东西。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/75644693c1c940eaa69f7b8a4562a376><p class=pgc-img-caption>图源：securityintelligence</p></div><p><br></p><p>在API中实现授权，需要考虑两个层面。第一个层面就是在API入口点处验证授权，以确定该用户是否可以执行给定操作，然后验证该用户是否可以访问公开的数据。</p><p><br></p><p>OAuth 2.0便作为执行资源级授权的最佳方案出现了。它既可以在后端服务层进行验证，也可以在API网关层进行验证。其中，在后者层面执行强制验证是最为简单的方法。</p><p><br></p><p>在典型的OAuth2.0中，流范围验证需在两个层面处理：</p><p><br></p><p>1.当客户端发出请求时，需验证已认证的用户是否有资格授予请求的范围；</p><p><br></p><p>2.如果API可以用给定的范围访问，则需要再验证API调用时间。如果使用的是企业级IAM解决方案，那么在最初授权验证中，便可以使用XACML或者开放策略代理（OPA）进行更细粒度的授权。</p><p><br></p><p>然后，我们需要在API实施层面上进行授权验证，以防止未经授权的用户访问敏感数据。即使用户能够调用给定的API进行操作，也无法访问敏感数据。</p><p><br></p><p>实现这点需要在代码层验证，即在代码层传递使用信息。这也是JWT令牌的另一种案例，所以经过验证的用户信息可以通过JWT令牌传递到下游服务中。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c311c2a173214282b296e3b1e479d8fc><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>6. 强大的自适应认证</h3><p><br></p><p>说起API安全，我们通常会格外关注访问授权以及如何安全地管理访问令牌。不过，我认为这会贬低终端用户认证的重要性。即使是现在，基于用户名和密码的身份验证仍然是最常用的身份验证机制。尽管这种机制最为方便，但其安全性也最低。</p><p><br></p><p>多因素认证（MFA）的出现解决了这个问题。MFA建立起分层防御，使未经授权的人更加难以访问物理位置、计算设备、网络服务、网络或数据库等目标。MFA这一概念基于的的假设是，就算一个因素被攻破，在攻击者成功闯入目标之前，至少还有一个屏障可以抵御，因此更加安全。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ed779564e0ea4c8f8293d480688984e8><p class=pgc-img-caption>图源：lynda</p></div><p><br></p><p>MFA中的认证因素依赖于以下三类中的两个或两个以上的独立凭证。</p><p><br></p><p>· 知识因素——只有用户知道的东西，如密码等</p><p>· 拥有因素——只有用户才有的物品，如ATM卡等</p><p>· 内在因素——只有用户才有的特征，如指纹等</p><p><br></p><p>MFA提供的高安全级别使其成为现代世界中最好的身份验证方式。就算其中一个因素被攻击者破坏，其他因素都被破坏的可能性也很小。</p><p><br></p><p>不过，MFA尽管提供了很高的安全性，但也降低了其可用性。对于不同的用户来说，静态认证流程十分不方便。而自适应认证则可以根据语境切换认证流程。但这并不意味着它是一种可以取代MFA且完全不同的机制。</p><p><br></p><p>用户认证过程中，自适应认证能够根据语境，调用不同的认证器。最厉害的是，大多数时候，用户不会察觉到身份验证过程其实发生了变化。自适应认证能够智能地将当前认证过程中的各种因素综合考虑，并将最适合的认证流程提供给用户。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c311c2a173214282b296e3b1e479d8fc><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>7. 隐私管理</h3><p><br></p><p>在开发面向公众的API管理平台时，隐私保护和履约能力是基础，API管理平台理应关注对个人隐私的保护。从正式法规和消费者的期望来看，隐私标准和实践典范都在不断发展进步。</p><p><br></p><p>API管理平台需要遵守的消费者保护相关的法律法规越来越多。例如2018年5月在欧盟生效的《欧盟通用数据保护条例》（GDPR），对于总部位于欧盟的公司以及收集和持有欧盟境内人员数据的组织来说是头等大事。</p><p><br></p><p>GDPR规定主要着眼于将个人数据的控制权交给个人，从而保护个人数据与权利。该法规的出台也促使许多国家纷纷制定起本国的隐私法规。跨国企业在构建API管理平台或数字化转型的过程中，必须关注不同国家的隐私法规，并使用足够成熟的IAM解决方案，确保公司遵守国际隐私和数据保留条例。</p><p><br></p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/353ed20d04974658892974a5c879b715><p class=pgc-img-caption>图源：unsplash</p></div><p><br></p><p>API是数字化转型所有过程中的主要部分。API采用指数级增长，使其成为黑客攻击的首要目标，正确实施API安全防护十分重要。API平台各不相同，其共享数据的敏感性也不尽相同，所以API安全基础设施的设计应满足每个API平台的独特需求与敏感性。</p><p><br></p><p>此外，对于一个处于发展阶段的API平台来说，消费者是其主要的保护对象，因此身份管理是一项基本诉求。API消费者需要无缝的登录体验和值得信赖的安全保障。隐私保护既是监管机构的关键期望，也是消费者的关键期望。</p><p><br></p><p>正如文中所言，我们比以往任何时候都更需要将API管理解决方案与企业身份及访问管理解决方案结合起来。</p><div class=pgc-img><img alt=必不可少的API管理平台！IAM了解一下 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/080df98e42f54c01b58affbdfe025a4c><p class=pgc-img-caption></p></div><p><strong>留言点赞关注</strong></p><p><strong>我们一起分享AI学习与发展的干货</strong></p><p>如转载，请后台留言，遵守转载规范</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'API','IAM','了解'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>