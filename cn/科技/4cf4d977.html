<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>CAN总线抗干扰的六种解决方案 | 极客快訊</title><meta property="og:title" content="CAN总线抗干扰的六种解决方案 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/d8cd3137055641ba9b54b13cfd2b49ae"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4cf4d977.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4cf4d977.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4cf4d977.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4cf4d977.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4cf4d977.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4cf4d977.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4cf4d977.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4cf4d977.html><meta property="article:published_time" content="2020-10-29T21:11:19+08:00"><meta property="article:modified_time" content="2020-10-29T21:11:19+08:00"><meta name=Keywords content><meta name=description content="CAN总线抗干扰的六种解决方案"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/4cf4d977.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>CAN总线抗干扰的六种解决方案</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1><strong>CAN总线抗干扰的六种解决方案</strong></h1><p>备注:本文引自广州志远电子技术支持工程师.</p><p>CAN总线虽然有强大的抗干扰和纠错重发机制，但目前CAN被大量应用于比如新能源汽车、轨道交通、医疗、煤矿、电机驱动等行业，而这些场合的电磁环境比较严重，所以如何抗干扰是工程师最为关心的话题。</p><p>前段时间有个做模台流水线的用户，一条流水线有两路CAN总线，一条总线有22个控制节点，每当启动模台就会出现严重的失控状态，模台下是由很多电机驱动的，而操控台下放着变频器。使用CANScope测试发现，在未启动电机情况下，控制台的CAN通信正常，帧统计结果显示100%成功率，如图1所示。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d8cd3137055641ba9b54b13cfd2b49ae><p class=pgc-img-caption>图1 模台静态状态下帧统计</p></div><p>此时CAN波形图如图2所示。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/8b314d6bab1c4d8fba628ac3484fd27b><p class=pgc-img-caption>图2 模台静态状态下波形图</p></div><p>然而当模台电机启动之后，CAN总线质量急剧下滑，使用CANScope帧统计结果显示成功率仅仅为16.33%，如图3所示。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/27c1c8dcb2e5463fb97f24175b9de108><p class=pgc-img-caption>图3 模台动态态状态下帧统计</p></div><p>此时的CAN波形图如图4所示，可见干扰导致波形严重畸变。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b3047d9ea25f48ada0af02bf9c68c93a><p class=pgc-img-caption>图4 模台动态态状态下波形图</p></div><p>干扰导致帧错误增加，重发频繁，正确数据不能及时到达。所以如何解决干扰带来的困扰呢，下面就为大家介绍CAN总线抗干扰的六大解决方案。</p><p>1、增加CAN接口电气隔离</p><p>干扰不但影响信号，更严重的会导致板子死机或者烧毁，所以接口和电源的隔离是抗干扰的第一步。隔离的主要目的是：避免地回流烧毁电路板和限制干扰的幅度。如图5所示，未隔离时，两个节点的地电位不一致，导致有回流电流，产生共模信号，CAN的抗共模干扰能力是-12~7V，超过这个差值则出现错误，如果共模差超过±36V，烧毁收发器或者电路板。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d7279f4afa434337a5fb4bcf91d2b746><p class=pgc-img-caption>图5 差分抗干扰示意图</p></div><p>传统用户都采用分立器件自己搭建隔离电路的方式，如今大家更青睐使用隔离收发器做防护隔离。如图6所示的CTM系列隔离收发器的总线隔离技术，与传统分立器件方案相比，产品具备更高的集成度与可靠性，能够有效提升总线通信防护等级，极大程度降低用户的采购与生产成本，大幅缩短开发周期。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/14b8579c2fdf454da93375b3270339ad><p class=pgc-img-caption>图6 隔离CAN收发器</p></div><p>增加CTM隔离模块后，如图7所示。隔绝了地回流，限制了干扰幅度。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2a9cb9e2712e461794f5952b0c3965f3><p class=pgc-img-caption>图7 隔离地回流</p></div><p>2、共CAN收发器的信号地</p><p>共CAN收发器的信号地，并且CAN使用三线制信号传输。可以有效抑制共模干扰。注意图8中屏蔽层为近距离外壳等电势的情况下的接线方法。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1d78ef9110c8419a96565394cda06ca3><p class=pgc-img-caption>图8 CAN信号共地</p></div><p>3、CAN线保证屏蔽效果与正确接地</p><p>带屏蔽层的CAN线，可以良好地抵御电场的干扰，等于整个屏蔽层是一个等势体，避免CAN导线受到干扰。如图9所示，为一个标准的屏蔽双绞线，CANH和CANL通过铝箔和无氧铜丝屏蔽网包裹，如图9所示。需要注意的是和与接插件的连接，在连接部分允许有短于25mm的电缆不用双绞。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0ea92b82d34b4f539ba303b1395649ca><p class=pgc-img-caption>图9 屏蔽双绞线</p></div><p>使用屏蔽线后，在屏蔽层没有良好接大地前，屏蔽线是不起作用的。所以我们要选择一种接地方式。这里有三种外壳接地法：屏蔽层单点接地，可以避免地回流（不同位置的地电位不同而导致的产生电流），如图10所示。节点信号地阻容接自身外壳，如图11所示。屏蔽层分段屏蔽法，如图12所示，多点接地可以加快高频干扰信号的泄放，屏蔽层单点接地可以避免地回流，所以要根据实际情况选择合适的接地方式。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1866b25c53c149a3b6bd219f83cc09da><p class=pgc-img-caption>图10 屏蔽层单点接地</p></div><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cfdfa04dbf2e4c4b8a6180d5f89e2735><p class=pgc-img-caption>图11 节点信号地阻容接自身外壳地</p></div><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/413ec008d9b743d8b952b77f242b655c><p class=pgc-img-caption>图12 屏蔽层分段屏蔽法</p></div><p>在CAN的应用场合，由于距离一般都较远，所以大部分采用屏蔽层单点接地的原则，在干线上找一点将屏蔽层用导线直接接地，该点应是所受干扰最小的点，同时该点位于网络中心附近。</p><p>4、提高CAN线双绞程度</p><p>CAN总线为了提高抗干扰能力，采用CANH和CANL差分传输，达到效果就是遇到干扰后，可以"同上同下"，最后CANH-CANL的差分值保持不变。如图13所示。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/05b7d04498ca4c6b9b5d22cc33c154a4><p class=pgc-img-caption>图13 差分抗干扰示意图</p></div><p>CANH和CANL要紧密地绞在一起，通常双绞线只有33绞/米，而在强干扰场合，双绞程度要到45-55绞/米才能达到较好的抗干扰效果。另外线缆的芯截面积要大于0.35~0.5mm²，CAN_H对CAN_L的线间电容小于75pF/m，如果采用屏蔽双绞线，CAN_H(或CAN_L)对屏蔽层的电容小于110pF/m。可以更好地降低线缆阻抗，从而降低干扰时抖动电压的幅度。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a00d265e78924bb48b2388ff66c519e7><p class=pgc-img-caption>表1 双绞线对磁干扰的衰减比</p></div><p>5、增加信号保护器</p><p>增加信号保护器，提高抗浪涌群脉冲等EMC能力。上面的隔离只是阻挡，如果干扰强度很高，比如达到2KV浪涌，隔离也会被破坏。所以要想达到更高的防护等级，必须增加防浪涌电路。如图14所示，为ZLG致远电子高速总线标准防浪涌保护电路。</p><p>注意，由于电容较大，一条总线最多增加2-3个保护器！</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/40483142c047419790ce22091883f26f><p class=pgc-img-caption>图14 信号保护电路</p></div><p>6、CAN转为光纤传输</p><p>增加CAN转光纤转换器。解决超强干扰（比如远程激光与电磁脉冲发射装置）与雷击问题，光纤是一种无法被电磁干扰的传输介质，如图15所示，为使用ZLG致远电子的CANHub-AF1S1和CANHub-AF2S2组合的光纤主干网络。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/184ff0ec19d24fb6acad8c5624b28776><p class=pgc-img-caption>图15 使用光纤转换器实现光纤主干传输</p></div><p>以上就是今天跟大家分享的总线抗干扰的六种解决方案，在文章最后再补充在现场常用的两种手段吧。</p><p>1、CAN线远离干扰源</p><p>远离干扰源是最简单的抗干扰方法，如果CAN线与强电干扰源远离0.5米，干扰就基本影响不到了。可是在实际布线中，经常遇到空间太小而不得不和强电混在一起，如图16所示，为某新能源汽车的驱动系统，CAN线与驱动线混在一起，结果导致干扰很大。只要与CAN并行的驱动线，具备2A/秒的电流变化，就会耦合出强磁场而导致CAN线上出现干扰脉冲。所以CAN线必须要和电流会剧烈变化的线缆远离。比如继电器、电磁阀、逆变器、电机驱动线等。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3a754043c5ff4e1d989a098af1373768><p class=pgc-img-caption>图16 干扰现场图</p></div><p>而解决这个问题，只能尽量保证强电与弱电分开捆扎，距离上尽量远离。实在避不开，也要垂直交叉，也不能平行布线。</p><p>2、增加磁环或者共模电感</p><p>使用抗干扰的磁环，目的就是削弱特定频率的干扰的影响。如图17所示，为增加磁环的效果。CAN差分线缆可以两线一起加，或者单端单独加。</p><div class=pgc-img><img alt=CAN总线抗干扰的六种解决方案 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5744a10b19b644b9864d9a593e7f9c34><p class=pgc-img-caption>图17 增加磁环</p></div><p>需要注意的是增加磁环或者共模电感时，不可随意添加，如果适应频率不对，则会影响正常信号通讯哦。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'总线','抗干扰','六种'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>