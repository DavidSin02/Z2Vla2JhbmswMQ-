<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>pythonå®ç°æ ¡å›­ç½‘è‡ªåŠ¨ç™»å½• | æå®¢å¿«è¨Š</title><meta property="og:title" content="pythonå®ç°æ ¡å›­ç½‘è‡ªåŠ¨ç™»å½• - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/1532057299894a4edbf545a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4fabcb2.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4fabcb2.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4fabcb2.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4fabcb2.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4fabcb2.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4fabcb2.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4fabcb2.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4fabcb2.html><meta property="article:published_time" content="2020-10-29T20:54:13+08:00"><meta property="article:modified_time" content="2020-10-29T20:54:13+08:00"><meta name=Keywords content><meta name=description content="pythonå®ç°æ ¡å›­ç½‘è‡ªåŠ¨ç™»å½•"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/4fabcb2.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>pythonå®ç°æ ¡å›­ç½‘è‡ªåŠ¨ç™»å½•</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>å› ä¸ºæœ€è¿‘æƒ³ç”¨æ ‘è“æ´¾æä¸ªè¿œç¨‹ç›‘æ§ç³»ç»Ÿ,åˆå› ä¸ºå­¦æ ¡çš„ç½‘éœ€è¦ä»ç½‘é¡µç™»å½•è€Œæ ‘è“æ´¾åˆä¸æ–¹ä¾¿æä¸ªæ˜¾ç¤ºå™¨å¸¦ç€,æ‰€ä»¥å¯»æ€ç€æä¸ªèƒ½å¤Ÿè‡ªåŠ¨ç™»å½•æ ¡å›­ç½‘çš„è„šæœ¬ç¨‹åº,çœå»äº†æ¯æ¬¡éƒ½è¦æ‰“å¼€æµè§ˆå™¨è¾“å…¥è´¦å·å¯†ç çš„çƒ¦æ¼.</p><p><strong>1.å·¥å…·</strong></p><ul><li>ç«ç‹æµè§ˆå™¨+firedebugæ’ä»¶,debugæ’ä»¶å¯åœ¨æµè§ˆå™¨é™„åŠ ç»„ä»¶ä¸­æ·»åŠ ,å…¶ä»–æµè§ˆå™¨ä¹Ÿå¯ä»¥ï¼Œåªè¦æœ‰å¯ä»¥ç›‘æ§æµè§ˆå™¨çš„ç½‘ç»œè¡Œä¸ºæ’ä»¶å³å¯.</li><li>python+requestsåŒ…</li></ul><p><strong>2.æ­¥éª¤</strong></p><p>1)å…ˆæ‰“å¼€åˆ°ç™»å½•ç•Œé¢,ç„¶ååœ¨æŒ‰f12æ‰“å¼€firedebugæ’ä»¶,æ­¤æ—¶debugæ— ä»»ä½•è®°å½•è¡Œä¸º,ç„¶åç‚¹å‡»åˆ·æ–°æŒ‰é’®,å†ç‚¹å‡»ç™»å½•æŒ‰é’®,å†æ¬¡è°ƒå‡ºdebugç‚¹å‡»æ§åˆ¶å°é€‰é¡¹å¡,è¿™æ—¶ä¼šå‘ç°å¾ˆå¤šgetæ–¹æ³•åŠ ä¸Šæœ€åç”±ç™»å½•äº§ç”Ÿçš„POSTæ–¹æ³•,å¦‚å›¾æ‰€ç¤º</p><div class=pgc-img><img alt=pythonå®ç°æ ¡å›­ç½‘è‡ªåŠ¨ç™»å½• onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1532057299894a4edbf545a><p class=pgc-img-caption></p></div><p>2)ç‚¹å‡»POSTæ–¹æ³•çš„å°ç®­å¤´ä¼šå‘ç°,æµè§ˆå™¨çš„è¯·æ±‚å¤´headerä¿¡æ¯,è¿™ä¸ªéœ€è¦æˆ‘ä»¬ä¿å­˜ä¸‹æ¥(ä¸æ˜¯å“åº”å¤´),</p><div class=pgc-img><img alt=pythonå®ç°æ ¡å›­ç½‘è‡ªåŠ¨ç™»å½• onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/15320573209692a0c02d00c><p class=pgc-img-caption></p></div><p>3)æŸ¥çœ‹POSTé€‰é¡¹å¡ä¸­çš„å†…å®¹,å…¶ä¸­çš„å˜é‡å’Œå‚æ•°éƒ½éœ€è¦ä¿å­˜ä¸‹æ¥,è¿™é‡Œé¢å¯ä»¥çœ‹åˆ°å…¶ä¸­çš„passwordæ˜¯è¢«åŠ è¿‡å¯†çš„.å¦‚æœåªæ˜¯ç™»å½•è‡ªå·±çš„è´¦å·å¯†ç ,é‚£ä¹ˆç¨‹åºåˆ°æ­¤å¯ä»¥ç»“æŸ.æŠŠå…¶ä¸­çš„æ•°æ®ç”¨è‡ªå·±æŠ“åˆ°çš„æ•°æ®æ›¿æ¢ä½¿ç”¨ä¸‹é¢ä»£ç å³å¯ç™»å½•æ ¡å›­ç½‘.</p><div class=pgc-img><img alt=pythonå®ç°æ ¡å›­ç½‘è‡ªåŠ¨ç™»å½• onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1532057337178714e43b932><p class=pgc-img-caption></p></div><p>import requests</p><p>#ç™»å½•åœ°å€</p><p>post_addr="http://a.nuist.edu.cn/index.php/index/login"</p><p>#æ„é€ å¤´éƒ¨ä¿¡æ¯</p><p>post_header={</p><p>'Host': 'a.nuist.edu.cn',</p><p>'User-Agent':'Mozilla/5.0 (X11; Linux x86_64; rv:55.0) Gecko/20100101 Firefox/55.0',</p><p>'Accept': 'application/json, text/javascript, */*; q=0.01',</p><p>'Accept-Language':'zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3',</p><p>'Accept-Encoding': 'gzip, deflate',</p><p>'Content-Type': 'application/x-www-form-urlencoded',</p><p>'X-Requested-With':'XMLHttpRequest',</p><p>'Referer':'http://a.nuist.edu.cn/index.php?url=aHR0cDovL2RldGVjdHBvcnRhbC5maXJlZm94LmNvbS9zdWNjZXNzLnR4dA==',</p><p>'Content-Length': '67',</p><p>'Cookie':'_gscu_1147341576=059821653286gq10; sunriseUsername=123441534;\</p><p>sunriseDomain=NUIST;sunriseRememberPassword=true; sunrisePassword=123456;\</p><p>PHPSESSID=hb0o9bkct2f6ge164oj3vj0me5;think_language=zh-CN',</p><p>'Connection':'keep-alive',</p><p>}</p><p>#æ„é€ ç™»å½•æ•°æ®</p><p>post_data={'domain':'NUIST',</p><p>'enablemacauth':'0',</p><p>'password':'MTgzMzEw',</p><p>'username':'xxxxxxx'</p><p>}</p><p>#å‘é€postè¯·æ±‚ç™»å½•ç½‘é¡µ</p><p>z=requests.post(post_addr,data=post_data,headers=post_header)</p><ul><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li><li>29</li><li>30</li><li>31</li></ul><p>4)ä½†æ˜¯å‘ç°ä¸€ä¸ªé—®é¢˜å°±æ˜¯ä¸Šé¢çš„ç¨‹åºåªèƒ½è‡ªå·±ä½¿ç”¨,å¦‚æœæ¢ä¸€ä¸ªè´¦å·å¯†ç ç™»å½•é‚£ä¹ˆåˆè¦ä½¿ç”¨æµè§ˆå™¨æŠ“æ•°æ®åŒ…,çƒ¦â€¦ä»”ç»†æŸ¥çœ‹ä¸Šé¢çš„æ­¥éª¤å‘ç°æƒ³è¦å†™ä¸€ä¸ªå…¶å®ƒè´¦å·å¯ä»¥ä½¿ç”¨ï¼Œä½†ä¸ç”¨æŠ“åŒ…ä¹Ÿå¯ä»¥ç™»å½•çš„ç¨‹åºçš„éš¾ç‚¹åœ¨äºæ„é€ post_dataç¨‹åºä¸­passwordè¢«åŠ å¯†è¿‡,å¦‚æœèƒ½å¤ŸçŸ¥é“å®ƒçš„åŠ å¯†æ–¹å¼,å†™ä¸€ä¸ªé€šç”¨çš„(åœ¨æœ¬æ ¡å†…)ç¨‹åºè¿˜æ˜¯éå¸¸å®¹æ˜“çš„.å…¶å®å¦‚æœå¯¹å¸¸ç”¨çš„åŠ å¯†æ–¹æ³•æ¯”è¾ƒäº†è§£,é‚£ä¹ˆå»æŸ¥çœ‹ç½‘é¡µçš„æºä»£ç (js)è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“å¾—å‡ºå®ƒçš„åŠ å¯†æ–¹å¼,å¯æƒœæˆ‘ä¸æ‡‚,åªçŸ¥é“ä¸€ä¸ªmd5åŠ å¯†,å› æ­¤æˆ‘å°±å°è¯•ç”¨pythonä¸­çš„hashlibåŒ…å¯¹å¯†ç è¿›è¡ŒåŠ å¯†ç„¶åæŸ¥çœ‹æ˜¯å¦å’ŒæŠ“åˆ°çš„æ•°æ®ç›¸åŒ,é—æ†¾çš„æ˜¯è¿ä¸€ä¸ªå­—ç¬¦éƒ½æœ¨æœ‰ç›¸åŒçš„â€¦,ç„¶åæˆ‘æƒ³æ—¢ç„¶æ•°æ®æ˜¯ä»æœ¬åœ°å‘æœåŠ¡å™¨å‘é€çš„ï¼Œé‚£ä¹ˆåŠ å¯†çš„è¿‡ç¨‹å¿…ç„¶æ˜¯åœ¨å®¢æˆ·ç«¯å®Œæˆçš„ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯é€šè¿‡jsè„šæœ¬(å¯¹ç½‘é¡µç¼–ç¨‹ä¸å¤ªäº†è§£,åªçŸ¥é“jså¯åœ¨å®¢æˆ·ç«¯æ‰§è¡Œ,æ‰€ä»¥çŒœæµ‹æ˜¯jsè„šæœ¬å®Œæˆå¯¹passwardç¼–ç ),ç„¶åé€šè¿‡debugæŸ¥çœ‹æŠ“åˆ°çš„jsä»£ç .æ‰“å¼€debugçš„è°ƒè¯•å™¨å¯ä»¥çœ‹åˆ°å·¦è¾¹æœ‰ä¸€æ’jsä»£ç ,é€šè¿‡jsæ–‡ä»¶åå¯ä»¥å¤§æ¦‚çŒœæµ‹åˆ°jsçš„ä½œç”¨.</p><div class=pgc-img><img alt=pythonå®ç°æ ¡å›­ç½‘è‡ªåŠ¨ç™»å½• onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15320573542184694f51359><p class=pgc-img-caption></p></div><p>5)æŸ¥çœ‹å·¦ä¾§æ–‡ä»¶åèƒ½å¤Ÿç›´æ¥çŒœæµ‹åˆ°ä½œç”¨æœ‰login.js,md5.js,client.js,usercss.js.æ—¢ç„¶md5ä¸æ˜¯passwordåŠ å¯†æ–¹å¼é‚£ä¹ˆæŸ¥çœ‹å…¶å®ƒjsä»£ç .å¹¸è¿çš„æ˜¯ç‚¹å¼€ç¬¬ä¸€ä¸ªbase64ä»£ç æ•æ„Ÿçš„å‘ç°è¿™ç¯‡ä»£ç å°±æ˜¯ä¸€ç§ç¼–ç æ–¹å¼,èµ¶ç´§ç™¾åº¦ä¹‹,å‘ç°base64æœç„¶æ˜¯ä¸€ç§ç¼–ç æ–¹å¼,è¶çƒ­æ‰“é“ç™¾åº¦pythonçš„base64ç¼–ç å®ç°,å‘ç°pythonæ—©å·²é›†æˆbase64çš„åŒ…,åˆ©ç”¨æ­¤åŒ…å†æ¬¡å¯¹å¯†ç è¿›è¡Œç¼–ç â€¦.å‘ç°ç»“æœå’ŒæŠ“åˆ°çš„postdataä¸€æ¯›ä¸€æ ·,è‡³æ­¤å†™ä¸€ä¸ªé€šç”¨çš„ç¨‹åºæŒ‡æ—¥å¯å¾…!!</p><p>å®Œæ•´ä»£ç å¦‚ä¸‹(ç²—çŠ·ç‰ˆ):</p><p>#!/usr/bin/python3</p><p># -*- coding: utf-8 -*-</p><p>'''</p><p>FileName:conNet.py</p><p>Author:shenhuixiang</p><p>Copyright(c)2017,shenhuixiang</p><p>'''</p><p>import base64</p><p>import requests</p><p>'''</p><p>è¾“å…¥è´¦å·å¯†ç å’Œç™»å½•çš„ç½‘ç»œ</p><p>ç½‘ç»œå‚æ•°ä¸ºå¦‚æœæ˜¯ç§»åŠ¨çš„åˆ™å¡«å†™CMCC</p><p>å¦‚æœæ˜¯å­¦å·åˆ™å¡«NUIST</p><p>'''</p><p>USER_ACCOUNT='110'</p><p>DOMAIN_SELECTION='CMCC'</p><p>USER_PASSWATD='123456'</p><p>#ç™»å½•åœ°å€</p><p>post_addr="http://a.nuist.edu.cn/index.php/index/login"</p><p>#æ„é€ å¤´éƒ¨ä¿¡æ¯</p><p>post_header={</p><p>'Host': 'a.nuist.edu.cn',</p><p>'User-Agent':'Mozilla/5.0 (X11; Linux x86_64; rv:55.0) Gecko/20100101 Firefox/55.0',</p><p>'Accept': 'application/json, text/javascript, */*; q=0.01',</p><p>'Accept-Language':'zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3',</p><p>'Accept-Encoding': 'gzip, deflate',</p><p>'Content-Type': 'application/x-www-form-urlencoded',</p><p>'X-Requested-With':'XMLHttpRequest',</p><p>'Referer':'http://a.nuist.edu.cn/index.php?url=aHR0cDovL2RldGVjdHBvcnRhbC5maXJlZm94LmNvbS9zdWNjZXNzLnR4dA==',</p><p>'Content-Length': '67',</p><p>'Cookie':'_gscu_1147341576=059821653286gq10; sunriseUsername='+USER_ACCOUNT+';\</p><p>sunriseDomain='+DOMAIN_SELECTION+';sunriseRememberPassword=true; sunrisePassword='+USER_PASSWATD+';\</p><p>PHPSESSID=hb0o9bkct2f6ge164oj3vj0me5;think_language=zh-CN',</p><p>'Connection':'keep-alive',</p><p>}</p><p>'''</p><p>passwordåœ¨postçš„å‚æ•°ä¸­ç»è¿‡base64ç¼–ç ,</p><p>ä¸ºäº†æŸ¥æ‰¾passwordåŠ å¯†æ–¹å¼...åè¡€ä¸‰å‡.</p><p>'''</p><p>post_data={'domain':DOMAIN_SELECTION,</p><p>'enablemacauth':'0',</p><p>'password':base64.b64encode(USER_PASSWATD.encode()),</p><p>'username':USER_ACCOUNT</p><p>}</p><p>#å‘é€postè¯·æ±‚ç™»å½•ç½‘é¡µ</p><p>z=requests.post(post_addr,data=post_data,headers=post_header)</p><p>#z.textä¸ºstrç±»å‹çš„jsonæ•°æ®å› æ­¤å…ˆç¼–ç æˆbyteç±»å‹åœ¨è§£ç æˆunicodeå‹è¿™æ ·å°±å¯ä»¥æ­£å¸¸è¾“å‡ºä¸­æ–‡</p><p>s=z.text.encode('utf-8').decode('unicode-escape')</p><p>print(s)</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'python','å®ç°','æ ¡å›­'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>