<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>微盟“宕机”36小时：员工因个人原因破坏数据库，目前仍未彻底恢复 | 极客快訊</title><meta property="og:title" content="微盟“宕机”36小时：员工因个人原因破坏数据库，目前仍未彻底恢复 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/RrWKqk37tw0K09"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5094df2b.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5094df2b.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5094df2b.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5094df2b.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5094df2b.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5094df2b.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5094df2b.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5094df2b.html><meta property="article:published_time" content="2020-11-14T21:05:13+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:13+08:00"><meta name=Keywords content><meta name=description content="微盟“宕机”36小时：员工因个人原因破坏数据库，目前仍未彻底恢复"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/5094df2b.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>微盟“宕机”36小时：员工因个人原因破坏数据库，目前仍未彻底恢复</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><img alt=微盟“宕机”36小时：员工因个人原因破坏数据库，目前仍未彻底恢复 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RrWKqk37tw0K09><p><strong>经济观察网 记者 任晓宁 </strong>2月23日晚上到25日中午，微盟经历了惊心动魄36小时。到目前，微盟的服务仍未彻底恢复。</p><p>2月23日晚，微盟服务器出现故障，商家商城、小程序均无法登陆。商家在社交平台抱怨声起，一位经营海鲜的商家说，已经卖了几百万元提货卡，现在不能发货，非常着急。</p><p>25日中午，微盟发出声明，称这次事故系人为造成，微盟研发中心运维部核心运维人员贺某，于2月23日晚18点56分通过个人VPN登入公司内网跳板机，因个人精神、生活等原因对微盟线上生产环境进行恶意破坏。目前，贺某被上海市宝山区公安局进行刑事拘留，并承认了犯罪事实。</p><p>微盟去年在香港上市，主要为商家提供微商城、智慧零售、餐饮o2o、小程序等解决方案，林清轩、百草味，以及众多餐饮公司点餐小程序均由微盟提供服务。根据微盟财报，截至2019年上半年，微盟拥有300万注册企业商户。</p><p>2月25日，微盟开盘跌超5%，随后股价上涨，收盘时上涨4%，当前市值138亿港元。</p><p>截至经济观察网发稿，微盟仍未彻底恢复。记者登陆微盟的主要客户林清轩微信小程序，以及微盟自己的官方小程序“微盟微商城”，显示“系统更新维护中，预计恢复时间2月25日12:00”。但截至25日晚上，二者仍未恢复。</p><p>微盟预计，2月25日晚上24点前，微盟所有新用户将可恢复服务，老用户由于数据修复时间问题，预计老用户数据修复将可在2月28日晚上24点前完成。</p><p>对于微盟公司及商家，此次事故不亚于一场天降横祸。曾从事多年运维工作的知数堂创始人叶金荣告诉记者，这次事件，不同于常见的黑客入侵或误操作，而是源于内部发起的破坏，这种是最可怕、最难防范的行为，“我相信超过80%甚至90%的中小型公司，都无法避免这个问题。”这种意外事故，受害人除了公司、员工，更多的是商户，因此，需要反思和预防此类事件一再发生。</p><p><strong>为什么恢复这么慢</strong></p><p>23日开始，“微盟崩了”、“微盟崩溃超过24小时”在微博成为热议话题，截至25日晚，后一个话题阅读量超百万。商家们担心，他们的历史数据、订单会因此受到影响，也担心因不能及时发货影响用户评价。</p><p>此前，也有公司发生过数据库崩盘事件，但大多在几小时之内就能恢复。这一次，微盟为何长达36小时后，还是不能恢复数据？</p><p>叶金荣告诉记者，数据恢复时间快慢，一方面是因为数据量，另一方面则是困难程度。此次微盟事件，是被删除全部数据，恢复起来是要慢一些，而且还要进行校验。</p><p>他经过侧面了解，这起事件主要的影响是，数据库的主备库都被删了，并且执行的是类似"rm -fr /"这样的操作。这种行为，基本上只能通过其他备库或物理备份来恢复了。更糟糕的是，这次事故赶上特殊情况，“大家都在家远程办公，协同起来肯定更慢，也影响了恢复速度，真是祸不单行”。</p><p>微盟使用的是腾讯云服务，目前，腾讯云技术团队已经支援微盟。腾讯云方面对记者回应称，微盟运维事故发生后，腾讯云的技术团队已经在第一时间与微盟对齐，研究制定修复方案。“工程师们正在日夜赶工，我们将尽最大努力协助微盟降低损失。”</p><p><strong>备份及权限的重要性</strong></p><p>一个员工破坏数据库，就导致整个公司数据库崩盘36小时以上，带来巨大损失。这种看起来匪夷所思的行为，在2月23日真实发生了。天降横祸背后，企业也应对数据保护进行反思，并预防此类事件一再发生。</p><p>叶金荣分析说，本次事件中，短时间内造成大面积服务器故障，基本可以断定是因为工具批量分发命令导致的。他建议，企业一定要进行权限分级，包括业务范围分级，区分业务运维、系统运维、网络运维、DBA等多重角色，每个角色都只能接触自己所负责的那票业务服务器，以及相应可执行的权限。</p><p>“分级措施想做到位，就得有足够的人员，公司上市的目的就是通过融资以改善运营状况，该招人就招人吧。”</p><p>叶金荣有多年运维从业经历，仅有一次比较严重的故障，就是栽在没及时进行备份恢复测试校验。“备份的重要性无需多言”，他建议，除了本地备份，还应该有异地备份，并且要区分本地备份和异地备份责任人的权限，交由不同等级的人管理，防止恶意破坏时，把全套备份都一把火烧了。另外，除了逻辑备份外，还应该有物理备份，因为物理备份恢复起来会更快一些。</p><p><strong>员工已被刑事拘留</strong></p><p>事故发生后，微盟对破坏生产环境的犯罪嫌疑人进行追踪分析，定位到犯罪嫌疑人登录账号及IP地址，并于2月24日向宝山区公安局报案，目前犯罪嫌疑人贺某已经被宝山区公安局进行刑事拘留。</p><p>炜衡律师事务所合伙人律师李可书告诉记者，从微盟公开的信息看，员工贺某可能涉嫌触犯刑法第276条的破坏生产经营罪，或是刑法286条的破坏计算机信息系统罪。</p><p>按照法律规定，破坏生产经营罪，即由于泄愤报复或者其他个人目的，毁坏机器设备、残害耕畜或者以其他方法破坏生产经营的，处三年以下有期徒刑、拘役或者管制；情节严重的，处三年以上七年以下有期徒刑。破坏计算机信息系统罪，即违反国家规定，对计算机信息系统功能进行删除、修改、增加、干扰，造成计算机信息系统不能正常运行，后果严重的，处五年以下有期徒刑或者拘役；后果特别严重的，处五年以上有期徒刑。</p><p>贺某是否触犯刑法，需满足主体、客体、主观方面、客观方面4个方面的认定。“主体主要区分是否是正常行为能力人、限制行为能力人还是无行为能力人，客体指侵犯了刑法所保护而为犯罪所侵犯的社会关系，主观方面主要区分是否故意/过失，客观方面指刑法规定的具有社会危害性应受刑法处罚的行为，以及由此行为造成或可能造成的危害社会的结果，”李可书告诉记者，如果4点都能满足，就可能涉嫌犯罪。</p><p>该员工为何破坏数据库，目前还没有明确结论。微盟称，对因远程办公而疏忽对员工精神状态的关注而深表痛惜。</p><p>对于商家的损失，微盟正在拟定相关赔付方案补偿，“我们对此次因人为造成的事故灾难无比愧疚，我们今后将一定吸取这个惨痛的教训，加强对线上运维的治理”。</p><p>此次微盟宕机造成的损失，目前也没有最终数据。叶金荣告诉记者，删库最严重的影响，应该是会丢失一部分旧客户的数据，从公告的情况来看，应该不会特别严重。此次腾讯云安排了技术专家协助，他认为，从云服务器历史快照备份里，还是有望能恢复大部分数据的。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'微盟','36','小时'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>