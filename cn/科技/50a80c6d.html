<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>每天学习一点：高级微控制器总线架构 简介 | 极客快訊</title><meta property="og:title" content="每天学习一点：高级微控制器总线架构 简介 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/805c9c65586040b18969ae1eff3a9418"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/50a80c6d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/50a80c6d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/50a80c6d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/50a80c6d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/50a80c6d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/50a80c6d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/50a80c6d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/50a80c6d.html><meta property="article:published_time" content="2020-11-14T20:59:43+08:00"><meta property="article:modified_time" content="2020-11-14T20:59:43+08:00"><meta name=Keywords content><meta name=description content="每天学习一点：高级微控制器总线架构 简介"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/50a80c6d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>每天学习一点：高级微控制器总线架构 简介</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>本文将介绍高级微控制器总线架构（AMBA，Advanced Microcontroller Bus Architecture），这是SoC设计的开放标准。</p><p>随着半导体制造业的发展，在相同尺寸的芯片上安装更多逻辑门的能力稳步提高。这使得能够在同一芯片上包含越来越多的元件，导致了SoC或片上系统的诞生。</p><p>SoC通常被定义为包括构成计算机的所有必要元件的集成电路。这包括CPU，RAM，非易失性存储器，UART以及系统所需的任何其他外设。由于在同一芯片上有大量不同的组件，因此有效地连接和管理这些子系统很快就成为一项挑战。</p><p>高级微控制器总线架构（AMBA，Advanced Microcontroller Bus Architecture）是解决此问题的一种尝试。</p><h1>什么是AMBA？</h1><p>高级微控制器总线架构（AMBA，Advanced Microcontroller Bus Architecture）是一个开放标准，它概述了如何连接和管理SoC中的不同组件或功能块。 AMBA规范由ARM开发，已成为SoC中接口组件的事实标准。虽然AMBA目前正处于第5版，并且随着时间的推移已经有了很大的发展，但传统的实现仍被广泛使用并且新版和老版之间仍然具有相关性，所以建议牢记这一点，因此本文将使用版本2.0作为起点，并在以后的文章中构建这些想法。</p><h1>为何选择AMBA？</h1><p>开发AMBA规范是为了解决SoC设计中的一些关键问题。其中之一是正确的首次开发，这意味着如果使用得当，AMBA可以从一开始就确保一致的设计，减少昂贵的重新设计。 AMBA的另一个关键要求是技术独立性或使设计可重复使用并且与系统组件的细节无关。通过模块化系统设计，AMBA鼓励开发组件库，以便一次完成的工作不需要重复。 AMBA的最后一个动机是最小化片上和片外通信所需的芯片量。</p><h1>AMBA总线</h1><p>在版本2.0中，描述了三种不同的总线，用于促进片上通信的实现。这些是高级高性能总线（AHB，Advanced High-Performance Bus），高级系统总线（ASB，Advanced System Bus ）和高级外设总线（APB，Advanced Peripheral Bus ）。 AHB是系统的主干，专为高性能，高频率组件而设计。这包括处理器，片上存储器和存储器接口等的连接。</p><p>ASB是AHB的替代方案，不需要某些高性能功能。 APB是一种简化的接口，专为不需要AHB或ASB的高性能的低带宽外设而设计。其中包括UART，低频GPIO和定时器等组件。</p><div class=pgc-img><img alt="每天学习一点：高级微控制器总线架构 简介" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/805c9c65586040b18969ae1eff3a9418><p class=pgc-img-caption>图1</p></div><p>图1.包含AHB / ASB和APB的AMBA总线（取自AMBA Rev. 2.0）</p><h1>先进的高性能总线（AHB）</h1><p>在修订版2.0中，AHB是AMBA的新成员。它被添加以适应高性能设计。添加的一些新特征是分离事务，单周期总线主控切换，单时钟边缘操作和更宽的数据总线配置，即64/128位。</p><p>AHB必须包含主设备和从设备之外的许多组件。这些组件是地址和控制多路复用器，读多路复用器，写多路复用器，解码器和仲裁器。图2显示了连接到AHB上四个从站的三个主站。所示信号是地址信号（HADDR），写数据总线（HWDATA）和读数据总线（HRDATA）。该地址用于从连接选择，写数据总线用于将数据从主机移动到从机，读数据总线用于在从机和主机之间移动数据。</p><div class=pgc-img><img alt="每天学习一点：高级微控制器总线架构 简介" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1ce64e3c586e4c53b528ca2c32c1aafb><p class=pgc-img-caption>图2</p></div><p>图2.带有主设备，从设备，多路复用器，仲裁器和解码器的AHB（AMBA Rev. 2.0）</p><p>当主设备需要控制总线时，它必须首先向仲裁器发送请求。</p><p>仲裁器基于优先级方案授予访问权限，该优先级方案确保首先给予具有较高优先级的主控器。该优先级方案不是由AMBA定义的，并且在设计之间会有所不同。许多控制信号用于定义数据传输的方向，宽度和类型。 AHB解码器从主设备接收地址信号并将其解码为从设备选择信号。从机通过HRESP信号响应主机，主机和从机之间的数据传输开始。</p><p>总共有大约20种不同的AHB信号，每种信号都有一个独特的目的。图3显示了AHB信号和ASB信号以供参考。</p><h1>高级系统总线（ASB）</h1><p>ASB是AHB的简化版本，可为16位和32位系统提供高性能。除了允许分离事务的某些控制信号之外，AHB上的许多相同信号用于ASB。</p><p>ASB的操作以请求从仲裁器访问总线的主设备开始。仲裁者授予请求并开始转移。解码器解码总线上的地址并选择从站设备。从站设备响应主站设备并进行数据传输。</p><div class=pgc-img><img alt="每天学习一点：高级微控制器总线架构 简介" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6dca2a2c57184bd881f6470d29205b8e><p class=pgc-img-caption>图3</p></div><p>图3.与ASB信号相比的AHB信号</p><h1>高级外设总线（APB）</h1><p>高级外设总线（APB，Advanced Peripheral Bus ）是用于低频系统组件的简化接口。修订版2通过使所有信号转换与时钟的上升沿同步来进一步简化总线。</p><p>高级外设总线（APB，Advanced Peripheral Bus ）由一个称为APB桥的单总线主站组成，它充当AHB / ASB上的从站。因此，桥接器是高性能总线和低频外围设备之间的接口。 APB上的外围设备是从属设备。图4列出了APB信号名称。</p><div class=pgc-img><img alt="每天学习一点：高级微控制器总线架构 简介" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/57ac8a1e19e7436199e0ff90397156b6><p class=pgc-img-caption>图4</p></div><p>图4. APB信号</p><h1>AMBA系统</h1><p>下面的图5显示了一个示例AMBA系统，它运行时有两个AHB主站，一个AHB从站和两个APB从站。注意AHB仲裁器，AHB解码器和APB桥的位置。</p><div class=pgc-img><img alt="每天学习一点：高级微控制器总线架构 简介" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/8522aca4f1e144ca8396216f96e14799><p class=pgc-img-caption>图5</p></div><p>图5. AMBA系统示例。</p><p>APB桥接器具有AHB从接口，因此它看起来像是主站的另一个从站。该系统已被简化，一些信号和次要元件（如复位信号和多路复用器）被移除。输出信号离开块的右侧，输入信号进入块的左侧。输入信号也用箭头表示。较粗的线表示较大的数据路径。</p><p>该系统在大约七个时钟周期的过程中对一个APB从设备执行写操作。 AHB是一个流水线总线，具有专用的读写路径，因此读取可能会在此写入过程中发生。有关更精确的时序信息，请参阅AMBA标准版本2.0。</p><h1>AXI - 展望未来</h1><p>最终，AHB达到了性能极限，到2003年ARM已经发布了新一代的AMBA协议。 AMBA 3.0版引入了AXI协议。 AXI代表高级可扩展接口，提供比AHB更高的性能，通过点对点连接方案实现。 AXI互连不是使用系统总线，而是仅使用几个明确定义的接口，允许主站和从站之间的事务处理。</p><p>在下一篇AMBA文章中，我们将介绍AXI3和AXI4以及它们如何用于接口SoC组件，敬请关注。</p><div class=pgc-img><img alt="每天学习一点：高级微控制器总线架构 简介" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/758178e43b25468bad7cc832fe9ff2ec><p class=pgc-img-caption>图6</p></div><p>图6. AXI互连</p><h1>结论</h1><p>在本文中，我们介绍了高级微控制器总线架构或AMBA。 AMBA是一个开放标准，概述了SoC上的组件如何以快速有效的方式交换数据。</p><p>AMBA已成为事实上的标准，目前正在进行第5次修订。从修订版2.0开始，我们查看了AHB，ASB和APB以及它们如何从高级别开始工作。虽然很多这些总线协议已被AMBA的未来修订所取代，但它们仍然与传统设计相关，并且可以作为未来学习的基础。</p><p>无论您是对专业SoC设计感兴趣还是作为业余爱好，AMBA都是您旅途中的关键一步。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'学习','一点','高级'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>