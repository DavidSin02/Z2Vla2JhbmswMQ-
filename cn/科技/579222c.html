<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>SPI、UART、I2C三种串行总线简介 | 极客快訊</title><meta property="og:title" content="SPI、UART、I2C三种串行总线简介 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/dfic-imagehandler/8ccf67db-acce-4275-81b2-00ad69065100"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/579222c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/579222c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/579222c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/579222c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/579222c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/579222c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/579222c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/579222c.html><meta property="article:published_time" content="2020-10-29T21:05:51+08:00"><meta property="article:modified_time" content="2020-10-29T21:05:51+08:00"><meta name=Keywords content><meta name=description content="SPI、UART、I2C三种串行总线简介"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/579222c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>SPI、UART、I2C三种串行总线简介</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p class=ql-align-center><strong>SPI（Serial Peripheral Interface，串行外设接口）</strong></p><div class=pgc-img><img alt=SPI、UART、I2C三种串行总线简介 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/8ccf67db-acce-4275-81b2-00ad69065100><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>SPI是一种高速、全双工、同步、串行通信总线，3~4线接口，以主从模式工作，收发独立，可以实现多个SPI设备互相连接。</p><p class=ql-align-justify>提供SPI串行时钟的SPI设备为SPI主机或主设备(Master)，其他设备为SPI从机或从设备(Slave)。SPI总线由三条信号线组成，分别是SCLK（串行时钟）、SDI（串行数据输入）、SDO（串行数据输出）。当有多个从设备时，还可以增加一条从设备选择线，CS是控制芯片是否被选中的，这样就可以实现在同一总线上多个SPI设备互相连接。</p><p class=ql-align-justify>如果用GPIO口模拟SPI总线，必须要有一个输出口(SDO)，一个输入口(SDI)，另一个口则视实现的设备类型而定，如果要实现主从设备，则需输入输出口，若只实现主设备，则需输出口即可，若只实现从设备，则只需输入口即可。</p><p class=ql-align-justify>SDI – 主设备数据输入，从设备数据输出；</p><p class=ql-align-justify>SDO – 主设备数据输出，从设备数据输入；</p><p class=ql-align-justify>SCLK – 时钟信号，由主设备产生；</p><p class=ql-align-justify>CS – 从设备使能信号，由主设备控制。</p><p class=ql-align-justify>SPI 是一种允许一个主设备启动一个与从设备同步通讯的协议，从而完成数据的交换。SPI是串行协议，也就是说数据是一位一位传输的，这就是SCLK时钟线存在的原因，由SCLK提供时钟脉冲，SDI、SDO则基于此脉冲完成数据传输。数据输出通过 SDO线，数据在时钟上升沿或下降沿时改变，在紧接着的下降沿或上升沿被读取。完成一位数据传输，输入也使用同样原理。这样，在至少8次时钟信号的改变（上沿和下沿为一次），就可以完成8位数据的传输。这样的传输方式有一个优点，与普通的串行通讯不同，普通的串行通讯一次连续传送至少8位数据，而SPI允许数据一位一位的传送，甚至允许暂停，因为SCLK时钟线由主控设备控制，当没有时钟跳变时，从设备不采集或传送数据。也就是说，主设备通过对SCLK时钟线的控制可以完成对通讯的控制。</p><p class=ql-align-justify>SPI还是一个数据交换协议：因为SPI的数据输入和输出线独立，所以允许同时完成数据的输入和输出。不同SPI设备的实现方式不尽相同，主要是数据改变和采集的时间不同，在时钟信号上沿或下沿采集有不同定义，具体请参考相关器件的文档。</p><p class=ql-align-justify>最后，SPI接口的一个缺点：没有指定的流控制，没有应答机制确认是否接收到数据。</p><p class=ql-align-justify>在点对点的通信中，SPI接口不需要进行寻址操作，且为全双工通信，显得简单高效。在多个从设备的系统中，每个从设备需要独立的使能信号，硬件上比I2C系统要稍微复杂一些。SPI接口主要应用在EEPROM、FLASH、实时时钟、AD转换器，还有数字信号处理器和数字信号解码器之间。</p><p class=ql-align-center><strong>UART（Universal Asynchronous Receiver Transmitter，通用异步收发器）</strong></p><div class=pgc-img><img alt=SPI、UART、I2C三种串行总线简介 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/699fd79e-3548-4aa3-a166-7755fda2c382><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>UART总线是两线、全双工、异步串口，速度慢。比SPI、I2C这两种同步串口的结构要复杂很多，一般由波特率产生器（产生的波特率等于传输波特率的16倍）、UART接收器、UART发送器组成，硬件上有两根线，一根用于发送，一根用于接收。数据是异步传输的，对双方的时序要求比较严格，通信速度也不是很快，在多机通信上面用的最多。如果用GPIO口模拟UART总线，则需一个输入口，一个输出口。</p><p class=ql-align-justify>UART是用于控制计算机与串行设备的芯片，它提供了RS-232C数据终端设备接口，这样计算机就可以和调制解调器或其它使用RS-232C接口的串行设备通信了。大多数计算机包含两个基于RS232的串口。串口同时也是仪器仪表设备通用的通信协议；很多GPIB兼容的设备也带有RS-232口。同时，串口通信协议也可以用于获取远程采集设备的数据。串口通信的概念非常简单，串口按位（bit）发送和接收字节。尽管比按字节（byte）的并行通信慢，但是串口可以在使用一根线发送数据的同时用另一根线接收数据。它很简单并且能够实现远距离通信。作为接口的一部分，UART还提供以下功能：</p><ul><li class=ql-align-justify>将由计算机内部传送过来的并行数据转换为输出的串行数据流；</li><li class=ql-align-justify>将计算机外部来的串行数据转换为字节，供计算机内部使用并行数据的器件使用；</li><li class=ql-align-justify>在输出的串行数据流中加入奇偶校验位，并对从外部接收的数据流进行奇偶校验；</li><li class=ql-align-justify>在输出数据流中加入启停标记，并从接收数据流中删除启停标记；</li><li class=ql-align-justify>处理由键盘或鼠标发出的中断信号；</li><li class=ql-align-justify>可以处理计算机与外部串行设备的同步管理问题；</li><li class=ql-align-justify>有一些比较高档的UART还提供输入输出数据的缓冲区，现在比较新的UART是16550，它可以在计算机需要处理数据前在其缓冲区内存储16字节数据。</li></ul><p class=ql-align-justify><br></p><p class=ql-align-center><strong>I2C（Inter－Integrated Circuit）</strong></p><p class=ql-align-justify>I2C总线是双向、两线(SCL、SDA)、同步、串行、多主控（multi-master）接口标准，具有竞争检测和总线仲裁机制，非常适合在器件之间进行近距离、非经常性的数据通信。在I2C的协议体系中，传输数据时都会带上目的设备的设备地址，因此可以实现设备组网。</p><p class=ql-align-justify>如果用GPIO口模拟I2C总线，并实现双向传输，则需一个输入输出口(SDA)，另外还需一个输出口(SCL)。</p><p class=ql-align-justify>I2C总线最主要的优点是其简单性和有效性。I2C能用于替代标准的并行总线，能连接各种集成电路和功能模块。只要求两条总线线路：一条串行数据线SDA 一条串行时钟线SCL。</p><p class=ql-align-justify>I2C是多主控总线，总线上每一个设备都有一个独一无二的地址，根据设备自己的能力，任何能够进行发送和接收的设备都能像主控器一样工作，并控制总线。当然，在任何时间点上只能有一个主控，如果两个或更多主机同时初始化数据传输可以通过冲突检测和仲裁，防止数据被破坏。</p><p class=ql-align-justify>一个主控能够控制信号的传输和时钟频率。同步时钟允许器件通过总线以不同的波特率进行通信。同步时钟可以作为停止和重新启动串行口发送的握手方式。</p><p class=ql-align-justify>由于接口直接在组件之上，因此I2C总线占用的空间非常小，减少了电路板的空间和芯片管脚的数量，降低了互联成本。总线的长度可高达25英尺，并且能够以10Kbps的最大传输速率支持40个组件。</p><p class=ql-align-justify>串行的8 位双向数据传输位速率在标准模式下可达100kbit/s ，快速模式下可达400kbit/s ，高速模式下可达3.4Mbit/s。</p><p class=ql-align-justify>片上的滤波器可以滤去总线数据线上的毛刺波保证数据完整。I2C使用上拉电阻，抗干扰能力较弱，一般用于同一板卡上芯片之间的通信，较少用于远距离通信。连接到相同总线的IC 数量只受到总线的最大电容400pF 限制。</p><p class=ql-align-justify>文章转载自：ivy_reny的博客</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'SPI','UART','I2C'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>