<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>获取和设置pdf目录 | 极客快訊</title><meta property="og:title" content="获取和设置pdf目录 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/be789b77-6aaf-4c6a-8bd9-29249759bfe5"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5944eb00.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5944eb00.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5944eb00.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5944eb00.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5944eb00.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5944eb00.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5944eb00.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5944eb00.html><meta property="article:published_time" content="2020-11-14T20:59:46+08:00"><meta property="article:modified_time" content="2020-11-14T20:59:46+08:00"><meta name=Keywords content><meta name=description content="获取和设置pdf目录"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/5944eb00.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>获取和设置pdf目录</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><br></p><div class=pgc-img><img alt=获取和设置pdf目录 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/be789b77-6aaf-4c6a-8bd9-29249759bfe5><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right><span style="color:#4d4d4d;--tt-darkmode-color: #999999">前言</span></h1><ol start=1><li><strong><span style="color:#4d4d4d;--tt-darkmode-color: #999999">获取pdf目录</span></strong><span style="color:#4d4d4d;--tt-darkmode-color: #999999">：主要场景是为了拿到目录信息做编辑，从pdf软件里面一个个复制那肯定费时费力。</span></li><li><strong><span style="color:#4d4d4d;--tt-darkmode-color: #999999">设置pdf目录</span></strong><span style="color:#4d4d4d;--tt-darkmode-color: #999999">：主要场景，扫描文件或拍多张照片等制作的pdf文件是没有目录。还有就是网上很多扫描版的pdf加上目录很方便。</span></li></ol><h1 class=pgc-h-arrow-right><span style="color:#4d4d4d;--tt-darkmode-color: #999999">工具</span></h1><blockquote><p><span style="color:#4d4d4d;--tt-darkmode-color: #999999">在网上搜索一波，找到了【pdf-toc】这个命令行工具，可以实现获取pdf目录，以及设置pdf目录。<br>感觉很方便，只是需要</span><span style="color:#4d4d4d;--tt-darkmode-color: #999999"><span style="background-color:#f5f5f5;--tt-darkmode-bgcolor: #1C1C1C">python >= 3.6</span></span><span style="color:#4d4d4d;--tt-darkmode-color: #999999">的环境，然后执行</span><span style="color:#4d4d4d;--tt-darkmode-color: #999999"><span style="background-color:#f5f5f5;--tt-darkmode-bgcolor: #1C1C1C">pip install pdf-toc</span></span><span style="color:#4d4d4d;--tt-darkmode-color: #999999">进行安装。该命令行的帮助文档如下：</span></p></blockquote><pre><code>pdf-toc -husage: pdf-toc [-h] [--version] [--show-toc {json,toc}] [-t TOC] [-d DEST]               [-T {json,toc}] [-f] [-m]               source pdf ToC modifier. positional arguments:  source                source pdf file directory optional arguments:  -h, --help            show this help message and exit  --version             show program's version number and exit  --show-toc {json,toc}                        print the toc info of the source file and exit  -t TOC, --toc TOC     toc info used to embed in the result file. leave it                        empty to read toc from stdin  -d DEST, --dest DEST  destination directory for result file  -T {json,toc}, --type {json,toc}                        specify format of ToC file. leave it empty to let the                        tool determine the format, (from file suffix)  -f, --force           overwrite dist file if it exist  -m, --modify          modified the original file instead of create a new one</code></pre><h1 class=pgc-h-arrow-right><span style="color:#4d4d4d;--tt-darkmode-color: #999999">获取pdf目录</span></h1><h1 class=pgc-h-arrow-right><span style="color:#4d4d4d;--tt-darkmode-color: #999999">获取toc格式目录</span></h1><blockquote><p><span style="color:#4d4d4d;--tt-darkmode-color: #999999">执行命令</span><span style="color:#f04142;--tt-darkmode-color: #F04142"><span style="background-color:#f5f5f5;--tt-darkmode-bgcolor: #1C1C1C">pdf-toc --show-toc toc MongoDB_dst.pdf</span></span><span style="color:#4d4d4d;--tt-darkmode-color: #999999">可以得到简单的文本目录格式。<br>下面只截取部分目录信息，可以看到结构为【</span><span style="color:#f04142;--tt-darkmode-color: #F04142"><span style="background-color:#f5f5f5;--tt-darkmode-bgcolor: #1C1C1C">缩进 + 目录名 + 空格 + 页码</span></span><span style="color:#4d4d4d;--tt-darkmode-color: #999999">】，前面的缩进一般为4个空格，为4的倍数表示第几级目录。<br>该方式适用于得到要修改的目录，因为后面设置目录可以用下面这种格式的文件。</span></p></blockquote><pre><code>目录    14第一部分 MongoDB介绍    24    第1章 MongoDB简介    26        1.1 易于使用    26        1.2 易于扩展    27        1.3 丰富的功能    27        1.4 卓越的性能    28        1.5 小结    28    第2章 MongoDB基础知识    30        2.1 文档    30        2.2 集合    31            2.2.1 动态模式    31            2.2.2 命名    32        2.3 数据库    33        2.4 启动MongoDB    34        2.5 MongoDB shell简介    35</code></pre><h1 class=pgc-h-arrow-right><strong><span style="color:#4d4d4d;--tt-darkmode-color: #999999">获取json格式目录</span></strong></h1><blockquote><p><span style="color:#4d4d4d;--tt-darkmode-color: #999999">执行命令</span><span style="color:#f04142;--tt-darkmode-color: #F04142"><span style="background-color:#f5f5f5;--tt-darkmode-bgcolor: #1C1C1C">pdf-toc --show-toc json MongoDB_dst.pdf</span></span><span style="color:#4d4d4d;--tt-darkmode-color: #999999">可以得到简单的文本目录格式。<br>下面只截取部分目录信息，可以看到结构为【</span><span style="color:#4d4d4d;--tt-darkmode-color: #999999"><span style="background-color:#f5f5f5;--tt-darkmode-bgcolor: #1C1C1C">目录等级 + 目录名 + 页码 + 种类信息</span></span><span style="color:#4d4d4d;--tt-darkmode-color: #999999">】。<br>该方式得到的数据最适合用来写代码解析拿去</span><span style="color:#4d4d4d;--tt-darkmode-color: #999999"><span style="background-color:#f5f5f5;--tt-darkmode-bgcolor: #1C1C1C">为所欲为</span></span><span style="color:#4d4d4d;--tt-darkmode-color: #999999">。</span></p></blockquote><pre><code>[    [1, "﻿目录   ", 14, {"kind": 1, "xref": 0, "page": 13, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}],    [1, "第一部分 MongoDB介绍   ", 24, {"kind": 1, "xref": 0, "page": 23, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}],    [2, "第1章 MongoDB简介   ", 26, {"kind": 1, "xref": 0, "page": 25, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}],    [3, "1.1 易于使用   ", 26, {"kind": 1, "xref": 0, "page": 25, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}],    [3, "1.2 易于扩展   ", 27, {"kind": 1, "xref": 0, "page": 26, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}],    [3, "1.3 丰富的功能   ", 27, {"kind": 1, "xref": 0, "page": 26, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}],    [3, "1.4 卓越的性能   ", 28, {"kind": 1, "xref": 0, "page": 27, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}],    [3, "1.5 小结   ", 28, {"kind": 1, "xref": 0, "page": 27, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}],    [2, "第2章 MongoDB基础知识   ", 30, {"kind": 1, "xref": 0, "page": 29, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}],    [3, "2.1 文档   ", 30, {"kind": 1, "xref": 0, "page": 29, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}],    [3, "2.2 集合   ", 31, {"kind": 1, "xref": 0, "page": 30, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}],    [4, "2.2.1 动态模式   ", 31, {"kind": 1, "xref": 0, "page": 30, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}],    [4, "2.2.2 命名   ", 32, {"kind": 1, "xref": 0, "page": 31, "to": {"__type__": "Point", "x": 72.0, "y": 0.0}, "zoom": 0.0}]}</code></pre><h1 class=pgc-h-arrow-right><strong><span style="color:#4d4d4d;--tt-darkmode-color: #999999">设置pdf目录</span></strong></h1><blockquote><p><span style="color:#4d4d4d;--tt-darkmode-color: #999999">设置pdf目录很简单，需要制作获取toc格式目录中得到的那种格式文件。</span><span style="color:#f04142;--tt-darkmode-color: #F04142"><span style="background-color:#f5f5f5;--tt-darkmode-bgcolor: #1C1C1C">特别注意缩进为4个空格，且文件要为utf-8编码</span></span><span style="color:#4d4d4d;--tt-darkmode-color: #999999"><span style="background-color:#f5f5f5;--tt-darkmode-bgcolor: #1C1C1C">。</span></span><span style="color:#4d4d4d;--tt-darkmode-color: #999999"><br>然后执行</span><span style="color:#4d4d4d;--tt-darkmode-color: #999999"><span style="background-color:#f5f5f5;--tt-darkmode-bgcolor: #1C1C1C">pdf-toc -t MongoDB.txt -d MongoDB_dst.pdf MongoDB_src.pdf</span></span><span style="color:#4d4d4d;--tt-darkmode-color: #999999">就可以得到一个带目录的文件</span><span style="color:#4d4d4d;--tt-darkmode-color: #999999"><span style="background-color:#f5f5f5;--tt-darkmode-bgcolor: #1C1C1C">MongoDB_dst.pdf</span></span><span style="color:#4d4d4d;--tt-darkmode-color: #999999">，是不是很方便。</span></p></blockquote><h1 class=pgc-h-arrow-right><strong><span style="color:#4d4d4d;--tt-darkmode-color: #999999">结语</span></strong></h1><p style=text-align:start><span style="color:#4d4d4d;--tt-darkmode-color: #999999">    本来需求很简单就是要获取pdf目录，百度了好一些Python库都没咋看到获取pdf目录的现成代码，我也懒得看那些库的方法文档，肯定是有方法的。但是懒驱动我找到了这个工具，我制作《MongoDB权威指南（第2版.pdf》的pdf目录文件还是花了我好多时间，眼睛都快看瞎了，不过为了方便我自己学习，我还是弄好了。在这里我也把转换前的目录文件和《MongoDB权威指南（第2版.pdf》的【下载链接：</span>https://545c.com/file/28844697-468213579，<span style="color:#4d4d4d;--tt-darkmode-color: #999999"><span style="background-color:#f5f5f5;--tt-darkmode-bgcolor: #1C1C1C">解压密码：https://www.cnblogs.com/janbar/</span></span><span style="color:#4d4d4d;--tt-darkmode-color: #999999">】放出来，大家自己练习吧。</span></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'获取','设置','pdf'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>