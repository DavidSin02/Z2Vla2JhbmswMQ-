<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>高能预警：从数学意义讲讲什么是弥散圆？ | 极客快訊</title><meta property="og:title" content="高能预警：从数学意义讲讲什么是弥散圆？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/1521780710226be98e6609c"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5a6471ac.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5a6471ac.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5a6471ac.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5a6471ac.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5a6471ac.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5a6471ac.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5a6471ac.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5a6471ac.html><meta property="article:published_time" content="2020-11-14T21:00:42+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:42+08:00"><meta name=Keywords content><meta name=description content="高能预警：从数学意义讲讲什么是弥散圆？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/5a6471ac.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>高能预警：从数学意义讲讲什么是弥散圆？</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>前些天发布关于光圈的文章后引发了一些小幅度的讨论，对于一些特别基础但又特别生疏的概念而言，很多人都表示出“不明觉厉”的态度，但本着打破砂锅问到底的精神，所以今天小胖打算从人眼的辨识力出发，讨论成像系统中的弥散圆（Circle of Confusion），并且导出常见的弥散圆直径=传感器对角线长/常数的定理，提示一下，本文不会特别短，也会用到一些三角几何知识，但个人认为大多数高中理科生，或者还没把三角几何丢还给老师的朋友们都应该能看懂，如果没有相关知识或许阅读起来会有点困难。</p><p>首先，什么是<strong>弥散圆，它主要有三种应用场景，第一判定是人眼识别物体的能力</strong>，因为人眼分辨率也是有限度的，比如有一个圆，在观看距离达到一定程度的时候我们就只能看到一个点，也就是一个直径为d的圆在距离L范围内可以被识别为圆，超过L就变成一个点，所以d就是观看距离L时的最大弥散圆，这是用圆的直径来表达。除此之外还能用视线夹角来表达，用图来说明吧：</p><p><img alt=高能预警：从数学意义讲讲什么是弥散圆？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1521780710226be98e6609c></p><p>如图所示，q就是上述最大弥散圆与平视视线的夹角，有：</p><p><img alt=高能预警：从数学意义讲讲什么是弥散圆？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1521780725605b31e2178aa></p><p>以及：</p><p><img alt=高能预警：从数学意义讲讲什么是弥散圆？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1521780737071448042c218></p><p>当一个直径超过夹角q的圆B出现时，它被视为一个圆（如上图）。但如果将其往远端移动，直到被包含在夹角内部时，就只能视为一个点。所以眼睛的辨识力既可以用在某个观看距离下的最大弥散圆直径表示，也可以用视线的夹角表示之，两者只是用不同方式表达相同内容而已，之所以要引入q，所以因为传统光学计算都会以这个夹角作为关键，有如下公式：</p><p><img alt=高能预警：从数学意义讲讲什么是弥散圆？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15217807471658c93811050></p><p>在理想条件下，q也就是最大弥散圆与视线夹角为1分，即1/60度，带入公式可以得出d=L/3437.75，所以<strong>在理想状态下，物长约为观看距离</strong><strong>L</strong><strong>的1/3437.75</strong><strong>时，我们就会把它当成一个点来看待</strong>。但这是之所以说是理想状态是因为现实环境的亮度、物体色彩等多方面也会形成影响，这时候3437.75这个数值太大，人眼分辨率会跟不上，所以往往数值比这个要小很多，在这里用一个常数a来替代，也就是d=L/a。这个数值越小，相同观看距离下的最大弥散圆就越大，反之亦然。</p><p><img alt=高能预警：从数学意义讲讲什么是弥散圆？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/152178114328912b627e869></p><p><strong>弥散圆的第二个应用点就是判定舒适视距</strong>，其实这是第一点的延伸，人眼的舒适视角是以眼球为顶点的50~60度视角锥，舒适观看的前提就是物体前后移动来匹配相应视角锥的切面（如上图椭圆），所以我们看舞台剧需要坐得比较远，欣赏一张照片又会拿得比较近，目的就是让观测物能位于我们的视角锥当中，这也是为什么电影院都有最佳观影座位的原因。</p><p>还是以L为观测距离，视角为W（50或60度），能填满我们视角锥的圆直径为：2L X tan(W/2)。W=50或60度时带入此式可得0.93L或1.15L。以打印5寸照片为例，照片对角线长15.5cm，50或60度视角分别可得最佳观赏距离是16.6cm或13.4cm，而在这个距离下计算最大弥散圆直径最简单的方法就是套入我们最开始讲的夹角，公式非常简单，就是q/W，我们之前讲了q=1/60，而W=50或60，得出结论为1/3000或1/3600，再代入到5寸照片15.5cm对角线长当中，就得到5寸照片的最大弥散圆直径为R=0.516mm或0.043mm。但算法不唯一，也能通过前面提到的弥散圆直径公式d=L/常数来进行推导，也可通过照片分辨率来计算，这里就不展开了。</p><p>如果照片拿得太近，即上图椭圆向左移动，最大弥散圆直径相对于照片对角线缩小，假设照片拥有无限高分辨率就可以看到更多细节，但此时无法看清整张照片，而且现实中照片的分辨率不可能是无限的。而如果照片拿得太远，最大弥散圆直径相对照片对角线放大，细节不那么容易看清楚，所<strong>以能完全发挥最大弥散圆直径意义的观测距离就是物体刚好填满视角锥，也就是舒适观测距离</strong>。</p><p>在了解如何计算某个观赏距离下照片端的最大弥散圆直径R后，把它转换成传感器的最大弥散圆r的算法就就很容易了，而<strong>获得传感器最大弥散圆的意义就是方便进行景深和焦深计算</strong>，<strong>这是弥散圆的第三个重要应用。</strong>此时把全画幅CMOS的对角线g=43.2mm，放大24英寸显示器，也就是对角线G=609.4mm上，设放大倍率为E，此时E=14.1倍，传感器端的最大弥散圆直径CoC就是R/E，可得出以下推导：</p><p><img alt=高能预警：从数学意义讲讲什么是弥散圆？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1521781156140b794d97a27></p><p>另一种算法是使用最大弥散圆夹角和视角的比例：</p><p><img alt=高能预警：从数学意义讲讲什么是弥散圆？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1521781167916ed7e7dde5c></p><p>其实这里的计算跟前面一样，可以得出传感器端最大弥散圆直径r依然是对角线长/3600。这样折腾的原因是因为<strong>照片的最大弥散圆直接与观赏距离挂钩，但拍照片时我们并不知道大家会在多大显示器上看，也不知道会打印成多大的照片，更不知道会在什么距离观看。但把照片端的最大弥散圆转换到传感器端后，相同画幅就有相同常数值，在计算景深和超焦距时就会简单方便得多</strong>。1923年徕卡刚推出全画幅胶片相机时只配了50mm标准镜头，没有连动测距只能估焦，这种情况下知道景深就十分有用，因为即便是对焦距离不那么精确，但只要主体在景深范围内就还是清晰的，而最大弥散圆数值的确定就是为了计算景深，这就是国际标准采用传感器最大弥散圆的原因。</p><p>前面提到了，理想最大弥散圆夹角1/60度太过于理论，开角太小，所以实际计算中往往会使用1/30度和1/20度，以全画幅为例，对应的最大弥散圆直径在0.02mm（1/30度）到0.04mm（1/20度）之间，具体使用谁取决于镜头和传感器的分辨率，分辨率越高弥散圆直径就越小，一般会使用g/1800（1/30度最大弥散圆夹角除以60度视角）和（1/30度最大弥散圆夹角除以50度视角）之间，换句话说，适用于计算的最大弥散圆直径就是CMOS对角线除以一个常数。</p><p>有了传感器，也就是CMOS最大弥散圆直径之后，就能导入到景深公式中进行计算了，物距u、焦距f、光圈n，CMOS最大弥散圆直径r，景深前沿公式为：</p><p><img alt=高能预警：从数学意义讲讲什么是弥散圆？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/152178118099593e22db034></p><p>景深后沿则为：</p><p><img alt=高能预警：从数学意义讲讲什么是弥散圆？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1521781190923ec0464c319></p><p>景深就是后沿减去前沿，所以有：</p><p><img alt=高能预警：从数学意义讲讲什么是弥散圆？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1521781201220ca9346e0f9></p><p>并且很容易得出一个结论：<strong>CMOS</strong><strong>最大弥散圆直径越大，换言之就是画幅越大，景深就越大，当然，前提是实际焦距（也就是大家都用同一颗镜头）、物距、和光圈F</strong><strong>值都保持一致</strong>。</p><p>而超焦距对焦距离的计算公式是：</p><p><img alt=高能预警：从数学意义讲讲什么是弥散圆？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15217812146649720f4d873></p><p>合焦前沿距离就是在此基础上除以2。</p><p><img alt=高能预警：从数学意义讲讲什么是弥散圆？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1521781419532990ccef763></p><p><strong>即便是已经过去近百年，数码时代也不那么需要用户自己去计算景深了，但在显示器上观赏数码照片，最大弥散圆直径=CMOS</strong><strong>对角线/</strong><strong>常数的定义仍然有效</strong>，这个常数或许会随着现代CMOS、算法和显示器技术的进步而越来越大，但毕竟它的根源是人眼的辨识能力，不会随照片形成和存储方式的变化而变化。作为原本用来研究景深和焦深的理论，它的应用前提是在最舒适的距离欣赏相应尺寸的照片，放大照片就意味着放弃了这个前提，最大弥散圆的意义在就基本不复存在了。<strong><br></strong></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'预警','数学','意义讲'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>