<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>PID理解起来很难？系统讲解PID控制及参数调节，理论加实际才好！ | 极客快訊</title><meta property="og:title" content="PID理解起来很难？系统讲解PID控制及参数调节，理论加实际才好！ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/f148213ca28743c6b632eeafb8407f5a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5f6069f.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5f6069f.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5f6069f.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5f6069f.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5f6069f.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5f6069f.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5f6069f.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5f6069f.html><meta property="article:published_time" content="2020-10-29T20:58:14+08:00"><meta property="article:modified_time" content="2020-10-29T20:58:14+08:00"><meta name=Keywords content><meta name=description content="PID理解起来很难？系统讲解PID控制及参数调节，理论加实际才好！"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/5f6069f.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>PID理解起来很难？系统讲解PID控制及参数调节，理论加实际才好！</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>在实际工程中，应用最为广泛的调节器控制规律为比例、积分、微分控制，简称PID控制，又称PID调节。PID控制器问世至今以其结构简单、稳定性好、工作可靠、调整方便而成为工业控制的主要技术之一。</p><div class=pgc-img><img alt=PID理解起来很难？系统讲解PID控制及参数调节，理论加实际才好！ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f148213ca28743c6b632eeafb8407f5a><p class=pgc-img-caption></p></div><p>PID调节控制是一个传统控制方法，它适用于温度、压力、流量、液位等几乎所有现场，不同的现场，仅仅是PID参数应设置不同，只要参数设置得当均可以达到很好的效果。均可以达到0.1%，甚至更高的控制要求。</p><p><strong>今天为大家带来理论讲解,接下来的文章我会根据不同的工控案例为大家讲解西门子S7-200,S7-300以及博途PLC如何使用PID控制.以及如何编程和注意事项!</strong></p><p><strong>喜欢的请加关注!</strong></p><p>那么什么是PID控制?</p><div class=pgc-img><img alt=PID理解起来很难？系统讲解PID控制及参数调节，理论加实际才好！ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ce579b93aea947c291d80fd4f1c0c012><p class=pgc-img-caption></p></div><p>我先给大家举例说明吧!</p><p class=ql-align-justify><strong>一、PID的故事</strong></p><p class=ql-align-justify>小明接到这样一个任务：有一个水缸点漏水(而且漏水的速度还不一定固定不变)，要求水面高度维持在某个位置，一旦发现水面高度低于要求位置，就要往水缸里加水。</p><p class=ql-align-justify>小明接到任务后就一直守在水缸旁边，时间长就觉得无聊，就跑到房里看小说了，每30分钟来检查一次水面高度。水漏得太快，每次小明来检查时，水都快漏完了，离要求的高度相差很远，小明改为每3分钟来检查一次，结果每次来水都没怎么漏，不需要加水，来得太频繁做的是无用功。几次试验后，确定每10分钟来检查一次。<strong>这个检查时间就称为采样周期</strong></p><p class=ql-align-justify>开始小明用瓢加水，水龙头离水缸有十几米的距离，经常要跑好几趟才加够水，于是小明又改为用桶加，一加就是一桶，跑的次数少了，加水的速度也快了，但好几次将缸给加溢出了，不小心弄湿了几次鞋，小明又动脑筋，我不用瓢也不用桶，老子用盆，几次下来，发现刚刚好，不用跑太多次，也不会让水溢出。<strong>这个加水工具的大小就称为比例系数</strong></p><p class=ql-align-justify>小明又发现水虽然不会加过量溢出了，有时会高过要求位置比较多，还是有打湿鞋的危险。他又想了个办法，在水缸上装一个漏斗，每次加水不直接倒进水缸，而是倒进漏斗让它慢慢加。这样溢出的问题解决了，但加水的速度又慢了，有时还赶不上漏水的速度。于是他试着变换不同大小口径的漏斗来控制加水的速度，最后终于找到了满意的漏斗。<strong>漏斗的时间就称为积分时间</strong></p><p class=ql-align-justify>小明终于喘了一口，但任务的要求突然严了，水位控制的及时性要求大大提高，一旦水位过低，必须立即将水加到要求位置，而且不能高出太多，否则不给工钱。小明又为难了！于是他又开努脑筋，终于让它想到一个办法，常放一盆备用水在旁边，一发现水位低了，不经过漏斗就是一盆水下去，这样及时性是保证了，但水位有时会高多了。他又在要求水面位置上面一点将水凿一孔，再接一根管子到下面的备用桶里这样多出的水会从上面的孔里漏出来。<strong>这个水漏出的快慢就称为微分时间.</strong></p><p class=ql-align-justify>看到几个问采样周期的帖子，临时想了这么个故事。微分的比喻一点牵强，不过能帮助理解就行了，呵呵，入门级的，如能帮助新手理解下PID，于愿足矣。故事中小明的试验是一步步独立做，但实际加水工具、漏斗口径、溢水孔的大小同时都会影响加水的速度，水位超调量的大小，做了后面的实验后，往往还要修改改前面实验的结果。</p><p>故事中小明的试验是一步步独立做，但实际加水工具、漏斗口径、溢水孔的大小同时都会影响加水的速度，水位超调量的大小，做了后面的实验后，往往还要修改改前面实验的结果。</p><p>人以PID控制的方式用水壶往水杯里倒印有刻度的半杯水后停下;</p><p>设定值：水杯的半杯刻度；</p><p>实际值：水杯的实际水量；</p><p>输出值：水壶倒出水量和水杯舀出水量；</p><p>测量：人的眼睛（相当于传感器）</p><p>执行对象：人</p><p>正执行：倒水</p><p>反执行：舀水</p><p>（1）P比例控制</p><p>就是人看到水杯里水量没有达到水杯的半杯刻度，就按照一定水量从水壶里王水杯里倒水或者水杯的水量多过刻度，就以一定水量从水杯里舀水出来，这个一个动作可能会造成不到半杯或者多了半杯就停下来。</p><p><strong>说明：</strong></p><p>P比例控制是一种最简单的控制方式。其控制器的输出与输入误差信号成比例关系。当仅有比例控制时系统输出存在稳态误差（Steady-state error）。</p><p><strong>（2）PI积分控制</strong></p><p>就是按照一定水量往水杯里倒，如果发现杯里的水量没有刻度就一直倒，后来发现水量超过了半杯，就从杯里往外面舀水，然后反复不够就倒水，多了就舀水，直到水量达到刻度。</p><p><strong>说明：</strong></p><p>在积分I控制中，控制器的输出与输入误差信号的积分成正比关系。对一个自动控制系统，如果在进入稳态后存在稳态误差，则称这个控制系统是有稳态误差的或简称有差系统（System with Steady-state Error）。为了消除稳态误差，在控制器中必须引入“积分项”。积分项对误差取决于时间的积分，随着时间的增加，积分项会增大。这样，即便误差很小，积分项也会随着时间的增加而加大，它推动控制器的输出增大使稳态误差进一步减小，直到等于零。因此，比例+积分（PI）控制器，可以使系统在进入稳态后无稳态误差。</p><p><strong>（3）PID微分控制</strong></p><p>就是人的眼睛看着杯里水量和刻度的距离，当差距很大的时候，就用水壶大水量得倒水，当人看到水量快要接近刻度的时候，就减少水壶的得出水量，慢慢的逼近刻度，直到停留在杯中的刻度。如果最后能精确停在刻度的位置，就是无静差控制；如果停在刻度附近，就是有静差控制。</p><p><strong>说明：</strong></p><p>在微分控制D中，控制器的输出与输入误差信号的微分（即误差的变化率）成正比关系。</p><p>在工程实际中，应用最为广泛的调节器控制规律为比例、积分、微分控制，简称PID控制，又称PID调节。PID控制器问世至今已有近70年历史，它以其结构简单、稳定性好、工作可靠、调整方便而成为工业控制的主要技术之一。当被控对象的结构和参数不能完全掌握，或得不到精确的数学模型时，控制理论的其它技术难以采用时，系统控制器的结构和参数必须依靠经验和现场调试来确定，这时应用PID控制技术最为方便。即当我们不完全了解一个系统和被控对象﹐或不能通过有效的测量手段来获得系统参数时，最适合用PID控制技术。PID控制，实际中也有PI和PD控制。PID控制器就是根据系统的误差，利用比例、积分、微分计算出控制量进行控制的。</p><div class=pgc-img><img alt=PID理解起来很难？系统讲解PID控制及参数调节，理论加实际才好！ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2bc01b81bdae4e14a2f5941ea6de5922><p class=pgc-img-caption></p></div><p><strong>►PID参数</strong></p><p><strong>（1）比例（P）控制</strong></p><p>比例控制是一种最简单的控制方式。其控制器的输出与输入误差信号成比例关系。当仅有比例控制时系统输出存在稳态误差（Steady-state error）。</p><p><strong>（2）积分（I）控制</strong></p><p>在积分控制中，控制器的输出与输入误差信号的积分成正比关系。对一个自动控制系统，如果在进入稳态后存在稳态误差，则称这个控制系统是有稳态误差的或简称有差系统（System with Steady-state Error）。为了消除稳态误差，在控制器中必须引入“积分项”。积分项对误差取决于时间的积分，随着时间的增加，积分项会增大。这样，即便误差很小，积分项也会随着时间的增加而加大，它推动控制器的输出增大使稳态误差进一步减小，直到等于零。因此，比例+积分(PI)控制器，可以使系统在进入稳态后无稳态误差。</p><p><strong>（3）微分（D）控制</strong></p><p>在微分控制中，控制器的输出与输入误差信号的微分（即误差的变化率）成正比关系。 自动控制系统在克服误差的调节过程中可能会出现振荡甚至失稳。其原因是由于存在有较大惯性组件（环节）或有滞后(delay)组件，具有抑制误差的作用，其变化总是落后于误差的变化。解决的办法是使抑制误差的作用的变化“超前”，即在误差接近零时，抑制误差的作用就应该是零。这就是说，在控制器中仅引入“比例”项往往是不够的，比例项的作用仅是放大误差的幅值，而目前需要增加的是“微分项”，它能预测误差变化的趋势，这样，具有比例+微分的控制器，就能够提前使抑制误差的控制作用等于零，甚至为负值，从而避免了被控量的严重超调。所以对有较大惯性或滞后的被控对象，比例+微分(PD)控制器能改善系统在调节过程中的动态特性。</p><p>在PID参数进行整定时如果能够有理论的方法确定PID参数当然是最理想的方法，但是在实际的应用中，更多的是通过凑试法来确定PID的参数。</p><div class=pgc-img><img alt=PID理解起来很难？系统讲解PID控制及参数调节，理论加实际才好！ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/15271551645546a0ff68cba><p class=pgc-img-caption></p></div><p>增大比例系数P一般将加快系统的响应，在有静差的情况下有利于减小静差，但是过大的比例系数会使系统有比较大的超调，并产生振荡，使稳定性变坏。</p><p>增大积分时间I有利于减小超调，减小振荡，使系统的稳定性增加，但是系统静差消除时间变长。</p><p>增大微分时间D有利于加快系统的响应速度，使系统超调量减小，稳定性增加，但系统对扰动的抑制能力减弱。</p><p>在凑试时，可参考以上参数对系统控制过程的影响趋势，对参数调整实行先比例、后积分，再微分的整定步骤。</p><p><strong>►PID控制器参数整定的方法</strong></p><p>PID控制器的参数整定是控制系统设计的核心内容。它是根据被控过程的特性确定PID控制器的比例系数、积分时间和微分时间的大小。PID控制器参数整定的方法很多，概括起来有两大类：</p><p><strong>一、理论计算整定法</strong></p><p>它主要是依据系统的数学模型，经过理论计算确定控制器参数。这种方法所得到的计算数据未必可以直接用，还必须通过工程实际进行调整和修改；</p><p><strong>二、工程整定方法</strong></p><p>它主要依赖工程经验，直接在控制系统的试验中进行，且方法简单、易于掌握，在工程实际中被广泛采用。PID控制器参数的工程整定方法，主要有临界比例法、反应曲线法和衰减法。三种方法各有其特点，其共同点都是通过试验，然后按照工程经验公式对控制器参数进行整定。但无论采用哪一种方法所得到的控制器参数，都需要在实际运行中进行最后调整与完善。</p><div class=pgc-img><img alt=PID理解起来很难？系统讲解PID控制及参数调节，理论加实际才好！ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/152715516464580a8352e78><p class=pgc-img-caption></p></div><p>现在一般采用的是临界比例法。利用该方法进行 PID控制器参数的整定步骤如下：</p><p>(1) 首先预选择一个足够短的采样周期让系统工作；</p><p>(2) 仅加入比例控制环节，直到系统对输入的阶跃响应出现临界振荡，记下这时的比例放大系数和临界振荡周期；</p><p>(3) 在一定的控制度下通过公式计算得到PID控制器的参数。</p><p>PID参数的设定：是靠经验及工艺的熟悉，参考测量值跟踪与设定值曲线，从而调整P、I、D的大小。</p><blockquote><p><strong>常用口诀：</strong></p><p><strong>参数整定找最佳，从小到大顺序查；</strong></p><p><strong>先是比例后积分，最后再把微分加；</strong></p><p><strong>曲线振荡很频繁，比例度盘要放大；</strong></p><p><strong>曲线漂浮绕大湾，比例度盘往小扳；</strong></p><p><strong>曲线偏离回复慢，积分时间往下降；</strong></p><p><strong>曲线波动周期长，积分时间再加长；</strong></p></blockquote><p><strong>第一步、整定比例控制</strong></p><p>将比例控制作用由小变到大，观察各次响应，直至得到反应快、超调小的响应曲线。</p><p><strong>第二步、整定积分环节</strong></p><p>若在比例控制下稳态误差不能满足要求，需加入积分控制。先将上面步骤中选择的比例系数减小为原来的50～80％，再将积分时间置一个较大值，观测响应曲线。然后减小积分时间，加大积分作用，并相应调整比例系数，反复试凑至得到较满意的响应，确定比例和积分的参数。</p><p><strong>第三步、整定微分环节</strong></p><p>若经过以上步骤，PI控制只能消除稳态误差，而动态过程不能令人满意，则应加入微分控制，构成PID控制。先置微分时间TD=0，逐渐加大TD，同时相应地改变比例系数和积分时间，反复试凑至获得满意的控制效果和PID控制参数。</p><p class=ql-align-justify><strong>PID的15个基本概念</strong></p><p class=ql-align-justify>没有金刚钻，不揽瓷器活。 为了能够掌握并运用PID，我们非常有必要学习下基本概念来武装自己，部分概念会配上实际工程中常用的表示方法，以“实：”开头。</p><p class=ql-align-justify>1 被调量:反映被调对象的实际波动的量值。被调量是经常变化的。</p><p class=ql-align-justify>实：常用检测到的反馈值表示，如yout(t)。</p><p class=ql-align-justify>2 设定值:PID调节器设定值就是人们期待被调量需要达到的值。设定值可以是固定的，也可以是变化的。</p><p class=ql-align-justify>实：人为设定，多用rin(t)表示。</p><p class=ql-align-justify>3 控制输出：PID调节器根据被调量的变化情况运算之后发出的让外部执行结构按照它的要求动作的指令，即整个调节器的输出。请注意与被调量yout(t)的区别，这两个是完全不同的概念，经常有人在混淆这两个概念。</p><p class=ql-align-justify>实：你经常看到的公式“u(t)=kp[e(t)+1/TI∫e(t)dt+TD*de(t)/dt]”中的u(t)。</p><p class=ql-align-justify>4 输入偏差：输入偏差时被调量和设定值之间的差值。</p><p class=ql-align-justify>实：error(t)=rin(t)-yout(t)。</p><p class=ql-align-justify>5 P（比例）：P就是比例作用，简单说就是输入偏差乘以一个系数。</p><p class=ql-align-justify>实：如kp，KP都是一样的。</p><p class=ql-align-justify>6 I（积分）：I就是积分，简单说就是将输入偏差进行积分运算。</p><p class=ql-align-justify>实：如ki。</p><p class=ql-align-justify>7 D（积分）：D就是微分，简单说就是将输入偏差进行微分运算。</p><p class=ql-align-justify>实：如kd。</p><p class=ql-align-justify>8 PID基本公式PID调节器参数整定过程通俗讲就是先把系统调为纯比例作用，逐步增强比例作用让系统产生等幅振荡，记录下比例作用和振荡周期，然后这个比例作用乘以0.6，积分作用适当延长</p><p class=ql-align-justify>KP= 0.6*Km</p><p class=ql-align-justify>KD= KP*π/4ω 或 KD= KP*tu/8</p><p class=ql-align-justify>KI= KP*ω/π 或 KI= 2KP/tu</p><p class=ql-align-justify>KP：比例控制参数；</p><p class=ql-align-justify>KD：积分控制参数；</p><p class=ql-align-justify>KI：微分控制参数；</p><p class=ql-align-justify>Km：系统开始振荡时的比例值，通常称为临界比例值；</p><p class=ql-align-justify>ω：等幅振荡时的频率，tu为振荡周期。这里 tuω =2π，而不是tuω=1，学过傅里叶和拉氏变换的同学应该明白这是为什么，这里不做深入探讨。</p><p class=ql-align-justify>9 单回路：单回路就是只有一个PID的调节系统。</p><p class=ql-align-justify>10 串级：一个PID不够用，串级就是把两个PID串接起来形成一个串级调节系统，也被成为双回路调节系统。串级调节系统里PID调节器有主调和副调之分。</p><p class=ql-align-justify>在串级调节系统中要调节被调量的PID叫做主调，输出直接去指挥执行器动作的PID叫做副调，主调的控制输出进入副调作为副调的设定值。主调选用单回路PID调节器，副调选用外给定调节器。</p><p class=ql-align-justify>11 正作用</p><p class=ql-align-justify>对于PID调节器而言，控制输出随被调量增高而增高，随被调量减少而减少的作用，叫做PID正作用。</p><p class=ql-align-justify>12 负作用</p><p class=ql-align-justify>对于PID调节器而言，控制输出随被调量增高而降低，随被调量减少而增高的作用，叫做PID负作用。</p><p class=ql-align-justify>13 动态偏差</p><p class=ql-align-justify>在调节过程中，被调量和设定值之间的偏差随时改变，任意时刻两者之间的偏差叫做动态偏差。</p><p class=ql-align-justify>14 静态偏差</p><p class=ql-align-justify>调节趋于稳定之后，被调量和设定值之间还存在的偏差交静态偏差。消除静态偏差是通过PID调节器积分作用来实现的。</p><p class=ql-align-justify>15回调</p><p class=ql-align-justify>调节器调节作用显示，使被调量开始由上升变为下降，或者由下降变为上升趋势成为回调。</p><div class=pgc-img><img alt=PID理解起来很难？系统讲解PID控制及参数调节，理论加实际才好！ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2ceda8b16c584cd5915be334e8607ae2><p class=pgc-img-caption>理解了吗?</p></div><p class=ql-align-justify><br></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'PID','起来','系统'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>