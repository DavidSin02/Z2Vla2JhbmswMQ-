<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>高频PCB板布线的技巧（内附SI仿真名词解释） | 极客快訊</title><meta property="og:title" content="高频PCB板布线的技巧（内附SI仿真名词解释） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/f097fd75f6f046c085cba7fc1697a302"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6081631.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6081631.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6081631.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6081631.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6081631.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6081631.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6081631.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6081631.html><meta property="article:published_time" content="2020-10-29T21:05:01+08:00"><meta property="article:modified_time" content="2020-10-29T21:05:01+08:00"><meta name=Keywords content><meta name=description content="高频PCB板布线的技巧（内附SI仿真名词解释）"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/6081631.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>高频PCB板布线的技巧（内附SI仿真名词解释）</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p><strong>布线的技巧</strong></p><p class=ql-align-justify>（1）高频电路往往集成度较高，布线密度大，采用<strong>多层板</strong>既是布线所必须的，也是降低干扰的有效手段。</p><p class=ql-align-justify>（2）高速电路器件管脚间的引线弯折<strong>越少越好</strong>。</p><p class=ql-align-justify>高频电路布线的引线最好采用<strong>全直线</strong>，需要转折，可用<strong>45°折线或圆弧转折</strong>，满足这一要求可以减少高频信号对外的发射和相互间的耦合。</p><p class=ql-align-justify>（3）高频电路器件管脚间的引线<strong>越短越好</strong>。</p><p class=ql-align-justify>（4）高频电路器件管脚间的引线层间交替<strong>越少越好</strong>。</p><p class=ql-align-justify>所谓<strong>“引线的层间交替越少越好”</strong>是指元件连接过程中所用的过孔（Via）越少越好，据测，一个过孔可带来约0.5 pF的分布电容，减少过孔数能显著提高速度。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=高频PCB板布线的技巧（内附SI仿真名词解释） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f097fd75f6f046c085cba7fc1697a302><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify>（5）高频电路布线要注意信号线近距离平行走线所引入的“交叉干扰”，若无法避免平行分布，可在平行信号线的反面<strong>布置大面积“地”</strong>来大幅度减少干扰。</p><p class=ql-align-justify>同一层内的平行走线几乎无法避免，但是在相邻的两个层，走线的方向务必取为<strong>相互垂直</strong>。</p><p class=ql-align-justify>（6）对特别重要的信号线或局部单元实施<strong>地线包围</strong>的措施，即绘制所选对象的外轮廓线。</p><p class=ql-align-justify>利用此功能，可以自动地对所选定的重要信号线进行所谓的<strong>“包地”处理</strong>，当然，把此功能用于时钟等单元局部进行包地处理对高速系统也将非常有益。</p><p class=ql-align-justify>（7）各类信号走线<strong>不能形成环路</strong>，地线也<strong>不能形成电流环路</strong>。</p><p class=ql-align-justify>（8）每个集成电路块的附近应设置一个<strong>高频去耦电容</strong>。</p><p class=ql-align-justify>（9）模拟地线、数字地线等接往公共地线时要用<strong>高频扼流环节</strong>。</p><p class=ql-align-justify>在实际装配高频扼流环节时用的往往是中心孔穿有导线的高频铁氧体磁珠，在电路原理图上对它一般不予表达，由此形成的网络表（netlist）就不包含这类元件，布线时就会因此而忽略它的存在。</p><p class=ql-align-justify>针对此现实，可在<strong>原理图中把它当做电感</strong>，<strong>在PCB元件库中单独为它定义一个元件封装</strong>，布线前把它手工移动到靠近公共地线汇合点的合适位置上。</p><p class=ql-align-justify>（10）模拟电路与数字电路应<strong>分开布置</strong>，独立布线后应单点连接电源和地，<strong>避免相互干扰</strong>。</p><p class=ql-align-justify>（11）DSP、片外程序存储器和数据存储器接入电源前， 应<strong>加滤波电容</strong>并使其<strong>尽量靠近芯片电源引脚</strong>，以滤除电源噪声。</p><p class=ql-align-justify>另外，在DSP与片外程序存储器和数据存储器等关键部分周围建议<strong>屏蔽</strong>，可减少外界干扰。</p><p class=ql-align-justify>（12）片外程序存储器和数据存储器应尽量<strong>靠近DSP芯片放置</strong>， 同时要合理布局， <strong>使数据线和地址线长短基本保持一致</strong>，尤其当系统中有多片存储器时要考虑时钟线到各存储器的时钟输入距离相等或可以加单独的<strong>可编程时钟驱动芯片</strong>。</p><p class=ql-align-justify>对于DSP系统而言，应选择存取速度与DSP相仿的外部存储器，不然DSP的高速处理能力将不能充分发挥。</p><p class=ql-align-justify>DSP指令周期为纳秒级，因而DSP硬件系统中最易出现的问题是高频干扰，因此在制作DSP硬件系统的印制电路板（PCB）时，应<strong>特别注意对地址线和数据线等重要信号线的布线要做到正确合理</strong>。</p><p class=ql-align-justify>布线时尽量使高频线短而粗，且<strong>远离易受干扰的信号线</strong>，如模拟信号线等。当DSP周围电路较复杂时，建议将DSP及其时钟电路、复位电路、片外程序存储器、数据存储器制作成最小系统，以减少干扰。</p><p class=ql-align-justify>（13）当本着以上原则，熟练设计工具的使用技巧以后，经过手工布线完成后，高频电路为了提高系统的靠性和可生产性，一般都需要<strong>利用高级的PCB仿真软件进行仿真</strong>。</p><p><strong>知识点巩固</strong></p><p class=ql-align-justify>限于篇幅本文不对具体的仿真做详细介绍，但给大家的建议是如果有条件一定要对系统做仿真，这里给出几个基本的概念。</p><p><strong>什么是电磁干扰（EMI）和电磁兼容性（EMC）？</strong></p><p class=ql-align-justify><strong>电磁干扰（Electromagnetic InteRFerence）有传导干扰和辐射干扰两种。</strong></p><p class=ql-align-justify><strong>传导干扰</strong>是指通过导电介质把一个电网络上的信号耦合（干扰）到另一个电网络。</p><p class=ql-align-justify><strong>辐射干扰</strong>是指干扰源通过空间把其信号耦合（干扰）到另一个电网络。在高速PCB及系统设计中，高频信号线、集成电路的引脚、各类接插件等都可能成为具有天线特性的辐射干扰源，能发射电磁波并影响其他系统或本系统内其他子系统的正常工作。</p><p><strong>什么是信号完整性（signal integrity）？</strong></p><p class=ql-align-justify><strong>信号完整性是指信号在信号线上的质量。</strong></p><p class=ql-align-justify>信号具有良好的信号完整性是指当在需要的时候，具有所必需达到的电压电平数值。</p><p class=ql-align-justify>差的信号完整性不是由某一单一因素导致的，而是板级设计中多种因素共同引起的。<strong>主要的信号完整性问题包括反射、振荡、地弹、串扰等。</strong></p><p><strong>什么是反射（reflecTIon）？</strong></p><p class=ql-align-justify><strong>反射就是在传输线上的回波。</strong></p><p class=ql-align-justify>信号功率（电压和电流）的一部分传输到线上并达到负载处，但是有一部分被反射了。如果源端与负载端具有相同的阻抗，反射就不会发生了。</p><p class=ql-align-justify>源端与负载端阻抗不匹配会引起线上反射，负载将一部分电压反射回源端。如果负载阻抗小于源阻抗，反射电压为负，反之，如果负载阻抗大于源阻抗，反射电压为正。</p><p class=ql-align-justify>布线的几何形状、不正确的线端接、经过连接器的传输及电源平面的不连续等因素的变化均会导致此类反射。</p><p><strong>什么是串扰（crosstalk）？</strong></p><p class=ql-align-justify><strong>串扰是两条信号线之间的耦合，信号线之间的互感和互容引起线上的噪声</strong>。</p><p class=ql-align-justify>容性耦合引发耦合电流，而感性耦合引发耦合电压。PCB板层的参数、信号线间距、驱动端和接收端的电气特性及线端接方式对串扰都有一定的影响。</p><p><strong>什么是过冲（overshoot）和下冲（undershoot）？</strong></p><p class=ql-align-justify><strong>过冲就是第一个峰值或谷值超过设定电压——对于上升沿是指最高电压而对于下降沿是指最低电压。</strong></p><p class=ql-align-justify>下冲是指下一个谷值或峰值。过分的过冲能够引起保护二极管工作，导致过早地失效。</p><p class=ql-align-justify>过分的下冲能够引起假的时钟或数据错误（误操作）。</p><p><strong>什么是振荡（ringing）和 环绕振荡（rounding）？</strong></p><p class=ql-align-justify><strong>振荡的现象是反复出现过冲和下冲。</strong></p><p class=ql-align-justify>信号的振荡和环绕振荡由线上过度的电感和电容引起，<strong>振荡属于欠阻尼状态而环绕振荡属于过阻尼状态。</strong></p><p class=ql-align-justify>信号完整性问题通常发生在周期信号中，如时钟等，振荡和环绕振荡同反射一样也是由多种因素引起的，振荡可以通过适当的端接予以减小，但是不可能完全消除。</p><p><strong>什么是地电平面反弹噪声和回流噪声？</strong></p><p class=ql-align-justify>在电路中有大的电流涌动时会引起地平面反弹噪声（简称为地弹），如大量芯片的输出同时开启时，将有一个较大的瞬态电流在芯片与板的电源平面流过，芯片封装与电源平面的电感和电阻会引发电源噪声，这样会在真正的地平面（0V）上产生电压的波动和变化，这个噪声会影响其他元器件的动作。</p><p class=ql-align-justify><strong>负载电容的增大、负载电阻的减小、地电感的增大、同时开关器件数目的增加均会导致地弹的增大。</strong></p><p class=ql-align-justify>由于地电平面（包括电源和地）分割，例如地层被分割为数字地、模拟地、屏蔽地等，当数字信号走到模拟地线区域时，就会产生地平面回流噪声。同样电源层也可能会被分割为2.5V，3.3V，5V等。所以在多电压PCB设计中，地电平面的反弹噪声和回流噪声需要特别关心。</p><p><strong>在时域（TIme domain）和频域（frequency domain）之间有什么不同？</strong></p><p class=ql-align-justify><strong>时域（TIme domain）是以时间为基准的电压或电流的变化的过程，可以用示波器观察到。</strong></p><p class=ql-align-justify>它通常用于找出管脚到管脚的延时（delays）、偏移（skew）、过冲（overshoot）、下冲（undershoot）以及建立时间（settling TImes）。</p><p class=ql-align-justify>频域（frequency domain）是以频率为基准的电压或电流的变化的过程，可以用频谱分析仪观察到。它通常用于波形与FCC和其他EMI控制限制之间的比较。</p><p><strong>什么是阻抗（impedance）？</strong></p><p class=ql-align-justify><strong>阻抗是传输线上输入电压对输入电流的比值（Z0=V/I）。</strong></p><p class=ql-align-justify>当一个源送出一个信号到线上，它将阻碍它驱动，直到2*TD时，源并没有看到它的改变，在这里TD是线的延时（delay）。</p><p><strong>什么是建立时间（settling time）？</strong></p><p class=ql-align-justify>建立时间就是对于一个振荡的信号稳定到指定的最终值所需要的时间。</p><p><strong>什么是管脚到管脚（pin-to-pin）的延时（delay）？</strong></p><p class=ql-align-justify><strong>管脚到管脚延时是指在驱动器端状态的改变到接收器端状态的改变之间的时间。</strong></p><p class=ql-align-justify>这些改变通常发生在给定电压的50%，最小延时发生在当输出第一个越过给定的阈值（threshold），最大延时发生在当输出最后一个越过电压阈值（threshold），测量所有这些情况。</p><p><strong>什么是偏移（skew）？</strong></p><p class=ql-align-justify><strong>信号的偏移是对于同一个网络到达不同的接收器端之间的时间偏差。</strong>偏移还被用于在逻辑门上时钟和数据达到的时间偏差。</p><p><strong>什么是斜率（slew rate）？</strong></p><p class=ql-align-justify><strong>Slew rate就是边沿斜率（一个信号的电压有关的时间改变的比率）。</strong>I/O 的技术规范 （如PCI）状态在两个电压之间，这就是斜率（slew rate），它是可以测量的。</p><p><strong>什么是静态线（quiescent line）？</strong></p><p class=ql-align-justify><strong>在当前的时钟周期内它不出现切换。</strong>另外也被称为 “stuck-at” 线或static线。串扰（Crosstalk）能够引起一个静态线在时钟周期内出现切换。</p><p><strong>什么是假时钟（false clocking）？</strong></p><p class=ql-align-justify><strong>假时钟是指时钟越过阈值（threshold）无意识地改变了状态（有时在VIL 或VIH之间）。</strong>通常由于过分的下冲（undershoot）或串扰（crosstalk）引起。</p><p><strong>什么是IBIS模型？</strong></p><p class=ql-align-justify><strong>IBIS（Input/Output Buffer Information Specification）模型是一种基于V/I曲线的对I/O BUFFER快速准确建模的方法</strong>，是反映芯片驱动和接收电气特性的一种国际标准，它提供一种标准的文件格式来记录如驱动源输出阻抗、上升/下降时间及输入负载等参数，非常适合做振荡和串扰等高频效应的计算与仿真。</p><p class=ql-align-justify>IBIS本身只是一种文件格式，它说明在一标准的IBIS文件中如何记录一个芯片的驱动器和接收器的不同参数，但并不说明这些被记录的参数如何使用，这些参数需要由使用IBIS模型的仿真工具来读取。</p><p class=ql-align-justify>欲使用IBIS进行实际的仿真，需要先完成<strong>以下四件工作</strong>。</p><p>（1）获取有关芯片驱动器和接收器的原始信息源；</p><p>（2）获取一种将原始数据转换为IBIS格式的方法；</p><p>（3）提供用于仿真的可被计算机识别的布局布线信息；</p><p>（4）提供一种能够读取IBIS和布局布线格式并能够进 行分析计算的软件工具。</p><p class=ql-align-justify>IBIS是一种简单直观的文件格式，很适合用于类似于Spice（但不是Spice，因为IBIS文件格式不能直接被Spice工具读取）的电路仿真工具。它提供驱动器和接收器的行为描述，但<strong>不泄漏电路内部构造的知识产权细节</strong>。</p><p class=ql-align-justify>换句话说，销售商可以用IBIS模型来说明它们最新的门级设计工作，而不会给其竞争对手透露过多的产品信息。并且，因为IBIS是一个简单的模型，当做简单的带负载仿真时，比相应的全Spice三极管级模型仿真要节省10～15倍的计算量。</p><p class=ql-align-justify><strong>IBIS提供两条完整的V－I曲线分别代表驱动器为高电平和低电平状态，以及在确定的转换速度下状态转换的曲线。</strong>V－I曲线的作用在于为IBIS提供保护二极管、TTL图腾柱驱动源和射极跟随输出等非线性效应的建模能力。</p><p><strong>什么是SPICE模型？</strong></p><p class=ql-align-justify>SPICE是Simulation Program with Integrated Circuit Emphasis的缩写。</p><p><strong>硬件调试技巧</strong></p><p class=ql-align-justify>硬件调试时应该注意的一些问题。</p><div class=pgc-img><img alt=高频PCB板布线的技巧（内附SI仿真名词解释） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b89f2cbca6de4927ada5c850865bfee1><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>如在硬件调试前，应先对电路板进行细致的检查，观察有无短路或断路情况（由于DSP的PCB板布线一般较密、较细，这种情况发生的概率还是比较高的）。</p><p class=ql-align-justify>加电后，应用手感觉是否有些芯片特别热。如果发现有些芯片烫得厉害，需立即掉电重新检查电路。</p><p class=ql-align-justify><strong>排除故障后，接着就应检查晶体是否振荡，复位是否正确可靠。</strong>然后用示波器检查DSP的CLK-OUT1和CLK-OUT2引脚的信号是否正常，若正常则表明DSP本身工作基本正常。</p><p>1</p><p><strong>保证电源的稳定可靠</strong></p><p>在DSP硬件系统调试前，应确保给实验板供电的电源有良好的恒压恒流特性。</p><p>尤其要注意的是，DSP的入口电压应保持在5.0V±0.05V。 电压过低，则通过JTAG接口向Flash写入程序时，会出现错误提示；电压过高，则会损坏DSP芯片。</p><p>2</p><p><strong>仿真软件排除硬件故障</strong></p><p>在完成对电路板的检查后，就可通过仿真软件来调试程序。</p><p>由于仿真时，程序代码下载到目标系统中的片外程序存储器，因而通过仿真软件可以比较容易地检查出一些硬件故障。</p><p>在上电后，若仿真软件调试窗口始终无法调入程序，则有两种可能：</p><p><strong>①</strong> DSP芯片引脚存在断路或短路现象；</p><p><strong>②</strong>DSP 芯片损坏。倘若是第一次利用仿真软件调试程序，此时应对实验板断电，仔细检查DSP芯片各引脚的焊接情况。如果软件调试窗口曾正确调入程序，则可能是DSP芯片损坏。</p><p>此时，可通过检测实验板的整板阻抗进一步判断DSP芯片是否受损。若整板阻抗急剧下降，可将给DSP芯片供电的电源线割断，检测DSP芯片的电阻。</p><p>如果软件调试窗口可调入程序，但调入的程序局部出错，如对片外程序存储器或数据存储器操作的代码变成.word xxxx，此时可能是片外程序存储器或数据存储器出现故障。</p><p>应仔细检查存储器是否存在短路或虚焊，若不存在则应进一步判断存储器是否受损。</p><h1 class=ql-align-justify><strong>【如果你喜欢EDA365的文章，记得关注和点赞哦！】</strong></h1></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'高频','PCB','内附'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>