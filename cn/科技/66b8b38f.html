<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>想用Labview做一个反激电源设计软件（一） | 极客快訊</title><meta property="og:title" content="想用Labview做一个反激电源设计软件（一） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/5cdd36c8d120454db9d609903e62559b"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/66b8b38f.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/66b8b38f.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/66b8b38f.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/66b8b38f.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/66b8b38f.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/66b8b38f.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/66b8b38f.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/66b8b38f.html><meta property="article:published_time" content="2020-11-14T21:01:14+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:14+08:00"><meta name=Keywords content><meta name=description content="想用Labview做一个反激电源设计软件（一）"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/66b8b38f.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>想用Labview做一个反激电源设计软件（一）</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>在论坛和网络上有很多关于反激变压器的设计方法，但这些方法多是只介绍部分电路设计，所以一直以来对电源没有一个整体的认识现在想把这些个方法综合起来看看是否能让自己对电源有更深的了解。（这里所使用的公式都是来自于论坛或网络，用execel或mathcad均可，不过本人都不擅长所以就用了Labview软件。）</p><p>初步实现的功能如下：</p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5cdd36c8d120454db9d609903e62559b><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/54c8eac06b6343ef93cdf7e7bd5f19c6><p class=pgc-img-caption></p></div><p>图1 低压输入80V的设计参数及仿真对比</p><p>设计流程自左向右，第一步确定输入电容</p><p>先设置好输入输出参数，如输入最低电压有效值80V、电源频率50Hz、开关频率60KHz、输出电压5V、输出功率6W。</p><p>设置输入波动为20%，这时会自动计算出输入电容，可能不存这个算出来的容值那么选实际有的容值输入到输入电容框中，输入波动和波动电压都会相应的发生轻微变化。这个新的输入波动将作为后面计算的参照。</p><p>第二步确定匝比</p><p>设置占空比为45%，这时会得到反射电压Vor和匝比值，选一个最接近的整数匝比输入到匝比框，占空比和反射电压都会有轻微变化，这些新值将作为后续计算的参照。</p><p>第三步确定电感</p><p>当占空比和匝比确定了之后电感自动计算出来，这里有个参数深度系数K，当K=0时为临界或者断续模式，当K取值0~1之间时时连续模式。</p><p>第四步确定吸收电路参数</p><p>输入漏感、Uc、波动电压后会自动计算出吸收电阻Rc和吸收电容Cc。</p><p>第五步确定输出最小电容</p><p>设置输出纹波电压自动计算出所需最小输出电容值。</p><p>Ap算法（改进版02）.pdf</p><p><br></p><p><strong>在未安装Labview软件的电脑上运行此软件需下载安装Run-Time engine，下面是两个链接地址（未测试）</strong></p><p><strong><u>http://www.ni.com/download/labview-run-time-engine-8.2.1/550/en/</u></strong></p><p><strong><u>http://www.ni.com/download/labview-run-time-engine-2012/3433/en/</u></strong></p><p><strong>此软件目前完善了电路设计功能，测试使用过程中如发现错误欢迎指正。</strong></p><p><br></p><p><strong>反激设计Rev09.rar</strong></p><p><br></p><p>版本Rev02</p><p>● 更正Vds电压计算公式漏掉一个字母的错误。</p><p>版本Rev03</p><p>● 修复参数设置偶尔无效的问题</p><p>● 修正输入电容、输出电容、Vds电压的计算公式</p><p>● 修正了断续模式的计算公式</p><p>● 通过Saber仿真软件验证，二者结果基本一致。</p><p>版本Rev04</p><p>● 修正输出二极管反向耐压公式</p><p>版本Rev05</p><p>● 修复临界模式附近电路震荡的问题</p><p>● 修正断续模式下电感电流波形显示公式</p><p>版本Rev06</p><p>● 深度系数表示法更改为浮点数格式</p><p>● 开放变压器设计功能</p><p>版本Rev07</p><p>● 修正匝比、Vds电压、Ap算法等公式及部分代码。</p><p>● 更改变压器设计界面以方便操作，补全磁芯数据资料。</p><p><br></p><p>版本Rev08</p><p>● 修复低压到高压或重载到轻载大范围切换震荡的问题。</p><p>● 增加绕组设计功能，增加漆包线查询表。</p><p>版本Rev09</p><p>● 修改占空比计算公式，增加效率因数。</p><p>● 修正Ap算法。</p><p>很多资料说输入电容一般按2~3uF/W来选择，反射电压一般取100V左右，图1是输入80V功率6W计算得输入电容25uF换算大约4uF/W，反射电压为75V左右。如果把最低输入电压设为120V计算结果如下：</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2707dd4067ef41bcaa96a4090038bb4b><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/15f4af43a35d48bf99371053d9479a5d><p class=pgc-img-caption></p></div><p>图2 低压120V输入的设计参数及仿真对比</p><p>功率6W输入电压为120V计算的输入电容为11uF换算后大约2uF/W，反射电压106V接近100V，可见在输入在120V左右时“一般”取值才准确，当输入电压条件改变后这个“一般”数据就不可靠了。</p><p>除了给定的条件外如输入电压、输出电压、输出功率、开关频率等，这里还有几个参数无法确定比如深度系数K，RCD吸收参数。为此增加了检测功能以便查看不同工况下的参数变化，顺便探讨一下这“一般”取值的来由。</p><p>给定条件：</p><p>输入AC：110-265V</p><p>输出DC：56V</p><p>输出功率：84W</p><p>开关频率：65KHz</p><p>输入波动电压：30V</p><p>输出波动电压：120mV</p><p>效率：0.8</p><p>计算得到的设计参数如下：</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/237eecb1e16141db82a5acd078eaf587><p class=pgc-img-caption></p></div><p>图3 输入110V的设计参数</p><p>图3中顺便加了三个波形图，第一个是输入电压波形，第二个是PWM信号和输入电感电流波形，第三个是输出电压纹波波形。</p><p>在图中右侧中下部多了一个按键用来进行参数设计和反向测试切换，在进行参数设计时电路中的各个参数都是相关联的，通常修改一个参数就会引起其它参数的变化，所以在设计的时候参数要按一定的先后顺序来设置。当切换到测试模式后切断了输入电压同电路元件之间的联系，当修改输入电压值时电路中的电感、电容、电阻这些元件参数不变其它数据时时变化，方便观察在不同输入电压条件下的电路工作状况。</p><p>深度系数值的选取：</p><p>深度系数k体现的是电路的工作模式，当K=0时电路为临界模式，当K>0时为连续模式，当k&lt;0时为断续模式，k值定义如下图4</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/055551172956460493c561d3c7a9310d><p class=pgc-img-caption></p></div><p>图4 深度系数k</p><p>所以k的取值范围为0~1，当断续模式时软件会自己计算出负值来。</p><p>一般认为电路在低压输入时工作于连续模式，高压输入时为断续模式时比较合理，深度系数k就是调节这个连续和断续模式的分界点的。这个电路我将分界点设为178V，110~178V工作于连续模式，178~265V工作于断续模式。将软件切换至测试模式输入电压改为178V结果如下：</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/ffb0cef8ff0e4b40bb6466fc6f8a5af6><p class=pgc-img-caption></p></div><p>图5 输入178V临界模式参数</p><p>图5中深度系数变为0.0048约等于零，观察输入电感电流波形刚好在临界模式状态。所以这个电路将深度系数设置为0.2比较合适。</p><p>RCD参数的选取</p><p>MOS管上承受的电压Vds由输入电压、反射电压及漏感电压三部分构成，反射电压受峰值电流和漏感影响在这个电路中不同模式下的峰值电流变化不大所以漏感电压变化也不大，输出电压不变反射电压也不变，那么对Vds影响大的是输入电压，也就是当输入最高压时MOS管承受的压力最大，见下面的265V输入时参数</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1cbed133281f4e02bde0b48ecf997678><p class=pgc-img-caption></p></div><p>图6 输入265V断续模式参数</p><p>当输入电压为265V时电路处于断续模式MOS管的Vds电压为563V还有30V的余量（假设用的600V管子），RCD中的电阻和电容取值还是可以接受的。但是有个问题如果仍然保留MOS管30V余量那么RCD的参数可以有任意多的组合，如下图</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9baf004357714fbaaefcb784282613a2><p class=pgc-img-caption></p></div><p>图7 不同RCD组合参数</p><p>图7中的第四组参数Rc=3K、Cc=500nF不太合适，200V以上500nF的电容成本高些，其它三组参数选哪个更合适？理论计算第一组Rc=0.5K、Cc=66nF损耗最低，波动62.1V最大这样是否有利于降低开关损耗？</p><p>再看一下钳位电压Uc=133V，叠加波动电压62.1/2=±31V后已经低于反射电压Vor=113V，这时吸收电路会直接消耗主电感功率大大了降低电路的效率。从这方面看好像反射电压Vor设计的低一点电路效率会高些，这时变压器匝比会变小直接影响是对输出二极管的反向耐压要求高了，同时占空比也会变小这可能又会降低电路效率。</p><p>在前面的给定参数中输入波动电压30V，输出纹波120mV是提前给定的，波动越小电源性能越好但成本会增加，如何确定这两个参数大概需要综合损耗分析和成本分析，另外还要考虑各参数对动态特性的影响，看来一个好的电源设计对综合性要求很高。</p><p>变压器设计功能</p><p>在完成电路设计后下一步要进行变压器设计，通过把所以公式整合到一起后发现变压器的设计变的简单了。用论坛中的一个实例做分析：</p><p>输入电压：195~265V</p><p>输出电压：32V</p><p>输出电流:1.9A</p><p>开关频率：132KHz</p><p>效率：80%</p><p>第一步计算电路参数如下：</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a62c994e3a694bab8239891dbae62bc6><p class=pgc-img-caption></p></div><p>图8、60W电源电路参数</p><p>这个参数是按低压临界模式设计得到的，当输入为265V时MOS管的Vds=553V余量足够。在调整输入电压参数时发现当输入为低压195V时电路工作于临界模式计算所需Ap=0.35cm^4，当输入为高压265V时电路工作于断续模式计算所需Ap=0.48cm^4，这大概意味着高压断续模式时需要的变压器体个头更大。</p><p>第二步完成电路参数设计后切换到变压器设计界面如下</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f19394962e784fcc9e8198f6aee759d5><p class=pgc-img-caption></p></div><p>图9、60W电源变压器设计参数</p><p>在论坛中发现多个版本的Ap算法这里选用了三种，通过界面中的Ap法选择器来选择，其它参数的设置步骤如下：</p><p>1） 设置最大慈通密度Bm=0.21，最大电流密度Jm=400，窗口系数0.4，参数设置好后Ap值自动计算出来，这里Ap=0.48</p><p>2） 选取Ap>=0.48的磁芯，这里选PQ25/26，参数：Ap=0.9971，Ae=118，Aw=84.5，Al=5250，Pt=195W，将相关参数输入到变压器设计界面中。</p><p>3） 调节初级匝数Np观察磁通密度B和电流密度J的变化已期达到理想效果。</p><p><br></p><p>这里将初级匝数Np设置为30匝，电路高压满载时的实际磁通密度B=0.13实际电流密度为262.65。低压满载时的实际磁通密度B=0.131实际电流J=262.65高低压的变化不大。</p><p>从1开始逐渐增加初级匝数，当Np=19时B=0.205、J=166，Np=19既为最小匝数此时磁芯临近饱和而导线余量比较大。当Np=45时B=0.086、J=394，Np=45既为最大匝数此时导线接近电流上限而磁芯余量比较大。当Np=32时B=0.122、J=280两个值均比较低，见下图10</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/33e19868d5114a68a114d443c59e93e1><p class=pgc-img-caption></p></div><p>图10 不同匝数下的磁芯参数</p><p>设置匝数在19~45之间的变压器都可以使用，但如果匝数太少磁芯损耗大如果匝数太多导线损耗大，有资料说当铁损（磁损）等于铜损（导线损耗）时总的损耗最低，或许这可以作为设置最佳匝数的依据。这个问题先留着到损耗分析时再探讨。</p><p>简单介绍下设计思路，这里方法并不是很重要用Labview软件只是界面清爽些。</p><p>首先把所有的计算公式放在一起构成一个多元一次方程组，电源的设计可以看成是对这个多元一次方程组的求解过程。在这个方程组中未知数量大于方程组量其结果是得不到确定的解，要解这个方程组就需提前设定几个未知量，比如我们先设定开关频率、占空比或反射电压等等。</p><p>因提前设定的量不一定合理最终得到的结果可能不满足要求，这样需再重新设定直到得到满意的答案。这种反复求解验证过程应当是开关电源设计中比较合理的步骤，只不过经过多年的实践验证我们有了“一般”取值，将这些“一般”值代入方程后一般直接就能得到较满意的结果。但如果条件改变了如输入电压100~500V、MOS管耐压1000V等等这些“一般”值就不一定适用了。</p><p>这种反复计算验证的过程是繁琐的，得益于计算机的辅助计算功能只要把公式输入进去就能得到答案，当然公式要提前处理一下就是要先消元，尽量减少公式中的未知量同时让各个未知量之间建立起联系。经过这样处理后的结果是只要调节一个未知量参数就能看到相关的其它未知量的变化，再加上一些约束条件就可以轻松得到合理的参数。</p><p>如果有足够的方程组，比如再加上损耗分析方程组、成本分析方程组等，我们就有可能得到这个方程组唯一的解，也就是最合理的设计。（这里只能用合理，因要求不同有的要求效率高有的求成本低）</p><p>这里公式方程就比较重要了，没有准确的方程是得不到准确的结果的，论坛中这方面的资料很多有的采用的是近似法有的公式则很准确，还有些略有差异主要是公式中的系数有所不同，不同波形或者不同模式下的系数不一吧这个有待探讨。关于反激中RCD吸收电路的设计好像介绍的比较少，在这里跟大家探讨一下。</p><p>RCD吸收电路方程：</p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/e83c020848cb449482cfc3bd82b6fbd0><p class=pgc-img-caption></p></div><p>RCD吸收公式</p><p><br></p><p>这个公式可在百度中搜索“反激RCD钳位计算”</p><p>百度中的那篇文章用的是能量守恒法推导出的这个公式，我们换个角度从电路上来推导。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/5c7a89b8d15740678173b01651fd2a68><p class=pgc-img-caption></p></div><p>图11 RCD吸收等效电路</p><p>图11中（1）是在MOS开关Toff时反射电压的方向，在反射电压Vor维持的期间可以等效为图（2），将图（2）等效变化后得到图（3），图（3）这个电路是一个典型的Boost电路，其中的漏感Lk作为其升压电感，这样 RCD吸收电路就可以当成一个工作于非典型模式下的Boost电路来分析。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8ee6817a0c77463987a21cf64b3c8261><p class=pgc-img-caption></p></div><p>图12 RCD漏感上的非典型电流波形</p><p>在开关的Ton期间漏感中的电流受主电感限制其波形为主电感Lm的电流波形，在开关Toff期间电路才进入Boost模式，所以这是个工作于非典型模式的的Boost电路。</p><p>漏感中存储的能量少在很短的时间内就能将能量释放完，如图12所示toff’时间要小于Toff时间，这个非典型Boost电路是工作于断续模式的，推导过程参考图 11和图12。</p><p>第一步toff’推导 (Uc-Vor)/Lk*toff’=Ipk → toff’=Ipk*Lk/(Uc-Vor)</p><p>第二步 漏感储能推导 Wk=1/2*Lk*Ipk^2*toff’</p><p>第三步 电阻耗能推导 Wr=Uc^2/Rc*T</p><p>漏感储能最终是被电阻消耗的所以Wk=Wr，三个方程合并后最终得到的方程为：</p><p>Rc=2*Uc*（Uc-Vor）/(Lr *Ipk^2*f)</p><p>电容可以用电荷量的变换来推导，电容上的波动电压等效值为Uc我在前面叫它钳位电压不知道是否准确，推导如下：</p><p>负载Rc消耗的电荷 Qr=i*T=（Uc/Rc）*T</p><p>电容Cc变化的电荷Qc=△U*C</p><p>消耗的电荷等于变化的电荷既Qr=Qc，最终得到的方程为：</p><p>C=Uc /(△U *Rc*f)</p><p>Bode图功能</p><p>环路方面的知识以前没有太重视直到最近才产生了兴趣，对电路拓扑的分析通常只需一个开关周期，如伏妙平衡、输入输出能量守恒等。这种单周期分析法也称时域分析但有个前提条件就是电路要处于稳态，如果电路处于非稳状态时（既动态）时域分析就无能为力了，这时就要用到频域分析了。频域分析和时域分析是两种截然不同的分析法，这次编这个软件的主要目的是来学环路设计的，望各位大侠们不吝赐教。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3c74a72535794e7b926d349ff545e756><p class=pgc-img-caption></p></div><p>图13-1 RC幅频特性和相频特性图</p><p>先从简单的入手实现一个RC电路的特性Bode图，另外在右侧增加了一个S域波形图，形象一些更容易加深理解。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5b21af83239e4363a9c0227322c1cc34><p class=pgc-img-caption></p></div><p>图13-2 LR幅频特性相频特性图</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/74990d5c50174f458af8a471a87b0212><p class=pgc-img-caption></p></div><p>图13-3 典型二阶双极点bode图</p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d38c073cd2e9431da745cddb5e471bc6><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/182dd058049f4844a6560b05700845c2><p class=pgc-img-caption></p></div><p>图13-4 时域动态特性</p><p>一般先要知道功率级的传递函数，再根据期望的传递函数（总开环传递函数）去设计补偿电路传递函数。</p><p>根据控制方式的不同反激的功率级分为电流模式和电压模式两种，参考《环球电源讲义》首先是电流模式的传递函数的仿真对比，参考资料 环路反馈.pdf</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3bf2216e9a4447e0851589105b7ce3eb><p class=pgc-img-caption></p></div><p>图13-5 反激电流模式传递函数及仿真Bode图对比</p><p>图13-5中上面的两个传递函数右边的为代入已知条件后的简化传递函数，右边的Bode图就是以此传递函数绘制的。对比左右两张Bode图（左边蓝色曲线为功率级曲线）发现在曲线的后半段差别较大，这个问题纠结了好几天一度怀疑自己的Bode图绘制算法有误，后仿真了另一份资料 开关电源控制环路设计（初级篇）.pdf 中的Buck电路控制环路</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/80a1b4a4bffb4a859f37328034d37683><p class=pgc-img-caption></p></div><p>图13-6 Buck电路功率级传递函数及Bode图对比</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c44b76387eff4041ac9301322d184c5e><p class=pgc-img-caption></p></div><p>图13-7 Buck电路补偿环器传递函数及Bode图对比</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ee46918d45b34ab6a877faa5e144922e><p class=pgc-img-caption></p></div><p>图13-8 总的开环传统函数</p><p>通过图13-6、图13-7、图13-8的对比可以看出这里所采用的Bode图绘制算法是没有问题的，其绘制的Bode图同资料中给的Bode图基本没差别。</p><p>反激相对于Buck电路多了一个右平面零点问题，这个右平面零点在绘制Bode图是否需要特殊处理？后又仿真了另一份资料 TOPSWITCH反激电源控制环路设计.pdf，结果如下</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3428b1a1580d41f589eb16c5d5f1bebe><p class=pgc-img-caption></p></div><p>图13-9 TOPSWITH反激除补偿外的传递函数及Bode图对比</p><p>图13-9中的传递函数包含了右平面零点，但仿真结果跟资料中的Bode图也基本没差别，至此已基本确认这里的Bode图绘制方法没有问题，那么《环球电源讲义》中传递函数和Bode图对应不上问题出在哪里？</p><p>观察图13-5中左边的Bode图，其频率在33K-100K之间曲线的变化类似双极点特性，尝试在原传递函数的基础上增加双极点函数后的仿真结果如下</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e05d540f84f845b698d8ff51f6c7ce0b><p class=pgc-img-caption></p></div><p>图13-10 增加双极点后的反激Bode图对比</p><p>后增加的双极点频率为80k，对比图13-10左边（蓝色曲线）和右边曲线，这两张Bode图已经非常接近了。但是这个80KHz是根据Bode图凑上去的并无理论依据，想要搞明白这个问题大概需要先研究一下功率级传递函数的推导过程。</p><p>在论坛中搜索到《环球电源讲义》中传递函数与Bode图对应不上的原因了，原作者（估计是CMG版）给的解释是这个传递函数在50KHz左右有个双极点，由于这个频率对带宽设计几乎没有影响所以没有提及，但Bode图是包含这个双极点的完整的幅相频曲线。对于这个双极点可参考资料 反激变换器设计小结（荨麻草）.pdf</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/6547d9ab803e4f899409dd772c7acbea><p class=pgc-img-caption></p></div><p><br></p><p>其中的公式（3）就是那个忽略掉的双极点。</p><p>有一篇介绍傅里叶变化、频域、时域等的文章很不错</p><p>http://zhuanlan.zhihu.com/wille/19763358</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15ab740f05ce447791f1fee5478d34c5><p class=pgc-img-caption></p></div><p>这篇文章对于我来说帮助很大，形象的波形比抽象的公式要容易理解的多。</p><p>环路设计的初步功能如下</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2f2610a6906c4ef4a57e892a46223b27><p class=pgc-img-caption></p></div><p>图13-11 环路设计初步功能图</p><p>目前调试时还是觉得不太方便，需要一种更便捷的算法。</p><p>仿一个《环球电源讲义》的实例（参考资料：反馈环路）CCM电流模式反激输出电容为3*1000u，每个电容ESR=130mΩ等效ESR=43mΩ，这个ESR内阻会在频率1.225k处引起一个零点如图13-12中的H(s)白色曲线。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/67b1167ce03f4760bdd8a212ce12b298><p class=pgc-img-caption></p></div><p>图13-12 大ESR电阻单极点补偿</p><p>环路设计参数中Kmode中的K由IC决定，Rsense是电流采样电阻，Kpwr中的Resr为输出电容等效ESR，R3、R4、CTR与光耦和IC有关，输入电阻Rb的选取要考虑TL431的最小工作电流及功耗，一般小于18k左右，这里设置为5.1K。</p><p>基本参数设置好后先将零点频率和极点频率设置的很大（极点频率要大于零点频率）这时可以从相频幅频图上看出补偿函数G(s)（红色曲线）是个单极点函数规律，而环路参数中电阻R2=0.2电容C2=0.5相当于短路和断路，去掉这个电阻和电容后电路也刚好是一个单极点补偿电路。</p><p>对於单极点补偿只需调节低频（10Hz）增益即可，这里低频增益设置为63dB，总开环相位余量67穿越频率约8k达到预期效果。</p><p>如果输出电容ESR电阻较小如资料中的30mΩ，等效ESR=10mΩ，这时如果仍然采用单极点补偿如下图13-13</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ceb4db941cb64deda84658e1b2b2aaf4><p class=pgc-img-caption></p></div><p>图13-13 小ESR单极点补偿</p><p>需要将低频增益设置为74dB，而相位余量只有42偏小，74db增益换成后约等于5000偏高，因此对于小ESR的采用一类补偿不太合适。</p><p>根据资料中给的参数将零点频率设置为fz=1600极点频率设置为fp=fesr=5269，调节低频增益至65.3dB其结果如下图13-14</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/af727a56a5934af19dd74ede65f16684><p class=pgc-img-caption></p></div><p>图13-14 小ESR二类补偿</p><p>上图中隐藏了功率级的波形，穿越频率为8000，相位余量65，这里截止增益不准确因功率函数中的那个双极点没有准确的描述。</p><p>原本想设计成输入相位余量和截止频率后直接算出零极点及相应电阻电容值，那样虽然方便但不够灵活，现在的这种方式可以随心所欲的控制曲线，如下面的例子</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9a22bbc2478f4f738afb38c5e7826c34><p class=pgc-img-caption></p></div><p>图13-15 小ESR补偿2</p><p>将低频增益设置为50dB通过调整fz=200，fp=3600可得到图13-15中的效果，这个曲线相对于上面的几组曲线优点就是全程的相位余量都比较大，可以减少发生条件稳定的概率。</p><p>在调节零极点时发现一个规律，当增大极点时穿越频率和相位余量都增大，当增大零点时穿越频率减小而相位余量一般都增大。运用这个规律零极点的设置就简单了许多，仍然以图13-14小ESR二类补偿为例，下图是在不同低频增益下实现8000Hz穿越频率65度相位余量的伯德图对比。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/caa38a830cce477796b91e8cc982f199><p class=pgc-img-caption></p></div><p>图13-16 低频增益由30dB-75dB的伯德图</p><p>图13-16中白色曲线为功率级曲线H(s)，因在传递函数中这个曲线是不变的所以后面的图中将其隐藏。当低频增益低于30dB时穿越频率无法达到8000Hz，当低频增益高于75dB时穿越频率始终高于8000Hz。虽然这几张图都满足了在穿越频率处有65度的相位余量但在其它频段上显然低增益的相位余量更充裕更容易实现稳定。</p><p>保持低频增益40dB相位余量54度，不同穿越频率下的波形如下图</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/edcd5905674043208b8cdac13e4f3886><p class=pgc-img-caption></p></div><p>图13-17 1k、5k、10k穿越频率伯德图</p><p>保持低频增益60dB穿越频率8000Hz不变，不同相位余量的波形如下</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/69a0f987449f40859036bf6223850b2a><p class=pgc-img-caption></p></div><p>图13-18 相位余量分别为45、55、65、75的波形对比</p><p>上面的几组曲线都能使电路达到稳定但哪组的综合效果最好？穿越频率、相位余量、零极点、中频带宽、低频增益等这些参数该如何选取？</p><p>为了方便理解这些名词设想一个S域模型如下图</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b2a60e87fbee44869af5775c91c522ab><p class=pgc-img-caption></p></div><p>图13-19 S域模型</p><p>模型中x轴为实轴y轴为虚轴，x轴的负半轴（S域左半平面）等效一个电阻，x轴的正半轴（S域的右半平面）等效为一个电源，y轴的正半轴负半轴分别等效为电感和电容。实轴体现的是有功功率虚轴代表的是无功功率。</p><p>用一个二阶振荡系统C(s)/R(s)=10*ω^2/(s^2+2ζ*ω*s+ω^2)（这个系统相对于典型二阶系统多乘了一个10倍）来分析这个模型的用法。</p><p>ζ——阻尼比</p><p>ω——无阻尼自振频率</p><p>第一种情况，假设初始状态电容中充满电荷，运行方向为顺时针旋转，电容经电阻将能量传递给电感下一阶段电感中的能量经电阻回传给电容如此反复直到能量消耗完毕。这是典型的欠阻尼振荡0&lt;ζ&lt;1。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0529920a06c744a7937dfea26d7c4d99><p class=pgc-img-caption></p></div><p>图13-20 欠阻尼二阶振荡S域</p><p><br></p><p>图13-20中分别为频域bode图、S域空间图、时域动态图，这里的S域图是由bode图转换来的是不同角度的增益与相位统一的bode图，个人觉得更像是空间方位图。S域中起点是a从y轴的负半周开始（电容轴）经过b点（双极点，相位-90度）到达c点（穿越频率点同S域原点重合），从原点到曲线上点的半径为模（增益）与y轴负半轴的夹角为相角。</p><p>如何从S域分析动态特性？从图形上看就是要降低abc曲线相对于x轴的对称性从而增大相位余量，从阻尼系数ζ=1/2*R*sqrt(C/L)上看就是增大阻值R或者增大电容/电感的比同样也是改变对称性，见下图不同ζ系数的结果。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8386d7b895434189b8abf7a2b75454c8><p class=pgc-img-caption></p></div><p>图13-21 大阻尼系数的欠阻尼二阶S域</p><p>第二种情况，临界阻尼ζ=1</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c61b9722a1b649a49ee9d798d978f4a6><p class=pgc-img-caption></p></div><p>图13-22 临界阻尼二阶S域</p><p>第三种情况，过阻尼ζ>1</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5cea5abd170c451bac6edb06de34e1af><p class=pgc-img-caption></p></div><p>图13-23 过阻尼二阶S域</p><p>从变化趋势看阻尼系数、相位余量越大电路越容易稳定但动态响应越慢，在频域分析中一般将相位余量设置在45-65之间以兼容稳定与动态响应，那么如果相位余量为45-65度之间是否可以说电路的动态和稳定性都比较理想？这个问题在后面的分析中或许可以证明。</p><p>第四种情况，无阻尼ζ=0</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a779ec5dca28459a89dddb1668c8b6be><p class=pgc-img-caption></p></div><p>图 13-24 无阻尼二阶S域</p><p>这属于比较特殊的一直欠阻尼情况，增益轨迹只在y虚轴上运动，在这种理想情况下LC谐振腔内无电阻无损耗震荡会一直持续下去。</p><p>第五种情况，周期震荡</p><p>前面的四种情况增益轨迹都是在S域的左半平面或者在虚轴上，这些情况下电路最终都会达到稳定不同的只是时间快慢（第四种无阻尼在现实电路中是不存在的）。如果增益轨迹出现在S域的右半平面，分析图13-19的S域模型在右半平面等效为一个电源其会对电容或者电感充电起到增幅震荡的作用，当其与左半平面的电阻所消耗的能量平衡时电路将以一个稳定的振幅做周期震荡，这种情况一般在设计周期震荡电路时才需考虑。</p><p>第六种情况，条件稳定</p><p>如果增益轨迹出现在右半平面后又绕回左半平面（在bode图中表现为在穿越频率前某一段相移超过180度）这种情况就称作条件稳定。假设由负载突变引起扰动，经傅里叶分解得到一系列周期波，这些波长的频谱是不连续的那么就有可能不包含出现在右半平面的频率电路最终也会稳定。这种稳定是不可靠的，用下面的小球来描述更容易理解。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3428534d1cec41fcafb3d6819dd2e18d><p class=pgc-img-caption></p></div><p>图13-25 条件稳定图示</p><p><br></p><p>图中位置4是最终的稳定点，第一种情况小球初速度比较慢，小球沿着轨迹1运动最终到达位置4形成稳定。情况2小球初速度比较高，小球沿着轨迹2运动最终也可以达到位置4形成稳定。情况3小球中速运动，这时小球的运动轨迹为3到达一个相对稳定点而无法达到最终稳定点，如果在小球的初速度中不包含情况3中的轨迹3那么这种情况就形成条件稳定。</p><p>将图13-14的例子用S域来分析，首先是功率级bode图及S域图</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d1bf8297b0274df38ac96a8ed52ff740><p class=pgc-img-caption></p></div><p>图13-26 功率级bode图及S域图</p><p>图13-26中起点a相移接近0度在S域上接近y轴的负半轴，极点b相移45度极点也是转折点在S域中表现为在该极点处增益轨迹顺时针旋转，效果是相角滞后使增益轨迹向穿越点靠近，双极点就是转两次转的角度更大一些。穿越点即穿越频率，穿越这个词很形象其就如同黑洞一般从左边看有进无出从右边看特性完全不一样了（穿越到另一时空？）。模值即为增益，图中的最大增益为25db从S域中可以直观的看出这个功率级传递函数增益较小。补偿函数的bode图和S域图如下。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c6461e93fba5404896f4f5da4a8b6fd8><p class=pgc-img-caption></p></div><p>图13-27 补偿级bode及传S域函数</p><p><br></p><p>在上一个功率级S域中我们已经知道极点是使增益曲线顺时针旋转向穿越点逼近，零点正好相反在零点处增益轨迹逆时针旋转，效果为相角超前使增益轨迹远离穿越点（这个可以解释为何零极点一般要成对增加）。图中采用的是Ⅱ类补偿有个原极点所以起点滞后90度从x轴的负半轴开始。这里低频增益设置为60db用来提升最终的开环传递函数的增益。将功率级同补偿级合成就构成了最终的开环传递函数，见下图。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6445adaeb61b4de683319ec6c04d282a><p class=pgc-img-caption></p></div><p>图13-28 开环bode图及S域图</p><p><br></p><p>开环特性是最终我们判定一个环路是否稳定可靠的依据，从图13-28中或许可以解释一些关于环路方面的疑惑。</p><p>图13-28的S域中曲线a-b-c-d是一条用频率变化来描述的曲线（从a起点10Hz变化到d穿越点8KHz），a点到d点的距离rad就是a点的模值（增益db），曲线a-b-c-d的周长体现带宽。</p><p>参考图13-19的S域模型，其左半平面的物理意义是一个RLC电路是一直在消耗能量其最终结果必然会稳定，所以设计开环bode图时只要使增益轨迹都在左半平面那么这个电路就是稳定的。右平面零点右平面极点都是不允许存在于增益轨迹上，反激电路中的右平面零点是通过将其设置在穿越频率后来处理的。</p><p>模值rad代表的是低频增益可以调节负载调整率，从图中看如果增加低频增益后只需再调整一下b极点的位置而原相位余量可以保持不变，低频增益增大后可使曲线周长变长也就是带宽变宽这是有益的，但低频增益过大的话环路中某器件可能会超出工作上限，另外观察图13-16随着低频增益的变大极点b可能会进入到右平面再返回形成条件稳定。在以往的bode图资料描述中有一段以-40db下降的曲线，这段曲线就是由这个极点引起的，这个-40db(-2斜率)的曲线可以提升低频段增益，其原因在这S域中可以看到比较清楚。</p><p>极点b使增益曲线顺时针旋转向穿越点靠近，如果没有这个极点增益曲线直接就进入到了右平面。零点c使增益曲线逆时针旋转，如果没有这个零点增益曲线bd段要非常的靠近y轴的正半轴才能达到穿越点，这种情况极易进入到右半平面是不稳定的所以加入一个零点使bc段离开y正虚轴一段距离。在bode图中要以-20db(斜率-1)穿过穿越频率原因大概就在于此。</p><p>开关电源中的Ⅰ、Ⅱ、Ⅲ类补偿该如何选择，Ⅰ类补偿自身相位滞后90度适用于相角＜45度的电路如电流模式的大ESR电容的电源，Ⅱ类补偿自身相位滞后0-90度适用于相角&lt;135度的电路如电流模式、电压模式等电源，Ⅲ类补偿自身相位可超前90度适用于相角&lt;225度的电路如LLC等几乎所有的电源，Ⅲ类>Ⅱ类>Ⅰ类向下兼容。这里似乎有个规律效率越高的电路其相位余量越小越难控制，另外一个合适的控制方式可以降低对补偿环路的要求比如电流模式可使相位余量多90度，如果LLC电路也用电流模式来控制是否意味着其相角可以&lt;135度从而可选用Ⅱ类电路来补偿，再如果LLC换一种更优秀的控制方式或许Ⅰ类补偿就能使其稳定。是否可以有Ⅳ类、Ⅴ类补偿应用于更复杂的系统，这在S域中来进行设计估计会容易些。</p><p>电压模式的反激的功率级传递函数如下图</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/39561ca45eea43a987e938da420a6c3e><p class=pgc-img-caption></p></div><p>图13-29 电压模式的功率级bode图及S域图</p><p>从图中看电压模式中有个双极点b最大相位角有150度超过了135度，如果避开这个双极点将穿越频率设置在600Hz以内则Ⅰ类补偿就可以不过带宽和低频增益都太低，所以这里采用Ⅲ类补偿比较合适。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/67c3d9b2f6d9467d9a644046c35174c2><p class=pgc-img-caption></p></div><p>图13-30 电压模式的补偿级bode图及S域图</p><p><br></p><p>因功率级传递函数在600Hz处有个双极点所以补偿级在此频率处加两个零点补偿（双零点b），高频处再加入极点c和d用于调节穿越频率，原极点a调节低频增益。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9236b20b931047eebb34a6ced4c6b597><p class=pgc-img-caption></p></div><p>图13-31 电压模式的开环bode图及S域图</p><p>上图为最终的开环传递函数结果，从S域图看增益曲线在双零点b处绕了个弯结果使后面曲线的相位都得到了提升，整个曲线都在左半平面并且d-e段有着不错的斜率经过穿越频率点。</p><p>分析电路的传递函数时一般都只用到二阶而实际的电路往往为多阶函数，下图是模拟的一个四阶传递函数bode图和S域图</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/fdb7418d42dc45febaee09147fb31aae><p class=pgc-img-caption></p></div><p>图13-32 模拟四阶功率级bode图及S域图</p><p>在这个图中四阶函数的表现为两个不重叠的双极点，如果把穿越频率设置在第二个双极点前那么这个传递函数就可以当成是二阶函数来处理了，这大概是为何可以用二阶函数来分析电路的原因。</p><p>如果一个电路非常的高效（比如LLC电路）那么其补偿电路及补偿后的效果又如何呢？在图13-29的基础上将阻尼系数降低得到如下一个新的功率级bode和S域图（实际仿真用的是三阶函数，从图形上看同二阶差别很小）。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/00482c46d16e454bbf0daf2e6749f8aa><p class=pgc-img-caption></p></div><p>图13-33 高效率电路的功率级bode及S域图</p><p>补偿电路仍然采用Ⅲ类补偿，参数略作调整。</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5654373570514871b6a8268326e77b0c><p class=pgc-img-caption></p></div><p>图13-34 高效率电路的补偿级bode图及S域图</p><p>补偿后的结果为</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9cddeadfff094b3b9ef08aaf90c8e4a7><p class=pgc-img-caption></p></div><p>图13-35 高效率电路的开环级bode图及S域图</p><p>图13-35中的S域图中c点和d点同右半平面距离近似相同可认为这是最佳状态，如果补偿级的零点（双零点可不重合，可单独设置）设置的偏左其会造成相位补偿过量，如下图</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/798a91c0e7804fc596cc908c9e206d45><p class=pgc-img-caption></p></div><p>图13-36 高效率电路相位补偿过量</p><p>图13-36中c点已经跑到右半平面了形成了条件稳定，整体来说是不可靠的。</p><p>如果补偿级零点设置的偏右其会造成相位补偿不足，如下图</p><p><br></p><div class=pgc-img><img alt=想用Labview做一个反激电源设计软件（一） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/719d5627eca84559af4213e7238bbbae><p class=pgc-img-caption></p></div><p>图13-37 高效率电路相位补偿不足</p><p>图13-37中d点跑的了右半平面形成条件稳定，最终也是不可靠的。</p><p>从这里可以看出对于高效率电路其可用的补偿参数范围非常窄，效率越高越窄，而对于前面的非高效电路要满足环路稳定可选的参数很多，在一定范围内或许随便一个参数都能满足要求。补偿参数范围窄这大概是LLC之类高效电路环路难设计的原因之一吧？</p><p><br></p><p>图13-35中如果想提高稳定度（加大c、d点同右半平面的距离）可通过降低补偿级的低频增益来实现。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Labview','一个','反激'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>