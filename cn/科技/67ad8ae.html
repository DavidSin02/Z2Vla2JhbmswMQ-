<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>实战教你如何构建What-if分析，动态参数轻松玩转！ | 极客快訊</title><meta property="og:title" content="实战教你如何构建What-if分析，动态参数轻松玩转！ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/80e1f61747174e6686f09e9d768ee0f2"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/67ad8ae.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/67ad8ae.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/67ad8ae.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/67ad8ae.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/67ad8ae.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/67ad8ae.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/67ad8ae.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/67ad8ae.html><meta property="article:published_time" content="2020-10-29T20:58:17+08:00"><meta property="article:modified_time" content="2020-10-29T20:58:17+08:00"><meta name=Keywords content><meta name=description content="实战教你如何构建What-if分析，动态参数轻松玩转！"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/67ad8ae.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>实战教你如何构建What-if分析，动态参数轻松玩转！</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>在一般的数据分析中，我们用到最多的就是筛选、聚合、排序、对比这些常规分析方法。然而在某些情况下，我们也会遇到一些需要通过调参来实现数据的动态调整，进而根据不同结果来采取最优决策的分析场景。</p><p>有一个专有的名词用来描述这类分析场景——What-if分析。</p><p>假设分析是一种评估的程序，假设如果采取不同的策略方案会产生何种结果，以便作最佳的决策。例如若更改实际预测、生产计划和存货水准会有什么结果，再根据不同的结果选择一种最合适的方案。</p><p>——智库百科</p><p>在企业日常的运营中，善用What-if分析将对决策分析起到十分重要的帮助。而在观远BI中，我们可以使用动态参数功能，来轻松构建What-if分析。所以接下来，我们将通过几个案例，来教大家如何通过灵活使用参数功能，来实现What-if分析的强大功能！</p><p>案例一：利润假设分析</p><p>某超市想分析一下如果能降低采购成本，能给自己带来多大的利润提升。由于降低成本本身就是一种假设，分析师希望将“成本下降百分点”作为一个外部参数来<span>做为</span>分析的一个输入。</p><p>通过观远数据构建的利润假设分析模型，最终分析人员只需调整“成本下降百分点”这个参数，便可马上得到各年份利润提升数据，以此作为参考来制定下一个周期内的成本控制计划。</p><p>在这个案例中，我们需要在计算“节约成本后利润”这个字段时引入“成本下降百分点”参数，如下所示：</p><div class=pgc-img><img alt=实战教你如何构建What-if分析，动态参数轻松玩转！ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/80e1f61747174e6686f09e9d768ee0f2><p class=pgc-img-caption></p></div><p>如此一来，我们把新建的字段添加到图表中后，我们便能在图表属性区域内设置参数的默认值。</p><div class=pgc-img><img alt=实战教你如何构建What-if分析，动态参数轻松玩转！ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/384b402b7abc4942a0f4106af6c7cfca><p class=pgc-img-caption></p></div><p>保存卡片后我们可以在页面上选择将参数以卡片的形式透出，这样我们就可以直接在页面上调整参数来实现What-if分析了。最终效果图如下：</p><div class=pgc-img><img alt=实战教你如何构建What-if分析，动态参数轻松玩转！ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bedf19f7bb03447982c4c38e99f92a82><p class=pgc-img-caption></p></div><p>成本控制对利润的影响从以上分析结果中我们可以得出，成本下降1个百分点，整体利润可能就有6个点以上的增幅；若是成本能下降5个百分点，利润提升大致在30%以上，由此可见成本控制对利润增长影响之大。</p><p>案例二：促销分析</p><p>零售数据化管理大师黄成明老师在他的《数据化管理—洞悉零售及电子商务运营》一书中提出了黄氏曲线的概念，用来对促销活动做分析及评估。简单来讲就是对促销前、促销期间、促销后三个时间区间段的单位权重销售值（剔除周一到周日销售额不均衡现象的影响）进行对比，评估促销活动是否成功。</p><div class=pgc-img><img alt=实战教你如何构建What-if分析，动态参数轻松玩转！ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9dd91c13eef24e56bb74e25e05a4b721><p class=pgc-img-caption></p></div><p>如上所示，我们把促销期间销售额单位权重值的增长值称为促销爆发度，促销结束后的销售额单位权重衰减值称为促销衰减度。促销爆发度体现了促销活动立竿见影的程度，而促销衰减度则可用来判断促销活动是否有透支销售额的情况。一般情况下，衰减度大于爆发度则有销售透支的现象发生，而如果衰减度大于两倍的爆发度（上图便是这种情况），那基本可认为促销活动是彻底失败的。</p><p>借助观远数据的动态参数功能，我们构建了某零售门店促销分析模型。分析师只需要调整分析周期与活动开始、截止日期，便能轻松分析活动是否达到预期。</p><p>这个案例里面，我们利用日期选择器来做分析周期的选定，利用日期类型的动态参数来对活动时间进行圈定，最终实现促销活动完成情况的动态分析。</p><div class=pgc-img><img alt=实战教你如何构建What-if分析，动态参数轻松玩转！ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/34a298abebeb40a89ef5bc7e76d280c9><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=实战教你如何构建What-if分析，动态参数轻松玩转！ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3eb6e469d7e14d5ab015c259f5042584><p class=pgc-img-caption></p></div><p>最终效果如下：</p><div class=pgc-img><img alt=实战教你如何构建What-if分析，动态参数轻松玩转！ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c7696f95012142d9b1defaa2893f8bf3><p class=pgc-img-caption></p></div><p>以上分析中我们可以看到商家在2017-10-19~2017-11-19期间做的促销活动促销爆发度高于促销衰减度，可见促销效果比较不错，甚至还带来一些正面的持续效果。</p><p>案例三 新增会员销售分析</p><p>一般情况下，商家的订单数据来自业务系统，会员数据来自CRM系统，汇总到数据仓库以后也经常是放在不同的数据表中。那么如果要对新增会员进行销售数据的分析，就需要关联订单表与会员表。而一般情况下，如果先做全表关联，然后再对会员进行筛选，则中间结果的计算会相当耗时且没有意义（因为新增会员一般只占到全部会员的一小部分而已）。那怎么更高效而优雅地完成此类分析呢？</p><p>这就要用到观远数据动态参数的第二种使用方式：在直连数据集的SQL中添加参数。例如，我们可以用以下SQL创建直连数据集：</p><div class=pgc-img><img alt=实战教你如何构建What-if分析，动态参数轻松玩转！ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e182558cd2064348a6ee3422b0f9a58e><p class=pgc-img-caption></p></div><p>这样，我们用这个数据集创建图表的时候，就可以捕捉到“注册日期”这个参数。用户在页面端调整这个参数，系统会把参数值一直传递至底层数据集SQL中去，最终推送至数据库执行。如此一来，便可以轻松高效地分析任意日期至今的新会员销售数据了。</p><div class=pgc-img><img alt=实战教你如何构建What-if分析，动态参数轻松玩转！ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c7bb8ab3f5f5401cbafe8c37d57d7f52><p class=pgc-img-caption></p></div><p>目前观远数据支持文本、数值、日期三种类型的参数，支持默认值、备选项设置。您可以在管理员设置页添加、管理企业数据分析所需的参数。通过灵活使用参数功能，除了What-if分析，您还可以实现其他复杂的图表动态分析，比如：分析维度切换、分析指标切换、跨表动态查询、阈值调整分析等等，可谓是数据分析的一个重要利器。</p><div class=pgc-img><img alt=实战教你如何构建What-if分析，动态参数轻松玩转！ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/850194362c8f4ef2ac7ca0af0dc2db2b><p class=pgc-img-caption></p></div><p>市场上其他BI产品也会提供类似的功能，比如某友商支持在计算字段中添加参数；另其他友商支持在SQL中填写参数，而观远BI是为数不多能够同时支持计算字段与直连数据库SQL中添加参数的产品。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'实战教','构建','What'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>