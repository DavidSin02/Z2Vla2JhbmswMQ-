<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 | 极客快訊</title><meta property="og:title" content="「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/RZhRrrq3RE3xoE"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/67e4bd5.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/67e4bd5.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/67e4bd5.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/67e4bd5.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/67e4bd5.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/67e4bd5.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/67e4bd5.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/67e4bd5.html><meta property="article:published_time" content="2020-10-29T21:08:06+08:00"><meta property="article:modified_time" content="2020-10-29T21:08:06+08:00"><meta name=Keywords content><meta name=description content="「学术论文」海洋投弃式声速仪(XSV)的通信系统设计"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/67e4bd5.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>「学术论文」海洋投弃式声速仪(XSV)的通信系统设计</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>摘要：</strong></p><p>设计并实现了基于海洋投弃式声速仪(XSV)的通信系统。以2DPSK信号为传输信号，以单根双股漆包线为通信信道，设计了解调部分的高压偏置电路、放大滤波电路以及软件解调算法。与传统通信系统相比，该系统并未采用以FPGA或其他解调芯片为基础的解调电路，而是充分利用核心处理器STM32F407主频高的优势，在片内完成数据解调及数据上传功能，从而简化了电路，为测量提供了便利。通过试验，对解调数据进行了分析。测试结果表明，该通信系统的设计具有可行性、可靠性，满足复杂海洋环境下对于通信质量的要求。</p><p><strong>中文引用格式：</strong>范寒柏，刘炳岳，吴飞，等. 海洋投弃式声速仪(XSV)的通信系统设计[J].电子技术应用，2019，45(7)：112-116.</p><p><strong>英文引用格式：</strong>Fan Hanbai，Liu Bingyue，Wu Fei，et al. Design of communication system for ocean expendable sound velocity meter(XSV)[J]. <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-1">App</i>lication of Electronic Technique，2019，45(7)：112-116.</p><p>0 引言</p><p>随着我国深远海战略的不断发展，我国对海洋领域的海洋参数测量也愈发重视。海洋声速的测量便是其中一项重要的指标。海洋声速测量主要的方法分为两种：一是用环鸣法直接测量声信号在固定的已知距离内往返多次的传播时间而得到声速；二是采用CTD测量海水的温度、盐度和压力随深度的变化，进而通过公式来计算声速<sup>[1]</sup>。该测量系统采用直接测量方法。在声速测量中，通常是测量声速随深度的变化，故采用抛弃式声速测量仪（Expendable Sound Velocity），使其在下降过程中测量不同深度的声速。因此，保证抛弃式声速仪和水面上位机的通信便尤为重要。与陆地上的通信方式相类似，在海洋水下通信方面也可以分为有线通信和无线通信<sup>[2]</sup>。两者各自有其优缺点。水下无线通信结构简单，但功耗较大，成本较高，其中最常用的为采用扩频技术的水声通信。有线通信则在长距离通信方面更有优势，但结构复杂。根据实际工程的需要，XSV的通信系统采用有线方式进行。以漆包线作为有线通信系统的信道，既可以保证通信质量，又可以用来判断抛弃式仪器的下落距离。此外，上位机可通过漆包线传送激励信号，从而控制水下测量系统的开启，在工程中，具有较强的实用性。</p><p>1 系统的总体构成及原理</p><p><strong>1.1 系统的总体构成</strong></p><p>整个投弃式声速系统可分为三部分，分别为水下测量系统、水上数据解调系统、上位机显示系统<sup>[3]</sup>。其中，水下测量系统为测量探头并配以水下测量电路，负责在下降过程中对不同深度的海水环境进行声速的测量，并将测得的数据通过漆包线传输给水上解调系统<sup>[4]</sup>。为加强传输信道的抗干扰能力，XSV的通信信道采用差分式传输结构，即采用单根双股、带绝缘涂层的金属漆包线。随着XSV的不断下沉，漆包线线轴也不断展开，该漆包线直径小且柔软，不会影响水下测量仪的运行轨迹。水上数据解调系统解调完成后，通过串口发送到上位机进行显示，通过对测量数据的分析，可用来绘制对应海洋领域的声速曲线。</p><p><strong>1.2 漆包线通信调制解调方式选择</strong></p><p>为满足1 500 m通信距离的要求，提高抗干扰能力，该系统采用数字通信方式。在实际测量中，存在以下干扰因素。首先，漆包线本身带有分布电容和分布电感，而且随着漆包线的展开，漆包线的形状发生变化，分布参数也随之发生变化，从而构成了一个复杂的滤波系统<sup>[5]</sup>，影响测量的准确性。其次，海水作为弱导体，也会在传输线上产生耦合电容效应<sup>[6]</sup>。因此，在数字通信选择上，该课题采用数字带通传输系统。经实验研究，虽然信号在传输过程中受到干扰，但很好地保持了相位特性<sup>[7]</sup>，因此，采用了2DPSK的调制解调方式，其模型如图1所示。</p><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RZhRrrq3RE3xoE><p>其中：</p><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RZhRrs64UA8iO><p>其中：a为信号振幅，n<sub>1</sub>(t)为y<sub>1</sub>(t)上的噪声，n<sub>2</sub>(t)为y<sub>2</sub>(t)上的噪声，n<sub>1</sub>(t)与n<sub>2</sub>(t)相互独立。r为解调器输入端的信噪比。</p><p>在相同条件下，利用2ASK和2FSK方式进行调制和解调的误码率分别为</p><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RZtRSuOFzJRdLn><p>和</p><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RZtRSueCmMX0bk><p>。</p><p>通过以上分析可知，在同等条件下与2ASK和2FSK方式相比，利用2DPSK方式进行调制解调误码率最低，是一种较为理想的数字信号传输方式。</p><p>2 硬件设计</p><p>硬件系统总框图如图2所示，该电路系统由电源模块、单片机模块、通信模块、高压偏置模块以及放大滤波电路组成。其中，单片机模块中核心处理器采用ARM公司生产的基于Cortex-M4内核的STM32F407芯片。该芯片主频最高速率可到168 MHz，可满足软件滤波、解调对于时间的要求，从而可在无FPGA或其他专用解调芯片的情况下，同时完成数据采集、软件滤波、数据解调的功能，在极大程度上简化了电路，节约了资源。</p><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RZhRrsOE0zuh56><p>该解调系统大致工作流程为，系统上电后，通过高压模块电路的升压，产生约95 V的偏置电压，该电压作为激励电压，唤醒水下测量系统，进入工作状态<sup>[8]</sup>。水下测量系统测得数据后，通过2DPSK调制，会将数据以800 b/s的数据传输速率通过单根双股漆包线以差分形式发送至水上解调板。解调板首先对接收到的数据进行初级的硬件放大和滤波。随后，单片机通过片内A/D转换器对初级处理后的数据进行采集并对采集后的数据进行软件解调。最后，通信模块将解调后的数据发送至上位机进行实时显示。</p><p><strong>2.1 高压偏置模块电路设计</strong></p><p>该设计引入高压偏置模块，在解调系统上电后，会通过高压偏置模块产生高压，该高压会通过水下测量系统的光电隔离模块产生测量开启信号，从而唤醒水下测量系统，进入工作状态。实际电路设计如图3所示，高压偏置模块的升压部分采用HV857芯片，该芯片是针对冷光灯片设计的高压驱动芯片。该芯片的常规用法为通过在Rsw、REL引脚加入输入信号，芯片会在VA、VB引脚产生对应频率的驱动冷光灯片的信号。在该设计中，通过对电路稍作调整，在Rsw、REL端直接接入5 V电源，该芯片会在CS引脚端产生幅值约为95 V的直流高压信号，该信号可作为电路中的偏置信号使用。</p><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RZhRrspFznpu60><p><strong>2.2 放大滤波电路设计</strong></p><p>水下测量系统测得的数据传输至解调系统的过程中，经过漆包线的传输，信号将大幅衰减，并引入干扰成分。因此在解调系统的接收端，首先进行初级的放大和滤波。</p><p>如图4所示，该电路运放采用仪器放大器，仪器放大器具有输入阻抗高、共模抑制比高的特点，适合精密信号的放大。在差分输入端，进行RC高通滤波，滤除直流和低频干扰成分。经过放大后的信号要进入单片机的A/D端，而单片机A/D采集部分无法识别负电压，因此，在运放的参考端，加入2.5 V的偏置电压。经过运放放大后的信号，在输出端进行RC低通滤波，滤除高频干扰。最终，信号进入单片机的A/D采集端。</p><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RZhRrt46xhdrHU><p>3 系统软件设计</p><p>该系统软件采用模块化设计，以主程序为主线，包括A/D数据采集程序、滤波程序、延时相乘解调程序、抽样判决程序、CRC校验程序。</p><p>进入主函数后，首先对各个模块进行初始化。为保证数据滤波和解调对于时间的要求，该系统的数据采集和数据传输采用DMA模式，即不经过CPU而直接从内存存取数据的数据交换模式，极大程度节省了系统资源。数据传输速率为800 b/s，为保证解调准确性，该系统设计A/D采样速率为每周期采样16个点，即采样速率为12.8 kS/s。在滤波器部分，采用FIR滤波器从而实现软件滤波<sup>[9]</sup>。数据解调过程如图5所示，对数据进行A/D采集后，将数据进行带通滤波，滤除低频和高频干扰成分，之后，对信号延时相乘，进行差分相干解调<sup>[10]</sup>，解调后的数据因为乘积解调的作用，会引入高频干扰成分，因此之后要对数据进行低通滤波，滤除高频干扰，保留数据的有效成分。随后进行抽样判决。判决完成后，系统会综合之前收到的数据进行数据结束标志位的判别，并对接收到的数据帧进行CRC校验。如果校验成功，证明数据无误码，系统会将该帧数据传输至上位机进行显示。如果校验失败，证明在传输和解调过程中出现误码，则丢弃该帧数据，重新回到A/D采集部分，继续对下一帧数据进行采集。</p><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RZhRrzEAFE6eH0><p>4 测试方案和测试结果</p><p><strong>4.1 硬件测试</strong></p><p>硬件电路制作完成后，首先保证各模块工作在正常状态。其次，对放大电路的放大性能，对数字电路的数据处理速率做进一步的测量与分析，验证硬件电路的可行性。</p><p><strong>4.2 软件仿真测试</strong></p><p>通过MATLAB软件对原始信号进行分析，可在原理上对系统解调方案进行可行性分析。仿真结果如图6～图10所示，其中图6为采集信号的原始波形图，从原始信号可以看出，经过漆包线传输后的2DPSK调制信号已经出现明显失真，无法清晰直观地看出调制信号所传输的信息。</p><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RZhRrzT52l9Y3U><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RZhRrzhCyZyvrB><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RZhRrzvFPjJDle><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RZhRs0B1cRrPtz><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RZhRs4Q4ygybpN><p>图7为经过带通滤波后的波形。经过带通滤波后的数据进行移位后与自身相乘进行差分相干解调，其效果图如图8所示。</p><p>最后，对差分相干解调后的数据进行低通滤波和抽样判决，结果如图9和图10所示。</p><p>经过MATLAB仿真解调后，数字信号得到了清晰准确的还原。因此，该解调方案可准确地对经过漆包线传输的2DPSK信号进行解调，从而在理论上证明了该方案的可行性。</p><p><strong>4.3 实际测试结果</strong></p><p>将水下测量系统和水上解调系统分别组装完毕后，通过单根双股漆包线进行实时通信，通信协议采用工业电子设备之间常用的Modbus通信协议。经过解调系统解调后，解调系统将解调信号传送至上位机显示。此次测试与美国海鸟公司的Seabird 911标准仪器进行对比，测量声速随温度的变化，测试结果特性曲线如图11所示。XSV在各温度点的声速测量值与Seabird 911测量值的误差如表1所示。通过对比与分析可以得出，该通信系统准确地实现了数据解调及数据上传功能，具有较强的实用性。</p><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RZhRs4lDrecBSk><img alt=「学术论文」海洋投弃式声速仪(XSV)的通信系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RZhRs589csrrdL><p>5 结论</p><p>本设计以STM32F407为核心处理器，并配以放大滤波、高压偏置等电路模块，通过软件算法，实现了海洋投弃式声速仪的通信系统设计。在该设计中，并未采用老式的基于FPGA或其他解调芯片的解调电路设计，而是利用STM32F407单片机主频高的优势，直接在片内完成了对数据的解调以及数据上传功能，从而简化了电路，为实际工程测量提供了便利。通过软件仿真和测试，证明了该电路在复杂海洋环境中，具有可行性、可靠性。该通信系统的设计为投弃式声速仪的数据传输提供了强有力的支持，将进一步促进我国海洋参数测量领域的发展。</p><p><strong>参考文献</strong></p><p>[1] 刘贞文，杨燕明，许德伟，等.海水声速直接测量和间接测量结果分析[J].海洋技术，2007(4)：44-46.</p><p>[2] 王心鹏，门雅彬，张东亮，等.XBT自动投放测量系统电机控制单元设计与故障分析[J].电子技术应用，2019，45(1)：92-96.</p><p>[3] 于晓山.船用投弃式温盐深测量系统[D].天津：河北工业大学，2010.</p><p>[4] 陈雷，贾志成，李永军，等.投弃式温盐深测量仪数据传输系统的研制[J].海洋技术，2009，28(3)：26-29.</p><p>[5] 郑羽，付孝洪，高宇，等.水温对XCTD剖面仪单模光纤传输信道影响的研究[J].海洋通报，2015，34(2)：197-201.</p><p>[6] 方静.基于ASK、DPSK的XCTD剖面仪时变信道调制技术的研究[D].天津：天津工业大学，2015.</p><p>[7] 王慧.超声波水下通信编码的研究[D].成都：成都理工大学，2012.</p><p>[8] 康怡，孙世超.环鸣法声速仪超声波发射/接收电路设计[J].仪表技术与传器，2012(1)：65-67.</p><p>[9] 王辉.FIR数字滤波器的设计与研究[J].装备制造技术，2018(1)：48-49，62.</p><p>[10] 陈丽娅.DPSK通信电路的设计及系统仿[J].现代工业经济和信化，2017，7(6)：21-23.</p><p>[11] 黄世锋，陈章友，张兰，等.多通道雷达数字接收机数字下变频设计[J].电子技术应用，2016，42(6)：46-48，55.</p><p><strong>作者信息:</strong></p><p>范寒柏1，刘炳岳1，吴 飞1，李瑞琪2</p><p>1.华北电力大学 电气与电子工程学院，河北 保定071000；</p><p>2.国网甘肃省电力公司信息通信公司，甘肃 兰州7<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-4">30</i>050；</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'学术','论文','投弃式'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>