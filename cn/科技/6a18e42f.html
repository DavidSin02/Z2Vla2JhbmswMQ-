<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>好文推荐：终于有人把Elasticsearch原理讲透了 | 极客快訊</title><meta property="og:title" content="好文推荐：终于有人把Elasticsearch原理讲透了 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/2dad09ec37d34565b9a3a057fdf9c0c8"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6a18e42f.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6a18e42f.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6a18e42f.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6a18e42f.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6a18e42f.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6a18e42f.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6a18e42f.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6a18e42f.html><meta property="article:published_time" content="2020-11-14T21:04:06+08:00"><meta property="article:modified_time" content="2020-11-14T21:04:06+08:00"><meta name=Keywords content><meta name=description content="好文推荐：终于有人把Elasticsearch原理讲透了"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/6a18e42f.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>好文推荐：终于有人把Elasticsearch原理讲透了</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><blockquote><p>专注于Java领域优质技术，欢迎关注</p></blockquote><p>作者：channingbreeze</p><p>转自公号：<em>互联网侦察</em></p><blockquote><p>小史是一个非科班的程序员，虽然学的是电子专业，但是通过自己的努力成功通过了面试，现在要开始迎接新生活了。</p></blockquote><p class=ql-align-justify>随着央视诗词大会的热播，小史开始对诗词感兴趣，最喜欢的就是飞花令的环节。</p><p class=ql-align-justify>但是由于小史很久没有背过诗词了，飞一个字很难说出一句，很多之前很熟悉的诗句也想不起来。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2dad09ec37d34565b9a3a057fdf9c0c8><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/22d7ad84caec4bda851f7a4c605b9a69><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c911a38361a345658abeae3e3fc6d9c6><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0668419e67ca4a30890562664ef36f41><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/da57b4bc532f46459034767daa8b6d79><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/51f752db5abf4aa29a16561294543d17><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/872e6066801b43a88a8d3763235f66f6><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><h1>倒排索引</h1><p class=ql-align-justify><br></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3e00e04b9c104ac5b754e0b8b6f022be><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e8c2134e5753457a8107a7db45e4f086><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bf3716e6475b4ba39b635ae164f68d31><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f856ae0d56a448739f1a6e1d378c8440><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9be7fd8e9753486db0269c70a2097a6a><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c3c395638b8343ecbd365b9838ab44c8><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>吕老师：</strong>但是我让你说出带“前”字的诗句，由于没有索引，你只能遍历脑海中所有诗词，当你的脑海中诗词量大的时候，就很难在短时间内得到结果了。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1ea8c2401394480da195806aef27fe0e><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/435a9631f2434ebf9445e3c0505fee17><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3140951f30344bcc9042e496b906dfb2><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/088ece5f92d74331bde8e29594a712dd><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9391c04b4ba64904ac898e3774e18cb4><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/defc3ddf8ac24803b110f5ce98c4f014><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><h1>索引量爆炸</h1><p class=ql-align-justify><br></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9fe6e5b915cc4b73a8f61aab6caf6b97><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/478fadcb6fa04e8598761ad4fc46dc1e><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/763cb82562d74371902ad041190fb471><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/380644d47067480a8582813ad850f9d0><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a602abe18ff8408792bc79851d9df00e><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8b074235c11c4a16a9109359bfdfa45f><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d320ed7c915f43e0b3e7264e8b774049><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/77e392f369a2450192e9c12f1044c4ed><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/48fcbce352a4449086ec9e251cc2176a><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9c6945cfe18a44409c9cc1bd2d2bc25e><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8a9ed4c36070478c8d37e7c73641bac2><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d6cedb6e386e4d14ad7be69f466803d4><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/35171538481f419b9f4ed4e426de2182><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5cc5a8b8d9e14df7ba6d0ccd4d9a42a2><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/24a2c9fb564740edbccef9a0769b7944><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5fc98ad6dc554aee9a6452888f5ee14b><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3155f05365124b6ab06dd9dff60dc8fa><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/18ce7e6af03942018a91cf550a29fe8c><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><h1>搜索引擎原理</h1><p class=ql-align-justify><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e5b686297dbe4992bd1a2990391a1f1d><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7666da37ca31411697c27d475ec16a3e><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/b356b8f5246b4858b140029cbc927f40><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/0f6a146a1d7b47da87fdb1726d088dc8><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e6eb769773d946f897e381bf395fe803><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/01d49b121d1e4d27b905d9a5f54c9096><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0bb2e2f2abe3424786e540b90d1ef189><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fd1f608c875c4c089e8ed0cbdfcfd239><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/5e6cbb33cff84b3bb5d68caa1aa5e84d><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ead0ed899fc74dcea707241f830e165b><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/dfe7070056bb4bbfb7806601c8e1022a><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/44a1e973f2454ad0bead6bd1e05a6c2b><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7534830d8f694377adca96a767c13fc3><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4e91ecdc321547d2b21f114195398c30><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ba5af65e4f9948aba04eb43b8bbdb107><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><h1>Elasticsearch 简介</h1><p class=ql-align-justify><br></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/53b0ee3492b247588e94e6b90c0efe4d><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/41e18731c55f470db14c146b6c5d1a85><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/a055e8d39a614e7185974b0d0d91a11c><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/98a635bd1603435989fde9b97b8dad9d><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/40d6ff6181ab4106bad27b0b057444e7><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>吕老师：</strong>但是 Lucene 还是一个库，必须要懂一点搜索引擎原理的人才能用的好，所以后来又有人基于 Lucene 进行封装，写出了 Elasticsearch。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/81c38cf8a5e74a0d83800c7c0e2de1f9><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a4bbf79d998542509f854c56aeb90c73><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0257003ac1cb420a8fbc393c368123ec><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/770f1f6b1646451480088d5a054a02be><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/530ddc2ae3e5484bb179be18f3771ac6><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/7280e7cb356e463da982487bda28ec27><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><h1>Elasticsearch 基本概念</h1><p class=ql-align-justify><br></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3cf7235dd7ed4934a5d836a4a7382742><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/dca42681182f4a968d50c4f417ce1df6><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/aba97750c0654f0eb28c72aa1b5de187><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/789a2819fc914ac8a68e5362bb44cbcb><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c4fab897a4df4576bdbc113bc1ef6b0d><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>吕老师：</strong>类型是用来定义数据结构的，你可以认为是 MySQL 中的一张表。文档就是最终的数据了，你可以认为一个文档就是一条记录。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/168319ab2fde45d5a2e4cfbfac59dddc><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/8acc81d0fd374ad78305bd74d096b936><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0b3693e7c9394e3aab4cfca0a471a4dc><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>吕老师：</strong>比如一首诗，有诗题、作者、朝代、字数、诗内容等字段，那么首先，我们可以建立一个名叫 Poems 的索引，然后创建一个名叫 Poem 的类型，类型是通过 Mapping 来定义每个字段的类型。</p><p class=ql-align-justify>比如诗题、作者、朝代都是 Keyword 类型，诗内容是 Text 类型，而字数是 Integer 类型，最后就是把数据组织成 Json 格式存放进去了。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/36f02779349a43cf83247301d627e1fe><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1dc00052acb24abc91a1f782f14da08e><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ce5522856e114c249254920476b60867><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>吕老师：</strong>这个问题问得好，这涉及到分词的问题，Keyword 类型是不会分词的，直接根据字符串内容建立反向索引，Text 类型在存入 Elasticsearch 的时候，会先分词，然后根据分词后的内容建立反向索引。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/db7791e2081c43e69cfa3dc4341ebdfa><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3c09167caebf4f0396fdf64930b036a6><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0ee99d27b495477eb674ece78d97d546><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>吕老师：</strong>之前我们说过，Elasticsearch 把操作都封装成了 HTTP 的 API，我们只要给 Elasticsearch 发送 HTTP 请求就行。</p><p class=ql-align-justify>比如使用 curl -XPUT 'http://ip:port/poems'，就能建立一个名为 Poems 的索引，其他操作也是类似的。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d238e2134e604a31ab11ca5782aee887><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><h1>Elasticsearch 分布式原理</h1><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/363e6162dfc045ef80fe2cbc1c558228><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/6354e738e4d8488c8e5b88ffc38b858d><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>吕老师：</strong>没错，Elasticsearch 也是会对数据进行切分，同时每一个分片会保存多个副本，其原因和 HDFS 是一样的，都是为了保证分布式环境下的高可用。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/22a392ba4c9d459aaead3eef39d36f6c><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a8364494692a4559a410a7bfcc43d904><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d60f11e3e88245b98697bf4942bc212f><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>吕老师：</strong>没错，在 Elasticsearch 中，节点是对等的，节点间会通过自己的一些规则选取集群的 Master，Master 会负责集群状态信息的改变，并同步给其他节点。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ab62d33a3bfe42adac20a2832c7b1029><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9f5bc68fdf084200bbbc943ef7893f82><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/52b993fa84fa4b8da6b82b9aa5505b63><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/55d9bf7923e24c0db768df632e4a3c61><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ac90245735a94a008c43719550d6d37b><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>吕老师：</strong>注意，只有建立索引和类型需要经过 Master，数据的写入有一个简单的 Routing 规则，可以 Route 到集群中的任意节点，所以数据写入压力是分散在整个集群的。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b7d8e65bfacb4cf5a1509ac7f9806eea><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><h1>ELK 系统</h1><p class=ql-align-justify><br></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/8bbd0387d3724f978c032a33ab516bef><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/92bba5a913cf4a0a973369a3783d730d><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>吕老师：</strong>其实很多公司都用 Elasticsearch 搭建 ELK 系统，也就是日志分析系统。其中 E 就是 Elasticsearch，L 是 Logstash，是一个日志收集系统，K 是 Kibana，是一个数据可视化平台。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7d20892d12f5409badd4f2cdf954dcfe><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/52adbe8ea6d6404c84fc5cb3d8d0d307><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c655e6a00ab342cc8cf02e02496726f3><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>吕老师：</strong>分析日志的用处可大了，你想，假如一个分布式系统有 1000 台机器，系统出现故障时，我要看下日志，还得一台一台登录上去查看，是不是非常麻烦？</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7aeed964ff124e6c9fc647534bb4b0e3><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/80bd9fd6b01348719d618ee14a2e8360><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>吕老师：</strong>但是如果日志接入了 ELK 系统就不一样。比如系统运行过程中，突然出现了异常，在日志中就能及时反馈，日志进入 ELK 系统中，我们直接在 Kibana 就能看到日志情况。如果再接入一些实时计算模块，还能做实时报警功能。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e46752e2c53a4e959982d440282f42cf><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/0579dc4db68e4d8ca632aa80574fa4a4><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=好文推荐：终于有人把Elasticsearch原理讲透了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e54fafc7d3f14d699009fe05a808e3c2><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><h1>总结</h1><p class=ql-align-justify>小史学完了 Elasticsearch，在笔记本上写下了如下记录：</p><ul><li class=ql-align-justify>反向索引又叫倒排索引，是根据文章内容中的关键字建立索引。</li><li class=ql-align-justify>搜索引擎原理就是建立反向索引。</li><li class=ql-align-justify>Elasticsearch 在 Lucene 的基础上进行封装，实现了分布式搜索引擎。</li><li class=ql-align-justify>Elasticsearch 中的索引、类型和文档的概念比较重要，类似于 MySQL 中的数据库、表和行。</li><li class=ql-align-justify>Elasticsearch 也是 Master-slave 架构，也实现了数据的分片和备份。</li><li class=ql-align-justify>Elasticsearch 一个典型应用就是 ELK 日志分析系统。</li></ul></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'好文','推荐','终于'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>