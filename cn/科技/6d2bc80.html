<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>漫画：如何给女朋友解释什么是适配器模式？ | 极客快訊</title><meta property="og:title" content="漫画：如何给女朋友解释什么是适配器模式？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/R9BJ20sGJjrXCg"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6d2bc80.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6d2bc80.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6d2bc80.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6d2bc80.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6d2bc80.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6d2bc80.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6d2bc80.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6d2bc80.html><meta property="article:published_time" content="2020-10-29T20:53:45+08:00"><meta property="article:modified_time" content="2020-10-29T20:53:45+08:00"><meta name=Keywords content><meta name=description content="漫画：如何给女朋友解释什么是适配器模式？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/6d2bc80.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>漫画：如何给女朋友解释什么是适配器模式？</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9BJ20sGJjrXCg><p>本文经授权转载自漫话编程（ID：mhcoding）</p><p>责编 | 伍杏玲</p><p>周末窝在家里面打王者荣耀，女朋友在旁边玩我的电脑，我嫌她播放的综艺节目声音比较大，于是建议她戴耳机。</p><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RVyhiKZEZgLBFM><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RVyhiKsDmdxER5><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RVyhiL86xfBEyf><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RVyhiLNuUIacf><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RVyhiLlDIC5gCT><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RVyhiXH2SAN643><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RC6F7x6B7dmJLm><p><strong>适配器模式</strong></p><p>Adapter Pattern，通常被翻译成适配器模式，有时候也叫做包装模式（Wrapper Pattern），是GOF 23种设计模式之一。主要作用是将一个类的接口转换成客户希望的另外一个接口。适配器模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。</p><blockquote><p>《Design Patterns: Elements of Reusable Object-Oriented Software》（《设计模式》），由 Erich Gamma、Richard Helm、Ralph Johnson 和 John Vlissides 合著（A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>ison-Wesley，<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-3">199</i>5）。这几位作者常被称为"Gang of Four），简称GOF。</p></blockquote><p>GOF中将适配器模式分为类适配器模式和对象适配器模式。</p><p><strong>对象适配器模式</strong></p><p>在这种适配器模式中，适配器容纳一个它包裹的类的实例。在这种情况下，适配器调用被包裹对象的物理实体。</p><p><strong>类适配器模式</strong></p><p>这种适配器模式下，适配器继承自已实现的类（一般多重继承）。</p><p>二者区别仅在于适配器角色对于被适配角色的适配是通过继承还是组合来实现的，由于Java中不支持多继承，而且类适配器模式有破坏封装之嫌，而且我们也提倡多用组合少用继承。所以本文主要介绍对象适配器。</p><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RVyhiXX8RuHW03><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RVyhiXqHD4oNAK><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RVyhiYB74qqnPn><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RC6F8263HibLH0><p><strong>适配器模式用途</strong></p><p>我们生活中经常需要用到插口转换器，比如现在很多手机都只有一个插口，这个口可以直接用来充电和听音乐。但是前提是我们使用的充电器和耳机的插口要和这个设备适配的。</p><p>目前市面上很多手机的插口都是Type-C或者Lightning型号：但是，我们常用的耳机型号却是2.5mm和3.5mm的圆形接口。</p><p>所以，当我们想要把自己的3.5mm圆形接口的耳机<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-4">插入</i>Lightning或者Type-C接口的时候，就需要一个转换器。</p><p>同理，在软件系统中，常常要将一些"现存的对象"放到新的环境中，而新环境要求的接口是现对象不能满足。如以下类似的场景：</p><p>1、系统需要使用现有的类，而此类的接口不符合系统的需要。</p><p>2、想要建立一个可以重复使用的类，用于与一些彼此之间没有太大关联的一些类，包括一些可能在将来引进的类一起工作，这些源类不一定有一致的接口。</p><p>3、通过接口转换，将一个类<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-4">插入</i>另一个类系中。（比如老虎和飞禽，现在多了一个飞虎，在不增加实体的需求下，增加一个适配器，在里面包容一个虎对象，实现飞的接口。）</p><p>适配器模式，就可以解决以上的问题。</p><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RVyhiYXAUENJ73><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RVyhijE4CdZ1Fj><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RVyhijT7stR9I2><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RVyhijo8cqY1ys><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RC6F82ZBQQOfLo><p><strong>适配器模式实现方式</strong></p><p>下面我们就使用适配器模式，模拟一种场景：使用一个安卓的type-c充电器给只支持 Lightning接口的苹果手机充电（假设可以完美支持）。</p><p>已知，我们有一个type-c充电器、一个Lightning插口的苹果手机。无论是Type-C还是Lightning，都是一种标准，在代码中，标准即接口。所以我们先定义两个接口：</p><pre><p>/**</p><p>* Lightning充电接口</p><p>*/</p><p>public interface LightningInterface {</p><p>public void chargeWithLightning;</p><p>}</p><p>/**</p><p>* TypeC充电接口</p><p>*/</p><p>public interface TypeCInterface {</p><p>public void chargeWithTypeC;</p><p>}</p></pre><p>接下来定义我们的苹果手机，他只支持使用 Lightning插口充电：</p><pre><pre><p>public class IphoneX {</p><p>private LightningInterface lightningInterface;</p><p>public IphoneX {</p><p>}</p><p>public IphoneX(LightningInterface lightningInterface) {</p><p>this.lightningInterface = lightningInterface;</p><p>}</p><p>public void charge {</p><p>System.out.println("开始给我的IphoneX手机充电...");</p><p>lightningInterface.chargeWithLightning;</p><p>System.out.println("结束给我的IphoneX手机充电...");</p><p>}</p><p>//setter/getter</p><p>}</p></pre></pre><p>然后再来看看我们的安卓充电器应该如何定义：</p><pre><pre><p>/**</p><p>* 安卓设备的充电器</p><p>*/</p><p>public class AndroidCharger implements TypeCInterface {</p><p>@Override</p><p>public void chargeWithTypeC {</p><p>System.out.println("使用Type-C型号的充电器充电...");</p><p>}</p><p>}</p></pre></pre><p>有了安卓充电器和苹果手机。接下来，我们就要定义一个适配器了，希望通过这个适配器，我们可以实现使用安卓设备的充电器给苹果手机充电：</p><pre><pre><p>public class Adapter implements LightningInterface {</p><p>private TypeCInterface typeCInterface;</p><p>public Adapter {</p><p>}</p><p>public Adapter(TypeCInterface typeCInterface) {</p><p>typeCInterface = typeCInterface;</p><p>}</p><p>@Override</p><p>public void chargeWithLightning {</p><p>typeCInterface.chargeWithTypeC;</p><p>}</p><p>//setter/getter</p><p>}</p></pre></pre><p>这个适配器实现了LightningInterface，并组合了TypeCInterface，当外部调用chargeWithLightning方法的时候，实际上调用的是typeCInterface.chargeWithTypeC方法。</p><p>就像电源适配器，他实现的是一个Lightning的规范，自身是一个Lightning的插头，但实际充电的时候，他是通过typc-c的电源进行的，他起到的是一个中间转换的作用。</p><p>接着我们定义客户端，实现我们想要的充电功能：</p><pre><p>public class Main {</p><p>public static void main(String[] args) {</p><p>Adapter adapter = new Adapter(new AndroidCharger);</p><p>IphoneX iphoneX = new IphoneX;</p><p>iphoneX.setLightningInterface(adapter);</p><p>iphoneX.charge;</p><p>}</p><p>}</p></pre><p>输出结果如下：</p><pre><pre><p>开始给我的IphoneX手机充电...</p><p>使用Type-C型号的充电器充电...</p><p>结束给我的IphoneX手机充电...</p></pre></pre><p>上面的例子通过适配器，我们使用一个安卓的Type-C充电器给一个只支持Lightning接口的苹果手机充电。</p><p>上面的代码，就是一个适配器模式的例子，这个例子中，共出现了四种角色：</p><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RVyhik875HKEkG><p>以上四个角色中，目标抽象类（Lightning接口）、适配者类（安卓充电器）、客户端（苹果手机）都是原来代码中就有的，我们完全不需要对他们进行修改。只需要引入一个适配器（接口转换器）即可。</p><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RVyhikM6dkjg2x><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RVyhivHH9H4vX9><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RVyhivdI9WzQsV><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RC6F8Ky5agOoen><p><strong>优缺点</strong></p><p><strong>优点</strong></p><p>适配器模式（对象适配器模式），是一种组合优于集成的思想的实现。通过使用适配器模式，我们可以最大程度的复用已有的了类和代码。他主要有以下有点：</p><ul><li><p>将目标类和适配者类解耦，通过引入一个适配器类来重用现有的适配者类，而无须修改原有代码。</p></li><li><p>增加了类的透明性和复用性，将具体的实现封装在适配者类中，对于客户端类来说是透明的，而且提高了适配者的复用性。</p></li><li><p>灵活性和扩展性都非常好，通过使用配置文件，可以很方便地更换适配器，也可以在不修改原有代码的基础上增加新的适配器类，完全符合“开闭原则”。</p></li></ul><p><strong>缺点</strong></p><p>当然，适配器模式并不是完美的，过度使用还是会带来一些问题的。缺点如下：</p><ul><li><p>过多地使用适配器，会让系统非常零乱，不易整体进行把握。比如，明明看到调用的是 A 接口，其实内部被适配成了 B 接口的实现，一个系统如果太多出现这种情况，无异于一场灾难。因此如果不是很有必要，可以不使用适配器，而是直接对系统进行重构。</p></li></ul><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RVyhivv4n4aIkK><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RVyhiwDAd4rYsO><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RC6F8LC63fiGu3><p><strong>使用场景</strong></p><p>关于适配器模式的使用场景，一般主要是当我们需要修改一些正在运行着的代码，并且希望可以复用原有代码实现新的功能的时候，就要考虑适配器模式。</p><p>在Spring框架中，就大量的使用了适配器模式，读者可以打开自己的IDE，尝试着以关键字"Adapter"全局搜索下，一定会有很多的实际应用。</p><p>当你遇到的问题，和你想用安卓充电器给苹果手机充电类似的时候，就一定要想到适配器模式哦！</p><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RVyhiwWdKLgoU><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RVyhj7eHwXYMlo><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RVyhj7wDZIWEKo><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RVyhj89CrTImud><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R69FpRH4d90a7d><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RVnBEGnAKRr12Q><pre><pre><pre><img alt=漫画：如何给女朋友解释什么是适配器模式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RD11h213NcpZ4Y></pre></pre></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'漫画','解释','什么'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>