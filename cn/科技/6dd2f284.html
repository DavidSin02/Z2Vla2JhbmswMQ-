<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>é¢å‘è®¾è®¡ç¼–ç¨‹ | æå®¢å¿«è¨Š</title><meta property="og:title" content="é¢å‘è®¾è®¡ç¼–ç¨‹ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/06312b2d5f874bb380d18771109fc7ee"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6dd2f284.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6dd2f284.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6dd2f284.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6dd2f284.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6dd2f284.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6dd2f284.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6dd2f284.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6dd2f284.html><meta property="article:published_time" content="2020-10-29T21:10:38+08:00"><meta property="article:modified_time" content="2020-10-29T21:10:38+08:00"><meta name=Keywords content><meta name=description content="é¢å‘è®¾è®¡ç¼–ç¨‹"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/6dd2f284.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>é¢å‘è®¾è®¡ç¼–ç¨‹</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>åœ¨<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6682238250024698376/?group_id=6682238250024698376" target=_blank>é¢†åŸŸè®¾è®¡ï¼šèšåˆä¸èšåˆæ ¹</a>ä¸€æ–‡ä¸­ï¼Œæåˆ°äº†ä¸¤ä¸ªå¯¼è‡´è®¾è®¡ä¸ä»£ç è„±èŠ‚çš„æƒ…å†µï¼š</p><ul><li><strong>ä»£ç æœªåæ˜ å‡ºè½¯ä»¶æ¶æ„</strong>ï¼šæ¶æ„å›¾è¯´çš„æ˜¯ä¸€å›äº‹ï¼Œä»£ç è¯´çš„å´æ˜¯å¦å¤–ä¸€å›äº‹</li><li><strong>è®¾è®¡çš„è¡¨ç°åŠ›ä¸è¶³</strong>ï¼šè®¾è®¡æ²¡æœ‰ä½“ç°å‡ºæŸäº›çº¦æŸï¼Œéœ€è¦é˜…è¯»ä»£ç å®ç°æ‰èƒ½æ¸…æ¥šå…·ä½“çš„å†…å®¹</li></ul><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6682238250024698376/?group_id=6682238250024698376" target=_blank>é¢†åŸŸè®¾è®¡ï¼šèšåˆä¸èšåˆæ ¹</a>é€šè¿‡æ·˜å®è´­ç‰©çš„ä¾‹å­è¯´æ˜äº†ã€Œè®¾è®¡çš„è¡¨ç°åŠ›ä¸è¶³ã€çš„é—®é¢˜ã€‚æœ¬æ–‡å°†é€šè¿‡ã€Šæ•æ·è½¯ä»¶å¼€å‘ï¼šåŸåˆ™ã€æ¨¡å¼ä¸å®è·µã€‹ä¸­ä¿é¾„çƒè®¡åˆ†è½¯ä»¶çš„ä¾‹å­æ¥è¯´æ˜ã€Œä»£ç æœªåæ˜ å‡ºè½¯ä»¶æ¶æ„ã€çš„é—®é¢˜ã€‚</p><h1>ä¿é¾„çƒè®°åˆ†è§„åˆ™</h1><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£éœ€æ±‚ï¼Œè¿™é‡Œå°±æ˜¯ã€Œä¿é¾„çƒçš„è®°åˆ†è§„åˆ™ã€ï¼š</p><ul><li>ä¿é¾„çƒä¸€å±€æ¯”èµ›ç”±10è½®ç»„æˆï¼Œåœ¨æ¯è½®æ¯”èµ›ä¸­ï¼Œå‚èµ›è€…å¯ä»¥æŠ•æ·ä¸¤æ¬¡æ¥å°è¯•å‡»å€’æ‰€æœ‰çš„ç“¶å­ã€‚</li><li>å¦‚æœå‚èµ›è€…ä¸€æ¬¡å³å‡»å€’æ‰€æœ‰çš„ç“¶å­ï¼Œåˆ™ç§°ä¸ºã€Œå…¨ä¸­ã€ï¼Œå¹¶ä¸”æœ¬è½®ç»“æŸã€‚</li><li>å¦‚æœå‚èµ›è€…ç¬¬ä¸€æ¬¡æ²¡æœ‰å‡»å€’æ‰€æœ‰çš„ç“¶å­ï¼Œç¬¬äºŒæ¬¡å‡»å€’äº†æ‰€æœ‰çš„ç“¶å­ï¼Œåˆ™ç§°ä¸ºã€Œè¡¥ä¸­ã€ã€‚</li><li>å¦‚æœä¸€è½®æ¯”èµ›ä¸­ï¼Œä¸¤æ¬¡æŠ•æ·éƒ½æ²¡æœ‰å‡»å€’æ‰€æœ‰çš„ç“¶å­ï¼Œæœ¬è½®ä¹Ÿå®£å‘Šç»“æŸã€‚</li><li><strong>å…¨ä¸­è½®è®°åˆ†è§„åˆ™</strong>ï¼šæœ¬è½®å‡»å€’å¾—åˆ°çš„10åˆ†ï¼ŒåŠ ä¸Šæ¥ä¸‹æ¥çš„ä¸¤æ¬¡æŠ•æ·å‡»å€’çš„ç“¶å­æ•°é‡ï¼Œå†åŠ ä¸Šå‰ä¸€è½®çš„åˆ†æ•°</li><li><strong>è¡¥ä¸­è½®è®°åˆ†è§„åˆ™</strong>ï¼šæœ¬è½®å‡»å€’å¾—åˆ°çš„10åˆ†ï¼ŒåŠ ä¸Šæ¥ä¸‹æ¥çš„ä¸€æ¬¡æŠ•æ·å‡»å€’çš„ç“¶å­æ•°é‡ï¼Œå†åŠ ä¸Šå‰ä¸€è½®çš„åˆ†æ•°</li><li><strong>å…¶å®ƒè½®è®°åˆ†è§„åˆ™</strong>ï¼šæœ¬è½®ä¸¤æ¬¡å‡»å€’çš„ç“¶å­æ•°é‡ï¼Œå†åŠ ä¸Šå‰ä¸€è½®çš„åˆ†æ•°</li><li>å¦‚æœç¬¬åè½®ä¸ºå…¨ä¸­ï¼Œé‚£ä¹ˆå‚èµ›è€…å¯ä»¥å¤šæŠ•ä¸¤æ¬¡ï¼Œä»¥å®Œæˆå¯¹å…¨ä¸­çš„è®°åˆ†</li><li>ç›¸åº”çš„ï¼Œå¦‚æœç¬¬åè½®ä¸ºè¡¥ä¸­ï¼Œé‚£ä¹ˆå‚èµ›è€…å¯ä»¥å¤šæŠ•ä¸€æ¬¡ï¼Œä»¥å®Œæˆå¯¹è¡¥ä¸­çš„è®°åˆ†ã€‚</li></ul><h1>åˆæ­¥è®¾è®¡</h1><p>ä»ä¸Šé¢çš„è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°åˆæ­¥çš„è®¾è®¡ï¼š</p><ul><li>ä¸€å±€æ¯”èµ›(Game)æœ‰10è½®(Frame)</li><li>æ¯è½®(Frame)æœ‰ä¸€åˆ°ä¸‰æ¬¡æŠ•æ·(Throw)</li><li class=ql-indent-1>å…¨ä¸­åˆ™æ˜¯ä¸€æ¬¡æŠ•æ·</li><li class=ql-indent-1>å…¶å®ƒä¸ºä¸¤æ¬¡æŠ•æ·</li><li class=ql-indent-1>æœ€åä¸€è½®å¦‚æœå…¨ä¸­æˆ–è¡¥ä¸­ï¼Œåˆ™æ˜¯ä¸‰æ¬¡æŠ•æ·</li><li class=ql-indent-1>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¸¸æˆæœ€å¤šå¯ä»¥æŠ•23æ¬¡</li><li>æ¯è½®çš„è®°åˆ†è§„åˆ™å¦‚ä¸‹ï¼š</li><li class=ql-indent-1>å…¨ä¸­è½®ï¼šæœ¬è½®10åˆ†+åä¸¤æ¬¡æŠ•æ·å¾—åˆ†+å‰ä¸€è½®å¾—åˆ†</li><li class=ql-indent-1>è¡¥ä¸­è½®ï¼šæœ¬è½®10åˆ†+åä¸€æ¬¡æŠ•æ·å¾—åˆ†+å‰ä¸€è½®å¾—åˆ†</li><li class=ql-indent-1>å…¶å®ƒè½®ï¼šæœ¬è½®ä¸¤æ¬¡æŠ•æ·å¾—åˆ†ç»¼åˆ+å‰ä¸€è½®å¾—åˆ†</li><li class=ql-indent-1>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¸¸æˆå¾—åˆ†å³å½“å‰è½®çš„å¾—åˆ†</li></ul><p>å¯¹è±¡åˆæ­¥å…³ç³»å¦‚ä¸‹ï¼š</p><div class=pgc-img><img alt=é¢å‘è®¾è®¡ç¼–ç¨‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/06312b2d5f874bb380d18771109fc7ee><p class=pgc-img-caption></p></div><h1>ã€Šæ•æ·ã€‹ä¸­çš„ä»£ç </h1><p>ã€Šæ•æ·ã€‹èŠ±äº†ä¸€ç« çš„å†…å®¹æ¥è®¨è®ºè¿™ä¸ªè½¯ä»¶çš„å¼€å‘è¿‡ç¨‹ã€‚åˆæ­¥è®¾è®¡å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç„¶åé€šè¿‡ç»“å¯¹ç¼–ç¨‹+TDDçš„æ–¹å¼ä¸€æ­¥æ­¥çš„è¿›è¡Œä»£ç æ¼”è¿›ï¼ˆå…·ä½“æ¨å¯¼è¿‡ç¨‹è¯·é˜…è¯»ã€Šæ•æ·ã€‹ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼‰ï¼Œæœ€ç»ˆå¾—åˆ°çš„å¦‚ä¸‹ä»£ç ï¼š</p><pre>public class Game { private int itsCurrentFrame = 0; private boolean firstThrowInFrame = true; private Scorer itsScorer = new Scorer(); public int score() { return scoreForFrame(itsCurrentFrame); } public void add(int pins) { itsScorer.addThrow(pins); adjustCurrentFrame(pins); } public int scoreForFrame(int theFrame) { return itsScorer.scoreForFrame(theFrame); } private void adjustCurrentFrame(int pins) { if (lastBallInFrame(pins)) { advanceFrame(); } else { firstThrowInFrame = false; } } private boolean lastBallInFrame(int pins) { return strike(pins) || !firstThrowInFrame; } private boolean strike(int pins) { return (firstThrowInFrame &amp;&amp; pins == 10); } private void advanceFrame() { itsCurrentFrame = Math.min(10, itsCurrentFrame + 1); }}public class Scorer { private int ball; private int[] itsThrows = new int[21]; private int itsCurrentThrow = 0; public void addThrow(int pins) { itsThrows[itsCurrentThrow++] = pins; } public int scoreForFrame(int theFrame) { ball = 0; int score = 0; for (int currentFrame = 0; currentFrame &lt; theFrame; currentFrame++) { if (strike()) { score += 10 + nextTwoBallsForStrike(); ball++; } else if (spare()) { score += 10 + nextBallForSpare(); ball += 2; } else { score += twoBallsInFrame(); ball += 2; } } return score; } private int twoBallsInFrame() { return itsThrows[ball] + itsThrows[ball + 1]; } private int nextBallForSpare() { return itsThrows[ball + 2]; } private int nextTwoBallsForStrike() { return itsThrows[ball + 1] + itsThrows[ball + 2]; } private boolean spare() { return (itsThrows[ball] + itsThrows[ball + 1]) == 10; } private boolean strike() { return itsThrows[ball] == 10; }}</pre><ul><li>ä¸€ä¸ªGameç±»è¡¨ç¤ºæ¸¸æˆæœ¬èº«</li><li>ä¸€ä¸ªScorerç±»ç”¨äºè®¡ç®—Gameçš„å¾—åˆ†</li><li>åˆå§‹è®¾è®¡ä¸­çš„Frameå’ŒThrowéƒ½éšè—åˆ°äº†ä»£ç ä¸­</li></ul><p>ä»ä»£ç æœ¬èº«æ¥çœ‹ï¼Œå®ç°è¶³å¤Ÿç®€å•ï¼Œå˜é‡åã€æ–¹æ³•åå–å¾—éƒ½æœ‰æ„ä¹‰ï¼Œç¬¦åˆå¼€å‘åŸåˆ™ï¼Œæœ‰å®Œæ•´çš„å•å…ƒæµ‹è¯•ã€‚ä½†æ˜¯ï¼Œ<strong>ä»£ç ç»“æ„æ²¡æœ‰ä½“ç°å‡ºä¸šåŠ¡é€»è¾‘</strong>ã€‚</p><p>ä¸Šé¢çš„ä»£ç ç»“æ„å¦‚ä¸‹ï¼š</p><div class=pgc-img><img alt=é¢å‘è®¾è®¡ç¼–ç¨‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6086da09c6e94d99afbf7ac38b0ca24b><p class=pgc-img-caption></p></div><p>ä»è¿™ä¸ªç±»å…³ç³»å›¾ä¸­ï¼Œåªèƒ½çœ‹å‡ºæ¥æœ‰ä¸€ä¸ªæ¸¸æˆï¼ˆGameï¼‰å’Œè¿™ä¸ªæ¸¸æˆçš„å¾—åˆ†ï¼ˆScorerï¼‰ï¼è¿™æ˜¯ä»ç¼–ç¨‹çš„è§’åº¦ä¸€æ­¥æ­¥æ¨å¯¼å‡ºæ¥çš„ä»£ç ï¼Œåœ¨æ¨å¯¼çš„è¿‡ç¨‹ä¸­å¯èƒ½æ˜¯ç†æ‰€å½“ç„¶çš„ï¼Œä½†æ˜¯è¿‡äº†ä¸€æ®µæ—¶é—´åï¼Œä½ å†æ¥çœ‹è¿™æ®µä»£ç çš„æ—¶å€™ï¼Œå¯èƒ½å°±ä¸è®°å¾—è¿™æ®µä»£ç æ˜¯å¹²å˜›çš„äº†ï¼</p><p>å¦ä¸€æ–¹é¢ï¼Œå½“åˆ«äººæ¥æ¥æ‰‹è¿™æ®µä»£ç æ—¶ï¼Œä½ æ˜¯å¦æ˜¯å…ˆå‘Šè¯‰ä»–ä¸šåŠ¡é€»è¾‘ï¼Œç„¶åè®©ä»–çœ‹ä»£ç ï¼Ÿä½†æ˜¯å› ä¸ºä»£ç ç»“æ„ä¸è®¾è®¡çš„è„±ç¦»ï¼Œå¯¼è‡´äº†è™½ç„¶å·²ç»ç†è§£äº†ä¸šåŠ¡é€»è¾‘ã€ä»£ç ç»“æ„ä¹Ÿå¾ˆæ¸…æ™°ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦è¯»äº†æºç æ‰èƒ½æ¸…æ¥šè¿™æ®µä»£ç å…·ä½“æ˜¯å¹²å˜›çš„ï¼è¿™æ˜¯å¦æ˜¯å¢åŠ äº†ç†è§£çš„éš¾åº¦ï¼Ÿ</p><p>åŸå› å°±æ˜¯è¿™ä¸ªç»“æ„å…³ç³»<strong>æ²¡æœ‰ä½“ç°å‡ºä¸šåŠ¡é€»è¾‘</strong>ï¼ç†æƒ³æƒ…å†µåº”è¯¥æ˜¯åœ¨å¼€å‘äººå‘˜<strong>ç†è§£ä¸šåŠ¡ä»¥åï¼Œä»ä»£ç ç»“æ„å°±å¯ä»¥ç†è§£å…·ä½“çš„å®ç°</strong>ï¼</p><h1>ä»ä¸šåŠ¡æ¨å¯¼</h1><p>åœ¨ä¿é¾„çƒè®°åˆ†é€»è¾‘ä¸­ï¼Œæ˜¯æœ‰è½®ï¼ˆFrameï¼‰å’ŒæŠ•æ·ï¼ˆThrowï¼‰è¿™ä¸¤ä¸ªæ¦‚å¿µçš„ï¼Œæ‰€ä»¥åœ¨ä»£ç ä¸­éœ€è¦ä¿ç•™è¿™ä¸¤ä¸ªç±»ï¼</p><pre>public class Frame {}public class Throw {}</pre><p>ä¸€å±€æ¸¸æˆæœ‰åè½®ï¼Œæ‰€ä»¥åœ¨åˆ›å»ºGameæ—¶å°±åˆå§‹åŒ–åä¸ªFrameã€‚åŒæ—¶ï¼Œå½“å‰Frameçš„è®¡ç®—ï¼Œéœ€è¦å‰ä¸€ä¸ªFrameçš„å¾—åˆ†ï¼Œæ‰€ä»¥é™¤äº†ç¬¬ä¸€ä¸ªFrameï¼Œå…¶å®ƒFrameéƒ½æŒæœ‰å‰ä¸€ä¸ªFrameçš„å¼•ç”¨ï¼ŒåŒæ—¶æ¯ä¸ªFrameéƒ½çŸ¥é“è‡ªå·±æ˜¯ç¬¬å‡ å±€ï¼ˆroundNumï¼‰ï¼</p><pre>public class Game { private static final int MAX_ROUND = 10;// ä¸€å±€æœ‰åè½® private Frame[] frameList = new Frame[MAX_ROUND]; public Game() { for (int i = 0; i &lt; MAX_ROUND; i++) { frameList[i] = new Frame(i); if (i &gt; 0) { frameList[i].setPreFrame(frameList[i - 1]); } } }}public class Frame { private int roundNum; // æ‰€åœ¨å±€ï¼Œä»0å¼€å§‹ private Frame preFrame; public Frame(int roundNum) { this.roundNum = roundNum; }  public void setPreFrame(Frame preFrame) { this.preFrame = preFrame; }}</pre><p>æ¯ä¸€æ¬¡æŠ•æ·éƒ½ä¼šæœ‰å‡»å€’æ•°é‡ï¼Œæ‰€ä»¥Throwä¸­éœ€è¦æœ‰å­—æ®µè¡¨ç¤ºå‡»å€’æ•°é‡ï¼ŒåŒæ—¶å› ä¸ºä¸€æ¬¡æŠ•æ·åï¼Œæ•°é‡æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼Œæ‰€ä»¥æ•°é‡ç”±æ„é€ å‡½æ•°ä¼ å…¥ï¼Œåªæœ‰getæ–¹æ³•è€Œæ²¡æœ‰setæ–¹æ³•ï¼š</p><pre>public class Throw { private int num; // å‡»å€’æ•°é‡ public Throw(int num) { this.num = num; } public int getNum() { return num; }}</pre><p>Frameå¯ä»¥åŒ…æ‹¬1åˆ°3æ¬¡Throwï¼Œè€ŒæŒ‰ç…§å…¨ä¸­ã€è¡¥ä¸­ã€å…¶å®ƒå‡»ä¸­çš„ä¸åŒï¼Œè®°åˆ†æ–¹å¼ä¹Ÿæœ‰æ‰€ä¸åŒã€‚å¦‚æœå®Œå…¨æŒ‰ç…§è¿™ä¸ªé€»è¾‘ç¼–å†™ï¼Œä»£ç ä¼šç›¸å¯¹å¤æ‚ã€‚å› ä¸ºéœ€è¦æ ¹æ®å‡»å€’æ–¹å¼çš„ä¸åŒï¼Œåˆ¤æ–­æ˜¯å¦è¦è·å–åä¸¤æ¬¡çš„æŠ•æ·ã€‚æˆ‘ä»¬æ˜¯å¦å¯ä»¥åšä¸€äº›è°ƒæ•´ï¼Ÿæˆ‘ä»¬å®é™…ä¸Šæ˜¯è¦è®¡ç®—æŠ•æ·çš„å¾—åˆ†ï¼Œé‚£ä¹ˆè¿™ä¸ªæŠ•æ·å±äºå“ªä¸€è½®ï¼Œæ˜¯ä¸æ˜¯å°±ä¸æ˜¯é‚£ä¹ˆé‡è¦äº†ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠ•æ·å’Œè®°åˆ†è§„åˆ™å¯ä»¥è°ƒæ•´ä¸ºä¸‹é¢è¿™æ ·ï¼š</p><ul><li>æ¯è½®(Frame)æœ‰ä¸€åˆ°ä¸‰æ¬¡æŠ•æ·(Throw)</li><li class=ql-indent-1>å…¨ä¸­ä¸ºä¸€æ¬¡å½“å‰è½®æŠ•æ·+åä¸¤æ¬¡æŠ•æ·</li><li class=ql-indent-1>è¡¥ä¸­ä¸ºä¸¤æ¬¡å½“å‰è½®æŠ•æ·+åä¸€æ¬¡æŠ•æ·</li><li class=ql-indent-1>å…¶å®ƒä¸ºä¸¤æ¬¡æŠ•æ·</li><li class=ql-indent-1>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¸¸æˆæœ€å¤šå¯ä»¥æŠ•23æ¬¡</li><li>æ¯è½®çš„è®°åˆ†ï¼Œä¸º<strong>å½“å‰FrameæŠ•æ·çš„å¾—åˆ†çš„æ€»å’Œ+å‰ä¸€è½®çš„å¾—åˆ†</strong></li></ul><p>ç°åœ¨Frameåˆ†æ•°çš„è®¡ç®—å°±ç»Ÿä¸€äº†ï¼</p><pre>public class Frame { private List&lt;Throw&gt; throwList = new ArrayList&lt;&gt;(); public int score() { int throwScore = throwList.stream().mapToInt(it -&gt; it.getNum()).sum(); if (preFrame != null) { throwScore += preFrame.score(); } return throwScore; }}</pre><p>æœ€åï¼Œå°±æ˜¯æ€ä¹ˆå°†ä¸€ä¸ªThrowæ·»åŠ åˆ°Frameä¸­ï¼ŒæŒ‰ç…§ä¸Šé¢çš„è®¾è®¡è°ƒæ•´ï¼Œä¸€æ¬¡Throwå¯èƒ½æ—¢å±äºå½“å‰è½®ï¼Œä¹Ÿå±äºä¸Šä¸€è½®ç”šè‡³ä¸Šä¸Šè½®ï¼æ€ä»¬æ ·æ¥åˆ¤æ–­å‘¢ï¼Ÿæ ¹æ®Frameæ˜¯å…¨ä¸­ã€è¿˜æ˜¯è¡¥ä¸­è¿˜æ˜¯å…¶å®ƒæ¥åˆ¤å®šï¼Œæ‰€ä»¥Frameä¸­éœ€è¦æœ‰æ–¹æ³•æ¥åˆ¤å®šè‡ªèº«æ˜¯å…¨ä¸­ã€è¡¥ä¸­è¿˜æ˜¯å…¶å®ƒï¼</p><pre>public class Frame { private boolean isSpare() { // æ˜¯å¦æ˜¯è¡¥ä¸­ return throwList.size() &gt;= 2 &amp;&amp; throwList.get(0).getNum() &lt; 10 &amp;&amp; (throwList.get(0).getNum() + throwList.get(1).getNum() == 10); } private boolean isStrike() { // æ˜¯å¦æ˜¯å…¨ä¸­ return throwList.size() &gt;= 1 &amp;&amp; throwList.get(0).getNum() == 10; }}</pre><p>ä¸€æ¬¡Throwæ·»åŠ åˆ°Frameåï¼Œè¿˜è¦åˆ¤æ–­è¿™ä¸ªFrameæ˜¯å¦å·²ç»ç»“æŸï¼Œå³ï¼š</p><ul><li>å¦‚æœè¿™ä¸ªFrameæ˜¯å…¨ä¸­æˆ–è¡¥ä¸­ï¼Œæ˜¯å¦å·²ç»åŒ…å«äº†ä¸‰æ¬¡æŠ•æ·</li><li>å¦‚æœè¿™ä¸ªFrameä¸ºæ™®é€šå‡»å€’ï¼Œæ˜¯å¦å·²ç»åŒ…å«äº†ä¸¤æ¬¡æŠ•æ·</li></ul><pre>public class Frame {  public boolean isFinish() { if (throwList.size() == 3) return true; if (throwList.size() == 2 &amp;&amp; !isStrike() &amp;&amp; !isSpare()) { return true; } return false; } }</pre><p>åŒæ—¶è¿˜è¦åˆ¤æ–­ï¼Œæ˜¯å¦è¿›å…¥ä¸‹ä¸€è½®ï¼š</p><pre>public class Frame {  public int add(Throw aThrow) { this.throwList.add(aThrow); if (isStrike() || isSpare() || isFinish()) return Math.min(9, roundNum + 1); return roundNum; } }</pre><p>Gameå°±æ˜¯å°†Throwæ·»åŠ åˆ°å½“å‰è½®å’Œä¸Šä¸€è½®åŠä¸Šä¸Šè½®çš„é€»è¾‘ï¼š</p><pre>public class Game { public void add(int pins) { Throw aThrow = new Throw(pins); add2PreFrame(aThrow);// æ ¹æ®é€»è¾‘åˆ¤å®šæ˜¯å¦è¦æ·»åŠ åˆ°ä¸Šä¸€è½®ï¼Œæˆ–ä¸Šä¸Šè½® currentFrameIdx = frameList[currentFrameIdx].add(aThrow); // æ·»åŠ å½“å‰è½®åï¼Œæ˜¯å¦è¿›å…¥ä¸‹ä¸€è½® } private void add2PreFrame(Throw aThrow) { if (currentFrameIdx - 1 &gt;= 0 &amp;&amp; !frameList[currentFrameIdx - 1].isFinish()) { frameList[currentFrameIdx - 1].add(aThrow); } if (currentFrameIdx - 2 &gt;= 0 &amp;&amp; !frameList[currentFrameIdx - 2].isFinish()) { frameList[currentFrameIdx - 2].add(aThrow); } }}</pre><p><strong>è°ƒæ•´åçš„è®¾è®¡å¦‚ä¸‹</strong>ï¼š</p><ul><li>ä¸€å±€æ¯”èµ›(Game)æœ‰10è½®(Frame)</li><li>ä¸€æ¬¡æŠ•æ·(Throw)å¾—åˆ†å¯èƒ½å±äºä¸€åˆ°ä¸‰è½®(Frame)</li><li class=ql-indent-1>å±äºå½“å‰è½®</li><li class=ql-indent-1>å¦‚æœå‰ä¸€è½®æ˜¯å…¨ä¸­æˆ–è¡¥ä¸­ï¼Œåˆ™æ­¤æ¬¡æŠ•æ·ä¹Ÿå±äºå‰ä¸€è½®</li><li class=ql-indent-1>å¦‚æœä¸Šä¸Šè½®å±äºå…¨ä¸­ï¼Œåˆ™æ­¤æ¬¡æŠ•æ·ä¹Ÿå±äºä¸Šä¸Šè½®</li><li class=ql-indent-1>æ¸¸æˆæœ€å¤šå¯ä»¥æŠ•æ·23æ¬¡</li><li>æ¯è½®çš„è®°åˆ†ï¼Œä¸º<strong>å½“å‰FrameæŠ•æ·çš„å¾—åˆ†çš„æ€»å’Œ+å‰ä¸€è½®çš„å¾—åˆ†</strong></li></ul><p>å¯¹åº”çš„ç±»ç»“æ„å¦‚ä¸‹ï¼š</p><div class=pgc-img><img alt=é¢å‘è®¾è®¡ç¼–ç¨‹ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/5f4569635a814ec588281e49f8257bda><p class=pgc-img-caption></p></div><p>æ­¤ç»“æ„ä¸è®¾è®¡ç›¸ç¬¦å’Œï¼Œåªè¦ç†è§£äº†ä¸šåŠ¡é€»è¾‘ï¼Œé¡ºç€ä¸šåŠ¡å°±å¯ä»¥æ¢³ç†å‡ºä»£ç ç»“æ„ï¼Œå³ä½¿ä¸çœ‹æºç ï¼Œä¹Ÿèƒ½çŒœåˆ°ä»£ç çš„é€»è¾‘ï¼</p><p>ã€Šæ•æ·ã€‹ä¸­æœ‰æ•ˆä»£ç è¡Œæ•°ä¸º71è¡Œï¼Œä¸Šé¢çš„æœ‰æ•ˆä»£ç ä¸º79è¡Œï¼Œå¤šäº†8è¡Œä»£ç ï¼ä½†æ˜¯ä»ç†è§£ä¸Šæ¥çœ‹çš„è¯ï¼Œåè€…æ›´æ˜“äºç†è§£ï¼å®Œæ•´ä»£ç è§ä¸‹æ–‡ã€‚</p><h1>å®Œæ•´ä»£ç </h1><pre>public class Game { private static final int MAX_ROUND = 10;// ä¸€å±€æœ‰åè½® private Frame[] frameList = new Frame[MAX_ROUND]; private int currentFrameIdx = 0; public Game() { for (int i = 0; i &lt; MAX_ROUND; i++) { frameList[i] = new Frame(i); if (i &gt; 0) { frameList[i].setPreFrame(frameList[i - 1]); } } } public int score() { return frameList[currentFrameIdx].score(); } public void add(int pins) { Throw aThrow = new Throw(pins); add2PreFrame(aThrow); currentFrameIdx = frameList[currentFrameIdx].add(aThrow); } private void add2PreFrame(Throw aThrow) { if (currentFrameIdx - 1 &gt;= 0 &amp;&amp; !frameList[currentFrameIdx - 1].isFinish()) { frameList[currentFrameIdx - 1].add(aThrow); } if (currentFrameIdx - 2 &gt;= 0 &amp;&amp; !frameList[currentFrameIdx - 2].isFinish()) { frameList[currentFrameIdx - 2].add(aThrow); } } public int scoreForFrame(int theFrame) { return frameList[theFrame - 1].score(); }}public class Frame { private int roundNum; // æ‰€åœ¨å±€,ä»0å¼€å§‹ private Frame preFrame; private List&lt;Throw&gt; throwList = new ArrayList&lt;&gt;(); public Frame(int roundNum) { this.roundNum = roundNum; } public int score() { int throwScore = throwList.stream().mapToInt(it -&gt; it.getNum()).sum(); if (preFrame != null) { throwScore += preFrame.score(); } return throwScore; } public int add(Throw aThrow) { this.throwList.add(aThrow); if (isStrike() || isSpare() || isFinish()) return Math.min(9, roundNum + 1); return roundNum; } public boolean isFinish() { if (throwList.size() == 3) return true; if (throwList.size() == 2 &amp;&amp; !isStrike() &amp;&amp; !isSpare()) { return true; } return false; } private boolean isSpare() { return throwList.size() &gt;= 2 &amp;&amp; throwList.get(0).getNum() &lt; 10 &amp;&amp; (throwList.get(0).getNum() + throwList.get(1).getNum() == 10); } private boolean isStrike() { return throwList.size() &gt;= 1 &amp;&amp; throwList.get(0).getNum() == 10; } public void setPreFrame(Frame preFrame) { this.preFrame = preFrame; }}public class Throw { private int num; // å‡»å€’æ•°é‡ public Throw(int num) { this.num = num; } public int getNum() { return num; }}</pre><h1>æ€»ç»“</h1><p>æœ¬æ–‡é€šè¿‡ã€Šæ•æ·ã€‹ä¸­ä¿é¾„çƒçš„ä¾‹å­ï¼Œæ¥<strong>è¯´æ˜äº†ä»£ç ä¸èƒ½ä½“ç°è®¾è®¡çš„åŸå› åŠæå‡ºä¸€ç§ä¿è¯ä»£ç å’Œè®¾è®¡ç›¸ä¸€è‡´çš„æ–¹æ³•</strong>ã€‚</p><p>è®¾è®¡æœ¬èº«å°±æ˜¯ä¸€ç§å–èˆï¼Œæ²¡æœ‰å®Œå…¨æ­£ç¡®çš„æ–¹æ³•ï¼Œåªæœ‰é€‚åˆçš„æ–¹æ³•ã€‚ä»ä»£ç æœ¬èº«å‡ºå‘ï¼Œèƒ½å¤Ÿæ„å»ºå‡ºç¬¦åˆç¼–ç åŸåˆ™çš„ä»£ç ï¼Œä½†æ˜¯å¯èƒ½å’Œè®¾è®¡æœ¬èº«æœ‰å‡ºå…¥ï¼Œè¿™å¯èƒ½ä¼šå¢åŠ åç»­çš„ç†è§£éš¾åº¦ï¼Œå˜ç›¸å¢åŠ äº†ä¿®æ”¹ä»£ç çš„éš¾åº¦ï¼›åä¹‹ä»è®¾è®¡è§¦å‘ï¼Œèƒ½æ„å»ºå‡ºå’Œè®¾è®¡ç›¸åŒ¹é…çš„ä»£ç ï¼Œä½†æ˜¯å¯èƒ½ä»£ç æœ¬èº«çš„æ˜“è¯»æ€§ã€ä»£ç é‡ã€ç¬¦åˆç¼–ç åŸåˆ™ä¸Šä¼šæœ‰æ‰€å¦¥åã€‚</p><p>ä¸ªäººè®¤ä¸ºï¼Œ<strong>å¯¹äºä¸šåŠ¡é€»è¾‘ä¸å¤æ‚ï¼Œä½†æ˜¯è®¡ç®—é€»è¾‘å¾ˆå¤æ‚çš„ä»£ç ï¼Œä»¥æŒ‰ç…§ä»£ç åŸåˆ™æ¥ç¼–å†™ä»£ç ä¸ºä¸»ï¼Œä»¥æŒ‰ç…§ä¸šåŠ¡é€»è¾‘ç¼–å†™ä»£ç é€»è¾‘ä¸ºè¾…ï¼Œä»¥ä¿è¯ä»£ç çš„ç®€æ´æ˜äº†ï¼›è€Œå¯¹äºä¸šåŠ¡é€»è¾‘å¤æ‚ï¼Œä½†æ˜¯è®¡ç®—é€»è¾‘ä¸å¤æ‚çš„ä»£ç ï¼Œä»¥æŒ‰ç…§ä¸šåŠ¡é€»è¾‘ç¼–å†™ä»£ç ä¸ºä¸»ï¼Œä»¥æŒ‰ç…§ä»£ç åŸåˆ™ç¼–å†™ä»£ç ä¸ºè¾…ï¼Œä»¥ä¿è¯ä»£ç ç»“æ„ä¸ä¸šåŠ¡é€»è¾‘çš„ç›´è§‚åŒ¹é…</strong>ã€‚</p><p>ä»¥ä¸Šå†…å®¹ä»…ä¸ºä¸ªäººè§‚ç‚¹ï¼Œæ¬¢è¿æ¢è®¨ï¼</p><h1>å‚è€ƒèµ„æ–™</h1><ul><li>ã€Šæ•æ·è½¯ä»¶å¼€å‘ï¼šåŸåˆ™ã€æ¨¡å¼ä¸å®è·µã€‹</li></ul></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'è®¾è®¡','ç¼–ç¨‹','é¢å‘'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>