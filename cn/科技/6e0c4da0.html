<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>端口隔离和VLAN有何不同？ | 极客快訊</title><meta property="og:title" content="端口隔离和VLAN有何不同？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/RGV9JzeGMDoLiK"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e0c4da0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e0c4da0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6e0c4da0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e0c4da0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e0c4da0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6e0c4da0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6e0c4da0.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e0c4da0.html><meta property="article:published_time" content="2020-11-14T21:02:11+08:00"><meta property="article:modified_time" content="2020-11-14T21:02:11+08:00"><meta name=Keywords content><meta name=description content="端口隔离和VLAN有何不同？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/6e0c4da0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>端口隔离和VLAN有何不同？</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>对于大型网络，我们常常对于ip的规划比较烦恼，也有很多朋友问到，对于1000路以上的大型监控或网络如何去设置它的ip地址呢？在我们弱电VIP技术群里也经过了深入的讨论。</p><p>对于大型网络，它的ip规划我们常常的做法是划分vlan，因为划分vlan有诸多好处，方便管理以及提升了整个网络的安全性。当然除了划分vlan有其它的方法吗？答案是肯定，那就是端口隔离。这两种方法在ip规划中使用的最多，我们本期来详细了解vlan的划分与端口隔离。</p><p><strong>一、划分vlan</strong></p><p>在面对ip地址较多的时候，我们常用的方法就是划分vlan，VLAN的作用是隔离广播，同一个VLAN在一个广播域，端口隔离就是将同一个VLAN不同接口再进行隔离。使用三层交换机划分vlan，可以使vlan之间相互通信。</p><p><strong>举例</strong></p><p>某公司有1000台电脑，公司有若干个部门，部门之间有相互往来，如何来规划ip地址？</p><p>分析：1000台电脑可以设置成6个网段，当然也可以设置5个网段，设置6个网段方便以后扩展性。那我们ip地址可以如下：</p><p>Vlan1:192.168.1.1/24</p><p>Vlan2:192.168.2.1/24</p><p>Vlan3:192.168.3.1/24</p><p>Vlan4:192.168.4.1/24</p><p>Vlan5:192.168.5.1/24</p><p>Vlan6:192.168.6.1/24</p><p><strong>VLAN的主要优点有：</strong></p><p>1、限制广播域。广播域被限制在一个VLAN内，提高了网络处理能力。</p><p>2、增强局域网的安全性。VLAN的优势在于VLAN内部的广播和单播流量不会被转发到其它VLAN中，从而有助于控制网络流量、减少设备投资、简化网络管理、提高网络安全性。</p><p>3、灵活构建虚拟工作组。用VLAN可以划分不同的用户到不同的工作组，同一工作组的用户也不必局限于某一固定的物理范围，网络构建和维护更方便灵活。</p><p><strong>二、端口隔离</strong></p><p>我们上面提到了，对于网型网络来说，vlan是一种不错的解决办法，那除了vlan还可以使用端口隔离了。</p><p>用户可以将不同的端口加入不同的VLAN，但这样会浪费有限的VLAN资源。采用端口隔离功能，可以实现同一VLAN内端口之间的隔离。用户只需要将端口加入到隔离组中，就可以实现隔离组内端口之间二层数据的隔离。</p><p>端口隔离一般用于内网中，端口隔离的端口之间无法相互通信，所以端口隔离功能为用户提供了更安全的方案。</p><p><strong>举例：</strong></p><p>端口隔离的方法和应用场景如下图所示。PC1、PC2和PC3同属于VLAN10</p><p>要求：实现pc2与pc3 不能互相访问，pc1与 pc2之间可以互相访问 pc1与pc3之间可以互相访问。</p><p>Pc 1 10.10.10.1 255.255.255.0 连接交换机 GE1/0/1端口</p><p>Pc 2 10.10.10.2 255.255.255.0 连接交换机 GE1/0/2端口</p><p>Pc 3 10.10.10.3 255.255.255.0 连接交换机 GE1/0/3端口</p><p>网关为：10.10.10.4</p><img alt=端口隔离和VLAN有何不同？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RGV9JzeGMDoLiK><p>配置步骤：</p><p>&lt;Huawei>system-view #进入系统视图</p><p>[Huawei]vlan 10 #创建vlan 10</p><p>[Huawei-vlan10]int vlan 10 #进入vlan 10</p><p>[Huawei-Vlanif10]ip address 192.168.1.1 /24 #设置vlan 10 ip 与掩码</p><p>[Huawei-Vlanif10]quit #退出</p><p>[Huawei]int GigabitEthernet 1/0/3 #进入端口3</p><p>[Huawei-GigabitEthernet1/0/3]port link-type access #设置端口模式为access 模式，access端口只能属于一个vlan；</p><p>[Huawei]int GigabitEthernet 1/0/2 #进入端口2</p><p>[Huawei-GigabitEthernet1/0/2]port link-type access #设置端口模式为access 模式</p><p>[Huawei-GigabitEthernet1/0/2]quit #退出</p><p>[Huawei]int GigabitEthernet 1/0/2</p><p>[Huawei-GigabitEthernet1/0/2]am isolate GigabitEthernet 1/0/3 #隔离端口 3</p><p>[Huawei-GigabitEthernet1/0/2]quit</p><p>[Huawei]int GigabitEthernet 1/0/3 #进入端口3</p><p>[Huawei-GigabitEthernet1/0/3]am isolate GigabitEthernet 1/0/2 #隔离端口 2</p><p>[Huawei-GigabitEthernet1/0/3]quit</p><p>这种实现了端口与端口3之间不能互相通信。</p><p>作为交换机有效的访问控制安全控制机制之一：端口隔离，其安全、灵活的特性在实际组网中应用广泛，它可以将指定的端口可以加入到特定的端口隔离组中，同一端口隔离组的端口之间互相隔离，不同端口隔离组的端口之间不隔离。</p><p>是不是感觉似曾相识，感觉跟划分VLAN差不多，其实不然，虽然VLAN和端口隔离都是把一部分设备独立在一个空间内，有防护功能，但VLAN一般用来隔离广播的，譬如一栋大楼，每层一个VLAN，隔离出广播域，而端口隔离则不同，一般同一个VLAN的用户都是同一网段的，所以是可以ping通访问的，实现共享资料的，但是做了端口隔离后，即使在同一网段，也禁止互相访问，安全指数更高！</p><p><strong>简言之就是</strong><strong>：</strong>VLAN的作用是隔离广播，同一个VLAN在一个广播域，端口隔离就是将同一个VLAN不同接口再进行隔离。</p><p><strong>三、总结</strong></p><p>1、端口隔离的端口之间无法相互通信，但可以与上联口通信；VLAN是同VLAN ID的端口可以任意通信，不同VLAN之间不能直接通信。</p><p>2、端口隔离的各个端口仍然处于同一IP段；VLAN则必须每个VLAN对应一个独立的IP段。</p><p>3、端口隔离仅限於单台交换机，即无法控制通过上联口互联的两台交换机之间的隔离端口的通信；VLAN可以跨越多台交换机，只要VLAN ID不同，就无法直接通信。</p><p>4、上联口无法区分端口隔离的数据来自哪个端口，但是可以区分VLAN的数据归属于哪个VLAN。</p><p>最新弱电资料更新—弱电工程各系统施工报价清单（12月21日）</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'隔离','VLAN','有何'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>