<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>FreeSql.Generatorå‘½ä»¤è¡Œä»£ç ç”Ÿæˆå™¨æ˜¯å¦‚ä½•å®ç°çš„ | æå®¢å¿«è¨Š</title><meta property="og:title" content="FreeSql.Generatorå‘½ä»¤è¡Œä»£ç ç”Ÿæˆå™¨æ˜¯å¦‚ä½•å®ç°çš„ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/b311f2e364484022876ad95bbad918cc"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e682b92.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e682b92.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6e682b92.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e682b92.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e682b92.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6e682b92.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6e682b92.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e682b92.html><meta property="article:published_time" content="2020-11-14T20:55:22+08:00"><meta property="article:modified_time" content="2020-11-14T20:55:22+08:00"><meta name=Keywords content><meta name=description content="FreeSql.Generatorå‘½ä»¤è¡Œä»£ç ç”Ÿæˆå™¨æ˜¯å¦‚ä½•å®ç°çš„"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/6e682b92.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>FreeSql.Generatorå‘½ä»¤è¡Œä»£ç ç”Ÿæˆå™¨æ˜¯å¦‚ä½•å®ç°çš„</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p>ç›®å½•</p><ul><li>FreeSqlä»‹ç»</li><li>FreeSql.Generator</li><li>RazorEngine.NetCore</li><li>æºç è§£æ</li><li>FreeSql.Tools</li></ul><h2 class=pgc-h-arrow-right>FreeSql</h2><p>FreeSql æ˜¯åŠŸèƒ½å¼ºå¤§çš„å¯¹è±¡å…³ç³»æ˜ å°„æŠ€æœ¯(O/RM)ï¼Œæ”¯æŒ .NETCore 2.1+ æˆ– .NETFramework 4.0+ æˆ– Xamarinã€‚</p><p>æœ‰ä¸€ä¸ªå¼ºå¤§çš„ORMï¼Œä¹Ÿæ–¹ä¾¿æˆ‘ä»¬å¼€å‘ä¸€ä¸ªä»£ç ç”Ÿæˆå™¨ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¼€å‘æ•°æ®åº“ç›¸å…³çš„åº”ç”¨ï¼Œä¸»è¦åˆ†ä¸ºä¸‰ç§code firstã€db firstã€model first</p><p>æˆ‘åªç”¨è¿‡å‰äºŒç§ï¼Œ</p><ul><li>code firstï¼Œä»£ç ä¼˜å…ˆï¼Œæ•°æ®åº“éƒ½æ˜¯æ ¹æ®å®ä½“ç±»ç”Ÿæˆï¼Œæ‰€æœ‰çš„å…³ç³»ï¼Œå¯ä»¥æ˜¯é€»è¾‘å…³è”ï¼Œä¹Ÿå¯ä»¥æ˜¯ç‰©ç†å…³è”ã€‚</li><li>DB First: æ•°æ®åº“ä¼˜å…ˆï¼Œç›´æ¥è®¾è®¡è¡¨ç»“æ„ï¼Œç”¨è®¾è®¡å·¥å…·ç”Ÿæˆè¡¨ï¼Œè®¾è®¡ä¸»é”®ï¼Œå¤–é”®ã€ç´¢å¼•ï¼Œå…³è”å…³ç³»ç­‰ã€‚</li></ul><p>å½“æˆ‘ä»¬ä½¿ç”¨DB Firstæ—¶ï¼Œè®¾è®¡å¥½çš„æ•°æ®åº“ï¼Œæˆ‘ä»¬æ€ä¹ˆç”Ÿæˆä¸€äº›å®ä½“ç±»ã€é€šç”¨çš„ä»£ç ã€æ§åˆ¶å™¨ã€æœåŠ¡å±‚ã€Dtoå‘¢ã€‚ä»Šå¤©æˆ‘æ¥ç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹FreeSqlé¡¹ç›®ä¸­çš„ä¸€äº›å·¥å…·ã€‚å½“ç„¶ï¼Œä¸ä½¿ç”¨æ­¤ORMçš„å°ä¼™ä¼´ä¹Ÿèƒ½ä½¿ç”¨æ­¤å·¥å…·ï¼Œå› ä¸ºä»–æ˜¯é€šç”¨ã€‚</p><h2 class=pgc-h-arrow-right>FreeSql.Generator å‘½ä»¤è¡Œæ–¹å¼</h2><p>é€šè¿‡å‡ è¡Œå‘½ä»¤ï¼Œå°±å¯å®ç°ç”Ÿæˆé¡¹ç›®ä¸­é€šç”¨çš„ä»£ç ç»“æ„ï¼Œä¸éœ€è¦å¤åˆ¶ä¸€æ®µä»£ç åä¿®æ”¹ï¼ŒåŠ å¿«å¼€å‘é€Ÿåº¦ï¼Œå‡å°‘é‡å¤åŠ³åŠ¨ï¼Œå°‘ç”¨ä¸€æ ¹å¤´å‘ã€‚</p><p>ç”±äºæ¯ä¸ªäººçš„é¡¹ç›®ç»“æ„ï¼Œä»£ç ä½ç½®å„ä¸ç›¸åŒï¼Œå¯¹äºORMæ¥è¯´ï¼Œä¸åŒçš„ä¸šåŠ¡é€»è¾‘å„ä¸ç›¸åŒï¼Œæ‰€ä»¥è¯¥é¡¹ç›®æ²¡æœ‰ç›¸åº”çš„æ¨¡æ¿ï¼Œç›¸ä¿¡ä½¿ç”¨è¿‡Razorçš„åŒå­¦ä¸€å®šèƒ½å®ç°è‡ªå·±çš„æ¨¡æ¿ã€‚</p><p>1-2å¹´å‰ï¼Œæˆ‘å’Œä¸€ä¸ªå­¦é•¿ä¹Ÿå†™è¿‡ä»£ç ç”Ÿæˆå™¨ï¼Œè¿™é‡Œåˆ†äº«ä¸€ä¸‹å½“æ—¶åšé¡¹ç›®æ—¶çš„ä¸€äº›æ¨¡æ¿ï¼Œhttps://github.com/i542873057/SJNScaffolding/tree/master/SJNScaffolding.RazorPage/Templates,è¯¥é¡¹ç›®æ˜¯åŸºäº . NET Core+Razor Page,ç”±äºå·²ç¦»èŒï¼Œæ‰€ä»¥æ²¡æœ‰ç»§ç»­ç»´æŠ¤ï¼Œè¿™äº›æ¨¡æ¿éƒ½å’ŒABPç›¸å…³ï¼Œå½“æ—¶æå–äº†ä¸€äº›é€šç”¨çš„åŠŸèƒ½ï¼Œå•è¡¨æ“ä½œï¼Œå¯ä»¥ç›´æ¥ç”Ÿæˆå‰åç«¯åŠŸèƒ½ï¼Œåªéœ€è¦åœ¨wordä¸­æŒ‰ç»Ÿä¸€çš„æ ¼å¼å†™å¥½æ•°æ®å­—å…¸çš„æ–‡æ¡£ï¼Œç›´æ¥å¤åˆ¶åˆ°ç³»ç»Ÿï¼Œå³å¯æ ¹æ®ç©ºæ ¼ï¼Œå®šä¹‰ç±»å‹ç­‰æ–¹å¼è§£æå­—æ®µã€‚</p><p><strong>å›åˆ°FreeSql.Generator å‘½ä»¤è¡Œ</strong></p><ul><li>å¯¹äºæ­¤å·¥å…·çš„ä½¿ç”¨å¯å‚è€ƒ https://github.com/dotnetcore/FreeSql/wiki/DbFirst</li><li>æºç ä½ç½® https://github.com/dotnetcore/FreeSql/tree/master/Extensions/FreeSql.Generator</li><li>å‰ææ˜¯æœ¬åœ°å®‰è£…äº†.net core 3.1 çš„sdk.</li></ul><p>æ€ä¹ˆä½¿ç”¨å‘¢ã€‚</p><ol start=1><li>å®‰è£… dotnet-tool ç”Ÿæˆå®ä½“ç±»</li></ol><pre><code>dotnet tool install -g FreeSql.Generator</code></pre><ol start=2><li>æ–°å»ºç›®å½•ï¼Œåœ¨åœ°å€æ è¾“å…¥ cmd å¿«é€Ÿæ‰“å¼€å‘½ä»¤çª—å£ï¼Œè¾“å…¥å‘½ä»¤ï¼š</li></ol><pre><code>FreeSql.Generator --help</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°</p><pre><code>C:\Users\igeekfan\Desktop\code&gt;FreeSql.Generator --help        ____                   ____         __       / __/  ____ ___  ___   / __/ ___ _  / /      / _/   / __// -_)/ -_) _\ \  / _ `/ / /     /_/    /_/   \__/ \__/ /___/  \_, / /_/                                    /_/  # Github # https://github.com/2881099/FreeSql v1.5.0    ä½¿ç”¨ FreeSql å¿«é€Ÿç”Ÿæˆæ•°æ®åº“çš„å®ä½“ç±»    æ›´æ–°å·¥å…·ï¼šdotnet tool update -g FreeSql.Generator  # å¿«é€Ÿå¼€å§‹ #  &gt; FreeSql.Generator -Razor 1 -NameOptions 0,0,0,0 -NameSpace MyProject -DB "MySql,Data Source=127.0.0.1;..."     -Razor 1                  * é€‰æ‹©æ¨¡æ¿ï¼šå®ä½“ç±»+ç‰¹æ€§     -Razor 2                  * é€‰æ‹©æ¨¡æ¿ï¼šå®ä½“ç±»+ç‰¹æ€§+å¯¼èˆªå±æ€§     -Razor "d:\diy.cshtml"    * è‡ªå®šä¹‰æ¨¡æ¿æ–‡ä»¶     -NameOptions              * æ€»å…±4ä¸ªå¸ƒå°”å€¼ï¼Œåˆ†åˆ«å¯¹åº”ï¼š                               # é¦–å­—æ¯å¤§å†™                               # é¦–å­—æ¯å¤§å†™,å…¶ä»–å°å†™                               # å…¨éƒ¨å°å†™                               # ä¸‹åˆ’çº¿è½¬é©¼å³°     -NameSpace                * å‘½åç©ºé—´     -DB "MySql,Data Source=127.0.0.1;Port=3306;User ID=root;Password=root;Initial Catalog=æ•°æ®åº“;Charset=utf8;SslMode=none;Max pool size=2"     -DB "SqlServer,Data Source=.;Integrated Security=True;Initial Catalog=æ•°æ®åº“;Pooling=true;Max Pool Size=2"     -DB "PostgreSQL,Host=192.168.164.10;Port=5432;Username=postgres;Password=123456;Database=æ•°æ®åº“;Pooling=true;Maximum Pool Size=2"     -DB "Oracle,user id=user1;password=123456;data source=//127.0.0.1:1521/XE;Pooling=true;Max Pool Size=2"     -DB "Sqlite,Data Source=document.db"     -DB "Dameng,server=127.0.0.1;port=5236;user id=2user;password=123456789;database=2user;poolsize=2"                               Dameng æ˜¯å›½äº§è¾¾æ¢¦æ•°æ®åº“     -Filter                   Table+View+StoreProcedure                               é»˜è®¤ç”Ÿæˆï¼šè¡¨+è§†å›¾+å­˜å‚¨è¿‡ç¨‹                               å¦‚æœä¸æƒ³ç”Ÿæˆè§†å›¾å’Œå­˜å‚¨è¿‡ç¨‹ -Filter View+StoreProcedure     -Match                    æ­£åˆ™è¡¨è¾¾å¼ï¼Œåªç”ŸæˆåŒ¹é…çš„è¡¨ï¼Œå¦‚ï¼šdbo\.TB_.+     -FileName                 æ–‡ä»¶åï¼Œé»˜è®¤ï¼š{name}.cs     -Output                   ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤ä¸ºå½“å‰ shell æ‰€åœ¨ç›®å½•                               æ¨èåœ¨å®ä½“ç±»ç›®å½•åˆ›å»º gen.batï¼ŒåŒå‡»å®ƒé‡æ–°æ‰€æœ‰å®ä½“ç±»</code></pre><ul><li>æ›´æ–°å‘½ä»¤è¡Œ</li></ul><pre><code>dotnet tool update -g FreeSql.Generator</code></pre><ol start=3><li>è¿™é‡Œlin-cms-dotnetcoreè¿™ä¸ªé¡¹ç›®æ¥æµ‹è¯•ã€‚</li></ol><div class=pgc-img><img alt=FreeSql.Generatorå‘½ä»¤è¡Œä»£ç ç”Ÿæˆå™¨æ˜¯å¦‚ä½•å®ç°çš„ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/b311f2e364484022876ad95bbad918cc><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=FreeSql.Generatorå‘½ä»¤è¡Œä»£ç ç”Ÿæˆå™¨æ˜¯å¦‚ä½•å®ç°çš„ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ccab6d067ec342e98bddd7dd5526eac5><p class=pgc-img-caption></p></div><ul><li>æ•°æ®åº“è¡¨åæ˜¯ä¸‹åˆ’çº¿ï¼Œå­—æ®µä¹Ÿæ˜¯ä¸‹åˆ’çº¿æ–¹å¼ã€‚</li><li>-Razor æŒ‡å®š ç¬¬ä¸€ä¸ªæ¨¡æ¿</li><li>-NameOptions 0,0,0,1 æœ€åä¸€ä¸ª1ï¼Œä»£è¡¨ ä¸‹åˆ’çº¿è½¬é©¼å³°ï¼Œæ»¡è¶³C#å‘½åè§„åˆ™</li><li>-NameSpace æŒ‡å®šäº†å‘½åç©ºé—´ LinCms.Core.Entities</li><li>-DB å°±æ˜¯æ•°æ®åº“çš„ç›¸å…³é…ç½®</li><li>mysql æœ¬åœ°åœ°å€ 127.0.0.1 3306ç«¯å£ ç”¨æˆ·å root å¯†ç 123456 æ•°æ®åº“ lin-cms</li><li>-Match book è¿™æ ·å°±èƒ½åªç”Ÿæˆbookï¼Œæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚ -Math lin_user å°±ä¼šç”Ÿæˆä»¥lin_userå¼€å¤´çš„è¡¨ã€‚å¦‚dbo.TB_.+ï¼Œä¼šç”Ÿæˆä»¥TBå¼€å¤´çš„è¡¨ã€‚å³åªç”ŸæˆåŒ¹é…çš„è¡¨</li></ul><ol start=4><li>æ‰§è¡Œæ­¤å‘½ä»¤ã€‚</li></ol><pre><code>FreeSql.Generator -Razor 1  -NameOptions 0,0,0,1 -NameSpace LinCms.Core.Entities -DB "MySql,Data Source=127.0.0.1;Port=3306;User ID=root;Password=123456;Initial Catalog=lincms;Charset=utf8;SslMode=none;Max pool size=2"</code></pre><p>è¿™æ—¶å€™ä»£ç å·²ç»ç”Ÿæˆäº†</p><p>å…¶ä¸­ä¸€ä¸ªä»£ç  ç”Ÿæˆå¦‚ä¸‹ã€‚è¿™äº›ç±»æ˜¯partial ï¼Œç†Ÿæ‚‰C#çš„åŒå­¦ï¼Œåº”è¯¥çŸ¥é“ï¼Œç±»çš„å®šä¹‰ä½¿ç”¨æ­¤å…³é”®å­—ï¼Œæˆ‘ä»¬èƒ½åœ¨ä¸åŒçš„åœ°æ–¹ä¸ºè¯¥ç±»æ‰©å±•ã€‚ä»¥é˜²æ­¢é‡æ–°åŒæ­¥æ•°æ®åº“çš„ç»“æ„æ—¶ï¼Œä¸¢å¤±æ”¹åŠ¨çš„å­—æ®µã€‚</p><pre><code>namespace LinCms.Core.Entities {	[JsonObject(MemberSerialization.OptIn), Table(Name = "book")]	public partial class Book {		/// &lt;summary&gt;		/// ä¸»é”®Id		/// &lt;/summary&gt;		[JsonProperty, Column(Name = "id", IsPrimary = true, IsIdentity = true)]		public long Id { get; set; }		[JsonProperty, Column(Name = "author", DbType = "varchar(20)")]		public string Author { get; set; } = string.Empty;		[JsonProperty, Column(Name = "image", DbType = "varchar(50)")]		public string Image { get; set; } = string.Empty;        //æ›´å¤šxxx	}}</code></pre><ul><li>æœ€ç»ˆæ•ˆæœå›¾å¦‚ä¸‹</li></ul><div class=pgc-img><img alt=FreeSql.Generatorå‘½ä»¤è¡Œä»£ç ç”Ÿæˆå™¨æ˜¯å¦‚ä½•å®ç°çš„ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b9b3fec8c50c48fea49cb4befee55684><p class=pgc-img-caption></p></div><p>æ­¤æ—¶ä¼šç”ŸæˆäºŒä¸ªæ–‡ä»¶__é‡æ–°ç”Ÿæˆ.bat,ä¸‹æ¬¡é‡æ–°ç‚¹å‡»ä»–å°±èƒ½é‡æ–°ç”Ÿæˆå®ä½“ç±»äº†ã€‚</p><pre><code>FreeSql.Generator -Razor "__razor.cshtml.txt" -NameOptions 1,1,0,1 -NameSpace MyProject -DB "MySql,Data Source=127.0.0.1;Port=3306;User ID=root;Password=123456;Initial Catalog=lincms;Charset=utf8;SslMode=none;Max pool size=2" -FileName "{name}.cs"</code></pre><p>ä¸Šé¢çš„å‘½ä»¤-Razor æŒ‡å®šäº†è¿™ä¸ªtxtæ–‡ä»¶ __razor.cshtml.txt</p><p>æˆ‘ä»¬å¯ä»¥å®šä¹‰è‡ªå·±çš„æ¨¡æ¿ï¼Œä»¥ç”Ÿæˆç¬¦åˆè‡ªå·²ä¸šåŠ¡çš„çš„ä»£ç ï¼Œä»è€Œå®ç°å¿«é€Ÿå¼€å‘ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹æ¨¡æ¿ä¸­çš„æ–‡ä»¶å†…å®¹,ä»–å°±æ˜¯asp.netä¸‹çš„mvc ç»“æ„ä¸‹çš„razoråç«¯æ¨¡æ¿æ¸²æŸ“,æŠŠè¿™ä¸ª.txtåç¼€å»æ‰ï¼Œå°±å¾ˆæ˜äº†äº†ã€‚å¯¹äºasp.net mvcçš„razorï¼Œæˆ‘ä»¬å¯ä»¥å°†æ§åˆ¶å™¨ä¸‹æ–¹æ³•çš„å€¼æ›¿æ¢æ‰cshtmlä¸­çš„å€¼ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯æœ‰ä¸€ä¸ªç±»åº“åœ¨å¸®æˆ‘ä»¬å®ç°çš„,å«RazorEngineï¼Œä¸è¿‡é‚£ä¸ªæ˜¯.net frameworkä¸‹çš„å®è·µã€‚.NET Framework ä¸‹çš„RazorEngineä»£ç ç”Ÿæˆä»‹ç»</p><pre><code>@using FreeSql.DatabaseModel;@{var gen = Model as RazorModel;Func&lt;string, string&gt; GetAttributeString = attr =&gt; {	if (string.IsNullOrEmpty(attr)) return null;	return string.Concat(", ", attr.Trim('[', ']'));};Func&lt;DbColumnInfo, string&gt; GetDefaultValue = col =&gt; {    if (col.CsType == typeof(string)) return " = string.Empty;";    return "";};}//xxxnamespace @gen.NameSpace {@if (string.IsNullOrEmpty(gen.table.Comment) == false) {	@:/// &lt;summary&gt;	@:/// @gen.table.Comment.Replace("\r\n", "\n").Replace("\n", "\r\n		/// ")	@:/// &lt;/summary&gt;}	[JsonObject(MemberSerialization.OptIn)@GetAttributeString(gen.GetTableAttribute())]	public partial class @gen.GetCsName(gen.FullTableName) {	@foreach (var col in gen.columns) {		if (string.IsNullOrEmpty(col.Coment) == false) {		@:/// &lt;summary&gt;		@:/// @col.Coment.Replace("\r\n", "\n").Replace("\n", "\r\n		/// ")		@:/// &lt;/summary&gt;		}		@:@("[JsonProperty" + GetAttributeString(gen.GetColumnAttribute(col)) + "]")		@:public @gen.GetCsType(col) @gen.GetCsName(col.Name) { get; set; }@GetDefaultValue(col)@:	}	}@gen.GetMySqlEnumSetDefine()}</code></pre><h2 class=pgc-h-arrow-right>RazorEngine.NetCore</h2><p>åˆ°äº†.NET Coreæ—¶ä»£ï¼Œæˆ‘çœ‹äº†ä¸‹FreeSql.Generatorç”¨çš„è¿™ä¸ªç±»åº“RazorEngine.NetCoreï¼Œå®ç°åŠ¨æ€æ“ä½œcshtmlï¼Œç”Ÿæˆéœ€è¦çš„æ–‡æœ¬ã€‚</p><p>Razor Engineæ˜¯åŸºäºå¾®è½¯Razorè§£æçš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒå…è®¸ä½ ä½¿ç”¨Razorè¯­æ³•æ„å»ºåŠ¨æ€æ¨¡æ¿ï¼Œä½ åªéœ€è¦ä½¿ç”¨Engineçš„é™æ€æ–¹æ³•ï¼ŒEngine.Razor.RunCompileç­‰ã€‚</p><p>åˆ›å»ºä¸€ä¸ªæ§åˆ¶å°åº”ç”¨ï¼Œç„¶åå®‰è£…åŒ…ã€‚</p><pre><code>Install-Package RazorEngine.NetCore</code></pre><pre><code>using RazorEngine;using RazorEngine.Templating; // For extension methods.string template = "Hello @Model.Name, welcome to RazorEngine!";var result = Engine.Razor.RunCompile(template, "templateKey", null, new { Name = "World" });Console.WriteLine(result);</code></pre><ul><li>è¾“å‡ºå¦‚ä¸‹å†…å®¹</li></ul><pre><code>Hello World, welcome to RazorEngine!</code></pre><blockquote><p>æ­¤å¤„ä½¿ç”¨çš„<strong>RunCompile</strong>æ–¹æ³•æ˜¯æ‰©å±•æ–¹æ³•ï¼Œæ‚¨éœ€è¦å¼•ç”¨RazorEngine.Templatingå‘½åç©ºé—´ã€‚</p></blockquote><p>The "templateKey" ä¿æŒå”¯ä¸€å€¼ï¼Œæ¯”å¦‚ä½¿ç”¨guidå€¼ã€‚å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”ä½ å¯ä»¥æ ¹æ®æ­¤å­—ç¬¦ä¸²keyé‡æ–°è¿è¡Œç¼“å­˜çš„æ¨¡æ¿ã€‚</p><p>å¦‚æœå†æ¬¡æ ¹æ®æ­¤keyï¼Œå¯ä½¿ç”¨åŸæœ¬çš„æ¨¡æ¿ã€‚</p><pre><code>var result = Engine.Razor.Run("templateKey", null, new { Name = "Max" });</code></pre><ul><li>ä¼šè¾“å‡ºå¦‚ä¸‹å†…å®¹</li></ul><pre><code>Hello Max, welcome to RazorEngine!</code></pre><p>ä¸Šé¢ä¸­çš„RunCompileç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œä¼ null,å› ä¸ºæˆ‘ä»¬ç¬¬å››ä¸ªå‚æ•°ä½¿ç”¨çš„æ˜¯åŒ¿åç±»ï¼Œ</p><p>æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªHelloWord.cshtmlï¼Œè¦é€‰æ‹©å±æ€§ï¼Œ->å¦‚æœè¾ƒæ–°åˆ™å¤åˆ¶ å†…å®¹ï¼Œ</p><pre><code>Hello @Model.Name, welcome to RazorEngine!</code></pre><p>æ§åˆ¶å°å¦‚ä¸‹ä»£ç ã€‚</p><pre><code>string templateFilePath = "HelloWorld.cshtml";var templateFile = File.ReadAllText(templateFilePath);string templateFileResult = Engine.Razor.RunCompile(templateFile, Guid.NewGuid().ToString(), null, new{    Name = "World"});Console.WriteLine(templateFileResult);</code></pre><ul><li>æ§åˆ¶å°è¾“å‡º</li></ul><pre><code>Hello World, welcome to RazorEngine!</code></pre><ul><li>ä½¿ç”¨å¼ºç±»å‹ CopyRightUserInfo.csç”Ÿæˆä¸€ä¸ªç‰ˆæƒæ‰€æœ‰</li></ul><pre><code>using System;namespace OvOv.Razor{    public class CopyRightUserInfo    {        public string UserName { get; set; }        public string EmailAddress { get; set; }        public DateTime CreateTime { get; set; }        public string FileRemark { get; set; }    }}</code></pre><p>æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªCopyRightTemplate.cshtmlï¼Œè¦é€‰æ‹©å±æ€§ï¼Œ->å¦‚æœè¾ƒæ–°åˆ™å¤åˆ¶ å†…å®¹ï¼Œ</p><pre><code>@{    var gen = Model as OvOv.Razor.CopyRightUserInfo;}//=============================================================// åˆ›å»ºäºº:            @gen.UserName// åˆ›å»ºæ—¶é—´:          @gen.CreateTime// é‚®ç®±ï¼š             @gen.EmailAddress//==============================================================</code></pre><p>æ§åˆ¶å°å¦‚ä¸‹ä»£ç ã€‚</p><pre><code>string copyRightTemplatePath = "CopyRightTemplate.cshtml";var copyRightTemplate = File.ReadAllText(copyRightTemplatePath);string copyRightResult = Engine.Razor.RunCompile(copyRightTemplate, Guid.NewGuid().ToString(), typeof(CopyRightUserInfo), new CopyRightUserInfo{    CreateTime = DateTime.Now,    EmailAddress = "710277267@qq.com",    UserName = "IGeekFan"});Console.WriteLine(copyRightResult);Console.ReadKey();</code></pre><ul><li>æ§åˆ¶å°è¾“å‡º</li></ul><pre><code>//=============================================================// åˆ›å»ºäºº:            IGeekFan// åˆ›å»ºæ—¶é—´:          2020/6/23 18:14:08// é‚®ç®±ï¼š             710277267@qq.com//==============================================================</code></pre><p>å…¨æ”¾åˆ°æ§åˆ¶å°ä¸‹ï¼Œè¾“å‡ºå¦‚ä¸‹ç»“æœã€‚ä»£ç ç”Ÿæˆå™¨æœ€é‡è¦çš„ä¸€ç‚¹è§£å†³äº†ï¼Œæˆ‘ä»¬å°±èƒ½å®ç°è‡ªå·±çš„ä»£ç ç”Ÿæˆå™¨ï¼Œå…ˆæ„å»ºè‡ªå·±çš„æ¨¡æ¿ï¼Œå®ç°è¾“å…¥ï¼ˆå‘½ä»¤è¡Œï¼ŒWPFï¼ŒWEBç«¯åŠæ›´å¤šï¼‰ï¼Œè¾“å‡ºï¼ˆç”Ÿæˆæ–‡ä»¶ï¼‰ã€‚</p><div class=pgc-img><img alt=FreeSql.Generatorå‘½ä»¤è¡Œä»£ç ç”Ÿæˆå™¨æ˜¯å¦‚ä½•å®ç°çš„ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b4ed679ea4734713a67357aa1892ee6c><p class=pgc-img-caption></p></div><ul><li>ä»¥ä¸Šæºç å·²æ”¾åˆ°ç¤ºä¾‹ä»£ç ä¸­ https://github.com/luoyunchong/dotnetcore-examples/blob/master/aspnetcore-freesql/OvOv.Razor/Program.cs</li></ul><h2 class=pgc-h-arrow-right>æºç è§£æ</h2><p>é¦–å…ˆè¿™æ˜¯ä¸€ä¸ªæ§åˆ¶å°åº”ç”¨ï¼ŒMain(string[] args)å¯æ¥æ”¶å¤šä¸ªå‚æ•°ã€‚</p><ol start=1><li>å¤„ç†æ— å‚æ•°ï¼Œ--help</li><li>å¤„ç†argsæ•°ç»„ï¼Œè§£æå‡ºæ‰€æœ‰çš„å‚æ•°ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œåˆ™ä¸ºé»˜è®¤å€¼ã€‚ï¼ˆå¤„ç†ä¸€äº›å‚æ•°å¼‚å¸¸é—®é¢˜ï¼‰æœ€é‡è¦çš„æ˜¯æ ¹æ®-Razorï¼Œé€‰å®šå¯¹åº”çš„æ¨¡æ¿ã€‚</li></ol><pre><code>ArgsRazor=""//æ ¹æ®-Razor  1 ä¸æ˜¯2 è¿˜æ˜¯æ¨¡æ¿çš„è·¯å¾„ï¼Œå–å‡ºçš„æ¨¡æ¿æ–‡æœ¬å€¼ã€‚var razorId = Guid.NewGuid().ToString("N");RazorEngine.Engine.Razor.Compile(ArgsRazor, razorId);</code></pre><ol start=3><li>æ ¹æ®æ•°æ®åº“è¿æ¥ä¸²ï¼Œå–å‡ºå‚æ•°è¿‡æ»¤åçš„è¡¨ï¼Œè§†å›¾ï¼Œå­˜å‚¨è¿‡ç¨‹</li><li>å¾ªç¯æ•°æ®åº“çš„è¡¨ç­‰ï¼Œ</li></ol><ul><li>modelä¸ºæ¨¡æ¿ä¸­éœ€è¦çš„æ•°æ®</li><li>razorIdä¸ä¸Šæ–‡çš„razorIdç›¸åŒï¼Œ</li><li>swä¸ºç”Ÿæˆåçš„æ–‡æœ¬ä¿å­˜çš„å€¼ã€‚</li></ul><pre><code>var sw = new StringWriter();var model = new RazorModel(fsql, ArgsNameSpace, ArgsNameOptions, tables, table);RazorEngine.Engine.Razor.Run(razorId, sw, null, model);</code></pre><ol start=5><li>å°†swå­—ç¬¦ä¸²ä¿å­˜ç”Ÿæˆç±».csæ–‡ä»¶ï¼ˆæ ¹æ®å‚æ•°é…ç½®ç”Ÿæˆæ–‡ä»¶åï¼‰</li><li>å¦å¤–ç”Ÿæˆä¸€ä¸ª__é‡æ–°ç”Ÿæˆ.bat,__razor.cshtml.txtï¼Œæ–¹ä¾¿åç»­ç”¨æˆ·é‡æ–°ç”Ÿæˆå®ä½“ç±»ã€‚</li></ol><h2 class=pgc-h-arrow-right>FreeSql.Tools</h2><p>è¿™æ˜¯ FreeSql è¡ç”Ÿå‡ºæ¥çš„è¾…åŠ©å·¥å…·åŒ…ï¼Œå†…å«ç”Ÿæˆå™¨ç­‰åŠŸèƒ½ï¼›ä½œè€…ï¼šmypeng1985å› ä¸ºè¿™ä¸ªä¸å…¼å®¹mac,linux,æ‰€ä»¥ä½œè€…å»ºè®®ä½¿ç”¨dotnet-tool å‘½ä»¤è¡Œå·¥å…·ç”Ÿæˆå®ä½“ç±»ï¼Œä»è€Œæ”¯æŒMAC/Linuxç³»ç»Ÿã€‚å¯¹äºä¸æ˜¯ä½¿ç”¨FreeSqlçš„å¼€å‘è€…ï¼Œä¹Ÿèƒ½ä½¿ç”¨æ­¤å·¥å…·ï¼Œä½ åªéœ€è¦ä¿®æ”¹å¯¹åº”çš„æ¨¡æ¿å³å¯ã€‚</p><p>ä½¿ç”¨æ–¹å¼ï¼šä¸å¤šä»‹ç»ã€‚</p><ul><li>https://github.com/2881099/Freesql.tools</li><li>åˆ†ä¸ºWPF ï¼ŒWinForm + DSkin ç‰ˆæœ¬ï¼ˆå¥—ç½‘é¡µï¼‰</li><li>çœ‹äº†ä¸‹ä»£ç ï¼Œåº•å±‚ç”Ÿæˆä»£ç é€»è¾‘ä¹Ÿæ˜¯ç”¨çš„RazorEngine .NET Framework ä¸‹çš„RazorEngineä»£ç ç”Ÿæˆä»‹ç»</li></ul><h2 class=pgc-h-arrow-right>FreeSqlå®˜æ–¹ç¾¤ 4336577</h2><h5 class=pgc-h-arrow-right>é¢„è§ˆå›¾</h5><div class=pgc-img><img alt=FreeSql.Generatorå‘½ä»¤è¡Œä»£ç ç”Ÿæˆå™¨æ˜¯å¦‚ä½•å®ç°çš„ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/58cc512805e64465b3a66bb73b8a626e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=FreeSql.Generatorå‘½ä»¤è¡Œä»£ç ç”Ÿæˆå™¨æ˜¯å¦‚ä½•å®ç°çš„ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3f4bac3df46c47fca6a200b237589855><p class=pgc-img-caption></p></div><p><br></p><p>ä½œè€…ï¼š ã€å¤©ä¸Šæœ‰æœ¨æœˆOvO</p><p>åŸæ–‡åœ°å€ï¼šhttps://cnblogs.com/igeekfan</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'ç”Ÿæˆå™¨','FreeSql','Generator'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>