<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ | 极客快訊</title><meta property="og:title" content="电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/1c18e10633044b0aac2436a6d3a4f700"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/72454ef2.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/72454ef2.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/72454ef2.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/72454ef2.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/72454ef2.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/72454ef2.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/72454ef2.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/72454ef2.html><meta property="article:published_time" content="2020-11-14T21:00:28+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:28+08:00"><meta name=Keywords content><meta name=description content="电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/72454ef2.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>引言</h1><p>现在很多网站都支持第三方授权登录，小伙伴们应该很常见这种授权登录方式了，那小伙伴们知道这种方式是以什么原理实现的么？</p><p>今天小编就为大家讲一讲里边的奥秘！</p><div class=pgc-img><img alt=电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1c18e10633044b0aac2436a6d3a4f700><p class=pgc-img-caption></p></div><p><br></p><p>正文</p><h1 class=pgc-h-arrow-right><strong>OAuth简介</strong></h1><div class=pgc-img><img alt=电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d3dbd48afb344a7eb78fc1da346e4509><p class=pgc-img-caption></p></div><p><br></p><p>我们都知道，所有的第三方授权登录底层基本上采用http/https协议。但是由于http/https协议是不可靠的，而客户端和服务端都希望要达到100%的可靠性。所以以OAuth为代表的，基于http/https协议的授权标准也由此诞生并变成了主流。最开始在2006年出现的是OAuth1.0，由于1.0出现了一些安全漏洞等一些问题，5年后的2011年，该团队发布了OAuth2.0标准。</p><p>由于目前各大网站已经基本淘汰了OAuth1.0，用OAuth2.0标准来实现的授权功能，所以这篇文章是针对OAuth2.0来介绍的。</p><h1 class=pgc-h-arrow-right><strong>角色介绍</strong></h1><div class=pgc-img><img alt=电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/f22da663803c4d4a8e34dcea14cb6c51><p class=pgc-img-caption></p></div><p><br></p><p>OAuth可以分为四个角色，我们这里就拿掘金来举例：</p><p>resource owner：可以理解为用户，在这里就是你自己；只有这个用户同意第三方或者基于OAuth的授权方式时，才能进行后续操作。</p><p>resource server：资源服务器，在这里就是掘金这个平台。</p><p>client：即客户：如果你是用浏览器浏览的掘金网站的话，那浏览器就是client。</p><p>authorization server：授权服务器；使用微信，GitHub，还是微博来授权呢，使用哪种方式哪个平台就是authorization server。</p><div class=pgc-img><img alt=电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7e90a80c2e254b99abe60cfd32393586><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right><strong>运行流程</strong></h1><p>介绍完四个角色，接着让我们来介绍一下它的运行流程：</p><p>![image-20200920154746939](/Users/zhangbo/Library/Application Support/typora-user-images/image-20200920154746939.png)</p><p>（A）客户端请求用户的授权；用户要告诉客户端，是否要用第三方授权，是微信？QQ？还是微博？</p><p>（B）当用户的同意授权后，把同意授权的消息发送到客户端。</p><p>（C）当B结束后，客户端拿着这些同意授权的信息去请求授权服务器，这里的授权服务器就是你所选的微信授权的服务器还是QQ授权的服务器。</p><p>（D）如果授权服务器得到并验证这些授权信息有效的话，这时授权服务器会颁发客户端一个访问令牌（在微信公众号的网页授权中，访问令牌的字段名称是access_token）</p><p>（E）客户端收到令牌，将其发送给资源服务器申请资源，这里的资源服务器就是我们的掘金服务器。</p><p>（F）资源服务器确认无误后，说明认证通过，资源服务器可以将资源返回给客户端。</p><h1 class=pgc-h-arrow-right>客户端授权模式</h1><p>在上面B步骤中，OAuth2.0一共有四种授权模式，我们来一一做个介绍：</p><p><br></p><div class=pgc-img><img alt=电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5b6118ac7b7a415493a1df1c68e19eab><p class=pgc-img-caption></p></div><p><br></p><p>授权码模式（Authorization Code）</p><p>简化模式（Implicit）</p><p>密码模式（Resource Owner Password Credentials）</p><p>客户端模式（Client Credentials）</p><h1 class=pgc-h-arrow-right>授权码模式（Authorization Code）</h1><div class=pgc-img><img alt=电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/7a931412382842ca978539a50ada91db><p class=pgc-img-caption></p></div><p><br></p><p>（A）用户带着客户端标识符，重定向的URI，本地状态和请求范围这四个属性去请求授权服务器。这里的本地状态是可选属性，可以选择不传。但是如果不传可能会遭受到CSRF攻击，大家可以视情况而定；</p><p>（B）授权服务器对用户进行身份验证，用来确定用户是授予还是拒绝；</p><p>（C）假设用户被授予了访问权限，授权服务器会将用户重定向到之前所提供的重定向URI中。重定向URI中还包括本地状态和客户标识符；</p><p>（D）接着客户端将带着本地状态和客户标识符去请求授权服务器，目的是换取对应的访问令牌；</p><p>（E）授权服务器接到客户端的请求后，检验本地状态和客户标识符，如果验证通过，将为客户端返回对应的访问令牌和（可选）刷新令牌。</p><h1 class=pgc-h-arrow-right>简化模式（Implicit Grant）</h1><div class=pgc-img><img alt=电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b867ecb95a5944de8c5a627196fd239b><p class=pgc-img-caption></p></div><p><br></p><p>（A）客户端代理用户去请求授权服务器；</p><p>（B）用户决定是否给客户端授权；</p><p>（C）当用户同意授权后，客户端将重定向到重定向URI，重定向URI中并存在着访问令牌；</p><p>（D）接着浏览器请求资源服务器，并且不用带着访问令牌；</p><p>（E）资源服务器通过认证后，返回一个网页，幷包含访问令牌；</p><p>（F）浏览器解析这个网页并提取访问令牌；</p><p>（G）浏览器发送令牌给到客户端。</p><h1 class=pgc-h-arrow-right>密码模式（Resource Owner Password Credentials）</h1><div class=pgc-img><img alt=电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/214fb6fd3bed412e8dae784d0f0f2f98><p class=pgc-img-caption></p></div><p><br></p><p>（A）用户向客户端提供用户名和密码；</p><p>（B）客户端将用户提供的资源请求授权服务器；</p><p>（C）授权服务器进行身份验证，通过后发出访问令牌。</p><h1 class=pgc-h-arrow-right>客户端模式（Client Credentials）</h1><div class=pgc-img><img alt=电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2c53f40501664305a58cd9bac40889ab><p class=pgc-img-caption></p></div><p><br></p><p>（A）客户端向授权服务器进行身份验证，所要访问令牌；</p><p>（B）授权服务器向客户端进行身份验证，如果有效，则发出访问令牌。</p><p>文章说到现在，你对第三方登录了解了多少呢？欢迎在文章下方谈谈你的看法或者收获！</p><p>另外如果你想更好的提升你的编程能力，学好C语言C++编程！<strong>弯道超车，快人一步！</strong></p><p><strong>编程学习软件分享：</strong></p><div class=pgc-img><img alt=电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a73bd6bd672740f49d6db5947669d155><p class=pgc-img-caption></p></div><p><br></p><p><strong>编程学习视频分享：</strong></p><div class=pgc-img><img alt=电脑知识：很多网站都支持的第三方授权登录，究竟是怎么一回事？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/bfcd1424169a44fb960386ba186bcd20><p class=pgc-img-caption></p></div><p>分享（源码、项目实战视频、项目笔记，基础入门教程）</p><p>欢迎转行和学习编程的伙伴，利用更多的资料学习成长比自己琢磨更快哦！</p><p>C语言C++编程学习交流圈子，点击下方【<strong>了解更多</strong>】获取更多资料！</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'电脑','知识','网站'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>