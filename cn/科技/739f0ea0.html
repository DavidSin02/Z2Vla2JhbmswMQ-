<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>SPL 的序号思维及定位计算（上） | 极客快訊</title><meta property="og:title" content="SPL 的序号思维及定位计算（上） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/1437e9d2ac5b4a208d1104e11ba96f07"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/739f0ea0.html><meta property="article:published_time" content="2020-11-14T21:07:40+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:40+08:00"><meta name=Keywords content><meta name=description content="SPL 的序号思维及定位计算（上）"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/739f0ea0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>SPL 的序号思维及定位计算（上）</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>SPL中的集合都是有序的，可以用序号来引用成员，灵活运用序号可以使运算更为简捷高效。</p><h1>1 成员访问</h1><p>SPL的某些函数中可以使用序号或序号数列作为参数，最简单的应用是直接用序号访问成员，这和一般编程语言中的数组类似。</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1437e9d2ac5b4a208d1104e11ba96f07><p class=pgc-img-caption></p></div><p>A2与A3从序列中获取指定位置的成员，位置序号是从1开始的，结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/53d28b4a7ca84016b62a183df747389e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/06810a3f6a17495f8dc8d1822693564e><p class=pgc-img-caption></p></div><p>A4与A5修改了序列中的某个成员，用分步执行的方式，可以看到A1中序列的变化如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1244a88c230842d3884eb25ac9210b0e><p class=pgc-img-caption></p></div><p>使用<strong>A</strong>.m(<strong>i</strong>) 函数可以从后面倒数取或循环取，这个函数为<strong>A</strong>(<strong>i</strong>) 提供了有效的补充。</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6d2b74fc995145f4b8d5615a9ecb5fb0><p class=pgc-img-caption></p></div><p>A2和A3用<strong>A</strong>.m() 函数从序列中获取指定序号成员的值，其中-2表示倒数第2个成员。A4和A5中的代码添加了@r选项，在获取成员时，如果指定的序号越界则循环取数，如序号12循环A1中的成员2次后，相当于获取第2个成员。A2~A5结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/06810a3f6a17495f8dc8d1822693564e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fe119f1076f240aa82ec404af70c2ee5><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/53d28b4a7ca84016b62a183df747389e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4f2725883bf6419c9b674bac4f993a9f><p class=pgc-img-caption></p></div><p>A6中，指定的序号6超过了序列的长度，又没有使用@r选项，会返回空值。</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5bbffce0a504460d86bb3597bbcc838e><p class=pgc-img-caption></p></div><p>SPL还提供了一组关于位置查找的函数，它们都是以p开头的，如：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a3cc40fd34be4ac5b6356d355ada4cc5><p class=pgc-img-caption></p></div><p>A2查找指定成员的位置序号，如果有多个同值成员，只返回第1个序号。A3和A4分别返回最小与最大成员的序号。A5中，找到第1个满足设定条件的成员的序号，这里查找第1个5的倍数成员所在位置。计算后，A2~A5结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3c04b61ae80c40a9af81dbaaa1377067><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4f2725883bf6419c9b674bac4f993a9f><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ef3b3160db7944ebbd8a71cc0ed9b3dc><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3c04b61ae80c40a9af81dbaaa1377067><p class=pgc-img-caption></p></div><p>如果无法找到成员，<strong>A</strong>.pos() 函数将返回null，因此可以用<strong>A</strong>.pos()函数来判断成员是否属于集合。</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6a42ebb7b3c7497cbfbc8768ecc304e0><p class=pgc-img-caption></p></div><p>A2与A3计算结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/842dae3da48a4c85b092743458ef509c><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3718d715a7e94e29af5def56bc49a1fc><p class=pgc-img-caption></p></div><h1>2 子集访问</h1><p>用序号数列作为参数可以访问集合的子集，如：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e87ba3419c3a433b88a57f97ab51c28d><p class=pgc-img-caption></p></div><p>A2,A3与A4分别从序列中获取子集，计算后，A2,A3和A4结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3a796d0df038432892cccdba2628bddf><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/17c44f645a5e416c93bd113d8c6b5975><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/26fba534b33d44dfae380039198ff008><p class=pgc-img-caption></p></div><p>A5与A6修改序列中的成员，使用序数数列作为参数，一次修改多个成员。分步执行时可以看到A1中序列的改变如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9a2d41ece87d4183b5e959646e771e61><p class=pgc-img-caption></p></div><p><strong>A</strong>.m() 函数也可以使用数列参数获得子集：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d0677b2e98794808beb316c12e08ba12><p class=pgc-img-caption></p></div><p>在例子中，参数数列中可以使用负数表示倒数的位置，也可以添加@r选项表示位置越界回转。另外还可以使用@0选项，此时如果参数序列中存在越界的序号，则对应的空值不会出现在结果中。A2,A3和A4结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e0525dd7830e44f0b79078c86994db61><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c553619d3a634072925b8d53f14a8f72><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f0c213739b3748b5902ea93335547f9e><p class=pgc-img-caption></p></div><p>如果在位置查找函数中加上@a选项，将找到所有满足条件的成员，并用它们的序号构成数列返回：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e1b967b3149843639e1824ebe65535b5><p class=pgc-img-caption></p></div><p>由于添加了@a选项，此时A2会返回序列A1中所有2的位置，A3会返回值最小的所有成员的序号，A4会返回值最大的所有成员的序号，A5会返回所有2的倍数的成员的序号。使用@a选项时，即使只找到一个成员，也将返回序号的序列，而不是序号本身，如A6查找8所在的所有位置。A2~A6计算结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/708a0dd3534145d488aa7f0c0153885f><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cc197f2a76034ea790eb3fd3f55f993e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/05385a29dd0a483a82fe5d2f66c7f86a><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/495ff4e51f524fd7b2fa90b26baa5e63><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6d59afefc36f4e79a999803fb6b2c5b2><p class=pgc-img-caption></p></div><p>同时返回多个成员的位置需要用<strong>A</strong>.pos() 函数时，根据需要可能需要添加@i选项，如：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9af9d11f851f492dac61af938c6885d0><p class=pgc-img-caption></p></div><p>使用<strong>A</strong>.pos@i() 在查找参数序列中的成员时，会单向顺次进行；而只使用<strong>A</strong>.pos() 时只会简单判断序列<strong>A</strong>中是否包含参数序列中的每个成员。A2~A7结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d6482bfa4f8e4d4684f829b1b21ed3c6><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1a793882fe1b488cbeb72541228f3222><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1a793882fe1b488cbeb72541228f3222><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/43398d8453b14bfb9fefaeb23751f4cf><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5f4226a5ff9f499898634362b140d091><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/72b735a531ef47e9aaddd57e0990b74a><p class=pgc-img-caption></p></div><p>可以看到，A3与A4的结果为空，其中A3计算时找不到序列中的第3个1，A4计算时无法依次找到1,2,3。或者说，<strong>A</strong>.pos@i() 只会返回递增数列，如果不能找到结果即返回null。</p><p><strong>A</strong>.pos@i() 在有成员找不到时将返回空，但由于次序和可重复成员的因素，并不能简单地用其判断子集是否被包含，一般要用交运算：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/562af8fac29c4f6bb8823b8ceb35581a><p class=pgc-img-caption></p></div><p>A2~A4结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3718d715a7e94e29af5def56bc49a1fc><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/842dae3da48a4c85b092743458ef509c><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/842dae3da48a4c85b092743458ef509c><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3718d715a7e94e29af5def56bc49a1fc><p class=pgc-img-caption></p></div><p>其中，用<strong>A</strong>.pos@i(<strong>B</strong>) 查找判断时，如果结果非空，说明在<strong>A</strong>中可以依次找到<strong>B</strong>中的成员，说明<strong>A</strong>必然包含<strong>B</strong>。但是如果查找结果是null，只能说明在<strong>A</strong>中无法依次找到<strong>B</strong>中的成员，并不能说明<strong>A</strong>必然不包含<strong>B</strong>，比如A3中的情况。</p><p>用<strong>A</strong>.pos(<strong>B</strong>) 查找判断时，如果结果为空，说明<strong>B</strong>中一定有成员是无法在<strong>A</strong>中找到的，说明<strong>A</strong>必然不包含<strong>B</strong>。但是，如果此时查找的结果不为空，如果<strong>B</strong>中存在重复的成员，那么是无法保证<strong>A</strong>包含<strong>B</strong>的，如A5中的情况。</p><p>A8与A9结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/842dae3da48a4c85b092743458ef509c><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3718d715a7e94e29af5def56bc49a1fc><p class=pgc-img-caption></p></div><p>用<strong>B</strong>^<strong>A</strong>==<strong>B</strong>来判断<strong>A</strong>是否包含<strong>B</strong>是可行的，根据A8和A9中的结果，可以确定A1包含A6，但A1不包含A7。使用这种方法时需要注意，交运算的操作数不能反过来，否则计算<strong>A</strong>^<strong>B</strong>得到的结果中成员的顺序有可能与<strong>B</strong>不同，就无法正确判断了。</p><h1>3 循环函数定位</h1><p>类似符号~，在循环函数的参数中，可以用#表示当前成员的序号。</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/da338cec7e7246008ff96e1442f65aad><p class=pgc-img-caption></p></div><p>A2获得序号构成的数列，A3获得每个位置成员与序号相加的结果序列。A4用<strong>A</strong>.select()函数在A1的序列中选出每3个中的第2个成员，即第2,5,8,…位置的成员，并构成序列。A5中将A1每2个成员分为一组。A2~A5结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/850d87834c954fbdad45939d9af2ff8d><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/133338a33f3140c297cc4249519dc938><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/dedb4d094cf54706b5b431e599296aec><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c487eef6397e4fa5abf8524faf9ed5d1><p class=pgc-img-caption></p></div><p>在循环函数中，SPL还提供用[ ]符号以相对方式访问成员：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1c18729dc20d498396a1deb5fac1ec9b><p class=pgc-img-caption></p></div><p>A2就是从序列中取出每个成员本身，A3在每个位置取出后面的1个成员，A4计算出序列中每个成员与前一个成员相比较的增长率。A2,A3和A4计算结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/850d87834c954fbdad45939d9af2ff8d><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2bbec8fd15ef42d2b7cf458257290962><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/db3b39411aaa42e0a250cf6943e8f225><p class=pgc-img-caption></p></div><p>A5查询出指定编号的股票信息。A6计算出每日股价的涨幅，A8进一步计算出这支股票的最大连涨天数。A6和A8的结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/aaa5a1dc053b4952be6d2c28d80f4657><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/091332807d49449fa0709df6c56c0f16><p class=pgc-img-caption></p></div><p>还可以用~[<strong>a</strong>,<strong>b</strong>]在循环运算中访问子集：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/67182afb2dcd4d4ab7274685f32974cd><p class=pgc-img-caption></p></div><p>A2在每个位置列出了序列中前后3个位置的成员。A3计算每个位置的移动平均值。A4和A5同样都是累计求和。A6计算反向的累计求和，即剩余成员的总和。A2~A6结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bb43c980220c4b96a69deb95b390b8c7><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/71053f191896463b9c639c10528a6471><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/aee34ff8cf8441c9b774ab4a473e4229><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/aee34ff8cf8441c9b774ab4a473e4229><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d313b8358c3c4160ace663f62a5e54f8><p class=pgc-img-caption></p></div><h1>4 对位访问</h1><p>我们知道，循环函数中的符号#用以表示当前成员的序号，事实上它就是个数，和其它数一样可以参加运算，特别是可以用作序号访问其它序列的成员。利用这个特点，我们可以在计算中对位访问其它序列：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/084eb47f1da84e4086e88bc8e43cf8b6><p class=pgc-img-caption></p></div><p>在循环计算中，表达式中的#可以用来表示当前的序号。计算后，A2,A3,A5,A6和A7结果分别如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/850d87834c954fbdad45939d9af2ff8d><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/258bc07b024943e2898a59d44b12f95a><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/133338a33f3140c297cc4249519dc938><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/133338a33f3140c297cc4249519dc938><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/00874d3900b74b92828147788c9f0390><p class=pgc-img-caption></p></div><p>使用多个等长的序列时，利用对位访问可以实现出类似记录字段的效果：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/08992aca0b0546ea9281610c102015fb><p class=pgc-img-caption></p></div><p>A4计算总分的排名，计算总分时按照位置取得成绩。A5生成姓名与排名的序表，同样根据位置将两个序列中的数据关联起来。A4和A5结果如下：</p><div class=pgc-img><img alt="SPL 的序号思维及定位计算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0fa535f12c2b43bbb0959b86793e9cd5><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'SPL','序号','思维及'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>