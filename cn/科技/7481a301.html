<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>汉字的显示与放大1 | 极客快訊</title><meta property="og:title" content="汉字的显示与放大1 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/39479416de39468f8eade575e3dd5db5"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7481a301.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7481a301.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7481a301.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7481a301.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7481a301.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7481a301.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7481a301.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7481a301.html><meta property="article:published_time" content="2020-11-14T21:05:00+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:00+08:00"><meta name=Keywords content><meta name=description content="汉字的显示与放大1"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/7481a301.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>汉字的显示与放大1</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>Turbo C 是一个西文编辑平台，不能直接显示汉字，除非先安装中文操作系统（如 UCDOS）。</p><p>但是安装中文操作系统会占用大量内存，有可能使 TC 无法加载或引起功 能冲突。</p><h1 class=pgc-h-arrow-right>在西文状态下显示和放大汉字的方法</h1><p>采用这种方法， 不需要安装中文系统，所需要的仅是一个或几个字库文件。</p><p><br></p><h1 class=pgc-h-arrow-right>汉字编码</h1><h4 class=pgc-h-arrow-right><br>1.区位码</h4><p>汉字有数万个（康熙字典收录 47000 多个），但绝大多数都不常用。</p><p>最常用的高 频字仅约 100 个，常用字约 3000 个，次常用字约 4000 个，罕见字约 8000 个，其余 都是死字。</p><p>1981 年，我国公布了《通讯用汉字字符集（基本集）及其交换码标准》 GB2312-80 方案，把高频字、常用字、次常用字汇集起来组成了汉字基本字符集（共 6763 个汉字）。</p><p>在该字符集中又根据<strong>使用频度</strong>把汉字分为一级汉字（3755 个，按拼 音排序）和二级汉字（3008 个，按部首排序）。除了这两级汉字，字符集还包括西 文字符、数字、图形符号共 700 多个非汉字字符。</p><p>汉字字符集（GB2312-80）将两级汉字和 700 多个非汉字字符都汇集在一张表 格中，该表格共有 94 行 94 列，每行称作一个“区”，每列称作一个“位”。（从1区，1位开始。）前 15 区 为非汉字字符，从 16 区开始才是汉字。</p><p>一个汉字（或符号）在表格中所处的行与列（即区和位）构成了一个汉字（或 符号）的区位码。例如：汉字“啊”位于第 16 行第 1 列，故“啊”的区位码是 1601。</p><h4 class=pgc-h-arrow-right>2.国标码</h4><p>计算机要处理汉字，必须给每个汉字一个唯一的编码，这些编码称作国标码。</p><p>英文字符是用一个字节进行编码的，即 ASCII 码，而汉字数量众多，需要用两 个字节才足以完成编码，所以汉字的国标码是两个字节。</p><p>国标码的两个字节是这样来的：将汉字（包括前 15 区的符号）的区号和位号分别加上 32 并各用一个字节表示出来。</p><p>汉字的区号、位号最大是 94，94 + 32 = 126，不超过 127，因此国标码的两个字节最 高位都是 0。</p><h4 class=pgc-h-arrow-right>3.机内码</h4><p>每个汉字都有唯一的国标码，按说可以用计算机处理汉字了，但不幸的是，计 算机不仅要处理汉字，还要处理英文字符，而汉字国标码和英文编码是存在冲突的。</p><p>汉字的国标码有两个字节，例如：“大”的国标码是：00110100 01110011，如 果把国标码的这两个字节直接存储到计算机中，则系统很可能把它们当做两个英文 字符（字符‘4’和字符‘i’）， 因此计算机内部不能存储国标码。</p><p>为此，计算机内部存储汉字编码时，通常都是把国标码两个字节的最高位都改 为 1，这样就由国标码变成了机内码（计算机内部实际存储的汉字编码）。如：“大” 的国标码是 00110100 01110011（0x3473），机内码是：10110100 11110011（0xb4f3）。</p><p>在内存中存储机内码时，总是把与区号相关的字节存储在<strong>低</strong>字节，而把 与位号相关的字节存储在<strong>高</strong>字节。</p><p>机内码是在国标码的基础上将两字节最高位都变为 1 而得来，相当于两个字节 各加了 128。</p><p>有了区位码和国标码的32，国标码和机内码的128，这些量就可以相互转换。</p><p>e.g.1：计算“大”的区号和位号</p><p>char c[3] = ”大”;</p><p>int qh, wh;</p><p>qh = c[0] - 160;</p><p>wh = c[1] - 160;</p><p>e.g.2:存储汉字到数组中</p><p>1.char c[5] = ”大小”;</p><p>2.strcpy(c,”大小”)；</p><p><br></p><h4 class=pgc-h-arrow-right>4.字形码</h4><p>不同的汉字，其形状是不同的。</p><p>为在计算机中显示汉字，通常都是先把每个汉 字的形状记录下来形成字形码。</p><p>16 点阵宋体字库中“大”字的字形码是这样来的：</p><p>16*16 的正方形表格中，从左上角的小方格开始记录，若小方格被“大”字覆盖， 则记为 1，否则记为 0。</p><div class=pgc-img><img alt=汉字的显示与放大1 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/39479416de39468f8eade575e3dd5db5><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=汉字的显示与放大1 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/68ef54a8bf6b4d0b8a2c005974d9461b><p class=pgc-img-caption></p></div><p><br></p><p>图 中共 16*16 = 256 小格，每 8 小格记成 1 个字节，所以 16 点阵字库中每个 汉字的字形码都是 32 字节。</p><p>按照汉字（符号）在区位表中的排列顺序把每个汉字（符号）的字形码汇集起 来存储到一个文件中，该文件便是字库文件（简称字库）。</p><p>字库中存有区位表中所有汉字（符号）的字形码。当需要显示某汉字时，必须 先从字库中调出该汉字的字形码，而后才能在屏幕上把它显示出来。</p><p>根据点阵数目的不同和汉字字体的不同，字库又分为：16 点阵宋体字库、16 点 阵楷体字库……，24 点阵宋体字库、24 点阵楷体字库……，48 点阵宋体字库…… 等，点阵数越大，字体笔画越平滑，点阵越小，笔画锯齿越严重。</p><h4 class=pgc-h-arrow-right><br></h4><h4 class=pgc-h-arrow-right>5.地址码</h4><p>一个汉字的字形码在字库中的起始地址称为该汉字的地址码。</p><p>“大”字的字形码存储在字库的位置：</p><p>“大”字在区位表中处于 20 区 83 位，在它前面共有(20 - 1)* 94 + (83 - 1)个汉 字（或符号）。</p><p>由于 16 点阵字库中每个汉字（符号）的字形码都是 32 字节，所以“大” 字的字形码在字库中的起始地址是：( (20 - 1) * 94 + (83 - 1) ) * 32 +1（下一个）-1（文件字节数从0开始）。</p><p><br></p><p>以上所有陈述原文均来自王金鹏， 肖进杰 编着的 《C 程序设计案例与提高教程 》</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'汉字','显示','放大'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>