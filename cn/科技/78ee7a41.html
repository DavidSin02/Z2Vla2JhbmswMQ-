<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Dcat Admin v1.6.0å‘å¸ƒï¼Œå¯¹åç«¯å¼€å‘è€…å‹å¥½çš„é«˜é¢œå€¼åå°ç³»ç»Ÿ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Dcat Admin v1.6.0å‘å¸ƒï¼Œå¯¹åç«¯å¼€å‘è€…å‹å¥½çš„é«˜é¢œå€¼åå°ç³»ç»Ÿ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/9eb5279f0c3f484c8d418644754c6d1d"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/78ee7a41.html><meta property="article:published_time" content="2020-11-14T20:55:23+08:00"><meta property="article:modified_time" content="2020-11-14T20:55:23+08:00"><meta name=Keywords content><meta name=description content="Dcat Admin v1.6.0å‘å¸ƒï¼Œå¯¹åç«¯å¼€å‘è€…å‹å¥½çš„é«˜é¢œå€¼åå°ç³»ç»Ÿ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/78ee7a41.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Dcat Admin v1.6.0å‘å¸ƒï¼Œå¯¹åç«¯å¼€å‘è€…å‹å¥½çš„é«˜é¢œå€¼åå°ç³»ç»Ÿ</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><blockquote class=pgc-blockquote-abstract><p>æ¥æºï¼šhttps://www.oschina.net/news/117140/dcat-admin-1-6-0-released</p></blockquote><h1 class=pgc-h-arrow-right>ç®€ä»‹</h1><p>Dcat Adminæ˜¯ä¸€ä¸ªåŸºäºlaravel-adminäºŒæ¬¡å¼€å‘è€Œæˆçš„åå°ç³»ç»Ÿæ„å»ºå·¥å…·ï¼Œåªéœ€å¾ˆå°‘çš„ä»£ç å³å¯å¿«é€Ÿæ„å»ºå‡ºä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„é«˜é¢œå€¼åå°ç³»ç»Ÿã€‚å†…ç½®ä¸°å¯Œçš„åå°å¸¸ç”¨ç»„ä»¶ï¼Œå¼€ç®±å³ç”¨ï¼Œè®©å¼€å‘è€…å‘Šåˆ«å†—æ‚çš„HTMLä»£ç ï¼Œå¯¹åç«¯å¼€å‘è€…éå¸¸å‹å¥½ã€‚</p><p>Dcat Admin v1.6.0 æ›´æ–°å†…å®¹ï¼š</p><p>æœ¬æ¬¡ç‰ˆæœ¬æ²¡æœ‰åŒ…å«ä¸å…¼å®¹æ”¹åŠ¨ï¼Œé€‚åˆæ‰€æœ‰ç”¨æˆ·å‡çº§ã€‚</p><p><strong>å‡çº§æ–¹æ³•</strong></p><pre><code>composer update dcat/laravel-admin</code></pre><p>æœ¬æ¬¡ç‰ˆæœ¬éœ€è¦é‡æ–°å‘å¸ƒ<strong>é™æ€èµ„æº</strong>ä»¥åŠ<strong>è¯­è¨€åŒ…</strong>ï¼Œç„¶åæŒ‰Ctrl+F5<strong>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜</strong>ï¼</p><pre><code>php artisan admin:publish --assets --forcephp artisan admin:publish --lang --force</code></pre><p></p><p><strong>åŠŸèƒ½æ–°å¢éƒ¨åˆ†</strong></p><p><strong>1.è¡¨æ ¼å›ºå®šåˆ—</strong></p><blockquote class=pgc-blockquote-abstract><p>æ³¨æ„è¿™ä¸ªåŠŸèƒ½æ”¯æŒç»„åˆè¡¨å¤´åŠŸèƒ½ï¼Œä½†ä¸å…¼å®¹åˆ—å­—æ®µéšè—åŠŸèƒ½ï¼</p></blockquote><p>é€šè¿‡ fixColumns æ–¹æ³•å¯ä»¥ç»™è¡¨æ ¼è®¾ç½®å›ºå®šåˆ—ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºå›ºå®šä»å¤´å¼€å§‹çš„å‰ä¸‰åˆ—ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå›ºå®šä»åå¾€å‰æ•°çš„ä¸¤åˆ—ï¼Œï¼ˆç¬¬äºŒä¸ªå‚æ•°å¯ä¸ä¼ ï¼Œé»˜è®¤ä¸º-1ï¼‰</p><pre><code>$grid-&gt;fixColumns(2, -2);</code></pre><p>æ•ˆæœ</p><div class=pgc-img><img alt="Dcat Admin v1.6.0å‘å¸ƒï¼Œå¯¹åç«¯å¼€å‘è€…å‹å¥½çš„é«˜é¢œå€¼åå°ç³»ç»Ÿ" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9eb5279f0c3f484c8d418644754c6d1d><p class=pgc-img-caption></p></div><p></p><p><strong>2.è¡¨å•å­—æ®µåŠ¨æ€æ˜¾ç¤º</strong></p><p>æ­¤åŠŸèƒ½åœ¨å·¥å…·è¡¨å•ä¸­ä¸€æ ·æœ‰æ•ˆï¼Œæ›´å¤šç”¨æ³•è¯·å‚è€ƒæ–‡æ¡£è¡¨å•å­—æ®µåŠ¨æ€æ˜¾ç¤º</p><pre><code>$form-&gt;radio('radio')    -&gt;when([1, 4], function (Form $form) {        // å€¼ä¸º1å’Œ4æ—¶æ˜¾ç¤ºæ–‡æœ¬æ¡†        $form-&gt;text('text1');        $form-&gt;text('text2');        $form-&gt;text('text3');    })    -&gt;when(2, function (Form $form) {        $form-&gt;editor('editor');    })    -&gt;when(3, function (Form $form) {        $form-&gt;image('image');    })    -&gt;options([        1 =&gt; 'æ˜¾ç¤ºæ–‡æœ¬æ¡†',        2 =&gt; 'æ˜¾ç¤ºç¼–è¾‘å™¨',        3 =&gt; 'æ˜¾ç¤ºæ–‡ä»¶ä¸Šä¼ ',        4 =&gt; 'è¿˜æ˜¯æ˜¾ç¤ºæ–‡æœ¬æ¡†',    ])    -&gt;default(1);</code></pre><p>æ•ˆæœ</p><div class=pgc-img><img alt="Dcat Admin v1.6.0å‘å¸ƒï¼Œå¯¹åç«¯å¼€å‘è€…å‹å¥½çš„é«˜é¢œå€¼åå°ç³»ç»Ÿ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f091d03f4ae54cdd85d315f05600c5db><p class=pgc-img-caption></p></div><p></p><p><strong>3.è¡¨å•æ”¯æŒå¤šåˆ—å¸ƒå±€ (column)</strong></p><p>å¤šåˆ—å¸ƒå±€åŠŸèƒ½ä½¿ç”¨äº†bootstrapçš„æ …æ ¼å¸ƒå±€ç³»ç»Ÿï¼Œæ‰€æœ‰åˆ—çš„å®½åº¦æ€»å’Œä¸å¾—è¶…å‡º12</p><pre><code>// ç¬¬ä¸€åˆ—å æ®1/2çš„é¡µé¢å®½åº¦$form-&gt;column(6, function (Form $form) {    $form-&gt;text('name')-&gt;required();    $form-&gt;date('born')-&gt;required();    $form-&gt;select('education')-&gt;options([...])-&gt;required();    ...});// ç¬¬äºŒåˆ—å æ®1/2çš„é¡µé¢å®½åº¦$form-&gt;column(6, function (Form $form) {    $form-&gt;image('avatar');    $form-&gt;decimal('wages');    $form-&gt;decimal('fund');    ...});// è°ƒæ•´æ‰€æœ‰è¡¨å•çš„å®½åº¦$form-&gt;width(9, 2);</code></pre><p>æ•ˆæœ</p><div class=pgc-img><img alt="Dcat Admin v1.6.0å‘å¸ƒï¼Œå¯¹åç«¯å¼€å‘è€…å‹å¥½çš„é«˜é¢œå€¼åå°ç³»ç»Ÿ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/30a9b25e31984b448f7f56b713ee3078><p class=pgc-img-caption></p></div><p></p><p><strong>4.å·¥å…·è¡¨å•æ”¯æŒtabã€columnç­‰å¸ƒå±€åŠŸèƒ½</strong></p><p>æ›´å¤šç”¨æ³•è¯·å‚è€ƒæ–‡æ¡£å·¥å…·è¡¨å•å¸ƒå±€</p><pre><code>&lt;?phpuse Dcat\Admin\Widgets\Form;class Setting extends Form{    public function form()    {        $this-&gt;tab('é€‰é¡¹1', function () {            $this-&gt;text('text1');            ...        });        $this-&gt;tab('é€‰é¡¹2', function () {            $this-&gt;text('text2');            ...        });    }    }</code></pre><p></p><p><strong>5.è¡¨æ ¼åˆ—è½¬åŒ–boolå€¼æ˜¾ç¤º</strong></p><p>æ­¤åŠŸèƒ½ç”±å°ä¼™ä¼´@yalksè´¡çŒ®ï¼Œå°†è¿™ä¸€åˆ—è½¬ä¸ºboolå€¼ä¹‹åæ˜¾ç¤ºä¸ºâœ“å’Œâœ—ã€‚</p><pre><code>$grid-&gt;column('approved')-&gt;bool();</code></pre><p>ä½ ä¹Ÿå¯ä»¥æŒ‰ç…§è¿™ä¸€åˆ—çš„å€¼æŒ‡å®šæ˜¾ç¤ºï¼Œæ¯”å¦‚å­—æ®µçš„å€¼ä¸ºYå’ŒNè¡¨ç¤ºtrueå’Œfalse</p><pre><code>$grid-&gt;column('approved')-&gt;bool(['Y' =&gt; true, 'N' =&gt; false]);</code></pre><p></p><p><strong>6.è¡¨æ ¼ä½¿ç”¨æ»‘åŠ¨é¢æ¿æœç´¢æ—¶æ˜¾ç¤ºæœç´¢æ¡ä»¶çš„æ•°é‡</strong></p><p><strong></strong></p><div class=pgc-img><img alt="Dcat Admin v1.6.0å‘å¸ƒï¼Œå¯¹åç«¯å¼€å‘è€…å‹å¥½çš„é«˜é¢œå€¼åå°ç³»ç»Ÿ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/55438c0f14d846a7b9fe90300d000e87><p class=pgc-img-caption></p></div><p><strong></strong></p><p><strong>7.tagsæ ‡ç­¾è¡¨å•æ”¯æŒajaxåŠ è½½</strong></p><p>æ­¤åŠŸèƒ½ç”±å°ä¼™ä¼´@larvacentè´¡çŒ®</p><pre><code>$form-&gt;tags('friends')-&gt;options(function ($ids) {    return User::find((array) $ids)-&gt;pluck('name', 'id');})-&gt;ajax('api/users');</code></pre><p>API /admin/api/usersæ¥å£çš„ä»£ç ï¼š</p><pre><code>public function users(Request $request){    $q = $request-&gt;get('q');    return User::where('name', 'like', "%$q%")-&gt;paginate(null, ['id', 'name as text']);}</code></pre><p><strong></strong></p><p><strong>8.å¼¹çª—é€‰æ‹©å™¨å…è®¸ä¼ é€’getå‚æ•°</strong></p><pre><code>$form-&gt;selectResource('user_id')-&gt;path('auth/users?p1=v1&amp;p2=v2');</code></pre><p><strong></strong></p><p><strong>9.actionç”Ÿæˆå‘½ä»¤ä»¥åŠä»£ç ç”Ÿæˆå™¨æ”¯æŒè‡ªå®šä¹‰PSR4æŒ‡å®šçš„ç›®å½•</strong></p><p></p><p><strong>10.ä»£ç ç”Ÿæˆå™¨æ”¯æŒè‡ªå®šä¹‰æ•°æ®ä»“åº“åç§°</strong></p><p></p><p><strong>11.å·¥å…·è¡¨å•æ”¯æŒEmbedsç±»å‹è¡¨å•</strong></p><p><strong></strong></p><p><strong>12.è¡¨å•å¢åŠ locationåˆ·æ–°æ•´ä¸ªé¡µé¢æ–¹æ³•</strong></p><blockquote class=pgc-blockquote-abstract><p>æ­¤åŠŸèƒ½åœ¨å·¥å…·è¡¨å•ä¸­ä¹Ÿä¸€æ ·å¯ä»¥ä½¿ç”¨</p></blockquote><p>æ­¤æ–¹æ³•å¯ä»¥åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œè€Œä¸æ˜¯å±€éƒ¨åˆ·æ–°</p><pre><code>$form-&gt;saved(function (Form $form) {    // ä¸ä¼ å‚æ•°åˆ™åˆ·æ–°å½“å‰é¡µé¢    // return $form-&gt;location();    return $form-&gt;location('auth/user', 'ä¿å­˜æˆåŠŸ');});// è·³è½¬å¹¶æç¤ºé”™è¯¯ä¿¡æ¯$form-&gt;saved(function (Form $form) {    return $form-&gt;location('auth/user', [        'message' =&gt; 'ç³»ç»Ÿé”™è¯¯',        'status' =&gt; false,    ]);});</code></pre><p><strong></strong></p><p><strong>13.è‡ªåŠ¨å¿½ç•¥Display ã€Text readonlyä»¥åŠText disableç±»å‹è¡¨å•</strong></p><p>#310</p><p><strong></strong></p><p><strong>14.Expandä»¥åŠModalå…è®¸åœ¨é—­åŒ…å†…è¿”å›å¼‚æ­¥åŠ è½½ç±»çš„å®ä¾‹</strong></p><pre><code>$grid-&gt;post-&gt;modal(function ($modal) {    $modal-&gt;title('è‡ªå®šä¹‰å¼¹çª—æ ‡é¢˜');    // å…è®¸åœ¨æ¯”åŒ…å†…è¿”å›å¼‚æ­¥åŠ è½½ç±»çš„å®ä¾‹    return Post::make(['title' =&gt; $this-&gt;&gt;title]);});</code></pre><p><strong></strong></p><p><strong>BUGä¿®å¤éƒ¨åˆ†</strong></p><ol start=1><li>ä¿®å¤è¡¨å•Fieldsetå¸ƒå±€é»˜è®¤æ˜¾ç¤ºä¸ºæ”¶èµ·é—®é¢˜</li><li>ä¿®å¤numberè¡¨å•ç»„ä»¶æ— æ³•ä¿å­˜å°æ•°é—®é¢˜</li><li>ä¿®å¤å½“ç¦ç”¨ConvertEmptyStringsToNullä¸­é—´ä»¶æ—¶HasManyè¡¨å•æ— æ³•ä¿å­˜æ–°å¢æ•°æ®é—®é¢˜</li></ol></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Dcat','Admin','v1.6'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>