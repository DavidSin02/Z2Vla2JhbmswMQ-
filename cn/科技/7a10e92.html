<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Matplotlib画图如此简单 | 极客快訊</title><meta property="og:title" content="Matplotlib画图如此简单 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/1da4ae54532e4e39a5dfe054de921cd6"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7a10e92.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7a10e92.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7a10e92.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7a10e92.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7a10e92.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7a10e92.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7a10e92.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7a10e92.html><meta property="article:published_time" content="2020-10-29T21:06:15+08:00"><meta property="article:modified_time" content="2020-10-29T21:06:15+08:00"><meta name=Keywords content><meta name=description content="Matplotlib画图如此简单"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/7a10e92.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Matplotlib画图如此简单</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>jupyter入门之Matplotlib</p><p>一. Matplotlib基础知识</p><ul><li>Matplotlib中的基本图表包括的元素</li><li>x轴和y轴 axis 水平和垂直的轴线</li><li>轴标签 axisLabel 水平和垂直的轴标签</li><li>x轴和y轴刻度 tick 刻度标示座标轴的分隔，包括最小刻度和最大刻度</li><li>x轴和y轴刻度标签 tick label 表示特定座标轴的值</li><li>绘图区域（座标系） axes 实际绘图的区域</li><li>画布 figure 呈现所有的座标系</li></ul><p>可以用下图来概括</p><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/1da4ae54532e4e39a5dfe054de921cd6><p class=pgc-img-caption></p></div><p><strong>1.子画布</strong></p><p>依赖导入</p><pre><code>import numpy as npimport pandas as pdfrom pandas import Series,DataFrameimport matplotlib.pyplot as plt%matplotlib inline</code></pre><p><strong>只含单一曲线的图</strong></p><p>1、可以使用多个plot函数（推荐），在一个图中绘制多个曲线</p><p>2、也可以在一个plot函数中传入多对X,Y值，在一个图中绘制多个曲线</p><pre><code>x = np.arange(0,10,step=1)s1 = Series(x,index=list('abcdefghij'))s2 = Series(x**2,index=s1.index)# 索引和值一起设置plt.plot(x,x*2,x,x*3,x,x)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/89ae2cc6513044db9cb1cede381cf8fc><p class=pgc-img-caption></p></div><p><strong>设置子画布</strong></p><p><strong class=highlight-text>axes = plt.subplot()</strong></p><pre><code># 221的含义是将画布分为两行两列，# axes1在第一个位置axes1 = plt.subplot(2,2,1)axes1.plot(x,x**2)# axes2在第四个位置axes2 = plt.subplot(2,2,4)axes2.plot(x,x**3)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bb2e5be6a1b64dac9fae22c090333742><p class=pgc-img-caption></p></div><pre><code># 子画布可以按照不同的比例进行拆分，可以在一个版面内共存，# 但是，如果两个子画布有重叠部分，后绘制的画布会覆盖先绘制的画布axes2 = plt.subplot(2,2,1)axes2.plot(x,x**2)axes1 = plt.subplot(3,3,1)axes1.plot(x,x*2)</code></pre><p>网格线</p><p><strong>2. 绘制正弦余弦</strong></p><pre><code>x = np.linspace(0,2*np.pi,100)y1 = np.sin(x)y2 = np.cos(x)# 自动选择最近的画布进行开启plt.grid(True)plt.plot(x,y1,x,y2)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/cd397cec2c6e448183033c993134338c><p class=pgc-img-caption></p></div><pre><code>axes1 = plt.subplot(221)# True 开启网格线# linewidth设置网格线的粗细axes1.grid(True,linewidth=2)axes2 = plt.subplot(222)# alpha设置透明度 0-1之间的数axes2.grid(True,alpha=0.5)axes3 = plt.subplot(223)axes3.grid(True,color='green')axes4 = plt.subplot(224)# 设置网格线方向# linestyle/ls设置虚线axes4.grid(True,axis='x')</code></pre><p>使用plt.grid方法可以开启网格线，使用plt面向对象的方法，创建多个子图显示不同网格线</p><ul><li>lw代表linewidth，线的粗细</li><li>alpha表示线的明暗程度</li><li>color代表颜色</li><li>axis显示轴向</li></ul><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c9f886cf09b445d19551a477394d3c3c><p class=pgc-img-caption></p></div><p><strong>座标轴界限</strong></p><p><strong class=highlight-text>plt.axis([xmin,xmax,ymin,ymax])</strong></p><pre><code>plt.plot(x,y1)# 注意：必须x,y轴同时设置界限plt.axis([-1,7.2,-2,2])</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6611a5a419044932af642a48e9af710f><p class=pgc-img-caption></p></div><pre><code># 画圆x = np.linspace(-1,1,100)f = lambda x:(1-x**2)**0.5plt.plot(x,f(x),x,-f(x))# 使用axis函数设置座标轴的显示风格plt.axis('equal')</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fce75e1d67544ef3b184159c4f308c05><p class=pgc-img-caption></p></div><pre><code>axes = plt.subplot(111)axes.plot(x,f(x),x,-f(x))axes.axis('equal')</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cb2034d4bdac4e02852b691690dc0686><p class=pgc-img-caption></p></div><p><strong>xlim方法和ylim方法</strong></p><p>除了plt.axis方法，还可以通过xlim，ylim方法设置座标轴范围</p><pre><code># 分别设置x轴和y轴界限plt.plot(x,y2)plt.xlim(-2,20)plt.ylim(-2,2)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d1922c0eaec44cd9827911f85617c219><p class=pgc-img-caption></p></div><p>面向对象风格设置画布样式</p><pre><code>axes = plt.subplot(111)axes.plot(x,y2)# 使用面向对象风格设置画布样式，如果属性找不到，就使用set_XX函数设置# .+Tab键,快捷查看对象属性和方法axes.set_xlim(-5,5)axes.set_ylim(-5,5)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/42d532b262b9488c909a9bd49079c5e2><p class=pgc-img-caption></p></div><p><strong>座标轴标签</strong></p><p>xlabel方法和ylabel方法<br>plt.ylabel(‘y = x^2 + 5’,rotation = 60)旋转</p><ul><li>color 标签颜色</li><li>fontsize 字体大小</li><li>rotation 旋转角度</li></ul><pre><code>plt.plot(x,y1)plt.xlabel('x_label',fontsize=35)plt.ylabel('y-label',color='pink',fontsize=40)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b6cff85b63de4ea79c9e1b692495a3a5><p class=pgc-img-caption></p></div><pre><code>axes = plt.subplot(111)axes.plot(x,y1)# HTML支持的字体设置，在这里都可以使用color fontsize linestyle linewidth# fontsize 字体大小# color 字体颜色# rotation 旋转角度axes.set_ylabel('y_label',fontsize=30,color='red',rotation=90)# 使用字典设置字体axes.set_xlabel('x_label',fontdict={    'fontsize':40,    'color':'blue'})</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/fd1c992dd1c247ef95fc8d594fb5bd68><p class=pgc-img-caption></p></div><p><strong>标题</strong></p><p>plt.title()方法</p><ul><li>loc {left,center,right}</li><li>color 标签颜色</li><li>fontsize 字体大小</li><li>rotation 旋转角度</li></ul><pre><code>plt.plot(x,y1)# loc设置标题显示位置（left,right,center）plt.title('SIN(X)',fontsize=60,color='purple',rotation=45,loc='left')</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/26a799c626214ac8b021e87483453192><p class=pgc-img-caption></p></div><p><strong>注：matplotlib显示中文如何处理?</strong></p><p>Windows：</p><pre><code>from pylab import mpl# 指定默认字体mpl.rcParams['font.sans-serif'] = ['FangSong'] # 解决保存图像是负号'-'显示为方块的问题mpl.rcParams['axes.unicode_minus'] = False </code></pre><p>Mac:</p><pre><code>import numpy as npimport matplotlibimport matplotlib.pyplot as pltfrom matplotlib.font_manager import FontProperties# 导入本地字体文件font = FontProperties(fname='/Library/Fonts/Songti.ttc')# Fixing random state for reproducibilitynp.random.seed(19680801)# 设置为FALSE 解决负号显示为框的问题matplotlib.rcParams['axes.unicode_minus'] = Falsefig, ax = plt.subplots()ax.plot(10*np.random.randn(100), 10*np.random.randn(100), 'o')# 用fontproperties参数设置字体为自定义字体ax.set_title(u'散点图',fontproperties=font,fontsize=30)plt.show()</code></pre><p><strong>3.图例</strong></p><p><strong>原始方法</strong></p><pre><code># 相关依赖导入...df = DataFrame(data=np.random.randint(0,100,size=(5,3)),columns=list('abc'))df.plot()</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0c7fdd726cd9476c952b8c71899665eb><p class=pgc-img-caption></p></div><p><strong>legend方法</strong></p><p>两种传参方法：</p><ul><li>分别在plot函数中增加label参数,再调用legend()方法显示</li><li>直接在legend方法中传入字符串列表</li></ul><pre><code>x = np.arange(0,10,step=1)plt.plot(x,x,x,x*2,x,x/2)# 传入一个列表参数，参数内容就是每一个data的说明plt.legend(['fast','normal','slow'])</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ea62438cf2f84a8caf97484c063bf1db><p class=pgc-img-caption></p></div><p>第二种传参</p><pre><code>plt.plot(x,x,label='normal')plt.plot(x,x*2,label='fast')plt.plot(x,x/2,label='slow')plt.legend(loc=10)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/10f5ae455cdf4d8da01c91616804526d><p class=pgc-img-caption></p></div><p>loc参数</p><p>loc参数用于设置图例标签的位置，一般在legend函数内</p><p>matplotlib已经预定义好几种数字表示的位置</p><p>loc参数可以是2元素的元组，表示图例左下角的座标</p><p>[0,0] 左下</p><p>[0,1] 左上</p><p>[1,0] 右下</p><p>[1,1] 右上</p><p>图例也可以超过图的界限loc = (-0.1,0.9)</p><pre><code>plt.plot(x,x,label='normal')plt.plot(x,x*2,label='fast')plt.plot(x,x/2,label='slow')plt.legend(loc=[0.4,1.1],ncol=3)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6ee267ea41b4464ea565757f92e549d8><p class=pgc-img-caption></p></div><p><strong>ncol参数</strong></p><p>ncol控制图例中有几列,在legend中设置ncol,需要设置loc</p><p><strong>linestyle、color、marker</strong></p><p>修改线条样式</p><p><strong>4.保存图片</strong></p><p>使用figure对象的savefig的函数</p><p>filename</p><p>含有文件路径的字符串或Python的文件型对象。图像格式由文件扩展名推断得出，例如，.pdf推断出PDF，.png推断出PNG （“png”、“pdf”、“svg”、“ps”、“eps”……）</p><p>dpi</p><p>图像分辨率（每英寸点数），默认为100</p><p>facecolor</p><p>图像的背景色，默认为“w”（白色）</p><pre><code># 获取figure对象（画布对象）# 设置画布的背景色figure = plt.figure(facecolor='cyan')# 设置座标系的背景色axes = plt.subplot(111,facecolor='blue')# 设置线条的颜色axes.plot(x,x,x,x*2,color='yellow')# dpi设置像素大小figure.savefig('18011.png',dpi=50)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/abb5ba3489c4420ba0c6d7bdb9bec2cf><p class=pgc-img-caption></p></div><p><strong>二. 设置plot的风格和样式</strong></p><blockquote><p>plot语句中支持除X,Y以外的参数，以字符串形式存在，来控制颜色、线型、点型等要素，语法形式为： plt.plot(X, Y, ‘format’, …)</p></blockquote><p><strong>1.点和线的样式</strong></p><p><strong>颜色</strong></p><p>参数color或c</p><pre><code>plt.plot(x,x,color='c')</code></pre><p>常用色彩名与别名</p><p><strong>透明度</strong></p><p>alpha</p><pre><code>plt.plot(x,x,alpha=0.3,color='r')</code></pre><p><strong>背景色</strong></p><p>设置背景色，通过plt.subplot()方法传入facecolor参数，来设置座标系的背景色</p><pre><code># 设置座标系的背景plt.subplot(facecolor='red')plt.plot(x,np.sin(x))</code></pre><p><strong>线型</strong></p><p>参数linestyle或ls</p><pre><code>plt.plot(x,x,ls=':')plt.plot(x,x*2,ls='steps')plt.plot(x,x/2,ls='None')</code></pre><p>常用线型</p><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2b68dc541e3a4fe596425c9d9c6c21dd><p class=pgc-img-caption></p></div><p><strong>线宽</strong></p><p>linewidth或lw参数</p><p><strong>不同宽度的破折线</strong></p><p>dashes参数 eg.dashes = [20,50,5,2,10,5]</p><p>设置破折号序列各段的宽度</p><pre><code># dashes自定义破折线的样式plt.plot(x,x,dashes=[10,2,3,5])</code></pre><p><strong>点型</strong></p><ul><li>marker 设置点形</li><li>markersize 设置点形大小</li></ul><pre><code>x = np.random.randint(0,10,size=6)plt.plot(x,marker='s',markersize=60)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/fe1c33f994da4285a4a2c71c473dfee6><p class=pgc-img-caption></p></div><p>常用点型参数设置</p><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/51c1b521a23d4ee68183a1bca1d808f9><p class=pgc-img-caption></p></div><pre><code>plt.plot(x,marker='4',markersize=30)plt.plot(x,x*2,marker='3',markersize=40)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7b37fec353cf40a0be0a819fcb1a9c6b><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/58f55cabfa974deea3addab2936cb92f><p class=pgc-img-caption></p></div><pre><code>plt.plot(np.random.randint(0,10,size=10),marker='h',markersize=20,label='六边形1',)plt.plot(np.random.randint(0,10,size=10),marker='H',markersize=20,label='六边形2')plt.plot(np.random.randint(0,10,size=10),marker='8',markersize=20,label='八边形')plt.plot(np.random.randint(0,10,size=10),marker='p',markersize=20,label='五边形')plt.legend()</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3663bfbcea9a4b7c918c966b42e78cd1><p class=pgc-img-caption></p></div><p>标记参数</p><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c06491fa84574327bd354d3b8446e9b0><p class=pgc-img-caption></p></div><p><strong>2.多参数连用</strong></p><blockquote><p>颜色、点型、线型，可以把几种参数写在一个字符串内进行设置 ‘r-.o’</p></blockquote><pre><code># 参数连用需要对不同的线进行分别设置plt.plot(x,x,'r:v',x,x*2,'b--h')</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2df2d0e1f6f248a68aa44b7fbede54cc><p class=pgc-img-caption></p></div><p><strong>更多点和线的设置</strong></p><li>markeredgecolor = ‘green’,</li><li>markeredgewidth = 2,</li><li>markerfacecolor = ‘purple’</li><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/98776d2691ab46d8869c05f1cd40837a><p class=pgc-img-caption></p></div><p><strong>多个曲线同一设置</strong></p><blockquote><p>属性名声明,不可以多参数连用</p><p>plt.plot(x1, y1, x2, y2, fmt, …)</p></blockquote><pre><code>x = np.arange(0,10,1)# 统一设置plt.plot(x,x,x,x*2,x,x/2,linewidth=3,color='blue')# 分别设置plt.plot(x,x,'r-.s',x,x*2,'b--h')</code></pre><p><strong>多曲线不同设置</strong></p><blockquote><p>多个都进行设置时，多参数连用 plt.plot(x1, y1, fmt1, x2, y2, fmt2, …)</p></blockquote><p><strong>三种设置方式</strong></p><p><strong>1.向方法传入关键字参数</strong></p><p>1. import matplotlib as mpl</p><p>2.<strong>对实例使用一系列的setter方法</strong></p><p>plt.plot()方法返回一个包含所有线的列表，设置每一个线需要获取该线对象</p><ol start=1><li>eg: lines = plt.plot(); line = lines[0]</li><li>line.set_linewith()</li><li>line.set_linestyle()</li><li>line.set_color()</li></ol><p><strong>3.对座标系使用一系列的setter方法</strong></p><p>axes = plt.subplot()获取座标系</p><ul><li>set_title()</li><li>set_facecolor()</li><li>set_xticks、set_yticks 设置刻度值</li><li>set_xticklabels、set_yticklabels 设置刻度名称</li></ul><p>例：</p><pre><code>lines = plt.plot(x,x,x,x*2,x,x/2)# 根据line对象设置line的属性lines[0].set_linewidth(3)lines[1].set_color('cyan')lines[2].set_linestyle('--')</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d6ae09000459404184bac502c2ca353d><p class=pgc-img-caption></p></div><p><strong>X、Y轴座标刻度</strong></p><p><strong>plt.xticks()和plt.yticks()方法</strong></p><ul><li>需指定刻度值和刻度名称 plt.xticks([刻度列表],[名称列表])</li><li>支持fontsize、rotation、color等参数设置</li></ul><pre><code>x = np.linspace(0,2*np.pi,100)plt.plot(x,np.sin(x))# xticks函数设置座标轴刻度和标签plt.xticks([0,np.pi/2,np.pi,3*np.pi/2,2*np.pi],['0','π/2','π','3π/2','2π'])</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/31ad7f665c464a8dbae99db362152998><p class=pgc-img-caption></p></div><pre><code>axes = plt.subplot(111)axes.plot(x,np.sin(x))# 使用画布对象设置座标轴刻度和座标轴刻度标签axes.set_xticks([0,np.pi/2,np.pi,3*np.pi/2,2*np.pi])axes.set_xticklabels(['0','$\pi$/2','π','3π/2','2π'],fontsize=20)axes.set_yticks([-1,0,1])axes.set_yticklabels(['min',0,'max'],fontsize=20)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8c7ab6fa4d8e4121a91e54872f960ae0><p class=pgc-img-caption></p></div><p><strong>三、2D图形</strong></p><p><strong>1.直方图</strong></p><blockquote><p>【直方图的参数只有一个x！！！不像条形图需要传入x,y】</p></blockquote><p>hist()的参数</p><p>bins</p><p>可以是一个bin数量的整数值，也可以是表示bin的一个序列。默认值为10</p><p>normed</p><p>如果值为True，直方图的值将进行归一化处理，形成概率密度，默认值为False</p><p>color</p><p>指定直方图的颜色。可以是单一颜色值或颜色的序列。如果指定了多个数据集合，颜色序列将会设置为相同的顺序。如果未指定，将会使用一个默认的线条颜色</p><p>orientation</p><p>通过设置orientation为horizontal创建水平直方图。默认值为vertical</p><pre><code>x = np.random.randint(0,100,size=100)plt.hist(x,bins=5)</code></pre><p><strong>2. 条形图</strong></p><blockquote><p>【条形图有两个参数x,y】</p><p>width 纵向设置条形宽度</p><p>height 横向设置条形高度</p><p>bar()、barh()</p></blockquote><pre><code>x = np.array([2,5,7,9,4,3,8])# x 就是底轴刻度标签# height 就是柱形图的柱高# width 表示柱宽 (0-1取值)plt.bar(x=list('abcdefg'),height=x,width=1)# y 就是底轴刻度标签# width 就是柱形图的柱高# height 表示柱宽plt.barh(y=list('abcdefg'),width=x,height=1)</code></pre><p><strong>3. 饼图</strong></p><blockquote><p>【饼图也只有一个参数x！】</p><p>pie()<br><strong>饼图适合展示各部分占总体的比例，条形图适合比较各部分的大小</strong></p></blockquote><p><strong>普通部分占满饼图</strong></p><pre><code>x = [45,6]plt.pie(x)</code></pre><p>普通未占满饼图</p><pre><code>x = [0.4,0.3]plt.pie(x)</code></pre><pre><code>饼图阴影、分裂等属性设置labels参数设置每一块的标签；labeldistance参数设置标签距离圆心的距离（比例值,只能设置一个浮点小数）autopct参数设置比例值的显示格式(%1.1f%%)；pctdistance参数设置比例值文字距离圆心的距离explode参数设置每一块顶点距圆形的长度（比例值,列表）；colors参数设置每一块的颜色（列表）；shadow参数为布尔值，设置是否绘制阴影startangle参数设置饼图起始角度</code></pre><pre><code># labeldistance只能设置一个小数plt.pie(x,labels=['男','女'],labeldistance=0.3,        autopct="%1.2f%%",pctdistance=0.8,       explode=[0.1,0.0],       colors=['blue','yellow'],       startangle=90,       shadow=True)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b7e0c4b7926349058ed5598bd339b9f6><p class=pgc-img-caption></p></div><p><strong>4. 散点图</strong></p><blockquote><p>【 散点图需要两个参数x,y，但此时x不是表示x轴的刻度，而是每个点的横座标！】</p><p>scatter()</p></blockquote><pre><code>x = np.random.normal(size=1000)y = np.random.normal(size=1000)# 生成1000个随机颜色colors = np.random.random(size=(1000,3))# 使用c参数来设置颜色plt.scatter(x,y,marker='d',c=colors)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6548c275ac8944338006cc3e4dc9c261><p class=pgc-img-caption></p></div><p><strong>四.3D图</strong></p><p><strong>曲面图</strong></p><blockquote><p>导包</p><p>from mpl_toolkits.mplot3d.axes3d import Axes3D</p><p>使用mershgrid函数切割x,y轴</p><p>X,Y = np.meshgrid(x, y)</p><p>创建3d座标系</p><p>axes = plt.subplot(projection=’3d’)</p><p>绘制3d图形</p><p>p = axes.plot_surface(X,Y,Z,color=’red’,cmap=’summer’,rstride=5,cstride=5)</p><p>添加colorbar</p><p>plt.colorbar(p,shrink=0.5)</p></blockquote><p>例:</p><pre><code>def createZ(x,y):    return np.sin(x) + np.cos(y)*2 - np.pi/5from mpl_toolkits.mplot3d.axes3d import Axes3Daxes = plt.subplot(projection='3d')x = np.linspace(-np.pi,np.pi,100)y = np.linspace(-np.pi,np.pi,100)# 使用x,y生成一组网格X,Y = np.meshgrid(x,y)Z = createZ(X,Y)p = axes.plot_surface(X,Y,Z,cmap='summer',rstride=5,cstride=5)plt.colorbar(p,shrink=0.5)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a89fde7d7f964d79838700c10681e84b><p class=pgc-img-caption></p></div><p><strong>五.玫瑰图/极座标条形图</strong></p><pre><code>创建极座标，设置polar属性plt.axes(polar = True)绘制极座标条形图index = np.arange(-np.pi,np.pi,2*np.pi/6)plt.bar(x=index ,height = [1,2,3,4,5,6] ,width = 2*np.pi/6)</code></pre><pre><code># 玫瑰图x = np.array([2,5,7,9,4,3,8])plt.axes(polar = True)plt.bar(x=list('abcdefg'),height=x)</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/76cc28f0bc854ea2905a7498fb7d892d><p class=pgc-img-caption></p></div><p><strong>六.图形内的文字、注释、箭头</strong></p><p><strong>1.控制文字属性的方法</strong></p><p>Prop</p><p>所有的方法会返回一个matplotlib.text.Text对象</p><pre><code># 画布figure = plt.figure()# figure.text(x=1,y=1,s='这是figure对象的注释')figure.suptitle('figure  title')# 等差数列x = np.linspace(-np.pi,np.pi,100)axes1 = plt.subplot(221)axes1.plot(x,np.sin(x))# x,y是以座标轴刻度为准的一组数据，描述了注释信息的注释位置axes1.text(x=0.5,y=0.5,s='这是一段注释')axes2 = plt.subplot(222)axes2.plot(x,np.cos(x),color='red')</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4b9d0a2f5f844b15b43336099b58df5d><p class=pgc-img-caption></p></div><p><strong>2.图形内的文字</strong></p><p><strong class=highlight-text>text()</strong></p><p><strong>3. 注释</strong></p><p><strong class=highlight-text>annotate()</strong></p><pre><code>xy参数设置箭头指示的位置xytext参数设置注释文字的位置arrowprops参数以字典的形式设置箭头的样式width参数设置箭头长方形部分的宽度headlength参数设置箭头尖端的长度，headwidth参数设置箭头尖端底部的宽度shrink参数设置箭头顶点、尾部与指示点、注释文字的距离（比例值），可以理解为控制箭头的长度</code></pre><pre><code>figure = plt.figure(figsize=(8,6))axes = plt.subplot(111)axes.plot(x,np.sin(x))# s 注释的文字# xy  箭头指向的位置# xytext 注释文字放置的位置# arrowprops没有arrowstyle键的设置方式axes.annotate(s='this is a annotate',xy=(0.5,0.5),xytext=(0.8,0.8),             arrowprops = {                 'width':10,                 'headlength':12,                 'headwidth':15,                 'shrink':0.2             })# 使用arrowstyle设置箭头样式axes.annotate(s='this is a good text',xy=(-0.2,-0.2),xytext=(-0.4,-0.6),             arrowprops = {                'arrowstyle': 'fancy'             })</code></pre><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0499d1df546b4d209bbfb400b09ff874><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Matplotlib画图如此简单 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b2933a3db0ce4f09affb89245f467cc5><p class=pgc-img-caption></p></div><p><br></p><blockquote><p>专注于技术热点大数据，人工智能，JAVA、Python、 C 、GO、Javascript等语言最新前言技术，及业务痛点问题分析，请关注【编程我最懂】共同交流学习。</p></blockquote></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Matplotlib','画图','简单'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>