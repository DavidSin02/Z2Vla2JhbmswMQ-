<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>智能配变终端通信故障定位应用程序的设计与实现 | 极客快訊</title><meta property="og:title" content="智能配变终端通信故障定位应用程序的设计与实现 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/df1037bf7e834116b4db3ae3865dcdb1"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7c40495.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7c40495.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7c40495.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7c40495.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7c40495.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7c40495.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7c40495.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7c40495.html><meta property="article:published_time" content="2020-10-29T20:53:30+08:00"><meta property="article:modified_time" content="2020-10-29T20:53:30+08:00"><meta name=Keywords content><meta name=description content="智能配变终端通信故障定位应用程序的设计与实现"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/7c40495.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>智能配变终端通信故障定位应用程序的设计与实现</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>智能配变终端采集配电变压器现场各种数据，是配电网智能化、自动化中不可缺少的前端元件。随着电力物联网概念的提出，智能配变终端逐渐进入物联网终端的时代。基于物联网的智能配变终端具有对台区下行设备的抄表功能，将采集到的数据上传至配电主站。</strong></p><p><strong>针对现场主站出现没有下行设备数据的问题，科大智能电气技术有限公司的研究人员秦明辉、潘晓辉、陈雷刚，在2020年第7期《电气技术》杂志上撰文，提出设计一种用于通信故障定位的应用程序，此应用程序用于监视终端的各个通信通道的数据交互，对通道报文进行分析，从而判断故障处于何处。</strong></p><div class=pgc-img><img alt=智能配变终端通信故障定位应用程序的设计与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/df1037bf7e834116b4db3ae3865dcdb1><p class=pgc-img-caption></p></div><p>电力物联网，就是围绕电力系统各环节，充分应用移动互联、人工智能等现代信息技术、先进通信技术，实现电力系统各环节万物互联、人机交互，具有状态全面感知、信息高效处理和应用便捷灵活特征的智慧服务系统。随着电力物联网的不断推进，将传统的低压台区终端设备与物联网技术不断融合，产生一种新的物联网终端，通过物联网通信协议，实现配变终端与低压设备的数据交互功能。</p><p>在配网自动化系统中，智能配电变压器监测终端（distribution transformer supervisory terminal unit, TTU）是必不可少的一环，它不仅用于对变压器一侧实时数据的采集，监测变压器的运行状况，并将数据传送到主站，而且将众多的终端与漏电保护器等下行设备结合在一起，构成整个配电台区终端组群，为主站提供大量信息数据，从而构成配电系统的运行及管理，配电台区到用户区域。</p><p>智能配变终端是一种安装在变压器低压侧的用以采集配电变压器高、低压侧的电压、电流及开关数据状态的二次设备。终端本身拥有本地与远程两种通信接口。远程通信是通过无线公网将终端采集的数据与收到下行设备的数据打包分类后上传给主站。本地通信主要通过485总线、232总线、电力载波与微功率无线方式，主要是终端召测数据与下发控制命令。</p><h1 class=pgc-h-arrow-right>1 TTU的通信方式</h1><p>TTU的通信方式有严格的要求，其与主站之间的通信必须遵循104规约或者非平衡的101规约。而与漏电保护器、分路监测单元等设备支持Modbus等通信协议，并通过RS 485串口与这些设备进行通信，实现对这些下行设备的数据监测与信息采集等功能，并将采集的数据上送至配电主站。随着台区下行设备的增多，数据信息随之增多，采集数据的难度也随之增大，采集的信息更需要准确性、稳定性。</p><p>TTU通过RS485通信口与漏电保护器、剩余电流动作保护器、智能电容器等设备通信，同时采集数据上送配电主站。当主站未显示这些设备的信息时，无法判断是终端采集到信息但未上传至主站，还是终端未采集到设备的数据信息。</p><p>本文基于现场针对配电主站没有下行设备数据信息的情况，提出的一种终端的通信监视方法的通信故障定位应用程序（application, APP）设计方案。</p><h1 class=pgc-h-arrow-right>2 主站未收到下行设备数据问题的分析</h1><p>TTU除了采集本体的数据以外，还采集下行设备的数据，再由终端上传给现场主站。图1所示为TTU分别与主站和下行设备之间的通信方式。针对主站出现无法接收到TTU下行设备的数据的问题，通过对TTU日志的查询以及对现场实际情况的分析，判断可能是由如下几种原因造成：</p><div class=pgc-img><img alt=智能配变终端通信故障定位应用程序的设计与实现 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ee86569c6fc440509315de6ba8fd59a5><p class=pgc-img-caption>图1 TTU数据传输方式</p></div><p>1）主站与终端的4G通信问题。由于现场实际情况复杂，可能有些地方的4G信号不是很好，导致无法与主站有效地进行通信，那么无论是下行设备或是终端，都无法正常上传数据至主站。</p><p>2）TTU自身问题。无法正常接收主站的信息，导致无法正确响应。下行设备将采集到的数据上送终端，但是终端无法上传数据至主站，故主站无法收到数据。</p><p>3）TTU无法与下行设备通信。终端通过无线公网可与主站正常通信，但无法通过485总线与下行设备正常建立连接，导致无法收集到数据。</p><p>4）下行设备无法正常采集数据。TTU与下行设备可正常通信，但设备无法正常采集数据，导致主站无法收到数据信息。</p><p>基于以上4种情况，本文设计了一种能够对TTU自身的各个通信通道进行监视的方案，通过APP实现，用于对问题的定位与分析。</p><h1 class=pgc-h-arrow-right>3 通信故障定位原理</h1><p>随着电力物联网的逐步推进，TTU的各种功能逐渐被模块化，开始将一个个的功能集成在APP中，基于此，本文设计了一个利用通信监视的方法对通信故障进行定位的APP。</p><p>其具体原理为，TTU自身存在多个通信口，通过这些通信口分别与主站、下行设备通信，而这些数据的交互都存在于各个通信通道之中，所以若是能够将所有的数据都存放于一个APP中，则当出现无法召测数据的问题时，此APP通过对各个通道的分析，便可以得到故障具体原因所在，这就是通信故障定位。</p><p>图2为通信故障定位APP原理示意图。首先将终端与主站、主站与下行设备的通信协议等均放入故障定位APP中，而后终端接收或发送数据，所有的数据交互均从故障定位APP出发，利用给定的通信协议对其进行解析，通过解析报文数据，从而可以定位通信故障的发生位置。</p><div class=pgc-img><img alt=智能配变终端通信故障定位应用程序的设计与实现 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/cd929ffc34d74c6188079a62f6f33881><p class=pgc-img-caption>图2 通信故障定位APP原理</p></div><h1 class=pgc-h-arrow-right>4 通信监视APP设计</h1><p>智能配变终端在现场应用中承载着主站与下行设备之间的数据交互、信息采集的任务，是一个承前启后的关键设备，而现场应用的环境较为复杂，当出现主站没有数据的情况时，由于TTU在配电台区所连接的下行设备较多，不可能去对其一一查看，所以设计一种对设备通信监视的APP迫在眉睫。</p><p>主站与终端之间使用无线公网的方式进行数据交互，而终端与设备之间使用485/232总线、电力载波、微功率等有线传输，这样可以使数据进行高效的传输。</p><p>本文的设计是基于对从主站到设备之间的通信报文监视，基于以太网Telnet应用开发的监视工具。对TTU各通道数据报文的监视，可借用SecureCRT、PuTTY、XShell等工具，支持监视的通道包括4G、微功率无线、宽带载波、RS232、RS485、以太网，为现场运维时出现通信故障提供了一种快速、有效的故障定位方案。</p><p>通信故障定位APP的设计框图如图3所示。主站用来接收所有终端的数据，同时也拥有控制终端的操作，通过无线下发召测数据命令，终端收到后给予对应的总召操作，通过485总线等方式下发命令给下行设备，设备收到也同样响应终端，而后再由TTU统一将数据分类打包好，上传主站。</p><p>同时，基于以太网Telnet应用在终端的各个通信口建立一个数据信息监视的通道，用以监控它们之间的数据交互。此种方案的优势在于，不仅可以用于主站对TTU发送的报文、TTU对下行设备发送的报文，而且不需要添加其他条件，使用方便，只需一台电脑即可查看监视数据通信的情况。</p><div class=pgc-img><img alt=智能配变终端通信故障定位应用程序的设计与实现 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6ed91ca5a5c648d4837c915ea3afff65><p class=pgc-img-caption>图3 通信故障定位APP设计框图</p></div><p>若是现场出现主站无法收到数据的情况，故障定位APP便通过实时监控终端各个通信口（包括4G、以太网、485/232串口、微功率无线等）发送与接收到的报文数据准确地判断故障源头。</p><h1 class=pgc-h-arrow-right>5 现场故障定位</h1><p>基于以上通信监视方案的设计，现场对主站无数据问题进行分析，下面就此问题可能产生的原因进行排查。</p><p>通过PC连接终端的网口，使用监视工具可以将由通信故障定位APP监测的报文打印出来。</p><p><strong>1）终端与主站之间的通信协议为104规约，可以由主站发送召测命令，查看终端是否进行响应，是否上送数据。</strong></p><p>图4所示为主站与终端之间的通信报文，对打印的报文进行解析，若得到的数据与召测出来保持一致，则终端与主站正常连接，通信正常。</p><div class=pgc-img><img alt=智能配变终端通信故障定位应用程序的设计与实现 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1782f39268d44c049457afe09e8afebc><p class=pgc-img-caption>图4 主站-终端通信报文</p></div><p>若打印出来的报文只有第一帧主站下发（Rx）的召测命令报文，没有终端响应，则可以定位是主站发送总召命令而终端无法正确回复的问题，检查4G是否在线、SIM卡是否正常使用等。</p><p><strong>2）若通道监视显示有正常的报文交互，对报文进行解析，没有数据或数据异常，则是终端正常响应主站，但是终端自身采样或是上送数据出现问题。</strong></p><p><strong>3）TTU可以接多个下行设备，包括漏保、电容器、载波表等，同时也对应多个不同的通信协议，这里以漏保为例。</strong></p><p>图5所示为终端与漏保之间的通信报文，对其进行解析，判断得到的数据是否与实际漏保的数据一致，若保持一致，则是通信正常。</p><div class=pgc-img><img alt=智能配变终端通信故障定位应用程序的设计与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5a5d5df6e58b4969b547139ae6fd4043><p class=pgc-img-caption>图5 终端-漏保通信报文</p></div><p>若是打印出来的报文只有终端下发（Tx）而无漏保设备上送（Rx）的数据，则是终端正常发出召测数据的命令，漏保无回复，与终端之间485串口通信异常，漏保无法正常应答终端。</p><p><strong>4）若是终端与漏保的报文交互正常，对报文进行解析，但解析的数据与实际数据不符，则可能是漏保对遥测数据的采样异常。</strong></p><p>对以上4种情况的分析，证明通信故障定位APP可以正确地通过数据监视得到通信故障的具体位置，这样可以节省大量繁琐的查找故障源头的时间。利用通信故障定位APP，既保证了TTU在现场使用时的稳定性，又可以在出现故障时便于现场人员快速查找原因。</p><h1 class=pgc-h-arrow-right>6 结论</h1><p>针对现场通信故障的问题，本文设计了TTU通信故障定位APP，在现场实际应用中，此APP可以准确而又快速地定位故障源头，可以更加高效地进行终端的维护工作。</p><p>随着配网自动化程度的提高，TTU也要随之走向更加智能化、标准化的道路，以物联网的形式逐步前进，本文的设计使TTU更加智能化，提高了工作效率，减少了现场运维人员的人数，有效缩短了问题的解决周期，对配网技术的发展具备现实意义。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'配变','终端','应用'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>