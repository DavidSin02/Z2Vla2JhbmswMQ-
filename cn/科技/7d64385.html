<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>听说月入30k的大佬都在使用这些故障检查工具（java） | 极客快訊</title><meta property="og:title" content="听说月入30k的大佬都在使用这些故障检查工具（java） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/51ff057dab0d4579b4ddaaafeba1eafd"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7d64385.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7d64385.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7d64385.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7d64385.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7d64385.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7d64385.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7d64385.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7d64385.html><meta property="article:published_time" content="2020-10-29T20:53:30+08:00"><meta property="article:modified_time" content="2020-10-29T20:53:30+08:00"><meta name=Keywords content><meta name=description content="听说月入30k的大佬都在使用这些故障检查工具（java）"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/7d64385.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>听说月入30k的大佬都在使用这些故障检查工具（java）</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right><strong>面试三连</strong></h1><p>面试官：了解JVM吗？</p><p>小明：知道一点....</p><p>面试官：那你说一下什么是JVM？</p><p>小明：JVM是Java Virtual Machine（Java虚拟机）的缩写，JVM是一种用于计算设备的规范，它是一个虚构出来的计算机，是通过在实际的计算机上仿真模拟各种计算机功能来实现的。</p><p>面试官：那如果现在服务器出现cpu飙升的情况，你该如何追踪问题呢？</p><p>小明：查看日志。</p><p>面试官：那如果日志没有展示呢？比如死锁、死循环等等这些只要不是内存溢出，日志是不会抛出异常的，你怎么追踪到是死锁或者死循环导致的cpu飙升呢？</p><p>小明：这个。。。。。不太清楚。</p><p>面试官：好了，我知道了，回去等通知吧。</p><p>小明又被面试官教育了，哈哈哈，所以说，没事多学习，并不是空穴来风，在必要的时候可能是你的救命稻草。</p><h1 class=pgc-h-arrow-right>故障处理工具</h1><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/51ff057dab0d4579b4ddaaafeba1eafd><p class=pgc-img-caption></p></div><p>其实java已经给我们提供了很多的故障处理工具，只是我们没有使用而已，我们一起来看看java都给我提供了哪些故障工具</p><p>这是jdk1.8 bin目录，如果有人使用过这里面的工具的话就知道，jps和jinfo都是java提供给我们工具。</p><p>注意：如果需要在jdk1.5的虚拟机上田间监控功能，需要在程序启动的时候添加参数：`-Dcom.sum.management.jmxremote`，否则大部分的工具都无法使用，如果jdk在1.6或以上的话，JMX管理是默认开启de.suoyi不要在启动的时候添加参数。</p><h1 class=pgc-h-arrow-right>jps（JVM Process Status）</h1><p><strong>jps：虚拟机进程状况工具</strong></p><p>他的功能和ps命令有点类似，可以展示出正在运行的虚拟机进程，并展示虚拟机执行的主类（Main函数所在的位置）名称以及这些进程的本地虚拟机唯一ID（LVMID），他是日常开发中最长使用的命令之一，当本地虚拟机唯一ID是非常重要的，我们需要通过它来确定我们需要监控的是哪一个虚拟机进程。对于本地来说，虚拟机进程与操作系统的进程是一致的，如果同时启动了多个虚拟机进程，无法通过进程名来定位时，就需要通过jps命令来展示主类才能区分。</p><p>好了，我们一起来看看jps的基本语法。</p><p>参数介绍</p><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0b834fa2aedf415486d04b8b230f3f1e><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5fda76b7e8ee4259bb9368d5212af8ac><p class=pgc-img-caption></p></div><p><br></p><p>这个工具的命令还是很简单的，却也是最常使用的一个。</p><h1 class=pgc-h-arrow-right>jstat(JVM Statistics Monitoring Tool)</h1><p><strong>jstat</strong>位于java的bin目录下，主要利用JVM内建的指令对Java应用程序的资源和性能进行实时的命令行的监控，包括了对Heap size和垃圾回收状况的监控。</p><p>格式：jstat [option vmid [ interval [ s | ms ] [ count ] ] ]</p><p>如果是本地虚拟机进程，vmid就是虚拟机ID（LVIMID），如果是远程虚拟机，那VMID的格式应该是：</p><p>[protocol : ] [ // ] lvmid [@hostname:[:port] /servername]</p><p>interval：查询的时间间隔。</p><p>count：查询的次数。</p><p>比如下面这行命令</p><pre><code>jstat -gc 27088 1000 5</code></pre><p>表示一秒查询一次进程27088的垃圾收集情况，一共执行5次。</p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/d9bf2c1c01bf43eaaa27d8983781eeab><p class=pgc-img-caption></p></div><p>原想option表示查询的虚拟机信息，一共分为三种：`类加载`、`垃圾收集`、`运行期编译状况`，参数详情如下：</p><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/93702c48a0d34ab1bf863ae696993f29><p class=pgc-img-caption></p></div><p><br></p><p>这里随便查询一条信息</p><pre><code>jstat -class 5276</code></pre><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a780e16686a742e5a0c6b9591d7c4391><p class=pgc-img-caption></p></div><p><strong>jinfo：配置信息工具</strong></p><p>jinfo的作用是实时查看和调整虚拟机的各项参数，其实上面说的jps -v也能查询到jvm的参数列表，但是它仅仅只能查到显式指定的参数列表，而jinfo可以查询到违背指定的显式参数列表，如果我们需要查看系统的默认值，我们可以通过jinfo的flag查询。</p><p>jinfo的基本格式</p><pre><code>jinfo -[option] pid</code></pre><p>比如我要查询某个进程jvm的参数，可以这样写</p><pre><code>jinfo -flags 13012</code></pre><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/be8be2cf2de04d839c650dea88b84a9d><p class=pgc-img-caption></p></div><p><br></p><p>查询java的系统参数</p><pre><code>jinfo -sysprops 13012</code></pre><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/906182837cff47588debc8a5c8cfb9ac><p class=pgc-img-caption></p></div><p>这些都是查询，刚才说到jinfo可以实时修改参数，怎么修改呢》</p><p>jinfo -flag &lt;name> pid：输出指定JVM的参数值</p><p>jinfo -flag [+|-]&lt;name> pid：设置指定JVM参数的布尔值</p><p>jinfo -flag &lt;name>=&lt;value> pid：设置指定JVM参数的值</p><p><br></p><p>如果我现在想设置Xms</p><pre><code>jinfo -flag  Xms=64m  13012</code></pre><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4b53ee9c216f4587b670a61455974c07><p class=pgc-img-caption></p></div><p>我靠，居然报错了，提示Xms不能被修改，好吧，可能是windows平台的限制，大家可以使用linux试试。</p><p><br></p><p><strong>jmap：内存映像工具</strong></p><p>jmap命令用于生成堆转储快照（一般称为heapdump转dump文件）。</p><p>当然了，jmap的作用并不仅仅是为了获取堆转储的快照，它还可以查询finalize执行队列、java堆和方法区的详细信息，如空间使用率、当前使用的是哪种收集器等。</p><p>jmap有些功能在windows平台是受限制的，所以在使用的时候推荐linux。</p><p>jmap使用格式</p><pre><code>jmap [option] vmid</code></pre><p>vmid：上面讲过了，可以理解为id。</p><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ce7110519b634214b073b1df78e1ed3e><p class=pgc-img-caption></p></div><p><strong>jstack：堆栈跟踪工具</strong></p><p>jstack命令用于生成虚拟机当前时刻的线程快照。线程快照就是当前虚拟机内每一条线程正在执行的方法堆栈集合，生成快照的目的通常时定位线程出现长时间停顿的原因，比如线程之间的死锁、死循环、请求外部资源时间过长等等，都是导致线程长时间卡顿的原因之一，我们可以在线程卡顿的时候通过jstack来查看各个线程的调用堆栈，就可以知道没有响应的线程在后台干了啥见不得人的坏事。</p><p>使用格式</p><pre><code>jstack [option] vmid</code></pre><p>选项作用-F将正常输出的请求不被响应时，强制输出线程堆栈。-l除堆栈外，显示关于锁的附加信息-m如果调用本地方法的话，可以显示c/c++的堆栈</p><p>比如：</p><pre><code>jstack -l 13012</code></pre><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b773140486474a9ea4c06c340a6b6117><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>基础工具总结</h1><p>jdk的工具远远不止上面介绍的这几种，还有很多很多，有些工具随着jdk的升级而移除，有的则是一直坚挺，我们一起来看看jdk都有哪些基础工具吧</p><p><strong>基础工具：用于支持基本的程序创建和运行</strong></p><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b2dc06ff0888424aa1d551e92c8e49b2><p class=pgc-img-caption></p></div><p><strong>安全：用于程序签名、设置安全测试等</strong></p><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e1f78864dda24691a6b45d4f3456570e><p class=pgc-img-caption></p></div><p><br></p><p><strong>国家化：用于创建本地语言文件</strong></p><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3fceebcb067640408485006363c230e5><p class=pgc-img-caption></p></div><p><br></p><p><strong>远程方法调用：用于跨web或者网络的服务交互</strong></p><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/845f77e701214c9fb94a5562c6192320><p class=pgc-img-caption></p></div><p><br></p><p><strong>部署工具：用于程序打包、发布和部署</strong></p><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/65ff0b1ae550491e8793831557413e77><p class=pgc-img-caption></p></div><p><br></p><p><strong>java web start</strong></p><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2c6238e0e92f4cd2a9aa3c31ab4525f1><p class=pgc-img-caption></p></div><p><strong>性能监控和故障处理：用于监控分析java虚拟机运行信息。</strong></p><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/06300f7982a64af7bc755f044174cffd><p class=pgc-img-caption></p></div><p><br></p><p><strong>webservice工具</strong></p><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1a83f57be6104a12948d1752dd9eb615><p class=pgc-img-caption></p></div><p><br></p><p><strong>REPL和脚本工具</strong></p><p><br></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d5060d3daf834d8fb7d29aa6b54d4223><p class=pgc-img-caption></p></div><p><strong class=highlight-text>声明：此篇文章参考：《深入理解java虚拟机》 第三版</strong></p><p><br></p><p><strong>再下整理了一些面试题以及java‘的学习资料，免费分享给大家！</strong></p><p><strong>面试</strong></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/25f85a0d9f2d4aaba7855edca5b5658f><p class=pgc-img-caption></p></div><p><strong>推荐给初学者看的书籍</strong></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/96fee368902444e8bff8814553d06c7e><p class=pgc-img-caption></p></div><p><strong>源码系列</strong></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/871785eb0f7446c8bb3b3e4350e841ff><p class=pgc-img-caption></p></div><p><strong>成为高手必看的书籍</strong></p><div class=pgc-img><img alt=听说月入30k的大佬都在使用这些故障检查工具（java） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9bb2473dc9aa4c9e99a742760ebed8d7><p class=pgc-img-caption></p></div><p><strong>领取方式：</strong></p><p><strong>关注我+私信我：“java”关键字</strong></p><p><strong>即可领取海量的学习资料，靓仔，你还在等什么？</strong></p><p><strong>我会经常分享一些java的技术文章，想要学习java的小伙伴可以关注我哦！！</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'30k','这些','检查'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>