<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Javaå®ç°è¿œç¨‹æœåŠ¡ç”Ÿäº§ä¸æ¶ˆè´¹(RPC)çš„4ç§æ–¹æ³• | æå®¢å¿«è¨Š</title><meta property="og:title" content="Javaå®ç°è¿œç¨‹æœåŠ¡ç”Ÿäº§ä¸æ¶ˆè´¹(RPC)çš„4ç§æ–¹æ³• - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/856837d3a1b446dbbeb16994e9ed19da"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7d792b58.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7d792b58.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7d792b58.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7d792b58.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7d792b58.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7d792b58.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7d792b58.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7d792b58.html><meta property="article:published_time" content="2020-10-29T21:12:12+08:00"><meta property="article:modified_time" content="2020-10-29T21:12:12+08:00"><meta name=Keywords content><meta name=description content="Javaå®ç°è¿œç¨‹æœåŠ¡ç”Ÿäº§ä¸æ¶ˆè´¹(RPC)çš„4ç§æ–¹æ³•"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/7d792b58.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Javaå®ç°è¿œç¨‹æœåŠ¡ç”Ÿäº§ä¸æ¶ˆè´¹(RPC)çš„4ç§æ–¹æ³•</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><blockquote><em>æœ¬æ–‡å°†é€šè¿‡å…·ä½“çš„è¿œç¨‹æœåŠ¡å‘å¸ƒä¸æ¶ˆè´¹æ¡ˆä¾‹å±•ç¤º4ç§RPCè¿œç¨‹è°ƒç”¨æ–¹æ³•.</em></blockquote><h1 class=ql-align-justify><strong>ä¸€. é€šè¿‡rmiå®ç°è¿œç¨‹æœåŠ¡çš„ç”Ÿäº§ä¸æ¶ˆè´¹</strong></h1><ul><li class=ql-align-justify>Javaè‡ªèº«æä¾›äº†java.rmiåŒ…, æ–¹ä¾¿å¼€å‘è€…è¿›è¡Œè¿œç¨‹æœåŠ¡çš„éƒ¨ç½²ä¸æ¶ˆè´¹, ä¸‹é¢å°†é€šè¿‡å…·ä½“æ¡ˆä¾‹è¿›è¡Œè®²è§£.</li></ul><p class=ql-align-justify><strong>è¿œç¨‹æœåŠ¡æä¾›è€…å®ç°.</strong></p><p class=ql-align-justify>åˆ›å»ºrmi-provideré¡¹ç›®(Maven)</p><ol><li class=ql-align-justify>åˆ›å»ºUserServiceæ¥å£.</li></ol><pre class=ql-align-justify>//å°†è¦å‘å¸ƒçš„æœåŠ¡çš„æ¥å£public interface UserService extends Remote { public String helloRmi(String name) throws RemoteException;}</pre><ol><li class=ql-align-justify>åˆ›å»ºUserServiceImplå®ç°ç±»</li></ol><ul><li class=ql-align-justify>æ³¨æ„, UserServiceImplé™¤äº†å®ç°UserServiceæ¥å£å¤–, è¿˜è¦ç»§æ‰¿UnicastRemoteObjectç±», ä½ å¯ä»¥ç†è§£ä¸ºå®ƒæ˜¯ä¸€ä¸ªå‘å¸ƒå‡ºå»ä¾›ä»–äººè°ƒç”¨çš„ç±», å½“UserServiceImplå®ç°äº†è¿™ä¸ªç±»å, UserServiceImplå°±èƒ½è¢«å‘å¸ƒå‡ºå»ä¾›åˆ«äººè°ƒç”¨.</li></ul><pre class=ql-align-justify>//å°†è¦å‘å¸ƒçš„æœåŠ¡çš„å®ç°ç±»public class UserServiceImpl extends UnicastRemoteObject implements UserService { public UserServiceImpl() throws RemoteException { super(); } public String helloRmi(String name) throws RemoteException { return "hello " + name; }}</pre><ol><li class=ql-align-justify>å‘å¸ƒè¿œç¨‹æœåŠ¡</li></ol><pre class=ql-align-justify>public static void main(String[] args) { try { //å®Œæˆè¿œç¨‹æœåŠ¡çš„å‘å¸ƒ LocateRegistry.createRegistry(8888);//å°†è¿œç¨‹æœåŠ¡å‘å¸ƒåœ¨æœ¬åœ°çš„8888ç«¯å£ String name = "rmi://localhost:8888/rmi";//å‘å¸ƒçš„è¿œç¨‹æœåŠ¡è¢«è®¿é—®çš„url UserService userService = new UserServiceImpl();//åˆ›å»ºä¸€ä¸ªæä¾›å…·ä½“æœåŠ¡çš„è¿œç¨‹å¯¹è±¡ Naming.bind(name, userService);//ç»™è¿œç¨‹æœåŠ¡ç»‘å®šä¸€ä¸ªurl System.out.println("--- å·²å‘å¸ƒrmiè¿œç¨‹æœåŠ¡ ---"); } catch (Exception e) { e.printStackTrace(); }}</pre><p class=ql-align-justify><strong>è¿œç¨‹æœåŠ¡æ¶ˆè´¹è€…å®ç°</strong></p><p class=ql-align-justify>åˆ›å»ºrmi-consumeré¡¹ç›®</p><ol><li class=ql-align-justify>æŠŠrmi-provideré¡¹ç›®ç§çš„UserServiceæ¥å£ä¸UserServiceImplå®ç°ç±»å¤åˆ¶åˆ°æœ¬rmi-consumeré¡¹ç›®ä¸­.(è¿™ä¸€æ­¥å¯ä»¥è¿›è¡Œä¼˜åŒ–è§£è€¦, æˆ‘ä»¬å¯ä»¥å¤šåˆ›å»ºä¸€ä¸ªrmi-resourceé¡¹ç›®, è®©rmi-providerå’Œrmi-consumerå…±åŒä¾èµ–rmi-resourceé¡¹ç›®, ç„¶åæŠŠèµ„æºæ–‡ä»¶æ¯”å¦‚è¿œç¨‹æœåŠ¡æ‰€ç”¨åˆ°çš„UserServiceç­‰æ”¾å…¥rmi-resourceé¡¹ç›®ä¸­)</li><li class=ql-align-justify>è¿œç¨‹æœåŠ¡æ¶ˆè´¹è€…å¯¹è¿œç¨‹æœåŠ¡å‘èµ·è°ƒç”¨.</li></ol><pre class=ql-align-justify>public static void main(String[] args) { try { //å‘å¸ƒè¿œç¨‹æœåŠ¡çš„è®¿é—®url String name = "rmi://localhost:8888/rmi"; //é€šè¿‡å‘å¸ƒè¿œç¨‹æœåŠ¡çš„url, è·å–è¿œç¨‹æœåŠ¡çš„ä»£ç†å¯¹è±¡ UserService userService = (UserService) Naming.lookup(name); System.out.println("è·å¾—çš„è¿œç¨‹æœåŠ¡çš„ä»£ç†å¯¹è±¡:" + userService.getClass().getName()); String result = userService.helloRmi("rmi");//æ‹¿åˆ°è¿œç¨‹æ–¹æ³•è°ƒç”¨çš„ç»“æœ System.out.println("result: " + result); }catch (Exception e) { e.printStackTrace(); }}//æœ€åè¾“å‡ºè·å¾—çš„è¿œç¨‹æœåŠ¡çš„ä»£ç†å¯¹è±¡:com.sun.proxy.$Proxy0result: hello rmi</pre><ul><li class=ql-align-justify>é€šè¿‡æœ€åçš„è¾“å‡ºæˆ‘ä»¬çœ‹åˆ°è·å¾—çš„è¿œç¨‹æœåŠ¡å¯¹è±¡æ˜¯åŠ¨æ€ä»£ç†äº§ç”Ÿçš„.</li></ul><p class=ql-align-justify></p><h1 class=ql-align-justify><strong>äºŒ. é€šè¿‡WebServiceå®ç°è¿œç¨‹æœåŠ¡çš„ç”Ÿäº§ä¸æ¶ˆè´¹</strong></h1><ul><li class=ql-align-justify>WebServiceåè®®æ˜¯RPCçš„ä¸€ç§å…·ä½“å®ç°, æœåŠ¡æä¾›æ–¹å’Œæ¶ˆè´¹æ–¹é€šè¿‡http + xmlè¿›è¡Œé€šä¿¡.</li></ul><p class=ql-align-justify><strong>è¿œç¨‹æœåŠ¡æä¾›è€…å®ç°.</strong></p><ol><li class=ql-align-justify>é¦–å…ˆåˆ›å»ºè¿œç¨‹æœåŠ¡æ¥å£UserServiceåŠå…¶å®ç°ç±»UserServiceImpl.</li></ol><ul><li class=ql-align-justify>æ³¨æ„, ä½¿ç”¨WebServiceæ—¶éœ€è¦å¯¹è¿œç¨‹æœåŠ¡åŠ ä¸Šæ³¨è§£@WebService</li></ul><pre class=ql-align-justify>@WebServicepublic interface UserService { public String sayHello(String name);}@WebServicepublic class UserServiceImpl implements UserService { @Override public String sayHello(String name) { return "hello " + name + "~"; }}</pre><ol><li class=ql-align-justify>å‘å¸ƒè¿œç¨‹æœåŠ¡, è¿‡ç¨‹å’Œrmiå·®ä¸å¤š, éœ€è¦æä¾›è¿œç¨‹æœåŠ¡çš„è®¿é—®åœ°å€å’Œå…·ä½“çš„è¿œç¨‹æœåŠ¡å®ç°ç±», ä½¿ç”¨Endpointç±»çš„publish()æ–¹æ³•è¿›è¡Œå‘å¸ƒ, è¿™éƒ½æ˜¯JDKå°è£…å¥½çš„.</li></ol><pre class=ql-align-justify>public class WsProviderApp { public static void main(String[] args) { //å‘å¸ƒçš„WebServiceçš„è¢«è®¿é—®åœ°å€ String address = "http://localhost:9999/ws"; //åˆ›å»ºè¿œç¨‹æœåŠ¡å¯¹è±¡ UserService userService = new UserServiceImpl(); //å‘å¸ƒæœåŠ¡ Endpoint.publish(address, userService); System.out.println("è¿œç¨‹æœåŠ¡å·²ç»å‘å¸ƒ..."); }}</pre><p class=ql-align-justify><strong>æŸ¥çœ‹è¿œç¨‹æœåŠ¡æ–‡æ¡£wdsl</strong></p><ul><li class=ql-align-justify>å’Œrmiä¸åŒçš„æ˜¯, WebServiceå‘å¸ƒå, è°ƒç”¨è€…å¯ä»¥é€šè¿‡æŸ¥çœ‹å®ƒçš„æ–‡æ¡£å¯¹è¿œç¨‹æœåŠ¡å‘èµ·è°ƒç”¨.</li><li class=ql-align-justify>æŸ¥çœ‹çš„æ–¹æ³•æ˜¯åœ¨æµè§ˆå™¨ä¸­è¾“å…¥è¿œç¨‹æœåŠ¡çš„è®¿é—®åœ°å€åŠ ä¸Š?wdsl, æ¯”å¦‚æœ¬æ¡ˆä¾‹ä¸­æ˜¯http://localhost:9999/ws?wsdl</li><li class=ql-align-justify>æ³¨æ„, åœ¨å®¢æˆ·ç«¯è°ƒç”¨è¿œç¨‹æ–¹æ³•æ—¶éœ€è¦ç”¨å·¥å…·å¯¹wdslæ–‡æ¡£è¿›è¡Œè§£æ, å¹¶è·å¾—è°ƒç”¨è¿œç¨‹æ–¹æ³•çš„å·¥å…·ç±». å…·ä½“æ“ä½œè§ä¸‹ä¸€æ®µ.</li></ul><p class=ql-align-justify><strong>è¿œç¨‹æœåŠ¡æ¶ˆè´¹è€…å®ç°.</strong></p><ol><li class=ql-align-justify>é¦–å…ˆæ ¹æ®æ–‡æ¡£è·å¾—è°ƒç”¨è¿œç¨‹æœåŠ¡çš„å·¥å…·ç±», JDKå·²ç»ä¸ºæˆ‘ä»¬å°è£…å¥½äº†è·å–çš„å·¥å…·, å®ƒåœ¨binç›®å½•ä¸‹, åå­—æ˜¯wsimport</li><li class=ql-align-justify>æ‰“å¼€å‘½ä»¤è¡Œ, åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥è§£æå‘½ä»¤</li></ol><pre class=ql-align-justify>wsimport -keep -d C:\githubRepositories\shopping\ws-consumer\src\main\java -p com.shenghao.client http://localhost:9999/ws?wsdlè§£é‡Š:1. wsimport æ˜¯å‘½ä»¤çš„åå­—2. -keep ç”¨äºä¿ç•™ç”Ÿæˆçš„ç±», å¦‚æœæ²¡æœ‰è¯¥æŒ‡ä»¤ä¼šåªç”Ÿæˆclassæ–‡ä»¶3. -d åé¢æ¥é¡¹ç›®ä¸­å­˜æ”¾è¿™äº›å·¥å…·ç±»çš„åŒ…, å¡«ç»å¯¹è·¯å¾„4. -p å¡«wdslæ–‡æ¡£çš„åœ°å€</pre><div class=pgc-img><img alt=Javaå®ç°è¿œç¨‹æœåŠ¡ç”Ÿäº§ä¸æ¶ˆè´¹(RPC)çš„4ç§æ–¹æ³• onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/856837d3a1b446dbbeb16994e9ed19da><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Javaå®ç°è¿œç¨‹æœåŠ¡ç”Ÿäº§ä¸æ¶ˆè´¹(RPC)çš„4ç§æ–¹æ³• onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9ab64a65ee9e4673a89bbe69cb2474ad><p class=pgc-img-caption></p></div><p class=ql-align-justify></p><ol><li class=ql-align-justify>å¯ä»¥çœ‹åˆ°å‘½ä»¤æ‰§è¡Œå®Œå, æŒ‡å®šçš„åŒ…ä¸­å‡ºç°ä¸€å †ç›¸å…³çš„ç±», æœ€ç›´æ¥è°ƒç”¨åˆ°çš„ç±»æ˜¯UserServiceImplService. ä¸‹é¢æ¼”ç¤ºå¯¹è¿œç¨‹æ–¹æ³•è¿›è¡Œè°ƒç”¨.</li></ol><pre class=ql-align-justify>public static void main(String[] args) { //åˆ›å»ºæœåŠ¡ç±»å¯¹è±¡ UserServiceImplService service = new UserServiceImplService(); //è·å¾—è¿œç¨‹æœåŠ¡çš„ä»£ç†å¯¹è±¡ UserServiceImpl userService = service.getUserServiceImplPort(); System.out.println(userService.getClass().getName()); //å¯¹è¿œç¨‹æœåŠ¡å¯¹è±¡çš„æ–¹æ³•è¿›è¡Œè°ƒç”¨ String result = userService.sayHello("ç‚­çƒ§ç”Ÿèš"); System.out.println(result);}//ç»“æœè¾“å‡ºcom.sun.proxy.$Proxy32hello ç‚­çƒ§ç”Ÿèš~</pre><h1 class=ql-align-justify><strong>ä¸‰. é€šè¿‡HttpClientå®ç°è¿œç¨‹æœåŠ¡çš„ç”Ÿäº§ä¸æ¶ˆè´¹</strong></h1><ul><li class=ql-align-justify>è¿™é‡Œæˆ‘ä»¬æ¢ä¸€ä¸ªæ¡ˆä¾‹è¿›è¡Œæ¼”ç¤º. å‡è®¾ç°åœ¨æœ‰ä¸€å¥—ç”¨æˆ·ç³»ç»Ÿå’Œä¸€å¥—è®¢å•ç³»ç»Ÿ, è¦å®ç°ç”¨æˆ·ç³»ç»Ÿè®¿é—®è®¢å•ç³»ç»Ÿä»¥è·å¾—æŸä¸ªç”¨æˆ·çš„è®¢å•ä¿¡æ¯.</li></ul><p class=ql-align-justify><strong>è¿œç¨‹æœåŠ¡æä¾›è€…å®ç°</strong></p><ul><li class=ql-align-justify>æä¾›è¿œç¨‹æœåŠ¡çš„è¿‡ç¨‹å’Œå“åº”webè¯·æ±‚å¾ˆç›¸ä¼¼, åªä¸è¿‡å“åº”çš„ä¸æ˜¯&lt;html>æ ‡ç­¾, è€Œæ˜¯jsonå­—ç¬¦ä¸². å¾®ä¿¡å°ç¨‹åºå‰åç«¯é€šä¿¡ä¹Ÿæ˜¯è¿™ä¸ªåŸç†.</li></ul><ol><li class=ql-align-justify>åˆ›å»ºåä¸ºorder-sysçš„Mavené¡¹ç›®, æŒ‡å®šæ‰“åŒ…ä¸ºwaråŒ….</li></ol><p>ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹pom.xmlæ–‡ä»¶, å¸¸è§„æ“ä½œ</p><p class=ql-align-justify></p><ol><li class=ql-align-justify>åˆ›å»ºè®¢å•ç±»</li></ol><pre class=ql-align-justify>public class Order { private String id; private Double total; private String date; //get / set ...}</pre><ol><li class=ql-align-justify>å¯¹å¤–æä¾›æœåŠ¡, å‘å¸ƒæ—¶æ‰“åŒ…å‘å¸ƒåˆ°Tomcatä¸Š</li></ol><pre class=ql-align-justify>@Controllerpublic class OrderController { /** * æ¥æ”¶httpè¯·æ±‚, å“åº”è®¢å•é›†åˆ, å¼‚æ­¥å“åº” * å°†listé›†åˆåºåˆ—åŒ–ä¸ºjsonä¸²å“åº” * @param uid * @return */ @RequestMapping("/loadOrderList2") @ResponseBody public List&lt;Order&gt; loadOrderList2(String uid){ System.out.println("uid: " + uid); //æ¨¡æ‹Ÿè®¢å•æ•°æ® Order o1 = new Order(); o1.setId("111"); o1.setTotal(333.33); o1.setDate("2019-4-29"); Order o2 = new Order(); o2.setId("222"); o2.setTotal(444.44); o2.setDate("2019-5-29"); Order o3 = new Order(); o3.setId("333"); o3.setTotal(555.55); o3.setDate("2019-6-29"); List&lt;Order&gt; list = new ArrayList&lt;&gt;(); list.add(o1); list.add(o2); list.add(o3); return list; }}</pre><p class=ql-align-justify><strong>è¿œç¨‹æœåŠ¡æ¶ˆè´¹è€…å®ç°</strong></p><ol><li class=ql-align-justify>åœ¨æœåŠ¡æ¶ˆè´¹ç«¯ä½¿ç”¨HttpClientå‘é€è¯·æ±‚, å¯ä»¥ç†è§£ä¸ºæ¨¡æ‹Ÿæµè§ˆå™¨å‘é€post/getè¯·æ±‚. HttpClientä¸ºæˆ‘ä»¬å°è£…äº†æ‹¼æ¥ä¸€ä¸ªè¯·æ±‚çš„ç»†èŠ‚, ä½¿å¾—å‘é€ä¸€ä¸ªè¯·æ±‚å˜å¾—å®¹æ˜“.</li></ol><pre class=ql-align-justify>public static void main(String[] args) throws IOException { //å‘é€è¿œç¨‹çš„httpè¯·æ±‚çš„åœ°å€ String url = "http://localhost:7070/order/loadOrderList2"; //åˆ›å»ºHttpClientå¯¹è±¡ CloseableHttpClient client = HttpClients.createDefault(); //åˆ›å»ºHttpPostå¯¹è±¡, å‘é€postè¯·æ±‚ HttpPost method = new HttpPost(url); //å°è£…å‘é€åˆ°æœåŠ¡æä¾›è€…çš„å‚æ•° NameValuePair id = new BasicNameValuePair("uid", "10001"); List&lt;NameValuePair&gt; params = new ArrayList&lt;&gt;(); params.add(id); //å°è£…è¯·æ±‚ä½“æ•°æ® method.setEntity(new UrlEncodedFormEntity(params, "UTF-8")); //å‘é€å…·ä½“çš„httpè¯·æ±‚ HttpResponse response = client.execute(method); //è·å¾—æœåŠ¡æä¾›è€…å“åº”çš„å…·ä½“æ•°æ® HttpEntity entity = response.getEntity(); //è·å¾—httpçš„å“åº”ä½“ InputStream is = entity.getContent(); int len = 0; char[] buf = new char[1024]; //ä½¿ç”¨å­—ç¬¦æµè¯» InputStreamReader reader = new InputStreamReader(is); StringBuffer sb = new StringBuffer(); while((len = reader.read(buf)) != -1){ sb.append(String.valueOf(buf, 0, len)); } System.out.println(sb); //å°†å“åº”å›æ¥çš„jsonå­—ç¬¦ä¸²è§£æä¸ºOrderé›†åˆ List&lt;Order&gt; list = JSON.parseArray(sb.toString(), Order.class); for(Order o : list){ System.out.println(o.getId() + "\t" + o.getTotal() + "\t" + o.getDate()); }}</pre><p class=ql-align-justify></p><h1 class=ql-align-justify><strong>å››. é€šè¿‡springæä¾›çš„RestTemplateå®ç°è¿œç¨‹æœåŠ¡çš„ç”Ÿäº§ä¸æ¶ˆè´¹</strong></h1><ul><li class=ql-align-justify>é€šè¿‡ä¸€ä¸ªçº¢åŒ…ç³»ç»Ÿå’Œè®¢å•ç³»ç»Ÿè¿›è¡Œæ¼”ç¤º, çº¢åŒ…ç³»ç»Ÿè®¿é—®è®¢å•ç³»ç»Ÿ, è·å¾—æŸä¸ªç”¨æˆ·çš„è®¢å•ä¿¡æ¯, æ´¾å‘çº¢åŒ….</li><li class=ql-align-justify>è®¢å•ç³»ç»Ÿç»§ç»­æ²¿ç”¨HttpClientä¸­çš„è®¢å•ç³»ç»Ÿ, é€šè¿‡è®¿é—®loadOrderList2æ–¹æ³•èƒ½è¿”å›ä¸€ä¸ªè®¢å•é›†åˆJsonå­—ç¬¦ä¸².</li></ul><p class=ql-align-justify><strong>è¿œç¨‹æœåŠ¡æ¶ˆè´¹è€…å®ç°.</strong></p><pre class=ql-align-justify>@Controllerpublic class RedController { //æ³¨å…¥ç”±springæä¾›çš„RestTemplateå¯¹è±¡ @Autowired private RestTemplate restTemplate; /** * å‘é€è¿œç¨‹çš„httpè¯·æ±‚, æ¶ˆè´¹httpæœåŠ¡ * è·å¾—è®¢å•å¯¹è±¡çš„é›†åˆ */ @RequestMapping("/loadOrderList3") @ResponseBody public List&lt;ResponseEntity&lt;Order[]&gt;&gt; loadOrderList3(String uid){ //å‘é€è¿œç¨‹httpè¯·æ±‚çš„url String url = "http://localhost:7070/order/loadOrderList2"; //å‘é€åˆ°è¿œç¨‹æœåŠ¡çš„å‚æ•° MultiValueMap&lt;String, Object&gt; params = new LinkedMultiValueMap&lt;&gt;(); params.add("uid", uid); //é€šè¿‡RestTemplateå¯¹è±¡å‘é€postè¯·æ±‚ ResponseEntity&lt;Order[]&gt; entitys = restTemplate.postForEntity(url, params, Order[].class); //æŸ¥çœ‹å“åº”çš„çŠ¶æ€ç  System.out.println(entitys.getStatusCodeValue()); //æŸ¥çœ‹å“åº”å¤´ HttpHeaders headMap = entitys.getHeaders(); for(Map.Entry&lt;String, List&lt;String&gt;&gt; m : headMap.entrySet()){ System.out.println(m.getKey() + ": " + m.getValue()); } return Arrays.asList(entitys); }}</pre><p>æ¬¢è¿å·¥ä½œä¸€åˆ°äº”å¹´çš„Javaå·¥ç¨‹å¸ˆæœ‹å‹ä»¬åŠ å…¥Javaç¨‹åºå‘˜å¼€å‘ï¼š 721575865</p><p>ç¾¤å†…æä¾›å…è´¹çš„Javaæ¶æ„å­¦ä¹ èµ„æ–™ï¼ˆé‡Œé¢æœ‰é«˜å¯ç”¨ã€é«˜å¹¶å‘ã€é«˜æ€§èƒ½åŠåˆ†å¸ƒå¼ã€Jvmæ€§èƒ½è°ƒä¼˜ã€Springæºç ï¼ŒMyBatisï¼ŒNetty,Redis,Kafka,Mysql,Zookeeper,Tomcat,Docker,Dubbo,Nginxç­‰å¤šä¸ªçŸ¥è¯†ç‚¹çš„æ¶æ„èµ„æ–™ï¼‰åˆç†åˆ©ç”¨è‡ªå·±æ¯ä¸€åˆ†æ¯ä¸€ç§’çš„æ—¶é—´æ¥å­¦ä¹ æå‡è‡ªå·±ï¼Œä¸è¦å†ç”¨"æ²¡æœ‰æ—¶é—´â€œæ¥æ©é¥°è‡ªå·±æ€æƒ³ä¸Šçš„æ‡’æƒ°ï¼è¶å¹´è½»ï¼Œä½¿åŠ²æ‹¼ï¼Œç»™æœªæ¥çš„è‡ªå·±ä¸€ä¸ªäº¤ä»£ï¼</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Java','å®ç°','è¿œç¨‹'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>