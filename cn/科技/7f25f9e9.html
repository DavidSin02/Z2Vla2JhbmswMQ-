<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>指针数组和数组指针 | 极客快訊</title><meta property="og:title" content="指针数组和数组指针 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/3ffcb33cd0214a1aac0da75a0b9feee1"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7f25f9e9.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7f25f9e9.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7f25f9e9.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7f25f9e9.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7f25f9e9.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7f25f9e9.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7f25f9e9.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7f25f9e9.html><meta property="article:published_time" content="2020-11-14T21:00:21+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:21+08:00"><meta name=Keywords content><meta name=description content="指针数组和数组指针"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/7f25f9e9.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>指针数组和数组指针</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1>1、指针数组</h1><p>定义：int * p[n] = { 0 };</p><p>[] 的优先级高于 * ，p先与 [] 结合，指明这是一个数组，然后再和 int* 结合，说明数组里的每一个元素都是指针，每个元素都保存一个地址。</p><p><strong>1.1 使用指针数组保存多个数据的地址</strong></p><pre>int main(){ int a[3] = { 1, 2, 3 }; int * p[3] = { 0 }; for (int i = 0; i &lt; 3; ++i) { p[i] = &amp;a[i]; } for (int i = 0; i &lt; 3; ++i) { printf("p[%d] = %d\t *p[%d] = %d\n", i, p[i], i, *p[i]); } return 0;}</pre><p>运行结果：</p><div class=pgc-img><img alt=指针数组和数组指针 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3ffcb33cd0214a1aac0da75a0b9feee1><p class=pgc-img-caption></p></div><p><strong>1.2 指针数组保存字符串的地址</strong></p><pre>int main(){ char *str[5] = { "ISO/IEC9899:2011", "Programming", "Dennis Ritchie", "c", "bell ssss" };  char *str1 = str[1]; //取出第2行的字符串 char *str2 = *(str + 3); // 取出第4行的字符串 char ch1 = *(*(str + 4) + 2); //取出第5行的字符串的第3个字符 char ch2 = (*str + 5)[7]; //取出第1个字符串的第6个字符，并以此做数组首元素，向后遍历到第7个。 char ch3 = *str[0] + 6; // 取出第1个字符串的第1个字符，然后把这个字符ASCII码加上6，再用%c打印出来 printf("str1 = %s\n", str1); // Programming printf("str2 = %s\n", str2); // c printf("ch1 = %c\n", ch1); //l printf("ch2 = %c\n", ch2); // 2  printf("ch3 = %c\n", ch3); // O （不是0） return 0;}</pre><p>运行结果：</p><div class=pgc-img><img alt=指针数组和数组指针 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/595bceaf9c054433a9c7fd9ad233da33><p class=pgc-img-caption></p></div><h1>2、数组指针</h1><p>定义：int * p; int (* p)[n]; int (* p)[n][m];</p><p>() 和 [] 的优先级相同，但是结合性从左往右，即 p 先于 * 结合，说明p是一个指针，然后再与 [] 结合，说明了这个指针指向了一个数组。</p><p><strong>2.1</strong></p><pre>void func(int(*p)[3]);int main(){ int a[2][3] = { 10, 20, 30, 40, 50, 60 }; func(a);  return 0;}void func(int(*p)[3]) //明确列的数组指针{ printf("%d\n", p[1][2]); // 取出第2行的第3个元素：60 printf("%d\n", **p); //p是行指针，先是取出当前行的列地址，再取出这个列地址里的值： 10 printf("%d\n", (*p + 1)[2]); // 先取出列地址，然后往后移动一个int(4个字节),再以这一列的下标为起点，取出后面第2个元素的值：40 printf("%d\n", *(*p + 1)); // 先取出列地址，往后移动1位(1个int)，再取出这个下标的值：20 printf("%d\n", *(p[1] + 2)); // 先取出p[1]的列下标地址，再往后移动2位(2个int),再取出这个下标的值：60 printf("%d\n", *(*(p + 1))); // 先将行指针p后移一位(3个int)，再取出这一行的这一列的下标地址，再根据这个下标取值：40 printf("%d\n", *((*p + 1) + 2)); //这个表达式相当于 *(*p + 3)，先取出列下标地址，然后往后移动3位（3个int），再取值：40 printf("%d\n", *(*p + 1) + 2); // 先取出列下标的地址，然后往后移动一位(1个int)，再进行取值得出20，再加2，结果是：22}</pre><p>运行结果：</p><div class=pgc-img><img alt=指针数组和数组指针 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9ad86e22c46347b0bf986a0a5dc27aa1><p class=pgc-img-caption></p></div><p><strong>2.2 三维数组</strong></p><pre>void func(int(*p)[3][4]){ printf("%d\n", *(*(*(p + 0) + 1) + 2)); //70}int main(void){ int a[2][3][4] = { { { 10, 20, 30, 40 },{ 50, 60, 70, 80 },{ 90, 100,110, 120 } }, { { 11, 22, 33, 44 },{ 55, 66, 77, 88 },{ 99, 101,111, 121 } } }; func(a); return 0;}</pre><p>运行结果：</p><div class=pgc-img><img alt=指针数组和数组指针 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d23572a18e8143929837c3a17ff99fe0><p class=pgc-img-caption></p></div><h1>3、总结：</h1><ul><li>指针数组：就是一个数组，这个数组里的每个元素都是一个指针，这个数组在内存空间中占用了n个指针的大小。</li><li>数组指针：就是一个指针，这个指针指向一个数组，这个指针在内存空间中占用一个指针的大小。</li><li>二级指针p 和二维数组名p 的区别：</li><li class=ql-indent-1>int ** p; 这个是一个整型的二级指针，p是一个可变句柄/钥匙，我们可以让这个指针指向任何我们希望它指向的地方.这个句柄不需要指定内存空间的大小。</li><li class=ql-indent-1>int p[n][m]; 这个是一个整型的二维数组，p是引用了这块内存空间的句柄/钥匙，数组在定义的时候，就被固定指向某个内存空间了，这个空间大小是 sizeof(int) * n * m，而且不可修改p的指向，</li><li class=ql-indent-1>如果想确定某个一维数组的值： * 、 []</li><li class=ql-indent-1>如果想确定某个二维数组的值：** 、 [][] 、 *[]</li></ul></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'指针','数组'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>