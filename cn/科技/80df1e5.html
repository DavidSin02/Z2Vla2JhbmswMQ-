<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>PCB设计中画BGA时，如何扇出，都有哪些方式？ | 极客快訊</title><meta property="og:title" content="PCB设计中画BGA时，如何扇出，都有哪些方式？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/c5adfac49f034bda8da5e36afa4a1931"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/80df1e5.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/80df1e5.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/80df1e5.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/80df1e5.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/80df1e5.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/80df1e5.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/80df1e5.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/80df1e5.html><meta property="article:published_time" content="2020-10-29T21:00:37+08:00"><meta property="article:modified_time" content="2020-10-29T21:00:37+08:00"><meta name=Keywords content><meta name=description content="PCB设计中画BGA时，如何扇出，都有哪些方式？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/80df1e5.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>PCB设计中画BGA时，如何扇出，都有哪些方式？</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1>前言</h1><p class=ql-align-justify>球栅阵列(BGA)封装是目前FPGA和微处理器等各种高度先进和复杂的半导体器件采用的标准封装类型。用于嵌入式设计的BGA封装技术在跟随芯片制造商的技术发展而不断进步，这类封装一般分成标准和微型BGA两种。这两种类型封装都要应对数量越来越多的I/O挑战，这意味着信号迂回布线(Escape routing)越来越困难，即使对于经验丰富的PCB和嵌入式设计师来说也极具挑战性。</p><p class=ql-align-justify>嵌入式设计师的首要任务是开发合适的扇出策略，以方便电路板的制造。在选择正确的扇出/布线策略时需要重点考虑的因素有：球间距，触点直径，I/O引脚数量，过孔类型，焊盘尺寸，走线宽度和间距，以及从BGA迂回出来所需的层数。</p><p class=ql-align-justify>和嵌入式设计师总是要求使用最少的电路板层数。为了降低成本，层数需要优化。但有时设计师必须依赖某个层数，比如为了抑制噪声，实际布线层必须夹在两个地平面层之间。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=PCB设计中画BGA时，如何扇出，都有哪些方式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c5adfac49f034bda8da5e36afa4a1931><p class=pgc-img-caption></p></div><p class=ql-align-center>图1：Dog bone型扇出。</p><p class=ql-align-justify>除了基于特定BGA的嵌入式设计固有的这些设计因素外，设计的主要部分还包括嵌入式设计师从BGA正确迂回信号走线所必须采取的两种基本方法：Dog bone型扇出(图1)和焊盘内过孔(图2)。Dog bone型扇出用于球间距为0.5mm及以上的BGA，而焊盘内过孔用于球间距在0.5mm以下(也称为超精细间距)的BGA和微型BGA。间距定义为BGA的某个球中心与相邻球中心之间的距离。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=PCB设计中画BGA时，如何扇出，都有哪些方式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/fdaaf7251ceb4ab3a8a52a57e0685012><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图2：焊盘内过孔扇出方法。</p><p class=ql-align-justify>了解与这些BGA信号布线技术有关的一些基本术语很重要。其中术语“过孔”是最重要的。过孔是指带电镀孔的焊盘，这个电镀孔用于连接某个PCB层上的铜线和另外一个层上的铜线。高密度多层电路板可能用到盲孔或埋孔，也称为微型过孔。盲孔只有一面可见，埋孔两面都不可见。</p><h1>Dog bone型扇出</h1><p class=ql-align-justify>Dog bone型BGA扇出法是分成4个象限，在BGA中间则留出一个较宽的通道，用于布设从内部出来的多条走线。分解来自BGA的信号并将它们连接到其它电路涉及到多个关键步骤。</p><p class=ql-align-justify>第一步是确定BGA扇出所需的过孔尺寸。过孔尺寸取决于许多因素：器件间距，PCB厚度，以及需要从过孔的一个区域或一个周界布到另一个区域或另一个周界的走线数量。图3显示了与BGA有关的三个不同周界。周界是一个多边形边界，定义为围绕BGA球的一个矩阵或方形。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=PCB设计中画BGA时，如何扇出，都有哪些方式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6314f5e43b044f5a982ebd3259a3ac7e><p class=pgc-img-caption></p></div><p>图3：与BGA有关的三个不同周界。（Perimeter: 周界）</p><p class=ql-align-justify>经过第一行(水平)和对应第一列(垂直)的虚线组成的是第一个周界，然后依次是第二个和第三个周界。设计师从BGA最外的周界开始布线，然后不<span>断向里</span>走，直到BGA球最里的周界。过孔尺寸用触点直径和球间距计算，如表1所示。触点直径也是每个BGA球的焊盘直径。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=PCB设计中画BGA时，如何扇出，都有哪些方式？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/0c66d6c0057843b4a6eea6e102e1d953><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>表1：使用触点直径和球间距计算过孔尺寸。（注：Ball pitch: 球间距</p><p class=ql-align-center><strong>　</strong>Land Diameter: 触点直径</p><p class=ql-align-center>conductor (Line) and space width(in μm): 导线(走线)和空间宽度(μm内)</p><p class=ql-align-center>Assumes both are the same: 假定两者都相同</p><p class=ql-align-center>1 Line per channel: 每个通道的1条走线</p><p class=ql-align-center>2 lines per channel: 每个通道2条走线</p><p class=ql-align-justify>一旦完成了Dog bone型扇出，并且确定了特定的过孔焊盘尺寸，第二步就是定义从BGA进入电路板内层的走线宽度。确认走线宽度时要考虑许多因素。表1显示了走线宽度。走线之间要求的最小空间限定了BGA迂回布线空间。重要的是要知道，减小走线之间的空间将增加电路板制造成本。</p><p class=ql-align-justify>两个过孔之间的区域被称为走线通道。相邻过孔焊盘之间的通道面积是信号布线必须经过的最小面积。表1用来计算可以经过这个区域布线的走线数量。</p><p class=ql-align-justify>如表1所示，实施BGA信号迂回布线时必须满足走线宽度和走线间最小空间要求。相邻过孔焊盘之间的通道面积是信号布线必须经过的最小面积。</p><p class=ql-align-justify>通道面积CA=BGA间距-d，其中d是过孔焊盘直径。</p><p class=ql-align-justify>可以经过这个区域布线的走线数量用表2进行计算。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=PCB设计中画BGA时，如何扇出，都有哪些方式？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/e820ee1bc66f4a41a6f58730fbb32e15><p class=pgc-img-caption></p></div><p>表2：计算经过给定通道面积的走线数量。(注：Number of Traces: 走线数量</p><p class=ql-align-center>Formula: 公式</p><p class=ql-align-center>Space width: 空间宽度</p><p class=ql-align-center>Trace width: 走线宽度</p><p class=ql-align-justify>许多走线可以通过不同通道进行布线。例如，如果BGA间距不是十分精细，可以布1条或两条走线，有时可以3条。比如对于1mm间距的BGA来说，就可以布多条走线。然而，借助今天的先进PCB设计，大多数时候一个通道只布一条走线。</p><p class=ql-align-justify>一旦嵌入式设计师确定了走线宽度和间距、经过一个通道布线的走线数量以及用于BGA版图设计的过孔类型，他或她就能估算出所需的PCB层数。使用小于最大值的I/O引脚数量可以减少层数。如果允许在第一层和第二层布线，那么两个外周界的布线就无需使用过孔。其它两个周界可以在底层布线。</p><p class=ql-align-justify>第三步，设计师需要根据要求保持阻抗匹配，并确定完全分解BGA信号要使用的布线层数量。接下来使用电路板顶层或放置BGA的那一层完成BGA外圈的布线。</p><p class=ql-align-justify>剩下的内部参数则分布在内部布线层上。根据每个通道内的内部布线数量，需要公正地估计完成整个BGA布线所需的层数。</p><p class=ql-align-justify>等外圈布线完了后，再布下一圈。图4a和图4b中的一组图描述了PCB设计师如何布线不同的BGA圈，从最外面开始，一直到中心。第一张图显示了第一和第二个内圈是如何布线的。接着按同样的方法布线后续的内圈，直到完成全部的BGA布线。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=PCB设计中画BGA时，如何扇出，都有哪些方式？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/0e0946a0d1d440679383d9a0ff24ec50><p class=pgc-img-caption></p></div><p class=ql-align-center>图4a和4b：如何布线不同的BGA圈，从最外层开始，直到中心。</p><p class=ql-align-justify>在需要考虑电磁干扰(EMI)的一些设计中，外层或顶层是不能用于布线的，即使外圈也不行。在这种情况下，顶层用作地平面。EMI包括了一个产品对于外界电磁场的易感性，而外界电磁场一般通过耦合或辐射方式从一个产品进入另一个产品，并常常导致后一个产品通不过一致性测试。产品只有满足以下三个标准才能认为符合电磁兼容规范要求：</p><p class=ql-align-justify>不干扰其它系统</p><p class=ql-align-justify>不受其它系统辐射的影响</p><p class=ql-align-justify>不会干扰到本身。</p><p class=ql-align-justify>为了防止产品收发干扰信号，建议对产品采取屏蔽措施。屏蔽一般是指用金属外壳完全包裹住整个电子产品或产品的一部分。然而，在大多数情况下将外层用地平面填充也可以起到屏蔽的作用，因为它能吸引能量，最大程度地减小干扰。</p><p class=ql-align-justify><strong>　</strong></p><h1>用于超细间距的焊盘内过孔技术</h1><p class=ql-align-justify>当使用焊盘内过孔技术进行BGA信号逃逸和布线时，过孔直接放置在BGA焊盘上，并填充导电材料(通常是银)，并提供平坦的表面。</p><p class=ql-align-justify>本文使用的微型BGA焊盘内过孔扇出例子采用的是0.4mm球或引线间距，PCB是18层，包括8个信号布线层。BGA布线通常要求更多的层数。但在这个例子中，层数不是问题，因为只用了少量的BGA球。关键问题仍然是微型BGA的0.4mm窄间距，并且顶层除了扇出外不允许布线。目标是既做到扇出微型BGA，又不负面影响PCB的制造。</p><p class=ql-align-justify>图5显示了BGA器件制造商提供的外形图。从图中可以看到，推荐的焊盘尺寸是0.3mm(12mil)，而引脚间距是0.4mm(16mil)。由于焊盘之间的间距特别小，因此不可能实现传统的Dog bone型扇出图案。即使小尺寸的过孔也无法用于Dog bone型扇出策略。这里的小尺寸过孔意思是6mil的钻孔和10mil的环形焊盘。另外一个重要的机械性限制是电路板厚度，本例是93mil。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=PCB设计中画BGA时，如何扇出，都有哪些方式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9ba311819bd94a07962e9b1183fe2bb1><p class=pgc-img-caption></p></div><p>　图5：BGA器件制造商提供的外形图。</p><p class=ql-align-justify>在这种情况下，最方便的解决方案是使用焊盘内微过孔。然而，微过孔尺寸不能超过3mil。但93mil的电路板厚度是一个限制因素。另外一个选项是盲孔和埋孔技术。但这些选项将限制制造技术的选择，并且会增加成本。</p><p class=ql-align-justify>为了能够选择不同的制造公司，93mil厚的电路板中钻孔尺寸不能小于6mil，走线宽度不能小于4mil。否则只有少数高端的电路板制造商才能接手这个项目，而且价格不菲。图6显示了与本例有关的BGA外形图。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=PCB设计中画BGA时，如何扇出，都有哪些方式？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c75074d5a1e740f3ba41f410169fedcb><p class=pgc-img-caption></p></div><p>图6：这种扇出方法避免了使用高端技术，而且不会影响信号完整性。BGA引脚分成内部引脚和外部引脚两部分。</p><p class=ql-align-justify>图6所示的扇出方法避免了使用高端技术，而且不影响信号完整性。BGA引脚被分成内部和外部引脚两个部分。焊盘内过孔用于内部，外部引脚在0.5mm栅格上扇出。图7a显示的是顶层，图7b显示的是顶层和内部布线层。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=PCB设计中画BGA时，如何扇出，都有哪些方式？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/13f492cddedb4bd8b5c7064de56a63e6><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-center>图7a和7b：焊盘内过孔用于内部，而外部引脚在0.5mm栅格上扇出。图7a显示的是顶层；图7b显示的是顶层和内部布线层。</p><p class=ql-align-justify>由于BGA焊盘尺寸是0.3mm(12mil)，间距是0.4mm(16mil)，因此焊盘内使用了6/10mil的过孔(孔/环尺寸)。外部扩展扇出使用相同的过孔。在内部，过孔之间的间隙是6mil，这是标准尺寸，不会引起制造问题。外部的过孔间隙是10mil。这个间隙可以走一条3mil的线，线与过孔距离是3.34mil。这种特别的策略允许从0.4mm间距微型BGA出来的所有信号都能成功扇出，而且不会提出任何特殊的制造要求。</p><p class=ql-align-justify>不管是使用Dog bone还是焊盘内过孔方法，基本步骤是相同的，也就是先要确定正确的通道空间，包括定义过孔和焊盘的尺寸、走线宽度、阻抗要求和叠层。然而区别在于过孔安排和所用的过孔组。</p><p class=ql-align-justify>推荐使用深度最多6层的盲孔/埋孔配置。层数再多会引起制造良率问题。优选技术是使用交叉过孔或堆叠过孔，如图8所示。交叉过孔允许更加精确的注册公差，因为它们不像堆叠过孔那样强制要求完美对齐。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=PCB设计中画BGA时，如何扇出，都有哪些方式？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/50d7cf8c406e4bb1abc3a56f34064132><p class=pgc-img-caption></p></div><p class=ql-align-center>图8：交叉过孔允许更大的注册公差，因为它们不像堆叠过孔那样强制要求完美对齐。</p><p class=ql-align-justify><strong>　</strong></p><h1>没有这些步骤会出什么错</h1><p class=ql-align-justify>不管是用Dog bone还是焊盘内过孔技术，可制造性和功能都是需要认真考虑的两个重要方面。关键是要知道制造工厂的制造限制。有些工厂可以制造特别严格的设计。然而，如果产品准备批量生产，成本会很高。因此设计时就要考虑选用普通制造工厂特别重要。</p><p class=ql-align-justify>总之，从制造角度看要考虑的关键因素有：</p><p class=ql-align-justify>层叠</p><p class=ql-align-justify>过孔－孔的大小(取决于长宽比）</p><p class=ql-align-justify>过孔－孔环 (要求最小3mi）</p><p class=ql-align-justify>过孔—堆叠(堆叠还是交叉）</p><p class=ql-align-justify>铜箔到铜箔距离(推荐最小3mil）</p><p class=ql-align-justify>铜箔到钻孔距离(要求最小5mil)</p><p class=ql-align-justify>用于装配的BGA触点尺寸与锡球尺寸</p><p class=ql-align-justify>在可制造性和功能方面总是存在折衷考虑。因此正确分析每个方面然后做出合适的决定很关键。</p><p class=ql-align-justify>另一方面，功能包括了信号完整性、电源分布和电磁兼容。这些可以分成以下几个大类：</p><p class=ql-align-justify>反射和传输线(一条线) 关键是阻抗控制。阻抗由走线宽度、电介质厚度和参考平面所控制。</p><p class=ql-align-justify>反射和传输线(一条线) 关键是阻抗控制。阻抗由走线宽度、电介质厚度和参考平面所控制。</p><p class=ql-align-justify>串扰(两条或更多条线) 相同和相邻层上走线之间的距离是控制串扰的关键。每个信号层之间放置地层、将对噪声敏感的或辐射噪声的走线周围的屏蔽线接地有助于最大限度地减小串扰。</p><p class=ql-align-justify>电源分布(轨破坏) 这是电源网络的电感。使电源和地平面相邻并使用去耦电容有助于控制电源浪涌。</p><p class=ql-align-justify>电磁干扰(系统破坏) 控制上述所有单元，同时屏蔽整个PCB或对噪声敏感和产生噪声的部分有助于控制电磁干扰。</p><p class=ql-align-justify>上述措施对整个产品来说也是正确的。然而，在BGA区域尤其正确，因为所有信号和电源彼此靠得很近，因此极具挑战性。对信号特性的正确了解有助于作出在功能方面哪个网络具有更高优先级的决定。</p><p class=ql-align-justify>在靠近BGA的层中使用大面积的接地平面有助于解决大多数信号完整性问题。盲孔的一个最大好处是，在盲孔/埋孔中消除了分支长度，这对高频信号来说尤其重要。</p><h1>本文小结</h1><p class=ql-align-justify>用于嵌入式设计的BGA封装技术正在稳步前进，但信号迂回布线仍有很大难度，极具有挑战性。在选择正确的扇出/布线策略时需要考虑几个关键因素：球间距，触点直径，I/O引脚数量，过孔类型，焊盘尺寸，走线宽度和间距以及叠层。遵循本文所述的一些策略可以确保产品具有正确的形态、装配和功能。</p><h1><strong>卧龙会，卧虎藏龙，IT高手汇聚！由多名十几年的IT技术设计师组成，欢迎关注！</strong></h1></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'PCB','设计','中画'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>