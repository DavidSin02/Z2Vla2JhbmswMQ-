<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>用51单片机体验高阻态的详细步骤讲解 | 极客快訊</title><meta property="og:title" content="用51单片机体验高阻态的详细步骤讲解 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/c09f775029b841e2b3b85b87a04be1d7"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86079230.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86079230.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/86079230.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86079230.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86079230.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/86079230.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/86079230.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86079230.html><meta property="article:published_time" content="2020-10-29T21:09:06+08:00"><meta property="article:modified_time" content="2020-10-29T21:09:06+08:00"><meta name=Keywords content><meta name=description content="用51单片机体验高阻态的详细步骤讲解"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/86079230.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>用51单片机体验高阻态的详细步骤讲解</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>在51单片机的P0口工作在普通IO口模式下，为准双向IO口。而工作在第二功能状态下时，则为标准的双向IO口。由于双向IO口的输出，要求能输出高低电平，通常会采用互补推挽电路。</p><p>在第二功能状态下，51单片机P0口采用的是互补推挽的输出方式。何为互补推挽呢？下面是它的等效电路图。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=用51单片机体验高阻态的详细步骤讲解 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c09f775029b841e2b3b85b87a04be1d7><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p>当P0第二功能作为输出时，K1和K2两个开关轮流打开。K2闭合K1打开，就会输出高电平，并且其驱动能力很大，因为电子开关的阻值小（不像上拉电阻的值那么大）。反之K2打开，K1闭合，就会输出低电平。</p><p>两个开关交替导通，互为补充，“挽”是“拉”的意思，两个电子开关分别负责在IO口输出处“推”和“拉”电流，所以称为互补推挽。</p><p>这种IO口结构的优点很明显，驱动能力强，稳定可靠。缺点在于实现起来比较困难。在切换输出电平的过程中，例如从低电平切换到高电平，当K1断开时，要求尽可能快的输出高电平，也就是K2应该立即闭合；同时，如果K1还没断开，K2就提前闭合了，相同于两个开关同时导通，会直接短路，后果又会很严重。所以需要用电路控制好两个开关的协调工作。</p><p>双向IO口的输出，只要求能输出高低电平，因此并不是必须采用互补推挽电路。而采用互补推挽电路的好处在于，这种电路同时又可以实现高阻态的输入，从而实现标准双向IO口。</p><p>当图中的K1和K2同时断开时，IO口就可以工作在高阻态的输入状态下。高阻态到底是什么样的一个概念呢？</p><p>当IO口处于高阻态时，也将其称为浮空输入状态，其电平是悬浮不定的，既不是高电平也不是低电平。我们可以想象单片机在检测IO口的电平高低时，相当于在CPU里面有一个类似电压表的东西，并且这个电压表内阻很大，例如图中给出的100MΩ。在这里，我们可以把这个电压表的内阻称为P0.0口此时的输入电阻（也可以近似认为是输出阻抗，电阻是对直流电而言，而阻抗是对交流电来说的。这是模拟电路的知识，这里不做细说）。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=用51单片机体验高阻态的详细步骤讲解 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8b7a4ad96b73449c86bfade4e107a284><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p>现在试想，如果我不小心用手碰到了P0.0端口，而由于人体本身就是阻值很大的导体，周围有很多电磁波干扰，手上可能存在一些很微弱的电流，这个时候，电压表的读数就会发生变化，单片机读取的电平高低就会变。高阻态表现出来的结果就是外界很小的干扰，都可能导致读取的电平变化，甚至即使没有碰这个IO口，它每次读取的结果也可能不一样，因为外界的电磁波等可能会干扰到IO口。稍后我们会利用51单片机做个实验，来体验P0口的高阻态。</p><p>为什么双向IO口输入的时候要求是高阻态呢？</p><p>我们假设有一种装置，等效电路如下图。开关上下切换，它就会输出高低电平，通过电压表可以检测出来。但是其驱动能力很弱，连LED也驱动不了。装置里的100kΩ，可以叫做装置的输出电阻（同样也可以近似认为是输出阻抗）。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=用51单片机体验高阻态的详细步骤讲解 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/54362ea23d6a460880f5ef1d43fc1849><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p>让这个装置输出低电平，然后连接51单片机的P1.0口。这时，VCC经过10kΩ上拉电阻到达IO口，再到装置内部的100kΩ电阻，通过开关K接到GND。根据分压原理，P1.0上的电压值大概是4.55V，于是单片机读取的是高电平。而事实是，装置想输出低电平告知51单片机。这里单片机管脚作为输入功能，却干扰了外界装置的输出值，相当於单片机的这个IO口也在输出。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=用51单片机体验高阻态的详细步骤讲解 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7d884bbb0f0e4160bdf846c8b606c62e><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p>当单片机的P0口工作在第二功能的输入状态，或者工作在普通IO口的输入状态，且没有外界上下拉电阻，内部的两个电子开关都是断开的，对外部呈现高阻态。从图中可以看出，装置输出的电平能被准确的读取到单片机中。之所以能准确读取，就是因为装置输出电阻比单片机IO口的输入电阻要小。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=用51单片机体验高阻态的详细步骤讲解 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b9f9279f39674c5db878568b1a78dbb8><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p>有人可能会说，如果把装置中的电阻换成1000MΩ，这个时候这个单片机又不能准确读取电平了。但是一般情况下，我们不需要考虑这么极端。如果是理想的高阻态，其输入阻抗应该是无穷大，而这有点像超导体一样比较特殊。一般情况下认为导线电阻几乎为0，同样也认为高阻态输入电阻是无穷大。</p><p>总的来说，就是高阻态情况下，IO口输入电阻很大，而不容易干扰那些输出电阻较大、驱动能力弱的装置输出到IO口上的电平。</p><p>编写程序如下：</p><p>#include reg52.h</p><p>sbit TOUCH = P0^0;</p><p>sbit LED = P1^0;</p><p>void main()</p><p>TOUCH = 1;</p><p>while(1) {</p><p>LED = TOUCH;</p><p>}</p><p>电路方面，LED接在P1.0端口，仍然是采用灌电流的方式，低电平有效。P0.0什么都不要接。特别注意，这个实验必须在P0.0什么都没接的情况下才能进行。很多成品开发板上，P0.0都连接了外部上拉电阻，没法做这个实验，建议自己搭建面包板。</p><p>程序烧写好之后，理论上来说，TOUCH管脚作为高阻态输入，电平是不确定的，因此LED的亮灭也是不定的。我在实际实验时，P0.0悬空的情况下，LED是一直点亮的，这可能是因为51单片机的高阻态和理想的高阻态还有一点差距，读取P0.0的电平为低。</p><p>当把手指或很大的电阻放在P0.0和VCC之间，就会发现LED熄灭了，或者变暗了（变暗了说明LED在闪烁，只是闪烁的很快所以看不出来，就像交流电驱动的白炽灯一样）。手指的电阻很大，如果是P1.0口，或者在P0.0上外接了上拉或下拉电阻，这时通过手指很难改变其电平状态。而由于是高阻态，所以P0.0原先的低电平，通过手指从VCC传过来的很微弱的电流就变成了高电平。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'51','单片','机体验'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>