<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>教你花600元，获得一个24盘位的NAS硬盘扩展柜？ | 极客快訊</title><meta property="og:title" content="教你花600元，获得一个24盘位的NAS硬盘扩展柜？  - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/bc859623a5994bc387555f9de8eb88d8"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8881ae3.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8881ae3.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/8881ae3.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8881ae3.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8881ae3.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/8881ae3.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/8881ae3.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8881ae3.html><meta property="article:published_time" content="2020-10-29T21:06:50+08:00"><meta property="article:modified_time" content="2020-10-29T21:06:50+08:00"><meta name=Keywords content><meta name=description content="教你花600元，获得一个24盘位的NAS硬盘扩展柜？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/8881ae3.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>教你花600元，获得一个24盘位的NAS硬盘扩展柜？</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1>原作者：z008</h1><p><strong>教你花600元，获得一个24盘位的NAS硬盘扩展柜</strong></p><p>在第一篇里老树开新花，我的NAS主机终于用起来丝丝顺滑了。至于大家所关心的功耗，带9个硬盘，开机128瓦左右；多余硬盘待机，开启各种下载的状态下是89瓦。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bc859623a5994bc387555f9de8eb88d8><p class=pgc-img-caption></p></div><p>i7 NAS的功耗</p><p>是否愿意为了性能多出这些钱，是大家自己考虑的事情。如果需要进一步降低功耗，可以使用低功耗的U。前言话说刚过完年，忍不住又开始了折腾。为啥，硬盘里的内容又增加了，玩音响的为了追求那么点声音和画面的提升，所有的片源必须是原盘。于是，添硬盘呗。却发现无论是主板上的接口，还是机箱内部的空间，都开始有无法承受的迹象。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/a13c97a934f947f48795fe911bb370a2><p class=pgc-img-caption></p></div><p>30TB的RAID 5阵列，外置希捷8TB X 3</p><p>小烧不像有些朋友，喜欢把存好的片子的硬盘一个个用塑料盒子装起来，贴上标签，要看的时候再插上。<strong>小烧喜欢所有存放的片子都在线，可以随时找到并播放</strong>。而且最好所有的片子都放在一个盘符下，能一下子浏览全貌。说到底，这个不良癖好是需要硬件来支持的。这不，除了内置的硬盘之外，还有外置的USB硬盘希捷8TB X 32个睿品是带USB HUB的，比较实用的功能，在USB 3.0接口不足的时候可以将其余的USB外置硬盘插在上面。</p><p>以及买了一年之久的优越者外置硬盘柜，这个柜子是硬件支持RAID的，过了春节不知为何涨价了。小烧目前的配置是HGST 的8TB氦气硬盘 X 5组RAID 5.</p><p>当然，硬盘的实际成交价格并没有那么贵，小烧是在淘宝买的。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/20ca7701df0a441aa2e91f6edd8bfc2b><p class=pgc-img-caption></p></div><p>正好遇到成色不错的拆机盘，一下子入了5块，一股脑儿塞进机器，组了RAID 5。当然，现在HGST的盘都打上了西数的标，统一了品牌。</p><p>这个外置的USB 3.0的硬盘柜使用上也没有什么不便，唯一最大的缺点就是RAID 5状态下的写入速度比较低，一般会维持在30-40M左右，远远低于USB 3.0以及硬盘自身传输速率的极限。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/37d816b6455e49e99433c9a7ce3f2235><p class=pgc-img-caption></p></div><p>小烧判断还是由于RAID 5情况下，硬盘柜自带的RAID芯片性能不足引起的。读取的时候没有这个情况，速度正常。顺便提一下，组完RAID 5之后，所有的读写数据都是5个硬盘一起完成的，因此耗电和损耗都是X 5。这么大容量的阵列，就凭里面的那个小芯片，估计万一坏了硬盘重建所要花费的时间…简直无法想象。</p><p>这里小烧还是要提一下，目前民用支持RAID 5的设备非常多。但是RAID 5对于普通用户来说的保证数据安全的意义并不大，有时会起到反作用。RAID 5的初衷是为服务器提供大吞吐量和一定的冗余量，在一个硬盘损坏的情况下不至于服务器整个下线。而且服务器硬盘是定时全部替换的。这个技术放到民用上，经常听到有人的RAID 5阵列坏了一个硬盘，添加新硬盘后重建阵列，结果又坏了一块硬盘，导致整个阵列中的数据全部丢失。当然了，如果有钱购买顶级的设备和高可靠性硬盘，自己在家中组RAID 5依然是可行的。</p><p>照理说组了RAID 5的存储之后，本应该安心的心中却充满了焦虑，到底是图啥呢。民用设备上组RAID的意义何在？因此，在这个优越者外置硬盘柜早已塞满了的今天，小烧早已又换了一种集中存储影片的方式，那就是用StableBit Drivepool这个软件，将一个个单独的硬盘合成一整个大硬盘使用。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a04b9aa420a84fdd8e3d3ba683c74d58><p class=pgc-img-caption></p></div><p>StableBit DrivePool界面</p><p>相比windows自带的跨区卷，这个软件的优势就是可以随时添加或者删除硬盘。单个硬盘的内容也可以单独挂载在别的机器中读出。即使坏了一个硬盘，也不影响其余硬盘的数据。</p><p>至于数据冗余和安全，小烧经过取舍之后已经放弃。片子随时可以下载，重要数据也就那么几个TB，两块8TB的氦气盘组RAID 1保存足矣。其余的所有硬盘，都给我到碗里来，组成一个大池子存放高清影片吧。</p><p>既然需求已经明确了：</p><p>1.寻找尽量多盘位的，支持SAS和SATA两种硬盘接口；</p><p>2.支持硬盘快速拔插；</p><p>3.能够配合目前的NAS机器作为外接盘位使用；</p><p>4.RAID功能可选，非必要。</p><p>那就开始吧。</p><p>DIY 24盘位硬盘柜的硬件选择：</p><p>USB硬盘柜</p><p>首先淘汰了那些外置的USB硬盘柜。价格贵，一般5盘位支持RAID 的在800左右的价格，像上面提高的优越者3359R，比较贵的ORICO甚至到了 2000以上的价格。</p><p>看到这个价格小烧只能呵呵了。2000多元已经能组一个很不错的6盘位NAS了，凭什么要来买这个RAID性能羸弱的东西。你这个小小的外置USB硬盘阵列柜何德何能，难道里面用的是金X吗？ 但不可否认的是这样的产品买来即插即用，适合于懒人。市场的确需要这一类的产品。</p><p>一般不支持RAID的5盘位外置普通USB硬盘柜，价格可能在600左右，能选到颜值不错的产品。</p><p>这类产品一旦到了8盘位，价格就有些变得让人看不懂。比如</p><p>注意即使卖到1800多的价格，你也只有8个盘位，对于小烧这类需要大量存储盘位的用户来说，实在不算是友好。</p><p>其次，对于这个类型的产品，最让人担心的是电源的问题。这类密封外壳被动散热的外置AC-DC变压器，稳定性始终让人提心吊胆，特别是对于有可能24小时不间断运行的硬盘来说，电压不稳定的后果就是硬盘损坏。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/07665c55572e49d39dbd067cec7762e4><p class=pgc-img-caption></p></div><p>常见电源</p><p>相信大多数的外置USB硬盘笼，都是用的这类电源。无风扇的被动散热设计，注定不适合长时间持续运行。</p><p>存储服务器机箱</p><p>其实对于民用大规模的存储来说，退役的存储服务器机箱是一个很不错的选择。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9cd2e082c4dd412999e2866675cbe33d><p class=pgc-img-caption></p></div><p>24盘位机箱</p><p>不到千元的价格，就能买到一个带24盘位，带热拔插背板和硬盘笼的的极其扎实的机箱。这样的机箱，配上一块可靠的服务器主板，再加上双冗余电源，绝对是家庭存储的利器。</p><p>可惜这样一台机箱的体积，噪音，以及DIY的难度会把大多数人挡在门外。而且今天的主题是如何利用现有的服务器，进行存储扩展。因此关于这一类产品就不展开了，有机会单独写一篇。今天的主角 - 12盘位硬盘笼背板注：以下所提到的产品，如非特别说明，均为二手服务器拆机。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/65cc251951604cb89f222a11858e349a><p class=pgc-img-caption></p></div><p>逛淘宝的时候无意中发现了这个，虽然尺寸无法放入现有的机箱（长*宽*高=481*205*84mm），但是看上去是一个不错的外置存储扩展装置。而且价格十分的实惠，只要100元，12盘位哦，比那些5盘位的不知道强到哪里去。虽然配齐所有的拔插硬盘位要另外加上120元，</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/afaa5300994644d5b820f9196d23bbab><p class=pgc-img-caption></p></div><p>图片打码是为了隐去联系方式</p><p>但是这220元的成本，换来一个12盘位的热拔插扩展笼子，而且是带有扩展接口背板哦，只需一根数据线线即可支持12个硬盘。下面进入进入围着这个笼子选定配件的环节。首先画一个这个系统的拓扑图，让大家更容易了解这个12硬盘位扩展笼是怎么连接运作的。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/13e624a319f740bda9c169ebc3157f69><p class=pgc-img-caption></p></div><p>系统图普及一下HBA卡的概念，从字面上理解就是“主机总线适配器(Host BusAdapter , HBA)”。HBA卡有很多种，这次用到的HBA卡是用来扩展服务器的硬盘接口的。</p><p>这块HPH220 LSI 9205-8i 是一块最多支持1024个SAS/SATA设备的（你没看错，是1000多个），你只要有足够的接口扩展卡以及盘位，就可以连接1000个以上的硬盘哦。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a1cfc3c4df714228a3b3e390bc141735><p class=pgc-img-caption></p></div><p>不同于普通的SATA扩展卡，这块卡虽然物理上只能直接连接8块硬盘，但是只要有接口扩展卡，就能几乎无限扩展连接能力。这次这个硬盘笼就带有这样一块支持接口扩展的背板。因此12盘位的硬盘笼根本无需12条数据线，只需一根SFF8087的数据线就能使12个硬盘正常工作，是不是觉得很神奇？</p><p>普通的PCIE- SATA扩展卡的接口都是所见即所得，SATA口有几个，就只能接几个硬盘。这就是普通家用与服务器产品的区别。比如下边的西霸，它物理上有8个SATA口，而且只能连8个硬盘</p><p>在安装之前还需要解决一个问题 – 上篇文章介绍的广达服务器主板上只有一条PCIE X16扩展槽。这也是我对这块C602服务器主板最不满意的一点（也是卖的便宜的原因？）。这条插槽目前已经插了一块USB 3.0的扩展卡，怎么才能再插上一块HBA卡呢？</p><p>这就要用到主板的PCIE槽拆分功能了。可能许多K友不太清楚，<strong>其实主板上最长的那条PCIE x 16的槽是可以拆分的</strong>，至于以什么形式拆分，主板BIOS里可以设置，一般是自动拆分成8+8，而无需任何设置。而这种拆分在服务器中是经常用到的。因此，只要一块服务器使用的PCIE一分二卡就可以实现。在淘宝上找了一块号称是DELL的拆机卡，只需10元。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/e5763edf309245dba710d294c4309d58><p class=pgc-img-caption></p></div><p>10元10元，只要十元但是，插了这块卡依然会有问题，因为机箱的槽位都是与主板垂直的。于是乎只能用上PCIE延长线，将这块卡放平。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c2a7e8821f01429f9826a32a9e52aaca><p class=pgc-img-caption></p></div><p>这个时候，就需要半高卡了。</p><p>由于原来的USB 3.0转接卡是四口全高的。</p><p>于是乎，就又找了一块半高的PCIE 转 USB 3.0卡。又是西霸家的，似乎4口半高USB 3.0扩展卡其他家没有看到。</p><p>但是转念一想，其实用不着那么多的USB口，希捷的外置硬盘盒是自带USB 3.0 HUB功能的，还是找一块支持USB 3.1和C口的扩展卡吧。毕竟C口是趋势，而且USB 3.1的速度要比USB 3.0快上一倍达到10G。</p><p>于是有了这个家伙。查一下用的ASM1142芯片确实是支持USB 3.1 10G的。应该算是性价比最高的USB 3.1扩展卡了吧。注意许多淘宝上标称支持USB 3.1的是虚标，要问清楚用的是什么芯片，芯片不支持USB 3.1的就没法达到10G的速度。</p><p>至于HBA卡，基本为服务器设计的都是半高的，只要购买的时候备注需要半高挡板就行。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/266012af7a954e4f89950c65e6702a72><p class=pgc-img-caption></p></div><p>半高与全高挡板</p><p>这次HBA卡的选择，也出了一些小插曲。原来选的 HP H220 LSI9205-8i，结果插上购买的硬盘之后发现无法辨认6TB的硬盘（后来发觉并不是这张HBA卡的问题），所以只能寄回，换了一块H200的阵列卡。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f7f0239458584c2e8223e35c8bb2ed0e><p class=pgc-img-caption></p></div><p>反正价格一样，注意这个硬件RAID，速度和稳定性不是软件RAID能比拟的。不过也无所谓啦。反正我不用RAID功能，只要能扩展出足够多的硬盘接口就行。于是乎又折腾了一把，把这块DELL 的H200卡的固件刷成最新的P20版本的LSI 9211-8i IT模式。但是悲催的是，最后发现是这个型号的硬盘笼子不支持6TB硬盘，只能退货另外寻找合适的型号。折腾啊</p><p>淘宝上常见的12盘位硬盘笼背板比较</p><p>既然说到了硬盘笼子的兼容问题，小烧就把这次DIY中遇到的3种不同的笼子做一个总结。以便大家今后万一需要的时候供参考。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/088b26e5c41f4bf1b6916cdd16421093><p class=pgc-img-caption></p></div><p>第一种12盘位硬盘笼</p><p>第一种：背板上两个10Pin供电口离开很远。带有2个MINI SAS 8087口。这种笼子只需插一个10pin供电口和一根 8087线即可使用。但是悲催的是经测试无法支持6TB硬盘，3TB可用。因此： 不推荐。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/eadefa0548f84c248f0ca54d82f038db><p class=pgc-img-caption></p></div><p>第二种12盘位硬盘笼</p><p>第二种： 背板上的两个10Pin供电口成上下布置，带有1个MINI SAS 8087口。需要同时插2个10Pin供电才能正常工作。经测试可支持6TB，8TB大硬盘。缺点是背板指示灯在硬盘通电时并不会常亮（读写时亮灯），因此你很难知道硬盘位里到有没有硬盘在工作。也是目前小烧的选择。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3b1fa1a4ec0941ff91dac99559a7caa1><p class=pgc-img-caption></p></div><p>第三种12盘位硬盘笼</p><p>第三种：背板的电源口是2个CPU的8Pin，成色通常较新。但是这个8 PIN口与普通CPU的8 PIN定义并不相同，因此普通电源上的CPU 8 PIN口是无法使用的。通常淘宝卖货的建议与HP的服务器主板一同使用。而且这款硬盘笼的硬盘架子也与前两种不同。因此：不推荐还有一个共同点就是它们的尺寸基本都一样，因为其实它们就是这类2U服务器机箱的前半截，所以尺寸非常标准。这也为DIY提供了很好的便利性。因此：本次DIY采用了2个12盘位硬盘笼子叠加的方式，实现24盘位的扩展。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1656bbc340454e6680f518fa9c797ea6><p class=pgc-img-caption></p></div><p>2U服务器</p><p>电源选择这么多的盘位，从服务器原有的电源引出供电线显然不太现实（原来的机器内部就有10个以上的硬盘）。因此，为这个机器单独配一个稳定的电源是必要，毕竟要支持最多24个硬盘。注意，只支持12V输出的外置AC-DC变压器是不支持这个硬盘笼的，原因很简单：没有5V供电。任何ATX电源，只要满足以下两个条件，均可作为这款硬盘笼的供电使用：</p><p>1. 5V供电满足大约18A。注意3.5寸硬盘都是需要5V供电的，一般0.4-0.9安不等，比如下图的东芝 12TB就需要0.7安的5V电流。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cf36acaf40cd486e8cca327d767130b6><p class=pgc-img-caption></p></div><p>粗略算一下，24个硬盘大约需要18A左右的5V电流。至于12V电流，放心，现有ATX电源绝对供应充足，无需太担心。唯一需要注意的就是不要把24个硬盘的12V供电都放在一路上（多路12V的电源需注意，单路12V请忽略）。</p><p>2. 需要有图中的10pin电源供电。硬盘背板的供电通过2个10pin接口，如下：</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bfba74d09e6243f08423a0544634c221><p class=pgc-img-caption></p></div><p>10Pin供电口</p><p>本次DIY需要电源至少有4个10pin的电源接口，因此需要通过DIY或者定制的方式获取2个10pin一转二的转接线。鉴于目前使用10pin的设备并不常见，所以大部分人甚至不知道如何去淘宝寻找这样的接口。这里普及一下知识：这个东西名叫5557（公头）/5559（母头）4.2mm间距连接器。定制或者购买的时候选择需要的pin数即可。</p><p>注意这个硬盘背板需要的10pin供电的定义如下：</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3af9f64985e94fa69c488f65ed24453b><p class=pgc-img-caption></p></div><p>硬盘笼背板10pin供电定义</p><p>黄色的是12V，红色的是5V，黑色的是地线。鉴于需要至少2个10pin供电（这是最方便的形式，也可以从大4pin口转），这次用了店家推荐的这个750W的HP服务器冗余电源 + 电源笼。</p><p>画面是这样的。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/86186ed6852947a6a5708490965f72d9><p class=pgc-img-caption></p></div><p>服务器冗余电源+电源笼</p><p>为什么要搞得那么复杂，其实小烧也不想这样的。原因就是一般服务器的热拔插冗余电源的输出口是这样的：</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b33fae46924c4ad7848611e26c6e1f7d><p class=pgc-img-caption></p></div><p>冗余电源的输出口</p><p>要把这个输出转为常见可用的24pin 显卡6pin，大4pin就必须经过这个电源笼子。因此，笼子上也是有输出参数的。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/de1499e00ae94b24ac80e4b19237b14d><p class=pgc-img-caption></p></div><p>这个电源笼上最大输出电流 5V - 18A，12V - 62.5A。完全能满足24硬盘全力运行的需要。</p><p>如果有需要的话，完全可以插上两个相同的电源，做一下冗余。再配上一个UPS（不间断电源），保证在任何条件下，绝对不会掉电。</p><p>顺便说一下ATX电源在独立无开关的条件下如何保持开机。只需找一根电线短接24pin中的绿色PS-ON与任意的黑色地线即可。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/92f07cef7264401bb66818585a36a4f2><p class=pgc-img-caption></p></div><p>这样只需控制电源的通断即可让ATX电源开始运作或者停机。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a5e9f67ed3fc4d0f878282a3b316dbc3><p class=pgc-img-caption></p></div><p>装机：</p><p>说是组装硬盘笼，其实花费的时间和精力并不亚于diy一台主机。为什么？大家看下去就知道了。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9480da86dc8a43099f3343f48eda2750><p class=pgc-img-caption></p></div><p>第一款硬盘笼背后有两个SFF口，已被证实无法使用6TB硬盘，淘汰！</p><p>插上HBA卡，引出SFF8087线，接上硬盘笼背后的接口。开始试运行。</p><p>开机顺利认出硬盘。进入系统后，关闭硬盘笼电源，随机选取几个硬盘位置，插入后再通电，都能够顺利认出硬盘。说明硬盘笼与HBA卡都正常运行。</p><p>重建散热风道</p><p>接下来就是给硬盘笼和这个电源安一个家了。简单来说就是做一个箱体，将这些东西统统装入。好处有2：</p><p>1. 重中之重 - 散热。常见2U服务器的散热是靠着风道，前面进风，后面出风。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/419fb2c9a3ba4b0e8b147e8bc3a341d6><p class=pgc-img-caption></p></div><p>服务器散热风道</p><p>这个硬盘笼子原本就是服务器配件，因此，必须要有风扇在后面抽风，让冷空气从前方进入，带走硬盘的热量，这样才能保证长时间的稳定运行。高温对于任何的电子产品都是最大的杀手。但是这个硬盘笼子的开放式的结构，如果不是在后方直接贴着安装风扇，是几乎没有效果的。因此，diy一个箱体，重建散热风道是一件必须的事情。</p><p>2. 把这些乱七八糟的电源，线材固定到一个箱体中，不但看起来更清爽，易于搬运。更重要的是提高了整体可靠性，不会误操作让整个系统失效。</p><p>DIY硬盘柜箱体</p><p>DIY箱体选用了最常见的材料 - MDF中密度板。 切割方便，一致性好，拼接方便，最最最重要的是，支持各种DIY的想法。</p><p>确定了尺寸之后，开始切割板材。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a4688a5196184af69ecf3572f48dfa00><p class=pgc-img-caption></p></div><p>有导轨的话，配合电圆锯，轻轻松松切下合适的尺寸。精度控制在1毫米足矣。</p><p>圆锯并不需要太高级的，切割的精度在于是否有一个好的工作台和导轨。</p><p>这里用的是吴新升降导轨。板子切割完毕之后，先把底板和侧板组装起来。用的是钉枪+免钉胶。上胶之后用钉枪固定，立即就可以使用了。十分适合需要立即见效果的箱体DIY。</p><p>东成的气钉枪，十分好用。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/20689e865b7b455d9caabf2dbc13b961><p class=pgc-img-caption></p></div><p>侧板装起来之后，把硬盘笼装入试试看。严丝合缝，不错不错。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/141fdb4048b346c486b61bea84f65507><p class=pgc-img-caption></p></div><p>在安装上板和后面板之前，先把里面的电源位置固定一下。整个过程只用了3长2短两颗螺丝。木板的优势。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/a51ec3c5612f485eadad9917a77ad068><p class=pgc-img-caption></p></div><p>这里再安利一下威克士的这个小螺丝刀，虽然扭力较小干不了粗活。但是用来拧个把螺丝足够了。再加上可伸长的设计以及手枪式的造型，最适合这种小空间发挥。这里博世GSB180空有一身武艺，却无法使出。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/19e8de5fc6d94ca8a61fa791aaa99eef><p class=pgc-img-caption></p></div><p>博世的这个工作灯一直是DIY和装机的好帮手，好的光线可以减少错误和提高效率。如果有博世18V系列的工具，相信会配有电池。那么这样一个不带电池的工作灯也花不了多少钱。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/723920e724d24fec902fcd68f60a69b2><p class=pgc-img-caption></p></div><p>博世GLI180工作灯</p><p>后面板是需要DIY一下的，因为后面会挂上散热风扇。如果手中有现成的12CM扇子可以考虑直接使用，开孔按照12CM的大小来开。不推荐普通的8CM风扇，原因很简单，风量太小，未必能压住24个硬盘的热量。但是小烧手中恰好有2只8CM的服务器暴力风扇，正好可以装上试试看。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2b45b4af7e8c4aa6b4016516df4225cd><p class=pgc-img-caption></p></div><p>开孔</p><p>12CM以及以上的开孔，还是推荐使用电木铣，用这种开孔器真是又累效率又低，还有一定的危险性。</p><p>小烧开30CM的大孔用的就是东成的电木铣。</p><p>风扇使用干壁钉直接固定，不费事对穿螺丝孔了。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5cdb1d3658984f41b2eff81bfbfd29a4><p class=pgc-img-caption></p></div><p>这里有个全速运行的小视频。这风量，绝对吹的面瘫</p><p>https://player.youku.com/embed/XNDA2ODAzNjk0NA==?client_id=135733115d8d2ef5&_time=0</p><p>这个时候需要一个风扇调速器来配合使用了，调节到一个风量和噪音平衡的水平。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0ccf777de42b4af5b1f50895e354213e><p class=pgc-img-caption></p></div><p>单接口支持最大2A电流，符合要求</p><p>后面板做成可打开的，方便维护，需要的材料有铰链，以及一个小五金件，另外，密封胶条也需要，任何一丝风对于前面的硬盘都是重要的。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ad3968c8fe974542a782e772811a554a><p class=pgc-img-caption></p></div><p>外置抽风式的风扇，看上去有没有充满着工业的美感（其实式内部的空间留小了），如果用较薄的风扇或者加长一些箱体，可以把这些都放到机箱内部去。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9a19fb2de69942538f346e5dc73cb45b><p class=pgc-img-caption></p></div><p>作为一个机箱，没有脚怎么行，在一台老的NAD VCD机器下拆下4个脚，用螺丝装在底板上，嗯，有些象样了。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f9ce4cb799b0455e978266fce9b3f8e8><p class=pgc-img-caption></p></div><p>箱体垫脚最</p><p>后来看看完成后的前部图，两个12盘位叠在一起是不是很暴力美学呢？ 数一数： 4 x 6 = 24个可以插硬盘的地方。现在看起来，什么4盘位，8盘位群晖，在容量至上的追求者面前，都是浮云。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ffa2387a71c5494d82738334caba4533><p class=pgc-img-caption></p></div><p>（请无视硬盘笼表面的容量标签）</p><p>顺便自曝一下这个存储小怪兽的三围尺寸：48厘米（宽） x 21厘米（高）x 40厘米（深）。比一个常见的卧式机箱要小一些。重量的话，恐怕要等装满24个硬盘之后才能下定论，总之不轻。</p><p>一点一点加硬盘吧，恐怕一下子是没法喂饱24个嗷嗷待哺的硬盘位的。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c3ce71b368a74bb2b963884754cc7c90><p class=pgc-img-caption></p></div><p>机箱内部的安装：</p><p>接下来说一下现有机箱内部的安装。前面说到要用到半高卡和PCI-E的延长线，以及PCIE拆分卡。延长线用的是最便宜的即可。</p><p>至于为什么要用半高卡，请看下图。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ee09a31922854f81bf4adb7070039310><p class=pgc-img-caption></p></div><p>机箱内部用的E-ATX主板已经将扩展槽位置全部占满，因此延长线和扩展板只能堆在主板上方，这个时候只有半高卡才能勉强固定。没办法，谁让选择了这块主板呢，既然用了就要想方设法折腾，不能始乱终弃。</p><p>全部弄完之后，进入系统看一下，嗯，暂时够折腾了个一年半载的。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ba3aad9412bb495bbd569017624baee0><p class=pgc-img-caption></p></div><p>目前NAS中的一个逻辑分区</p><p>感想：很多人看见用二手服务器配件的DIY就会称呼之为“垃圾佬”，暂且不论在他们心中这个词到底是褒义还是贬义。至少在diyer的心里，对于能够用最少的花费和风险，折腾出自己需要的东西，会有一种油然而生的成就感（其实就是没钱，哈哈哈哈）。</p><p>这次折腾，其中有一很大一部分精力花在了对于那块主板的潜力挖掘上。其实很多人觉得，这块主板干脆换了得了，找一块插槽多些的。小烧是这么想的：既然当初选择了它，就应该不离不弃（榨干它的全部）。</p><p>这个24盘位的独立硬盘柜，可以作为任何一台能够安装HBA扩展卡的电脑的扩展存储使用，是一个相对独立的系统。</p><p>这样的一套系统，能够大大降低大容量存储的成本。包括硬盘柜成本（其实这是小钱），以及硬盘的购买成本（大头）。为什么这这么说？ 不同于常见的存储扩展只能支持SATA硬盘，这套系统是可以同时支持SATA和SAS硬盘的，SAS硬盘的选择面更广一些，也时常会有大船靠岸（你懂的）。相对于SATA硬盘，SAS企业级硬盘的可靠性相对要高，对于数据安全更有保障。</p><p>更多的盘位，也有助于建立更安全更高级的RAID系统（虽然小烧对于RAID并不是十分感冒）。今时今日，无论是硬件RAID还是软件RAID，都有高性能的选择，而且选择面非常广。</p><p>进一步缩减组建成本以及改进之处：</p><p>1. 选用价格更低的PCIE 硬盘扩展卡。淘宝上许多20-40元一块的支持SAS 6G的扩展卡都可以一试。小烧这次时间有限，无法把这些卡一一尝试。而是直接选择了比较大牌的LSI芯片系列，一是网上刷卡教程比较好找，二是比较详细LSI的实力和稳定性。 如果能选到合适的这个价位的卡，那么在硬盘扩展卡这一项就可以省下100元以上。</p><p>2. 可以考虑增加一块支持RAID功能的HBA卡，进一步提高整个存储系统的性能和安全性。当然，这张卡可以选择支持RAID 50以及60的，谁让我们盘位多呢。</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e8a5cf9d7b3949f18405258e877325b8><p class=pgc-img-caption></p></div><p>不同的RAID形式比较表，来自维基百科</p><p>3. 此次使用的HBA卡的扩展接口在机箱内部。可以考虑接口外露的扩展卡，这样拔插会更方便（但是这样的线材似乎不便宜，因为需求量较少）。比如下图中的（图片来自淘宝）：</p><div class=pgc-img><img alt=教你花600元，获得一个24盘位的NAS硬盘扩展柜？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9fe9c70c16ad44a5b59afae595ea7203><p class=pgc-img-caption></p></div><p>4. 考虑为主机和硬盘柜添加专门的UPS（不间断电源），确保任何情况下都不会突然掉电。本次DIY24盘位硬盘柜花费：硬盘柜本体： 220 X 2（硬盘背板+热拔插笼） + 100（电源+线）+40（风扇+调速器）+50（箱体DIY材料） = 630元其他材料费： 150元（硬盘HBA卡，有缩减成本空间），22.8元(PCIE延长线)最后祝大家盘中的数据越来越多，数据安全性越来越高。</p><p>↓↓点击了解更多一起交流！</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'600','获得','一个'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>