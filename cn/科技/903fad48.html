<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>深入了解差动放大器 | 极客快訊</title><meta property="og:title" content="深入了解差动放大器 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/20db318d62ac4664992bfb076d548a5e"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/903fad48.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/903fad48.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/903fad48.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/903fad48.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/903fad48.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/903fad48.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/903fad48.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/903fad48.html><meta property="article:published_time" content="2020-10-29T21:11:58+08:00"><meta property="article:modified_time" content="2020-10-29T21:11:58+08:00"><meta name=Keywords content><meta name=description content="深入了解差动放大器"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/903fad48.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>深入了解差动放大器</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>经典的四电阻差动放大器(Differential amplifier，差分放大器)似乎很简单，但其在电路中的性能不佳。本文从实际生产设计出发，讨论了分立式电阻、滤波、交流共模抑制和高噪声增益的不足之处。</p><p>大学里的电子学课程说明了理想运算放大器的应用，包括反相和同相放大器，然后将它们进行组合，构建差动放大器。图1所示的经典四电阻差动放大器非常有用，教科书和讲座40多年来一直在介绍该器件。</p><div class=pgc-img><img alt=深入了解差动放大器 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/20db318d62ac4664992bfb076d548a5e><p class=pgc-img-caption>图1.经典差动放大器</p></div><p>该放大器的传递函数为：</p><div class=pgc-img><img alt=深入了解差动放大器 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/56da7db52a9544c694d039c69b126d13><p class=pgc-img-caption></p></div><p>若R1 = R3且R2 = R4，则公式1简化为：</p><div class=pgc-img><img alt=深入了解差动放大器 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a07a2c2a6bcf4df093feac030f244b8c><p class=pgc-img-caption></p></div><p>这种简化可以在教科书中看到，但现实中无法这样做，因为电阻永远不可能完全相等。此外，基本电路在其他方面的改变可产生意想不到的行为。下列示例虽经过简化以显示出问题的本质，但来源于实际的应用问题。</p><h1>CMRR</h1><p>差动放大器的一项重要功能是抑制两路输入的共模信号。如图1所示，假设V2为5 V，V1为3 V，则4V为共模输入。V2比共模电压高1 V，而V1低1 V.二者之差为2 V，因此R2/R1的"理想"增益施加于2 V.如果电阻非理想，则共模电压的一部分将被差动放大器放大，并作为V1和V2之间的有效电压差出现在VOUT，无法与真实信号相区别。差动放大器抑制这一部分电压的能力称为共模抑制(CMR)。该参数可以表示为比率的形式(CMRR)，也可以转换为分贝(dB)。</p><p>在1991年的一篇文章中，Ramón Pallás-Areny和John Webster指出，假定运算放大器为理想运算放大器，则共模抑制可以表示为：</p><div class=pgc-img><img alt=深入了解差动放大器 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/92f513ccb68041678cbf9c8ef435876a><p class=pgc-img-caption></p></div><p>其中，Ad为差动放大器的增益，t为电阻容差。因此，在单位增益和1%电阻情况下，CMRR等于50 V/V(或约为34 dB);在0.1%电阻情况下，CMRR等于500 V/V(或约为54 dB)——甚至假定运算放大器为理想器件，具有无限的共模抑制能力。若运算放大器的共模抑制能力足够高，则总CMRR受限于电阻匹配。某些低成本运算放大器具有60 dB至70 dB的最小CMRR，使计算更为复杂。</p><h1>低容差电阻</h1><p>第一个次优设计如图2所示。该设计为采用OP291的低端电流检测应用。R1至R4为分立式0.5%电阻。由Pallás-Areny文章中的公式可知，最佳CMR为64 dB.幸运的是，共模电压离接地很近，因此CMR并非该应用中主要误差源。具有1%容差的电流检测电阻会产生1%误差，但该初始容差可以校准或调整。然而，由于工作范围超过80°C，因此必须考虑电阻的温度系数。</p><div class=pgc-img><img alt=深入了解差动放大器 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e9b999f6e6e24f97a663e31383204826><p class=pgc-img-caption>图2.具有高噪声增益的低端检测</p></div><p>针对极低的分流电阻值，应使用4引脚开尔文检测电阻。采用高精度0.1Ω电阻，并以几十分之一英寸的PCB走线直接连接该电阻很容易增加10 mΩ，导致10%以上的误差。但误差会更大，因为PCB上的铜走线温度系数超过3000 ppm.</p><p>分流电阻值必须仔细选择。数值更高则产生更大的信号。这是好事，但功耗(I2R)也会随之增加，可能高达数瓦。采用较小的数值(mΩ级别)，则线路和PCB走线的寄生电阻可能会导致较大的误差。通常使用开尔文检测来降低这些误差。可以使用一个特殊的四端电阻(比如Ohmite LVK系列)，或者对PCB布局进行优化以使用标准电阻。若数值极小，可以使用PCB走线，但这样不会很精确。</p><p>商用四端电阻(比如Ohmite或Vishay的产品)可能需要数美元或更昂贵，才能提供0.1%容差和极低温度系数。进行完整的误差预算分析可以显示如何在成本增加最少的情况下改善精度。</p><p>有关无电流流过检测电阻却具有较大失调(31mV)的问题，是"轨到轨"运算放大器无法一路摆动到负电源轨(接地)引起的。术语"轨到轨"具有误导性：输出将会靠近电源轨——比经典发射极跟随器的输出级要近得多——但永远不会真正到达电源轨。轨到轨运算放大器具有最小输出电压VOL，数值等于VCE(SAT)或RDS(ON)×ILOAD，。若失调电压等于1.25 mV，噪声增益等于30，则输出等于：1.25 mV×30 =±37.5 mV(由于存在VOS，加上VOL导致的35 mV)。根据VOS极性不同，无负载电流的情况下输出可能高达72.5 mV.若VOS最大值为30μV，且VOL最大值为8 mV，则现代零漂移放大器(如AD8539)可将总误差降低至主要由检测电阻所导致的水平。</p><h1>另一个低端检测应用</h1><p>另一个示例如图3所示。该示例具有较低的噪声增益，但它使用3 mV失调、10-μV/°C失调漂移和79 dB CMR的低精度四通道运算放大器。在0 A至3.6 A范围内，要求达到±5 mA精度。若采用±0.5%检测电阻，则要求的±0.14%精度便无法实现。若使用100 mΩ电阻，则±5 mA电流可产生±500μV压降。不幸的是，运算放大器随温度变化的失调电压要比测量值大十倍。哪怕VOS调整为零，50°C的温度变化就会耗尽全部误差预算。若噪声增益为13，则VOS的任何变化都将扩大13倍。为了改善性能，应使用零漂移运算放大器(比如AD8638、ADA4051或ADA4528)、薄膜电阻阵列以及精度更高的检测电阻。</p><div class=pgc-img><img alt=深入了解差动放大器 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f416354e4fb3435a9e412786b982a429><p class=pgc-img-caption>图3.低端检测，示例2</p></div><h1>高噪声增益</h1><p>图4中的设计用来测量高端电流，其噪声增益为250.OP07C运算放大器的VOS最大额定值为150μV.最大误差为150μV×250 = 37.5 mV.为了改善性能，采用ADA4638零漂移运算放大器。该器件在–40°C至+125°C温度范围内的额定失调电压为12.5μV.然而，由于高噪声增益，共模电压将非常接近检测电阻两端的电压。OP07C的输入电压范围(IVR)为2 V，这表示输入电压必须至少比正电轨低2 V.对于ADA4638而言，IVR = 3 V.</p><div class=pgc-img><img alt=深入了解差动放大器 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f3cbed8997484dce83e1a9fd16f7dcd2><p class=pgc-img-caption>图4.高端电流检测</p></div><h1>单电容滚降</h1><p>图5中的示例稍为复杂。目前为止，所有的等式都针对电阻而言;但更准确的做法是，它们应当将阻抗考虑在内。在加入电容的情况下(无论是故意添加的电容或是寄生电容)，交流CMRR均取决于目标频率下的阻抗比。若要滚降该示例中的频率响应，则可在反馈电阻两端添加电容C2，如通常会在反相运算放大器配置中做的那样。</p><div class=pgc-img><img alt=深入了解差动放大器 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e21939cf152c4a04874c2fd115b141f6><p class=pgc-img-caption>图5.尝试创建低通响应</p></div><p>如需匹配阻抗比Z1 = Z3和Z2 = Z4，就必须添加电容C4.市场上很容易就能买到0.1%或更好的电阻，但哪怕是0.5%的电容售价都要高于1美元。极低频率下的阻抗可能无关紧要，但电容容差或PCB布局产生的两个运算放大器输入端0.5 pF的差额可导致10 kHz时交流CMR下降6 dB.这在使用开关稳压器时显得尤为重要。</p><p>单芯片差动放大器(如AD8271、AD8274或AD8276)具有好得多的交流CMRR性能，因为运算放大器的两路输入处于芯片上的可控环境下，且价格通常较分立式运算放大器和四个精密电阻更为便宜。</p><h1>运算放大器输入端之间的电容</h1><p>为了滚降差动放大器的响应，某些设计人员会尝试在两个运算放大器输入端之间添加电容C1以形成差分滤波器，如图6所示。这样做对于仪表放大器而言是可行的，但对于运算放大器却不可行。VOUT将会通过R2而上下移动，形成闭合环路。在直流时，这不会产生任何问题，并且电路的表现与等式2所描述的相一致。随着频率的增加，C1电抗下降。进入运算放大器输入端的反馈降低，从而导致增益上升。最终，运算放大器会在开环状态下工作，因为电容使输入短路。</p><div class=pgc-img><img alt=深入了解差动放大器 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4898d2d1a12d4d7b83e7722baef574af><p class=pgc-img-caption>图6.输入电容降低高频反馈</p></div><p>在波特图上，运算放大器的开环增益在–20dB/dec处下降，但噪声增益在+20 dB/dec处上升，形成–40dB/dec交越。正如控制系统课堂上所学到的，它必然产生振荡。一般而言，永远不要在运算放大器的输入端之间使用电容(极少数情况下例外，但本文不作讨论)。</p><p>结论</p><p>无论是分立式或是单芯片，四电阻差动放大器的使用都非常广泛。为了获得稳定且值得投入生产的设计，应仔细考虑噪声增益、输入电压范围、阻抗比和失调电压规格。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'解差','放大器','深入'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>