<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>剖析一种短文本内容安全检测技术 | 极客快訊</title><meta property="og:title" content="剖析一种短文本内容安全检测技术 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/83713b6667024e48bd43c46c38f905b0"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/90b9ae6b.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/90b9ae6b.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/90b9ae6b.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/90b9ae6b.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/90b9ae6b.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/90b9ae6b.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/90b9ae6b.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/90b9ae6b.html><meta property="article:published_time" content="2020-10-29T21:12:20+08:00"><meta property="article:modified_time" content="2020-10-29T21:12:20+08:00"><meta name=Keywords content><meta name=description content="剖析一种短文本内容安全检测技术"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/90b9ae6b.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>剖析一种短文本内容安全检测技术</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/83713b6667024e48bd43c46c38f905b0><p class=pgc-img-caption></p></div><h1 class=ql-align-center><strong>背景</strong></h1><p>数据挖掘的工程师都知道，短文本数据在我们的生活中无处不在。只要我们上网，我们都会遇到形式多样的短文本，比如文本广告、图片标题、微博、优酷视频、豆瓣评论、短信、百度知道里的提问和回答。</p><p>数据挖掘中的内容分析任务，就是要从这些海量的短文本数据中提取出精准的主题，并为后续的内容识别分类、用户建模画像、意图识别、热点话题爆发检测等任务提供良好的数据基础。</p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/26457d1ba74d463bb9244f0cb5a4f584><p class=pgc-img-caption>图0：短文本数据应用业务场景</p></div><p>尽管在文本分析领域已经有成熟的数据挖掘方法，但是针对短文本的主题挖掘还是存在很多技术瓶颈。</p><p>传统的文本主题挖掘方法比如PLSA、LDA方法，都假设了一篇文章的内容有多种主题混合而成，并且每个主题都有各自不同的权重，占主导地位的主题就体现了一篇文章的主旨。但是，这些传统的文本建模技术提出的时候，就是针对文档层面的词语共现模式进行设计的，在运用到短文本数据的时候就遇到了严重的稀疏性问题。在长文本数据中，有足够长的文字篇幅让这些传统技术学习到词语的共现关系，主题代表性强的词能够在文本中经常出现。但是在短文中，词语的Wordcount并不能反映哪个词更重要。而且在短文本数据中，由于缺乏足够的上下文信息，这些传统技术对有多义词的鉴别能力更是大幅下降。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/18d8cbee5d324629a649bcb5cc09f892><p class=pgc-img-caption>图1：LDA文本模型</p></div><p>针对业务中遇到短文本垃圾评论数据，我们采用针对二元文法概率建模的BTM模型（A Biterm Topic Model for Short Texts，www2013）对数据进行主题建模和检测，在对”色情“-“辱骂”的短文本数据的分类问题中，相比传统的LDA主题模型，得到了更好的分类效果。</p><p>传统的概率统计方法，本质上是在document层次上对词语的共现模型进行设计的。从而得到的主题，可以用这个主题相关的词语来表示。而在短文本问题中，在document的层次级别上反应的上下文信息较少，BTM模型中，直接对bi-gram的双元文法的词语共现进行建模。BTM模型中，将短文本中的每个词，看成是一定概率分布下随机生成的过程，直观地可以用概率图模型表示如下（请见图2）。在BTM中，除了假设每一条文本数据的内容是由多种主题构成的，针对二元文法中共现的词语pair，两个词语也被设计成从同一个主题下的分布生成。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a4cde8e957a84e24b88b6b8f84ca417d><p class=pgc-img-caption>图2：BTM的概率图模型</p></div><p class=ql-align-justify>不同于传统的LDA概率模型，BTM短文本概率统计模型的数据生成过程设计如下：</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5e81a6165eeb4962affff8b5efe23527><p class=pgc-img-caption>图3：BTM文本模型</p></div><p>值得一提的是BTM模型直接对二元文法中的词语进行概率分布下的随机生成，而不是对文档document进行建模，因此文档的主题分布特征只能通过“贝叶斯定理”计算得到，</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9456cb9e37a14ff99375249fdac27f75><p class=pgc-img-caption></p></div><p>其中的</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e7139e0beba846c28d38c6bdc2d148b9><p class=pgc-img-caption></p></div><p>BTM模型的训练学习过程如下：</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1660c09208e14713b3a759fc0fa5269e><p class=pgc-img-caption></p></div><p>其中每个轮迭代中，共现双词pair的主题的采样公式为：</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cf06e474f31d49229353eeeff10cfa41><p class=pgc-img-caption></p></div><p>最后，迭代结束后，参数更新：</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/528dc1d3dd2649709a7f57965274f38f><p class=pgc-img-caption></p></div><p>从以上模型设计可以看到BTM的学习训练过程极为高效，模型参数学习相对于传统LDA文本模型更为简单。</p><h1><strong>短文本内容检测性能测试分析</strong></h1><p>以下是业务中BTM模型在短文本评论数据上对“色情”“辱骂”主题的分类检测流程：</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c6bd8c2d6ef248a1b534f439cdaa9715><p class=pgc-img-caption>图4：短文本数据内容检测流程</p></div><p>图5所示的是业务中处理的短文本数据经过预处理过滤、分词得到的样例数据。</p><p>图6所示的是短文本数据词频分布统计，分布情况基本和推荐系统的用户、商品的大数据分布类似，集中体现出长尾的现象。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/28a944680aac4415b7393db408026cc3><p class=pgc-img-caption>图5：短文本数据</p></div><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/104fdb671ed24dc38c12dffdce16838a><p class=pgc-img-caption>图6：短文本数据的词频分布统计</p></div><p>以下是对BTM和传统LDA在短文本数据内容检测识别任务上的性能比较。</p><p>图7是对两种文本模型在“色情”VS“辱骂”分类任务上的准确率（ACC）性能比较，我们测试比较了BTM和LDA模型在不同Topic主题个数下的性能变化曲线。</p><p>图8是对两种文本模型在“色情”VS“辱骂”分类任务上的AUC性能指标的比较，我们同样测试比较了BTM和LDA模型在不同Topic主题个数下的性能变化曲线。</p><p>图9是BTM和LDA文本模型在短文本数据分类（“色情”Vs“辱骂”）上的AUC性能曲线比较。</p><p>从结果中，可以看到BTM在短文本主题学习上比传统的LDA概率文本模型有明显的优势：不仅在ACC和AUC具体指标上BTM有更好的效果，传统LDA文本模型学习到的概率主题特征在TopicNum>300之后，主题特征的同质化现象严重（短文本数据集的词稀疏性、主题稀疏性的影响较重），分类器训练和预测的时候，预测分数趋向集中，CV确定分类阈值变得困难，而且偏离0.5的中心值；实际经验情况，概率模型的先验参数需要尽可能调低，最优阈值分数确定在0.585左右。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/226f23ed576f4806b41a533b5a1605c2><p class=pgc-img-caption>图7：BTM与传统LDA文本模型在短文本内容主题检测上的准确率（ACC）比较</p></div><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/071f8c00e3ec449d84aa6c30d77c17e7><p class=pgc-img-caption>图8：BTM与传统LDA文本模型在短文本内容主题检测上的分类结果AUC性能指标的比较</p></div><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/230da7217b6b4dda982b32a00c2b1016><p class=pgc-img-caption>图9：BTM和LDA文本模型在短文本数据分类上的AUC性能曲线比较</p></div><p>为了更直观的观察BTM学习到的“语义主题”，我们打印出每个主题下的最具代表性的词语进行可视化描述。如图10所示，红色方框圈出来的“语义主题”具有明显的“色情”倾向性；蓝色方框圈出来的“语义主题”具有明显的“辱骂”倾向性。在图11-1和图11-2中我们选取了其中4个“语义主题”进行词云图的可视化，可以明显看到各个“主题”的语义倾向性。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ab8ff1c78adb4995a0589bc7ef283e72><p class=pgc-img-caption>图10：BTM文本模型学习得到的“语义主题”结果</p></div><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f4caacb100a047898d305659f85377ee><p class=pgc-img-caption>图11-1：词云图展示挖掘出来的偏辱骂的主题</p></div><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6f1a695f091341eba0e88416c0b3d28c><p class=pgc-img-caption>图11-2：词云图展示挖掘出来的偏色情的主题</p></div><p>图12中我们分析了各个类别（“色情”VS“辱骂”）的随着主题个数K变化的检测性能曲线。可以看到分类检测的各个类别在精准度Precision和召回率Recall指标上都大体随着主题个数K的增加而稳定提高。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=剖析一种短文本内容安全检测技术 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/e5fa1e096b0e435f90d74ba7b4fff232><p class=pgc-img-caption>图12：各个类别检测结果随BTM主题个数K变化的性能曲线（精准度Precision、召回率Recal</p></div><h1><strong>总结</strong></h1><p>从短文本数据的内容检测的分类结果上看，BTM相比于传统的LDA文本模型克服了短文本数据的稀疏性问题的影响，学习得到更高质量的“语义主题”。</p><p>在短文本数据分类任务上BTM比传统的LDA文本模型在ACC准确率和AUC性能指标上都更高更稳定，相比于LDA文本模型具有明显的优势（文/易盾实验室）。</p><p><strong>以上，只是简单介绍了短文本内容安全检测其中一小块的技术，实际应用中，网易易盾采用了更加复杂的模型和多套组合拳。</strong></p><p><strong>如果对内容安全检测能力要求比较高的客户，可以免费体验网易易盾高效、智能的内容安全服务(</strong>http://dun.163.com/product/text-detection?from=weixin_PP_20191011<strong>)。</strong></p><p><strong>相关阅读：</strong></p><p>网易易盾在首个全国范围大型人工智能领域竞赛上获得最高级证书(https://mp.weixin.qq.com/s?__biz=MzAwNTg2NjYxOA==&mid=2650719149&idx=1&sn=7fc0c1ecaec5c1a3b4a01e21dbc7f31d&chksm=831c76b8b46bffae9a3e4a970db7ba7dfd0f1907b99a427cac740050ba9c9cddef59b9e72a58&scene=21#wechat_redirect)</p><p>内容安全能力再次得到认可！网易易盾获数据中心联盟（DCA）颁发“网络治理能力评测证书”(https://mp.weixin.qq.com/s?__biz=MzAwNTg2NjYxOA==&mid=2650719273&idx=1&sn=4d53bf02fa2ee37380e837b1503f1c3c&chksm=831c713cb46bf82a8c1f58877104147d3a5443097d4cea2fc8e5a3e6ffb21d703607c4b0984d&scene=21#wechat_redirect)</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'一种','本内容','检测'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>