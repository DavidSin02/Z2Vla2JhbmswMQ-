<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Thinkphp6快速入门一 | 极客快訊</title><meta property="og:title" content="Thinkphp6快速入门一 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/c4331ddc0ffb4c94a4aa80be95178354"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/923fd40e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/923fd40e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/923fd40e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/923fd40e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/923fd40e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/923fd40e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/923fd40e.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/923fd40e.html><meta property="article:published_time" content="2020-11-14T21:07:26+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:26+08:00"><meta name=Keywords content><meta name=description content="Thinkphp6快速入门一"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/923fd40e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Thinkphp6快速入门一</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right><strong>为什么学ThinkPhp6?</strong></h1><p>​ php是世界上最好的语言。thinkphp是最流行的php框架。thinkphp6版本是最新最前沿的版本。屏幕前学习的你，嗯，是最好看的.</p><p>这优势，没的说，赶紧买买买！！！哦不说错了，学它学它选它~物美价廉，大家快来学啊！！！</p><h1 class=pgc-h-arrow-right><strong>开始thinkphp6：</strong></h1><p>thinkphp6其实就是thinkphp5.2，6是最新的版本，很多人听过thinkphp3点几,thinkphp5.0,thinkphp5.1，很好奇为什么不见5.2呢。事实上，从5.1到5.2版本变化太大了，就换掉了小版本的迭代，直接取名新的大版本6.0。thinkphp6虽然发行没多久，但是版本迭代的也挺快的，因此未来主流肯定是6版本。</p><p>我的建议，开始学的时候，一定一定不要去看开发文档。看开发文档来学习效果事倍功半。开发文档是给有基础的人用的，是已经会开发的人用的一个手册，而对于初学者最好最快的学习方法就是看视频，推荐视频thinkphp6教程：b站教学视频（虽然这个视频不是特别好，但聊胜于无）。</p><h1 class=pgc-h-arrow-right><strong>安装配置：</strong></h1><p>环境及下载：</p><ul><li>php版本>7（集成服务phpstudy可以很方便的下载并管理不同版本的php）</li><li>下载管理工具composer</li><li>下载thinkphp6</li></ul><p>thinkphp6的php环境支持是>7以上：我用的的服务器集成软件PHPStudy，在里面很方便的下好了php7.3，还能切换版本。</p><p>下载php管理工具composer，这个工具后面会用到，强烈要求下载。因为现在thinkphp6搞的跟python一样，就像python使用包工具pip或者easy_stall，composer工具敲命令也可以快速安装相关依赖。首先composer可以用来下最新的thinkphp6，官方也推荐这种下载。但是，thinkphp6文件也可以不用composer下载，在官网中有链接,百度云盘的那种，如果有其他问题导致composer下载tp6不成功，就使用后者方法。</p><ul><li>composer的安装：推荐菜鸟教程，菜鸟教程下载composer工具:除了自己的安装目录以及选择php.exe文件目录以外一直下一步就好了。然后再改一下镜像。菜鸟教程有说。</li></ul><p>下载thinkphp6使用composer各种版本下载thinkphp教程（这个可以看开发文档），可是我下的不很成功，最后没有去纠结问题出在哪。直接改用网盘下载了，thinkphp链接网盘。</p><p>下好之后，在服务器集成工具phpstudy中新建一个网站，配置好我的apache的网站相关信息：主要是网站根目录域名绑定，我的根目录是D盘下的php_site目录，根目录在浏览器网址栏上的体现是www.cool.xiongmm.cn/ (www.cool.xiongmm.cn是我的本地域名)，配置好网站信息然后开启apache的服务：再把下好的thinkphp6框架文件放在根目录下，可以改个名tp6（名字简短，便于访问）。下面是我本地配置的截图：</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c4331ddc0ffb4c94a4aa80be95178354><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/44321a0e37ad455fb1d3979c163f7d99><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3405d2eb918e4ca0b6ec79b3c2f749b5><p class=pgc-img-caption></p></div><p>测试是否安装成功，thinkphp的对外部公开可以访问的目录是public，相当于我们java项目下的Java Resource资源文件夹。所以如果不另外设置，任何不包含public目录的路由都不可访问：此时我在浏览器中输入：www.cool.xiongmm.cn/tp6/public或者www.cool.xiongmm.cn/tp6/public/index.php/index/index(为什么这个路径也可以访问首页下面会讲到)显示如下内容，就说明tp6部署成功。</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/9cfdd0f56ea6439b97e6bb296af33f24><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/29b10d872ecf4342b2546ab1fe22ded6><p class=pgc-img-caption></p></div><hr><h1 class=pgc-h-arrow-right><strong>首页访问配置：</strong></h1><p>在vscode编辑器中打开tp6文件（前提是你vscode下好了插件并配置好了php环境的路径，用其他编辑器也行），看到默认下好的框架目录如下：初学我们需要重点关注的目录大致只有app、config、public三个</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b4a0c39095cf4200b5c1e14cd4a6eca1><p class=pgc-img-caption></p></div><p>我们先看一下app目录：默认只有一个controller文件，且下面写了一个index.php类。在Index类的index()方法返回的信息就是我们访问默认首页显示的内容。</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ecc62e1783824d578c6545a1dada2dc5><p class=pgc-img-caption></p></div><p>尝试改一下返回内容：</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/e84f0e746e3a4d268847ef15733c6c7d><p class=pgc-img-caption></p></div><p>重新访问：</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/908f5935fcc6462b8ce62869fd3874ba><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/260e9f9359624d1b82236d8c6992cde3><p class=pgc-img-caption></p></div><p>（因为我tp6已经修改了很多，不方便从头开始演示，于是又下了一个新的thinkphp6,更名为tp6_1，后面都用这个路径演示。）</p><p>说到这里就不得不说一下，为什么测试的路径两个www.cool.xiongmm.cn/tp6_1/public或者www.cool.xiongmm.cn/tp6_1/public/index.php/index/index都可以访问，而且路径中没有包含controller目录：</p><p>说一下首页访问路径：</p><p>1、访问www.cool.xiongmm.cn/tp6_1/public路由，会自动调用tp6_1框架中默认应用的默认控制器(index.php）中的方法（index class中的index()方法）。所以你如果想修改默认的首页，不妨去修改这些默认设置。</p><p>2、访问http://域名/最外层文件名/public目录/过滤文件index.php/控制器名（控制器和类名一样）/方法名/方法参数名/参数值，在路径中 index.php 是必须经过的文件，这一路由有点复杂，但是他就是这样设置的，愣是想改的话也可以，不过我还没试过。。 如下示例，我们用此路径访问index控制器中的hello，并传入参数：</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b89c1f6a363b491188218f9ff1bf52a6><p class=pgc-img-caption></p></div><p>怎么回事呢？看不出来是哪里出错了，路径是没错的，下面我们开启debug模式来看看：</p><h1 class=pgc-h-arrow-right><strong>开启debug调试：</strong></h1><p>找到app同级目录文件.example.env，更名为.env，另外在文件中要加上一句：APP_DEBUG = true，保存。</p><p>(讲两点： 第一点是.env文件算是可有可无，其他配置文件首先会去尝试寻找.env文件的配置，并引入，找不到就用自己的配置信息。包括数据库配置database.php文件中，也会去寻找.env文件里面的配置信息。后面会慢慢学习到；另外一点是开启debug模式后，在后端向前端返回参数信息的时候，后面除了返回自己的 参数字符串信息 还会跟一大串的html代码，那些都是开启debug模式的自带的显示调试的信息，挺烦人的，也不知道咋办，关了吧，没调试，难排错，不关吧，获取个参数还得搞字符串分割，觉得烦可以改成app_dubug = false)</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/74b5df76d3884b4aa88cc389769959a3><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b500b42fe04c4e31a1d67ef55da85299><p class=pgc-img-caption></p></div><p>重新输入url访问：会跳出来调试信息，很直观的，告诉我们可能是路由设置的问题。</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/314546ccf3324491b6928087d78e5500><p class=pgc-img-caption></p></div><p>解决办法：在config目录下找到第一个app.php文件打开，将with_route的值改为false即可。</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/08247c8db7334882ba83915f1aa5c434><p class=pgc-img-caption></p></div><p>再次访问：它又可以了</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/50c0186f342d4a5dac132ccbf3d68b70><p class=pgc-img-caption></p></div><p>此时，你在controller目录下面尝试着创建其他的类也是可以访问的，示例如下：</p><p>controller下创建user.php，并编写同名的类。里面写一个love方法，看一下请求是否可以成功：</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fafd782fe3104a0ab70b0b8630892c27><p class=pgc-img-caption></p></div><p>访问一下：http://localhost/tp6_1/public/index.php/user/love</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ebb04534ccc54363ac39d44c5a320f3c><p class=pgc-img-caption></p></div><p>出现上面这种情况是因为我们没有加入命名空间，命名空间是为了声明这是一个控制器，应该是不能少的，毕竟thinkphp框架是采用MVC模式，model和view可以没有，控制器没有那还是框架嘛。。。</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/aa016bee241f4192b999374ee70592e2><p class=pgc-img-caption></p></div><p>再访问一下：</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6756c9016fd646d4a8e1711660d593b7><p class=pgc-img-caption></p></div><p>在之前的3.几版本中，类名类文件名开头都必须严格大写，这里却不用。但是为了统一，还是尽量类文件类名首字母都大写。</p><h1 class=pgc-h-arrow-right><strong>多应用开发：</strong></h1><p>前面一直强调默认应用，默认控制器，默认调用方法。那么控制器和方法都可以有多个，为什么应用还有默认之说，这不才一个项目吗？难道项目还可以有多个吗？答案是肯定的。</p><p><strong>多应用与单应用的理解：</strong></p><p>多应用：在app下还可以同时创建多个应用，这些应用相当于大项目中包含的是多个小项目。</p><p>单应用：实际上就是大项目只提供一种服务，可以理解成我们平常认为的一个peoject一个项目，刚下载好的thinkphp项目进入之后使用的单应用开发。</p><p><strong>为什么要弄个多应用开发呢：</strong></p><p>在一个手机app软件中，提供的服务并非单一，想要开发这样的app，可以分别在不同的服务器，不同的项目中去开发。但是这样有一点，因为各应用之间独立性高太高，若是应用之间相互要交互传递信息，不在一个服务器可能涉及跨域，哪怕是在同一服务器下的不同项目之间开发或者交互也有很多不便之处。我想这大概是设计多应用开发的初衷吧，姑且先这样理解。</p><p>默认下载好的是单应用开发，就相当于tomcat下面只放了一个java的web项目，此时，你直接在app目录下面控制器里写类和方法即可。而要想体验多应用，则需要进行另外的配置。其实我们在刚开始学的时候没什么必要学这个，不出意外的话我们大都只有一个应用。但是为了以后能深入学习，还是要了解一下的。</p><p><strong>如果需要开发多个app，分四步走：</strong></p><h1 class=pgc-h-arrow-right><strong>1、新建应用目录</strong></h1><p>在app目录下建立自己的a应用目录，然后把controller目录删掉，或者移到自己创建的应用目录下面，这个很重要，不然会报错说找不到控制器。</p><h1 class=pgc-h-arrow-right><strong>2、多应用配置的扩展安装</strong></h1><p>想要使用多应用是要开启多应用的，先查看有无自动开启多应用的配置项，打开config——app.php文件，刚开始我这里是没有'auto_multi_app' => true 这项配置的，这个配置是开启多应用开发关键。</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bf05ca7fbb5c4de691c1af0d3b4763db><p class=pgc-img-caption></p></div><p>要先去安装 多应用的扩展。添加tp6的扩展 ，使用composer工具即可，在tp6目录下进入cmd命令行执行下列命令;</p><pre><code>composer require topthink/think-multi-app</code></pre><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e6a655964a674da784a3aa12a99e575f><p class=pgc-img-caption></p></div><p>扩展安装成功之后，把配置项写入并保存： 'auto_multi_app' => true, （逗号不能忘了）</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e8a8b30007bd4396a82a69a2dc1ec922><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right><strong>3、修改命名空间</strong></h1><p>在控制器类中，命名空间要改成 ： app/yourappname/crotroller，且url访问路径在过滤文件index.php后面要加入自己的应用名！！！！</p><p>示例：</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c089b64c95dc4d4689877f36dbb99f7e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/653961eb35b841918504a74fa77ce9de><p class=pgc-img-caption></p></div><p>然后就可以进行多应用同时开发了。</p><h1 class=pgc-h-arrow-right><strong>默认访问应用设置：</strong></h1><p>整个大项目可包含有多个应用，一旦应用多了，难免纠结哪个应用来处理首页请求。默认访问项目的应用是Index,此时若是看index不顺眼可把他删了（不删也可）。然后修改默认应用为其他的应用。</p><p>找到config下面的app.php文件，默认的访问应用是index，我改成了shopapp。</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/68486f39cf9548408b385698bb685e49><p class=pgc-img-caption></p></div><p>然后把controller目录删了，app下创建一个shopapp文件，shopapp文件下创建controller文件（controller不能少，它告诉框架找控制器应到这儿来），controller下创建index.php文件，index.php中编写index类（index类是本应用默认访问的控制器），并写一个方法index()（默认访问方法）。此时，这个应用的默认访问路径就畅通了，如下图：</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/203259afa00742589948ff5d83065fcc><p class=pgc-img-caption></p></div><p>保存，访问一下：</p><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0d5384a926a0412fa9a1f504d0df2dc2><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Thinkphp6快速入门一 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/653961eb35b841918504a74fa77ce9de><p class=pgc-img-caption></p></div><p>初试配置先讲这些。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Thinkphp6','入门','快速'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>