<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>网络的密钥交换与公钥分发的方法 | 极客快訊</title><meta property="og:title" content="网络的密钥交换与公钥分发的方法 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/RcKhThuJ17jr3L"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/92cfa41.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/92cfa41.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/92cfa41.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/92cfa41.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/92cfa41.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/92cfa41.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/92cfa41.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/92cfa41.html><meta property="article:published_time" content="2020-10-29T20:51:34+08:00"><meta property="article:modified_time" content="2020-10-29T20:51:34+08:00"><meta name=Keywords content><meta name=description content="网络的密钥交换与公钥分发的方法"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/92cfa41.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>网络的密钥交换与公钥分发的方法</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p></p><h1 toutiao-origin=h2>一、 背景</h1>在当前的网络环境中，ETH网络要想保证两个节点间通信中的数据是安全的，通常需要混合使用公开密钥算法（非对称加密算法）来进行密钥交换，然后使用对称加密算法将数据加密，使用单向散列函数生成数据指纹，使用签名算法生成数据签名，然后一起将加密数据，数据指纹，数据签名一起发送给对方。<p>这是目前通用的密钥交换的方式，但也有一个无法避免的问题，就是需要第三方来保证公钥的正确性，同时在双方通信之前，都需要可信的第三方提供对方的公钥。</p><p>本文介绍一种不使用公开密钥算法而是采用工作量证明来进行密钥交换的方法，整个过程不需要第三方的参与。</p><p></p><h1 toutiao-origin=h2>二、 方案</h1>假设通信双方为A和B， 方法中x为随机数，y为需要交换的n位加密密钥，n是固定值。过程描述如下：<p>1、A 使用随机数算法，生成x， 生成n位密钥y， 使用y对x进行对称加密生成密文Sx。</p><p>2、A重复步骤1 执行m次，生成m个Sx。 因为x是随机生成的，所以m个x,y,Sx都是不一样的。</p><p>3、A将m个x，Sx 发送给B。</p><p>4、B从m个x，Sx中随机选择一对，然后进行穷举破解，破解出y。穷举破解的过程即为工作量证明。</p><p>5、B将选中的x发送给A。此时A 与 B都知道了密钥y。之后使用y加密数据进行通信即可。</p><p>此方法的可行性主要在单次穷举破解的复杂性以及消息的数量m。 破解的复杂度太高会导致工作量证明花费的时间太多，消息的数量m太少也不行，太少会降低破解的难度。</p><img alt=网络的密钥交换与公钥分发的方法 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RcKhThuJ17jr3L><p>当然，上述方法还存在其他问题，比如如果在第3步，第5步数据被截获，虽然通过第3步暂时无法破解具体的x,y,但是第5步是可以破解x,y的。 如果在后续的通信中，仅使用y对数据加密，也存在数据完整性和防抵赖方面的问题。有一种情况是非常适合使用此方式的。就是双方在不知道对方公钥的情况下，同时又不想依赖第三方的时候，可以依赖此方式进行安全的密钥交换和公钥分发以及安全通信。因此我们继续完善方案：</p><p></p><h1 toutiao-origin=h2>三、优化方案</h1>上述方案的前提条件不变，同时A，B各自生成自己的公私钥对。<p>1、上述步骤1,2不变。</p><p>2、A将m个x,Sx，Pxa发送给B，其中Pxa为 使用y加密Pa的结果，Pa为A的公钥。</p><p>3、B随机选择一个暴力破解出y，然后根据y解密Pxa，此时也知道了Pa。</p><p>4、B使用Pa加密x，使用y加密Pb发送给A。</p><p>5、A收到使用私钥解开x,则知道了y,使用y可以知道Pb。至此，A，B都知道y,以及对方的公钥。</p><p>从安全性上，即使第2步，第4步中，即使数据包被截获，攻击者也无法从m个x,Sx中破解出来需要的y,也无法知道双方的公钥。</p><img alt=网络的密钥交换与公钥分发的方法 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RcKhTi8IxRb0tz><p>该优化方案还解决了另一个问题，就是公钥的分发问题。现在常用的公钥分发都是先将公钥存储在集中的数据库中，然后到数据库中获取对应的公钥，但是由于事前用户并不知道需要跟谁通信，因此就必须保证用户计算机与数据库服务器是连通的。而此方法并不需要中心化的数据库来支持分发，只需要通信双方能够知道对方存在即可。</p><p><strong>作者</strong>：感谢HPB 蓝莲花团队整理供稿。</p><p><strong>注：</strong>如有问题请在下方留言联系我们技术社群。</p><p><strong>汪晓明：</strong>HPB芯链创始人，巴比特专栏作家。十余年金融大数据、区块链技术开发经验，曾参与创建银联大数据。主创区块链教学视频节目《明说》30多期，编写了《以太坊官网文档中文版》，并作为主要作者编写了《区块链开发指南》，在中国区块链社区以ID“蓝莲花”知名。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'网络','交换','公钥'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>