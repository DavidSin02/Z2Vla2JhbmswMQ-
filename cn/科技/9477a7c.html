<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>如何选择正确的存储器？ | 极客快訊</title><meta property="og:title" content="如何选择正确的存储器？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/15231692157964c4c70291b"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9477a7c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9477a7c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9477a7c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9477a7c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9477a7c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9477a7c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9477a7c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9477a7c.html><meta property="article:published_time" content="2020-10-29T21:05:09+08:00"><meta property="article:modified_time" content="2020-10-29T21:05:09+08:00"><meta name=Keywords content><meta name=description content="如何选择正确的存储器？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/9477a7c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>如何选择正确的存储器？</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p><img alt=如何选择正确的存储器？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/15231692157964c4c70291b></p><p>谈到设计存储器时，没有哪种规格适合所有人。而且，考虑到大量的内存类型和使用场景，系统架构师必须非常清楚他们的应用的系统需求。</p><p>首先需要决定的是，是将存储器置于逻辑芯片上，作为SoC的一部分，还是将其作为片外存储器。</p><p>eSilicon公司业务和企业发展副总裁Patrick Soheili表示：“延迟和吞吐量的折中至关重要，而且功耗成本巨大。每次你从一个平面移动到另一个平面时，它的系数是100X。这也适用于片上存储器vs片外存储器。如果你能挨个芯片地把它连在一起，那就最好了。”</p><p>出于上述原因和其他原因，芯片制造商的第一选择是在逻辑芯片上放置大量的RAM或flash。但在大多数情况下，这还不够。即使是过去被定义为带有片上存储器的处理单元的微控制器，也已经开始为高端应用添加片外辅助存储器。</p><p>Cadence公司DDR、HBM、flash/storage和MIPI IP的产品营销总监Marc Greenberg表示：“如果逻辑芯片上的存储器大小超过了可以较低价格生产的界限，使用片外存储器显然会是更好的选择。多个制造商都有基于SPI（串行外设接口）总线的一系列低成本、低功耗的存储器，包括汽车速度等级的存储器。SPI总线正在提高速度并增加宽度。”</p><p>事实上，Cadence看到了很多对200MHz的Octal-SPI IP接口的需求——包括控制器和PHY芯片。</p><p>为了更好地理解人们如何看待汽车或其他应用中存储器的功耗设计，我们不妨后退一步，试着去了解存储器的速度和功耗同整体带宽的关系。Synopsys公司DesignWare Analog和MSIP解决方案事业部高级市场总监Navraj Nandra表示：“在应用需求方面，当人们在提升微处理器/CPU性能时需要同步提升存储器容量和存储器带宽。但即使这是应用所要求的，你也很难二者同时兼得。”</p><p>存储器中需要在带宽、延迟、功耗、容量和成本之间找到平衡点。Nandra表示，工程师有时会忘记成本部分，但是它推动了很多决策点。</p><p>必须考虑存储器的容量和速度，每种存储器都有不同的折中。如果应用是由速度或吉比特每秒的带宽驱动的，那么HBM可能是一种方法，因为它比DDR存储器的带宽要高得多。如果应用以容量问题为主，例如存储器接口可容纳多少GB的存储空间，那么DDR可能是更好的选择。</p><p>Nandra表示：“DDR提供容量，HBM提供带宽。如果问题是关于功耗的问题，那么低功耗DDR比HBM或GDDR更好。使用GDDR或HBM可以获得更高的性能。使用DDR和LPDDR可以省电。”</p><h1>嵌入式存储器</h1><p>如果存储器作为SoC的一部分，那么则需要在架构上多加考虑。</p><p>ARM公司的研究员Rob Aitken表示：“如果你考虑泄漏功耗，例如，SRAM的泄漏主要是位单元。外围也有所贡献，但你可以在设计过程中忽略它。如果你有一定数量的位单元，就会有一定的泄漏，所以你必须从那一点开始并解决它。有一些电路设计技巧可以让你摆脱其中的一些问题，这通常是以牺牲性能为代价的，而这往往这取决于你有多大的决心，。其中一些包括对各种描述进行有效的偏置或功率控制，以及上述方法组合使用，以此来减少泄漏功耗。”</p><p>在这一点上，很重要的一点是要理解，如果需要一定数量的位，并且存在这么大的泄漏，系统架构师必须找出哪些配置最适合他们的各种存储器。Aitken表示：“考虑的因素包括位线长度等。一般来说，位线越短，存储器越快。这是因为SRAM读取的工作方式，本质上，单个位单元必须释放位线，当它释放的电荷足够时，读出放大器会触发，并说，‘哦，这里有一个信号。’因此，需要释放的位线越多，所需要的转换时间就越长。”</p><p>幸运的是，对于任何给定的内存配置，我们可以在一系列可能性中做出选择。</p><p>Aitken解释说：“我可以拥有很多短位线或少量较长位线的存储器，而这些字数和位数仍然完全相同。这就是这些列在存储器中的排列方式。所以这个架构层次可以实现，存储器生成器器可以让你做到这一点。你可以边玩边说，‘我希望使用8列多路复用器’，即8位线到每个输出位，因为它提供了速度和功耗的良好平衡。或者你可以说，这实际上比你需要的速度快，所以你可以使用4列多路复用器，因为它提供了更好的功耗和良好的速度。作为一名SoC架构师，你会经历这种实验，看看最佳实现方式是什么，而且它们也会以不同的形式融入到平面布置图中，因为其中一些更偏向正方形，有些更偏向矩形。”</p><h1>成本很重要</h1><p>虽然功耗在一段时间内主导了许多设计决策，但成本是这个等式中的另一个关键因素。</p><p>Aitken表示：“从存储器的角度看，你在考虑是否想要更多的面积，这相当于更高的成本。有一些二阶折中方案对于大容量存储器很重要，比如位单元面积与外围面积的比例。一旦你选择了一个比值，位单元区域就基本上固定了。但是它的周边区域可以变得更大或更小，这通常会使它更快或功耗更低。当你这样做的时候，是否会给SoC增加成本，取决于你有多少个给定的对象。通常，当你观察SoC时，有几个非常大的对象支配该区域，因此周边区域或性能的小改动会对这些对象产生巨大的影响。有很多对象并不重要，即使它们的大小翻倍，也没有人会注意到。其次，还有另一类型通常是体系结构中的较小但很重要对象，这些对象具有某种最终性能要求、或超低电压、或芯片的某些重要方面。在这些情况下，面积和成本通常不那么重要，更重要的是它需要符合速度标准、或泄漏功耗标准、或任何其他主导标准。”</p><h1>汽车市场的优先考虑因素</h1><p>这在汽车市场尤其重要，因为成本是决定使用哪些组件的关键因素。</p><p>Rambus公司产品管理高级总监Frank Ferro表示：“功耗很重要，但在其他一些市场上，它并没有成为一个超级关键因素。功耗对每个人来说都很重要，但汽车系统实际上是成本与带宽之间的折中。如果我必须对它们进行排名，我会说性能和价格不分上下，而功耗则远不及前两者重要。”</p><p>汽车是当今芯片设计的热门市场之一。对于自动驾驶汽车而言，正在汽车中部署的传感器的数量正在迅速增加，而对于一辆汽车来说，要做到不同程度的驾驶员辅助功能，需要把多个传感器获得的数据输入到复杂的逻辑电路中加以处理。由于需要处理的数据量很大，因此在使用视觉和雷达的情况下，这些数据将通过传感器网络进行传输。</p><p>Ferro表示：“芯片制造商正在研究能够处理高于100 Gbps或更高带宽的存储器系统，这样可以适用于不同级别的驾驶辅助汽车，并最终实现自动驾驶汽车。为了做到这一点，存储器选择的数量开始缩减，以便为你提供必要的带宽来处理所有即将进入的数据。”</p><p>Ferro表示：“早期的ADAS系统设计包括DDR4和LPDDR4，因为这些是当时可用的。两者都有优点和缺点。DDR4显然是最便宜的选择，而且应用在产量最高的产品中。它们当然非常划算，而且工程师非常熟悉它们。在DDR4上进行错误校正更简单，也更容易理解。当然LPDDR4也是一个可以使用的选项。”</p><p>展望未来，Ferro希望各种类型的存储器能够共存于不同的系统中。“如果他们偏重成本导向，那么他们将会关注DDR，甚至是LPDDR4。但如果他们偏重带宽导向，那么他们将会关注像HBM或GDDR之类的东西。这实际上是你在架构设计阶段中所做的事情。有不同的ADAS级别以及系统和时间表所需的级别，因为出货时间很重要。如果你今年有一个系统出货，它的解决方案将会不同于明年或后年开发的系统。这些就是我们在上市时间和成本上所需要考虑的事情。”</p><p>其次，在高性能方面，从系统设计的角度来看，带宽与功率的折中是关键挑战。Ferro表示：“如何以合理的功耗和面积预算获得更大的带宽？例如，如果你拥有HBM，从功耗和面积的角度来看，它非常高效，因为它使用3D堆叠技术，所以从功率效率的角度来看，HBM非常棒。从面积的角度看，HBM堆叠占用了相对较小的空间，因此从功耗性能角度来看，这是一个非常好的解决方案。你可以获得很高的密度，你可以在一个小面积内获得强大的性能，而且功耗很低。”</p><p>其他人对此表示同意。三星公司HBM产品营销经理Tien Shiah表示：“GDDR在GPU上比DRAM快，但HBM没有比较过。HBM是使用微孔栅格阵列的最快存储器形式。您可以拥有4个或8个高堆叠，它可以提供1024个I/O，超过8个通道，每个通道128位。这是标准显卡的I/O总线宽度的四倍。每个引脚可以达到2Gbps，在1.2V时可达到2.4Gbps。”</p><p><img alt=如何选择正确的存储器？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/152316915854062dddf4396></p><p class=pgc-img-caption>图1：三星的HBM2 DRAM 5 （来源：三星）</p><p>外部存储器的吞吐量非常高。但在这里，主要需要权衡各种开销。</p><p>Ferro表示：“你将为HBM付出更多的钱，所以如果你能承担高成本，这是一个很好的解决方案。如果你无法承受高成本，那么其他公司正在考虑的是，他们能在一块电路上挤进多少DDR或LPDDR，并将它们并排放置，试图用更传统的解决方案来逼近某些HBM的性能。”</p><h1>看懂存储器</h1><p>由于存储器市场服务有许多不同的应用，所以在设计中清楚地了解如何合理的使用存储器是很困难的。了解各种可选方案将对此有所帮助。</p><p>西门子公司Mentor事业部的IP部门的董事总经理Farzad Zarrinfar表示：“基本上，你可以观察自己的芯片，然后设想它可以用于几个关键的垂直市场。一些垂直市场可能是智能手机、高性能计算、汽车、物联网、虚拟现实、混合现实等等。你会发现芯片技术是不同的。没有一种芯片技术能解决所有问题。例如，物联网对功耗和成本敏感，人们可以利用超低功耗的40nm或28nm的工艺，如ULP或HPC+。这对于物联网来说非常合适。而在汽车行业，使用28nm及以下工艺生产的芯片需求量很大。”</p><p>内存综合器（Memory Compiler）的选择是另一个难题，大多数存储器提供商都为它们的存储器产品提供综合器。Zarrinfar表示：“智能综合器可以帮助提供解决方案，因为它可以根据不同的需求进行优化。例如，某些应用可能需要超低动态功耗，而汽车则有自己的要求，而且我们在这里唯一的不变就是变化。行业正在发展。对于安全性，温度等级以及其他一些考虑事项，有着非常明确的要求。”</p><p>所有这些需求都会影响存储器设计，而这正是工程团队需要考虑的。</p><p>Zarrinfar表示：“当我们设计存储器的时候，我们有特定的目标，可能是+125℃或+150℃的环境，这可以转化为结温。我们有基于目标市场的市场需求文档。然后我们知道我们需要什么样的设计。然后你需要有来自半导体代工的模型，规定我们拥有的模型的范围。汽车温度迫使半导体代工厂增加传统的工作温度范围。虽然不是每个流程节点和类型都支持每种模型的每个替换，但必须进行充分的验证，以确保各种组合能够达到预期的结果。”</p><p>最后，预计对存储器更大带宽、更少延迟、更低功耗和更低成本下的更大容量的需求的将会不断增加。面对着今天各种可用的存储器类型，无论是独立的存储器芯片的还是嵌入式存储器，系统架构师必须随时改进理想存储器方案的选项，以适应特定的应用场景。</p><hr><p>致谢：本文由电子科技大学低功耗集成电路与系统研究所黄乐天老师和陈家豪同学协助校对。特此感谢！</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'选择','正确','存储器'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>