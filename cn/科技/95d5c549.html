<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>C++å®ç°äºŒå‰æ ‘æ•°æ®ç»“æ„ | æå®¢å¿«è¨Š</title><meta property="og:title" content="C++å®ç°äºŒå‰æ ‘æ•°æ®ç»“æ„ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/dfic-imagehandler/feeddb3a-c96d-44b6-8672-b125cf06a33c"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/95d5c549.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/95d5c549.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/95d5c549.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/95d5c549.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/95d5c549.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/95d5c549.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/95d5c549.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/95d5c549.html><meta property="article:published_time" content="2020-11-14T21:06:34+08:00"><meta property="article:modified_time" content="2020-11-14T21:06:34+08:00"><meta name=Keywords content><meta name=description content="C++å®ç°äºŒå‰æ ‘æ•°æ®ç»“æ„"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/95d5c549.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>C++å®ç°äºŒå‰æ ‘æ•°æ®ç»“æ„</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><blockquote><p>æœ¬äººä»äº‹åœ¨çº¿æ•™è‚²c++åå¹´å·¥ä½œç»éªŒç°åœ¨ç²¾å¿ƒæ•´ç†äº†ä¸€å¥—ä»å°ç™½åˆ°é¡¹ç›®å®è·µå¼€å‘å„ç§å­¦ä¹ èµ„æ–™å¦‚æœä½ æƒ³å­¦æƒ³åŠ å…¥æˆ‘ä»¬è¯·å…³æ³¨æˆ‘åœ¨ç§ä¿¡å›å¤â€œç¼–ç¨‹â€å°±å¯ä»¥é¢†å–å­¦ä¹ èµ„æ–™ï¼ï¼ï¼</p></blockquote><div class=pgc-img><img alt=C++å®ç°äºŒå‰æ ‘æ•°æ®ç»“æ„ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/feeddb3a-c96d-44b6-8672-b125cf06a33c><p class=pgc-img-caption></p></div><hr><p>æœ¬æ–‡ä½¿ç”¨C++å®ç°äºŒå‰æ ‘æ•°æ®ç»“æ„ï¼Œä¸ä¹‹å‰å®ç°çš„å‘é‡ã€åˆ—è¡¨ã€æ ˆå’Œé˜Ÿåˆ—ä¸åŒï¼Œæ ‘æ˜¯ä¸€ç§åˆ†å±‚ç»“æ„ï¼Œè™½ç„¶æ ‘æ˜¯åˆ†å±‚ç»“æ„ï¼Œä½†è‹¥é™„åŠ æŸç§çº¦æŸï¼Œå¦‚éå†æ¬¡åºï¼Œåˆ™æ ‘ç»“æ„ä¹Ÿå¯ä»¥è½¬å˜æˆçº¿æ€§æ¬¡åºï¼Œå› æ­¤æ ‘å±äº<strong>åŠçº¿æ€§ç»“æ„</strong>ã€‚æ ‘ç»“æ„å…·æœ‰éå¸¸å¤šçš„å˜ç§ï¼Œåœ¨ç®—æ³•ç†è®ºå’Œå®é™…åº”ç”¨ä¸­ï¼Œå„ç§æ ‘ç»“æ„æ‰®æ¼”ç€æœ€ä¸ºå…³é”®çš„è§’è‰²ã€‚</p><p>å¦å¤–ï¼Œ<strong>ä»»ä½•æœ‰æ ¹æœ‰åºçš„å¤šå‰æ ‘ï¼Œéƒ½èƒ½è½¬å˜æˆäºŒå‰æ ‘</strong>ï¼Œå› æ­¤äºŒå‰æ ‘æ•°æ®ç»“æ„å…·æœ‰éå¸¸é‡è¦çš„åœ°ä½ã€‚</p><p><strong>ä¸¤ç§ç‰¹æ®Šçš„äºŒå‰æ ‘:å®Œå…¨äºŒå‰æ ‘ã€æ»¡äºŒå‰æ ‘</strong></p><p><strong>å®Œå…¨äºŒå‰æ ‘: </strong>å¶å­ç»“ç‚¹åªèƒ½å‡ºç°åœ¨æœ€åº•éƒ¨çš„ä¸¤å±‚ï¼Œä¸”æœ€åº•å±‚å¶èŠ‚ç‚¹å‡å¤„äºæ¬¡åº•å±‚å¶èŠ‚ç‚¹çš„å·¦ä¾§ã€‚</p><p><strong>æ»¡äºŒå‰æ ‘: </strong>æ‰€æœ‰å¶èŠ‚ç‚¹åŒå¤„äºæœ€åº•å±‚(éåº•å±‚èŠ‚ç‚¹å‡ä¸ºå†…éƒ¨ç»“ç‚¹)ã€‚</p><p>äºŒå‰æ ‘çš„å®ç°å’Œåˆ—è¡¨æ•°æ®ç»“æ„æœ‰å¾ˆå¤§çš„ç›¸ä¼¼æ€§ï¼Œéƒ½éœ€è¦ä¸ºç›¸äº’ä¸´è¿‘çš„èŠ‚ç‚¹ä¹‹é—´ç»´æŠ¤æ­£ç¡®çš„æŒ‡é’ˆæŒ‡å‘ã€‚è¿™é‡ŒäºŒå‰æ ‘æ•°æ®ç»“æ„çš„å®ç°åŒ…æ‹¬binNodeç±»å’ŒbinTreeç±»ï¼Œå‰è€…ä¸»è¦æè¿°å•ä¸ªäºŒå‰æ ‘çš„ç»“æ„å’Œå¯¹å…¶çš„æ“ä½œï¼Œè€ŒbinTreeç±»ä¸»è¦æè¿°æ•´ä¸ªäºŒå‰æ ‘çš„ç»“æ„å’Œå¯¹å…¶è¿›è¡Œçš„æ“ä½œã€‚</p><p>binNodeæ¥å£åˆ—è¡¨æ“ä½œåŠŸèƒ½å¯¹è±¡binNode()é»˜è®¤æ„é€ å‡½æ•° binNode(T e, binNode* p, binNode *lc, binNode *rc, int h)æ„é€ å‡½æ•°ï¼Œè®¾ç½®èŠ‚ç‚¹æ•°æ®ï¼Œçˆ¶èŠ‚ç‚¹ï¼Œå­©å­èŠ‚ç‚¹ï¼Œé«˜åº¦ ~binNode()ææ„å‡½æ•° insertAsLC(const T& e)ä½œä¸ºæœ¬èŠ‚ç‚¹çš„å·¦å­©å­æ’å…¥äºŒå‰æ ‘èŠ‚ç‚¹insertAsRC(const T& e)ä½œä¸ºæœ¬èŠ‚ç‚¹çš„å³å­©å­æ’å…¥äºŒå‰æ ‘èŠ‚ç‚¹succ()å®šä½åœ¨ä¸­åºéå†ä¸­èŠ‚ç‚¹vçš„ç›´æ¥åç»­äºŒå‰æ ‘èŠ‚ç‚¹é‡è½½è¿ç®—ç¬¦==ç›¸ç­‰åˆ¤æ–­è¿ç®—ç¬¦äºŒå‰æ ‘èŠ‚ç‚¹é‡è½½è¿ç®—ç¬¦&lt;å°äºè¿ç®—ç¬¦äºŒå‰æ ‘èŠ‚ç‚¹</p><p>binTreeæ¥å£åˆ—è¡¨æ“ä½œåŠŸèƒ½å¯¹è±¡binTree()é»˜è®¤æ„é€ å‡½æ•° ~binTree()ææ„å‡½æ•° size()è¿”å›äºŒå‰æ ‘çš„è§„æ¨¡äºŒå‰æ ‘empty()åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦ä¸ºç©ºäºŒå‰æ ‘root()è¿”å›æ ¹èŠ‚ç‚¹çš„æŒ‡é’ˆäºŒå‰æ ‘insertAsRoot(const T& e)å°†æŒ‡å®šå…ƒç´ ä½œä¸ºæ ¹èŠ‚ç‚¹æ’å…¥äºŒå‰æ ‘insertAsLC(binNode&lt;T>* bn, const T& e)å°†æŒ‡å®šå…ƒç´ æ’å…¥ä½œä¸ºæŒ‡å®šèŠ‚ç‚¹çš„å·¦å­©å­äºŒå‰æ ‘insertAsRC(binNode&lt;T>* bn, const T& e)å°†æŒ‡å®šå…ƒç´ æ’å…¥ä½œä¸ºæŒ‡å®šèŠ‚ç‚¹çš„å³å­©å­äºŒå‰æ ‘attachAsLC(binNode&lt;T>* bn, binTree&lt;T>* &bt)å°†æŒ‡å®šå­æ ‘æ’å…¥ä½œä¸ºæŒ‡å®šèŠ‚ç‚¹çš„å·¦å­©å­äºŒå‰æ ‘attachAsRC(binNode&lt;T>* bn, binTree&lt;T>* &bt)å°†æŒ‡å®šå­æ ‘æ’å…¥ä½œä¸ºæŒ‡å®šèŠ‚ç‚¹çš„å³å­©å­äºŒå‰æ ‘updateHeight(binNode&lt;T>* bn)æ›´æ–°èŠ‚ç‚¹çš„é«˜åº¦äºŒå‰æ ‘updateHeightAbove(binNode&lt;T>* bn)æ›´æ–°æ­¤èŠ‚ç‚¹ç¥–å…ˆèŠ‚ç‚¹çš„é«˜åº¦(æ’å…¥æˆ–åˆ é™¤èŠ‚ç‚¹è¦æ‰§è¡Œæ›´æ–°)äºŒå‰æ ‘removeAt(binNode&lt;T>* bn)åˆ é™¤èŠ‚ç‚¹bnåŠå…¶åä»£ï¼Œå¹¶è¿”å›åˆ æ‰çš„äºŒå‰æ ‘èŠ‚ç‚¹çš„æ€»æ•°äºŒå‰æ ‘remove(binNode&lt;T>* bn)åˆ é™¤ä»¥bnä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘äºŒå‰æ ‘secede(binNode&lt;T>* bn)å­æ ‘åˆ†ç¦»ï¼Œå°†èŠ‚ç‚¹bnåŠå…¶åä»£ä»äºŒå‰æ ‘ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œç„¶åå½¢æˆä¸€ä¸ªç‹¬ç«‹çš„äºŒå‰æ ‘äºŒå‰æ ‘travPre_R(binNode&lt;T>* bn_r, void(*func)(T& bn))å…ˆåºéå†(é€’å½’ç‰ˆæœ¬:ç®€æ´æ˜“æ‡‚)äºŒå‰æ ‘travIn_R(binNode&lt;T>* bn_r, void(*func)(T& bn))ä¸­åºéå†(é€’å½’ç‰ˆæœ¬:ç®€æ´æ˜“æ‡‚)äºŒå‰æ ‘travPost_R(binNode&lt;T>* bn_r, void(*func)(T& bn))ååºéå†(é€’å½’ç‰ˆæœ¬:ç®€æ´æ˜“æ‡‚)äºŒå‰æ ‘visitAlongLeftBranch(binNode&lt;T>* bn, void(*func)(T& bn), stack&lt;binNode&lt;T>*> &s)æ²¿ç€å·¦è½®å»“çº¿éå†äºŒå‰æ ‘travPre_I(binNode&lt;T>* bn_i, void(*func)(T& bn))å…ˆåºéå†(è¿­ä»£ç‰ˆæœ¬:æ—¶é—´ã€ç©ºé—´å¤æ‚åº¦ä½)äºŒå‰æ ‘goAlongLeftBranch(binNode&lt;T>* bn, stack&lt;binNode&lt;T>*> &s)ä»å½“å‰èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€å·¦åˆ†æ”¯æ·±å…¥å…¥æ ˆäºŒå‰æ ‘travIn_I(binNode&lt;T>* bn_i, void(*func)(T& bn))ä¸­åºéå†(è¿­ä»£ç‰ˆæœ¬:æ—¶é—´ã€ç©ºé—´å¤æ‚åº¦ä½)äºŒå‰æ ‘gotoHLVFL(stack&lt;binNode&lt;T>*> &s)åœ¨ä»¥sæ ˆé¡¶èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘ä¸­ï¼Œæ‰¾åˆ°æœ€é«˜å·¦ä¾§å¯è§èŠ‚ç‚¹äºŒå‰æ ‘travPost_I(binNode&lt;T>* bn_i, void(*func)(T& bn))ååºéå†(è¿­ä»£ç‰ˆæœ¬:æ—¶é—´ã€ç©ºé—´å¤æ‚åº¦ä½)äºŒå‰æ ‘travLevel(binNode&lt;T>* bn_i, void(*func)(T& bn))å±‚æ¬¡éå†äºŒå‰æ ‘</p><p>(1) binNode.h</p><pre>#pragma once#define stature(p) ((p)?(p)-&gt;height:-1) //å®å®šä¹‰ä¸è¦å¿˜è®°å¸¦æ‹¬å·#define NULL 0template&lt;typename T&gt; struct binNode{	//æˆå‘˜å˜é‡	T data;	binNode&lt;T&gt; *parent, *lc, *rc; //æŒ‡å‘çˆ¶ç±»ï¼Œå·¦å­©å­å³å­©å­çš„æŒ‡é’ˆ	int height; //é«˜åº¦	//æ„é€ å‡½æ•°	binNode() :data(NULL), lc(nullptr), rc(nullptr), height(0) {}	binNode(T e, binNode* p = nullptr, binNode *lc = nullptr, binNode *rc = nullptr, int h = 0) :		data(e), parent(p), lc(lc), rc(rc), height(h) {}	//ææ„å‡½æ•°	~binNode() {} 	//æˆå‘˜å‡½æ•°	binNode&lt;T&gt;* insertAsLC(const T&amp; e); //ä½œä¸ºæœ¬èŠ‚ç‚¹çš„å·¦å­©å­æ’å…¥	binNode&lt;T&gt;* insertAsRC(const T&amp; e); //ä½œä¸ºæœ¬èŠ‚ç‚¹çš„å³å­©å­æ’å…¥	int size(); //è¿”å›ä»¥æœ¬èŠ‚ç‚¹ä¸ºrootçš„äºŒå‰æ ‘çš„è§„æ¨¡	binNode&lt;T&gt;* succ(); //å®šä½åœ¨ä¸­åºéå†ä¸­èŠ‚ç‚¹vçš„ç›´æ¥åç»­	//é‡è½½è¿ç®—ç¬¦	bool operator==(const binNode&lt;T&gt;&amp; bn); //ç­‰äºè¿ç®—ç¬¦	bool operator&lt;(const binNode&lt;T&gt;&amp; bn); //å°äºè¿ç®—ç¬¦}; template&lt;typename T&gt; binNode&lt;T&gt;* binNode&lt;T&gt;::insertAsLC(const T&amp; e){	return lc = new binNode&lt;T&gt;(e, this);} template&lt;typename T&gt; binNode&lt;T&gt;* binNode&lt;T&gt;::insertAsRC(const T&amp; e){	return rc = new binNode&lt;T&gt;(e, this);} template&lt;typename T&gt; int binNode&lt;T&gt;::size(){	int n = 0;	if (lc&amp;&amp;rc)		n = 1 + lc-&gt;size() + rc-&gt;size();	if (lc &amp;&amp; (!rc))		n = 1 + lc-&gt;size();	if ((!lc) &amp;&amp; rc)		n = 1 + rc-&gt;size();	if ((!lc) &amp;&amp; (!rc))		return 1; //é€’å½’åŸº	return n;} template&lt;typename T&gt; bool binNode&lt;T&gt;::operator==(const binNode&lt;T&gt;&amp; bn){	return data == bn.data;} template&lt;typename T&gt; bool binNode&lt;T&gt;::operator&lt;(const binNode&lt;T&gt;&amp; bn){	return data &lt; bn.data;} template&lt;typename T&gt; binNode&lt;T&gt;* binNode&lt;T&gt;::succ(){	binNode&lt;T&gt;* s = this; //è®°å½•åç»­çš„ä¸´æ—¶å˜é‡	if (rc) //è‹¥æœ‰å³å­©å­ï¼Œåˆ™ç›´æ¥åç»§ä¸€å®šåœ¨å³å­æ ‘ä¸­çš„æœ€å·¦è¾¹	{		s = rc;		while (s-&gt;lc) s = s-&gt;lc;	}	else //è‹¥æ²¡æœ‰å³å­©å­ï¼Œåˆ™ç›´æ¥åç»§æ˜¯å°†å½“å‰èŠ‚ç‚¹åŒ…å«åœ¨å·¦å­æ ‘ä¸­çš„æœ€ä½ç¥–å…ˆ	{		while ((s-&gt;parent-&gt;lc) != s)			s = s-&gt;parent;		s = s-&gt;parent;	}	return s;}</pre><p>(2) binTree.h</p><pre>#pragma once#include"binNode.h"#include"stack.h"#include"queue.h" #define max(a,b) (((a)&gt;=(b))?(a):(b)) template&lt;typename T&gt; class binTree{protected:	//æˆå‘˜å˜é‡	int _size; //äºŒå‰æ ‘è§„æ¨¡	binNode&lt;T&gt;* _root;//æ ¹èŠ‚ç‚¹æŒ‡é’ˆ public:	//æ„é€ å‡½æ•°	binTree() :_size(0), _root(nullptr) {}		//ææ„å‡½æ•°	~binTree(); //åˆ é™¤æ‰æ‰€æœ‰çš„å­äºŒå‰æ ‘		//æˆå‘˜å‡½æ•°	int size(); //è¿”å›äºŒå‰æ ‘è§„æ¨¡	bool empty(); //åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦ä¸ºç©º 	binNode&lt;T&gt;* root(); //è¿”å›æ ¹èŠ‚ç‚¹çš„æŒ‡é’ˆ	binNode&lt;T&gt;* insertAsRoot(const T&amp; e); //å°†æŒ‡å®šå…ƒç´ æ’å…¥ä½œä¸ºæ ¹èŠ‚ç‚¹	binNode&lt;T&gt;* insertAsLC(binNode&lt;T&gt;* bn, const T&amp; e); //å°†æŒ‡å®šå…ƒç´ æ’å…¥ä½œä¸ºæŒ‡å®šèŠ‚ç‚¹çš„å·¦å­©å­	binNode&lt;T&gt;* insertAsRC(binNode&lt;T&gt;* bn, const T&amp; e); //å°†æŒ‡å®šå…ƒç´ æ’å…¥ä½œä¸ºæŒ‡å®šèŠ‚ç‚¹çš„å³å­©å­	binNode&lt;T&gt;* attachAsLC(binNode&lt;T&gt;* bn, binTree&lt;T&gt;* &amp;bt); //å°†æŒ‡å®šå­æ ‘æ’å…¥ä½œä¸ºæŒ‡å®šèŠ‚ç‚¹çš„å·¦å­©å­	binNode&lt;T&gt;* attachAsRC(binNode&lt;T&gt;* bn, binTree&lt;T&gt;* &amp;bt); //å°†æŒ‡å®šå­æ ‘æ’å…¥ä½œä¸ºæŒ‡å®šèŠ‚ç‚¹çš„å³å­©å­	int updateHeight(binNode&lt;T&gt;* bn); //æ›´æ–°èŠ‚ç‚¹çš„é«˜åº¦	void updateHeightAbove(binNode&lt;T&gt;* bn); //æ›´æ–°æ­¤èŠ‚ç‚¹ç¥–å…ˆèŠ‚ç‚¹çš„é«˜åº¦(æ’å…¥æˆ–åˆ é™¤èŠ‚ç‚¹è¦æ‰§è¡Œæ›´æ–°) 	int removeAt(binNode&lt;T&gt;* bn); //åˆ é™¤èŠ‚ç‚¹bnåŠå…¶åä»£ï¼Œå¹¶è¿”å›åˆ æ‰çš„äºŒå‰æ ‘èŠ‚ç‚¹çš„æ€»æ•°	int remove(binNode&lt;T&gt;* bn); //åˆ é™¤ä»¥bnä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘	binTree&lt;T&gt;* secede(binNode&lt;T&gt;* bn); //å­æ ‘åˆ†ç¦»ï¼Œå°†èŠ‚ç‚¹bnåŠå…¶åä»£ä»äºŒå‰æ ‘ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œç„¶åå½¢æˆä¸€ä¸ªç‹¬ç«‹çš„äºŒå‰æ ‘ 	void travPre_R(binNode&lt;T&gt;* bn_r, void(*func)(T&amp; bn)); //å…ˆåºéå†(é€’å½’ç‰ˆæœ¬:ç®€æ´æ˜“æ‡‚)	void travIn_R(binNode&lt;T&gt;* bn_r, void(*func)(T&amp; bn)); //ä¸­åºéå†(é€’å½’ç‰ˆæœ¬:ç®€æ´æ˜“æ‡‚)	void travPost_R(binNode&lt;T&gt;* bn_r, void(*func)(T&amp; bn)); //ååºéå†(é€’å½’ç‰ˆæœ¬:ç®€æ´æ˜“æ‡‚) 	void visitAlongLeftBranch(binNode&lt;T&gt;* bn, void(*func)(T&amp; bn), stack&lt;binNode&lt;T&gt;*&gt; &amp;s); //æ²¿ç€å·¦è½®å»“çº¿éå†	void travPre_I(binNode&lt;T&gt;* bn_i, void(*func)(T&amp; bn));//å…ˆåºéå†(è¿­ä»£ç‰ˆæœ¬:æ—¶é—´ã€ç©ºé—´å¤æ‚åº¦ä½)	void goAlongLeftBranch(binNode&lt;T&gt;* bn, stack&lt;binNode&lt;T&gt;*&gt; &amp;s); //ä»å½“å‰èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€å·¦åˆ†æ”¯æ·±å…¥å…¥æ ˆ	void travIn_I(binNode&lt;T&gt;* bn_i, void(*func)(T&amp; bn));//ä¸­åºéå†(è¿­ä»£ç‰ˆæœ¬:æ—¶é—´ã€ç©ºé—´å¤æ‚åº¦ä½)	void gotoHLVFL(stack&lt;binNode&lt;T&gt;*&gt; &amp;s); //åœ¨ä»¥sæ ˆé¡¶èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘ä¸­ï¼Œæ‰¾åˆ°æœ€é«˜å·¦ä¾§å¯è§èŠ‚ç‚¹	void travPost_I(binNode&lt;T&gt;* bn_i, void(*func)(T&amp; bn));//ååºéå†(è¿­ä»£ç‰ˆæœ¬:æ—¶é—´ã€ç©ºé—´å¤æ‚åº¦ä½) 	void travLevel(binNode&lt;T&gt;* bn_i, void(*func)(T&amp; bn)); //å±‚æ¬¡éå† }; template&lt;typename T&gt; binTree&lt;T&gt;::~binTree(){	if (_size)		remove(_root);} template&lt;typename T&gt; int binTree&lt;T&gt;::size(){	return _size;} template&lt;typename T&gt; bool binTree&lt;T&gt;::empty(){	return _root ? true : false;} template&lt;typename T&gt; binNode&lt;T&gt;* binTree&lt;T&gt;::root(){	return _root;} template&lt;typename T&gt; binNode&lt;T&gt;* binTree&lt;T&gt;::insertAsRoot(const T&amp; e){	if (_root) return nullptr;	_size = 1;	return	_root = new binNode&lt;T&gt;(e);} template&lt;typename T&gt; binNode&lt;T&gt;* binTree&lt;T&gt;::insertAsLC(binNode&lt;T&gt;* bn, const T&amp; e){	if (bn-&gt;lc) return nullptr; //è‹¥å·¦å­©å­å·²ç»å­˜åœ¨åˆ™è¿”å›	_size++;	bn-&gt;lc = new binNode&lt;T&gt;(e, bn);	updateHeightAbove(bn-&gt;lc);	return bn-&gt;lc;} template&lt;typename T&gt; binNode&lt;T&gt;* binTree&lt;T&gt;::insertAsRC(binNode&lt;T&gt;* bn, const T&amp; e){	if (bn-&gt;rc) return nullptr; //è‹¥å³å­©å­å·²ç»å­˜åœ¨åˆ™è¿”å›	_size++;	bn-&gt;rc = new binNode&lt;T&gt;(e, bn);	updateHeightAbove(bn-&gt;rc);	return bn-&gt;rc;} template&lt;typename T&gt; binNode&lt;T&gt;* binTree&lt;T&gt;::attachAsLC(binNode&lt;T&gt;* bn, binTree&lt;T&gt;* &amp;bt){	if (bn-&gt;lc) return nullptr;	bn-&gt;lc = bt-&gt;root();	bt-&gt;root()-&gt;parent = bn;	updateHeightAbove(bn-&gt;lc);	_size += bt-&gt;size();	//é‡Šæ”¾bt	bt-&gt;_root = nullptr;	bt-&gt;_size = 0;	//release(bt);	bt = nullptr;	return bn-&gt;lc;} template&lt;typename T&gt; binNode&lt;T&gt;* binTree&lt;T&gt;::attachAsRC(binNode&lt;T&gt;* bn, binTree&lt;T&gt;* &amp;bt){	if (bn-&gt;rc) return nullptr;	bn-&gt;rc = bt-&gt;root();	bt-&gt;root()-&gt;parent = bn;	updateHeightAbove(bn-&gt;rc);	_size += bt-&gt;size();	//é‡Šæ”¾bt	bt-&gt;_root = nullptr;	bt-&gt;_size = 0;	bt = nullptr;	return bn-&gt;rc;} template&lt;typename T&gt; int binTree&lt;T&gt;::updateHeight(binNode&lt;T&gt;* bn){	return bn-&gt;height = (1 + max(stature(bn-&gt;lc), stature(bn-&gt;rc)));} template&lt;typename T&gt; void binTree&lt;T&gt;::updateHeightAbove(binNode&lt;T&gt;* bn){	while (bn)	{		updateHeight(bn);		bn = bn-&gt;parent;	}} template&lt;typename T&gt; int binTree&lt;T&gt;::removeAt(binNode&lt;T&gt;* bn){	int n = 0;	if (bn == nullptr) return 0;	n = 1 + removeAt(bn-&gt;lc) + removeAt(bn-&gt;rc);	delete bn;	return n;} template&lt;typename T&gt; int binTree&lt;T&gt;::remove(binNode&lt;T&gt;* bn) {	if (bn != _root)	{		((bn-&gt;parent-&gt;lc) == bn) ? (bn-&gt;parent-&gt;lc) = nullptr : (bn-&gt;parent-&gt;rc) = nullptr;	}	binNode&lt;T&gt;* bp = bn-&gt;parent;	int n = removeAt(bn);	updateHeightAbove(bp);	_size -= n;	return n;} template&lt;typename T&gt; binTree&lt;T&gt;* binTree&lt;T&gt;::secede(binNode&lt;T&gt;* bn){	//é¦–å…ˆæ¸…é™¤åŸäºŒå‰æ ‘ä¸å¾…åˆ é™¤å­æ ‘çš„å…³è”	if (bn != _root)	{		((bn-&gt;parent-&gt;lc) == bn) ? (bn-&gt;parent-&gt;lc) = nullptr : (bn-&gt;parent-&gt;rc) = nullptr;	}	//æ›´æ–°height	binNode&lt;T&gt;* bp = bn-&gt;parent;	updateHeightAbove(bp); 	//å°è£…æˆæ–°äºŒå‰æ ‘	binTree&lt;T&gt;* bt = new binTree&lt;T&gt;();	bt-&gt;_root = bn;	bn-&gt;parent = nullptr;	//æ›´æ–°size	bt-&gt;_size = bn-&gt;size();	_size -= bt-&gt;_size; 	//ç‰¹æ®Šæƒ…å†µå¤„ç†	if (_root = bn)		_root = nullptr;	return bt;} template&lt;typename T&gt; void binTree&lt;T&gt;::travPre_R(binNode&lt;T&gt;* bn_r, void(*func)(T&amp; bn)){	if (!bn_r) return;	func(bn_r-&gt;data);	travPre_R(bn_r-&gt;lc, func);	travPre_R(bn_r-&gt;rc, func);}  template&lt;typename T&gt; void binTree&lt;T&gt;::travIn_R(binNode&lt;T&gt;* bn_r, void(*func)(T&amp; bn)){	if (!bn_r) return;	travIn_R(bn_r-&gt;lc, func);	func(bn_r-&gt;data);	travIn_R(bn_r-&gt;rc, func);}  template&lt;typename T&gt; void binTree&lt;T&gt;::travPost_R(binNode&lt;T&gt;* bn_r, void(*func)(T&amp; bn)){	if (!bn_r) return;	travPost_R(bn_r-&gt;lc, func);	travPost_R(bn_r-&gt;rc, func);	func(bn_r-&gt;data);} template&lt;typename T&gt; void binTree&lt;T&gt;::visitAlongLeftBranch(binNode&lt;T&gt;* bn, void(*func)(T&amp; bn), stack&lt;binNode&lt;T&gt;*&gt; &amp;s){	while (bn)	{		func(bn-&gt;data);		s.push(bn-&gt;rc); //å³å­©å­å…¥æ ˆ		bn = bn-&gt;lc; //æ²¿ç€å·¦è¾¹æ²¿éå†	}} template&lt;typename T&gt; void binTree&lt;T&gt;::travPre_I(binNode&lt;T&gt;* bn_i, void(*func)(T&amp; bn)){	stack&lt;binNode&lt;T&gt;*&gt; S;	while (true)	{		visitAlongLeftBranch(bn_i, func, S); //éå†ä¸”å…¥æ ˆ		if (S.empty()) break;		bn_i = S.pop();	}} template&lt;typename T&gt; void binTree&lt;T&gt;::goAlongLeftBranch(binNode&lt;T&gt;* bn, stack&lt;binNode&lt;T&gt;*&gt; &amp;s){	while (bn)	{		s.push(bn);		bn = bn-&gt;lc;	}} template&lt;typename T&gt; void binTree&lt;T&gt;::travIn_I(binNode&lt;T&gt;* bn_i, void(*func)(T&amp; bn)){	stack&lt;binNode&lt;T&gt;*&gt; S;	while (true)	{		goAlongLeftBranch(bn_i, S);		if (S.empty()) break;		bn_i = S.pop();		func(bn_i-&gt;data);		bn_i = bn_i-&gt;rc;	}} template&lt;typename T&gt; void binTree&lt;T&gt;::gotoHLVFL(stack&lt;binNode&lt;T&gt;*&gt; &amp;s){	while (binNode&lt;T&gt;* bn_i = s.top())	{		if (bn_i-&gt;lc)		{			if (bn_i-&gt;rc)				s.push(bn_i-&gt;rc);			s.push(bn_i-&gt;lc);		}		else		{			s.push(bn_i-&gt;rc);		}	}	s.pop();} template&lt;typename T&gt; void binTree&lt;T&gt;::travPost_I(binNode&lt;T&gt;* bn_i, void(*func)(T&amp; bn)){	stack&lt;binNode&lt;T&gt;*&gt; S;	if (bn_i)		S.push(bn_i);	while (!S.empty())	{		if (S.top() != bn_i-&gt;parent)			gotoHLVFL(S);		bn_i = S.pop();		func(bn_i-&gt;data);	}}template&lt;typename T&gt; void binTree&lt;T&gt;::travLevel(binNode&lt;T&gt;* bn_i, void(*func)(T&amp; bn)){	queue&lt;binNode&lt;T&gt;*&gt; q;	q.enqueue(bn_i);	while (!q.empty()) //é˜Ÿåˆ—éç©º	{		bn_i = q.dequeue();		func(bn_i-&gt;data);		if(bn_i-&gt;lc)			q.enqueue(bn_i-&gt;lc);		if(bn_i-&gt;rc)			q.enqueue(bn_i-&gt;rc);	}}</pre><blockquote><p>æœ¬äººä»äº‹åœ¨çº¿æ•™è‚²c++åå¹´å·¥ä½œç»éªŒç°åœ¨ç²¾å¿ƒæ•´ç†äº†ä¸€å¥—ä»å°ç™½åˆ°é¡¹ç›®å®è·µå¼€å‘å„ç§å­¦ä¹ èµ„æ–™å¦‚æœä½ æƒ³å­¦æƒ³åŠ å…¥æˆ‘ä»¬è¯·å…³æ³¨æˆ‘åœ¨ç§ä¿¡å›å¤â€œç¼–ç¨‹â€å°±å¯ä»¥é¢†å–å­¦ä¹ èµ„æ–™ï¼ï¼ï¼</p></blockquote></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'C++','å®ç°','æ ‘æ•°æ®'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>