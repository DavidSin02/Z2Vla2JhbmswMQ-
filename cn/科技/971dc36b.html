<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Javaé›†åˆ - TreeSetè¯¦è§£å’Œä½¿ç”¨ç¤ºä¾‹ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Javaé›†åˆ - TreeSetè¯¦è§£å’Œä½¿ç”¨ç¤ºä¾‹ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/f01f6ccf89994943be8d054a21c1a3fe"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/971dc36b.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/971dc36b.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/971dc36b.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/971dc36b.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/971dc36b.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/971dc36b.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/971dc36b.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/971dc36b.html><meta property="article:published_time" content="2020-11-14T21:05:53+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:53+08:00"><meta name=Keywords content><meta name=description content="Javaé›†åˆ - TreeSetè¯¦è§£å’Œä½¿ç”¨ç¤ºä¾‹"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/971dc36b.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Javaé›†åˆ - TreeSetè¯¦è§£å’Œä½¿ç”¨ç¤ºä¾‹</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>ç¬¬1éƒ¨åˆ† TreeSetä»‹ç»<br></h1><p><strong>TreeSetç®€ä»‹<br></strong></p><p>TreeSet æ˜¯ä¸€ä¸ªæœ‰åºçš„é›†åˆï¼Œå®ƒçš„ä½œç”¨æ˜¯æä¾›æœ‰åºçš„Seté›†åˆã€‚å®ƒç»§æ‰¿äºAbstractSetæŠ½è±¡ç±»ï¼Œå®ç°äº†NavigableSet&lt;E>, Cloneable, java.io.Serializableæ¥å£ã€‚<br>TreeSet ç»§æ‰¿äºAbstractSetï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªSeté›†åˆï¼Œå…·æœ‰Setçš„å±æ€§å’Œæ–¹æ³•ã€‚<br>TreeSet å®ç°äº†NavigableSetæ¥å£ï¼Œæ„å‘³ç€å®ƒæ”¯æŒä¸€ç³»åˆ—çš„å¯¼èˆªæ–¹æ³•ã€‚æ¯”å¦‚æŸ¥æ‰¾ä¸æŒ‡å®šç›®æ ‡æœ€åŒ¹é…é¡¹ã€‚<br>TreeSet å®ç°äº†Cloneableæ¥å£ï¼Œæ„å‘³ç€å®ƒèƒ½è¢«å…‹éš†ã€‚<br>TreeSet å®ç°äº†java.io.Serializableæ¥å£ï¼Œæ„å‘³ç€å®ƒæ”¯æŒåºåˆ—åŒ–ã€‚<br>TreeSetæ˜¯åŸºäºTreeMapå®ç°çš„ã€‚TreeSetä¸­çš„å…ƒç´ æ”¯æŒ2ç§æ’åºæ–¹å¼ï¼šè‡ªç„¶æ’åº æˆ–è€… æ ¹æ®åˆ›å»ºTreeSet æ—¶æä¾›çš„ Comparator è¿›è¡Œæ’åºã€‚è¿™å–å†³äºä½¿ç”¨çš„æ„é€ æ–¹æ³•ã€‚<br>TreeSetä¸ºåŸºæœ¬æ“ä½œï¼ˆaddã€remove å’Œ containsï¼‰æä¾›å—ä¿è¯çš„ log(n) æ—¶é—´å¼€é”€ã€‚<br>å¦å¤–ï¼ŒTreeSetæ˜¯éåŒæ­¥çš„ã€‚ å®ƒçš„iterator æ–¹æ³•è¿”å›çš„è¿­ä»£å™¨æ˜¯fail-fastçš„ã€‚</p><p><strong>TreeSetçš„æ„é€ å‡½æ•°</strong></p><pre><code>// é»˜è®¤æ„é€ å‡½æ•°ã€‚ä½¿ç”¨è¯¥æ„é€ å‡½æ•°ï¼ŒTreeSetä¸­çš„å…ƒç´ æŒ‰ç…§è‡ªç„¶æ’åºè¿›è¡Œæ’åˆ—ã€‚TreeSet()// åˆ›å»ºçš„TreeSetåŒ…å«collectionTreeSet(Collection&lt;? extends E&gt; collection)// æŒ‡å®šTreeSetçš„æ¯”è¾ƒå™¨TreeSet(Comparator&lt;? super E&gt; comparator)// åˆ›å»ºçš„TreeSetåŒ…å«setTreeSet(SortedSet&lt;E&gt; set)</code></pre><p><strong>TreeSetçš„API</strong></p><pre><code>Collectionæ¥å£ï¼šboolean       add(E object)boolean       addAll(Collection&lt;? extends E&gt; collection)void           clear()boolean        contains(Object object)boolean        isEmpty()boolean       remove(Object object)int            size()Iterator&lt;E&gt;        iterator()SortedSetæ¥å£ï¼šE             first()E             last()E             pollFirst()E             pollLast()E             lower(E e)E             floor(E e)E             ceiling(E e)E             higher(E e)Comparator&lt;? super E&gt;   comparator()Iterator&lt;E&gt;        iterator()Iterator&lt;E&gt;        descendingIterator()NavigableSet&lt;E&gt;      descendingSet()NavigableSet&lt;E&gt;      headSet(E end, boolean endInclusive)SortedSet&lt;E&gt;       subSet(E start, E end)NavigableSet&lt;E&gt;      subSet(E start, boolean startInclusive, E end, boolean endInclusive)NavigableSet&lt;E&gt;      tailSet(E start, boolean startInclusive)æ–°</code></pre><p><strong>è¯´æ˜ï¼š</strong></p><p>(01) TreeSetæ˜¯æœ‰åºçš„Seté›†åˆï¼Œå› æ­¤æ”¯æŒaddã€removeã€getç­‰æ–¹æ³•ã€‚<br>(02) å’ŒNavigableSetä¸€æ ·ï¼ŒTreeSetçš„å¯¼èˆªæ–¹æ³•å¤§è‡´å¯ä»¥åŒºåˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ—¶æä¾›å…ƒç´ é¡¹çš„å¯¼èˆªæ–¹æ³•ï¼Œè¿”å›æŸä¸ªå…ƒç´ ï¼›å¦ä¸€ç±»æ—¶æä¾›é›†åˆçš„å¯¼èˆªæ–¹æ³•ï¼Œè¿”å›æŸä¸ªé›†åˆã€‚<br>lowerã€floorã€ceiling å’Œ higher åˆ†åˆ«è¿”å›å°äºã€å°äºç­‰äºã€å¤§äºç­‰äºã€å¤§äºç»™å®šå…ƒç´ çš„å…ƒç´ ï¼Œå¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å…ƒç´ ï¼Œåˆ™è¿”å› nullã€‚</p><h1 class=pgc-h-arrow-right>ç¬¬2éƒ¨åˆ† TreeSetæ•°æ®ç»“æ„</h1><p><strong>TreeSetçš„ç»§æ‰¿å…³ç³»</strong></p><pre><code>java.lang.Object  â†³   java.util.AbstractCollection&lt;E&gt;     â†³   java.util.AbstractSet&lt;E&gt;        â†³   java.util.TreeSet&lt;E&gt; public class TreeSet&lt;E&gt; extends AbstractSet&lt;E&gt;      implements NavigableSet&lt;E&gt;, Cloneable, java.io.Serializable{}</code></pre><p>TreeSetä¸Collectionå…³ç³»å¦‚ä¸‹å›¾ï¼š</p><p><br></p><div class=pgc-img><img alt="Javaé›†åˆ - TreeSetè¯¦è§£å’Œä½¿ç”¨ç¤ºä¾‹" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/f01f6ccf89994943be8d054a21c1a3fe><p class=pgc-img-caption></p></div><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼š<br>(01) TreeSetç»§æ‰¿äºAbstractSetï¼Œå¹¶ä¸”å®ç°äº†NavigableSetæ¥å£ï¼ˆæ‰©å±•è‡ªSortedSetæ¥å£ï¼‰ã€‚<br>(02) TreeSetçš„æœ¬è´¨æ˜¯ä¸€ä¸ª"æœ‰åºçš„ï¼Œå¹¶ä¸”æ²¡æœ‰é‡å¤å…ƒç´ "çš„é›†åˆï¼Œå®ƒæ˜¯é€šè¿‡TreeMapå®ç°çš„ã€‚TreeSetä¸­å«æœ‰ä¸€ä¸ª"NavigableMapç±»å‹çš„æˆå‘˜å˜é‡"mï¼Œè€Œmå®é™…ä¸Šæ˜¯"TreeMapçš„å®ä¾‹"ã€‚</p><h1 class=pgc-h-arrow-right>ç¬¬3éƒ¨åˆ† TreeSetæºç è§£æ(åŸºäºJDK1.6.0_45)</h1><p>ä¸ºäº†æ›´äº†è§£TreeSetçš„åŸç†ï¼Œä¸‹é¢å¯¹TreeSetæºç ä»£ç ä½œå‡ºåˆ†æã€‚</p><pre><code>package java.util;Â public class TreeSet&lt;E&gt; extends AbstractSet&lt;E&gt;Â Â implements NavigableSet&lt;E&gt;, Cloneable, java.io.Serializable{Â Â // NavigableMapå¯¹è±¡Â Â private transient NavigableMap&lt;E,Object&gt; m;Â Â Â // TreeSetæ˜¯é€šè¿‡TreeMapå®ç°çš„ï¼ŒÂ Â // PRESENTæ˜¯é”®-å€¼å¯¹ä¸­çš„å€¼ã€‚Â Â private static final Object PRESENT = new Object();Â Â Â // ä¸å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ã€‚åˆ›å»ºä¸€ä¸ªç©ºçš„TreeMapÂ Â public TreeSet() {Â Â Â Â this(new TreeMap&lt;E,Object&gt;());Â Â }Â Â Â // å°†TreeMapèµ‹å€¼ç»™ "NavigableMapå¯¹è±¡m"Â Â TreeSet(NavigableMap&lt;E,Object&gt; m) {Â Â Â Â this.m = m;Â Â }Â Â Â // å¸¦æ¯”è¾ƒå™¨çš„æ„é€ å‡½æ•°ã€‚Â Â public TreeSet(Comparator&lt;? super E&gt; comparator) {Â Â Â Â this(new TreeMap&lt;E,Object&gt;(comparator));Â Â }Â Â Â // åˆ›å»ºTreeSetï¼Œå¹¶å°†é›†åˆcä¸­çš„å…¨éƒ¨å…ƒç´ éƒ½æ·»åŠ åˆ°TreeSetä¸­Â Â public TreeSet(Collection&lt;? extends E&gt; c) {Â Â Â Â this();Â Â Â Â // å°†é›†åˆcä¸­çš„å…ƒç´ å…¨éƒ¨æ·»åŠ åˆ°TreeSetä¸­Â Â Â Â addAll(c);Â Â }Â Â Â // åˆ›å»ºTreeSetï¼Œå¹¶å°†sä¸­çš„å…¨éƒ¨å…ƒç´ éƒ½æ·»åŠ åˆ°TreeSetä¸­Â Â public TreeSet(SortedSet&lt;E&gt; s) {Â Â Â Â this(s.comparator());Â Â Â Â addAll(s);Â Â }Â Â Â // è¿”å›TreeSetçš„é¡ºåºæ’åˆ—çš„è¿­ä»£å™¨ã€‚Â Â // å› ä¸ºTreeSetæ—¶TreeMapå®ç°çš„ï¼Œæ‰€ä»¥è¿™é‡Œå®é™…ä¸Šæ—¶è¿”å›TreeMapçš„â€œé”®é›†â€å¯¹åº”çš„è¿­ä»£å™¨Â Â public Iterator&lt;E&gt; iterator() {Â Â Â Â return m.navigableKeySet().iterator();Â Â }Â Â Â // è¿”å›TreeSetçš„é€†åºæ’åˆ—çš„è¿­ä»£å™¨ã€‚Â Â // å› ä¸ºTreeSetæ—¶TreeMapå®ç°çš„ï¼Œæ‰€ä»¥è¿™é‡Œå®é™…ä¸Šæ—¶è¿”å›TreeMapçš„â€œé”®é›†â€å¯¹åº”çš„è¿­ä»£å™¨Â Â public Iterator&lt;E&gt; descendingIterator() {Â Â Â Â return m.descendingKeySet().iterator();Â Â }Â Â Â // è¿”å›TreeSetçš„å¤§å°Â Â public int size() {Â Â Â Â return m.size();Â Â }Â Â Â // è¿”å›TreeSetæ˜¯å¦ä¸ºç©ºÂ Â public boolean isEmpty() {Â Â Â Â return m.isEmpty();Â Â }Â Â Â // è¿”å›TreeSetæ˜¯å¦åŒ…å«å¯¹è±¡(o)Â Â public boolean contains(Object o) {Â Â Â Â return m.containsKey(o);Â Â }Â Â Â // æ·»åŠ eåˆ°TreeSetä¸­Â Â public boolean add(E e) {Â Â Â Â return m.put(e, PRESENT)==null;Â Â }Â Â Â // åˆ é™¤TreeSetä¸­çš„å¯¹è±¡oÂ Â public boolean remove(Object o) {Â Â Â Â return m.remove(o)==PRESENT;Â Â }Â Â Â // æ¸…ç©ºTreeSetÂ Â public void clear() {Â Â Â Â m.clear();Â Â }Â Â Â // å°†é›†åˆcä¸­çš„å…¨éƒ¨å…ƒç´ æ·»åŠ åˆ°TreeSetä¸­Â Â public boolean addAll(Collection&lt;? extends E&gt; c) {Â Â Â Â // Use linear-time version if applicableÂ Â Â Â if (m.size()==0 &amp;&amp; c.size() &gt; 0 &amp;&amp;Â Â Â Â Â Â c instanceof SortedSet &amp;&amp;Â Â Â Â Â Â m instanceof TreeMap) {Â Â Â Â Â Â SortedSet&lt;? extends E&gt; set = (SortedSet&lt;? extends E&gt;) c;Â Â Â Â Â Â TreeMap&lt;E,Object&gt; map = (TreeMap&lt;E, Object&gt;) m;Â Â Â Â Â Â Comparator&lt;? super E&gt; cc = (Comparator&lt;? super E&gt;) set.comparator();Â Â Â Â Â Â Comparator&lt;? super E&gt; mc = map.comparator();Â Â Â Â Â Â if (cc==mc || (cc != null &amp;&amp; cc.equals(mc))) {Â Â Â Â Â Â Â Â map.addAllForTreeSet(set, PRESENT);Â Â Â Â Â Â Â Â return true;Â Â Â Â Â Â }Â Â Â Â }Â Â Â Â return super.addAll(c);Â Â }Â Â Â // è¿”å›å­Setï¼Œå®é™…ä¸Šæ˜¯é€šè¿‡TreeMapçš„subMap()å®ç°çš„ã€‚Â Â public NavigableSet&lt;E&gt; subSet(E fromElement, boolean fromInclusive,Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â E toElement,Â  boolean toInclusive) {Â Â Â Â return new TreeSet&lt;E&gt;(m.subMap(fromElement, fromInclusive,Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â toElement,Â  toInclusive));Â Â }Â Â Â // è¿”å›Setçš„å¤´éƒ¨ï¼ŒèŒƒå›´æ˜¯ï¼šä»å¤´éƒ¨åˆ°toElementã€‚Â Â // inclusiveæ˜¯æ˜¯å¦åŒ…å«toElementçš„æ ‡å¿—Â Â public NavigableSet&lt;E&gt; headSet(E toElement, boolean inclusive) {Â Â Â Â return new TreeSet&lt;E&gt;(m.headMap(toElement, inclusive));Â Â }Â Â Â // è¿”å›Setçš„å°¾éƒ¨ï¼ŒèŒƒå›´æ˜¯ï¼šä»fromElementåˆ°ç»“å°¾ã€‚Â Â // inclusiveæ˜¯æ˜¯å¦åŒ…å«fromElementçš„æ ‡å¿—Â Â public NavigableSet&lt;E&gt; tailSet(E fromElement, boolean inclusive) {Â Â Â Â return new TreeSet&lt;E&gt;(m.tailMap(fromElement, inclusive));Â Â }Â Â Â // è¿”å›å­Setã€‚èŒƒå›´æ˜¯ï¼šä»fromElement(åŒ…æ‹¬)åˆ°toElement(ä¸åŒ…æ‹¬)ã€‚Â Â public SortedSet&lt;E&gt; subSet(E fromElement, E toElement) {Â Â Â Â return subSet(fromElement, true, toElement, false);Â Â }Â Â Â // è¿”å›Setçš„å¤´éƒ¨ï¼ŒèŒƒå›´æ˜¯ï¼šä»å¤´éƒ¨åˆ°toElement(ä¸åŒ…æ‹¬)ã€‚Â Â public SortedSet&lt;E&gt; headSet(E toElement) {Â Â Â Â return headSet(toElement, false);Â Â }Â Â Â // è¿”å›Setçš„å°¾éƒ¨ï¼ŒèŒƒå›´æ˜¯ï¼šä»fromElementåˆ°ç»“å°¾(ä¸åŒ…æ‹¬)ã€‚Â Â public SortedSet&lt;E&gt; tailSet(E fromElement) {Â Â Â Â return tailSet(fromElement, true);Â Â }Â Â Â // è¿”å›Setçš„æ¯”è¾ƒå™¨Â Â public Comparator&lt;? super E&gt; comparator() {Â Â Â Â return m.comparator();Â Â }Â Â Â // è¿”å›Setçš„ç¬¬ä¸€ä¸ªå…ƒç´ Â Â public E first() {Â Â Â Â return m.firstKey();Â Â }Â Â Â // è¿”å›Setçš„æœ€åä¸€ä¸ªå…ƒç´ Â Â public E first() {Â Â public E last() {Â Â Â Â return m.lastKey();Â Â }Â Â Â // è¿”å›Setä¸­å°äºeçš„æœ€å¤§å…ƒç´ Â Â public E lower(E e) {Â Â Â Â return m.lowerKey(e);Â Â }Â Â Â // è¿”å›Setä¸­å°äº/ç­‰äºeçš„æœ€å¤§å…ƒç´ Â Â public E floor(E e) {Â Â Â Â return m.floorKey(e);Â Â }Â Â Â // è¿”å›Setä¸­å¤§äº/ç­‰äºeçš„æœ€å°å…ƒç´ Â Â public E ceiling(E e) {Â Â Â Â return m.ceilingKey(e);Â Â }Â Â Â // è¿”å›Setä¸­å¤§äºeçš„æœ€å°å…ƒç´ Â Â public E higher(E e) {Â Â Â Â return m.higherKey(e);Â Â }Â Â Â // è·å–ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†è¯¥å…ƒç´ ä»TreeMapä¸­åˆ é™¤ã€‚Â Â public E pollFirst() {Â Â Â Â Map.Entry&lt;E,?&gt; e = m.pollFirstEntry();Â Â Â Â return (e == null)? null : e.getKey();Â Â }Â Â Â // è·å–æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†è¯¥å…ƒç´ ä»TreeMapä¸­åˆ é™¤ã€‚Â Â public E pollLast() {Â Â Â Â Map.Entry&lt;E,?&gt; e = m.pollLastEntry();Â Â Â Â return (e == null)? null : e.getKey();Â Â }Â Â Â // å…‹éš†ä¸€ä¸ªTreeSetï¼Œå¹¶è¿”å›Objectå¯¹è±¡Â Â public Object clone() {Â Â Â Â TreeSet&lt;E&gt; clone = null;Â Â Â Â try {Â Â Â Â Â Â clone = (TreeSet&lt;E&gt;) super.clone();Â Â Â Â } catch (CloneNotSupportedException e) {Â Â Â Â Â Â throw new InternalError();Â Â Â Â }Â Â Â Â Â clone.m = new TreeMap&lt;E,Object&gt;(m);Â Â Â Â return clone;Â Â }Â Â Â // java.io.Serializableçš„å†™å…¥å‡½æ•°Â Â // å°†TreeSetçš„â€œæ¯”è¾ƒå™¨ã€å®¹é‡ï¼Œæ‰€æœ‰çš„å…ƒç´ å€¼â€éƒ½å†™å…¥åˆ°è¾“å‡ºæµä¸­Â Â private void writeObject(java.io.ObjectOutputStream s)Â Â Â Â throws java.io.IOException {Â Â Â Â s.defaultWriteObject();Â Â Â Â Â // å†™å…¥æ¯”è¾ƒå™¨Â Â Â Â s.writeObject(m.comparator());Â Â Â Â Â // å†™å…¥å®¹é‡Â Â Â Â s.writeInt(m.size());Â Â Â Â Â // å†™å…¥â€œTreeSetä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ â€Â Â Â Â for (Iterator i=m.keySet().iterator(); i.hasNext(); )Â Â Â Â Â Â s.writeObject(i.next());Â Â }Â Â Â // java.io.Serializableçš„è¯»å–å‡½æ•°ï¼šæ ¹æ®å†™å…¥æ–¹å¼è¯»å‡ºÂ Â // å…ˆå°†TreeSetçš„â€œæ¯”è¾ƒå™¨ã€å®¹é‡ã€æ‰€æœ‰çš„å…ƒç´ å€¼â€ä¾æ¬¡è¯»å‡ºÂ Â private void readObject(java.io.ObjectInputStream s)Â Â Â Â throws java.io.IOException, ClassNotFoundException {Â Â Â Â // Read in any hidden stuffÂ Â Â Â s.defaultReadObject();Â Â Â Â Â // ä»è¾“å…¥æµä¸­è¯»å–TreeSetçš„â€œæ¯”è¾ƒå™¨â€Â Â Â Â Comparator&lt;? super E&gt; c = (Comparator&lt;? super E&gt;) s.readObject();Â Â Â Â Â TreeMap&lt;E,Object&gt; tm;Â Â Â Â if (c==null)Â Â Â Â Â Â tm = new TreeMap&lt;E,Object&gt;();Â Â Â Â elseÂ Â Â Â Â Â tm = new TreeMap&lt;E,Object&gt;(c);Â Â Â Â m = tm;Â Â Â Â Â // ä»è¾“å…¥æµä¸­è¯»å–TreeSetçš„â€œå®¹é‡â€Â Â Â Â int size = s.readInt();Â Â Â Â Â // ä»è¾“å…¥æµä¸­è¯»å–TreeSetçš„â€œå…¨éƒ¨å…ƒç´ â€Â Â Â Â tm.readTreeSet(size, s, PRESENT);Â Â }Â Â Â // TreeSetçš„åºåˆ—ç‰ˆæœ¬å·Â Â private static final long serialVersionUID = -2479143000061671589L;}</code></pre><p><strong>æ€»ç»“ï¼š</strong></p><p>(01) TreeSetå®é™…ä¸Šæ˜¯TreeMapå®ç°çš„ã€‚å½“æˆ‘ä»¬æ„é€ TreeSetæ—¶ï¼›è‹¥ä½¿ç”¨ä¸å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œåˆ™TreeSetçš„ä½¿ç”¨è‡ªç„¶æ¯”è¾ƒå™¨ï¼›è‹¥ç”¨æˆ·éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰çš„æ¯”è¾ƒå™¨ï¼Œåˆ™éœ€è¦ä½¿ç”¨å¸¦æ¯”è¾ƒå™¨çš„å‚æ•°ã€‚<br>(02) TreeSetæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚<br>(03) TreeSetå®ç°java.io.Serializableçš„æ–¹å¼ã€‚å½“å†™å…¥åˆ°è¾“å‡ºæµæ—¶ï¼Œä¾æ¬¡å†™å…¥â€œæ¯”è¾ƒå™¨ã€å®¹é‡ã€å…¨éƒ¨å…ƒç´ â€ï¼›å½“è¯»å‡ºè¾“å…¥æµæ—¶ï¼Œå†ä¾æ¬¡è¯»å–ã€‚</p><h1 class=pgc-h-arrow-right>ç¬¬4éƒ¨åˆ† TreeSetéå†æ–¹å¼</h1><p><strong>4.1 Iteratoré¡ºåºéå†</strong></p><pre><code>for(Iterator iter = set.iterator(); iter.hasNext(); ) {Â Â iter.next();}Â </code></pre><p><strong>4.2 Iteratoré€†åºéå†</strong></p><pre><code>// å‡è®¾setæ˜¯TreeSetå¯¹è±¡for(Iterator iter = set.descendingIterator(); iter.hasNext(); ) {Â Â iter.next();}</code></pre><p><strong>4.3 for-eachéå†HashSet</strong></p><pre><code>// å‡è®¾setæ˜¯TreeSetå¯¹è±¡ï¼Œå¹¶ä¸”setä¸­å…ƒç´ æ˜¯Stringç±»å‹String[] arr = (String[])set.toArray(new String[0]);for (String str:arr)Â Â System.out.printf("for each : %s\n", str);</code></pre><p>TreeSetä¸æ”¯æŒå¿«é€Ÿéšæœºéå†ï¼Œåªèƒ½é€šè¿‡è¿­ä»£å™¨è¿›è¡Œéå†ï¼</p><p>TreeSetéå†æµ‹è¯•ç¨‹åºå¦‚ä¸‹ï¼š</p><pre><code>import java.util.*;Â /**Â * @desc TreeSetçš„éå†ç¨‹åºÂ *Â * @author skywangÂ * @email kuiwu-wang@163.comÂ */public class TreeSetIteratorTest {Â Â Â public static void main(String[] args) {Â Â Â Â TreeSet set = new TreeSet();Â Â Â Â set.add("aaa");Â Â Â Â set.add("aaa");Â Â Â Â set.add("bbb");Â Â Â Â set.add("eee");Â Â Â Â set.add("ddd");Â Â Â Â set.add("ccc");Â Â Â Â Â // é¡ºåºéå†TreeSetÂ Â Â Â ascIteratorThroughIterator(set) ;Â Â Â Â // é€†åºéå†TreeSetÂ Â Â Â descIteratorThroughIterator(set);Â Â Â Â // é€šè¿‡for-eachéå†TreeSetã€‚ä¸æ¨èï¼æ­¤æ–¹æ³•éœ€è¦å…ˆå°†Setè½¬æ¢ä¸ºæ•°ç»„Â Â Â Â foreachTreeSet(set);Â Â }Â Â Â // é¡ºåºéå†TreeSetÂ Â public static void ascIteratorThroughIterator(TreeSet set) {Â Â Â Â System.out.print("\n ---- Ascend Iterator ----\n");Â Â Â Â for(Iterator iter = set.iterator(); iter.hasNext(); ) {Â Â Â Â Â Â System.out.printf("asc : %s\n", iter.next());Â Â Â Â }Â Â }Â Â Â // é€†åºéå†TreeSetÂ Â public static void descIteratorThroughIterator(TreeSet set) {Â Â Â Â System.out.printf("\n ---- Descend Iterator ----\n");Â Â Â Â for(Iterator iter = set.descendingIterator(); iter.hasNext(); )Â Â Â Â Â Â System.out.printf("desc : %s\n", (String)iter.next());Â Â }Â Â Â // é€šè¿‡for-eachéå†TreeSetã€‚ä¸æ¨èï¼æ­¤æ–¹æ³•éœ€è¦å…ˆå°†Setè½¬æ¢ä¸ºæ•°ç»„Â Â private static void foreachTreeSet(TreeSet set) {Â Â Â Â System.out.printf("\n ---- For-each ----\n");Â Â Â Â String[] arr = (String[])set.toArray(new String[0]);Â Â Â Â for (String str:arr)Â Â Â Â Â Â System.out.printf("for each : %s\n", str);Â Â }}</code></pre><p>è¿è¡Œç»“æœï¼š</p><pre><code>---- Ascend Iterator ----asc : aaaasc : bbbasc : cccasc : dddasc : eeeÂ Â ---- Descend Iterator ----desc : eeedesc : ddddesc : cccdesc : bbbdesc : aaaÂ Â ---- For-each ----for each : aaafor each : bbbfor each : cccfor each : dddfor each : eee</code></pre><h1 class=pgc-h-arrow-right>ç¬¬5éƒ¨åˆ† TreeSetç¤ºä¾‹</h1><p>ä¸‹é¢é€šè¿‡å®ä¾‹å­¦ä¹ å¦‚ä½•ä½¿ç”¨TreeSet</p><pre><code>import java.util.*;Â /**Â * @desc TreeSetçš„APIæµ‹è¯•Â *Â * @author skywangÂ * @email kuiwu-wang@163.comÂ */public class TreeSetTest {Â Â Â public static void main(String[] args) {Â Â Â Â testTreeSetAPIs();Â Â }Â Â Â Â Â // æµ‹è¯•TreeSetçš„apiÂ Â public static void testTreeSetAPIs() {Â Â Â Â String val;Â Â Â Â Â // æ–°å»ºTreeSetÂ Â Â Â TreeSet tSet = new TreeSet();Â Â Â Â // å°†å…ƒç´ æ·»åŠ åˆ°TreeSetä¸­Â Â Â Â tSet.add("aaa");Â Â Â Â // Setä¸­ä¸å…è®¸é‡å¤å…ƒç´ ï¼Œæ‰€ä»¥åªä¼šä¿å­˜ä¸€ä¸ªâ€œaaaâ€Â Â Â Â tSet.add("aaa");Â Â Â Â tSet.add("bbb");Â Â Â Â tSet.add("eee");Â Â Â Â tSet.add("ddd");Â Â Â Â tSet.add("ccc");Â Â Â Â System.out.println("TreeSet:"+tSet);Â Â Â Â Â // æ‰“å°TreeSetçš„å®é™…å¤§å°Â Â Â Â System.out.printf("size : %d\n", tSet.size());Â Â Â Â Â // å¯¼èˆªæ–¹æ³•Â Â Â Â // floor(å°äºã€ç­‰äº)Â Â Â Â System.out.printf("floor bbb: %s\n", tSet.floor("bbb"));Â Â Â Â // lower(å°äº)Â Â Â Â System.out.printf("lower bbb: %s\n", tSet.lower("bbb"));Â Â Â Â // ceiling(å¤§äºã€ç­‰äº)Â Â Â Â System.out.printf("ceiling bbb: %s\n", tSet.ceiling("bbb"));Â Â Â Â System.out.printf("ceiling eee: %s\n", tSet.ceiling("eee"));Â Â Â Â // ceiling(å¤§äº)Â Â Â Â System.out.printf("higher bbb: %s\n", tSet.higher("bbb"));Â Â Â Â // subSet()Â Â Â Â System.out.printf("subSet(aaa, true, ccc, true): %s\n", tSet.subSet("aaa", true, "ccc", true));Â Â Â Â System.out.printf("subSet(aaa, true, ccc, false): %s\n", tSet.subSet("aaa", true, "ccc", false));Â Â Â Â System.out.printf("subSet(aaa, false, ccc, true): %s\n", tSet.subSet("aaa", false, "ccc", true));Â Â Â Â System.out.printf("subSet(aaa, false, ccc, false): %s\n", tSet.subSet("aaa", false, "ccc", false));Â Â Â Â // headSet()Â Â Â Â System.out.printf("headSet(ccc, true): %s\n", tSet.headSet("ccc", true));Â Â Â Â System.out.printf("headSet(ccc, false): %s\n", tSet.headSet("ccc", false));Â Â Â Â // tailSet()Â Â Â Â System.out.printf("tailSet(ccc, true): %s\n", tSet.tailSet("ccc", true));Â Â Â Â System.out.printf("tailSet(ccc, false): %s\n", tSet.tailSet("ccc", false));Â Â Â Â Â Â // åˆ é™¤â€œcccâ€Â Â Â Â tSet.remove("ccc");Â Â Â Â // å°†Setè½¬æ¢ä¸ºæ•°ç»„Â Â Â Â String[] arr = (String[])tSet.toArray(new String[0]);Â Â Â Â for (String str:arr)Â Â Â Â Â Â System.out.printf("for each : %s\n", str);Â Â Â Â Â // æ‰“å°TreeSetÂ Â Â Â System.out.printf("TreeSet:%s\n", tSet);Â Â Â Â Â // éå†TreeSetÂ Â Â Â for(Iterator iter = tSet.iterator(); iter.hasNext(); ) {Â Â Â Â Â Â System.out.printf("iter : %s\n", iter.next());Â Â Â Â }Â Â Â Â Â // åˆ é™¤å¹¶è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ Â Â Â Â val = (String)tSet.pollFirst();Â Â Â Â System.out.printf("pollFirst=%s, set=%s\n", val, tSet);Â Â Â Â Â // åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ Â Â Â Â val = (String)tSet.pollLast();Â Â Â Â System.out.printf("pollLast=%s, set=%s\n", val, tSet);Â Â Â Â Â // æ¸…ç©ºHashSetÂ Â Â Â tSet.clear();Â Â Â Â Â // è¾“å‡ºHashSetæ˜¯å¦ä¸ºç©ºÂ Â Â Â System.out.printf("%s\n", tSet.isEmpty()?"set is empty":"set is not empty");Â Â }}</code></pre><p>è¿è¡Œç»“æœï¼š</p><pre><code>TreeSet:[aaa, bbb, ccc, ddd, eee]size : 5floor bbb: bbblower bbb: aaaceiling bbb: bbbceiling eee: eeehigher bbb: cccsubSet(aaa, true, ccc, true): [aaa, bbb, ccc]subSet(aaa, true, ccc, false): [aaa, bbb]subSet(aaa, false, ccc, true): [bbb, ccc]subSet(aaa, false, ccc, false): [bbb]headSet(ccc, true): [aaa, bbb, ccc]headSet(ccc, false): [aaa, bbb]tailSet(ccc, true): [ccc, ddd, eee]tailSet(ccc, false): [ddd, eee]for each : aaafor each : bbbfor each : dddfor each : eeeTreeSet:[aaa, bbb, ddd, eee]iter : aaaiter : bbbiter : ddditer : eeepollFirst=aaa, set=[bbb, ddd, eee]pollLast=eee, set=[bbb, ddd]set is empty</code></pre><p>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ï¼Œå¸Œæœ›å¯¹å¤§å®¶çš„å­¦ä¹ æœ‰æ‰€å¸®åŠ©ï¼Œä¹Ÿå¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒè„šæœ¬ä¹‹å®¶ã€‚</p><p>-------------------------------------------</p><p>è½¬è½½è‡ªï¼šhttps://www.jb51.net/article/113733.htm</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'ç¤ºä¾‹','Java','TreeSet'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>