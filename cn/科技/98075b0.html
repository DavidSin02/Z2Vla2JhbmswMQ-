<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>计算机学科那些事儿（5）-算数逻辑单元ALU | 极客快訊</title><meta property="og:title" content="计算机学科那些事儿（5）-算数逻辑单元ALU - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/dfic-imagehandler/1af586eb-24a1-4d99-9617-9bf101f23fcd"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/98075b0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/98075b0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/98075b0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/98075b0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/98075b0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/98075b0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/98075b0.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/98075b0.html><meta property="article:published_time" content="2020-10-29T21:04:48+08:00"><meta property="article:modified_time" content="2020-10-29T21:04:48+08:00"><meta name=Keywords content><meta name=description content="计算机学科那些事儿（5）-算数逻辑单元ALU"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/98075b0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>计算机学科那些事儿（5）-算数逻辑单元ALU</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1><strong><em>前言</em></strong></h1><p>在上一期中，我们讲到了如何用二进制来表示数字，以及计算机是如何存储数字和文字信息的，但是计算机的真正目的是要计算，或者说是以有意义的方式处理数字，比如将两个数字相加这种最简单的操作，那么这个操作是由计算机的“算术逻辑单元“处理的，简称 ALU。</p><p>ALU 是计算机的数学大脑，等你理解了 ALU 的设计和功能之后，你就理解了现代计算机的基石。</p><h1>ALU介绍</h1><p>ALU 是计算机里负责所有运算的，所以基本上，其他所有部件也用到了它，今天我们要用上次学的布尔<strong>逻辑门</strong>（不清楚的看这里：<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6711970183239434759/?group_id=6711970183239434759" target=_blank>计算机学科那些事儿（3）-布尔逻辑与逻辑门</a>）​来构建一个简单的 ALU 电路。</p><p>然后接下来几集，我们会用ALU从头做出一台电脑！</p><p>ALU 有 2 个单元，1 个<strong>算术单元</strong>和 1 个<strong>逻辑单元</strong>。我们先看算术单元。它负责计算机里的所有数字操作，比如加减法，它还做一些其他简单事，比如给某个数字+1​。我们先看最简单的操作-"将两个数字相加"。</p><h1>半加器</h1><p class=ql-align-center>当我们将2 个 bit 加在一起的时候，有4种组合形式： 前三个是：0 + 0 = 0，1 + 0 = 1，0 + 1 = 1，所以这组输入和输出，与 XOR 门 （异或门）的逻辑完全一样，但是第四个输入组合，1+1= 10，是个特例，产生了进位，所以我们还需要一根额外的线代表进位，并且只有当输入是 1 和 1 时，进位才是“true”，这正好符合AND （与）逻辑。所以我们构建了下面的逻辑门电路，正好可以满足2个bit 相加的状况。这个电路叫做“半加器”。</p><div class=pgc-img><img alt=计算机学科那些事儿（5）-算数逻辑单元ALU onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/1af586eb-24a1-4d99-9617-9bf101f23fcd><p class=pgc-img-caption></p></div><h1>全加器</h1><p class=ql-align-center>让我们把这个半加器封装成一个单独组件，两个输入，A 和 B 都是 1 位 - 两个输出 “总和”与“进位”。如果我们将2个半加​器连接起来，第一个半加器的“总和”作为第二个半加器的其中一个输入，那么我们就可以构建“全加器”了。如下图：</p><div class=pgc-img><img alt=计算机学科那些事儿（5）-算数逻辑单元ALU onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/434dedda066e4b4e98e04151d3794e08><p class=pgc-img-caption></p></div><p>再进一步，我们可以将上面这个全加器封装成一个单独组件，这个组件有3个输入，2个输出。那么通过同样的连接我们可以做出一个电路相加两个 8 Bit数字。比如下图的 A 和 B, 其中 A0 ,B0 表示这2个数字的 第 0 个bit, A1,B1 表示 A,B 两个数字的第 1 个bit, 以此类推。</p><p>注意每个进位是怎么连到下一个全加器的，并且最后一个全加器有“进位”的输出。 这已经是个8位ALU电路了。​</p><p class=ql-align-center>如果第 9 位有进位，代表着 2 个数字的和太大了，超过了 8 位。这叫“溢出”（overflow）。如果想避免溢出，我们可以加更多全加器，然后相加 16 或 32 位数字。这使得溢出更难发生，但代价是要用更多逻辑门。</p><div class=pgc-img><img alt=计算机学科那些事儿（5）-算数逻辑单元ALU onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/0ba816ce-4a8d-40ee-8773-930ed9e895b1><p class=pgc-img-caption></p></div><p class=ql-align-center>ALU 一般可以支持如下8种操作：</p><div class=pgc-img><img alt=计算机学科那些事儿（5）-算数逻辑单元ALU onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/6000e035-186b-4509-b7ac-6be0b683aaf1><p class=pgc-img-caption></p></div><p>你可能注意到没有乘法和除法，那是因为简单的 ALU 没有专门的电路来处理，而是把乘法用多次加法来实现。假设你想用“12”乘5，这和把“12”加 5 次是一样的。所以需要 5 次 ALU 操作来实现这个乘法，这就是许多简单的处理器，比如恒温器，电视遥控器和微波炉，做乘法的方法。</p><p>PS: 笔记本和手机有更好的处理器，有专门做乘法的算术单元（MUL）。</p><h1>逻辑单元</h1><p>我们现在讲 ALU 的另一半：逻辑单元，逻辑单元不执行算术，执行的是逻辑操作，比如之前讨论过的 AND，OR 和 NOT 操作，它也执行简单的数值测试，比如检查一个数字是不是负数，比如检查ALU的输出是否为0。</p><h1>ALU抽象</h1><p class=ql-align-center>工程师不想在用 ALU 时去管那些复杂性，一个ALU 内部可能有数百个逻辑门，所以想了一个特殊的符号来代表它，看起来像一个大“V”。比如我们上面的8位ALU 有两个输入，A和B，每个都是 8 位 (bits)，我们还需要一种方法指定 ALU 应该执行什么操作，例如加法或减法，为此，我们用 4 Bit 的操作代码（后面某一期会讲）告诉 ALU 执行什么操作。如“1000” 可能会代表加法命令，而“1100”代表减法命令​。</p><div class=pgc-img><img alt=计算机学科那些事儿（5）-算数逻辑单元ALU onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/0048dee5-bef5-436e-abef-928e9571c4dc><p class=pgc-img-caption></p></div><p>输入 A 和 B 的操作结果是 8 位输出，ALU 还输出一系列标志（Flag），代表特定状态的 1 位（bit）输出，如我们相减两个数字，结果为0，标志中会将零标志设为True（1）​，这在确定两个数字是否相等时非常有用；如果想测 A 是否小于 B，用 ALU 来算 A 减 B，看负标志是否为 true。</p><p>最后，还有一条线连到加法器的进位，所以如果有溢出，我们就能知道，这叫溢出标志！</p><h1>总结与展望</h1><p>这一期里，我们从头开始做了几个主要组件，比如半加器，3位全加器，8位全加器等，正如你看到的，只是一大堆逻辑门用巧妙的方式连在一起。</p><p>然后介绍了逻辑单元和抽象的ALU 应该具有的基本功能。但是如何利用ALU来做出CPU 呢？ 在此之前，我们还需要了解电脑的“记忆”功能！</p><p>关于这个话题，我们下一期再讲~​</p><p><strong>PS：本系列文章首发于同名公众号：「 三邵爷的梦呓 」，关注并回复关键字「 1024 」，你懂得！</strong></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'计算','机学科','事儿'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/0e4338bb.html alt=计算机学科那些事儿（2）-电子计算机 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/2f4fba2f-f01b-4591-9cd7-12edf3d45e4c style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/0e4338bb.html title=计算机学科那些事儿（2）-电子计算机>计算机学科那些事儿（2）-电子计算机</a></li><hr><li><a href=../../cn/%E7%A7%91%E6%8A%80/e1d0a5db.html alt=计算机学科那些事儿（6）-寄存器和内存 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/05560904-c52e-437b-85e5-cfc3017e87a3 style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/e1d0a5db.html title=计算机学科那些事儿（6）-寄存器和内存>计算机学科那些事儿（6）-寄存器和内存</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>