<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>应用于无滤波级D类音频功放的新型死区时间控制系统 | 极客快訊</title><meta property="og:title" content="应用于无滤波级D类音频功放的新型死区时间控制系统 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/RhZpFGe2LsfUip"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/99981526.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/99981526.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/99981526.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/99981526.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/99981526.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/99981526.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/99981526.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/99981526.html><meta property="article:published_time" content="2020-10-29T21:11:00+08:00"><meta property="article:modified_time" content="2020-10-29T21:11:00+08:00"><meta name=Keywords content><meta name=description content="应用于无滤波级D类音频功放的新型死区时间控制系统"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/99981526.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>应用于无滤波级D类音频功放的新型死区时间控制系统</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>在音频功率放大领域，由于D类音频功率放大器是基于脉冲宽度调制技术的开关放大器<sup>[1-4]</sup>，用作放大的功率管几乎总是处于或者完全导通或者完全截止的状态，因此其功率损耗比传统的线性放大器小得多，这使得其效率非常高，符合便携式设备高效节能的客观需求，因而在音频模拟集成领域得到越来越广泛的应用。但是由于D类功放本身的结构特点，为了防止上侧功率管和下侧功率管同时导通，即击穿问题的产生，需要在它们的栅极驱动信号之前插入死区时间间隔。所谓的死区时间就是功率管每次转换状态的过程中，先将上下两个功率管同时关断，再开启其中一个功率管。两个功率管同时关断的这段时间就是死区时间。死区时间是D类功放非线性失真的主要来源，造成其失真度通常大于传统的线性放大器。提高开关频率是减小开关功率放大器失真的有效办法。但随着开关频率的提高，开关损耗又大大增加，其效率严重下降，在很大程度上又限制开关功率放大器工作频率的进一步提高以及应用领域的扩大。采用二阶或高阶闭环系统<sup>[5]</sup>，引入双反馈和前馈结构，也可以大大降低总谐波失真，但是其系统设计较复杂，稳定性问题会使得芯片面积大大增加，影响成本。因此，如何能够在有限的成本下同时满足高效率、低失真成为D类开关功率放大器的重点。本文提出了一种新型的简单易实现的死区时间控制系统以及辅助功率管栅级电压检测反馈电路，大大减小了系统的死区时间，并确保防止功率管同时导通，实现了系统效率与失真度的最优设计。电路设计简单，避免了二阶闭环结构设计的复杂性与稳定性问题，大大节省了芯片面积，将D类功放的非线性失真降低到可与线性放大器媲美的程度。</p><p><strong>1 电路原理</strong></p><p>无滤波级D类音频功放电路采用全差分结构<sup>[6-7]</sup>，整体电路采用双边“三态”PWM调制方案<sup>[8]</sup>实现，抑制了系统的静态功耗，避免了输出级的LC低通滤波器，是一种适用于便携设备的低成本、小尺寸的优秀音频解决方案。无滤波级D类音频功放系统如图1所示，主要由前置运算放大器、积分电路、死区时间控制电路、输出级驱动电路以及输出级电路构成，采用全桥差分输出。图1结构中的无滤波级D类音频功放的失真主要由以下原因造成：(1)从调制器到开关级由于分辨率限制和时间抖动而导致的PWM信号中的非线性；(2)加在栅极驱动上的时间误差，如死区时间、开关关断时间，上升下降时间；(3)开关器件上的不必要特征，比如限定电阻、限定开关速度或体二极管特征；(4)杂散参数导致过度边缘的震荡；(5)由于限定的输出电阻和通过直流母线的能量的反作用而引起的电源电压波动。一般来说，在栅极信号中的开关时间误差是导致非线性的主要原因，特别是死区时间严重影响了D类音频功放的线性度。几十纳秒少量的死区时间很容易就产生1%以上的总谐波失真。</p><img alt=应用于无滤波级D类音频功放的新型死区时间控制系统 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RhZpFGe2LsfUip><p>目前系统中常用的死区时间控制电路结构<sup>[9-10]</sup>如图2所示。在高端和低端开关控制信号之间插入固定的延迟时间来作为死区时间。由于需要考虑系统的EMI<sup>[11-12]</sup>表现，需要尽量减小电流瞬间变化的能量的反作用引起的电源线和地线的波动。那么输出级开关的关断、开启时间需要有严格的控制，不能过快。这就要求输出级开关的栅极电压上升下降时间缓慢，几十个纳秒甚至上百个纳秒的上升下降时间是非常常见的。具体的栅极电压上升下降时间的设置与系统总的输出功率要求以及应用的场合相关。因此，在图2的结构中所需要插入的延迟时间需要大于等于输出级开关栅极电压的上升下降时间。图2结构中各端点的信号关系如图3所示。假设输出级高端和低端开关的栅极电压上升下降时间均为40 ns，则需要插入的延迟时间至少为40 ns。当低端开关完全关断时，高端开关开始开启；反之当高端开关完全关断时，低端开关开始开启。这样确保防止上端和下端开关同时导通而引起击穿问题，同时由于控制了栅极电压的上升下降时间也有效控制了环路寄生效应引起的的瞬态自激振荡效应，保证了系统的EMI表现。但是由于上升下降时间的控制，所需要加入的死区时间高达几十纳秒，几十纳秒的死区时间很容易就产生1%以上的总谐波失真(THD)，大大超过了线性功率放大器。本文提出了一种结构简单的新型死区时间控制系统，通过引入上下端开关功率管栅级电压的检测结果，并反馈至栅极电压驱动电路中，进行栅极电压的分段控制驱动，有效地将死区时间缩短至几乎为零，大大改善了功放的总谐波失真(THD)，并且通过上下端栅极电压的分段控制驱动，在改善总谐波失真的同时依然保证了系统良好的EMI表现及高转换效率。</p><img alt=应用于无滤波级D类音频功放的新型死区时间控制系统 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RhZpFGrLSfM5T><img alt=应用于无滤波级D类音频功放的新型死区时间控制系统 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RhZpFH1BgnJGBl><p><strong>2 电路实现</strong></p><p>本文提出的新型死区时间控制系统的结构原理图如图4所示。该系统包含高、低端功率管的栅极电压检测电路，其检测结果被反馈至高、低端的栅极驱动电路中，通过简单的逻辑控制驱动级的开启状态，实现栅极电压的分段控制，实现死区时间的精确控制，将死区时间降至几乎为零。在系统转换效率、EMI表现以及线性度各项性能中实现最优的折中设计。其中栅极分段驱动电路的具体实现如图5所示。栅极电压的波形图如图6所示。</p><img alt=应用于无滤波级D类音频功放的新型死区时间控制系统 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RhZpFHC6q8xN3D><img alt=应用于无滤波级D类音频功放的新型死区时间控制系统 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RhZpFHaIUOMOJh><img alt=应用于无滤波级D类音频功放的新型死区时间控制系统 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RhZpFWdC8LA7QW><p>以高端功率管关断，低端功率管开启的边沿为例，进行系统工作过程的说明。如图5所示，当PWM_P为L时，则低端功率管开启，高端功率管关断，此时无需考虑低端栅极电压检测电路的反馈信号，会立即开启高端栅极弱上拉驱动管MP0。并且高端栅极电压检测电路检测发现此时高端的栅极过驱动电压远大于1/2V<sub>CC</sub>，可以开启强上拉驱动管MP1，使得高端的栅极电压在小于1/2V<sub>CC</sub>这段内可以快速地被上拉至约1/2V<sub>CC</sub>；而由于高端的栅极电压在由1/2V<sub>CC</sub>至V<sub>CC</sub>-V<sub>th_P</sub>这段电压范围会经历功率管由强导通至关断的过程，环路电流的变化大，如果栅极电压的变化速度过快，那么环路寄生效应引起的瞬态自激振荡效应会很强，会造成电源扰动，影响系统EMI表现。因此在这段时间需要关掉高端强上拉驱动管MP1，仅由弱上拉驱动管MP0来上拉，形成一段缓慢的栅极关断区，以确保电路的EMI特性。当高端的栅极电压在达到V<sub>CC</sub>-V<sub>th_P</sub>之后，其过驱动电压小于开启阈值电压(V<sub>th_P</sub>)，高端功率管进入彻底关断阶段，这一段时间可以打开强上拉驱动管MP1，使其快速从V<sub>CC</sub>-V<sub>th_P</sub>上拉到V<sub>CC</sub>。与此同时，低端功率管的栅极驱动电路此时接收到高端栅极电压检测电路的反馈信号，直到此时高端的栅极电压V<sub>GP</sub>>V<sub>CC</sub>-V<sub>th_P</sub>，要进入完全关断阶段，则低端的栅极电压可以开始启动了。如图5所示其弱驱动管MP2开启，并且低端栅极电压检测电路发现低端的栅极电压此时小于其开启阈值电压，因此此段同时开启强驱动管MP3，将低端功率管的栅极电压快速上拉至开启阈值电压附近。接下来，低端的栅极电压将进入从关断到开启的阶段，同样此阶段电流会有大的变化，应当关断强驱动管MP3，仅留下弱驱动管，使低端的栅极电压缓慢上升至1/2V<sub>CC</sub>。当低端的功率管的栅极电压达到1/2V<sub>CC</sub>时，低端功率管已经处于强导通的状态。因此，在后半段由1/2V<sub>CC</sub>继续上升到V<sub>CC</sub>的阶段可以打开强驱动管MP3，将低端功率管的栅极电压由1/2V<sub>CC</sub>迅速上拉至V<sub>CC</sub>，完成开启。这样高、低端功率管的栅极电压在关断、开启时分别形成了三段式控制波形，如图6所示。对高端功率管而言在并不影响系统EMI特性的0~1/2V<sub>CC</sub>阶段以及(V<sub>CC</sub>-V<sub>th_P</sub>)~V<sub>CC</sub>完全关断阶段使用快速上拉关断，而在1/2V<sub>CC</sub>至V<sub>CC</sub>-V<sub>th_P</sub>阶段保持慢速上拉。对低端功率管而言在0~V<sub>th_N</sub>未开启阶段以及1/2V<sub>CC</sub>~V<sub>CC</sub>的强开启阶段使用快速开启，而V<sub>th_N</sub>~1/2V<sub>CC</sub>由关断至强开启的阶段仅由弱驱动管开启，保持此段的慢速开启。同理，如图6所示，当PWM_P为H，即低端功率管关断，高端功率管开启时，电路的工作原理类似，同样引入低端栅极电压的开启阈值检测反馈至高端栅极驱动电路，形成高、低端开启和关断的三段式电压控制。这样的分段式管理，确保了系统的EMI特性，控制了由电流变化引起激荡效应对电源的扰动；并且将整个栅极电压的关断时间及开启时间进行合理的加速，减小了栅极上关断及开启时间对系统转换效率的影响。并且将需要关断端的栅极电压的阈值检测结果反馈给需要开启端的驱动电路，确保一端的功率管关断，才开始开启另一端的功率管，保证不会造成高低端间的直通，造成功率管损坏。同时由于一检测到需要关断端功率管的过驱动电压小于其开启阈值电压就开始开启另一端的功率管，并且此时另一端的功率管是迅速上拉至开启阈值电压附近的，因此从一端功率管关断转换到另一端功率管开启的状态，其转换死区时间几乎为零，大大降低了死区时间造成的非线性失真。</p><p><strong>3 测试结果及分析</strong></p><p>集成了这种新型死区时间控制系统的2.1 W单声道无滤波级全差分D类音频功放，采用0.35 μm CMOS工艺实现。图7为该芯片的照片。</p><img alt=应用于无滤波级D类音频功放的新型死区时间控制系统 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RhZpFX22cBhSa0><p>用音频分析测试仪(Audio Precision)对封装好的样品进行测试，图8给出了当电源电压为3.6 V以及4.2 V时，8 Ω喇叭负载，增益设置设置为0 dB，输入1 kHz频率信号时，该无滤波级D类音频功放的总谐波失真与噪声(THD+N)随输随功率变化的测试结果。其中图8(a)为未采用新型死区时间控制系统的旧款芯片的测试结果，图8(b)为采用了本文提出的新型死区时间控制系统的升级版芯片的测试结果。从测试结果可以看出，采用新型死区时间控制系统以后，D类音频功放在整个功率范围内，都能保持较低的THD+N，即(THD+N)&lt;0.1%；且在输出功率为100 mW～1 W范围内保证总谐波失真&lt;0.05%。而未采用此新型死区时间控制电路的芯片，总谐波失真基本在0.5%左右。因此，本文提出的新型死区时间控制系统能在保证无滤波级D类音频功放的EMI表现良好且不影响系统的功率转换效率和输出功率的情况下，大大降低了D类功放的总谐波失真，将THD+N性能表现改善了一个数量级。</p><img alt=应用于无滤波级D类音频功放的新型死区时间控制系统 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RhZpFXCEY97h4B><p><strong>4 结论</strong></p><p>本文设计实现了一种可集成于无滤波级D类音频放大器的新型死区时间控制系统。集成该死区时间控制系统的2.1 W单声道无滤波级D类音频功放，已经采用0.35 μm CMOS工艺实现。测试结果表明，通过本文提出的死区时间控制系统，能在保证无滤波级D类音频功放的EMI表现良好且不影响系统的功率转换效率和输出功率的情况下，大大降低了D类功放的总谐波失真。其总谐波失真在4.2 V电源供电，输入信号频率为1 kHz，输出功率为1 W时，可以低至0.03%，完全媲美线性功率放大器。</p><p><strong>参考文献</strong></p><p class=pgc-end-literature>[1] LEE J W，LEE J S，LEE G S，et al.A 2 W BTL signal-chip class D power amplifier with very high efficiency for audio applications[C].ISCAS 2000 IEEE International Symposium on Circuits and System，2000：493-496.</p><p class=pgc-end-literature>[2] LAI Z，SMEDLY K M.A low distortion switching audio power amplifier[C].PESC95，1995：174-180.</p><p class=pgc-end-literature>[3] OLIVA A R，ANG SI S，VO T V.A multi-loop voltage-feedback filter less class-D switching audio amplifier using unipolar pulse-width-modulation[J].IEEE Transactions on Consumer Electronics，2004，50(1)：311-319.</p><p>[4] 郑浩，刘延飞，王秋妍，等.D类放大器pop-click噪声抑制和饱和失真补偿技术[J].电子技术应用，2018，44(5)：25-28.</p><p>[5] CHANG J S，GWEE B H，LON Y S，et al.A novel low-power low-voltage class D amplifier with feedback for improving THD power efficiency and gain linearity[J].Proceedings of IEEE International Symposium on Circuits and Systems，2001，1：I-635-I-638.</p><p>[6] SCORE M.Reducing the output filter of a class D amplifier[J].Analog Applications Journal，1999：19-23.</p><p>[7] MUGGLER P，CHEN W，JONES C，et al.A filter free class D audio amplifier with 86% power efficiency[C].Proceedings of the 2004 International Symposium on Circuits and Systems，2004.ISCAS′04，2004：I-1036-1039.</p><p>[8] NIELSEN K.A review and comparison of pulse width modulation(PWM) methods for analog and digital input switching power amplifiers[C].102nd AES Convention，1997.</p><p>[9] CHIERCHIE F，STEFANAZZI L，PAOLINI E，et al.Frequency analysis of PWM inverters with dead-time for arbitrary modulating signals[J].IEEE Transactions on Power Electronics，2014，29(6)：2850-2860.</p><p>[10] BEIRANVAND R，RASHIDIAN B，ZOLGHADRI M，et al.Optimizing the normalized dead-time and maximum switching frequency of a wide-adjustable-range LLC resonant converter[J].IEEE Transactions on Power Electronics，2011，26(2)：462-472.</p><p>[11] BALMELLI P，KHOURY J M，VIEGAS E.A low EMI 3-W audio class-D amplifier compatible with AM/FM radio[J].IEEE Journal of Solid-State Circuits，2013，48(8)：1771-1780.</p><p>[12] 王宇星.双模式控制防失真K类音频功率放大器设计[J].电子技术应用，2016，42(4)：31-34.</p><p><strong>作者信息:</strong></p><p>王绍清</p><p>(矽恩微电子厦门有限公司，福建 厦门361005)</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'功放','应用','无滤'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>