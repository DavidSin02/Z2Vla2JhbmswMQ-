<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>å¾®æœåŠ¡-å¦‚ä½•è§£å†³é“¾è·¯è¿½è¸ªé—®é¢˜ | æå®¢å¿«è¨Š</title><meta property="og:title" content="å¾®æœåŠ¡-å¦‚ä½•è§£å†³é“¾è·¯è¿½è¸ªé—®é¢˜ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/6ad951a771234a11bf19e1aefb90ac22"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9a0cbd7f.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9a0cbd7f.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9a0cbd7f.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9a0cbd7f.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9a0cbd7f.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9a0cbd7f.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9a0cbd7f.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9a0cbd7f.html><meta property="article:published_time" content="2020-11-14T21:06:12+08:00"><meta property="article:modified_time" content="2020-11-14T21:06:12+08:00"><meta name=Keywords content><meta name=description content="å¾®æœåŠ¡-å¦‚ä½•è§£å†³é“¾è·¯è¿½è¸ªé—®é¢˜"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/9a0cbd7f.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>å¾®æœåŠ¡-å¦‚ä½•è§£å†³é“¾è·¯è¿½è¸ªé—®é¢˜</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right><strong>ä¸€ã€é“¾è·¯è¿½è¸ª</strong></h1><p style=text-align:start>å¾®æœåŠ¡æ¶æ„æ˜¯å°†å•ä¸ªåº”ç”¨ç¨‹åºè¢«åˆ’åˆ†æˆå„ç§å°è€Œè¿æ¥çš„æœåŠ¡ï¼Œæ¯ä¸€ä¸ªæœåŠ¡å®Œæˆä¸€ä¸ªå•ä¸€çš„ä¸šåŠ¡åŠŸèƒ½ï¼Œç›¸äº’ä¹‹é—´ä¿æŒç‹¬ç«‹å’Œè§£è€¦ï¼Œæ¯ä¸ªæœåŠ¡éƒ½å¯ä»¥ç‹¬ç«‹æ¼”è¿›ã€‚ç›¸å¯¹äºä¼ ç»Ÿçš„å•ä½“æœåŠ¡ï¼Œå¾®æœåŠ¡å…·æœ‰éš”ç¦»æ€§ã€æŠ€æœ¯å¼‚æ„æ€§ã€å¯æ‰©å±•æ€§ä»¥åŠç®€åŒ–éƒ¨ç½²ç­‰ä¼˜ç‚¹ã€‚</p><p style=text-align:start>â€‹ åŒæ ·çš„ï¼Œå¾®æœåŠ¡æ¶æ„åœ¨å¸¦æ¥è¯¸å¤šç›Šå¤„çš„åŒæ—¶ï¼Œä¹Ÿä¸ºç³»ç»Ÿå¢åŠ äº†ä¸å°‘å¤æ‚æ€§ã€‚å®ƒä½œä¸ºä¸€ç§åˆ†å¸ƒå¼æœåŠ¡ï¼Œé€šå¸¸éƒ¨ç½²äºç”±ä¸åŒçš„æ•°æ®ä¸­å¿ƒã€ä¸åŒçš„æœåŠ¡å™¨ç»„æˆçš„é›†ç¾¤ä¸Šã€‚è€Œä¸”ï¼ŒåŒä¸€ä¸ªå¾®æœåŠ¡ç³»ç»Ÿå¯èƒ½æ˜¯ç”±ä¸åŒçš„å›¢é˜Ÿã€ä¸åŒçš„è¯­è¨€å¼€å‘è€Œæˆã€‚é€šå¸¸ä¸€ä¸ªåº”ç”¨ç”±å¤šä¸ªå¾®æœåŠ¡ç»„æˆï¼Œå¾®æœåŠ¡ä¹‹é—´çš„æ•°æ®äº¤äº’éœ€è¦é€šè¿‡è¿œè¿‡ç¨‹è°ƒç”¨çš„æ–¹å¼å®Œæˆï¼Œæ‰€ä»¥åœ¨ä¸€ä¸ªç”±ä¼—å¤šå¾®æœåŠ¡æ„æˆçš„ç³»ç»Ÿä¸­ï¼Œè¯·æ±‚éœ€è¦åœ¨å„æœåŠ¡ä¹‹é—´æµè½¬ï¼Œè°ƒç”¨é“¾è·¯é”™ç»¼å¤æ‚ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜ï¼Œæ˜¯å¾ˆéš¾è¿›è¡Œé—®é¢˜å®šä½å’Œè¿½æŸ¥å¼‚å¸¸çš„ã€‚</p><p style=text-align:start>â€‹ é“¾è·¯è¿½è¸ªç³»ç»Ÿå°±æ˜¯ä¸ºè§£å†³ä¸Šè¿°é—®é¢˜è€Œäº§ç”Ÿçš„ï¼Œå®ƒç”¨æ¥è¿½è¸ªæ¯ä¸€ä¸ªè¯·æ±‚çš„å®Œæ•´è°ƒç”¨é“¾è·¯ï¼Œè®°å½•ä»è¯·æ±‚å¼€å§‹åˆ°è¯·æ±‚ç»“æŸæœŸé—´è°ƒç”¨çš„ä»»åŠ¡åç§°ã€è€—æ—¶ã€æ ‡ç­¾æ•°æ®ä»¥åŠæ—¥å¿—ä¿¡æ¯ï¼Œå¹¶é€šè¿‡å¯è§†åŒ–çš„ç•Œé¢è¿›è¡Œåˆ†æå’Œå±•ç¤ºï¼Œæ¥å¸®åŠ©æŠ€æœ¯äººå‘˜å‡†ç¡®åœ°å®šä½å¼‚å¸¸æœåŠ¡ã€å‘ç°æ€§èƒ½ç“¶é¢ˆã€æ¢³ç†è°ƒç”¨é“¾è·¯ä»¥åŠé¢„ä¼°ç³»ç»Ÿå®¹é‡ã€‚</p><p style=text-align:start>â€‹ é“¾è·¯è¿½è¸ªç³»ç»Ÿçš„ç†è®ºæ¨¡å‹å‡ ä¹éƒ½å€Ÿé‰´äº† Google çš„ä¸€ç¯‡è®ºæ–‡â€Dapper, a Large-Scale Distributed Systems Tracing Infrastructureâ€ï¼Œå…¸å‹äº§å“æœ‰Uber jaegerã€Twitter zipkinã€æ·˜å®é¹°çœ¼ç­‰ã€‚è¿™äº›äº§å“çš„å®ç°æ–¹å¼è™½ç„¶ä¸å°½ç›¸åŒï¼Œä½†æ ¸å¿ƒæ­¥éª¤ä¸€èˆ¬éƒ½æœ‰ä¸‰ä¸ªï¼š<strong>æ•°æ®é‡‡é›†ã€æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢å±•ç¤º</strong>ã€‚</p><p style=text-align:start>â€‹ é“¾è·¯è¿½è¸ªç³»ç»Ÿç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯æœ€åŸºæœ¬çš„å·¥ä½œå°±æ˜¯æ•°æ®é‡‡é›†ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œé“¾è·¯è¿½è¸ªç³»ç»Ÿéœ€è¦ä¾µå…¥ç”¨æˆ·ä»£ç è¿›è¡ŒåŸ‹ç‚¹ï¼Œç”¨äºæ”¶é›†è¿½è¸ªæ•°æ®ã€‚ä½†æ˜¯ç”±äºä¸åŒçš„é“¾è·¯è¿½è¸ªç³»ç»Ÿçš„APIäº’ä¸å…¼å®¹ï¼Œæ‰€ä»¥åŸ‹ç‚¹ä»£ç å†™æ³•å„å¼‚ï¼Œå¯¼è‡´ç”¨æˆ·åœ¨åˆ‡æ¢ä¸åŒé“¾è·¯è¿½è¸ªäº§å“æ—¶éœ€è¦åšå¾ˆå¤§çš„æ”¹åŠ¨ã€‚ä¸ºäº†è§£å†³è¿™ç±»é—®é¢˜ï¼Œäºæ˜¯è¯ç”Ÿäº†OpenTracingè§„èŒƒï¼Œæ—¨åœ¨ç»Ÿä¸€é“¾è·¯è¿½è¸ªç³»ç»Ÿçš„APIã€‚</p><h1 class=pgc-h-arrow-right><strong>äºŒã€OpenTracingè§„èŒƒ</strong></h1><p style=text-align:start>â€‹ OpenTracing æ˜¯ä¸€å¥—åˆ†å¸ƒå¼è¿½è¸ªåè®®ï¼Œä¸å¹³å°å’Œè¯­è¨€æ— å…³ï¼Œå…·æœ‰ç»Ÿä¸€çš„æ¥å£è§„èŒƒï¼Œæ–¹ä¾¿æ¥å…¥ä¸åŒçš„åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿã€‚</p><blockquote class=pgc-blockquote-abstract><p style=text-align:start>â€‹ OpenTracingè¯­ä¹‰è§„èŒƒè¯¦è§ï¼šhttps://github.com/opentracing/specification/blob/master/specification.md</p></blockquote><h1 class=pgc-h-arrow-right>2.1 æ•°æ®æ¨¡å‹ï¼ˆData Modelï¼‰</h1><p style=text-align:start>â€‹ OpenTracingè¯­ä¹‰è§„èŒƒä¸­å®šä¹‰çš„æ•°æ®æ¨¡å‹æœ‰ Traceã€Sapnä»¥åŠReferenceã€‚</p><h1 class=pgc-h-arrow-right><strong>2.1.1 Trace</strong></h1><p style=text-align:start>â€‹ Traceè¡¨ç¤ºä¸€æ¡å®Œæ•´çš„è¿½è¸ªé“¾è·¯ï¼Œä¾‹å¦‚ï¼šä¸€ä¸ªäº‹åŠ¡æˆ–è€…ä¸€ä¸ªæµç¨‹çš„æ‰§è¡Œè¿‡ç¨‹ã€‚ä¸€ä¸ª Trace æ˜¯ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ª Span ç»„æˆçš„æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ã€‚</p><p style=text-align:start>ä¸‹å›¾è¡¨ç¤ºä¸€ä¸ªç”±8ä¸ªSpanç»„æˆçš„Traceï¼š</p><pre><code>        [Span A]  â†â†â†(the root span)            |     +------+------+     |             | [Span B]      [Span C] â†â†â†(Span C is a `ChildOf` Span A)     |             | [Span D]      +---+-------+               |           |           [Span E]    [Span F] &gt;&gt;&gt; [Span G] &gt;&gt;&gt; [Span H]                                       â†‘                                       â†‘                                       â†‘                         (Span G `FollowsFrom` Span F)</code></pre><p style=text-align:start>æŒ‰ç…§æ—¶é—´è½´æ–¹å¼æ›´ä¸ºç›´è§‚åœ°å±•ç°è¯¥Traceï¼š</p><pre><code>â€“â€“|â€“â€“â€“â€“â€“â€“â€“|â€“â€“â€“â€“â€“â€“â€“|â€“â€“â€“â€“â€“â€“â€“|â€“â€“â€“â€“â€“â€“â€“|â€“â€“â€“â€“â€“â€“â€“|â€“â€“â€“â€“â€“â€“â€“|â€“â€“â€“â€“â€“â€“â€“|â€“&gt; time [Span AÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·]   [Span BÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·]      [Span DÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·]    [Span CÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·]         [Span EÂ·Â·Â·Â·Â·Â·Â·]        [Span FÂ·Â·] [Span GÂ·Â·] [Span HÂ·Â·]</code></pre><h1 class=pgc-h-arrow-right><strong>2.1.2 Span</strong></h1><p style=text-align:start>â€‹ Spanè¡¨ç¤ºä¸€ä¸ªç‹¬ç«‹çš„å·¥ä½œå•å…ƒï¼Œå®ƒæ˜¯ä¸€æ¡è¿½è¸ªé“¾è·¯çš„åŸºæœ¬ç»„æˆè¦ç´ ã€‚ä¾‹å¦‚ï¼šä¸€æ¬¡RPCè°ƒç”¨ã€ä¸€æ¬¡å‡½æ•°è°ƒç”¨æˆ–è€…ä¸€æ¬¡Httpè¯·æ±‚ã€‚</p><p style=text-align:start>æ¯ä¸ªSpanå°è£…äº†å¦‚ä¸‹çŠ¶æ€ï¼š</p><ul><li>æ“ä½œåç§°ç”¨äºè¡¨ç¤ºè¯¥Spançš„ä»»åŠ¡åç§°ã€‚ ä¾‹å¦‚ï¼šä¸€ä¸ª RPCæ–¹æ³•åï¼Œ ä¸€ä¸ªå‡½æ•°åï¼Œæˆ–è€…å¤§å‹ä»»åŠ¡ä¸­çš„å­ä»»åŠ¡åç§°ã€‚</li><li>å¼€å§‹æ—¶é—´æˆ³ä»»åŠ¡å¼€å§‹æ—¶é—´ã€‚</li><li>ç»“æŸæ—¶é—´æˆ³ã€‚ä»»åŠ¡ç»“æŸæ—¶é—´ã€‚é€šè¿‡Spançš„ç»“æŸæ—¶é—´æˆ³å’Œå¼€å§‹æ—¶é—´æˆ³ï¼Œå°±èƒ½å¤Ÿè®¡ç®—å‡ºè¯¥Spançš„æ•´ä½“è€—æ—¶ã€‚</li><li>ä¸€ç»„Spanæ ‡ç­¾æ¯ä¸€ä¸ªSpanæ ‡ç­¾æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ã€‚é”®å¿…é¡»æ˜¯å­—ç¬¦ä¸²ï¼Œå€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å¸ƒå°”æˆ–æ•°å€¼ç±»å‹ã€‚</li></ul><blockquote class=pgc-blockquote-abstract><p>å¸¸è§æ ‡ç­¾é”®å¯å‚è€ƒï¼šhttps://github.com/opentracing/specification/blob/master/semantic_conventions.md</p></blockquote><p>ä¸€ç»„Spanæ—¥å¿—æ¯ä¸€æ¡Spanæ—¥å¿—ç”±ä¸€ä¸ªé”®å€¼å¯¹å’Œä¸€ä¸ªç›¸åº”çš„æ—¶é—´æˆ³ç»„æˆã€‚é”®å¿…é¡»æ˜¯å­—ç¬¦ä¸²ï¼Œå€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ã€‚</p><blockquote class=pgc-blockquote-abstract><p>å¸¸è§æ—¥å¿—é”®å‚è€ƒï¼šhttps://github.com/opentracing/specification/blob/master/semantic_conventions.md</p></blockquote><h1 class=pgc-h-arrow-right><strong>2.1.3 Reference</strong></h1><p style=text-align:start>â€‹ ä¸€ä¸ªSpanå¯ä»¥ä¸ä¸€ä¸ªæˆ–è€…å¤šä¸ªSpanå­˜åœ¨å› æœå…³ç³»ï¼Œè¿™ç§å…³ç³»ç§°ä¸ºReferenceã€‚OpenTracingç›®å‰å®šä¹‰äº†ä¸¤ç§å…³ç³»ï¼šChildOfï¼ˆçˆ¶å­ï¼‰å…³ç³» å’Œ FollowsFromï¼ˆè·Ÿéšï¼‰å…³ç³»ã€‚</p><ul><li>ChildOfå…³ç³»çˆ¶Spançš„æ‰§è¡Œä¾èµ–å­Spançš„æ‰§è¡Œç»“æœï¼Œæ­¤æ—¶å­Spanå¯¹çˆ¶Spançš„Referenceå…³ç³»æ˜¯ChildOfã€‚æ¯”å¦‚å¯¹äºä¸€æ¬¡RPCè°ƒç”¨ï¼ŒæœåŠ¡ç«¯çš„Spanï¼ˆå­Spanï¼‰ä¸å®¢æˆ·ç«¯è°ƒç”¨çš„Spanï¼ˆçˆ¶Spanï¼‰å°±æ˜¯ChildOfå…³ç³»ã€‚</li><li>FollowsFromå…³ç³»çˆ¶Spançš„æ‰§è¡Œä¸ä¾èµ–å­Spançš„æ‰§è¡Œç»“æœï¼Œæ­¤æ—¶å­Spanå¯¹çˆ¶Spançš„Referenceå…³ç³»æ˜¯FollowFromã€‚FollowFromå¸¸ç”¨äºè¡¨ç¤ºå¼‚æ­¥è°ƒç”¨ï¼Œä¾‹å¦‚æ¶ˆæ¯é˜Ÿåˆ—ä¸­Consumer Spanä¸Producer Spanä¹‹é—´çš„å…³ç³»ã€‚</li></ul><h1 class=pgc-h-arrow-right>2.2 åº”ç”¨æ¥å£ï¼ˆAPIï¼‰</h1><h1 class=pgc-h-arrow-right><strong>2.2.1 Tracer</strong></h1><p style=text-align:start>â€‹ Traceræ¥å£ç”¨äºåˆ›å»ºSpanã€è·¨è¿›ç¨‹æ³¨å…¥æ•°æ®å’Œæå–æ•°æ®ã€‚é€šå¸¸å…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>Start a new span<br>åˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªæ–°çš„Spanã€‚</li><li>Inject<br>å°†SpanContextæ³¨å…¥è½½ä½“ï¼ˆCarrierï¼‰ã€‚</li><li>Extract<br>ä»è½½ä½“ï¼ˆCarrierï¼‰ä¸­æå–SpanContextã€‚</li></ul><h1 class=pgc-h-arrow-right><strong>2.2.2 Span</strong></h1><ul><li>Retrieve a SpanContext<br>è¿”å›Spanå¯¹åº”çš„SpanContextã€‚</li><li>Overwrite the operation name<br>æ›´æ–°æ“ä½œåç§°ã€‚</li><li>Set a span tag<br>è®¾ç½®Spanæ ‡ç­¾æ•°æ®ã€‚</li><li>Log structured data<br>è®°å½•ç»“æ„åŒ–æ•°æ®ã€‚</li><li>Set a baggage item<br>baggage itemæ˜¯å­—ç¬¦ä¸²å‹çš„é”®å€¼å¯¹ï¼Œå®ƒå¯¹åº”äºæŸä¸ª Spanï¼ŒéšTraceä¸€èµ·ä¼ æ’­ã€‚ç”±äºæ¯ä¸ªé”®å€¼éƒ½ä¼šè¢«æ‹·è´åˆ°æ¯ä¸€ä¸ªæœ¬åœ°åŠè¿œç¨‹çš„å­Spanï¼Œè¿™å¯èƒ½å¯¼è‡´å·¨å¤§çš„ç½‘ç»œå’ŒCPUå¼€é”€ã€‚</li><li>Get a baggage item<br>è·å–baggage itemçš„å€¼ã€‚</li><li>Finish<br>ç»“æŸä¸€ä¸ªSpanã€‚</li></ul><h1 class=pgc-h-arrow-right><strong>2.2.3 Span Context</strong></h1><p style=text-align:start>â€‹ ç”¨äºæºå¸¦è·¨è¶ŠæœåŠ¡è¾¹ç•Œçš„æ•°æ®ï¼ŒåŒ…æ‹¬trace IDã€Span IDä»¥åŠéœ€è¦ä¼ æ’­åˆ°ä¸‹æ¸¸Spançš„baggageæ•°æ®ã€‚åœ¨OpenTracingä¸­ï¼Œå¼ºåˆ¶è¦æ±‚SpanContextå®ä¾‹ä¸å¯å˜ï¼Œä»¥é¿å…åœ¨Spanå®Œæˆå’Œå¼•ç”¨æ—¶å‡ºç°å¤æ‚çš„ç”Ÿå‘½å‘¨æœŸé—®é¢˜ã€‚</p><h1 class=pgc-h-arrow-right><strong>2.2.4 NoopTracer</strong></h1><p style=text-align:start>â€‹ æ‰€æœ‰å¯¹OpenTracing APIçš„å®ç°ï¼Œå¿…é¡»æä¾›æŸç§å½¢å¼çš„NoopTracerï¼Œç”¨äºæ ‡è®°æ§åˆ¶OpenTracingæˆ–æ³¨å…¥å¯¹æµ‹è¯•æ— å®³çš„ä¸œè¥¿ã€‚</p><h1 class=pgc-h-arrow-right><strong>ä¸‰ã€Jaeger</strong></h1><p style=text-align:start>â€‹ Jaegeræ˜¯Uberå¼€æºçš„åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿï¼Œå®ƒçš„åº”ç”¨æ¥å£å®Œå…¨éµå¾ªOpenTracingè§„èŒƒã€‚jaegeræœ¬èº«é‡‡ç”¨goè¯­è¨€ç¼–å†™ï¼Œå…·æœ‰è·¨å¹³å°è·¨è¯­è¨€çš„ç‰¹æ€§ï¼Œæä¾›äº†å„ç§è¯­è¨€çš„å®¢æˆ·ç«¯è°ƒç”¨æ¥å£ï¼Œä¾‹å¦‚c++ã€javaã€goã€pythonã€rubyã€phpã€nodejsç­‰ã€‚</p><blockquote class=pgc-blockquote-abstract><p style=text-align:start>é¡¹ç›®åœ°å€ï¼šhttps://github.com/jaegertracing</p></blockquote><h1 class=pgc-h-arrow-right>3.1 Jaegerç»„ä»¶</h1><div class=pgc-img><img alt=å¾®æœåŠ¡-å¦‚ä½•è§£å†³é“¾è·¯è¿½è¸ªé—®é¢˜ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6ad951a771234a11bf19e1aefb90ac22><p class=pgc-img-caption></p></div><ul><li><strong>jaeger-client</strong>jaegerçš„å®¢æˆ·ç«¯ä»£ç åº“ï¼Œå®ƒå®ç°äº†OpenTracingåè®®ã€‚å½“æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°†å…¶è£…é…åï¼Œè´Ÿè´£æ”¶é›†æ•°æ®ï¼Œå¹¶å‘é€åˆ°jaeger-agentã€‚<strong>è¿™æ˜¯æˆ‘ä»¬å”¯ä¸€éœ€è¦ç¼–å†™ä»£ç çš„åœ°æ–¹</strong>ã€‚</li><li><strong>jaeger-agent</strong>è´Ÿè´£æ¥æ”¶ä»jaeger-clientå‘æ¥çš„Trace/Spanä¿¡æ¯ï¼Œå¹¶æ‰¹é‡ä¸Šä¼ åˆ°jaeger-collectorã€‚</li><li><strong>jaeger-collector</strong>è´Ÿè´£æ¥æ”¶ä»jaeger-agentå‘æ¥çš„Trace/Spanä¿¡æ¯ï¼Œå¹¶ç»è¿‡æ ¡éªŒã€ç´¢å¼•ç­‰å¤„ç†ï¼Œç„¶åå†™å…¥åˆ°åç«¯å­˜å‚¨ã€‚</li><li><strong>data store</strong>è´Ÿè´£æ•°æ®å­˜å‚¨ã€‚Jaegerçš„æ•°æ®å­˜å‚¨æ˜¯ä¸€ä¸ªå¯æ’æ‹”çš„ç»„ä»¶ï¼Œç›®å‰æ”¯æŒCassandraã€ElasticSearchå’ŒKafkaã€‚</li><li><strong>jaeger-query & ui</strong>è´Ÿè´£æ•°æ®æŸ¥è¯¢ï¼Œå¹¶é€šè¿‡å‰ç«¯ç•Œé¢å±•ç¤ºæŸ¥è¯¢ç»“æœã€‚</li></ul><div class=pgc-img><img alt=å¾®æœåŠ¡-å¦‚ä½•è§£å†³é“¾è·¯è¿½è¸ªé—®é¢˜ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5a883197f2ca4bf6b1725cf4bba67372><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>3.2 å¿«é€Ÿå…¥é—¨</h1><p style=text-align:start>â€‹ Jaegerå®˜æ–¹æä¾›äº†all-in-oneé•œåƒï¼Œæ–¹ä¾¿å¿«é€Ÿè¿›è¡Œæµ‹è¯•ï¼š</p><pre><code># æ‹‰å–é•œåƒ$docker pull jaegertracing/all-in-one:latest# è¿è¡Œé•œåƒ$docker run -d --name jaeger \  -e COLLECTOR_ZIPKIN_HTTP_PORT=9411 \  -p 5775:5775/udp \  -p 6831:6831/udp \  -p 6832:6832/udp \  -p 5778:5778 \  -p 14268:14268 \  -p 9411:9411 \  -p 16686:16686 \  jaegertracing/all-in-one:latest</code></pre><p style=text-align:start>â€‹ é€šè¿‡all-in-oneé•œåƒå¯åŠ¨ï¼Œæˆ‘ä»¬å‘ç°Jaegerå æ®äº†å¾ˆå¤šç«¯å£ã€‚ä»¥ä¸‹æ˜¯ç«¯å£ä½¿ç”¨è¯´æ˜ï¼š</p><div class=pgc-img><img alt=å¾®æœåŠ¡-å¦‚ä½•è§£å†³é“¾è·¯è¿½è¸ªé—®é¢˜ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b2963eef7c4d446f816e8f2c2be66a41><p class=pgc-img-caption></p></div><blockquote class=pgc-blockquote-abstract><p style=text-align:start>â€‹ å¯åŠ¨åï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—® http://localhost:16686 ï¼Œåœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹å’ŒæŸ¥è¯¢æ”¶é›†çš„æ•°æ®ã€‚</p></blockquote><p style=text-align:start>â€‹ ç”±äºé€šè¿‡all-in-oneé•œåƒæ–¹å¼æ”¶é›†çš„æ•°æ®éƒ½å­˜å‚¨åœ¨dockerä¸­ï¼Œæ— æ³•æŒä¹…ä¿å­˜ï¼Œæ‰€ä»¥åªèƒ½ç”¨äºå¼€å‘æˆ–è€…æµ‹è¯•ç¯å¢ƒï¼Œæ— æ³•ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚ç”Ÿäº§ç¯å¢ƒä¸­éœ€è¦ä¾æ®å®é™…æƒ…å†µï¼Œåˆ†åˆ«éƒ¨ç½²å„ä¸ªç»„ä»¶ã€‚</p><h1 class=pgc-h-arrow-right><strong>å››ã€Jaegeråœ¨ä¸šåŠ¡ä»£ç ä¸­çš„åº”ç”¨</strong></h1><p style=text-align:start>â€‹ ç³»ç»Ÿä¸­ä½¿ç”¨Jaegeréå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨åŸæœ‰ç¨‹åºä¸­æ’å…¥å°‘é‡ä»£ç ã€‚ä»¥ä¸‹ä»£ç æ¨¡æ‹Ÿäº†ä¸€ä¸ªæŸ¥è¯¢ç”¨æˆ·è´¦æˆ·ä½™é¢ï¼Œæ‰§è¡Œæ‰£æ¬¾çš„ä¸šåŠ¡åœºæ™¯ï¼š</p><h1 class=pgc-h-arrow-right>4.1 åˆå§‹åŒ–jaegerå‡½æ•°</h1><p style=text-align:start>â€‹ ä¸»è¦æ˜¯æŒ‰ç…§å®é™…éœ€è¦é…ç½®æœ‰å…³å‚æ•°ï¼Œä¾‹å¦‚æœåŠ¡åç§°ã€é‡‡æ ·æ¨¡å¼ã€é‡‡æ ·æ¯”ä¾‹ç­‰ç­‰ã€‚</p><pre><code>func initJaeger() (tracer opentracing.Tracer, closer io.Closer, err error) {	// æ„é€ é…ç½®ä¿¡æ¯	cfg := &amp;config.Configuration{		// è®¾ç½®æœåŠ¡åç§°		ServiceName: "ServiceAmount",		// è®¾ç½®é‡‡æ ·å‚æ•°		Sampler: &amp;config.SamplerConfig{			Type:  "const", // å…¨é‡‡æ ·æ¨¡å¼			Param: 1,       // å¼€å¯çŠ¶æ€		},	}		// ç”Ÿæˆä¸€æ¡æ–°tracer	tracer, closer, err = cfg.NewTracer()	if err == nil {		// è®¾ç½®tracerä¸ºå…¨å±€å•ä¾‹å¯¹è±¡		opentracing.SetGlobalTracer(tracer)	}	return}</code></pre><h1 class=pgc-h-arrow-right>4.2 æ£€æµ‹ç”¨æˆ·ä½™é¢å‡½æ•°</h1><p style=text-align:start>â€‹ ç”¨äºæ£€æµ‹ç”¨æˆ·ä½™é¢ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªå­ä»»åŠ¡Spanã€‚</p><pre><code>func CheckBalance(request string, ctx context.Context) {	// åˆ›å»ºå­span	span, _ := opentracing.StartSpanFromContext(ctx, "CheckBalance")	// æ¨¡æ‹Ÿç³»ç»Ÿè¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œï¼Œè€—æ—¶1/3ç§’	time.Sleep(time.Second / 3)	// ç¤ºä¾‹ï¼šå°†éœ€è¦è¿½è¸ªçš„ä¿¡æ¯æ”¾å…¥tag	span.SetTag("request", request)	span.SetTag("reply", "CheckBalance reply")	// ç»“æŸå½“å‰span	span.Finish()	log.Println("CheckBalance is done")}</code></pre><h1 class=pgc-h-arrow-right>4.3 ä»ç”¨æˆ·è´¦æˆ·æ‰£æ¬¾å‡½æ•°</h1><p style=text-align:start>â€‹ ä»ç”¨æˆ·è´¦æˆ·æ‰£æ¬¾ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªå­ä»»åŠ¡spanã€‚</p><pre><code>func Reduction(request string, ctx context.Context) {	// åˆ›å»ºå­span	span, _ := opentracing.StartSpanFromContext(ctx, "Reduction")	// æ¨¡æ‹Ÿç³»ç»Ÿè¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œï¼Œè€—æ—¶1/2ç§’	time.Sleep(time.Second / 2)	// ç¤ºä¾‹ï¼šå°†éœ€è¦è¿½è¸ªçš„ä¿¡æ¯æ”¾å…¥tag	span.SetTag("request", request)	span.SetTag("reply", "Reduction reply")	// ç»“æŸå½“å‰span	span.Finish()	log.Println("Reduction is done")}</code></pre><h1 class=pgc-h-arrow-right>4.4 ä¸»å‡½æ•°</h1><p style=text-align:start>â€‹ åˆå§‹åŒ–jaegerç¯å¢ƒï¼Œç”Ÿæˆtracerï¼Œåˆ›å»ºçˆ¶spanï¼Œä»¥åŠè°ƒç”¨æŸ¥è¯¢ä½™é¢å’Œæ‰£æ¬¾ä¸¤ä¸ªå­ä»»åŠ¡spanã€‚</p><pre><code>package mainimport (	"context"	"fmt"	"github.com/opentracing/opentracing-go"	"github.com/uber/jaeger-client-go/config"	"io"	"log"	"time")func main() {	// åˆå§‹åŒ–jaegerï¼Œåˆ›å»ºä¸€æ¡æ–°tracer	tracer, closer, err := initJaeger()	if err != nil {		panic(fmt.Sprintf("ERROR: cannot init Jaeger: %v\n", err))	}	defer closer.Close()	// åˆ›å»ºä¸€ä¸ªæ–°spanï¼Œä½œä¸ºçˆ¶spanï¼Œå¼€å§‹è®¡è´¹è¿‡ç¨‹	span := tracer.StartSpan("CalculateFee")		// ç”Ÿæˆçˆ¶spançš„context	ctx := opentracing.ContextWithSpan(context.Background(), span)	// ç¤ºä¾‹ï¼šè®¾ç½®ä¸€ä¸ªspanæ ‡ç­¾ä¿¡æ¯	span.SetTag("db.instance", "customers")	// ç¤ºä¾‹ï¼šè¾“å‡ºä¸€æ¡spanæ—¥å¿—ä¿¡æ¯	span.LogKV("event", "timed out")	// å°†çˆ¶spançš„contextä½œä¸ºå‚æ•°ï¼Œè°ƒç”¨æ£€æµ‹ç”¨æˆ·ä½™é¢å‡½æ•°	CheckBalance("CheckBalance request", ctx)	// å°†çˆ¶spançš„contextä½œä¸ºå‚æ•°ï¼Œè°ƒç”¨æ‰£æ¬¾å‡½æ•°	Reduction("Reduction request", ctx)	// ç»“æŸçˆ¶span	span.Finish()}</code></pre><h1 class=pgc-h-arrow-right><strong>äº”ã€Jaegeråœ¨gRPCå¾®æœåŠ¡ä¸­çš„åº”ç”¨</strong></h1><p style=text-align:start>â€‹ æˆ‘ä»¬ä¾ç„¶æ¨¡æ‹Ÿäº†ä¸€ä¸ªæŸ¥è¯¢ç”¨æˆ·è´¦æˆ·ä½™é¢ï¼Œæ‰§è¡Œæ‰£æ¬¾çš„ä¸šåŠ¡åœºæ™¯ï¼Œå¹¶æŠŠæŸ¥è¯¢ç”¨æˆ·è´¦æˆ·ä½™é¢å’Œæ‰§è¡Œæ‰£æ¬¾åŠŸèƒ½æ”¹é€ ä¸ºgRPCå¾®æœåŠ¡ï¼š</p><h1 class=pgc-h-arrow-right>5.1 gRPC Serverç«¯ä»£ç </h1><p style=text-align:start>main.goï¼š</p><p style=text-align:start>â€‹ ä»£ç ä½¿ç”¨äº†ç¬¬ä¸‰æ–¹ä¾èµ–åº“github.com/grpc-ecosystem/go-grpc-middleware/tracing/opentracingï¼Œè¯¥ä¾èµ–åº“å°†OpenTracingå°è£…ä¸ºé€šç”¨çš„gRPCä¸­é—´ä»¶ï¼Œå¹¶é€šè¿‡gRPCæ‹¦æˆªå™¨æ— ç¼åµŒå…¥gRPCæœåŠ¡ä¸­ã€‚</p><pre><code>package mainimport (	"fmt"	"github.com/grpc-ecosystem/go-grpc-middleware/tracing/opentracing"	"github.com/opentracing/opentracing-go"	"github.com/uber/jaeger-client-go/config"	"google.golang.org/grpc"	"google.golang.org/grpc/reflection"	"grpc-jaeger-server/account"	"io"	"log"	"net")// åˆå§‹åŒ–jaegerfunc initJaeger() (tracer opentracing.Tracer, closer io.Closer, err error) {	// æ„é€ é…ç½®ä¿¡æ¯	cfg := &amp;config.Configuration{		// è®¾ç½®æœåŠ¡åç§°		ServiceName: "ServiceAmount",		// è®¾ç½®é‡‡æ ·å‚æ•°		Sampler: &amp;config.SamplerConfig{			Type:  "const", // å…¨é‡‡æ ·æ¨¡å¼			Param: 1,       // å¼€å¯å…¨é‡‡æ ·æ¨¡å¼		},	}	// ç”Ÿæˆä¸€æ¡æ–°tracer	tracer, closer, err = cfg.NewTracer()	if err == nil {		// è®¾ç½®tracerä¸ºå…¨å±€å•ä¾‹å¯¹è±¡		opentracing.SetGlobalTracer(tracer)	}	return}func main() {	// åˆå§‹åŒ–jaegerï¼Œåˆ›å»ºä¸€æ¡æ–°tracer	tracer, closer, err := initJaeger()	if err != nil {		panic(fmt.Sprintf("ERROR: cannot init Jaeger: %v\n", err))	}	defer closer.Close()	log.Println("succeed to init jaeger")	// æ³¨å†ŒgRPC accountæœåŠ¡	server := grpc.NewServer(grpc.UnaryInterceptor(grpc_opentracing.UnaryServerInterceptor(grpc_opentracing.WithTracer(tracer))))	account.RegisterAccountServer(server, &amp;AccountServer{})	reflection.Register(server)	log.Println("succeed to register account service")	// ç›‘å¬gRPC accountæœåŠ¡ç«¯å£	listener, err := net.Listen("tcp", ":8080")	if err != nil {		log.Println(err)		return	}	log.Println("starting register account service")	// å¼€å¯gRpc accountæœåŠ¡	if err := server.Serve(listener); err != nil {		log.Println(err)		return	}}</code></pre><p style=text-align:start>è®¡è´¹å¾®æœåŠ¡ accountsever.goï¼š</p><pre><code>package mainimport (	"github.com/opentracing/opentracing-go"	"golang.org/x/net/context"	"grpc-jaeger-server/account"	"time")// è®¡è´¹æœåŠ¡type AccountServer struct{}// æ£€æµ‹ç”¨æˆ·ä½™é¢å¾®æœåŠ¡ï¼Œæ¨¡æ‹Ÿå­spanä»»åŠ¡func (s *AccountServer) CheckBalance(ctx context.Context, request *account.CheckBalanceRequest) (response *account.CheckBalanceResponse, err error) {	response = &amp;account.CheckBalanceResponse{		Reply: "CheckBalance Reply", // å¤„ç†ç»“æœ	}	// åˆ›å»ºå­span	span, _ := opentracing.StartSpanFromContext(ctx, "CheckBalance")	// æ¨¡æ‹Ÿç³»ç»Ÿè¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œï¼Œè€—æ—¶1/3ç§’	time.Sleep(time.Second / 3)	// å°†éœ€è¦è¿½è¸ªçš„ä¿¡æ¯æ”¾å…¥tag	span.SetTag("request", request)	span.SetTag("reply", response)	// ç»“æŸå½“å‰span	span.Finish()	return response, err}// ä»ç”¨æˆ·è´¦æˆ·æ‰£æ¬¾å¾®æœåŠ¡ï¼Œæ¨¡æ‹Ÿå­spanä»»åŠ¡func (s *AccountServer) Reduction(ctx context.Context, request *account.ReductionRequest) (response *account.ReductionResponse, err error) {	response = &amp;account.ReductionResponse{		Reply: "Reduction Reply", // å¤„ç†ç»“æœ	}	// åˆ›å»ºå­span	span, _ := opentracing.StartSpanFromContext(ctx, "Reduction")	// æ¨¡æ‹Ÿç³»ç»Ÿè¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œï¼Œè€—æ—¶1/3ç§’	time.Sleep(time.Second / 3)	// å°†éœ€è¦è¿½è¸ªçš„ä¿¡æ¯æ”¾å…¥tag	span.SetTag("request", request)	span.SetTag("reply", response)	// ç»“æŸå½“å‰span	span.Finish()	return response, err}</code></pre><h1 class=pgc-h-arrow-right>5.2 gRPC Clientç«¯ä»£ç main.goï¼š</h1><pre><code>package mainimport (	"context"	"fmt"	"github.com/grpc-ecosystem/go-grpc-middleware/tracing/opentracing"	"github.com/opentracing/opentracing-go"	"github.com/uber/jaeger-client-go/config"	"google.golang.org/grpc"	"grpc-jaeger-client/account"	"io"	"log")// åˆå§‹åŒ–jaegerfunc initJaeger() (tracer opentracing.Tracer, closer io.Closer, err error) {	// æ„é€ é…ç½®ä¿¡æ¯	cfg := &amp;config.Configuration{		// è®¾ç½®æœåŠ¡åç§°		ServiceName: "ServiceAmount",		// è®¾ç½®é‡‡æ ·å‚æ•°		Sampler: &amp;config.SamplerConfig{			Type:  "const", // å…¨é‡‡æ ·æ¨¡å¼			Param: 1,       // å¼€å¯å…¨é‡‡æ ·æ¨¡å¼		},	}	// ç”Ÿæˆä¸€æ¡æ–°tracer	tracer, closer, err = cfg.NewTracer()	if err == nil {		// è®¾ç½®tracerä¸ºå…¨å±€å•ä¾‹å¯¹è±¡		opentracing.SetGlobalTracer(tracer)	}	return}func main() {	// åˆå§‹åŒ–jaegerï¼Œåˆ›å»ºä¸€æ¡æ–°tracer	tracer, closer, err := initJaeger()	if err != nil {		panic(fmt.Sprintf("ERROR: cannot init Jaeger: %v\n", err))	}	defer closer.Close()	log.Println("succeed to init jaeger")	// åˆ›å»ºä¸€ä¸ªæ–°spanï¼Œä½œä¸ºçˆ¶span	span := tracer.StartSpan("CalculateFee")	// å‡½æ•°è¿”å›æ—¶å…³é—­span	defer span.Finish()	// ç”Ÿæˆspançš„context	ctx := opentracing.ContextWithSpan(context.Background(), span)	// è¿æ¥gRPC server	conn, err := grpc.Dial("localhost:8080",		grpc.WithInsecure(),		grpc.WithUnaryInterceptor(grpc_opentracing.UnaryClientInterceptor(grpc_opentracing.WithTracer(tracer),		)))	if err != nil {		log.Println(err)		return	}	// åˆ›å»ºgRPCè®¡è´¹æœåŠ¡å®¢æˆ·ç«¯	client := account.NewAccountClient(conn)	// å°†çˆ¶spançš„contextä½œä¸ºå‚æ•°ï¼Œè°ƒç”¨æ£€æµ‹ç”¨æˆ·ä½™é¢çš„gRPCå¾®æœåŠ¡	checkBalanceResponse, err := client.CheckBalance(ctx,		&amp;account.CheckBalanceRequest{			Account: "user account",		})	if err != nil {		log.Println(err)		return	}	log.Println(checkBalanceResponse)	// å°†çˆ¶spançš„contextä½œä¸ºå‚æ•°ï¼Œè°ƒç”¨æ‰£æ¬¾çš„gRPCå¾®æœåŠ¡	reductionResponse, err := client.Reduction(ctx,		&amp;account.ReductionRequest{			Account: "user account",			Amount: 1,		})	if err != nil {		log.Println(err)		return	}	log.Println(reductionResponse)}</code></pre><blockquote class=pgc-blockquote-abstract><p style=text-align:start>æ³¨ï¼š<br>æœ¬æ–‡å…¨éƒ¨æºä»£ç ä½äºï¼šhttps://github.com/wangshizebin/micro-service<br>æœ¬æ–‡æ—¶å€™ç”¨çš„å¼€å‘å·¥å…·ä¸ºï¼šgoland</p><p style=text-align:start>åŸæ–‡é“¾æ¥ï¼šhttps://www.cnblogs.com/wanghao72214/p/13932810.html</p></blockquote><p>å¦‚æœè§‰å¾—æœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå¯ä»¥è½¬å‘å…³æ³¨æ”¯æŒä¸€ä¸‹</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'è§£å†³','é“¾è·¯','å¾®æœ'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>