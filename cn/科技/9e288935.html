<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>干货｜常见电机控制 | 极客快訊</title><meta property="og:title" content="干货｜常见电机控制 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/Rusxycr8baRXsB"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9e288935.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9e288935.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9e288935.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9e288935.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9e288935.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9e288935.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9e288935.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9e288935.html><meta property="article:published_time" content="2020-11-14T21:06:43+08:00"><meta property="article:modified_time" content="2020-11-14T21:06:43+08:00"><meta name=Keywords content><meta name=description content="干货｜常见电机控制"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/9e288935.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>干货｜常见电机控制</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>BLDC 电机控制算法</strong></p><p>无刷电机属于自换流型（自我方向转换），因此控制起来更加复杂。</p><p>BLDC 电机控制要求了解电机进行整流转向的转子位置和机制。对于闭环速度控制，有两个附加要求，即对于转子速度 / 或电机电流以及 PWM信号进行测量，以控制电机速度功率。</p><p>BLDC 电机可以根据应用要求采用边排列或中心排列 PWM 信号。大多数应用仅要求速度变化操作，将采用 6 个独立的边排列 PWM 信号。这就提供了最高的分辨率。如果应用要求服务器定位、能耗制动或动力倒转，推荐使用补充的中心排列 PWM 信号。</p><p>为了感应转子位置，BLDC 电机采用霍尔效应传感器来提供绝对定位感应。这就导致了更多线的使用和更高的成本。无传感器 BLDC 控制省去了对于霍尔传感器的需要，而是采用电机的反电动势(电动势)来预测转子位置。无传感器控制对于像风扇和泵这样的低成本变速应用至关重要。在采有 BLDC 电机时，冰箱和空调压缩机也需要无传感器控制。</p><p><strong>空载时间的插入和补充</strong></p><p>大多数 BLDC 电机不需要互补的 PWM、空载时间插入或空载时间补偿。可能会要求这些特性的 BLDC 应用仅为高性能 BLDC 伺服电动机、正弦波激励式 BLDC 电机、无刷 AC、或 PC 同步电机。</p><p><strong>控制算法</strong></p><p>许多不同的控制算法都被用以提供对于 BLDC 电机的控制。典型地，将功率晶体管用作线性稳压器来控制电机电压。当驱动高功率电机时，这种方法并不实用。高功率电机必须采用 PWM 控制，并要求一个微控制器来提供起动和控制功能。</p><p>控制算法必须提供下列三项功能：</p><p>用于控制电机速度的 PWM 电压</p><p>用于对电机进整流换向的机制</p><p>利用反电动势或霍尔传感器来预测转子位置的方法</p><p>脉冲宽度调制仅用于将可变电压应用到电机绕组。有效电压与 PWM 占空度成正比。当得到适当的整流换向时，BLDC 的扭矩速度特性与以下直流电机相同。可以用可变电压来控制电机的速度和可变转矩。</p><img alt=干货｜常见电机控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/Rusxycr8baRXsB><p>功率晶体管的换向实现了定子中的适当绕组，可根据转子位置生成最佳的转矩。在一个 BLDC 电机中，MCU 必须知道转子的位置并能够在恰当的时间进行整流换向。</p><p><strong>BLDC 电机的梯形整流换向</strong></p><p>对于直流无刷电机的最简单的方法之一是采用所谓的梯形整流换向。</p><img alt=干货｜常见电机控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RusxydD8JcdnxZ><p>图 1：用于 BLDC 电机的梯形控制器的简化框图</p><p>在这个原理图中，每一次要通过一对电机终端来控制电流，而第三个电机终端总是与电源电子性断开。</p><p>嵌入大电机中的三种霍尔器件用于提供数字信号，它们在 60 度的扇形区内测量转子位置，并在电机控制器上提供这些信息。由于每次两个绕组上的电流量相等，而第三个绕组上的电流为零，这种方法仅能产生具有六个方向共中之一的电流空间矢量。随着电机的转向，电机终端的电流在每转 60 度时，电开关一次(整流换向)，因此电流空间矢量总是在 90 度相移的最接近 30 度的位置。</p><img alt=干货｜常见电机控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RusxydfBfpwjcW><p>图 2：梯形控制：驱动波形和整流处的转矩</p><p>因此每个绕组的电流波型为梯形，从零开始到正电流再到零然后再到负电流。</p><p>这就产生了电流空间矢量，当它随着转子的旋转在 6 个不同的方向上进行步升时，它将接近平衡旋转。</p><p>在像空调和冰箱这样的电机应用中，采用霍尔传感器并不是一个不变的选择。在非联绕组中感应的反电动势传感器可以用来取得相同的结果。</p><p>这种梯形驱动系统因其控制电路的简易性而非常普通，但是它们在整流过程中却要遭遇转矩纹波问题。</p><p><strong>BDLC 电机的正弦整流换向</strong></p><p>梯形整流换向还不足以为提供平衡、精准的无刷直流电机控制。这主要是因为在一个三相无刷电机(带有一个正统波反电动势)中所产生的转矩由下列等式来定义：</p><p>转轴转矩= Kt [IRSin(o) + ISSin(o+120) +ITSin(o+240)]</p><p>其中：</p><p>o 为转轴的电角度</p><p>Kt 为电机的转矩常数</p><p>IR, IS 和 IT 为相位电流</p><p>如果相位电流是正弦的：IR = I0Sino; IS = I0Sin (+120o); IT = I0Sin (+240o)</p><p>将得到：转轴转矩= 1.5I0*Kt(一个独立于转轴角度的常数)</p><p>正弦整流换向无刷电机控制器努力驱动三个电机绕组，其三路电流随着电机转动而平稳的进行正弦变化。选择这些电流的相关相位，这样它们将会产生平稳的转子电流空间矢量，方向是与转子正交的方向，并具有不变量。这就消除了与北形转向相关的转矩纹波和转向脉冲。</p><p>为了随着电机的旋转，生成电机电流的平稳的正弦波调制，就要求对于转子位置有一个精确有测量。霍尔器件仅提供了对于转子位置的粗略计算，还不足以达到目的要求。基于这个原因，就要求从编码器或相似器件发出角反馈。</p><img alt=干货｜常见电机控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RusxyerDlGigja><p>图 3：BLDC 电机正弦波控制器的简化框图</p><p>由于绕组电流必须结合产生一个平稳的常量转子电流空间矢量，而且定子绕组的每个定位相距 120 度角，因此每个线组的电流必须是正弦的而且相移为 120 度。采用编码器中的位置信息来对两个正弦波进行合成，两个间的相移为 120 度。然后，将这些信号乘以转矩命令，因此正弦波的振幅与所需要的转矩成正比。结果，两个正弦波电流命令得到恰当的定相，从而在正交方向产生转动定子电流空间矢量。</p><p>正弦电流命令信号输出一对在两个适当的电机绕组中调制电流的 P-I 控制器。第三个转子绕组中的电流是受控绕组电流的负和，因此不能被分别控制。每个 P-I 控制器的输出被送到一个 PWM 调制器，然后送到输出桥和两个电机终端。应用到第三个电机终端的电压源于应用到前两个线组的信号的负数和，适当用于分别间隔 120 度的三个正弦电压。</p><p>结果，实际输出电流波型精确的跟踪正弦电流命令信号，所得电流空间矢量平稳转动，在量上得以稳定并以所需的方向定位。</p><p>一般通过梯形整流转向，不能达到稳定控制的正弦整流转向结果。然而，由于其在低电机速度下效率很高，在高电机速度下将会分开。这是由于速度提高，电流回流控制器必须跟踪一个增加频率的正弦信号。同时，它们必须克服随着速度提高在振幅和频率下增加的电机的反电动势。</p><p>由于 P-I 控制器具有有限增益和频率响应，对于电流控制回路的时间变量干扰将引起相位滞后和电机电流中的增益误差，速度越高，误差越大。这将干扰电流空间矢量相对于转子的方向，从而引起与正交方向产生位移。</p><p>当产生这种情况时，通过一定量的电流可以产生较小的转矩，因此需要更多的电流来保持转矩。效率降低。</p><p>随着速度的增加，这种降低将会延续。在某种程度上，电流的相位位移超过 90 度。当产生这种情况时，转矩减至为零。通过正弦的结合，上面这点的速度导致了负转矩，因此也就无法实现。</p><p><strong>AC 电机控制算法</strong></p><p><strong>标量控制</strong></p><p>标量控制(或 V/Hz 控制)是一个控制指令电机速度的简单方法</p><p>指令电机的稳态模型主要用于获得技术，因此瞬态性能是不可能实现的。系统不具有电流回路。为了控制电机，三相电源只有在振幅和频率上变化。</p><p><strong>矢量控制或磁场定向控制</strong></p><p>在电动机中的转矩随着定子和转子磁场的功能而变化，并且当两个磁场互相正交时达到峰值。在基于标量的控制中，两个磁场间的角度显著变化。</p><p>矢量控制设法在 AC 电机中再次创造正交关系。为了控制转矩，各自从产生磁通量中生成电流，以实现 DC 机器的响应性。</p><p>一个 AC 指令电机的矢量控制与一个单独的励磁 DC 电机控制相似。在一个 DC 电机中，由励磁电流 IF 所产生的磁场能量ΦF 与由电枢电流 IA 所产生的电枢磁通ΦA 正交。这些磁场都经过去耦并且相互间很稳定。因此，当电枢电流受控以控制转矩时，磁场能量仍保持不受影响，并实现了更快的瞬态响应。</p><p>三相 AC 电机的磁场定向控制(FOC)包括模仿 DC 电机的操作。所有受控变量都通过数学变换，被转换到 DC 而非 AC。其目标的独立的控制转矩和磁通。</p><p>磁场定向控制(FOC)有两种方法：</p><p>直接 FOC: 转子磁场的方向(Rotor flux angle) 是通过磁通观测器直接计算得到的</p><p>间接 FOC: 转子磁场的方向(Rotor flux angle) 是通过对转子速度和滑差(slip)的估算或测量而间接获得的。</p><p>矢量控制要求了解转子磁通的位置，并可以运用终端电流和电压(采用 AC 感应电机的动态模型)的知识，通过高级算法来计算。然而从实现的角度看，对于计算资源的需求是至关重要的。</p><p>可以采用不同的方式来实现矢量控制算法。前馈技术、模型估算和自适应控制技术都可用于增强响应和稳定性。</p><p><strong>AC 电机的矢量控制：深入了解</strong></p><p>矢量控制算法的核心是两个重要的转换: Clark 转换，Park 转换和它们的逆运算。采用 Clark 和 Park 转换，带来可以控制到转子区域的转子电流。这种做充许一个转子控制系统决定应供应到转子的电压，以使动态变化负载下的转矩最大化。</p><p>Clark 转换：Clark 数学转换将一个三相系统修改成两个座标系统：</p><img alt=干货｜常见电机控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/Rusxyf79JwotWu><p>其中 Ia 和 Ib 正交基准面的组成部分，Io 是不重要的 homoplanar 部分</p><img alt=干货｜常见电机控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/Rusxz2JJ5S5ob3><p>图 4：三相转子电流与转动参考系的关系</p><p>Park 转换：Park 数学转换将双向静态系统转换成转动系统矢量</p><p>两相α, β帧表示通过 Clarke 转换进行计算，然后输入到矢量转动模块，它在这里转动角θ，以符合附著于转子能量的 d, q 帧。根据上述公式，实现了角度θ的转换。</p><p><strong>AC 电机的磁场定向矢量控制的基本结构</strong></p><p>Clarke 变换采用三相电流 IA, IB 以及 IC，这两个在固定座标定子相中的电流被变换成 Isd 和 Isq，成为 Park 变换 d, q 中的元素。其通过电机通量模型来计算的电流 Isd, Isq 以及瞬时流量角θ被用来计算交流感应电机的电动扭矩。</p><img alt=干货｜常见电机控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/Rusxz386xVqCnm><p>图 5：矢量控制交流电机的基本原理</p><p>这些导出值与参考值相互比较，并由 PI 控制器更新。</p><img alt=干货｜常见电机控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/Rusxz3Y1BKvSf3><p>基于矢量的电机控制的一个固有优势是，可以采用同一原理，选择适合的数学模型去分别控制各种类型的 AC, PM-AC 或者 BLDC 电机。</p><p><strong>BLDC 电机的矢量控制</strong></p><p>BLDC 电机是磁场定向矢量控制的主要选择。采用了 FOC 的无刷电机可以获得更高的效率，最高效率可以达到 95%，并且对电机在高速时也十分有效率。</p><p><strong>步进电机控制</strong></p><img alt=干货｜常见电机控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/Rusxz412BDVjbV><p>步进电机控制通常采用双向驱动电流，其电机步进由按顺序切换绕组来实现。通常这种步进电机有 3 个驱动顺序：</p><p><strong>1. 单相全步进驱动：</strong></p><p>在这种模式中，其绕组按如下顺序加电，AB/CD/BA/DC (BA 表示绕组 AB 的加电是反方向进行的)。这一顺序被称为单相全步进模式，或者波驱动模式。在任何一个时间，只有一相加电。</p><p><strong>2. 双相全步进驱动：</strong></p><p>在这种模式中，双相一起加电，因此，转子总是在两个极之间。此模式被称为双相全步进，这一模式是两极电机的常态驱动顺序，可输出的扭矩最大。</p><p><strong>3. 半步进模式：</strong></p><p>这种模式将单相步进和双相步进结合在一起加电：单相加电，然后双相加电，然后单相加电…，因此，电机以半步进增量运转。这一模式被称为半步进模式，其电机每个励磁的有效步距角减少了一半，其输出的扭矩也较低。</p><p>以上 3 种模式均可用于反方向转动(逆时针方向)，如果顺序相反则不行。</p><p>通常，步进电机具有多极，以便减小步距角，但是，绕组的数量和驱动顺序是不变的。</p><p>通用 DC 电机控制算法</p><p>通用电机的速度控制，特别是采用 2 种电路的电机：</p><p>相角控制</p><p>PWM 斩波控制</p><p><strong>相角控制</strong></p><p>相角控制是通用电机速度控制的最简单的方法。通过 TRIAC 的点弧角的变动来控制速度。相角控制是非常经济的解决方案，但是，效率不太高，易于电磁干扰(EMI)。</p><img alt=干货｜常见电机控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RusxziF37UwZsk><p>通用电机的相角控制</p><p>以上示图表明了相角控制的机理，是 TRIAC 速度控制的典型应用。TRIAC 门脉冲的周相移动产生了有效率的电压，从而产生了不同的电机速度，并且采用了过零交叉检测电路，建立了时序参考，以延迟门脉冲。</p><p><strong>PWM 斩波控制</strong></p><p>PWM 控制是通用电机速度控制的，更先进的解决方案。在这一解决方案中，功率 MOFSET，或者 IGBT 接通高频整流 AC 线电压，进而为电机产生随时间变化的电压。</p><img alt=干货｜常见电机控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/Rusxzis8YgvVLF><p>通用电机的 PWM 斩波控制</p><p>其开关频率范围一般为 10-20 KHz，以消除噪声。这一通用电机的控制方法可以获得更佳的电流控制和更佳的 EMI 性能，因此，效率更高。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'干货','常见','电机'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>