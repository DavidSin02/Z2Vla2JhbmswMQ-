<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>「正点原子NANO STM32开发板资料连载」第二十七 数字温度传感器 | 极客快訊</title><meta property="og:title" content="「正点原子NANO STM32开发板资料连载」第二十七 数字温度传感器 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/9d1edd66723f4966b44d3cab502c055f"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9f952aeb.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9f952aeb.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9f952aeb.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9f952aeb.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9f952aeb.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9f952aeb.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9f952aeb.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9f952aeb.html><meta property="article:published_time" content="2020-11-14T21:07:27+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:27+08:00"><meta name=Keywords content><meta name=description content="「正点原子NANO STM32开发板资料连载」第二十七 数字温度传感器"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/9f952aeb.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>「正点原子NANO STM32开发板资料连载」第二十七 数字温度传感器</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>1）实验平台：alientek NANO STM32F411 V1开发板</strong></p><p><strong>2）摘自《正点原子STM32F4 开发指南（HAL 库版》关注官方微信号公众号，获取更多资料：正点原子</strong></p><div class=pgc-img><img alt="「正点原子NANO STM32开发板资料连载」第二十七 数字温度传感器" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9d1edd66723f4966b44d3cab502c055f><p class=pgc-img-caption></p></div><p><strong>第二十七章 DS18B20 数字温度传感器实验</strong></p><p>本章我们将向大家介绍如何通过 STM32 来读取外部数字温度传感器的温度，来得到较为准确的环境温度。在本章中，我们将学习使用单总线技术，通过它来实现 STM32 和外部温度传感器（DS18B20）的通信，并把从温度传感器得到的温度显示在数码管上。本章分为如下几个部分：</p><p>27.1 DS18B20 简介</p><p>27.2 硬件设计</p><p>27.3 软件设计</p><p>27.4 下载验证</p><p><strong>27.1 DS18B20 简介</strong></p><p>DS18B20 是由 DALLAS 半导体公司推出的一种的“一线总线”接口的温度传感器。与传统的热敏电阻等测温元件相比，它是一种新型的体积小、适用电压宽、与微处理器接口简单的数字化温度传感器。一线总线结构具有简洁且经济的特点，可使用户轻松地组建传感器网络，从而为测量系统的构建引入全新概念，测量温度范围为-55~+125℃ ，精度为±0．5℃。现场温度直接以“一线总线”的数字方式传输，大大提高了系统的抗干扰性。它能直接读出被测温度，并且可根据实际要求通过简单的编程实现 9~l2 位的数字值读数方式。它工作在 3—5．5 V 的电压范围，采用多种封装形式，从而使系统设计灵活、方便，设定分辨率及用户设定的报警温度存储在 EEPROM 中，掉电后依然保存。其内部结构如图 27.1.1 所示：</p><div class=pgc-img><img alt="「正点原子NANO STM32开发板资料连载」第二十七 数字温度传感器" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/06f383a9e51d4b8d8b942d82d2f3f8c0><p class=pgc-img-caption>图 27.1.1 DS18B20 内部结构图</p></div><p>ROM 中的 64 位序列号是出厂前被光记好的，它可以看作是该 DS18B20 的地址序列码，每DS18B20 的 64 位序列号均不相同。64 位 ROM 的排列是：前 8 位是产品家族码，接着 48 位是DS18B20 的序列号，最后 8 位是前面 56 位的循环冗余校验码(CRC=X8+X5 +X4 +1)。ROM 作用是使每一个 DS18B20 都各不相同，这样就可实现一根总线上挂接多个。</p><p>所有的单总线器件要求采用严格的信号时序，以保证数据的完整性。DS18B20 共有 6 种信号类型：复位脉冲、应答脉冲、写 0、写 1、读 0 和读 1。所有这些信号，除了应答脉冲以外，都由主机发出同步信号。并且发送所有的命令和数据都是字节的低位在前。这里我们简单介绍这几个信号的时序：</p><p><strong>1）复位脉冲和应答脉冲</strong></p><p>单总线上的所有通信都是以初始化序列开始。主机输出低电平，保持低电平时间至少 480</p><p>us，，以产生复位脉冲。接着主机释放总线，4.7K 的上拉电阻将单总线拉高，延时 15～60 us，</p><p>并进入接收模式(Rx)。接着 DS18B20 拉低总线 60~240 us，以产生低电平应答脉冲，若为低电平，再延时 480 us。</p><p><strong>2）写时序</strong></p><p>写时序包括写 0 时序和写 1 时序。所有写时序至少需要 60us，且在 2 次独立的写时序之间</p><p>至少需要 1us 的恢复时间，两种写时序均起始于主机拉低总线。写 1 时序：主机输出低电平，</p><p>延时 2us，然后释放总线，延时 60us。写 0 时序：主机输出低电平，延时 60us，然后释放总线，</p><p>延时 2us。</p><p><strong>3）读时序</strong></p><p>单总线器件仅在主机发出读时序时，才向主机传输数据，所以，在主机发出读数据命令后，</p><p>必须马上产生读时序，以便从机能够传输数据。所有读时序至少需要 60us，且在 2 次独立的读</p><p>时序之间至少需要 1us 的恢复时间。每个读时序都由主机发起，至少拉低总线 1us。主机在读</p><p>时序期间必须释放总线，并且在时序起始后的 15us 之内采样总线状态。典型的读时序过程为：</p><p>主机输出低电平延时 2us，然后主机转入输入模式延时 12us，然后读取单总线当前的电平，然</p><p>后延时 50us。</p><p>在了解了单总线时序之后，我们来看看 DS18B20 的典型温度读取过程，DS18B20 的典型</p><p>温度读取过程为：复位发 SKIP ROM 命令（0XCC）发开始转换命令（0X44）延时复</p><p>位发送 SKIP ROM 命令（0XCC）发读存储器命令（0XBE）连续读出两个字节数据(即</p><p>温度)结束。</p><p>DS18B20 的介绍就到这里，更详细的介绍，请大家参考 DS18B20 的技术手册。</p><p><strong>27.2 硬件设计</strong></p><p>由于开发板上标准配置是没有 DS18B20 这个传感器的，只有接口，所以要做本章的实验，</p><p>大家必须找一个 DS18B20 插在预留的 18B20 接口上。</p><p>本章实验功能简介：开机的时候先检测是否有 DS18B20 存在，如果没有，则提示错误。</p><p>只有在检测到 DS18B20 之后才开始读取温度并显示在 LCD 上，如果发现了 DS18B20，则程</p><p>序每隔 100ms 左右读取一次数据，并把温度显示在 LCD 上。同样我们也是用 DS0 来指示程序</p><p>正在运行。</p><p>所要用到的硬件资源如下：</p><p>1） 指示灯 DS0、DS3</p><p>2） 数码管</p><p>3） DS18B20 温度传感器</p><p>前两部分，在之前的实例已经介绍过了，而DS18B20温度传感器属于外部器件（板上没有</p><p>直接焊接），这里也不介绍。本章，我们仅介绍DS18B20接口和STM32的连接电路，如图26.2.1</p><p>所示：</p><div class=pgc-img><img alt="「正点原子NANO STM32开发板资料连载」第二十七 数字温度传感器" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c229052f440d4cd89f758b256b8b1ba8><p class=pgc-img-caption>图 27.2.1 DS18B20 接口与 STM32 的连接电路图</p></div><p>从上图可以看出，我们使用的是 STM32 的 PB9 来连接 U2 的 1WIRE_DQ 引脚，图中 U2</p><p>为 DHT11（数字温湿度传感器）和 DS18B20 共用的一个接口，DHT11 我们将在下一章介绍。</p><p>DS18B20 只用到 U2 的 3 个引脚（U2 的 1、2 和 3 脚），将 DS18B20 传感器插入到这个上</p><p>面就可以通过 STM32 来读取 DS18B20 的温度了。连接示意图如图 27.2.2 所示：</p><div class=pgc-img><img alt="「正点原子NANO STM32开发板资料连载」第二十七 数字温度传感器" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2136e1e444f84f5388a25dff0c9feadd><p class=pgc-img-caption>图 27.2.2 DS18B20 连接示意图</p></div><p><strong>注意：</strong>DS18B20 的平面部分（有字的那面）应该朝内，而曲面部分朝外。然后插入如图所</p><p>示的三个孔内。</p><p><strong>27.3 软件设计</strong></p><p>打开我们的 DS18B20 数字温度传感器实验工程可以看到我们添加了 ds18b20.c 文件以及其</p><p>头文件 ds18b20.h 文件，所有 ds18b20 驱动代码和相关定义都分布在这两个文件中。</p><p>打开 ds18b20.c，该文件代码如下：</p><p>//复位 DS18B20</p><p>void DS18B20_Rst(void)</p><p>{</p><p>DS18B20_IO_OUT();</p><p>//设置为输出</p><p>DS18B20_DQ_OUT=0;</p><p>//拉低 DQ</p><p>delay_us(750);</p><p>//拉低 750us</p><p>DS18B20_DQ_OUT=1;</p><p>//DQ=1</p><p>delay_us(15);</p><p>//15US</p><p>}</p><p>//等待 DS18B20 的回应</p><p>//返回 1:未检测到 DS18B20 的存在</p><p>//返回 0:存在</p><p>u8 DS18B20_Check(void)</p><p>{</p><p>u8 retry=0;</p><p>DS18B20_IO_IN();</p><p>//设置为输入</p><p>while (DS18B20_DQ_IN&&retry&lt;200)</p><p>{</p><p>retry++;</p><p>delay_us(1);</p><p>};</p><p>if(retry>=200)return 1;</p><p>else retry=0;</p><p>while (!DS18B20_DQ_IN&&retry&lt;240)</p><p>{</p><p>retry++;</p><p>delay_us(1);</p><p>};</p><p>if(retry>=240)return 1;</p><p>return 0;</p><p>}</p><p>//从 DS18B20 读取一个位</p><p>//返回值：1/0</p><p>u8 DS18B20_Read_Bit(void)</p><p>{</p><p>u8 data;</p><p>DS18B20_IO_OUT();</p><p>//设置为输出</p><p>DS18B20_DQ_OUT=0;</p><p>delay_us(2);</p><p>DS18B20_DQ_OUT=1;</p><p>DS18B20_IO_IN();</p><p>//设置为输入</p><p>delay_us(12);</p><p>if(DS18B20_DQ_IN)data=1;</p><p>else data=0;</p><p>delay_us(50);</p><p>return data;</p><p>}</p><p>//从 DS18B20 读取一个字节</p><p>//返回值：读到的数据</p><p>u8 DS18B20_Read_Byte(void)</p><p>{</p><p>u8 i,j,dat;</p><p>dat=0;</p><p>for (i=1;i&lt;=8;i++)</p><p>{</p><p>j=DS18B20_Read_Bit();</p><p>dat=(j&lt;&lt;7)|(dat>>1);</p><p>}</p><p>return dat;</p><p>}</p><p>//写一个字节到 DS18B20</p><p>//dat：要写入的字节</p><p>void DS18B20_Write_Byte(u8 dat)</p><p>{</p><p>u8 j;</p><p>u8 testb;</p><p>DS18B20_IO_OUT();</p><p>//设置为输出</p><p>for (j=1;j&lt;=8;j++)</p><p>{</p><p>testb=dat&amp;0x01;</p><p>dat=dat>>1;</p><p>if(testb)</p><p>// 写 1</p><p>{</p><p>DS18B20_DQ_OUT=0;</p><p>delay_us(2);</p><p>DS18B20_DQ_OUT=1;</p><p>delay_us(60);</p><p>}</p><p>else</p><p>//写 0</p><p>{</p><p>DS18B20_DQ_OUT=0;</p><p>delay_us(60);</p><p>DS18B20_DQ_OUT=1;</p><p>delay_us(2);</p><p>}</p><p>}</p><p>}</p><p>//开始温度转换</p><p>void DS18B20_Start(void)</p><p>{</p><p>DS18B20_Rst();</p><p>DS18B20_Check();</p><p>DS18B20_Write_Byte(0xcc);// skip rom</p><p>DS18B20_Write_Byte(0x44);// convert</p><p>}</p><p>//初始化 DS18B20 的 IO 口 DQ 同时检测 DS 的存在</p><p>//返回 1:不存在</p><p>//返回 0:存在</p><p>u8 DS18B20_Init(void)</p><p>{</p><p>GPIO_InitTypeDef GPIO_Initure;</p><p>__HAL_RCC_GPIOB_CLK_ENABLE();</p><p>//开启 GPIB 时钟</p><p>GPIO_Initure.Pin=GPIO_PIN_9;</p><p>//PB9</p><p>GPIO_Initure.Mode=GPIO_MODE_OUTPUT_PP;//推挽输出</p><p>GPIO_Initure.Pull=GPIO_PULLUP;</p><p>//上拉</p><p>GPIO_Initure.Speed=GPIO_SPEED_HIGH;</p><p>//高速</p><p>HAL_GPIO_Init(GPIOB,&GPIO_Initure);</p><p>//初始化</p><p>DS18B20_Rst();</p><p>return DS18B20_Check();</p><p>}</p><p>//从 ds18b20 得到温度值</p><p>//精度：0.1C</p><p>//返回值：温度值 （-550~1250）</p><p>short DS18B20_Get_Temp(void)</p><p>{</p><p>u8 temp;</p><p>u8 TL,TH;</p><p>short tem;</p><p>DS18B20_Start ();</p><p>//开始转换</p><p>DS18B20_Rst();</p><p>DS18B20_Check();</p><p>DS18B20_Write_Byte(0xcc);</p><p>// skip rom</p><p>DS18B20_Write_Byte(0xbe);</p><p>// convert</p><p>TL=DS18B20_Read_Byte();</p><p>// LSB</p><p>TH=DS18B20_Read_Byte();</p><p>// MSB</p><p>if(TH>7)</p><p>{</p><p>TH=~TH;</p><p>TL=~TL;</p><p>temp=0;//温度为负</p><p>}else temp=1;//温度为正</p><p>tem=TH; //获得高八位</p><p>tem&lt;&lt;=8;</p><p>tem+=TL;//获得底八位</p><p>tem=(double)tem*0.625;//转换</p><p>if(temp)return tem; //返回温度值</p><p>else return -tem;</p><p>}</p><p>该部分代码就是根据我们前面介绍的单总线操作时序来读取 DS18B20 的温度值的，</p><p>DS18B20</p><p>的温度通过 DS18B20_Get_Temp 函数读取，该函数的返回值为带符号的短整形数据，返回值的</p><p>范围为-550~1250，其实就是温度值扩大了 10 倍。</p><p>然后我们打开 ds18b20.h，该文件下面主要是一些 IO 口位带操作定义以及函数申明，没有</p><p>什么特别需要讲解的地方。最后打开 main.c，该文件代码如下：</p><p>// 共阴数字数组</p><p>// 0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F, .,全灭</p><p>u8 smg_num[]={0xfc,0x60,0xda,0xf2,0x66,0xb6,0xbe,0xe0,0xfe,</p><p>0xf6,0xee,0x3e,0x9c,0x7a,0x9e,0x8e,0x01,0x00};</p><p>short temperature;//温度值</p><p>u8 smg_wei=4;//数码管位选</p><p>u8 num=0;//数码管数值</p><p>u16 led_t=0;//led 时间</p><p>u16 temp_t=0;//采样时间</p><p>u8 flag=0;//温度正负标志位</p><p>int main(void)</p><p>{</p><p>HAL_Init();</p><p>//初始化 HAL 库</p><p>Stm32_Clock_Init(96,4,2,4);</p><p>//设置时钟,96Mhz</p><p>delay_init(96);</p><p>//初始化延时函数</p><p>LED_Init();</p><p>//初始化 LED</p><p>LED_SMG_Init();</p><p>//数码管初始化</p><p>uart_init(115200);</p><p>//串口初始化为 115200</p><p>printf("NANO STM32\r\n");</p><p>printf("DS18B20 TEST\r\n");</p><p>while(DS18B20_Init()) //DS18B20 初始化</p><p>{</p><p>printf("DS18B20 Error\r\n");</p><p>delay_ms(200);</p><p>LED3=!LED3;//LED3 闪烁表示 DS18B20 初始化失败</p><p>}</p><p>LED3=1;</p><p>printf("DS18B20 OK\r\n");</p><p>TIM3_Init(19,7199);</p><p>//数码管 2ms 定时显示</p><p>while(1)</p><p>{</p><p>}</p><p>}</p><p>//回调函数，定时器中断服务函数调用</p><p>void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim)</p><p>{</p><p>if(htim==(&TIM3_Handler))</p><p>{</p><p>temp_t++;</p><p>if(temp_t==500)//DS18B20 1S 采样</p><p>{</p><p>temp_t=0;</p><p>temperature=DS18B20_Get_Temp();//获取温度值</p><p>if(temperature&lt;0)//若温度为负数</p><p>{</p><p>temperature=-temperature;</p><p>flag=1;</p><p>}else flag=0;</p><p>}</p><p>switch(smg_wei)</p><p>{</p><p>case 4: if(flag)num = 0x02; //显示"-"以表示负温度</p><p>else num=0x00;</p><p>break;</p><p>case 5: num = smg_num[temperature/10/10];break; //温度值</p><p>case 6: num = smg_num[temperature/10%10]|0x01; break;</p><p>case 7: num =smg_num[temperature%10];break;</p><p>}</p><p>LED_Write_Data(num,smg_wei);//写数据到数码管</p><p>LED_Refresh();//更新显示</p><p>smg_wei++;</p><p>if(smg_wei==8) smg_wei=4;</p><p>led_t++;</p><p>if(led_t==250)//LED0 500ms 闪烁</p><p>{</p><p>led_t=0;</p><p>LED0=!LED0;</p><p>}</p><p>}</p><p>}</p><p>由于 DS18B20 的时序是使用软件时序操作的，为了不打扰时序操作，我们将读取温度放到</p><p>在定时器中断执行，以每隔 1S 时间采集温度，数码管同样是以 2ms 时间动态扫描显示采集的温</p><p>度值,DS0 以每 500ms 闪烁一次，以表示程序正在运行。</p><p>至此，我们本章的软件设计就结束了。</p><p><strong>27.4 下载验证</strong></p><p>在代码编译成功之后，我们通过下载代码到 ALIENTEK NANO STM32F4 开发板上，可以</p><p>看到数码管显示当前的温度值（假定 DS18B20 已经接上去了），如图 27.4.1 所示：</p><div class=pgc-img><img alt="「正点原子NANO STM32开发板资料连载」第二十七 数字温度传感器" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e92821386da54c6e810b6ff3bfa873e3><p class=pgc-img-caption>图 27.4.1 DS18B20 实验效果图</p></div><p>该程序还可以读取并显示负温度值的，只是由于本人在广州，是没办法看到了（除非放到</p><p>冰箱），具备条件的读者可以测试一下。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'感器','正点','NANO'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/1800ef39.html alt="「正点原子NANO STM32F103开发板资料连载第26章 数字温度传感器" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/9d1edd66723f4966b44d3cab502c055f style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/1800ef39.html title="「正点原子NANO STM32F103开发板资料连载第26章 数字温度传感器">「正点原子NANO STM32F103开发板资料连载第26章 数字温度传感器</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>