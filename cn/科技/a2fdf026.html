<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Javaè¾“å…¥è¾“å‡ºæµçŸ¥è¯†æ€»ç»“ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Javaè¾“å…¥è¾“å‡ºæµçŸ¥è¯†æ€»ç»“ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/a0f864db4f6e4b278ae6ed120d6be149"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a2fdf026.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a2fdf026.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a2fdf026.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a2fdf026.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a2fdf026.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a2fdf026.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a2fdf026.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a2fdf026.html><meta property="article:published_time" content="2020-10-29T21:09:47+08:00"><meta property="article:modified_time" content="2020-10-29T21:09:47+08:00"><meta name=Keywords content><meta name=description content="Javaè¾“å…¥è¾“å‡ºæµçŸ¥è¯†æ€»ç»“"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/a2fdf026.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Javaè¾“å…¥è¾“å‡ºæµçŸ¥è¯†æ€»ç»“</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p><strong>è¾“å…¥/è¾“å‡ºæµ</strong></p><p></p><p><img alt=Javaè¾“å…¥è¾“å‡ºæµçŸ¥è¯†æ€»ç»“ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a0f864db4f6e4b278ae6ed120d6be149></p><p><br></p><p><strong>1.Fileç±»</strong></p><p>Fileç±»å¯ä»¥ä½¿ç”¨æ–‡ä»¶è·¯å¾„å­—ç¬¦ä¸²æ¥åˆ›å»ºFileå®ä¾‹ï¼Œè¯¥æ–‡ä»¶è·¯å¾„å­—ç¬¦ä¸²å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ã€‚</p><p><strong>1.1è®¿é—®æ–‡ä»¶å</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>String getName()è¿”å›Fileå¯¹è±¡çš„æ–‡ä»¶åæˆ–è€…è·¯å¾„å</p></li><li><p>String getPath()è¿”å›Fileå¯¹è±¡å¯¹åº”çš„è·¯å¾„å</p></li><li><p>File getAbsoluteFile()è¿”å›Fileå¯¹è±¡çš„ç»å¯¹è·¯å¾„</p></li><li><p>String getAbsolutePath()è¿”å›Fileå¯¹è±¡çš„ç»å¯¹è·¯å¾„å</p></li><li><p>String getParent()è¿”å›Fileå¯¹è±¡çš„çˆ¶ç›®å½•</p></li><li><p>boolean renameTo(File newName)é‡å‘½åæ–‡ä»¶</p></li></ul><p>ä»£ç ç¤ºä¾‹:</p><pre>Â Â //è¿”å›Fileå¯¹è±¡çš„æ–‡ä»¶åæˆ–è€…è·¯å¾„åÂ Â StringÂ nameÂ =Â file.getName();Â Â System.out.println(name);Â Â //ç›¸å¯¹è·¯å¾„Â Â StringÂ pathÂ =Â file.getPath();Â Â System.out.println(path);Â Â //ç»å¯¹è·¯å¾„Â Â StringÂ f1Â =Â file.getAbsolutePath();Â Â System.out.println(f1);Â Â //ä¸Šä¸€çº§ç›®å½•Â Â StringÂ parentÂ =Â file.getParent();Â Â System.out.println(parent);Â Â //é‡å‘½åæ–‡ä»¶Â Â FileÂ file2Â Â =Â newÂ File("D://2019xx");Â Â booleanÂ b=Â file.renameTo(file2);Â Â System.out.println(b);Â Â //è¿”å›Fileå¯¹è±¡çš„ç»å¯¹è·¯å¾„Â Â FileÂ file3Â =Â file.getAbsoluteFile();Â Â System.out.println(file3);</pre><p><br></p><p><strong>1.2 æ–‡ä»¶æ£€æµ‹</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>boolean exists()åˆ¤æ–­Fileå¯¹è±¡æ‰€å¯¹åº”çš„æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å­˜åœ¨</p></li><li><p>boolean canWrite()åˆ¤æ–­æ–‡ä»¶å’Œç›®å½•æ˜¯å¦å¯å†™</p></li><li><p>boolean canRead()åˆ¤æ–­æ–‡ä»¶å’Œç›®å½•æ˜¯å¦å¯è¯»</p></li><li><p>boolean isFile()åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶</p></li><li><p>boolean isDirectory()åˆ¤æ–­æ˜¯å¦æ˜¯ç›®å½•</p></li><li><p>boolean isAbsolute()åˆ¤æ–­æ˜¯å¦æ˜¯ç»å¯¹è·¯å¾„</p></li><li><p>boolean isHidden()åˆ¤æ–­æ–‡ä»¶æ˜¯å¦éšè—</p></li></ul><p>ä»£ç ç¤ºä¾‹:</p><pre>Â Â //åˆ¤æ–­å¯è¯»Â Â System.out.println(file.canRead());Â Â //åˆ¤æ–­å¯å†™Â Â System.out.println(file.canWrite());Â Â //åˆ¤æ–­æ˜¯å¦å­˜åœ¨Â Â System.out.println(file.exists());Â Â Â Â //åˆ¤æ–­æ˜¯å¦æ˜¯ç»å¯¹çš„Â Â System.out.println(file.isAbsolute());Â Â //åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶Â Â System.out.println(file.isFile());Â Â //åˆ¤æ–­æ˜¯å¦æ˜¯ç›®å½•Â Â System.out.println(file.isDirectory());Â Â //åˆ¤æ–­æ˜¯å¦æ˜¯éšè—æ–‡ä»¶Â Â System.out.println(file.isHidden());</pre><p><br></p><p><strong>1.3 è·å–æ–‡ä»¶ä¿¡æ¯</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>long lastModified()æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´</p></li><li><p>long length()è·å–æ–‡ä»¶é•¿åº¦</p></li></ul><p>ä»£ç ç¤ºä¾‹:</p><pre>Â Â FileÂ file=Â newÂ File("D://1//2//111.txt");Â Â //æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´Â Â longÂ lÂ =Â file.lastModified();Â Â DateÂ d=Â newÂ Date(l);Â Â Â SimpleDateFormatÂ s=Â newÂ SimpleDateFormat("yyyy-MM-ddÂ HH:mm:ss");Â Â StringÂ stringÂ =Â s.format(d);Â Â System.out.println(string);Â Â //è·å–æ–‡ä»¶é•¿åº¦Â Â longÂ lengthÂ =Â file.length();Â Â System.out.println(length);</pre><p><br></p><p><strong>1.4æ–‡ä»¶æ“ä½œ</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>boolean createNewFile()å½“Fileå¯¹è±¡å¯¹åº”çš„æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œ è¯¥æ–¹æ³•æ–°å»ºä¸€ä¸ªFileå¯¹è±¡æŒ‡å®šçš„æ–°æ–‡ä»¶ã€‚æˆåŠŸè¿”å›true</p></li><li><p>boolean delete()åˆ é™¤æ–‡ä»¶</p></li></ul><p>ä»£ç ç¤ºä¾‹:</p><pre>publicÂ staticÂ voidÂ main(String[]Â args)Â throwsÂ IOExceptionÂ {Â Â FileÂ fileÂ =Â newÂ File("D://1//2//3");Â Â //åˆ›å»ºæ–‡ä»¶å¤¹Â Â booleanÂ bÂ =Â file.mkdirs();Â Â System.out.println(b);Â Â Â //åˆ é™¤æ–‡ä»¶Â Â booleanÂ deleteÂ =Â file.delete();Â Â System.out.println(delete);Â Â FileÂ f1Â =Â newÂ File("D://1//2//1.png");Â Â //å½“Fileå¯¹è±¡å¯¹åº”çš„æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œè¯¥æ–¹æ³•æ–°å»ºä¸€ä¸ªFileå¯¹è±¡æŒ‡å®šçš„æ–°æ–‡ä»¶ã€‚æˆåŠŸè¿”å›trueÂ Â booleanÂ b1Â =Â f1.createNewFile();Â Â Â System.out.println(b1);Â Â }</pre><p><strong>1.5 ç›®å½•æ“ä½œ</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>boolean mkdir()åˆ›å»ºæ–°ç›®å½•</p></li><li><p>boolean mkdirs()åˆ›å»ºå¤šå±‚ç›®å½•</p></li><li><p>String[] list()åˆ—å‡ºFileå¯¹è±¡å­æ–‡ä»¶åå’Œè·¯å¾„åï¼Œè¿”å›Stringæ•°ç»„</p></li><li><p>File[] listFiles()åˆ—å‡ºFileå¯¹è±¡çš„æ‰€æœ‰å­æ–‡ä»¶å’Œè·¯å¾„</p></li><li><p>static File[] listRoots()è·å–ç³»ç»Ÿæ ¹è·¯å¾„(è·å–åˆ†åŒº)</p></li></ul><p>ä»£ç ç¤ºä¾‹:</p><pre>Â Â //åˆ›å»ºä¸€å±‚æ–‡ä»¶å¤¹Â Â booleanÂ bÂ =Â file.mkdir();Â Â System.out.println(b);Â Â //åˆ›å»ºå¤šå±‚æ–‡ä»¶å¤¹Â Â booleanÂ b1Â =Â file.mkdirs();Â Â System.out.println(b1);Â Â Â FileÂ fileÂ =Â newÂ File("D://2019px");Â Â //åªè·å–ç›®å½•å’Œæ–‡ä»¶åç§°Â Â String[]Â listÂ =Â file.list();Â Â forÂ (StringÂ stringÂ :Â list)Â {Â Â Â System.out.println(string);Â Â }Â Â Â Â //è·å–ç£ç›˜åˆ†åŒº(æ ¹ç›®å½•)Â Â File[]Â listRootsÂ =Â File.listRoots();Â Â forÂ (FileÂ file2Â :Â listRoots)Â {Â Â Â System.out.println(file2);Â Â }Â Â Â Â Â Â //è·å–ç›®å½•çš„å­ç›®å½•,æ–‡ä»¶Â Â File[]Â filesÂ =Â file.listFiles();Â Â forÂ (FileÂ f1Â :Â files)Â {Â Â Â System.out.println(f1);Â Â }</pre><p><strong>1.6 è·å–åˆ†åŒºå¤§å°</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>long getTotalSpace()è·å–åˆ†åŒºå¤§å°</p></li><li><p>long getFreeSpace()è·å–åˆ†åŒºç©ºé—²å¤§å°</p></li><li><p>long getUsableSpace()è·å–åˆ†åŒºå¯ç”¨å¤§å°</p></li></ul><p>ä»£ç ç¤ºä¾‹:</p><pre>Â Â FileÂ f1=Â newÂ File("D://");Â Â //è·å–åˆ†åŒºå¤§å°Â Â longÂ totalSpaceÂ =Â f1.getTotalSpace();Â Â System.out.println(totalSpace/1024/1024/1024);Â Â //è·å–åˆ†åŒºç©ºé—²å¤§å°Â Â Â Â longÂ freeSpaceÂ =Â f1.getFreeSpace();Â Â System.out.println(freeSpace/1024/1024/1024);Â Â //è·å–åˆ†åŒºå¯ç”¨å¤§å°Â Â longÂ usableSpaceÂ =Â f1.getUsableSpace();Â Â System.out.println(usableSpace/1024/1024/1024);</pre><p><br></p><p><strong>2.InputStreamå’ŒOutputStream</strong></p><p><strong>2.1FileInputStream</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>FileInputSteam(File f)æ„é€ æ–¹æ³•ï¼Œä¼ å…¥Fileå¯¹è±¡</p></li><li><p>FileInputSteam(String path)æ„é€ æ–¹æ³•ï¼Œä¼ å…¥æ–‡ä»¶è·¯å¾„</p></li><li><p>int read()ä¸€æ¬¡è¯»1å­—èŠ‚ï¼Œé€ä¸ªè¯»å–ï¼Œæ–‡ä»¶æœ«å°¾è¿”å›-1</p></li><li><p>int read(byte[] b)ä¸€æ¬¡è¯»å–b.lengthé•¿åº¦å­—èŠ‚</p></li><li><p>int read( byte[ ] b,int offset,int len)ä»è¾“å…¥æµä¸­è¯»å–æœ€å¤šlené•¿åº¦çš„å­—èŠ‚, ä¿å­˜åˆ°å­—èŠ‚æ•°ç»„bä¸­, ä¿å­˜çš„ä½ç½®ä»offsetå¼€å§‹</p></li><li><p>void close()å…³é—­æ­¤è¾“å…¥æµå¹¶é‡Šæ”¾ä¸æµç›¸å…³è”çš„ä»»ä½•ç³»ç»Ÿèµ„æºã€‚</p></li><li><p>int available()è¿”å›ä»è¯¥è¾“å…¥æµä¸­å¯ä»¥è¯»å–ï¼ˆæˆ–è·³è¿‡ï¼‰çš„å­—èŠ‚æ•°çš„ä¼°è®¡å€¼ï¼Œ è€Œä¸ä¼šè¢«ä¸‹ä¸€æ¬¡è°ƒç”¨æ­¤è¾“å…¥æµçš„æ–¹æ³•é˜»å¡ã€‚</p></li></ul><p>ä»£ç ç¤ºä¾‹:</p><pre>publicÂ staticÂ voidÂ main(String[]Â args)Â {Â Â FileInputStreamÂ fisÂ =Â null;Â Â tryÂ {Â Â Â FileÂ fileÂ =Â newÂ File("D://1//2//111.txt");Â Â Â fisÂ =Â newÂ FileInputStream(file);Â Â Â //fis.available()åˆ¤æ–­æ–‡ä»¶å¯è¯»å–çš„å­—èŠ‚æ•°Â Â Â Â Â Â Â Â Â Â Â Â //åˆ©ç”¨ç¼“å†²åŒºbyteæ•°ç»„åŠ å¿«è¾“å‡ºé€Ÿç‡Â Â Â byte[]Â bsÂ =Â newÂ byte[fis.available()];Â Â Â intÂ i;Â Â Â Â Â Â Â Â Â Â Â Â ////è¯»å–ä¸‹ä¸€ä¸ªå­—èŠ‚æ•°æ®,å¹¶å­˜å…¥ç¼“å†²åŒºæ•°ç»„ä¸­,è¿”å›å®é™…è¯»å–çš„å­—èŠ‚æ•°Â Â Â whileÂ ((iÂ =Â fis.read(bs))Â &gt;Â -1)Â {Â Â Â Â //å°†byteæ•°ç»„è½¬æ¢ä¸ºStringç±»å‹Â Â Â Â System.out.println(newÂ String(bs));Â Â Â }Â Â }Â catchÂ (FileNotFoundExceptionÂ e)Â {Â Â Â e.printStackTrace();Â Â }Â catchÂ (IOExceptionÂ e)Â {Â Â Â e.printStackTrace();Â Â }Â finallyÂ {Â Â Â tryÂ {Â Â Â Â fis.close();Â Â Â }Â catchÂ (IOExceptionÂ e)Â {Â Â Â Â e.printStackTrace();Â Â Â }Â Â }Â }</pre><p><br></p><p><strong>2.2FileOutputStream</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>FileOutputStream(File file)åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµä»¥å†™å…¥ç”±æŒ‡å®šçš„Fileå¯¹è±¡è¡¨ç¤ºçš„æ–‡ä»¶</p></li><li><p>FileOutputStream(File file, boolean append)åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµä»¥å†™å…¥ç”±æŒ‡å®šçš„Fileå¯¹è±¡è¡¨ç¤ºçš„æ–‡ä»¶</p></li><li><p>FileOutputStream(String name)åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµä»¥æŒ‡å®šçš„åç§°å†™å…¥æ–‡ä»¶</p></li><li><p>FileOutputStream(String name, boolean append)åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµä»¥æŒ‡å®šçš„åç§°å†™å…¥æ–‡ä»¶</p></li><li><p>void write()å°†æŒ‡å®šçš„å­—èŠ‚æ•°æ®å†™å…¥æ­¤è¾“å‡ºæµä¸­</p></li><li><p>void write( byte[ ] b )å°†b.lengthä¸ªå­—èŠ‚ä»æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å†™å…¥æ­¤æ–‡ä»¶è¾“å‡ºæµ</p></li><li><p>void write( byte[ ] b , int offset , int len )å°†lenå­—èŠ‚ä»ä½äºåç§»é‡ offsetçš„æŒ‡å®šå­—èŠ‚æ•°ç»„å†™å…¥æ­¤æ–‡ä»¶è¾“å‡ºæµ</p></li><li><p>void close()å…³é—­æ­¤æ–‡ä»¶è¾“å‡ºæµå¹¶é‡Šæ”¾ä¸æ­¤æµç›¸å…³è”çš„ä»»ä½•ç³»ç»Ÿèµ„æº</p></li></ul><p>ä»£ç ç¤ºä¾‹:</p><pre>publicÂ classÂ OutputTest1Â {Â publicÂ staticÂ voidÂ printFile(FileÂ file)Â throwsÂ IOExceptionÂ {Â Â //trueè¡¨ç¤ºåœ¨æ–‡æœ¬æœ«å°¾æ·»åŠ æ•°æ®,ä¸ºfalseè¡¨ç¤ºå¤ç›–æºæ–‡ä»¶å†…å®¹Â Â FileOutputStreamÂ fosÂ =Â newÂ FileOutputStream("D://1//log1.txt",Â true);Â Â //å¦‚è‹¥æ–‡ä»¶å¤¹ä¸å­˜åœ¨,åˆ™åˆ›å»ºÂ Â FileÂ f1Â =Â newÂ File("D://1//");Â Â ifÂ (!(f1.exists()))Â {Â Â Â f1.mkdir();Â Â }Â Â //å¦‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨,åˆ™åˆ›å»ºÂ Â FileÂ f2Â =Â newÂ File("D://1//log1.txt");Â Â ifÂ (!(f2.exists()))Â {Â Â Â f2.createNewFile();Â Â }Â Â ifÂ (file.isDirectory())Â {Â Â Â File[]Â filesÂ =Â file.listFiles();Â Â Â ifÂ (filesÂ ==Â null)Â {Â Â Â Â return;Â Â Â }Â Â Â forÂ (FileÂ file2Â :Â files)Â {Â Â Â Â byte[]Â bsÂ =Â (file2.getAbsolutePath()Â +Â "").getBytes();Â Â Â Â fos.write(bs);Â Â Â Â printFile(file2);Â Â Â }Â Â }Â Â fos.close();Â }Â publicÂ staticÂ voidÂ main(String[]Â args)Â throwsÂ IOExceptionÂ {Â Â //Â è·å–æ‰€æœ‰çš„æ ¹ç›®å½•Â Â longÂ sÂ =Â System.currentTimeMillis();Â Â //éå†æ‰€æœ‰ç£ç›˜åˆ†åŒºÂ /*Â File[]Â filesÂ =Â File.listRoots();Â Â forÂ (intÂ iÂ =Â 0;Â iÂ &lt;Â files.length;Â i++)Â {Â Â Â tryÂ {Â Â Â Â printFile(files[i]);Â Â Â }Â catchÂ (IOExceptionÂ e1)Â {Â Â Â Â e1.printStackTrace();Â Â Â }Â Â }*/Â Â printFile(newÂ File("D://"));Â Â longÂ eÂ =Â System.currentTimeMillis();Â Â System.out.println("è€—æ—¶"+(eÂ -Â s)Â /Â 1000+"ç§’");Â }}</pre><p><br></p><p><strong>2.4BufferedInputStream</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>BufferedInputStream(InputStream in)åˆ›å»ºä¸€ä¸ª</p></li><li><p>BufferedInputStreamå¹¶ä¿å­˜å…¶å‚æ•°ï¼Œè¾“å…¥æµ</p></li><li><p>inint available()è¿”å›ä»è¯¥è¾“å…¥æµä¸­å¯ä»¥è¯»å–ï¼ˆæˆ–è·³è¿‡ï¼‰çš„å­—èŠ‚æ•°çš„ä¼°è®¡å€¼ è€Œä¸ä¼šè¢«ä¸‹ä¸€æ¬¡è°ƒç”¨æ­¤è¾“å…¥æµçš„æ–¹æ³•é˜»å¡</p></li><li><p>int read()è¯»å–1å­—èŠ‚æ–‡ä»¶</p></li><li><p>int read(byte[ ] b)è¯»å–b.lengthé•¿åº¦çš„å­—èŠ‚æ•°æ®</p></li><li><p>int read(byte[ ] b, int off, int len)ä»ç»™å®šçš„åç§»å¼€å§‹ï¼Œå°†å­—èŠ‚è¾“å…¥æµä¸­çš„å­—èŠ‚è¯»å…¥æŒ‡å®šçš„å­—èŠ‚æ•°ç»„</p></li><li><p>void close()å…³é—­æ­¤è¾“å…¥æµå¹¶é‡Šæ”¾ä¸æµç›¸å…³è”çš„ä»»ä½•ç³»ç»Ÿèµ„æºã€‚</p></li></ul><p><br></p><p>ä»£ç ç¤ºä¾‹:</p><pre>publicÂ staticÂ voidÂ main(String[]Â args)Â {Â Â FileInputStreamÂ fisÂ =Â null;Â Â BufferedInputStreamÂ bisÂ =Â null;Â Â tryÂ {Â Â Â //å®šä¹‰è¯»å–å¯¹è±¡Â Â Â fisÂ =Â newÂ FileInputStream("D://1//2.txt");Â Â Â //ç¼“å­˜è¾“è¯»å–æµåŒ…è£…è¾“å‡ºè¯»å–çš„å¯¹è±¡Â Â Â bisÂ =Â newÂ BufferedInputStream(fis);Â Â Â intÂ iÂ =Â 0;Â Â Â //bis.available()åˆ¤æ–­æ–‡ä»¶å¯è¯»å–çš„å­—èŠ‚æ•°Â Â Â byte[]Â bsÂ =Â newÂ byte[bis.available()];Â Â Â whileÂ ((iÂ =Â bis.read(bs))Â &gt;Â -1)Â {Â Â Â Â //Â å°†byteæ•°ç»„è£…æ¢ä¸ºStringç±»å‹Â Â Â Â StringÂ stringÂ =Â newÂ String(bs);Â Â Â Â System.out.println(string);Â Â Â Â Â Â Â }Â Â }Â catchÂ (FileNotFoundExceptionÂ e)Â {Â Â Â e.printStackTrace();Â Â }Â catchÂ (IOExceptionÂ e)Â {Â Â Â e.printStackTrace();Â Â }Â finallyÂ {Â Â Â tryÂ {Â Â Â Â fis.close();Â Â Â Â bis.close();Â Â Â }Â catchÂ (IOExceptionÂ e)Â {Â Â Â Â e.printStackTrace();Â Â Â }Â Â }Â }</pre><p><br></p><p><strong>2.5BufferedOutputStream</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>BufferedOutputStream(OutputStream out)åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²è¾“å‡ºæµï¼Œä»¥å°†æ•°æ®å†™å…¥æŒ‡å®šçš„åº•å±‚è¾“å‡ºæµ</p></li><li><p>void flush()åˆ·æ–°ç¼“å†²è¾“å‡ºæµ</p></li><li><p>void write(int b)å°†æŒ‡å®šçš„å­—èŠ‚å†™å…¥ç¼“å†²çš„è¾“å‡ºæµ</p></li><li><p>void write(byte[] b)å°†b.lengthä¸ªå­—èŠ‚ä»æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å†™å…¥æ­¤æ–‡ä»¶è¾“å‡ºæµ</p></li><li><p>void write(byte[] b, int off, int len)ä»æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å†™å…¥lenä¸ªå­—èŠ‚ï¼Œ ä»åç§» offå¼€å§‹åˆ°ç¼“å†²çš„è¾“å‡ºæµ</p></li></ul><p>ä»£ç ç¤ºä¾‹:</p><pre>Â publicÂ staticÂ voidÂ main(String[]Â args)Â {Â Â FileOutputStreamÂ fosÂ =Â null;Â Â BufferedOutputStreamÂ bosÂ =Â null;Â Â tryÂ {Â Â Â //å®šä¹‰å†™å…¥å¯¹è±¡Â Â Â fosÂ =Â newÂ FileOutputStream("D:/1/3.txt",true);Â Â Â //ç¼“å­˜è¾“å‡ºæµåŒ…è£…è¾“å‡ºå†™å…¥å¯¹è±¡Â Â Â bosÂ =Â newÂ BufferedOutputStream(fos);Â Â Â StringÂ sÂ =Â newÂ String("è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®,å¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢.");Â Â Â //å°†å­—ç¬¦ä¸²è£…æ¢æˆByteæ•°ç»„Â Â Â byte[]Â bytesÂ =Â s.getBytes();Â Â Â //ä»¥bytes.lengthé•¿åº¦å†™å…¥æ–‡ä»¶Â Â Â bos.write(bytes);Â Â Â Â Â //å†™å…¥æ–‡ä»¶Â Â Â //bos.write(bytes,Â 0,Â bytes.length);Â Â }Â catchÂ (IOExceptionÂ e)Â {Â Â Â //Â TODO:Â handleÂ exceptionÂ Â Â e.printStackTrace();Â Â }Â finallyÂ {Â Â Â tryÂ {Â Â Â Â bos.flush();Â Â Â Â fos.close();Â Â Â Â bos.close();Â Â Â }Â catchÂ (IOExceptionÂ e)Â {Â Â Â Â e.printStackTrace();Â Â Â }Â Â }Â }</pre><pre>Â publicÂ staticÂ voidÂ main(String[]Â args)Â {Â Â InputStreamÂ isÂ =Â null;Â Â BufferedInputStreamÂ bisÂ =Â null;Â Â OutputStreamÂ osÂ =Â null;Â Â BufferedOutputStreamÂ bosÂ =Â null;Â Â Â Â tryÂ {Â Â Â isÂ =Â newÂ FileInputStream("D://zl//myeclipse10.zip");Â Â Â bisÂ =Â newÂ BufferedInputStream(is);Â Â Â osÂ =Â newÂ FileOutputStream("D://1//2//1.zip");Â Â Â bosÂ =Â newÂ BufferedOutputStream(os);Â Â Â intÂ i;Â Â Â byte[]Â bsÂ =Â newÂ byte[1024Â *Â 2];Â Â Â longÂ sÂ =Â System.currentTimeMillis();Â Â Â whileÂ ((iÂ =Â bis.read(bs))Â &gt;Â -1)Â {Â Â Â Â bos.write(bs);Â Â Â }Â Â Â longÂ eÂ =Â System.currentTimeMillis();Â Â Â System.out.println("è€—æ—¶"Â +Â (eÂ -Â s)Â /Â 1000Â +Â "s");Â Â }Â catchÂ (FileNotFoundExceptionÂ e1)Â {Â Â Â e1.printStackTrace();Â Â }Â catchÂ (IOExceptionÂ e1)Â {Â Â Â e1.printStackTrace();Â Â }Â finallyÂ {Â Â Â tryÂ {Â Â Â Â bos.flush();Â Â Â Â bis.close();Â Â Â Â bos.close();Â Â Â }Â catchÂ (IOExceptionÂ e)Â {Â Â Â Â e.printStackTrace();Â Â Â }Â Â }Â }</pre><p><br></p><p><strong>3.Readerå’ŒWriter</strong></p><p><strong>3.1FileReader</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>FileReader(File file)åˆ›å»ºä¸€ä¸ªæ–°çš„ FileReaderï¼Œç»™å‡º Fileè¯»å–ã€‚</p></li><li><p>FileReader(String fileName)åˆ›å»ºä¸€ä¸ªæ–°çš„ FileReaderï¼Œç»™å®šè¦è¯»å–çš„æ–‡ä»¶çš„åç§°ã€‚</p></li><li><p>int read()è¯»å…¥å•ä¸ªå­—ç¬¦</p></li><li><p>int read(char[ ] c)å°†c.lengthé•¿åº¦å­—ç¬¦è¯»å…¥æ•°ç»„ä¸­</p></li><li><p>int read(char[ ] c, int offset, int length)ä»ç»™å®šçš„åç§»å¼€å§‹ï¼Œå°†å­—ç¬¦è¾“å…¥æµä¸­çš„å­—ç¬¦è¯»å…¥æŒ‡å®šçš„å­—ç¬¦æ•°ç»„</p></li><li><p>void close()å…³é—­æ­¤æ–‡ä»¶è¾“å‡ºæµå¹¶é‡Šæ”¾ä¸æ­¤æµç›¸å…³è”çš„ä»»ä½•ç³»ç»Ÿèµ„æº</p></li></ul><p><strong>3.2FileWriter</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>FileWriter(File file)ç»™ä¸€ä¸ªFileå¯¹è±¡æ„é€ ä¸€ä¸ªFileWriterå¯¹è±¡</p></li><li><p>FileWriter(String fileName)æ„é€ ä¸€ä¸ªç»™å®šæ–‡ä»¶åçš„FileWriterå¯¹è±¡</p></li><li><p>FileWriter(File file, boolean append)ç»™ä¸€ä¸ªFileå¯¹è±¡æ„é€ ä¸€ä¸ªFileWriterå¯¹è±¡</p></li><li><p>FileWriter(String fileName, boolean append)æ„é€ ä¸€ä¸ªFileWriterå¯¹è±¡ï¼Œ ç»™å‡ºä¸€ä¸ªå¸¦æœ‰å¸ƒå°”å€¼çš„æ–‡ä»¶åï¼Œè¡¨ç¤ºæ˜¯å¦é™„åŠ å†™å…¥çš„æ•°æ®</p></li><li><p>void write(int c)å†™ä¸€ä¸ªå­—ç¬¦</p></li><li><p>void write(char[] c)å†™å…¥c.lengthé•¿åº¦çš„å­—ç¬¦</p></li><li><p>void write(char[] c, int off, int len)å†™å…¥å­—ç¬¦çš„ä¸€éƒ¨åˆ†</p></li><li><p>void write(String s, int off, int len)å†™å…¥ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†</p></li><li><p>Write append(char c)æ–‡ä»¶æœ«å°¾è¿½åŠ å­—ç¬¦</p></li><li><p>void flush()åˆ·æ–°æµ</p></li><li><p>void close()å…³é—­æµï¼Œå…ˆåˆ·æ–°</p></li></ul><p>ä»£ç ç¤ºä¾‹:</p><pre>Â publicÂ staticÂ voidÂ main(String[]Â args)Â throwsÂ IOExceptionÂ {Â Â FileReaderÂ frÂ =Â newÂ FileReader(newÂ File("D:/1/2/111.txt"));Â Â FileWriterÂ fwÂ =Â newÂ FileWriter(newÂ File("D:/1/2.txt"));Â Â intÂ iÂ =Â 0;Â Â char[]Â csÂ =Â newÂ char[1024];Â Â whileÂ ((iÂ =Â fr.read(cs))Â &gt;Â -1)Â {Â Â Â //Â è¯»å–æ–‡æœ¬ä¿¡æ¯Â Â Â //Â System.out.println(newÂ String(cs));Â Â Â //Â å†™å…¥æ–‡ä»¶2.txtä¸­Â Â Â fw.write(cs,Â 0,Â cs.length);Â Â }Â Â fr.close();Â Â fw.close();Â }</pre><p><br></p><p><strong>3.3BufferedReader</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>BufferedReader(Reader in)åˆ›å»ºä½¿ç”¨é»˜è®¤å¤§å°çš„è¾“å…¥ç¼“å†²åŒºçš„ç¼“å†²å­—ç¬¦è¾“å…¥æµ</p></li><li><p>int read()è¯»ä¸€ä¸ªå­—ç¬¦</p></li><li><p>int read(char[ ] c)è¯»å…¥å•ä¸ªå­—ç¬¦</p></li><li><p>int read(char[] c, int off, int len)å°†c.lengthé•¿åº¦å­—ç¬¦è¯»å…¥æ•°ç»„ä¸­</p></li><li><p>String readLine()è¯»ä¸€è¡Œæ–‡å­—</p></li><li><p>void close()å…³é—­æµå¹¶é‡Šæ”¾ä¸ä¹‹ç›¸å…³è”çš„ä»»ä½•ç³»ç»Ÿèµ„æº</p></li></ul><p><strong>3.4BufferWriter</strong></p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>BufferedWriter(Writer out)åˆ›å»ºä½¿ç”¨é»˜è®¤å¤§å°çš„è¾“å‡ºç¼“å†²åŒºçš„ç¼“å†²å­—ç¬¦è¾“å‡ºæµ</p></li><li><p>void write(int c)å†™ä¸€ä¸ªå­—ç¬¦</p></li><li><p>void write(char[] c)å†™å…¥c.lengthé•¿åº¦çš„å­—ç¬¦</p></li><li><p>void write(char[] c, int off, int len)å†™å…¥å­—ç¬¦æ•°ç»„çš„ä¸€éƒ¨åˆ†</p></li><li><p>void write(String s, int off, int len)å†™ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†</p></li><li><p>Write append(char c)æ–‡ä»¶æœ«å°¾è¿½åŠ å­—ç¬¦</p></li><li><p>void newLine()å†™ä¸€è¡Œè¡Œåˆ†éš”ç¬¦</p></li><li><p>void flush()åˆ·æ–°æµ</p></li><li><p>void close()å…³é—­æµï¼Œå…ˆåˆ·æ–°</p></li></ul><p><strong>4.RandomAccessFile</strong></p><p>è¯¥ç±»çš„å®ä¾‹æ”¯æŒè¯»å–å’Œå†™å…¥éšæœºè®¿é—®æ–‡ä»¶ã€‚ éšæœºè®¿é—®æ–‡ä»¶çš„è¡Œä¸ºç±»ä¼¼äºå­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„å¤§é‡å­—èŠ‚ã€‚ æœ‰ä¸€ç§æ¸¸æ ‡ï¼Œæˆ–ç´¢å¼•åˆ°éšå«çš„æ•°ç»„ï¼Œç§°ä¸ºæ–‡ä»¶æŒ‡é’ˆ ; è¾“å…¥æ“ä½œè¯»å–ä»æ–‡ä»¶æŒ‡é’ˆå¼€å§‹çš„å­—èŠ‚ï¼Œå¹¶ä½¿æ–‡ä»¶æŒ‡é’ˆè¶…è¿‡è¯»å–çš„å­—èŠ‚ã€‚ å¦‚æœåœ¨è¯»/å†™æ¨¡å¼ä¸‹åˆ›å»ºéšæœºè®¿é—®æ–‡ä»¶ï¼Œåˆ™è¾“å‡ºæ“ä½œä¹Ÿå¯ç”¨; è¾“å‡ºæ“ä½œä»æ–‡ä»¶æŒ‡é’ˆå¼€å§‹å†™å…¥å­—èŠ‚ï¼Œå¹¶å°†æ–‡ä»¶æŒ‡é’ˆæå‰åˆ°å†™å…¥çš„å­—èŠ‚ã€‚</p><p>æ–¹æ³•æè¿°</p><ul class=list-paddingleft-2><li><p>RandomAccessFile(File file, String mode)åˆ›å»ºä¸€ä¸ªéšæœºè®¿é—®æ–‡ä»¶æµä»Fileå‚æ•°æŒ‡å®šçš„æ–‡ä»¶ä¸­è¯»å–ï¼Œå¹¶å¯é€‰åœ°å†™å…¥æ–‡ä»¶</p></li><li><p>RandomAccessFile(String name, String mode)åˆ›å»ºéšæœºè®¿é—®æ–‡ä»¶æµï¼Œä»¥ä»ä¸­æŒ‡å®šåç§°çš„æ–‡ä»¶è¯»å–ï¼Œå¹¶å¯é€‰æ‹©å†™å…¥æ–‡ä»¶</p></li><li><p>int read()ä»è¯¥æ–‡ä»¶è¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®</p></li><li><p>int read(byte[] b)ä»è¯¥æ–‡ä»¶è¯»å–æœ€å¤šb.lengthå­—èŠ‚çš„æ•°æ®åˆ°å­—èŠ‚æ•°</p></li><li><p>void write(int b)å°†æŒ‡å®šçš„å­—èŠ‚å†™å…¥æ­¤æ–‡ä»¶</p></li><li><p>void write(byte[] b)ä»æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å†™å…¥b.lengthä¸ªå­—èŠ‚åˆ°è¯¥æ–‡ä»¶ï¼Œä»å½“å‰æ–‡ä»¶æŒ‡é’ˆå¼€å§‹</p></li><li><p>long length()è¿”å›æ­¤æ–‡ä»¶çš„é•¿åº¦ã€‚</p></li><li><p>void seek(long pos)è®¾ç½®æ–‡ä»¶æŒ‡é’ˆåç§»ï¼Œä»è¯¥æ–‡ä»¶çš„å¼€å¤´æµ‹é‡ï¼Œå‘ç”Ÿä¸‹ä¸€æ¬¡è¯»å–æˆ–å†™å…¥</p></li><li><p>int skipBytes(int n)å°è¯•è·³è¿‡ nå­—èŠ‚çš„è¾“å…¥ä¸¢å¼ƒè·³è¿‡çš„å­—èŠ‚</p></li><li><p>void close()å…³é—­æ­¤éšæœºè®¿é—®æ–‡ä»¶æµå¹¶é‡Šæ”¾ä¸æµç›¸å…³è”çš„ä»»ä½•ç³»ç»Ÿèµ„æº</p></li></ul><p>è¿™ä¸¤ä¸ªæ„é€ æ–¹æ³•å‡æ¶‰åŠåˆ°ä¸€ä¸ªStringç±»å‹çš„å‚æ•°modeï¼Œå®ƒå†³å®šéšæœºå­˜å‚¨æ–‡ä»¶æµçš„æ“ä½œæ¨¡å¼ï¼Œå…¶ä¸­modeå€¼åŠå¯¹åº”çš„å«ä¹‰å¦‚ä¸‹ï¼š</p><p>1.â€œrâ€ï¼šä»¥åªè¯»çš„æ–¹å¼æ‰“å¼€ï¼Œè°ƒç”¨è¯¥å¯¹è±¡çš„ä»»ä½•writeï¼ˆå†™ï¼‰æ–¹æ³•éƒ½ä¼šå¯¼è‡´IOExceptionå¼‚å¸¸</p><p>2.â€œrwâ€ï¼šä»¥è¯»ã€å†™æ–¹å¼æ‰“å¼€ï¼Œæ”¯æŒæ–‡ä»¶çš„è¯»å–æˆ–å†™å…¥ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¹‹ã€‚</p><p>3.â€œrwsâ€ï¼šä»¥è¯»ã€å†™æ–¹å¼æ‰“å¼€ï¼Œä¸â€œrwâ€ä¸åŒçš„æ˜¯ï¼Œè¿˜è¦å¯¹æ–‡ä»¶å†…å®¹çš„æ¯æ¬¡æ›´æ–°éƒ½åŒæ­¥æ›´æ–°åˆ°æ½œåœ¨çš„å­˜å‚¨è®¾å¤‡ä¸­å»ã€‚è¿™é‡Œçš„â€œsâ€è¡¨ç¤ºsynchronousï¼ˆåŒæ­¥ï¼‰çš„æ„æ€ 4.â€œrwdâ€ï¼šä»¥è¯»ã€å†™æ–¹å¼æ‰“å¼€ï¼Œä¸â€œrwâ€ä¸åŒçš„æ˜¯ï¼Œè¿˜è¦å¯¹æ–‡ä»¶å†…å®¹çš„æ¯æ¬¡æ›´æ–°éƒ½åŒæ­¥æ›´æ–°åˆ°æ½œåœ¨çš„å­˜å‚¨è®¾å¤‡ä¸­å»ã€‚ä½¿ç”¨â€œrwdâ€æ¨¡å¼ä»…è¦æ±‚å°†æ–‡ä»¶çš„å†…å®¹æ›´æ–°åˆ°å­˜å‚¨è®¾å¤‡ä¸­ï¼Œè€Œä½¿ç”¨â€œrwsâ€æ¨¡å¼é™¤äº†æ›´æ–°æ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜è¦æ›´æ–°æ–‡ä»¶çš„å…ƒæ•°æ®ï¼ˆmetadataï¼‰ï¼Œå› æ­¤è‡³å°‘è¦æ±‚1æ¬¡ä½çº§åˆ«çš„I/Oæ“ä½œ</p><p>ä»£ç ç¤ºä¾‹</p><pre>packageÂ com.it.day2;importÂ java.io.FileNotFoundException;importÂ java.io.IOException;importÂ java.io.RandomAccessFile;publicÂ classÂ RandomAccessFileTestÂ {Â publicÂ staticÂ voidÂ main(String[]Â args)Â {Â Â tryÂ {Â Â Â RandomAccessFileÂ rafÂ =Â newÂ RandomAccessFile("D:/1/4.txt",Â "rw");Â Â Â byte[]Â bÂ =Â newÂ byte[2];Â Â Â intÂ i;Â Â Â raf.seek(raf.length());Â Â Â intÂ skipBytesÂ =Â raf.skipBytes(4);Â Â Â System.out.println(skipBytes);Â Â Â whileÂ ((iÂ =Â raf.read(b))Â &gt;Â -1)Â {Â Â Â Â System.out.println(newÂ String(b));Â Â Â Â raf.write(100);Â Â Â }Â Â Â //Â StringÂ aÂ =Â "å¤©è‹è‹ï¼Œé‡èŒ«èŒ«";Â Â Â //Â raf.write(a.getBytes());Â Â }Â catchÂ (FileNotFoundExceptionÂ e)Â {Â Â Â //Â TODOÂ Auto-generatedÂ catchÂ blockÂ Â Â e.printStackTrace();Â Â }Â catchÂ (IOExceptionÂ e)Â {Â Â Â //Â TODOÂ Auto-generatedÂ catchÂ blockÂ Â Â e.printStackTrace();Â Â }Â }}</pre><p><br></p><p><strong>5.å¯¹è±¡åºåˆ—åŒ–</strong></p><ul class=list-paddingleft-2><li><p>åºåˆ—åŒ–å°±æ˜¯å°†å¯¹è±¡çš„çŠ¶æ€(å¯¹è±¡çš„å±æ€§)å­˜å‚¨åˆ°ç‰¹å®šçš„å­˜å‚¨ä»‹è´¨ä¸­çš„è¿‡ç¨‹, ä¹Ÿå°±æ˜¯å°†å¯¹è±¡çŠ¶æ€è½¬æ¢ä¸ºå¯ä¿æŒæˆ–å¯ä¼ è¾“æ ¼å¼çš„è¿‡ç¨‹.</p></li><ul class=list-paddingleft-2><li><p>åºåˆ—åŒ–çš„æ ¸å¿ƒ:1.ä¿å­˜å¯¹è±¡çš„çŠ¶æ€</p><p>2.å¯¹è±¡çŠ¶æ€å¯å‚¨å­˜</p></li></ul><li><p>ååºåˆ—åŒ–åˆ™æ˜¯ä»ç‰¹å®šçš„å­˜å‚¨ä»‹è´¨ä¸­è¯»å–æ•°æ®å¹¶é‡æ–°æ„å»ºæˆå¯¹è±¡çš„è¿‡ç¨‹</p><p>æ³¨æ„:Javaä¸­åªæœ‰å®ç°äº†java.io.Serializableæ¥å£çš„ç±»çš„å¯¹è±¡æ‰èƒ½è¢«åºåˆ—åŒ–</p></li></ul><p><strong>5.1ObjectInputStream</strong></p><p>æ–¹æ³•æè¿°Object readObject(Object o)è¯»å–å¯¹è±¡</p><p><strong>5.2 ObjectOutputStream</strong></p><p>æ–¹æ³•æè¿°Object writeObject(Object o)åºåˆ—åŒ–å¯¹è±¡</p><p><strong>5.3ç¤ºä¾‹</strong></p><pre>/**Â *Â åºåˆ—åŒ–Â *Â @authorÂ zlÂ *Â */publicÂ classÂ TestÂ {Â publicÂ staticÂ voidÂ main(String[]Â args)Â throwsÂ IOExceptionÂ {Â Â StudentÂ s1=Â newÂ Student("æ–¹ä¸€å‡¡",Â 18);Â Â FileOutputStreamÂ fosÂ =Â newÂ FileOutputStream("D://s1.txt");Â Â ObjectOutputStreamÂ oosÂ =Â newÂ ObjectOutputStream(fos);Â Â //å°†å†…å­˜ä¸­çš„å¯¹è±¡ä¿å­˜åˆ°ç¡¬ç›˜Â Â oos.writeObject(s1);Â }}</pre><pre>/**Â *Â ååºåˆ—åŒ–Â *Â @authorÂ zlÂ *Â */publicÂ classÂ Test2Â {Â publicÂ staticÂ voidÂ main(String[]Â args)Â throwsÂ ClassNotFoundException,Â IOExceptionÂ {Â Â FileInputStreamÂ fisÂ Â =Â newÂ FileInputStream("D://s1.txt");Â Â ObjectInputStreamÂ oisÂ =Â newÂ ObjectInputStream(fis);Â Â Â Â StudentÂ sÂ =Â (Student)Â ois.readObject();Â Â System.out.println(s.getName()+s.getAge());Â }}</pre><p>ä»£ç ç¤ºä¾‹:</p><pre>packageÂ com.it.day2;importÂ java.io.Serializable;/**Â *Â æµ‹è¯•åºåˆ—åŒ–ä¸ååºåˆ—åŒ–(æ³¨æ„:ä¸€ä¸ªç±»è¦æƒ³åºåˆ—åŒ–,å¿…é¡»å®ç°Serializableæ¥å£)Â *Â @authorÂ zlÂ *Â @parameterÂ Â Â *Â @returnÂ Â *Â @versionÂ */publicÂ classÂ StudentÂ implementsÂ Serializable{Â privateÂ staticÂ finalÂ longÂ serialVersionUIDÂ =Â 1L;Â privateÂ intÂ id;Â privateÂ StringÂ name;Â privateÂ intÂ age;Â publicÂ Student(intÂ id,Â StringÂ name,Â intÂ age)Â {Â Â super();Â Â this.idÂ =Â id;Â Â this.nameÂ =Â name;Â Â this.ageÂ =Â age;Â }Â publicÂ intÂ getId()Â {Â Â returnÂ id;Â }Â publicÂ voidÂ setId(intÂ id)Â {Â Â this.idÂ =Â id;Â }Â publicÂ StringÂ getName()Â {Â Â returnÂ name;Â }Â publicÂ voidÂ setName(StringÂ name)Â {Â Â this.nameÂ =Â name;Â }Â publicÂ intÂ getAge()Â {Â Â returnÂ age;Â }Â publicÂ voidÂ setAge(intÂ age)Â {Â Â this.ageÂ =Â age;Â }Â }----------------------------------------------------------------------------------------packageÂ com.it.day2;importÂ java.io.FileNotFoundException;importÂ java.io.FileOutputStream;importÂ java.io.IOException;importÂ java.io.ObjectOutputStream;importÂ java.util.ArrayList;importÂ java.util.List;/**Â *Â æµ‹è¯•åºåˆ—åŒ–Â *Â @authorÂ zlÂ *Â @parameterÂ Â Â *Â @returnÂ Â *Â @versionÂ */publicÂ classÂ StudentTest1Â {Â publicÂ staticÂ voidÂ main(String[]Â args)Â {Â Â StudentÂ s1Â =Â newÂ Student(1001,Â "å¼ ä¸‰",Â 20);Â Â StudentÂ s2Â =Â newÂ Student(1002,Â "æå››",Â 23);Â Â StudentÂ s3Â =Â newÂ Student(1003,Â "èµµæ­¦",Â 41);Â Â StudentÂ s4Â =Â newÂ Student(1004,Â "å°æ˜",Â 22);Â Â StudentÂ s5Â =Â newÂ Student(1005,Â "å‘¨å…«",Â 34);Â Â List&lt;Student&gt;Â listÂ =Â newÂ ArrayList&lt;Student&gt;();Â Â list.add(s1);Â Â list.add(s2);Â Â list.add(s3);Â Â list.add(s4);Â Â list.add(s5);Â Â ObjectOutputStreamÂ oosÂ =Â null;Â Â FileOutputStreamÂ fosÂ =Â null;Â Â tryÂ {Â Â Â fosÂ =Â newÂ FileOutputStream("D://1//s1.txt");Â Â Â oosÂ =Â newÂ ObjectOutputStream(fos);Â Â Â //Â åºåˆ—åŒ–é›†åˆå¯¹è±¡Â Â Â oos.writeObject(list);Â Â Â //Â åºåˆ—åŒ–å•ä¸ªå¯¹è±¡Â Â Â //Â oos.writeObject(s1);Â Â }Â catchÂ (FileNotFoundExceptionÂ e)Â {Â Â Â e.printStackTrace();Â Â }Â catchÂ (IOExceptionÂ e)Â {Â Â Â e.printStackTrace();Â Â }Â finallyÂ {Â Â Â tryÂ {Â Â Â Â oos.close();Â Â Â }Â catchÂ (IOExceptionÂ e)Â {Â Â Â Â e.printStackTrace();Â Â Â }Â Â }Â }}-----------------------------------------------------------------------------------------packageÂ com.it.day2;importÂ java.io.FileInputStream;importÂ java.io.FileNotFoundException;importÂ java.io.IOException;importÂ java.io.ObjectInputStream;importÂ java.util.ArrayList;importÂ java.util.List;/**Â *Â æµ‹è¯•ååºåˆ—åŒ–Â *Â @authorÂ zlÂ *Â @parameterÂ Â Â *Â @returnÂ Â *Â @versionÂ */publicÂ classÂ StudentTest2Â {Â publicÂ staticÂ voidÂ main(String[]Â args)Â {Â Â ObjectInputStreamÂ oisÂ =Â null;Â Â FileInputStreamÂ fisÂ =Â null;Â Â tryÂ {Â Â Â fisÂ =Â newÂ FileInputStream("D://1//s1.txt");Â Â Â oisÂ =Â newÂ ObjectInputStream(fis);Â Â Â //Â ååºåˆ—åŒ–Â é›†åˆÂ å¯¹è±¡,å¹¶éå†è¾“å‡ºÂ Â Â List&lt;Student&gt;Â listÂ =Â (ArrayList&lt;Student&gt;)Â ois.readObject();Â Â Â forÂ (StudentÂ studentÂ :Â list)Â {Â Â Â Â System.out.println(student.getId()Â +Â student.getName()Â +Â student.getAge());Â Â Â }Â Â Â //Â ååºåˆ—åŒ–å•ä¸ªå¯¹è±¡,å¹¶è¾“å‡ºÂ Â Â //Â StudentÂ student=(Student)ois.readObject();Â Â Â //Â System.out.println(student.getId()+student.getName()+student.getAge());Â Â }Â catchÂ (FileNotFoundExceptionÂ e)Â {Â Â Â e.printStackTrace();Â Â }Â catchÂ (ClassNotFoundExceptionÂ e)Â {Â Â Â e.printStackTrace();Â Â }Â catchÂ (IOExceptionÂ e)Â {Â Â Â e.printStackTrace();Â Â }Â finallyÂ {Â Â Â tryÂ {Â Â Â Â ois.close();Â Â Â }Â catchÂ (IOExceptionÂ e)Â {Â Â Â Â e.printStackTrace();Â Â Â }Â Â }Â }}</pre><p><strong>6.DataInputStreanå’ŒDataOutputStream</strong></p><ol class=list-paddingleft-2><li><p>DataInputStream(InputStreamä¸ºçˆ¶ç±»)</p><p>æ•°æ®è¾“å…¥æµå…è®¸åº”ç”¨ç¨‹åºä»¥ç‹¬ç«‹äºæœºå™¨çš„æ–¹å¼ä»åº•å±‚è¾“å…¥æµè¯»å–åŸå§‹Javaæ•°æ®ç±»å‹ã€‚ åº”ç”¨ç¨‹åºä½¿ç”¨æ•°æ®è¾“å‡ºæµæ¥å†™å…¥ç¨åå¯ä»¥è¢«æ•°æ®è¾“å…¥æµè¯»å–çš„æ•°æ®ã€‚</p><p>æ–¹æ³•æè¿°DataInputStream(InputStream in)åˆ›å»ºä½¿ç”¨æŒ‡å®šçš„åº•å±‚InputStreamçš„DataInputStreamã€‚int read(byte[] b)ä»åŒ…å«çš„è¾“å…¥æµä¸­è¯»å–ä¸€äº›å­—èŠ‚æ•°ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åˆ°ç¼“å†²åŒºæ•°ç»„ bint skipBytes(int n)å°è¯•è·³è¿‡ nå­—èŠ‚çš„è¾“å…¥ä¸¢å¼ƒè·³è¿‡çš„å­—èŠ‚</p></li><li><p>DataOutputStream(OutputStreamä¸ºçˆ¶ç±»)</p><p>æ•°æ®è¾“å‡ºæµä½¿åº”ç”¨ç¨‹åºä»¥ä¾¿æºå¼æ–¹å¼å°†åŸå§‹Javaæ•°æ®ç±»å‹å†™å…¥è¾“å‡ºæµã€‚ ç„¶ååº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨æ•°æ®è¾“å…¥æµæ¥è¯»å–æ•°æ®ã€‚</p><p>æ–¹æ³•æè¿°DataOutputStream(OutputStream outåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®è¾“å‡ºæµï¼Œä»¥å°†æ•°æ®å†™å…¥æŒ‡å®šçš„åº•å±‚è¾“å‡ºæµvoid write(int b)å°†æŒ‡å®šçš„å­—èŠ‚ï¼ˆå‚æ•° bçš„ä½8ä½ï¼‰å†™å…¥åº•å±‚è¾“å‡ºæµint size()è¿”å›è®¡æ•°å™¨çš„å½“å‰å€¼ writtenï¼Œ åˆ°ç›®å‰ä¸ºæ­¢å†™å…¥æ­¤æ•°æ®è¾“å‡ºæµçš„å­—èŠ‚æ•°</p></li></ol><p><strong>7.å…‹éš†(clone)</strong></p><p><strong>7.1æµ…å¤åˆ¶ï¼ˆæµ…å…‹éš†ï¼‰</strong></p><p>(è¦å®ç°æµ…å…‹éš†è¢«å…‹éš†çš„ç±»å¿…é¡»å®ç°Cloneableæ¥å£)</p><p>è¢«å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥çš„å¯¹è±¡ç›¸åŒçš„å€¼ï¼Œè€Œæ‰€æœ‰çš„å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ä»ç„¶æŒ‡å‘åŸæ¥çš„å¯¹è±¡ã€‚æ¢è¨€ä¹‹ï¼Œæµ…å¤åˆ¶ä»…ä»…å¤åˆ¶æ‰€è€ƒè™‘çš„å¯¹è±¡ï¼Œè€Œä¸å¤åˆ¶å®ƒæ‰€å¼•ç”¨çš„å¯¹è±¡ã€‚</p><p>ç»§æ‰¿è‡ªjava.lang.Objectç±»çš„clone()æ–¹æ³•æ˜¯æµ…å¤åˆ¶</p><p><strong>7.2æ·±å¤åˆ¶ï¼ˆæ·±å…‹éš†ï¼‰</strong></p><p>(è¦å®ç°æ·±å…‹éš†è¢«å…‹éš†ç±»ä»¥åŠè¢«å…‹éš†ç±»çš„å¼•ç”¨å¿…é¡»å®ç°Serializableæ¥å£)</p><p>è¢«å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥çš„å¯¹è±¡ç›¸åŒçš„å€¼ï¼Œé™¤å»é‚£äº›å¼•ç”¨å…¶ä»–å¯¹è±¡çš„å˜é‡ã€‚é‚£äº›å¼•ç”¨å…¶ä»–å¯¹è±¡çš„å˜é‡å°†æŒ‡å‘è¢«å¤åˆ¶è¿‡çš„æ–°å¯¹è±¡ï¼Œè€Œä¸å†æ˜¯åŸæœ‰çš„é‚£äº›è¢«å¼•ç”¨çš„å¯¹è±¡ã€‚æ¢è¨€ä¹‹ï¼Œæ·±å¤åˆ¶æŠŠè¦å¤åˆ¶çš„å¯¹è±¡æ‰€å¼•ç”¨çš„å¯¹è±¡éƒ½å¤åˆ¶äº†ä¸€éã€‚æ·±å…‹éš†çš„å®ç°å®é™…ä¸Šæ˜¯å¯¹å¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–.</p><p><br></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Java','è¾“å…¥','è¾“å‡º'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/b18f52fd.html alt=Javaè¾“å…¥/è¾“å‡ºæµåŸºç¡€ï¼ˆIOæµï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/fe9b96733a614a15bbb33683620b2596 style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/b18f52fd.html title=Javaè¾“å…¥/è¾“å‡ºæµåŸºç¡€ï¼ˆIOæµï¼‰>Javaè¾“å…¥/è¾“å‡ºæµåŸºç¡€ï¼ˆIOæµï¼‰</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>