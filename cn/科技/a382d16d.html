<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>区块链入门：为什么 DApp 经常会遭遇随机数攻击？| 火星技术帖 | 极客快訊</title><meta property="og:title" content="区块链入门：为什么 DApp 经常会遭遇随机数攻击？| 火星技术帖 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/RivR6n1AU5yy8h"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a382d16d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a382d16d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a382d16d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a382d16d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a382d16d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a382d16d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a382d16d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a382d16d.html><meta property="article:published_time" content="2020-11-14T21:08:08+08:00"><meta property="article:modified_time" content="2020-11-14T21:08:08+08:00"><meta name=Keywords content><meta name=description content="区块链入门：为什么 DApp 经常会遭遇随机数攻击？| 火星技术帖"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/a382d16d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>区块链入门：为什么 DApp 经常会遭遇随机数攻击？| 火星技术帖</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><img alt="区块链入门：为什么 DApp 经常会遭遇随机数攻击？| 火星技术帖" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RivR6n1AU5yy8h><blockquote><p>免责声明：本文旨在传递更多市场信息，不构成任何投资建议。文章仅代表作者观点，不代表火星财经官方立场。</p></blockquote><p>小编：记得关注哦</p><p>来源：北京互融云</p><img alt="区块链入门：为什么 DApp 经常会遭遇随机数攻击？| 火星技术帖" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RkUyVSkE1elQQh><p>作者：李火华</p><p>9 月 14 日，一款名为“EOSPlay”的 DApp 游戏遭遇了新型<b>随机数攻击</b>，一共损失了数万个 EOS。</p><p>或许很多人对「<b>随机数攻击</b>」这个词已经司空见惯了，因为在 DApp 遭遇黑客攻击的事件中，随机数攻击占了很大一部分，<b>很多 DApp 的随机数被黑客破解了。</b></p><p>你或许会问，随机数不是随机的吗？随机意味着不可预测，为什么还会被黑客破解呢？</p><p>这还得从随机数说起。</p><p><b>随机数可以分为真随机数和伪随机数。</b>真随机数需要同时满足随机性、不可预测性、不可重现性，而伪随机数只需要满足随机性，或者是随机性和不可预测性即可。</p><p>真随机数只存在于物理世界中，一般需要通过物理手段（包括量子过程）获得，比如我们日常见到的抛硬币、掷骰子，生成的随机数就是真随机数。但是，抛硬币、掷骰子这种随机数生成方法的缺点非常明显，那就是耗时、耗力，而且也无法满足现代的计算机世界对随机数的需求。</p><p><b>因为效率的缘故，现代的计算机软件主要依赖伪随机数。</b>最早的伪随机数生成器由 20 世纪最重要的数学家之一冯·诺依曼创造，通过一个确定的随机数种子，由确定的算法生成伪随机数序列。现在的主流计算机编程语言，默认的是将 1997 年发明的梅森旋转算法作为生成伪随机数的方法。</p><p><b>伪随机数最大的缺陷是，只要种子不变，生成的伪随机数序列也不会变。</b>换句话说，只要你能拿到种子，你就可以破解随机数。</p><p><b>计算机生成伪随机数的过程，或多或少与这台计算机的物理状态或运算状态有关。</b>也就是说，同一套随机数算法，不同的计算机，或是同一台计算机在不同的时刻，生成的随机数是不一样的。</p><p><b>然而，这种传统的计算机伪随机数生成方法虽然足够安全，却并不适用于区块链。</b>区块链是一个分布式的系统，同一个 DApp 在不同的节点上运行，采用的随机数必须要一致，这样才能让各个节点进行验证。所以，DApp 的随机数来源，不能是运行这个 DApp 的计算机自动生成的，因为这样的话，不同的节点计算机运行的结果就不一样了。</p><p>那么，区块链上的 DApp 随机数从哪里来呢？主要有以下三种方法：</p><p><b>第一种方法是通过可信第三方提供随机数。</b>比如说专门提供随机数的网站 random.org，我们可以通过独立于区块链之外的 Oraclize 预言机为以太坊区块链上的 DApp 获取随机数。当然，这种依赖可信第三方的方法有违区块链去中心化的精神。</p><p><b>第二种方法是不同的参与者一起合作生成随机数。</b>比如以太坊区块链上的 RANDAO，任何人都可以提交一个数字，RANDAO 将所有提交的数字集合作为种子，生成随机数，其他 DApp 可以付费调取 RANDAO 生成的随机数，这些费用会奖励给那些提交了数字的用户。因为以太坊的去中心化，你不知道别人提交了什么数字，所以要破解 RANDAO 的随机数种子难度很大。</p><p><b>第三种方法是采集区块链上的信息作为种子。</b>这也是目前大部分 DApp 所采用的随机数生成方法，缺陷是随机数的种子“几乎是”透明的。以本文开头提到的 EOSPlay 为例子，这款游戏的随机数采用的是未来某个区块的 ID（哈希值）作为随机数的种子。</p><p>那么，黑客是如何实现攻击的呢？根据区块链安全公司慢雾科技的分析，可能使用了以下的方法：</p><p>1、黑客为自己和项目方租用了大量的 CPU； 2、黑客发起大量的延迟交易； 3、由于以上两点原因，导致 CPU 价格被拉高，从而导致其它用户 CPU 不足； 4、因为 CPU 不足的原因，其他用户难以发送交易，黑客得以使用自己的交易占满区块； 5、根据提前构造的交易内容，黑客可以成功预测出区块哈希。</p><p><b>也就是说，虽然哈希算法不可逆，但是黑客可以通过控制输入实现输出的控制：</b>控制区块内的交易内容，从而控制区块信息，进而控制区块哈希值，最终达到预测开奖结果的目的。</p><p>最后，我们总结一下：</p><p>随机数可以分为真随机数和伪随机数，真随机数只存在于物理世界中，一般需要通过物理手段获取。为了效率，计算机主要采用伪随机数，然而由于区块链的分布式特性，足够安全的传统计算机伪随机数生成方法并不适用。大部分 DApp 采用的是收集区块链上的信息作为伪随机数的种子，<b>而要想设计足够安全的伪随机数，难度非常大，这就是为什么很多 DApp 经常遭受随机数攻击的原因。</b></p><p><b>——End——</b></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'区块','链入门','什么'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>