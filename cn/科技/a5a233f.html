<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Java入门超经典教程-多态 | 极客快訊</title><meta property="og:title" content="Java入门超经典教程-多态 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/15347730600680bdb272bca"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a5a233f.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a5a233f.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a5a233f.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a5a233f.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a5a233f.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a5a233f.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a5a233f.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a5a233f.html><meta property="article:published_time" content="2020-10-29T20:58:48+08:00"><meta property="article:modified_time" content="2020-10-29T20:58:48+08:00"><meta name=Keywords content><meta name=description content="Java入门超经典教程-多态"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/a5a233f.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Java入门超经典教程-多态</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15347730600680bdb272bca><p class=pgc-img-caption></p></div><p><strong>1.1. 多态（掌握）</strong></p><p>多态时面向对象三大特征：封装、继承、多态。</p><p>在继承关系，是一种”is A”的关系，也就说子类是父类的一种特殊情况，有如下代码：</p><blockquote><p>public class Animal{}</p><p>public class Dog extends Animal{}</p><p>public class Cat extends Animal{}</p></blockquote><p>那么我们可以认为狗和猫都是一种特殊的动物，那么可以使用动物类型类来表示狗或猫。</p><blockquote><p>Dog d = new Dog(); //创建一只狗对象,赋给子类类型变量</p><p>Animal a = new Cat(); //创建一只猫对象,赋给父类类型变量</p></blockquote><p>此时对象（a）具有两种类型:</p><p>n 编译类型：声明对象变量的类型——>Animal</p><p>n 运行类型：对象的真实类型 ——>Dog</p><p>当编译类型和运行类型不一致的时候，此时多态就产生了:</p><p>注意：编译类型必须是运行类型的父类或接口。</p><p>所谓多态，表示一个对象具有多种形态。</p><blockquote><p>Animal a = null;</p><p>a = new Dog(); // a此时表示Dog类型的形态</p><p>a = new Cat(); // a此时表示Cat类型的形态</p></blockquote><p>多态的前提，可以是继承关系（类和类），也可以是实现关系（接口和实现类），在开发中，一般都指接口和实现类之间的关系，什么是多态？</p><p>一言以蔽之：父类引用变量指向于子类对象，调用方法时实际调用的是子类的方法。</p><p>我家有一种动物，你猜它的叫声是怎么样的，猜不到，因为这个动物有多种形态。</p><p>n 如果该动物是狗，叫声是：旺旺旺...</p><p>n 如果该动物是猫，叫声是：妙妙妙...</p><p><strong>多态操作有两种定义格式和操作语法</strong>：</p><p>n 操作继承关系（开发中不是很多）：</p><blockquote><p>父类 变量名 = new 子类();</p><p>变量名.方法();</p></blockquote><p>n 操作实现关系（开发中最频繁）：</p><blockquote><p>接口 变量名 = new 实现类();</p><p>变量名.方法();</p></blockquote><p><strong>1.1.1. 操作继承关系（掌握）</strong></p><p>接口 变量名 = new 实现类();</p><p>变量名.方法();</p><p>Animal类：</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15347731070656c0f83c43f><p class=pgc-img-caption></p></div><p>Cat类：</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1534773117233f7360161a8><p class=pgc-img-caption></p></div><p>Dog类：</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1534773127952ab721ce764><p class=pgc-img-caption></p></div><p>测试类：</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15347731385419c019d8b25><p class=pgc-img-caption></p></div><p>运行结果：</p><blockquote><p>妙妙妙...</p><p>旺旺旺...</p></blockquote><p><strong>验证结论</strong>：父类引用变量指向于子类对象，调用方法时实际调用的是子类的方法。</p><p><strong>1.1.2. 操作实现关系（重点掌握）</strong></p><blockquote><p>接口 变量名 = new 实现类();</p><p>变量名.方法();</p></blockquote><p>ISwimable 接口：</p><blockquote><p>public interface ISwimable {</p><p>void swim();</p><p>}</p></blockquote><p>Fish类：</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15347731631209987b7172c><p class=pgc-img-caption></p></div><p>测试类：</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15347731733038f28674af1><p class=pgc-img-caption></p></div><p>运行结果：</p><blockquote><p>游啊游...</p></blockquote><p><strong>1.1.3. 多态时方法调用问题（重点掌握）</strong></p><p>把子类对象赋给父类变量，此时调用方法：</p><blockquote><p>Animal a = new Cat();</p><p>a.shout();</p></blockquote><p>那么a对象调用的shout方法，是来自于Animal中还是Cat中？判断规则如下：</p><p>一张图，看懂到底调用的是哪一个类中的方法！</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1534773188015a905c63948><p class=pgc-img-caption></p></div><p>文字解释，先判断shout方法是否在父类Animal类中：</p><ul><li>找不到：编译报错</li><li>找 到：再看shout方法是否在子类Cat类中：</li></ul><p>找不到：运行父类方法</p><p>找 到：运行子类方法（这个才是真正的多态方法调用）</p><p><strong>1.1.4. 类型转换和instanceof运算符（了解）</strong></p><p>自动类型转换：把子类对象赋给父类变量（多态）</p><blockquote><p>Animal a = new Dog();</p><p>Object obj = new Dog(); //Object是所有类的根类:</p></blockquote><p>强制类型转换：把父类类型对象赋给子类类型变量（前提：该对象的真实类型应该是子类类型）</p><blockquote><p>Animal a = new Dog();</p><p>Dog d = (Dog) a; //正确</p><p>Cat c = (Cat) a; //错误</p></blockquote><p>instanceof 运算符：判断该对象是否是某一个类的实例，在开发中运用不是很多</p><blockquote><p>语法格式：boolean b = 对象A instanceof 类B; //判断 A对象是否是 B类的实例？如果是,返回true</p></blockquote><p>代码如下：</p><blockquote><p>Animal a = new Dog();</p><p>System.out.println(a instanceof Animal); //true</p><p>System.out.println(a instanceof Dog); //true</p><p>System.out.println(a instanceof Cat); //false</p></blockquote><p><strong>1.1.5. 多态的好处-USB案例（掌握）</strong></p><p>需求：模拟在主板上安装鼠标、键盘等，比较没有规范和有规范的区别。</p><p><strong>没有统一规范</strong>：</p><p>鼠标类：</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1534773241871b6d55384fc><p class=pgc-img-caption></p></div><p>键盘类：</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1534773345607b674e95d69><p class=pgc-img-caption></p></div><p>主板类：</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15347732672033cda1f41b8><p class=pgc-img-caption></p></div><p>上述代码是没有统一规范的，我们能发现其中的问题：</p><p>n 不同设备中工作的方法名称是不一致的</p><p>n 每次需要安装中设备，都需要在主板类上新增一个方法 （这个问题严重）</p><p><strong>没有统一规范</strong>：</p><p>USB规范接口：</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1534773278839defeacb246><p class=pgc-img-caption></p></div><p>在Mouse和Keyboard类遵循于USB规范——工作的方法名称也就相同了。</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/153477329208317ef4a38ac><p class=pgc-img-caption></p></div><p>主板类，在安装方法plugin上也体现出了多态的特征：</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1534773310119cfafdf8a32><p class=pgc-img-caption></p></div><p>面向接口编程，体现的就是多态，其好处：把实现类对象赋给接口类型变量，屏蔽了不同实现类之间的实现差异，从而可以做到通用编程。</p><p>测试类，无论是否使用多态，测试代码相同：</p><div class=pgc-img><img alt=Java入门超经典教程-多态 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/153477332261209470e0bf2><p class=pgc-img-caption></p></div><p>请问：使用USB接口后，哪里出现多态了？</p><p><strong>本系列教程为叩丁狼Java基础班内部教材，若要获得最好的学习效果，需要配合对应教学视频一起学习。需要完整教学视频，请私信作者。</strong></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Java','入门','超经典'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>