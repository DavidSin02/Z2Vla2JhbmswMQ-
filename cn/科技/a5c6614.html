<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ | æå®¢å¿«è¨Š</title><meta property="og:title" content="ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/1530931625067f37afbb6f0"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a5c6614.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a5c6614.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a5c6614.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a5c6614.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a5c6614.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a5c6614.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a5c6614.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a5c6614.html><meta property="article:published_time" content="2020-10-29T20:50:37+08:00"><meta property="article:modified_time" content="2020-10-29T20:50:37+08:00"><meta name=Keywords content><meta name=description content="ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/a5c6614.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>1.ç›¸å…³æ–¹æ³•è¯¦è§£</p><hr><p><strong>1)Paint(ç”»ç¬”):</strong></p><blockquote><p>å°±æ˜¯ç”»ç¬”,ç”¨äºè®¾ç½®ç»˜åˆ¶é£æ ¼,å¦‚:çº¿å®½(ç¬”è§¦ç²—ç»†),é¢œè‰²,é€æ˜åº¦å’Œå¡«å……é£æ ¼ç­‰ ç›´æ¥ä½¿ç”¨æ— å‚æ„é€ æ–¹æ³•å°±å¯ä»¥åˆ›å»ºPaintå®ä¾‹: <strong>Paint paint = new Paint( );</strong></p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹è¿°æ–¹æ³•æ¥è®¾ç½®Paint(ç”»ç¬”)çš„ç›¸å…³å±æ€§,å¦å¤–,å…³äºè¿™ä¸ªå±æ€§æœ‰ä¸¤ç§, å›¾å½¢ç»˜åˆ¶ç›¸å…³ä¸æ–‡æœ¬ç»˜åˆ¶ç›¸å…³:</p></blockquote><ul><li><strong>setARGB</strong>(int a,int r,int g,int b): è®¾ç½®ç»˜åˆ¶çš„é¢œè‰²ï¼Œaä»£è¡¨é€æ˜åº¦ï¼Œrï¼Œgï¼Œbä»£è¡¨é¢œè‰²å€¼ã€‚</li><li><strong>setAlpha</strong>(int a): è®¾ç½®ç»˜åˆ¶å›¾å½¢çš„é€æ˜åº¦ã€‚</li><li><strong>setColor</strong>(int color): è®¾ç½®ç»˜åˆ¶çš„é¢œè‰²ï¼Œä½¿ç”¨é¢œè‰²å€¼æ¥è¡¨ç¤ºï¼Œè¯¥é¢œè‰²å€¼åŒ…æ‹¬é€æ˜åº¦å’ŒRGBé¢œè‰²ã€‚</li><li><strong>setAntiAlias</strong>(boolean aa): è®¾ç½®æ˜¯å¦ä½¿ç”¨æŠ—é”¯é½¿åŠŸèƒ½ï¼Œä¼šæ¶ˆè€—è¾ƒå¤§èµ„æºï¼Œç»˜åˆ¶å›¾å½¢é€Ÿåº¦ä¼šå˜æ…¢ã€‚</li><li><strong>setDither</strong>(boolean dither): è®¾å®šæ˜¯å¦ä½¿ç”¨å›¾åƒæŠ–åŠ¨å¤„ç†ï¼Œä¼šä½¿ç»˜åˆ¶å‡ºæ¥çš„å›¾ç‰‡é¢œè‰²æ›´åŠ å¹³æ»‘å’Œé¥±æ»¡ï¼Œå›¾åƒæ›´åŠ æ¸…æ™°</li><li><strong>setFilterBitmap</strong>(boolean filter)ï¼š å¦‚æœè¯¥é¡¹è®¾ç½®ä¸ºtrueï¼Œåˆ™å›¾åƒåœ¨åŠ¨ç”»è¿›è¡Œä¸­ä¼šæ»¤æ‰å¯¹Bitmapå›¾åƒçš„ä¼˜åŒ–æ“ä½œï¼Œ åŠ å¿«æ˜¾ç¤ºé€Ÿåº¦ï¼Œæœ¬è®¾ç½®é¡¹ä¾èµ–äºditherå’Œxfermodeçš„è®¾ç½®</li><li><strong>setMaskFilter</strong>(MaskFilter maskfilter)ï¼š è®¾ç½®MaskFilterï¼Œå¯ä»¥ç”¨ä¸åŒçš„MaskFilterå®ç°æ»¤é•œçš„æ•ˆæœï¼Œå¦‚æ»¤åŒ–ï¼Œç«‹ä½“ç­‰</li><li><strong>setColorFilter</strong>(ColorFilter colorfilter)ï¼š è®¾ç½®é¢œè‰²è¿‡æ»¤å™¨ï¼Œå¯ä»¥åœ¨ç»˜åˆ¶é¢œè‰²æ—¶å®ç°ä¸ç”¨é¢œè‰²çš„å˜æ¢æ•ˆæœ</li><li><strong>setPathEffect</strong>(PathEffect effect) è®¾ç½®ç»˜åˆ¶è·¯å¾„çš„æ•ˆæœï¼Œå¦‚ç‚¹ç”»çº¿ç­‰</li><li><strong>setShader</strong>(Shader shader)ï¼š è®¾ç½®å›¾åƒæ•ˆæœï¼Œä½¿ç”¨Shaderå¯ä»¥ç»˜åˆ¶å‡ºå„ç§æ¸å˜æ•ˆæœ</li><li><strong>setShadowLayer</strong>(float radius ,float dx,float dy,int color)ï¼šåœ¨å›¾å½¢ä¸‹é¢è®¾ç½®é˜´å½±å±‚ï¼Œäº§ç”Ÿé˜´å½±æ•ˆæœï¼Œ radiusä¸ºé˜´å½±çš„è§’åº¦ï¼Œdxå’Œdyä¸ºé˜´å½±åœ¨xè½´å’Œyè½´ä¸Šçš„è·ç¦»ï¼Œcolorä¸ºé˜´å½±çš„é¢œè‰²</li><li><strong>setStyle</strong>(Paint.Style style)ï¼š è®¾ç½®ç”»ç¬”çš„æ ·å¼ï¼Œä¸ºFILLï¼ŒFILL_OR_STROKEï¼Œæˆ–STROKE</li><li><strong>setStrokeCap</strong>(Paint.Cap cap)ï¼š å½“ç”»ç¬”æ ·å¼ä¸ºSTROKEæˆ–FILL_OR_STROKEæ—¶ï¼Œè®¾ç½®ç¬”åˆ·çš„å›¾å½¢æ ·å¼ï¼Œ å¦‚åœ†å½¢æ ·Cap.ROUND,æˆ–æ–¹å½¢æ ·å¼Cap.SQUARE</li><li><strong>setSrokeJoin</strong>(Paint.Join join)ï¼š è®¾ç½®ç»˜åˆ¶æ—¶å„å›¾å½¢çš„ç»“åˆæ–¹å¼ï¼Œå¦‚å¹³æ»‘æ•ˆæœç­‰</li><li><strong>setStrokeWidth</strong>(float width)ï¼š å½“ç”»ç¬”æ ·å¼ä¸ºSTROKEæˆ–FILL_OR_STROKEæ—¶ï¼Œè®¾ç½®ç¬”åˆ·çš„ç²—ç»†åº¦</li><li><strong>setXfermode</strong>(Xfermode xfermode)ï¼š è®¾ç½®å›¾å½¢é‡å æ—¶çš„å¤„ç†æ–¹å¼ï¼Œå¦‚åˆå¹¶ï¼Œå–äº¤é›†æˆ–å¹¶é›†ï¼Œç»å¸¸ç”¨æ¥åˆ¶ä½œæ©¡çš®çš„æ“¦é™¤æ•ˆæœ</li><li><strong>setFakeBoldText</strong>(boolean fakeBoldText)ï¼š æ¨¡æ‹Ÿå®ç°ç²—ä½“æ–‡å­—ï¼Œè®¾ç½®åœ¨å°å­—ä½“ä¸Šæ•ˆæœä¼šéå¸¸å·®</li><li><strong>setSubpixelText</strong>(boolean subpixelText)ï¼š è®¾ç½®è¯¥é¡¹ä¸ºtrueï¼Œå°†æœ‰åŠ©äºæ–‡æœ¬åœ¨LCDå±å¹•ä¸Šçš„æ˜¾ç¤ºæ•ˆæœ</li><li><strong>setTextAlign</strong>(Paint.Align align)ï¼š è®¾ç½®ç»˜åˆ¶æ–‡å­—çš„å¯¹é½æ–¹å‘</li><li><strong>setTextScaleX</strong>(float scaleX)ï¼š è®¾ç½®ç»˜åˆ¶æ–‡å­—xè½´çš„ç¼©æ”¾æ¯”ä¾‹ï¼Œå¯ä»¥å®ç°æ–‡å­—çš„æ‹‰ä¼¸çš„æ•ˆæœ</li><li><strong>setTextSize</strong>(float textSize)ï¼š è®¾ç½®ç»˜åˆ¶æ–‡å­—çš„å­—å·å¤§å°</li><li><strong>setTextSkewX</strong>(float skewX)ï¼š è®¾ç½®æ–œä½“æ–‡å­—ï¼ŒskewXä¸ºå€¾æ–œå¼§åº¦</li><li><strong>setTypeface</strong>(Typeface typeface)ï¼š è®¾ç½®Typefaceå¯¹è±¡ï¼Œå³å­—ä½“é£æ ¼ï¼ŒåŒ…æ‹¬ç²—ä½“ï¼Œæ–œä½“ä»¥åŠè¡¬çº¿ä½“ï¼Œéè¡¬çº¿ä½“ç­‰</li><li><strong>setUnderlineText</strong>(boolean underlineText)ï¼š è®¾ç½®å¸¦æœ‰ä¸‹åˆ’çº¿çš„æ–‡å­—æ•ˆæœ</li><li><strong>setStrikeThruText</strong>(boolean strikeThruText)ï¼š è®¾ç½®å¸¦æœ‰åˆ é™¤çº¿çš„æ•ˆæœ</li><li><strong>setStrokeJoin</strong>(Paint.Join join)ï¼š è®¾ç½®ç»“åˆå¤„çš„æ ·å­ï¼ŒMiter:ç»“åˆå¤„ä¸ºé”è§’ï¼Œ Round:ç»“åˆå¤„ä¸ºåœ†å¼§ï¼šBEVELï¼šç»“åˆå¤„ä¸ºç›´çº¿</li><li><strong>setStrokeMiter</strong>(float miter)ï¼šè®¾ç½®ç”»ç¬”å€¾æ–œåº¦</li><li><strong>setStrokeCap</strong> (Paint.Cap cap)ï¼šè®¾ç½®è½¬å¼¯å¤„çš„é£æ ¼ å…¶ä»–å¸¸ç”¨æ–¹æ³•ï¼š</li><li>float <strong>ascent</strong>( )ï¼šæµ‹é‡baselineä¹‹ä¸Šè‡³å­—ç¬¦æœ€é«˜å¤„çš„è·ç¦»</li></ul><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1530931625067f37afbb6f0><p class=pgc-img-caption></p></div><ul><li><br></li><li>float <strong>descent</strong>()ï¼šbaselineä¹‹ä¸‹è‡³å­—ç¬¦æœ€ä½å¤„çš„è·ç¦»</li><li>int <strong>breakText</strong>(char[] text, int index, int count, float maxWidth, float[] measuredWidth)ï¼š æ£€æµ‹ä¸€è¡Œæ˜¾ç¤ºå¤šå°‘æ–‡å­—</li><li><strong>clearShadowLayer</strong>( )ï¼šæ¸…é™¤é˜´å½±å±‚ å…¶ä»–çš„è‡ªè¡ŒæŸ¥é˜…æ–‡æ¡£~</li></ul><hr><p><strong>2)Canvas(ç”»å¸ƒ):</strong></p><blockquote><p>ç”»ç¬”æœ‰äº†ï¼Œæ¥ç€å°±åˆ°ç”»å¸ƒ(Canvas)ï¼Œæ€»ä¸èƒ½å‡­ç©ºä½œç”»æ˜¯å§~å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><p>é¦–å…ˆæ˜¯<strong>æ„é€ æ–¹æ³•</strong>ï¼ŒCanvasçš„æ„é€ æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p><p><strong>Canvas()</strong>: åˆ›å»ºä¸€ä¸ªç©ºçš„ç”»å¸ƒï¼Œå¯ä»¥ä½¿ç”¨setBitmap()æ–¹æ³•æ¥è®¾ç½®ç»˜åˆ¶å…·ä½“çš„ç”»å¸ƒã€‚</p><p><strong>Canvas(Bitmap bitmap)</strong>: ä»¥bitmapå¯¹è±¡åˆ›å»ºä¸€ä¸ªç”»å¸ƒï¼Œå°†å†…å®¹éƒ½ç»˜åˆ¶åœ¨bitmapä¸Šï¼Œå› æ­¤bitmapä¸å¾—ä¸ºnullã€‚</p><p>æ¥ç€æ˜¯ <strong>1.drawXXX()</strong>æ–¹æ³•æ—ï¼šä»¥ä¸€å®šçš„åº§æ ‡å€¼åœ¨å½“å‰ç”»å›¾åŒºåŸŸç”»å›¾ï¼Œå¦å¤–å›¾å±‚ä¼šå åŠ ï¼Œ å³åé¢ç»˜ç”»çš„å›¾å±‚ä¼šè¦†ç›–å‰é¢ç»˜ç”»çš„å›¾å±‚ã€‚ æ¯”å¦‚ï¼š</p></blockquote><ul><li><strong>drawRect</strong>(RectF rect, Paint paint) ï¼šç»˜åˆ¶åŒºåŸŸï¼Œå‚æ•°ä¸€ä¸ºRectFä¸€ä¸ªåŒºåŸŸ</li><li><strong>drawPath</strong>(Path path, Paint paint) ï¼šç»˜åˆ¶ä¸€ä¸ªè·¯å¾„ï¼Œå‚æ•°ä¸€ä¸ºPathè·¯å¾„å¯¹è±¡</li><li><strong>drawBitmap</strong>(Bitmap bitmap, Rect src, Rect dst, Paint paint) ï¼š è´´å›¾ï¼Œå‚æ•°ä¸€å°±æ˜¯æˆ‘ä»¬å¸¸è§„çš„Bitmapå¯¹è±¡ï¼Œå‚æ•°äºŒæ˜¯æºåŒºåŸŸ(è¿™é‡Œæ˜¯bitmap)ï¼Œ å‚æ•°ä¸‰æ˜¯ç›®æ ‡åŒºåŸŸ(åº”è¯¥åœ¨canvasçš„ä½ç½®å’Œå¤§å°)ï¼Œå‚æ•°å››æ˜¯Paintç”»åˆ·å¯¹è±¡ï¼Œ å› ä¸ºç”¨åˆ°äº†ç¼©æ”¾å’Œæ‹‰ä¼¸çš„å¯èƒ½ï¼Œå½“åŸå§‹Rectä¸ç­‰äºç›®æ ‡Rectæ—¶æ€§èƒ½å°†ä¼šæœ‰å¤§å¹…æŸå¤±ã€‚</li><li><strong>drawLine</strong>(float startX, float startY, float stopX, float stopY, Paintpaint) ï¼š ç”»çº¿ï¼Œå‚æ•°ä¸€èµ·å§‹ç‚¹çš„xè½´ä½ç½®ï¼Œå‚æ•°äºŒèµ·å§‹ç‚¹çš„yè½´ä½ç½®ï¼Œå‚æ•°ä¸‰ç»ˆç‚¹çš„xè½´æ°´å¹³ä½ç½®ï¼Œ å‚æ•°å››yè½´å‚ç›´ä½ç½®ï¼Œæœ€åä¸€ä¸ªå‚æ•°ä¸ºPaint ç”»åˆ·å¯¹è±¡ã€‚</li><li><strong>drawPoint</strong>(float x, float y, Paint paint)ï¼š ç”»ç‚¹ï¼Œå‚æ•°ä¸€æ°´å¹³xè½´ï¼Œå‚æ•°äºŒå‚ç›´yè½´ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºPaintå¯¹è±¡ã€‚</li><li><strong>drawText</strong>(String text, float x, floaty, Paint paint) ï¼š æ¸²æŸ“æ–‡æœ¬ï¼ŒCanvasç±»é™¤äº†ä¸Šé¢çš„è¿˜å¯ä»¥æç»˜æ–‡å­—ï¼Œå‚æ•°ä¸€æ˜¯Stringç±»å‹çš„æ–‡æœ¬ï¼Œ å‚æ•°äºŒxè½´ï¼Œå‚æ•°ä¸‰yè½´ï¼Œå‚æ•°å››æ˜¯Paintå¯¹è±¡ã€‚</li><li><strong>drawOval</strong>(RectF oval, Paint paint)ï¼šç”»æ¤­åœ†ï¼Œå‚æ•°ä¸€æ˜¯æ‰«æåŒºåŸŸï¼Œå‚æ•°äºŒä¸ºpaintå¯¹è±¡ï¼›</li><li><strong>drawCircle</strong>(float cx, float cy, float radius,Paint paint)ï¼š ç»˜åˆ¶åœ†ï¼Œå‚æ•°ä¸€æ˜¯ä¸­å¿ƒç‚¹çš„xè½´ï¼Œå‚æ•°äºŒæ˜¯ä¸­å¿ƒç‚¹çš„yè½´ï¼Œå‚æ•°ä¸‰æ˜¯åŠå¾„ï¼Œå‚æ•°å››æ˜¯paintå¯¹è±¡ï¼›</li><li><strong>drawArc</strong>(RectF oval, float startAngle, float sweepAngle, boolean useCenter, Paint paint)ï¼š ç”»å¼§ï¼Œå‚æ•°ä¸€æ˜¯RectFå¯¹è±¡ï¼Œä¸€ä¸ªçŸ©å½¢åŒºåŸŸæ¤­åœ†å½¢çš„ç•Œé™ç”¨äºå®šä¹‰åœ¨å½¢çŠ¶ã€å¤§å°ã€ç”µå¼§ï¼Œå‚æ•°äºŒæ˜¯èµ·å§‹è§’ (åº¦)åœ¨ç”µå¼§çš„å¼€å§‹ï¼Œå‚æ•°ä¸‰æ‰«æè§’(åº¦)å¼€å§‹é¡ºæ—¶é’ˆæµ‹é‡çš„ï¼Œå‚æ•°å››æ˜¯å¦‚æœè¿™æ˜¯çœŸçš„è¯,åŒ…æ‹¬æ¤­åœ†ä¸­å¿ƒçš„ç”µ å¼§,å¹¶å…³é—­å®ƒ,å¦‚æœå®ƒæ˜¯å‡è¿™å°†æ˜¯ä¸€ä¸ªå¼§çº¿,å‚æ•°äº”æ˜¯Paintå¯¹è±¡ï¼›</li></ul><blockquote><p>2.<strong>clipXXX()</strong>æ–¹æ³•æ—:åœ¨å½“å‰çš„ç”»å›¾åŒºåŸŸè£å‰ª(clip)å‡ºä¸€ä¸ªæ–°çš„ç”»å›¾åŒºåŸŸï¼Œè¿™ä¸ªç”»å›¾åŒºåŸŸå°±æ˜¯canvas å¯¹è±¡çš„å½“å‰ç”»å›¾åŒºåŸŸäº†ã€‚æ¯”å¦‚ï¼šclipRect(new Rect())ï¼Œé‚£ä¹ˆè¯¥çŸ©å½¢åŒºåŸŸå°±æ˜¯canvasçš„å½“å‰ç”»å›¾åŒºåŸŸ</p><p>3.<strong>save()</strong>å’Œ<strong>restore()</strong>æ–¹æ³•ï¼š <strong>save</strong>( )ï¼šç”¨æ¥ä¿å­˜Canvasçš„çŠ¶æ€ã€‚saveä¹‹åï¼Œå¯ä»¥è°ƒç”¨Canvasçš„å¹³ç§»ã€æ”¾ç¼©ã€æ—‹è½¬ã€é”™åˆ‡ã€è£å‰ªç­‰æ“ä½œï¼ <strong>restore</strong>ï¼ˆï¼‰ï¼šç”¨æ¥æ¢å¤Canvasä¹‹å‰ä¿å­˜çš„çŠ¶æ€ã€‚é˜²æ­¢saveåå¯¹Canvasæ‰§è¡Œçš„æ“ä½œå¯¹åç»­çš„ç»˜åˆ¶æœ‰å½±å“ã€‚ save()å’Œrestore()è¦é…å¯¹ä½¿ç”¨(restoreå¯ä»¥æ¯”saveå°‘,ä½†ä¸èƒ½å¤š)ï¼Œè‹¥restoreè°ƒç”¨æ¬¡æ•°æ¯”saveå¤š,ä¼šæŠ¥é”™ï¼</p><p>4.<strong>translate</strong>(float dx, float dy)ï¼š å¹³ç§»ï¼Œå°†ç”»å¸ƒçš„åº§æ ‡åŸç‚¹å‘å·¦å³æ–¹å‘ç§»åŠ¨xï¼Œå‘ä¸Šä¸‹æ–¹å‘ç§»åŠ¨y.canvasçš„é»˜è®¤ä½ç½®æ˜¯åœ¨ï¼ˆ0,0ï¼‰</p><p>5.<strong>scale</strong>(float sx, float sy)ï¼šæ‰©å¤§ï¼Œxä¸ºæ°´å¹³æ–¹å‘çš„æ”¾å¤§å€æ•°ï¼Œyä¸ºç«–ç›´æ–¹å‘çš„æ”¾å¤§å€æ•°</p><p>6.<strong>rotate</strong>(float degrees)ï¼šæ—‹è½¬ï¼ŒangleæŒ‡æ—‹è½¬çš„è§’åº¦ï¼Œé¡ºæ—¶é’ˆæ—‹è½¬</p></blockquote><hr><p><strong>3)Path(è·¯å¾„)</strong></p><blockquote><p>ç®€å•ç‚¹è¯´å°±æ˜¯æç‚¹ï¼Œè¿çº¿~åœ¨åˆ›å»ºå¥½æˆ‘ä»¬çš„Pathè·¯å¾„åï¼Œå¯ä»¥è°ƒç”¨Canvasçš„<strong>drawPath</strong>(path,paint) å°†å›¾å½¢ç»˜åˆ¶å‡ºæ¥~å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p></blockquote><ul><li><strong>addArc</strong>(RectF oval, float startAngle, float sweepAngleï¼šä¸ºè·¯å¾„æ·»åŠ ä¸€ä¸ªå¤šè¾¹å½¢</li><li><strong>addCircle</strong>(float x, float y, float radius, Path.Direction dir)ï¼šç»™pathæ·»åŠ åœ†åœˆ</li><li><strong>addOval</strong>(RectF oval, Path.Direction dir)ï¼šæ·»åŠ æ¤­åœ†å½¢</li><li><strong>addRect</strong>(RectF rect, Path.Direction dir)ï¼šæ·»åŠ ä¸€ä¸ªåŒºåŸŸ</li><li><strong>addRoundRect</strong>(RectF rect, float[] radii, Path.Direction dir)ï¼šæ·»åŠ ä¸€ä¸ªåœ†è§’åŒºåŸŸ</li><li><strong>isEmpty</strong>()ï¼šåˆ¤æ–­è·¯å¾„æ˜¯å¦ä¸ºç©º</li><li><strong>transform</strong>(Matrix matrix)ï¼šåº”ç”¨çŸ©é˜µå˜æ¢</li><li><strong>transform</strong>(Matrix matrix, Path dst)ï¼šåº”ç”¨çŸ©é˜µå˜æ¢å¹¶å°†ç»“æœæ”¾åˆ°æ–°çš„è·¯å¾„ä¸­ï¼Œå³ç¬¬äºŒä¸ªå‚æ•°ã€‚</li></ul><blockquote><p>æ›´é«˜çº§çš„æ•ˆæœå¯ä»¥ä½¿ç”¨PathEffectç±»ï¼</p><p>å‡ ä¸ªToï¼š</p></blockquote><ul><li><strong>moveTo</strong>(float x, float y)ï¼šä¸ä¼šè¿›è¡Œç»˜åˆ¶ï¼Œåªç”¨äºç§»åŠ¨ç§»åŠ¨ç”»ç¬”</li><li><strong>lineTo</strong>(float x, float y)ï¼šç”¨äºç›´çº¿ç»˜åˆ¶ï¼Œé»˜è®¤ä»(0ï¼Œ0)å¼€å§‹ç»˜åˆ¶ï¼Œç”¨moveToç§»åŠ¨ï¼ æ¯”å¦‚ mPath.lineTo(300, 300); canvas.drawPath(mPath, mPaint);</li><li><strong>quadTo</strong>(float x1, float y1, float x2, float y2)ï¼š ç”¨äºç»˜åˆ¶åœ†æ»‘æ›²çº¿ï¼Œå³è´å¡å°”æ›²çº¿ï¼ŒåŒæ ·å¯ä»¥ç»“åˆmoveToä½¿ç”¨ï¼</li></ul><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/15309316252509a73290d72><p class=pgc-img-caption></p></div><ul><li><br></li><li><strong>rCubicTo</strong>(float x1, float y1, float x2, float y2, float x3, float y3) åŒæ ·æ˜¯ç”¨æ¥å®ç°è´å¡å°”æ›²çº¿çš„ã€‚ (x1,y1) ä¸ºæ§åˆ¶ç‚¹ï¼Œ(x2,y2)ä¸ºæ§åˆ¶ç‚¹ï¼Œ(x3,y3) ä¸ºç»“æŸç‚¹ã€‚ Same as cubicTo, but the coordinates are considered relative to the current point on this contour.å°±æ˜¯å¤šä¸€ä¸ªæ§åˆ¶ç‚¹è€Œå·²~ ç»˜åˆ¶ä¸Šè¿°çš„æ›²çº¿ï¼š mPath.moveTo(100, 500); mPath.cubicTo(100, 500, 300, 100, 600, 500); å¦‚æœä¸åŠ ä¸Šé¢çš„é‚£ä¸ªmoveToçš„è¯ï¼šåˆ™ä»¥(0,0)ä¸ºèµ·ç‚¹ï¼Œ(100,500)å’Œ(300,100)ä¸ºæ§åˆ¶ç‚¹ç»˜åˆ¶è´å¡å°”æ›²çº¿</li></ul><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/153093162531595fca79130><p class=pgc-img-caption></p></div><ul><li><br></li><li><strong>arcTo</strong>(RectF oval, float startAngle, float sweepAngle)ï¼š ç»˜åˆ¶å¼§çº¿ï¼ˆå®é™…æ˜¯æˆªå–åœ†æˆ–æ¤­åœ†çš„ä¸€éƒ¨åˆ†ï¼‰ovalRectFä¸ºæ¤­åœ†çš„çŸ©å½¢ï¼ŒstartAngle ä¸ºå¼€å§‹è§’åº¦ï¼Œ sweepAngle ä¸ºç»“æŸè§’åº¦ã€‚</li></ul><hr><p>2.åŠ¨æ‰‹è¯•è¯•ï¼š</p><blockquote><p>å±æ€§é‚£ä¹ˆå¤šï¼Œè‚¯å®šè¦æ‰‹æŠŠæ‰‹çš„æ’¸ä¸€ä¸‹ï¼Œæ‰èƒ½åŠ æ·±æˆ‘ä»¬çš„æ˜ åƒæ˜¯å§~ å˜¿å˜¿ï¼Œç”»å›¾è¦ä¹ˆåœ¨Viewä¸Šç”»ï¼Œè¦ä¹ˆåœ¨SurfaceViewä¸Šç”»ï¼Œè¿™é‡Œæˆ‘ä»¬åœ¨Viewä¸Šç”»å§ï¼Œ æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªViewç±»ï¼Œç„¶åå†onDraw()é‡Œå®Œæˆç»˜åˆ¶å·¥ä½œï¼</p></blockquote><p>/**</p><p>* Created by Jay on 2015/10/15 0015.</p><p>*/</p><p>public class MyView extends View{</p><p>private Paint mPaint;</p><p>public MyView(Context context) {</p><p>super(context);</p><p>init();</p><p>}</p><p>public MyView(Context context, AttributeSet attrs) {</p><p>super(context, attrs);</p><p>init();</p><p>}</p><p>public MyView(Context context, AttributeSet attrs, int defStyleAttr) {</p><p>super(context, attrs, defStyleAttr);</p><p>init();</p><p>}</p><p>private void init(){</p><p>mPaint = new Paint();</p><p>mPaint.setAntiAlias(true); //æŠ—é”¯é½¿</p><p>mPaint.setColor(getResources().getColor(R.color.puple));//ç”»ç¬”é¢œè‰²</p><p>mPaint.setStyle(Paint.Style.FILL); //ç”»ç¬”é£æ ¼</p><p>mPaint.setTextSize(36); //ç»˜åˆ¶æ–‡å­—å¤§å°ï¼Œå•ä½px</p><p>mPaint.setStrokeWidth(5); //ç”»ç¬”ç²—ç»†</p><p>}</p><p>//é‡å†™è¯¥æ–¹æ³•ï¼Œåœ¨è¿™é‡Œç»˜å›¾</p><p>@Override</p><p>protected void onDraw(Canvas canvas) {</p><p>super.onDraw(canvas);</p><p>}</p><p>}</p><p>ç„¶åå¸ƒå±€é‚£é‡Œè®¾ç½®ä¸‹è¿™ä¸ªViewå°±å¥½ï¼Œä¸‹è¿°ä»£ç éƒ½å†™åœ¨onDrawableä¸­~</p><hr><p><strong>1ï¼‰è®¾ç½®ç”»å¸ƒé¢œè‰²ï¼š</strong></p><p>canvas.drawColor(getResources().getColor(R.color.yellow)); //è®¾ç½®ç”»å¸ƒèƒŒæ™¯é¢œè‰²</p><hr><p><strong>2ï¼‰ç»˜åˆ¶åœ†å½¢ï¼š</strong></p><p>canvas.drawCircle(200, 200, 100, mPaint); //ç”»å®å¿ƒåœ†</p><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1530931625233b2235a8b4e><p class=pgc-img-caption></p></div><hr><p><strong>3ï¼‰ç»˜åˆ¶çŸ©å½¢ï¼š</strong></p><p>canvas.drawRect(0, 0, 200, 100, mPaint); //ç”»çŸ©å½¢</p><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1530931625084789d0935b1><p class=pgc-img-caption></p></div><hr><p><strong>4ï¼‰ç»˜åˆ¶Bitmapï¼š</strong></p><p>canvas.drawBitmap(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher), 0, 0, mPaint);</p><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/15309316252254910b388cd><p class=pgc-img-caption></p></div><hr><p><strong>5ï¼‰ç»˜åˆ¶å¼§å½¢åŒºåŸŸï¼š</strong></p><p>canvas.drawArc(new RectF(0, 0, 100, 100),0,90,true,mPaint); //ç»˜åˆ¶å¼§å½¢åŒºåŸŸ</p><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1530931625331d8760d2fe5><p class=pgc-img-caption></p></div><p>å‡å¦‚trueæ”¹ä¸ºfalseï¼š</p><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/15309316254731dacd2690c><p class=pgc-img-caption></p></div><hr><p><strong>6ï¼‰ç»˜åˆ¶åœ†è§’çŸ©å½¢</strong></p><p>canvas.drawRoundRect(new RectF(10,10,210,110),15,15,mPaint); //ç”»åœ†è§’çŸ©å½¢</p><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1530931625442be98840bbf><p class=pgc-img-caption></p></div><hr><p><strong>7ï¼‰ç»˜åˆ¶æ¤­åœ†</strong></p><p>canvas.drawOval(new RectF(0,0,200,300),mPaint); //ç”»æ¤­åœ†</p><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1530931625474c1fb75b2d6><p class=pgc-img-caption></p></div><hr><p><strong>8)ç»˜åˆ¶å¤šè¾¹å½¢ï¼š</strong></p><p>Path path = new Path();</p><p>path.moveTo(10, 10); //ç§»åŠ¨åˆ° åº§æ ‡10,10</p><p>path.lineTo(100, 50);</p><p>path.lineTo(200,40);</p><p>path.lineTo(300, 20);</p><p>path.lineTo(200, 10);</p><p>path.lineTo(100, 70);</p><p>path.lineTo(50, 40);</p><p>path.close();</p><p>canvas.drawPath(path,mPaint);</p><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15309316256932a1f29d1d4><p class=pgc-img-caption></p></div><hr><p><strong>9)ç»˜åˆ¶æ–‡å­—ï¼š</strong></p><p>canvas.drawText("æœ€å–œæ¬¢çœ‹æ›¹ç¥æ—¥ç‹—äº†~",50,50,mPaint); //ç»˜åˆ¶æ–‡å­—</p><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1530931625775ef232a4344><p class=pgc-img-caption></p></div><p>ä½ ä¹Ÿå¯ä»¥æ²¿ç€æŸæ¡Pathæ¥ç»˜åˆ¶è¿™äº›æ–‡å­—ï¼š</p><p>Path path = new Path();</p><p>path.moveTo(50,50);</p><p>path.lineTo(100, 100);</p><p>path.lineTo(200, 200);</p><p>path.lineTo(300, 300);</p><p>path.close();</p><p>canvas.drawTextOnPath("æœ€å–œæ¬¢çœ‹æ›¹ç¥æ—¥ç‹—äº†~", path, 50, 50, mPaint); //ç»˜åˆ¶æ–‡å­—</p><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1530931626670aab63f05ac><p class=pgc-img-caption></p></div><hr><p><strong>10)ç»˜åˆ¶è‡ªå®šä¹‰çš„å›¾å½¢ï¼š</strong></p><p>ä»£ç æ¥æºäºç½‘ä¸Šï¼š</p><p>protected void onDraw(Canvas canvas) {</p><p>super.onDraw(canvas);</p><p>canvas.translate(canvas.getWidth()/2, 200); //å°†ä½ç½®ç§»åŠ¨ç”»çº¸çš„åº§æ ‡ç‚¹:150,150</p><p>canvas.drawCircle(0, 0, 100, mPaint); //ç”»åœ†åœˆ</p><p>//ä½¿ç”¨pathç»˜åˆ¶è·¯å¾„æ–‡å­—</p><p>canvas.save();</p><p>canvas.translate(-75, -75);</p><p>Path path = new Path();</p><p>path.addArc(new RectF(0,0,150,150), -180, 180);</p><p>Paint citePaint = new Paint(mPaint);</p><p>citePaint.setTextSize(14);</p><p>citePaint.setStrokeWidth(1);</p><p>canvas.drawTextOnPath("ç»˜åˆ¶è¡¨ç›˜~", path, 28, 0, citePaint);</p><p>canvas.restore();</p><p>Paint tmpPaint = new Paint(mPaint); //å°åˆ»åº¦ç”»ç¬”å¯¹è±¡</p><p>tmpPaint.setStrokeWidth(1);</p><p>float y=100;</p><p>int count = 60; //æ€»åˆ»åº¦æ•°</p><p>for(int i=0 ; i &lt;count ; i++){</p><p>if(i%5 == 0){</p><p>canvas.drawLine(0f, y, 0, y+12f, mPaint);</p><p>canvas.drawText(String.valueOf(i/5+1), -4f, y+25f, tmpPaint);</p><p>}else{</p><p>canvas.drawLine(0f, y, 0f, y +5f, tmpPaint);</p><p>}</p><p>canvas.rotate(360/count,0f,0f); //æ—‹è½¬ç”»çº¸</p><p>}</p><p>//ç»˜åˆ¶æŒ‡é’ˆ</p><p>tmpPaint.setColor(Color.GRAY);</p><p>tmpPaint.setStrokeWidth(4);</p><p>canvas.drawCircle(0, 0, 7, tmpPaint);</p><p>tmpPaint.setStyle(Paint.Style.FILL);</p><p>tmpPaint.setColor(Color.YELLOW);</p><p>canvas.drawCircle(0, 0, 5, tmpPaint);</p><p>canvas.drawLine(0, 10, 0, -65, mPaint);</p><p>}</p><div class=pgc-img><img alt=ä¸‰ä¸ªç»˜å›¾å·¥å…·ç±»è¯¦è§£ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1530931625708f0d20dc257><p class=pgc-img-caption></p></div><hr><p>æœ¬èŠ‚å°ç»“ï¼š</p><blockquote><p>æœ¬èŠ‚æˆ‘ä»¬å¯¹android.graphicsæ¥å£ç±»ä¸‹çš„ä¸‰ä¸ªç»˜å›¾APIï¼šCanvas(ç”»å¸ƒ)ï¼ŒPaint(ç”»ç¬”)ï¼ŒPath(è·¯å¾„)è¿›è¡Œ äº†å­¦ä¹ ï¼Œæ–¹æ³•æœ‰å¾ˆå¤šï¼Œåˆ«å»æ­»è®°ï¼Œç”¨åˆ°çš„æ—¶å€™æŸ¥å°±å¥½ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆæœ‰ä¸ªå¤§æ¦‚æ˜ åƒå³å¯ï¼Œè‡ªå®šä¹‰æ§ä»¶é‚£é‡Œ æˆ‘ä»¬å†æ¥æ…¢æ…¢çº ç»“~å¥½çš„ï¼Œå°±è¯´è¿™ä¹ˆå¤š</p></blockquote></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'ä¸‰ä¸ª','ç»˜å›¾','ç±»è¯¦è§£'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>