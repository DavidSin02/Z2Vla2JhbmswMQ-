<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>一文带大家了解IQ调制（涨知识了！） | 极客快訊</title><meta property="og:title" content="一文带大家了解IQ调制（涨知识了！） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/2c23cbc992e44585b3d76ac28dbea5e9"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a99f21a0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a99f21a0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a99f21a0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a99f21a0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a99f21a0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a99f21a0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a99f21a0.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a99f21a0.html><meta property="article:published_time" content="2020-11-14T21:05:18+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:18+08:00"><meta name=Keywords content><meta name=description content="一文带大家了解IQ调制（涨知识了！）"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/a99f21a0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>一文带大家了解IQ调制（涨知识了！）</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p><strong>引言</strong></p><p>随着芯片集成度增高，射频人员接触到IQ调制的机会也增多。现代通信中，IQ调制基本上属于是标准配置，因为利用IQ调制可以做出所有的调制方式。</p><p>比如说，正交解调器以及正交调制器等，可以直接进行射频信号与基带IQ信号的转换。那么，大家对IQ调制又有多了解呢？接下来就带大家稍稍微谈一下IQ调制。</p><div class=pgc-img><img alt=一文带大家了解IQ调制（涨知识了！） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2c23cbc992e44585b3d76ac28dbea5e9><p class=pgc-img-caption></p></div><p><strong>什么是IQ调制？</strong></p><p>IQ调制就是数据分为两路，分别进行载波调制，两路载波相互正交。 I：in-phase（同相）, q: quadrature（正交）。</p><p>所谓的IQ调制，冠冕堂皇的说法无法是什么正交信号如何如何……其实对于IQ调制可以从两个方面来直观的理解，一个是向量，一个是三角函数。首先说一说向量，对于通信的传输过程而言，其本质是完成了信息的传递。信息如何传递？信息本身是无法传递的，必须要以信号为载体，以物理世界中的信号某个特征来表示这个信息。那么有哪些特征可以表示呢，对于一个物理世界中存在的信号而已，无非就三个特征：相位、幅度、频率。其中频率和相位可以通过一定的关系等价出来。那么主要就是相位和幅度了。</p><p>好了，我们回到向量上面来。在一个二维平面里面，一个向量的信息同样可以转换为幅度（模）和相位（夹角）来表示。反过来时候，一个给定的向量，由于其模和夹角不同，可以通过该给定的向量表示一定的信息。如下图所示的QPSK调制：</p><div class=pgc-img><img alt=一文带大家了解IQ调制（涨知识了！） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/00fc7362f496445a99dcf233275144d1><p class=pgc-img-caption></p></div><p>四个向量由于和X轴正半轴的夹角不同，可以分别表示出4个值。</p><p>再来看另外一个问题，如何生成这样一个夹角不同的向量呢？这其实有时一个很简单的数学问题：正交分解。任何一个向量都可以投影到X轴和Y轴上面做出两个向量来。这样我们就只需要改变X轴和Y轴上面的分量大小，就可以生成任意的向量。如X=1，y=-1时，就可以生成和X轴夹角315°模为根号2的这个向量。这条性质有什么用呢？后面我会解释。</p><p>好了，到目前为止，这都是数学分析，所谓的正交分解，那首先是要找到两个正交向量。在我们真实的物理世界里面去哪里找这两个正交的向量呢。呵呵，还真有，而且是现成的。就是sin和cos。有性质cos（α+π/2）=sinα，二者正好相差九十度。至于这二者的正交性如何证明，我想这是数学老师的事情。反正现在已知有了这么两个正交的东西了。有这两个东西就太好了……为什么这么说呢，因为有了整个东西之后，抽象的正交分解就变成了高中都学过的三角函数了。</p><p>对于cos（wt+α）=cos（α）cos（wt）+sin（α）sin（wt），其中cos（α）和sin（α）都是常数，其实就变成了cos（wt）和sin（wt）的幅度了。换言之，改变cos（wt）和sin（wt）幅度，就可以得到任意的相位α。如果再狠一点，加一个系数Acos（wt+α）=Acos（α）cos（wt）+Asin（α）sin（wt），这其实还是改变的cos（wt）和sin（wt）幅度。就可以得到任意幅度、任意相位的cos函数，并可以利用这些函数去表示不同的信息。对此，通信原理上通常会用一种抽象的说法来约定表示方式，就是所谓的星座图。</p><p>一个常见的16点QAM星座图如下：</p><div class=pgc-img><img alt=一文带大家了解IQ调制（涨知识了！） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bf6f8fedbba344d291074c0a491dd00e><p class=pgc-img-caption></p></div><p>以I轴代表cos，而Q轴代表sin。从图上可以看出，如果现在Acos（wt）+Asin（wt）可以求得一个向量（由于QQ空间没有很好的数学编辑器支持，就不写表达式了）。那么此时这个向量表示的是0101。而如果I轴上的值变为3A，换言之就是cos（wt）的幅度由A变为3A。就求得另外一个向量，该向量表示的是0100。</p><p>在真实的电路中，我们是怎样做到这一点的呢。这就和正交调制器有关了。下图就是一个正交调制器的实例：</p><div class=pgc-img><img alt=一文带大家了解IQ调制（涨知识了！） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a86bc9e5f2844a2cad330e70ebbeac6b><p class=pgc-img-caption></p></div><p>其核心是两个乘法器。从VCO中出来的高频余弦信号分别做0°和90°的相移，因此产生了cos（wt）和sin（wt），两路正交信号。基带信号通过I/Q两路基带信号进来，分别和cos（wt）和sin（wt）相乘，等效于调整了cos（wt）和sin（wt）的幅度值。最终等效成什么呢？就是控制I-DAC和Q-DAC的输入从而产生不同幅度的电平信号。</p><p>所以，最终从基带信号上面如何去控制产生已调信号，就变成了控制DA输出的不同幅度值的信号。因此，要让一个已调信号去表示某个信息，实际上就是把这个信息映射成I/Q两个DAC输出的幅度值。比如前面提到的那个星座图，对于0100这样一个数据实际上就是把它映射成I路的DAC输出3A而Q路上的DAC输出A。那么如何让I-DAC输出为3A而Q-DAC输出为A，这就是和DAC的输入输出特性有关了。比如，这是一个双极性4位的DAC，输入为00时输出为-3A，输入为01时输出为-A，输入为10时输出为A，输入为11时输出为3A。那么就如下图所示：</p><div class=pgc-img><img alt=一文带大家了解IQ调制（涨知识了！） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/753d56c8c76b40d1a1f67bd2ff62e3ba><p class=pgc-img-caption></p></div><p>说到这里大家最终发现了，所谓的星座映射，其实就译码器而已……</p><p>但是上面那个图，是不对的。原因是什么呢？就是这样直接映射得到的都是方波信号。如果我们把中间的包括IQ调制解调、射频收发的整个过程都等效成一个信道的话，那么可以抽象出这样一个模型：</p><div class=pgc-img><img alt=一文带大家了解IQ调制（涨知识了！） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6a7aeff951a844c8ae3a35c9bf3512b7><p class=pgc-img-caption></p></div><p>整个这个图又让我们回到了通信原理一开始就讲的最基本的内容——基带传输。对于基带信号而言，通过信道以后会产生诸多畸变。其中最重要的畸变之一是由于通过一个带限的信道，在频域上可近似等价于和一个门信号相乘，而时域上则等价于和一个Sa信号卷积。如下图所示左边为时域Sa函数，右边为等效低通的门信号：</p><div class=pgc-img><img alt=一文带大家了解IQ调制（涨知识了！） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/b52e489730984ded8fce832649129ff3><p class=pgc-img-caption></p></div><p>其结果就是本来应该是脉冲的信号在时域上产生了延拓，也就是拖尾……这样相邻的信号的幅度值就会和这个信号的拖尾叠加发生改变。改变的后果就是原本我们可能在发端映射的是I路3A，Q路A，但在收端却变成了3A-x，和A+y。等效于引入了很大的噪声。好在我们在通信原理中引入了乃奎斯特准则，给出了如果要无码间串扰需要在发端加入成型滤波器，让DA出来的值不是直挺挺的脉冲而是变成了某个形状的波形。而这一过程是在星座映射之后，DA之前。</p><p>基带成型滤波器基本流程如下：</p><div class=pgc-img><img alt=一文带大家了解IQ调制（涨知识了！） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1300470d273b40a6ba7b513a25dd3f31><p class=pgc-img-caption></p></div><p>这样DA出来的波形就是一个类似于余弦样子的波形了。至于为什么这样就没有码间串扰了，公式太多，QQ也写不出来。</p><p>最后来说一下接收的问题。从上面的所谓发射的过程就是产生一个有特定幅度和相位的余弦信号的过程。而所谓的接收呢，其实本质就是反过来，是识别这个余弦信号的幅度和相位的过程。这个过程可以有很多办法，我这里还是介绍最常见的IQ正交解调过程。</p><p>这个过程本质上来说还是一个三角函数的变换过程。上面说了，有三角函数：</p><p>Acos（wt+α）=Acos（α）cos（wt）+Asin（α）sin（wt)</p><p>如果要识别A和α，其本质其实上是识别Acos（α）和Asin（α）即可。</p><p>而这如何识别呢，考虑Acos（wt+α）*cos（wt）=Acos（α）cos（wt）*cos(wt)+Asin（α）sin（wt)*cos(wt)=1/2*Acos（α）(cos（2wt）+1)+1/2*Asin（α）sin(2wt)。对于这样一个结果，我们很高兴的发现，有一个常数项1*1/2*Acos（α）,而另外两个属于是高频项。对于此，任何学过信号与系统的同学都应该明白，只需要用一个低通滤波器就可以把1/2*Acos（α）提取出来。1/2*Asin（α）的提取方法类似。</p><p>当然这只是理想的过程，实际中接收机远比这个复杂，信号的识别过程也是有很多花样的。</p><p><strong>2、为什么要用IQ信号？</strong></p><p class=ql-align-justify>可能大家要问，为什么要多此一举，把一路信号分成两路信号传输呢，而且两路信号中包含同样的信息？</p><p class=ql-align-justify><strong><em>理由一 ：IQ信号让调制更简单</em></strong></p><p>一个正弦信号，有三个变量，振幅、频率和相位。所谓调制，就是对正弦信号的振幅、频率或者相位进行调制。而有了IQ信号，你只需要改变IQ信号的幅度，就可以实现这些调制。</p><p><strong><em>理由二：可以减少对滤波器抑制度的要求</em></strong></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'了解','IQ','涨知识'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>