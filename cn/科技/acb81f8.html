<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>PCB设计技巧经典70问，看完跪了 | 极客快訊</title><meta property="og:title" content="PCB设计技巧经典70问，看完跪了 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/99307772c5994e0c8cc266c3309b1570"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/acb81f8.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/acb81f8.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/acb81f8.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/acb81f8.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/acb81f8.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/acb81f8.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/acb81f8.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/acb81f8.html><meta property="article:published_time" content="2020-10-29T20:54:49+08:00"><meta property="article:modified_time" content="2020-10-29T20:54:49+08:00"><meta name=Keywords content><meta name=description content="PCB设计技巧经典70问，看完跪了"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/acb81f8.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>PCB设计技巧经典70问，看完跪了</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><br></p><div class=pgc-img><img alt=PCB设计技巧经典70问，看完跪了 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/99307772c5994e0c8cc266c3309b1570><p class=pgc-img-caption></p></div><p>选择 PCB 板材必须在满足设计需求和可量产性及成本中间取得平衡点。设计需求包含电气和机构这两部分。通常在设计非常高速的 PCB 板子(大于 GHz 的频率)时这材质问题会比较重要。例如，现在常用的 FR-4 材质，在几个 GHz 的频率时的介质损(dielectric loss)会对信号衰减有很大的影响，可能就不合用。就电气而言，要注意介电常数(dielectric constant)和介质损在所设计的频率是否合用。</p><p><strong>2、如何避免高频干扰？</strong></p><p>避免高频干扰的基本思路是尽量降低高频信号电磁场的干扰，也就是所谓的串扰(Crosstalk)。可用拉大高速信号和模拟信号之间的距离，或加 ground guard/shunt traces 在模拟信号旁边。还要注意数字地对模拟地的噪声干扰。</p><p><strong>3、在高速设计中，如何解决信号的完整性问题？</strong></p><p>信号完整性基本上是阻抗匹配的问题。而影响阻抗匹配的因素有信号源的架构和输出阻抗(output impedance)，走线的特性阻抗，负载端的特性，走线的拓朴(topology)架构等。解决的方式是靠端接(termination)与调整走线的拓朴。</p><p><strong>4、差分布线方式是如何实现的？</strong></p><p>差分对的布线有两点要注意，一是两条线的长度要尽量一样长，另一是两线的间距(此间距由差分阻抗决定)要一直保持不变，也就是要保持平行。平 行 的 方式有两种，一为两条线走在同一走线层(side-by-side)，一为两条线走在上下相邻两层(over-under)。一般以前者 side-by-side 实现的方式较多。</p><p><strong>5、对于只有一个输出端的时钟信号线，如何实现差分布线？</strong></p><p>要用差分布线一定是信号源和接收端也都是差分信号才有意义。所以对只有一个输出端的时钟信号是无法使用差分布线的。</p><p><strong>6、接收端差分线对之间可否加一匹配电阻？</strong></p><p>接收端差分线对间的匹配电阻通常会加, 其值应等于差分阻抗的值。这样信号品质会好些。</p><p><strong>7、为何差分对的布线要靠近且平行？</strong></p><p>对差分对的布线方式应该要适当的靠近且平行。所谓适当的靠近是因为这间距会影响到差分阻抗(differential impedance)的值, 此值是设计差分对的重要参数。需要平行也是因为要保持差分阻抗的一致性。若两线忽远忽近, 差分阻抗就会不一致, 就会影响信号完整性(signal integrity)及时间延迟(timing delay)。</p><p><strong>8、如何处理实际布线中的一些理论冲突的问题</strong></p><p>基本上, 将模/数地分割隔离是对的。要注意的是信号走线尽量不要跨过有分割的地方(moat), 还有不要让电源和信号的回流电流路径(returning current path)变太大。</p><p>晶振是模拟的正反馈振荡电路, 要有稳定的振荡信号, 必须满足loop gain 与 phase 的规范, 而这模拟信号的振荡规范很容易受到干扰, 即使加 ground guard traces 可能也无法完全隔离干扰。而且离的太远,地平面上的噪声也会影响正反馈振荡电路。所以, 一定要将晶振和芯片的距离进可能靠近。</p><p>确实高速布线与 EMI 的要求有很多冲突。但基本原则是因 EMI 所加的电阻电容或 ferrite bead, 不能造成信号的一些电气特性不符合规范。所以, 最好先用安排走线和 PCB 叠层的技巧来解决或减少 EMI的问题, 如高速信号走内层。最后才用电阻电容或 ferrite bead 的方式, 以降低对信号的伤害。</p><p><strong>9、如何解决高速信号的手工布线和自动布线之间的矛盾？</strong></p><p>现在较强的布线软件的自动布线器大部分都有设定约束条件来控制绕线方式及过孔数目。各家 EDA公司的绕线引擎能力和约束条件的设定项目有时相差甚远。例如, 是否有足够的约束条件控制蛇行线(serpentine)蜿蜒的方式, 能否控制差分对的走线间距等。这会影响到自动布线出来的走线方式是否能符合设计者的想法。另外, 手动调整布线的难易也与绕线引擎的能力有绝对的关系。例如, 走线的推挤能力,过孔的推挤能力, 甚至走线对敷铜的推挤能力等等。所以, 选择一个绕线引擎能力强的布线器, 才是解决之道。</p><p><strong>10、关于 test coupon。</strong></p><p>test coupon 是用来以 TDR (Time Domain Reflectometer) 测量所生产的 PCB 板的特性阻抗是否满足设计需求。一般要控制的阻抗有单根线和差分对两种情况。所以， test coupon 上的走线线宽和线距(有差分对时)要与所要控制的线一样。最重要的是测量时接地点的位置。为了减少接地引线(ground lead)的电感值， TDR 探棒(probe)接地的地方通常非常接近量信号的地方(probe tip)， 所以， test coupon 上量测信号的点跟接地点的距离和方式要符合所用的探棒。</p><p><strong>11、在高速 PCB 设计中，信号层的空白区域可以敷铜，而多个信号层的敷铜在接地和接电源上应如何分配？</strong></p><p>一般在空白区域的敷铜绝大部分情况是接地。只是在高速信号线旁敷铜时要注意敷铜与信号线的距离， 因为所敷的铜会降低一点走线的特性阻抗。也要注意不要影响到它层的特性阻抗， 例如在 dual strip line 的结构时。</p><p><strong>12、是否可以把电源平面上面的信号线使用微带线模型计算特性阻抗？电源和地平面之间的信号是否可以使用带状线模型计算？</strong></p><p>是的， 在计算特性阻抗时电源平面跟地平面都必须视为参考平面。例如四层板: 顶层-电源层-地层-底层， 这时顶层走线特性阻抗的模型是以电源平面为参考平面的微带线模型。</p><p><strong>13、在高密度印制板上通过软件自动产生测试点一般情况下能满足大批量生产的测试要求吗？</strong></p><p>一般软件自动产生测试点是否满足测试需求必须看对加测试点的规范是否符合测试机具的要求。另外，如果走线太密且加测试点的规范比较严，则有可能没办法自动对每段线都加上测试点，当然，需要手动补齐所要测试的地方。</p><p><strong>14、添加测试点会不会影响高速信号的质量？</strong></p><p>至于会不会影响信号质量就要看加测试点的方式和信号到底多快而定。基本上外加的测试点(不用线上既有的穿孔(via or DIP pin)当测试点)可能加在线上或是从线上拉一小段线出来。前者相当于是加上一个很小的电容在线上，后者则是多了一段分支。这两个情况都会对高速信号多多少少会有点影响，影响的程度就跟信号的频率速度和信号缘变化率(edge rate)有关。影响大小可透过仿真得知。原则上测试点越小越好(当然还要满足测试机具的要求)分支越短越好。</p><p><strong>15、若干 PCB 组成系统，各板之间的地线应如何连接？</strong></p><p>各个 PCB 板子相互连接之间的信号或电源在动作时，例如 A 板子有电源或信号送到 B 板子，一定会有等量的电流从地层流回到 A 板子 (此为 Kirchoff current law)。这地层上的电流会找阻抗最小的地方流回去。所以，在各个不管是电源或信号相互连接的接口处，分配给地层的管脚数不能太少，以降低阻抗，这样可以降低地层上的噪声。另外，也可以分析整个电流环路，尤其是电流较大的部分，调整地层或地线的接法，来控制电流的走法(例如，在某处制造低阻抗，让大部分的电流从这个地方走)，降低对其它较敏感信号的影响。</p><p><strong>16、能介绍一些国外关于高速 PCB 设计的技术书籍和资料吗？</strong></p><p>现在高速数字电路的应用有通信网路和计算机等相关领域。在通信网路方面，PCB 板的工作频率已达 GHz 上下，迭层数就我所知有到 40 层之多。计算机相关应用也因为芯片的进步，无论是一般的 PC 或服务器(Server)，板子上的最高工作频率也已经达到 400MHz (如 Rambus) 以上。因应这高速高密度走线需求，盲埋孔(blind/buried vias)、mircrovias 及 build-up 制程工艺的需求也渐渐越来越多。这些设计需求都有厂商可大量生产。以下提供几本不错的技术书籍：</p><p>Howard W. Johnson，“High-Speed Digital Design – A Handbook of Black Magic”；</p><p>Stephen H. Hall，“High-Speed Digital System Design”；</p><p>Brian Yang，“Digital Signal Integrity”；</p><p>lDooglas Brook，“Integrity Issues and printed Circuit Board Design”。</p><p><strong>17、两个常被参考的特性阻抗公式：</strong></p><p>微带线(microstrip) Z=ln[5.98H/(0.8W+T)] 其中，W 为线宽，T 为走线的铜皮厚度，H 为走线到参考平面的距离，Er 是 PCB 板材质的介电常数(dielectric constant)。此公式必须在0.1</p><p>带状线(stripline) Z=[60/sqrt(Er)]ln 其中，H 为两参考平面的距离，并且走线位于两参考平面的中间。此公式必须在 W/H</p><p><strong>18、差分信号线中间可否加地线？</strong></p><p>差分信号中间一般是不能加地线。因为差分信号的应用原理最重要的一点便是利用差分信号间相互耦合(coupling)所带来的好处，如 flux cancellation，抗噪声(noise immunity)能力等。若在中间加地线，便会破坏耦合效应。</p><p><strong>19、刚柔板设计是否需要专用设计软件与规范？国内何处可以承接该类电路板加工？</strong></p><p>可以用一般设计 PCB 的软件来设计柔性电路板(Flexible Printed Circuit)。一样用 Gerber 格式给 FPC厂商生产。由于制造的工艺和一般 PCB 不同，各个厂商会依据他们的制造能力会对最小线宽、最小线距、最小孔径(via)有其限制。除此之外，可在柔性电路板的转折处铺些铜皮加以补强。至于生产的厂商可上网“FPC”当关键词查询应该可以找到。</p><p><strong>20、适当选择 PCB 与外壳接地的点的原则是什么？</strong></p><p>选择 PCB 与外壳接地点选择的原则是利用 chassis ground 提供低阻抗的路径给回流电流(returning current)及控制此回流电流的路径。例如，通常在高频器件或时钟产生器附近可以借固定用的螺丝将 PCB的地层与 chassis ground 做连接，以尽量缩小整个电流回路面积，也就减少电磁辐射。</p><p><strong>21、电路板 DEBUG 应从那几个方面着手？</strong></p><p>就数字电路而言，首先先依序确定三件事情：</p><p>1. 确认所有电源值的大小均达到设计所需。有些多重电源的系统可能会要求某些电源之间起来的顺序与快慢有某种规范。</p><p>2. 确认所有时钟信号频率都工作正常且信号边缘上没有非单调(non-monotonic)的问题。</p><p>3. 确认 reset 信号是否达到规范要求。这些都正常的话，芯片应该要发出第一个周期(cycle)的信号。接下来依照系统运作原理与 bus protocol 来 debug。</p><p><strong>22、在电路板尺寸固定的情况下，如果设计中需要容纳更多的功能，就往往需要提高 PCB 的走线密度，但是这样有可能导致走线的相互干扰增强，同时走线过细也使阻抗无法降低，请专家介绍在高速（>100MHz）高密度 PCB 设计中的技巧?</strong></p><p>在设计高速高密度 PCB 时，串扰(crosstalk interference)确实是要特别注意的，因为它对时序(timing)与信号完整性(signal integrity)有很大的影响。以下提供几个注意的地方：</p><p>控制走线特性阻抗的连续与匹配。</p><p>走线间距的大小。一般常看到的间距为两倍线宽。可以透过仿真来知道走线间距对时序及信号完整性的影响，找出可容忍的最小间距。不同芯片信号的结果可能不同。</p><p>选择适当的端接方式。</p><p>避免上下相邻两层的走线方向相同，甚至有走线正好上下重迭在一起，因为这种串扰比同层相邻走线的情形还大。</p><p>利用盲埋孔(blind/buried via)来增加走线面积。但是 PCB 板的制作成本会增加。在实际执行时确实很难达到完全平行与等长，不过还是要尽量做到。</p><p>除此以外，可以预留差分端接和共模端接，以缓和对时序与信号完整性的影响。</p><p><strong>23、模拟电源处的滤波经常是用 LC 电路。但是为什么有时 LC 比 RC 滤波效果差？</strong></p><p>LC 与 RC 滤波效果的比较必须考虑所要滤掉的频带与电感值的选择是否恰当。因为电感的感抗(reactance)大小与电感值和频率有关。如果电源的噪声频率较低，而电感值又不够大，这时滤波效果可能不如 RC。但是，使用 RC 滤波要付出的代价是电阻本身会耗能，效率较差，且要注意所选电阻能承受的功率。</p><p><strong>24、滤波时选用电感，电容值的方法是什么？</strong></p><p>电感值的选用除了考虑所想滤掉的噪声频率外，还要考虑瞬时电流的反应能力。如 果 LC 的输出端会有机会需要瞬间输出大电流，则电感值太大会阻碍此大电流流经此电感的速度，增加纹波噪声(ripple noise)。电容值则和所能容忍的纹波噪声规范值的大小有关。纹波噪声值要求越小，电容值会较大。而电容的ESR/ESL 也会有影响。另外，如果这 LC 是放在开关式电源(switching regulation power)的输出端时，还要注意此 LC 所产生的极点零点(pole/zero)对负反馈控制(negative feedback control)回路稳定度的影响。</p><p><strong>25、如何尽可能的达到 EMC 要求，又不致造成太大的成本压力？</strong></p><p>PCB 板上会因 EMC 而增加的成本通常是因增加地层数目以增强屏蔽效应及增加了 ferrite bead、choke等抑制高频谐波器件的缘故。除此之外，通常还是需搭配其它机构上的屏蔽结构才能使整个系统通过 EMC的要求。以下仅就 PCB 板的设计技巧提供几个降低电路产生的电磁辐射效应。</p><p>尽可能选用信号斜率(slew rate)较慢的器件，以降低信号所产生的高频成分。</p><p>注意高频器件摆放的位置，不要太靠近对外的连接器。</p><p>注意高速信号的阻抗匹配，走线层及其回流电流路径(return current path)， 以减少高频的反射与辐射。</p><p>在各器件的电源管脚放置足够与适当的去耦合电容以缓和电源层和地层上的噪声。特别注意电容的频率响应与温度的特性是否符合设计所需。</p><p>对外的连接器附近的地可与地层做适当分割，并将连接器的地就近接到 chassis ground。</p><p>可适当运用 ground guard/shunt traces 在一些特别高速的信号旁。但要注意 guard/shunt traces 对走线特性阻抗的影响。</p><p>电源层比地层内缩 20H，H 为电源层与地层之间的距离。</p><p><strong>26、当一块 PCB 板中有多个数/模功能块时，常规做法是要将数/模地分开，原因何在？</strong></p><p>将数/模地分开的原因是因为数字电路在高低电位切换时会在电源和地产生噪声，噪声的大小跟信号的速度及电流大小有关。如果地平面上不分割且由数字区域电路所产生的噪声较大而模拟区域的电路又非常接近，则即使数模信号不交叉， 模拟的信号依然会被地噪声干扰。也就是说数模地不分割的方式只能在模拟电路区域距产生大噪声的数字电路区域较远时使用。</p><p><strong>27、另一种作法是在确保数/模分开布局，且数/模信号走线相互不交叉的情况下，整个 PCB板地不做分割，数/模地都连到这个地平面上。道理何在？</strong></p><p>数模信号走线不能交叉的要求是因为速度稍快的数字信号其返回电流路径(return current path)会尽量沿着走线的下方附近的地流回数字信号的源头，若数模信号走线交叉，则返回电流所产生的噪声便会出现在模拟电路区域内。</p><p><strong>28、在高速 PCB 设计原理图设计时，如何考虑阻抗匹配问题？</strong></p><p>在设计高速 PCB 电路时，阻抗匹配是设计的要素之一。而阻抗值跟走线方式有绝对的关系， 例如是走在表面层(microstrip)或内层(stripline/double stripline)，与参考层(电源层或地层)的距离，走线宽度，PCB材质等均会影响走线的特性阻抗值。也就是说要在布线后才能确定阻抗值。一般仿真软件会因线路模型或所使用的数学算法的限制而无法考虑到一些阻抗不连续的布线情况，这时候在原理图上只能预留一些terminators(端接)，如串联电阻等，来缓和走线阻抗不连续的效应。真正根本解决问题的方法还是布线时尽量注意避免阻抗不连续的发生。</p><p><strong>29、哪里能提供比较准确的 IBIS 模型库？</strong></p><p>IBIS 模型的准确性直接影响到仿真的结果。基本上 IBIS 可看成是实际芯片 I/O buffer 等效电路的电气特性资料，一般可由 SPICE 模型转换而得 (亦可采用测量， 但限制较多)，而 SPICE 的资料与芯片制造有绝对的关系，所以同样一个器件不同芯片厂商提供，其 SPICE 的资料是不同的，进而转换后的 IBIS 模型内之资料也会随之而异。也就是说，如果用了 A 厂商的器件，只有他们有能力提供他们器件准确模型资料，因为没有其它人会比他们更清楚他们的器件是由何种工艺做出来的。如果厂商所提供的 IBIS 不准确，只能不断要求该厂商改进才是根本解决之道。</p><p><strong>30、在高速 PCB 设计时，设计者应该从那些方面去考虑 EMC、EMI 的规则呢？</strong></p><p>一般 EMI/EMC 设计时需要同时考虑辐射(radiated)与传导(conducted)两个方面. 前者归属于频率较高的部分(>30MHz)后者则是较低频的部分(</p><p><strong>31、如何选择 EDA 工具？</strong></p><p>目前的 pcb 设计软件中，热分析都不是强项，所以并不建议选用，其它的功能 1.3.4 可以选择 PADS或 Cadence 性能价格比都不错。PLD 的设计的初学者可以采用 PLD 芯片厂家提供的集成环境，在做到百万门以上的设计时可以选用单点工具。</p><p><strong>32、请推荐一种适合于高速信号处理和传输的 EDA 软件。</strong></p><p>常规的电路设计，INNOVEDA 的 PADS 就非常不错，且有配合用的仿真软件，而这类设计往往占据了 70%的应用场合。在做高速电路设计，模拟和数字混合电路，采用 Cadence 的解决方案应该属于性能价格比较好的软件，当然 Mentor 的性能还是非常不错的，特别是它的设计流程管理方面应该是最为优秀的。</p><p><strong>33、对 PCB 板各层含义的解释</strong></p><p>Topoverlay ----顶层器件名称， 也叫 top silkscreen 或者 top component legend, 比如 R1 C5,</p><p>IC10.bottomoverlay----同理 multilayer-----如果你设计一个 4 层板，你放置一个 free pad or via, 定义它作为multilay 那么它的 pad 就会自动出现在 4 个层 上，如果你只定义它是 top layer, 那么它的 pad 就会只出现在顶层上。</p><p><strong>34、2G 以上高频 PCB 设计，走线,排版,应重点注意哪些方面？</strong></p><p>2G 以上高频 PCB 属于射频电路设计，不在高速数字电路设计讨论范围内。而 射 频电路的布局（layout)和布线（routing)应该和原理图一起考虑的，因为布局布线都会造成分布效应。而且，射频电路设计一些无源器件是通过参数化定义，特殊形状铜箔实现，因此要求 EDA 工具能够提供参数化器件，能够编辑特殊形状铜箔。Mentor 公司的 boardstation 中有专门的 RF 设计模块，能够满足这些要求。而且，一般射频设计要求有专门射频电路分析工具，业界最著名的是 agilent 的 eesoft，和 Mentor 的工具有很好的接口。</p><p><strong>35、2G 以上高频 PCB 设计，微带的设计应遵循哪些规则?</strong></p><p>射频微带线设计，需要用三维场分析工具提取传输线参数。所有的规则应该在这个场提取工具中规定。</p><p><strong>36、对于全数字信号的 PCB，板上有一个 80MHz 的钟源。除了采用丝网（接地）外，为了保证有足够的驱动能力，还应该采用什么样的电路进行保护？</strong></p><p>确保时钟的驱动能力，不应该通过保护实现，一般采用时钟驱动芯片。一般担心时钟驱动能力，是因为多个时钟负载造成。采用时钟驱动芯片，将一个时钟信号变成几个，采用点到点的连接。选择驱动芯片，除了保证与负载基本匹配，信号沿满足要求（一般时钟为沿有效信号），在计算系统时序时，要算上时钟在驱动芯片内时延。</p><p><strong>37、如果用单独的时钟信号板，一般采用什么样的接口，来保证时钟信号的传输受到的影响小？</strong></p><p>时钟信号越短，传输线效应越小。采用单独的时钟信号板，会增加信号布线长度。而且单板的接地供电也是问题。如果要长距离传输，建议采用差分信号。LVDS 信号可以满足驱动能力要求，不过您的时钟不是太快，没有必要。</p><p><strong>38、27M,SDRAM 时钟线（80M-90M），这些时钟线二三次谐波刚好在 VHF 波段，从接收端高频窜入后干扰很大。除了缩短线长以外，还有那些好办法？</strong></p><p>如果是三次谐波大，二次谐波小，可能因为信号占空比为 50%，因为这种情况下，信号没有偶次谐波。这时需要修改一下信号占空比。此外，对于如果是单向的时钟信号，一般采用源端串联匹配。这样可以抑制二次反射，但不会影响时钟沿速率。源端匹配值，可以采用下图公式得到。</p><p><strong>39、什么是走线的拓扑架构？</strong></p><p>Topology,有的也叫 routing order.对于多端口连接的网络的布线次序。</p><p><strong>40、怎样调整走线的拓扑架构来提高信号的完整性？</strong></p><p>这种网络信号方向比较复杂，因为对单向，双向信号，不同电平种类信号，拓朴影响都不一样，很难说哪种拓朴对信号质量有利。而且作前仿真时，采用何种拓朴对工程师要求很高，要求对电路原理，信号类型，甚至布线难度等都要了解。</p><p><strong>41、怎样通过安排迭层来减少 EMI 问题？</strong></p><p>首先，EMI 要从系统考虑，单凭 PCB 无法解决问题。层叠对 EMI 来讲，我认为主要是提供信号最短回流路径，减小耦合面积，抑制差模干扰。另外地层与电源层紧耦合，适当比电源层外延，对抑制共模干扰有好处。</p><p><strong>42、为何要铺铜？</strong></p><p>一般铺铜有几个方面原因。</p><p>１，EMC.对于大面积的地或电源铺铜，会起到屏蔽作用，有些特殊地，如 PGND 起到防护作用。</p><p>２，PCB 工艺要求。一般为了保证电镀效果，或者层压不变形，对于布线较少的PCB 板层铺铜。</p><p>３，信号完整性要求，给高频数字信号一个完整的回流路径，并减少直流网络的布线。当然还有散热，特殊器件安装要求铺铜等等原因。</p><p><strong>43、在一个系统中，包含了 dsp 和 pld，请问布线时要注意哪些问题呢？</strong></p><p>看你的信号速率和布线长度的比值。如果信号在传输线上的时延和信号变化沿时间可比的话，就要考虑信号完整性问题。另外对于多个 DSP，时 钟 ，数据 信号走线拓普也会影响信号质量和时序，需要关注。</p><p><strong>44、除 protel 工具布线外，还有其他好的工具吗？</strong></p><p>至于工具，除了 PROTEL，还有很多布线工具，如 MENTOR 的 WG2000,EN2000 系列和 powerpcb，Cadence 的 allegro，zuken 的 cadstar,cr5000 等，各有所长。</p><p><strong>45、什么是“信号回流路径”？</strong></p><p>信号回流路径,即 return current。高速数字信号在传输时，信号的流向是从驱动器沿 PCB 传输线到负载，再由负载沿着地或电源通过最短路径返回驱动器端。这个在地或电源上的返回信号就称信号回流路径。Dr.Johson 在他的书中解释，高频信号传输，实际上是对传输线与直流层之间包夹的介质电容充电的过程。SI 分析的就是这个围场的电磁特性，以及他们之间的耦合。</p><p><strong>46、如何对接插件进行 SI 分析？</strong></p><p>在 IBIS3.2 规范中，有关于接插件模型的描述。一般使用 EBD 模型。如果是特殊板，如背板，需要SPICE 模型。也可以使用多板仿真软件（HYPERLYNX 或 IS_multiboard），建立多板系统时，输入接插件的分布参数，一般从接插件手册中得到。当然这种方式会不够精确，但只要在可接受范围内即可。</p><p><strong>47、请问端接的方式有哪些？</strong></p><p>端接（terminal）,也称匹配。一般按照匹配位置分有源端匹配和终端匹配。其中源端匹配一般为电阻串联匹配，终端匹配一般为并联匹配，方式比较多，有电阻上拉，电阻下拉，戴维南匹配，AC 匹配，肖特基二极管匹配。</p><p><strong>48、采用端接（匹配）的方式是由什么因素决定的？</strong></p><p>匹配采用方式一般由 BUFFER 特性，拓普情况，电平种类和判决方式来决定，也要考虑信号占空比，系统功耗等。</p><p><strong>49、采用端接（匹配）的方式有什么规则？</strong></p><p>数字电路最关键的是时序问题，加匹配的目的是改善信号质量，在判决时刻得到可以确定的信号。对于电平有效信号，在保证建立、保持时间的前提下，信号质量稳定；对延有效信号，在保证信号延单调性前提下，信号变化延速度满足要求。Mentor ICX 产品教材中有关于匹配的一些资料。另外《High Speed Digital design a hand book of blackmagic》有一章专门对 terminal 的讲述，从电磁波原理上讲述匹配对信号完整性的作用，可供参考。</p><p><strong>50、能否利用器件的 IBIS 模型对器件的逻辑功能进行仿真？如果不能，那么如何进行电路的板级和系统级仿真？</strong></p><p>IBIS 模型是行为级模型，不能用于功能仿真。功能仿真，需要用 SPICE 模型，或者其他结构级模型。</p><p><strong>51、在数字和模拟并存的系统中，有 2 种处理方法，一个是数字地和模拟地分开，比如在地层，数字地是独立地一块，模拟地独立一块，单点用铜皮或 FB 磁珠连接，而电源不分开；另一种是模拟电源和数字电源分开用 FB 连接，而地是统一地地。请问李先生，这两种方法效果是否一样？</strong></p><p>应该说从原理上讲是一样的。因为电源和地对高频信号是等效的。</p><p>区分模拟和数字部分的目的是为了抗干扰，主要是数字电路对模拟电路的干扰。但是，分割可能造成信号回流路径不完整，影响数字信号的信号质量，影响系统 EMC 质量。因此，无论分割哪个平面，要看这样作，信号回流路径是否被增大，回流信号对正常工作信号干扰有多大。现在也有一些混合设计，不分电源和地，在布局时，按照数字部分、模拟部分分开布局布线，避免出现跨区信号。</p><p><strong>52、安规问题：FCC、EMC 的具体含义是什么？</strong></p><p>FCC: federal communication commission 美国通信委员会</p><p>EMC: electro megnetic compatibility 电磁兼容</p><p>FCC 是个标准组织，EMC 是一个标准。标准颁布都有相应的原因，标准和测试方法。</p><p><strong>53、何谓差分布线？</strong></p><p>差分信号，有些也称差动信号，用两根完全一样，极性相反的信号传输一路数据，依靠两根信号电平差进行判决。为了保证两根信号完全一致，在布线时要保持并行，线宽、线间距保持不变。</p><p><strong>54、PCB 仿真软件有哪些？</strong></p><p>仿 真 的种类很多， 高 速 数 字电 路 信 号 完 整 性 分 析 仿 真 分析(SI) 常 用 软 件 有icx,signalvision,hyperlynx,XTK,speectraquest 等。有些也用 Hspice。</p><p><strong>55、PCB 仿真软件是如何进行 LAYOUT 仿真的？</strong></p><p>高速数字电路中，为了提高信号质量，降低布线难度，一般采用多层板，分配专门的电源层，地层。</p><p><strong>56、在布局、布线中如何处理才能保证 50M 以上信号的稳定性</strong></p><p>高速数字信号布线，关键是减小传输线对信号质量的影响。因此，100M 以上的高速信号布局时要求信号走线尽量短。数字电路中，高速信号是用信号上升延时间来界定的。而 且 ，不 同种类的信号（如 TTL,GTL,LVTTL），确保信号质量的方法不一样。</p><p><strong>57、室外单元的射频部分，中频部分，乃至对室外单元进行监控的低频电路部分往往采用部署在同一 PCB 上，请问对这样的 PCB 在材质上有何要求？如何防止射频，中频乃至低频电路互相之间的干扰？</strong></p><p>混合电路设计是一个很大的问题。很难有一个完美的解决方案。</p><p>一般射频电路在系统中都作为一个独立的单板进行布局布线，甚至会有专门的屏蔽腔体。而且射频电路一般为单面或双面板，电路较为简单，所有这些都是为了减少对射频电路分布参数的影响，提高射频系统的一致性。相对于一般的 FR4 材质，射频电路板倾向与采用高 Q 值的基材，这种材料的介电常数比较小，传输线分布电容较小，阻抗高，信号传输时延小。在混合电路设计中，虽然射频，数字电路做在同一块 PCB 上，但一般都分成射频电路区和数字电路区，分别布局布线。之间用接地过孔带和屏蔽盒屏蔽。</p><p><strong>58、对于射频部分，中频部分和低频电路部分部署在同一 PCB 上，mentor 有什么解决方案？</strong></p><p>Mentor 的板级系统设计软件，除了基本的电路设计功能外，还有专门的 RF 设计模块。在 RF 原理图设计模块中，提供参数化的器件模型，并且提供和 EESOFT 等射频电路分析仿真工具的双向接口；在 RF LAYOUT 模块中，提供专门用于射频电路布局布线的图案编辑功能，也有和 EESOFT 等射频电路分析仿真工具的双向接口，对于分析仿真后的结果可以反标回原理图和 PCB。同时，利用 Mentor 软件的设计管理功能，可以方便的实现设计复用，设计派生，和协同设计。大大加速混合电路设计进程。手机板是典型的混合电路设计，很多大型手机设计制造商都利用 Mentor 加安杰伦的 eesoft 作为设计平台。</p><p><strong>59、mentor 的产品结构如何？</strong></p><p>Mentor Graphics 的 PCB 工具有 WG(原 veribest)系列和 Enterprise(boardstation)系列。</p><p><strong>60、Mentor 的 PCB 设计软件对 BGA、PGA、COB 等封装是如何支持的？</strong></p><p>Mentor 的 autoactive RE 由收购得来的 veribest 发展而来，是业界第一个无网格，任意角度布线器。众所周知，对于球栅阵列，COB 器件，无网格，任意角度布线器是解决布通率的关键。在最新的autoactive RE 中，新增添了推挤过孔，铜箔，REROUTE 等功能，使它应用更方便。另外，他支持高速布线，包括有时延要求信号布线和差分对布线。</p><p><strong>61、Mentor 的 PCB 设计软件对差分线队的处理又如何？</strong></p><p>Mentor 软件在定义好差分对属性后，两根差分对可以一起走线，严格保证差分对线宽，间距和长度差，遇到障碍可以自动分开，在换层时可以选择过孔方式。</p><p><strong>62、在一块 12 层 PCb 板上，有三个电源层 2.2v，3.3v,5v，将三个电源各作在一层，地线该如何处理？</strong></p><p>一般说来，三个电源分别做在三层，对信号质量比较好。因为不大可能出现信号跨平面层分割现象。跨分割是影响信号质量很关键的一个因素，而仿真软件一般都忽略了它。对于电源层和地层，对高频信号来说都是等效的。在 实 际 中，除了考虑信号质量外，电 源 平 面 耦 合 ( 利 用 相邻地平面降低电源平面交流阻抗)，层叠对称，都是需要考虑的因素。</p><p><strong>63、PCB 在出厂时如何检查是否达到了设计工艺要求？</strong></p><p>很多 PCB 厂家在 PCB 加工完成出厂前，都要经过加电的网络通断测试，以确保所有联线正确。同时，越来越多的厂家也采用 x 光测试，检查蚀刻或层压时的一些故障。对于贴片加工后的成品板，一般采用 ICT测试检查，这需要在 PCB 设计时添加 ICT 测试点。如果出现问题，也可以通过一种特殊的 X 光检查设备排除是否加工原因造成故障。</p><p><strong>64、“机构的防护”是不是机壳的防护？</strong></p><p>是的。机壳要尽量严密，少用或不用导电材料，尽可能接地。</p><p><strong>65、在芯片选择的时候是否也需要考虑芯片本身的 esd 问题？</strong></p><p>不论是双层板还是多层板，都应尽量增大地的面积。在选择芯片时要考虑芯片本身的 ESD 特性，这些在芯片说明中一般都有提到，而且即使不同厂家的同一种芯片性能也会有所不同。设计时多加注意，考虑的全面一点，做出电路板的性能也会得到一定的保证。但 ESD 的问题仍然可能出现，因此机构的防护对ESD 的防护也是相当重要的。</p><p><strong>66、在做 pcb 板的时候，为了减小干扰，地线是否应该构成闭和形式？</strong></p><p>在做 PCB 板的时候，一般来讲都要减小回路面积，以便减少干扰，布地线的时候，也不 应布成闭合形式，而是布成树枝状较好，还有就是要尽可能增大地的面积。</p><p><strong>67、如果仿真器用一个电源，pcb 板用一个电源，这两个电源的地是否应该连在一起？</strong></p><p>如果可以采用分离电源当然较好，因为如此电源间不易产生干扰，但大部分设备是有具体要求的。既然仿真器和 PCB 板用的是两个电源，按我的想法是不该将其共地的。</p><p><strong>68、一个电路由几块 pcb 板构成，他们是否应该共地？</strong></p><p>一个电路由几块 PCB 构成，多半是要求共地的，因为在一个电路中用几个电源毕竟是不太实际的。但如果你有具体的条件，可以用不同电源当然干扰会小些。</p><p><strong>69、设计一个手持产品，带 LCD，外壳为金属。测试 ESD 时，无法通过 ICE-1000-4-2 的测试，CONTACT 只能通过 1100V，AIR 可以通过 6000V。ESD 耦合测试时，水平只能可以通过 3000V，垂直可以通过 4000V 测试。CPU 主频为 33MHZ。有什么方法可以通过 ESD 测试？</strong></p><p>手持产品又是金属外壳，ESD 的问题一定比较明显，LCD 也恐怕会出现较多的不良现象。如果没办法改变现有的金属材质，则建议在机构内部加上防电材料，加强 PCB 的地，同时想办法让 LCD 接地。当然，如何操作要看具体情况。</p><p><strong>70、设计一个含有 DSP，PLD 的系统，该从那些方面考虑 ESD？</strong></p><p>就一般的系统来讲，主要应考虑人体直接接触的部分，在电路上以及机构上进行适当的保护。至于ESD 会对系统造成多大的影响，那还要依不同情况而定。干燥的环境下，ESD 现象会比较严重，较敏感精细的系统，ESD 的影响也会相对明显。虽然大的系统有时 ESD 影响并不明显，但设计时还是要多加注意，尽量防患于未然。</p><p><strong>-END-</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'PCB','设计','经典'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>