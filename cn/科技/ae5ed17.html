<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>å¤§å‰ç«¯è¿›é˜¶-åŒæ„åº”ç”¨ | æå®¢å¿«è¨Š</title><meta property="og:title" content="å¤§å‰ç«¯è¿›é˜¶-åŒæ„åº”ç”¨ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/69db4ce676904185a7587e6a3f06389a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ae5ed17.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ae5ed17.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ae5ed17.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ae5ed17.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ae5ed17.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ae5ed17.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ae5ed17.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ae5ed17.html><meta property="article:published_time" content="2020-10-29T21:00:44+08:00"><meta property="article:modified_time" content="2020-10-29T21:00:44+08:00"><meta name=Keywords content><meta name=description content="å¤§å‰ç«¯è¿›é˜¶-åŒæ„åº”ç”¨"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/ae5ed17.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>å¤§å‰ç«¯è¿›é˜¶-åŒæ„åº”ç”¨</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right><strong>æ¦‚è¿°</strong></h1><p style=text-align:start>å‰ç«¯é¢†åŸŸä¸­ï¼Œéšç€Vueï¼ŒReactï¼ŒAngularç­‰æ¡†æ¶çš„æµè¡Œï¼Œå‰ç«¯å·¥ç¨‹åŒ–ã€æ¨¡å—åŒ–æˆä¸ºäº†å½“ä¸‹ä¸»æµæŠ€æœ¯æ–¹æ¡ˆã€‚è¿™ç±»æ¡†æ¶æ„å»ºçš„SPAå•é¡µåº”ç”¨å…·æœ‰ç”¨æˆ·ä½“éªŒå¥½ã€æ¸²æŸ“æ€§èƒ½å¥½ã€å¯ç»´æŠ¤æ€§é«˜ç­‰æœ‰ç‚¹ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢çš„é—®é¢˜ï¼š</p><ol start=1><li>é¦–å±åŠ è½½æ—¶é—´é•¿</li></ol><p style=text-align:start>SPAåº”ç”¨é‡‡ç”¨å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œç”¨æˆ·éœ€è¦ç­‰å¾…å®¢æˆ·ç«¯jsè§£æå®Œæˆä¹‹åæ‰èƒ½çœ‹åˆ°é¡µé¢ï¼Œè¿™æ ·ä¼šå¯¼è‡´é¦–å±åŠ è½½æ—¶é—´å˜é•¿ï¼Œç”¨æˆ·ä½“éªŒå·®ã€‚</p><ol start=1><li>ä¸åˆ©äºSEO</li></ol><p style=text-align:start>ç”±äºSPAåº”ç”¨é‡‡ç”¨å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œåœ¨jsæœªå®Œæˆè§£æä¹‹å‰ï¼Œç½‘ç«™HTMLæ˜¯æ²¡æœ‰å†…å®¹çš„ï¼Œè¿™æ ·å¯¼è‡´æœç´¢å¼•æ“çˆ¬å–ç«™ç‚¹HTMLæ—¶è·å–ä¸åˆ°å†…å®¹ã€‚</p><p style=text-align:start>ä¸ºäº†è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œä¸šç•Œæå‡ºäº†ä¸€ç§æ–°çš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚ä¸‹å›¾ï¼š</p><div class=pgc-img><img alt=å¤§å‰ç«¯è¿›é˜¶-åŒæ„åº”ç”¨ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/69db4ce676904185a7587e6a3f06389a><p class=pgc-img-caption></p></div><p style=text-align:start>åˆ©ç”¨æœåŠ¡ç«¯æ¸²æŸ“è§£å†³é¦–å±åŠ è½½æ…¢å’Œä¸åˆ©äºSEOçš„ç¼ºé™·ï¼Œé¦–å±æ¸²æŸ“å®Œæˆä¹‹åï¼Œå®¢æˆ·ç«¯æ¸²æŸ“æ¥ç®¡é¡µé¢é‡æ–°æˆä¸ºå•é¡µåº”ç”¨ä»¥ä¿è¯è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚è¿™ç§æ–¹å¼ç§°ä¸ºç°ä»£åŒ–æœåŠ¡ç«¯æ¸²æŸ“æ–¹å¼æˆ–è€…åŒæ„æ¸²æŸ“ã€‚</p><h1 class=pgc-h-arrow-right><strong>ä¸ä¼ ç»ŸæœåŠ¡ç«¯æ¸²æŸ“åŒºåˆ«</strong></h1><p style=text-align:start>ä¼ ç»ŸæœåŠ¡ç«¯æ¸²æŸ“ï¼Œå¦‚JSPå¯ä»¥æ€»ç»“ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š</p><ol start=1><li>å®¢æˆ·ç«¯å‘é€è¯·æ±‚</li><li>æœåŠ¡ç«¯æ ¹æ®è¯·æ±‚æŸ¥æ‰¾æ¨¡æ¿å¹¶è·å–æ•°æ®ã€‚</li><li>æ‰§è¡Œæ¸²æŸ“</li><li>ç”Ÿæˆhtmlè¿”å›å®¢æˆ·ç«¯å±•ç¤º</li></ol><p style=text-align:start>è¿™ç§ä¼ ç»ŸæœåŠ¡ç«¯æ¸²æŸ“æ–¹å¼ï¼Œä¼šå­˜åœ¨ä»¥ä¸‹ç¼ºç‚¹ï¼š</p><ol start=1><li>å‰åç«¯å®Œå…¨è€¦åˆï¼Œä¸åˆ©äºå¼€å‘ç»´æŠ¤ã€‚</li><li>å‰ç«¯å‘æŒ¥ç©ºé—´å°ã€‚</li><li>æœåŠ¡ç«¯å‹åŠ›å¤§ã€‚</li><li>ç”¨æˆ·ä½“éªŒä¸€èˆ¬ã€‚</li></ol><p style=text-align:start>è€ŒåŒæ„æ¸²æŸ“åªæ˜¯åœ¨é¦–å±æ¸²æŸ“çš„æ—¶å€™å’Œä¼ ç»ŸæœåŠ¡ç«¯ç±»ä¼¼ï¼Œéƒ½æ˜¯è¿”å›æ¸²æŸ“å¥½çš„htmlé¡µé¢ï¼Œä½†æ˜¯ï¼ŒåŒæ„æ¸²æŸ“ä¸­ï¼Œå½“å®¢æˆ·ç«¯å±•ç¤ºæ¸²æŸ“å¥½çš„htmlé¡µé¢åï¼Œå®¢æˆ·ç«¯æ¸²æŸ“ä¼šæ¥ç®¡é¡µé¢çš„æ§åˆ¶æƒï¼Œä¹Ÿå°±æ˜¯åç»­çš„æ¸²æŸ“éƒ½æ˜¯ç”±å®¢æˆ·ç«¯è¿›è¡Œçš„ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p><h1 class=pgc-h-arrow-right><strong>åŒæ„æ¸²æŸ“ç¼ºç‚¹</strong></h1><p style=text-align:start>ä¸å•é¡µåº”ç”¨ç›¸æ¯”ï¼Œç”±äºé¦–å±æ¸²æŸ“é‡‡ç”¨çš„æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ‰€ä»¥å­˜åœ¨ä»¥ä¸‹ç¼ºç‚¹ï¼š</p><ol start=1><li>å¼€å‘æ¡ä»¶æœ‰é™ï¼Œå¼€å‘æœ‰é™åˆ¶ï¼ˆæœåŠ¡ç«¯åªèƒ½ä½¿ç”¨nodejsï¼Œè€Œä¸”å¹¶ä¸æ˜¯æ‰€æœ‰çš„å·¥å…·åŒ…éƒ½èƒ½åœ¨æœåŠ¡ç«¯æ¸²æŸ“ä¸­ä½¿ç”¨ï¼‰ã€‚</li><li>æ¶‰åŠæ„å»ºå’Œéƒ¨ç½²çš„è¦æ±‚é«˜ï¼ˆéœ€è¦éƒ¨ç½²å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼Œä¸èƒ½å†å’Œå•é¡µåº”ç”¨ä¸€æ ·ï¼Œéƒ¨ç½²é™æ€ç«™ç‚¹å³å¯ï¼‰ã€‚</li><li>æ›´å¤šçš„æœåŠ¡ç«¯è´Ÿè½½ã€‚</li></ol><h1 class=pgc-h-arrow-right><strong>Nuxt.js</strong></h1><p style=text-align:start>Nuxt.jsæ˜¯åŸºäºvueæŠ€æœ¯æ ˆçš„ä¸€ç§åŒæ„åº”ç”¨è§£å†³æ–¹æ¡ˆï¼Œå®ƒå±è”½äº†vuejsæ„å»ºåŒæ„åº”ç”¨çš„éš¾ç‚¹ã€‚</p><h1 class=pgc-h-arrow-right><strong>åŸºæœ¬ä½¿ç”¨</strong></h1><p style=text-align:start>æ­å»ºnuxtjsåŒæ„åº”ç”¨ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œé€šè¿‡ä»¥ä¸‹å››æ­¥å³å¯æ­å»ºæœ€ç®€å•çš„åŒæ„åº”ç”¨ï¼š</p><ol start=1><li>åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹ã€‚</li><li>npmæˆ–è€…yarnå®‰è£…nuxtã€‚</li><li>æ·»åŠ pagesæ–‡ä»¶å¤¹å¹¶åœ¨å…¶ä¸­æ·»åŠ index.vueæ–‡ä»¶ã€‚</li><li>æ‰§è¡Œnpx nuxtã€‚</li></ol><h1 class=pgc-h-arrow-right><strong>åŸºç¡€è·¯ç”±</strong></h1><p style=text-align:start>pagesæ–‡ä»¶å¤¹ä¸‹å­˜æ”¾æ‰€æœ‰çš„è·¯ç”±é¡µé¢vueæ–‡ä»¶ï¼Œnuxtä¼šæ ¹æ®pagesæ–‡ä»¶å¤¹è‡ªåŠ¨ç”Ÿæˆè·¯ç”±ã€‚</p><p style=text-align:start>å¦‚pagesç›®å½•å¦‚ä¸‹ï¼š</p><pre><code>pages/--| user/-----| index.vue-----| one.vue--| index.vue</code></pre><p style=text-align:start>é‚£ä¹ˆnuxtä¼šè‡ªåŠ¨ç”Ÿæˆå¦‚ä¸‹çš„è·¯ç”±ç»“æ„ï¼š</p><pre><code>router: {  routes: [    {      name: 'index',      path: '/',      component: 'pages/index.vue'    },    {      name: 'user',      path: '/user',      component: 'pages/user/index.vue'    },    {      name: 'user-one',      path: '/user/one',      component: 'pages/user/one.vue'    }  ]}</code></pre><h1 class=pgc-h-arrow-right><strong>åŠ¨æ€è·¯ç”±</strong></h1><p style=text-align:start>nuxtåœ¨è§£æè·¯ç”±ç»“æ„æ—¶ï¼Œå¦‚æœé‡åˆ°ä»¥_ä¸ºå‰ç¼€çš„vueæ–‡ä»¶æ—¶ï¼Œä¼šå°†å…¶å®šä¹‰ä¸ºå¸¦å‚æ•°çš„åŠ¨æ€è·¯ç”±ã€‚</p><p style=text-align:start>å¦‚ä¸‹é¢çš„æ–‡ä»¶ç»“æ„ï¼š</p><pre><code>pages/--| _slug/-----| comments.vue-----| index.vue--| users/-----| _id.vue--| index.vue</code></pre><p style=text-align:start>ç”Ÿæˆçš„è·¯ç”±è¡¨ä¸ºï¼š</p><pre><code>router: {  routes: [    {      name: 'index',      path: '/',      component: 'pages/index.vue'    },    {      name: 'users-id',      path: '/users/:id?',      component: 'pages/users/_id.vue'    },    {      name: 'slug',      path: '/:slug',      component: 'pages/_slug/index.vue'    },    {      name: 'slug-comments',      path: '/:slug/comments',      component: 'pages/_slug/comments.vue'    }  ]}</code></pre><h1 class=pgc-h-arrow-right><strong>åµŒå¥—è·¯ç”±</strong></h1><p style=text-align:start>åœ¨vuejsä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å­è·¯ç”±å®ç°è·¯ç”±çš„å¤šå±‚åµŒå¥—ï¼ŒåŒæ ·åœ¨nuxtjsä¸­ï¼Œå¯ä»¥é€šè¿‡ç‰¹æ®Šçš„æ–‡ä»¶ç»“æ„å®ç°åµŒå¥—è·¯ç”±ã€‚</p><p style=text-align:start>åˆ›å»ºåµŒå¥—è·¯ç”±ï¼Œéœ€è¦æ·»åŠ ä¸€ä¸ªVueæ–‡ä»¶ï¼ŒåŒæ—¶æ·»åŠ ä¸€ä¸ªä¸è¯¥æ–‡ä»¶åç§°ç›¸åŒçš„æ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾å­è·¯ç”±ç»„ä»¶ï¼ˆåœ¨Vueæ–‡ä»¶ä¸­éœ€è¦æ·»åŠ ç±»ä¼¼route-viewçš„nuxt-childèŠ‚ç‚¹ã€‚ï¼‰</p><p style=text-align:start>å¦‚ä¸‹é¢çš„æ–‡ä»¶ç»“æ„ï¼š</p><pre><code>pages/--| users/-----| _id.vue-----| index.vue--| users.vue</code></pre><p style=text-align:start>ç”Ÿæˆçš„è·¯ç”±è¡¨å¦‚ä¸‹ï¼š</p><pre><code>router: {  routes: [    {      path: '/users',      component: 'pages/users.vue',      children: [        {          path: '',          component: 'pages/users/index.vue',          name: 'users'        },        {          path: ':id',          component: 'pages/users/_id.vue',          name: 'users-id'        }      ]    }  ]}</code></pre><h1 class=pgc-h-arrow-right><strong>è‡ªå®šä¹‰è·¯ç”±</strong></h1><p style=text-align:start>nuxtjsä¸ä»…å¯ä»¥é€šè¿‡pagesæ–‡ä»¶å¤¹ç»“æ„è‡ªåŠ¨ç”Ÿæˆè·¯ç”±è¡¨ï¼ŒåŒæ ·æä¾›äº†é…ç½®æ–‡ä»¶çš„æ–¹å¼é…ç½®è‡ªå®šä¹‰è·¯ç”±ã€‚</p><p style=text-align:start>nuxtjsçš„é…ç½®æ–‡ä»¶å’Œvue.config.jsä¸€æ ·ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºnuxt.config.jsæ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶é»˜è®¤å¯¼å‡ºä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œé…ç½®å¯¹è±¡æœ‰ä¸€ä¸ª router å±æ€§ï¼Œå¯ä»¥åœ¨æ­¤å±æ€§ä¸‹é…ç½®è‡ªå®šä¹‰è·¯ç”±ã€‚</p><pre><code>export default {    router: {        extendRoutes(routes, resolve) {            // å¯ä»¥é‡‡ç”¨æ­¤æ–¹å¼æ¸…ç©ºé»˜è®¤ç”Ÿæˆçš„è·¯ç”±            // routes.splice(0)            routes.push(...[                {                    path: '/',                    component: resolve(__dirname, 'your.vue'),                }            ])        }    }}</code></pre><h1 class=pgc-h-arrow-right><strong>æ¨¡æ¿</strong></h1><p style=text-align:start>nuxtjsæ˜¯åŸºäºhtmlæ¨¡æ¿ç”Ÿæˆhtmlæ–‡ä»¶çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®ä¸­ä¿®æ”¹æ­¤æ¨¡æ¿ã€‚</p><p style=text-align:start>å®šåˆ¶æ¨¡æ¿éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºapp.htmlæ–‡ä»¶ï¼Œé»˜è®¤çš„htmlç»“æ„å¦‚ä¸‹ï¼š</p><pre><code>&lt;!DOCTYPE html&gt;&lt;html {{ HTML_ATTRS }}&gt;  &lt;head {{ HEAD_ATTRS }}&gt;    {{ HEAD }}  &lt;/head&gt;  &lt;body {{ BODY_ATTRS }}&gt;    {{ APP }}  &lt;/body&gt;&lt;/html&gt;</code></pre><p style=text-align:start>æˆ‘ä»¬å¯ä»¥åœ¨headä¸­æ·»åŠ ç›¸åº”è‡ªå®šä¹‰çš„cssã€jså¼•ç”¨ã€‚</p><h1 class=pgc-h-arrow-right><strong>asyncData</strong></h1><p style=text-align:start>åœ¨vuejsé¡¹ç›®ä¸­ï¼ŒæŸä¸ªç»„ä»¶å¦‚æœæƒ³è¦ä»æœåŠ¡ç«¯è·å–æ•°æ®ï¼Œä¸€èˆ¬éƒ½ä¼šåœ¨createdå£°æ˜å‘¨æœŸå‡½æ•°ä¸­å‘èµ·è¯·æ±‚ã€‚åœ¨åŒæ„åº”ç”¨ä¸­ï¼Œå¦‚æœæƒ³è¦é¡µé¢å†…å®¹èƒ½å¤ŸSEOï¼Œé‚£ä¹ˆå°±ä¸èƒ½é‡‡ç”¨æ­¤æ–¹å¼ã€‚</p><p style=text-align:start>åœ¨nuxtä¸­ä¸ºvueç»„ä»¶æ·»åŠ äº†asyncDataæ–¹æ³•ï¼Œæ­¤æ–¹æ³•ä¼šåœ¨æœåŠ¡ç«¯è¢«æ‰§è¡Œï¼Œæ‰§è¡Œåçš„ç»“æœä¼šè¢«åˆå¹¶åˆ°å½“å‰ç»„ä»¶çš„dataå¯¹è±¡ä¸­ã€‚</p><p style=text-align:start>å¦‚ä¸‹ä¾‹ï¼Œåœ¨æœåŠ¡ç«¯è·å–æ‰€æœ‰çš„æ–‡ç« å’Œæ ‡ç­¾å¹¶æ¸²æŸ“ï¼š</p><pre><code>async asyncData() {    const [articleRes, tagRes] = await Promise.all([      getAllArticles({        offest: 0,        limit: 10,      }),      getAllTags(),    ])    const { articles, articlesCount } = articleRes.data    const { tags } = tagRes.data    return {      articles,      articlesCount,      tags,    }  }</code></pre><p style=text-align:start>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤æ–¹æ³•è™½ç„¶æ˜¯vueç»„ä»¶çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯ç”±äºå…¶åœ¨æœåŠ¡ç«¯è¢«è°ƒç”¨ï¼Œæ‰€ä»¥æ–¹æ³•å†…éƒ¨ä¸èƒ½é€šè¿‡thiså¯¹è±¡è·å–vueå®ä¾‹ï¼Œå¦‚æœæƒ³è¦è·å–å®ä¾‹ä¸Šçš„æŸäº›ä¿¡æ¯ï¼Œå¯ä»¥ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</p><h1 class=pgc-h-arrow-right><strong>ä¸Šä¸‹æ–‡å¯¹è±¡</strong></h1><p style=text-align:start>asyncDataæ–¹æ³•åŒ…å«ä¸€ä¸ªå‚æ•°contextï¼Œcontextå¯¹è±¡ä¸ŠåŒ…å«è·¯ç”±ç­‰å¸¸ç”¨ä¿¡æ¯ã€‚</p><pre><code>route: å½“å‰è·¯ç”±å¯¹è±¡store: storeå¯¹è±¡params, query: è·¯ç”±å‚æ•°req, res: è¯·æ±‚ï¼Œå“åº”å¯¹è±¡redirect: ç”¨äºé‡å®šå‘</code></pre><h1 class=pgc-h-arrow-right><strong>èº«ä»½éªŒè¯</strong></h1><p style=text-align:start>åœ¨åŒæ„åº”ç”¨ä¸­ï¼Œå½“ç”¨æˆ·ç™»å½•ä¹‹åï¼Œå…¶èº«ä»½ä¿¡æ¯éœ€è¦åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½èƒ½å¤Ÿè¢«è·å–åˆ°ï¼Œå› æ­¤å¯ä»¥å°†ä¿¡æ¯ä¿å­˜åœ¨cookieä¸­ã€‚</p><p style=text-align:start>å®¢æˆ·ç«¯è·å–ä¿¡æ¯å¹¶å­˜å…¥cookieï¼š</p><pre><code>methods: {    onSubmit() {        let request = this.isLogin ? login : register        request(this.user)            .then(({ data }) =&gt; {                // è·å–åˆ°ç”¨æˆ·ä¿¡æ¯                const { user } = data                if (user) {                    const Cookie = process.client ? require('js-cookie') : undefined                    // å°†è·å–åˆ°çš„ç”¨æˆ·ä¿¡æ¯ä¿å­˜åœ¨cookieä¸­                    Cookie.set('user', user)                    this.$store.commit('setUser', user)                }            })            .catch((err) =&gt; {            })    }}</code></pre><p style=text-align:start>æœåŠ¡ç«¯è¯»å–cookieå¹¶å­˜å…¥storeä¾›å®¢æˆ·ç«¯ä½¿ç”¨ï¼š</p><p style=text-align:start>åœ¨storeçš„actionä¸­å¯ä»¥æ·»åŠ ä¸€ä¸ªåç§°ä¸º nuxtServerInit çš„å¼‚æ­¥æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨nuxtåº”ç”¨å¯åŠ¨çš„æ—¶å€™è¢«è°ƒç”¨ã€‚</p><pre><code>nuxtServerInit({ commit }, { req }) {    let user = null    if (req &amp;&amp; req.headers.cookie) {        const cookieParser = process.server ? require('cookieparser') : undefined;        const parsed = cookieParser.parse(req.headers.cookie)        try {            user = JSON.parse(parsed.user)        } catch (err) {        }    }    commit('setUser', user)}</code></pre><h1 class=pgc-h-arrow-right><strong>æ’ä»¶</strong></h1><p style=text-align:start>å¦‚æœæƒ³è¦åœ¨vuejsç¨‹åºè¿è¡Œä¹‹å‰æ‰§è¡ŒæŸäº›jsæ“ä½œï¼Œå¦‚æ³¨å†Œç¬¬ä¸‰æ–¹ç»„ä»¶åº“ï¼Œæ­¤æ—¶å¯ä»¥åˆ©ç”¨æ’ä»¶ã€‚</p><p style=text-align:start>æ‰€æœ‰çš„æ’ä»¶å…¨éƒ¨æ”¾åœ¨pluginsç›®å½•ä¸‹ï¼Œå¦‚æœæƒ³è¦åœ¨nuxtåº”ç”¨ä¸­ä½¿ç”¨elementuiç»„ä»¶åº“ï¼Œå¯ä»¥åœ¨pluginsæ–‡ä»¶å¤¹ä¸‹æ·»åŠ element-ui.jsæ–‡ä»¶ï¼š</p><pre><code>import Vue from 'vue'import Element from 'element-ui'import locale from 'element-ui/lib/locale/lang/en'Vue.use(Element, { locale })</code></pre><p style=text-align:start>ç„¶ååœ¨nuxt.config.jsçš„pluginså±æ€§æ•°ç»„ä¸­æ·»åŠ ç›¸åº”æ–‡ä»¶è·¯å¾„ï¼š</p><pre><code>plugins: [    '@/plugins/element-ui',]</code></pre><p style=text-align:start>ä¹‹åï¼Œå°±å¯ä»¥åœ¨vueç»„ä»¶ä¸­æ­£å¸¸ä½¿ç”¨element-uiã€‚</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'è¿›é˜¶','åŒæ„','åº”ç”¨'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>