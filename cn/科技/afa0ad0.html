<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Python可视化：matplotlib的座标轴和rc参数设置指南 | 极客快訊</title><meta property="og:title" content="Python可视化：matplotlib的座标轴和rc参数设置指南 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/83db030762ec435ea48263d0cab9e93b"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/afa0ad0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/afa0ad0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/afa0ad0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/afa0ad0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/afa0ad0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/afa0ad0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/afa0ad0.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/afa0ad0.html><meta property="article:published_time" content="2020-10-29T21:06:15+08:00"><meta property="article:modified_time" content="2020-10-29T21:06:15+08:00"><meta name=Keywords content><meta name=description content="Python可视化：matplotlib的座标轴和rc参数设置指南"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/afa0ad0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Python可视化：matplotlib的座标轴和rc参数设置指南</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>设置座标轴</strong></p><p>​ 还记得上次画的那条“项链”嘛？结尾的时候有说过，这些是新手村礼包，还有很多其他值得探索的地方呢，那么就一起来康康还有哪些意想不到的操作吧(包括但不限于折线图哦，很多操作再其他图中也是可以运用哒！)</p><p>当我看到这样一副图的时候，心里有点点疑问，貌似和手绘的图有点不一样啊，到底哪里不一样呢，来个对比看一下。</p><p>这是matplotlib绘制的y = x^2:</p><div class=pgc-img><img alt=Python可视化：matplotlib的座标轴和rc参数设置指南 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/83db030762ec435ea48263d0cab9e93b><p class=pgc-img-caption></p></div><p>这是本人亲手绘制的y = x^2：</p><p>（本灵魂画手已上线，非战斗人员请撤离！不要太在意细节哈，忽视那个长的不太协调的x轴和弯弯曲曲如蚯蚓的抛物线，手残党表示真的尽力了，意会！意会哈！）</p><div class=pgc-img><img alt=Python可视化：matplotlib的座标轴和rc参数设置指南 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c5f9d32c2b734234a6479a2f119e2908><p class=pgc-img-caption></p></div><p>正经的说，虽然都是y = x^2的图像，是不是感觉两幅图差异还蛮大的。</p><p>​ 最明显的区别在于x轴和y轴的位置，绘制抛物线时我们习惯与y轴位于中间位置，所以在用matplotlib绘图时可以不可以改变座标轴位置呢？答案当然时肯定的！</p><pre><code>ax = plt.gca()  #获取座标轴对象ax.spines['right'].set_color('none') #把右边的边框颜色设置为无色,隐藏右边框ax.spines['top'].set_color('none')  #把上边的边框颜色设置为无色,隐藏上边框ax.xaxis.set_ticks_position('bottom') # 指定下边的边框作为 x 轴   ax.yaxis.set_ticks_position('left')  #指定左边的边框为 y 轴ax.spines['bottom'].set_position(('data', 0)) #指定 data  设置的bottom(也就是指定的x轴)绑定到y轴的0这个点上ax.spines['left'].set_position(('data', 0))  #指定 data  设置的left(也就是指定的y轴)绑定到x轴的0这个点上 x = np.arange(-1,1,0.01)y = x**2plt.plot(x,y)plt.legend(["y = x^2"],loc = 1)plt.savefig("line3.jpg")plt.show()</code></pre><p>效果图如下：</p><div class=pgc-img><img alt=Python可视化：matplotlib的座标轴和rc参数设置指南 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/0f11670e6ad245e1aa67261496557e33><p class=pgc-img-caption></p></div><p>这样看起来是不是和上边手绘的那一个图相似了很多？</p><p>改变座标轴的步骤在上边代码中注释部分写的很清楚啦，不再占篇幅赘述，其实就是把用不到的边框透明化，然后移动了另外两个边框作为x轴和y轴，其他刻度、标签以及图标等的设置在介绍折线图的时候都有介绍过。</p><p><strong>rc参数设置</strong></p><p>​ 作为一个英语渣，能用中文的时候还是希望能用中文，然而当我在绘图的时候却发生了一点意外，喏，就是下边这副眼熟的图：</p><pre><code>plt.figure(figsize=(6,4),dpi = 80) plt.plot(x,y)  plt.title("折线图")  plt.xlabel("x")  plt.ylabel("y")  plt.xlim(-1,1)  plt.ylim(0,1.1)    plt.xticks([-1,-0.8,-0.6,-0.4,-0.2,0,0.2,0.4,0.6,0.8,1])  plt.yticks([0,0.25,0.5,0.75,1])plt.legend(["y = x^2"],loc = 9) plt.savefig("line.png") plt.show()  </code></pre><div class=pgc-img><img alt=Python可视化：matplotlib的座标轴和rc参数设置指南 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/92e60680eb38466d95b7f6be40255dd7><p class=pgc-img-caption></p></div><p>​ 和最开始的那幅图几乎一毛一样，只不过改了个标题，上边图的标题是“line”，我想改成“折线图”三个字，结果就变成这个样子了，原因在于原生的matplotlib是不支持中文显示的，所以需要进行rc参数的设置。所谓rc参数，实际上修改是默认的属性，原来不支持中文，修改一下让它支持中文就可以了。</p><p>​ 在这里还有一个小坑，那就是通过rc参数设置显示中文后，一些特殊符号比如负号显示会出现问题，这里不再用具体的例子引出这个小坑了，我们顺手给它一起解决掉，节省点篇幅（实际是我有点懒233）</p><p>​ 解决方案很久简单，两行代码搞定：</p><pre><code>plt.rcParams['font.sans-serif']=['Simhei']  #显示中文plt.rcParams['axes.unicode_minus']=False    #显示负号  	</code></pre><p>再运行上边的代码看下效果：</p><div class=pgc-img><img alt=Python可视化：matplotlib的座标轴和rc参数设置指南 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/57633ed4f06a4c6e94522b934a474beb><p class=pgc-img-caption></p></div><p>中文和负号都正常显示啦！</p><p>​ rc参数的设置到这里就结束了嘛？实际上常用的rc参数设置就是这两行没错，然而还有需要提醒的一点，记下来，要考的！</p><p><strong>​rc参数修改的是全局默认属性</strong>，也就是说，这个参数一旦设置，后续进行的所有操作都会受到rc参数的影响！</p><p>这也是进行一次设置，全篇画图函数都可以正常显示中文和负号的原因。</p><p>而rc参数还可以进行诸如线条宽度，标记点尺寸等等的各种设置，这些设置对于每个画图函数来说几乎都有相对应的参数进行单独设置，完全没有必要在rc参数中对全篇进行限制，所以如非必要，最好不要通过rc参数进行除了显示中文和符号外的其他设置。</p><p><strong>同一幅图中绘制多条折线</strong></p><p>​ 其实折线图一个很重要的应用是查看事务随着时间的发展所呈现出来的趋势，有时候我们想要查看不同的指标在同一段时间内的变化趋势，就需要在一副图中绘制多条折线，这种需求要怎样实现呢？</p><p>​ 实际上原理很简单，那就是创建一个画布后，在同一块画布中重复绘制就可以了：</p><pre><code>plt.figure(figsize=(12,4))plt.plot(df.iloc[:,0].iloc[:15],df.iloc[:,1].iloc[:15],marker = "o",label = "收盘价")plt.plot(df.iloc[:,0].iloc[:15],df.iloc[:,2].iloc[:15],marker = "v",label = "最高价")plt.plot(df.iloc[:,0].iloc[:15],df.iloc[:,3].iloc[:15],marker = "v",label = "最低价")plt.plot(df.iloc[:,0].iloc[:15],df.iloc[:,4].iloc[:15],marker = "o",label = "开盘价")plt.legend();</code></pre><p>效果图：</p><div class=pgc-img><img alt=Python可视化：matplotlib的座标轴和rc参数设置指南 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/87e5b9fe0b1044b7b64f2e19690c6216><p class=pgc-img-caption></p></div><p>​ 这是一段时间内股票价格的数据，截取了时间作为x轴数据，开盘价，最高价，最低价，收盘价为y轴数据绘制的折线图，能够看出这一段时间内股票价格的走势还是比较平稳的。</p><p>​ 温馨提示：在同一块画布中可以重复绘图，仔细观察会发现，红色线条在其他线条图层的上方，即后绘制的图会覆盖前边绘制的图，所以，在绘制图形时要注意，例如饼图这种，需要同时展现好几块饼的情况，不能采用这种绘图方式，而是需要创建子图，进行多图展示！</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Python','可视化','matplotlib'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>