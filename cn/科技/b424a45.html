<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>嵌入式协议转换器在无源无线测温系统中的应用 | 极客快訊</title><meta property="og:title" content="嵌入式协议转换器在无源无线测温系统中的应用 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/87f1a8d4-8645-4382-976c-7f628a9f94a3"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b424a45.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b424a45.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b424a45.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b424a45.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b424a45.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b424a45.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b424a45.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b424a45.html><meta property="article:published_time" content="2020-10-29T20:59:01+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:01+08:00"><meta name=Keywords content><meta name=description content="嵌入式协议转换器在无源无线测温系统中的应用"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/b424a45.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>嵌入式协议转换器在无源无线测温系统中的应用</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>由于485总线传输距离的限制，无源无线测温系统采集的温度数据难以传输到远距离的监控室中，而通过以太网即可实现远程数据传输，因此提出基于以太网和现场总线的两层结构，实现远程控制。同时电力系统内通信协议较多，不同厂家的设备接口协议不一致，为了更好地与各设备厂商后台系统对接，需要一款协议转换器，实现电力系统内Modbus，IEC-870-5-101，IEC-870-5-104，CDT，IEC61850通信协议的互转。</strong></p><div class=pgc-img><img alt=嵌入式协议转换器在无源无线测温系统中的应用 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/87f1a8d4-8645-4382-976c-7f628a9f94a3><p class=pgc-img-caption></p></div><p>现场总线技术是现今工业现场应用的一大热点，可以将现场设备通过现场总线连接起来，将所有的信息汇总于后台监控系统，并协同各种现场设备完成控制任务，实现工作人员不用去现场即可观察设备的运行状态，预防故障的发生。</p><p>电力系统中，电力设备的温度是设备是否正常运行的重要指标之一。在设计之初，即对使用温度做了严格的界定，因此在运行过程中，对温度的实时在线监测十分必要。高压开关柜通常要能承受最高达到4000A的正常工作电流，设备在长期运行过程中，开关的触点和母线连接等连接点因老化或接触电阻过大而发热，如果得不到及时解决，将使绝缘部件性能降低，甚至导致击穿，造成重大经济损失。</p><p>开关柜内有裸露高压，空间封闭狭小，无法进行人工巡查测温。因此无源无线测温系统的提出彻底解决了开关柜内有裸露高压，空间封闭狭小，无法进行人工巡查测温等技术难题。实现了对开关柜温度状态进行实时在线监测。</p><p>无源无线测温系统的采集终端收集传感头的温度信号后，将其重新打包，通过485总线发送至后台监控系统，安装在测温现场。由于485总线最大传输距离为1219m，不能实现远程监控现场设备，而通过以太网即可将现场设备的各种控制状态传送到远程控制室内，因此提出基于以太网和现场总线的两层结构，实现远程控制。</p><p>同时电力系统内通信协议较多，不同厂家的设备接口协议不一致，为了更好地与各设备厂商后台系统对接，需要一款协议转换器，实现电力系统内Modbus，IEC-870-5-101，IEC-870-5-104，CDT，IEC61850通信协议的互转。</p><h1 class=pgc-h-arrow-right>1 协议分析</h1><h2 class=pgc-h-arrow-right>1.1 Modbus协议</h2><p>Modbus协议是由Modicon公司开发的与具体网络类型无关的主从式通信协议[1]，是全球第一个真正用于工业现场的总线协议。由于其帧格式相对简单易懂，用户容易接受，开发也相对容易，使得Modbus协议在早期得到了广泛应用。目前Modbus协议应用较多的是RTU模式和TCP模式。本协议转换器采用的是RTU模式，采用RTU模式的Modbus协议数据帧结构如表1所示。</p><div class=pgc-img><img alt=嵌入式协议转换器在无源无线测温系统中的应用 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e12cacfb289548de82293c59a27f3dee><p class=pgc-img-caption>表1 RTU模式下消息帧结构</p></div><p>无源无线测温系统的采集终端收集的温度数据即填充到数据区，结构清晰，简单明了。</p><h2 class=pgc-h-arrow-right>1.2 IEC-870-5-101协议</h2><p>IEC-870-5-101协议规定了电网数据采集和监视控制系统(SCADA)中主站和子站(远动终端)之间以问答方式进行数据传输。</p><p>IEC-807-5-101协议相对于Modbus协议而言，可传输信息量大，地址域有3个字节，一次最大传输（224-1）个字节的信息，且传输机制更成熟。而Modbus的地址域只有2个字节，一次最多只能传送（216-1）个字节的信息。无源无线测温系统的采集终端收集的温度数据可作为遥测数据传送至其它厂家的后台系统。</p><p>IEC-870-5-101协议有可变帧长、固定帧长、和单个字符E5H三种帧格式。分别如表2、表3和表4所示。</p><div class=pgc-img><img alt=嵌入式协议转换器在无源无线测温系统中的应用 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1a9d6f916b014b26b0e6a7f7bfb40ef6><p class=pgc-img-caption>表2 可变帧长格式</p></div><div class=pgc-img><img alt=嵌入式协议转换器在无源无线测温系统中的应用 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1f81941096654ab3929d7a60bada13fb><p class=pgc-img-caption>表3 固定帧长格式</p></div><p><br></p><div class=pgc-img><img alt=嵌入式协议转换器在无源无线测温系统中的应用 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a62ed82e1bb44c089e9e6c16eb0ea11f><p class=pgc-img-caption>表4 单个字符E5H帧格式</p></div><h2 class=pgc-h-arrow-right>1.3 IEC-870-5-104协议</h2><p>IEC-870-5-104协议是为了实现101以太网访问制定的，并采用101的平衡传输模式，通过TCP/IP协议传输远动信息。适用于PAD（分组装拆）的数据网络[3]。该协议规定对101的应用协议数据单元的结构稍加变动如下：</p><p><strong>1) </strong>保留1个启动字符，1个帧长L；删除第2个启动字符，第2个帧长L，帧校验和以及结束字符；增加传输层所需要的4个控制字节。</p><p><strong>2) </strong>由于网络传输无法对时，因此用能够表示从毫秒到年的7个字节时标替代只能够表示从毫秒到分钟的3个字节时标。</p><p><strong>3) </strong>在应用功能方面，除了IEC 60870-5-101的召唤1级用户数据，召唤2级用户数据功能外，其他应用功能全部保留。</p><p>IEC-870-5-104协议的应用层传输帧结构如表5所示。</p><div class=pgc-img><img alt=嵌入式协议转换器在无源无线测温系统中的应用 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/daa73212c44c4ccba5d5d08603503a5e><p class=pgc-img-caption>表5 IEC-870-5-104协议的帧结构</p></div><h2 class=pgc-h-arrow-right>1.4 CDT循环远动规约</h2><p>CDT循环远动规约用于厂站与调度主站之间的通信。主站与子站之间进行以下数据的传输：遥信、遥测、事件顺序记录（SOE）、电能脉冲记数值、遥控命令、设定命令、升降命令、对时、广播命令、复归命令、子站工作状态。遥测又分为重要遥测、次要遥测和一般遥测。无源无线测温系统的采集终端收集的温度数据可作为一般遥测数据传送至其它厂家的后台系统。</p><p>CDT协议的帧结构如表6所示。</p><p><br></p><div class=pgc-img><img alt=嵌入式协议转换器在无源无线测温系统中的应用 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a2c4d1d9e5de497fba897fb622271fe6><p class=pgc-img-caption>表6 CDT协议帧结构</p></div><p>CDT协议提供RS232、RS485、RS422三种串行通信方式，在RS485方式下，只支持遥测和遥信命令，不支持遥调和遥控命令。本协议转换器采用RS232通信口。</p><h2 class=pgc-h-arrow-right>1.5 IEC61850协议</h2><p>IEC61850是一个关于变电站自动化系统结构和数据通信的国际标准，其目的是使变电站内不同厂家的通信设备通过一种标准协议实现信息共享和互操作[4]。</p><p>IEC 61850 规约体系完善，相对于传统规约而言，应用面向对象技术的IEC 61850 有明显的技术特点和优势。</p><p>1) 系统分层技术: IEC 61850 将变电站自动化系统分为变电站层、间隔层和过程层三层结构，并定义了各层之间的接口意义。</p><p>2) 面向对象的建模技术: IEC61850 标准采用面向对象的统一建模语言来全面的描述设备和系统，以实现设备之间的互操作性，并提出设备必须具有自描述功能。</p><p>3) 抽象服务通信接口技术: 抽象通信服务接口(ACSI)的提出是为了实现无缝的通信网络，接口技术独立于具体的网络应用层协议，可适应以太网以及现场总线等各种通信体系，从而适应电力系统内网络复杂多样的特点。</p><h1 class=pgc-h-arrow-right>2 硬件接口描述</h1><p>协议转换器通过Modbus协议与温度采集终端进行通信，Modbus协议、CDT协议和IEC-870-5-101协议均采用RS232通信方式，IEC-870-5-104和IEC61850协议采用以太网通信方式。故硬件设备至少需配备3个串口，2个网口。本协议转换器配备了4个串口，2个网口。</p><h1 class=pgc-h-arrow-right>3 软件设计</h1><p>软件设计主要包括根据配置的参数选择互转的协议，协议的解帧，数据净荷的转换和协议的组帧。各协议之间的转换，最主要是数据净荷的转换，收到需要转换的协议的数据帧后，去除帧头帧尾，取出数据净荷，根据目标协议的组帧规则重新打包，从对应的硬件接口发送出去。流程如图1所示。</p><div class=pgc-img><img alt=嵌入式协议转换器在无源无线测温系统中的应用 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fb97799498054e71b5fca5a4242814f3><p class=pgc-img-caption>图1 数据处理流程图</p></div><h1 class=pgc-h-arrow-right>4 在无源无线测温系统中的应用</h1><p>在这里以Modbus协议向61850协议转换为例做详细介绍。这样的协议转换器已在某变电站中使用，运行效果良好，其系统连接图如图2所示。</p><div class=pgc-img><img alt=嵌入式协议转换器在无源无线测温系统中的应用 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/af257a9736f141a3bde74407e9d3fd3d><p class=pgc-img-caption>图2系统连接图</p></div><p>每个开关柜安装6个传感器，分别为A、B、C三相进线和A、B、C三相出线。每个开关柜安装一个采集终端，采集6个探头温度信号，采集终端通过232总线与协议转换器通信，上传各个测点的温度信息，协议转换器将所有的温度信息通过IEC61850协议上报给其他厂家的后台系统。Modbus数据帧结构如表7所示。</p><div class=pgc-img><img alt=嵌入式协议转换器在无源无线测温系统中的应用 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b63ccf62deb9451590d274f2d64742b0><p class=pgc-img-caption>表7 Modbus数据帧结构</p></div><p>IEC61850的cid文件如图3所示。</p><div class=pgc-img><img alt=嵌入式协议转换器在无源无线测温系统中的应用 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/aed09e9caf1347a399884faaf5d19e51><p class=pgc-img-caption>图3 IEC61850的cid文件</p></div><h1 class=pgc-h-arrow-right>5 结论</h1><p>由于现场总线传输距离和负载容量的限制，使得远程控制和数据共享受到非常大的制约，极大地限制了产品的推广和发展。并且电力系统内通信协议较多，当采集终端不接入自己的后台系统时，不能很好地与其他厂家生产的设备通信。采用此协议转换器即可实现电力系统内Modbus，IEC-870-5-101，IEC-870-5-104，CDT，IEC61850通信协议的互转，从而使产品适用于更多场合。</p><blockquote class=pgc-blockquote-abstract><p>本文编自《电气技术》，作者为覃奇、陈金 等。</p></blockquote></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'协议','转换器','无源'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>