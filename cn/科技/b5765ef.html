<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>什么是“随机”？教你分清“伪随机”和“真随机” | 极客快訊</title><meta property="og:title" content="什么是“随机”？教你分清“伪随机”和“真随机” - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/fdbbf836791442f88a40f6586f19132e"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5765ef.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5765ef.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5765ef.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5765ef.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5765ef.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5765ef.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5765ef.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5765ef.html><meta property="article:published_time" content="2020-10-29T21:05:28+08:00"><meta property="article:modified_time" content="2020-10-29T21:05:28+08:00"><meta name=Keywords content><meta name=description content="什么是“随机”？教你分清“伪随机”和“真随机”"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/b5765ef.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>什么是“随机”？教你分清“伪随机”和“真随机”</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>​很久以前流传着这样一则笑话：一个身患重病的人决定去动手术。在手术之前，他问医生：“这起手术的成功率是多少？”医生回答他：“只有1%。”他很惊慌，但是医生说：“没事的，在你之前我已经治死过99个人了。”</p><p><strong>这是一则嘲笑那些不懂“概率”的人的笑话，却讲出了“真随机”和“伪随机”之间的区别。</strong></p><p>在四月末的时候，我曾写过一篇<strong>《你打游戏靠的是技术，还是运气？》</strong>，其中就提及了“伪随机”这个概念。当时受限于篇幅，没有详细展开解释“伪随机”的概念。前不久，在因国际邀请赛而备受关注的Dota2在最近一次的更新中，有这么一条更新内容：<strong>“落空的负面效果和下坡攻击的落空效果现在都采用伪随机触发”</strong>。</p><p>那么到底什么是<strong>“伪随机”</strong>呢？以及和“伪随机”对应的<strong>“真随机”</strong>又是什么概念？</p><h1><strong>在讨论真随机和伪随机之前，先排除另一个容易搞混的错误答案：赝随机数。</strong></h1><p><strong>赝随机数算法（Pseudo-Random Number Generator，简称PRNG）</strong>是计算机的一个术语——当然，它也可以被叫做“伪随机数算法”，只是为了方便与游戏中的“伪随机数”进行区分，本文中统一称作“赝随机数算法”。</p><p>众所周知，计算机程序是由无数“0”和“1”两种状态构成的，如果一个状态不是“0”，那就必定是“1”，颇有种非黑即白的味道。</p><div class=pgc-img><img alt=什么是“随机”？教你分清“伪随机”和“真随机” onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/fdbbf836791442f88a40f6586f19132e><p class=pgc-img-caption></p></div><p>因此，在计算机程序中，不存在“不确定”的数字，只有确定的“1”和“0”。基于这种特性，计算机无法生成“真正的（不确定的）随机数”。</p><p>那么在计算机中，需要生成或是使用到随机数的时候怎么办呢？<strong>通常是利用计算机抓取一些数值，然后将这些数值输入至一个复杂算法</strong>（常用的算法是同余法和梅森旋转算法，有兴趣的读者可以自行查询，这里就不展开讲了）<strong>当中，通过一系列运算得出一个数字，这就是平常说的赝随机数了。</strong></p><p>只要最初输入的数值（初值）不变，那么输出的值都会是同一个值，这就证明了这个数并不随机，只是看起来随机而已。</p><p><strong>换句话说，只要这个随机数是由确定算法生成的，那就是赝随机数。</strong></p><p>所以下一次在和朋友聊天时提到真随机数、伪随机数时，如果有人插嘴：“计算机只能生成伪随机数，所以根本没有什么真随机”，那你就可以霸气侧漏地说他是<strong>“云玩家”</strong>了。</p><h1><strong>回到正题。在游戏当中我们一直提到的“真随机”和“伪随机”，到底是什么意思？</strong></h1><p>我们通常说的<strong>真随机</strong>又名<strong>“纯随机”（True Random Distribution）</strong>，就是我们平常一直说的那种、一般意义上的“随机”。</p><p>在真随机中，<strong>每一个事件都是相互独立、服从真随机分布的，不受其他事件的发生而改变</strong>。比方说某款游戏为了吸引用户，拥有这么一个随机抽卡系统：每次抽卡时，都有1%的机率抽出SSR卡片，这个概率服从真随机分布。</p><p>回到我们最开始说的那个“治死99个”的笑话：我们一眼就能看出这个笑话的不合理性。但在抽卡游戏中，我们的大脑瞬间失去理智。有相当一部分玩家认为：<strong>我连抽100次，总能抽到这张卡吧！</strong></p><div class=pgc-img><img alt=什么是“随机”？教你分清“伪随机”和“真随机” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/13097ad83a8d44419b343e377a9d223e><p class=pgc-img-caption></p></div><p><strong>实际上，连抽100次却抽不出1%的SSR卡的机率是为(1-0.01)^100=36.6%，甚至还稍稍超过了1/3。将连抽数字上升至300，也仍有4.9%的机率。</strong></p><p><strong>换句话说，假设有10000个玩家连抽100次，就有约3660个玩家抽不出这张SSR；10000个玩家连抽300次，也仍有约490个玩家抽不出这张SSR</strong>——这对玩家的游戏体验来说可以说是毁灭性的打击。</p><div class=pgc-img><img alt=什么是“随机”？教你分清“伪随机”和“真随机” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/760aaa4319324136bb7c01f73eb29c74><p class=pgc-img-caption></p></div><p>尽管纯随机在数学上是无罪的，在代码中更是明明白白、清清楚楚，但玩家抽不出卡可不会回想到初高中的数学课本，<strong>而是首先怀疑机率是否被策划运营篡改、这背后又是否有肮脏的PY交易……</strong></p><div class=pgc-img><img alt=什么是“随机”？教你分清“伪随机”和“真随机” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c9d891bc65954117af0fe717e02cd72b><p class=pgc-img-caption></p></div><p>当然不仅仅是在抽卡系统当中如此。在一些竞技性比较强的游戏中（比如War3、Dota2之中——英雄联盟几乎完全摘除了随机系统，不在此列），连续数次的“走运”极大影响游戏的竞技性和观赏性。</p><p>比方说Dota中最著名的概率英雄虚空假面的技能“回到过去”：<strong>使虚空假面有25%机率完全躲避一次伤害。</strong>受限于War3引擎，这个技能采用的是真随机概率，在某个极端情况下（通常见于精彩集锦中），虚空假面能够保持很低的血量承受多次伤害却不死、最终反杀对手。这种带给敌方极差游戏体验的系统，因此也进入了计师们“整治范围”之中。</p><div class=pgc-img><img alt=什么是“随机”？教你分清“伪随机”和“真随机” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/fac9ef369446492aa492888d29308dd1><p class=pgc-img-caption></p></div><p>为了避免极差的游戏体验带来的玩家数量流失，设计者们提出了“伪随机”的概念：<strong>在不确定性的随机事件当中，通过一系列算法使随机事件均匀分布在多次事件当中，尽可能减少或消除极端情况的发生，以提高玩家的游戏体验。</strong></p><p>在设计师们的努力下，“伪随机”应运而生，这里的伪随机就和上文的赝随机数算法（PRNG）意义不同了。</p><p>制造“伪随机”的方法有很多，在War3、Dota2这类游戏当中普遍使用的是<strong>“伪随机分布”（Pseudo Random Distribution，简称PRD）</strong>处理概率。</p><p>就拿Dota2中最强大的暴击技能“恩赐解脱”来举例：<strong>幻影刺客有15%的机率造成200%/325%/450%致命一击伤害</strong>。在PRD机制下，幻影刺客的攻击实际上<strong>并不是</strong>每一刀都有15%的暴击率。</p><div class=pgc-img><img alt=什么是“随机”？教你分清“伪随机”和“真随机” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3a65c2e89aab46218210e131003d41ed><p class=pgc-img-caption></p></div><p>根据PRD机制的公式P(N)=N*C可得出15%机率的C值为3.22%，即幻影刺客的第一次攻击暴击概率为3.22%；如果第一刀没有暴击，则第二刀的暴击率提升至2倍，即6.44%；如果仍旧没有暴击，则提升至3倍的9.66%，以此类推。</p><div class=pgc-img><img alt=什么是“随机”？教你分清“伪随机”和“真随机” onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/cd94dbcd83e34eeeb3766dc7107b3fa4><p class=pgc-img-caption></p></div><p>如果继续推算，可得在第32刀时暴击机率会达到100%，最可能触发暴击的次数是第6刀，平均触发刀数是6.67刀等等……</p><p>同样，在连续触发暴击时，下一刀的暴击机率会减少。RPD机制使竞技游戏中连续触发或不触发技能的机率降低，避免了运气成分过度干扰战斗结果，大幅提升了玩家的游戏体验，但不影响这些随机事件的正反馈：TI6决赛的“打我五下晕三下”，可是令全球人民集体沸腾了呢！</p><div class=pgc-img><img alt=什么是“随机”？教你分清“伪随机”和“真随机” onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8d6f4053ea7d421da7806a4af44c7c5a><p class=pgc-img-caption></p></div><p>除了伪随机分布RPD之外，还有两种常见的伪随机：<strong>洗牌算法</strong>和<strong>组合随机</strong>。</p><p><strong>洗牌算法</strong>最常见的用法，是在各大音乐播放器中的“随机播放”之中。在随机播放时，如果采用真随机，会导致一首歌无论如何都播放不出，或是同一首歌连续播放数次（有兴趣的读者可以计算一下这些概率）。为了解决这个问题，播放器采用的解决方案即是洗牌算法：将一个包含所有歌曲的数组像洗牌一样打乱，然后依次播放这个乱序数组。</p><p>至于<strong>组合随机</strong>，这是一种广泛应用于各个游戏的做法：在抽奖的时候进行两次、或是更多次的判断，一次不随机，而剩下的判断则是真随机。比如说，你会在第X次抽卡时抽到SSR是确定的，但抽中的SSR具体是哪张卡，则是随机的——这就是广大手游中的“低保”系统了。</p><p>在一堆数据之中想要分清“真随机”和“伪随机”似乎并不是那么容易。那么接下来为大家介绍两个例子，有助于更好理解什么是“真随机”和“伪随机”：</p><p><strong>真随机</strong>：有一天，小明在的班级上举办了一次抽奖活动。这个班级有40个学生，所以为了公平起见，保证每个学生都有1/40的机率中奖，老师准备了40个相同的纸盒，每个纸盒中都有40张纸条，有1张纸条是中奖纸条。这样一来，每个学生都有1/40的机率中奖，但每个学生是否中奖并不受其他学生的影响。在极端情况下，这个班上可能40个学生都能中奖。这就是真随机。</p><p><strong>伪随机</strong>：小明班上举办了抽奖活动。为了公平起见，老师准备了1个纸盒，纸盒中有40张纸条，只有1张纸条是中奖纸条。这样一来，每个学生都有1/40的机率中奖——但是显而易见，这个班上有且仅有一名学生能够中奖。一名学生在中奖后，余下的所有学生中奖机率都会减少至0。这就是伪随机。</p><p class=ql-align-center>（图片来源于网络）</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'随机','什么','分清'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>