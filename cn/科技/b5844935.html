<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>一款芯片产品从构想到完成是怎样的过程？ | 极客快訊</title><meta property="og:title" content="一款芯片产品从构想到完成是怎样的过程？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/SEyuBWF1Hw4Wmu"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5844935.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5844935.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5844935.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5844935.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5844935.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5844935.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5844935.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5844935.html><meta property="article:published_time" content="2020-11-14T21:04:01+08:00"><meta property="article:modified_time" content="2020-11-14T21:04:01+08:00"><meta name=Keywords content><meta name=description content="一款芯片产品从构想到完成是怎样的过程？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/b5844935.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>一款芯片产品从构想到完成是怎样的过程？</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>本文来源于知乎，已获作者授权，谢谢。</strong></p><p>作者：温戈</p><p>链接：</p><p>https://www.zhihu.com/question/28322269/answer/1498321730</p><p>一颗芯片从无到有，从有需求到最终应用，经历的是一个漫长的过程，作为人类科技巅峰之一的芯片，凝聚了人们的智慧，而芯片产业链也是极其复杂的，在此，我大致把它归为四个部分（<strong>市场需求--芯片设计--芯片制造--测试封装</strong>），然后再一一的做详细介绍。</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/SEyuBWF1Hw4Wmu></div><h1>市场需求</h1><p>这个无需多讲，目前芯片应用已经渗透到我们生活的方方面面，早晨上班骑的共享单车，到公司刷的IC卡，工作时偷偷地打游戏，手机卡了还要换更快的手机，可以说IC的市场需求一直都在。</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyuBXl9fTdpre></div><h1>芯片设计</h1><p>芯片设计又可以分为两部分，<strong>芯片前端设计</strong>和<strong>芯片后端设计，整体流程如下图：</strong></p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyuBYg7nIHJWy></div><p><strong>芯片前端设计</strong></p><p>前端设计也就是从输入需求到输出网表的过程：主要分为以下六个步骤：</p><ol><li>RTL设计</li><li>验证</li><li>静态时序分析</li><li>覆盖率</li><li>ASIC逻辑综合</li></ol><p>时序分析和验证时出现的错误可能需要反复重做前面几步才能解决，是一个多次迭代优化的过程。</p><p>下面我来仔细介绍一下这六个步骤。</p><p><strong>1、RTL设计</strong></p><p>在设计之前我们先要确定芯片的工艺，比如是选择TSMC还是SMIC，是7nm，还是5nm，而工艺的选择也是受很多因素的制约（如下图），而芯片工艺的选择，就是对这些因素的权衡。</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/SEyuBZRIyIT2Dy></div><p><strong>IC设计的第一步就是制定Spec</strong>，这个步骤就像是在设计建筑前，要先画好图纸一样，在确定好所有的功能之后在进行设计，这样才不用再花额外的时间进行后续修改。IC 设计也需要经过类似的步骤，才能确保设计出来的芯片不会有任何差错。</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/SEyuC4s7T1zy4D></div><p>由文档来写RTL</p><p>而用RTL实现的各种功能模块，来组成一个实现具体功能的IP，SOC芯片最终由SOC integration工程师把各个IP集成到一起。</p><p>IP又分为模拟IP和数字IP，大概可以做如下的分类：</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyuC5U1dRqz8R></div><p>在芯片功能设计完备后，我们还要做可测性设计DFT（Design For Test）。</p><p>关于DFT的具体介绍，请直达以下两个传送门：</p><p>芯片设计中，DFT岗位是什么体验？</p><p>https://www.zhihu.com/question/401109345/answer/1387028607</p><p>https://zhuanlan.zhihu.com/p/159273941</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/SEyuC5z7uhnqVa></div><p><br></p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/SEyuC8PAXO86QI></div><p>RTL设计最后要做的就是代码的设计规则检查。</p><p>通过lint, Spyglass等工具，针对电路进行设计规则检查，包括代码编写风格，DFT，命名规则和电路综合相关规则等。</p><p><strong>2、验证</strong></p><p>验证是保证芯片功能正确性和完整性最重要的一环。验证的工作量也是占整个芯片开发周期的50%-70%，相应的，验证工程师与设计工程师的数量大概在2-3:1。</p><p>从验证的层次可以分位：模块级验证，子系统级验证和系统级验证。</p><p>从验证的途径可以分为：模拟（simulation），仿真和形式验证（formality check）。</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyuC8t9WTFIMp></div><p><strong>3、静态时序分析（STA）</strong></p><p>静态时序分析是套用特定的时序模型（timing model）,针对特定电路，分析其是否违反designer给定的时序限制（timing constraint）。</p><p>目前主流的STA工具是synopsys的Prime Time。</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/SEyuCuk94OrQLP></div><p>时序分析流程图</p><p><strong>静态时序分析的作用：</strong></p><ol><li><strong>确定芯片最高工作频率</strong></li></ol><p>通过时序分析可以控制工程的综合、映射、布局布线等环节，减少延迟，从而尽可能提高工作频率。</p><p><strong>2. 检查时序约束是否满足</strong></p><p>可以通过时序分析来查看目标模块是否满足约束，如不满足，可以定位到不满足约束的部分，并给出具体原因，进一步修改程序直至满足要求。</p><p><strong>3. 分析时钟质量</strong></p><p>时钟存在抖动、偏移、占空比失真等不可避免的缺陷。通过时序分析可以验证其对目标模块的影响。</p><p><strong>4、覆盖率</strong></p><p>覆盖率作为一种判断验证充分性的手段，已成为验证工作的主导。</p><p>从目标上，可以把覆盖率分为两类：</p><ul><li>代码覆盖率</li></ul><p>作用：检查代码是否冗余，设计要点是否遍历完全。</p><p>检查对象：RTL代码</p><ul><li>功能覆盖率</li></ul><p>作用：检查功能是否遍历</p><p>检查对象：自定义的container</p><p>在设计完成时，要进行代码覆盖率充分性的sign-off, 对于覆盖率未达到100%的情况，要给出合理的解释，保证不影响芯片的工能。</p><p><strong>5、ASIC综合</strong></p><p>逻辑综合的结果就是把设计实现的RTL代码翻译成门级网表（netlist）的过程。</p><p>在做综合时要设定约束条件，如电路面积、时序要求等目标参数。</p><p>工具：synopsys的Design compiler, 综合后把网表交给后端。</p><p>至此我们前端的工作就结束啦，看到这里我先给各位看官个赞！</p><p><strong>芯片后端设计</strong></p><p>后端设计也就是从输入网表到输出GDSII文件的过程：主要分为以下六个步骤：</p><ol><li>逻辑综合</li><li>形式验证</li><li>时钟数综合</li><li>物理实现</li><li>时钟树综合-CTS</li><li>寄生参数提取</li><li>版图物理验证</li></ol><p><strong>1.逻辑综合</strong></p><p>在前端最后一步已经讲过了，在此不做赘述。</p><p><strong>2. 形式验证</strong></p><ul><li>验证芯片功能的一致性</li><li>不验证电路本身的正确性</li><li>每次电路改变后都需验证</li></ul><p>形式验证的意义在于保障芯片设计的一致性，一般在逻辑综合，布局布线完成后必须做。</p><p>工具：synopsys Formality</p><p><strong>4. 物理实现</strong></p><p>物理实现可以分为三个部分:</p><p><strong>布局规划 floor plan</strong></p><p><strong>布局 place</strong></p><p><strong>布线 route</strong></p><p>1、布图规划floor plan</p><p>布图规划是整个后端流程中作重要的一步，但也是弹性最大的一步。因为没有标准的最佳方案，但又有很多细节需要考量。</p><p>布局布线的目标：优化芯片的面积，时序收敛，稳定，方便走线。</p><p>工具：IC compiler，Encounter</p><p>布图规划完成效果图：</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyuCvRCfyUTTo></div><p>2、布局</p><p>布局即摆放标准单元，I/O pad，宏单元来实现个电路逻辑。</p><p>布局目标：利用率越高越好，总线长越短越好，时序越快越好。</p><p>但利用率越高，布线就越困难；总线长越长，时序就越慢。因此要做到以上三个参数的最佳平衡。</p><p>布局完成效果图：</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/SEyuCwW5pkNSo></div><p>3、布线</p><p>布线是指在满足工艺规则和布线层数限制、线宽、线间距限制和各线网可靠绝缘的电性能约束条件下，根据电路的连接关系，将各单元和I/O pad用互连线连接起来。</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyuCxm7ZjYZlg></div><p><strong>5.时钟树综合——CTS</strong></p><p>Clock Tree Synthesis，时钟树综合，简单点说就是时钟的布线。</p><p>由于时钟信号在数字芯片的全局指挥作用，它的分布应该是对称式的连到各个寄存器单元，从而使时钟从同一个时钟源到达各个寄存器时，时钟延迟差异最小。这也是为什么时钟信号需要单独布线的原因。</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyuCyT2IijTCK></div><p><strong>6. 寄生参数提取</strong></p><p>由于导线本身存在的电阻，相邻导线之间的互感,耦合电容在芯片内部会产生信号噪声，串扰和反射。这些效应会产生信号完整性问题，导致信号电压波动和变化，如果严重就会导致信号失真错误。提取寄生参数进行再次的分析验证，分析信号完整性问题是非常重要的。</p><p>工具Synopsys的Star-RCXT</p><p><strong>7.版图物理验证</strong></p><p>这一环节是对完成布线的物理版图进行功能和时序上的验证，大概包含以下方面：</p><p>LVS（Layout Vs Schematic）验证：简单说，就是版图与逻辑综合后的门级电路图的对比验证；</p><p>DRC（Design Rule Checking）：设计规则检查，检查连线间距，连线宽度等是否满足工艺要求；</p><p>ERC（Electrical Rule Checking）：电气规则检查，检查短路和开路等电气规则违例；</p><p>实际的后端流程还包括电路功耗分析，以及随着制造工艺不断进步产生的DFM（可制造性设计）问题等。</p><p><strong>物理版图以GDSII的文件格式交给芯片代工厂</strong>（称为Foundry）在晶圆硅片上做出实际的电路。</p><p>关于半导体制造可以参阅：</p><h1>晶圆代工争霸战四部曲(了解各晶圆厂的前世今生）</h1><h1>半导体科普：IC芯片设计及生产流程</h1><h1>从沙子到芯片，看看CPU是如何制造出来的</h1><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/SEyuDge95jBF1z></div><p>GDSII效果版图</p><p>最后进行封装和测试，就得到了我们实际看见的芯片。</p><div class=pgc-img><img alt=一款芯片产品从构想到完成是怎样的过程？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyuDhL1ykbAxJ></div><p>关于封装可参阅：</p><ol><li>IC封装工艺简介</li><li>非常详细的封装流程介绍</li><li>集成电路Bonding的知识</li></ol><p>芯片设计的流程是纷繁复杂的，从设计到流片耗时长（一年甚至更久），流片成本高，一旦发现问题还要迭代之前的某些过程。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'产品','从构','怎样'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>