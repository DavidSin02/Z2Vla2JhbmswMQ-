<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术 | 极客快訊</title><meta property="og:title" content="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5a90f38.html><meta property="article:published_time" content="2020-11-14T21:07:34+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:34+08:00"><meta name=Keywords content><meta name=description content="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/b5a90f38.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>《测绘学报》</p><p>构建与学术的桥梁 拉近与权威的距离</p><p><strong>SLAM激光点云整体精配准位姿图技术</strong></p><p>闫利<sup>1,2</sup>, 戴集成<sup>1</sup>, 谭骏祥<sup>1</sup>, 刘华<sup>1</sup>, 陈长军<sup>1</sup><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb></p><p>1. 武汉大学测绘学院, 湖北 武汉 430079; 2. 武汉大学测绘遥感信息工程国家重点实验室, 湖北 武汉 430079</p><p>收稿日期：2017-12-19；修回日期：2018-10-12</p><p>基金项目：国家自然科学基金（41771486）</p><p>第一作者简介：闫利(1966-), 男, 教授, 博士生导师, 研究方向为摄影测量、遥感和三维激光扫描技术。E-mail:lyan@sgg.whu.edu.cn</p><p>通信作者：陈长军, E-mail：chencj@whu.edu.cn</p><p><strong>摘要</strong>：基于同步定位与制图（simultaneous localization and mapping，SLAM）技术的激光扫描系统具有成本低、效率高的优点，近年来在测绘领域得到了广泛关注。虽然基于SLAM技术的激光扫描系统能够实现实时数据获取，但该数据获取方式难以保证点云精度，不同位置获取的同一地物的点云存在位置不一致。为了提高该类系统所获点云精度，本文提出一种分层次点云全局优化方法。该方法首先通过“点-切平面”迭代最近邻算法对重叠点云进行配准，形成扫描系统轨迹间的约束；然后构建位姿图对轨迹进行优化，利用优化后的轨迹对点云进行修正。算法通过将优化过程分解为局部和整体两个层次以提高计算效率。试验结果表明，优化后点云同名点对间的距离中误差减小约50%，内部不一致现象得到有效消除。</p><p>关键词：点云修正 同步定位与制图 全局优化 图优化 迭代最近点法</p><p><strong>Global fine registration of point cloud in LiDAR SLAM based on pose graph</strong></p><p>YAN Li<sup>1,2</sup>, DAI Jicheng<sup>1</sup>, TAN Junxiang<sup>1</sup>, LIU Hua<sup>1</sup>, CHEN Changjun<sup>1</sup></p><p>1. School of Geodesy and Geomatics, Wuhan University, Wuhan 430079, China;2. State Key Laboratory of Information Engineering in Surveying, Wuhan University, Wuhan 430079, China</p><p>Foundation support: The National Natural Science Foundation of China (No. 41771486)</p><p>First author: YAN Li(1966—), male, professor, PhD supervisor, majors in photogrammetry, remote sensing and LiDAR. E-mail:lyan@sgg.whu.edu.cn</p><p>Corresponding author: CHEN Changjun, E-mail: chencj@whu.edu.cn</p><p><strong>Abstract</strong>: The laser scanning system based on simultaneous localization and mapping(SLAM) technology has the advantages of low cost and high efficiency. It has drawn wide attention in the field of surveying and mapping in recent years.Although real-time data acquisition can be achieved using SLAM technology, the precision of the data can't be ensured, and inconsistency exists in the acquired point cloud. In order to improve the precision of the point cloud obtained by this kind of system, this paper presents a hierarchical point cloud global optimization algorithm. Firstly, the "point-to-plane" Iterative closest point algorithm (ICP) is used to match the overlapping point clouds to form constraints between the trajectories of the scanning system.Then a pose graph is constructed to optimize the trajectory. Finally, the optimized trajectory is used to refine the point cloud. The computational efficiency is improved by decomposing the optimization process into two levels, i.e. local level and global level. The experimental results show that the RMSE of the distance between the corresponding points in overlapping areas is reduced by about 50% after optimization, and the internal inconsistency is effectively eliminated.</p><p>Key words: point cloud refine simultaneous localization and mapping global optimization graph optimization iterative closest point</p><p>激光扫描(light detection and ranging, LiDAR)技术作为一种重要的三维空间数据获取技术，可以直接快速地获取物体表面三维信息<sup>[1</sup><sup>]</sup>，广泛应用于测绘<sup>[2</sup><sup>]</sup>、机器人<sup>[3</sup><sup>]</sup>和无人驾驶<sup>[4</sup><sup>]</sup>等领域。SLAM技术源于机器人领域，中文译为同步定位与制图技术<sup>[5</sup><sup>]</sup>。将LiDAR与SLAM相结合，通过集成LiDAR扫描仪、IMU(inertial measurement unit)等传感器可在扫描平台移动过程中实时获取位置、姿态信息以及场景的空间信息。基于SLAM技术的激光扫描可以高效完成室内空间或室外小场景的三维点云数据获取，近年来在测绘领域得到了广泛的关注和应用<sup>[6</sup><sup>]</sup>。</p><p>由于SLAM定位对实时性的要求，无法充分利用多余观测信息对位姿信息和点云数据进行优化，致使激光点云数据中存在内部不一致问题，影响点云后续处理与应用。实时SLAM点云优化，通常先对点云进行分段处理，然后通过闭环检测找出重叠点云构成的闭合环，以此构建位姿图进行优化<sup>[7</sup><sup>-10</sup><sup>]</sup>。这类算法存在闭合环检测错误的可能，且无法处理局部区域内部的误差<sup>[11</sup><sup>]</sup>。测绘领域对三维激光点云数据精度要求高，对数据实时性要求较低，可以对点云进行离线的全局优化，从而改善点云内部不一致，提高点云的相对精度。目前的点云全局优化主要针对地面静态式扫描激光扫描点云，方法是将一站点云视为一个视图，利用闭合环条件约束对多视点云进行配准和优化。文献[12-13]提出一种基于光束法区域网平差进行点云整体配准方法，但需要利用靶标；文献[14]提出了一种严密的闭合条件约束配准方法，使用点云间的座标转换参数构建误差方程，进行优化；文献[15-16]提出一种通过将点云分为两份分别配准，比较转换参数的点云配准质量的评价方式；文献[17]提出了一种利用所有重叠点云对应点作为观测值同时解算配准结果的全局优化的算法。</p><p>SLAM点云为移动式实时扫描点云，每一帧点云为一个视图，点云视图数多，重叠关系复杂。为了充分利用重叠点云中的冗余信息对SLAM点云进行精度优化，本文提出一种基于位姿图优化理论<sup>[18</sup><sup>-19</sup><sup>]</sup>的离线整体精配准方法。该方法以实时获取的平台轨迹的位姿信息为初始条件，通过迭代最近点算法(iterative closest point, ICP)<sup>[20</sup><sup>]</sup>对在不同时刻扫描的重叠点云进行配准，形成对扫描平台轨迹的约束并对其进行优化，利用优化后的轨迹对点云进行修正。为提高计算效率，本文采用分层优化策略，即将优化分解为局部区域优化和整体优化两个层次。</p><p>1 位姿图优化理论基础1.1 位姿图表达</p><p>图优化理论是一种将图论和非线性优化相结合的理论，通过将优化问题转化为图形式进行表达，从而直观地反映出优化变量与约束条件之间的关系，便于拓扑结构操作和构造目标函数<sup>[21</sup><sup>]</sup>。用<em>G</em>={<em>V</em>,<em>E</em>}表示图结构，<em>V</em>代表图的顶点，<em>E</em>表示边。针对优化问题，图的顶点代表待优化参数，边代表参数之间的约束条件。图优化的目标是最小化所有约束代价，进而通过优化解法获得最佳待求参数。位姿图(见图 1)是优化图的一种具体形式，本文将其用于解决具有复杂点云视图结构的轨迹优化问题。</p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5lue3NUUG5x><p>图 1 位姿图示例Fig. 1 Pose graph</p><p>图 1为一个典型的位姿图示例，<strong>v</strong><sub>i</sub>表示一个顶点，<strong>e</strong><em>i</em>,<em>j</em>表示一条边。其中，顶点代表扫描平台的位置和姿态，顶点之间的边代表位姿的约束条件。在SLAM激光点云的全局优化中，位姿图的每一个顶点<strong>v</strong><sub>i</sub>都对应于扫描系统的一个轨迹点<strong>x</strong><sub>i</sub>，轨迹点信息包含位置和姿态参数。其中，位置参数使用向量<strong>t</strong><sub>i</sub>=[x<sub>i</sub>y<sub>i</sub>z<sub>i</sub>]<sup>T</sup>表示，即扫描系统在全局座标系中的平移位置；姿态参数使用四元数q<sub>i</sub>=[qw<sub>i</sub>qx<sub>i</sub>qy<sub>i</sub>qz<sub>i</sub>]<sup>T</sup>表示，即扫描系统在全局座标系中的旋转姿态，则顶点<strong>v</strong><sub>i</sub>=[<strong>t</strong><sub>i</sub><sup>T</sup><strong>q</strong><sub>i</sub><sup>T</sup>]<sup>T</sup>。位姿图的每一条边<strong>e</strong><em>i</em>,<em>j</em>表示观测值对连接的顶点<strong>v</strong><sub>i</sub>、<strong>v</strong><sub>j</sub>之间相对位姿关系的约束，本文通过对重叠点云进行配准形成约束。由于存在误差，顶点<strong>v</strong><sub>i</sub>、<strong>v</strong><sub>j</sub>无法完全符合边<strong>e</strong><em>i</em>,<em>j</em>代表的约束，产生的残差为<em>r</em>(<strong>v</strong><sub>i</sub>,<strong>v</strong><sub>j</sub>,<strong>e</strong><em>i</em>,<em>j</em>)。</p><p>1.2 优化求解</p><p>根据最小化位姿图的残差总和的优化准则，获得最优位姿参数<img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5luu4yrxEvg></p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/ROc5lv5IdZSFvA><p>(1)</p><p>式中，<em>n</em>为轨迹中的位姿总数。如果顶点<strong>v</strong><sub>i</sub>、<strong>v</strong><sub>j</sub>间不存在边<strong>e</strong><em>i</em>,<em>j</em>作为约束时，则残差<strong>r</strong>(<strong>v</strong><sub>i</sub>,<strong>v</strong><sub>j</sub>,<strong>e</strong><em>i</em>,<em>j</em>)=0。</p><p>位姿图优化作为一种全局优化方法，其中每一条边都会直接或间接对所有顶点的估计值产生影响，一个错误的约束就足以导致优化质量的下降，同时降低识别粗差的能力<sup>[22</sup><sup>]</sup>。在构建位姿图的边时，需要对大量点云进行配准，周围环境中存在的对称、重复结构，噪声，点云重叠度低等因素，都会造成配准失败。为提高解算的稳健性，减小异常值对结果的影响，本文通过附加损失函数对式(1)进行改进</p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5lvHDuxsbgn><p>(2)</p><p>式中，ρ<sub>H</sub>为Huber损失函数<sup>[23</sup><sup>]</sup>。</p><p>由于目标函数为非线性函数，可使用L-M(Levenberg-Marquardt)优化方法<sup>[24</sup><sup>]</sup>进行解算，获得扫描平台轨迹的最优位姿参数，进而根据优化后的轨迹对点云进行修正，达到改善点云质量的目的。</p><p>2 基于位姿图的点云优化</p><p>本文所使用的点云优化方法是通过对扫描平台的轨迹进行全局优化以提高点云精度，方法流程如图 2所示。过程包括数据预处理、局部区域点云优化和整体点云优化3部分。预处理的目的是去除对点云配准贡献小的点，如离群点，并估计点云配准所需的法向量。预处理后按一定的时间间隔将点云和轨迹分为若干小段，每一小段视为一个局部区域，其含有若干帧点云。为了处理局部区域内点云误差，以单帧点云为配准单元，通过外包盒寻找点云之间的重叠关系，对重叠点云进行配准。SLAM激光点云经过实时算法的处理，点云间可认为已经完成粗配准，可以直接使用ICP算法进行配准。利用配准结果对轨迹进行约束，构建位姿图对轨迹进行优化，完成局部区域内点云优化。最后将优化后的局部区域点云合并，合并后的每一段点云视为配准单元，采用类似局部区域优化的方式完成整体点云的全局优化。</p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ROc5lvUBtzdHaE><p>图 2 SLAM点云整体精配准方法Fig. 2 Global fine registration method of SLAM point</p><p>2.1 预处理</p><p>为了提高配准的可靠性和效率，首先采用距离滤波和统计距离阈值滤波对点云数据进行预处理，剔除扫描距离过大点和孤立点。随着扫描距离的增大，点云的精度和密度都会下降，同时噪声增多，根据扫描仪的有效扫描距离和扫描环境，设置距离阈值<em>D</em><sub>max</sub>，去除扫描距离大于<em>D</em><sub>max</sub>的点。为了去除孤立点，避免其对之后的法向量计算造成影响，对点云进行统计距离阈值滤波<sup>[25</sup><sup>]</sup>。该方法计算每个点到最邻近点的距离的平均值<em>μ</em>和标准差<em>σ</em>，去除距离最邻近点距离超出<em>μ</em>±<em>σ</em>的点。最后，在预处理中计算每个点的法向量，通过对各点邻域内座标的协方差矩阵进行特征值分解，其中最小的特征值对应的特征向量为该点的法向量<sup>[26</sup><sup>]</sup>。</p><p>2.2 位姿图构建</p><p>由于SLAM激光点云在获取时存在定位误差，导致对同一区域扫描时获取的不同帧点云之间无法完全重合，通过对这些点云进行配准可以构建对轨迹中位姿的约束。针对室内环境高度结构化的特点，本文选择使用点-切平面ICP算法对点云进行配准<sup>[27</sup><sup>]</sup>，通过采用最小化点到目标点云对应点切平面的距离完成配准。作为一种两视点云精配准的方法，相比于普通ICP算法，点-切平面ICP能够建立更精确的同名点，收敛速度较快、精度更高<sup>[28</sup><sup>]</sup>，其算法模型为<sup>[29</sup><sup>]</sup></p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5lzu303oqHJ><p>(3)</p><p>式中，<strong>s</strong><sub>i</sub>=[s<sub>ix</sub>s<sub>iy</sub>s<sub>iz</sub>]<sup>T</sup>是待配准点云中的点；<strong>d</strong><sub>i</sub>=[d<sub>ix</sub>d<sub>iy</sub>d<sub>iz</sub>]<sup>T</sup>是目标点云中的对应点；<strong>R</strong>代表旋转矩阵；<strong>t</strong>代表平移参数；<strong>n</strong><sub>i</sub>=[n<sub>ix</sub>n<sub>iy</sub>n<sub>iz</sub>]<sup>T</sup>为点<strong>s</strong><sub>i</sub>的法向量。</p><p>若以点云c<sub>i</sub>为基准，配准点云c<sub>j</sub>后获得的转换参数为<strong>R</strong><em>i</em>,<em>j</em>、<strong>t</strong><em>i</em>,<em>j</em>，将旋转部分转化四元数的形式与顶点表示形式统一后，转换参数表示为[<strong>t</strong><em>i</em>,<em>j</em><sup>T</sup><strong>q</strong><em>i</em>,<em>j</em><sup>T</sup>]<sup>T</sup>，转化方法见文献[30]，则约束对应顶点<strong>v</strong><sub>i</sub>、<strong>v</strong><sub>j</sub>的边<strong>e</strong><em>i</em>,<em>j</em>为</p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5m09VTY3PA><p>(4)</p><p>式中，<strong>R</strong>(<strong>q</strong>)表示四元数<strong>q</strong>对应的旋转矩阵；边<strong>e</strong><em>i</em>,<em>j</em>的实际意义为在点云c<sub>i</sub>对应的局部座标系下，两视配准后的点云c<sub>j</sub>与点云c<sub>i</sub>的扫描中心的相对位姿关系。</p><p>对于顶点<strong>v</strong><sub>i</sub>、<strong>v</strong><sub>j</sub>和边<strong>e</strong><em>i</em>,<em>j</em>=[<strong>p</strong><em>e</em>i,<em>j</em><sup>T</sup><strong>q</strong><em>e</em><em>i</em>,<em>j</em><sup>T</sup>]<sup>T</sup>，残差可以分为平移和旋转两部分</p><p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ROc5m0L9HFU107>(5)</p><p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ROc5m0W7hlK2is>(6)</p><p>式中，<strong>r</strong><sub>tran</sub>(<strong>v</strong><sub>i</sub>,<strong>v</strong><sub>j</sub>,<strong>e</strong><em>i</em>,<em>j</em>)、<em>r</em><sub>rota</sub>(<strong>v</strong><sub>i</sub>,<strong>v</strong><sub>j</sub>,<strong>e</strong><em>i</em>,<em>j</em>)分别为平移和旋转对应的残差；<strong>p</strong><em>e</em><em>i</em>,<em>j</em>和<strong>q</strong><em>e</em><em>i</em>,<em>j</em>分别为边<strong>e</strong><em>i</em>,<em>j</em>的平移和旋转部分；vec(<em>q</em>)为四元数的虚数部分[<em>qx qy qz</em>]。</p><p>结合平移和旋转残差的总体残差为</p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5m0i7qPbr16><p>(7)</p><p>式中，w<sub>t</sub>和w<sub>r</sub>分别为平移和旋转的权重。</p><p>2.3 分层次优化</p><p>由于SLAM激光点云包含大量的扫描帧数，且相互之间存在大量重叠，若要一次性构建整体点云的位姿图，需要在各帧点云间进行大量配准，导致优化计算耗时过长。因此，通过将点云优化分解为局部区域和整体两个层次进行，以减小构建位姿图时的计算量，提高算法效率，过程如图 3所示。</p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5m3WAAiSHyl><p>图 3 分层次配准过程(每种颜色代表一个分段区域内的点云)Fig. 3 The process of hierarchical registration(each color represents the point cloud in one segmentation</p><p>预处理后，将点云和轨迹按时间间隔t<sub>s</sub>分段，每一小段视为一个局部区域，其中含有若干帧点云。在局部区域层次上进行点云优化时，首先使用分段后的轨迹构建局部区域内的位姿图顶点。然后，在每个分段区域内通过对每帧点云的外包盒进行相交检测，找出具有重叠关系的点云，使用点到切平面ICP对重叠点云进行配准，每次成功进行重叠点云的配准后，使用2.2节中描述的方法构建位姿图中对应顶点间的一条边。局部区域内的位姿图构建完成后，对位姿图进行解算，获得优化后的分段轨迹，对分段内点云进行修正。</p><p>完成局部层次的优化后，对每个分段内的点云进行合并，结果如图 3(b)所示。以合并后的点云为配准单元进行配准，计算配准时建立的同名点对数与目标点云点数的比值<em>α</em>作为有效重叠度，在整体点云位姿图构建时通过阈值<em>α</em><sub>min</sub>去除有效重叠度低的点云间的不可靠配准结果。位姿图解算后，根据优化后的整体轨迹对点云进行修正，完成对整体点云的优化。</p><p>3 试验与分析</p><p>为了验证本文算法的有效性，本文采用Google公司的Cartographer算法<sup>[9</sup><sup>]</sup>示例数据作为试验数据对本文算法的效果进行验证。该数据包含数据1和数据2两部分，由装备了两个VelodyneVLP-16LiDAR扫描仪和IMU的3D LiDAR揹包获取，扫描地点为德意志科技博物馆，图 4为所用试验数据的俯视图。数据1为单个楼层扫描结果，数据2为3个楼层扫描结果，幷包含一个大型展厅，数据具体参数如表 1所示。试验的计算机环境为IntelXeonE5-2660 v3 @2.60 GHz，128 GB内存。</p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ROc5m3qAIzmeov><p>图 4 Google Cartographer算法德意志博物馆示例数据Fig. 4 Google Cartographer sample data set in Deutsches Museum</p><p>表 1 试验数据说明Tab. 1 Experimental data characteristics</p><table><thead><tr><td>数据</td><td>扫描时长/s</td><td>轨迹长度/m</td><td>包含点云帧数</td></tr></thead><tbody><tr><td>数据1</td><td>382</td><td>291.2</td><td>7559</td></tr><tr><td>数据2</td><td>1466</td><td>1 300.5</td><td>21 718</td></tr></tbody></table><p>在预处理阶段，根据扫描仪的性能和室内环境的尺度，将点云的最大有效距离阈值<em>D</em><sub>max</sub>设为20 m，去除超出距离阈值的点。局部区域优化时，按时间间隔t<sub>s</sub>对预处理后的点云和轨迹进行分段，分别在每段点云内部通过ICP配准构建局部区域的位姿图。在位姿图残差计算时，参考Cartographer算法<sup>[9</sup><sup>]</sup>中的设置，将平移和旋转代价的权值w<sub>t</sub>、w<sub>r</sub>分别设为1、100，将每段点云中第1帧点云对应的顶点设为基准，使用L-M算法进行解算。整体点云优化时，对局部区域内优化后的点云进行合并，在整体点云范围内搜索重叠点云进行配准，为了保证配准的可靠性，将最小有效重叠度<em>α</em><sub>min</sub>的值设为0.05，进行整体点云的全局位姿图构建。</p><p>根据优化后获得的轨迹对点云进行修正，得到整体精配准后的点云。以时间间隔t<sub>s</sub>=3 s时的点云优化结果为例，图 5、图 6为点云数据优化前后场景的定性对比。从图 5(a)、(b)中1，(c)、(d)中5，图 6(c)、(d)中5、6，(e)、(f)中8、9的对比可知，优化后点云中的物体轮廓更加清晰；从图 5(a)、(b)中3、4，(c)、(d)中6，图 6(c)、(d)中7，(e)、(f)中10、11的对比可知，点云中的墙面的厚度变薄；从图 5(a)、(b)中2，图 6(a)、(b)中1、2、3、4的对比可知，同一物体存在多个扫描结果的现象也得到了消除。</p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5m433ulSjGV><p>图 5 数据1优化前后对比Fig. 5 Data 1 scenes before and after optimization</p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ROc5m4GA9YW0BZ><p>图 6 数据2优化前后对比Fig. 6 Data 2 scenes before and after optimization</p><p>本文采用重叠点云间的对应点对的距离中误差(root mean square error, RMSE)作为评价标准来定量地分析优化前后点云的相对精度变化。通过优化后的轨迹<img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ROc5m4SFAtrh><em>X</em>={<strong>x</strong><sub>1</sub>,<em>x</em><sub>2</sub>, …,<strong>x</strong><sub>i</sub>}可以计算任意两帧点云c<sub>i</sub>、c<sub>j</sub>对应点对距离在局部优化后的RMSE。计算公式如下</p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5mBP2VYDu4z><p>(8)</p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5mBdJAOcctc><p>(9)</p><p>式中，<strong>q</strong>与<strong>t</strong>分别表示优化前扫描系统位姿的旋转和位移；<img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5mBq9xL1s5R><strong>q</strong><sup>opt</sup>与<strong>t</strong><sup>opt</sup>是优化前扫描系统位姿到优化后扫描系统位姿的变换参数；<strong>d</strong><sub>m</sub>、<strong>s</strong><sub>m</sub>是点云c<sub>i</sub>、c<sub>j</sub>进行ICP时获得的对应点对；<em>m</em>为对应点对的编号；<em>M</em>是对应点对数量。</p><p>为了分析不同的分段时间间隔t<sub>s</sub>取值对点云优化的用时和优化精度的影响，以1 s为间隔对t<sub>s</sub>取值进行点云全局优化，统计优化用时，并计算优化前后整体点云所有重叠帧间的对应点对距离RMSE，结果如图 7和表 2所示。</p><img alt="论文推荐| 闫利：SLAM激光点云整体精配准位姿图技术" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5mC4EeEavf5><p>图 7 不同时间间隔t<sub>s</sub>取值下优化用时Fig. 7 The time cost before and after optimization in different values of t<sub>s</sub></p><p>表 2 不同时间间隔t<sub>s</sub>取值下优化前后RMSETab. 2 The RMSE before and after optimization in different values of t<sub>s</sub></p><table><thead><tr><td rowspan=2>分段时间间隔t<sub>s</sub>/s</td><td colspan=2>数据1的RMSE/cm</td><br><td colspan=2>数据2的RMSE/cm</td></tr><tr><td>优化前</td><td>优化后</td><td>优化前</td><td>优化后</td></tr></thead><tbody><tr><td>1</td><td>10.5</td><td>4.8</td><br><td>14.2</td><td>6.6</td></tr><tr><td>2</td><td>10.5</td><td>4.5</td><td>14.3</td><td>6.7</td></tr><tr><td>3</td><td>10.7</td><td>4.3</td><td>14.4</td><td>6.7</td></tr><tr><td>4</td><td>10.9</td><td>4.4</td><td>14.4</td><td>6.8</td></tr><tr><td>5</td><td>11.0</td><td>4.5</td><td>14.5</td><td>7.0</td></tr><tr><td>平均值</td><td>10.7</td><td>4.5</td><td>14.4</td><td>6.8</td></tr></tbody></table><p>由图 7(a)、(b)可以看出，局部优化用时随分段时间间隔t<sub>s</sub>的增大近似线性增长，而整体优化用时则随着时间间隔t<sub>s</sub>的增大，开始时快速减小，之后减小速度逐渐减慢。在时间间隔t<sub>s</sub>等于2 s时，数据1和数据2优化总用时最少。从表 2中可以看出，在不同的时间间隔t<sub>s</sub>下，点云的精度计算结果没有明显变化，说明了本文方法的优化效果受不同时间间隔t<sub>s</sub>的影较小。其中，优化前的RMSE的变化，是由于时间间隔t<sub>s</sub>的改变，计算得到的分段点云不同，导致获取的同名点对不同造成的。数据1优化后，不同时间间隔下平均点云RMSE从10.7 cm变为4.5 cm，减小了58%，在t<sub>s</sub>=3 s时优化后RMSE最小为4.3 cm；数据2优化后，不同时间间隔下平均点云RMSE从14.4 cm变为6.8 cm，减小了53%，在t<sub>s</sub>=1 s时，优化后RMSE最小为6.6 cm，说明优化后点云精度明显提高，验证了本文方法的有效性。</p><p>4 结论</p><p>基于SLAM技术的激光扫描可以高效地获取目标场景的三维信息，但精度受限，可通过全局优化的方法提高SLAM激光点云的精度。由于SLAM激光点云具有重叠度高，帧数多的特点，导致配准关系复杂，计算量大，传统的点云优化方法不适用于SLAM激光点云的全局优化。本文针对SLAM激光点云相对精度优化问题，提出了一种分层次的点云整体精配准算法。通过对获取的点云进行分段将全局位姿图的构建分为两个层次。首先在分段内部使用点-切平面ICP进行配准，构建局部位姿图对点云进行优化，保证分段内部点云的一致性，再对分段点云进行配准，构建全局位姿图，对整体点云进行优化。通过试验，对算法的可行性和有效性进行了验证。试验结果表明，优化后点云同名点对间的距离中误差减小了约50%，点云中重复扫描间的差异减小，物体轮廓更加清晰，说明点云的内部一致性得以改善。</p><p><strong>【引文格式】闫利, 戴集成, 谭骏祥, 等. SLAM激光点云整体精配准位姿图技术. 测绘学报，2019，48(3)：</strong><strong>313-321. DOI: 10.11947/j.AGCS.2019.20170716</strong></p><p>精</p><p>彩</p><p>回</p><p>顾</p><p>《测绘学报》<strong>2019年第3期网刊发布</strong></p><p><strong>关于人类历史上首张黑洞照片，你想知道的都在这里</strong></p><p><strong>开放报名！</strong><strong>首届DataEarth《测绘学报》杯开发者大赛万元奖金等你来拿</strong></p><p><strong>今年的硕士、博士确定能毕业么？</strong><strong>教育部今年拟抽检6000篇学位论文</strong></p><p><strong>2019年QS世界大学学科排名出炉</strong></p><p>杨必胜、张小红、赵齐乐等测绘信息领域专家入选第四批国家“万人计划”入选人员</p><p>关于召开“测绘前沿科技大讲堂与科技期刊论文写作理论与方法高级研修班”的（一号）通知</p><p>权威 | 专业 | 学术 | 前沿</p><p>微信投稿邮箱 | song_qi_fan@163.com</p><p>微信公众号中搜索「测绘学报」，<strong>关注我们</strong>，长按上图二维码，关注学术前沿动态。</p><p>欢加入《测绘学报》作者QQ群：<strong> 297834524</strong></p><p>进群请备注：姓名+单位+稿件编号</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'论文','推荐','闫利'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>