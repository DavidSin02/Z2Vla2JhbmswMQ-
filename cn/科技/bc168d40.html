<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>RS-232、RS-422、RS-485之间的区别 | 极客快訊</title><meta property="og:title" content="RS-232、RS-422、RS-485之间的区别 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/f36061d1c2cb45a3826ea354c58af4c2"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bc168d40.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bc168d40.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bc168d40.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bc168d40.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bc168d40.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bc168d40.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bc168d40.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bc168d40.html><meta property="article:published_time" content="2020-11-14T21:01:50+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:50+08:00"><meta name=Keywords content><meta name=description content="RS-232、RS-422、RS-485之间的区别"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/bc168d40.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>RS-232、RS-422、RS-485之间的区别</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>串口通讯是电子工程师面对的最基本的一个通讯方式，RS-232是其中最简单的一种。然而，很多初学者往往搞不清楚UART和RS-232、RS-422、RS-485的联系和区别，本文将谈谈这几个概念的理解，帮助大家理清它们之间的关系。</p><p>通讯问题，和交通问题一样，也有高速、低速、拥堵、中断等等各种情况。如果把串口通讯比做交通，UART比作车站，那么一帧的数据就好比汽车。汽车跑在路上，要遵守交通规则。如果是市内，一般限速30、40,而高速公路则可以到120。而汽车走什么路，限速多少，就要看协议怎么规定了。常见的串口协议有RS-232、RS-422、RS-485等，他们之间有何细微差别？下面我们就一起来探讨一下。</p><p><strong>一、UART是什么</strong></p><p>UART是通用异步收发传输器（Universal Asynchronous Receiver/Transmitter)，通常称作UART，是一种异步收发传输器,是设备间进行异步通信的关键模块。UART负责处理数据总线和串行口之间的串/并、并/串转换，并规定了帧格式；通信双方只要采用相同的帧格式和波特率，就能在未共享时钟信号的情况下，仅用两根信号线（Rx 和Tx）就可以完成通信过程，因此也称为异步串行通信。</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f36061d1c2cb45a3826ea354c58af4c2><p class=pgc-img-caption></p></div><p><br></p><p>若加入一个合适的电平转换器，如SP3232E、SP3485，UART 还能用于RS-232、RS-485 通信，或与计算机的端口连接。UART 应用非常广泛，手机、工业控制、PC 等应用中都要用到UART。</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/64a2abc4e8c44b69bcb049a3cd771c47><p class=pgc-img-caption></p></div><p><br></p><p>UART使用的是 异步，串行通信。</p><p>串行通信是指利用一条传输线将资料一位位地顺序传送。特点是通信线路简单，利用简单的线缆就可实现通信，降低成本，适用于远距离通信，但传输速度慢的应用场合。</p><p>异步通信以一个字符为传输单位，通信中两个字符间的时间间隔多少是不固定的，然而在同一个字符中的两个相邻位间的时间间隔是固定的。</p><p>数据传送速率用波特率来表示，即每秒钟传送的二进制位数。例如数据传送速率为120字符/秒，而每一个字符为10位（1个起始位，7个数据位，1个校验位，1个结束位），则其传送的波特率为10×120＝1200字符/秒＝1200波特。</p><p>数据通信格式如下图：</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/6b2eba7879e9444eabba1a3f6d359075><p class=pgc-img-caption></p></div><p><br></p><p>其中各位的意义如下：</p><p>起始位：先发出一个逻辑”0”信号，表示传输字符的开始。数据位：可以是5~8位逻辑”0”或”1”。如ASCII码（7位），扩展BCD码（8位）。小端传输校验位：数据位加上这一位后，使得“1”的位数应为偶数(偶校验)或奇数(奇校验)停止位：它是一个字符数据的结束标志。可以是1位、1.5位、2位的高电平。空闲位：处于逻辑“1”状态，表示当前线路上没有资料传送。</p><p>注：异步通信是按字符传输的，接收设备在收到起始信号之后只要在一个字符的传输时间内能和发送设备保持同步就能正确接收。下一个字符起始位的到来又使同步重新校准（依靠检测起始位来实现发送与接收方的时钟自同步的）</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/db97c9c642874e43b82696af2a70d7c3><p class=pgc-img-caption></p></div><p><br></p><p><strong>二、RS-232标准</strong></p><p>RS-232是美国电子工业协会EIA（Electronic Industry Association）制定的一种串行物理接口标准。RS是英文“推荐标准”的缩写，232为标识号。RS-232是对电气特性以及物理特性的规定，只作用于数据的传输通路上，它并不内含对数据的处理方式。需要说明一下,很多人经常把RS-232、RS-422、RS-485 误称为通讯协议,这是很不应该的，其实它们仅是关于UART通讯的一个机械和电气接口标准（顶多是网络协议中的物理层面）。</p><p>该标准规定采用一个25 个脚的DB-25 连接器，对连接器的每个引脚的信号内容加以规定，还对各种信号的电平加以规定。后来IBM的PC 机将RS-232 简化成了DB-9 连接器，从而成为今天的事实标准。而工业控制的RS-232 口一般只使用RXD（2）、TXD（3）、GND（5） 三条线。</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/00629ac465434c618839fbc4755802b5><p class=pgc-img-caption></p></div><p><br></p><p>早期由于PC都带有RS-232接口，所以我们需要使用UART时，都选择RS-232。但是现在个人电脑，不光是笔记本，包括台式机都不再带有RS-232的接口，大家看到电脑主板上面没有DB9的接口。所以现在开发板都选择TTL的UART，或者直接UART转USB做在开发板上。</p><p>嵌入式里面说的串口，一般是指UART口， 但是我们经常搞不清楚它和COM口的区别, 以及RS232, TTL等关系, 实际上UART,COM指的物理接口形式(硬件), 而TTL、RS-232是指的电平标准(电信号).</p><p>UART有4个pin（VCC, GND, RX, TX）, 用的TTL电平, 低电平为0(0V)，高电平为1（3.3V或以上）。</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b1e52add6b674744984f7ed941c2988b><p class=pgc-img-caption></p></div><p><br></p><p><strong>三、RS-485/ RS-422标准</strong></p><p>RS-232接口可以实现点对点的通信方式，但这种方式不能实现联网功能。于是，为了解决这个问题，一个新的标准RS-485产生了。RS-485的数据信号采用差分传输方式，也称作平衡传输，它使用一对双绞线，将其中一线定义为A，另一线定义为B。</p><p>通常情况下，发送驱动器A、B之间的正电平在+2～+6V，是一个逻辑状态，负电平在-2～6V，是另一个逻辑状态。另有一个信号地C，在RS-485中还有一“使能”端，而在RS-422中这是可用可不用的。</p><p>RS-422 的电气性能与RS-485完全一样。主要的区别在于：RS-422 有4 根信号线：两根发送、两根接收。由于RS-422 的收与发是分开的所以可以同时收和发（全双工），也正因为全双工要求收发要有单独的信道，所以RS-422适用于两个站之间通信，星型网、环网，不可用于总线网；RS-485 只有2 根信号线，所以只能工作在半双工模式，常用于总线网。</p><p><br></p><p>RS-485的电气特性：逻辑“1”以两线间的电压差为+(2~6)V表示；逻辑“0”以两线间的电压差为-(2~6)V表示。接口信号电平比RS-232-C降低了，就不易损坏接口电路的芯片，且该电平与TTL电平兼容，可方便与TTL 电路连接。</p><p>RS-485的数据最高传输速率为10Mbps 。</p><p>RS-485接口是采用平衡<u>驱动器</u>和差分接收器的组合，抗共模干扰能力增强，即抗噪声干扰性好。</p><p>RS-485最大的通信距离约为1219M，最大传输速率为10Mb/S，传输速率与传输距离成反比，在100Kb/S的传输速率下，才可以达到最大的通信距离，如果需传输更长的距离，需要加485中继器。RS-485总线一般最大支持32个节点，如果使用特制的485芯片，可以达到128个或者256个节点，最大的可以支持到400个节点。</p><p>由于RS-232 接口标准出现较早，难免有不足之处，主要有以下四点：</p><p>（1） 接口的信号电平值较高，易损坏接口电路<u>芯片</u>，又因为232电平与TTL电平不兼容故需使用电平转换电路方能与TTL电路连接；</p><p>（2） 传输速率较低，在异步传输时，波特率为20Kbps。现在由于采用了新的UART芯片，波特率达到115.2Kbps（1.832M/16）；</p><p>（3） 接口使用一根信号线和一根信号返回线而构成共地的传输形式，这种共地传输容易产生共模干扰，所以抗噪声干扰性弱；</p><p>（4） 传输距离有限，最大传输距离标准值为50 米，实际上也只能用在15 米左右；</p><p>（5） RS-232 只容许一对一的通信，没有考虑构成串行总线。(这点很重要，在很多控制场景，是一控多，如果主设备都需要跟从设备点对点通信，那现场布线成蜘蛛网了)</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2356c1a3ee6c495197af684f4dbced3d><p class=pgc-img-caption></p></div><p><br></p><p>非平衡型串行通信接口RS-423，RS-449</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1ee93ff3e9f943cab384ae3d73588075><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2b678ee2b82643fe9d2bf536c4a4a4b0><p class=pgc-img-caption></p></div><p><br></p><p>平衡型串行通信接口RS-422</p><p>RS-422（EIA RS-422-A Standard）是Apple的Macintosh计算机的串口连接标准。RS-422使用差分信号，RS-232使用非平衡参考地的信号。差分传输使用两根线发送和接收信号，对比RS-232，它能更好的抗噪声和有更远的传输距离。在工业环境中更好的抗噪性和更远的传输距离是一个很大的优点。</p><p><br></p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2095a89395024dbdbe0471a62639c3b8><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/71d67a2ee96249b185034a35533fb431><p class=pgc-img-caption></p></div><p><br></p><p><strong>四、RS-232与RS-485对比</strong></p><p>1、抗干扰性：RS485 接口是采用平衡驱动器和差分接收器的组合，抗噪声干扰性好。RS232 接口使用一根信号线和一根信号返回线而构成共地的传输形式，这种共地传输容易产生共模干扰。</p><p>2、传输距离：RS485 接口的最大传输距离标准值为 1200 米（9600bps 时），实际上可达 3000 米。RS232 传输距离有限，最大传输距离标准值为 50 米，实际上也只能用在 15 米左右。</p><p>3、通信能力：RS-485 接口在总线上是允许连接多达128个收发器，用户可以利用单一的 RS-485 接口方便地建立起设备网络。RS-232只允许一对一通信。</p><p>4、传输速率：RS-232传输速率较低，在异步传输时，波特率为 20Kbps。RS-485 的数据最高传输速率为 10Mbps 。</p><p>5、信号线：RS485 接口组成的半双工网络，一般只需二根信号线。RS-232 口一般只使用 RXD、TXD、GND 三条线 。</p><p>6、电气电平值：RS-485的逻辑"1"以两线间的电压差为+（2-6） V 表示；逻辑"0"以两线间的电压差为-（2-6）V 表 示 。在 RS-232-C 中任何一条信号线的电压均为负逻辑关系。即：逻辑"1"，-5- -15V；逻辑"0 " +5- +15V 。</p><p><strong>五、RS-422与RS-485对比</strong></p><p>RS-485的电气性能与RS-422完全一样。主要的区别在于：</p><p>1、RS-422 有4 根信号线：两根发送（Y、Z）、两根接收（A、B）。由于RS-422 的收与发是分开的所以可以同时收和发（全双工）。</p><p>2、RS-485 只有两根数据线：发送和接收都是A 和B。由于RS-485 的收与发是共用两根线，所以不能同时收和发（半双工）。</p><p>RS-485标准采用平衡式发送，差分式接收的数据收发器来驱动总线，具体规格要求：</p><p>接收器的输入电阻RIN≥12kΩ</p><p>驱动器能输出±7V的共模电压</p><p>输入端的电容≤50pF</p><p>在节点数为32个，配置了120Ω的终端电阻的情况下，驱动器至少还能输出电压1.5V（终端电阻的大小与所用双绞线的参数有关）</p><p>接收器的输入灵敏度为200mV（即（V+）-（V-）≥0.2V，表示信号“0”；（V+）-（V-）≤-0.2V，表示信号“1”）</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/589a3c4ef06048a4aa243930388aa0ac><p class=pgc-img-caption></p></div><p><br></p><p>因为RS-485的远距离、多节点（32个）以及传输线成本低的特性，使得EIA RS-485成为工业应用中数据传输的首选标准。</p><p>（1） RS-485 的电气特性：发送端：逻辑“0”以两线间的电压差+（2 ~6）V 表示；逻辑“1”以两线间的电压差-（2 ~6）V 表示。接收端：A 比B 高200mV 以上即认为是逻辑“0”，A 比B 低200mV 以上即认为是逻辑“1”；</p><p>（2） RS-485 的数据最高传输速率为10Mbps。但是由于RS-485 常常要与PC 机的RS-232 口通信，所以实际上一般最高115.2Kbps。又由于太高的速率会使RS-485 传输距离减小，所以往往为9600bps 左右或以下；</p><p>（3） RS-485 接口是采用平衡驱动器和差分接收器的组合，抗噪声干扰性好；</p><p>（4） RS-485 接口的最大传输距离标准为1200 米（9600bps 时），实际上可达3000米，RS-485 接口在总线上是容许连接多达128 个收发器、即RS-485 具有多机通信功能，这样用户可以利用单一的RS-485 接口方便的建立起网络。因为RS-485 接口组成的半双工网络，一般只需二根信号线，所以RS-485 接口均采用双绞线传输。RS-485 的国际标准并没有规定RS-485 的接口连接器标准、所以采用接线端子或者DB-9、DB-25 等连接器都可以。</p><p>在使用RS-485 接口时，对于特定的传输线径，从发生器到负载其数据信号传输所容许的最大电缆长度是数据信号速率的函数，这个长度数据主要是受信号失真及噪声等影响所限制。最大电缆长度与信号速率的关系曲线是使用24AWG 铜芯双绞电话电缆（线径为0.51mm），线间旁路电容为52.5PF/M，终端负载电阻为100 欧时所得出的。（引自GB11014-89 附录A）。当数据信号速率降低到90Kbit/S 以下时，假定最大容许的信号损失为6dBV 时，则电缆长度被限制在1200m。实际上，在实用时是完全可以取得比它大的电缆长度。当使用不同线径的电缆，则取得的最大电缆长度是不相同的。例如：当数据信号速率为600Kbit/S 时，采用24AWG 电缆，最大电缆长度是200m，若采用19AWG电缆（线径为0.91mm）则电缆长度将可以大于200m；若采用28AWG 电缆（线径为0.32mm），则电缆长度只能小于200m。</p><p>RS-485的远距离通信建议采用屏蔽电缆，并且将屏蔽层作为地线。</p><p><strong>六、影响RS-485总线通讯速度和通信可靠性的三个因素</strong></p><p>1、在通信电缆中的信号反射</p><p>在通信过程中，有两种信号因素导致信号反射：阻抗不连续和阻抗不匹配。</p><p>阻抗不连续，信号在传输线末端突然遇到电缆阻抗很小甚至没有，信号在这个地方就会引起反射，如图所示。这种信号反射的原理，与光从一种媒质进入另一种媒质要引起反射是相似的。消除这种反射的方法，就必须在电缆的末端跨接一个与电缆的特性阻抗同样大小的终端电阻，使电缆的阻抗连续。由于信号在电缆上的传输是双向的，因此，在通讯电缆的另一端可跨接一个同样大小的终端电阻。</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c0e26a063177402ca54b1a85aa6f5bd1><p class=pgc-img-caption></p></div><p><br></p><p>从理论上分析，在传输电缆的末端只要跨接了与电缆特性阻抗相匹配的终端电阻，就再也不会出现信号反射现象。但是，在实现应用中，由于传输电缆的特性阻抗与通讯波特率等应用环境有关，特性阻抗不可能与终端电阻完全相等，因此或多或少的信号反射还会存在。</p><p>引起信号反射的另一个原因是数据收发器与传输电缆之间的阻抗不匹配。这种原因引起的反射，主要表现在通讯线路处在空闲方式时，整个网络数据混乱。</p><p>信号反射对数据传输的影响，归根结底是因为反射信号触发了接收器输入端的比较器，使接收器收到了错误的信号，导致CRC校验错误或整个数据帧错误。</p><p>在信号分析，衡量反射信号强度的参数是RAF（Refection AttenuationFactor反射衰减因子）。它的计算公式如式（1）。</p><p>RAF=20lg(Vref/Vinc) （1）</p><p>式中：Vref—反射信号的电压大小；Vinc—在电缆与收发器或终端电阻连接点的入射信号的电压大小。</p><p>具体的测量方法如图3所示。例如，由实验测得2.5MHz的入射信号正弦波的峰-峰值为+5V，反射信号的峰-峰值为+0.297V，则该通讯电缆在2.5MHz的通讯速率时，它的反射衰减因子为：</p><p>RAF=20lg(0.297/2.5)=-24.52dB</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/af08a045922747c489e93ca0891a6b3f><p class=pgc-img-caption></p></div><p><br></p><p>要减弱反射信号对通讯线路的影响，通常采用噪声抑制和加偏置电阻的方法。在实际应用中，对于比较小的反射信号，为简单方便，经常采用加偏置电阻的方法。在通讯线路中，如何通过加偏置电阻提高通讯可靠性的原理。</p><p>2、在通讯电缆中的信号衰减</p><p>第二个影响信号传输的因素是信号在电缆的传输过程中衰减。一条传输电缆可以把它看出由分布电容、分布电感和电阻联合组成的等效电路，如图所示。</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0cd0f5b985c84fb8af6d69b1c62a071f><p class=pgc-img-caption></p></div><p><br></p><p>电缆的分布电容C主要是由双绞线的两条平行导线产生。导线的电阻在这里对信号的影响很小，可以忽略不计。信号的损失主要是由于电缆的分布电容和分布电感组成的LC低通滤波器。PROFIBUS用的LAN标准型二芯电缆（西门子为DP总线选用的标准电缆），在不同波特率时的衰减系数如表1所示。</p><p>电缆的衰减系数</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3766b3bf01054fc78354e0c4f7ec7631><p class=pgc-img-caption></p></div><p><br></p><p>3、在通讯电缆中的纯阻负载</p><p>影响通讯性能的第三个因素是纯阻性负载（也叫直流负载）的大小。这里指的纯阻性负载主要由终端电阻、偏置电阻和RS-485收发器三者构成。</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e8b5a862461e4d36b2460e7958b56e8b><p class=pgc-img-caption></p></div><p><br></p><p>在叙述EIA RS-485规范时曾提到过RS-485驱动器在带了32个节点，配置了150Ω终端电阻的情况下，至少能输出1.5V的差分电压。一个接收器的输入电阻为12kΩ，整个网络的等效电路如图5所示。按这样计算，RS-485驱动器的负载能力为：</p><p>RL=32个输入电阻并联2个终端电阻=（（12000/32）×（150/2））/（12000/32）+（150/2））≈51.7Ω</p><p>现在比较常用的RS-485驱动器有MAX485、DS3695、MAX1488/1489以及和利时公司使用的SN75176A/D等，其中有的RS-485驱动器负载能力可以达到20Ω。在不考虑其它诸多因素的情况下，按照驱动能力和负载的关系计算，一个驱动器可带节点的最大数量将远远大于32个。</p><p>在通讯波特率比较高的时候，在线路上偏置电阻是很有必要的。偏置电阻的连接方法如图6。它的作用是在线路进入空闲状态后，把总线上没有数据时（空闲方式）的电平拉离0电平，如图7。这样一来，即使线路中出现了比较小的反射信号或干扰，挂接在总线上的数据接收器也不会由于这些信号的到来而产生误动作。</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f18fa227d447436f9ff08238310b90fd><p class=pgc-img-caption></p></div><p><br></p><p>通过下面后例子了，可以计算出偏置电阻的大小：</p><p>终端电阻Rt1=Rr2=120Ω；</p><p>假设反射信号最大的峰-峰值Vref≤0.3Vp-p，则负半周的电压Vref≤0.15V;终端的电阻上由反射信号引起的反射电流Iref≤0.15/(120||120)=2.5mA。一般RS-485收发器（包括SN75176）的滞后电压值（hysteresis value）为50mV，即：</p><p>（Ibias-Iref）×（Rt1||Rt2）≥50mV</p><p>于是可以计算出偏置电阻产生的偏置电流Ibias≥3.33mA</p><p>+5V=Ibias(R上拉+R下拉+（Rt1||Rt2）) （2）</p><p>通过式2可以计算出R上拉=R下拉=720Ω</p><p>在实际应用中，RS-485总线加偏置电阻有两种方法：</p><p>（1）把偏置电阻平衡分配给总线上的每一个收发器。这种方法给挂接在RS-485总线上的每一个收发器加了偏置电阻，给每一个收发器都加了一个偏置电压。</p><p>（2）在一段总线上只用一对偏置电阻。这种方法对总线上存在大的反射信号或干扰信号比较有效。值得注意的是偏置电阻的加入，增加了总线的负载。</p><p><strong>七、RS-485总线的负载能力和通讯电缆长度之间的关系</strong></p><p>在设计RS-485总线组成的网络配置（总线长度和带负载个数）时，应该考虑到三个参数：纯阻性负载、信号衰减和噪声容限。纯阻性负载、信号衰减这两个参数，在前面已经讨论过，现在要讨论的是噪声容限（Noise Margin）。RS-485总线接收器的噪声容限至少应该大于200mV。前面的论述者是在假设噪声容限为0的情况下进行的。在实际应用中，为了提高总线的抗干扰能力，总希望系统的噪声容限比EIA RS-485标准中规定的好一些。从下面的公式能看出总线带负载的多少和通讯电缆长度之间的关系：</p><p>Vend=0.8(Vdriver-Vloss-Vnoise-Vbias)(3)</p><p>其中：Vend为总线末端的信号电压，在标准测定时规定为0.2V；Vdriver为驱动器的输出电压（与负载数有关。负载数在5～35个之间，Vdriver=2.4V；当负载数小于5，Vdriver=2.5V；当负载数大于35，Vdriver≤2.3V）；Vloss为信号在总线中的传输过程中的损耗（与通讯电缆的规格和长度有关），由表1提供的标准电缆的衰减系数，根据公式衰减系数b=20lg(Vout/Vin)可以计算出Vloss=Vin-Vout=0.6V(注：通讯波特率为9.6kbps，电缆长度1km，如果特率增加，Vloss会相应增大)；Vnoise为噪声容限，在标准测定时规定为0.1V；Vbias是由偏置电阻提供的偏置电压（典型值为0.4V）。</p><p>式（3）中乘以0.8是为了使通信电缆不进入满载状态。从式（3）可以看出，Vdriver的大小和总线上带负载数的多少成反比，Vloss的大小和总线长度成反比，其他几个参数只和用的驱动器类型有关。因此，在选定了驱动器的RS-495总线上，在通信波特率一定的情况下，带负载数的多少，与信号能传输的最大距离是直接相关的。具体关系是：在总线允许的范围内，带负载数越多，信号能传输的距离就越小；带负载数据少，信号能传输的距离就发越远。</p><p><strong>八、分布电容对RS-485总线传输性能的影响</strong></p><p>电缆的分布电容主是由双绞线的两条平行导线产生。另外，导线和地之间也存在分布电容，虽然很小，但在分析时也不能忽视。分布电容对总线传输性能的影响，主要是因为总线上传输的是基波信号，信号的表达方式只有“1”和“0”。在特殊的字节中，例如0x01，信号“0”使得分布电容有足够的充电时间，而信号“1”到来时，由于分布电容中的电荷，来不及放电，(Vin+)—(Vin-)-还大于200mV，结果使接爱误认为是“0”，而最终导致CRC校验错误，整个数据帧传输错误。具体过程如图所示。</p><div class=pgc-img><img alt=RS-232、RS-422、RS-485之间的区别 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b71a0b4168b9454d86b6856bc47dc0cf><p class=pgc-img-caption></p></div><p><br></p><p>由于总线上分布影响，导致数据传输错误，从而使整个网络性能降低。解决这个问题有两种方法：</p><p>（1）降低数据传输的波特率；</p><p>（2）使用分布电容小的电缆，提高传输线的质量。</p><p>仅仅用一对双绞线将各个接口的A、B端连接起来，而不对RS-485通信链路的信号接地，在某些情况下也可以工作，但给系统埋下了隐患。RS-485接口采用差分方式传输信号并不需要对于某个参照点来检测信号系统，只需检测两线之间的电位差就可以了。但应该注意的是收发器只有在共模电压不超出一定范围(-7V至+12V)的条件下才能正常工作。当共模电压超出此范围，就会影响通信的可靠直至损坏接口。如图1所示，当发送器A向接收器B发送数据时，发送器A的输出共模电压为VOS，由于两个系统具有各自独立的接地系统存在着地电位差VGPD，那么接收器输入端的共模电压就会达到VCM=VOS+VGPD。RS-485标准规定VOS≤3V，但VGPD可能会有很大幅度(十几伏甚至数十伏)，并可能伴有强干扰信号致使接收器共模输入VCM超出正常围，在信号线上产生干扰电流影响正常通信，或损坏设备。</p><p><br></p><p>来源：网络收集整理</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'RS','232','422'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/e2002986.html alt=RS-232、RS-422及RS-485的特性与区别 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9a89f40e5e0d4aa19e0e3993ab999f11 style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/e2002986.html title=RS-232、RS-422及RS-485的特性与区别>RS-232、RS-422及RS-485的特性与区别</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>