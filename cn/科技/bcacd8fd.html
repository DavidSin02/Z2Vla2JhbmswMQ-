<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Linux系统——用户、用户组、权限和文件属性 | 极客快訊</title><meta property="og:title" content="Linux系统——用户、用户组、权限和文件属性 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bcacd8fd.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bcacd8fd.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bcacd8fd.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bcacd8fd.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bcacd8fd.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bcacd8fd.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bcacd8fd.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bcacd8fd.html><meta property="article:published_time" content="2020-11-14T21:07:08+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:08+08:00"><meta name=Keywords content><meta name=description content="Linux系统——用户、用户组、权限和文件属性"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/bcacd8fd.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Linux系统——用户、用户组、权限和文件属性</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h2 class=pgc-h-arrow-right><strong>前言：</strong></h2><p><strong>学Java的过程中就接触到了不少Linux命令，什么cd、pwd、ls等，但是从未系统学习过，还好遇见了一本秘籍——</strong>《鸟哥的Linux私房菜-基础学习篇(第三版)》，于是便有了如下的学习笔记，本篇主要包括如下内容：</p><ol start=1><li><strong>Linux的概念</strong></li><li><strong>用户和用户组</strong></li><li><strong>文件属性</strong></li><li><strong>Linux下的权限</strong></li><li><strong>书中小栗子</strong></li></ol><blockquote><p>另外，鸟哥的Linux私房菜还有官网：鸟哥的 Linux 私房菜 官网看书也很方便了~感谢鸟哥！</p></blockquote><hr><h2 class=pgc-h-arrow-right><strong>1.Linux的概念</strong></h2><p>Linux是类Unix的，支持多用户多任务的分时操作系统，拥有多套发行版(分支)，其内核是Linus Torvalds在1991年开发的，现如今的Linux是服务器和开发人员首选的操作系统，广泛应用于嵌入式系统、服务器、超级计算机等，手机上的安卓操作系统也是基于Linux内核开发的。</p><hr><h2 class=pgc-h-arrow-right><strong>2.用户和用户组</strong></h2><p><strong>2.1用户的概念</strong></p><p>linux是多用户多任务的分时操作系统，不同用户可以"同时"在一台服务器上执行不同的任务，CPU时间片轮转执行这些任务，不同的用户会产生不同的文件，有些文件可能不想让其他用户查看更改，于是用户可以给文件设置相应的权限。</p><blockquote><p><strong>用户权限：用户对文件/目录的权限有读r、写w、执行x。</strong></p></blockquote><p><strong>2.2用户组的概念</strong></p><blockquote><p>学过Java安全/权限框架(如Shrio)的同学应该知道，权限校验的核心在于三点：<br>1.用户<br>2.角色<br>3.权限<br>一个用户可以有多个角色，每个角色又可以有特定的一些权限。</p></blockquote><p>Linux系统中一个用户可以加入多个用户组，一个用户组就相当于一种"角色"，其存在的目的就在于不同角色拥有不同权限，只是Linux下的权限是对于文件or目录而言的。</p><p><strong>2.3小栗子</strong></p><p>假设一台Linux服务器上有6个用户：root、lucifer、michael、user1、user2、user3，其中root是系统管理员，lucifer和michael是辅助管理者，user1~3则是普通用户。现在root用户创建了一个系统日志文件system.log，此时希望root可以读写执行，辅助管理者可以读不可以写、普通用户不可以读写执行，那么就可以通过用户组来实现。</p><p>创建用户组：admingroup，用来表示辅助管理者，组内包含lucifer和michael两个用户。</p><p>创建用户组：tempuser，表示普通用户，将user1~3加入其中。</p><p>将admingroup组的权限设为r-x，tempuser组权限设为---，然后更改system.log文件所属群组admingroup，再更改文件权限为-rwxr-x---即可</p><hr><h2 class=pgc-h-arrow-right><strong>3.文件属性</strong></h2><p>文件属性，就是文件相关的属性，主要包括文件使用者的权限、文件连接数、文件所有者、文件所属群组、文件大小、文件最后修改时间、文件名等。</p><p><strong>3.1用户分类的概念</strong></p><p>Linux系统中，用户组的概念和文件是息息相关的，对于文件/目录来说，其存在的意义就是被用户使用，而用户主要分为三类：</p><ul><li><strong>文件所有者Owner</strong></li><li><strong>文件所属群组用户Group</strong></li><li><strong>其他用户Others</strong></li></ul><blockquote><p>文件所有者，即文件的拥有者，文件所有者！=文件创建者，因为文件被创建后可以用chown命令改变文件所有者；群组用户即文件所属的用户组内的所有用户，此处需注意，文件所属群组也是可以人为改变的，命令是chgrp；其他用户即除了所有者和同组用户外的其他用户。</p></blockquote><p><strong>3.2文件属性的组成</strong></p><p>可以用ls -l命令查看详细的文件/目录的属性：</p><pre><code>-rw-r--r-- 1 root root 42304 Nov 15 10:32 install.log</code></pre><p>初看符号会有点蒙，可以看下文字版的：</p><p><strong>文件类型+文件使用者权限+文件连接数+所有者+所属群组+大小+最后修改时间+文件名</strong></p><p><strong>文件类型</strong></p><p>第一个字符表示文件类型，-表示文件；d则表示目录；l表示链接文件，c表示设备里的串行端口如鼠标、键盘；b则表示设备里可存储的接口......</p><blockquote><p>如：drwxrwxrwt 7 root root 4096 Sep 27 18:23 /tmp<br>第一个字符：d，表示这是一个目录</p></blockquote><p><strong>文件使用者权限</strong></p><p>类似于rw-r--r--的一串符号，此段分为三个固定部分：文件所有者、所属群组用户、其他用户</p><p>每个部分用3个符号表示，r表示可读(read)；w表示可写(write)；x表示可执行(execute)，这三个权限的位置是固定的，如果没有权限，则用 - 来表示。</p><blockquote><p>所以rw-r--r--表示：<br>对于文件所有者来说，有r和w权限；对于同组用户，有r权限；其他用户，有r权限。</p></blockquote><p><strong>文件连接数</strong></p><p>表示有多少文件名连接到此节点(i-node)，此处为1。</p><p><strong>所有者和所属群组</strong></p><p>此处root root表示该文件属于root用户，属于root群组。</p><p><strong>文件大小</strong></p><p>这个文件的容量大小，默认单位为B。</p><p><strong>最后修改时间</strong></p><p>记录了文件的创建日期，或者最近的修改日期。</p><p><strong>文件名</strong></p><p>可以看到，该文件的文件名为：install.log，如果是隐藏文件，文件名以"."开头。</p><p><strong>3.3改变文件属性和权限</strong></p><p><strong>chgrp:改变文件所属用户组</strong></p><p><strong>chown:改变文件所有者</strong></p><p><strong>chmod:改变文件权限</strong></p><hr><h2 class=pgc-h-arrow-right><strong>4.Linux下的权限</strong></h2><p>Linux下可以拥有多用户，每个用户的权限不外乎r、w和x三种，权限主要作用于文件和目录(文件夹)上，即对文件的读写修改删除、对文件夹的操作等，但具体到文件和目录时，权限的体现有所不同。</p><p><strong>4.1权限对于文件的意义</strong></p><p>一般情况下，文件是实际存储数据的地方，如文本文件、数据库内容文件、二进制可执行文件等，对于这类文件来说，权限的意义如下：</p><p><strong>r(read):</strong></p><p>读，可读取文件的实际内容，如文本文件中的文字内容等。</p><p><strong>w(write):</strong></p><p>写，即可以新增、编辑、修改文件内容，但是不包括删除。</p><p><strong>x(execute):</strong></p><p>执行，即表示该文件具有可被系统执行的权限。</p><p><strong>4.2权限对目录的意义</strong></p><p><strong>目录和文件的关系紧密，因为目录下通常存放了文件名列表，那么对于目录，r、w、x分别有何意义呢？</strong></p><p><strong>r(read):</strong></p><p>读，表示拥有读取目录列表的权限，有此权限表示可以读取该目录下所有的文件名，即可以通过ls命令来显示出来。</p><p><strong>w(write):</strong></p><p>写，表示拥有修改目录结构的权限，主要包括：</p><ul><li>在该目录下新建新的文件和目录</li><li>删除该目录下已存在的文件和目录(而不管它们的权限)</li><li>重命名该目录下所有的文件和目录(包括自身)</li><li>转移该目录下的文件和目录(修改路径)</li></ul><p><strong>x(execute):</strong></p><p>执行，表示该用户是否可以切换到此目录，即进入该目录使其成为当前工作目录，如果没有x权限，则不可以通过cd命令切换到此目录。</p><p><strong>4.3权限分</strong></p><p><strong>对于三类不同的用户——</strong>Owner、Group和Others，每一类用户都有r、w、x三类权限，权限的更改可以通过chmod命令完成。除了用类似：-rw-r--r--的符号来表示和设定用户权限，为了方便，还可以通过权限分的方式来更改用户权限。</p><p>计分规则如下：</p><p>r ：4</p><p>w：2</p><p>x ：1</p><p>-rw-r--r--对应的分数表示为：644</p><p>rw- 6（4+2）</p><p>r-- 4 （4+0+0）</p><p>r-- 4 （4+0+0）</p><blockquote><p>-rwxrwxrwx 计分：777<br>-rwxr-xr-x 计分：755</p></blockquote><hr><h2 class=pgc-h-arrow-right><strong>5.书中小栗子</strong></h2><p><strong>例1(第6章P143)：</strong></p><p>假设test1, test2, test3同属于testgroup这个群组，如果有下面的两个文件，请说明两个文件的拥有者与其相关的权限为何？</p><pre><code>-rw-r--r--  1 root     root          238 Jun 18 17:22 test.txt -rwxr-xr--  1 test1    testgroup    5238 Jun 19 10:25 ping_tsai</code></pre><p>1.test.txt文件拥有者为root，文件所属群组为root，拥有者有读写此文件的权限，但是不可执行，群组和其他用户有只读权限。</p><p>2.ping_tsai文件拥有者为test1用户，文件所属群组为testgroup，拥有者有读写和执行权限，群组成员拥有可读可执行权限(但是不可以写和修改)，其他用户仅可读。</p><p><strong>例2(第6章P143)</strong></p><p>如果我的目录为下面的样式，请问testgroup这个群组的成员与其他人(others)是否可以进入本目录？</p><pre><code>drwxr-xr--   1 test1    testgroup    5238 Jun 19 10:25 groups/</code></pre><p>此目录拥有者为test1用户，所属testgroup群组，拥有者test1的权限是rwx，即可读可写可执行，testgroup群组用户权限是r-x，即可读可执行，其他用户r--表示仅可读。</p><p>testgroup组的用户拥有x权限，故可以进入(cd)此目录，其他用户不可进入此目录。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'用户','Linux','系统'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>