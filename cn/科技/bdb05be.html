<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>GPS伪卫星高精度室内定位技术研究与实现 | 极客快訊</title><meta property="og:title" content="GPS伪卫星高精度室内定位技术研究与实现 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/6ecc00103e2f66d9f269"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bdb05be.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bdb05be.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bdb05be.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bdb05be.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bdb05be.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bdb05be.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bdb05be.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bdb05be.html><meta property="article:published_time" content="2020-10-29T21:05:34+08:00"><meta property="article:modified_time" content="2020-10-29T21:05:34+08:00"><meta name=Keywords content><meta name=description content="GPS伪卫星高精度室内定位技术研究与实现"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/bdb05be.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>GPS伪卫星高精度室内定位技术研究与实现</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>摘 要：</strong>为了实现高精度室内定位，克服GPS导航系统在室内等复杂环境定位的局限性，提出了一种基于伪卫星的高精度室内定位方案。该方案以FPGA+DSP作为核心处理器，并集成了高速A/D转换电路以及上下变频电路。详细介绍了伪卫星信号时钟同步方法和接收机抗远近效应设计方案及实现。通过对系统测试，结果表明在室内静态和动态定位精度都在3 cm以内，实现了高精度室内定位，该方案的实现对室内外无缝定位具有重要的意义。</p><p>TN967.1</p><p>A</p><p>10.16157/j.issn.0258-7998.173683</p><p><strong>中文引用格式：</strong>卢伟军，孙希延，纪元法，等. GPS伪卫星高精度室内定位技术研究与实现[J].电子技术应用，2018，44(3)：36-39.</p><p><strong>英文引用格式：</strong>Lu Weijun，Sun Xiyan，Ji Yuanfa，et al. Research and implementation of high precision indoor positioning technology for GPS pseudo satellite[J]. Application of Electronic Technique，2018，44(3)：36-39.</p><p><strong>0 引言</strong></p><p>全球卫星导航系统(Global Navigation Satellite System，GNSS)已在室外广泛运用，但在高楼密集、室内或地下场景等环境下由于信号被遮蔽、衰减严重，接收机难以同时接收到4颗以上的卫星信号进行定位，限制了其应用范围。由于人们对室内定位的需求迫切，因此室内定位技术得到了蓬勃发展，目前主流的室内定位有Wi-Fi、蓝牙、传感器等技术，但是这些技术还不能同时满足高精度室内定位以及室外GNSS系统无缝定位需求。室内伪卫星系统是为满足上述环境中的定位需求而发展的室内定位技术之一<sup>[1]</sup>。伪卫星定位技术在室内复杂环境中应用具有一定的难度，但其应用前景是非常广阔的。因而设计一款伪卫星作为基站的高精度室内导航定位系统具有重要意义。</p><p><strong>1 系统总体构架</strong></p><p>本文设计的GPS伪卫星高精度室内定位系统主要由GPS授时接收机、伪卫星基带信号处理部分、高速D/A转换、射频上变频电路、发射天线、接收天线、射频下变频电路、高速A/D转换和接收机基带信号处理部分等模块组成，系统总体构架如图1所示。</p><img alt=GPS伪卫星高精度室内定位技术研究与实现 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/6ecc00103e2f66d9f269><p>如图1所示，GPS授时接收机输出的秒脉冲(PPS)作为发射机与真实GPS信号同步的基准，对本地恒温晶振驯服，以获得高稳定度和高精度伪卫星信号。伪卫星基带信号处理部分主要实现GPS L1频点伪卫星导航信号生成。高速D/A转换电路接收FPGA生成的数字中频并转换为模拟中频信号，本系统设计4路高速D/A转换电路，每一路D/A对应一颗伪卫星中频信号。通过上变频模块把数字中频信号变频成GPS L1频点伪卫星射频信号。</p><p>射频下变频电路把接收到的伪卫星信号下变频至中频信号。高速A/D转换电路实现对射频下变频电路输出的模拟中频量化采样。接收机信号处理部分完成对信号的捕获、跟踪以及实现抗远近效应算法和定位解算。其中DSP实现通道状态检测、可见星搜索、信号跟踪、远近效应算法的判断策略和定位解算，FPGA实现信号捕获算法、抗远近效应算法。</p><p><strong>2 系统主要硬件电路设计</strong></p><p><strong>2.1 上变频电路设计</strong></p><p>上变频电路主要是实现基带模拟中频信号变频至GPS L1频点的射频信号。本文设计采用双路射频输出的数字锁相频率合成器SI4133芯片，其中RF1的输出范围是900 MHz～1.8 GHz，RF2的输出范围是750 MHz～1.5 GHz。通过简单的编程便可得到所需要的本振信号，本文设计的中频信号为20.42 MHz，本振信号为1 555 MHz，通过混频得到设计所需的GPS L1频点的信号。图2是射频上变频电路。</p><img alt=GPS伪卫星高精度室内定位技术研究与实现 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/6ec4001190273e3ffd81><p><strong>2.2 射频下变频电路设计</strong></p><p>射频前端的性能直接影响接收机基带数字信号处理模块对信号捕获、跟踪的质量。本系统选用Maxim Integrated公司的MAX2122作为射频下变频芯片，它是一款包含完整的单片VCO、I和Q下变频混频器和带宽可调的低通滤波射频导航芯片，工作频率范围是925 MHz～2 175 MHz。本文设计的射频下变频电路将天线接收到的伪卫星信号下变频至10.42 MHz。射频下变频电路原理图如图3所示。</p><img alt=GPS伪卫星高精度室内定位技术研究与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6ecc00103e302e4c451f><p><strong>2.3 A/D转换电路设计</strong></p><p>模数转换电路的设计对接收机抗干扰性能有着重大影响，本文选用Analog Devices公司的AD9246作为A/D转换电路的核心器件。AD9246是一款1.8 V单电源供电的14 bit、125 MS/s模数转换器，内置采样保持放大器与片上基准电源。射频前端输出的中频信号是10.42 MHz，本文A/D采样频率设置为112 MHz，可以满足系统性能要求。图4是A/D转换电路。</p><img alt=GPS伪卫星高精度室内定位技术研究与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6eca0011a34f560241ec><p><strong>3 系统关键程序设计</strong></p><p><strong>3.1 时钟同步设计</strong></p><p>为了让接收机获得更准确的频率信号，发射机部分需要对本地恒温晶振进行驯服。利用真实GPS时间信号长稳指标高的优点消除本地恒温晶振长期累积误差，从而获得高稳定度和高准确度的频率信号<sup>[2]</sup>。</p><p>本文设计驯服时钟是利用GPS授时接收机输出的PPS作为标准的秒脉冲信号对本地恒温晶振进行驯服。FPGA程序设计中主要是利用时钟计数法对本地晶振进行频率调整，以消除恒温晶振因老化、温漂等带来的累积误差。</p><p>时钟计数法是FPGA对时钟的计数，首先通过对GPS秒脉冲两个相邻秒沿之间的时钟个数count1和本地秒脉冲两个相邻秒沿之间的时钟个数count2进行计数、对比，得到相应的时钟钟差值，假如钟差大，说明恒温晶振提供的频率存在较大误差，需要调整减少误差。然后把时钟钟差值转换给SPI总线数值，通过SPI总线写入DAC7512，DAC7512把接收到的数字量转换为模拟电压，实时地对本地晶振频率进行调整，使count1=count2即完成了驯服的过程，达到本地晶振长期稳定的效果。驯服时钟程序设计流程图如图5所示。FPGA先给DAC7512写一个固定值，让恒温晶振上电先稳定，在检测到GPS秒脉冲输入时，延迟一个时钟产生本地秒脉冲。通过对比两个秒脉冲之间的计数差值对晶振频率进行调整。GPS秒脉冲与发射系统产生的秒脉冲结果对比如图6所示。</p><img alt=GPS伪卫星高精度室内定位技术研究与实现 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/6ecb00112df8859cfa12><img alt=GPS伪卫星高精度室内定位技术研究与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/71f100064923cbc57609><p><strong>3.2 接收机抗远近效应程序设计</strong></p><p>在室内，由于空间狭窄，伪卫星布置的高度相对比较低，容易发生远近效应。在某些位置，当来自不同伪卫星的信号强度差异大于某个门限时，就会产生远近效应，堵塞接收机<sup>[3]</sup>。因此本文设计的接收机必须具有抗远近效应功能。本文中抗远近效应程序设计主要是利用互相关干扰消除算法实现抗远近效应<sup>[4]</sup>。其中DSP主要是负责远近效应的判断策略，同时完成信号幅度、强信号的电文估计以及重构干扰信号。其处理流程如图7所示。</p><img alt=GPS伪卫星高精度室内定位技术研究与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6eca0011a3509b041df7><p>DSP每毫秒记录一次当前卫星的幅度估计值，式(1)为幅值估计公式。</p><p>式中，A<sub>n</sub>是信号幅度估计值，I<sub>n</sub>和Q<sub>n</sub>分别是I路和Q路的相干积分结果，f<sub>s</sub>是接收机的采样率，T<sub>coh</sub>为接收机相干积分时间。由于C/A码的隔离度在理想情况下仅有24 dB<sup>[5]</sup>，为了留足够的富余量，本文设计的强信号干扰门限值为18 dB。当连续10 ms检测到有一个接收通道的幅度估计值高于幅度门限值，或者是强信号与弱信号的比值超过干扰门限值，则判定为发生了远近效应，同时把开启干扰抵消的控制标志传给FPGA。在确定发生远近效应后，DSP会每间隔30 s估计一次电文，获得相应的电文符号。DSP在正常跟踪的情况下，准确地获得强信号的载波NCO、码NCO以及估计的幅度值、导航电文的符号等强信号参数。选取其中一个强信号作为参考信号，根据所获得的信号参数对强信号进行重构。</p><p>FPGA在跟踪正常状态下接收到DSP传过来的开启干扰抵消控制信号，启动干扰抵消算法处理通道，如图8所示。</p><img alt=GPS伪卫星高精度室内定位技术研究与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6ec4001190283a094111><p>FPGA接收到DSP传过来的重构干扰信号S(t)，首先与本地载波混频，实现强信号的载波剥离，然后与码环复制的C/A码进行互相关，经过积分清除后，得到强信号与弱信号互相关结果I<sub>WS</sub>(t)、Q<sub>WS</sub>(t)，最后经过干扰抵消便可得到弱信号自相关值。FPGA各个模块功能如下：</p><p>(1)载波NCO模块。FPGA采用DDS技术产生本地数字载波，在程序中将事先使用MATLAB产生的正余弦幅度值存到FPGA的ROM核中，通过寻址的方式得到需要的载波频率信号。</p><p>(2)C/A码发生器。码环复制的C/A码同时分享给弱信号相干积分通道和强信号干扰抵消通道。与剥离载波后的强信号相关，实现信号解扩。</p><p>(3)干扰抵消部分。干扰消除的主要功能是分离出弱信号相关结果中强干扰信号与弱信号互相关结果，得到弱信号自相关值I<sub>WW</sub>(t)、Q<sub>WW</sub>(t)。其中弱信号相关结果包含弱信号自相关结果和弱信号与干扰信号互相关结果。</p><p><strong>4 测试结果</strong></p><p>本文设计的室内伪卫星导航定位系统，发射机部分生成了GPS L1频段的4路伪卫星信号，同时对本地恒温晶振驯服，获得更准确的频率信号。接收机部分设计了抗远近效应，使用载波相位进行导航定位。在5 m×10 m的室内环境多次测试，4颗伪卫星布置在4个角落，利用所设计的接收机进行导航定位。静态测试结果如图9所示，定位误差在3 cm以内。二维动态L形轨迹缓慢运动定位结果如图10所示，动态定位误差在3 cm以内。静态和动态定位结果说明本文设计的伪卫星导航定位系统能够正常工作。</p><img alt=GPS伪卫星高精度室内定位技术研究与实现 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/6ec40011902971238b58><img alt=GPS伪卫星高精度室内定位技术研究与实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6eca0011a3512d29465f><p><strong>5 结论</strong></p><p>为了满足高精度室内定位需求，本文设计了一款GPS伪卫星室内导航定位系统，发射机以FPGA+DSP为核心处理器，解决了本地恒温晶振长期的累积误差问题，使其具有长期稳定度，接收机具有抗远近效应能力。对系统导航定位精度进行了多次测试，测试结果表明，静态和动态定位精度都达到厘米级。该系统可以应用于室内定位、地下停车场定位，还可以用于地基增强系统。</p><p><strong>参考文献</strong></p><p>[1] 生丽.基于GPS的室内无线定位系统研究[D].上海：华东师范大学，2012.</p><p>[2] 陆加海，张同双，陶小红，等.基于TDC的GPS驯服恒温晶振系统设计[J].电讯技术，2011，51(12)：113-116.</p><p>[3] Wang Huihui，Zhai Chuanrun，Zhan Xingqun，et al.Outdoor navigation system using integrated GPS and pseudolite signals：theoretical analysis and simulation[C].2008 IEEE International Conference on Information and Automation，2008：1127-1131.</p><p>[4] 宋新刚，雷珺琳，路卫军.一种C/A码互相关干扰消除算法[J].计算机技术与发展，2011，21(1)：1-4.</p><p>[5] 汪婕，廉保旺，张志鹏.基于干扰抵消的GPS伪卫星抗远近效应方法研究[J].测控技术，2008，27(3)：43-45.</p><p><strong>作者信息:</strong></p><p>卢伟军1，2，孙希延1，2，纪元法1，2，范 灼1，2，梁 涛1，2</p><p>（1.桂林电子科技大学 信息与通信学院，广西 桂林541004；2.广西精密导航技术与应用重点实验室，广西 桂林541004）</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'GPS','伪卫星','技术'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>