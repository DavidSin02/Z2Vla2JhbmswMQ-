<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Cacls命令设置文件及其文件夹权限的方法 | 极客快訊</title><meta property="og:title" content="Cacls命令设置文件及其文件夹权限的方法 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/be7983dc.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/be7983dc.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/be7983dc.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/be7983dc.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/be7983dc.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/be7983dc.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/be7983dc.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/be7983dc.html><meta property="article:published_time" content="2020-11-14T21:02:56+08:00"><meta property="article:modified_time" content="2020-11-14T21:02:56+08:00"><meta name=Keywords content><meta name=description content="Cacls命令设置文件及其文件夹权限的方法"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/be7983dc.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Cacls命令设置文件及其文件夹权限的方法</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>最近因为一些业务关系, 需要对文件夹进行批评赋权操作,于是就用到了cacls, 网上有许多讲解cacls权限设置的文章，虽然已经讲的比较简单，但是新手依然看的一头雾水，操作性不强。</p><p>下面以实例为大家一部一部讲解几个实用的命令。</p><p>你是否不想让别人在你的电脑上打开某个文件夹或者文件？是否有时想允许让别人看某个文件和文件夹下的文件，但是不想让别人更改？或者不想让自己电脑上的某个账户不能访问某个文件夹？如果有过那么可以用以下命令实现，而不需要借助其他加密软件。</p><p>cacls，引用百度百科的解释:计算机编程函数，可显示或修改任意访问控制列表 (ACL) 文件。</p><p>注意要限制别人访问的文件或者文件夹所在盘必须要是NTFS文件系统的，而不能是FAT32格式。这或许是ntfs文件系统安全性能好于fat32的原因之一吧。[比如查看D盘文件系统，只需要打开D盘，在里面空白处点击右键－属性，里面就可以看到了]</p><p>如果是fat32而不是ntfs文件系统可以通过这条命令来转换所在盘为ntfs文件系统[不影响里面的文件的]：</p><p>命令行下操作：</p><p>开始－运行－cmd－回车 打开命令行界面</p><p>输入：convert d: /fs:ntfs</p><p>再回车，按照提示操作就可以了</p><p>[上面命令的意思是：convert表示命令转换文件系统的意思；d: 表示要转换D盘，其他盘你可以相应写，比如f: ； /fs:ntfs 表示文件系统转换为ntfs格式。注意这个命令只能把fat32转换成ntfs格式。将ntfs转换为fat32不能通过简单命令完成，需要借助特别软 件。]</p><p>如果你想不要让人打开D盘下test文件夹，并且你的D盘已经是ntfs文件系统的话就可以跳过上述操作直接进入我下面的操作了哦！</p><p><strong>例一：让所有用户禁止访问D盘test文件夹。</strong></p><p>命令：命令行界面的打开就不多说了哦。看上面。</p><p>cacls d:\test /t /p everyone:n</p><p>表示把D盘test文件夹设置成对所有用户的[无权限]，n表示no，无权限的意思。其他常用权限：r 表示只读；f表示完全控制。/t表示对文件夹里面的子文件夹也同样设置权限。/p你不用管。但是要写上。不然运行不好地。</p><p>接过是：打开D盘test就提示禁止访问。因为上面写的是everyone所有用户。所有你自己也不能访问。自己要访问时只需要运行命令：</p><p>cacls d:\test /t /p everyone:f</p><p>就可以了</p><p>如果你的电脑有几个账户，你是想不让其他账户访问这个文件夹，那么你可以在写命令的时候把everyone改成相应的账户名字，比如edwin等等〔看你实际的账户名啦〕。</p><p>直接用everyone所有用户设置权限。要打开时再运行命令取消限制，也不是太麻烦。至少可以提供个机会多练习练习命令行，和记住这条命令。否则时间长了忘记了又得查资料。</p><p><strong>例二：让用户edwin不能打开e:\test\apian.rmvb 这部电影。当然也可以限制图片,程序，word文档的打开哦。</strong></p><p>命令：</p><p>cacls e:\test\apian.rmvb /p edwin:n</p><p>取消限制：</p><p>cacls e:\test\apian.rmvb /p edwin:f</p><p><strong>例三：把D盘绿色软件文件夹里面的exe文件设置成只读[包括子文件夹里面的]。这样可以防止病毒感染exe文件。</strong></p><p>命令：</p><p>d:</p><p>cd d:\绿色软件</p><p>cacls *.exe /t /p everyone:r</p><p>w注意上面的</p><p>“d:</p><p>cd d:\绿色软件”</p><p>这两行命令表示把当前目录切换到d:\绿色软件。不可省略不写哦。</p><p>例四：把E盘根目录下设置成只读，防止病毒感染E盘根目录。因为很多U盘病毒会感染根目录，在根目录下新生成一个文件夹及文件比如 autorun.inf、setup.exe、a2de3d3.exe、autorun.exe。有些恶性病毒很厉害。弄得你重装系统都无法解决病毒问 题。因为这些在非系统目录根目录的病毒存在当你单纯格式化C盘重装系统之后，第一次启动时打开D盘等非系统盘的时候病毒在次感染C盘。如果把非系统盘根目 录设置成只读的话就可以防止病毒生成这些文件。当然不影响根目录下文件的删除哦。但是会影响你自己建立文件夹或在根目录下复制进文件。所有建议开始把根目 录下的文件夹建立好。文件放到子文件夹里面。或者在你想在比如D盘根目录下建立一个文件夹时，先用命令行取消根目录只读。虽然有点麻烦，但是好处多余坏处 哦。</p><p>命令:</p><p>cacls e:\ /p everyone:r</p><p>解除根目录只读：</p><p>cacls e:\ /p everyone:f</p><p>呵呵。足够清楚了吧。试试看吧。</p><p>问题：既然我可以用命令来加密，是不是别人也可以用命令来解密？</p><p>回答：是的。只要有管理员权限的账户都可以运行命令来设置权限。但是并不是所有人都懂这一套。或者说懂这些的人很少。别人即使看到禁止访问的提示，也不会想到到底是怎么回事的。所有你可以方向使用。</p><p><strong>问题:用这些命令的注意点</strong></p><p>回答：1、尽量不要对系统文件及文件夹设置权限。因为那样可能会到时系统出现严重错误的。</p><p>2、如果要重装系统，那么之前尽量把加密的解密。如果是用ghost恢复就不需要了。</p><p>3、再次强调，所在盘符必须是ntfs的才行哦。</p><p><strong>CACLS参数说明</strong></p><p>CACLS filename [/T] [/E] [/C] [/G user:perm] [/R user [...]]</p><p>[/P user:perm [...]] [/D user [...]]</p><p>filename 显示 ACL。</p><p>/T 更改当前目录及其所有子目录中</p><p>指定文件的 ACL。</p><p>/E 编辑 ACL 而不替换。</p><p>/C 在出现拒绝访问错误时继续。</p><p>/G user:perm 赋予指定用户访问权限。</p><p>Perm 可以是: R 读取</p><p>W 写入</p><p>C 更改(写入)</p><p>F 完全控制</p><p>/R user 撤销指定用户的访问权限(仅在与 /E 一起使用时合法</p><p>/P user:perm 替换指定用户的访问权限。</p><p>Perm 可以是: N 无</p><p>R 读取</p><p>W 写入</p><p>C 更改(写入)</p><p>F 完全控制</p><p>/D user 拒绝指定用户的访问。</p><p>在命令中可以使用通配符指定多个文件。</p><p>也可以在命令中指定多个用户。</p><p>CI - 容器继承。</p><p>ACE 会由目录继承。</p><p>OI - 对象继承。</p><p>ACE 会由文件继承。</p><p>IO - 只继承。</p><p>ACE 不适用于当前文件/目录。</p><p>从其系统参数的讲解，我们不难看出，想要拒绝某一用户访问自己的特定目录或权限是很简单处理的一件事，起码就用CACLS处理起来是这样。</p><p>步骤/方法</p><p>1打开＂开始菜单＂ 2找到＂运行＂并打开＂运行对话框＂ 3输入＂ＣＭＤ＂并回车打开＂ＣＭＤ＂虚拟ＤＯＳ环境 4示例：cacls d:/test /p administrator:F 5在出现提示时按＂Ｙ＂确认操作即可．注意事项 6以上使用方法完全是基于微软的Windows系统（也可以是虚拟机） 7cacls d: /p 用户名:N 在回车以后以现的是否处理提示时，选择是。即用户名被禁止访问D盘，此时再要想访问会出现，拒绝访问的错误提示。解开禁止的方面是用另一个超级管理员的身份使用cacls d: /p 用户名:F 进行取消设置即可。提示用户，在对盘符进行操作时要慎之又慎．</p><p>好了,就说到这里,大家有什么想法,可以在下方评论,我们一起探讨.</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'文件','Cacls','设置'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>