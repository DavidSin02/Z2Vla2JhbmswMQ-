<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Java ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨ auto-code | æå®¢å¿«è¨Š</title><meta property="og:title" content="Java ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨ auto-code - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/d60ae1d716bd4e22babd7a068ccc3577"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bf6235db.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bf6235db.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bf6235db.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bf6235db.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bf6235db.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bf6235db.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bf6235db.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bf6235db.html><meta property="article:published_time" content="2020-11-14T20:55:22+08:00"><meta property="article:modified_time" content="2020-11-14T20:55:22+08:00"><meta name=Keywords content><meta name=description content="Java ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨ auto-code"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/bf6235db.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Java ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨ auto-code</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><h1>auto-code</h1><p>æ¬¢è¿ä½¿ç”¨auto-codeä»£ç è‡ªåŠ¨ç”Ÿæˆå¼•æ“, 2.0é‡å¤§å‡çº§.æ”¯æŒå•è¡¨, ä¸€å¯¹ä¸€, ä¸€å¯¹å¤š ,å¤šå¯¹å¤šä»£ç ç”Ÿæˆ æºç åœ°å€</p><div class=pgc-img><img alt="Java ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨ auto-code" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d60ae1d716bd4e22babd7a068ccc3577><p class=pgc-img-caption></p></div><p>é¡¹ç›®ä»‹ç»</p><p>é¡¹ç›®çš„ä¼˜åŠ¿åœ¨å“ªé‡Œ</p><blockquote><p>1.ç›®å‰å¸‚é¢ä¸Šçš„ä»£ç ç”Ÿæˆå·¥å…·ç»å¤§å¤šæ•°ä»…ä»…æ”¯æŒç”Ÿæˆå•è¡¨,è¯¥é¡¹ç›®æ”¯æŒ å•è¡¨, ä¸€å¯¹ä¸€, ä¸€å¯¹å¤š ,å¤šå¯¹å¤š ä»£ç ç”Ÿæˆ.å¤§å¤§ç®€åŒ–äº†å¼€å‘çš„å·¥ä½œé‡</p><p>2.åªè¦ç›®å‰ä½ çš„é¡¹ç›®é‡‡ç”¨ springMVC+spring+mybatisæ¶æ„çš„é¡¹ç›®éƒ½é€‚ç”¨(ä¼ ç»Ÿå·¥ç¨‹å’ŒspringBootå·¥ç¨‹éƒ½é€‚ç”¨). ä¸ç®¡ä¸€æ¬¡å¼€å‘è¿˜æ˜¯äºŒæ¬¡å¼€å‘.è¯¥é¡¹ç›®ä»…ä»…åªæ˜¯å¸®ä½ ç”Ÿæˆå•è¡¨ä»¥åŠå¤šè¡¨çš„å¢åˆ æ”¹æŸ¥,ä¸åšä»»ä½•åº•å±‚çš„æ”¹åŠ¨.</p></blockquote><p>ä»€ä¹ˆæƒ…å†µé€‰æ‹©è¯¥é¡¹ç›®</p><blockquote><p>1.è¯¥é¡¹ç›®åªç”Ÿæˆæ¥å£(controller,service,serviceImpl,dao,xml), ä¸ç”Ÿæˆé¡µé¢.æ‰€ä»¥å¦‚æœé¡¹ç›®æ˜¯é‡‡ç”¨å‰åå°åˆ†ç¦»,ä¸éœ€è¦å†™é¡µé¢.è¯¥é¡¹ç›®ä¼šé€‚åˆä½ </p><p>2.å¦‚æœè¿˜æƒ³ç”Ÿæˆé¡µé¢è¯·çœ‹è¯¥é¡¹ç›®,è¿™ä¸ªé¡¹ç›®åŸºäºæœ¬é¡¹ç›®.æ‰©å±•äº†é¡µé¢ç”Ÿæˆ.é€‚åˆåå°ä½¿ç”¨ æºç åœ°å€ æ¼”ç¤ºåœ°å€ è´¦å· ztp å¯†ç  111111</p></blockquote><p>ä¸ºä½•ä¼šå‘èµ·è¯¥é¡¹ç›®?</p><blockquote><p>ç»å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯åœ¨åšå¢åˆ æ”¹æŸ¥.æ¯æ¬¡åˆ›å»ºä¸€å¼ è¡¨.ç„¶åæˆ‘ä»¬éœ€è¦é‡æ–°å†™ä¸€æ¬¡å¢åˆ æ”¹æŸ¥, å†™è™½ç„¶ç®€å•,ä¸è¿‡æåº¦è€—æ—¶(controller,server,serverImpl,dao,xml) æ‰€ä»¥æ‰æœ‰äº†è¯¥é¡¹ç›®,è¯¥é¡¹ç›®èƒ½å¸®åŠ©ä½ å‡å°‘70%çš„å·¥ä½œé‡,è®©ä½ ä¸“æ³¨äºä¸šåŠ¡çš„å®ç°.</p></blockquote><p>é¡¹ç›®åœ°å€</p><div class=pgc-img><img alt="Java ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨ auto-code" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/01e824540f3b487e8bfc0ee035d2ba5b><p class=pgc-img-caption></p></div><p>é›†æˆæ•™ç¨‹</p><blockquote><p>é›†æˆéå¸¸ç®€å•,åªéœ€è¦åœ¨è‡ªå·±çš„webå·¥ç¨‹æˆ–è€…spring-bootå·¥ç¨‹å¼•å…¥jaråŒ…å³å¯. è¯·åœ¨pomå†™ä¸Š</p></blockquote><pre> &lt;dependency&gt; &lt;groupId&gt;com.zengtengpeng&lt;/groupId&gt; &lt;artifactId&gt;auto-code&lt;/artifactId&gt; &lt;version&gt;2.0.1&lt;/version&gt; &lt;/dependency&gt;</pre><p>ä½¿ç”¨æ•™ç¨‹</p><p>å‡†å¤‡å·¥ä½œ</p><blockquote><p>1 é¦–å…ˆå…ˆå‡†å¤‡æ•°æ®åº“(ç†è®ºä¸Šæ”¯æŒæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“,ç›®å‰åªåšäº†mysqlçš„æµ‹è¯•)</p><p>2 åˆ›å»ºæ•°æ®åº“ auto_code (å¯ä»¥éšæ„å–åç§°,åªè¦å’Œä¸‹é¢yamlé‡Œé¢çš„æ•°æ®åº“åç§°å¯¹åº”ä¸Šå°±è¡Œ)</p><p>3 å‡†å¤‡å®Œæ¯•,å¼€å§‹è¿›å…¥æ­£é¢˜</p></blockquote><p>å•è¡¨ç”Ÿæˆ</p><blockquote><p>å‡è®¾æˆ‘ä»¬è¦ç”Ÿæˆä¸€å¼ å•è¡¨</p></blockquote><pre>CREATE TABLE `test_code` ( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'æµ‹è¯•ç”Ÿæˆä»£ç ', `name` varchar(50) DEFAULT NULL COMMENT 'åç§°', `age` int(3) DEFAULT NULL COMMENT 'å¹´é¾„', `status` int(2) DEFAULT NULL COMMENT '{"name":"çŠ¶æ€","1":"å¯ç”¨","0":"ç¦ç”¨"}', `birthday` date DEFAULT NULL COMMENT 'ç”Ÿæ—¥', `remarks` text COMMENT 'å¤‡æ³¨', `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´', PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COMMENT='æµ‹è¯•ç”Ÿæˆä»£ç ';</pre><blockquote><p>1.å…ˆåœ¨èµ„æºæ ¹è·¯å¾„(src/main/resources)åˆ›å»º auto-code_simple.yaml æ–‡ä»¶,å…·ä½“å†…å®¹å¦‚ä¸‹</p></blockquote><pre>datasourceConfig: #é©±åŠ¨åç§° driverClassName: com.mysql.jdbc.Driver #æ•°æ®åº“åç§° name: auto_code #jdbcé“¾æ¥ url: jdbc:mysql://127.0.0.1:3306/auto_code #æ•°æ®åº“ç”¨æˆ·å username: root #æ•°æ®åº“å¯†ç  password: 111111globalConfig: #æ•°æ®åº“è¡¨é…ç½® tableNames: #è¡¨åç§° - dataName: test_code #åˆ«å ä¸å†™é»˜è®¤é‡‡ç”¨é©¼å³°å‘½åæ³• test_code-&gt;TestCode# aliasName: SysLoginLog #å¦‚æœç”¨å¤šå¼ è¡¨,è¯·æŒ‰ç…§å¦‚ä¸‹å†™æ³•,ç»§ç»­å¾€ä¸‹å†™.# - dataName: test_code2# aliasName: DDDDDDD #ç”Ÿæˆä»£ç çš„é¡¹ç›®è·¯å¾„ parentPath: f:/core #ç”Ÿæˆä»£ç çš„çˆ¶åŒ… å¦‚çˆ¶åŒ…æ˜¯com.zengtengpeng.test controllerå°†åœ¨com.zengtengpeng.test.controllerä¸‹ bean å°†åœ¨com.zengtengpeng.test.beanä¸‹ ,service,daoåŒç† parentPack: com.zengtengpeng.test #æ˜¯å¦è¦†ç›–ç”Ÿæˆæ–‡ä»¶ å¦‚æœä¸ºtrueå°†ä¼šæŠŠä»¥å‰çš„æ–‡ä»¶è¦†ç›–æ‰ cover: false #xmlå­˜æ”¾çš„æ–‡ä»¶å¤¹é»˜è®¤ mybatisMapper xmlPath: mybatisMapper</pre><blockquote><p>2.æ‰§è¡Œä»£ç ç”Ÿæˆè¯­å¥</p></blockquote><pre>import com.zengtengpeng.autoCode.StartCode;public class Demo1simple { public static void main(String[] args) { //lambdaè¡¨è¾¾å¼å†™æ³• äºŒé€‰ä¸€ StartCode startCode=t-&gt;{}; //æ™®é€šå†™æ³• äºŒé€‰ä¸€// StartCode startCode=new StartCode() {// @Override// public void custom(AutoCodeConfig autoCodeConfig) {//// }// }; startCode.start(StartCode.saxYaml("auto-code_simple.yaml")); }}</pre><blockquote><p>3.ç”Ÿæˆå®Œæ¯• ä¸»è¦ç”Ÿæˆå…­ä¸ªæ¥å£</p></blockquote><pre>//æ ¹æ®idåˆ é™¤è®°å½•deleteByPrimaryKey//ä¿å­˜(ä¸»é”®ä¸ºç©ºåˆ™å¢åŠ  å¦åˆ™ ä¿®æ”¹)save //æ ¹æ®ä¸»é”®æŸ¥è¯¢selectByPrimaryKey//æ ¹æ®æ¡ä»¶æŸ¥è¯¢(æ‰€æœ‰çš„å®ä½“å±æ€§éƒ½æ˜¯æ¡ä»¶,å¦‚æœä¸ºç©ºåˆ™å¿½ç•¥è¯¥å­—æ®µ)selectByCondition//åˆ†é¡µæŸ¥è¯¢ (æ‰€æœ‰çš„å®ä½“å±æ€§éƒ½æ˜¯æ¡ä»¶,å¦‚æœä¸ºç©ºåˆ™å¿½ç•¥è¯¥å­—æ®µ) è¯¦è§Pageç±».æ‰€ä»¥çš„å®ä½“éƒ½ç»§æ‰¿è¯¥ç±» é»˜è®¤page=1 pageSize=10selectAllByPaging//å¯¼å‡ºexcelexport</pre><p>ç”Ÿæˆçš„æ–‡ä»¶å¦‚ä¸‹:</p><div class=pgc-img><img alt="Java ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨ auto-code" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cd2d3104444d471da3c162e612320fdf><p class=pgc-img-caption></p></div><p>ä¸€å¯¹ä¸€ä»£ç ç”Ÿæˆ one-to-one (ä»£ç é‡‡ç”¨è¿½åŠ çš„æ–¹å¼.æ— éœ€æ‹…å¿ƒä»£ç è¢«è¦†ç›–)</p><blockquote><p>å‡å¦‚ ä¸€ä¸ªç”¨æˆ· test_user ä¸€ä¸ªç”¨æˆ· å¯¹åº” test_class ä¸€ä¸ªç­çº§</p></blockquote><pre> CREATE TABLE `test_user` ( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id', `name` varchar(50) DEFAULT NULL COMMENT 'åç§°', `age` int(3) DEFAULT NULL COMMENT 'å¹´é¾„', `status` int(2) DEFAULT NULL COMMENT '{"name":"çŠ¶æ€","1":"å¯ç”¨","0":"ç¦ç”¨"}', `birthday` date DEFAULT NULL COMMENT 'ç”Ÿæ—¥', `remarks` text COMMENT 'å¤‡æ³¨', `mun` decimal(20,2) DEFAULT NULL COMMENT 'æ•°å­—', `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´', `update_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8 COMMENT='æµ‹è¯•ç”¨æˆ·'; CREATE TABLE `test_class` ( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ç­çº§id', `user_id` int(11) DEFAULT NULL COMMENT 'ç”¨æˆ·id', `class_name` varchar(50) DEFAULT NULL COMMENT 'ç­çº§åç§°', `quantity` int(11) DEFAULT NULL COMMENT 'ç­çº§äººæ•°', `create_time` datetime DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 COMMENT='ç­çº§'</pre><blockquote><p>1.åŒç†å…ˆåœ¨ èµ„æºæ ¹è·¯å¾„(src/main/resources)åˆ›å»º auto-code_one-to-one.yaml æ–‡ä»¶(åå­—éšæ„å®šé»˜è®¤ä½¿ç”¨ auto-code.yaml),å…·ä½“å†…å®¹å¦‚ä¸‹</p></blockquote><pre>è¯·æ³¨æ„relationConfigè¿™é‡Œæè¿°çš„æ˜¯å…³ç³»é…ç½®, æ³¨æ„generateå’ŒexistParentPackageå­—æ®µ.å¦‚æœè¯¥è¡¨å·²ç»ç”Ÿæˆäº†.è¯·å°† generateç½®ä¸º false åŒæ—¶å¡«å†™ existParentPackage è¯¥è¡¨æ‰€å¯¹åº”çš„çˆ¶åŒ…(ä¸€å¯¹å¤š,å¤šå¯¹å¤šæœ‰å®ä¾‹)datasourceConfig: #é©±åŠ¨åç§° driverClassName: com.mysql.jdbc.Driver #æ•°æ®åº“åç§° name: auto_code #jdbcé“¾æ¥ url: jdbc:mysql://127.0.0.1:3306/auto_code #æ•°æ®åº“ç”¨æˆ·å username: root #æ•°æ®åº“å¯†ç  password: 111111globalConfig: #ç”Ÿæˆä»£ç çš„é¡¹ç›®è·¯å¾„ parentPath: E:\resource\workspaceJDB\auto-code-springboot-demo #ç”Ÿæˆä»£ç çš„çˆ¶åŒ… å¦‚çˆ¶åŒ…æ˜¯com.zengtengpeng.test controllerå°†åœ¨com.zengtengpeng.test.controllerä¸‹ bean å°†åœ¨com.zengtengpeng.test.beanä¸‹ ,service,daoåŒç† parentPack: com.zengtengpeng.test #æ˜¯å¦è¦†ç›–ç”Ÿæˆæ–‡ä»¶ å¦‚æœä¸ºtrueå°†ä¼šæŠŠä»¥å‰çš„æ–‡ä»¶è¦†ç›–æ‰ cover: false #xmlå­˜æ”¾çš„æ–‡ä»¶å¤¹é»˜è®¤ mybatisMapper xmlPath: mybatisMapper # è¡¨å…³ç³»é…ç½® ä¸€å¯¹ä¸€ ä¸€å¯¹å¤š å¤šå¯¹å¤š ä»£ç ç”Ÿæˆ é‡‡ç”¨è¿½åŠ çš„æ–¹å¼ relationConfig: #ä¸»è¡¨ primary: #æ•°æ®åº“è¡¨å dataName: test_user #åˆ«å: å¦‚æœä¸è®¾ç½®å°†é‡‡ç”¨é©¼å³°å‘½åæ³• test_user=TestUser beanName: User #ä¸»é”®åç§° primaryKey: id #æ˜¯å¦ç”Ÿæˆå•è¡¨ä»£ç # generate: false#å¦‚æœå•è¡¨ä»£ç å·²ç»ç”Ÿæˆ,è¯·å¡«å†™ä»£ç çš„çˆ¶åŒ…,æ²¡æœ‰åˆ™generateç½®ä¸ºtrue å¦‚ com.zengtengpeng.test.bean.TestUser è¯·å¡«å†™ com.zengtengpeng.test# existParentPackage: com.zengtengpeng.test #å¤‡æ³¨ remark: "ç”¨æˆ·" #å¤–è¡¨ foreign: #æ•°æ®åº“è¡¨å dataName: test_class #åˆ«å: å¦‚æœä¸è®¾ç½®å°†é‡‡ç”¨é©¼å³°å‘½åæ³• test_user=TestUser beanName: Clazz #å¤–é”®åç§° å°±æ˜¯å·²å“ªä¸ªå­—æ®µå’Œä¸»è¡¨å…³è” å¡«å†™æ•°æ®åº“å­—æ®µåç§° foreignKey: user_id #æ˜¯å¦ç”Ÿæˆå•è¡¨ä»£ç # generate: false#å¦‚æœå•è¡¨ä»£ç å·²ç»ç”Ÿæˆ,è¯·å¡«å†™ä»£ç çš„çˆ¶åŒ…,æ²¡æœ‰åˆ™generateç½®ä¸ºtrue å¦‚ com.zengtengpeng.test.bean.TestUser è¯·å¡«å†™ com.zengtengpeng.test# existParentPackage: com.zengtengpeng.test #å¤‡æ³¨ remark: "ç­çº§"</pre><blockquote><p>2.æ‰§è¡Œä»£ç </p></blockquote><pre>import com.zengtengpeng.autoCode.StartCode;import com.zengtengpeng.autoCode.config.AutoCodeConfig;import com.zengtengpeng.relation.oneToOne.BuildOneToOne;import com.zengtengpeng.relation.utils.RelationUtils;import com.zengtengpeng.autoCode.StartCode;import com.zengtengpeng.relation.utils.RelationUtils;public class Demo2OneToOne { public static void main(String[] args) { //æ™®é€šå†™æ³•// RelationUtils.oneToOne(StartCode.saxYaml(), new StartCode() {// @Override// public void custom(AutoCodeConfig autoCodeConfig) {// }// }, new BuildOneToOne() {// @Override// public void custom(AutoCodeConfig autoCodeConfig) {// }// }); //lambdaè¡¨è¾¾å¼å†™æ³• äºŒé€‰ä¸€ RelationUtils.oneToOne(StartCode.saxYaml("auto-code_one-to-one.yaml"), t-&gt;{}, rt -&gt; {}); }}</pre><ul><li>ç”Ÿæˆå®Œæ¯• ä¸€å¯¹å¤šä¼šåœ¨å•è¡¨çš„åŸºç¡€ä¸Šå†å¢åŠ 6ä¸ªæ¥å£(é‡‡ç”¨è¿½åŠ ä»£ç çš„æ–¹å¼,ä¸ç”¨æ‹…å¿ƒä»£ç è¦†ç›–é—®é¢˜) ä¸»è¡¨3ä¸ª å¤–è¡¨3ä¸ª ClazzController æ–°å¢</li></ul><pre> /** * çº§è”æŸ¥è¯¢(å¸¦åˆ†é¡µ) ç”¨æˆ·--ç­çº§ */ @ResponseBody @RequestMapping("clazz/selectUserAndClazz") public DataRes selectUserAndClazz(Clazz clazz,HttpServletRequest request,HttpServletResponse response){ return DataRes.success(clazzService.selectUserAndClazz(clazz)); } /** 	 * çº§è”æ¡ä»¶æŸ¥è¯¢ ç”¨æˆ·--ç­çº§ 	 */ 	@ResponseBody 	@RequestMapping("clazz/selectUserAndClazzByCondition") 	public DataRes selectUserAndClazzByCondition(Clazz clazz,HttpServletRequest request,HttpServletResponse response){ 		return DataRes.success(clazzService.selectUserAndClazzByCondition(clazz)); 	} 	/** 	 * çº§è”åˆ é™¤(æ ¹æ®ä¸»é”®åˆ é™¤) ç”¨æˆ·--ç­çº§ 	 */ 	@ResponseBody 	@RequestMapping("clazz/deleteUserAndClazz") 	public DataRes deleteUserAndClazz(Clazz clazz,HttpServletRequest request,HttpServletResponse response){ 		return DataRes.success(clazzService.deleteUserAndClazz(clazz)); 	}</pre><p>UserController å¢åŠ </p><pre> /** 	 * çº§è”æŸ¥è¯¢(å¸¦åˆ†é¡µ) ç”¨æˆ·--ç­çº§ 	 */ 	@ResponseBody 	@RequestMapping("user/selectUserAndClazz") 	public DataRes selectUserAndClazz(User user,HttpServletRequest request,HttpServletResponse response){ 		return DataRes.success(userService.selectUserAndClazz(user)); 	}   	/** 	 * çº§è”æ¡ä»¶æŸ¥è¯¢ ç”¨æˆ·--ç­çº§ 	 */ 	@ResponseBody 	@RequestMapping("user/selectUserAndClazzByCondition") 	public DataRes selectUserAndClazzByCondition(User user,HttpServletRequest request,HttpServletResponse response){ 		return DataRes.success(userService.selectUserAndClazzByCondition(user)); 	}   	/** 	 * çº§è”åˆ é™¤(æ ¹æ®ä¸»é”®åˆ é™¤) ç”¨æˆ·--ç­çº§ 	 */ 	@ResponseBody 	@RequestMapping("user/deleteUserAndClazz") 	public DataRes deleteUserAndClazz(User user,HttpServletRequest request,HttpServletResponse response){ 		return DataRes.success(userService.deleteUserAndClazz(user)); 	}</pre><p>ç”Ÿæˆçš„æ–‡ä»¶å¦‚ä¸‹</p><div class=pgc-img><img alt="Java ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨ auto-code" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a5f6373752c34e8cadb16453fc75c025><p class=pgc-img-caption></p></div><p>ä¸€å¯¹å¤š ä»£ç ç”Ÿæˆ one-to-Many (ä»£ç é‡‡ç”¨è¿½åŠ çš„æ–¹å¼.æ— éœ€æ‹…å¿ƒä»£ç è¢«è¦†ç›–)</p><blockquote><p>å‡å¦‚ test_user ä¸€ä¸ªç”¨æˆ· å¯¹åº” test_addr å¤šä¸ªæ”¶è´§åœ°å€</p></blockquote><pre> CREATE TABLE `test_user` ( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id', `name` varchar(50) DEFAULT NULL COMMENT 'åç§°', `age` int(3) DEFAULT NULL COMMENT 'å¹´é¾„', `status` int(2) DEFAULT NULL COMMENT '{"name":"çŠ¶æ€","1":"å¯ç”¨","0":"ç¦ç”¨"}', `birthday` date DEFAULT NULL COMMENT 'ç”Ÿæ—¥', `remarks` text COMMENT 'å¤‡æ³¨', `mun` decimal(20,2) DEFAULT NULL COMMENT 'æ•°å­—', `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´', `update_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8 COMMENT='æµ‹è¯•ç”¨æˆ·'; CREATE TABLE `test_addr` ( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ç”¨æˆ·æ”¶è´§åœ°å€id', `user_id` int(11) DEFAULT NULL COMMENT 'ç”¨æˆ·id', `addr_name` varchar(10) DEFAULT NULL COMMENT 'å§“å', `phone` varchar(30) DEFAULT NULL COMMENT 'æ‰‹æœºå·ç ', `addr` varchar(30) DEFAULT NULL COMMENT 'æ”¶è´§åœ°å€', `status` int(11) DEFAULT NULL COMMENT '{"name":"çŠ¶æ€","1":"å¯ç”¨","2":"åˆ é™¤"}', `create_time` datetime DEFAULT NULL COMMENT 'åˆ›å»ºæ—¶é—´', `update_time` datetime DEFAULT NULL COMMENT 'æ›´æ–°æ—¶é—´', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COMMENT='ç”¨æˆ·æ”¶è´§åœ°å€'</pre><blockquote><p>1.åŒç†å…ˆåœ¨ èµ„æºæ ¹è·¯å¾„(src/main/resources)åˆ›å»º auto-code_one-to-many.yaml æ–‡ä»¶,å…·ä½“å†…å®¹å¦‚ä¸‹</p></blockquote><pre>ç”±äºTestUserå·²ç»åœ¨ä¸€å¯¹ä¸€ç”Ÿæˆè¿‡ä»£ç äº†.æ‰€ä»¥ generate: falseåŒæ—¶å†™ä¸Šå·²ç»å­˜åœ¨çš„çˆ¶åŒ… existParentPackage: com.zengtengpeng.test datasourceConfig: #é©±åŠ¨åç§° driverClassName: com.mysql.jdbc.Driver #æ•°æ®åº“åç§° name: auto_code #jdbcé“¾æ¥ url: jdbc:mysql://127.0.0.1:3306/auto_code #æ•°æ®åº“ç”¨æˆ·å username: root #æ•°æ®åº“å¯†ç  password: 111111 globalConfig: #ç”Ÿæˆä»£ç çš„é¡¹ç›®è·¯å¾„ parentPath: E:\resource\workspaceJDB\auto-code-springboot-demo #ç”Ÿæˆä»£ç çš„çˆ¶åŒ… å¦‚çˆ¶åŒ…æ˜¯com.zengtengpeng.test controllerå°†åœ¨com.zengtengpeng.test.controllerä¸‹ bean å°†åœ¨com.zengtengpeng.test.beanä¸‹ ,service,daoåŒç† parentPack: com.zengtengpeng.test #æ˜¯å¦è¦†ç›–ç”Ÿæˆæ–‡ä»¶ å¦‚æœä¸ºtrueå°†ä¼šæŠŠä»¥å‰çš„æ–‡ä»¶è¦†ç›–æ‰ cover: false #xmlå­˜æ”¾çš„æ–‡ä»¶å¤¹é»˜è®¤ mybatisMapper xmlPath: mybatisMapper # è¡¨å…³ç³»é…ç½® ä¸€å¯¹ä¸€ ä¸€å¯¹å¤š å¤šå¯¹å¤š ä»£ç ç”Ÿæˆ é‡‡ç”¨è¿½åŠ çš„æ–¹å¼ relationConfig: #ä¸»è¡¨ primary: #æ•°æ®åº“è¡¨å dataName: test_user #åˆ«å: å¦‚æœä¸è®¾ç½®å°†é‡‡ç”¨é©¼å³°å‘½åæ³• test_user=TestUser beanName: User #ä¸»é”®åç§° primaryKey: id #æ˜¯å¦ç”Ÿæˆå•è¡¨ä»£ç  generate: false #å¦‚æœå•è¡¨ä»£ç å·²ç»ç”Ÿæˆ,è¯·å¡«å†™ä»£ç çš„çˆ¶åŒ…,æ²¡æœ‰åˆ™ä¸å¡«å†™ å¦‚ com.zengtengpeng.test.bean.TestUser è¯·å¡«å†™ com.zengtengpeng.test existParentPackage: com.zengtengpeng.test #å¤‡æ³¨ remark: "ç”¨æˆ·" #å¤–è¡¨ foreign: #æ•°æ®åº“è¡¨å dataName: test_addr #åˆ«å: å¦‚æœä¸è®¾ç½®å°†é‡‡ç”¨é©¼å³°å‘½åæ³• test_user=TestUser beanName: Addr #å¤–é”®åç§° å°±æ˜¯å·²å“ªä¸ªå­—æ®µå’Œä¸»è¡¨å…³è” å¡«å†™æ•°æ®åº“å­—æ®µå foreignKey: user_id #æ˜¯å¦ç”Ÿæˆå•è¡¨ä»£ç  é»˜è®¤æ˜¯true # generate: true #å¦‚æœå•è¡¨ä»£ç å·²ç»ç”Ÿæˆ,è¯·å¡«å†™ä»£ç çš„çˆ¶åŒ…,æ²¡æœ‰åˆ™ä¸å¡«å†™ å¦‚ com.zengtengpeng.test.bean.TestUser è¯·å¡«å†™ com.zengtengpeng.test # existParentPackage: com.zengtengpeng.test #å¤‡æ³¨ remark: "æ”¶è´§åœ°å€" </pre><blockquote><p>2.æ‰§è¡Œç”Ÿæˆä»£ç </p></blockquote><pre> import com.zengtengpeng.autoCode.StartCode; import com.zengtengpeng.relation.utils.RelationUtils; /** * ä¸€å¯¹å¤šç”Ÿæˆå®ä¾‹ test_user ä¸€ä¸ªç”¨æˆ· å¯¹åº” test_addr å¤šä¸ªæ”¶è´§åœ°å€ */ public class Demo3OneToMany { public static void main(String[] args) { //æ™®é€šå†™æ³• äºŒé€‰ä¸€ // RelationUtils.oneToMany(StartCode.saxYaml(), new StartCode() { // @Override // public void custom(AutoCodeConfig autoCodeConfig) { // // } // }, new BuildOneToMany() { // @Override // public void custom(AutoCodeConfig autoCodeConfig) { // // } // }); //lambdaè¡¨è¾¾å¼å†™æ³• äºŒé€‰ä¸€ RelationUtils.oneToMany(StartCode.saxYaml("auto-code_one-to-many.yaml"), t -&gt; {}, rt -&gt; {}); } }</pre><blockquote><p>3.ç”Ÿæˆå®Œæ¯• æ¥å£å’Œä¸€å¯¹ä¸€ä¸€æ ·</p></blockquote><p>å¤šå¯¹å¤š ä»£ç ç”Ÿæˆ many-to-many (ä»£ç é‡‡ç”¨è¿½åŠ çš„æ–¹å¼.æ— éœ€æ‹…å¿ƒä»£ç è¢«è¦†ç›–)</p><blockquote><p>å‡å¦‚ test_user å¤šä¸ªç”¨æˆ· å¯¹åº” test_role å¤šä¸ªè§’è‰²</p></blockquote><pre> CREATE TABLE `test_user` ( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id', `name` varchar(50) DEFAULT NULL COMMENT 'åç§°', `age` int(3) DEFAULT NULL COMMENT 'å¹´é¾„', `status` int(2) DEFAULT NULL COMMENT '{"name":"çŠ¶æ€","1":"å¯ç”¨","0":"ç¦ç”¨"}', `birthday` date DEFAULT NULL COMMENT 'ç”Ÿæ—¥', `remarks` text COMMENT 'å¤‡æ³¨', `mun` decimal(20,2) DEFAULT NULL COMMENT 'æ•°å­—', `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´', `update_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8 COMMENT='æµ‹è¯•ç”¨æˆ·'; CREATE TABLE `test_role` ( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'æµ‹è¯•è§’è‰²', `name` varchar(100) NOT NULL COMMENT 'è§’è‰²åç§°', `status` int(2) DEFAULT '0' COMMENT '{"name":"çŠ¶æ€","0":"å¯ç”¨","1":"ç¦ç”¨"}', `create_user_id` int(11) DEFAULT NULL COMMENT 'åˆ›å»ºè€…', `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´', `update_user_id` int(11) DEFAULT NULL COMMENT 'æ›´æ–°è€…', `update_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´', `dels` int(2) DEFAULT '0' COMMENT '{"name":"æ˜¯å¦åˆ é™¤","0":"æ­£å¸¸","1":"åˆ é™¤"}', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COMMENT='æµ‹è¯•è§’è‰²';  CREATE TABLE `test_user_role` ( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ç”¨æˆ·è§’è‰²å…³ç³»è¡¨', `user_id` int(11) DEFAULT NULL COMMENT 'ç”¨æˆ·id', `role_id` int(11) DEFAULT NULL COMMENT 'è§’è‰²id', `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=55 DEFAULT CHARSET=utf8 COMMENT='æµ‹è¯•ç”¨æˆ·è§’è‰²';</pre><blockquote><p>1.åŒç†å…ˆåœ¨ èµ„æºæ ¹è·¯å¾„(src/main/resources)åˆ›å»º auto-code.yaml æ–‡ä»¶,å…·ä½“å†…å®¹å¦‚ä¸‹</p></blockquote><pre> 1.ç”±äºTestUserå·²ç»åœ¨ä¸€å¯¹ä¸€ç”Ÿæˆè¿‡ä»£ç äº†.æ‰€ä»¥ generate: false åŒæ—¶å†™ä¸Š TestUserå­˜åœ¨çš„çˆ¶åŒ… existParentPackage: com.zengtengpeng.test 2.æ³¨æ„å¤šå¯¹å¤šçš„å¤–è¡¨çš„ foreignKey åŒæ ·æ˜¯è¯¥è¡¨çš„ä¸»é”® 3.thirdpartyä¸ºå¤šå¯¹å¤šçš„ç¬¬ä¸‰è¡¨primaryKeyå¯¹åº”ä¸»è¡¨(primary)çš„primaryKey.  foreignKeyå¯¹åº”å¤–è¡¨(foreign)çš„foreignKey datasourceConfig: #é©±åŠ¨åç§° driverClassName: com.mysql.jdbc.Driver #æ•°æ®åº“åç§° name: auto_code #jdbcé“¾æ¥ url: jdbc:mysql://127.0.0.1:3306/auto_code #æ•°æ®åº“ç”¨æˆ·å username: root #æ•°æ®åº“å¯†ç  password: 111111 globalConfig: #ç”Ÿæˆä»£ç çš„é¡¹ç›®è·¯å¾„ parentPath: E:\resource\workspaceJDB\auto-code-springboot-demo #ç”Ÿæˆä»£ç çš„çˆ¶åŒ… å¦‚çˆ¶åŒ…æ˜¯com.zengtengpeng.test controllerå°†åœ¨com.zengtengpeng.test.controllerä¸‹ bean å°†åœ¨com.zengtengpeng.test.beanä¸‹ ,service,daoåŒç† parentPack: com.zengtengpeng.test #æ˜¯å¦è¦†ç›–ç”Ÿæˆæ–‡ä»¶ å¦‚æœä¸ºtrueå°†ä¼šæŠŠä»¥å‰çš„æ–‡ä»¶è¦†ç›–æ‰ cover: false #xmlå­˜æ”¾çš„æ–‡ä»¶å¤¹é»˜è®¤ mybatisMapper xmlPath: mybatisMapper # è¡¨å…³ç³»é…ç½® ä¸€å¯¹ä¸€ ä¸€å¯¹å¤š å¤šå¯¹å¤š ä»£ç ç”Ÿæˆ é‡‡ç”¨è¿½åŠ çš„æ–¹å¼ relationConfig: #ä¸»è¡¨ primary: #æ•°æ®åº“è¡¨å dataName: test_user #åˆ«å: å¦‚æœä¸è®¾ç½®å°†é‡‡ç”¨é©¼å³°å‘½åæ³• test_user=TestUser beanName: User #ä¸»é”®åç§° primaryKey: id #æ˜¯å¦ç”Ÿæˆ å•è¡¨ ä»£ç  generate: false #å¦‚æœå•è¡¨ä»£ç å·²ç»ç”Ÿæˆ,è¯·å¡«å†™ä»£ç çš„çˆ¶åŒ… å¦‚ com.zengtengpeng.test.bean.TestUser è¯·å¡«å†™ com.zengtengpeng.test existParentPackage: com.zengtengpeng.test #å¤‡æ³¨ remark: "ç”¨æˆ·" #å¤–è¡¨ foreign: #æ•°æ®åº“è¡¨å dataName: test_role #åˆ«å: å¦‚æœä¸è®¾ç½®å°†é‡‡ç”¨é©¼å³°å‘½åæ³• test_user=TestUser beanName: Role #å¤–é”®åç§° å°±æ˜¯å·²å“ªä¸ªå­—æ®µå’Œä¸»è¡¨å…³è” å¡«å†™æ•°æ®åº“å­—æ®µå foreignKey: id #å¤‡æ³¨ remark: "è§’è‰²" #ç¬¬ä¸‰è¡¨ -å½“ç”Ÿæˆå¤šå¯¹å¤šä»£ç æ—¶è¯¥å‚æ•°å¿…å¡«.å¦åˆ™ä¼šå¿½ç•¥è¯¥å‚æ•° thirdparty: #æ•°æ®åº“è¡¨å dataName: test_user_role #ä¸»é”®åç§° è¯¥å­—æ®µå°†å’Œä¸»è¡¨å…³è”èµ·æ¥ primaryKey: user_id #å¤–é”®åç§° è¯¥å­—æ®µå°†å’Œå¤–è¡¨é…ç½®å…³è”èµ·æ¥ foreignKey: role_id #å¤‡æ³¨ remark: "ç”¨æˆ·è§’è‰²"</pre><blockquote><p>2 .æ‰§è¡Œä»£ç </p></blockquote><pre>import com.zengtengpeng.autoCode.StartCode;import com.zengtengpeng.relation.utils.RelationUtils;/** * å¤šå¯¹å¤šç”Ÿæˆå®ä¾‹ test_user å¤šä¸ªç”¨æˆ· å¯¹åº” test_role å¤šä¸ªè§’è‰² */public class Demo4ManyToMany { public static void main(String[] args) { //æ™®é€šå†™æ³• /*RelationUtils.manyToMany(StartCode.saxYaml(), new StartCode() { @Override public void custom(AutoCodeConfig autoCodeConfig) { } }, new BuildManyToMany() { @Override public void custom(AutoCodeConfig autoCodeConfig) { } });*/ //lambdaè¡¨è¾¾å¼å†™æ³• äºŒé€‰ä¸€ RelationUtils.manyToMany(StartCode.saxYaml("auto-code_many-to-many.yaml"), t-&gt;{}, rt -&gt; {}); }}</pre><blockquote><p>3.ç”Ÿæˆå®Œæ¯• æ¥å£åœ¨ä¸€å¯¹ä¸€çš„åŸºç¡€ä¸Šå¢åŠ äº†2ä¸ªæ–¹æ³• ä¸»è¡¨</p></blockquote><pre>//æ ¹æ®å¤–è¡¨idæŸ¥è¯¢ä¸»è¡¨è¡¨æ‰€æœ‰æ•°æ®(å¸¦åˆ†é¡µ)@RequestMapping("testUs/selectTestUsByTestRo")	@ResponseBody	public DataRes selectTestUsByTestRo(HttpServletRequest request,HttpServletResponse response,TestUs testUs){		return DataRes.success(testUsService.selectTestUsByTestRo(testUs));	}</pre><p>å¤–è¡¨</p><pre> /** 	 * æ ¹æ®ä¸»è¡¨idæŸ¥è¯¢å¤–è¡¨æ‰€æœ‰æ•°æ®(å¸¦åˆ†é¡µ) 	 */ 	@Auth("testRo/selectAllByPaging") 	@RequestMapping("testRo/selectTestRoByTestUs") 	@ResponseBody 	public DataRes selectTestRoByTestUs(HttpServletRequest request,HttpServletResponse response,TestRo testRo){ 		return DataRes.success(testRoService.selectTestRoByTestUs(testRo)); 	}</pre><p>ç”Ÿæˆä»£ç æ³¨æ„äº‹é¡¹</p><pre>1.åˆ›å»ºè¡¨ç»“æ„æ—¶å¦‚æœå†™ä¸Šè¡¨ä¸å­—æ®µçš„æ³¨é‡Šå°†å¤§å¤§å¢åŠ ç¨‹åºçš„å¯è¯»æ€§.æˆ‘ä¼šå°†æ³¨é‡Šå†™åˆ°beanä¸Šé¢.2.é…ç½®æ–‡ä»¶ auto-code.yamlåç§°éšæ„å®š.é»˜è®¤ä½¿ç”¨ auto-code.yaml å½“ä½¿ç”¨ auto-code.yamlæ—¶StartCode.saxYaml("auto-code_many-to-many.yaml") å¯ä»¥ç›´æ¥å†™æˆ StartCode.saxYaml().4.å¦‚æœæ³¨é‡Šä¸ºjsoné”®å€¼å¯¹å­—ç¬¦ä¸²æˆ‘å°†ä¼šåœ¨å®ä½“ç±»ç”Ÿæˆä¸€ä¸ªå­—å…¸æ–¹æ³•å¦‚: {"1":"å¯ç”¨","0":"ç¦ç”¨"} å°†ä¼šåœ¨å®ä½“ç±»é‡Œé¢ç”Ÿæˆ: public String getStatus_(){		if(MyStringUtils.isEmpty(status)){			 return "";		}else if(status.equals("1")){			return "å¯ç”¨";		}else if(status.equals("0")){			return "ç¦ç”¨";		}		return "";	}</pre><p>spring-bootå¦‚ä½•ä½¿ç”¨ å®ä¾‹åœ°å€</p><blockquote><p>1.é›†æˆmybatis-spring-boot-starter,spring-boot-starter-web è¿™é‡Œå°±ä¸å†é˜è¿°</p><p>2.ç”±äºåˆ†é¡µæ’ä»¶ä½¿ç”¨äº† pageHelper æ‰€ä»¥éœ€è¦é›†æˆä¸‹,ä¸é›†æˆå°†å¯¼è‡´åˆ†é¡µå¤±æ•ˆ,é›†æˆéå¸¸ç®€å• å®˜æ–¹SpringBooté›†æˆåœ°å€</p></blockquote><pre>1.åŠ å…¥pom.xml jaråŒ…&lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.2.10&lt;/version&gt;&lt;/dependency&gt;2.åœ¨application.propertiesåŠ å…¥é…ç½®#pagehelperæ’ä»¶#logging.level.com.example.demo.dao=DEBUGpagehelper.helperDialect=mysqlpagehelper.reasonable=truepagehelper.supportMethodsArguments=truepagehelper.params=count=countSqlpagehelper.page-size-zero=true3.è‡³æ­¤é›†æˆå®Œæ¯•</pre><p>java-web å®ä¾‹åœ°å€</p><blockquote><p>ç”±äºåˆ†é¡µæ’ä»¶ä½¿ç”¨äº† pageHelper æ‰€ä»¥éœ€è¦é›†æˆä¸‹,ä¸é›†æˆå°†å¯¼è‡´åˆ†é¡µå¤±æ•ˆ å®˜æ–¹ä¼ ç»Ÿwebå·¥ç¨‹é›†æˆåœ°å€</p></blockquote><pre>1.ç”±äºå·¥ç¨‹ä¸­ä»¥åŠå¼•å…¥pageHelperçš„jaråŒ…æ‰€ä»¥ç›´æ¥åœ¨MyBatis-Configuration.xmlä¸­åŠ å…¥&lt;plugins&gt; &lt;plugin interceptor="com.github.pagehelper.PageInterceptor"&gt; &lt;/plugin&gt;&lt;/plugins&gt;2.é›†æˆå®Œæ¯•</pre><p>è¿›é˜¶ç¯‡ å¦‚ä½•è‡ªå®šä¹‰æ–¹æ³• ä»£ç åœ°å€</p><p>å•è¡¨å¦‚ä½•è‡ªå®šä¹‰</p><blockquote><p>åœ¨ com.zengtengpeng.autoCode.createåŒ…ä¸‹,æœ‰6ä¸ªæ¥å£ç±» BuildBean,BuildController,BuildDao,BuildService,BuildServiceImpl,BuildXml.æ¯ä¸ªæ¥å£åº•ä¸‹éƒ½æœ‰ä¸ªæœªå®ç°çš„ custom æ–¹æ³•. å®ç°customå°±å¯ä»¥,å¦‚ä¸‹ä»£ç å°±æ˜¯è‡ªå®šä¹‰Controllerä»£ç ,å…¶ä»–çš„æ¥å£åŒç†</p></blockquote><pre>import com.zengtengpeng.autoCode.bean.BuildJavaField;import com.zengtengpeng.autoCode.bean.BuildJavaMethod; import com.zengtengpeng.autoCode.config.AutoCodeConfig;import com.zengtengpeng.autoCode.config.BuildJavaConfig;import com.zengtengpeng.autoCode.create.BuildController;import java.util.ArrayList;import java.util.List;/** * é‡å†™controller è‡ªå®šä¹‰é…ç½® */public class TestBuildController implements BuildController { @Override public BuildJavaConfig custom(AutoCodeConfig autoCodeConfig) { BuildJavaConfig buildJavaConfig=new BuildJavaConfig(); List&lt;String&gt; imports=new ArrayList&lt;&gt;(); imports.add("java.util.HashMap"); imports.add("java.util.Hashtable"); imports.add("java.util.Collections"); //è‡ªå®šä¹‰éœ€è¦å¯¼å…¥çš„ç±» buildJavaConfig.setImports(imports); List&lt;BuildJavaMethod&gt; methods=new ArrayList&lt;&gt;(); BuildJavaMethod method=new BuildJavaMethod(); method.setContent("\nSystem.out.println(\"ç”Ÿæˆå®Œæ¯•\");"); method.setMethodName("test"); method.setMethodType("public"); method.setReturnType("void"); List&lt;String&gt; params=new ArrayList&lt;&gt;(); params.add("String test"); method.setParams(params); method.setRemark("æµ‹è¯•ç”Ÿæˆæ–¹æ³•"); List&lt;String&gt; ann=new ArrayList&lt;&gt;(); ann.add("@SuppressWarnings(\"\")"); method.setAnnotation(ann); methods.add(method); //è‡ªå®šä¹‰æ–¹æ³• å°†åœ¨ç±»ç”Ÿæˆå¦‚ä¸‹æ–¹æ³• //@SuppressWarnings("") //	public void test(String test){ // //System.out.println("ç”Ÿæˆå®Œæ¯•"); //	} buildJavaConfig.setBuildJavaMethods(methods); List&lt;BuildJavaField&gt; fileds=new ArrayList&lt;&gt;(); BuildJavaField jf=new BuildJavaField(); jf.setFiledType("private"); jf.setReturnType("String"); jf.setFiledName("test"); jf.setRemark("æµ‹è¯•ç”Ÿæˆå­—æ®µ"); jf.setInit("\"åˆå§‹åŒ–å­—æ®µ\""); ann=new ArrayList&lt;&gt;(); ann.add("@SuppressWarnings(\"\")"); jf.setAnnotation(ann); fileds.add(jf); //è‡ªå®šä¹‰å­—æ®µ å°†åœ¨ç±»ç”Ÿæˆå¦‚ä¸‹å­—æ®µ //@SuppressWarnings("") //	private String test ="åˆå§‹åŒ–å­—æ®µ"; buildJavaConfig.setBuildJavaFields(fileds); //è‡ªå®šä¹‰ç»§æ‰¿ ç±»å•ç»§æ‰¿ æ¥å£å¤šç»§æ‰¿ List&lt;String&gt; ex=new ArrayList&lt;&gt;(); ex.add("Object"); buildJavaConfig.setExtend(ex); //è‡ªå®šä¹‰ å®ç° ç±»å¤šå®ç°, æ¥å£æ²¡æœ‰å®ç°// buildJavaConfig.setImplement(null); return buildJavaConfig; }}</pre><blockquote><p>StartCode ä¸ºç”Ÿæˆå•è¡¨çš„æ€»å¼€å…³,é‡Œé¢æœ‰ BuildBean,BuildController,BuildDao,BuildService, BuildServiceImpl,BuildXml å‡ ä¸ªæ¥å£çš„é»˜è®¤å®ç°.å¦‚éœ€è‡ªå®šä¹‰,é‡å†™é»˜è®¤å®ç°çš„æ–¹æ³•.</p></blockquote><pre>/** * è‡ªå®šä¹‰å•è¡¨æ–¹æ³• */public class CustomSimple { public static void main(String[] args) { StartCode startCode=new StartCode() { @Override public void custom(AutoCodeConfig autoCodeConfig) { }  @Override public BuildController BuildController() { //è‡ªå®šä¹‰Controlleræ–¹æ³• return new TestBuildController(); } }; startCode.start(StartCode.saxYaml("auto-code_simple.yaml")); }}</pre><p>è¡¨å…³ç³»è‡ªå®šä¹‰</p><blockquote><p>è¡¨å…³ç³»åœ¨å•è¡¨çš„åŸºç¡€ä¸Šæ‰©å±•äº† ä¸»è¡¨,å¤–è¡¨ ä»£ç åœ¨ com.zengtengpeng.relation ä¸‹çš„ manyToMany(å¤šå¯¹å¤š),oneToMany(ä¸€å¯¹å¤š),oneToOne(ä¸€å¯¹ä¸€)å­åŒ…,æ¯ä¸ªå­åŒ…æœ‰å…­ä¸ªç”Ÿæˆç±»çš„æ¥å£.é‡å†™ä¹Ÿæ˜¯åªéœ€è¦å®ç°å¯¹åº”çš„æ¥å£çš„ custom æ–¹æ³•å°±è¡Œ.ä¸‹é¢ä¸¾ä¾‹é‡å†™ä¸€å¯¹ä¸€çš„controlleræ–¹æ³•</p></blockquote><pre>import com.zengtengpeng.autoCode.bean.BuildJavaField;import com.zengtengpeng.autoCode.bean.BuildJavaMethod;import com.zengtengpeng.autoCode.config.AutoCodeConfig;import com.zengtengpeng.autoCode.config.BuildJavaConfig;import com.zengtengpeng.relation.oneToOne.BuildOneToOneController;import java.util.ArrayList;import java.util.List;/** * è‡ªå®šä¹‰one-to-one controller */public class TestBuildOneToOneController implements BuildOneToOneController { @Override public void custom(AutoCodeConfig autoCodeConfig, BuildJavaConfig primaryBuildJavaConfig, BuildJavaConfig foreignBuildJavaConfig) { List&lt;String&gt; imports=new ArrayList&lt;&gt;(); imports.add("java.util.HashMap"); imports.add("java.util.Hashtable"); imports.add("java.util.Collections"); //è‡ªå®šä¹‰éœ€è¦å¯¼å…¥çš„ç±» primaryBuildJavaConfig.setImports(imports); List&lt;BuildJavaMethod&gt; methods=new ArrayList&lt;&gt;(); BuildJavaMethod method=new BuildJavaMethod(); method.setContent("\nSystem.out.println(\"ç”Ÿæˆå®Œæ¯•\");"); method.setMethodName("test"); method.setMethodType("public"); method.setReturnType("void"); List&lt;String&gt; params=new ArrayList&lt;&gt;(); params.add("String test"); method.setParams(params); method.setRemark("æµ‹è¯•ç”Ÿæˆæ–¹æ³•"); List&lt;String&gt; ann=new ArrayList&lt;&gt;(); ann.add("@SuppressWarnings(\"\")"); method.setAnnotation(ann); methods.add(method); //è‡ªå®šä¹‰æ–¹æ³• å°†åœ¨ç±»ç”Ÿæˆå¦‚ä¸‹æ–¹æ³• //@SuppressWarnings("") //	public void test(String test){ // //System.out.println("ç”Ÿæˆå®Œæ¯•"); //	} primaryBuildJavaConfig.setBuildJavaMethods(methods); List&lt;BuildJavaField&gt; fileds=new ArrayList&lt;&gt;(); BuildJavaField jf=new BuildJavaField(); jf.setFiledType("private"); jf.setReturnType("String"); jf.setFiledName("test"); jf.setRemark("æµ‹è¯•ç”Ÿæˆå­—æ®µ"); jf.setInit("\"åˆå§‹åŒ–å­—æ®µ\""); ann=new ArrayList&lt;&gt;(); ann.add("@SuppressWarnings(\"\")"); jf.setAnnotation(ann); fileds.add(jf); //è‡ªå®šä¹‰å­—æ®µ å°†åœ¨ç±»ç”Ÿæˆå¦‚ä¸‹å­—æ®µ //@SuppressWarnings("") //	private String test ="åˆå§‹åŒ–å­—æ®µ"; primaryBuildJavaConfig.setBuildJavaFields(fileds); //è‡ªå®šä¹‰ç»§æ‰¿ ç±»å•ç»§æ‰¿ æ¥å£å¤šç»§æ‰¿ List&lt;String&gt; ex=new ArrayList&lt;&gt;(); ex.add("Object"); primaryBuildJavaConfig.setExtend(ex); }}</pre><blockquote><p>BuildManyToMany(æ„å»ºå¤šå¯¹å¤š),BuildOneToMany(æ„å»ºä¸€å¯¹å¤š),BuildOneToOne(æ„å»ºä¸€å¯¹ä¸€) æ˜¯å„ä¸ªè¡¨å…³ç³»å®ç°çš„æ€»å¼€å…³. é‡Œé¢æœ‰ Build...Controller Build...Bean ç­‰å…­ä¸ªç›¸å…³æ¥å£çš„å…·ä½“å®ç°.æˆ‘ä»¬ä¹Ÿæ˜¯åªè¦é‡å†™å¯¹åº”çš„æ–¹æ³•å°±è¡Œ å¦‚ä¸‹é‡å†™ä¸€å¯¹ä¸€çš„controller.åªéœ€è¦é‡å†™ BuildOneToOneä¸‹çš„ buildOneToOneControllerå…·ä½“å®ç°å³å¯.å…¶ä»–çš„åŒç†</p></blockquote><pre> import com.zengtengpeng.autoCode.StartCode; import com.zengtengpeng.autoCode.config.AutoCodeConfig; import com.zengtengpeng.demo.test.TestBuildOneToOneController; import com.zengtengpeng.relation.oneToOne.BuildOneToOne; import com.zengtengpeng.relation.oneToOne.BuildOneToOneController; import com.zengtengpeng.relation.utils.RelationUtils;  /** * å¤šè¡¨è‡ªå®šä¹‰ */ public class CustomRelation { public static void main(String[] args) { //å¦‚æœå•è¡¨æƒ³è¦è‡ªå®šä¹‰è¯·å‚è§ CustomSimple ç±». é‡Œé¢æ˜¯å¦‚æœå®šä¹‰å•è¡¨çš„ StartCode startCode = t -&gt; { };  //å¤šè¡¨è‡ªå®šä¹‰ BuildOneToOne buildOneToOne = new BuildOneToOne() { @Override public void custom(AutoCodeConfig autoCodeConfig) {  } @Override public BuildOneToOneController buildOneToOneController() { //Controller autoCodeConfig å…¨å±€é…ç½® primaryBuildJavaConfigä¸»è¡¨çš„è‡ªå®šä¹‰é…ç½® foreignBuildJavaConfig å¤–è¡¨çš„è‡ªå®šä¹‰é…ç½® return new TestBuildOneToOneController(); } }; RelationUtils.oneToOne(StartCode.saxYaml("auto-code_one-to-one.yaml"), startCode, buildOneToOne); } }</pre></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'ç”Ÿæˆå™¨','Java','ä»£ç '</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/ef985079.html alt="Java é€šç”¨ä»£ç ç”Ÿæˆå™¨å…‰ 1.5.0 Kama (é¡¿æ‚Ÿ)å‘å¸ƒï¼Œå†…å«å¼€å‘è€…æ‰‹å†Œ" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/00f13030-6d86-4a2f-9ba4-698b919cf0fa style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/ef985079.html title="Java é€šç”¨ä»£ç ç”Ÿæˆå™¨å…‰ 1.5.0 Kama (é¡¿æ‚Ÿ)å‘å¸ƒï¼Œå†…å«å¼€å‘è€…æ‰‹å†Œ">Java é€šç”¨ä»£ç ç”Ÿæˆå™¨å…‰ 1.5.0 Kama (é¡¿æ‚Ÿ)å‘å¸ƒï¼Œå†…å«å¼€å‘è€…æ‰‹å†Œ</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>