<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>印刷质量缺陷的视觉检测原理概述 | 极客快訊</title><meta property="og:title" content="印刷质量缺陷的视觉检测原理概述 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/08950fffb8f447888dbe20c0bf9e672f"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bfbcef65.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bfbcef65.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bfbcef65.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bfbcef65.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bfbcef65.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bfbcef65.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bfbcef65.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bfbcef65.html><meta property="article:published_time" content="2020-11-14T21:05:55+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:55+08:00"><meta name=Keywords content><meta name=description content="印刷质量缺陷的视觉检测原理概述"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/bfbcef65.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>印刷质量缺陷的视觉检测原理概述</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><blockquote class=pgc-blockquote-abstract><p>作者：白杨</p><p>来源：公众号<a class=tteditor-mention data-concern-id data-id data-name=3D视觉工坊 data-uid=78756497532>@3D视觉工坊</a></p></blockquote><h1 class=pgc-h-arrow-right><strong>一、应用背景</strong></h1><p>印刷品作为产品包装的一种主要形式，具有外观精美、清洁卫生、成本低廉、使用方便等优点，在众多行业得到了广泛的应用，其特点是材质多样、工艺复杂、质量要求高。</p><p>在本问题域中，印刷品主要涉及三个主要类型：不干胶标签、烟盒包装和塑料薄膜软包装。其中，不干胶标签主要包括：药品标签、电子产品标签、日化品标签、食品标签；烟盒包装包括：软盒包装和硬盒包装；塑料薄膜软包装主要包括：药品包装、食品包装、日化品包装。标签、烟包和软包装典型的产品图像如图1～图3所示。</p><div class=pgc-img><img alt=印刷质量缺陷的视觉检测原理概述 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/08950fffb8f447888dbe20c0bf9e672f><p class=pgc-img-caption></p></div><p>图 1 药品标签</p><div class=pgc-img><img alt=印刷质量缺陷的视觉检测原理概述 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7380a6d12a75472eb099ab694d70fcf1><p class=pgc-img-caption></p></div><p>图 2 烟包</p><div class=pgc-img><img alt=印刷质量缺陷的视觉检测原理概述 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/095dfc92af404993a2d284d65695d886><p class=pgc-img-caption></p></div><p>图 3 塑料软包装</p><p>印刷品生产过程中可能会产生各种各样的缺陷，如墨点、异物、文字残缺、漏印、色差、套印不准、脏点、刀丝、拖墨、划伤、溢胶、气泡等。这些缺陷一旦出现在产品包装上，产品视觉观感将大打折扣，严重影响产品的品牌、降低客户满意度。</p><p>目前，印刷企业主要以频闪灯照明、人工粗略局部抽检进行质量控制。由于人眼的局限性，质量得不到有效控制。随着用户对产品品质要求的不断提高以及行业竞争的加剧，传统的以人工抽检为主的质量检测手段已经严重制约了企业竞争力的提高，用自动化质量检测设备代替人工是必然趋势。</p><p>目前，市场中已经出现了多种自动化质量检测系统，大都基于视觉图像进行产品外观质量检测。总体而言，国外产品由于综合性能具有较大优势，占据着大部分高端市场。国内产品凭借价格和服务优势，占据着中、低端市场。未来，国内产品要在检测速度、检测能力、易用性、产品外观、可靠性等方面进行全面提升，才能更好地服务国内客户，乃至开拓国际市场。因此，产品技术升级迫在眉睫。</p><h1 class=pgc-h-arrow-right><strong>二、检测原理</strong></h1><p>典型的印刷品检测算法主要包括三大类：</p><p>(1)<strong>有参照判决</strong>。将被检测图像与标准模型比对，包括图像级的逐点比对，特征级的特征比对。标准模板的获取方式，包括基于PDF设计文件和基于好品统计两类。</p><p>(2)<strong>无参照校验</strong>。根据事先定义的产品特征，检测图像中指定区域是否存在违反规则的情况。</p><p>(3)<strong>混合型判决</strong>。综合运用标准模板比对和基于规则的判决两种方法。</p><p>目前系统缺陷检测选取了“混合型判决”的方法：以无参照的方法检测刀丝缺陷（<strong>针对型检测</strong>），以有参照的方法检测文字残缺、偏色、墨点、漏白、套印不良等缺陷（<strong>通用型检测</strong>）。</p><p>产品的使用过程包括“建模”和“检测”两个主要环节。主要流程如图4所示。</p><div class=pgc-img><img alt=印刷质量缺陷的视觉检测原理概述 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3e647d62af4a42dbb2bf594b4bd808ca><p class=pgc-img-caption></p></div><p>图 4 印刷品缺陷检测系统工作流程示意图</p><p>其中，“建模”环节由质量管理人员（QA）或者印刷机机长负责，主要操作步骤包括：产品基本资料输入、标准产品图像获取、设置检测范围、划分特殊检测区域（配准区域、字符区域、刀丝区域、屏蔽区域等）、设置检测标准及相关参数。建模完成后相关数据将保存到统一的数据服务器中，该数据通常称为“模板”。“检测”环节由印刷机长或者普通操作人员负责，主要是完成分辨率标定和进行产品缺陷检测。</p><p>系统检测算法基本流程如图5所示。</p><div class=pgc-img><img alt=印刷质量缺陷的视觉检测原理概述 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/e832d87fdd824ffd9c335015241afb3f><p class=pgc-img-caption></p></div><p>图 5 印刷品缺陷检测算法流程示意图</p><h1 class=pgc-h-arrow-right><strong>三、</strong><strong>针对型</strong><strong>检测算法</strong></h1><p>拉丝、浅脏、散斑、串色，这类缺陷通用型检测难以检查出来，需要针对性提取其的特征才能查出来。</p><div class=pgc-img><img alt=印刷质量缺陷的视觉检测原理概述 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c50de218de574f5397354b82e89c246d><p class=pgc-img-caption></p></div><p>拉丝：一般只有一两个像素宽度，但是长度较长，颜色较浅，基于点对点比较的通用性算法难以检测这类缺陷，需要从不同颜色分量、纹理、对比度、纵向低频横向高频等多个维度提取特征进行检测。</p><p>浅脏：这类缺陷颜色较浅、面积较大，但是如果转换到另一个颜色空间，则缺陷会明显的突出出来，这类缺陷需要进行特殊的颜色转换才能查出来。</p><p>散斑：这类缺陷表现为不连续，单个斑点缺陷不大，但是联合起则较大，对于距离一两个像素较近的散斑，则通过数学形态学的方法可以解决，距离较大的散斑则可通过颜色及距离两个维度进行聚类。</p><p>颜色测量：在印刷过程中由于不同墨键位置上墨量不同、不同区域版压不同、不同时间温度不同会导致印出产品颜色与标准样有一定的差异。</p><div class=pgc-img><img alt=印刷质量缺陷的视觉检测原理概述 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5ce2e79a9855456186124571e3f2a89d><p class=pgc-img-caption></p></div><p>通过标准白板及专有色卡对采集系统进行标定得到RGB到LAB空间的颜色转换模型，把实时印品不同区域不同颜色的LAB值与标准样本对应区的LAB值比较得到色差△E。</p><h1 class=pgc-h-arrow-right><strong>四、通用型检测算法</strong></h1><p>通用型检测算法，即基于标准模板比对的算法，一般用于检测灰度或者颜色差异比较大、面积稍大的各种缺陷。</p><p>算法原理：分为离线和在线两个步骤。</p><p>离线：通过定位校正实时图像与模板图像的位置偏差，把校正后的合格的图像作为样品集训练出大小模板；</p><p>在线：通过定位校正实时图像，比较实时图像与大小模板每个像素之间的像素值，并计入一个错误值，若样品像素在可接受的范围，其错误值为零，若超过了此范围，就由错误加权计算出其错误值，并进行连通性分析得到Blob、对Blob进行面积、占空比、能量等形状特征分析识别缺陷。</p><p>1)大小模板如何生成？</p><div class=pgc-img><img alt=印刷质量缺陷的视觉检测原理概述 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bec40e620b9b4b329680a712cdff74c5><p class=pgc-img-caption></p></div><p>2)错误值如何计算？</p><p><br></p><div class=pgc-img><img alt=印刷质量缺陷的视觉检测原理概述 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5b24244e4019439d9daae6a1dd09ee1a><p class=pgc-img-caption></p></div><p>根据当前检测图像与模板进行逐点灰度值比较，找出大于大模板图像灰度值（漏印或墨浅）点然后进行加权计算，生成漏印图像；找出小于小模板图像灰度值（脏点或墨浓等）的点进行加权计算，生成脏点图像。错误值根据Tolerance（容忍度）、STEP（步长参数）、GAIN（增益参数）、LIMIT（范围参数）进行计算。</p><p>通常情况下，由于产品中的字符区域带有很多重要信息，因此对于字符区域缺陷的检测往往要比其它区域更加严格。典型的字符缺陷包括：漏印、脏点、针孔，分别如下图所示。</p><div class=pgc-img><img alt=印刷质量缺陷的视觉检测原理概述 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/076b02b6ff774a2ea298d2e0ac52d358><p class=pgc-img-caption></p></div><p>字符区域漏印缺陷</p><div class=pgc-img><img alt=印刷质量缺陷的视觉检测原理概述 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ce43f87794ec48809f3fb79348574d16><p class=pgc-img-caption></p></div><p>字符上针孔缺陷</p><div class=pgc-img><img alt=印刷质量缺陷的视觉检测原理概述 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a7934a73fb5a435ea698bae0fb903b76><p class=pgc-img-caption></p></div><p>字符区域墨点缺陷</p><p>对字符区域进行特殊的检测，基于现有的图像灰度比对技术基本是可以解决的，但要进行字符区域缺陷检测，前提是：必须在“建模”阶段精确划分出字符区域。目前，这个任务主要是由人工通过建模软件来完成。考虑到不同印刷品，字符颜色、粗细、种类等千差万别，完全依靠手工建模，存在着工作量大、操作繁琐、容易疲劳且带有很大的主观性，因此<strong>必须考虑采用智能化的方法进行字符区域自动提取（下篇再做详细分析）。</strong></p><h1 class=pgc-h-arrow-right><strong>五、总结</strong></h1><p>该篇详细介绍了印刷质量缺陷的检测原理，分为通用性检测算法和针对性检测算法。其中通用性检测算法比较有代表性，不仅仅局限于印刷品的检测，其他很多行业都可以应用，详细的实现细节可参考halcon的print_check.hdev例子。</p><p><span style="color:#b2b2b2;--tt-darkmode-color: #A3A3A3">本文仅做学术分享，如有侵权，请联系删文。</span></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'质量','视觉','检测'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>