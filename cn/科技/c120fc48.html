<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>RS-485接口器件通讯无故障偏置电路的原理和设计 | 极客快訊</title><meta property="og:title" content="RS-485接口器件通讯无故障偏置电路的原理和设计 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/7d0573b7ad424060b2f8726ec14ff926"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c120fc48.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c120fc48.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c120fc48.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c120fc48.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c120fc48.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c120fc48.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c120fc48.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c120fc48.html><meta property="article:published_time" content="2020-11-14T21:01:50+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:50+08:00"><meta name=Keywords content><meta name=description content="RS-485接口器件通讯无故障偏置电路的原理和设计"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/c120fc48.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>RS-485接口器件通讯无故障偏置电路的原理和设计</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>RS-485接口<strong>通信</strong>在某些情况下，例如当一个驱动器释放总线给另一个驱动器时，会出现短时间总线上没有驱动电流的情况。此时，两端的匹配电阻会将差分总线电压放至0V，这对于许多RS-485接收器来说是一个未定义的输入电平。对于这种未定义的输入电平，接收器可能会输出错误的逻辑状态，或在更糟的情况下发生振荡。振荡会被控制器误解为不断重复的通讯开始位，导致控制器浪费宝贵的带宽去响应这些并非真正的通讯请求。而故障安全总线偏置<strong>电路</strong>是解决此问题的方法之一。</p><p>注：下文中出现的</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7d0573b7ad424060b2f8726ec14ff926><p class=pgc-img-caption></p></div><p>被动<strong>元器件</strong>通讯无故障偏置电路是当驱动总线上没有驱动电流时（见图1），通过上拉、端接和下拉电阻组成的电阻网络进行分压操作提供一个差分直流总线电压VAB，进而保证通讯安全无故障。</p><p>如果要驱动所有接口器件输出达到定义的高电平空闲状态，VAB必须高于最大输入阈值VIT-MAX 。此外，考虑到在恶劣的工业环境中运行的情况，应该增加足够的噪声容限使得VAB = VIT -MAX + VNoise。</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a0ebaff976f4475ba47873572a2d97b5><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a38631faa6544de299b27264b86f15dd><p class=pgc-img-caption>图1 适用于短至中等总线距离的通讯安全无故障偏置电阻网络</p></div><p>本文会帮助系统工程师设计成功的通讯安全无故障偏置网络。通过提供计算公式，可以帮助计算电阻阻值以及收发器由於单向和双向通讯安全无故障所加端接电阻而允许的最大总线负载。文章还将展示ISL315x系列高VOD收发器，其共模可接60个负载单元（UL）的驱动能力远超标准收发器的32个负载单元（UL）的驱动能力。</p><p>单端通讯安全无故障保护偏置网络设计</p><p>对于≤100米短距离通讯,和通讯空闲时线上电压在0.05V≤VAB≤0.3V，在总线的一端设置偏置电路一般就足够了。为了简化，图1所示的网络被转换成图2的简化等效电路。请注意偏置电阻RB和终端电阻RT1和RT2。REQ表示连接到总线的所有收发器的等效输入电阻。</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/320b9306cdd24dc093203dab9697c7aa><p class=pgc-img-caption>图2 电路的简化集总等效模型</p></div><p>在推导电阻值计算等式之前，先看一下线路阻抗匹配和共模负载所须满足的条件:</p><p>1) 没加偏置网络的电缆的端接电阻为RT1，其阻值应与电缆的特性阻抗Z0匹配。</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/731e84c03e31435b951511623e247131><p class=pgc-img-caption></p></div><p>2) 为了匹配正常工作时的线路阻抗，与终端电阻RT2并联的两个偏置串联电阻组合必须匹配电缆的特性阻抗：Z0 = 2RB||RT2.因此，对于给定的RB值，RT2变为：</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9d03079acd45458f887d83099dc6fadb><p class=pgc-img-caption></p></div><p>3) RS-485规定了最大共模负载，符合标准的收发器必须能够使用32个并行UL驱动。一个单位负载(UL)的最小共模电阻约为12kΩ。因此，32个UL的总共模负载导致最小的共模电阻RCM=375Ω。</p><p>由于偏置电阻是等效的收发器输入电阻外的共模负载，因此RB和REQ的并联值必须大于或等于RCM：RB||REQ ≥ RCM。因此对于给定的RB值，REQ被限制为：</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/6161d8152d27455a81bc77613442e2cd><p class=pgc-img-caption></p></div><p>为了找到计算RB的等式，我们确定了图2中A和B的节点电流，并求出各线的电压VA和VB。</p><p>节点A）</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/08a98fc316934a42b6f89c1e71ed5e96><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/62b721da97504174bc858d2e7dee9184><p class=pgc-img-caption></p></div><p>节点B）</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/186f639f4db14ec5a91efd5d9caef6d0><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/294ed847bdca444bba466e50a40c7ce1><p class=pgc-img-caption></p></div><p>然后计算线电压之间的差值可求得差分总线电压：</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8836cab81c1849298e9dd207c77ffcb4><p class=pgc-img-caption></p></div><p>代入EQ.1，2和3到EQ.4得到了线缆上通讯空闲时直流电压的最终等式：</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d5b59603fa9343f082fd865c098a702c><p class=pgc-img-caption></p></div><p>并且求解RB的最小偏置电阻值：</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b21e01ea67c942218c6db0d745b5be72><p class=pgc-img-caption></p></div><p><strong>共模负载</strong></p><p>由于通讯安全无故障偏置电路带来了额外的共模负载，因此有必要计算加了这个负载后线缆上所允许收发器单元的最大数量nUL，要确保总线负载不至于降到RCM =375Ω以下。</p><p>nUL是1单位负载（UL）共模电阻与线缆上所有收发器单元负载共模电阻之间的比例：nUL =12kΩ/ REQ ，代入EQ.3等式得到：</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d4784b2f720b4ba0ab4c92ad9e5c0375><p class=pgc-img-caption></p></div><p>使用n×1UL，2n×1/2UL，4n×1/4UL或8n×1/8UL个收发器可以实现收发器单元负载的最大数量。</p><p>两端通讯安全无故障偏置电路</p><p>为了在长电缆中保持恒定的VAB，总线两端都需要加偏置电路。每端偏置电阻网络可以补偿电缆另一端偏置电压在线缆上的损耗。</p><p>图3显示了具有两端通讯安全无故障偏置电路的简化等效电路。</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7247fe22bf31492a839f88c43e273335><p class=pgc-img-caption>图3 两端通讯安全无故障偏置电路的简化等效模型</p></div><p>对于终端电阻的要求RT与单端通讯安全无故障保护偏置网络的RT2相同，要求是 Z0 = 2RB||RT。因此，对于给定的RB ，RT必须是：</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/26a61ff22da04e0dbd9fc17ab38bb52b><p class=pgc-img-caption></p></div><p>但是，共模负载的条件发生了变化，因为线缆两端都有并联接地的偏置电阻。因此，RB/2和REQ的并联组合需要大于或等于RCM ：RB/2 || REQ ≥ RCM。因此，对于给定的RB值，REQ被限制为：</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3d07e1e2be9040e29f9a9e48e98e5c55><p class=pgc-img-caption></p></div><p>为了得到RB的等式，我们分别确定节点电流A和B。因为偏置网络是相同的，所以它们通过REQ驱动相同的电流量。因此，我们必须通过REQ建立一个电流然后将其乘以2，以确定总线中间的VAB。</p><p>节点A）</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7256788c5a274c5d8db7e774ec69386c><p class=pgc-img-caption></p></div><p>节点B）</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/bf570287c49a4ce8b665f7a1b71e5d3a><p class=pgc-img-caption></p></div><p>求解各个线电压的节点电流VA和VB ，并计算它们之间的差值可得到差分总线电压：</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d9bd9c8cadde4beebd82cd18c3dc45f8><p class=pgc-img-caption></p></div><p>将EQ.8和9带入EQ.10得到VAB的最终方程：</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/254e9ea3f04d456694d7d16a7ee61bcf><p class=pgc-img-caption></p></div><p>并且求解RB得到所需的最小偏置电阻值：</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a44799ba161048168198bbfe9b9085d6><p class=pgc-img-caption></p></div><p>使用RB时，现在可通过以下方式计算收发器单元负载的最大数量：</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f3ac6634a6984ef886ab8fda0956396d><p class=pgc-img-caption></p></div><p>注意，因为对两端通讯安全无故障偏置电路的RB值是单端通讯安全故障偏置电路的RB值的两倍，所以两种应用的nUL仍然是相同的。</p><p><strong>计算示例</strong></p><p>在以下示例中，我们分别计算了单端通讯无故障和两端通讯无故障偏置电阻值， 考虑到了长线和短线通讯， 设定匹配阻抗为Z0 =120Ω。本例中使用ISL8487E总线收发器。该器件是1/8 UL收发器，最小<strong>电源</strong>电压Vs = 4.75V。其最大接收器输入阈值为200mV，假设噪声容限为100mV，所以通讯空闲时要求线上电压VAB = 300mV。</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/eeef729049ac424eb18f4ced8749e57e><p class=pgc-img-caption></p></div><p><strong>RS-485收发器选择</strong></p><p>出于以下两个理由，选择最好的收发器带有足够的抗噪声和输出驱动能力对于健壮的线缆间通讯设计非常重要。</p><p>1） 在总线未被主动驱动的时候，即使在干扰严重的环境中，也应该有足够的噪声容限来防止接收器错误触发。</p><p>2） 在正常数据传输期间，发送端必须有足够能力驱动由通讯安全无故障偏置电阻增加的共模负载，并仍然为远端收发器提供具有足够噪声容限的信号。</p><p>例如，第一代ISL8487E器件具有VIT-max = 200mV的正端接收器输入阈值。通过偏置仅增加50mV的小噪声容限就会使VAB = 200mV + 50mV = 250mV。</p><p>将其与第二代收发器（如带完全故障保护功能的ISL83082E）进行比较。无论接收器输入是浮动（总线断开）还是短路（总线短路或空闲），其接收器输出都会变高。</p><p>完全故障保护功能是通过将最大输入阈值偏移到稍微负值的电平来实现的，在这种情况下，电平为-50mV。为了提供相同的50mV噪声容限，0V的VAB足以消除对外部通讯安全无故障偏置电路的需求。没有偏置电路时，所有32个单元负载都可供总线收发器使用。</p><p>在较高电噪声污染的现代工业应用中，工业网络（例如PROFIBUS）采用两端通讯安全无故障偏置电路以保证总线空闲时电压为0.6V或更高。如此高的VAB水平要求偏置电阻的阻值非常低，以至于它们的组合值下降至远低于375Ω最小共模电阻。发生这种情况时，nUL的计算结果将为负值。事实上，可以通过在EQ.12中设RB/2 = RCM来计算最大的VAB（当nUL = 0时 ）。</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f35fc0b98dbb40ffb454cac3cff0402c><p class=pgc-img-caption></p></div><p>因此，支持高VAB电平的通讯需要性能更好的收发器，与标准兼容收发器相比，它们提供更高的差分和共模驱动能力。</p><p>瑞萨<strong>电子</strong>ISL315x产品系列的高VOD收发器能够满足这些需求。这些器件能够以VOD-MIN = 1.5V的最小差分输出（见图4）并联驱动多达8个120Ω端接电阻，并且可在-7V到+12V的共模电压范围内驱动超过60个直流单元负载，最小VOD为2.4V（见图5）。</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0fec407c8d164202bf97c83993c7d34b><p class=pgc-img-caption>图4 差分输出驱动能力：ISL315x对比标准RS-485收发器</p></div><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/62ff682788c4470593318689f3e3494b><p class=pgc-img-caption>图5 共模输出驱动能力：ISL315x对比标准RS-485收发器</p></div><p>ISL315x卓越的输出驱动能力对于最远距离的总线收发器也具有增强的抗噪声能力，与标准RS-485收发器相比可以实现两倍的共模载荷。</p><p>表1列出了单端和两端通讯安全无故障偏置网络的电阻值，并将两个可用的标准收发器ISL8487和ISL83082以及高VOD收发器ISL3152单元负载与噪声容限进行了比较。</p><p>表格1 标准和高VOD收发器的偏置电阻值，单位负载和与噪声容限对比</p><div class=pgc-img><img alt=RS-485接口器件通讯无故障偏置电路的原理和设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4e939cea4dae4474949e2df680183e8e><p class=pgc-img-caption></p></div><p>具有200mV输入阈值的收发器，例如ISL8487，仅允许最高100mV的空闲置总线噪声容限。超过该范围，更高的VAB要求偏置电阻值非常低，以至于收发器单元负载的结果数量会变为负值。</p><p>带有完整的通讯安全无故障的收发器，如ISL83082，由于其负输入阈值为-50mV，因此只需要很低的VAB值。这就允许更高的偏置电阻值以及在总线上带更多数量的收发器。但是，这两种收发器类型只具有最多32个单元负载的标准驱动能力，其一般标准的噪声容限和较少数量的低收发器支持很难在干扰严重的环境中的使用。</p><p>与之形成鲜明对比的是，具有高VOD的ISL3152在中等噪声水平下可轻松驱动两倍以上的收发器数量，并可在600mV噪声容限下仍支持多达100个收发器。为了实现更高的噪声容限，增加电缆的特性阻抗是必要的。在PROFIBUS中Z0 =150Ω，因此RT和RB可采用更高的值以降低偏置网络的共模负载。</p><p><strong>结论</strong></p><p>增加一个故障保护偏置网络可确保在总线空闲时各网络节点仍可稳定运行。另外，在正常数据传输期间，由偏置电阻引起的共模负载必须由驱动器主动驱动。工业网络所需的高噪声容限需要低偏置电阻值，其共模负载会使标准RS-485收发器的驱动能力负担过重。ISL315x系列大输出电压摆幅收发器可以解决这个问题，其能够驱动多达八个120Ω端接电阻和六十多个直流单元负载。结合本文提供的等式，这些收发器简化并加快了故障保护偏置网络的设计。</p><blockquote><p>原文标题：大咖谈技术 | RS-485接口器件通讯无故障偏置电路的原理和设计</p><p>文章出处：【微信号：renesas_china，微信公众号：瑞萨电子】欢迎添加关注！文章转载请注明出处。</p></blockquote></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'偏置','RS','485'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>