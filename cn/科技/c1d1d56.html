<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>用单片机设计自由摆的平板控制系统 | 极客快訊</title><meta property="og:title" content="用单片机设计自由摆的平板控制系统 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/8df5310a-7be9-4683-b7ba-fd5b16299b91"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c1d1d56.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c1d1d56.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c1d1d56.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c1d1d56.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c1d1d56.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c1d1d56.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c1d1d56.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c1d1d56.html><meta property="article:published_time" content="2020-10-29T21:07:16+08:00"><meta property="article:modified_time" content="2020-10-29T21:07:16+08:00"><meta name=Keywords content><meta name=description content="用单片机设计自由摆的平板控制系统"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/c1d1d56.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>用单片机设计自由摆的平板控制系统</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>本文采用角度传感器，运算放大器，AD转换器采集平板变化信息，通过单片机，产生脉冲信号，控制电机模块驱动步进电机带动平板转动，摆杆角度越大步进电机转过的角度越大，从而控制平板状态基本保持水平，实现自由摆得平板控制。</strong></p><p><br></p><div class=pgc-img><img alt=用单片机设计自由摆的平板控制系统 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/8df5310a-7be9-4683-b7ba-fd5b16299b91><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>1 自由摆的平板系统基本组成原理</h1><p>根据自由摆的平板控制系统的设计要求，电机控制平板，当摆杆移动时要保持平板的平衡，因此需要采用传感器获得摆杆移动的角度值，再通过电机控制平板旋转相应的角度，从而保持平板的水平位置。其基本组成框图原理如下：</p><p><br></p><div class=pgc-img><img alt=用单片机设计自由摆的平板控制系统 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b411980fd74b498ea3b2e69e424583a0><p class=pgc-img-caption></p></div><p>采用日本村田公司的ENV05G陀螺传感器，安装于平板，以获得平板的位置和姿态信息。</p><p>当摆杆移动时，平板的水平位置会发生变化，此信号通过调理电路输入到AD0809转换器，单片机获得摆杆的变化信息，控制TA8435芯片，使摆杆上的电机也作相应的旋转，及时调整平板变化位置，从而使平板基本保持水平的位置。</p><h1 class=pgc-h-arrow-right>2 硬件电路的设计</h1><p>硬件电路设计包括：传感器与信号采集电路，单片机控制电机电路。</p><p><strong>1 传感器采用日本村田公司的ENV05G陀螺传感器，通过检测，测量角度，实现运动物体的位置控制和姿态控制，它具备高可靠性，高精度，快响应，低噪音特点。</strong></p><p>其输出到传感器外围调理电路，是一个由LM324运放组成的二阶压控源RC低通滤波器，信号从同相端输入，具有较高的输入阻抗，放大器的增益为：Auf=1+Rf/R1=1+33k/56k=1.589。输出信号首先经R1，R3分压，分压比为：56/(33+56)=0.629调理电路放大倍数为：0.629*1.589=1，传感器信号调理电路输出即为角度传感器能够输出的角度范围值。设计中将角度传感器放在摆杆上，从静止开始来回旋转，即可得到摆杆的实时角速度值，再通过软件处理输出角度值。</p><div class=pgc-img><img alt=用单片机设计自由摆的平板控制系统 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2059dc421d6a4d42852b4d1586836fd9><p class=pgc-img-caption></p></div><p>由于陀螺仪传感器输出为模拟信号，处理器单片机要想使用其提供的信息，必须进行A/D转换，把模拟信号转变为数字信号，从而实时得到角速度值。将运算放大器Vout输入给0809的IN0，将电压模拟信号转变为与之对应相等的数字信号，输入给单片机进行数据处理。OE端为高电平时，才可以从三态输出锁存器取走转换完的数据。</p><p>AD0809的数据输出公式为：Vout=Vin*255/5=Vin*51,其中Vin为输入模拟电压，Vout为输出数据。ALE为地址锁存允许输入线，高电平有效。CLK为时钟输入信号线。ADC0809内部无时钟电路，本设计中用单片机给ADC0809提供时钟信号，减少硬件电路。将A/D转换输出OUT口与单片机P2口相连，单片机接收的输入数字角速度量。</p><p><br></p><div class=pgc-img><img alt=用单片机设计自由摆的平板控制系统 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1122bced6395451eaa743e8b730cbd54><p class=pgc-img-caption>A/D转换，单片机电路</p></div><p><strong>2 单片机控制步进电机电路的设计</strong></p><p>电机选择42BYGHW208型步进电机，此电机是两相四线制，体型较小，力矩可以满足要求。步进电机整步工作情况下，距角为1.8°，所以一个脉冲使电机转动1.8°。单片机电路，AD换后的数字信号交由单片机处理。由θ传=θ电机 ，通过控制步进电机输入脉冲频率控制其转动的角度，即可以基本实现要求，使平板在摆杆一个周期内转一圈，五个周期转五圈，也可以保持电机角度与摆杆角度相等，以此实现基本要求，使平板保持水平，实现硬币不能掉下的任务。</p><p><br></p><div class=pgc-img><img alt=用单片机设计自由摆的平板控制系统 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a92b46f8ca9d4825b9dd1492f7a20f29><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>自由摆得平板控制软件设计</h1><p><strong class=highlight-text>1 使平板随着摆杆的摆动而旋转：预计摆杆摆动一个周期所需的时间t，以此作为平板旋转一周的时间，则电机的角速度为360/t deg/s，因为电机步进角为1.8度，故所需脉冲频率360/(t*1.8)。以此计算出定时器的中断次数N，即可控制平板随着摆杆的摆动而旋转，摆杆摆一个周期，平板旋转一周。</strong></p><p><strong class=highlight-text>2 使平板保持水平：开始——传感器电压增加——单片机控制电机左转，根据传感器输出电压幅值大小确定定时器定时时间，从而确定频率，从而控制步进电机的转速。</strong></p><p><strong class=highlight-text>3 用手推摆杆至50度，激光笔照射程序：推动摆杆至某一固定位置，由三角形角度关系及正余弦定理确定电机所需旋转角度，从而确定电机所需脉冲数目。由单片机产生100HZ的定时中断，由程序设置中断的数目，从而控制步进电机转过的角度。</strong></p><h1 class=pgc-h-arrow-right>实际测试结果与分析</h1><p>1 测试器材</p><p>量角器、硬币、激光笔、卷尺、靶纸（A4打印纸）</p><p><strong>2 测试方法</strong></p><p>测试方法：将摆杆拉至某一规定位置，观察平板运动，观察平板上的硬币数目，观察激光灯打在靶纸上的位置，逐渐调整程序，减小误差。</p><p>基本要求测试：先通过简单的目测大致判断出自由摆与平台的转动一周的周期是否相等。对程序进行初步的调整然后使用秒表分别测出自由摆与平台转动一周的时间是否相等。再次对程序进行仔细的调整，使得自由摆转动一周时平台也恰巧转动一周。</p><p>结果：初步调整时，对电机的控制不精确使得转动误差较大，经过仔细调整平台与自由摆基本上同步。</p><p>接通电源，摇晃自由摆，并观察角度传感器读数是否正确，若正确则接上电机，用手推动摆杆至30到45度，调整平板角度，在平板稳定中心放置一枚１元硬币，启动后放开摆杆让其自由摆动。在摆杆滑动过程中，要求控制平板状态，使硬币在5个摆动周期中不从平板上滑落。观察是否会滑离平板的中心位置。</p><p>步进电机反应太慢导致硬币滑落，经仔细研究摆动原理并更改程序终于使一枚硬币平稳的放在平台中央未见滑落。完成了要求二。</p><p>接通电源，先检测角度传感器是否正常，若正确则接上电机，用手推动摆杆至45到60度，调整平板角度，在平板中心稳定叠放8枚1元硬币。启动后放开摆杆让其自由摆动。在摆杆摆动过程中，要求控制平板状态使硬币在摆杆的5个摆动周期中不从平板滑落，观察是否有硬币掉落以及是否保持叠放状态。</p><p>由于硬币增多导致平板负重增加，并且硬币间容易滑落导致失败。经过长时间反复思考并修改程序终于能够基本实现要求三。</p><h1 class=pgc-h-arrow-right>结语</h1><p>使用51单片机结合相应的传感器，数据采集和电机控制实现自由摆的平板控制，电路实现简单可靠，传感器数据采集与处理方法实用，是解决自由摆的平板控制一种方法，取得较好效果。</p><blockquote class=pgc-blockquote-abstract><p>（编自《电气技术》，原文标题为“基于自由摆的平板控制系统”，作者为王宁、段卓琳。）</p></blockquote></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'单片','机设计','系统'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>