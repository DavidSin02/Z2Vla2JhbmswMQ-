<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>详解英特尔以太网800系列网络适配器关键技术 | 极客快訊</title><meta property="og:title" content="详解英特尔以太网800系列网络适配器关键技术 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/cf9d2c6f4794400ab02dfe2ed553f0fd"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c3ae56ad.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c3ae56ad.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c3ae56ad.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c3ae56ad.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c3ae56ad.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c3ae56ad.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c3ae56ad.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c3ae56ad.html><meta property="article:published_time" content="2020-11-14T21:02:19+08:00"><meta property="article:modified_time" content="2020-11-14T21:02:19+08:00"><meta name=Keywords content><meta name=description content="详解英特尔以太网800系列网络适配器关键技术"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/c3ae56ad.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>详解英特尔以太网800系列网络适配器关键技术</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>在前几周的系列介绍中，我们从不同角度了解到英特尔最新推出了Ethernet 800系列网络适配器如何满足高性能存储的高速传输需求，使用具有ADQ加速技术的英特尔Ethernet 800系列网卡，如何提供更高的性能和更低的延迟，今天我们将继续详解Ethernet 800系列网络适配器的关键技术。</p><p><em><strong><span style="color:#6b91d2;--tt-darkmode-color: #6B91D2">关键特性</span></strong></em></p><p><em><strong>☞</strong>QSFP28，单口或双口</em></p><p><em><strong>☞</strong>PCle3.0 和 4.0，×16</em></p><p><em><strong>☞</strong>以太网端口配置工具(EthernetPort Configuration Tool，EPCT)</em></p><p><em><strong>☞</strong>应用设备队列(ApplicationDevice Queues，ADQ)。</em></p><p><em><strong>☞</strong>动态设备个性化(Dynamic DevicePersonalization，DDP)。</em></p><p><em><strong>☞</strong>支持RDMA iWARP和RoCEV2</em></p><p>Ethernet 800系列通过创新性地提高应用效率和网络性能，以优化高性能服务器工作负载，如NFV、存储、HPC-AI以及混合云。</p><p><strong>提升云应用性能</strong></p><p><strong><span style="color:#6b91d2;--tt-darkmode-color: #6B91D2">为云工作负载(包括边缘服务、web服务器、数据库应用程序、缓存服务器和存储目标)按需交付高带宽，并提升应用程序吞吐量。</span></strong></p><p>◆ADQ使用增强流量导向技术提升了应用程序响应时间的可预测性</p><p>◆DDP增强了包分类能力，对某些云工作负载，可提供高达3倍的吞吐量</p><p>◆同时支持RDMA iWARP和RoCE v2传输协议，为存储目标提供高速低延迟连接</p><p><strong>优化电信类负载</strong></p><p><span style="color:#6b91d2;--tt-darkmode-color: #6B91D2">为高带宽网络和通信工作负载(包括移动核心（mobile core）、5G RAN和网络设备)提供包分类和排序优化</span></p><p>◆DDP支持通信领域现有的和新的特定协议，能将某些NFV工作负载的包处理效率提高3倍</p><p>◆支持IEEE 1588v2精准时间协议（Precision Time Protocol），在5G RAN部署中能够实现高精度时间同步</p><p>◆增强的数据平面开发工具包(DataPlane Development Kit，DPDK)支持，提高了包处理速度</p><p><strong>用EPCT灵活配置多端口</strong></p><p>E810-CQDA1和CQDA2网络适配器支持多种系统配置，以满足用户所需的工作负载需求。更多可用端口与速度的组合简化了验证和部署。</p><div class=pgc-img><img alt=详解英特尔以太网800系列网络适配器关键技术 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/cf9d2c6f4794400ab02dfe2ed553f0fd><p class=pgc-img-caption></p></div><p><span style="color:#a5a5a5;--tt-darkmode-color: #A3A3A3">利用EPCT，英特尔E810(双端口或单端口)可以编程为许多不同的物理网络适配器，其最大吞吐量为100Gbps</span></p><p><strong><span style="color:#739be0;--tt-darkmode-color: #739BE0">英特尔Ethernet 800系列网络适配器关键技术:</span></strong></p><p><strong>ADQ：提高横向扩展的可预测性</strong></p><p>随着现代数据中心的横向扩展，提供弹性并可预测的应用程序级性能成为关键挑战之一。ADQ技术通过为关键负载建立专用队列，大幅减少了性能抖动，显著提高了应用程序的可伸缩性和可预测性。</p><div class=pgc-img><img alt=详解英特尔以太网800系列网络适配器关键技术 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/065ec8964d314f3dbe419c9643b6619c><p class=pgc-img-caption></p></div><p><br>更低的抖动增加了应用响应时间的可预测性，这不仅能给任务分配更多的计算服务器，还能让更多的用户访问系统，并提供更好的最终用户体验。即使应用规模不大也能从更高的一致性中获益，让其能够更容易满足SLA。</p><p>ADQ使用一种优化应用程序线程到设备数据路径的方法来实现针对特定应用程序的数据控制、传输和速率限制。这种专用队列和调整网络流量的能力不仅提高了应用性能，还降低了延迟并提升吞吐量。</p><p><strong><span style="color:#41464b;--tt-darkmode-color: #99A0A6">利用动态设备个性化(DDP)提高包处理效率</span></strong></p><p>DDP通过对数据包过滤，并结合增强的DPDK，可支持云和NFV等场景下的高级数据包转发和高效的包处理。</p><p>英特尔 Ethernet 700系列首次引入了DDP技术，一些协议可以添加到固件中的默认协议集中。而英特尔Ethernet 800系列固件在驱动程序初始化阶段就加载了一个增强DDP配置文件，以及许多用于特定工作负载的协议，从而获得更高的灵活性。当系统中存在多个800系列适配器时，每个适配器上的流水线都可以使用不同的DDP配置文件进行独立编程。</p><p><strong><span style="color:#41464b;--tt-darkmode-color: #99A0A6">IEEE1588精准时间协议(PTP)</span></strong></p><p>英特尔Ethernet 800系列支持IEEE 1588 PTP v1和v2两个版本，提供纳秒级时间精度，能够准确报告每个数据包的接收时间。这种级别的时间精度有助于确保从5G RAN到金融服务、工业自动化和能源监控等领域网络部署的精确同步。</p><p><strong><span style="color:#41464b;--tt-darkmode-color: #99A0A6">通过远程直接内存访问(RDMA)提高吞吐量和降低延迟</span></strong></p><p>RDMA通过消除TCP/IP堆栈进程、内存拷贝以及应用程序上下文切换等三个主要的网络资源开销，为现代高速以太网提供高吞吐量和低延迟性能。英特尔Ethernet 800系列网络适配器支持所有主流存储传输协议，包括iWARP、RoCE v2和NVMe over TCP等。</p><p><strong><span style="color:#638bf8;--tt-darkmode-color: #638BF8">RoCE（RDMA over Converged Ethernet）：</span></strong></p><p>RoCE v2用以太网替代InfiniBand物理层和数据链路层，运行在UDP/IP之上，并可在IP网络上路由。</p><p><strong><span style="color:#638bf8;--tt-darkmode-color: #638BF8">iWARP，基于IETF标准协议:</span></strong></p><p>在常见的TCP/IP协议之上交付RDMA。iWARP RDMA通过标准网络和传输层运行，并与所有以太网网络基础设施一起工作。TCP提供流控制和拥塞管理，无需建立无损以太网。iWARP是一个可高度路由和可扩展的RDMA实现。</p><p><strong>保护、检测、恢复</strong></p><p>零信任基于这样一种理念设计，即在授予访问权之前，您需要对任何试图连接或获得准入的内容进行验证。</p><p>英特尔Ethernet 800系列通过保护、检测和恢复三种安全机制以及硬件信任根（Hardware Root of Trust）为平台提供弹性保护。通过这种设计，其内建的故障检测可保护固件和关键设备设置，并进行自动设备恢复以确保设备回到其最初的编程状态。</p><p><strong><span style="color:#638bf8;--tt-darkmode-color: #638BF8">英特尔Ethernet 800系列适配器基于Ethernet Controller E810，总体特性如下：</span></strong></p><p style=text-align:justify><strong>主机接口</strong></p><ul><li>符合目前0.9版本的PCle 4.0标准</li><li>256个non-posted请求的并发</li></ul><p style=text-align:justify><strong>软件界面</strong></p><ul><li>基本模式VF兼容Intel Adaptive Virtual Functions Specification（Intel自适应虚拟功能规范）</li><li>Tx / Rx队列</li></ul><p style=text-align:justify>-2048Tx队列和2048 Rx队列</p><p style=text-align:justify>-队列动态分配到functions和VSls</p><ul><li>中断</li></ul><p style=text-align:justify>-2048个中断向量，以灵活的方式分配给队列和其他用例</p><p style=text-align:justify>-多重中断调节方案</p><p style=text-align:justify>-20,000,000次中断/秒</p><ul><li>控制队列(Control Queues，又名管理队列，Admin Queues)</li></ul><p style=text-align:justify>-针对PF-VF和驱动-驱动的邮箱队列</p><p style=text-align:justify>-针对软件-固件控制流的管理队列</p><p style=text-align:justify>-针对软件访问E810内部IP的边带队列（Sideband Queues）</p><ul><li>256个Tx门铃(DB)队列</li><li>512个Tx完成队列</li><li>每Tx队列有一个量子描述符(QD)队列，量子信息也嵌入到Tx门铃中</li><li>可编程的Rx描述符字段</li></ul><p style=text-align:justify><strong>包处理</strong></p><ul><li>增强的数据平面开发工具包(DPDK)</li><li>通用功能</li></ul><p style=text-align:justify>-解析、交换、ACL、分类、包修改等阶段</p><p style=text-align:justify>-可编程数据包处理流水线</p><p style=text-align:justify>-基于配置文件</p><p style=text-align:justify>-可编程操作</p><p style=text-align:justify>-阶段之间传播优先级</p><ul><li>解析器</li></ul><p style=text-align:justify>-可解析高达504B包头</p><p style=text-align:justify>-基于解析图</p><p style=text-align:justify>-基于会话的解析</p><p style=text-align:justify>-可编程解析引擎</p><ul><li>二进位分类器(VEB Switch)</li></ul><p style=text-align:justify>-768交换端口(VSls)</p><p style=text-align:justify>-可编程的转发规则</p><p style=text-align:justify>-风暴控制</p><ul><li>ACLs</li></ul><p style=text-align:justify>-8K可编程TCAM条目</p><p style=text-align:justify>-平铺能力宽度可达n*40b</p><ul><li>分类过滤器</li></ul><p style=text-align:justify>-基于哈希的统计分布</p><p style=text-align:justify>-基于英特尔 EthernetFD流的分类</p><p style=text-align:justify>-基于流的iWARP和RoCE流识别</p><p style=text-align:justify>-可编程规则</p><ul><li>修改</li></ul><p style=text-align:justify>-插入(Tx)，删除(Rx)，和包VLAN修改</p><p style=text-align:justify>-L3和L4校验和与CRC</p><p style=text-align:justify><strong>虚拟化</strong></p><ul><li>通过VMDQ和SR-IOV实现主机虚拟化</li><li>最多256个SR-IOV虚拟功能</li><li>隧道包的无状态卸载(网络虚拟化支持)</li><li>恶意VF保护</li><li>虚拟机负载均衡(VMLB)</li><li>高级的信息包过滤</li><li>VLAN支持VLAN标签插入、剥离和包过滤，最多可支持4096个VLAN标签</li><li>带有网络服务标头(NetworkService Headers，NSH)的VXLAN,GENEVE, NVGRE, MPLS, VXLAN-GPE</li><li>英特尔以太网自适应虚拟功能驱动程序（Intel Ethernet Adaptive Virtual Function drivers）</li></ul><p style=text-align:justify><strong>RDMA</strong></p><ul><li>支持iWARP and RoCEv2</li><li>256K队列对</li><li>发送队列推送模式</li></ul><p style=text-align:justify>注意:当E810配置为>4端口操作时，不支持RDMA。</p><p style=text-align:justify><strong>QoS</strong></p><ul><li>WFQ传输调度程序有九个可编程层</li><li>共享流水线，避免starvation</li><li>通过802.1p PCP或差异化服务代码点(Differentiated Services Code Point，DSCP)值的QoS</li><li>包调整</li></ul><p style=text-align:justify><strong>可管理性</strong></p><ul><li>SMBus操作可达1Mb/s</li><li>符合DMTF的NC-SI 1.1接口，100Mb/s</li><li>MCTP over PCIe与SMBus</li><li>通过本地BMC实现企业级管理方案</li><li>SNMP和RMON统计计数器</li><li>看门狗定时器</li><li>PLDM over MCTP；PLDM监控；PLDM固件升级：PLDM for RDE</li><li>固件管理协议支持</li></ul><p style=text-align:justify><strong>电源管理</strong></p><ul><li>支持PCI电源管理状态D0， D3hot, D3cold</li><li>Do, D3hot和D3cold中的APM WoL支持</li></ul><p style=text-align:justify><strong>时钟同步</strong></p><ul><li>每个Rx包的时间戳</li><li>可选择的Tx包时间戳</li><li>支持IEEE PTP1588v1/2</li><li>与其他本地平台同步时间戳</li></ul><p style=text-align:justify><strong>Pre-Boot</strong></p><ul><li>与HTTPS启动兼容的签名UEFl选项ROM</li></ul><p style=text-align:justify><strong>安全机制</strong></p><ul><li>基于硬件的信任根</li><li>基于NVM Read与Power On之上的身份验证</li><li>内置固件/关键设置故障检测与自动设备恢复</li></ul><div class=pgc-img><img alt=详解英特尔以太网800系列网络适配器关键技术 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/23470b045bba42c7b2614821cde5f9e7><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'详解','800','网络适'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>