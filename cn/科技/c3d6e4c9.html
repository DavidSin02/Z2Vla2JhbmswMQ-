<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Java项目实战第10天：分页栏的实现 | 极客快訊</title><meta property="og:title" content="Java项目实战第10天：分页栏的实现 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/000f44dadac946188c05567c6741ae3c"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c3d6e4c9.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c3d6e4c9.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c3d6e4c9.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c3d6e4c9.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c3d6e4c9.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c3d6e4c9.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c3d6e4c9.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c3d6e4c9.html><meta property="article:published_time" content="2020-11-14T21:04:49+08:00"><meta property="article:modified_time" content="2020-11-14T21:04:49+08:00"><meta name=Keywords content><meta name=description content="Java项目实战第10天：分页栏的实现"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/c3d6e4c9.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Java项目实战第10天：分页栏的实现</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>今天是刘小爱自学Java的第109天。</p><p style=text-align:start>感谢你的观看，谢谢你。</p><p style=text-align:start>话不多说，开始今天的学习：</p><div class=pgc-img><img alt=Java项目实战第10天：分页栏的实现 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/000f44dadac946188c05567c6741ae3c><p class=pgc-img-caption></p></div><p style=text-align:start>看到了几个小需求，心里莫名地觉得痒痒，想把它们搞明白，到底具体是如何实现的？</p><p style=text-align:start>一开始以为花个十几二十分钟就可以将其搞定，搞定后再接着学后面的知识点。</p><p style=text-align:start>结果光这几个小问题就搞了我一晚上，唉，果然自己还是太笨了。</p><p style=text-align:start>是几个小小需求呢？容我慢慢道来：</p><h1 class=pgc-h-arrow-right><strong>一、业务需求与分析</strong></h1><p style=text-align:start>一共有6个小需求，乍一看觉得超级简单，当然事实上确实也不难，但是容易忽视一些问题。</p><p style=text-align:start>其中将需求做个整理，如下图：</p><div class=pgc-img><img alt=Java项目实战第10天：分页栏的实现 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0ea0967a83094920b20900f3b8e2f129><p class=pgc-img-caption></p></div><p style=text-align:start>①分页栏上一共有10个按钮，选中按钮时将其动态置为特殊颜色。</p><p style=text-align:start>②按钮保证前五后四的原则：</p><ul><li>当选中的按钮小于6时，那页面显示的按钮为1-10这十个按钮。</li><li>当选中的按钮大于6时，显示的按钮就得动态变化了。</li></ul><p style=text-align:start>③选中按钮为1时：首页和上一页隐藏。</p><p style=text-align:start>④选中按钮为最后页时：末页和下一页隐藏。</p><p style=text-align:start>⑤点首页回到第1页，点末页回到最后一页。</p><p style=text-align:start>⑥点上一页在当前页往前移动一位，点下一页在当前页往后移动一位。</p><p style=text-align:start><strong>这些功能使用起来当然简单了，但是它具体用代码是如何实现的呢？</strong></p><p style=text-align:start>写代码之前，先做个小小的分析，捋一捋思路：</p><div class=pgc-img><img alt=Java项目实战第10天：分页栏的实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/35b2f7bf182740e69add210865a7c561><p class=pgc-img-caption></p></div><p style=text-align:start><strong>①中的四个参数</strong></p><p style=text-align:start>这几个参数前两天都仔细说明过，并且已经从服务器中响应了对应的数据。</p><p style=text-align:start><strong>②中的四个参数</strong></p><p style=text-align:start>这是我们需要实现的6个小功能中，与之密切关联的4个变量。</p><p style=text-align:start><strong>其实在Java中，无外乎就是变量和方法。</strong></p><p style=text-align:start>遇到了一个需求，首先要考虑的就是将该需求中相关参数定义成Java中的一个变量。</p><p style=text-align:start>再通过这些变量加上方法的使用实现具体的某个需求，这样的一个思路过程。</p><h1 class=pgc-h-arrow-right><strong>二、Java代码编写</strong></h1><p style=text-align:start>因为是在分页基础上拓展了这些功能，所以只需要在Service层中添加代码即可。</p><p style=text-align:start>都是一些简单的数学计算，但也正是这，让我意识到了数学在编程中的重要性：</p><div class=pgc-img><img alt=Java项目实战第10天：分页栏的实现 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d3c6bacbf41742f2a03bc5bb55ed4438><p class=pgc-img-caption></p></div><p style=text-align:start><strong>①计算上一页和下一页</strong></p><p style=text-align:start>说白了其实也就是小学数学中的分类讨论：</p><ul><li>如果当前页码不为1，那么上一页也就是当前页码－1。</li><li>如果当前页码为1，那么上一页不变，还为1。</li><li>如果当前页码不为最后一页，那么下一页也就是当前页码+1。</li><li>如果当前页码为最后一页，那么下一页不变，还是最后一页。</li></ul><p style=text-align:start>这些在Java里就可以用三元运算符来表示，当然也可以用if条件语句判断。</p><p style=text-align:start><strong>②计算起始页和结束页</strong></p><p style=text-align:start>这个要考虑到的就更多了，页面中展示的页码为10个并且保证前五后四的原则，那么：</p><p style=text-align:start>如果总页数小于10，就没法展示10个了，起始页为1，结束页为总页数。</p><p style=text-align:start>如果总页数大于10，起始页就等于当前页-5，结束页也就等于当前页+4。但是要注意：</p><ul><li>如果起始页计算结果小于1，那么起始页为1，结束页为10。</li><li>如果结束页计算结果大于总页数，那么结束页为总页数，起始页为总页数-9。</li></ul><p style=text-align:start>这些在Java里就可以用if条件语句来判断。</p><p style=text-align:start>最后将数据以键值对的形式封装到一个map中，再转换成json数据响应给前端即可。</p><h1 class=pgc-h-arrow-right><strong>三、JavaScript代码编写</strong></h1><p style=text-align:start><strong>1静态资源</strong></p><div class=pgc-img><img alt=Java项目实战第10天：分页栏的实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/21e23bdbb39e45ab838e85dd2a4bcffa><p class=pgc-img-caption></p></div><p style=text-align:start>这是最原始的静态页面，数据都是写死了的，按钮没有特殊效果，数据也不能动态变化。</p><p style=text-align:start>而我们要做的事情就是：<strong>将服务器响应的数据动态拼接到该页面中。</strong></p><p style=text-align:start>将页面拼接好之后，要使用选择器找到该&lt;ul>标签，并将拼接页面添加到该标签。</p><p style=text-align:start>而如何定位该标签？有两种选择器可以用：</p><ul><li>可以在&lt;ul>标签中定义一个id，通过id选择器准确地定位该标签。</li><li>也可以通过层级选择器定位该标签。</li></ul><p style=text-align:start><strong>2取出响应数据</strong></p><div class=pgc-img><img alt=Java项目实战第10天：分页栏的实现 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e32d1779753447d7bd86c5c6bfab2696><p class=pgc-img-caption></p></div><p style=text-align:start>以键值对的形式，将服务器响应的数据一一取出来，再将这些数据动态拼接到页面中。</p><p style=text-align:start><strong>3拼接页面</strong></p><p style=text-align:start>不用我们一个个字母敲，将静态资源中对应的代码复制过来，再利用“+”完成动态拼接即可。</p><p style=text-align:start>其中getPageData()是我们自定义的一个函数，在该函数里面会向服务器发送请求，从而才会得到上面我们需要知道的这些数据。</p><p style=text-align:start>在前天就详细讲解过该函数的功能，其有两个参数：起始页码数，每页显示数据量。</p><div class=pgc-img><img alt=Java项目实战第10天：分页栏的实现 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/db0faf8322e1472dbf47859dad6cbc1b><p class=pgc-img-caption></p></div><p style=text-align:start><strong>①首页和上一页</strong></p><p style=text-align:start>只有当前页码大于1的时候，才会出现首页和上一页，使用if判断语句即可实现，其中：</p><ul><li>首页也就是getPageData（1,8）</li><li>上一页也就是getPageData（prePage,8）</li></ul><p style=text-align:start><strong>②利用for循环完成动态拼接</strong></p><p style=text-align:start>从beginPage开始到endPage结束，这分别对应着分页栏上显示的按钮数值。</p><p style=text-align:start>那么就需要使用到for循环遍历了，其中每次循环的值为i，每次循环完自增1：</p><ul><li>对应的函数为getPageData（i,8）</li><li>标签内容也就是i，对应按钮显示的数值。</li><li>哪次循环等于当前页码数时，就利用css的类选择器给其设定样式，从而实现动态变化。</li></ul><p style=text-align:start><strong>④末页和下一页</strong></p><p style=text-align:start>只有当前页码数小于总页数的时候，才会出现末页和下一页，同样使用if判断语句即可，其中：</p><ul><li>末页也就是getPageData（totalPage,8）</li><li>下一页也就是getPageData（nextPage,8）</li></ul><p style=text-align:start>以上也就是对一开始的6个小需求的思路分析 、以及代码编写的一个完整过程。</p><h1 class=pgc-h-arrow-right><strong>最后</strong></h1><p style=text-align:start>谢谢你的观看。</p><p style=text-align:start>如果可以的话，麻烦帮忙点个赞，谢谢你。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Java','项目','实战'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/20b12ef6.html alt=Java项目实战第7天：导航栏业务的实现 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/5ed388098e304e21872e291ae4eebf6f style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/20b12ef6.html title=Java项目实战第7天：导航栏业务的实现>Java项目实战第7天：导航栏业务的实现</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>