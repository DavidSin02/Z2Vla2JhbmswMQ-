<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>javaåå°„æœºåˆ¶çš„è®²è§£ | æå®¢å¿«è¨Š</title><meta property="og:title" content="javaåå°„æœºåˆ¶çš„è®²è§£ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/9ad2c92f100a4d2e8213dcf70d4781c0"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c67e6cfe.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c67e6cfe.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c67e6cfe.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c67e6cfe.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c67e6cfe.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c67e6cfe.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c67e6cfe.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c67e6cfe.html><meta property="article:published_time" content="2020-11-14T21:06:59+08:00"><meta property="article:modified_time" content="2020-11-14T21:06:59+08:00"><meta name=Keywords content><meta name=description content="javaåå°„æœºåˆ¶çš„è®²è§£"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/c67e6cfe.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>javaåå°„æœºåˆ¶çš„è®²è§£</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>ä¸€ , ä»€ä¹ˆæ˜¯javaåå°„æœºåˆ¶ï¼Ÿ</h1><p>JAVAåå°„æœºåˆ¶æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªå®ä½“ç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„æ–¹æ³•å’Œå±æ€§ï¼›è¿™ç§<strong>åŠ¨æ€è·å–ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•</strong>çš„åŠŸèƒ½ç§°ä¸ºjavaè¯­è¨€çš„åå°„æœºåˆ¶ã€‚</p><p><strong>1.æ„ä¹‰</strong></p><p>é¦–å…ˆï¼Œåå°„æœºåˆ¶æå¤§çš„æé«˜äº†ç¨‹åºçš„çµæ´»æ€§å’Œæ‰©å±•æ€§ï¼Œé™ä½æ¨¡å—çš„è€¦åˆæ€§ï¼Œæé«˜è‡ªèº«çš„é€‚åº”èƒ½åŠ›ã€‚</p><p>å…¶æ¬¡ï¼Œé€šè¿‡åå°„æœºåˆ¶å¯ä»¥è®©ç¨‹åºåˆ›å»ºå’Œæ§åˆ¶ä»»ä½•ç±»çš„å¯¹è±¡ï¼Œæ— éœ€æå‰ç¡¬ç¼–ç ç›®æ ‡ç±»ã€‚</p><p>å†æ¬¡ï¼Œä½¿ç”¨åå°„æœºåˆ¶èƒ½å¤Ÿåœ¨è¿è¡Œæ—¶æ„é€ ä¸€ä¸ªç±»çš„å¯¹è±¡ã€åˆ¤æ–­ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ã€è°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚</p><p>æœ€åï¼Œåå°„æœºåˆ¶æ˜¯æ„å»ºæ¡†æ¶æŠ€æœ¯çš„åŸºç¡€æ‰€åœ¨ï¼Œä½¿ç”¨åå°„å¯ä»¥é¿å…å°†ä»£ç å†™æ­»åœ¨æ¡†æ¶ä¸­ã€‚</p><p>æ­£æ˜¯åå°„æœ‰ä»¥ä¸Šçš„ç‰¹å¾ï¼Œæ‰€ä»¥å®ƒèƒ½åŠ¨æ€ç¼–è¯‘å’Œåˆ›å»ºå¯¹è±¡ï¼Œæå¤§çš„æ¿€å‘äº†ç¼–ç¨‹è¯­è¨€çš„çµæ´»æ€§ï¼Œå¼ºåŒ–äº†å¤šæ€çš„ç‰¹æ€§ï¼Œè¿›ä¸€æ­¥æå‡äº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æŠ½è±¡èƒ½åŠ›.</p><p><strong>2.åŸç†</strong></p><p>åå°„æœºåˆ¶(Reflection)æ˜¯Javaæä¾›çš„ä¸€é¡¹è¾ƒä¸ºé«˜çº§çš„åŠŸèƒ½ï¼Œå®ƒæä¾›äº†ä¸€ç§åŠ¨æ€åŠŸèƒ½ï¼Œè€Œæ­¤åŠŸèƒ½çš„ä½“ç°åœ¨äºé€šè¿‡åå°„æœºåˆ¶ç›¸å…³çš„APIå°±å¯ä»¥è·å–ä»»ä½•Javaç±»çš„åŒ…æ‹¬å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ã€ä¿®é¥°ç¬¦ç­‰ä¿¡æ¯ã€‚å…ƒç´ ä¸å¿…åœ¨JVMè¿è¡Œæ—¶è¿›è¡Œç¡®å®šï¼Œåå°„å¯ä»¥ä½¿å¾—å®ƒä»¬åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è¿›è¡Œåˆ›å»ºæˆ–è°ƒç”¨ã€‚åå°„æŠ€æœ¯åœ¨ä¸­é—´ä»¶é¢†åŸŸåº”ç”¨å¾—è¾ƒå¤šã€‚</p><h1 class=pgc-h-arrow-right>äºŒ .å®è·µè¯´æ˜</h1><p>é€šè¿‡åå°„Studentç±»çš„å±æ€§å’Œæ–¹æ³•</p><p>Studentç±»çš„ä»£ç ï¼š</p><pre>package reflect;public class Student {    //å…¬æœ‰ çš„å§“å    public String name="å°æ˜";    //å…¬æœ‰ çš„å¹´çº§    public String grade;    //å—ä¿æŠ¤çš„ å¹´é¾„    protected int age;    //ç§æœ‰çš„å­¦åˆ†    private double credit=99.9;    //é»˜è®¤çš„è¯¾ç¨‹    String course;    //æ— å‚æ„é€ æ–¹æ³•    public Student(){    }    //æœ‰å‚æ„é€ æ–¹æ³•    public Student(String name) {        this.name = name;    }    //å…¬æœ‰çš„æ–¹æ³•    public void getName(String name){        System.out.println("è·å–å§“å:æ–¹æ³•è°ƒç”¨äº†"+name);    }    //ç§æœ‰æ–¹æ³•    private void getGrade(){        System.out.println("å¹´çº§æ–¹æ³•è°ƒç”¨äº†");    }    //å—ä¿æŠ¤æ–¹æ³•    protected int  getCredit(int num){        System.out.println("è·å–å­¦åˆ†ï¼š"+num);        return num;    }    @Override    public String toString() {        return "Student{" +                "name='" + name + '\'' +                ", grade='" + grade + '\'' +                ", age=" + age +                ", credit='" + credit + '\'' +                ", course='" + course + '\'' +                '}';    }}</pre><h1 class=pgc-h-arrow-right>é€šè¿‡åå°„è·å–ç±»çš„å¯¹è±¡</h1><p>ä¸»æ–¹æ³•çš„è¿è¡Œ</p><pre>import reflect.Student;public class Main {    public static void main(String[] args) throws ClassNotFoundException {         //1.è·å–Classå¯¹è±¡        //è·å–ç±»å¯¹è±¡çš„ç¬¬ä¸€ç§æ–¹å¼        Class stu =  Class.forName("reflect.Student");        System.out.println("è·å–ç±»çš„å¯¹è±¡1ï¼šï¼š"+stu);        //è·å–ç±»å¯¹è±¡çš„ç¬¬äºŒç§æ–¹å¼        Class stu2 = Student.class;        System.out.println("è·å–ç±»çš„å¯¹è±¡2ï¼šï¼š"+stu);        //è·å–ç±»å¯¹è±¡çš„ç¬¬ä¸‰ç§æ–¹å¼        Class stu3 = new Student().getClass();        System.out.println("è·å–ç±»çš„å¯¹è±¡3ï¼šï¼š"+stu);        System.out.println(stu==stu2);//è¾“å‡ºtrue        System.out.println(stu==stu3);//è¾“å‡ºtrue    }}</pre><p>æŠ›å‡ºå¼‚å¸¸ï¼šClassNotFoundException æ„æ€æ˜¯æ²¡æœ‰æ‰¾åˆ°ç±»çš„å¼‚å¸¸</p><p>è¿è¡Œç»“æœ:</p><div class=pgc-img><img alt=javaåå°„æœºåˆ¶çš„è®²è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9ad2c92f100a4d2e8213dcf70d4781c0><p class=pgc-img-caption></p></div><p>è§£é‡Šä¸€ä¸‹ï¼Œåœ¨ä¸€ä¸ªJVMä¸­ï¼Œä¸€ç§ç±»ï¼Œåªä¼šæœ‰ä¸€ä¸ªç±»å¯¹è±¡å­˜åœ¨ã€‚æ‰€ä»¥ä»¥ä¸Šä¸‰ç§æ–¹å¼å–å‡ºæ¥çš„ç±»å¯¹è±¡ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p><br></p><h1 class=pgc-h-arrow-right>é€šè¿‡åå°„è·å–Studentå±æ€§</h1><pre>import reflect.Student;import java.lang.reflect.Field;import java.lang.reflect.InvocationTargetException;public class Main {    public static void main(String[] args) throws ClassNotFoundException, NoSuchFieldException, NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException {         //1.è·å–Classå¯¹è±¡        //è·å–ç±»å¯¹è±¡çš„ç¬¬ä¸€ç§æ–¹å¼        Class stu =  Class.forName("reflect.Student");        System.out.println("è·å–ç±»çš„å¯¹è±¡1ï¼šï¼š"+stu);               //2.è·å–å­—æ®µ        System.out.println("************è·å–æ‰€æœ‰å…¬æœ‰çš„å­—æ®µ********************");        Field[] fieldArray = stu.getFields();      //éå†å±æ€§        for(Field f : fieldArray){            System.out.println("è·å–æ‰€æœ‰å…¬æœ‰çš„å­—æ®µ"+f);        }        System.out.println("************è·å–æ‰€æœ‰çš„å­—æ®µ(åŒ…æ‹¬ç§æœ‰ã€å—ä¿æŠ¤ã€é»˜è®¤çš„)********************");        fieldArray = stu.getDeclaredFields();        for(Field f : fieldArray){            System.out.println("è·å–æ‰€æœ‰çš„å­—æ®µ(åŒ…æ‹¬ç§æœ‰ã€å—ä¿æŠ¤ã€é»˜è®¤çš„):"+f);        }        System.out.println("*************è·å–å…¬æœ‰å­—æ®µ**å¹¶è°ƒç”¨***********************************");            Field  field = stu.getField("name");            System.out.println("è°ƒç”¨å§“å"+field);      //è·å–ä¸€ä¸ªå¯¹è±¡        Object obj = stu.getConstructor().newInstance();        System.out.println("è®¾ç½®å±æ€§ä¹‹å‰ï¼š" + field.getName() + "===" + field.get(obj));        //ä¸ºå­—æ®µè®¾ç½®å€¼        field.set(obj, "å°æ˜");        //éªŒè¯        Student stuObj = (Student)obj;        System.out.println("è®¾ç½®å±æ€§ä¹‹åï¼š" + field.getName() + "===" + field.get(obj));        System.out.println("**************è·å–ç§æœ‰å­—æ®µ****å¹¶è°ƒç”¨********************************");       Field credit = stu.getDeclaredField("credit");        System.out.println("è·å–ç§æœ‰å­—æ®µ****å¹¶è°ƒç”¨"+credit);        credit.setAccessible(true);//æš´åŠ›åå°„ï¼Œè§£é™¤ç§æœ‰é™å®š        System.out.println("è®¾ç½®å±æ€§ä¹‹å‰ï¼š" + credit.getName()+"===" + credit.get(obj));        credit.set(obj, 999);        System.out.println("è®¾ç½®å±æ€§ä¹‹åï¼š" + credit.getName() + "===" + credit.get(obj));    }}</pre><p>è¿è¡Œç»“æœ</p><p><br></p><div class=pgc-img><img alt=javaåå°„æœºåˆ¶çš„è®²è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b51fcde467cc4660b71d0a72c25c962b><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>é€šè¿‡åå°„è·å–ç±»çš„æ–¹æ³•</h1><pre>import reflect.Student;import java.lang.reflect.Field;import java.lang.reflect.InvocationTargetException;import java.lang.reflect.Method;public class Main {        public static void main(String[] args) throws ClassNotFoundException, NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException {         //1.è·å–Classå¯¹è±¡        //è·å–ç±»å¯¹è±¡çš„ç¬¬ä¸€ç§æ–¹å¼        Class stu =  Class.forName("reflect.Student");        System.out.println("è·å–ç±»çš„å¯¹è±¡1ï¼šï¼š"+stu);           //2.è·å–æ‰€æœ‰å…¬æœ‰æ–¹æ³•        //è·å–ä¸€ä¸ªå¯¹è±¡        Object obj = stu.getConstructor().newInstance();        System.out.println("***************è·å–æ‰€æœ‰çš„â€å…¬æœ‰â€œæ–¹æ³•*******************");        Method[] methodArray = stu.getMethods();        for(Method m : methodArray){            System.out.println("è·å–æ‰€æœ‰å…¬æœ‰æ–¹æ³•"+m);        }        System.out.println("***************è·å–æ‰€æœ‰çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ç§æœ‰çš„*******************");        methodArray = stu.getDeclaredMethods();        for(Method m : methodArray){            System.out.println("è·å–æ‰€æœ‰çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ç§æœ‰çš„"+m);        }        System.out.println("***************è·å–å…¬æœ‰çš„getName()æ–¹æ³•*******************");        Method m = stu.getMethod("getName",String.class);        System.out.println("è·å–å…¬æœ‰çš„getName"+m);        //è®¾è®¡å€¼        m.invoke(obj, "å°");        System.out.println("***************è·å–ç§æœ‰çš„getCredit()æ–¹æ³•******************");        m = stu.getDeclaredMethod("getCredit",int.class);        System.out.println("è·å–ç§æœ‰çš„getCredit()æ–¹æ³•:"+m);        m.setAccessible(true);//è§£é™¤ç§æœ‰é™å®š        Object result = m.invoke(obj, 20);//éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯è¦è°ƒç”¨çš„å¯¹è±¡ï¼ˆè·å–æœ‰åå°„ï¼‰ï¼Œä¸€ä¸ªæ˜¯å®å‚        System.out.println("è¿”å›å€¼å­¦åˆ†ï¼š" + result);    }}</pre><p>åå°„æ–¹æ³•è¿è¡Œç»“æœï¼š</p><p><br></p><div class=pgc-img><img alt=javaåå°„æœºåˆ¶çš„è®²è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1ffafef860534ded8e25e7daa24c6862><p class=pgc-img-caption></p></div><p>ä½¿ç”¨åˆ°çš„å¼‚å¸¸ï¼š</p><pre>ClassNotFoundExceptionÂ  ï¼šÂ æ²¡æœ‰æ‰¾åˆ°ç±»çš„å¼‚å¸¸NoSuchMethodExceptionï¼š  æ²¡æœ‰æ‰¾åˆ°æ–¹æ³•çš„å¼‚å¸¸IllegalAccessException ï¼š æ²¡æœ‰è®¿é—®æƒé™çš„å¼‚å¸¸InvocationTargetException ï¼šåŒ…è£…ç”±è°ƒç”¨æ–¹æ³•æˆ–æ„é€ æ–¹æ³•æ‰€æŠ›å‡ºå¼‚å¸¸çš„å—æŸ¥å¼‚å¸¸InstantiationExceptionï¼š æŒ‡ä¸èƒ½å®ä¾‹åŒ–æŸä¸ªå¯¹è±¡</pre><h1 class=pgc-h-arrow-right>ä¸Javaåå°„ç›¸å…³çš„ç±»å¦‚ä¸‹ï¼š</h1><ol start=1><li>Classç±» ä»£è¡¨ç±»çš„å®ä½“ï¼Œåœ¨è¿è¡Œçš„Javaåº”ç”¨ç¨‹åºä¸­è¡¨ç¤ºç±»å’Œæ¥å£</li><li>Fieldç±» ä»£è¡¨ç±»çš„æˆå‘˜å˜é‡ï¼ˆæˆå‘˜å˜é‡ä¹Ÿç§°ä¸ºç±»çš„å±æ€§ï¼‰</li><li>Methodç±» ä»£è¡¨ç±»çš„æ–¹æ³•</li><li>Constructorç±» ä»£è¡¨ç±»çš„æ„é€ æ–¹æ³•</li></ol><p><br></p><p>åŠ¨æ€ä»£ç†çš„æ—¶å€™ä¹Ÿå¯ä»¥ç”¨åˆ°åå°„ç­‰ã€‚æ¯”å¦‚aopã€‚</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'java','æœºåˆ¶','è®²è§£'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>