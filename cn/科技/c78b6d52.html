<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>8分钟看完，彻底掌握Java正则表达式的十大问题 | 极客快訊</title><meta property="og:title" content="8分钟看完，彻底掌握Java正则表达式的十大问题 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/14ae145d-0620-476a-8a82-7912b192e9b5"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c78b6d52.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c78b6d52.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c78b6d52.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c78b6d52.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c78b6d52.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c78b6d52.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c78b6d52.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c78b6d52.html><meta property="article:published_time" content="2020-11-14T21:07:13+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:13+08:00"><meta name=Keywords content><meta name=description content="8分钟看完，彻底掌握Java正则表达式的十大问题"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/c78b6d52.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>8分钟看完，彻底掌握Java正则表达式的十大问题</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>这篇文章总结了有关Java正则表达式的主要问题。希望可以给同学们带来java学习路上的成长！</p><div class=pgc-img><img alt=8分钟看完，彻底掌握Java正则表达式的十大问题 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/14ae145d-0620-476a-8a82-7912b192e9b5><p class=pgc-img-caption></p></div><p><br></p><p><strong>1.如何从字符串中提取数字？</strong></p><p>使用正则表达式的一个常见问题是将所有数字提取到整数数组中。</p><p>在Java中，\d表示数字范围（0-9）。尽可能使用预定义的类将使您的代码更易于阅读，并消除了格式错误的字符类所引起的错误。请参阅预定义字符类以获取更多详细信息。请注意，第一个反斜杠\在\d。如果在字符串文字中使用转义的构造，则必须在反斜杠之前加上另一个反斜杠，才能编译字符串。这就是为什么我们需要使用\\d。</p><p>列表&lt;整数>数字= <strong>新的</strong> LinkedList &lt;整数> （）;</p><p>模式p =模式。编译（“ <strong>\\</strong> d +” ）;</p><p>匹配器m = p。匹配器（ str ）; <strong>而</strong> （米。找到（）） {</p><p>号码。添加（整数。parseInt函数（米。组（）））; }</p><p><strong>2.如何用换行符分割Java String？</strong></p><p>根据所使用的操作系统，至少有三种输入换行符的方法。</p><p>\ r表示CR（回车），在Unix中使用</p><p>\ n表示LF（换行），在Mac OS中使用</p><p>\ r \ n表示Windows中使用的CR + LF</p><p>因此，用换行符分割字符串的最直接方法是</p><p>字符串行[ ] = 字符串。分割（“ <strong>\\</strong> r？<strong>\\</strong> n” ）;</p><p>但是，如果您不希望出现空行，则可以使用，这也是我最喜欢的方式：</p><p>字符串。分割（“ [ <strong>\\</strong> r <strong>\\</strong> n] +” ）</p><p>一种更可靠的方法（实际上与系统无关）如下。但是请记住，如果两个换行符并排放置，您仍然会得到空行。</p><p>字符串。分裂（系统。的getProperty （“line.separator” ）） ;</p><p><strong>3. Pattern.compile（）的重要性</strong></p><p>必须先将指定为字符串的正则表达式编译为Pattern类的实例。图案。compile（）方法是创建对象实例的唯一方法。因此，典型的调用顺序为</p><p>模式p =模式。编译（“ a * b” ）;</p><p>匹配器匹配器= p。匹配器（“ aaaaab” ）；<strong>断言</strong>匹配器。匹配（） == <strong>true </strong>;</p><p>本质上是<strong>Pattern</strong>。compile（）用于将正则表达式转换为有限状态机（请参见《编译器：原理，技巧和工具》（第二版））。但是执行比赛所涉及的所有状态都位于比赛者中。通过这种方式，<strong>模式</strong> p可以被重用。而且许多匹配器可以共享相同的模式。</p><p>匹配器anotherMatcher = p。匹配器（“ aab” ）；<strong>声明</strong> anotherMatcher。匹配（） == <strong>true </strong>;</p><p><strong>模式</strong>。当只使用一次正则表达式时，matches（）方法被定义为一种便利。该方法仍然使用compile（）隐式获取<strong>Pattern</strong>的实例，并匹配字符串。因此，</p><p><strong>布尔值</strong> b =模式。匹配项（“ a * b”，“ aaaaab” ）;</p><p>等效于上面的第一个代码，尽管对于重复匹配它效率较低，因为它不允许重新使用已编译的模式。</p><p><strong>4.如何转义文本以进行正则表达式？</strong></p><p>通常，正则表达式使用“ \”转义结构，但是要在反斜杠之前加上另一个反斜杠以使Java字符串得以编译是很痛苦的。用户还有另一种方式将字符串Literals传递给<strong>Pattern</strong>，例如“ $ 5”。不用写\\$5or [$]5，我们可以输入</p><p>图案。quote （“ $ 5” ）；</p><p><strong>5.为什么String.split（）需要使用管道定界符进行转义？</strong></p><p><strong>字符串</strong>。split（）在给定正则表达式的匹配项周围拆分字符串。Java表达式支持影响模式匹配方式的特殊字符，称为metacharacter。|是一个元字符，用于匹配多个可能的正则表达式中的单个正则表达式。例如，A|B表示A或B。有关更多详细信息，请参考“竖线或管道符号交替显示”。因此，要|用作文字，您需要通过\在其前面添加来对其进行转义，例如\\|。</p><p><strong>6.我们如何将a n b n与Java正则表达式匹配？</strong></p><p>这是由一定数量的所有非空字符串的语言a的后面是数量相等b的，如ab，aabb和aaabbb。该语言可以显示为无上下文语法S→aSb | ab，因此是非常规语言。</p><p>但是，Java regex实现不仅仅可以识别常规语言。也就是说，根据形式语言理论的定义，它们不是“正常的”。使用<strong>前瞻匹配</strong>和<strong>自引用匹配即可</strong>实现。在这里，我将首先给出最终的正则表达式，然后再进行一些解释。要获得全面的解释，请参阅“ 如何将a ^ nb ^ n与Java regex匹配”。</p><p>模式p =模式。编译（“（？x）（?: a（？= a *（<strong>\\</strong> 1？+ b）））+ <strong>\\</strong> 1” ）；// true 系统。出来。的println （第匹配（“AAABBB” ）。 匹配（））; //错误的System。出来。的println （第匹配（“aaaabbb” ）。 匹配（））; //错误的System。出来。的println （第匹配（“aaabbbb” ）。 匹配（））; //错误的System。出来。的println （第匹配（“caaabbb” ）。 匹配（））;</p><p>与其解释这个复杂的正则表达式的语法，不如说它是如何工作的。</p><p>1. 在第一次迭代中，它在第一次停止，a然后向前看（a使用跳过一些s 之后a*）是否存在b。这是通过使用实现的(?:a(?= a*(\\1?+b)))。如果匹配，\1则自引用匹配将匹配内部括号内的元素，该元素b在第一次迭代中是一个。</p><p>2. 在第二次迭代中，表达式将在第二次停止a，然后向前看（再次跳过as）以查看是否会有b。但是这一次\\1+b实际上等于bb，因此b必须匹配两个。如果是这样，\1将更改为bb第二次迭代后。</p><p>3. 在Ñ次迭代中，表达停止在Ñ个a，看看是否有Ñ b š前方。</p><p>通过这种方式，表达式可以计算as 的数量，并且如果bs 的数量a相同则匹配。</p><p><strong>7.如何用字符串中的单个空格替换2个或更多空格并仅删除前导空格？</strong></p><p><strong>字符串</strong>。replaceAll（）使用给定的替换项替换与给定的正则表达式匹配的每个子字符串。“ 2个或更多空格”可以用正则表达式表示[ ]+。因此，以下代码将起作用。请注意，该解决方案最终不会删除所有前导和尾随空格。如果要删除它们，可以使用<strong>String</strong>。trim（）在管道中。</p><p>字符串行= “ aa bbbbb ccc d” ; //“ aa bbbbb ccc d” 系统。出来。的println （线。的replaceAll （“[ <strong>\\</strong> S] +” ， “” ）） ;</p><p><strong>8.如何确定正则表达式是否为质数？</strong></p><p><strong>public</strong> <strong>static</strong> <strong>void</strong> main （String [ ] args ） {</p><p>//否</p><p>系统。出来。println （素数（1 ））;</p><p>// true</p><p>系统。出来。println （素数（2 ））;</p><p>// true</p><p>系统。出来。println （素数（3 ））;</p><p>// true</p><p>系统。出来。println （素数（5 ））;</p><p>//错误的</p><p>System。出来。println （素数（8 ））;</p><p>// true</p><p>系统。出来。println （素数（13 ））;</p><p>//错误的</p><p>System。出来。println （素数（14 ））;</p><p>//错误的</p><p>System。出来。println （素数（15 ））; }</p><p><strong>公共</strong> <strong>静态</strong> <strong>布尔</strong>素数（<strong>int</strong> n ） {</p><p><strong>返回</strong> ！<strong>new</strong> String （<strong>new</strong> <strong>char </strong>[ n ] ）。匹配（“。？|（.. +？）<strong>\\</strong> 1+” ）; }</p><p>该函数首先生成n个字符，然后尝试查看该字符串是否匹配.?|(..+?)\\1+。如果为质数，则表达式将返回false，并将返回!结果。</p><p>第一部分.?只是试图确保1不是底漆。魔术部分是使用反向引用的第二部分。(..+?)\\1+首先尝试匹配n个字符的长度，然后按重复几次\\1+。</p><p>根据定义，素数是大于1的自然数，除1及其本身外，没有其他除数。这意味着如果a = n * m，则a不是质数。n * m个可进一步解释“重复Ñ 米倍”，并且这正是正则表达式的作用：匹配Ñ字符的长度，通过使用(..+?)，然后重复其中号通过使用倍\\1+。因此，如果模式匹配，则数字不是质数，否则为质数。提醒您，!结果会相反。</p><p><strong>9.如何分割逗号分隔的字符串，但忽略引号中的逗号？</strong></p><p>您已经到了正则表达式崩溃的地步。编写一个简单的分割器更好，更简洁，并根据需要处理特殊情况。</p><p>或者，您可以使用switch语句或if-else来模拟有限状态机的操作。随附的是一段代码。</p><p><strong>public</strong> <strong>static</strong> <strong>void</strong> main （String [ ] args ） {</p><p>字符串 line = “ aaa，bbb，<strong>\”</strong> c，c <strong>\“</strong>，dd; dd，<strong>\”</strong> e，e“ ;</p><p>List &lt; String > toks = splitComma （ line ）;</p><p><strong>for</strong> （字符串吨： toks ） {</p><p>系统。出来。的println （“>” +吨）;</p><p>}}</p><p><strong>私有</strong> <strong>静态</strong>列表&lt; String > splitComma （String str ） {</p><p><strong>int</strong> start = 0 ;</p><p>List &lt; String > toks = <strong>new</strong> ArrayList &lt; String > （）;</p><p><strong>boolean</strong> insideQuote = <strong>false </strong>;</p><p><strong>对</strong> （<strong>INT</strong>端= 0 ;端&lt;海峡长度（）;端++） {</p><p><strong>char</strong> c = str。charAt （ end ）;</p><p><strong>开关</strong>（ Ç ） {</p><p><strong>情况下</strong> '' ：</p><p><strong>如果</strong> （！ withinQuote ） {</p><p>toks。添加（字符串子串（开始，结束））;</p><p>开始=结束+ 1 ;</p><p>}</p><p><strong>打破</strong>;</p><p><strong>大小写</strong> ' <strong>\“</strong> ' ：</p><p>insideQuote = ！insideQuote ;</p><p><strong>休息</strong>;</p><p>}</p><p>}</p><p><strong>如果</strong> （开始&lt;海峡长度（）） {</p><p>toks。添加（海峡子串（开始））;</p><p>}</p><p><strong>返回</strong> toks ; }</p><p><strong>10.如何在Java正则表达式中使用</strong>反向引用</p><p>反向引用是Java正则表达式中的另一个有用功能。</p><p><strong>最后，开发这么多年我也总结了一套学习Java的资料与面试题，如果你在技术上面想提升自己的话，可以关注我，私信发送领取资料或者在评论区留下自己的联系方式，有时间记得帮我点下转发让跟多的人看到哦。</strong></p><div class=pgc-img><img alt=8分钟看完，彻底掌握Java正则表达式的十大问题 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cb08d21bd05844c38788ac415e8c33c1><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=8分钟看完，彻底掌握Java正则表达式的十大问题 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/747f61019baa4f468892157cc11c96b1><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'分钟','彻底','Java'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>