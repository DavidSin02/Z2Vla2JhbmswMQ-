<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>计算机网络自学笔记： 虚电路和数据报网络 | 极客快訊</title><meta property="og:title" content="计算机网络自学笔记： 虚电路和数据报网络 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/8478a4fa25804e97a4e54c0a24657858"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cd653d67.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cd653d67.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/cd653d67.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cd653d67.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cd653d67.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/cd653d67.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/cd653d67.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cd653d67.html><meta property="article:published_time" content="2020-10-29T21:12:28+08:00"><meta property="article:modified_time" content="2020-10-29T21:12:28+08:00"><meta name=Keywords content><meta name=description content="计算机网络自学笔记： 虚电路和数据报网络"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/cd653d67.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>计算机网络自学笔记： 虚电路和数据报网络</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>传输层能够为应用程序提供无连接服务或面向连接服务。</p><p>类似的，网络层也能够提供无连接服务或连接服务。网络层的连接和无连接服务在许多方面等同于传输层的面向连接和无连接服务。</p><p>TCP/IP 网络体系结构(因特网)中，提供了主机到主机的连接服务，称为数据报网络.</p><p>曾经的 ATM 网络，是在网络层提供连接服务的计算机网络，被称为虚电路(了解这种技术就可以了，现在已经不用了，但是可以在这种技术的发展、消亡中学到点什么)。</p><p>在传输层实现面向连接的服务与在网络层实现连接服务是根本不同的。传输层面向连接服务是在位于网络边缘的端系统中实现的；而网络层连接服务除了在端系统中实现外，也在位于网络核心的路由器中实现。</p><p>虚电路和数据报网络是计算机网络的两种基本类型。</p><p>一：虚电路网络</p><p>曾经的许多网络体系结构(包括 ATM、帧中继)都是虚电路网络，在网络层使用连接，这 些网络层连接被称为虚电路。</p><p>尽管虚电路技术已经不再使用，但是类似的思想在电话网络和多协议标记交换网络 (MPLS)还是有其应用，因此学习虚电路技术还是有必要的。</p><p>一条虚电路(VC)的组成如下:</p><p>①源和目的主机之间的路径(即一系列链路和路由器);</p><p>②VC 号，沿着该路径的每段链路一个号码;</p><p>③沿着该路径的每台路由器中的转发表表项。</p><p>属于一条虚电路的分组将在它的首部携带一个 VC 号。因为一条虚电路在每条链路上可能具有不同的VC号，所以每台中间路由器必须用一个新的VC号替代每个传输分组的VC号。 这个新的 VC 号从转发表中获得。</p><p>考虑图中的网络，现在假定主机 A 请求该网络在它自己与主机 B 之间创建一条虚电路。 同时假定该网络为该虚电路选择路径 A-R1-R2-B，并为这条路径上的这 3 条链路分配 VC 号 12、22 和 32。在这种情况下，当这条虚电路中的分组离开主机 A 时，该分组首部中的 VC 字段的值是 12；当它离开 R1 时该值是 22，而当它离开 R2 时该值是 32。</p><div class=pgc-img><img alt="计算机网络自学笔记： 虚电路和数据报网络" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8478a4fa25804e97a4e54c0a24657858><p class=pgc-img-caption></p></div><p>对于分组通过某路由器，该路由器怎样决定 VC 号的更换呢?对于虚电路网络，每台路由 器的转发表包括了 VC 号的转换。例如，R1 中的转发表可能是：</p><div class=pgc-img><img alt="计算机网络自学笔记： 虚电路和数据报网络" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/07ed7097af294f02ab19205e8567531f><p class=pgc-img-caption></p></div><p>当跨越一台路由器创建一条新的虚电路时，转发表就增加一个新项。类似地，无论何时 终止一条虚电路，就删除沿着该路径每个表中的相应项。</p><p>一个分组沿着其路由在每条链路上不能保持相同的 VC 号。原因有二：</p><ol><li>逐链路代替该号码减少了分组首部中 VC 字段的长度。通过允许沿着该虚电路路径每条链路有一个不同的 VC 号，大大简化了虚电路的建立。特别是具有多个 VC 号，该路径上的每条链路能够选择一个 VC 号，独立于沿着该路 径的其他链路的 VC 号。如果沿着某路径的所有链路需要一个共同的 VC 号的话，路由器将 不得不交换相当大量的报文，以约定一个共同的 VC 号来用于一次连接。</li></ol><p>在虚电路中有 3 个明显不同的阶段:</p><p>1:虚电路建立。</p><p>虚电路的所有分组要通过的一系列链路与路由器。网络层也为沿着该路径 的每条链路确定一个 VC 号。在沿着路径的每台路由器的转发表中增加一表项。在虚电路建 立期间，网络层还可以预留虚电路路径上的资源(如带宽)。</p><p>2:数据传送。一旦创建了虚电路，分组就可以开始沿该虚电路流动了。</p><p>3:虚电路拆除。当发送方(或接收方)通知网络层它想终止该虚电路时，就启动这个过程。</p><p>在网络层的虚电路建立与传输层的连接建立之间的区别：</p><p>传输层的连接建立仅涉及两个端系统。</p><p>虚电路网络中，沿两个端系统之间路径土的路由器都要参与虚电路的建立，且每台路由 器都完全知道经过它的所有虚电路。</p><p>端系统向网络发送指示虚电路启动与终止的报文，以及路由器之间传递的用于建立虚电 路(即修改路由器表中的连接状态)的报文被称为信令报文，用来交换这些报文的协议常称为 信令协议。</p><p>二:数据报网络</p><p>在数据报网络中，每当一个端系统要发送分组时，它就为该分组加上目的地端系统的地 址，然后将该分组推进网络中。</p><p>在数据报网络中，路由器没有虚电路的概念，当然不维护任何类似虚电路的状态信息。</p><p>分组从源向目的地传输通过一系列路由器。路由器中的每个都使用该分组的目的地址来 转发该分组。</p><p>路由器有一个将目的地址映射到链路接口的转发表，当分组到达路由器时，该路由器使 用该分组的目的地址在该转发表中查找适当的输出链路接口。然后，路由器有意识地将该分 组向该输出链路接口转发。</p><p>由于转发表使用地址块索引输出链路，因此一个目的地址可能匹配多项。当有多个匹配时，该路由器使用最长前缀匹配规则，即在该表中寻找最长的匹配项，并向与最长前缀匹配的链路接口转发该分组。</p><p>3 虚电路和数据报网络的由来</p><p>虚电路的概念来源于电话领域，它采用了真正的电路，使用 VC 号转发分组。</p><p>因特网作为一种数据报网络，是由互连计算机的需求发展而来的，使用 IP 地址转发分组。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'网络','计算机','自学'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>