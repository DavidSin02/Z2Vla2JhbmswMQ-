<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Oracle 20c æ–°ç‰¹æ€§ï¼šè¡¨è¾¾å¼å‚æ•°å€¼ Expressions Parameter Values | æå®¢å¿«è¨Š</title><meta property="og:title" content="Oracle 20c æ–°ç‰¹æ€§ï¼šè¡¨è¾¾å¼å‚æ•°å€¼ Expressions Parameter Values - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/a47b300d9f754c2c974b6affde4b205a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ce7eb905.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ce7eb905.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ce7eb905.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ce7eb905.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ce7eb905.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ce7eb905.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ce7eb905.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ce7eb905.html><meta property="article:published_time" content="2020-11-14T21:06:35+08:00"><meta property="article:modified_time" content="2020-11-14T21:06:35+08:00"><meta name=Keywords content><meta name=description content="Oracle 20c æ–°ç‰¹æ€§ï¼šè¡¨è¾¾å¼å‚æ•°å€¼ Expressions Parameter Values"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/ce7eb905.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Oracle 20c æ–°ç‰¹æ€§ï¼šè¡¨è¾¾å¼å‚æ•°å€¼ Expressions Parameter Values</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p>åŸæ–‡é“¾æ¥ï¼šhttps://mp.weixin.qq.com/s/dtytXNvDjfkFr_ZRYDlMOA å¤åˆ¶è‡³æµè§ˆå™¨ï¼Œå³å¯æŸ¥çœ‹</p><p>ï¼ˆå…³æ³¨â€œæ•°æ®å’Œäº‘â€å…¬ä¼—å·ï¼Œäº†è§£æ›´å¤šè¡Œä¸šèµ„è®¯ï¼Œå­¦ä¹ æœ€æ–°æ•°æ®åº“çŸ¥è¯†ç‚¹ï¼ï¼‰</p><p><br></p><p><strong>æ‘˜è¦ï¼š</strong>ä»Oracleæ•°æ®åº“20cå¼€å§‹ï¼Œæ‚¨å¯ä»¥æŒ‡å®šä¸€ä¸ªè¡¨è¾¾å¼ä½œä¸ºæŸäº›åˆå§‹åŒ–å‚æ•°çš„å€¼ï¼Œè¿™ä½¿å¾—æ•°æ®åº“èƒ½å¤Ÿæ ¹æ®ç¯å¢ƒå˜åŒ–è‡ªåŠ¨è°ƒæ•´å‚æ•°å€¼ã€‚è¿™åœ¨ Oracle Autonomous æ•°æ®åº“ç¯å¢ƒä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚</p><p>åœ¨ Oracle 20c ä¸­ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªè¡¨è¾¾å¼ä½œä¸ºåˆå§‹åŒ–å‚æ•°çš„å€¼ã€‚</p><ol start=1><li>åˆå§‹åŒ–å‚æ•°çš„æœ€ä½³å€¼å¯èƒ½å–å†³äºç¯å¢ƒç‰¹æ€§ï¼Œå¦‚ç³»ç»Ÿé…ç½®ã€è¿è¡Œæ—¶çš„å†³å®šä»¥åŠå…¶ä»–å‚æ•°çš„å€¼ã€‚</li><li>åœ¨ä»¥å‰çš„ç‰ˆæœ¬ä¸­ï¼Œæ‚¨åœ¨è®¾ç½®åˆå§‹åŒ–å‚æ•°æ—¶éœ€è¦æŒ‡å®šä¸€ä¸ªç»å¯¹å€¼ï¼Œè¿™æ„å‘³ç€ç»´æŒå…¶æœ€ä½³å€¼éœ€è¦æ‰‹åŠ¨ç›‘ç£å’Œè°ƒæ•´ã€‚</li><li>ä»Oracleæ•°æ®åº“20cå¼€å§‹ï¼Œæ‚¨å¯ä»¥æŒ‡å®šä¸€ä¸ªè¡¨è¾¾å¼ä½œä¸ºæŸäº›åˆå§‹åŒ–å‚æ•°çš„å€¼ï¼Œè¿™ä½¿å¾—æ•°æ®åº“èƒ½å¤Ÿæ ¹æ®ç¯å¢ƒå˜åŒ–è‡ªåŠ¨è°ƒæ•´å‚æ•°å€¼ã€‚è¿™åœ¨ Oracle Autonomous æ•°æ®åº“ç¯å¢ƒä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚</li><li>åœ¨ Oracle Real Application Cluster (Oracle RAC) ç¯å¢ƒä¸­ï¼Œä¸ºå‚æ•°å€¼æŒ‡å®šè¡¨è¾¾å¼ä¹Ÿå¾ˆæœ‰ç”¨ã€‚</li><li>æ‚¨å¯ä»¥åœ¨æ‰€æœ‰ Oracle RAC å®ä¾‹ä¸­ä¸ºå‚æ•°å€¼æŒ‡å®šç›¸åŒçš„è¡¨è¾¾å¼ï¼Œä½†è¯¥è¡¨è¾¾å¼å°†åœ¨æ¯ä¸ªå®ä¾‹çš„åŸºç¡€ä¸Šåˆ©ç”¨å½“å‰å®ä¾‹çš„ç¯å¢ƒç‰¹å¾è¿›è¡Œè¯„ä¼°ã€‚è¿™å…è®¸æ•°æ®åº“å¯¹æ¯ä¸ª Oracle RAC å®ä¾‹çš„å‚æ•°å€¼è¿›è¡Œå¾®è°ƒã€‚</li></ol><p>å¯ä»¥åªä¸ºåˆå§‹åŒ–å‚æ•°ç±»å‹ä¸º integer æˆ– big integer çš„å‚æ•°æŒ‡å®šè¡¨è¾¾å¼ã€‚</p><div class=pgc-img><img alt="Oracle 20c æ–°ç‰¹æ€§ï¼šè¡¨è¾¾å¼å‚æ•°å€¼ Expressions Parameter Values" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a47b300d9f754c2c974b6affde4b205a><p class=pgc-img-caption></p></div><p>å¦‚ä¸‹æ˜¯ä¸€ä¸ªæµ‹è¯•èŒƒä¾‹ï¼š</p><pre><code>SQL&gt; show parameter aqNAME				     TYPE	 VALUE------------------------------------ ----------- ------------------------------aq_tm_processes 		     integer	 1SQL&gt; ALTER SYSTEM SET AQ_TM_PROCESSES = 'MIN(40, PROCESSES * .1)';System altered.SQL&gt; show parameter aqNAME				     TYPE	 VALUE------------------------------------ ----------- ------------------------------aq_tm_processes 		     integer	 30SQL&gt; show parameter spfileNAME				     TYPE	 VALUE------------------------------------ ----------- ------------------------------spfile				     string	 /scratch/app/user/dbs/spfileenmotech.ora</code></pre><p>æ£€æŸ¥ä¸€ä¸‹å‚æ•°æ–‡ä»¶ä¸­çš„è®°å½•ä¿¡æ¯ï¼š</p><pre><code>[oracle@enmotech dbs]$ strings spfileenmotech.ora |grep aq*.aq_tm_processes=MIN(40, PROCESSES * .1)</code></pre><p>æŒ‰ç…§æ–‡æ¡£æè¿°ï¼Œé’ˆå¯¹CPUæ•°é‡ï¼Œå¯ä»¥é€šè¿‡ CPU_COUNT å‚æ•°è¿›è¡ŒåŠ¨æ€å‚æ•°å€¼è®¾ç½®ã€‚ä¾‹å¦‚ï¼š</p><pre><code>CPU_COUNT = $SYSTEM_CPU/5</code></pre><p>æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹è¿™ä¸ªè®¾ç½®ï¼Œæ³¨æ„å½“æœªè®¾ç½® SYSTEM_CPU ç¯å¢ƒå˜é‡æ—¶ï¼Œç³»ç»Ÿæç¤º LRM-00119 é”™è¯¯ï¼Œæ„æ€æ˜¯æ— æ³•æ´»åŠ¨ç³»ç»Ÿå‚æ•°ã€‚</p><pre><code>SQL&gt; alter system set cpu_count = '$SYSTEM_CPU *2';alter system set cpu_count = '$SYSTEM_CPU *2'*ERROR at line 1:ORA-13398: invalid expression parameter: $SYSTEM_CPU *2LRM-00119: unable to obtain a valid value for '${SYSTEM_CPU}'</code></pre><p>æ¥ä¸‹æ¥è®¾ç½® OS ç¯å¢ƒå˜é‡å‚æ•°ï¼š</p><pre><code>[oracle@enmotech ~]$ export SYSTEM_CPU=10[oracle@enmotech ~]$ echo $SYSTEM_CPU10[oracle@enmotech ~]$ sqlplus / as sysdbaSQL*Plus: Release 20.0.0.0.0 - Production on Tue Apr 21 05:10:04 2020Version 20.2.0.0.0Copyright (c) 1982, 2020, Oracle.  All rights reserved.Connected to:Oracle Database 20c Enterprise Edition Release 20.0.0.0.0 - ProductionVersion 20.2.0.0.0SQL&gt; alter system set cpu_count = '$SYSTEM_CPU *2';alter system set cpu_count = '$SYSTEM_CPU *2'*ERROR at line 1:ORA-02097: parameter cannot be modified because specified value is invalidORA-02097: parameter cannot be modified because specified value is invalidSQL&gt; </code></pre><p>æ³¨æ„ï¼Œæ­¤æ—¶æç¤ºæ˜¯å‚æ•°å€¼ INVALID ï¼Œæ— æ•ˆï¼Œæ£€æŸ¥å‘Šè­¦æ—¥å¿—æ–‡ä»¶,å…¶ä¸­æç¤ºè®¾ç½®çš„ CPU æ•°é‡å’Œæ“ä½œç³»ç»Ÿè·å–å€¼ä¸åŒï¼š</p><pre><code>2020-04-21T05:10:11.221117+00:00ORA-2097: CPU_COUNT cannot be set to 20 because it exceeds 1, the number of CPUs reported by the OS</code></pre><p>è®¾ç½®å‚æ•°æ–‡ä»¶ï¼Œé‡å¯æ•°æ®åº“æ£€æŸ¥å˜åŒ–ï¼Œå¯ä»¥å‘ç° cpu_count è®¾ç½®æœªç”Ÿæ•ˆï¼Œè¿™æ„å‘³ç€ os çš„çœŸå®å€¼å½±å“ä¼˜å…ˆçº§æ›´é«˜ï¼š</p><pre><code>SQL&gt; alter system set cpu_count = '$SYSTEM_CPU *2' scope=spfile;System altered.SQL&gt; startup force;ORACLE instance started.Total System Global Area  788529032 bytesFixed Size		    9572232 bytesVariable Size		  662700032 bytesDatabase Buffers	  113246208 bytesRedo Buffers		    3010560 bytesDatabase mounted.Database opened.SQL&gt; show parameter cpu NAME				     TYPE	 VALUE------------------------------------ ----------- ------------------------------cpu_count			     integer	 1cpu_min_count			     string	 1parallel_threads_per_cpu	     integer	 1resource_manager_cpu_allocation      integer	 1</code></pre><p>ä½†æ˜¯å¯ä»¥çœ‹åˆ°å‚æ•°è®¾ç½®å·²ç»ç”Ÿæ•ˆï¼ˆæ³¨æ„ï¼Œè®¾ç½®å‚æ•°åï¼Œéœ€è¦åœ¨ç¯å¢ƒå˜é‡ä¸­æ·»åŠ å˜é‡ï¼Œå¦åˆ™å¯åŠ¨æ—¶å°†æ— æ³•è¯†åˆ« SYSTEM_CPU è€Œå‡ºé”™ï¼‰ï¼š</p><pre><code>[oracle@enmotech trace]$ cd /scratch/app/user/dbs/[oracle@enmotech dbs]$ strings spfileenmotech.ora |grep cpu_count*.cpu_count=(${SYSTEM_CPU} * 2)</code></pre><p>å¯ä»¥çœ‹åˆ°å‚æ•°æ–‡ä»¶ä¸­ï¼Œè®°å½•äº†è¡¨è¾¾å¼ï¼Œè¿™ä½¿å¾—æ•°æ®åº“çš„è®¾ç½®æ›´åŠ çµæ´»ï¼Œæ™ºèƒ½ã€‚</p><p>å‚è€ƒï¼šParameter Files</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Oracle','20c','è¡¨è¾¾å¼'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>