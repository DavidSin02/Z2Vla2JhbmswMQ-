<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>æ¶æ„å¸ˆå†…åŠŸå¿ƒæ³•ï¼Œä¸­å›½ä¸æ—¥æœ¬äº¤æµç”µå‹å…¼å®¹æ€§é—®é¢˜çš„é€‚é…å™¨æ¨¡å¼è¯¦è§£ | æå®¢å¿«è¨Š</title><meta property="og:title" content="æ¶æ„å¸ˆå†…åŠŸå¿ƒæ³•ï¼Œä¸­å›½ä¸æ—¥æœ¬äº¤æµç”µå‹å…¼å®¹æ€§é—®é¢˜çš„é€‚é…å™¨æ¨¡å¼è¯¦è§£ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/be3198d6b6434788b6b4caf468fda2d2"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cf16069.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cf16069.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/cf16069.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cf16069.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cf16069.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/cf16069.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/cf16069.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cf16069.html><meta property="article:published_time" content="2020-10-29T20:53:45+08:00"><meta property="article:modified_time" content="2020-10-29T20:53:45+08:00"><meta name=Keywords content><meta name=description content="æ¶æ„å¸ˆå†…åŠŸå¿ƒæ³•ï¼Œä¸­å›½ä¸æ—¥æœ¬äº¤æµç”µå‹å…¼å®¹æ€§é—®é¢˜çš„é€‚é…å™¨æ¨¡å¼è¯¦è§£"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/cf16069.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>æ¶æ„å¸ˆå†…åŠŸå¿ƒæ³•ï¼Œä¸­å›½ä¸æ—¥æœ¬äº¤æµç”µå‹å…¼å®¹æ€§é—®é¢˜çš„é€‚é…å™¨æ¨¡å¼è¯¦è§£</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>ä¸€ã€é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨åœºæ™¯</h1><p>æˆ‘ä»¬åœ¨ç°å®ç”Ÿæ´»è§è¯†åˆ°çš„ç”µæºæ’å¤´è½¬æ¢å™¨ã€æ‰‹æœºå……ç”µè½¬æ¢å¤´ã€æ˜¾ç¤ºå™¨è½¬æ¥å¤´ç­‰éƒ½æ˜¯é€‚é…å™¨æ¨¡å¼çš„ä½“ç°ã€‚é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰æ˜¯æŒ‡ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œä½¿åŸæœ¬çš„æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚</p><div class=pgc-img><img alt=æ¶æ„å¸ˆå†…åŠŸå¿ƒæ³•ï¼Œä¸­å›½ä¸æ—¥æœ¬äº¤æµç”µå‹å…¼å®¹æ€§é—®é¢˜çš„é€‚é…å™¨æ¨¡å¼è¯¦è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/be3198d6b6434788b6b4caf468fda2d2><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=æ¶æ„å¸ˆå†…åŠŸå¿ƒæ³•ï¼Œä¸­å›½ä¸æ—¥æœ¬äº¤æµç”µå‹å…¼å®¹æ€§é—®é¢˜çš„é€‚é…å™¨æ¨¡å¼è¯¦è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a33d44c251af4c59a4bd8819219cc38f><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=æ¶æ„å¸ˆå†…åŠŸå¿ƒæ³•ï¼Œä¸­å›½ä¸æ—¥æœ¬äº¤æµç”µå‹å…¼å®¹æ€§é—®é¢˜çš„é€‚é…å™¨æ¨¡å¼è¯¦è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/08eba25d25a84ae9a799459c2db0c100><p class=pgc-img-caption></p></div><p>é€‚é…å™¨æ¨¡å¼é€‚ç”¨äºä»¥ä¸‹å‡ ç§åº”ç”¨åœºæ™¯ï¼š</p><ul><li>å·²ç»å­˜åœ¨çš„ç±»ï¼Œå®ƒçš„æ–¹æ³•å’Œéœ€æ±‚ä¸åŒ¹é…ï¼ˆæ–¹æ³•ç»“æœç›¸åŒæˆ–ç›¸ä¼¼ï¼‰çš„æƒ…å†µã€‚</li><li>é€‚é…å™¨æ¨¡å¼ä¸æ˜¯åœ¨è½¯ä»¶åˆå§‹é˜¶æ®µè€ƒè™‘çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒæ˜¯éšç€è½¯ä»¶çš„å‘å±•ï¼Œç”±äºä¸åŒçš„äº§å“ã€ä¸åŒçš„å‚å®¶é€ æˆåŠŸèƒ½ç±»ä¼¼è€Œæ¥å£ä¸åŒçš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œæœ‰ç‚¹äº¡ç¾Šè¡¥ç‰¢çš„æ„Ÿè§‰ã€‚</li></ul><h2 class=pgc-h-arrow-right>1.1 ä¸­å›½ä¸æ—¥æœ¬äº¤æµç”µå‹å…¼å®¹æ€§é—®é¢˜</h2><p>å¤§å®¶éƒ½çŸ¥é“ï¼Œæˆ‘å›½æ°‘ç”¨ç”µç”µå‹æ˜¯220Vï¼Œè€Œæ—¥æœ¬çš„ç”µå‹ä¸º100Vï¼Œå¦‚æœå»è¿‡æ—¥æœ¬æ—…æ¸¸çš„æœ‹å‹åº”è¯¥ä¼šçŸ¥é“ï¼Œæˆ‘ä»¬åœ¨å…¥ä½é…’åº—æ—¶ä½¿ç”¨ç”µæºæ¥ç»™æ‰‹æœºå……ç”µçš„æ—¶å€™å°±éœ€è¦ä½¿ç”¨ç”µæºæ’å¤´è½¬æ¢å™¨æ¥è¿›è¡Œè½¬æ¢ç”µå‹ï¼Œè¿™æ ·æ‰èƒ½ç»™è‡ªå·±çš„æ‰‹æœºè¿›è¡Œå……ç”µã€‚</p><p>é¦–å…ˆåˆ›å»ºAC220ç±» ï¼Œè¡¨ç¤º220Väº¤æµç”µä¸­å›½æ ‡å‡†ï¼š</p><pre><code>public class AC220 {    public BigDecimal outputAC220V(){        BigDecimal output = new BigDecimal(220);        System.out.println("ä¸­å›½è¾“å‡ºäº¤æµç”µ" + output + "V");        return output;    }}</code></pre><p>åˆ›å»º DC100 æ¥å£ï¼Œè¡¨ç¤º 100V ç›´æµç”µçš„æ—¥æœ¬æ ‡å‡†ï¼š</p><pre><code>public interface DC100 {    BigDecimal outputDC100V();}</code></pre><p>åˆ›å»ºç”µæºé€‚é…å™¨ PowerAdapter ç±»ï¼š</p><pre><code>public class PowerAdapter implements DC100 {    private AC220 ac220;    public PowerAdapter(AC220 ac220) {        this.ac220 = ac220;    }    @Override    public BigDecimal outputDC100V() {        BigDecimal adapterInput = ac220.outputAC220V();        BigDecimal adapterOutput = adapterInput.divide(new BigDecimal(2.2), 2, BigDecimal.ROUND_HALF_UP)  ;        System.out.println("ä½¿ç”¨ PowerAdapter è¾“å…¥ AC: " + adapterInput.intValue() +                "V" + "ï¼Œæ—¥æœ¬è¾“å‡º DC: " + adapterOutput.intValue() + "V");        return  adapterOutput;    }}</code></pre><p>æµ‹è¯•mainæ–¹æ³•ï¼š</p><pre><code>public static void main(String[] args) {    DC100 dc100 = new PowerAdapter(new AC220());    dc100.outputDC100V(); }</code></pre><p>ä¸Šé¢çš„æ¡ˆä¾‹ä¸­ï¼Œé€šè¿‡å¢åŠ  PowerAdapterç”µæºé€‚é…å™¨ï¼Œå®ç°äº†ä¸­å›½ä¸æ—¥æœ¬äº¤æµç”µå‹äºŒè€…çš„å…¼å®¹æ€§é—®é¢˜ã€‚</p><h2 class=pgc-h-arrow-right>1.2 ç¬¬ä¸‰æ–¹ç™»å½•è‡ªç”±é€‚é…çš„é—®é¢˜</h2><p>ç°åœ¨æµè§ˆä¸€äº›ç½‘ç«™ã€åšå®¢ã€è®ºå›ä»¥åŠæ‰‹æœºAPPçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä»¥QQã€å¾®ä¿¡ã€æ–°æµªå¾®åšç­‰å¤šç§æ–¹å¼è¿›è¡Œç³»ç»Ÿç™»å½•ã€‚è™½ç„¶ç™»å½•å½¢å¼ä¸°å¯Œäº†ï¼Œä½†æ˜¯ç™»å½•åçš„é€»è¾‘ä¸ç”¨ä¿®æ”¹ï¼ŒåŒæ ·æ˜¯ä¿å­˜ç™»å½•çŠ¶æ€åˆ°sessionï¼Œéµå¾ªå¼€é—­åŸåˆ™ã€‚</p><p>é¦–å…ˆåˆ›å»ºç»Ÿä¸€çš„ç»“æœè¿”å›ç±»ï¼š</p><pre><code>public class ResultMsg {    private int code;    private String msg;    private Object data;    public ResultMsg(int code, String msg, Object data) {        this.code = code;        this.msg = msg;        this.data = data;    }    public int getCode() {        return code;    }    public void setCode(int code) {        this.code = code;    }    public String getMsg() {        return msg;    }    public void setMsg(String msg) {        this.msg = msg;    }    public Object getData() {        return data;    }    public void setData(Object data) {        this.data = data;    }    @Override    public String toString() {        return "ResultMsg{" +                "code=" + code +                ", msg='" + msg + '\'' +                ", data=" + data +                '}';    }}</code></pre><p>åˆ›å»ºç”¨æˆ·ç±»ï¼š</p><pre><code>public class User {    private String id;    private String username;    private String password;    private String info;    public String getId() {        return id;    }    public void setId(String id) {        this.id = id;    }    public String getUsername() {        return username;    }    public void setUsername(String username) {        this.username = username;    }    public String getPassword() {        return password;    }    public void setPassword(String password) {        this.password = password;    }    public String getInfo() {        return info;    }    public void setInfo(String info) {        this.info = info;    }}</code></pre><p>ä¹‹å‰è€çš„ç™»å½•é€»è¾‘ç±»æ˜¯è¿™æ ·å­çš„ï¼š</p><pre><code>public class SignService {    /**     * æ³¨å†Œ     * @param username     * @param password     * @return     */    public ResultMsg register(String username, String password) {        User user = new User();        user.setUsername(username);        user.setPassword(password);        return new ResultMsg(0, "æ³¨å†ŒæˆåŠŸ", user);    }    /**     * ç™»å½•     * @param username     * @param password     * @return     */    public ResultMsg login(String username, String password) {        return null;    }}</code></pre><p>æˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ç»§æ‰¿åŸæ¥çš„ç™»å½•é€»è¾‘ç±»ï¼Œä¹‹å‰çš„ä»£ç æˆ‘ä»¬æ— éœ€åšä»»ä½•æ”¹åŠ¨ï¼š</p><pre><code>public class Sign4ThirdpartyService extends SignService {    public ResultMsg login4Register(String username,String password){        super.register(username,password);        return super.login(username,password);    }    public ResultMsg login4Phone(String phone,String code){        return null;    }    public ResultMsg login4Token(String token){        //é€šè¿‡ token æ‹¿åˆ°ç”¨æˆ·ä¿¡æ¯ï¼Œç„¶åå†é‡æ–°ç™»é™†äº†ä¸€æ¬¡        return null;    }    public ResultMsg login4QQ(String openId){        //1ã€openId æ˜¯å…¨å±€å”¯ä¸€        //2ã€å¯†ç é»˜è®¤ä¸º QQ_EMPTY        //3ã€æ³¨å†Œï¼ˆåœ¨åŸæœ‰ç³»ç»Ÿé‡Œé¢åˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼‰        //4ã€è°ƒç”¨åŸæ¥çš„ç™»å½•æ–¹æ³•        return login4Register(openId,null);    }    public ResultMsg login4Wechat(String openId){        return null;    }}</code></pre><p>mainæ–¹æ³•ï¼š</p><pre><code> public static void main(String[] args) {    Sign4ThirdpartyService service = new Sign4ThirdpartyService();    service.login4QQ("qwqwqweyrtyrt13234");}</code></pre><p>å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥æ ¹æ®ä¸åŒçš„ç™»å½•æ–¹å¼åˆ›å»ºä¸åŒçš„Adapteré€‚é…å™¨ï¼Œæ¥ç€æ”¹é€ ä»£ç ï¼š</p><p>é¦–å…ˆï¼Œåˆ›å»º LoginAdapter æ¥å£ï¼š</p><pre><code>public interface LoginAdapter {    boolean support(Object adapter);    ResultMsg login(String id, Object adapter);}</code></pre><p>åˆ†åˆ«å®ç°ä¸åŒçš„ç™»å½•é€‚é…ï¼ŒQQ ç™»å½• LoginForQQAdapterï¼š</p><pre><code>public class Login4QQAdapter implements LoginAdapter {    @Override    public boolean support(Object adapter) {        return adapter instanceof Login4QQAdapter;    }    @Override    public ResultMsg login(String id, Object adapter) {        return null;    }}</code></pre><p>å¾®ä¿¡ç™»å½• LoginForWechatAdapterï¼š</p><pre><code>public class Login4WechatAdapter implements LoginAdapter {    @Override    public boolean support(Object adapter) {        return adapter instanceof Login4WechatAdapter;    }    @Override    public ResultMsg login(String id, Object adapter) {        return null;    }}</code></pre><p>tokenç™»å½• Login4TokenAdapterï¼š</p><pre><code>public class Login4TokenAdapter implements LoginAdapter {    @Override    public boolean support(Object adapter) {        return adapter instanceof Login4TokenAdapter;    }    @Override    public ResultMsg login(String id, Object adapter) {        return null;    }}</code></pre><p>æ‰‹æœºå·ç ç™»å½• Login4TelphoneAdapterï¼š</p><pre><code>public class Login4TelphoneAdapter implements LoginAdapter {    @Override    public boolean support(Object adapter) {        return adapter instanceof Login4TelphoneAdapter;    }    @Override    public ResultMsg login(String id, Object adapter) {        return null;    }}</code></pre><p>åˆ›å»ºä¸ç¬¬ä¸‰æ–¹å…¼å®¹æ¥å£ IPassport4Thirdpartyï¼š</p><pre><code>public interface IPassport4Thirdparty {    /**     * QQ ç™»å½•     * @param id     * @return    23     */    ResultMsg login4QQ(String id);    /**     * å¾®ä¿¡ç™»å½•     * @param id     * @return     */    ResultMsg login4Wechat(String id);    /**     * è®°ä½ç™»å½•çŠ¶æ€åè‡ªåŠ¨ç™»å½•     * @param token     * @return     */    ResultMsg login4Token(String token);    /**     * æ‰‹æœºå·ç™»å½•     * @param telphone     * @param code     * @return     */    ResultMsg login4Telphone(String telphone, String code);    /**     * æ³¨å†Œåè‡ªåŠ¨ç™»å½•     * @param username     * @param passport     * @return     */    ResultMsg login4Register(String username, String passport);}</code></pre><p>å®ç°å…¼å®¹é€‚é…å™¨ Passport4ThirdpartyAdapterï¼š</p><pre><code>public class Passport4ThirdpartyAdapter extends SignService implements IPassport4Thirdparty {    private ResultMsg processLogin(String key, Class&lt;? extends LoginAdapter&gt; clazz) {        try {            LoginAdapter loginAdapter = clazz.newInstance();            if(loginAdapter.support(loginAdapter)) {                return loginAdapter.login(key, loginAdapter);            }else {                return null;            }        } catch (InstantiationException e) {            e.printStackTrace();        } catch (IllegalAccessException e) {            e.printStackTrace();        }        return null;    }    @Override    public ResultMsg login4QQ(String id) {        return processLogin(id, Login4QQAdapter.class);    }    @Override    public ResultMsg login4Wechat(String id) {        return processLogin(id, Login4WechatAdapter.class);    }    @Override    public ResultMsg login4Token(String token) {        return processLogin(token, Login4TokenAdapter.class);    }    @Override    public ResultMsg login4Telphone(String telphone, String code) {        return processLogin(telphone, Login4TelphoneAdapter.class);    }    @Override    public ResultMsg login4Register(String username, String passport) {        super.register(username,null);        return super.login(username,null);    }}</code></pre><p>æœ€åæ¥çœ‹ä¸€ä¸‹ç±»å›¾ï¼š</p><div class=pgc-img><img alt=æ¶æ„å¸ˆå†…åŠŸå¿ƒæ³•ï¼Œä¸­å›½ä¸æ—¥æœ¬äº¤æµç”µå‹å…¼å®¹æ€§é—®é¢˜çš„é€‚é…å™¨æ¨¡å¼è¯¦è§£ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2db21526f8384846bc2d1d97741e10f4><p class=pgc-img-caption></p></div><p>è‡³æ­¤ï¼Œæˆ‘ä»¬åœ¨éµå¾ªå¼€é—­åŸåˆ™çš„å‰æä¸‹ï¼Œå®Œæ•´åœ°å®ç°äº†ä¸€ä¸ªå…¼å®¹å¤šå¹³å°ç™»å½•çš„ä¸šåŠ¡åœºæ™¯ã€‚å½“ç„¶ï¼Œç›®å‰çš„è¿™ä¸ªè®¾è®¡ä¹Ÿå¹¶ä¸å®Œç¾ï¼Œä»…ä¾›å‚è€ƒã€‚ä¸Šé¢çš„ä»£ç å¯ä»¥è¯´æ˜¯<strong>ç­–ç•¥æ¨¡å¼ã€ç®€å•å·¥å‚æ¨¡å¼å’Œé€‚é…å™¨æ¨¡å¼çš„ç»¼åˆè¿ç”¨ã€‚</strong></p><h1 class=pgc-h-arrow-right>äºŒã€é€‚é…å™¨æ¨¡å¼åœ¨æºç ä¸­çš„ä½“ç°</h1><h2 class=pgc-h-arrow-right>2.1 Springä¸­çš„AdvisorAdapteræ¥å£</h2><p>Spring ä¸­é€‚é…å™¨æ¨¡å¼ä¹Ÿåº”ç”¨å¾—éå¸¸å¹¿æ³›ï¼Œä¾‹å¦‚ï¼šSpringAOP ä¸­çš„ <strong>AdvisorAdapter</strong> ç±»ï¼Œå®ƒæœ‰ä¸‰ä¸ªå®ç°ç±» <strong>MethodBeforeAdviceAdapter</strong>ã€<strong>AfterReturningAdviceAdapter</strong> å’Œ<strong>ThrowsAdviceAdapter</strong>ï¼Œå…ˆæ¥çœ‹é¡¶å±‚æ¥å£ AdvisorAdapter çš„æºä»£ç ï¼š</p><pre><code>public interface AdvisorAdapter {    boolean supportsAdvice(Advice var1);    MethodInterceptor getInterceptor(Advisor var1);}</code></pre><p>å†çœ‹ MethodBeforeAdviceAdapter ç±»ï¼š</p><pre><code>class MethodBeforeAdviceAdapter implements AdvisorAdapter, Serializable {    MethodBeforeAdviceAdapter() {    }    public boolean supportsAdvice(Advice advice) {        return advice instanceof MethodBeforeAdvice;    }    public MethodInterceptor getInterceptor(Advisor advisor) {        MethodBeforeAdvice advice = (MethodBeforeAdvice)advisor.getAdvice();        return new MethodBeforeAdviceInterceptor(advice);    }}</code></pre><p>ç„¶åæ¥çœ‹ AfterReturningAdviceAdapter ç±»ï¼š</p><pre><code>class AfterReturningAdviceAdapter implements AdvisorAdapter, Serializable {    AfterReturningAdviceAdapter() {    }    public boolean supportsAdvice(Advice advice) {        return advice instanceof AfterReturningAdvice;    }    public MethodInterceptor getInterceptor(Advisor advisor) {        AfterReturningAdvice advice = (AfterReturningAdvice)advisor.getAdvice();        return new AfterReturningAdviceInterceptor(advice);    }}</code></pre><p>æœ€åæ¥çœ‹ ThrowsAdviceAdapter ç±»ï¼š</p><pre><code>class ThrowsAdviceAdapter implements AdvisorAdapter, Serializable {    ThrowsAdviceAdapter() {    }    public boolean supportsAdvice(Advice advice) {        return advice instanceof ThrowsAdvice;    }    public MethodInterceptor getInterceptor(Advisor advisor) {        return new ThrowsAdviceInterceptor(advisor.getAdvice());    }}</code></pre><p>Spring ä¼šæ ¹æ®ä¸åŒçš„ AOP é…ç½®æ¥ç¡®å®šä½¿ç”¨å¯¹åº”çš„ Adviceï¼Œè·Ÿç­–ç•¥æ¨¡å¼ä¸åŒçš„ä¸€ä¸ªæ–¹æ³•å¯ä»¥åŒæ—¶æ‹¥æœ‰å¤šä¸ª Adviceã€‚</p><h2 class=pgc-h-arrow-right>2.2 Springä¸­çš„HandlerAdapter</h2><p>ä¸‹é¢å†æ¥çœ‹ä¸€ä¸ª SpringMVC ä¸­çš„ <strong>HandlerAdapter</strong> ç±»ï¼Œå®ƒä¹Ÿæœ‰å¤šä¸ªå­ç±»ï¼Œç±»å›¾å¦‚ä¸‹ï¼š</p><div class=pgc-img><img alt=æ¶æ„å¸ˆå†…åŠŸå¿ƒæ³•ï¼Œä¸­å›½ä¸æ—¥æœ¬äº¤æµç”µå‹å…¼å®¹æ€§é—®é¢˜çš„é€‚é…å™¨æ¨¡å¼è¯¦è§£ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d6b7c5966d4d4582a1faa2ab8e1ef6c0><p class=pgc-img-caption></p></div><p>ä¸‰ã€é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</p><p>ä¼˜ç‚¹ï¼š</p><ul><li>èƒ½æé«˜ç±»çš„é€æ˜æ€§å’Œå¤ç”¨æ€§ï¼Œç°æœ‰çš„ç±»å¤ç”¨ä½†ä¸éœ€è¦æ”¹å˜ï¼›</li><li>ç›®æ ‡ç±»å’Œé€‚é…å™¨ç±»è§£è€¦ï¼Œæé«˜ç¨‹åºçš„æ‰©å±•æ€§ï¼›</li><li>åœ¨å¾ˆå¤šä¸šåŠ¡åœºæ™¯ä¸­ç¬¦åˆå¼€é—­åŸåˆ™ã€‚</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>é€‚é…å™¨ç¼–å†™è¿‡ç¨‹éœ€è¦å…¨é¢è€ƒè™‘ï¼Œå¯èƒ½ä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ï¼›</li><li>å¢åŠ ä»£ç é˜…è¯»éš¾åº¦ï¼Œé™ä½ä»£ç å¯è¯»æ€§ï¼Œè¿‡å¤šä½¿ç”¨é€‚é…å™¨ä¼šä½¿ç³»ç»Ÿä»£ç å˜å¾—å‡Œä¹±ã€‚</li></ul></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'æ¶æ„','å¸ˆå†…åŠŸ','ä¸­å›½'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>