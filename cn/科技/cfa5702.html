<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Mybatisæºç åˆ†æï¼ˆä¸‰ï¼‰â€”â€”åŠ¨æ€Sqlä¸­çš„å‚æ•°è§£æ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Mybatisæºç åˆ†æï¼ˆä¸‰ï¼‰â€”â€”åŠ¨æ€Sqlä¸­çš„å‚æ•°è§£æ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/433d000219f0306e74eb"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cfa5702.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cfa5702.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/cfa5702.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cfa5702.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cfa5702.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/cfa5702.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/cfa5702.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/cfa5702.html><meta property="article:published_time" content="2020-10-29T20:58:17+08:00"><meta property="article:modified_time" content="2020-10-29T20:58:17+08:00"><meta name=Keywords content><meta name=description content="Mybatisæºç åˆ†æï¼ˆä¸‰ï¼‰â€”â€”åŠ¨æ€Sqlä¸­çš„å‚æ•°è§£æ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/cfa5702.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Mybatisæºç åˆ†æï¼ˆä¸‰ï¼‰â€”â€”åŠ¨æ€Sqlä¸­çš„å‚æ•°è§£æ</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>ybatisä¸­å‚æ•°è§£æå¯¹äºå¼€å‘äººå‘˜æ¥è¯´æ˜¯è‡³å…³é‡è¦çš„,ä¸ç„¶å¾ˆå®¹æ˜“å‡ºå°é—®é¢˜,ä¸¾ä¸ªä¾‹å­,å‡è®¾ç°åœ¨æ–¹æ³•ä¸º,å½“ç„¶è¿™ä¸ªæ˜¯å¾ˆç³Ÿç³•çš„å†™æ³•,è¿™é‡Œåªæ˜¯æƒ³è¦ææ¸…æ¥šå‚æ•°å¦‚ä½•è§£æ,é¡¹ç›®ä¸­ä¸‡ä¸‡ä¸å¯è¿™æ ·å†™.</p><p>å‚æ•°è¾“å…¥è§£æ</p><table><tbody><tr class=firstRow><td><pre>12345678</pre></td><td><pre>//æ–¹æ³•User findUser(@Param("name") String name,int age,String email) //å¯¹åº”xml&lt;select id="findUser" resultType="cn.mrdear.users.dao.User"&gt;	SELECT * FROM user WHERE username = #{name} AND age = #{age} AND email = #{email}&lt;/select&gt;//è°ƒç”¨å‚æ•°final User user = userMapper.findUser("quding", 18, "qq@mail.com");</pre></td></tr></tbody></table><p>é‚£ä¹ˆè¿™é‡ŒMybatisä¼šæ€ä¹ˆè§£æå‚æ•°å‘¢?è¿™ä¸ªxmlä¼šæ„é€ å¤±è´¥ä¸?é¦–å…ˆæ˜¯<code>MapperMethod</code>ä¸­ä½¿ç”¨<code>ParamNameResolver</code>å¯¹è¾“å…¥å‚æ•°è§£æ,é’ˆå¯¹ä¸Šè¿°è¾“å…¥å‚æ•°ä¼šå¾—åˆ°ä¸‹é¢çš„ç»“æœ.</p><table><tbody><tr class=firstRow><td><pre>1234567891011121314151617181920212223242526272829303132333435</pre></td><td><pre>public ParamNameResolver(Configuration config, Method method) {final Class&lt;?&gt;[] paramTypes = method.getParameterTypes();//è·å–å‚æ•°ç±»å‹,å¯¹äºä¸Šè¿°ä¾‹å­åˆ™æ˜¯String,int,Stringfinal Annotation[][] paramAnnotations = method.getParameterAnnotations();//è¿™é‡Œè·å–åˆ°çš„åˆ™æ˜¯@Param,getParameterAnnotationsæ–¹æ³•ä¹Ÿç”¨åˆ°äº†åŠ¨æ€ä»£ç†.final SortedMap&lt;Integer, String&gt; map = new TreeMap&lt;Integer, String&gt;();int paramCount = paramAnnotations.length;// get names from @Param annotationsfor (int paramIndex = 0; paramIndex &lt; paramCount; paramIndex++) {if (isSpecialParameter(paramTypes[paramIndex])) { //è¿‡æ»¤å…¶å†…éƒ¨ä¸€äº›ç‰¹æ®Šç±»å‹// skip special parameterscontinue;}String name = null;for (Annotation annotation : paramAnnotations[paramIndex]) {if (annotation instanceof Param) {hasParamAnnotation = true;name = ((Param) annotation).value();//è·å–åˆ°'name'å€¼break;}}if (name == null) {// @Param was not specified.if (config.isUseActualParamName()) {//é»˜è®¤ä¸ºtrue,å› æ­¤ç¼–è¯‘åå‚æ•°éƒ½æ˜¯args0,args1ä¹‹ç±»,å› æ­¤è¿™é‡Œè·å–çš„ä¹Ÿæ˜¯args0...name = getActualParamName(method, paramIndex);}//å½“ä¸Šé¢é…ç½®ä¸ºfalseçš„æ—¶å€™è¿™é‡Œæ‰ä¼šä½¿ç”¨0,1ä»£æ›¿,å› æ­¤å¦‚æœæœªå¼€å¯åˆ™ä¼šæŠ¥é”™if (name == null) {// use the parameter index as the name ("0", "1", ...)// gcode issue #71name = String.valueOf(map.size());//ä¸Šè¿°éƒ½æ²¡çš„è¯åˆ™ä¸–ç•Œä½¿ç”¨mapçš„index.}}map.put(paramIndex, name);}names = Collections.unmodifiableSortedMap(map);}</pre></td></tr></tbody></table><p>é‚£ä¹ˆæ‰§è¡Œå®Œæ¯•åå¯¹äºä¸Šè¿°ä¾‹å­,namesé‡Œé¢å¦‚ä¸‹å›¾æ‰€ç¤º,ç”±äº<code>config.isUseActualParamName()</code>ä¸ºtrue,æ‰€ä»¥#{0}è¿™ç§å†™æ³•è¿™é‡Œå¹¶ä¸æ”¯æŒ,è€Œä¸”ä¹Ÿä¸å»ºè®®è¿™ç§å†™æ³•,æ— å¯è¯»æ€§.</p><p><img alt=Mybatisæºç åˆ†æï¼ˆä¸‰ï¼‰â€”â€”åŠ¨æ€Sqlä¸­çš„å‚æ•°è§£æ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/433d000219f0306e74eb></p><p>æ¥ä¸‹æ¥æ‰§è¡Œ<code>method.convertArgsToSqlCommandParam(args)</code>è·å–åˆ°å®é™…è¾“å…¥çš„å‚æ•°,å¯¹äºä¸Šé¢ä¾‹å­æˆ‘è·å–åˆ°çš„æ˜¯ä¸ªMapé›†åˆ,å¦‚ä¸‹å›¾æ‰€ç¤º,å¯¹æ–¼å•ä¸€å®ä½“ä¾‹å¦‚Useré‚£ä¹ˆè·å–åˆ°çš„å°±æ˜¯è¯¥å®ä½“.</p><p><img alt=Mybatisæºç åˆ†æï¼ˆä¸‰ï¼‰â€”â€”åŠ¨æ€Sqlä¸­çš„å‚æ•°è§£æ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/433c0003998e6216cfe9></p><p>å†çœ‹æˆ‘æ‰€ç”¨çš„sqlå†™æ³•,é‚£ä¹ˆè¿™é‡Œåªèƒ½è·å–åˆ°nameçš„å€¼,sqlå¤„ç†æ—¶å°±ä¼šæŠ¥é”™.</p><table><tbody><tr class=firstRow><td><pre>1</pre></td><td><pre>SELECT * FROM user WHERE username = #{name} AND age = #{age} AND email = #{email}</pre></td></tr></tbody></table><p><strong>ç”±æ­¤å¯è§é’ˆå¯¹å¤šå‚æ•°çš„è¾“å…¥</strong>,æœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯ç”¨<code>@Param</code>æ³¨è§£,å…¶æ¬¡ä¸ºä½¿ç”¨Mapé›†åˆåŒ…è£¹å‚æ•°,è¿™æ ·çš„è¯<code>method.convertArgsToSqlCommandParam(args)</code>å¾—åˆ°çš„åˆ™æ˜¯è¯¥Mapé›†åˆ.</p><p>åŠ¨æ€sqlæ¸²æŸ“è§£æ</p><p>ä¸Šè¿°æµç¨‹èƒ½å¾—åˆ°æ‰€æœ‰çš„è¾“å…¥å‚æ•°,é‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯å¯¹sqlçš„è§£æ,ä¸‹é¢æŠŠæˆ‘ä»¬çš„sqlå˜å¾—å¤æ‚ä¸€äº›.(ä¸è¦è®¨è®ºsqlçš„æ„ä¹‰â€¦è¿™é‡Œåªæ˜¯åˆ†æå‚æ•°å¦‚ä½•è§£æ)</p><table><tbody><tr class=firstRow><td><pre>12345678910</pre></td><td><pre>//mapperæ¥å£User findUser(@Param("name") String name, @Param("user") User user,@Param("ids") List&lt;Long&gt; ids);//xml&lt;select id="findUser" resultType="cn.mrdear.users.dao.User"&gt;		SELECT * FROM user WHERE username = #{name} AND age = #{user.age} AND email = #{user.email}		OR id in		&lt;foreach collection="ids" item="item" open="(" close=")" separator=","&gt;			#{item}		&lt;/foreach&gt;	&lt;/select&gt;</pre></td></tr></tbody></table><p>æŒ‰ç…§ä¸Šè¿°æµç¨‹Mybatisè§£æå‡ºæ¥çš„è¾“å…¥å‚æ•°å¦‚ä¸‹å›¾</p><p><img alt=Mybatisæºç åˆ†æï¼ˆä¸‰ï¼‰â€”â€”åŠ¨æ€Sqlä¸­çš„å‚æ•°è§£æ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/43390003b56bf06fa04d></p><p>æ¥ä¸‹è¿›å…¥<code>DefaultSqlSession</code>çš„å¤„ç†ä¸­,åœ¨å…¶ä¸­æœ‰å¦‚ä¸‹æ–¹æ³•ä¼šå¤šå‚æ•°è¿›ä¸€æ­¥åˆ¤æ–­,å¯ä»¥çœ‹å‡ºå¯¹æ–¼å•ä¸€å‚æ•°ä¸º<code>Collection</code>æˆ–è€…<code>Array</code>æ—¶Mybatiséƒ½ä¼šç»™é»˜è®¤å‘½åæ–¹æ¡ˆ.(è¿™é‡Œæ˜¯åœ¨3.3.0ä¹‹å‰çš„ç‰ˆæœ¬åªä¼šå¤„ç†List)</p><table><tbody><tr class=firstRow><td><pre>123456789101112131415</pre></td><td><pre>private Object wrapCollection(final Object object) {if (object instanceof Collection) {StrictMap&lt;Object&gt; map = new StrictMap&lt;Object&gt;();map.put("collection", object);if (object instanceof List) {map.put("list", object);}return map;} else if (object != null &amp;&amp; object.getClass().isArray()) {StrictMap&lt;Object&gt; map = new StrictMap&lt;Object&gt;();map.put("array", object);return map;}return object;}</pre></td></tr></tbody></table><p>åˆ°äº†æ¥ä¸‹æ¥è½¬åˆ°æ‰§è¡Œå™¨,ä½¿ç”¨<code>DynamicContext</code>æ„é€ åŠ¨æ€sqlæ‰€éœ€è¦çš„ä¸Šä¸‹æ–‡,å¯¹å…¶æ„é€ å‡½æ•°åˆ†æ</p><p>æ‰§è¡Œåˆ°è¿™é‡Œçš„è¯å‚æ•°åªæœ‰ä¸‰ç§æƒ…å†µ</p><ol class=list-paddingleft-2><li><p>null,æ— ä»»ä½•å‚æ•°ä¼ å…¥</p></li><li><p>Mapç±»å‹ï¼Œå¯¹äºå¤šå‚æ•°,æˆ–è€…å‚æ•°æœ¬èº«å°±æ˜¯mapå†æˆ–è€…è¾“å…¥å•ä¸€å‚æ•°é›†åˆç±»å‹,æ•°ç»„ç±»å‹éƒ½ä¼šè½¬æ¢ä¸ºmap</p></li><li><p>å•ä¸€POJOç±»å‹.</p><p>Mybatisè¿™é‡Œè¦åšçš„å°±æ˜¯æŠŠå‚æ•°çš„å„ç§å½¢å¼å°½å¯èƒ½éƒ½æ”¾åœ¨<code>ContextMap</code>ä¸­,è¯¥<code>ContextMap</code>æ˜¯ç»‘å®šäº†Ognlçš„,æ–¹ä¾¿Ognlç›´æ¥ä»å…¶ä¸­è·å–åˆ°å€¼.</p><table><tbody><tr class=firstRow><td><pre>123456789101112</pre></td><td><pre>public DynamicContext(Configuration configuration, Object parameterObject) {if (parameterObject != null &amp;&amp; !(parameterObject instanceof Map)) {MetaObject metaObject = configuration.newMetaObject(parameterObject);//å¯¹æ–¼å•ä¸ªè¾“å…¥æ•°æ®ç›´æ¥ä¿å­˜åœ¨ContentMapä¸­bindings = new ContextMap(metaObject);} else {bindings = new ContextMap(null);}//è¾“å…¥å‚æ•°å½¢å¼ä¸º _parameter : parameterObjectbindings.put(PARAMETER_OBJECT_KEY, parameterObject);bindings.put(DATABASE_ID_KEY, configuration.getDatabaseId());}</pre></td></tr></tbody></table></li></ol><p><img alt=Mybatisæºç åˆ†æï¼ˆä¸‰ï¼‰â€”â€”åŠ¨æ€Sqlä¸­çš„å‚æ•°è§£æ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/433c000399911393263d></p><p>SqlNode</p><p>SqlNodeæ˜¯åŠ¨æ€Sqlè§£æå’Œå®Œå–„<code>ContextMap</code>çš„åœ°æ–¹,å¯¹äºæˆ‘ä¸Šè¿°sqlä¼šè½¬æ¢ä¸ºå…¶ä¸‰ä¸ªå­ç±»,ç›¸å…³è§£ææ–¹æ³•éƒ½åœ¨å…¶å†…éƒ¨.</p><p><img alt=Mybatisæºç åˆ†æï¼ˆä¸‰ï¼‰â€”â€”åŠ¨æ€Sqlä¸­çš„å‚æ•°è§£æ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/433c0003998f91dd700d></p><p>è§£æåçš„sqlå¦‚ä¸‹å›¾</p><table><tbody><tr class=firstRow><td><pre>12</pre></td><td><pre>SELECT * FROM user WHERE username = ? AND age = ? AND email = ?		OR id in ( ?, ?, ?)</pre></td></tr></tbody></table><p>æ­¤æ—¶<code>ContextMap</code>å¦‚ä¸‹,å…¶ä¸­æœ‰<code>_frch_item_2</code>è¿™ç§å½¢å¼çš„å‚æ•°,è¿™æ˜¯Mybatiså¯¹foreachè§£æåæ‰€ç”Ÿæˆçš„é”®,ä¾¿äºå¡«å……æ•°æ®,å…·ä½“å¯ä»¥çœ‹<code>ForeachSqlNode</code></p><p><img alt=Mybatisæºç åˆ†æï¼ˆä¸‰ï¼‰â€”â€”åŠ¨æ€Sqlä¸­çš„å‚æ•°è§£æ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/433e0001963e9b67301a></p><p>é‚£ä¹ˆæ¥ä¸‹æ¥è¦åšçš„äº‹æƒ…å°±æ˜¯ä¸€ä¸€è®¾ç½®è¿›å»è¿™äº›å€¼.</p><p>ParameterHandler</p><p>é¡¾åæ€ä¹‰,å…¶æä¾›<code>void setParameters(PreparedStatement ps)</code>å¯¹äºsqlå‚æ•°è®¾ç½®çš„å¤„ç†.åˆ†æä¸‹<code>DefaultParameterHandler</code></p><table><tbody><tr class=firstRow><td><pre>1234567891011121314151617181920212223242526272829303132333435363738394041</pre></td><td><pre>@Overridepublic void setParameters(PreparedStatement ps) {ErrorContext.instance().activity("setting parameters").object(mappedStatement.getParameterMap().getId());List&lt;ParameterMapping&gt; parameterMappings = boundSql.getParameterMappings();if (parameterMappings != null) {//parameterMappingså­˜å‚¨ç€è¦è®¾ç½®è¿›å»çš„å€¼ç±»å‹ç­‰ä¿¡æ¯for (int i = 0; i &lt; parameterMappings.size(); i++) {ParameterMapping parameterMapping = parameterMappings.get(i);if (parameterMapping.getMode() != ParameterMode.OUT) {Object value;String propertyName = parameterMapping.getProperty();//AdditionalParameteræ˜¯ä»ContextMapä¸­copyåˆ°çš„,å…¶æ²¡æœ‰çš„è¯è¯´æ˜æ˜¯_parameteré‡Œé¢çš„å€¼.if (boundSql.hasAdditionalParameter(propertyName)) { // issue #448 ask first for additional paramsvalue = boundSql.getAdditionalParameter(propertyName);} else if (parameterObject == null) {value = null;} else if (typeHandlerRegistry.hasTypeHandler(parameterObject.getClass())) {value = parameterObject;} else {//è·å–_parameteré‡Œé¢çš„å€¼.MetaObject metaObject = configuration.newMetaObject(parameterObject);//å…¶å†…éƒ¨æ˜¯ä¸€ä¸ªé€’å½’å®ç°è·å–.value = metaObject.getValue(propertyName);}//typeHandleçš„å¤„ç†TypeHandler typeHandler = parameterMapping.getTypeHandler();JdbcType jdbcType = parameterMapping.getJdbcType();if (value == null &amp;&amp; jdbcType == null) {jdbcType = configuration.getJdbcTypeForNull();}try {typeHandler.setParameter(ps, i + 1, value, jdbcType);} catch (TypeException e) {throw new TypeException("Could not set parameters for mapping: " + parameterMapping + ". Cause: " + e, e);} catch (SQLException e) {throw new TypeException("Could not set parameters for mapping: " + parameterMapping + ". Cause: " + e, e);}}}}}</pre></td></tr></tbody></table><p>é‚£ä¹ˆçœ‹<code>MetaObject</code>çš„é€’å½’è·å–,é€’å½’æ˜¯é’ˆå¯¹å‚æ•°ä¸º<code>user.username</code>è¿™æ ·çš„è¯ä¼šå…ˆä»<code>_parameter</code>ä¸­æ‰¾åˆ°user,ç„¶åå†è°ƒç”¨user çš„getUsername()æ–¹æ³•è·å–åˆ°ç»“æœ.</p><table><tbody><tr class=firstRow><td><pre>123456789101112131415</pre></td><td><pre>public Object getValue(String name) {PropertyTokenizer prop = new PropertyTokenizer(name);//hasNextåˆ¤æ–­user.usernameè¿™ç§ç±»å‹if (prop.hasNext()) {MetaObject metaValue = metaObjectForProperty(prop.getIndexedName());if (metaValue == SystemMetaObject.NULL_META_OBJECT) {return null;} else {//é€’å½’è·å–return metaValue.getValue(prop.getChildren());}} else {return objectWrapper.get(prop);}}</pre></td></tr></tbody></table><p>é‚£ä¹ˆé’ˆå¯¹ä¸Šé¢çš„ä¾‹å­,è¿™é‡Œå…ˆæ˜¯å»boundSqlä¸­çš„addtionParametersä¸­è·å–å‚æ•°,è¯¥å‚æ•°ä¸€èˆ¬æ˜¯sqlè§£ææ—¶åŠ¨æ€ç”Ÿæˆçš„,æ¯”å¦‚foreachç”Ÿæˆçš„_frch_xx,è·å–ä¸åˆ°çš„è¯å†å»åŸå§‹çš„ParamsObjectä¸­è·å–,è¯¥å¤„çš„è§£æä¸ºé€’å½’å½¢å¼äº†.</p><p><img alt=Mybatisæºç åˆ†æï¼ˆä¸‰ï¼‰â€”â€”åŠ¨æ€Sqlä¸­çš„å‚æ•°è§£æ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/433c000399958d6898f8></p><p>æ€»ç»“</p><p>Mybatisçš„SQLè§£ææ€»ä½“æµç¨‹å¦‚ä¸‹:</p><ol class=list-paddingleft-2><li><p>æ„é€ ParamtersMap,ä¿å­˜è¾“å…¥å‚æ•°.</p></li><li><p>æ„é€ ContextMap,ä¸ºOGNLè§£ææä¾›æ•°æ®.</p></li><li><p>è¯»å–xml.ä½¿ç”¨SqlSourceä¸SqlNodeè§£æxmlä¸­çš„sql,è®¾ç½®å‚æ•°å€¼åˆ°boundSqlçš„addtionParametersä¸­,å…¶ä¸ºContextMapçš„ä¸€ä¸ªå‰¯æœ¬.</p></li><li><p>æ ¹æ®<code>boundSql.parameterMappings</code>è·å–åˆ°å‚æ•°,ä»<code>addtionParameters</code>ä¸<code>ParamtersMap</code>ä¸­è¯»å–å‚æ•°è®¾ç½®åˆ°<code>PreparedStatement</code>ä¸­</p></li><li><p>æ‰§è¡Œsql</p><p>æœ¬æ–‡åªåˆ†æäº†æ€»ä½“æµç¨‹,å…¶ä¸­æœ‰å¾ˆå¤šç»†èŠ‚éƒ½å¿½ç•¥äº†,å¦‚é‡åˆ°é—®é¢˜å†çœ‹ä¹Ÿä¸è¿Ÿ.</p></li></ol></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Mybatis','æºç ','åŠ¨æ€'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>