<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>王者荣耀角度下分析面向对象程序设计B中23种设计模式之装饰模式 | 极客快訊</title><meta property="og:title" content="王者荣耀角度下分析面向对象程序设计B中23种设计模式之装饰模式 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/403d8ef296a9474a8930377f152db32e"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d016e71.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d016e71.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d016e71.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d016e71.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d016e71.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d016e71.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d016e71.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d016e71.html><meta property="article:published_time" content="2020-10-29T20:58:41+08:00"><meta property="article:modified_time" content="2020-10-29T20:58:41+08:00"><meta name=Keywords content><meta name=description content="王者荣耀角度下分析面向对象程序设计B中23种设计模式之装饰模式"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/d016e71.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>王者荣耀角度下分析面向对象程序设计B中23种设计模式之装饰模式</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>装饰模式在王者荣耀中的应用</strong></p><div class=pgc-img><img alt=王者荣耀角度下分析面向对象程序设计B中23种设计模式之装饰模式 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/403d8ef296a9474a8930377f152db32e><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>一、简述</h1><p>在王者荣耀这款游戏中，英雄在战场上高伤害、高爆发、高移速等是所有玩家共同追求的，那么这些所谓的伤害、移速、穿透力等英雄属性我们可以通过在局外对英雄附带皮肤、配置合适的铭文；以及在局内通过购买装备等多种形式为我们的英雄增加伤害、移速。</p><p>像这种动态地对英雄额外增加皮肤、铭文、装备的方式提高伤害就可以通过“装饰模式”来实现。</p><p>玩过王者荣耀的人都知道，司马懿这个英雄作战能力是很强的，为了更出色地实现这个英雄在对局中的效果，在本例中，我们要对英雄司马懿从皮肤、铭文、装备三个层面提高他的作战和续航能力。</p><blockquote class=pgc-blockquote-abstract><p>因为是三个层面，我们就在具体装饰角色中创建三个类去实现它：</p><p>①皮肤层面：皮肤可以给英雄带来10点的攻击加成；</p><p>②铭文层面：5级铭文梦魇、心眼、狩猎各10个（150级）是针对司马懿这一刺客类法师所推荐的；</p><p>③装备层面：攻速鞋+虚无法杖+吸血书+帽子+法穿杖+名刀/辉月的出装可以有效提高其在局内作战的效果</p></blockquote><p>同时在本例中，我们简单地从攻速、移速、法伤、物伤四个角度看待这些方面的提升。</p><h1 class=pgc-h-arrow-right>二、装饰模式（Decorator Pattern）</h1><p><strong>装饰模式理解：</strong></p><p>动态地给对象添加一些额外的职责。就功能来说装饰模式相比生成子类更为灵活。</p><p>装饰模式又叫做包装模式。通过一种对客户端透明的方式来扩展对象的功能，是继承关系的一个替换方案。</p><p>装饰模式是动态地扩展一个对象的功能，而不需要改变原始类代码的一种成熟模式。在装饰模式中，“具体组件”类和“具体装饰”类是该模式中的最重要的两个角色。</p><p><strong>装饰模式结构中的四种角色：</strong></p><p>抽象组件（Component） ：是一个抽象类，定义了“被装饰者”需要进行“装饰的方法”</p><p>具体组件（ConcreteComponent） ：是抽象组件的一个子类，其实例被称为“被装饰者”</p><p>装饰（Decorator）：也是抽象组件的一个子类（可抽象，可非抽象）</p><p>具体装饰（ConcreteDecotator）：是装饰的一个非抽象子类，其实例被称为“装饰者”</p><p>装饰模式的UML类图：</p><div class=pgc-img><img alt=王者荣耀角度下分析面向对象程序设计B中23种设计模式之装饰模式 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c0e7a2bf8a264ccba7014ed2c79f9fe4><p class=pgc-img-caption></p></div><p><strong>装饰模式的优缺点：</strong></p><p><strong>优点：</strong></p><p>①被装饰者和装饰者是松耦合关系</p><p>②装饰模式满足“开-闭原则”</p><p>③可以使用多个具体装饰来装饰具体组件的实例</p><p><strong>缺点：</strong></p><p>多层的装饰比较复杂</p><h1 class=pgc-h-arrow-right>三、王者荣耀角度下实现装饰模式结构图及代码</h1><p><strong>实现此装饰模式的UML类图</strong></p><div class=pgc-img><img alt=王者荣耀角度下分析面向对象程序设计B中23种设计模式之装饰模式 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0d5a005f65554dbb91c235c3b7fb0180><p class=pgc-img-caption></p></div><p><strong>eclipse结构图</strong></p><div class=pgc-img><img alt=王者荣耀角度下分析面向对象程序设计B中23种设计模式之装饰模式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/49cfdd0fe2f247cc8dacf79237761c94><p class=pgc-img-caption></p></div><p><strong>主函数【应用（Application）】</strong></p><p><strong>Application.java</strong></p><pre><code>package angle_decorator;/*         应用类 */import angle_decorator.Application;import angle_decorator.Hero;import angle_decorator.SimaYi;import angle_decorator.SimaYiDecorator;public class Application {	public void needSimayiPifu(Hero hero){		double SimayiAttribute1=hero.attribute1();		System.out.println("");		System.out.println("英雄司马懿换上“魇语军师”皮肤后的状态属性：");		System.out.println("法术伤害: "+SimayiAttribute1);		System.out.println("物理伤害：179.0");		System.out.println("移动速度：370.0");		System.out.println("攻速加成：0.0%");		System.out.println("--------------------------------------------------");	}		public void needSimayiMingwen(Hero hero){		double SimayiAttribute1=hero.attribute1();		double SimayiAttribute2=hero.attribute2();		double SimayiAttribute3=hero.attribute3();		System.out.println("");		System.out.println("英雄司马懿在拥有皮肤的基础上再装配150级铭文后的状态属性：");		System.out.println("法术伤害: "+SimayiAttribute1);		System.out.println("物理伤害：179.0");		System.out.println("移动速度："+SimayiAttribute2);		System.out.println("攻速加成："+SimayiAttribute3+"%");		System.out.println("--------------------------------------------------");	}	public void needSimayiZhuangbei(Hero hero){		double SimayiAttribute1=hero.attribute1();		double SimayiAttribute2=hero.attribute2();		double SimayiAttribute3=hero.attribute3();		double SimayiAttribute4=hero.attribute4();		System.out.println("");		System.out.println("英雄司马懿在拥有皮肤和150级铭文的基础上再装备6神装后的状态属性：");		System.out.println("法术伤害: "+SimayiAttribute1);		System.out.println("物理伤害："+SimayiAttribute4);		System.out.println("移动速度："+SimayiAttribute2);		System.out.println("攻速加成："+SimayiAttribute3+"%");	}	public static void main(String[] args) {		System.out.println("");		System.out.println("英雄司马懿初始状态属性：");		System.out.println("法术伤害：0.0");		System.out.println("物理伤害：179.0");		System.out.println("移动速度：370.0");		System.out.println("攻速加成：0.0%");		System.out.println("---------------------------------------------------");		Application client=new Application();		Hero simayi=new SimaYi();                 //司马懿初始状态属性		Hero simayiDecorator1=new SimaYiDecorator(simayi);     //换上“魇语军师”皮肤后的状态属性				client.needSimayiPifu(simayiDecorator1);		Hero simayiDecorator2=new SimaYiDecoratorMingWen(simayi);     //150级铭文后的状态属性				client.needSimayiMingwen(simayiDecorator2);		Hero simayiDecorator3=new SimaYiDecoratorZhuangBei(simayi);     //6神装后的状态属性				client.needSimayiZhuangbei(simayiDecorator3);	}}</code></pre><p><strong>抽象组件(Component)</strong></p><p><strong>Hero.java</strong></p><pre><code>package angle_decorator;/*         角色1：抽象组件 */public abstract class Hero {	public abstract double attribute1();  //属性1：法伤	public abstract double attribute2();  //属性2：移速	public abstract double attribute3();  //属性3：攻速	public abstract double attribute4();  //属性4：物伤}</code></pre><p><strong>具体组件(ConcreteComponent)</strong></p><p><strong>SimaYi.java</strong></p><pre><code>package angle_decorator;/*          角色2：具体组件 */public class SimaYi extends Hero{	public final double AbilityPower=0;    //AP(法术伤害)	public final double AttackPower=179;    //AD(物理伤害)	public final double MovementSpeed=370;  //移速	public final double AttackSpeed=0;    //攻速	public double attribute1(){		return AbilityPower;	}	public double attribute2(){		return AttackPower;	}	public double attribute3(){		return MovementSpeed;	}	public double attribute4(){		return AttackSpeed;	}}</code></pre><p><strong>装饰(Decorator)</strong></p><p><strong>Decorator.java</strong></p><pre><code>package angle_decorator;/*           角色3：装饰 */import angle_decorator.Hero;public abstract class Decorator extends Hero{	protected Hero hero;	public Decorator(){			}	public Decorator(Hero hero){		this.hero=hero;	}}</code></pre><p><strong>具体装饰(ConcreteDecorator)</strong></p><p><strong>SimaYiDecorator.java</strong></p><pre><code>package angle_decorator;/*           角色4.1：具体装饰 :皮肤属性加成*/import angle_decorator.Hero;import angle_decorator.Decorator;public class SimaYiDecorator extends Decorator{		public final double PiFuAddAbilityPower=10;  //换上“魇语军师”皮肤后的法术攻击+10点伤害		SimaYiDecorator(Hero hero){		super(hero);	}		public double attribute1(){		double abilityPower=0;		abilityPower=hero.attribute1()+eleAttribute1();   		//委托被装饰者hero调用attribute1()，然后再调用eleattribute1()		return abilityPower;	}		public double eleAttribute1(){             //装饰者新添加的方法eleAttribute1()		return PiFuAddAbilityPower;	}	@Override	public double attribute2() {		// TODO 自动生成的方法存根		return 0;	}	@Override	public double attribute3() {		// TODO 自动生成的方法存根		return 0;	}	@Override	public double attribute4() {		// TODO 自动生成的方法存根		return 0;	}}</code></pre><p><strong>SimaYiDecoratorMingWen.java</strong></p><pre><code>package angle_decorator;/*      角色4.2：具体装饰：铭文属性加成 */import angle_decorator.Hero;import angle_decorator.Decorator;public class SimaYiDecoratorMingWen extends Decorator{	SimaYiDecoratorMingWen(Hero hero){	      super(hero);	}	public double attribute1(){	    double abilityPower=0;	    abilityPower=hero.attribute1()+eleAttribute1();  	    //委托被装饰者hero调用attribute1()，然后再调用eleattribute1()	    return abilityPower;	}	public double attribute2(){	    double movementSpeed=0;	    movementSpeed=hero.attribute2()+eleAttribute2();   	    //委托被装饰者hero调用attribute2()，然后再调用eleattribute2()	    movementSpeed = (double)(Math.round(movementSpeed*10)/10.0);   //“四舍五入”保留小数点后1位	    return movementSpeed;	}	public double attribute3(){	    double AttackSpeed=0;	    AttackSpeed=eleAttribute3();  	    return AttackSpeed;	}	public double eleAttribute1(){             //装饰者新添加的方法eleAttribute1()		double AbilityPower=10;		double mengyanAbilityPower=4.2;   //1个5级铭文梦魇使得英雄法术攻击加成4.2点伤害		AbilityPower+=mengyanAbilityPower*10;   //10个5级铭文梦魇的法术攻击加成	    return AbilityPower;	}	public double eleAttribute2(){             //装饰者新添加的方法eleAttribute2()		double MovementSpeed=370;		double shoulieMovementSpeed=0.01;     //1个5级铭文狩猎使得英雄移动速度加成1.0%		int i;		for(i=1;i&lt;=10;i++){			MovementSpeed=MovementSpeed*(1+shoulieMovementSpeed);    //累加得加成后的移速		}		 //10个5级铭文狩猎的移速加成		return  MovementSpeed;	}	public double eleAttribute3(){             //装饰者新添加的方法eleAttribute3()		double xinyanAttackSpeed=0.6;     //1个5级铭文心眼使得英雄攻击速度加成0.6%		double shoulieAttackSpeed=1.0;     //1个5级铭文狩猎使得英雄攻击速度加成1.0%		double AttackSpeed=(xinyanAttackSpeed+shoulieAttackSpeed)*10;    //10个5级铭文心眼和10个5级铭文狩猎的攻速加成	    return AttackSpeed;	}	@Override	public double attribute4() {		// TODO 自动生成的方法存根		return 0;	}}</code></pre><p><strong>SimaYiDecoratorZhuangBei.java</strong></p><pre><code>package angle_decorator;/*角色4：具体装饰 :装备属性加成*/import angle_decorator.Hero;import angle_decorator.Decorator;public class SimaYiDecoratorZhuangBei extends Decorator{	SimaYiDecoratorZhuangBei(Hero hero){	       super(hero);	}	public double attribute1(){	      double abilityPower=0;	      abilityPower=hero.attribute1()+eleAttribute1();   	      //委托被装饰者hero调用attribute1()，然后再调用eleattribute1()	      return abilityPower;	}	public double attribute2(){	      double movementSpeed=0;	      movementSpeed=hero.attribute2()+eleAttribute2();  	      //委托被装饰者hero调用attribute2()，然后再调用eleattribute2()	      movementSpeed = (double)(Math.round(movementSpeed*10)/10.0);   //“四舍五入”保留小数点后1位	      return movementSpeed;	}	public double attribute3(){	      double attackSpeed=0;	      attackSpeed=eleAttribute3();  	      return attackSpeed;	}	public double attribute4(){		  double attackPower=0;		  attackPower=hero.attribute4()+eleAttribute4();  		  //委托被装饰者hero调用attribute4()，然后再调用eleattribute4()		  return attackPower;		}	public double eleAttribute1(){             //装饰者新添加的方法		  double AbilityPower=52;		  double wushufazhangAbilityPower=140;   //巫术法杖使得英雄法术攻击加成140点伤害		  double shishenzhishuAbilityPower=180;   //噬神之书使得英雄法术攻击加成180点伤害		  double boxuezhezhinuAbilityPower=240;   //博学者之怒使得英雄法术攻击加成240点伤害		  double xuwufazhangAbilityPower=240;   //博学者之怒使得英雄法术攻击加成240点伤害		  AbilityPower= AbilityPower+wushufazhangAbilityPower+shishenzhishuAbilityPower+boxuezhezhinuAbilityPower+xuwufazhangAbilityPower;  	      return AbilityPower;	}	public double eleAttribute2(){             //装饰者新添加的方法		  double MovementSpeed=587.68;		  double wushufazhangMovementSpeed=0.08;     //巫术法杖使得英雄移动速度加成8%		  MovementSpeed=MovementSpeed*(1+wushufazhangMovementSpeed);  	      return MovementSpeed;	}	public double eleAttribute3(){             //装饰者新添加的方法		  double AttackSpeed=16;		  double jisuzhanxueAttackSpeed=0.3;     //极速战靴使得英雄攻击速度加成30%		  AttackSpeed=AttackSpeed*(1+jisuzhanxueAttackSpeed);	      return AttackSpeed;	}	public double eleAttribute4() {		  double AttackPower=179; 		  double mingdaosimingAttackSpeed=1.0;     //名刀·司命使得英雄攻击速度加成1.0%		  AttackPower=AttackPower*(1+mingdaosimingAttackSpeed);    		  return AttackPower;	}	}</code></pre><p>运行结果截图</p><div class=pgc-img><img alt=王者荣耀角度下分析面向对象程序设计B中23种设计模式之装饰模式 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1a5d88a22575462c91554622400dc418><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'模式','荣耀','对象'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/1d9a3f5.html alt=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/74474d96e12b4e8e9774b03105c54cb9 style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/1d9a3f5.html title=王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式>王者荣耀角度分析面向对象程序设计B中23种设计模式之适配器模式</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>