<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 | 极客快訊</title><meta property="og:title" content="图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/4910aa1b7c8d4fc596608031a4373c55"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d1e89f6.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d1e89f6.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d1e89f6.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d1e89f6.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d1e89f6.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d1e89f6.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d1e89f6.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d1e89f6.html><meta property="article:published_time" content="2020-10-29T20:58:50+08:00"><meta property="article:modified_time" content="2020-10-29T20:58:50+08:00"><meta name=Keywords content><meta name=description content="图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/d1e89f6.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>此次主要跟大家分享的是关于西门子S7-200PLC与6RA70装置的连接，究竟如何来实现，现在就来详细讲解讲解：</p><p>一、S7-200PLC与6RA70装置连接</p><p>1．系统要求</p><p>安装MicroWin software（V3.2以上）以及 USS协议库（V2.0以上）</p><p>PC/PPI电缆、S7-200（如CPU 226XM）、电源模块、通信电缆</p><p>6RA70驱动装置及一台PC机</p><p>2．在使用MicroWin software 创建项目之前，先检查USS protocol协议是否被正确安装，此协议库需要单独购买：</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4910aa1b7c8d4fc596608031a4373c55><p class=pgc-img-caption></p></div><p>3．我们需要创建一个简单的例程：</p><p>第一步：设置通讯接口</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6302610eb9bc44c68b04e0a33fbbdb07><p class=pgc-img-caption></p></div><p>第二步：建立PC与S7-200PLC之间连接（注意：PC通过PC/PPI电缆与S7-200PORT1口连接）</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9e491b83a4724ea4b4ca5acf93ab6c03><p class=pgc-img-caption></p></div><p>第三步：用串口电缆将S7-200PORT0端口与6RA70的PMU上X300、CUD1端子X172或CUD2端子X162相连 （注意：端口连接的规则，X300是3对3、8对8；CUD1端子X172是3对X172:58，8对X172:59;CUD2端子X162是3对X162:63，8对X162:64）</p><p>第四步：使用USS协议的初始化模块初始化S7-200的PORT0端口</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a0336c19332d435c84edd51a37fecef3><p class=pgc-img-caption></p></div><p>二进制值2#1000 0000 0000表示要初始化USS地址11的6RA70驱动装置，波特率为9600，此波特率值要与PC/PPI电缆的设置相同，详细情况请参看USS_INIT的帮助文件；此外我们还需要在6RA70装置上设置相应的参数。</p><p>表一：</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/03203d747dce422e91119e31b933183e><p class=pgc-img-caption></p></div><p>第五步：使用USS_CTRL模块来控制USS地址11的6RA70装置，为了运行6RA70需要按照表一设置参数</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/159acee8ae0f4a1681790a909184ffc8><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/0d968596fb734a7db35782fec5e8c923><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ceccc06c23954b24ba88d3a57d09ef06><p class=pgc-img-caption></p></div><p>第六步：在编译程序之前，选择 Program Block -> Library then right mouse click: select Library Memeory. 在点击Suggested Address选择V存储区的地址后点击 “OK”退出，如下图所示：</p><p>第七步：编译程序并下载到S7-200，将RUN位置1，并在状态表中输入速度给定，在闭合CUD1端子X172:37和X172:38之后，6RA70直流装置就可以运行起来了，如下图状态表所示：（注意：由于MM440和6RA70的工作方式和控制字的定义并不完全相同，所以你需要将OFF2、OFF3、F_ACK命令位连接到6SE70相应的参数，它们才能起作用；此外，由于控制字的定义不相同，DIR方向控制位并不能起到方向控制的作用；详细情况请参看USS_CTRL的帮助文件及6RA70控制字的定义，在本例中将RUN信号连接到6RA70脉冲使能控制参数P661，而将速度给定连接到主给定参数P644）</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/08cd8729cceb4cc1a29f9bcf61e228dd><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/84b6cfbd73c546e0a5c8d9e64a0004d9><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1728270c51d64a68a0a93c6a35de5a6e><p class=pgc-img-caption></p></div><p>4. 读写O2类型参数：如读写参数P078，使用USS_RPM_W和USS_WPM_W（这两个功能块用来读写16位无符号整数）</p><p>读参数P078，其数据类型为O2，表示16位无符号整数；其程序块如下图所示：</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c514c376ab5b4d1da1169ebf4ccf2dd4><p class=pgc-img-caption></p></div><p>在运行此程序块的情况下，只要给S7-200的I0.3置一个上升沿，就可以完成一次对参数P078的读操作，读入的值被保存到R_P078。需要特别注意的是USS_RPM_W的INDEX值必须置1，因为MM440默认的是PXXXX.0参数组,而6RA70默认的是PXXX.1参数组，写参数P078，其程序块如下图所示</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9a983d5d82964035a359302bdc0825c1><p class=pgc-img-caption></p></div><p>在运行此程序块的情况下，只要给S7-200的I0.4置一个上升沿，就可以完成一次对参数P078的写操作，将W_P078中保存的值写入到参数P078。USS_WPM_W的EEPROM是逻辑“0”时，写入的值只被保存到6RA70的RAM中，当EEPROM是逻辑“1”时，写入的值同时被保存到6RA70的RAM和EEPROM中，但向EEPROM中写数据是有次数限制，最多不要超过50000次。</p><p>读写参数P078的操作请参照如下的状态表所示：</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/fbd2bc265cf54c7589c49f22703ba0b0><p class=pgc-img-caption></p></div><p>5. 读写I2类型参数：如读写参数P320，使用USS_RPM_W和USS_WPM_W（这两个功能块用来读写16位无符号整数）</p><p>读参数P320，其数据类型为I2，表示16位有符号整数；其程序块如下图所示：</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e37de668beb248a1b06488d554fe2663><p class=pgc-img-caption></p></div><p>在运行此程序块的情况下，只要给S7-200的I1.1置一个上升沿，就可以完成一次对参数P320的读操作，读入的值被保存到R_P320。</p><p>写参数P320，其程序块如下图所示：</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/517ba9d3601f4e9ab88f471b6736ff04><p class=pgc-img-caption></p></div><p>在运行此程序块的情况下，只要给S7-200的I1.2置一个上升沿，就可以完成一次对参数P320的写操作，将W_P320中保存的值写入到参数P320。</p><p>读写参数P078的操作请参照如下的状态表所示</p><div class=pgc-img><img alt=图文解析案例，如何实现西门子PLC与调速器之间的USS通讯控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/153a242978214c2bab1581f6ae9b811d><p class=pgc-img-caption></p></div><p>参数P320的数据类型是I2(16位有符号的整数)，而USS功能块USS_RPM_W和USS_WPM_W是根据MM440参数数据类型的定义，用来读写16无符号的整数。因此用这两个功能块读写6RA70的I2型参数时会产生一定的问题，如参数值是正数是能够正确读写，当参数值是负数时，读写操作就无法实现了</p><p>6. 此外S7-200的USS库还包括USS_RPM_D和USS_WPM_D（这两个功能块用来读写32位无符号整数），以及USS_RPM_R和USS_WPM_R(这两个功能块用来读写浮点数)</p><p>以上，欢迎动动手分享及收藏！</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'图文','实现','西门子'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>