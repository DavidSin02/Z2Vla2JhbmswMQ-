<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>有关编码器信号电缆与传输抗干扰的讨论 | 极客快訊</title><meta property="og:title" content="有关编码器信号电缆与传输抗干扰的讨论 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/153520488675370ee9a0a2f"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d213a470.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d213a470.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d213a470.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d213a470.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d213a470.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d213a470.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d213a470.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d213a470.html><meta property="article:published_time" content="2020-11-14T20:55:25+08:00"><meta property="article:modified_time" content="2020-11-14T20:55:25+08:00"><meta name=Keywords content><meta name=description content="有关编码器信号电缆与传输抗干扰的讨论"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/d213a470.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>有关编码器信号电缆与传输抗干扰的讨论</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>自动化行业里某些人对编码器的重视程度还很不够，更别说对一根编码器信号电缆了，“双绞屏蔽”“越粗越好”“接地接地再接地，看见空的就接地”看似有多简单?但这些模糊甚至有错误的对电缆的理解，问题是到了现场干扰的出现，往往就是从一根简单的电缆和接法就理解错了开始的。 其实编码器信号电缆技术含量颇高，其中包含了物理学基础和材料学知识等，越是基础的东西离物理学原理越近，需要理解原理结合基础原理和实验室试验及现场实践验证，而不再是只靠产品说明书手册了。</p><p>德国海德汉编码器对于信号电缆一直有严格指定的要求。而我无法在这里一次给出标准答案，我没有足够的实验室条件，只有从电磁波信号原理推演。只是依据十二年前向一家外企电缆厂家定制做过一根编码器电缆。这家外企电缆厂原来就有电缆，但我按照对海德汉电缆的理解提出了针对编码器的专门定制要求，看中的是他们有实验室条件，可以测试和提供我要求的参数，实验参数固定化。这根电缆我们已经用了12年，大大小小的项目也做了不少，也有很多知情的同行用过并得到了认可，而这家外企转向进入工控领域，做起了机器人电缆也很成功，。 所谓知己知彼百战不殆，在本文我们讨论的是：我们需要先了解编码器信号是什么样的信号，电缆有什么特性，干扰可能是从哪里来，才能根据现场错杂的干扰环境分析出对策。我这里挑了行业里关于编码器信号电缆认识比较模糊甚至有些错误的问题，抛砖引玉提供业内真正是在现场实践者来参考与讨论，也欢迎留言争论。</p><p><strong>一，编码器信号是什么?</strong></p><p>编码器信号有很多种类。这里只讲用的最多的增量脉冲信号和数字串行信号（SSI等信号）,电子开关频率800KHz以下的。其他的总线信号的电缆、单电缆技术的电缆和工业以太网的电缆不在此文讨论。（我也还没搞懂呢） 这里讲的编码器信号是方波。但是，电缆线的传导电特性是以电磁波的计算并设计的。方波并不是单一频率的电磁波，按傅立叶分解，方波是有很多种频率的电磁波的叠加组合，下图演示的是方波最少有N=19个不同频率的电磁波合成的。（N=1代表只有一种频率的电磁波）。</p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/153520488675370ee9a0a2f><p class=pgc-img-caption></p></div><p>所以，编码器电缆线上传输的信号，是一组从较低频率的电磁波到较高频率的电磁波的组合。 电磁波的频率特性： 极低频 ELF 3KHZ以下 甚低频 VLF 3-30KHZ 低 频 LF 30-300KHZ 中 频 MF 300-3MHZ 高 频 HF 3-30MHZ 甚高频 VHF 30-300MHZ(电视1---12频道) 特高频 UHF 300-3GHZ(电视13频道以上) 超高频 SHF 3G-30GHZ 光也是电磁波。高频率的电磁波很多特性就是我们熟悉的光的特性。</p><p>电磁波通过不同介质界面时，会发生折射、反射、绕射、散射及吸收等等。电磁波在导体介质中传播，既有沿导线方向的传播，也有沿导线直径方向的传播，并在导线的外径表面发生“折射”而辐射出另一个介质去（类似光遇见了水面,可以是进入另一个导体介质,也可能是空间辐射），和“反射”回导线介质的继续传播（类似于光线在水面反射）。各种波长反复的“反射”波杂乱了后形成了“散射”（类似于雾气），导体内的杂质吸收了电磁波能量发热形成了波的“吸收”（类似于电磁灶微波炉原理）。电磁波既有在导体内的传播，也有离开导体界面向外辐射的传播。电磁波频率低时，主要借由有形的导电体传递。原因是在低频的电振荡中，磁电之间的相互变化比较缓慢，其能量几乎全部返回原电路而没有足够的能量辐射出去；电磁波频率高时逐渐增加了向外辐射的比例，在高频率的电磁振荡中，磁电互变甚快，能量不可能全部返回原振荡电路，于是电能、磁能随着电场与磁场的周期变化以电磁波的形式向空间传播出去，不需要介质也能向外传递能量，这就是一种辐射。</p><p>较高频率的电磁波在到达导体界面时，一部分折射离开导体辐射出去了，另一部分又像碰到镜面反射回导体，这一部分反射回来的高频电磁波与下一波向外移动的电磁波叠加，形成了集中在导体表面的移动的结果，因此，高频率的电磁波有沿导体表面移动的“集肤效应”和离开导体表面的“辐射效应”。较高频率的电磁波也较容易被导体杂质吸收而迅速衰减。</p><p>当较高频率的电磁波导体表面是尖锐的界面时，因为尖端的外形特征反射后仍然可能是向外的，而增加了多次辐射的机会，这种在表面移动的波就更容易向外辐射出去，而反射回来的波就很少了，这就是高频电磁波的尖端辐射效应。这也是高频电波发射的天线原理。</p><p>LC高频振荡电路，是指用电感L、电容C组成选频网络的振荡电路，用于产生高频正弦波信号。电感L的两种极端是螺旋的线圈甚至一长段金属导线，电容的两种极端是两个不接触的金属导体板或者一个尖锐的发散的金属尖端与大地构成了一个电容C。其中,一个尖锐发散的金属尖端与大地更容易形成一个振荡发射的天线，在一定的能量、频率和电路开放形态下，LC高频振荡电路将电磁波发射到空间（发射天线），或者接收来自空间的电磁波（接收天线）。</p><p><strong>二，编码器信号频率是什么？</strong></p><p>我们常讲的编码器信号频率，是方波的频率，也称为电子开关频率（从0到1的开关特性）。但是在电缆线上传导的应以电磁波频率计算，也就是说类似19个以上频谱电磁波构成的电磁波频率，每一个电磁波频率与方波频率有一个倍数系数关系，即使方波频率不高，但是信号上仍然有部分高频电磁波成分，这个在较长距离传输中，或者在高频干扰中会显现出来。</p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/153520490599002b3ff6a90><p class=pgc-img-caption></p></div><p>数字方波信号的上升沿下降沿遵循电磁波的高频特性，而平缓的高电平低电平遵循电磁波的低频特性。数字信号的频率并不等同于其电磁波频率，其中有更高频率的高频电磁波存在。如果我们的数字信号仅仅在300KHz以下，由于方波有陡直的上升沿和下降沿，所以仍然有很多高频电磁波在其中，这也是各种电磁干扰的发生与接收主要问题所在。而任何一次的开关电压，从低电平陡直上升到高电平，同样也是一次各种频率电磁波的浪涌组合。</p><p><strong>三，编码器电缆的电特性是什么？</strong></p><p>既然编码器电缆上传导的是各种频率的电磁波，那就不是以直流（或者低频率）的电流电压欧姆定律来计算，而是交流信号电磁波的电容与电感。且前面介绍过了，较高频率的频谱电磁波有沿着金属导体表面传播的特性。</p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1535204924431d11a51f9fc><p class=pgc-img-caption></p></div><p>线间电容：足够高频率的电磁波，较长的电缆长度下（大于30米后比较明显），电缆内两个芯线之间表面积较大，就会显现出两两线间电容特性，高频电磁波是走电容的。信号芯线与电源线也会形成线间电容，信号芯线与屏蔽层也会形成线间电容。高频电磁波从一个信号芯线通过电容到另一个信号芯线，这称为“串音干扰”，例如A相对B相相互串音干扰。屏蔽层上走的电磁杂波通过线间电容走到信号芯线上，这称为“外部高频电磁干扰”。线间电容以每米PF实验室检测获得。</p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15352051628795517fbb653><p class=pgc-img-caption></p></div><p>信号被干扰的传导来自于线间电容走高频信号。 线间电容会随着电缆绝缘皮的老化而性能突变，一些使用久的老化的电缆会突然开始丢信号。</p><p>导线的电感特性：足够长的导线，因传导电磁波周边电场形成电感特性，电感特性带来的是对电磁波信号的延迟，以ns/m延迟参考这个电缆的电感特性。当周边电磁场被干扰，这种电感延迟效应将更加突出，会有更多的不确定性的信号延迟出现，由于不同频率电磁波对于电感的效应不同，重新叠加后方波信号已经变形失真了。</p><p>如果编码器信号线是绕圈的，这种电感特性将更加明显。因此，编码器电缆走线尽量保持直线。</p><p><strong>四，编码器双绞是个啥意思？</strong></p><p>双绞线是将成互为反相的成双抓对的信号组成一组双绞传递，例如在增量编码器的互为反相信号成双抓对，A+与A-是一对，B+与B-是一对，各自在双绞线上传输。</p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/15352049673882dd7909f8b><p class=pgc-img-caption></p></div><p>“双”的作用是将A+与A-在外部看过去是合成为一种正相与反相电磁波的叠加，而配对双绞叠加后看似一个直流场，没有电磁场变化的传导。直流传导形成的电磁场对线间电容不敏感，也就是没有了串音干扰与外部高频电磁干扰。</p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/153520496744850cc335057><p class=pgc-img-caption></p></div><p>双绞前：</p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/153520496741714eb0fbf9a><p class=pgc-img-caption></p></div><p>A+与A-双绞配对后传输：</p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1535204967447430aa07ed8><p class=pgc-img-caption></p></div><p>A+与A-组信号与B+与B-组信号各自双绞后，相当于两组直流对直流，线间电容对几乎是直流的电场不起作用，两组信号之间的串音减少了。</p><p>“绞”是指绞合旋转的节距，这与电缆电感特性有关，需对于这根电缆要走的信号主要频率段做预设，通过实验室获得最佳的电缆电感特性（信号延迟与变形最小）。</p><p>无论是从电学理论还是实验室实践看，双绞的作用主要是针对在电缆上同时传输配对的含反相信号，如果是单相的，例如仅仅是ABZ信号传输，双绞的意义并不大。某些“专家”看都不看编码器是否具有A+与A-信号同时在导线上传输，或者就是只传了ABZ信号，也要强调要用“双绞屏蔽线”，我不知道他的依据是什么？欢迎留言讨论。</p><p><strong>五，编码器屏蔽层起什么作用？</strong></p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/153520499174880c0b69c9f><p class=pgc-img-caption></p></div><p><strong>静电屏蔽:</strong>静电屏蔽就是用铜等导电性能良好的金属为材料制作成封闭的金属外包,并与地线连接,把需要屏蔽器件或信号置于其中,使外部静电干扰电场不影响其内部的电路和信号。</p><p><strong>电磁屏蔽:</strong>电磁屏蔽也是采用导电良好的金属材料做成屏蔽层,将被保护的电路包围在其中。它屏蔽的干扰对象不是电场,而是高频(40KHz以上)磁场。干扰源产生的高频磁场遇到导电良好的电磁屏蔽层时,会有多种可能：反射、折射、吸收、多次折射再反射，或者穿透干扰到内部芯线上的信号。</p><p>很高频率的电磁波接近于光波特性，遇到铝箔屏蔽层，或者很致密的遮蔽层大部分就反射回去了。不是很高频率的电磁波会有部分折射进入屏蔽层金属导体，有一部分再次在导体表面反射，多次反射后被吸收，就在屏蔽层其外表面形成电磁波“雾”，从而消耗了高频干扰的能量，使电磁屏蔽层内部的电路免受高频干扰磁场的影响。如果是单层铝箔，或者屏蔽层不够致密，仍然会有部分高频干扰穿透屏蔽层而干扰到内部信号。铝箔仅对很高频率的电磁波有100%的反射，还有很多波长较长频率较低的电磁波将可能透过铝箔折射进入内部。因此用铝箔作为屏蔽层的一般都是用于很高频率的以太网信号，普通增量脉冲信号频率较低，用铝箔做屏蔽层效果不佳。对于编码器信号，较佳的是用高遮蔽性的致密线金属网状屏蔽层。</p><p>屏蔽层并不是做为导线用的，更不是去做两端等电位导线用的。如果要求两端都接地，也有可能由于连接而导入干扰信号。如果需要两端等电位连接，应该在屏蔽层外再用一根铜粗导线连接两端等电位，而不是将屏蔽层当等电位连接线用。</p><p><strong>六，信号电缆越粗越好吗？专业编码器电缆长什么样？</strong></p><p>这是一个严重的误解。</p><p>编码器信号是高频电磁波信号，高频信号走导体表面。不是走电流电压直流信号或者低频信号讲直流电阻的，芯线没有必要很粗，粗线确实也增加了外边表面面积，但是截面积与线径是平方关系，而导线外表面积与线径是一次方关系，单纯芯线材料的加粗浪费了铜材料。编码器专用电缆的芯线粗细关系到表面积的大小和分布电容的设计，并不是随意加粗的， 截面积增加一倍，外边面积仅增加了40%，较粗的信号芯线反而会改变线间电容设计，更易发生串音干扰，或者外部高频电磁串入干扰。如果感觉上要粗更好一些，也必须是有信号线与电源线有粗细搭配的，有电容特性电感特性针对信号频率有过专门设计的。</p><p>有些自动化项目设计要求编码器信号线达0.75平方以上的是误导了，那样粗的如果没有经电缆特性的电容电感设计，距离长的也会形成较大的线间电容，A相与B相会高频走电容而串音，并信号线与屏蔽层形成电容，引入漏过的高频干扰。但是电缆内的作为电源0V线，却是越粗越好的，加粗的0V线可以与屏蔽层形成较大的线间电容，将干扰的高频信号吸收从0V线引走。电缆内不用的线可以合并为0V线。</p><p>作为参考，德国海德汉的编码器电缆，信号线仅0.14平方，0V线是0.5平方。</p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/153520501526764ad741248><p class=pgc-img-caption></p></div><p>海德汉编码器电缆提供的数据很少，仅仅从信号电缆外观看，最初的印象是信号线<strong>很细（仅0.14平方！）这与某些“专家”们讲的“编码器线要尽量粗”大相径庭，</strong>（你要打算走多大的电流啊），屏蔽层金属线很多很细而致密，几乎达到100%的遮蔽。再看上面的参数表，结合我前面的介绍我们来看：4对0.14平方的信号线，4根0.5平方的电源线，信号线与电源线的粗细比是1：3.5。也就是电缆表面积形成的电容比1：3.5。如果有高频干扰穿透了屏蔽层进入，也因为屏蔽层与电源线的电容更大，而从电源线上走了。海德汉要求备用一组电源，如果不用备用电源线，也可以两根电源线合并达到更粗。电缆的电容特性线间分布电容90pF/m，电感特性是延迟时间6ns/m。传输150米。如果电源线用2根合并后传输更远，一般有超过200米。</p><p>十多年前在某海军维修基地8吊点同步起吊潜艇维修，我用过海德汉编码器及电缆最长接近了300米，变频器是ABB的，当时只有在ABB变频器上找到了带有推挽式含反相信号的接口A+/A-,B+/B-。这样的含有反相信号并配合专用的编码器信号电缆，才能够保证在200米后仍然能够获得稳定与高保真的信号。而当初的那个项目最远走到了300米。</p><p>再来看一根十多年前我定制的编码器电缆：</p><p>1， 高密度细线屏蔽层，接近100%的遮蔽度。</p><p>2， 信号芯线为0.079超细高纯度软铜线，30股绞，在同等电缆平方截面积下，多股细线达到最大的周边表面积，高频信号走导体表面。</p><p>3， 电源线为加粗的105股0.079超细高纯度软铜线，”粗“是股数多，而不是真的就一根粗线。电源线与信号线（外径面积）电容比为3.5：1。</p><p>4， 厂方实验室测得的线间电容大约在97到100pF/m</p><p>5， 厂方实验室测得的延迟为7ns/m</p><p>6， 此电缆专为编码器信号传输超过30米而设计，脉冲频率(电子开关频率)小于800KHz。</p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1535205015304ebd3e11f62><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1535205015338cc70bea893><p class=pgc-img-caption></p></div><p>双屏蔽层有没有用？</p><p>双屏蔽层解决几个问题，第1是两层屏蔽层“脸皮”足够厚，足以挡住更多的电磁辐射干扰。第2是对混乱的两端接地买单，最外层可以两端接地，内层悬浮或者单端接地。实际上如果需要两端等电位连接，可以信号电缆外再拉一根较粗的铜导线。第3，内外双层屏蔽层可以成为电容，吸收掉透过的高频干扰信号。这与专业电缆的0V线较粗与屏蔽层形成线间电容异曲同工了。如果理解了双屏蔽层是如何有效的，也许你就不需要双屏蔽层电缆了。</p><p><strong>七，不好的编码器电缆会有哪些？</strong></p><p>1，直接以五类八芯的民用网线代替编码器专用线。这是被某些只会讲简单的“双绞屏蔽线”的技术支持给迷惑了。五类八芯通讯线也有确实是双绞屏蔽的，但是那个双绞是针对民用要求不高的（可以断点再续）的普通网络信号，而屏蔽层是薄铝箔，仅仅对于很高的频率有反射作用，没有能屏蔽掉较低的电磁波，它的电容电感特性与编码器的频率段不符。</p><p>普通的网络以太网信号有校验码与容错设计，允许少量丢信号再补。而编码器脉冲与SSI信号不允许有丢信号发生。</p><p>2，只强调了电缆截面积到位够粗的直流或交流低频送电流特性，而没有信号电缆的高频设计。电缆内芯线的股数不多，仅仅是截面积达到较粗，高频信号走表面，这样的电缆高频电容电感没有设计的话，高频电磁波部分损失波形失真。</p><p>3，屏蔽层不够致密性，一些偷工减料的电缆屏蔽层要么是薄的铝箔，要么是稀疏的铝线，没有对干扰起到屏蔽反射与吸收作用。</p><p>4，断头再接太多，线头毛刺与老化。编码器信号到接收端最好是一根电缆，中间连接越少越好，接点多是反射面和发射头多，内部反射与外部发射多了信号毛刺与失真增多。波形不整易受干扰丢信号。</p><p>电缆用久了老化，会改变绝缘层的性能，电容特性改变或漏电，电缆如果有经常移动，或有芯线断头毛刺出现，击穿线间电容。</p><p>5，电缆材质，包括铜材、绝缘皮、填充线、屏蔽层的劣质低价。这必须考核供应商有多年的ISO9000的品质保证体系的积累。工业系统一般品质有保证的供应商建立到稳定需要三年以上。</p><p><strong>八，干扰从哪里来？干扰是个什么鬼？</strong></p><p>1，所有的各种非正弦波形的电磁波和上升下降的开关信号，都包含了各种频段的电磁波，其中就有较易向外辐射的高频电磁波。</p><p>2，所有开放的非接触的两个金属导体介质之间，或者一个尖锐的金属尖端与大地都有可能形成一个电容，较长的金属导线或者导线线圈，都有可能构成一个电感元器件，电容型元器件件与电感型元器件就会构成一个在某个特别频率振荡的回路，这个回路发送辐射信号，或者接收辐射信号，尤其是较高频率的电磁波更容易形成这种辐射和接收。</p><p>3，数字方波信号器其中包含了很多高频电磁波部分，这一部分高频波就容易受到来自空间的同样频率的高频电磁波的影响而改变形态，这一部分高频电磁波在导线中的传输，也因为其高频信号更容易衰减和向外辐射，而丢失这一部分高频能量。同样，这一部分高频部分由于较容易向外辐射，也就同样成为其他数字方波信号的干扰源。各种电路发生和传导的各种波形的信号，都可以傅立叶变换中分解出高频部分，被来自于空间同样频率的高频干扰到，易衰减，甚至干扰到其他信号波形中去。</p><p>除了这种数字方波信号本身也是高频干扰源以外，还有静电干扰、低频和磁场干扰、其他高频干扰。</p><p>4，静电干扰</p><p>静电是指不流动的电荷或电位差，两个介质之间有不同的电荷或电位差，当能量聚积到一定程度，或者距离靠近，或者有尖锐端出现电场畸变，或者有灰层的电荷传导击穿，这种静电就会发生击穿放电----不在沉默中死亡，就在沉默中爆发，这是一种空间电磁场布局发生突变的短促重建电磁场，并释放能量。最典型的就是雷电，在实际工控自动化中，典型的是接触式开关的关闭和打开（机械继电器和电磁抱刹电磁阀），非金属介质干燥时的电荷堆积，较多灰尘的电荷堆积，金属导体的尖锐角与线头毛刺，以及设备在从停电到上电的瞬间，各个部位的非等电位而引起的静电差。等等。静电大量存在，随时可能出现各种微放电。这种短瞬间的放电会对数字信号干扰小到一个波形上的毛刺，大到会损坏输出和接收器件。</p><p>在工控中还在有较多的NPN型器件的使用，这类器件的公共端是在高电平，而大部分设备又是在0V低电平作为公共接地，这两个“公共端”就预先设立了两个非等电位的静电电位差，这也是静电干扰较易发生的可能。应避免使用NPN型编码器和各类开关。</p><p>应对静电干扰：等电位连接、无金属尖角与毛刺、无尘、隔绝、非金属介质的抗静电处理。</p><p>5，低频与磁场干扰</p><p>低频与磁场干扰主要来自于动力电、电机、各种线圈。工业使用的电力是交流50Hz的三相或两相交流电，在有较大动力周边，因交流电的传导（直线电缆的配送和各种导线线圈）而产生周边电磁场变化，及电磁波反射、差拍叠加、谐波，电机转动时因瞬间的三相不平衡而对外部的磁场贡献，以及开关电源和变频器内部低频泄漏低等等。低频干扰主要是近距离感应耦合、直接介质（金属导体）传导。低频干扰是破坏数字信号的能量部分，波形整个被削低。</p><p>应对低频干扰：拉开距离、磁环或铁磁性材料吸收低频能量、金属密封隔离需保护器件、阻止低频传导途径。（不要看到屏蔽线与接地线就随便接）。</p><p>6，其他各种高频干扰</p><p>按照傅立叶变化原理，所有的变化的波形都可以分离成各种频率的电磁波，除了完美的正余弦波形仅仅只有一个频率，其余各种波形都包含了高频部分的谐波，这种高频除了在导体介质的表面传导，还会向外辐射，尤其是有金属尖角和线头毛刺部分的向外辐射可能性最大。对于信号发生源、信号传导电缆、信号接收单元，高频干扰都会存在，在有金属尖角、开放的端子尖角、金属电缆线头毛刺部分，更容易吸收外部高频干扰。高频干扰破坏的是数字信号的图形轮廓部分，当高频能量较大时，会瞬间发热破坏器件（电磁炉或微波炉原理）。</p><p>高频辐射波对光亮金属面是反射的，对细而多密的金属线是吸收能量的，这就是电缆屏蔽层的作用。</p><p>应对高频干扰：细密的金属屏蔽与吸收能量，无金属尖角毛刺。改变设计的电容值或电感值，改变LC频率防止高频自激。</p><p><strong>九，“接地”怎么做的讨论？</strong></p><p>PE保护性接地，为保护人身安全，现场不可以有电压的高低电位差而对人造成不安全。而电磁兼容性EMC的试验也证实交流、直流、大地与外壳的统一连接接地，信号抗干扰特性最佳。</p><p>往往有三个类别连接地线的“接地”，作为等电位。</p><p>1， 大地、机柜外壳、机械底座等金属导通的统一接地。</p><p>2， 动力交流电三相平衡的中心零线与地线连接。</p><p>3， 直流控制系统的电源0V与地等电位连接。（有时这一部分悬空，或以电容与地线连接）</p><p>以上三类“接地”应各自独立路线并走最近的导通路线接入到大地，而不能混接串联。并且在接地前相互有一定的距离。例如信号线应离动力线有一定的距离，防止近端感应。</p><p>上面说的“导通”需要考虑高频信号（干扰）是怎么走的。</p><p>三类接地应区分，不宜混接不可串联，防止接通导入型干扰。</p><p>三类“接地”在良好接入接地板前应保持一定的距离，防止感应型干扰到信号。</p><p>然而，EMC要求是在实验室里的试验，在现场往往离EMC实验室要求很远。无法给出“标准答案”。</p><p>1，作为大地、机柜外壳、机械底座等接地，会有因为导电性能不佳、长期老化带来的接触不良，潮湿空气灰尘积累改变的电特性，等等不良因素降低了接地效果。每一个外壳地应有铜排或较粗的铜导线接地，并尽量以并联而不是串联对大地走最近的路线。</p><p>2，动力交流的三相不平衡，带来零线上的感应虚电压，短瞬间爆发的电磁波从地线走是有延迟的，可能以走周边容性回路走了“近道”对信号干扰。这类干扰以三相交流供电电源三相不平衡，或者周边电机上绕线的不均衡（只有启动起来加速时显现出不平衡），或者永磁电机磁场分布不均匀，造成交流强能量的干扰到信号。对于周边有大功率电机的这类干扰较突出。</p><p>3，电源0V上各种设备之间的未经隔离，开关电源、变频器、电磁阀、继电器等等与直流电源有关的内部高频电磁波短瞬间外露直接在0V上走，由于高频电磁波在导线上的延迟性，而形成落差走向。这并不是用直流量连接电阻电压可以预判的。</p><p>在这类0V上和电源上感应到的干扰，较多的是现场的变频器（内部的交-直流-交流的逆变的高频电磁波）、开关电源（同样内部有直流交流直流的逆变）、电磁阀电磁抱刹、较大型接触器等等的短瞬间高频干扰到电源，有时选择线性电源或者电源隔离。</p><p>因此我们要判断，什么是等电位（交流的高频的状况下的如何“导通”走向），怎么接地。并不是接地强迫症似的看见有线空着就“接地”，这个接入的是什么类别的地要看明白，它的走向如何，有没有经过干扰区感应干扰，或者直接接入引入了干扰，这样的随意性乱接地也许反而会引入干扰。</p><p>4， 编码器外壳与屏蔽线接地吗？</p><p>原理上编码器的外壳与屏蔽线属于第1类的外壳保护性接地（屏蔽接地），很多编码器外壳与屏蔽线作了接触式导通，还有些是作了用电容连接的交流（高频）接地。由编码器电缆屏蔽层接地，有些甚至与电源0V一起接地。但是很多情况下编码器的轴端连着电机，而编码器的轴与外壳的导通是通过滚珠轴承的滚珠，在旋转时是摩擦接触导通的。有时受动力三相不平衡影响，以及轴与外壳通过滚珠接触的导通不良与滚珠上微放电，外壳与屏蔽层导体的高频传导延迟性，轴端与外壳与电源0V三者很容易形成短瞬间电磁波落差走向，不当的全部三类接地混接的连接反而会引入干扰。因此，还有些编码器外壳选择了屏蔽线与外壳的悬空，让用户根据现场各种电气状况选择外壳如何接地，屏蔽层如何接地。</p><p>编码器电缆屏蔽层接地只有“直接导通”吗？有时接一个电容也是“高频接地”，有时屏蔽层一端悬空甚至两端都悬空，也是高频电容接地了----当编码器导线大于30米时，屏蔽层与电缆内部的电源线形成了线间电容，高频干扰从线间电容倒入0V并接地，一端悬空可以避免从干扰源直接导入干扰。</p><p>在编码器信号传输较远时，需要外部再加长一根信号电缆传导100米时，我一般建议是屏蔽层在接收端接地。而在靠近编码器端将屏蔽层悬空。电缆足够长度下，屏蔽层与电缆电源0V形成电容性接地，并避免编码器外壳、电缆屏蔽层、接收端0V三者的混合直接导通。由于这么长的距离，高频干扰传导的延迟时差必然存在，三者直接混合导通接地将形成线上电磁波落差走向，反而引入干扰在屏蔽层上走。影响到内部的信号。</p><p>5， 编码器的信号有A+/A-，B+/B-。但是接收端只有ABZ没有反相接口，双绞屏蔽线还有没有用？</p><p>在较长距离情况下（大于30米）必须有双绞屏蔽的编码器专用电缆，编码器的A+/A-和B+/B-都要配对走双绞线，而且必须选型有A+/A-，B+/B-的编码器。在接收端没有A-与B-的接口，可以在接收端悬空A-B-，（线上仍然有电压，并有线间电容），或者选择一个终端电阻对接收端的0V连接（120欧姆）。</p><p><strong>十，实例：编码器信号如何传200米？</strong></p><p>为更清楚方波的其中高频部分的特性，以下我们看增量方波信号经过200米电缆之后的一个典型的示波器图:</p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1535205124161acf7e47f26><p class=pgc-img-caption></p></div><p>这其中,陡直的上升沿下降沿不见了,取而代之的是斜坡上升和斜坡下降沿。另外，在方波本来平坦的中间，出现了一个突起的小波峰。</p><p>我们已经知道高频电磁波在导线中更容易衰减和向外辐射。导线中的增量AB相方波信号，其中陡直的上升沿与下降沿其实包含了较多的高频部分，在200米导线的传输过程中已经衰减或者辐射出去了，因此留下的是更像一次低频电磁波信号的上升和下降（斜坡），而A相信号的上升沿时间，在B相信号上看到了一个突起的小波峰，那就是A相的高频部分串音干扰到B相信号上来。</p><p>GI58N（A+/A-,B+/B-，Z+/Z-）编码器+200米远传专用编码器信号电缆（<strong>型号：</strong></p><p><strong>F600K0208），在</strong>较高转速下的200米后接收端波形。</p><div class=pgc-img><img alt=有关编码器信号电缆与传输抗干扰的讨论 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/153520512416014de5c94a6><p class=pgc-img-caption></p></div><p>因频率较快，并信号经200米远传后，信号略有失真，但反射波叠加与串音很小，方波图形仍然清晰可辨，底部小于0.7V，信号质量符合增量脉冲接收端要求，接收器计数准确。</p><p>请注意：编码器信号大于30米必须选用含有反相信号的A+/A-，B+/B-的编码器输出，包括5V差分或者是10—30V推挽式含反相信号。而且信号电缆上的传输也必须是A+/A-，B+/B-的配对双绞线传输。在接收端尽量选用有A-，B-接口的接收器。如果是ABZ单相的，建议可在接收端A-，B-悬空，或者建议用一个120欧姆的终端电阻对0V连接。</p><p>友情申明：</p><p>上述讨论集中在增量脉冲信号和SSI串行信号电缆（包括Endat和Biss 信号）。</p><p>对于信号抗干扰如何现场解决，没有标准答案，没有一文就可以读懂的。</p><p>喜欢快速收藏答案的同学，请关注学习文中的原理部分讲解，要根据现场不同的现象分析，自己在实践中寻找答案，尝试各种抗干扰解决方案。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'有关','编码器','信号'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>