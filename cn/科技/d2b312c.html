<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握 | 极客快訊</title><meta property="og:title" content="ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/f693c5c0d2f945249067832f51bc9812"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d2b312c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d2b312c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d2b312c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d2b312c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d2b312c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d2b312c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d2b312c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d2b312c.html><meta property="article:published_time" content="2020-10-29T20:50:29+08:00"><meta property="article:modified_time" content="2020-10-29T20:50:29+08:00"><meta name=Keywords content><meta name=description content="ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/d2b312c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>一、Internet控制报文协议ICMP（Internet Control Message Protocol）</strong></p><p>ICMP是网络层的一个重要协议。ICMP协议用来在网络设备间传递各种差错和控制信息，它对于收集各种网络信息、诊断和排除各种网络故障具有至关重要的作用。使用基于ICMP的应用时，需要对ICMP的工作原理非常熟悉。基于IP协议，协议号 1</p><div class=pgc-img><img alt="ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f693c5c0d2f945249067832f51bc9812><p class=pgc-img-caption></p></div><p>ICMP是TCP/IP协议簇的核心协议之一，它用于在IP网络设备之间发送控制报文，传递差错、控制、查询等信息。</p><p>echo request type = 8 code = 0</p><p>echo reply type =0 code=0</p><p><strong>二、ICMP重定向</strong></p><p><strong>ICMP Redirect重定向消息用于支持路由功能</strong>。如图所示，主机A希望发送报文到服务器A，于是根据配置的默认网关地址向网关RTB发送报文。<strong>网关RTB收到报文后，检查报文信息，发现报文应该转发到与源主机在同一网段的另一个网关设备RTA，因为此转发路径是更优的路径</strong>。所以RTB会向主机发送一个Redirect消息，通知主机直接向另一个网关RTA发送该报文。主机收到Redirect消息后，向RTA发送报文，RTA会将报文转发给服务器A。</p><div class=pgc-img><img alt="ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9c1a3913b1f34374ae15881f466e94a6><p class=pgc-img-caption></p></div><p><strong>三、ICMP差错检测</strong></p><div class=pgc-img><img alt="ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9dc19fbb995e45158ae73c23aa660105><p class=pgc-img-caption></p></div><p>ICMP数据包格式</p><div class=pgc-img><img alt="ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7c62be024d3f4b7c8245235106165791><p class=pgc-img-caption></p></div><p>1、<strong>ICMP消息封装在IP报文中</strong>。ICMP消息的格式取决于Type和Code字段，其中Type字段为消息类型，Code字段包含该消息类型的具体参数。后面的校验和字段用于检查消息是否完整。消息中包含32比特的可变参数，这个字段一般不使用，通常设置为0。</p><p>2、<strong>在ICMP Redirect消息中，这个字段用来指定网关IP地址</strong>，主机根据这个地址将报文重定向到指定网关。在Echo请求消息中，这个字段包含标识符和序号，源端根据这两个参数将收到的回复消息与本端发送的Echo请求消息进行关联。尤其是当源端向目的端发送了多个Echo请求消息时，需要根据标识符和序号将Echo请求和回复进行一一对应。</p><p>3、<strong>Type表示ICMP消息类型</strong>，Code表示同一消息类型中的不同信息。</p><p><strong>四、ICMP消息类型和编码类型</strong></p><div class=pgc-img><img alt="ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e8953d719351415786d386c00d721368><p class=pgc-img-caption></p></div><p><strong>五、ARP</strong></p><div class=pgc-img><img alt="ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0a342c98e09644a8bf6ff29d5f2ff685><p class=pgc-img-caption></p></div><p>1、一台网络设备要发送数据给另一太网络设备时，必须要知道对方的IP地址。但是，仅有IP地址是不够的，因为<strong>IP数据报文必须封装成帧才能通过数据链路进行发送</strong>，而数据帧必须要包含目的MAC地址，因此<strong>发送端还必须获取到目的MAC地址</strong>。每一个网络设备在数据封装前都需要获取下一跳的MAC地址。</p><p>2、IP地址由网络层来提供，</p><p><strong>MAC地址通过ARP协议来获取</strong>。ARP协议是TCP/IP协议簇中的重要组成部分，ARP能够通过目的IP地址发现目标设备的MAC地址，从而实现数据链路层的可达性。</p><div class=pgc-img><img alt="ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b8f331a5c02949d3bd8a27d556a8a4e9><p class=pgc-img-caption></p></div><p>3、华为设备接口默认没有开启ARP代理功能，接口下面使用arp-proxy enable 开启代理功能。<strong>免费ARP：免费ARP可以用来探测IP地址是否冲突主机被分配了IP地址或者IP地发生变更后，必须立刻检测其所分配的IP地址在网络上是否是唯一的，以避免地址冲突</strong>。主机通过发送ARP request报文来进行地址冲突检测。主机A将ARP Request广播报文中的目的IP地址字段设置为自己的IP地址，该网络中所有主机包括网关都会接收到此报文。当目的IP地址已经被某一个主机或网关使用时，该主机或网关就会回应ARP reply报文。通过这种方式，主机A就能探测到IP地址冲突了。</p><p><strong>六 TCP&UDP</strong></p><p>传输层中最为常见的两个协议分别是：</p><p><strong>TCP 传输控制协议（Transmission Control Protocol ）</strong></p><p>TCP是一种面向连接的传输层协议，提供可靠的传输服务</p><p><strong>UDP 用户数据报协议（User Datagram Protocol）</strong></p><p>TCP端口号：</p><div class=pgc-img><img alt="ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9c66c6560144436cbbbb894070b1e0dc><p class=pgc-img-caption></p></div><p>1、TCP允许一个主机同时运行多个应用进程。每台主机可以拥有多个应用端口，每对端口号、源和目标IP地址的组合唯一地标识了一个会话。端口分为知名端口和动态端口。</p><p>2、有些网络服务会使用固定的端口，这类端口称为<strong>知名端口，端口号范围为0-1023</strong>。如FTP、HTTP、Telnet、SNMP服务均使用知名端口。动态端口号范围从1024到65535，这些端口号一般不固定分配给某个服务，只要运行的程序向系统提出访问网络的申请，那么系统就可以从这些端口号中分配一个供该程序使用。</p><div class=pgc-img><img alt="ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/f3f38d297ec24845846e3e01cfaa699c><p class=pgc-img-caption></p></div><p>TCP三次握手四次断开。TCP默认头部长度20bytes</p><div class=pgc-img><img alt="ICMP ARP协议 TCP&UDP协议相关介绍，两分钟快速掌握" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/8ce713acadb74e96b6fc4ab680c59628><p class=pgc-img-caption></p></div><p>ENSP中通过TFTP下载文件，路由器只能设置为client模式。 get下载，put上传</p><p>tftp 172.16.1.1 get XXX 从172.16.1.1下载</p><p>tftp 172.16.1.1 put flash:/XXX 本地flash中上传172.16.1.1服务器</p><p><br></p><p><strong>如果喜欢这段内容，欢迎大家点赞、收藏、分享、转发。欢迎网络技术爱好者加入网络狂热爱好者圈子交流，圈内持续更新分享干货网络技术，坚持下去你会发现有意外的成长和收获！</strong></p><div class=tt-community-card data-content='{"media_name": "\u534e\u4ebf\u7f51\u7edc", "member_count": 16, "title": "\u7f51\u7edc\u72c2\u70ed\u7231\u597d\u8005\u5708\u5b50", "price": 99, "period": 1, "community_id": "6828831533957120524", "square_cover": "pgc-image/ea9a4fcc42ba494a848d739fb92ca448", "share_price": 0, "media_id": 1583782005355534, "renew_price": 69}'><div class=community-placeholder>（此处已添加圈子卡片，请到今日头条客户端查看）</div></div><p><strong>适合零基础入门的网络技术视频欢迎大家学习！持续更新！【华为网络产品为主+思科网络辅助】</strong></p><div class=tt-column-card data-content='{"new_thumb_url": "http://sf6-ttcdn-tos.pstatp.com/img/pgc-image/b7d6478f4fba45f88f3fece4b4a18553", "title": "2020\u96f6\u57fa\u7840\u5b66\u7f51\u7edc\u3010\u7406\u8bba+\u5b9e\u6218\u3011", "url": "", "price": 59, "column_id": "6824456213430796557", "content": "", "author_description": "\u534e\u4ebf\u7f51\u7edc", "share_price": 14.16, "thumb_url": "http://p4.pstatp.com/large/pgc-image/b7d6478f4fba45f88f3fece4b4a18553", "sold": 6}'><p class=column-placeholder></p></div><h1 class=pgc-h-arrow-right>同时欢迎想学更多网络技术的大学生或初学者或转行者或考证者或职业规划问题均可单独私信交流！</h1></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'协议','ICMP','ARP'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>