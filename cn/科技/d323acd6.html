<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç° | æå®¢å¿«è¨Š</title><meta property="og:title" content="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç° - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/2d017d59689b467b93d6e1a4bcb3a13c"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d323acd6.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d323acd6.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d323acd6.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d323acd6.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d323acd6.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d323acd6.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d323acd6.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d323acd6.html><meta property="article:published_time" content="2020-11-14T21:03:15+08:00"><meta property="article:modified_time" content="2020-11-14T21:03:15+08:00"><meta name=Keywords content><meta name=description content="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/d323acd6.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><blockquote><p>æ–‡ç« æ¥æºäºéœæ ¼æ²ƒå…¹æµ‹è¯•å­¦é™¢</p></blockquote><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬åˆæ­¥æ¢è®¨äº† REST Assured çš„åº”ç”¨å®è·µï¼Œè¿˜æœ‰å¾ˆå¤šä¸°å¯Œçš„ç”¨æ³•éœ€è¦æ…¢æ…¢æ¢ç´¢ç ”ç©¶ã€‚è€Œ REST Assured æä¾›çš„å®Œæ•´æ–­è¨€æ‰‹æ®µï¼Œæ˜¯æµ‹è¯•å·¥ç¨‹å¸ˆæœ€å¸¸ç”¨æœ€é‡è¦çš„åŠŸèƒ½ä¹‹ä¸€ã€‚æ–­è¨€è¯¥å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ</p><p><strong>1. Json æ–­è¨€</strong></p><p>1.1 ç¯å¢ƒå‡†å¤‡</p><p>è¿™é‡Œä»¥ rest-assured å®˜æ–¹ç»™çš„ä¸€ä¸ªç¤ºä¾‹åšæ¼”ç¤ºå­¦ä¹ </p><pre><code>{"lotto":{ "lottoId":5, "winning-numbers":[2,45,34,23,7,5,3], "winners":[{   "winnerId":23,   "numbers":[2,45,34,23,3,5] },{   "winnerId":54,   "numbers":[52,3,12,11,18,22] }]}}</code></pre><p>åœ¨æœ¬åœ°ä½¿ç”¨ python -m CGIHTTPServer ä¸´æ—¶æ­å»ºèµ·ä¸€ä¸ªæœåŠ¡ï¼š</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2d017d59689b467b93d6e1a4bcb3a13c><p class=pgc-img-caption></p></div><p>1.2 JsonPath(Groovy's GPath)</p><p><br></p><blockquote><p>åœ¨ Groovy çš„å®˜ç½‘ï¼Œè™½ç„¶å¹¶æœªæåŠå®ƒåœ¨ json ä¸­çš„ä½¿ç”¨ï¼Œä½†å®é™…ä¸Šåªè¦æ˜¯æ ‘å½¢çš„å±‚çº§å…³ç³»ï¼Œæ— è®ºæ˜¯ jsonã€xml æˆ–è€…å…¶ä»–æ ¼å¼ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ç§ç®€å•çš„è¯­æ³•å¸®æˆ‘ä»¬å»æ‰¾åˆ°å…¶ä¸­çš„å€¼ï¼Œrest-assured ä¹Ÿå·²ç»å¸®æˆ‘ä»¬å®ç°æ”¯æŒäº† GPath çš„æ–­è¨€æ–¹å¼</p></blockquote><p><br></p><p>æ ¹èŠ‚ç‚¹.å­èŠ‚ç‚¹1ï¼‰æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ ¹èŠ‚ç‚¹.(ç‚¹)å­èŠ‚ç‚¹çš„æ–¹å¼ä¸€å±‚å±‚çš„æ‰¾ä¸‹å»ï¼Œä¾‹å¦‚æˆ‘ä»¬éœ€è¦å¯¹lottoIdç­‰äº 5 è¿›è¡Œæ–­è¨€ï¼š</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4af2d53e70664d608be2c466c3167492><p class=pgc-img-caption></p></div><pre><code>@Testvoid testGPath(){     given().     when().             log().all().get("http://127.0.0.1:8000/restAssured.json").     then().             log().all().body("lotto.lottoId",equalTo(5)); }</code></pre><p>2ï¼‰å¦‚æœæˆ‘ä»¬æƒ³è¦æ–­è¨€winnersæ•°ç»„ä¸‹é¢çš„winnerIdï¼Œæ£€æŸ¥23å’Œ54æ˜¯å¦åŒ…å«å…¶ä¸­ï¼Œå¯ä»¥å¦‚ä¸‹lotto.winners.winnerIdå†™æ³•</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7e065dee273e45989ed107283c3f5ca9><p class=pgc-img-caption></p></div><pre><code>@Testvoid testGPath(){    given().    when().            log().all().get("http://127.0.0.1:8000/restAssured.json").    then().            log().all()            .body("lotto.winners.winnerId",hasItems(54,23));}</code></pre><p><strong>ç´¢å¼•å–å€¼</strong>1ï¼‰å¦‚æœæˆ‘ä»¬æƒ³è¦å–æŸäº›ç›¸åŒå­—æ®µä¸­çš„æŸä¸€ä¸ªï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼ç´¢å¼•çš„æ–¹å¼è·å–ï¼Œä¾‹å¦‚æƒ³è¦æ–­è¨€ winners æ•°ç»„ä¸‹é¢çš„ winnerId çš„ç¬¬ä¸€ä¸ªå€¼æ˜¯å¦ä¸º23ï¼Œå¯ä»¥ä½¿ç”¨ lotto.winners.winnerId[0]ï¼Œå†™æ³•å¦‚ä¸‹ï¼š</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3d78d5f56578479a8e536a6186840d5a><p class=pgc-img-caption></p></div><pre><code>@Testvoid testGPath(){    given().    when().            log().all().get("http://127.0.0.1:8000/restAssured.json").    then().            log().all()            .body("lotto.winners.winnerId[0]",equalTo(23));}</code></pre><p>2ï¼‰å¦‚æœæˆ‘ä»¬æƒ³è¦å–æŸäº›ç›¸åŒå­—æ®µä¸­çš„æœ€åä¸€ä¸ªï¼Œå¯ä»¥ä½¿ç”¨ -1 ä½œä¸ºç´¢å¼•ï¼Œä¾‹å¦‚æ–­è¨€æ–­è¨€ winners æ•°ç»„ä¸‹é¢çš„ winnerId çš„æœ€åä¸€ä¸ªçš„å€¼æ˜¯å¦ä¸º 54</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0c3e3251558b4053a54be8437f11e6da><p class=pgc-img-caption></p></div><pre><code>@Testvoid testGPath(){    given().    when().            log().all().get("http://127.0.0.1:8000/restAssured.json").    then().            log().all()            .body("lotto.winners.winnerId[-1]",equalTo(54));}</code></pre><p><strong>findAll</strong></p><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è·å–ç¬¦åˆæŸäº›æ¡ä»¶çš„ç»“æœæ¥è¿›è¡Œæ–­è¨€ï¼Œè¿™é‡Œ findAll å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ findAll æ–¹æ³•ä¸­å†™ç­›é€‰æ¡ä»¶ï¼Œä¾‹å¦‚æˆ‘ä»¬æƒ³å– winnerId çš„å€¼åœ¨å¤§äºæˆ–ç­‰äº 30 å°äº 60 ä¹‹é—´çš„ç»“æœè¿›è¡Œæ–­è¨€ï¼Œå…·ä½“å†™æ³•å¦‚ä¸‹ï¼š</p><pre><code>@Testvoid testGPath(){    given().    when().            log().all().get("http://127.0.0.1:8000/restAssured.json").    then().            log().all()            .body("lotto.winners.findAll{ winners -&gt; winners.winnerId &gt;= 30 &amp;&amp; winners.winnerId &lt; 60}.winnerId[0]",equalTo(54));}</code></pre><p><strong>find</strong></p><p>find çš„ç”¨æ³•ä¸ findAll åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯ find é»˜è®¤å–åŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªï¼š</p><pre><code>@Testvoid testGPath(){    given().    when().            log().all().get("http://127.0.0.1:8000/restAssured.json").    then().            log().all()            .body("lotto.winners.find{ winners -&gt; winners.winnerId &gt;= 30 &amp;&amp; winners.winnerId &lt; 60}.winnerId",equalTo(54));    }</code></pre><p>1.3 å®æ“æ¼”ç¤º</p><p>å°†ä¸Šè¿°å„ä¸ªæ–­è¨€è¯­æ³•å†™åœ¨ä¸€èµ·ï¼Œå®é™…è¿è¡Œæ ¡éªŒç»“æœï¼š</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/910b2f9a1ce04725ae075ce5de25453a><p class=pgc-img-caption></p></div><p><strong>2. XMLæ–­è¨€</strong></p><p>2.1 ç¯å¢ƒå‡†å¤‡</p><p>ä¸Šé¢ä»‹ç»äº†ï¼ŒGPath ä¹Ÿæ”¯æŒ XML æ ¼å¼çš„æ–­è¨€ï¼Œè¿™é‡Œå†ä»¥ rest-assured å®˜æ–¹ç»™çš„ä¸€ä¸ªå®ä¾‹åšæ¼”ç¤º</p><pre><code>&lt;shopping&gt; &lt;category type="groceries"&gt; &lt;item&gt; &lt;name&gt;Chocolate&lt;/name&gt; &lt;price&gt;10&lt;/price&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;Coffee&lt;/name&gt; &lt;price&gt;20&lt;/price&gt; &lt;/item&gt; &lt;/category&gt; &lt;category type="supplies"&gt; &lt;item&gt; &lt;name&gt;Paper&lt;/name&gt; &lt;price&gt;5&lt;/price&gt; &lt;/item&gt; &lt;item quantity="4"&gt; &lt;name&gt;Pens&lt;/name&gt; &lt;price&gt;15&lt;/price&gt; &lt;/item&gt; &lt;/category&gt; &lt;category type="present"&gt; &lt;item when="Aug 10"&gt; &lt;name&gt;Kathryn's Birthday&lt;/name&gt; &lt;price&gt;200&lt;/price&gt; &lt;/item&gt; &lt;/category&gt; &lt;/shopping&gt;</code></pre><p>å†æ¬¡åœ¨æœ¬åœ°æ­èµ·ä¸€ä¸ªä¸´æ—¶æœåŠ¡ï¼š</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a958ce8f5bd44aec9728ba035b8a9cb4><p class=pgc-img-caption></p></div><p>2.2 XmlPathæ–­è¨€è¯­æ³•</p><p>è‹¥æˆ‘ä»¬è¦å¯¹ç¬¬äºŒä¸ª name çš„å€¼ Coffee è¿›è¡Œæ–­è¨€ï¼Œå†™æ³•å¦‚ä¸‹ï¼š</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4cdb191ea8b44f86b89f05206fbea029><p class=pgc-img-caption></p></div><p><br></p><pre><code>@Testvoid testXML(){    when().            get("http://127.0.0.1:8000/restAssured.xml").    then().            log().all().            body("shopping.category[0].item[1].name",equalTo("Coffee"));}</code></pre><p><strong>size()</strong></p><p>å¯ä»¥åˆ©ç”¨ size() æ–¹æ³•æ¥è·å–å¯¹åº”èŠ‚ç‚¹çš„æ•°é‡ï¼Œä¾‹å¦‚è¿™é‡Œè¦æ–­è¨€ category çš„æ•°é‡ï¼š</p><pre><code>@Testvoid testXML(){    when().            get("http://127.0.0.1:8000/restAssured.xml").    then().            log().all()            .body("shopping.category.size()",equalTo(3));}</code></pre><p><strong>it.@typeã€it.price</strong></p><p>åœ¨ xmlä¸­ æ–­è¨€ä¸­ï¼Œå¯ä»¥åˆ©ç”¨ it. å±æ€§æˆ–èŠ‚ç‚¹çš„å€¼æ¥ä½œä¸ºç­›é€‰æ¡ä»¶ï¼›ä¾‹å¦‚è¿™é‡Œè¦è·å– type ä¸º supplies çš„ category ä¸‹çš„ç¬¬ä¸€ä¸ª item çš„ nameï¼Œä»¥åŠè·å– price ä¸º 10 çš„å•†å“å nameã€‚</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5bcc0d08d6834ffa92101930e47effaf><p class=pgc-img-caption></p></div><pre><code>@Testvoid testXML(){     when().             get("http://127.0.0.1:8000/restAssured.xml").     then().             log().all()             .body("shopping.category.findAll{ it.@type == 'supplies' }.item[0].name",equalTo("Paper"))             .body("shopping.category.item.findAll{ it.price == 10 }.name",equalTo("Chocolate")); }</code></pre><p><strong>**.findAll</strong></p><p>å¯¹äºxmlä¸­æœ‰ä¸€ä¸ªç‰¹åˆ«çš„è¯­æ³•ï¼Œ**.findAllï¼Œå¯ä»¥ç›´æ¥å¿½ç•¥å‰é¢çš„èŠ‚ç‚¹ï¼Œç›´æ¥å¯¹ç­›é€‰æ¡ä»¶è¿›è¡ŒåŒ¹é…ï¼Œä¾ç„¶è·å–priceä¸º10çš„å•†å“ånameï¼Œå†™æ³•å¦‚ä¸‹ï¼š</p><pre><code>@Testvoid testXML(){    when().            get("http://127.0.0.1:8000/restAssured.xml").    then().            log().all()            .body("**.findAll{ it.price == 10 }.name",equalTo("Chocolate"));}</code></pre><p>2.3 å®æ“æ¼”ç¤º</p><p>å°†ä¸Šè¿°å„ä¸ªæ–­è¨€è¯­æ³•å†™åœ¨ä¸€èµ·ï¼Œå®é™…è¿è¡Œæ ¡éªŒç»“æœï¼š</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/edf28b29874742b88518784226023663><p class=pgc-img-caption></p></div><p><strong>3. JsonSchemaæ–­è¨€</strong></p><p>3.1 éœ€æ±‚èƒŒæ™¯</p><p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œå¯¹æ¥å£è¿”å›å€¼è¿›è¡Œæ–­è¨€æ ¡éªŒï¼Œé™¤äº†å¸¸ç”¨å­—æ®µçš„æ–­è¨€æ£€æµ‹ä»¥å¤–ï¼Œè¿˜è¦å¯¹å…¶ä»–å­—æ®µçš„ç±»å‹è¿›è¡Œæ£€æµ‹ï¼ŒåŸå› åœ¨äºï¼š</p><p><br></p><ul><li>è¿”å›å­—æ®µè¾ƒå¤šï¼Œæ— æ³•ä¿è¯æ¯ä¸ªå­—æ®µéƒ½å†™æ–­è¨€</li><li>é˜²æ­¢å®¢æˆ·ç«¯æœªåš null å€¼çš„æ ¡éªŒåˆ¤æ–­ï¼Œå¦‚æœå› ä¸ºç‰ˆæœ¬å˜æ›´æˆ–ç½‘ç»œç­‰åŸå› é€ æˆæŸä¸ªä¸èƒ½æ¥æ”¶ null å€¼çš„è¿”å›å­—æ®µä¸º nullï¼Œå°±å¾ˆæœ‰å¯èƒ½é€ æˆè½¯ä»¶çš„å´©æºƒ</li><li>æŸäº›æ•°å€¼æ˜¯ä¸èƒ½ä¸ºè´Ÿçš„</li><li>å°æ•°ç‚¹ä¿ç•™ä½æ•°ï¼Œå¯¹äºè‚¡ç¥¨çš„äº¤æ˜“ã€åŒ»ç–—æ•°æ®çš„åˆ†æï¼Œå°æ•°ç‚¹çš„ç²¾ç¡®åº¦éƒ½æ˜¯æœ‰å…¶å®é™…ä»·å€¼çš„</li></ul><p>å¯¹è¿”å›çš„å­—æ®µä¸€ä¸ªä¸ªå†™æ–­è¨€æ˜¾ç„¶æ˜¯éå¸¸è€—æ—¶çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¸€ä¸ªæ¨¡æ¿ï¼Œå¯ä»¥å®šä¹‰å¥½æ•°æ®ç±»å‹å’ŒåŒ¹é…æ¡ä»¶ï¼Œé™¤äº†å…³é”®å‚æ•°å¤–ï¼Œå…¶ä½™å¯ç›´æ¥é€šè¿‡æ­¤æ¨¡æ¿æ¥æ–­è¨€ï¼Œè¿™ä¸ªå°±è¦è¯·å‡ºJsonSchemaäº†</p><p>3.2 ä½¿ç”¨æ–¹æ³•</p><p>å…ˆå¯¹ä¸Šè¿°çš„ json ä¾‹å­åšå°‘è®¸ä¿®æ”¹ï¼Œå¢åŠ ä¸€ä¸ª String ç±»å‹çš„ winnername å­—æ®µï¼Œè¿™é‡Œå¯ä»¥å…ˆä½ ä¸ç”¨ç–‘æƒ‘ä¸ºä»€ä¹ˆåŠ ï¼Œåç»­è‡ªæœ‰å…¶æ¼”ç¤ºä½œç”¨</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/bfc172d47ab048c9b3154c83b071a74c><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right><strong>JsonSchemaæ¨¡æ¿ç”Ÿæˆ</strong></h3><p>1ï¼‰é¦–å…ˆè¦å€ŸåŠ©äºJson schema toolçš„ç½‘ç«™https://www.jsonschema.net/ï¼Œå°†è¿”å›jsonå­—ç¬¦ä¸²å¤åˆ¶åˆ°é¡µé¢å·¦è¾¹ï¼Œç„¶åç‚¹å‡»INFER SHCEMA,å°±ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºschema jsonæ–‡ä»¶ç±»å‹,ä¼šå°†æ¯ä¸ªåœ°æ®µçš„è¿”å›å€¼ç±»å‹éƒ½è®¾ç½®ä¸€ä¸ªé»˜è®¤ç±»å‹; åœ¨patternä¸­ä¹Ÿå¯ä»¥å†™æ­£åˆ™è¿›è¡ŒåŒ¹é…</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1b22199dced440c59585fc3b82ff8c63><p class=pgc-img-caption></p></div><p>2ï¼‰ç‚¹å‡»â€œè®¾ç½®â€æŒ‰é’®ä¼šå‡ºç°å„ä¸ªç±»å‹è¿”å›å€¼æ›´è¯¦ç»†çš„æ–­è¨€è®¾ç½®ï¼Œè¿™ä¸ªå°±æ˜¯schemaæœ€å¸¸ç”¨ä¹Ÿæ˜¯æœ€å®ç”¨çš„åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥å¯¹æ¯ç§ç±»å‹çš„å­—æ®µæœ€æ›´ç»†åŒ–çš„åŒºé—´å€¼æ ¡éªŒæˆ–è€…æ–­è¨€ï¼Œä¾‹å¦‚é•¿åº¦ï¼Œå–å€¼èŒƒå›´ç­‰ï¼Œå…·ä½“æ„Ÿå…´è¶£çš„è¯å¯ä»¥ä»å®˜ç½‘å­¦ä¹ æ·±å…¥å­¦ä¹ ï¼›å¹³å¸¸å¯¹é‡è¦å­—æ®µçš„æ ¡éªŒæˆ‘é€šå¸¸ä¼šé€‰ç”¨å…¶ä»–æ–­è¨€ï¼Œæ¯”å¦‚hamcrestæ–­è¨€</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/430fd400c0874687946f6c8ff09199ae><p class=pgc-img-caption></p></div><p>3ï¼‰é€‰æ‹©å¤åˆ¶åŠŸèƒ½ï¼Œå¯ä»¥å°†ç”Ÿæˆçš„schemaæ¨¡æ¿ä¿å­˜ä¸‹æ¥</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c0ce119485314267befa96bc45608353><p class=pgc-img-caption></p></div><p><strong>rest-assuredç»“åˆä½¿ç”¨</strong></p><p>4ï¼‰æ·»åŠ mavenä¾èµ–ï¼Œåœ¨rest-assuredå®Œæˆæ”¯æŒ</p><pre><code>&lt;dependency&gt;    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;    &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;    &lt;version&gt;4.0.0&lt;/version&gt;&lt;/dependency&gt;</code></pre><p>5ï¼‰ä½¿ç”¨matchesJsonSchemaInClasspathæ–¹æ³•å¯¹å“åº”ç»“æœè¿›è¡Œschemaæ–­è¨€</p><pre><code>@Testvoid jsonSchemaTest(){    get("http://127.0.0.1:8000/restAssured.json").    then().log().all()            .body(matchesJsonSchemaInClasspath("jsonSchema.json"));}</code></pre><p>è¿è¡Œç»“æœï¼š</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ec8ead810ddc47af852dbb427db86842><p class=pgc-img-caption></p></div><p><strong>å¤šç±»å‹æ ¡éªŒ-Combining schemas</strong></p><ul><li>Stringç±»å‹çš„é»˜è®¤å€¼ä¸ºnullï¼Œåç«¯å¾ˆæœ‰å¯èƒ½åœ¨æŸä¸ªå­—æ®µæ— å€¼æ—¶è¿”å›nullï¼Œä¾‹å¦‚æˆ‘ä»¬å°†ä¹‹å‰æ·»åŠ çš„winnernameå­—æ®µè¿”å›null:</li></ul><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/686b4aef739d4fc4a0806b384c003c5d><p class=pgc-img-caption></p></div><p>è¿è¡ŒæŸ¥çœ‹æ–­è¨€ç»“æœï¼š</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9a07e78ff05c4b14974611267dc6f9ea><p class=pgc-img-caption></p></div><p>å¾ˆæ˜æ˜¾ç”¨ä¾‹æ‰§è¡Œå¤±è´¥ï¼Œå½“æˆ‘ä»¬å®šä¹‰äº†winnernameä¸ºStringç±»å‹åï¼Œè¿”å›nullå°±ä¼šæ–­è¨€å¤±è´¥ï¼Œè¿™æ˜¾ç„¶ä¸ç¬¦åˆæˆ‘ä»¬çš„éœ€æ±‚ï¼Œä¼šé€ æˆç”¨ä¾‹æ‰§è¡Œç»“æœçš„è¯¯åˆ¤ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦ä½¿winnernameå³å¯ä»¥ä¸ºStringç±»å‹ï¼Œåˆå¯ä»¥ä¸ºnullï¼›</p><p>è¿™å°±è¦ç”¨åˆ°jsonSchemaæä¾›çš„Combining schemasæ–¹æ³•äº† Combining schemasæä¾›äº†å¦‚ä¸‹å‡ ç§æ–¹å¼ï¼š</p><ul><li>allOf</li><li>anyOf</li><li>oneOf</li><li>not</li></ul><p>è¿™é‡Œæˆ‘ä»¬é€‰å–anyOf(ä»»ä½•ä¸€é¡¹æ»¡è¶³å³å¯)æ¥å®Œæˆä¸Šè¿°çš„ä¸¾ä¾‹ï¼Œå°†åŸæ¥çš„typeæ¢æˆStringå’Œnullä»»ä½•ä¸€ä¸ªéƒ½æ”¯æŒçš„ç±»å‹ï¼š</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/cbde85bc6f8c407ba7e2d415c058db66><p class=pgc-img-caption></p></div><p>å†æ¬¡è¿è¡Œç”¨ä¾‹ï¼ŒæŸ¥çœ‹æ–­è¨€ç»“æœï¼š</p><div class=pgc-img><img alt="ä¸€æ–‡æå®š REST Assured å®è·µ(äºŒ)ï¼šæ–­è¨€å®ç°" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2db882205d424fc68806d0ede2b92ce1><p class=pgc-img-caption></p></div><p>ç”¨ä¾‹å®Œç¾é€šè¿‡ï¼Œåˆ°æ­¤ç»“æŸ~</p><p>ï¼ˆæ–‡ç« æ¥æºäºéœæ ¼æ²ƒå…¹æµ‹è¯•å­¦é™¢ï¼‰</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'REST','Assured','å®è·µ'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>