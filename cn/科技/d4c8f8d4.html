<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>以太坊2.0有哪些最新的改变？ | 极客快訊</title><meta property="og:title" content="以太坊2.0有哪些最新的改变？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/SEyRrzp33PmXKp"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d4c8f8d4.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d4c8f8d4.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d4c8f8d4.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d4c8f8d4.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d4c8f8d4.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d4c8f8d4.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d4c8f8d4.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d4c8f8d4.html><meta property="article:published_time" content="2020-11-14T21:00:14+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:14+08:00"><meta name=Keywords content><meta name=description content="以太坊2.0有哪些最新的改变？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/d4c8f8d4.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>以太坊2.0有哪些最新的改变？</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><em>作者：Alex Koma</em></p><p><em>翻译：李翰博</em></p><p>以太坊 2.0是以太坊网络的升级，预计将在2020年年底进行。</p><p>一旦推出，以太坊 2.0将成为测试Proof-of-Stake共（PoS）识算法系统的试验网。大部分经济活动和智能合约将继续在原有的以太坊网络上运行，它将继续成为以太坊 2.0的平行系统。开发者实现了Eth1向Eth2过渡的连接桥，但反向是无法转回 Token 的。</p><p>以太坊 2.0部署的三个阶段是什么？</p><p></p><h1 toutiao-origin=h3>第0阶段：信标链</h1>测试网于2020年7月开始。它只包括测试新的PoS共识机制，因此该网络将主要是测试驱动的，尽管它将使用真实的以太坊 Token。在这个阶段内，以下PoS的功能将会上线。<ul><li>Staker的管理</li><li>Staker的资金管理。</li><li>一个随机数生成器，帮助选择区块生产者和质押的监管者。</li><li>Staker对区块大小提案进行投票。</li><li>奖励和罚款的分配，对Staker的奖励和罚款。</li></ul><p></p><h1 toutiao-origin=h3>第一阶段：分片</h1>最初将部署一个有64个分片的实验网络。在没有重大经济活动的情况下，0阶段旨在测试基本的PoS基础设施，而1阶段旨在测试基本的分片模型。在这一阶段，65个区块链将并行运行--0阶段存在的信标链和64个新的分片。在信标链和所有64个分片之间也将有一个双向通信和链接机制。<h1 toutiao-origin=h3>第二阶段：实施新的运行模式</h1>假设在这个阶段，智能合约将开始在网络上工作，经济活动将开始。分片将不再是原始数据的存储，而是开始类似于虚拟机和以太坊 1.0智能合约。第二阶段的规范正在制定中。<p>单向转换</p><p>在以太坊 2.0推出后，将有两个网络并行运行--Eth1和Eth2。最初可以将Eth1 Token兑换成Eth2 Token，但反之则不行，所以理论上，Eth2 Token的交易价格应该小于或等于Eth1 Token的价值。然而，在过渡的早期阶段，Eth2 Token不太可能被交易所定价或支持，因为它们的唯一用途将是质押。甚至连基本的转账都将无法实现。</p><p>要将Eth1转移到Eth2，你需要使用Eth1托管协议。这个协议会销毁Eth1上的 Token，然后销毁的 Token可以作为发行新的Eth2 Token的确认。Token 会被永久销毁毁，不过由于硬分叉导致的协议变更，可以实现 Token 的回收。</p><p>转移到Eth2的 Token 会自动进入验证器池。</p><p>PoS（Proof of stake）</p><p>根据PoS的概念，投票的 "权重 "和验证者的奖励金额是由质押的 Token 值决定的。Eth2规范规定，每个验证者必须有32个ETH。如果合约中收到的 Token 数超过32ETH，那么验证者不会从这些额外的 Token 中获得奖励。如果少于32个ETH Token ，那么节点将不会被激活。因此，您需要以32个 Token 的比例将ETH转入Eth2。32个ETH的每一部分都可以是一个单独的Staker。</p><p>Token 的发行将是怎样的？</p><p>Eth1将继续在PoW的基础上运行，Eth2将继续在PoS的基础上运行。</p><p>在此期间，这两组验证者、矿工和候选节点都将获得奖励，因此以太坊的通货膨胀率将上升--至少在两个系统合并之前是这样。</p><p>Eth2的发行水平将取决于参与质押过程的token数量。每年的发行水平将基于一种算法，其中Eth2是参与PoS验证池的以太坊 Token数量（这些数字的来源是Vitalik Buterin在2019年4月发表的一篇文章）。</p><p>来源: BitMEX Research</p><p>这个公式是基于这样的想法：ETH转入Eth2的数量越多，新 Token 的发行量就越多，但投资收益会随着质押的增加而减少。图解以太坊2.0通货膨胀率。</p><img alt=以太坊2.0有哪些最新的改变？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyRrzp33PmXKp><p>数据来源: BitMEX Research</p><p>下图表示以太坊 2.0的通货膨胀率：</p><img alt=以太坊2.0有哪些最新的改变？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/SEyRs0BD2f4NHM><p>图表来源: BitMEX Research</p><p>发行率决定了报酬的数额。该奖励旨在激励用户向Eth2转换 Token 。由于Eth2的成功将减少对 Token 的需求，因此奖励将按比例减少。这样的模式可以确保移动 Token 的数量足以显著增加网络的规模；但是，如果Eth2很受欢迎，那么发行量不会变得太高。</p><p>这样的模式似乎与以太坊最初的 "永久线性膨胀 "计划相矛盾。</p><ul><li>一些因素可以减轻通货膨胀可能上升的影响。</li><li>在第一阶段，激励系统预计将包括两个要素：一个是销毁 Token 的基本佣金，另一个则是Staker 的奖励佣金。销毁 Token 将降低通货膨胀。</li><li>如果验证者不能参与验证过程--例如，如果节点停止工作或失去与网络的连接--那么质押奖励将被取消。</li><li>如果验证者违反规则，他们会被罚款，没收的 Token 会被销毁掉。</li></ul><p>这些机制可能会导致大量的以太坊 Token 被销毁毁，可能会抑制高通胀的影响。</p><p>区块链合并将如何进行？</p><p>在未来，Eth1和Eth2可能会在几年内合并回一个系统。事实上，Eth1将成为Eth2内部的一个分片，允许以太坊在分片之间双向移动，两个 Token 将合二为一。据推测，目前发生在Eth1上的大部分经济活动将继续在Eth2分片内部进行。</p><p>下一步可能是共识系统的合并。Eth1分片可以逐渐转向PoS。</p><p>Proof-of-Work可以继续工作，但在给定数量的区块之后--例如，每100个区块之后--区块的共识将决定Proof-of-Stake。最后，将有可能完全放弃PoW：PoW区块的奖励将变得没有必要。这将使以太坊用户和投资者对通货膨胀时间表更加确定。</p><p>网站开发人员提供的主要技术功能是什么？</p><img alt=以太坊2.0有哪些最新的改变？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyRs0j79sqgI6><p>数据来源: GitHub</p><p>在以太坊 2.0中， PoS（proof of stake）将如何运作？</p><p>PoS是分叉选择规则的一般概念。</p><p>优先选择多数 Token 投票的链。Eth2的核心投票系统原则与以太坊2018年提案中的原则相同，是基于Casper Friendly Finalty Gadget的想法。然而，该系统已经基于Casper Friendly Finalty Gadget和最新的Message Driven Greedy Heaviest Observed Subree Fork选择规则（Casper FFG & LMD GHOST Fork选择规则）的组合进行了更新。</p><p>投票系统引擎包含以下几个部分。首先，一个大型的分叉池，每个分叉池最多代表32个ETH（激活一个分叉池需要32个ETH，这个数量可以减少到16个ETH，这就需要停用）。这个池子并不直接对区块进行投票--它被划分为委员会，其成员从更大的池子成员中随机选出。</p><p>划分到委员会的原因是，不是每个Staker都能为每个区块投票--否则，区块链将包含过多的投票数据，这将使扩展变得不可能。</p><p>此外，委员会允许你将投票数据收集到可控的数据器中。因此，在这些委员会中，随机选择一组Staker进行投票。</p><p>根据Eth2的规范，每个委员会的Staker目标数量是128个（期望的最低数量）。开发者认为，这是一个足够多的stakers数量，以提供一个可能的区块选择保证。签名可以结合起来，以减少所需的区块大小并扩展网络。</p><p>委员会由RanDAO等系统随机选出。随机选择定义了一个口令短语，每当有一个区块被建议时，就会加上这个口令。为了对抗区块分片攻击，提议区块只有两个选项可以影响该阶段：提议区块或不提议。因此，操纵的可能性是有限的。</p><p>除了委员会分配质押外，还有另一个子类别的块和检查点块。</p><p>每32个区块中就有一个区块检查点（checkpoint），检查点之间的时间间隔称为一个epoch（纪元）。在每个时代的边界内，有32个12秒的时间段(间隔)可以提出区块。</p><p>因此，每个时代有32组时段，供32个委员会使用。在每个epoch结束时，委员会的成员会更换位置。每个时代有一个委员会（"理想的最小值 "是128名成员）。一个委员在12秒的时间间隔内有独家提案权，其他委员可以投票支持一个区块。这种投票也称为证明。</p><p>为信标链中的委员会分配Staker（假设每个槽位有一个委员会）：</p><img alt=以太坊2.0有哪些最新的改变？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyRs1J3MsFwt0><p>数据来源: BitMex Research</p><p>在现实中，事情可能比这些图中更复杂。所以，在0阶段，一个时段最多可以有64个委员会，而不是一个。因此，如果每个委员会有128个成员，那么每个时段最多可以容纳262,144个staker，相当于大约840万ETH。</p><p>每个Staker被分配到一个委员会。质押的越多，委员会越多。最大的委员会规模是2048个，大致相当于每个epoch使用的全部以太坊供应量（64个委员会*32个ETH*32个槽位*每个委员会2048个staker=1.342亿ETH）。</p><p>下图说明了委员会的数量和委员会成员的数量如何随着质押池中ETH数量的变化而变化。它显示，随着质押池的增长，委员会数量首先增加到64个，然后当质押池中约有840万ETH时，委员会的规模开始增长。</p><p>委员会的数量和委员会成员的数量。</p><img alt=以太坊2.0有哪些最新的改变？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyRsUw9V1aGiA><p>数据来源: BitMex Research</p><p>为了确定哪些区块拥有最多的选票，有必要将所有委员会的所有选票相加。如果投票者表现得很有好，他们可以从新增发的以太坊 Token 池中获得奖励。如果投票者违反规则，他们会被罚款，并失去部分质押物。惩罚的目的是为了防止诸如投票给两个冲突的区块这样的站队行为，尽管在某些情况下可能允许这样做。Staker会因为下线而被剥夺奖励。</p><p></p><h1 toutiao-origin=h3>在以太坊 2.0中如何进行最终确定？</h1>当委员会成员对一个区块进行投票时，他们不仅要对一个特定的区块提案进行投票，还必须对一个特定的历史区块检查点进行参考和投票。正是这种机制保证了投票过程的稳定。因此，事实上，在PoS模型上，存在着两种投票程序，一内一外。下图说明了这两种投票是如何发生的，以及这些投票可以存储在哪些区块中。<p>投票和引用，假设有效沟通（假设每个槽位有一个委员会）。</p><p>资料来源: BitMex Research</p><p>如果在一个区块上建立了一个检查点区块，超过三分之二的委员会成员在投票时提到了这个检查点，那么这个区块就可以得到 "确认"。</p><p>一个区块最早能成为 "确认 "的时间是在该区块的三分之二确认之后。</p><p>下一个阶段是最终确定。当一个区块在区块链中包含两个确认后的区块时，这个区块就被最终确定了。因此，在大多数情况下，当三分之二投票者形式的门槛达到足够快时，由于有效的沟通渠道，用户需要等待一个纪元（6.4分钟）的确认，以及两个纪元（12.8分钟）的最终确定。这个过程如下图所示。</p><p>正常情况下，在信标链中确认和最终确定一个区块的过程。</p><img alt=以太坊2.0有哪些最新的改变？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyRsVQEi2LeZk><p>数据来源: BitMex Research</p><p></p><h1 toutiao-origin=h3>违反规则者将受到什么处罚？</h1>三种情况下，投票人会受到处罚。<ul><li>区块打包者在同一时段内提出两个相互冲突的提议。</li><li>同时提交两个含有冲突链接的检查点区块。</li><li>投出两个与检查点区块转场有重叠链接的投票。例如，一个标志着从检查点块1到检查点块4的过渡，以及从检查点块1到检查点块4的过渡，另一个一个指的是检查点块2到检查点块3的过渡。</li></ul><p>可以假设这个规则将被一个更合理的规则所取代，根据这个规则，所有对区块过渡的引用都必须按顺序进行，然而，一个诚实的节点有可能跳过一个检查点区块，连续投票的结果可能变成合法的。一张图说明了这种情况。</p><img alt=以太坊2.0有哪些最新的改变？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SEyRsVs6OLf20T></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'2.0','改变','以太'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>