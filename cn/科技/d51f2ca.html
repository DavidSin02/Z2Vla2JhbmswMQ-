<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>西门子PLC学习实例：过程控制毕业设计 | 极客快訊</title><meta property="og:title" content="西门子PLC学习实例：过程控制毕业设计 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/b7f38cec0e8e4cc79d8635c16b863f94"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d51f2ca.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d51f2ca.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d51f2ca.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d51f2ca.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d51f2ca.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d51f2ca.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d51f2ca.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d51f2ca.html><meta property="article:published_time" content="2020-10-29T20:59:51+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:51+08:00"><meta name=Keywords content><meta name=description content="西门子PLC学习实例：过程控制毕业设计"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/d51f2ca.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>西门子PLC学习实例：过程控制毕业设计</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><br></p><h1 class=pgc-h-arrow-right>关注：头条号+转发，领取设计源文件和PLC学习资料</h1><div class=pgc-img><img alt=西门子PLC学习实例：过程控制毕业设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b7f38cec0e8e4cc79d8635c16b863f94><p class=pgc-img-caption></p></div><p><br></p><p><strong>中文：双容液位控制系统设计</strong></p><p>摘 要</p><p>本设计完成对双容液位控制系统的设计。该系统的简要工作流程为：水泵将储水</p><p>箱中的水往上压，流经调节阀继续往上注入上水箱。上水箱的水再注入下水箱，下水</p><p>箱再回流至储水箱。PLC 通过设在下水箱底部的压力/液位变送器读取下水箱的当前</p><p>液位值，经 PID 指令运算来控制调节阀的开启程度。采用 PLC 作为主控制器，由</p><p>CPU226 模块和 EM235 模块组成。选择 PID 控制作为主控制策略，通过 PLC 中的 PID</p><p>指令运算实现对调节阀的 PID 单回路控制。通过控制回路实现本地与远程的选择，通</p><p>过组态软件实现手动与自动的切换。电路中设有断路器和热继电器，能实现对电路的</p><p>保护和报警。通过运用 A3000 过程控制实验平台来检验本设计的可行性和合理性。</p><p>关键词：CPU226；EM235；PID；A3000；自动化；过程控制；双容液位；PLC；单</p><p>回路；双容液位控制系统设计</p><p><br></p><p><strong>英文：双容液位控制系统设计</strong></p><p>Abstract</p><p>The design is completed on the two-tank liquid level control system. Brief workflow</p><p>of the system are: water pump to the water tank up in pressure, flows through the control</p><p>valve to continue up into the tank. On the water tank under the tank and then into the next</p><p>tank and then back to the tank. PLC through a water tank at the bottom of the next level</p><p>transducer to read the current level value under the tank, to control by the PID instruction</p><p>operation control valve opening degree. By PLC as the main controller, the CPU226</p><p>module and EM235 module. Select PID control as the main control strategy, through the</p><p>PLC PID instruction in the operation of the control valve to achieve single-loop PID</p><p>control. Through the control loop to achieve local and remote option, through</p><p>configuration software manual and automatic switching. Circuit with circuit breakers and</p><p>thermal relays, to achieve the protection and alarm circuit. A3000 process control through</p><p>the use of experimental platform to test the feasibility and rationality of the design.</p><p>Key words: CPU226；EM235；PID；A3000</p><p><br></p><h1 class=pgc-h-arrow-right>双容液位控制系统设计</h1><p><strong>目 录</strong></p><p>摘要 . .......................................................................................................................................I</p><p>Abstract. ................................................................................................................................ II</p><p>第 1 章 绪论 . ........................................................................................................................ 1</p><p>1.1 选题背景 . ................................................................................................................ 1</p><p>1.2 过程控制的发展过程 . ............................................................................................ 1</p><p>1.3 过程控制策略与算法的进展 ........................................................................... 2 1.4</p><p>传统过程控制存在的问题 . .................................................................................... 3</p><p>第 2 章 A3000 过程控制实验系统及设计方案介绍 ......................................................... 4</p><p>2.1 A3000 过程控制实验系统总体架构简介............................................................... 4</p><p>2.1.1 A3000 现场系统特性. .................................................................................... 5</p><p>2.1.2 A3000 上的控制器. ........................................................................................ 6</p><p>2.1.3 通讯面板 . ...................................................................................................... 9</p><p>2.1.4 一般控制器信号连接和操作 ....................................................................... 9</p><p>2.1.5 面板接线 . ...................................................................................................... 9</p><p>2.2 本设计方案介绍 . .................................................................................................. 10</p><p>2.2.1 本设计方案的总体概括 . ....................... 10</p><p>2.2.2 本设计方案的详细明................................................................................................... 10</p><p>第 3 章 方案论证 . .............................................................................................................. 12</p><p>3.1 控制策略的选择 . .................................................................................................. 12</p><p>3.1.1 控制策略方案一 . ........................................................................................ 12</p><p>3.1.1.1 模糊控制器的概念 ........................................................................... 12</p><p>3.1.1.2 模糊控制器的优点 ........................................................................... 13</p><p>3.1.1.3 模糊控制器的缺点 ........................................................................... 13</p><p>3.1.1.4 结合本设计分析 . .............................................................................. 13</p><p>3.1.2 控制策略方案二 . ........................................................................................ 13</p><p>3.1.2.1 串级控制的概念 . .............................................................................. 13</p><p>3.1.2.2 串级控制的优点 . .............................................................................. 14</p><p>3.1.2.3 串级控制的缺点 . .............................................................................. 14</p><p>3.1.2.4 结合本设计分析 . .............................................................................. 14</p><p>3.1.3 控制策略方案三 . ........................................................................................ 14</p><p>3.1.3.1 PID控制器概念. ................................................................................. 14</p><p>3.1.3.2 PID控制器的优点. ............................................................................. 15</p><p>3.1.3.3 PID控制器的缺点. ............................................................................. 15</p><p>3.1.3.4 结合本设计的分析 ........................................................................... 15</p><p>3.2 控制器的选择 . ...................................................................................................... 16</p><p>3.2.1 控制器的选择方案一 . ................................................................................ 16</p><p>3.2.1.1 DCS的概念 . ....................................................................................... 16</p><p>3.2.1.2 DCS的优点 . ....................................................................................... 16</p><p>3.2.1.3 DCS的缺点 . ....................................................................................... 17</p><p>3.2.1.4 结合本设计分析 . .............................................................................. 17</p><p>3.2.2 控制器的选择方案二 . ................................................................................ 17</p><p>3.2.2.1 软PLC的概念 . ................................................................................... 17</p><p>3.2.2.2 软PLC的优点 . ................................................................................... 17</p><p>3.2.2.3 软PLC的缺点 . ................................................................................... 17</p><p>3.2.2.4 结合本设计分析 . .............................................................................. 18</p><p>3.2.3 控制器的选择方案三 . ................................................................................ 18</p><p>3.2.3.1 PLC的概念 . ........................................................................................ 18</p><p>3.2.3.2 PLC的优点 . ........................................................................................ 18</p><p>3.2.3.3 PLC的缺点 . ............................................ 18</p><p>3.2.3.4 结合本设计分析 .................................................................... 18</p><p>第 4 章 供配电设计 . .......................................................................................................... 19</p><p>4.1 用电设备选型 . ...................................................................................................... 20</p><p>4.1.1 对水泵的选择 . ............................................................................................. 20</p><p>4.1.2 电动调节阀的选择 . .................................................................................... 20</p><p>4.1.3 直流电源的选择 . ......................................................................................... 21</p><p>4.1.4 压力/液位变送器的选择 . ........................................................................... 22</p><p>4.1.5 接触器的选择 . ............................................................................................ 22</p><p>4.1.6 辅组继电器的选择 . .................................................................................... 22</p><p>4.2 功率统计 . ............................................................................................................... 23</p><p>4.3 电气设备的选择 . ................................................................................................... 23</p><p>4.3.1 水泵电源回路的电气设备的选择 ............................................................. 23</p><p>4.3.2 控制回路的电气设备的选择 ..................................................................... 24</p><p>4.3.3 直流电源回路的电气设备的选择 ............................................................. 25</p><p>4.3.4 电动调节阀电源电气设备的选择 . ... 25</p><p>4.3.5 PC回路的电气设备的选择 .............................................................................. 26</p><p>第 5 章 控制接线设计 . ...................................................................................................... 27</p><p>5.1 西门子S7-200 PLC CPU226 和EM235 模块介绍................................................ 27</p><p>5.1.1 CPU模块外形结构 . ..................................................................................... 27</p><p>5.1.2 模拟量模块的接线 . ..................................................................................... 29</p><p>5.1.3 模拟量I/O的数据格式 . ....................................... 30</p><p>5.2 本设计的控制接线 .......................................................................... 30</p><p>第 6 章 软件流程图和程序设计 . ...................................................................................... 33</p><p>6.1 软件流程图 . ........................................................................................................... 33</p><p>6.1.1 主程序流程图 . ............................................................................................. 33</p><p>6.1.2 中断 0 子程序流程图 . ................................................................................. 36</p><p>6.1.3 中断 1 子程序流程图 . ................................................................................. 36</p><p>6.2 程序设计 . ............................................................................................................... 38</p><p>6.2.1 主程序梯形图： . ......................................................................................... 38</p><p>6.2.2 中断 0 子程序梯形图： . ......................... 42</p><p>6.2.3 中断 2 子程序梯形图： .......................................................... 43</p><p>第 7 章 上位组态设计 . ...................................................................................................... 44</p><p>7.1 新建工程 . .............................................................................................................. 44</p><p>7.2 选择设备及设备配置 . .......................................................................................... 45</p><p>7.3 建立数据库 . .......................................................................................................... 47</p><p>7.4 建立组态动画 . ...................................................................................................... 49</p><p>7.5 组态画面及功能介绍 . .......................................................................................... 51</p><p>7.6 制作上位组态需要注意的事项 ........................................................................... 53</p><p>7.6.1 如何修改当前工程的属性 . ..................................... 53</p><p>7.6.2 如何备份工程 ............................................................................................... 53</p><p>第 8 章 总结 . ......................................................................................54</p><p><br></p><p>双容液位控制系统设计</p><p>第 1 章 绪论</p><p>1.1 选题背景</p><p>过程控制是工业自动化的重要分支。几十年来，工业过程控制取得了惊人的发展，</p><p>无论是在大规模的结构复杂的工业生产过程中，还是在传统工业过程改造中，过程控</p><p>制技术对于提高产品质量以及节省能源等均起着十分重要的作用。</p><p>1.2 过程控制的发展过程</p><p>在现代工业控制中, 过程控制技术是一历史较为久远的分支。在本世纪 30 年代</p><p>就已有应用。过程控制技术发展至今天, 在控制方式上经历了从人工控制到自动控制</p><p>两个发展时期。在自动控制时期内，过程控制系统又经历了三个发展阶段, 它们是：</p><p>分散控制阶段, 集中控制阶段和集散控制阶段。</p><p>从过程控制采用的理论与技术手段来看，可以粗略地把它划为三个阶段：开始到</p><p>70 年代为第一阶段，70 年代至 90 年代初为第二阶段，90 年代初为第三阶段开始。</p><p>其中 70 年代既是古典控制应用发展的鼎盛时期，又是现代控制应用发展的初期，90</p><p>年代初既是现代控制应用发展的繁荣时期，又是高级控制发展的初期。第一阶段是初</p><p>级阶段，包括人工控制，以古典控制理论为主要基础，采用常规气动、液动和电动仪</p><p>表，对生产过程中的温度、流量、压力和液位进行控制，在诸多控制系统中，以单回</p><p>路结构、PID 策略为主，同时针对不同的对象与要求，创造了一些专门的控制系统，</p><p>如：使物料按比例配制的比值控制，克服大滞后的 Smith 预估器，克服干扰的前馈控</p><p>制和串级控制等等，这阶段的主要任务是稳定系统，实现定值控制。这与当时生产水</p><p>平是相适应的。</p><p>第二阶段是发展阶段，以现代控制理论为主要基础，以微型计算机和高档仪表为</p><p>工具，对较复杂的工业过程进行控制。这阶段的建模理论、在线辨识和实时控制已突</p><p>破前期的形式，继而涌现了大量的先进控制系统和高级控制策略，如克服对象特性时</p><p>变和环境干扰等不确定影响的自适应控制，消除因模型失配而产生不良影响的预测控</p><p>制等。这阶段的主要任务是克服干扰和模型变化，满足复杂的工艺要求，提高控制质</p><p>量。1975 年，世界上第一台分散控制系统在美国 Honeywell 公司问世，从而揭开了</p><p>过程控制崭新的一页。分散控制系统也叫集散控制系统，它综合了计算机技术、控制</p><p>技术、通信技术和显示技术，采用多层分级的结构形式,按总体分散、管理集中的原</p><p>则，完成对工业过程的操作、监视、控制。由于采用了分散的结构和冗余等技术，使</p><p>系统的可靠性极高，再加上硬件方面的开放式框架和软件方面的模块化形式，使得它</p><p>组态、扩展极为方便，还有众多的控制算法(几十至上百种) 、较好的人—机界面和</p><p>故障检测报告功能。经过 20 多年的发展，它已日臻完善，在众多的控制系统中，显</p><p>示出出类拔萃的风范，因此，可以毫不夸张地说，分散控制系统是过程控制发展史上</p><p>的一个里程碑。第三阶段是高级阶段，目前正在来到。</p><p>1.3 过程控制策略与算法的进展</p><p>几十年来，过程控制策略与算法出现了三种类型：简单控制、复杂控制与先进控</p><p>制。通常将单回路 PID 控制称为简单控制。它一直是过程控制的主要手段。PID 控制</p><p>以经典控制理论为基础，主要用频域方法对控制系统进行分析与综合。目前，PID 控</p><p>制仍然得到广泛应用。在许多 DCS 和 PLC 系统中，均设有 PID 控制算法软件，或</p><p>PID 控制模块。</p><p>从 20 世纪 50 年代开始，过程控制界逐渐发展了串级控制、比值控制、前馈控制、</p><p>均匀控制和 Smith 预估控制等控制策略与算法，称之为复杂控制。它们在很大程度上，</p><p>满足了复杂过程工业的一些特殊控制要求。它们仍然以经典控制理论为基础，但是在</p><p>结构与应用上各有特色，而且在目前仍在继续改进与发展。</p><p>20 世纪 70 年代中后期，出现了以 DCS 和 PLC 为代表的新型计算机控制装置，</p><p>为过程控制提供了强有力的硬件与软件平台。</p><p>从 20 世纪 80 年代开始，在现代控制理论和人工智能发展的理论基础上，针对工</p><p>业过程控制本身的非线性、时变性、耦合性和不确定性等特性，提出了许多行之有效</p><p>的解决方法，如解耦控制、推断控制、预测控制、模糊控制、自适应控制、人工神经</p><p>网络控制等，常统称为先进过程控制。近十年来，以专家系统、模糊逻辑、神经网络、</p><p>遗传算法为主要方法的基于知识的智能处理方法已经成为过程控制的一种重要技术。</p><p>先进过程控制方法可以有效地解决那些采用常规控制效果差，甚至无法控制的复杂工</p><p>业过程的控制问题。实践证明，先进过程控制方法能取得更高的控制品质和更大的经</p><p>济效益，具有广阔的发展前景。</p><p>1.4 传统过程控制存在的问题</p><p>随着人们物质生活水平的提高以及市场竞争的日益激烈，产品的质量和功能也向</p><p>更高的档次发展，制造产品的工艺过程变得越来越复杂，为满足优质、高产、低消耗，</p><p>以及安全生产、保护环境等要求，过程控制的任务也愈来愈繁重。这样的生产过程一</p><p>般具有大惯性、大滞后、时变性、关联性、不确定性和非线性的特点。这里的关联性</p><p>不仅包含过程对象中各物理参量之间的耦合交错，而且包括被控量、操作量和干扰量</p><p>之间的联系；不确定性不单指结构上的不确定性，而且还指参数的不确定性；非线性</p><p>既有非本质的非线性，也有本质非线性。由于工业过程的这种复杂性，决定了控制的</p><p>艰难性。</p><p>第 2 章 A3000 过程控制实验系统及设计方案介绍</p><p>2.1 A3000 过程控制实验系统总体架构简介</p><p>A3000 测试平台总体物理系统如图 2.1 所示。（控制系统有 30 多种，现场系统可能具有现场总线。）</p><p>图 2.1 A3000 测试平台物理系统</p><p>图 2.2 总体逻辑结构</p><p>2.1.1 A3000 现场系统特性</p><p>1. 尺寸：1450（毫米宽度）X700（毫米深度）X1950（毫米高度）。全不锈钢框架。</p><p>2. 电力：三相接地四线制 380V±10%，单相三线制，220V±10%，</p><p>3. 能耗：最大额定用电 6kw/h。自来水 120L，可重复使用。</p><p>A3000 控制系统特性：</p><p>1. 尺寸：800(宽度)X60（深度）X1950（高度）。标准工业机柜。</p><p>2. 电力：单相三线制，220V±10%，</p><p>3. 能耗：最大额定用电 1kw/h。</p><p>现场系统工艺流程图如图 2.3 所示。</p><p>图 2.3 系统工艺示意流程图(不含控制系统) 总体的测点清单如表 2.1 所示。</p><div class=pgc-img><img alt=西门子PLC学习实例：过程控制毕业设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/309a1ca85ff548728921e412133357bf><p class=pgc-img-caption></p></div><p><br></p><p>序号位号或代号</p><p>设备名称 用途 原始信号类型 工程量</p><p>1 TE-101 热电阻 锅炉水温 Pt100 AI 0～100℃</p><p>2 TE-102 热电阻 锅炉回水温度 Pt100 AI 0～100℃</p><p>3 TE-103 热电阻 换热器热水出口水温 Pt100 AI 0～100℃</p><p>4 TE-104 热电阻 换热器冷水出口水温 Pt100 AI 0～100℃</p><p>5 TE-105 热电阻 储水箱水温 Pt100 AI 0～100℃</p><p>6 LSL-105 液位开关 锅炉液位极低联锁 干接点 DI NC</p><p>7 LSH-106 液位开关 锅炉液位极高联锁 干接点 DI NC</p><p>8 XV-101 电磁阀 一支路给水切断 光电隔离 DO NC</p><p>9 XV-102 电磁阀 二支路给水切断 光电隔离 DO NC</p><p>10 AL-101 告警 光电隔离 DO NC</p><p>11 FT-101 涡轮流量计 一支路给水流量 4-20mADC AI</p><p>12 FT-102 电磁流量计 二支路给水流量 4-20mADC AI</p><p>13 PT-101 压力变送器 给水压力 4-20mADC AI 150kPa</p><p>14 LT-101 液位变送器 上水箱液位 4-20mADC AI 2.5kPa</p><p>15 LT-102 液位变送器 中水箱液位 4-20mADC AI 2.5kPa</p><p>16 LT-103 液位变送器 下水箱液位 4-20mADC AI 2.5kPa</p><p>17 LT-104 液位变送器 锅炉/中水箱右液位 4-20mADC AI 0～5kPa</p><p>18 FV-101 电动调节阀 阀位控制 4-20mADC AO 0～100％</p><p>19 GZ-101 调压模块 锅炉水温控制 4-20mADC AO 0～100％</p><p>20 U-101 变频器 频率控制 4-20mADC AO 0～100％</p><p>表 2.1 整体流程测点清单</p><p>注：所列信号类型为原始信号，在控制柜中 Pt100 经过变送器转换成了 4～20mA。一般两线制信号在 IO 面板上已经连接了 24V 和 GND，可以按照四线制方式使用。执行机构一般为 2～10V 控制，控制信号经过 500 欧姆采样电阻，被转换成 4-20 毫安控制。</p><p>2.1.2 A3000 上的控制器</p><p>采用标准机柜安装控制系统，要求可靠接地。机柜尺寸 800 宽 X600 深 X1900高，单位 mm。 如果控制系统均为 24V 供电。 则提供 24V 10A开关电源供电， 如果部分控制系统为 220V 供 电，则提供24V</p><p>5A 开关电源供 电。</p><p>图 2.4：控制机柜</p><p>图 2.5 电源，执行器 IO 面板</p><p>图 2.6 温度传感器，直流电源 IO 面板</p><p>这里各个温度接线端子通过温度变送器输出 4~20mA 信号。直流电源提供 24V和 GND 接线端子。</p><p>图 2.7 压力、液位和流量 IO 面板</p><p>液位变送器可能有 4个，中水箱右液位和锅炉液位通过三通连接，可以进行切换，测量两个测点的液位。</p><p>图 2.8 数字量接口和信号切换 IO 面板</p><p>从前端可见，控制系统包括一个标准机柜，标题眉板，单相漏电保护器，24VDC电压表，IO 面板，多块基本控制系统板，上面安装智能仪表，PLC 等控制系统，还可能包括一块评分系统面板。通讯板可能提供 RS485 转接，以及 RS485 转以太网。</p><p>2.1.3 通讯面板</p><p>通讯面板具有三个串行口。一般情况下 1#串口连接智能 PID 控制器，2#串口连接 ADAM4000 DDC 控制系统。具体操作请参考接线图。</p><p>2.1.4 一般控制器信号连接和操作</p><p>控制器的信号直接连接到面板上，再通过插孔和锁紧连接线连接到现场系统的 IO 信号面板上。计算机和控制系统通过 RS232，或者以太网，或者专门的卡件进行联接。</p><p>2.1.5 面板接线</p><p>一般控制系统 IO 接口图，如图 1.3.6 所示。</p><p>图 2.9 一般控制系统面板图</p><p>其中，ADAM4000，ADAM5000 的 DOCOM 连接了 24V，DICOM 连接 GND。一般情况下，PLC（S7-200，S7-300，ADAM8000，FX2N，SLC500）和 MACS DCS的 DOCOM 连接了 GND，DICOM 连接 24V。现场的干接点闭上时，输入为 0，否则为 1。数字量输出 1 时，外部负载变化。</p><p>2.2 本设计方案介绍</p><p>2.2.1 本设计方案的总体概括</p><p>本设计方案是工作流程将两个小型水箱和一个大型储水箱呈垂直放置，通过水泵，把储水箱中的水往上压，流经调节阀，顺着水管注入上水箱。而上水箱又可以往下水箱注水，下水箱的水又回流到储水箱。在下水箱底部设有压力/液位变送器，PLC读取下水箱液位并运算处理使之能控制调节阀开启程度的大下，进而控制上水箱的注水量，间接控制了下水箱的液位。本方案设有上位组态监控，能实现现场及远程的切换并控制，亦能实现手/自动控制。本设计方案可以概括为双容液位液位调节阀 PID 单回路控制系统设计。</p><p>2.2.2 本设计方案的详细说明</p><p>上水箱采用 5 面有机玻璃组成一个上面无盖，底面有孔的长方体。该长方体长、宽为 0.5 米，高分均为 0.23 米，水箱前面有机玻璃刻有最小刻度为 1 毫米，量程为0.2 米的刻度表。底面圆孔引出一个直径为 5 厘米的有机玻璃圆管，作为出水管。上水箱透视图如图 2.10 所示。</p><p>图 2.10：上水箱透视图</p><p>出水管长 0.3 米。出水管管口设有挡板，通过抽伸挡板就可以调节出水量的大小，进而可以模拟负载。出水管如图 2.11 所示。</p><p>图 2.11 出水管</p><p>下水箱和上水箱的材料和结构还有尺寸基本上是系统的，唯一不同的地方下水箱底面上对了一个引压孔，用来放置压力/液位变送器的。下水箱底面构造如图 2.12 所示。</p><p>图 2.12：下水箱底面构造</p><p>上下水箱间隔 0.3 米，下水箱与储水箱间隔也是 0.3 米。对于储水箱没有特殊的要求，只需容积是上水箱的 5 倍，侧面底部设有出水孔，接水泵，上面无盖，方便下水箱注水。水泵的进水口接在储水箱的出水口上，用外径 0.018 米的塑胶水管接。水泵距离储水箱有 0.1 米即可，因为水泵有一定的防水能力。水泵出水口与电动调节阀连接。电动调节阀与水泵距离 0.5 米。电动调节阀另一出口引出塑胶水管至上水箱顶部。下水箱底面的压力/液位变送器的导线接在PLC的模拟量输入模块的AIW0端口。双容液位控制系统设计模拟量输出端口 AQW0 接电动调节阀控制端口，电动调节阀的阀为反馈端口接至模拟量输入端口 AIW2。在离水箱 1 米远处设有一个现场控制箱，将 PLC，开关电源，控制回路等安置进去，在控制箱表面有控制回路导线上的开启开关，还有指示 4 盏指示灯，两个手动控制水泵启动、停止的按钮，以及一个能选择"LOCAL"或"REMOTE"两个点的选择开关。从选择控制箱引出 PPI 导线，把 PLC 和 PC 连接起来，PC 上有组态王软件和本设计的监控画面。系统结构示意图如图 2.13 所示。</p><p>图 2.14：系统结构示意图</p><p>第 3 章 方案论证</p><p>3.1 控制策略的选择</p><p>3.1.1 控制策略方案一</p><p>3.1.1.1 模糊控制器的概念</p><p>定义变量</p><p>也就是决定程序被观察的状况及考虑控制的动作，例如在一般控制问题上，输入变量有输出误差 E 与输出误差之变化率 CE，而控制变量则为下一个状态之输入 U。其中 E、CE、U 统称为模糊变量。模糊化将输入值以适当的比例转换到论域的数值，利用口语化变量来描述测量物理量的过程，依适合的语言值求该值相对之隶属度，此口语化变量我们称之为模糊子集合。</p><p>知识库</p><p>包括数据库与规则库两部分，其中数据库是提供处理模糊数据之相关定义；而规则库则借由一群语言控制规则描述控制目标和策略。</p><p>逻辑判断</p><p>模仿人类下判断时的模糊概念，运用模糊逻辑和模糊推论法进行推论，而得到模糊控制讯号。此部分是模糊控制器的精髓所在。</p><p>解模糊化</p><p>将推论所得到的模糊值转换为明确的控制讯号，做为系统的输入值。</p><p>3.1.1.2 模糊控制器的优点</p><p>模糊控制是建立在人工经验基础之上，无需知道控制对象的数学模型，它采用语言变量来描述系统特征，并依据系统的动态信息和模糊控制规则进行推理以获得合适的控制量，具有对参数变化不敏感和鲁棒性强等特点, 使用于过于复杂或难以精确描述的系统。</p><p>3.1.1.3 模糊控制器的缺点</p><p>控制规则的来源比较困难，模糊控制规则的型式十分复杂，变量选择与论域分割需要长时间的培训才能掌握。对于隶属度函数的取得十分繁琐。</p><p>3.1.1.4 结合本设计分析</p><p>本设计是一个十分简单的系统，变量很少，只对调节阀进行控制，且能用简单的数学模型来描述系统的特征。因此，纵观模糊控制器有控制精确度高，参数变化不敏感和鲁棒性强等特点，但是实现以来过于复杂，可维护性不高，所以本设计不采用模糊控制作为系统的控制策略。</p><p>3.1.2 控制策略方案二</p><p>3.1.2.1 串级控制的概念</p><p>串级控制系统采用两套检测变送器和两个调节器，前一个调节器的输出作为后一个调节器的设定，后一个调节器的输出送往调节阀。前一个调节器称为主调节器，它所检测和控制的变量称主变量（主被控参数），即工艺控制指标；后一个调节器称为副调节器，它所检测和控制的变量称副变量（副被控参数），是为了稳定主变量而引入的辅助变量。整个系统包括两个控制回路，主回路和副回路。副回路由副变量检测变送、副调节器、调节阀和副过程构成；主回路由主变量检测变送、主调节器、副调节器、调节阀、副过程和主过程构成。一次扰动：作用在主被控过程上的，而不包括在副回路范围内的扰动。二次扰动：作用在副被控过程上的，即包括在副回路范围内的扰动。</p><p>3.1.2.2 串级控制的优点</p><p>改善了过程的动态特性，提高了系统控制质量。能迅速克服进入副回路的二次扰动。提高了系统的工作频率。对负荷变化的适应性较强。应用于容量滞后较大的过程应用于纯时延较大的过程。应用于扰动变化激烈而且幅度大的过程。应用于参数互相关联的过程。应用于非线性过程。</p><p>3.1.2.3 串级控制的缺点</p><p>串级控制器设计需要主参数的选择和主回路的设计和副参数的选择和副回路的设计，设计过程比较有难度。主、副回路必须匹配，否则系统工作不稳定或者不能工作。</p><p>3.1.2.4 结合本设计分析</p><p>串级控制器更加适用于：用于克服被控过程较大的容量滞后；用于克服被控过程的纯滞后；用于抑制变化剧烈幅度较大的扰动；用于克服被控过程的非线性。本设计只是一个简单的反馈控制系统，没有被控过程较大的容量滞后，没有幅度较大的扰动，且被控过程是线性的，因此串级控制虽有诸多优点，但是由于控制本系统，需要设计两个回路，比较繁琐，不值当。</p><p>3.1.3 控制策略方案三</p><p>3.1.3.1 PID 控制器概念</p><p>PID 控制器由比例单元（P）、积分单元（I）和微分单元（D）组成。其输入 e (t)与输出 u (t)的关系为</p><p>u(t)=Kp(e((t)+1/Ti∫e(t)dt+Td·de(t)/dt)式中积分的上下限分别是 0 和 t，因此它的传递函数为：</p><p>G(s)=U(s)/E(s)=Kp(1+1/(Ti·s)+Td·s)</p><p>其中 kp 为比例系数；TI 为积分时间常数；TD 为微分时间常数。</p><p>3.1.3.2 PID 控制器的优点</p><p>它由于用途广泛、使用灵活，已有系列化产品，使用中只需设定三个参数（Kp，Ti 和 Td）即可。在很多情况下，并不一定需要全部三个单元，可以取其中的一到两个单元，但比例控制单元是必不可少的。首先，PID 应用范围广。虽然很多工业过程是非线性或时变的，但通过对其简化可以变成基本线性和动态特性不随时间变化的系统，这样 PID 就可控制了。其次，PID 参数较易整定。也就是，PID 参数 Kp，Ti 和Td 可以根据过程的动态特性及时整定。如果过程的动态特性变化，例如可能由负载的变化引起系统动态特性变化，PID 参数就可以重新整定。</p><p>3.1.3.3 PID 控制器的缺点</p><p>如果自整定要以模型为基础，为了 PID 参数的重新整定在线寻找和保持好过程模型是较难的。闭环工作时，要求在过程中插入一个测试信号。这个方法会引起扰动，所以基于模型的 PID 参数自整定在工业应用不是太好。如果自整定是基于控制律的，经常难以把由负载干扰引起的影响和过程动态特性变化引起的影响区分开来，因此受到干扰的影响控制器会产生超调，产生一个不必要的自适应转换。另外，由于基于控制律的系统没有成熟的稳定性分析方法，参数整定可靠与否存在很多问题。因此，许多自身整定参数的 PID 控制器经常工作在自动整定模式而不是连续的自身整定模式。自动整定通常是指根据开环状态确定的简单过程模型自动计算 PID 参数。PID 在控制非线性、时变、耦合及参数和结构不确定的复杂过程时，工作地不是太好。最重要的是，如果 PID 控制器不能控制复杂过程，无论怎么调参数都没用。</p><p>3.1.3.4 结合本设计的分析</p><p>PID 控制器应用灵活、广泛，对于小型简单的系统尤其适用。本设计的系统十分简单，变量很少，能用简单的数学模型描述，且不需要参数自整定，控制器设计也简单，容易实现。PID 控制器应用与本设计会得到快速，精确，稳定，有效的控制。</p><p>3.2 控制器的选择</p><p>3.2.1 控制器的选择方案一</p><p>3.2.1.1 DCS 的概念</p><p>DCS 是分布式控制系统的英文缩写是 Distributed Control System，在国内自控行业又称之为集散控制系统。它是在集中式控制系统的基础上发展、演变而来的。它是一个由过程控制级和过程监控级组成的以通信网络为纽带的多级计算机系统，综合了计算机，通信、显示和控制等 4C 技术，其基本思想是分散控制、集中操作、分级管理、配置灵活以及组态方便。在系统功能方面，DCS 和集中式控制系统的区别不大，但在系统功能的实现方法上却完全不同。</p><p>3.2.1.2 DCS 的优点</p><p>高可靠性 由于 DCS 将系统控制功能分散在各台计算机上实现，系统结构采用容错设计，因此某一台计算机出现的故障不会导致系统其它功能的丧失。此外，由于系统中各台计算机所承担的任务比较单一，可以针对需要实现的功能采用具有特定结构和软件的专用计算机，从而使系统中每台计算机的可靠性也得到提高。开放性 DCS 采用开放式、标准化、模块化和系列化设计，系统中各台计算机采用局域网方式通信，实现信息传输，当需要改变或扩充系统功能时，可将新增计算机方便地连入系统通信网络或从网络中卸下，几乎不影响系统其他计算机的工作。灵活性 通过组态软件根据不同的流程应用对象进行软硬件组态，即确定测量与控制信号及相互间连接关系、从控制算法库选择适用的控制规律以及从图形库调用基本图形组成所需的各种监控和报警画面，从而方便地构成所需的控制系统。易于维护 功能单一的小型或微型专用计算机，具有维护简单、方便的特点，当某一局部或某个计算机出现故障时，可以在不影响整个系统运行的情况下在线更换，迅速排除故障。协调性 各工作站之间通过通信网络传送各种数据，整个系统信息共享，协调工作，以完成控制系统的总体功能和优化处理。控制功能齐全 控制算法丰富，集连续控制、顺序控制和批处理控制于一体，可实现串级、前馈、解耦、自适应和预测控制等先进控制，并可方便地加入所需的特殊控制算法。</p><p>3.2.1.3 DCS 的缺点</p><p>价格过于昂贵，应用大型，复杂的控制系统中更能体现他的价值。对使用环境要求较严格。性价比不高。</p><p>3.2.1.4 结合本设计分析</p><p>本设计只有 2 个输入数字量，4 个输出数字量，2 个输入模拟量，1 个输出模拟量，应选择性能指标符合，性价比高的控制器。</p><p>3.2.2 控制器的选择方案二</p><p>3.2.2.1 软 PLC 的概念</p><p>软 PLC 基于 PC 机，建立在一定操作系统平台之上，通过软件方法实现传统 PLC的计算、控制、存储以及编程等功能，通过 IO 模块以及现场总线等物理设备完成现场数据的采集以及信号的输出。</p><p>3.2.2.2 软 PLC 的优点</p><p>体现了 IPC，PLC 和 DOC 先进技术的集成。可充分利用 PC 平台上的硬件和软件资源，使控制系统更具特色。系统更开放，应用更方便。软件 PLC 通过自己开发工具提供的 OPC 功能和 Active 控件，既可连接 Office 软件，也可连接用 VB，VC 开发的软件。基于 PC+现场总线+分布式 IO 的控制系统简化了复杂控制系统的体系结构，提高了通信效率和速度，降低了投资成本。PC 机厂家的激烈竞争使得基于 PC机的软 PLC 的性价比得以提高。</p><p>3.2.2.3 软 PLC 的缺点</p><p>尽管软 PLC 技术具有很大的发展潜力，但是这项技术的实现需要解决一些重要的问题。其中主要是以 PC 为基础的控制引擎的实时性问题。软 PLC 首选的操作系统是 WindowsNT，但是它并不是一个硬实时的操作系统。传统 PLC 具有硬实时性，正因为如此它才能提供快速、确定而且可重复的响应。而要让 WindowsNT 具有硬实时性，必须对它进行扩展，使得 PC 的控制任务具有最高的优先级，不因为 NT 的系统功能和用户程序的调用而被抢占。现在，我们可以通过一些方法将实时性能加入到NT 系统中去。比如，修改 NT 的硬件抽象层，或者 NT 与一种经过实用验证的硬实时操作系统组合。另外，WindowsCE 等操作系统具有了 NT 在硬实时性方面所不具备的特性。在实际开发中也可使用其他的操作系统作为平台。</p><p>3.2.2.4 结合本设计分析</p><p>本设计需要每隔 100ms 采用数据并处理数据。软 PLC 不具有硬实时性，不能提供快速、确定而且可重复的响应。实现本设计要求较困难。</p><p>3.2.3 控制器的选择方案三</p><p>3.2.3.1 PLC 的概念</p><p>可编程控制器是计算机家族中的一员，是为工业控制应用而设计制造的。早期的可编程控制器称作可编程逻辑控制器(Programmable Logic Controller)，简称 PLC，它主要用来代替继电器实现逻辑控制。随着技术的发展，这种装置的功能已经大大超过了逻辑控制的范围，因此，今天这种装置称作可编程控制器，简称 PC。但是为了避免与个人计算机(Personal Computer)的简称混淆，所以将可编程控制器简称 PLC。</p><p>3.2.3.2 PLC 的优点</p><p>体积小，操作简便，可维护性高。具备实时性，能提供快速、确定而且可重复的响应。指令集简单，容易培训和掌握。性价比很高，生产厂家众多，零配件渠道广泛。已经成为市场的主流，该方面技术人才众多。</p><p>3.2.3.3 PLC 的缺点</p><p>系统结构未采用容错设计，控制集中，可靠行不高；硬件体系结构封闭，不够开放；功能比较单一；指令集是固定的，不便于在实际工业应用中定义算法。</p><p>3.2.3.4 结合本设计分析</p><p>目前市场上，PLC 的品牌和产品众多，如松下，西门子，三菱，欧姆龙，台达，富士，施耐德，ABB 等。单就西门子生产的 PLC 而言，其 S7 系列有 S7-200 系列，S7-300 系列，S7-400 系列等。单就 S7-200 系列而言，又有 CPU 221，CPU222，CPU224，CPU226 等。首先，本设计点数较少，S7-200 系列完全能够胜任，采用 S7-300 系列甚至S7-400 系列则完全浪费。然而，本设计涉及到模拟量的操作，单个 CPU 是没有模拟量端口的，必须扩展，而 CPU221 是不具备扩展能力的，则不选择。在剩下的型号中，本设计选择了 CPU 226 模块和 EM235 模块。由于 EM235 模块具有 4 路模拟量输入，1 路模拟量输出，则符合要求。对于CPU226 模块的选择，是因为 CPU226 在 CPU22x 系列中数字量最多，而 CPU22x的价格相对比较接近，性格比较高，且方便以后选择点数的增多。</p><p>第 4 章 供配电设计</p><p>4.1 用电设备选型</p><p>4.1.1 对水泵的选择</p><p>本设计中流体介质为水，比重为 1，无毒，无腐蚀性，介质温度为 0~100℃，所需流量 0~3000L/H，所需最小扬程 3M。根据设计所需选择水泵型号为 S18WG—18，为上海新西山实业有限公司生产。最大流量 38 升/分，最高扬程 18 米，进出口管径 18 毫米。实物如图 4.1 所示。</p><p>图 4.1：S18WG—18 型水泵</p><p>该水泵的电机为单相电容运转异步电动机，输入功率 260W，输出功率 120W，额定电压 220V，额定电流为 1.2A，功率因数为 0.67（根据该同类电机查手册得）。</p><p>4.1.2 电动调节阀的选择</p><p>本设计由于系统比较小，选择的是一台体积相对也小巧的电动调节阀。</p><p>图 4.2: ZD(R)SJP 型精小型电动调节阀</p><p>该调节阀为 ZD(R)SJP 型精小型电动调节阀，实物照片如图 4.2 所示。由国内著名的川沪公司生产，采用顶部导向结构，由 3810 系列(或者 PSL 系列)电动执行器和精小型调节阀体组成，内含饲服功能，接受统一的 4-20mA 或 1-5V·DC 的标准信号，将电流信号转变成相对应的直线位移，自动地控制调节阀开 度，达到对管道内流体的压力、流量、温度、液位等工艺参数的连续调节。精小型电动调节阀具有结构紧凑、重量轻、动作灵敏、阀容量大、流量特性精确、拆装方便等优点。精小型电动调节阀广 泛应用于精确控制气体、液体、蒸汽等介质，工艺参数加如压力、流量、温度、液位保持在给定值。特别适用于允许压差小，而允许泄漏量也较小压差不大的工作场合。</p><p>该调节阀性能指标</p><p>公称通径：DN20；公称压力：PN1.6；法兰标准：GB/T9113、JB/T79；电源电压：220V/50Hz；功率：220W；输入输入信号：4-20mA 直流电或1-5V 直流电，本设计选用的是4-20mA 直流电流信号；输出信号：4-20mA 直流电；体积为0.1·0.1·0.3立方米；防护等级：相当 IP55；隔爆标志：ExdⅡBT4；手操功能：手柄；环境温度：-25～+70℃；环境湿度：≤95%。根据推算，该电动调节阀导线上的最大工作电流为1A。</p><p>4.1.3 直流电源的选择</p><p>由于系统电源进线为 220V 的交流电， PLC CPU 226 模块，EM 235 模块和液位变送器的工作电源均为 24V 直流电，所以需要一台将 220V 交流转换 24V 直流电的且至少有三路直流电输出的开关电源。其中，CPU 226 模块空载功率为 17W，在连接上 4 个交直流中间继电器（？？？每个中间继电器线圈吸合功率为 7W）后实际最大用电功率为 45W。EM 235 模块用电功率为 8W，压力/液位变送器用电功率为 5W。所以需要的直流电源输出功率最少要有（17W+7W·4+8W+5W）58W。所以我选择的巨力实业生产的 S-100-24 开关电源。实物照片如图 4.3 所示。</p><p>图 4.3：巨力实业产的 S-100-24</p><p>S-100-24 开关电源的性能指标如表 4.1 所示。</p><p>100-120VAC 1.9A 输入</p><p>200-240VAC 0.8A 输出 24VDC 4.5A</p><p>表 4.1：S-100-24 开关电源的性能指标</p><p>4.1.4 压力/液位变送器的选择</p><p>本设计的液位检测是由压力变送器完成的，本设计没有设置专门的液位传感起。运用压力变送器的工作原理是将压力变送器的感应接口与下水箱的底部同一水平用软管连接，形成联通器效应，保持同一水平的原因是让下水箱底部的压力和压力变送器感应接口压力相同。本设计所需测量的液位高度为 0.3 米，最大压强为（3kpa+1个大气压）103kpa。</p><p>本设计选择的压力变送器为福州福光百特自动化设备有限公司生产的型号为FB0803CE2R。供电电压为 24V 直流，功率为 5W，最大工作压力为 225kpa，量程为0-150kpa，输出为 4 到 20mA 直流电，精度为 0.25 级。</p><p>4.1.5 接触器的选择</p><p>本设计在水泵控制回路中设有交流接触器 KM，用来实现水泵的远程运行，停止的控制。本设计选择的水泵的工作电源为 220VAC，所以需要一台工作电源 220VAC及以上，线圈工作电压为 220VAC 的交流接触器。本设计选择的交流接触器为 BLJ交流接触器。其性能指标如表 4.2 所示。 工作电压 工作电流 线圈电源 线圈吸合功率220VAC,50Hz 20A 220AV,50Hz 25W</p><p>表 4.2：BLJ 交流接触器</p><p>4.1.6 辅组继电器的选择</p><p>本设计中，为了控制回路的和信号的传递，设置了 6 个辅组继电器 KA，其中 2个的电磁线圈控制回路中（ KA2,KA3 ）， 4 个的电磁线圈在 PLC 接线上（KA1,KA4,KA5,KA6）。由于控制回路的工作电压为 22VAC,PLC 的负载电压为24VDC，所以选择了 JZ14-11JZ/0 型交直流中间继电器。JZ14-11JZ/0 型交直流中间继电器的性能指标如表 4.3 所示。型号 线圈电压 线圈吸合功率 线圈吸合时间</p><p>JZ14-11JZ/0 AC:36、127、220、380 DC：24、48、110、220</p><p>AC:10VA DC:7W ≤0.5S</p><p>表 4.3：JZ14-11JZ/0 型交直流中间继电器的性能指标</p><p>4.2 功率统计</p><p>下表 4.4 为本设计中各项用电设备的最大使用功率统计。项目 用电功率(W) 水泵 260 电动调节阀 220 直流电源 176 PLC（CPU 226 和 EM 235） 53 压力/液位变送器 5 接触器 25 辅组继电器 7·2+10·4=68 PC 500</p><p>表 4.4：各项用电设备功率统计</p><p>4.3 电气设备的选择</p><p>本设计电气设备的选择主要考虑断路器（空气开关），熔断器和导线的选择。为了方便计算，将本设计的电路分为下面 4 部分，分别为水泵电源回路，控制回路，直流电源回路和 PC 电源回路。</p><p>4.3.1 水泵电源回路的电气设备的选择</p><p>图 4.4：水泵电源回路</p><p>水泵电源回路中，工作电源电压为 220VAC，最大工作电流为 1.76A。选择的空气开关的工作电压为 220V，能承受的电流至少要打到 1.76A，所以选择德力西型号为 1P16A 的空气开关。实物照片如图 4.5 所示。</p><p>图 4.5：德力西空气开关 1P16A</p><p>熔断器由熔断器支持件和熔断体组合而成，熔断器因内配置的熔断体（亦称保险管），按照最大负工作电流的 1.5 至 2 倍原则选择熔断器，则选择熔断电流 3A 玻璃保险管和德力西产的熔断器支持件 RT14-20 组成的熔断器。实物照片如图 4.6 所示。图 4.6：玻璃保险管（左）和德力西产的熔断器支持件（右）对于该回路电流是选择是按长时允许电流选择导线截面，选择 TJ-4 无氧铜导线。</p><p>4.3.2 控制回路的电气设备的选择</p><p>图 4.7：控制回路 项目 功率(W)</p><p>指示灯·4 10·4 接触器线圈·1 25 中间继电器·2 10·2 统计 85</p><p>表 4.5：控制回路的功率统计</p><p>则本回路的最大工作电流为 0.38A，所以选择德力西型号为 1P16A 的空气开关也适用。同一型号采购数量的增加会降低每个的采购成本。选择由德力西产的熔断器RT14-20 支持件和熔断电流为 1A 的玻璃保险管组成的熔断器。导线选择为 TJ-4 无氧铜导线。</p><p>4.3.3 直流电源回路的电气设备的选择</p><p>图 4.8：直流电源回路</p><p>本回路的最大用电功率为 58W，本回路的最大工作电流为 0.26A，所以选择德力西型号为 1P16A 的空气开关同样适用。同一型号采购数量的增加会降低每个的采购成本。选择由德力西产的熔断器 RT14-20 支持件和熔断电流为 0.5A 的玻璃保险管组成的熔断器。导线选择为 TJ-4 无氧铜导线。</p><p>4.3.4 电动调节阀电源电气设备的选择</p><p>图 4.9：电动调节阀电源回路</p><p>本回路的最大用电功率为 220W，本回路的最大工作电流为 1A，所以选择德力西型号为 1P16A 的空气开关同样适用。同一型号采购数量的增加会降低每个的采购成本。选择由德力西产的熔断器 RT14-20 支持件和熔断电流为 2A 的玻璃保险管组成的熔断器。导线选择为 TJ-4 无氧铜导线。</p><p>4.3.5 PC 回路的电气设备的选择</p><p>图 4.10:PC 电源回路</p><p>本回路的最大用电功率为 500W，本回路的最大工作电流为 2.27A，所以选择德力西型号为 1P16A 的空气开关同样适用。同一型号采购数量的增加会降低每个的采购成本。选择由德力西产的熔断器 RT14-20 支持件和熔断电流为 4A 的玻璃保险管组成的熔断器。导线选择为 TJ-4 无氧铜导线。</p><p>第 5 章 控制接线设计</p><p>5.1 西门子 S7-200 PLC CPU226 和 EM235 模块介绍</p><p>S7-200 系列 PLC 的 CPU 模块有两个子系列，即 CPU21X 和 CPU22X。目前市场上 CPU22X 系列 PLC 已经取代了第一代 CPU21X 系列，并成为市场的主流的产品。</p><p>5.1.1 CPU 模块外形结构</p><p>S7-200 系列 PLC 的 CPU22X 系列主要有 CPU221、CPU222、CPU224、CPU224、XP、CPU226 等型号，其外形结构基本系统，如图 5.1 所示。</p><p>图 5.1：S7-200 系列 PLC CPU 模块外形结构图</p><p>（1）输入/输出端子：CPU 模块上集成了部分 I/O 端子，分别为于模块的上端和下端。打开上、下端盖板，即可看到接线端子排，其中上端排为输出端子和 PLC 电源端子，下端子排为输入端子。为接线方便，高端的 CPU 模块（CPU224 以上）采用可拔插式端子。</p><p>（2）系统状态 LED 指示：用于指示 PLC 当前工作状态（RUN 或 STOP）,以及系统故障与诊断（SF/DIAG）.</p><p>（3）I/O 点 LED 指示：为方便查询，CPU 模块上的每个 I/O 点均设有 LED 指示灯，以显示其当前状态。指示灯分别位于上盖板的下部和下盖板的上部。</p><p>（4）工作方式选择开头及扩展端口：位于 CPU 模块右端盖板下，包括方式选择开关、模拟电位器和扩展端口。拨动工作方式选择开关可设置 PLC 的工作方式。RUN 为运行方式；STOP 为停止运行方式，也称为编程方式；TERM 为终端方式，允许由编程软件来控制 PLC 的工作双容液位控制系统设计方式。</p><p>每一个模拟电位器均与 PLC 内部的一个特殊功能寄存器（SMB28、SMB29）相对应，旋转电位器可改变寄存器的值。扩展端口用于 I/O 模块的扩展连接。</p><p>（5）通信口：S7-200 系列 PLC 的 CPU 模块上均配有一个或两个 RS-485T 通信接口，可与编程器、计算机或其他通信设备连接，进行数据交换。</p><p>（6）可选卡件插槽：如插入存储卡，则可对 PLC 的存储器容量进行扩展，还可插入实时时钟卡，电池卡等。 性能指标 CPU226 外形尺寸 196x80x62 端子可拆卸 是存储器 用户程序 16384 字节 用户数据 掉电保持 10240 字节</p><p>I/O 数字量 I/O 24/16 模拟量 I/O 无</p><p>数字量 I/O 映像区 128 入/128 出模拟量 I/O 映像区 32 入/32 出 最大允许扩展模块 7 脉冲捕捉输入 24 脉冲输出 2主要内部元件 辅助继电器 M 256 定时器/计数器 256/256 状态寄存器 S 256 高速计数器 6常规性能 定时中断 2(1-255ms) 边沿中断 4 个上升沿/4 个下降沿 模拟电位器 2（8bit）布尔量运算速度 0.22us/指令 口令保护 有通信功能 通信口 2 通信协议 9.6，19.2，187.5kb/s 最大主站数 32</p><p>表 5.1：CPU226 的主要技术性能指标</p><p>图 5.2：CPU226 DC/DC/DC 端子接线图</p><p>5.1.2 模拟量模块的接线</p><p>如图 5.3 所示,图中的 L+和 M 端为电源端。上部端子为 4 路模拟输入端，分别由A、B、C、D 标注，可分别接入标准电压和电流信号。为电压输入时（如 A 口），电压信号的正极接入 A+端，负极接入 A-端，RA 端悬空。为电流输入时（如 B 口），须将 RB 与 B+端短接，然后与电流信号的输出端相连，电流信号输入端则与 B-相连。若 4 个接口未全部使用（如 C 口），则应将未用的接口用导线短接，以免受到外部干扰。下部端子为 1 路模拟量输出端，有 3 个接线端子 MO、VO、IO，其中，MO 为数字接地接口，VO 为电压输出接口，IO 为电流输出接口，若为电压负载，则将负载接入 MO、VO 接口；若为电流负载，则接入 MO、IO 接口。</p><p>图 5.3：EM235 模块的端子接线图</p><p>5.1.3 模拟量 I/O 的数据格式</p><p>对单极性输入格式，MSB 位为符号位，0 表示正数，底 3 位无效，A/D 转换的数据值每变化 1 个单位相当于 I/O 数据字的值变化 8 个单位。对双极性输入格式，低 4位无效，A/D 转换的数据值每变化 1 个单位相当于 I/O 数据字的值变化 16 个单位。数字量到模拟量的转化时，12 位数据的数据格式是左对齐，最高有效位 MSB 为符号，0 表示正数，电流输出数据格式的低 3 位和电压输出数据格式的低 4 位不影响输出信号的值。</p><p>5.2 本设计的控制接线</p><p>图 5.4：控制接线部分一</p><p>如图 5.4 所示，这部分控制接线的设计的作用主要是对水泵电机的控制等以及状态检测和报警等。FR 的触点与 KA3 的线圈串联的工作原理是：当水泵电机上的 FR 线圈通电，使FR 触点接触，使得 KA3 的线圈通电，KA3 的触点接在 CPU 模块的 I0.0 上，让 PLC检测到水泵电机过热，通过程序命令让水泵停止工作，并报警。KA4 与灯 L2 串联的作用是：PLC 的 Q0.1 与 KA4 的线圈相连，当灯 L2 点亮意为压力/液位变送器在系统工作前检测通过。灯 L3 和灯 L4 的作用和灯 L2 的作用很相似。灯 L3 点亮意为调节阀已经全部打开。灯 L4 闪烁意为等待用户将选择开关打到"REMOTE"，灯 L4 点亮意为用户已经将选择开关打打到"REMOTE"。按钮 SB1 的作用是当系统失效时，可以认为强制将水泵关闭。选择开关 SA 的作用是可以选择现场还是远程控制水泵运行。KA1 是远程控制水泵的触点。</p><p>KM 是控制水泵接触器的线圈。</p><p>KM 的触点能将按钮 SB2 锁住，使得用户不必长按按钮 SB2 就可以让水泵运行。</p><p>KA2 是用来检测"REMOTE"模式的线圈。</p><p>灯 L1 会和 KA 线圈同时通电，用来表示水泵运行状态。</p><p>图 5.5：控制接线部分二：CPU 模块接线</p><p>如图 5.5 所示，Q0.3 与 KA6 线圈连接的作用是使灯 L4 点亮，意为用户已经将选择开关打打到"REMOTE"。Q0.2 与 KA5 线圈及 Q0.1 与 KA4 线圈连接的作用和 Q0.3 与 KA6 线圈连接的作用十分相似。分别使灯 L3 和灯 L2 点亮，KA2 触点和 KA3 触点具体意义在控制接线部分一已介绍。</p><p>图 5.6：控制接线部分三：EM235 接线</p><p>如图 5.6 所示，MO，IO 端口输出调节阀的控制电流，4 到 20mA。A+，A-端口输入压力/液位变送器的液位检测电流，4 到 20mA。由于压力/液位变送器输出的是电流信号，所以 RA 与 A+短接。B+，B-端口输入调节阀的当前阀位反馈电流信号，4 到 20mA，RB 与 B+也必须短接，原因同上。C+与 C-要短接是液位 C 端口未被使用，为使 EM235 模块不受干扰。D+与 D-短接的原因也一样，也为的使 EM235 模块不受干扰。</p><p>第 6 章 软件流程图和程序设计</p><p>6.1 软件流程图</p><p>6.1.1 主程序流程图</p><p>此处将中断事件 0 设为中断 0，该中断事件为水泵的热继电器响应，使得 KA3的线圈也德电，并让 I0.0 有数字量为"1"的输入。该中断优先级最高。此处将中断事件 10 设为中断 1，该中断事件是一个定时中断，为每间隔 100ms自动响应一次，防备执行一次从压力/液位变送器读取数据转化后存入 PID 的 PV 中的操作，和根据数据变化 PLC 内的 PID 控制器执行一次运算的操作，以及将 PID 的MV 数值转化后附给模拟量输出端口，让调节阀按要求工作的操作。此处的操作是对 PID 控制器进行初始化，设 PID 的 SP 为 0.3，即对寄存器 VD104存入实数 0.3。此处的操作是设 PID 的 P 为 2.0，即对寄存器 VD112 存入实数 2.0。此处的操作是设置 PID 的采样时间为 100ms，即对寄存器 VD116 存入实数 0.1。此处的操作是设 PID 的 I 为 1.0，即对寄存器 VD120 存入实数 1.0。此处的操作是设 PID 的 D 为 0.0，即对寄存器 VD124 存入实数 0.0。此处的操作是先让 PLC 读取压力/液位变送器当前的液位数值，存入到 VW200中，如果该数值在 6400 到 32000 内，则检测正常，否则就报警，同时压力/液位变送器故障。</p><p>首先我们要明白的是当调节阀关闭或者开启程度很小就让水泵运行，水泵此时会负载很大，最水泵有严重的伤害，可能会烧毁水泵。所以在系统自动运行前一定要让调节阀打开，此处的操作是先判断调节阀是否开到最大，是则往执行下一个指令；否，则将对 AQW0 端口（调节阀控制电流输出端口）附给 32000（数值量为 32000，对应的电流值为 20mA,意为最大值）。此处的操作是判断用户是否将选择开关 SA 打到"REMOTE"处，如果没有，则L4 说持续闪烁，而不执行下一步指令，知道用户将选择开关打到"REMOTE"为止。当用户打到"REMOTE"端时灯 L4 会持续电亮。此处的作用是当组态软件单击"自动"按钮时，系统会自动控制调节阀；当单击"手动"时，组态软件会弹出一个对话框，让用户输入需要开启调节阀的百分比。不操作，则默认为自动控制调节阀。</p><p>6.1.2 中断 0 子程序流程图</p><p>此处为中断响应，该中断的作用是停止水泵或停止继续给水泵供电，避免事故发生，该中断优先级最高</p><p>6.1.3 中断 1 子程序流程图</p><p>PLC 读取 AIW0 的数值量是 16 位的，而下面转化为实数是 32 位的，所以先将转化数据，把该数据存入 AC0，会自动生 32 位数据而不改变原数值的大小。把 AC0 减去 6400 再存回 AC0，该处为双整型的减法计算。把 AC0 的数值按浮点数计算除以 25600 得到 0 到 1 之间是实数存入 VD424。此处操作就是让 PID 的 PV 得到刚才运算实数。PID 控制会根据给定的参数处理运算。经过 PID 控制器运算得到的 MV 先存在寄存器 VD416 中。先把该实数乘以 25600 得到一个 0 到 25600 之间的数值量，存入 AC1。由于控制调节阀的数值量是 16 位的数据，而计数器 AC1 经过刚才的计算为一个32 位的数据了，需要转化为 16 位的数据才能进行接下来的操作。如果将 AC1 的数据直接附给 AQW0 会出现编译错误，需要先"寄存"在一个 1个字的空间里再附给 AQW0。</p><p>6.2 程序设计</p><p>本设计采用 PLC 作为过程系统控制器，该 PLC 型号为西门子 S7-200 PLC，其CPU 型号为 226，程序的编写软件为 V4.0 STEP 7 MicroWIN SP3。设计程序梯形图如下：</p><p>6.2.1 主程序梯形图：</p><p>网络 1：</p><p>注释（中断 0 初始化：中断事件 0）</p><p>网络 2：</p><p>注释（中断 1 初始化：中断事件 10）</p><p>网络 3：</p><p>双容液位控制系统设计</p><p>注释（PID 初始化）</p><p>网络 4：</p><p>注释（压力/液位便送器检测： 读取 AIW0 的值存入 VW200）</p><p>网络 5：</p><p>注释（压力/液位便送器检测：读取值小于 6400 或大于 32000 为故障，灯 L2 闪烁，5</p><p>秒计时器打开）</p><p>网络 6：</p><p>注释（压力/液位便送器检测：5 秒计时到，停止闪烁，程序停止） 网络</p><p>7：注释（压力/液位便送器检测：读取值在 6400 到 32000 内，压力/液位便送器检测通过，</p><p>L2 常亮）</p><p>网络 8：注释（当前阀位判断是否全开：读取阀位）</p><p>网络 9：注释（当前阀位判断是否全开：未全开，控制调节阀开到最大）</p><p>网络 10：注释（当前阀位判断是否全开：全开，灯 L3 常亮）网络 11：</p><p>注释（灯 L4 闪烁，对待选择开关打到'REMOTE',即 I0.1） 网络</p><p>12：注释（是否自动控制调节阀：0 为自动）</p><p>网络 13：</p><p>注释（是否自动控制调节阀：1 为自动）网络 14：</p><p>注释（判断是否为自动控制调节阀：0 为自动，1 为手动）</p><p>6.2.2 中断 0 子程序梯形图：</p><p>网络 1：</p><p>注释（灯 L2，L3，L4 闪烁）</p><p>网络 2：</p><p>注释（开 5 秒计时器）</p><p>网络 3：</p><p>注释（5 秒时间到，停止闪烁，程序停止）</p><p>6.2.3 中断 2 子程序梯形图：</p><p>网络 1：</p><p>注释（把读取液位的数值量转化为实数）</p><p>网络 2：</p><p>注释（PID 计算）网络 3：</p><p>注释（把结果 PID 计算的 MV 实数型数据转化为数值量并输出）</p><p>第 7 章 上位组态设计</p><p>7.1 新建工程</p><p>组态软件，又称组态监控软件系统软件。它是指一些数据采集与过程控制的专用</p><p>软件。它们处在自动控制系统监控层一级的软件平台和开发环境，使用灵活的组态方</p><p>式，为用户提供快速构建工业自动控制系统监控功能的、通用层次的软件工具。组态</p><p>软件的应用领域很广，可以应用于电力系统、给水系统、石油、化工等领域的数据采</p><p>集与监视控制以及过程控制等诸多领域。在电力系统以及电气化铁道上又称远动系</p><p>统。</p><p>本设计用组态王 6.53 作上位组态软件。</p><p>要建立新的组态王工程，请首先为工程指定工作目录（或称"工程路径"）。"组</p><p>态王"用工作目录标识工程，不同的工程应置于不同的目录。工作目录下的文件由"组</p><p>态王"自动管理。如图 7.1 所示。</p><p>图 7.1：工程管理器对话框</p><p>组态王把那些需要与之交换数据的设备或程序都作为外部设备。外部设备包括：</p><p>下位机（PLC、仪表、模块、板卡、变频器等），它们一般通过串行口和上位机交换</p><p>数据；其他 Windows 应用程序，它们之间一般通过 DDE 交换数据；外部设备还包括</p><p>网络上的其他计算机。</p><p>7.2 选择设备及设备配置</p><p>只有在定义了外部设备之后，组态王才能通过 I/O 变量和它们交换数据。为方便</p><p>定义外部设备，组态王设计了"设备配置向导"引导用户一步步完成设备的连接。</p><p>在最左边的菜单栏上点击"系统"按钮，再在"设备"栏上选择"COM1"，单</p><p>击新建，出现如下的"设备配置向导"对话框。如图 7.2 所示。</p><p>本设计，我选用的控制器是西门子的 S7-200PLC，所以在"设备配置向导"对话</p><p>框中选择"设备驱动">"PLC">"西门子">"S7-200 系列">"PPI"。出现的结</p><p>果如下，再选择"下一步"。如图 7.3 所示。</p><p>图 7.2：设备配置向导——生产厂家、设备名称、通讯方式对话框 1</p><p>图 7.3：设备配置向导——生产厂家、设备名称、通讯方式对话框 2</p><p>出现"设备配置向导——逻辑名称"对话框，在"请给要安装的设备指定唯一的</p><p>名称"的文本输入栏目中输入给下位机起的名字，根据本设计，我给下位机起的名字</p><p>叫"S7_200PLC"。</p><p>单击"下一步"后出现"设备配置向导——选择串口号"对话框，由于是在"COM1"</p><p>下新建的设备配置，所以本设计选择的是"COM1"串口。</p><p>在接下来的对话框中需要输入地址"2"，恢复时间间隔"30"秒，最长恢复时间</p><p>该文档是极速PDF编辑器生成，</p><p>"24"小时的操作得到如下"设备配置向导——信息总结"对话框。如图 7.4 所示。</p><p>图 7.4：设备配置向导——信息总结对话框</p><p>单击"完成"后算是新建完成设备配置了。</p><p>7.3 建立数据库</p><p>数据库是"组态王"软件的核心部分，工业现场的生产状况要以动画的形式反映</p><p>在屏幕上，操作者在计算机前发布的指令也要迅速送达生产现场，所有这一切都是以</p><p>实时数据库为中介环节，所以说数据库是联系上位机和下位机的桥梁。在 TouchVew</p><p>运行时，它含有全部数据变量的当前值。变量在画面制作系统组态王画面开发系统中</p><p>定义，定义时要指定变量名和变量类型，某些类型的变量还需要一些附加信息。数据</p><p>库中变量的集合形象地称为"数据词典"，数据词典记录了所有用户可使用的数据变</p><p>量的详细信息。</p><p>接下来进入"数据库"，"数据词典"，构造数据库。如图 7.5 所示。</p><p>图 7.5 数据词典样子</p><p>选择工程浏览器左侧大纲项"数据库\数据词典"，在工程浏览器右侧用鼠标左键</p><p>双击"新建"图标，弹出"变量属性"对话框如图 7.6 所示。</p><p>图 7.6：定义变量对话框</p><p>需要注意初始值和最大原始值的大小，寄存器的类型的选择及寄存器地址的编</p><p>码，寄存器的数据类型的选择，寄存器内存的数据的读写属性，必须以上保证所有的</p><p>定义全部正确，否则组态王将不能正常工作。</p><p>本设计所构造的数据库列表如下表 7.1 所示。</p><p>双容液位控制系统设计</p><p>表 7.1：数据库列表 变量名 变量类型 寄存器 数据类型 读写属性PID_PV I/O 实数 V100 FLOAT 只读 PID_SP I/O 实数 V104 FLOAT 读写 PID_MV I/O 实数 V108 FLOAT 读写 PID_P I/O 实数 V112 FLOAT 读写 PID_I I/O 实数 V120 FLOAT 读写 PID_D I/O 实数 V124 FLOAT 读写 AO I/O 实数 V416 FLOAT 读写 AI I/O 实数 V424 FLOAT 只读 PID_AM I/O 整数 V481 BYTE 读写 PID_STOP I/O 整数 V482 BYTE 读写 PID_MAN I/O 实数 V488 FLOAT 读写</p><p>7.4 建立组态动画</p><p>在完成设备定义和数据库构造后，是本设计的组态画面的设计</p><p>进入组态王开发系统后，就可以为每个工程建立数目不限的画面，在每个画面上</p><p>生成互相关联的静态或动态图形对象。这些画面都是由"组态王"提供的类型丰富的</p><p>图形对象组成的。系统为用户提供了矩形（圆角矩形）、直线、椭圆（圆）、扇形（圆</p><p>弧）、点位图、多边形（多边线）、文本等基本图形对象，及按钮、趋势曲线窗口、报</p><p>警窗口、报表等复杂的图形对象。提供了对图形对象在窗口内任意移动、缩放、改变</p><p>形状、复制、删除、对齐等编辑操作，全面支持键盘、鼠标绘图，并可提供对图形对</p><p>象的颜色、线型、填充属性进行改变的操作工具。</p><p>"组态王"采用面向对象的编程技术，使用户可以方便地建立画面的图形界面。</p><p>用户构图时可以像搭积木那样利用系统提供的图形对象完成画面的生成。同时支持画</p><p>面之间的图形对象拷贝，可重复使用以前的开发结果。</p><p>进入新建的组态王工程，选择工程浏览器左侧大纲项"文件\画面"，在工程浏览</p><p>器右侧用鼠标左键双击"新建"图标，弹出对话框如图 7.7 所示。</p><p>图 7.7：新建画面对话框</p><p>由于我在做本设计是所用的显示器是 1024x768 的，所以选择的画面显示宽度和</p><p>高度分别是 1024 像素和 768 像素。</p><p>新建后画面后可以见到组态画面的制作环境，如图 7.8 所示。</p><p>图：7.8 组态画面制作环境</p><p>图 7.9：本设计的组态画面</p><p>7.5 组态画面及功能介绍</p><p>见图 7.9 的左边，这部分有上水箱、下水箱和储水箱，通过水泵、电动调节阀和</p><p>水管连接，PLC 检测下水箱的液位和控制电动调节阀的开启程度，这部分画面就很好</p><p>地模拟了本设计控制系统的现场设备。</p><p>画面左边布置了 6 个数据显示小窗口和 8 个功能按钮。这 6 个数据显示小窗口分</p><p>别是目标液位值显示，当前液位值显示，调节阀控制值显示及 PID 控制参数的比例参</p><p>数显示，积分时间显示和微分时间显示。其中，调节阀的控制值不是调节阀的当前值，</p><p>调节阀的控制值是一个"期望值"，调节阀从当前阀位运行到"期望"阀位是需要一</p><p>定时间的，经数据推算，需要最短时间可以达到 100ms，最长事件可能需要 28 秒，</p><p>即调节阀从完全开启打到完全关闭或完全关闭打到完全开启的时间，这与调节阀头的</p><p>执行能力有关。另外，积分时间显示的数据是以秒为单位显示的，微分时间显示也一</p><p>样。此外，当前液位显示和目标液位显示所显示的是百分比的值，而非实际的以厘米</p><p>为单位的液位高度。</p><p>在 6 个数据显示小窗口周围的是 8 个功能按钮，他们分别是目标液位设定按钮，</p><p>运行和停止控制按钮，自动和手动控制按钮，以及 PID 参数设定按钮。这 8 个按钮可</p><p>以分两类介绍，其中，运行和停止按钮与自动和手动按钮可以归为控制按钮。他们是</p><p>通过组态软件访问 PLC 寄存器并改变寄存器内的数据实现他们各自的功能的。例如：</p><p>运行按钮，只要组态软件正常工作时单击该按钮，就能给寄存器 VB482 附上整数"1"，</p><p>当 PLC 扫描检测到 VB482 的值为"1"，则会执行相应的指令，让水泵停止运行。在</p><p>组态软件中实现该功能是命令语句是"BitSet( \\本站点\PID_STOP, 1, 1);"，设置为按</p><p>钮弹起时执行该命令语句。其他三个控制类按钮的功能，用法及设置都很相似，都是</p><p>弹起时执行命令语句，运行按钮的命令语句是"BitSet( \\本站点\PID_STOP, 1, 0);"；</p><p>自动按钮的命令语句是"BitSet( \\本站点\PID_AM, 1, 0);";手动按钮的命令语句是</p><p>"BitSet( \\本站点\PID_AM, 1, 1);"。此外，无论是执行手动还是自动的时候，单击停</p><p>止或运行都能正常工作，不会起冲突。</p><p>剩下的目标液位设定按钮，比例参数设定按钮，积分时间设定按钮和微分时间设</p><p>定按钮功能就该按钮名字的字面意义。无需写命令语句，只要设定变量名即可。如目</p><p>标液位设定按钮的变量名为"\\本站点\PID_SP"，比例参数设定按钮的变量名为"\\</p><p>本站点\PID_P"，积分时间设定按钮的变量名为"\\本站点\PID_I"，微分时间设定按</p><p>钮的变量名为"\\本站点\PID_D"，他们都属于模拟量输入。当单击这些按钮时会出</p><p>现如下对话框，如图 7.10 所示，可以通过单击数字执行输入操作。</p><p>图 7.10 模拟量输入对话框</p><p>7.6 制作上位组态需要注意的事项</p><p>7.6.1 如何修改当前工程的属性</p><p>修改工程属性主要包括工程名称和工程描述两个部分。选中要修改属性的工程，</p><p>使之加亮显示，单击菜单栏"文件\工程属性"命令或工具条"属性"按钮或快捷菜</p><p>单"工程属性"命令后，弹出修改"工程属性"的对话框如图 7.10 所示。</p><p>"工程名称"文本框中显示的为原工程名称，用户可直接修改。</p><p>"版本"、"分辨率"文本框中分别显示开发该工程的组态王软件版本和工程的分</p><p>辨率。</p><p>"工程路径"显示该工程所在的路径。</p><p>"描述"显示该工程的描述文本，允许用户直接修改。</p><p>图 7.10：修改工程属性对话框</p><p>7.6.2 如何备份工程</p><p>选中要备份的工程，使之加亮显示。单击菜单栏"工具\工程备份"命令或工具</p><p>条"备份"按钮或快捷菜单"工程备份"命令后，弹出备份工程对话框，如图 3.30</p><p>所示。</p><p>图 7.11：备份工程对话框</p><p>工程备份文件分为两种形式：不分卷、分卷。不分卷是指将工程压缩为一个备份</p><p>文件，无论该文件有多大。分卷是指将工程备份为若干指定大小的压缩文件。系统的</p><p>默认方式为不分卷。</p><p>默认（不分卷）：选择该选项，系统将把整个工程压缩为一个备份文件。单击"浏</p><p>览"按钮，选择备份文件存储的路径和文件名称，如图 7.12 所示。工程被存储成扩</p><p>展名为.cmp 的文件，如：filename.cmp。工程备份完后，生成一个 filename.cmp 文件。</p><p>图 7.12：工程备份路径选择</p><p>自定义（分卷）：选择该选项，系统将把整个工程按照给定的分卷尺寸压缩为给</p><p>定大小的多个文件。"分卷尺寸"文本框变为有效，在该文本中输入分卷的尺寸，即</p><p>规定每个备份文件的大小，单位为兆。分卷尺寸不能为空，否则系统会提示用户输入</p><p>分卷尺寸大小。单击"浏览"按钮，选择备份文件存储的路径和文件名称。分卷文件</p><p>存储时会自动生成一系列文件，生成的第一个文件的文件名为所定义的文件名.cmp，</p><p>其它依次为：文件名.c01、文件名.c02…。如：定义的文件名为 filename，则备份产</p><p>生的文件为：filename.cmp、filename.c01、filename.c02…。</p><p>如果用户指定的存储路径为软驱，在保存时若磁盘满则系统会自动提示用户更换</p><p>磁盘。这种情况下，建议用户使用"自定义"方式备份工程。</p><p>备份过程中在工程管理器的状态栏的左边有文字提示，右边有备份进度条标识当</p><p>前进度。</p><p>注意：备份的文件名不能为空。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'西门子','PLC','学习'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>