<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Python输入和输出 | 极客快訊</title><meta property="og:title" content="Python输入和输出 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/89c82a59bb3b46daa33602ae01a1cc48"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d57ca307.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d57ca307.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d57ca307.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d57ca307.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d57ca307.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d57ca307.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d57ca307.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d57ca307.html><meta property="article:published_time" content="2020-10-29T21:09:46+08:00"><meta property="article:modified_time" content="2020-10-29T21:09:46+08:00"><meta name=Keywords content><meta name=description content="Python输入和输出"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/d57ca307.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Python输入和输出</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>@Author : By Runsen</p><p>在很多时候，你会想要让你的程序与用户（可能是你自己）交互。你会从用户那里得到输入，然后打印一些结果。我们可以使用iinput和print语句来完成这些功能。</p><h1 class=pgc-h-arrow-right>input</h1><pre><code>name = input('your name:')gender = input('you are a boy?(y/n)')###### 输入 ######your name:Jackyou are a boy?welcome_str = 'Welcome to the matrix {prefix} {name}.'welcome_dic = {    'prefix': 'Mr.' if gender == 'y' else 'Mrs',    'name': name}print('authorizing...')print(welcome_str.format(**welcome_dic))########## 输出 ##########authorizing...Welcome to the matrix Mr. Jack.</code></pre><p>input函数暂停运行，等待键盘输入，直到按下回车，输入的类型永远是字符串</p><pre><code>a = input()1b = input()2print('a + b = {}'.format(a + b))########## 输出 ##############a + b = 12print('type of a is {}, type of b is {}'.format(type(a), type(b)))########## 输出 ##############type of a is &lt;class 'str'&gt;, type of b is &lt;class 'str'&gt;print('a + b = {}'.format(int(a) + int(b)))########## 输出 ##############a + b = 3</code></pre><h1 class=pgc-h-arrow-right>文件输入和输出</h1><p>生产级别的 Python 代码，大部分 I/O 则来自于文件</p><p>这里有个in.text</p><pre><code>Mr. Johnson had never been up in an aerophane before and he had read a lot about air accidents, so one day when a friend offered to take him for a ride in his own small phane, Mr. Johnson was very worried about accepting. Finally, however, his friend persuaded him that it was very safe, and Mr. Johnson boarded the plane.His friend started the engine and began to taxi onto the runway of the airport. Mr. Johnson had heard that the most dangerous part of a flight were the take-off and the landing, so he was extremely frightened and closed his eyes.After a minute or two he opened them again, looked out of the window of the plane, and said to his friend。"Look at those people down there. They look as small as ants, don't they?""Those are ants," answered his friend. "We're still on the ground."</code></pre><p>现在</p><ul><li>读取文件</li><li>去掉所有标点和换行符，将大写变为小写</li><li>合并相同的词，统计每个词出现的频率，将词频从大到小排序</li><li>将结果按行输出文件out.txt</li></ul><pre><code>import re# 你不用太关心这个函数def parse(text):    # 使用正则表达式去除标点符号和换行符    text = re.sub(r'[^\w ]', '', text)    # 转为小写    text = text.lower()        # 生成所有单词的列表    word_list = text.split(' ')        # 去除空白单词    word_list = filter(None, word_list)        # 生成单词和词频的字典    word_cnt = {}    for word in word_list:        if word not in word_cnt:            word_cnt[word] = 0        word_cnt[word] += 1        # 按照词频排序    sorted_word_cnt = sorted(word_cnt.items(), key=lambda kv: kv[1], reverse=True)        return sorted_word_cntwith open('in.txt', 'r') as fin:    text = fin.read()word_and_freq = parse(text)with open('out.txt', 'w') as fout:    for word, freq in word_and_freq:        fout.write('{} {}\n'.format(word, freq))########## 输出 (省略较长的中间结果) ##########</code></pre><div class=pgc-img><img alt=Python输入和输出 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/89c82a59bb3b46daa33602ae01a1cc48><p class=pgc-img-caption></p></div><p>但是有个问题，如果文件非常的大容易造成内存崩溃</p><p>这个时候给 read 指定参数 size，还可以通过 readline() 函数，每次读取一行，</p><h1 class=pgc-h-arrow-right>json文件读取</h1><pre><code>import jsonparams = {    'symbol': '123456',    'type': 'limit',    'price': 123.4,    'amount': 23}params_str = json.dumps(params)print('after json serialization')print('type of params_str = {}, params_str = {}'.format(type(params_str), params))original_params = json.loads(params_str)print('after json deserialization')print('type of original_params = {}, original_params = {}'.format(type(original_params), original_params))########## 输出 ##########after json serializationtype of params_str = &lt;class 'str'&gt;, params_str = {'symbol': '123456', 'type': 'limit', 'price': 123.4, 'amount': 23}after json deserializationtype of original_params = &lt;class 'dict'&gt;, original_params = {'symbol': '123456', 'type': 'limit', 'price': 123.4, 'amount': 23}</code></pre><p>json.dumps() 这个函数，接受 Python 的基本数据类型 字典，然后转化string （json的字符串）</p><p>json.loads() 这个函数，接受一个合法字符串(json)，然后 转化为字典</p><p>json 的读入</p><pre><code>import jsonparams = {    'symbol': '123456',    'type': 'limit',    'price': 123.4,    'amount': 23}with open('params.json', 'w') as fout:    params_str = json.dump(params, fout)with open('params.json', 'r') as fin:    original_params = json.load(fin)print('after json deserialization')print('type of original_params = {}, original_params = {}'.format(type(original_params), original_params))########## 输出 ##########after json deserializationtype of original_params = &lt;class 'dict'&gt;, original_params = {'symbol': '123456', 'type': 'limit', 'price': 123.4, 'amount': 23}</code></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Python','输入','输出'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/f671704b.html alt="Python第七课7. 输入输出" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/f671704b.html title="Python第七课7. 输入输出">Python第七课7. 输入输出</a></li><hr><li><a href=../../cn/%E7%A7%91%E6%8A%80/667cf405.html alt=四十三、Python的输入与输出 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/8e747d4a-1a73-4876-9ba9-d75b1f1de799 style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/667cf405.html title=四十三、Python的输入与输出>四十三、Python的输入与输出</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>