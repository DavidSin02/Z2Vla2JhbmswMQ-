<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>åˆ†é¡µæ’ä»¶ä½¿ç”¨çš„æ–¹å¼ | æå®¢å¿«è¨Š</title><meta property="og:title" content="åˆ†é¡µæ’ä»¶ä½¿ç”¨çš„æ–¹å¼ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/3dc39ccc703f4fa3a7fcbd967f8cf897"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d57d336.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d57d336.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d57d336.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d57d336.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d57d336.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d57d336.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d57d336.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d57d336.html><meta property="article:published_time" content="2020-10-29T20:58:00+08:00"><meta property="article:modified_time" content="2020-10-29T20:58:00+08:00"><meta name=Keywords content><meta name=description content="åˆ†é¡µæ’ä»¶ä½¿ç”¨çš„æ–¹å¼"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/d57d336.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>åˆ†é¡µæ’ä»¶ä½¿ç”¨çš„æ–¹å¼</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p><br></p><div class=pgc-img><img alt=åˆ†é¡µæ’ä»¶ä½¿ç”¨çš„æ–¹å¼ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3dc39ccc703f4fa3a7fcbd967f8cf897><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>åˆ†é¡µæ’ä»¶ä½¿ç”¨çš„æ–¹å¼</h1><ul><li>ä¿®æ”¹ pom æ–‡ä»¶ï¼Œæ·»åŠ åˆ†é¡µ jar åŒ…ä¾èµ–</li><li>ä¿®æ”¹ mybatis.xml æ–‡ä»¶</li><li>UserDao æ¥å£ï¼ŒUserMapper.xml æ·»åŠ å¯¹åº”æ–¹æ³•ä¸å®ç° sql</li><li>å¯¹åº” UserService æ¥å£æ·»åŠ åˆ†é¡µæŸ¥è¯¢æ–¹æ³•</li><li>æµ‹è¯•åˆ†é¡µæ•ˆæœ</li></ul><h1 class=pgc-h-arrow-right>æ¡ˆä¾‹å®æ“</h1><h1 class=pgc-h-arrow-right>1.ä¿®æ”¹ pom æ–‡ä»¶ï¼Œæ·»åŠ åˆ†é¡µ jar åŒ…ä¾èµ–</h1><p>&lt;dependency><br>&lt;groupId>com.github.pagehelper&lt;/groupId><br>&lt;artifactId>pagehelper&lt;/artifactId><br>&lt;version>4.1.0&lt;/version><br>&lt;/dependency></p><h1 class=pgc-h-arrow-right>2.ä¿®æ”¹ mybatis.xml æ–‡ä»¶</h1><p>&lt;plugins><br>&lt;!-- com.github.pagehelper ä¸º PageHelper ç±»æ‰€åœ¨åŒ…å --><br>&lt;plugin interceptor="com.github.pagehelper.PageHelper"><br>&lt;property name="dialect" value="mysql" /><br>&lt;!-- è¯¥å‚æ•°é»˜è®¤ä¸º false --><br>&lt;!-- è®¾ç½®ä¸º true æ—¶ï¼Œä¼šå°† RowBounds ç¬¬ä¸€ä¸ªå‚æ•° offset å½“æˆ pageNum é¡µç ä½¿ç”¨<br>--><br>&lt;!-- å’Œ startPage ä¸­çš„ pageNum æ•ˆæœä¸€æ · --><br>&lt;property name="offsetAsPageNum" value="true" /><br>&lt;!-- è¯¥å‚æ•°é»˜è®¤ä¸º false --><br>&lt;!-- è®¾ç½®ä¸º true æ—¶ï¼Œä½¿ç”¨ RowBounds åˆ†é¡µä¼šè¿›è¡Œ count æŸ¥è¯¢ --><br>&lt;property name="rowBoundsWithCount" value="true" /><br>&lt;!-- è®¾ç½®ä¸º true æ—¶ï¼Œå¦‚æœ pageSize=0 æˆ–è€… RowBounds.limit = 0 å°±ä¼šæŸ¥è¯¢å‡ºå…¨<br>éƒ¨çš„ç»“æœ --><br>&lt;!-- ï¼ˆç›¸å½“äºæ²¡æœ‰æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢ï¼Œä½†æ˜¯è¿”å›ç»“æœä»ç„¶æ˜¯ Page ç±»å‹ï¼‰ --><br>&lt;property name="pageSizeZero" value="true" /><br>&lt;!-- 3.3.0 ç‰ˆæœ¬å¯ç”¨ - åˆ†é¡µå‚æ•°åˆç†åŒ–ï¼Œé»˜è®¤ false ç¦ç”¨ --><br>&lt;!-- å¯ç”¨åˆç†åŒ–æ—¶ï¼Œå¦‚æœ pageNum&lt;1 ä¼šæŸ¥è¯¢ç¬¬ä¸€é¡µï¼Œå¦‚æœ pageNum>pages ä¼šæŸ¥è¯¢<br>æœ€åä¸€é¡µ --><br>&lt;!-- ç¦ç”¨åˆç†åŒ–æ—¶ï¼Œå¦‚æœ pageNum&lt;1 æˆ– pageNum>pages ä¼šè¿”å›ç©ºæ•°æ® --><br>&lt;property name="reasonable" value="true" /><br>&lt;!-- 3.5.0 ç‰ˆæœ¬å¯ç”¨ - ä¸ºäº†æ”¯æŒ startPage(Object params)æ–¹æ³• --><br>&lt;!-- å¢åŠ äº†ä¸€ä¸ª`params`å‚æ•°æ¥é…ç½®å‚æ•°æ˜ å°„ï¼Œç”¨äºä» Map æˆ– ServletRequest<br>ä¸­å–å€¼ --><br>&lt;!-- å¯ä»¥é…ç½® pageNum,pageSize,count,pageSizeZero,reasonable,ä¸é…ç½®æ˜ å°„<br>çš„ç”¨é»˜è®¤å€¼ --><br>&lt;property name="params"<br>value="pageNum=start;pageSize=limit;pageSizeZero=zero;reasonable=heli;count=cou<br>ntsql" /><br>&lt;/plugin><br>&lt;/plugins></p><p><br></p><h1 class=pgc-h-arrow-right>3.UserDao æ¥å£ï¼ŒUserMapper.xml æ·»åŠ å¯¹åº”æ–¹æ³•ä¸å®ç° sql</h1><p>UserDao æ¥å£:</p><p>public interface UserDao {<br>public User queryUserById(int id);<br>public List&lt;User> queryUsers();<br>}</p><p>UserMapper.xml</p><p>&lt;?xml version="1.0" encoding="UTF-8" ?><br>&lt;!DOCTYPE mapper<br>PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"<br>"http://mybatis.org/dtd/mybatis-3-mapper.dtd"><br>&lt;mapper namespace="com.mage.dao.UserDao"><br>&lt;select id="queryUserById" parameterType="int" resultType="user"><br>select id,userName,userPwd from user where id=#{id}<br>&lt;/select><br>&lt;select id="queryUsers" resultType="user"><br>select id,userName,userPwd from user<br>&lt;/select><br>&lt;/mapper></p><h1 class=pgc-h-arrow-right>4.å¯¹åº” UserService æ¥å£æ·»åŠ åˆ†é¡µæŸ¥è¯¢æ–¹æ³•</h1><p>public interface UserService {<br>public User queryUserById();<br>/**<br>* åˆ†é¡µæ–¹æ³•å®šä¹‰<br>* @param pageNum å½“å‰é¡µå·<br>* @param pageSize è®¾ç½®æ¯é¡µæ˜¾ç¤ºæ•°é‡<br>* @return<br>*/<br>public PageInfo&lt;User> queryUsers(int pageNum,int pageSize);<br>}</p><p><br></p><p>UserServiceImpl å®ç°æ–¹æ³•:</p><p>@Service<br>public class UserServiceImpl implements UserService{<br>@Resource<br>private UserDao userDao;<br>public User queryUserById(){<br>return userDao.queryUserById(7);<br>}<br>@Override<br>public PageInfo&lt;User> queryUsers(int pageNum, int pageSize) {<br>/**<br>* PageHelper ç±»è®¾ç½®åˆ†é¡µé¡µå·ä¸æ¯é¡µå¤§å°<br>*/<br>PageHelper.startPage(pageNum, pageSize);<br>List&lt;User> list=userDao.queryUsers();<br>PageInfo&lt;User> pageInfo=new PageInfo&lt;User>(list);<br>return pageInfo;<br>}<br>}</p><p><br></p><h1 class=pgc-h-arrow-right>5.æµ‹è¯•åˆ†é¡µæ•ˆæœ</h1><p>æ•°æ®åº“åŸå§‹è®°å½•</p><div class=pgc-img><img alt=åˆ†é¡µæ’ä»¶ä½¿ç”¨çš„æ–¹å¼ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bf4085dd3b3746378132049cf91f683b><p class=pgc-img-caption></p></div><p>æµ‹è¯•</p><p>ç¬¬ä¸€æ¬¡ PageNum =1 pageSize=1</p><p>@Test<br>public void testQueryUsers() {<br>PageInfo&lt;User> pageInfo= userService.queryUsers(1, 1);<br>for(User user:pageInfo.getList()){<br>System.out.println("user:"+user);<br>}<br>}</p><p><br></p><p>ç»“æœï¼š</p><div class=pgc-img><img alt=åˆ†é¡µæ’ä»¶ä½¿ç”¨çš„æ–¹å¼ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/09360ba828454109adf36275cce3fb24><p class=pgc-img-caption></p></div><p>ç¬¬äºŒæ¬¡ pageNum=2 pageSize=1</p><p>@Test<br>public void testQueryUsers() {<br>PageInfo&lt;User> pageInfo= userService.queryUsers(2, 1);<br>for(User user:pageInfo.getList()){<br>System.out.println("user:"+user);<br>}<br>}</p><p><br></p><p>ç»“æœ</p><div class=pgc-img><img alt=åˆ†é¡µæ’ä»¶ä½¿ç”¨çš„æ–¹å¼ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1d60f781f0744c4390d066f0ecd80a90><p class=pgc-img-caption></p></div><p>å¤‡æ³¨:åˆ†é¡µæ’ä»¶ å¦‚æœä¼ å…¥çš„é¡µç  æ“ä½œè®°å½•æ€»é¡µæ•° æ­¤æ—¶æˆ‘ä»¬å¾—åˆ°çš„æ˜¯æœ€åä¸€é¡µçš„è®°å½•</p><p>ç¬¬ä¸‰æ¬¡æµ‹è¯• PageNum=3 pageSize=1</p><p>@Test public void testQueryUsers() { PageInfo&lt;User> pageInfo= userService.queryUsers(3, 1); for(User user:pageInfo.getList()){ System.out.println("user:"+user); } }</p><p><br></p><p>ç»“æœ:</p><div class=pgc-img><img alt=åˆ†é¡µæ’ä»¶ä½¿ç”¨çš„æ–¹å¼ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d2e0b9f01c2440cb8bd24be83a4f1f8c><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>æ‰©å±•</h1><h1 class=pgc-h-arrow-right>åˆ†é¡µæ’ä»¶å‹ç¼©ç‰ˆ</h1><div class=pgc-img><img alt=åˆ†é¡µæ’ä»¶ä½¿ç”¨çš„æ–¹å¼ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d799e8787ef74f3980fc8eaa9b9c4abd><p class=pgc-img-caption></p></div><p>è§£å‹å³å¯ä½¿ç”¨ï¼Œå’Œä¹‹å‰é…ç½®ä¸€æ ·å»é…ç½®å¥½ config.xmlï¼Œå†è¿è¡Œ run.bat å³å¯</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'æ’ä»¶','åˆ†é¡µ','æ–¹å¼'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>