<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>CAN总线协议，CAN总线案例 | 极客快訊</title><meta property="og:title" content="CAN总线协议，CAN总线案例 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/bcd5f6bcf7a943d79c5ff1d03287bf6b"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d65f394c.html><meta property="article:published_time" content="2020-10-29T21:09:31+08:00"><meta property="article:modified_time" content="2020-10-29T21:09:31+08:00"><meta name=Keywords content><meta name=description content="CAN总线协议，CAN总线案例"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/d65f394c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>CAN总线协议，CAN总线案例</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>对于 CAN总线在汽车上的应用，具有很多行业标准或者是国际标准，比如国际标准化组织的ISO11992、ISO11783以及汽车工程协会的SAE J1939。CAN总线已经作为汽车的一种标准设备列入汽车的整体设计中。一提到总线，就很容易让我们联想到复杂错乱的计算机电线。但这些总线却起着十分重要的作用。以下就这个CAN总线协议的发展历程、特点、基本规则以及传输和结构来总结介绍一下。</p><p>CAN总线发展</p><p>控制器局域网CAN是由德国博世公司在20世纪80年代专门为汽车行业开发的一种串行通信总线。由于其高性能、高可靠性以及独特的设计而越来越受到人们的重视，被广泛应用于诸多领域。而且能够检测出产生的任何错误。当信号传输距离达到10km时，CAN仍可提供高达50kbit/s的数据传输速率。由于CAN总线具有很高的实时性能和应用范围，从位速率最高可达1Mbps的高速网络<span>到低</span>成本多线路的50Kbps网络都可以任意搭配。因此，CAN<span>己经</span>在汽车业、航空业、工业控制、安全防护等领域中得到了广泛应用。</p><p>CAN总线基本规则：</p><p>（1）总线访问:<strong>采用载波监听多路访问</strong>，CAN控制器总能够在总线空闲时，<strong>就是节点侦听到网络上至少存在3个空闲位（隐性位）时开始发送，采用硬同步，所有的控制器同步都为与帧的起始的前沿。</strong>过了一定时间，并在一定条件后，重同步。</p><p>（2）<strong>仲裁</strong>：各节点向总线发电平时，也<strong>对总线上电平进行读取，并于自身发送的电平进行比较，相同则发下一位</strong>，直至全部发完。不同则说明网络上有更高优先级的信息帧正在发送，即停止发送，退出竞争。</p><p>（3）<strong>编码/解码</strong>：帧起始域，仲裁域，控制域，数据域和CRC序列均使用<strong>位填充技术</strong>进行编码，<strong>就是5个连续的同状态电平插入一位与它相补的电平</strong>，还原时每5个同状态的电平后的相补电平被删除。</p><p>（4）出错标注：当检测到位错误，填充错误，形式错误或应答错误时，<strong>检测出错条件的CAN控制器将发送一个出错标志</strong>。</p><p>（5）超载标注，一些控制器会发送一个或多个超载帧以延迟下一个数据帧或远程帧的发送</p><p>CAN的特点</p><p>（1）通信方式灵活。<strong>多主从方式工作，网络上任何节点均可以在任何时刻主动的向其他节点发送信息，不分主从</strong>。无需站地址等节点信息。可以构成多机备份系统。</p><p>（2）CAN网络上的节点信息分成<strong>不同的优先级</strong>，可以满足不同的实时要求。</p><p>（3）CAN采取非破坏性的总线仲裁技术，多个节点同时发送信息时，<strong>优先级低的节点会主动退出发送</strong>。</p><p>（4）CAN只需通过报文滤波就可以实现点对点，1点对多点及全局广播等几种方式传送接收，无需调度。</p><p>（5）CAN的<strong>直接通信距离最远可达10KM（5Kb/s）</strong>，通信速率最高可达1Mb/s（40M）。</p><p>（6）CAN上的<strong>节点数目前可达110个</strong>；<strong>报文标示符可达2032种</strong>（CAN2.0A ），而CAN2.0B报文<span>标示符</span>几乎不受限制。</p><p>（7）CAN通信采用短帧格式，<strong>传输时间短，抗干扰强，极好的验错效果</strong>，每帧最多8B足以满足控制要求，不会占用过长总线时间，实时性强。</p><p>（8）CAN每帧都有CRC校验及其他验错措施。</p><p>（9）接口中集成了CAN协议的物理层和数据链路层。</p><p>（10）CAN的<strong>通信介质可为双绞线或同轴电缆，光纤</strong>。</p><p>（11）CAN节点在错误严重情况下具有自动关闭输出功能。</p><p>CAN总线的报文传输和结构</p><p>报文类型</p><p>在CAN2．0B的版本协议中有两种不同的帧格式，不同之处为标识符域的长度不同，含有ll位标识符的帧称之为标准帧，而含有29位标识符的帧称为扩展帧。如CAN1．2版本协议所描述，两个版本的标准数据帧格式和远程帧格式分别是等效的，而扩展格式是CAN2．0B协议新增加的特性。为使控制器设计相对简单，并不要求执行完全的扩展格式，对于新型控制器而言，必须不加任何限制的支持标准格式。</p><p>帧类型</p><p>(1)数据帧(Data ) 数据帧将数据从发送器传输到接收器。</p><p>(2)远程帧(Remote ) 总线单元发出远程帧，请求发送具有同一标识符的数据帧。</p><p>(3)错误帧(Error ) 任何单元检测到总线错误就发出错误帧。</p><p>(4)过载帧(Overload ) 过载帧用在相邻数据帧或远程帧之间提供附加的延时。</p><p>数据帧或远程帧与前一个帧之间都会有一个隔离域，即帧间间隔。数据帧和远程帧可以使用标准帧及扩展帧两种格式。</p><div class=pgc-img><img alt=CAN总线协议，CAN总线案例 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bcd5f6bcf7a943d79c5ff1d03287bf6b><p class=pgc-img-caption></p></div><p>对此，很多世界级的半导体厂商专门针对CAN总线在汽车上的应用，提出了自己的全套解决方案。上图是某半导体公司的汽车网络解决方案。</p><p>通过上图可以看到，蓝色较粗线代表CAN总线，它连接了传动装置控制单元、灯控单元、门控单元、座椅控制单元以及仪表盘控制单元等等。红色较细线代表LIN总线，由LIN总线构成的LIN网络作为CAN网络的辅助网络，连接了车窗控制单元、雨刷控制单元、天窗控制单元等低速设备。</p><p>LIN网络（Local Interconnect Network），由汽车厂商为汽车开发，作为CAN网络的辅助网络，目标应用在低端系统，不需要CAN的性能、带宽以及复杂性。LIN的工作方式是一主多从，单线双向低速传送数据（最高20K位/秒），与CAN相比具有更低的成本，且基于 UART接口，无需硬件协议控制器，使系统成本更低。</p><p>在未来的汽车中，由汽车厂商和半导体厂商共同组成的团体FlexRay Consortium，致力于发展更高速的、具有容错性的、支持分布式控制系统的总线“X-by-Wire，X-by-Wire的通信速率将达到10M。届时，X-by-Wire将和CAN、LIN一起组成整个汽车的通信控制网络。</p><p>若从事CAN总线在汽车中的应用上的开发，就必须有一套高效的开发工具，包括软件产品和硬件产品。德国PEAK公司致力于CAN总线开发产品的研发，提供了一系列产品，是世界上知名的CAN设备提供商。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'总线','协议','案例'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>