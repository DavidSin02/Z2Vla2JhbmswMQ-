<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>移动与无线IoT设备的低压电机控制系统设计 | 极客快訊</title><meta property="og:title" content="移动与无线IoT设备的低压电机控制系统设计 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/SElVgn6FsEUfPG"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d6f8e08a.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d6f8e08a.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d6f8e08a.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d6f8e08a.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d6f8e08a.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d6f8e08a.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d6f8e08a.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d6f8e08a.html><meta property="article:published_time" content="2020-11-14T21:01:49+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:49+08:00"><meta name=Keywords content><meta name=description content="移动与无线IoT设备的低压电机控制系统设计"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/d6f8e08a.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>移动与无线IoT设备的低压电机控制系统设计</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p></p><h1 toutiao-origin=h2>如何在低压供电下驱动步进或直流电机</h1><p>尽管IoT和手持设备的电源有限，通常只有一节电池，但这些应用往往都依赖于执行器。出于成本与可靠性的考虑，无论是用于安防、家庭自动化、医疗与电池驱动的POS机，多数设备所用的电池节数较少，电压通常在2.4V到4.3V范围内。这些设备中的执行器往往只需要短时运动，比如调整阀门、注射药物或是移动摄像头等。有限的电源同样限制了峰值功率以及长期功耗。因此，即便占空比较低，能量效率依然至关重要。</p><p>本文着重分析如何利用本地电源（比如单节锂离子电池或双/三节AA电池）驱动步进电机和/或直流电机。并将加入升压稳压器的拓扑结构与低压用绕线式电机的方案进行对比。</p><p><strong class=highlight-text toutiao-origin=strong>简介</strong></p><p>尽管供电有限，但越来越多的手持设备与物联网应用都依赖于执行器。虽然更大电池能带来一些好处，但出于成本、可靠性、尺寸以及重量、寿命、安全与回收的考虑，节数较少的电池需求才是设备生产商的首选。无论是家庭自动化、安全、医疗还是手持POS设备，首选的电源电压范围都在2.4V到4.3V之间。</p><p>然而这些电池的某些特性为电机本身，以及电机控制与运动控制的设计和技术带来了新的挑战。电机与运动控制面临的问题是：如何在低压电源下高效控制一个步进或直流电机？</p><p><strong>A</strong></p><p><strong class=highlight-text toutiao-origin=strong>优化目标</strong></p><p>较低的总功耗有利于减小能量存储所需的空间，也可以提高产品的寿命与服务周期。根据设备占空比，总功耗由不同的工作阶段与占空比，以及待机电流与期望待机寿命决定。电源还需要提供工作所需的瞬时峰值功率。这对高阻抗的电源，比如不可充电的旧AA电池来说是一大问题。</p><p>此外，低压供电的工作可以简化电路，比如减少所需的电池节数，简化充电过程。</p><p>一个待机与脉冲负载对比的例子：100µA的待机电流下，每年将消耗0.1mA*24h*365=876mAh的电量。而对于脉冲负载来说，如果每天工作时间为10秒，工作电流为500mA的话，每年将消耗500mA*365*10/3600=507mAh的电量。这个例子表明，对于工作占空比较低的应用，待机电流很可能会带来麻烦。现在一般使用功率IC来让系统进入待机状态，以节省额外的（半导体）电源开关。尽管额外开关的成本不高，但在导通时间内可能会浪费大量能量，因为通过开关的电流为满载状态。</p><p><strong>B</strong></p><p><strong class=highlight-text toutiao-origin=strong>电池参数</strong></p><p>不同类型的电池参数是通过测量得到的。就拿碱性电池来说，“接近没电”是一个难以判断的状态，因为尽管部分区域依然存在能量，但已经出现电压降低和内阻升高的情况。因此对于电子设备来说，“没电”通常对应电池化学成分的减半。电池的峰值功率受限于电源内阻，例如AA电池的内阻或是锂离子电池的保护电路。对高内阻电源来说，电压降为一半（比如1.5V电池的电压将为0.75V）时仍可以达到最大功率。电池在接近没电时还能在峰值状态下短暂使用一段时间是完全合理的，因为一半的能量浪费在电池内部。这种方式下可以彻底用尽电池。</p><p>考虑到微控制器的直接工作以及电池的附加电路，必须要给微控制器设定一个更低的电压值，，比如3.3V的微控制器需要限制到3.0V，或是一个1.8V的设备则需将电压值限制到2V左右。这么做的目的是为了避免微控制器在峰值负载下复位。实验表明，对一个“接近没电”的不可充电双AA电池来说，2V下的可用功率是相当有限的，还不到峰值功率的一半。而对“接近没电”状态下的双AA碱性电池来说，剩余电压为2.61V时，峰值功率仍有2.06W，电压大于2V时仍然可以做到0.74W的输出功率。</p><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SElVgn6FsEUfPG><p><strong>C</strong></p><p><strong class=highlight-text toutiao-origin=strong>改进电源：加入一个超级电容</strong></p><p>在高内阻电源内提供短时峰值电流的一个简单方法就是增加一个超级电容。需要注意的是，超级电容的最大承受电压为2.7V，因此当供电超过这个值时必须做好保护，可以加入一个低压差线性稳压器。对于更高的电压来说，可以将两个电容串联。要注意的是双电容需要加入一个平衡的方法，比如（有源）齐纳二极管。一个使用（超级）电容进行电源缓冲的例子：在1s，500mA的负载下，要求最大压降为0.2V。</p><p>所需电容：</p><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/SElVgofHDGFs0F><p>0.5F电容的尺寸：高度12mm，直径8mm；10F电容的尺寸：高度22.5mm，直径12mm</p><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SElVgp772GpAav><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/SElVgpN86TfEPL><p><strong>D</strong></p><p><strong class=highlight-text toutiao-origin=strong>改进电源：加入一个升压转换器</strong></p><p>低压电源通过升压转换器可以提供高压输出。要想充分利用碱性电池，或是面对无法在低压下工作的IC来说，这是一个理想的方案。升压转换器的倍数一般在1到4之间，一般来说，转换倍数越高，效率会越低。因此3V的电源可以轻松升压到3V到10V左右。现成的IC只需要一个电感（这是其中最大也通常是最贵的元件）和几个电容而已。</p><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/SElVgpeITKqGdt><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SElVhK0HZxYTyE><p><strong class=highlight-text toutiao-origin=strong>低压驱动步进电机</strong></p><p>步进电机最具优势的使用场景有定位应用、要求相对运动的应用、要求较长时间内保持稳定位置的应用、短暂运动的应用、需要精准运动速度的应用或是要求大转矩低速度的应用。通常来说，步进电机有两种：低成本的永磁步进电机和昂贵的混合型步进电机。</p><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/SElVhKmAeB4HEy><p>通常来说，电池驱动的应用需要的解决方案会更加紧凑，NEMA 17这类标准的步进电机体积太大。NEMA 17由于大规模使用，在3D打印机等应用中可提供最高的性价比，体积稍小的混合步进电机NEMA 11和NEMA 8，乃至更小的电机往往价格更高。因此，廉价，且可针对制造商特定的安装方式提供各种不同大小的永磁步进电机成为了移动解决方案的首选。标准类型的永磁步进电机使用的线圈通常是5V或12V。这两种电压规格也不适合电池方案。与之相反，它们通常用于恒压驱动，而且电机速度相当有限，因为并没有为反电动势留出余量，而反电动势在速度提升时也会逐渐增加。一个5V或者12V的线圈需要在电机上使用大量细线绕组。</p><p>为了适应低压运转的电机，需要用到少量的粗线绕组。这实现起来很简单，而且所有电机制造商都提供绕组服务。但哪种绕组最适合电池供电呢？</p><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/SElVhLHFmjAN7t><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/SElVhLi7WHa7Sm><p>为了理解这个问题，我们不妨看看步进电机的供电需求：电机转矩与线圈电流乘以匝数成正比，因为每安培的电流都会对磁场产生一定影响，从而影响电机转矩。</p><p>两个电机线圈中电流标称值达到要求的磁场强度后，也就达到了指定的电机转矩。低电流会生成低转矩，比如70%的电流对应70%的转矩。哪怕只是降低至70%也能节省很多能量，因为功率损耗与电流的平方成正比。因此，转矩裕度更大的电机可以提供更高的效率。</p><p>有了这些值，即可将电机止转时所需的电压UBAT计算出来，再考虑电机驱动功率级的阻值以及感应电阻上的电压损失（比如TMC2300低压步进电机驱动的每个MOSFET桥电阻为170 mΩ，感应电阻上的峰值电压为0.3V）：</p><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SElVhM5DmHxGIo><p>ICOIL为电机电流的标称值，在止转时给予理想的转矩。慢速运转时，反电动势可以忽略不计，因此与止转情况下的计算区别不大。</p><p>对于高速工作来说，电机的特定反电动势常数应该考虑进去（解释如下）。因此，所用电机在最大速度[RPM]下的最低电源电压为：</p><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/SElVhfr5xvVxtW><p>该等式运用保持转矩和指定线圈电流（从电机规格书中获取）的商来计算电机的反电动势常数。</p><p>对大多数电机供应商来说，线圈绕组必须适用于电池驱动。这样的话就不需要较高的电机电流，比如一个用短粗线圈绕组的电机在低压下运转，而不是在同样的电机上利用细长线圈绕组，后者实现相同转矩需要更高的电流。这种两种电机绕组的线圈功率损耗和电机效率保持一致。</p><p><strong>A</strong></p><p><strong class=highlight-text toutiao-origin=strong>示例：热风阀使用的线性执行器</strong></p><p>原电机：线圈阻值5 Ω；改动后的电机：1.5 Ω，测试在3.3V和5V的TMC2300低压驱动IC下进行，假设电机功率损耗相同。电机在320Hz整步下工作（大于谐振频率）。下面的示波器截图展示了供电电流、电机线圈电流（低阻电机下电流增加）和供电电压的不同峰值。</p><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SElVhgF9xzpakQ><p>示波器截图展示了1.5 Ω电机（改良绕组）在3.3V下（左）的线圈电流vs 5.0 Ω电机在5V下（右）的线圈电流。供电电流（紫色）和供电电压（绿色）</p><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/SElVhgoF7b8em9><p>基于测量结果，我们可以得出以下结论，在同样的驱动IC下，低压电机可以在低电压下提供相同的转矩。由于线圈电流的升高，驱动级的功率损耗也随之提高，增加了功率需求。再者，当使用单个锂离子电池作为电源时，可以省去一个升压转换器（效率有限，约在90-95%之间）。</p><p>此外，该例还表明了低压电机驱动IC中，功率级的内阻是影响效率的关键。高内阻不仅在功率级损耗了更多功率，同样降低了驱动执行器的电压余度。传统的驱动IC，哪怕是针对低压设计，也存在着低压问题。</p><p>拿一个标准MOSFET为例，它与集成在IC中的MOSFET类似。FET的最终导通电阻（RDSon）位于4V到6V间的栅极电压间。低于4V的区域可以看出电阻急剧增加，为了实现低导通内阻，电池供电驱动IC需要一个内部升压转换器，至少能够驱动功率MOSFET。下图的曲线说明了导通内阻与电源电压的关系。该IC是专为低压工作设计的，集成了一个倍压器而不是标准电阻，用于控制功率级。只比较曲线的形状，而不是实际值。</p><p>2节AA电池供电的工作区域被标为蓝色，可以看出MOSFET与传统驱动IC在RDSon上有两倍的差距，而单节锂离子电池的工作电压在3V-4V之间，仍然可以看出优化IC带来的显著优势。</p><p>以下是测试结果的比较图，左图为MOSFET（BSS138）的低压工作状态，其性能参数与一个标准电机驱动IC的功率级相近。右图为专用低压步进电机驱动IC的低压工作状态，该IC利用内部电路来增强MOSFET的导电性。</p><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/SElVhh63F6al0x><p><strong class=highlight-text toutiao-origin=strong>低压驱动一个直流电机</strong></p><p>低压驱动一个直流电机有没有挑战呢？答案是没有，低压并不成问题。哪怕在1.5V到6V这个范围，也有数百种电机可供选用。只要接入电源就能驱动电机。但只要电机是速度、方向或转矩控制的，CPU也是由同一电源供电，那么就必须限制电机电流。</p><p>以下示波器截图解释了这么做的原因：电机加速会产生明显的压降，改变电机方向时压降更大。压降会导致敏感的CPU低于工作电压。这个问题要怎么解决呢？一个电流限制驱动可以自动避免这种情况，将电机电流限制到所需的值。</p><p>第一张图展示了一个直流电机工作的开始到停止。电流的限制只靠电机阻值，电流超过1A。当电机反转时，峰值电流达到1.5A。第二张图展示了电流在智能驱动IC（TMC7300）限制下电机反转的情况.</p><p>左图展示了一个3V电机在3.3V供电下的起止过程。其中电机开始工作时的1A峰值电流（蓝线）导致了压降。限流的只有线圈电阻。右图展示了3V电机在3.3V供电时反转的情况。供电电流的峰值有电机驱动IC TMC7300限制在500mA。</p><img alt=移动与无线IoT设备的低压电机控制系统设计 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/SElVhhyC0PxAhA><p><strong class=highlight-text toutiao-origin=strong>低压驱动一个无刷直流电机</strong></p><p>在无人机等新型应用的推动下，低压高转矩的无刷直流电机有了更高的适用性。这些电机的线圈电阻非常低，因此第一个等式中的供电电压将变为一个与所需转速相关的函数。由于无刷电机无论何时都需要闭环换相，因此必须内置一个电流控制回路，而且其扩展性足以兼顾电源的最大电流输出。同样需要注意的是，驱动IC的RDSon对应用来说也很重要，和步进电机一样：尤其是在低压下工作时，因此应该使用低压下RDSon同样低的驱动IC，比如TMC6300。使用标准IC的话，RDSon很可能与线圈电阻处于同一数量级。</p><p><strong class=highlight-text toutiao-origin=strong>结论</strong></p><p>电源是每个手持设备的核心。低电池节数的需求为电机和运动控制的设计带来了新的挑战。为了优化效率、重量和和成本，最重要的一点就是明确这些挑战，用最佳的方案解决它们。</p><p>如本文中提到的，低压的挑战可以通过改进电源来解决，比如使用升压转换器或超级电容。但是这两种方法都有其弊端。此外，那些声称为低压电机的电机，并非都适合电池供电，因为它们有的是为市电下的低压工作而设计的。</p><p>为了推动电池供电设备的创新，专用的低压电机驱动IC与合适的电机搭配是最完美的方案。除了在便携应用中加入智能功率IC等成熟技术外，专用的电机驱动还能降低管理成本，改善用户体验。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'移动','无线','IoT'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>