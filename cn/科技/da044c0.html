<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ä½¿ç”¨äº†è¿™ä¹ˆä¹…çš„lombokï¼Œä½ çŸ¥é“å®ƒçš„åŸç†å— | æå®¢å¿«è¨Š</title><meta property="og:title" content="ä½¿ç”¨äº†è¿™ä¹ˆä¹…çš„lombokï¼Œä½ çŸ¥é“å®ƒçš„åŸç†å— - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/dcdf280face24dc1b73c4cab6b87c280"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/da044c0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/da044c0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/da044c0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/da044c0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/da044c0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/da044c0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/da044c0.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/da044c0.html><meta property="article:published_time" content="2020-10-29T20:50:13+08:00"><meta property="article:modified_time" content="2020-10-29T20:50:13+08:00"><meta name=Keywords content><meta name=description content="ä½¿ç”¨äº†è¿™ä¹ˆä¹…çš„lombokï¼Œä½ çŸ¥é“å®ƒçš„åŸç†å—"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/da044c0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ä½¿ç”¨äº†è¿™ä¹ˆä¹…çš„lombokï¼Œä½ çŸ¥é“å®ƒçš„åŸç†å—</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p>åœ¨æ—¥å¸¸çš„Javaå¼€å‘ä¸­ï¼Œæœ€å¸¸è§çš„å°±æ˜¯Javabeanå¯¹è±¡ï¼Œå¸¸å¸¸ä¸€ä¸ªå¯¹è±¡ä¸­æœ‰å¾ˆå¤šï¼Œç§æœ‰å±æ€§ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œsetterå’Œgetterçš„æ“ä½œï¼Œå¦‚ä¸‹</p><pre><code>public class Student {        private Integer id;        private String name;        private Integer age;        private Integer sex;        private String address;        private Float score;    public Integer getId() {        return id;    }    public void setId(Integer id) {        this.id = id;    }    public String getName() {        return name;    }    public void setName(String name) {        this.name = name;    }    public Integer getAge() {        return age;    }    public void setAge(Integer age) {        this.age = age;    }    public Integer getSex() {        return sex;    }    public void setSex(Integer sex) {        this.sex = sex;    }    public String getAddress() {        return address;    }    public void setAddress(String address) {        this.address = address;    }    public Float getScore() {        return score;    }    public void setScore(Float score) {        this.score = score;    }}</code></pre><p>è¿™æ ·çš„ä»£ç ï¼Œæ˜¾å¾—å¾ˆè‡ƒè‚¿ï¼Œå°¤å…¶æ˜¯å½“æˆ‘ä»¬å†æ·»åŠ å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹å±æ€§åç§°æ—¶ï¼Œéƒ½éœ€è¦æ‰‹åŠ¨æ›´æ”¹æˆ–æ–°å¢setterå’Œgetteræ–¹æ³•ï¼Œç»´æŠ¤èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œå› æ­¤å¾ˆå¤šå¼€å‘è€…åœ¨æ—¥å¸¸ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œéƒ½ä½¿ç”¨lombokå·¥å…·æ¥ç®€åŒ–ç›¸å…³ä»£ç ï¼Œä»£ç å¦‚ä¸‹</p><pre><code>@Datapublic class Student {    private Integer id;    private String name;    private Integer age;    private Integer sex;    private String address;    private Float score;}</code></pre><h1 class=pgc-h-arrow-right>lombokå·¥å…·å¸¸è§ä½¿ç”¨æ–¹æ³•</h1><p>ä»¥ideaä¸¾ä¾‹ï¼Œæˆ‘ä»¬ä½¿ç”¨lomboké¦–å…ˆéœ€è¦å®‰è£…lombokæ’ä»¶ï¼Œå¦‚ä¸‹å›¾</p><div class=pgc-img><img alt=ä½¿ç”¨äº†è¿™ä¹ˆä¹…çš„lombokï¼Œä½ çŸ¥é“å®ƒçš„åŸç†å— onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/dcdf280face24dc1b73c4cab6b87c280><p class=pgc-img-caption></p></div><p>ç„¶ååœ¨ä½¿ç”¨çš„é¡¹ç›®ä¸­å¼•å…¥ä¾èµ–ï¼ˆä»¥mavenä¸¾ä¾‹ï¼‰</p><pre><code>&lt;dependency&gt;    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;    &lt;artifactId&gt;lombok&lt;/artifactId&gt;    &lt;version&gt;1.18.12&lt;/version&gt;    &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;</code></pre><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨lombokå·¥å…·æä¾›çš„æ³¨è§£åŠŸèƒ½ï¼Œè¿›è¡Œå¼€å‘ã€‚ä¸‹é¢å¯¹å¸¸è§çš„lombokå·¥å…·æ³¨è§£è¿›è¡Œä»‹ç»ï¼š</p><pre><code>@Getter // ç”Ÿæˆgetteræ–¹æ³•@Setter // ç”Ÿæˆsetteræ–¹æ³•@ToString // è‡ªåŠ¨é‡å†™ toString() æ–¹æ³•ï¼Œä¼šå°å‡ºæ‰€æœ‰å˜é‡@EqualsAndHashCode // è‡ªåŠ¨ç”Ÿæˆequalså’Œhashcodeæ–¹æ³•@NoArgsConstructor // ç”Ÿæˆä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„æ„é€ å™¨@AllArgsConstructor // ç”Ÿæˆä¸€ä¸ªåŒ…å«æ‰€æœ‰å‚æ•°çš„æ„é€ å™¨@RequiredArgsConstructor // ç”Ÿæˆä¸€ä¸ªåŒ…å« "ç‰¹å®šå‚æ•°" çš„æ„é€ å™¨ï¼ˆç‰¹å®šå‚æ•°æŒ‡çš„æ˜¯é‚£äº›æœ‰åŠ ä¸Š final ä¿®é¥°è¯çš„å˜é‡ä»¬ï¼‰@Data //è¿™ä¸ªæ³¨è§£ï¼Œç­‰äºåŒæ—¶åŠ äº†@Getterã€@Setterã€@ToStringã€@EqualsAndHashCodeã€@RequiredArgsConstructoræ³¨è§£@Builder // è‡ªåŠ¨ç”Ÿæˆæµå¼ set å€¼å†™æ³•@Slf4j //è‡ªåŠ¨ç”Ÿæˆè¯¥ç±»çš„ log é™æ€å¸¸é‡ï¼Œç›´æ¥é€šè¿‡logå†™æ—¥</code></pre><p>å¦‚ä¸‹å›¾</p><div class=pgc-img><img alt=ä½¿ç”¨äº†è¿™ä¹ˆä¹…çš„lombokï¼Œä½ çŸ¥é“å®ƒçš„åŸç†å— onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e4c387f38d414053bf4c723e0dfcbdf2><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>ä¸ºä»€ä¹ˆä½¿ç”¨äº†æ³¨è§£å°±å¯ä»¥åšåˆ°è¿™äº›åŠŸèƒ½ï¼Ÿ</h1><p>å¯¹äºä»£ç å¢å¼ºï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§è¿è¡Œæ—¶å¢å¼ºï¼Œä¾‹å¦‚springçš„aopï¼Œåœ¨è¿è¡Œæ—¶ï¼Œå¯¹ä»£ç åšåŠŸèƒ½å¢å¼ºï¼›å¦ä¸€ç§æ˜¯ç¼–è¯‘å™¨å¢å¼ºï¼Œå³ç¼–è¯‘æ—¶ï¼Œé€šè¿‡å­—èŠ‚ç æŠ€æœ¯ï¼Œå°†ç›¸åº”çš„ä»£ç æ¤å…¥åˆ°classä¸­ï¼Œlombokå°±é‡‡ç”¨ä¸¤ç¼–è¯‘å™¨å¢å¼ºã€‚</p><p>ä¸Šé¢æˆ‘ä»¬å¯¹studentè¿™ä¸ªç±»ï¼ŒåŠ å…¥@Dataæ³¨è§£ï¼Œç¼–è¯‘åï¼Œæˆ‘ä»¬æŸ¥çœ‹ä¸‹classæ–‡ä»¶ï¼Œå‘ç°getteræ–¹æ³•ã€setteræ–¹æ³•ã€tostringæ–¹æ³•ç­‰éƒ½å†™äº†ç›¸å…³ä»£ç ï¼Œå¦‚ä¸‹å›¾</p><div class=pgc-img><img alt=ä½¿ç”¨äº†è¿™ä¹ˆä¹…çš„lombokï¼Œä½ çŸ¥é“å®ƒçš„åŸç†å— onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/8e15723b825e4e7cb347dc8b738f23df><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=ä½¿ç”¨äº†è¿™ä¹ˆä¹…çš„lombokï¼Œä½ çŸ¥é“å®ƒçš„åŸç†å— onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9a0fd9af56ab4690847fd27bbb14b3b8><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>åŸç†</h1><p>é’ˆå¯¹è¿è¡ŒæœŸå¢å¼ºï¼Œä¸€èˆ¬åŸºäºåŠ¨æ€ä»£ç†ã€åå°„æŠ€æœ¯å®ç°ï¼Œæ€§èƒ½ç›¸å¯¹æŸè€—å¤§ï¼›ç¼–è¯‘å™¨å¢å¼ºï¼Œä¸€èˆ¬åŸºäº<span style="color:#404040;--tt-darkmode-color: #A3A3A3">Annotation Processing Toolï¼ˆAPTæŠ€æœ¯åœ¨JDK8ä¸­å·²ç»å½»åº•åˆ é™¤ï¼‰ä»¥åŠPluggable Annotation Processing APIæŠ€æœ¯ã€‚</span></p><p><span style="color:#404040;--tt-darkmode-color: #A3A3A3">å› æ­¤æˆ‘ä»¬ä¸»è¦çœ‹çœ‹Pluggable Annotation Processing APIæŠ€æœ¯ï¼Œ</span>è‡ªä»Java 6èµ·ï¼Œjavacå°±æ”¯æŒâ€œJSR 269 Pluggable Annotation Processing APIâ€è§„èŒƒï¼Œåªè¦ç¨‹åºå®ç°äº†è¯¥APIï¼Œå°±èƒ½åœ¨javacè¿è¡Œçš„æ—¶å€™å¾—åˆ°è°ƒç”¨ã€‚</p><p>æ’ä»¶åŒ–æ³¨è§£å¤„ç†APIçš„ä½¿ç”¨æ­¥éª¤å¤§æ¦‚å¦‚ä¸‹ï¼š</p><pre><code>1ã€è‡ªå®šä¹‰ä¸€ä¸ªAnnotation Processorï¼Œéœ€è¦ç»§æ‰¿javax.annotation.processing.AbstractProcessorï¼Œå¹¶è¦†å†™processæ–¹æ³•ã€‚2ã€è‡ªå®šä¹‰ä¸€ä¸ªæ³¨è§£ï¼Œæ³¨è§£çš„å…ƒæ³¨è§£éœ€è¦æŒ‡å®š@Retention(RetentionPolicy.SOURCE)ã€‚3ã€éœ€è¦åœ¨å£°æ˜çš„è‡ªå®šä¹‰Annotation Processorä¸­ä½¿ç”¨javax.annotation.processing.SupportedAnnotationTypesæŒ‡å®šåœ¨ç¬¬2æ­¥åˆ›å»ºçš„æ³¨è§£ç±»å‹çš„åç§°(æ³¨æ„éœ€è¦å…¨ç±»åï¼Œ"åŒ…å.æ³¨è§£ç±»å‹åç§°"ï¼Œå¦åˆ™ä¼šä¸ç”Ÿæ•ˆ)ã€‚4ã€éœ€è¦åœ¨å£°æ˜çš„è‡ªå®šä¹‰Annotation Processorä¸­ä½¿ç”¨javax.annotation.processing.SupportedSourceVersionæŒ‡å®šç¼–è¯‘ç‰ˆæœ¬ã€‚5ã€å¯é€‰æ“ä½œï¼Œå¯ä»¥é€šåœ¨å£°æ˜çš„è‡ªå®šä¹‰Annotation Processorä¸­ä½¿ç”¨javax.annotation.processing.SupportedOptionsæŒ‡å®šç¼–è¯‘å‚æ•°ã€‚6ã€é€šè¿‡æœåŠ¡æ³¨å†ŒæŒ‡å®šï¼ŒMETA-INF/services/javax.annotation.processing.Processoræ–‡ä»¶ä¸­æ·»åŠ  å‰é¢å®šä¹‰AnnotationProcessor</code></pre><p>ä¸‹é¢æˆ‘ä»¬æŒ‰ç…§ä¸Šé¢æ­¥éª¤æ¥æ¼”ç¤ºä¸€ä¸‹ï¼š</p><p>è‡ªå®šä¹‰æ³¨è§£è§£æå™¨ï¼ˆæ­¤å¤„å¯ä»¥é€šè¿‡asmå­—èŠ‚ç æŠ€æœ¯å†™å…¥æ–°æ–¹æ³•ç­‰ï¼Œæœ¬æ–‡ä¸ä»‹ç»å­—èŠ‚ç æŠ€æœ¯ï¼Œæœ‰å…´è¶£çš„å¯ä»¥ç ”ç©¶ï¼‰</p><pre><code>@SupportedAnnotationTypes(value = {"com.example.demo.plugin.Demo"})@SupportedSourceVersion(value = SourceVersion.RELEASE_8)public class AnnotationProcessor extends AbstractProcessor {    @Override    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {        System.out.println("Log in AnnotationProcessor.process");        for (TypeElement typeElement : annotations) {            System.out.println(typeElement);        }        System.out.println(roundEnv);        return true;    }}</code></pre><p>è‡ªå®šä¹‰æ³¨è§£</p><pre><code>@Retention(RetentionPolicy.SOURCE)@Target(ElementType.TYPE)public @interface Demo {}</code></pre><p>ä½¿ç”¨spiæ³¨å…¥æ³¨è§£è§£æå™¨</p><div class=pgc-img><img alt=ä½¿ç”¨äº†è¿™ä¹ˆä¹…çš„lombokï¼Œä½ çŸ¥é“å®ƒçš„åŸç†å— onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fc897a2d98284f1da04bd3ce5cf9c7c9><p class=pgc-img-caption></p></div><p>ä½¿ç”¨æ³¨è§£</p><div class=pgc-img><img alt=ä½¿ç”¨äº†è¿™ä¹ˆä¹…çš„lombokï¼Œä½ çŸ¥é“å®ƒçš„åŸç†å— onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b21e9829546f45a48faba5ac45162af9><p class=pgc-img-caption></p></div><p>ç¼–å†™æµ‹è¯•ç”¨ä¾‹</p><pre><code>public class App {    public static void main( String[] args )    {        System.out.println( "Hello World!" );        Student student = new Student();    }}</code></pre><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼Œ<strong>å¯ä»¥çœ‹åˆ°</strong><strong>ç¼–è¯‘æœŸ</strong><strong>AnnotationProcessorç”Ÿæ•ˆäº†</strong></p><pre><code>Log in AnnotationProcessor.processcom.example.Demo[errorRaised=false, rootElements=[com.example.Demo, com.example.App, com.example.Student], processingOver=false]Log in AnnotationProcessor.process[errorRaised=false, rootElements=[], processingOver=true]</code></pre><p>æ³¨æ„ï¼šå¦‚æœå‡ºç°ä¸‹åˆ—æŠ¥é”™ï¼Œå¯ä»¥å°†AnnotationProcessorå…ˆç¼–è¯‘ï¼Œæˆ–è€…æ”¾åˆ°jarä¸­å³å¯ã€‚</p><pre><code>[ERROR] Bad service configuration file, or exception thrown whileconstructing Processor object: javax.annotation.processing.Processor: Provider com.example.demo.plugin.AnnotationProcessor not found</code></pre><p><strong>Lombokä¾¿æ˜¯é€šè¿‡Pluggable Annotation Processing APIæ¥å®ç°ä»£ç ç”Ÿæˆçš„ã€‚</strong></p><p>æ ¹æ®ä¸Šé¢çš„åŸç†ï¼Œæˆ‘ä»¬æŸ¥çœ‹ä¸‹lombokæºç ï¼Œå‘ç°çš„ç¡®å¦‚æ­¤</p><div class=pgc-img><img alt=ä½¿ç”¨äº†è¿™ä¹ˆä¹…çš„lombokï¼Œä½ çŸ¥é“å®ƒçš„åŸç†å— onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/d3df2e4c0a5b491194f61fd31088c710><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'è¿™ä¹ˆ','lombok','åŸç†'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>