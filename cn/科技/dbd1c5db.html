<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>四万字！谷歌地图的神奇历史全揭秘「上」 | 极客快訊</title><meta property="og:title" content="四万字！谷歌地图的神奇历史全揭秘「上」 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/371357a8a0084a3493b7cee1027eb628"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/dbd1c5db.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/dbd1c5db.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/dbd1c5db.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/dbd1c5db.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/dbd1c5db.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/dbd1c5db.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/dbd1c5db.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/dbd1c5db.html><meta property="article:published_time" content="2020-11-14T21:05:19+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:19+08:00"><meta name=Keywords content><meta name=description content="四万字！谷歌地图的神奇历史全揭秘「上」"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/dbd1c5db.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>四万字！谷歌地图的神奇历史全揭秘「上」</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p class=ql-align-justify>去年，我读完了Bill Kilday回忆Google Maps前世今生的《Never Lost Again》，觉得这本书相比各种“精益创业”的教材毫不逊色，而且更引人入胜。</p><p class=ql-align-justify>说它好看，主要是因为真实。</p><p class=ql-align-justify>一方面，我们在Google Maps漫长的发展史中，可以看到如今习以为常的各种特性的萌发、诞生、成型的过程：一键式地点搜索、多图层混合、代表地点的大头针，“我”在地图上是个小蓝点…… 深刻知道这些特性都不是石头缝里蹦出来的，创新通常是一个慢慢打磨而且充满意外的过程。</p><p class=ql-align-justify>另一方面，这本书对公司内部的政治斗争也毫不掩饰。原先的小创业团队Keyhole被Google收购之后，才推出了Google Maps，并在很长的时间里主导Google Maps的发展。然而，“自成一体”的Keyhole如何面对Google内部错综复杂的局势？如何与之前做地图的团队相处？如何面对其他人屡次争夺控制权的努力？这些故事，在书里都有直白的描写。</p><p class=ql-align-justify>正是因为这本书好看，又没有中文版，所以当时我写了一系列“Google Maps的故事”，许多读者反馈还算不错。今天，中信出版社已经出版了《Never Lost Again》的中文版《谷歌方法》。</p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/371357a8a0084a3493b7cee1027eb628><p class=pgc-img-caption></p></div><p class=ql-align-justify>不过也有读者反馈，“Google Maps的故事”系列文章太长，不方便阅读。所以，在得到中信出版社的许可之后，我把“Google Maps的故事”浓缩成完整的一篇，方便大家——还没读过的可以一次过瘾，已经读过的可以再次重温。当然，欢迎推荐给更多人阅读。</p><p class=ql-align-center><strong>初起</strong></p><p class=ql-align-justify>如今人人都熟悉电子地图，如果你在世界范围内旅游，Google Maps更是不可或缺。但是，如果要追溯Google Maps的起源，大概会让很多人意外，它不是来自地图，而是来自一种技术，Clipmapping。</p><p class=ql-align-justify>Clipmapping大约可以翻译为“片段映射”，是SGI（Specialized Graphical Innnovation）的“副产物”，这项技术能把不同分辨率的图像合并起来，在用户进行缩放操作时提供“无缝”的体验。如今我们在使用电子地图时，缩放操作看起来那么自然，那么符合直觉，背后依靠的就是Clipmapping。</p><p class=ql-align-justify>传统上，Clipmapping技术主要用于电子游戏，在游戏里经常需要用它来渲染大型地图。至于真实世界的地图，如果你还记得，“传统”上它们就是现定于几个固定比例尺，地图和无缝缩放似乎天然就是绝缘的。</p><p class=ql-align-justify>1999年，SGI的Michael Jones、Chris等人花了一个周末，研发出将Clipmapping应用到地图上的技术（他们称其为CTFLY，City-Fly），让用户能够自如缩放不同比例尺的地图。所有见过这个Demo的人都被震惊了，原来地图还可以做得这么炫！有人甚至莲想到了当时流行的电影《国家的敌人》。</p><p class=ql-align-justify>不过，使用Clipmapping来制作地图并不单纯为了炫酷，还有工程上的考虑：使用Clipmapping，用户不必下载所有的数据，就可以看到自己感兴趣的那部分内容，真正实现“弱水三千，只取一瓢”。对于地图这样涉及到海量数据的项目而言，这项技术再合适也没有了。要知道，那时候是1999年，采用了Clipmapping技术的CTFLY，也需要价值4000美元的Dell电脑才能跑起来。</p><p class=ql-align-justify>大概是CTFLY太好了，所有人都被炫酷界面所吸引，反而忘记了继续沿着“地图”的方向走下去。SGI也认为，这技术如此先进，用来做游戏能赚大笔的钱，为什么要去做地图那种没有回报的事情呢。不过，Michael等人业余仍然在花时间打磨CTFLY，让它越来越好，越来越完善，结果最终被董事会下了终止令：“它的确很酷，不过，别再做了”。</p><p class=ql-align-justify>不甘心的Michael等人提出，能不能把CTFLY拿出去成立一家新公司，自己拿投资，自己养活自己？董事会同意了。经过猎头的推荐，他们找到了John Hanke，双方对CTFLY都很满意，都希望在地图上做一番事业，于是Keyhole成立了。</p><p class=ql-align-justify>如果你是军迷，大概听说过美国军方的“锁眼”（Keyhole）侦查卫星。到上世纪90年代末，型号为KH-11的第五代“锁眼”，已经能够监视全球各热点地区，提供1.3米的分辨率了。</p><p class=ql-align-justify>所以，Keyhole的创始人John Hanke决定给自己的公司命名为Keyhole，但这其实这只是个权宜之计，因为John真正想要的是Earth.com。Earth.com这个域名，1992年被IBM的一名员工买下，他对John开价100万美元，对1999年的创业公司来说，这当然无法承受。所以，Keyhole这个名字就被一直用下来，到被Google收购为止。</p><p class=ql-align-justify>但是因为买不到Earth.com，John只能给自己的产品取名为EarthViewer。然而取名只是第一步，更关键的是，它的市场在哪里呢？</p><p class=ql-align-justify>当时市面上已经有垄断级别的数字地图厂商了，也就是Esri（读音ez-ree）。Esri创立于上世纪70年代，到2000年，它已经拥有几十万客户端，地图超过一百万张，营收达到3亿美元，是当之无愧的巨无霸。</p><p class=ql-align-justify>相比之下，Keyhole手里的Clipmapping技术只提供了更好的用户体验，却不是与Esri竞争的法宝。那么Keyhole要怎么办？经过仔细分析，Keyhole发现了Esri的几个缺点。</p><p class=ql-align-justify>第一个缺点是复杂，Esri是典型的行业软件，必须由取得GIS专业的学位专业人员经过培训才能操作，每遇到新客户，都必须由专家来定制解决方案；第二个缺点是数据不统一，用户经常要自己导入各种数据，并祈祷这些数据能正确读取，并且能彼此对齐；第三个缺点是速度很慢，如果没有预先把数据全部装载到本地硬盘，大范围的地图响应非常慢，几乎不堪使用。</p><p class=ql-align-justify>针对于此，Keyhole虽然很小，但仍然明确了与“巨无霸”Esri竞争的策略：EarthView必须做到普通人就能使用，必须提供完整统一的数据，必须提供流畅的操作体验。而Clipmapping技术让操作界面符合了普通人的直觉，同时，飞速发展的互联网让当然能够在中心节点保存海量数据，在客户端按需进行读取和计算，这样就同时保证了数据完整性和操作速度。</p><p class=ql-align-justify>John的眼光确实让人佩服，他的愿景相当明确，就是提供普通人能用的地图产品，所以他根本不畏惧客观条件的限制。按照他自己的说法：我们不是为现在的硬件做开发，而是朝着硬件发展的方向去开发。未来的设备计算能力会越来越强，还会有越来越多的设备提供GPS信息（虽然他当时没想到手机也会有GPS）……</p><p class=ql-align-justify>当然John也会客观考虑现实情况，早就有人向他建议采用BS架构而不是CS架构，方便用户使用。但是John考虑到当时的硬件处理能力和前端技术，没有采纳这个建议——要知道，当时连Firefox都没有出头，IE仍然占据着浏览器市场的最大份额，更重要的是，Ajax没诞生，流行更是六年之后的事情了。</p><p class=ql-align-justify>“船大难调头”的悲剧又一次上演，针对Esri的痛点推出的EarthViewer大获成功之后。之后，Esri也尝试做同样的产品，提供了同样炫酷的效果，一度把Keyhole的人吓了一跳。但他们迅速发现，Esri的产品在演示时竟然没有联网线，也没有接Wifi，瞬间Keyhole的家伙们就放心了：Esri的界面再炫酷，却无非是新瓶装旧酒。</p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/460d7374adea465c80517f9b8243bfef><p class=pgc-img-caption>EarthViewer早期版本</p></div><p class=ql-align-justify>就这样，Keyhole打开了销路，来自Sony的第一笔投资一直撑到了2002年左右，John必须去寻找新的投资商，他想到了Nvidia。当时Nvidia已经打败3dfx（一个古老的名字），成为图形加速卡的霸主，蓬勃发展的游戏行业对图形加速卡提出了旺盛的需求，Nvidia的市值高达100亿美元，有实力投资。更重要的是，John真正想做的是全3D的地图，他需要类似Nvidia这样厂商的支持。</p><p class=ql-align-justify>Keyhole给出的条件是：Keyhole为Nvidia独家定制优化版本，换取Nvidia的投资，并把EarthViewer客户端包含在Nvidia的显卡附赠光盘中。但是Nvidia的团队对此置之不理：和家大业大的Nvidia比起来，Keyhole实在太小了，根本不懂什么是规模。</p><p class=ql-align-justify>John没有放弃，他设法直接联系到了Nvidia的创始人黄仁勋。最终结果是，黄仁勋同意给Keyhole提供50万美元，定制Nvidia专属版本EarthViewer NV。John答应了，因为有了这50万美元，公司还可以多撑两三个月，而开发专门版本只需要几周的时间。</p><p class=ql-align-justify>在双方的会谈中，黄仁勋还提到，EarthViewer有没有考虑过，在展示街道级别的地图时，同时提供“实景”呢？John没有考虑过这个问题，“这相当于收录几十万英里长的实景图片”，他停了好一会儿才说，“做到这一点，大概要20年后”。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cca780b96aa34d8d8c0d143003eb18da><p class=pgc-img-caption>被Google收购之前，EarthViewer的NV定制版</p></div><p class=ql-align-justify>EarthViewer NV发售之后广受欢迎，Keyhole的人收到各种用户的留言，典型的是“天呐…天呐…老天呐…”。EarthViewer NV每份要卖79.95美元。按照之前的合同，Airphoto USA的老板Robertson可以分得20美元……</p><p class=ql-align-justify>在EarthViewer的早期，重要的客户是房地产经纪人。因为有了EarthView，它们不必再亲自跑来跑去看各种房子了，只要在软件上点几下，就可以看到房屋所在的地方，周围的环境。这种需求是存在的，但是，它还太小众。</p><p class=ql-align-justify>从2002年开始，EarthViewer开始挖掘更多行业的用户。它的销售Dave Lorenzini属于创业公司最喜欢的那种人：他们直到自己要干什么，管得越少，结果越好。Dave Lorenzini开拓了各行各业的用户，并努力达成了不少长期合同。不过，Lorenzini花了很长的时间和CNN谈，却一直没有好的成效，到2003年初仍然没有谈成，合同金额从40万美元大幅下降到7万5千美元，达成可能性也从九成下降到五成。</p><p class=ql-align-justify>当时Keyhole一年的收入大概是200万美元，但仍然不能覆盖支出，Nvidia的50万美元也已经用完。Keyhole当时接触的一家投资机构是In-Q-Tel，但这家机构的速度也很慢，迟迟不能决定。Keyhole的人不知道的是，In-Q-Tel是中情局的投资机构……</p><p class=ql-align-justify>2003年3月27日早上，CNN终于给Keyhole发来了合同，确认价格是7万5千美元。虽然金额很低，但John达成了一个了不起的成就：CNN同意在用到EarthViewer的时候，在电视画面上显示EarthView.com的URL。</p><p class=ql-align-justify>经历过那段历史的人都知道，2003年3月20日，以美国为首的联军开始攻打伊拉克，各大电视台也开始了连篇累牍的报道。最早，Keyhole的人以为，CNN只会用EarthViewer事先录制一些动画，作为报道的补充。不过这一次，CNN的记者Miles O'Brien突发奇想，他不再想用事先录制的动画，而打算在演播室打开EarthViewer软件，从地球全貌出发，逐步定位到巴格达，“亲临”战场。于是电视观众们看到的是这样的画面：</p><blockquote>现在是格林威治时间早上7:30分。我们通过在地球上空几百英里的卫星来看看巴格达，这些照片比人工报道更能说明情况。我们使用EarthViewer的软件来放大地面，看看轰炸的成果……</blockquote><p class=ql-align-justify>此时此刻，屏幕的右上角还醒目地飘着EarthView.com的文字链接……</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/8c1b87ab5b8947f6a21580f32f030e9a><p class=pgc-img-caption>当时的电视画面</p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/d1aede3e6c1e4bd6b630a224384a2dce><p class=pgc-img-caption>当时的电视画面</p></div><p class=ql-align-justify>大概程序员都不太喜欢看电视，所以Keyhole的人还在照常工作。然而那个下午，爆发的流量涌入EarthViewer的网站，瞬间打垮了所有的服务（值得庆幸的是，有一组独立的服务器专门为CNN服务，所以CNN不受影响）。大家正在面面相觑，忽然有人收到了朋友的短信：嘿，老兄，我在CNN上看到你们公司了！</p><p class=ql-align-justify>更奇妙的是，因为之前购买了Digital Globe的服务，EarthViewer可以不断获得最新的数据，所以在直播时，嘉宾可以方便地比较伊拉克的历史图片，发现最新的进展。在电视直播的历史上，在战争报道的历史上，从来都没有发生过这样的事情。</p><p class=ql-align-justify>甚至军方也受到了影响。美军内部从上到下，无数的指挥官都在问：CNN用的这个东西到底是什么？为什么我竟然还用不上这个该死的玩意儿？甚至有不少美军士兵自费订阅了EarthViewer，以便在执行任务时更有把握。</p><p class=ql-align-justify>后面的事情就不难理解了，《新闻周刊》、《时代》、《纽约时报》等媒体纷纷跟进报道EarthView，Keyhole瞬间名声大噪，各大新闻机构纷纷签约，久拖不决的In-Q-Tel的投资也接踵而至……</p><p class=ql-align-center><strong>入局</strong></p><p class=ql-align-justify>到了2004年，Keyhole正在和硅谷老牌投资机构Menlo Ventures接洽投资事宜。恰恰在这时候，Google内部发生了一件有趣的事情。</p><p class=ql-align-justify>那时候，Google的执行层正在一起开产品审核会，当次的主题是刚刚收购来的Picasa。谢尔盖·布林像往常一样，穿着人字拖从沙滩排球场走进来，打开他的笔记本加入会议。Picasa的产品经理正在做演示，忽然他发现布林的心思似乎全然不在自己的演示上。其他人也注意到了这点，所以Eric Shmidt（CEO）暂停了会议问布林：有什么重要的东西希望让大家知道吗？</p><p class=ql-align-justify>布林把投影仪接到自己的笔记本上，原来他正在看的是EarthViewer。许多人都是第一次见EarthViewer，但是他们都被这个软件吸引住了，希望布林输入自己的地址——“给我看看，给我看看”……。</p><p class=ql-align-justify>布林停下来，甚至都没考虑商业前景就直接说：“我们得把这公司买下来。”</p><p class=ql-align-justify>Google给Keyhole开出的价格是3000万美元。但这不是问题的关键，John最关心的是，Google之前没有地图业务，它买了Keyhole到底能做什么呢？他也担心自己的梦想，为整个地球建立高分辨率的3D模型，到底还有没有机会实现？于是，Google又组织了一次专门的会议。</p><p class=ql-align-justify>“你们如何看为整个地球制作3D模型这回事？” John问。</p><p class=ql-align-justify>“我们觉得，这将是Google的核心”，拉里·佩奇回答说，“围绕地图和地理信息，有太多种信息可以组织起来了。” Eric Shmidt补充说：“我担保，Google会给你们提供足够的图像数据，比你们之前处理的所有图像还要多。”</p><p class=ql-align-justify>有创始人和CEO的保证还不够放心，为了拿出足够的诚意敲定这次收购，当时还没有完成IPO的Google甚至“破例”给John看了过去三年的财务数据。据John回忆说：老天，我从没想过私营公司有这么赚钱！</p><p class=ql-align-justify>第二天，John给Menlo Ventures的人打了个艰难的电话：“我们不签这份合同了，我们换了个方向”。</p><p class=ql-align-justify>另一方面，也正是因为John Hanke的坚持，Google没有办法对Keyhole的团队“挑肥拣瘦”，把29个人全收了进来。不过，每个人都需要参加面试。名曰“面试”，其实只是确定级别。</p><p class=ql-align-justify>Never Lost Again的作者Bill Kilday也参与了面试，面试他的是Google的老员工、产品经理Bret Taylor。面试结束的时候，Bret问他：“进Google之后，你是想做PM（Product Manager，产品经理）还是PMM（Product Marketing Manager，产品营销经理）？”</p><p class=ql-align-justify>因为完全不了解PM和PMM的区别，Bill只能答：“我之前两个都做”。Bret说：“两个都做？我没法断定能不能身兼两职，但我个人觉得这不太可能。当然，你可以试试看。”</p><p class=ql-align-justify>Bill一开始并没有多想，但是John Hanke听说之后立刻警觉起来：“提防着Bret。我知道高层有个人对地图很感兴趣，而Bret是她力捧的家伙。我可不想我们所有人都走Bret这条汇报线”。John考虑的是，既然还有其他人希望染指地图，Keyhole不能把自己的家底全部暴露出去。最后John建议Bill不要走技术线，而是“挂羊头，卖狗肉”，这样名义上是PMM，不在技术线的汇报体系内，其实仍然身兼PM和PMM两份工作。</p><p class=ql-align-justify>除了需要“小心面对”的谈话，Keyhole加入Google也有很多新鲜的经历，让他们印象深刻。</p><p class=ql-align-justify>在加入Google的第一天，他们可以去公司的配件站，自由地挑选自己想要的IT设备。如果希望在家也能接入办公网络，可以要求IT支持人员提供专门的路由器，而且Google会为员工支付家庭上网费用。此外，Google提供的园区班车都自带了Wi-Fi——想一想，那可是2004年。</p><p class=ql-align-justify>在Keyhole团队加入之后，Google组织了了一次见面会，让大家畅所欲言，布林和佩奇也参加了。不过，这次会议更像是让布林和佩奇连珠炮一样发问：</p><blockquote>你们的数据里有大比例达到了米级别分辨率？数据源从哪里来？卫星是怎么回事？这些卫星是同步地球卫星吗？感光元件有多大？每个照片文件有多大？卫星的飞行速度有多快？多久可以更新一次卫星照片？……</blockquote><p class=ql-align-justify>布林关心的另一个问题是：“如果要把整个地球表面都用米级别分辨率的照片存下来，大概要多少空间？”</p><p class=ql-align-justify>虽然Keyhole的人之前一直在做这方面的工作，但他们从来也没想过这个问题。于是，负责存储的工程师Michael Jones回答：大概需要1 PB。——“我想你错了，应该是5 TB”，布林给出了他的答案。接着这两个人就开始纠缠起这个数字，Michael邀请布林到外面的白板上当场演算，于是两人开始朝外走。这时候，Bill赶上去抛出了自己的问题。</p><blockquote>“营收1000万美元，还是发展1000万用户，你们更喜欢哪个目标？”“我听不懂你在讲什么。”“对Keyhole团队来讲，一年之后，你希望我们把营收做到1000万美元，还是发展出1000万用户？”“我想，你们这帮家伙应该考虑比这大得多的问题。”</blockquote><p class=ql-align-justify>说完，布林和佩奇就离开了。</p><p class=ql-align-justify>过了几个月，Google Maps的开发途中，Keyhole的人给布林和佩奇做了次产品展示。两人的反应还是一样的，他们想要的是一个大得多的目标。</p><blockquote>“怎么才这么点数据？”“嫌少吗？我们已经花了300万美元买地图了，要知道，Keyhole过去的四年总共才买了100万美元的地图。”“这是Digital Globe的全部数据吗？”“这是我们需要的全部数据。”“整个地图数据库有多大？”“你的意思是，整个地球的地图数据吗？要知道，撒哈拉沙漠、无人海岛、北冰洋、南极洲都包含在里面，那些数据对我们没有用。”“你为什么不把整个数据库买下来？”</blockquote><p class=ql-align-justify>于是，购买地图的预算从之前的300万美元提高到8000万美元。“看来，我们确实应该考虑大得多的问题了”，John说。</p><p class=ql-align-justify>那个时候，Keyhole团队工作拆分成两部分。一部分是自留地，也就是之前的EarthViewer，原有的销售和服务都应当保留下来；一部分是新的工作，也就是开发Google Maps，基于Web的、全免费的地图产品。</p><p class=ql-align-justify>按照Google的要求，被收购之后，Keyhole应当给EarthViewer加上Powered by Google的标识。常见的Google标识包括五个颜色不同的字母o，不过Bill希望把其中蓝色的那个改为地球，突出Keyhole的特性。在往常，这非常容易，Keyhole自己的网站管理员就可以完成，但是在Google，即便这样小的修改也必须一个人点头，这个人就是Marissa Mayer。</p><p class=ql-align-justify>今天大家都很熟悉Marissa Mayer，她就是后来报道里屡次出现的著名的“梅姐”。但是，刚加入Google的Keyhole团队可不知道梅姐是何方神圣。弄了半天才清楚，她是Google的第20号员工，也是第1名女工程师，掌管着所有的搜索。“可以说，她是这个行业里权力最大的女人，Google超过一半的人汇报给她。”</p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7281fabcbba543eaa9a8692915527c60><p class=pgc-img-caption>Marrisa Mayer 图片来源：维基百科</p></div><p class=ql-align-justify>为了对Google标识做一点小改动，几周里Bill发了数次邮件，打了若干电话，始终得不到梅姐的回应。其它的所有环节都搞定了，但所有人都说“没有梅姐点头，我们不敢确认”。眼看上线日期一天天临近，Bill不得不直接冲过去梅姐的办公室，当面要答案。他也确实要到了答案：任何改动，都必须在梅姐主持的每周UI会议上，等她确认才能放行。</p><p class=ql-align-justify>终于轮到上会，Bill在耐心等待了45分钟之后，终于有机会花1分钟介绍他要做的改动。梅姐的评价也只有一句话：“嗯，这个挺有意思，你们可以放心去做。”</p><p class=ql-align-justify>梅姐的想法一直很简单：所有的搜索都归我管，地图也离不开搜索，所以同样应当向我汇报。不过，John早就意识到了这点，所以非常警觉。</p><p class=ql-align-justify>Keyhole的团队也发现，之前以为的“Google没有地图业务”其实是错的，Google已经在地图上做了尝试，只是外人不知道而已。</p><p class=ql-align-justify>Google之前的已经收购了一家叫Where2 Tech的公司，主要开发人员是丹麦的两兄弟：Jens Rasmussen和Lars Rasmussen。两兄弟一直在辛苦创业，但融资总是不太顺利。2001年以后，.com泡沫破灭，Where2 Tech公司基本要玩完了。本来他们在接洽红杉资本，但是在Yahoo更新了Yahoo地图，并且把Yahoo黄页和地图打通之后，红杉就撤退了。不过，红杉牵线让他们认识了Google的拉里·佩奇。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2dbedcc4be3a4071823904892ccb6ddb><p class=pgc-img-caption>Lars Rasmussen。来源：Recode</p></div><p class=ql-align-justify>佩奇对这个团队很感兴趣，但也给他们提出了要求。Where2的产品和当时的所有地图产品一样，都是桌面客户端。但是佩奇认为，Web是未来的方向，地图应该运行在浏览器里，通过互联网获取后台的数据。当时Google内部还有一个团队也在研究这种“不用刷新页面就可以获取数据”的技术，那就是Gmail。不过Gmail团队和Where2团队并不互相认识，但是最终他们的技术方案是一致的，那就是今天随处可见的Ajax。</p><p class=ql-align-justify>当时Lars和Jens已经在破产边缘挣扎，因为签证问题，他们已经把办公室从美国搬到了澳大利亚，团队也只剩下四个人。与佩奇聊过之后他们发现，更改技术方案，投入Google的怀抱，是无法拒绝的选择。他们没日没夜地干了三个礼拜，拿出了一版Web地图，获得了加入Google的门票。</p><p class=ql-align-justify>与Keyhole相比，Where2的团队在前端技术上有积累，但他们一直没有自己的地图数据。所以合并之后，Keyhole的团队也需要兵分两路，一路维护Keyhole原有的业务，一路与Google已有的地图团队合并，把Keyhole之前的数据导入Google，把Google“自己的”地图做出来。</p><p class=ql-align-justify>看起来，无论是对Keyhole来说，还是对于Where2 Tech来说，Google Maps都是全新的产品，又都与他们之前的工作有关联。那么，到底谁上谁的船？谁来领导整个团队？</p><p class=ql-align-justify>Where2 Tech之前是汇报给Bret Taylor的，Bret正是梅姐的爱将。无论是Bret，还是梅姐，对地图业务都有很多的想法，也对未来充满了期待。不过无论谁来领导，这支团队的主力都是Keyhole的人。Keyhole的人与Google不同，他们并非个个都是名校计算机专业毕业，也不是人人都聪明绝顶，但Keyhole的团队战斗力不容忽视。</p><p class=ql-align-justify>最终，Google给出了方案：John的头衔是“Keyhole总经理”，原来的Keyhole团队仍然汇报给John，John汇报给Google的产品战略副总裁Jonathan Rosenberg。同时，Bret和Google原来的地图团队仍然汇报给梅姐。这或许不是最好的方案，但至少是个清楚的方案，避免了不必要的纠缠。</p><p class=ql-align-justify>汇报的关系清楚了，工作关系却没那么简单。Google给Keyhole的团队在41号楼（Building 41）分配了一个大办公室，Keyhole原来的29人，加上Google之前在做地图的Where2 Tech的4个人，合在一起办公。之前的4个家伙已经很适应他们的工作了，现在却要起身，腾出位子，给29个新来的家伙，这种感觉可想而知。更要命的是，没有人知道也没有人说明，大家在一起应该如何分工，怎样配合。最终的局面仍然有些诡异，之前Where2的4个人由Bret Talyor负责，他坐在桌子的这头。Keyhole新来的29个人由John带领，他坐在桌子的另一头。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/576d08fa4040461599a51b36b75a606a><p class=pgc-img-caption>山景城Google总部的Building 41</p></div><p class=ql-align-justify>2004年12月7日的TGIF之后（TGIF是Google固定的周末活动，Thank God it's Friday，员工可以聚在一起放松畅聊），某位Google早期的高层（书里没有透露名字）把Bill叫到阳台上。这位高层人士清楚Bill“身兼两职”的状况，他对Bill说：</p><blockquote>你们得特别小心那女人，别被她蒙蔽了。如果John Hanke不够谨慎，如果他不多留个心眼，你们都会被她拿下。</blockquote><p class=ql-align-justify>自始至终，这位高层没有说“那女人”是谁。在黯淡的光线下，他的妻子在旁边认真点了点头。</p><p class=ql-align-justify>当然，不管与谁斗，重要的问题是分清楚“谁是我们的朋友，谁是我们的敌人”，Keyhole也不例外。要想在Google生存下来，他们需要与更多团队合作，结识更多的朋友，这其中就包括Where2。</p><p class=ql-align-justify>Where2比Keyhole更早加入Google，但一直没有最终成果产出。与Keyhole相比，Where2但更擅长前端的工作，比如今天地图上都默认采用大头针图标来标注，就是Where2的Jens提出来的，而没有照抄Yahoo地图的红五角星。Jens认为，大头针既可以精确指示位置，又不会造成遮挡。Jens特别注重细节，如果你仔细看Google地图就会发现，大头针的阴影是可以重叠的，重叠部分颜色更深——不过他也笑着承认“现实中可不是这样，一束光不可能被挡住两次”。</p><p class=ql-align-justify>Where2的问题在于，他们一直没有足够多的地图数据。对2004年的Where2来说，他们“守株待兔”等来了好时候。而且，Where2虽然没有数据，后端服务的战斗力却并不弱，即便是Keyhole最优秀的工程师Chikai，也低估了他们。</p><p class=ql-align-justify>Keyhole的地图后台一直是他们最优秀的工程师Chikai维护的，Chikai跟Where2的工程师打赌，把Keyhole的数据全部导入，怎么着也得超过一周的时间。但是Where2的人只花了不到24小时就搞定了——要知道，这帮家伙早就在“等米下锅”了。结果Chikai只能认输，自掏腰包请Where2的人吃了顿大餐。</p><p class=ql-align-justify>除了Where2和Keyhole，Google还为Google Maps配备了第三股力量，这就是Dan Egnor的团队提供的地理搜索。Dan Egnor是2002年Google编程大赛的冠军，他的作品是一个爬虫程序，四处抓取地址信息，按地理结构进行结构化。后来Dan Egnor加入了Google，把之前的作品做成了一个项目：Google Search by Location（后来这个项目改名叫Google Local，归属到了梅姐——毕竟，这还是搜索）。</p><p class=ql-align-justify>在Google Search by Location诞生之前，地址数据库的维护是相当麻烦的，需要依赖专门的公司去收集、甄别、标注、录入。即便某家公司在网站上注明自己的地址是“xx州xx市xx街xx号”，计算机也无法识别，无法和地理位置关联起来。依靠Google Search by Location，“xx州xx市xx街xx号”就成了有结构的，可以和地理位置关联的数据，甚至你输入一个邮政编码，也可以直接联系到某个地理位置。</p><p class=ql-align-justify>为什么Google会做这个项目？在2002年左右，Google发现，所有的搜索请求中大概四分之一是与位置有关的。既然如此，为什么花点力气把地理信息的搜索做得更好点？信息的解析和结构化是第一步，怎样构筑地理数据库，让结构化的信息直接和地理位置关联起来是下一步。从这个意义上说，Keyhole和Where2 Tech被Google看中，几乎是必然的。</p><p class=ql-align-justify>有了Google Search by Location，Google Maps的使用体验就远远超过了Keyhole自己的EarthViewer，也超过同样提供Web地图服务的Yahoo和MapQuest。比如某个地址查询“Target near Sunnyvale, CA”，在MapQuest中，必须在“州”这栏输入CA，在“城市”这栏输入Sunnyvale，然后从下拉框选择查找的类型是Business，最后输入Target，才可以找到结果。</p><p class=ql-align-justify>不幸的是，在没有地图配合的年代，Search by Location基本没什么价值。据Taylor回忆，当时一整天也难得有一个访问。但是有了Google Maps，Search by Location的威力就爆发出来了。Google Maps甫一诞生，使用感受就远远超过了Yahoo Maps和MapQuest，尽管它们出现得更早。</p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fbb7366d7a854d2a82acae06ecea49cc><p class=pgc-img-caption>EarthViewer和Keyhole 2 Pro（专业版）的操作界面，请注意右下角的搜索栏</p></div><p class=ql-align-justify>所以，Google Maps总共包含了三支团队：汇报给John的Keyhole，汇报给Bret（Bret再汇报给梅姐）的Where2，汇报给梅姐的Google Local。梅姐希望John汇报给他，John不愿意这样，所以两人的关系比较紧张。实际上，这种紧张贯穿了Keyhole团队在Google的始终，最终他们选择离开也和梅姐有关。</p><p class=ql-align-justify>但是，大家又都保持了足够的职业素养，关系紧张归关系紧张，项目仍然在紧锣密鼓地推进。从2004年10月Keyhole被收购，到2005年2月Google Maps发布，前后不过四个月的时间，没有足够高的合作效率是绝对做不到这点的。</p><p class=ql-align-justify>按照计划，Google Maps应当在2005年2月8日早上9点发布。它能不能成功，谁也没有把握。毕竟从来没有人在互联网上做过地图，而且，当时也只能提供美国的地图而已。</p><p class=ql-align-justify>为了保险起见，2月7日晚上6点50，工程师们已经把Google Maps发上线了，并且把maps.google.com指向了新发布的服务。当时Google的服务端只能整点发版（火车模型），这样就可以赶上当晚7点的发布。虽然此时还没有发布任何消息，但如果用户输入maps.google.com，是可以正常使用的。这一次，工程师们寄希望于“没有人会发现这个域名”。</p><p class=ql-align-justify>2月8日早上7:45，Slashdot上已经有人在讨论新出现的Google Maps了，原来有Google的拥趸偶然发现了这个域名，并发到了Slashdot上。于是流量开始涨起来，这让运维和后端工程师们感到紧张——当时Google总共有40万台服务器，工程师们立刻开始想办法，让负载尽量均匀地分布到各台服务器上。</p><p class=ql-align-justify>所幸没有悲剧发生，Google Maps的发布大获成功，用户大呼从来没有见过这么炫酷的产品，大家热衷于在地图上做各种新奇的探索。上线第一天，Google Maps就获得了1000万PV，在Google全站的流量中，Google Maps占据了显著的比重。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f8c944fb918d496ba7bb9f48e1f7c2b1><p class=pgc-img-caption>第一版Google Maps只有美国和毗邻的加拿大、墨西哥，其它地方都是海洋</p></div><p class=ql-align-justify>不过，抱怨也随之而来。Google Maps最早只提供了美国的地图，其他国家业务的负责人纷纷找到Google Maps的团队，希望能在自己负责的国家提供地图服务。他们甚至积极搜罗了当地国家的地图提供商信息，让Google Maps团队接洽，以便尽快在Google Maps中看到这个国家。</p><p class=ql-align-justify>对Google Maps的团队来说，新增国家固然能带来商业上的收益，却没有什么技术上的挑战，他们只需要导入对应国家的数据即可。2005年7月，日本地图上线，2005年8月，英国地图上线，然后是爱尔兰、法国…… Google Maps的人（根据收益情况）给所有国家做了个排序，照着它在全世界招募商务拓展人员。</p><p class=ql-align-justify>对于Google Maps的服务端开发人员来说，下面要做的就是为Google Maps提供卫星地图，让用户可以混合查看。之前为了赶发布周期，第一版的Google Maps没有提供卫星地图，现在，工程师们要加上它了。因为之前老大们要求买下“覆盖整个地球的地图数据库”，几千万美元花出去之后，办公室里堆满了硬盘，工程师们夜以继日处理卫星地图数据。Google甚至专门从办公室拉了一根光纤直通机房，提高传输速度。</p><p class=ql-align-justify>终于， 在2005年4月4日，提供卫星地图查看模式的Google Maps发布了，它的项目名字是Google Maps with Satellite。尽管梅姐和John对这个名字各有想法，但是梅姐选择了让John来决定，而Satellite这个名字也确实符合大多数人的预期。</p><p class=ql-align-justify>一周以后，梅姐给Google员工群发了一封邮件，宣布Google Maps是Google既Gmail之后又一个大获成功的产品，并特别表扬了Chikai，邀请他到自己的办公室，给了一份特别的大奖。这份奖励是什么，其他人谁也不知道。</p><p class=ql-align-justify>再过一个月，梅姐又给Google员工群发了一封邮件，宣布因为Google Maps大受欢迎，提供地图服务的Google Maps团队将和提供本地搜索的Google Local团队合并，新团队的名字是“Google Local”。这封邮件引起了很多人的不满，毕竟Maps是约定俗成的公认的名字，而Local往往让人不知所云。不过，支持Google Local的人也有理由，Google Maps发布之后，广告生意接踵而来，地图相关的广告叫local ad，与Google大获成功的AdWords一脉相承。</p><p class=ql-align-justify>但是大家都知道，真正的问题不是名字，真正的问题是，梅姐始终没有放弃整体操盘Google Maps的念头。之前，Google主管工程的高级副总裁Wayne Rosing是支持Keyhole的，所以梅姐还有所顾忌。但是2005年，Rosing已经套现离开，Keyhole再没有了靠山。到底是坚守Google Maps，还是易帜Google Local？这场仗，John必须自己来面对。</p><p class=ql-align-justify>John告诉他的同伴们：“你们都靠边站，我来处理这件事”。</p><p class=ql-align-center><strong>机缘</strong></p><p class=ql-align-justify>Jonathan Rosenberg，1961年出生，在芝加哥大学读了MBA，在克莱蒙特·麦肯纳学院（美国顶级私立文理学院）获得了艺术学士学位。2002年，他加入了Google，依靠自己不凡的洞察力和前瞻眼光，主导了搜索、广告、Gmail等多个项目的设计和开发工作。</p><p class=ql-align-justify>2005年的一天，Rosenberg和同事打篮球。在球赛开始之前他说：</p><blockquote>新发布的Google Maps很棒，不过还可以做得更好。我真正想要的是这样的地图：上面可以一眼看到本周末硅谷在售的所有房产，这些数据可以直接发到我的某个设备，然后我开车跟着导航直接去看房就好了。</blockquote><p class=ql-align-justify>那是在2005年，iPhone还有2年才问世，Rosenberg为什么会这么说呢？因为他看到了几个新玩意儿。</p><p class=ql-align-justify>2004年末，梦工厂的动画师Paul Rademacher想在湾区租一套价格合适的房子。他在Craigslist上搜了几个月，在地图上标出地点和价格，等周末再去现场看。他花了许多个周末，用了许多张地图，一直没有找到合适的房子。有一天他忽然想：</p><blockquote>这办法太蠢了。应该有统一的地图，所有待租的房子都标在上面，我可以直接按地图来搜索，一目了然。</blockquote><p class=ql-align-justify>2005年发布的Google Maps让Rademacher眼前一亮：这就是我想要的！于是他破解了Google Maps的前端代码，刨出了地图数据，再把Craigslist上的房产信息抓过来，按对应地理位置标注在地图上。</p><p class=ql-align-justify>在Google Maps发布之后三天，housingmaps.com就上线了。显然，Rademacher不过是给Google Maps包了层皮，把房产信息都标上。从技术上说，这只是个小创意，但从用途上说，这是四两拨千斤的——从来没有人想过可以有这样直观的方式来维护和查看房产信息。当天晚上，湾区已经有几千人在使用这个网站查看房产信息。Google也注意到了这个网站，在内部的邮件提及了它。</p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fe294be42e744661898d0a43ff8a3a3d><p class=pgc-img-caption>housingmap.com的界面。来源：housingmap.com</p></div><p class=ql-align-justify>第二天，Google Maps的人又收到一封邮件。原来有个叫Adrian Holovaty的家伙，是个程序员兼音乐家，同样破解了Google Maps的代码，配合政府公开的犯罪记录，做出了另一个版本的Google Maps：直接在地图上标出芝加哥地区的犯罪记录分布。这个网站叫Chicagocrim.org。不用说，它也飞速传播开来，并连带出现了大量类似的项目。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6492f20ddd334400a03ba23c05949151><p class=pgc-img-caption>chicagocrime.org的界面。来源：chicagocrime.org</p></div><p class=ql-align-justify>“这样下去可不行！” Google Maps团队的Bret和Jim迅速意识到这点。Google Maps的前端代码被破解，会对Google Maps的基础设施和数据造成巨大威胁，而且想要破解的人还在如潮水般涌现。而在Google Maps，他们完全不知道这些人是谁，从哪里来，想干什么。</p><p class=ql-align-justify>对这种问题，Bret和Jim不是一味封堵，而是想法疏浚，所以他们一边修复系统的漏洞，一边迅速拟定了官方的Google Maps服务，让开发者可以按照预定的方式方便地使用Google Maps，同时有细致的文档可以参考。要使用此服务，开发者必须注册账号，签署协议，才能拿到访问令牌，这样就限制了恶意的滥用。</p><p class=ql-align-justify>之前Rosenberg之所以会提那种要求，正是受到了这两个网站的启发。不过Rosenberg显然看得更远，在他的愿景里，地图不仅应该能标注，还应该可以和其它数据源交互，和其它设备交互。于是，2005年6月，Google 正式发布了整套的Maps API。</p><p class=ql-align-justify>让Keyhole的人惊奇的是，Google Maps API竟然是免费的。要知道，Keyhole可是靠卖软件授权活下来的。如今Google Maps广受欢迎，基于它二次开发的程序和网站如雨后春笋一般涌现，怎么能免费呢？哪怕在注册协议里要求这些二次开发的网站必须把数据共享给Google也可以。按照当时的服务协议，Google是在无偿地、单向地向大家提供数据。大好的商业机会，就这样被浪费了。</p><p class=ql-align-justify>但是在这个问题上，佩奇、布林、梅姐、Bret的意见都保持了一致。在Keyhole的人看来，Google总是保持着一种“自由至上”的风气，故而Bret根本没想过让那些开发者跟Google共享数据。所以，即便Yelp、Zillow、Trulia、Hotels.com等等大受欢迎的网站，甚至包括后来流行的的Uber、Lyft都重度依赖Google Maps，但Google并没有要求瓜分它们的利润。</p><blockquote>因为，这不符合Google的精神。</blockquote><p class=ql-align-justify>今天看来，符合Google精神的，免费的Google Maps API，其实是Google早期联系开发者、营造社群影响力的有力工具。毕竟，当时Google还只有搜索和Gmail，虽然口碑都不错，但都不太可能通过API玩出花来。但是如今大红大紫的Mashup（服务混搭），理念上其实是和早年Google Maps二次开发的那些网站共通的。</p><p class=ql-align-justify>当然对Google Maps来说，意外可以来自Mashup这样的使用方式，也可以来自竞争对手，有一些重要的机会，恰恰是在竞争中出现的。</p><p class=ql-align-justify>2004年Google Maps发布之后，地图服务迅速变得热门起来。微软、雅虎都在摩拳擦掌，准备杀入这一领域。</p><p class=ql-align-justify>2005年3月28日，《华尔街日报》发了一篇文章：在地图上，微软打算同场竞技。比尔·盖茨隐居了7天，读完了300页的报告，思考微软的未来。盖茨选出了未来的重点项目：Virtual Earth（虚拟地球）。按照这个项目的说法，未来的地图服务，会提供出行指引、交通路况、实时街景，还有其它很多信息。“我很看好它的前景”，盖茨如是说。</p><p class=ql-align-justify>按照报道的说法，微软上下都很重视这个项目，包括研究部门在内的多个团队已经参与其中。</p><p class=ql-align-justify>这份报道让John异常紧张。因为之前，Keyhole的团队和微软打过交道。微软管理层的Vic Gundotra在微软内部演示过Keyhole的EarthViewer，甚至在微软开发者活动上做过推销。Keyhole之前还派人去过微软总部，为微软的操作系统专门优化EarthViewer，所以微软的人对EarthViewer也很熟悉。</p><p class=ql-align-justify>又过了两周，在华尔街日报的Walt Mossberg组织的All Things Digital的会议上，盖茨演示了Virtual Earth的Demo。可是到了交流环节，前三个问题都是关于Google Maps的，只字不提Virtual Earth。这让盖茨异常恼火，他当场发作了：</p><blockquote>对对对，Google Maps是完美无缺，放心让这泡沫继续膨胀吧。Google的人什么都能干，所以别问Google的股价是多少，你们只管买就好了。</blockquote><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a1e03cc2bd7d4063b99b85219d5c080c><p class=pgc-img-caption>Virtual Earth的界面。来源：Microsoft</p></div><p class=ql-align-justify>而在Google内部，大家已经可以感受到压力。标着“加快”、“紧急”甚至是“全力配合”的邮件一封又一封地出现，预算已经很充足了，现在又加倍。人员飞速增长，Keyhole刚加入时只有29个人，6个月过去已经扩张到200人，新增人头的要求仍然获得了批准。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/56f2a7b2e0bd4c1eaeea86043f0a00b4><p class=pgc-img-caption>Google Earth的界面。来源：Google</p></div><p class=ql-align-justify>之前，John Hanke一直处在比较尴尬的地位。名义上，他是Keyhole的总经理。但是Google Maps包含三个团队：Keyhole、Google Local、Where2 Tech。其中，Keyhole汇报给John，Google Local汇报给梅姐（Marissa Mayer），Where2 Tech汇报给Bret（Bret汇报给梅姐）。虽然汇报线很清楚，但合作起来总有些别扭，梅姐也一直没有放弃全面掌控地图团队的想法。</p><p class=ql-align-justify>现在，John和Keyhole团队看到了一个机会。</p><p class=ql-align-justify>于是，他们根据自己在地图行业的经验和思考，写了若干邮件给布林、佩奇、施密特，阐述Google Maps的战略和战术。同时，John根据对微软的报道，推断出微软和航空图片和卫星图片提供商之间的合作方式和价格，并评估了这些服务商的能力。按照John拟定的计划，Google应当加速发布自己版本的EarthViewer软件，Keyhole、Google Local、Where2 Tech三个团队必须合为一体，同时必须花大力气充实自己的数据，他同时也列出了重要的地图服务提供商的名单。</p><p class=ql-align-justify>到2005年夏天，所有的Google员工都收到了一封邮件：Google要新成立一条产品线Google Geo，之前的Keyhole, Google Local, Where2 Tech三个团队悉数并入。John成为这条新产品线的老大，之前Keyhole的工程副总裁Brian McClendon，成了所有技术人员的汇报对象。John的汇报对象是Google的产品战略副总裁Jonathan Rosenberg。</p><p class=ql-align-justify>之前一直困扰John的他和梅姐的关系问题，现在已经彻底不存在了，梅姐已经出局，纵然心有不甘，也无话可说。</p><p class=ql-align-justify>按照John的说法，在这个决策过程中，Google负责商务拓展的副总裁Megan Smith（现任美国政府的CTO）为John出了很多力。要知道，当年Google收购Keyhole就是Megan出面来谈的，在Google IPO之前，破例提前给John看Google财务状况的人也是Megan。在成立Google Geo的决定过程中，负责人的另一个人选是Bret。按照John的说法：“我觉得Bret当然是有能力的，但是还太嫩，大概就是这样。不管怎么说吧，最后，管理层决定让我来坐这个位子。”</p><p class=ql-align-justify>不是所有人都欢迎这个决定。Bret、Jens、Lars，还有很多人，都不赞同这样，他们都认为是自己创建了Google Maps。尤其是Where2 Tech，他们两年前才凑齐四个人，过了不久，其中三个选择回到澳大利亚，虽然仍然在Google，但已经脱离Google Maps。</p><p class=ql-align-justify>他们的离开固然可惜，但已经不那么要紧了，因为Keyhole的人已经看到了Google Maps的局限，早就在谋划推出全新的产品了。</p><p class=ql-align-justify>相比浏览器里的地图，客户端软件至少有几个方面的优势是无可取代的：迅速的响应，流畅的体验，3D地形展示功能，测距等GIS功能，本地数据的导入导出…… 所以，Google仅有浏览器地图是不够的，还需要推出客户端地图：Google Earth。</p><p class=ql-align-justify>Google Earth可不是EarthViewer的简单翻版，最显著的变化是，借助Google强大的搜索功能，搜索面板从之前的多栏简化为一栏，还有强大的测距、标注工具。值得专门提到的是，Google Earth提供的卫星图像数据量是之前EarthViewer的10倍之多，支撑它的服务器也不是之前的几十台，而是几万台。</p><p class=ql-align-justify>但是，这些还不够，要发布Google Earth，还有一堆问题要找到答案。</p><p class=ql-align-justify>首先，新产品该叫什么名字？</p><p class=ql-align-justify>地图团队希望这个产品的名字里有Google，而不是像Picasa, Blogger那样看起来和Google毫无关系。但是到底该叫什么名字呢？不少人支持Google Globe，这个名字看起来有点抽象但又包罗万象，很适合Google那种“少说话，多做事”的风格。但是，John选择了Google Earth，一锤定音。</p><p class=ql-align-justify>其次，新产品该卖多少钱？</p><p class=ql-align-justify>之前EarthViewer的售价是：专业版每年600美元，普通版每年79美元。Keyhole被Google收购之后，所有的价格都打了五折。但是，数据量是EarthViewer十倍的Google Earth要卖多少钱？布林和佩奇决定，免费开放！所以Keyhole的人做了个折衷，Google Earth也提供了专业版Google Earth Pro，提供了更强大的功能，每年收费399美元。不过到了2015年1月30日，Google宣布，Google Earth Pro也不再收取费用，免费开放使用。</p><p class=ql-align-justify>再次，使用Google Earth要不要注册？</p><p class=ql-align-justify>按照之前Keyhole的数据，访问网站的人里面，只有8%到9%会选择下载试用，因为需要注册。据估计，Google Earth的情况要好点，转化率大概会提高一倍，在16%到18%之间。但是作为对比，Picasa的转化率达到了35%左右，一个很大的区别是，用户不需要注册。转化率高当然是好事，但Google Earth的数据量比之前的EarthViewer多10倍，需要遍布全球的数以万计的服务器来支持，而且是免费使用的。如果不需要注册就能使用，会不会导致软件的滥用，流量的爆发？</p><p class=ql-align-justify>Keyhole的团队挣扎了很久才决定：Google Earth应当不需要注册就可以下载使用。</p><p class=ql-align-justify>看起来，Google Earth已经“万事俱备，只欠东风”了。但是Keyhole的人无论如何没有想到，东风恰恰掌握在他们的“老朋友”——梅姐（Marissa）的手里。</p><p class=ql-align-justify>事情是这样的，Google Earth要上线，就必须启用earth.google.com这个域名。启用新域名，必须得到梅姐的书面许可。没有她的许可，谁也不敢擅自作主。但是到了2005年6月27日，那个周一的中午，距离Google Earth的发布只有12小时了，无数的文章、博客、新闻组都已经准备就绪，梅姐还没有点头。不得已，负责产品的Bill Kilday只能直接冲去找梅姐。</p><blockquote>梅利莎，我们需要你的书面许可，这样才能启用earth.google.com。好呀，那么参加周四的UI评审会吧。你和John必须先预定日历，等确认，其他几十个PMM都是这么做的。在Google，我们都是这么做事的。但是我们等不到周四了，我现在就需要许可。今晚9点有八家媒体要发布信息。John去纽约了，PR的人已经准备好了Google Blog的内容，程序已经部署到六个数据中心，只等发布了。什么意思？什么叫“只等发布”？开什么玩笑？你还没有发布许可呢，你根本不可能发布！你们为什么不早点来参加UI评审会？你们Keyhole的人又搞这一套！你们这些家伙总是跟我来这一套！</blockquote><p class=ql-align-justify>梅姐的声音很大，在场的其它产品经理都偷偷离开了。但是，Bill没有离开。据他说，他完全不知道如何会这样：“梅姐在想什么？因为发布Google Earth没有提前跟她打招呼吗？还是因为John成了热门的Google Geo的老大，而她出局了？……” 无论如何，Bill没有离开，也没有动怒。</p><p class=ql-align-justify>还好，梅姐抱怨了几句John和Keyhole团队之后，冷静下来说：“OK，让我看看这玩意儿。” 看完Bill的展示，梅姐给开了绿灯：“好吧，我许可发布，不过，记得周四来参加UI评审会。” Bill的回答也很大方：</p><blockquote>没问题，我很乐意参加。</blockquote><p class=ql-align-justify>这里需要讲点背景知识。以梅姐为代表的Google“老人”一直对Keyhole的人有微词。Google都是名校毕业、聪明绝顶的年轻人，相比之下，Keyhole属于“草台班子”，人的年纪也偏大（佩奇和布林都出生于1973年，Hanke和Bill出生于1967年，之前Hanke职位的另一个人选Bret Taylor更是1980年出生）。</p><p class=ql-align-justify>更重要的是，Keyhole虽然团队被收购了，但仍然在维护和销售EarthViewer。而在Google的“老人”看来，Keyhole的人会开小灶，优先把最好的地图数据留给EarthViewer用，然后才轮到Google Maps和Google Earth使用。虽然Keyhole的人觉得这是天方夜谭，但他们没法说服Google的“老人”——这个例子充分说明，团队间的信任是多么重要，缺乏信任会带来多少无中生有的矛盾。</p><p class=ql-align-justify>风波归风波，最后Google Earth还是顺利发布了。最初版本的安装包大小为28MB，Google动用了几十万台服务器来支持，其中专门用来提供地图数据的服务器就数以万计。在发布后24小时，下载次数就超过了45万次，第28小时，下载超过了50万次。要知道，之前Keyhole团队花了两年时间，才让EarthViewer的下载量达到50万。媒体报道也接踵而来，不吝溢美之词。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9e0fa8e6e00744eaafed385048b81f62><p class=pgc-img-caption>Google Earth早期版本。来源：Google</p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/aef2b7b5040b42f1a50e3a47a48999d4><p class=pgc-img-caption>Google Earth早期版本。来源：Google</p></div><p class=ql-align-justify>不过乐极生悲，汹涌而来的流量终于在周三晚上冲垮了Google的防线，Google Earth“暂时无法使用”了，并且在之后的一段时间里持续“上线-下线”的命运，即便Google有几万台服务器参与支持也无济于事。到第七天，工程师才终于想到了办法，彻底解决了问题。之后每天，下载量都保持在30万到50万之间。</p><p class=ql-align-justify>面对这些数字，Bill又想起了之前他和布林和佩奇的对话。</p><blockquote>营收1000万美元，还是发展1000万用户，你们更喜欢哪个目标？我听不懂你这个问题。对Keyhole团队来讲，一年之后，你希望我们把营收做到1000万美元，还是发展出1000万用户？我想，你们这帮家伙应该考虑比这大得多的问题。</blockquote><p class=ql-align-justify>即便Keyhole的人暂时还不理解什么是“大得多的问题”，也不要紧。因为他们很快会发现，Google Maps的应用超出了自己的想象。</p><p class=ql-align-justify>2005年8月25日，卡特里娜飓风的袭击让新奥尔良受灾严重，政府出动了大批力量救援灾民。Google Geo的团队认为，他们应当为救灾出点力。于是他们加快了新奥尔良地区的图像更新速度，提供高分辨率的图像，方便救灾和撤离。他们继而发现，最快的办法竟然是通过单独的KML文件直接提供某个地点的图像，这样不必等待地图的完整更新。不过他们没有预料到的是，Google Earth以一种完全意想不到的方式，大大提升了救灾的效率。</p><p class=ql-align-justify>事情是这样的：参与救灾的是海岸警卫队，对于地理位置他们有一套自己的体系，采用经纬度、地点座标之类的描述法。但是民众在打电话求救时往往只能说出自己在哪条街多少号，或者“在查尔斯广场东面两个街区”之类的描述。如果打电话给911，接线员要求“说出你的经纬度”，这是谁都没法想象的事情。然而没有经纬度，只有街区、街道、门牌的话，海岸警卫队的地面和空中救援队完全找不到方向。</p><p class=ql-align-justify>不知是谁想到了Google Earth，但这个主意绝对给救灾帮了大忙。求救者发出信息之后，海岸警卫队的调度人员直接输入地址，就可以查到经纬度，救援人员能迅速定位地点。地点定位了之后，救援人员还能根据最新的卫星照片提前定位障碍物，规划好路线，这些都大大提升了救援的效率。据参加救灾的人说，Google Earth起码帮助解救了几百人的生命，所以他们希望特别感谢。</p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/545de23a292b44daa5d47d224aefbad1><p class=pgc-img-caption>Google Earth里的新奥尔良（2018年），可以看到街区所在经纬度。来源：Google</p></div><p class=ql-align-justify>这当然是宣传Google Earth的好机会，Keyhole的人也看到了这个机会。但是，Google的人从上到下，都不希望借用这个机会。</p><blockquote>不，这不是我们做事的方式。我们不愿意蹭这样的热点，把自己塑造成幕后英雄，佩奇和布林也不会同意的。</blockquote><p class=ql-align-justify>不愿意宣传，并不代表Google不愿意参与这样的事件。</p><p class=ql-align-justify>2005年，一名叫Rebecca Moore的女性环保人士联系到了Google Earth团队，表达自己的谢意。Rebecca Moore为了保护圣克鲁斯山（距离Google总部只有一个半小时车程）的植被，一直在与木材公司斗争。木材公司给当地居民的公开信中承诺，伐木活动只会对当地居民生活的影响微乎其微，并标注了伐木的区域。之前，环保人士没有办法准确监督木材公司是否履行了承诺，因为实地测量的要求太高了。但是现在，有了Google Earth提供的卫星地图，砍伐范围一览无余，再没有任何遮挡，也不可能存在争议。甚至连木材的运输方式，运输路线都被记录在案，Moore等人制作了3D演示，详细说明了木材公司的所作所为。在小镇的听证会上，后续的伐木计划被当场拒绝了。</p><p class=ql-align-justify>Google的人知道这件事之后，并没有选择避嫌，而是大方将Moore招募到公司内。Moore汇报给Brian，带领一支团队发掘Google Earth在环境方面的各种用途。用他们自己的话说，他们希望“为地球制作一张鲜活的、实时更新的仪表盘”。</p><p class=ql-align-justify>其实，Google Earth的用途不仅限于环境保护，新物种、新海岛、物种的迁徙等等。随着用户的增加，层出不穷的用途被发掘出来，甚至还有段传奇经历被拍成了电影。</p><p class=ql-align-justify>Saroo Brierley出生在印度，五岁时误登上一列火车，从此与家人失散。火车带着他穿越了整个印度来到了加尔各答，后来他又被澳大利亚的夫妇收养。成年之后，Saroo依靠Google Earth提供的信息，历经磨难，最终找到了自己出生的家庭。后来他把这段经历写成了一本书：A Long Way Home。派拉蒙影业把它拍成了电影，取名《雄狮》。2016年，《雄狮》获得了奥斯卡最佳影片提名。有观众打趣说，这“纯粹是Google Earth的宣传片”。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/754e8dbf1a1a4d7eaa95ae12df70de56><p class=pgc-img-caption>《雄狮》剧照。来源：cinema.mu</p></div><p class=ql-align-justify>2011年，Google Earth团队再接再厉，推出了Google Ocean。这一次，地图不再局限于海平面以上的部分，还包括了水下的信息，你可以看到水下的景象，还可以看到海床。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/2b88360e694945baa1db2147284ad35a><p class=pgc-img-caption>Google Ocean的水下3D视图。来源：Google</p></div><p class=ql-align-center><br></p><div class=pgc-img><img alt=四万字！谷歌地图的神奇历史全揭秘「上」 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/689cd1e8da6f4d93bff23acf37c57625><p class=pgc-img-caption>Google Ocean的海底地形视图。来源：Google</p></div><p>今天Google Ocean已经不再是一个单独的产品，而是合并到了Google Earth。如果你访问Google Earth，选择Ocean View，就可以看到海平面下的信息。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'四万字','地图','历史'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>