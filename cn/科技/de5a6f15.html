<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>JavaScript正则表达式详细总结 | 极客快訊</title><meta property="og:title" content="JavaScript正则表达式详细总结 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/6cd0893b009045c794771d55a21a19a6"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/de5a6f15.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/de5a6f15.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/de5a6f15.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/de5a6f15.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/de5a6f15.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/de5a6f15.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/de5a6f15.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/de5a6f15.html><meta property="article:published_time" content="2020-11-14T21:07:13+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:13+08:00"><meta name=Keywords content><meta name=description content="JavaScript正则表达式详细总结"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/de5a6f15.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>JavaScript正则表达式详细总结</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><blockquote><p>点击右上方红色按钮关注“web秀”，让你真正秀起来</p></blockquote><h1><strong>前言</strong></h1><p>作为一名程序猿，对正则表达式一定不会很陌生，但在平时开发中有时依然会遇到这样或那样的问题。本文从基础出发，本着让初学者入门，高手温故的初衷，相对系统性的介绍正了则相关知识。如有不准确的地方，欢迎吐槽</p><p>本文仅介绍 javascript 语言中的正则，其他语言虽有不同，但很类似，感兴趣的自行google吧。另外本文针对所有示例都给了输出结果，希望读者思考为什么返回这样的结果，和自己期望的有什么不一样，建议自己也动手输入一下，加深记忆。</p><div class=pgc-img><img alt=JavaScript正则表达式详细总结 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6cd0893b009045c794771d55a21a19a6><p class=pgc-img-caption>JavaScript正则表达式详细总结</p></div><p><strong>本文总体分两部分：基础知识</strong> 和 <strong>案例分析</strong></p><hr><h1><strong>第一部分 基础知识</strong></h1><hr><p><strong>一、正则申明方式</strong></p><p><strong>1、构造函数方式</strong></p><pre> var reg = new RegExp('\d', 'gi');</pre><ul><li>通过 new 构造一个正则表达式对象，其中第一个参数 '\d' 是正则内容，第二个参数 'gi' 是修饰符。两个参数皆为字符串类型</li><li>修饰符的作用是对匹配过程进行限定</li><li>修饰符有三种：i, g, m，可以同时出现，没有顺序（即 gi 与 ig 一样），请参考下方说明</li></ul><div class=pgc-img><img alt=JavaScript正则表达式详细总结 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/e517993323d844d8b8cb3046d358970b><p class=pgc-img-caption>JavaScript正则表达式详细总结</p></div><p><strong>说明：</strong></p><ul><li>[a-z] 表示从小写字母a到小写字母z之间的任意字符(含a和z)，下文会有详细说明</li><li>+ 表示至少出现一次</li><li>\n 在js中表示换行</li><li>^[a-z] 表示以任意小写字母开头的行</li></ul><pre> 'aBcd efg'.match(/[a-z]+/); // ["a"] 'aBcd efg'.match(/[a-z]+/i); // ["aBcd"] 'aBcd efg'.match(/[a-z]+/g); // ["a", "cd", "efg"] 'aBcd efg'.match(/[a-z]+/gi); // ["aBcd", "efg"] 'aB\ncd\n efg'.match(/^[a-z]+/m); // ["a"] 'aB\ncd\n efg'.match(/^[a-z]+/g); // ["a"] 'aB\ncd\n efg'.match(/^[a-z]+/gm); // ["a", "cd"] // 注意不是 ["a", "cd", "efg"]</pre><p>具体用法请看下文相关的示例</p><p><strong>2、字面量方式</strong></p><p>相比较上一种方式，这一种更为常见，上面示例也都使用了这种方式</p><pre> var reg = /\d/gi;</pre><p><strong>两个斜线内为正则的内容，后面可以跟修饰符，与第一种构造函数方式相比更简洁，缺点是正则内容不能拼接，对于大多数场景俩说足够了</strong></p><p><strong>二、正则相关符号</strong></p><p><strong>1、方括号 [] 用法</strong></p><p>用于查找方括号内的任意字符：</p><div class=pgc-img><img alt=JavaScript正则表达式详细总结 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/082640aef37b49b6b5ef4a453c034708><p class=pgc-img-caption>JavaScript正则表达式详细总结</p></div><p><strong>注意：</strong></p><p><strong>1）^ 在 [] 内开始位置及正则双斜线开始位置有特殊含义，其他位置表示 ^ 字符本身</strong></p><ul><li>// 正则开头位置表示以某某开头的字符串，如下表示以大写或小写字母开头的且连续为字母的字符串：</li></ul><pre> 'adobe 2016'.match(/^[a-zA-Z]+/); // ["adobe"]</pre><ul><li>在正则 <strong>或</strong> 匹配中(即 | 匹配)，表示 <strong>或者以某某字符开始的字符串</strong>，如下表示匹配 <em>连续数字</em> 或 <em>以小写字母开头且连续为小写字母的字符串</em>，所以返回结果包含2016 和 adobe，注意返回结果不是 ["2016", "adobe"]</li></ul><pre> 'adobe2016ps'.match(/\d+|^[a-z]+/g); // ["adobe", "2016"]</pre><ul><li>在 [] 内开始位置时，表示不匹配 [] 内除 ^ 以外的所有字符：</li></ul><pre> 'adobe'.match(/[^abc]/g); // ["d", "o", "e"]</pre><p><strong>注：</strong> $ 与 ^ 的前两个用法相似，只不过匹配的是以某某字符<strong>结尾</strong>的字符串，举例：</p><pre> 'adobe 2016'.match(/\d+|[a-z]+$/g); // ["2016"] 'adobe'.match(/\d+|[a-z]+$/g); // ["adobe"]</pre><p><strong>2）- (连字符)表示左边字符的 ASCII 值到右边字符 ASCII 编码值之间及左右字符自身的所有字符</strong></p><pre> 'adobe PS 2016'.match(/[a-g]/g); // ["a", "d", "b", "e"]</pre><p><strong>3）- 连字符左侧的字符对应的 ASCII 值一定要小于或等于右侧的字符，否则会报语法错误</strong></p><pre> 'adobe'.match(/[z-a]/); // Uncaught SyntaxError: Invalid regular expression: /[z-a]/: Range out of order in character class...</pre><p><strong>4）如果希望对连字符 - 本身进行匹配，需要用反斜线转义</strong></p><pre> 'adobe-2016'.match(/[a-g\-]/g); // ["a", "d", "b", "e", "-"]</pre><p><strong>5）查看 ASCII 表就会发现，大写字母的 ASCII 值是小于小写字母的，因此下面用法会报语法错误</strong></p><pre> 'adobe-2016'.match(/[a-Z]/g); // Uncaught SyntaxError: Invalid regular expression: /[a-Z]/: Range out of order in character ...</pre><p>那么问题来了，如果要表示所有字母，不区分大小写怎么办呢？其实有两种方式：</p><p><strong>A、第一种是使用修饰符 i</strong>，前面提到过。举例：</p><pre> 'adobe-PS'.match(/[a-z]/gi); // ["a", "d", "o", "b", "e", "P", "S"]</pre><p><strong>B、第二种是在正则中明确指明大小写字母</strong>，举例：</p><pre> 'adobe-PS'.match(/[a-zA-Z]/g); // ["a", "d", "o", "b", "e", "P", "S"]</pre><p>返回结果跟第一种一样。当然这个例子有些特殊：匹配了所有大小写字母。当只匹配部分大小写字母的时候只能使用第二种方式，在此就不做示例了，读者可以自己测试</p><p><strong>6）匹配大小字母不能写成 [A-z]，虽然不会报语法错误，但隐式的放大了匹配范围，查看 ASCII 会发现，在大写字母 Z 到小写字母 a 之间还有 [、 \、 ]、 ^、 _、 ` 这6个字符，因此不能这么写。</strong></p><p><strong>7）想必有同学会问， \w 不也可以匹配字母么？是的，\w 确实可以匹配字母，但跟上面说的一样,也隐式的放大了匹配范围，\w 除了匹配大小字母外还匹配了数字和下划线，即 \w 与 [A-Za-z0-9_] 等价，当然 A-Z、a-z、0-9(等价于\d)、_这四组没顺序之分</strong></p><p><strong>2、特殊含义字符</strong></p><ul><li><strong>. 匹配任意单个字符，除换行和结束符</strong></li></ul><pre> '1+0.2*2=1.4'.match(/.{2}/g); // ["1+", "0.", "2*", "2=", "1."]</pre><ul><li><strong>\w 匹配任意单词字符（数字、字母、下划线），等价于[A-Za-z0-9_]</strong></li></ul><pre> 'ad34~!@$ps'.match(/\w/g); // ["a", "d", "3", "4", "p", "s"]</pre><ul><li><strong>\W 匹配任意单词字符，与\w相反，等价于[^A-Za-z0-9_]</strong></li></ul><pre> 'ad34~!@$ps'.match(/\W/g); // ["~", "!", "@", "$"]</pre><ul><li><strong>\d 匹配数字，等价于 [0-9]</strong></li></ul><pre> 'ps6'.match(/\d/g); // ["6"]</pre><ul><li><strong>\D 匹配非数字，等价于 [0-9]</strong></li></ul><pre> 'ps6'.match(/\D/g); // ["p", "s"]</pre><ul><li><strong>\s 匹配空白字符，主要有(\n、\f、\r、\t、\v)，注意'a\sb'中的\s依然是字符s，所以'a\sb'.match(/\s/g)返回 null</strong></li></ul><pre> 'adobe ps'.match(/\s/g); // [" "]</pre><ul><li><strong>\S 匹配非空白字符，与\s相反</strong></li></ul><pre> 'adobe ps'.match(/\S/g); // ["a", "d", "o", "b", "e", "p", "s"]</pre><ul><li><strong>\b 匹配单词边界，注意连续的数字、字母或下划线组成的字符串会认为一个单词</strong></li></ul><pre> 'adobe(2016) ps6.4'.match(/\b(\w+)/g); // ["adobe", "2016", "ps6", "4"]</pre><ul><li><strong>\B 匹配非单词边界，仔细体会下面的示例与\b的结果</strong></li></ul><pre> 'adobe(2016) ps6.4'.match(/\B(\w+)/g); // ["dobe", "016", "s6"]</pre><ul><li><strong>\0 匹配NUL字符</strong></li></ul><pre> '\0'.match(/\0/); // ["NUL"]</pre><ul><li><strong>\n 匹配换行符（编码：10，newline）</strong></li></ul><pre> 'adobe\nps'.match(/\n/).index; // 5</pre><ul><li><strong>\f 匹配换页符</strong></li></ul><pre> 'adobe\fps'.match(/\f/).index; // 5</pre><ul><li><strong>\r 匹配回车符（编码：13，return）</strong></li></ul><pre> 'adobe\rps'.match(/\r/).index; // 5</pre><ul><li><strong>\t 匹配制表符，键盘tab对应的字符</strong></li></ul><pre> 'adobe\tps'.match(/\t/).index; // 5</pre><ul><li><strong>\v 匹配垂直制表符</strong></li></ul><pre> 'adobe\vps'.match(/\v/).index; // 5</pre><ul><li><strong>xx 匹配以八进制数xxx规定的字符</strong></li></ul><pre> 'a'.charCodeAt(0).toString(8); // "141" 'adobe ps'.match(/\141/g); // ["a"]</pre><ul><li><strong>dd 匹配以十六进制数dd规定的字符</strong></li></ul><pre> 'a'.charCodeAt(0).toString(16); // "61" 'adobe ps'.match(/61/g); // ["a"]</pre><ul><li><strong>\uxxxx 匹配以十六进制数xxxx规定的 Unicode字符，注意位数不够需要补0</strong></li></ul><pre> 'a'.charCodeAt(0).toString(16); // "61" 'adobe ps'.match(/\u0061/g); // ["a"]</pre><p><strong>注意</strong>：</p><blockquote><p>window系统回车换行符为\r\n，linux系统下没有\r，linux系统通过vi编辑器打开window系统的文本文件时候，经常在行尾出现^M符号，也就是\r的原因，解析文本的时候需要注意相关判断。</p></blockquote><p><strong>3、量词说明</strong></p><ul><li><strong>n+ 匹配包含至少一个n的字符串</strong></li></ul><pre> 'adobe paas'.match(/a+\w+/g); // ["adobe", "aas"]</pre><ul><li><strong>n* 匹配包含零个或多个n的字符串</strong></li></ul><pre> 'ab3 aa12bb'.match(/a*\d+/g); // ["3", "aa12"]</pre><ul><li><strong>n? 匹配包含零个或一个n的字符串</strong></li></ul><pre> 'ab3 aa12bb'.match(/a?\d+/g); // ["3", "a12"]</pre><ul><li><strong>n{x} 匹配包含连续x个n的字符串</strong></li></ul><pre> 'ab3 aa12bb aaa34'.match(/a{2}\d+/g); // ["aa12", "aa34"]</pre><ul><li><strong>n{x,y} 匹配包含至少连续x个且最多连续y个n的字符串</strong></li></ul><pre> 'a3 aaa12bb aaaaaaa34'.match(/a{2,4}\d+/g); // ["aaa12", "aaaa34"]</pre><ul><li><strong>n{x,} 匹配包含至少连续x个n的字符串</strong></li></ul><pre> 'a3 aaa12bbaa4'.match(/a{2,}\d+/g); // ["aaa12", "aa4"]</pre><p>由上可知，以下 <em>表达式1</em> 与 <em>表达式2</em> 等价</p><div class=pgc-img><img alt=JavaScript正则表达式详细总结 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3b81b06f9f4847818cd360de4cacdd8d><p class=pgc-img-caption>JavaScript正则表达式详细总结</p></div><p><strong>4、符号说明</strong></p><p>符号 {}、^、$、*、+、?、[]、[^]、- 已经在前面介绍过，接下来看下其他特殊字符</p><ul><li><strong>a|b 匹配包含a或b的字符串</strong></li></ul><pre> 'adobe ps13'.match(/([a-g]+l\d+)/g); // ["ad", "be", "13"]</pre><ul><li><strong>/ 字面量方式申明正则时的界定符</strong></li></ul><pre> 'adobe'.match(/\w+/); // ["adobe"]</pre><ul><li><strong>\ 普通反斜线字符</strong></li></ul><pre> 'a\\dobe'.match(/\\/); // ["\"]</pre><p><strong>5、小括号 () 用法</strong></p><p><strong>正则在非全局(g)模式下，通过match方式，返回的数组第一个值整体匹配的字符串，其他值为通过括号分组匹配到的</strong></p><p><strong>1）捕获用法</strong></p><ul><li><strong>表示对匹配的字符串进行分组</strong></li></ul><pre> 'adobe cs9cs10, adobe cs11'.match(/([a-z]+\d+)+/); // ["cs9cs10", "cs10"] // 注意{2,}是对 括弧内的匹配 的描述</pre><ul><li><strong>与|一起使用表示选择性</strong></li></ul><pre> "he is 12. she is 13. it's box".match(/(it|she|he)\s+is/g); // ["he is", "she is"]</pre><ul><li><strong>表示对匹配的字符串捕获</strong></li></ul><pre> 'adobe cs9'.match(/[a-z]+\d+/); // ["cs9"] 'adobe cs9'.match(/[a-z]+(\d+)/); // ["cs9", "9"]</pre><ul><li><strong>表示对匹配的字符串反向引用，引用从 \1 开始，从正则左侧第一个左括号（当然要是闭合的括号才行）开始计算，每多一对括号，引用数加一，在非捕获情况下不会加一。但正则比较复杂时，减少引用可以提升匹配性能，关于 非捕获 下方会详细介绍</strong></li></ul><p><strong>引用的结果可以通过 构造函数 RegExp 获取，即 RegExp.$1一直到 RegExp.$9</strong></p><pre> 'Can you can a can as a canner can can a can?'.match(/([cC]an+)\s+\1/g); // ["can can"] // 注意 `\1` 等价于正则里的 `([a-z]+)`，即与下面示例相同 'Can you can a can as a canner can can a can?'.match(/[cC]an+\s+[cC]an+/g); // ["can can"] // 如果把括弧去掉可以看下结果 'Can you can a can as a canner can can a can?'.match(/[cC]an+\s+\1/g); // null</pre><p><strong>2）非捕获用法，以(?)形式出现</strong></p><ul><li><strong>(?:n ) 表示非捕获组</strong></li></ul><pre> // 不使用括号时 'adobe12ps15test'.match(/[a-z]+\d+[a-z]+/); // ["adobe12ps"] // 使用括号分组 'adobe12ps15test'.match(/[a-z]+(\d+)([a-z]+)/); // ["adobe12ps", "12", "ps"] 'adobe12ps15test'.match(/[a-z]+(?:\d+)([a-z]+)/); // ["adobe12ps", "ps"] // 看起来上面语句不用(?:)也可以得到相同结果，即： 'adobe12ps15test'.match(/[a-z]+\d+([a-z]+)/); // ["adobe12ps", "ps"] // 注意，但需求希望匹配字母之间的规则复杂时，如希望匹配字母，且字母之间可以为1或3时，但不需要1和3 'adobe11ps15test'.match(/[a-z]+(1|3)+([a-z]+)/); // ["adobe11ps", "1", "ps"] // 返回中不希望包含数字怎么办，可以使用非捕获 'adobe11ps15test'.match(/[a-z]+(?:1|3)+([a-z]+)/); // ["adobe11ps", "ps"]</pre><ul><li><strong>(?=n ) 匹配任何其后紧跟字符n的字符串，但返回中不包含n</strong></li></ul><pre> 'adobe12ps15test'.match(/[a-z]+(?=\d)/g); // ["adobe", "ps"]</pre><ul><li><strong>(?!n ) 匹配任何其后没有紧跟字符n的字符串，返回中不包含n</strong></li></ul><pre> 'adobe12ps15test'.match(/[a-z]+(?!\d)/g); // ["adob", "p", "test"]</pre><ul><li><strong>(?&lt;=n ) 匹配任何其前紧跟字符n的字符串，返回中不包含n</strong></li></ul><pre> 'adobe12ps15test'.match(/(?&lt;=\d)[a-z]+/g); // ["ps", "test"]</pre><ul><li><strong>(?&lt;!n ) 匹配任何其前紧跟字符n的字符串，返回中不包含n</strong></li></ul><pre> 'adobe12ps15test'.match(/(?&lt;!\d)[a-z]+/g); // ["adobe", "s", "est"]</pre><p><strong>3）注意</strong></p><ul><li><strong>A、如果希望对上面特殊字符本身进行匹配，需要在其前面添加\进行转移</strong></li></ul><pre> '11+2=13'.match(/\d+\+/g);  // ["11+"] '(11+2)*2=26'.match(/\(\d+\+\d+\)/g);  // ["(11+2)"]</pre><ul><li><strong>B、\\举例</strong></li></ul><pre> // 注意下面两个表达式返回的结果 'path C:\Windows\System32'.match(/([a-zA-Z]:\\\w+)/g);  // null 'path C:\\Windows\\System32'.match(/([a-zA-Z]:\\\w+)/g);  // ["C:\Windows"]</pre><p><strong>说明:</strong></p><blockquote><p>在申明字符串 'path C:\Windows\System32' 时，其中的 '' 就已经被当做转移符，既是 '\W' === 'W',所以如果希望申明的字符串中包含反斜线，需要在加一个反斜线转义，即 \\</p></blockquote><p><strong>6、正则相关方法</strong></p><p><strong>1） RegExp对象相关方法</strong></p><div class=pgc-img><img alt=JavaScript正则表达式详细总结 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/18d92446b954453b97719311b07a53aa><p class=pgc-img-caption>JavaScript正则表达式详细总结</p></div><p><strong>2）String对象相关方法</strong></p><div class=pgc-img><img alt=JavaScript正则表达式详细总结 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/cba268a91c5841c08c52ef0c0f819e66><p class=pgc-img-caption>JavaScript正则表达式详细总结</p></div><p><strong>3）replace 具体用法</strong></p><p>顾名思义，是字符串替换方法，但用法比较广泛，相信读者已经非常熟悉了。在此就当复习了</p><p>A、 <strong>基本用法</strong></p><p><strong>直接传入字符串进行替换，找到子串后只替换一次，举例：</strong></p><pre> 'adobe abc'.replace('b', '_') // "ado_e abc" // 注意 第二个 b 没有被替换</pre><p>如果希望全部替换，可以使用正则表达式并用全局修饰符 g 方式，举例：</p><pre> 'adobe abc'.replace(/b/g, '_') // "ado_e a_c"</pre><p>B、 <strong>高级用法</strong></p><p><strong>第二个参数可以使用 function，其中有三个参数，分别为 匹配的字符串</strong>、<strong>当前匹配的字符串index值</strong>、<strong>匹配的源字符串</strong>，最终结果根据每次匹配结果进行相应的替换</p><p>举例：</p><pre> 'adobe aacc bbaa'.replace(/a+/g, function(str, index, source){ if(index &gt; 0){ return str.toUpperCase(); } else { return str; } }); // "adobe AAcc bbAA"</pre><h1><strong>第二部分 案例分析</strong></h1><p><strong>一、常见匹配</strong></p><p>在写正则之前，需要注意以下几点：</p><ol><li>一定要清楚期望的规则是什么，不然无从匹配</li><li>有些正则不只一种写法，要注意简短干练，复杂的正则表达式不仅难懂，而且容易出BUG，性能也不是很好</li><li>正则虽好，可要适度奥。有些字符串处理不一定适合用正则</li></ol><p><strong>1、手机号</strong></p><p>规则：以1开头第二位为3、5、7、8且长度为11位的数字组合</p><pre> /^1[3578]\d{9}$/.test(13600001111); // true</pre><p><strong>2、 字符串提取</strong></p><p>举例：提取字符串中的数字</p><p><strong>分析：</strong></p><blockquote><p>根据对数字的理解，可能为负数，即-?，如果是负数，其后需要是数字且至少一位，即 -?\d+，小数部分可能有也可能没有，所以需要对小数部分括弧起来用 ? 或 {0, 1}限定，因为.是特殊字符需要转义，于是表达式为：-?\d+(\.\d+)?</p></blockquote><pre> '(12.3 - 32.3)*2 = -40'.match(/-?\d+(\.\d+)?/g); // ["12.3", "32.3", "2", "-40"]</pre><p><strong>二、jQuery中的正则片段</strong></p><p><strong>1、表达式</strong></p><p>在jQuery 3.1.2-pre中找到一个解析单标签的正则，如下：</p><pre> /^&lt;([a-z][^\/\0&gt;:20\t\r\n\f]*)[20\t\r\n\f]*\/?&gt;(?:&lt;\/\1&gt;|)$/i</pre><p><strong>2、分解</strong></p><p>乍一看有点懵，其实拆解之后就容易理解了，注意拆解的步骤，通常来说：</p><p>1） <strong>第一步可以先看括号 () ，可以将各个小括号及非括号的分成不同部分，如</strong></p><pre> /^&lt; ([a-z][^\/\0&gt;:20\t\r\n\f]*) [20\t\r\n\f]*\/?&gt; (?:&lt;\/\1&gt;|) $/i</pre><p>2） <strong>第二步可以将中括号分开</strong></p><pre> /^&lt; ( [a-z] [^\/\0&gt;:20\t\r\n\f]* ) [20\t\r\n\f]* \/?&gt; (?:&lt;\/\1&gt;|) $/i</pre><p>现在是不是已经很清楚了，接下来分解下，就很容易理解了</p><p><strong>3、详解</strong></p><ul><li>1）^&lt; 很明显在匹配标签左尖括号括号，且以其开始</li><li><br></li><li>2）( [a-z] [^\/\0>:20\t\r\n\f]* ) 这个括号有两部分，第一个 [a-z] 没什么好解释，即标签&lt;紧跟的必须为字母，因为全局加了 i(忽略大小写) 修饰符，所以大小写字母都可以；[^\/\0>:20\t\r\n\f]*，及限制标签名必须以字母开始，且第二个字母不能为/ \0 > : \20 t\r \n \f的任意多个字符（思考为什么），() 表示对标签的分组，方便取到标签名</li><li><br></li><li>3）[20\t\r\n\f]* 表示可能含有 [20\t\r\n\f] 这些特殊字符，与前面的 [^\/\0>:20\t\r\n\f]* 相似却不一样，通过这里可以看出&lt;br之后进行回车也能匹配到</li><li><br></li><li>4）\/?> 能匹配 &lt;br>或&lt;br/></li><li><br></li><li>5）(?:&lt;\/\1>|) 这里不捕获，并用\1去反向引用第一个括号的表达式 ([a-z][^\/\0>:20\t\r\n\f]*)。这里的|表示 &lt;\/\1> 可有可无，即：(?:&lt;\/\1>|) 与 (?:&lt;\/\1>)?匹配结果一样</li></ul><h1><strong>公告</strong></h1><p>喜欢小编的点击关注，了解更多知识！</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'JavaScript','正则','表达式'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/47bf383c.html alt="JavaScript 正则表达式理论学习和案例分析" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/23450277ff8a4edb976123f0d7b823d0 style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/47bf383c.html title="JavaScript 正则表达式理论学习和案例分析">JavaScript 正则表达式理论学习和案例分析</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>