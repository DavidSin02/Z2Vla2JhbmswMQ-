<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>利用工具提示显示数据标签 | 极客快訊</title><meta property="og:title" content="利用工具提示显示数据标签 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/15349932534317e773f12e4"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e11b9b3.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e11b9b3.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e11b9b3.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e11b9b3.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e11b9b3.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e11b9b3.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e11b9b3.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e11b9b3.html><meta property="article:published_time" content="2020-10-29T21:08:32+08:00"><meta property="article:modified_time" content="2020-10-29T21:08:32+08:00"><meta name=Keywords content><meta name=description content="利用工具提示显示数据标签"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/e11b9b3.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>利用工具提示显示数据标签</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>在Power BI中，我们有时会用到堆积柱形图/堆积条形图，它可以将分类序列显示在同一根柱子上，在能直观比较各柱子总值的同时，还能看每根柱子上不同序列的大小情况。如下面的堆积柱形图，展示了各月份A、B、C、D、E、F五个类别的产品的销售数量。</p><div class=pgc-img><img alt=利用工具提示显示数据标签 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/15349932534317e773f12e4><p class=pgc-img-caption></p></div><p>我们看到，有些类别的产品由于在当月销售数量太小，数据标签无法标在图中。虽然我们可以将鼠标悬浮在每个产品类别上，通过自动出现的数据提示来了解数据，但是这样一则是许多类别需要一一查看不方便，二则是有些产品类别销售数量过小，鼠标很难悬浮在上面。所以，我们可以利用工具提示，让每根柱子上的每个产品类别的数据都显示出来，且数据不随鼠标在柱子上不同类别间移动而变化，即使柱子上产品类别的筛选失效。如下图所示：</p><div class=pgc-img><img alt=利用工具提示显示数据标签 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1534993252668173df905c3><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=利用工具提示显示数据标签 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1534993252429eb2f0e5b1d><p class=pgc-img-caption></p></div><p>那么我们具体如何操作来实现这个效果呢？在这里我们不再讨论具体如何制作工具提示页，我们主要要讨论的是，本案例中工具提示页上的值应该怎么写。</p><p>首先，我们要知道，我们希望当鼠标悬浮到某一个月份，工具提示能展现五个类别产品的销售数量。所以，工具提示页上应该一一放上A，B，C，D，E，F五个类别的销售数量，这个需要用度量值一一写出。例如A类产品的销售量为：</p><p>A类产品销售量= CALCULATE(SUM('销售表' [销售量]),'销售表'[产品类别]="A")</p><p>同理可以写出其他四类的销售数量。但是这样写出的值放在工具提示页的话，当鼠标悬浮于某一月份不同类别时，类别会作为一个筛选器，使工具提示页上的数值只显示当先悬浮处类别的数值，其他类别均为空。所以我们要让放在工具提示页上的值不受类别筛选器的影响，这就要用到Filter和All函数了。例如，A类产品的销售量应写为：</p><p>A类产品销售量 =</p><p>CALCULATE(CALCULATE(SUM('销售表' [销售量]), FILTER('销售表', '销售表'[产品类别]="A")), ALL('销售表'[产品类别]))</p><p>同理可以写出其他类别的度量值，放到工具提示页就能达到我们想要实现的效果了。</p><p>* PowerPivot工坊原创文章，转载请注明出处！</p><hr><p>延伸阅读：</p><p><a class=pgc-link href="https://www.toutiao.com/i6587991299125674504/?group_id=6587991299125674504" target=_blank>Power BI中的工具提示</a></p><p><a class=pgc-link href="https://www.toutiao.com/i6576059988253344270/?group_id=6576059988253344270" target=_blank>【当Power BI遇上世界杯】2018世界杯数据全解析</a></p><p><a class=pgc-link href="https://www.toutiao.com/i6574563104984662542/?group_id=6574563104984662542" target=_blank>使用Horizontal Bar Chart（水平条形图）</a></p><p><a class=pgc-link href="https://www.toutiao.com/i6490316192140493326/?group_id=6490316192140493326" target=_blank>亮瞎双眼的Power BI自定义可视化图表（2017最新版）</a></p><p><a class=pgc-link href="https://www.toutiao.com/i6503335270547456525/?group_id=6503335270547456525" target=_blank>Power BI 也能做这样的组合图？</a></p><p><a class=pgc-link href="https://www.toutiao.com/i6504042895870280206/?group_id=6504042895870280206" target=_blank>工坊实验室之部分切片的实现</a></p><p><a class=pgc-link href="https://www.toutiao.com/i6574323406102069763/?group_id=6574323406102069763" target=_blank>一键清除所有切片 – 使用“永久筛选器”功能</a></p><p><a class=pgc-link href="https://www.toutiao.com/i6491126094421295630/?group_id=6491126094421295630" target=_blank>萌新学BI - Infographic Designer自定义可视化</a></p><p><a class=pgc-link href="https://www.toutiao.com/i6574554323152273934/?group_id=6574554323152273934" target=_blank>Power BI 可视化图表的使用建议</a></p><hr><p>如果您想深入学习微软Power BI，欢迎登录网易云课堂试听学习我们的“<strong>从Excel到Power BI数据分析可视化</strong>”系列课程。或者关注我们（PowerPivot工坊）后猛戳”在线学习”</p><div class=pgc-img><img alt=利用工具提示显示数据标签 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/153380908346233ee961c8f><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'显示','数据标','提示'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>