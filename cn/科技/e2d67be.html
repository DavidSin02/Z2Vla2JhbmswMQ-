<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>伺服电机CANOPEN总线状态机的控制及状态 | 极客快訊</title><meta property="og:title" content="伺服电机CANOPEN总线状态机的控制及状态 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/7009a8de56a1470baa4c86dd69333be7"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e2d67be.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e2d67be.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e2d67be.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e2d67be.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e2d67be.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e2d67be.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e2d67be.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e2d67be.html><meta property="article:published_time" content="2020-10-29T20:59:15+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:15+08:00"><meta name=Keywords content><meta name=description content="伺服电机CANOPEN总线状态机的控制及状态"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/e2d67be.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>伺服电机CANOPEN总线状态机的控制及状态</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>伺服电机使用CANOPEN总线进行控制的过程中，伺服电机的状态需要通过控制字切换，如故障、上电、启动等。PLC如何通过控制字实现伺服电机状态的切换？这里就CANOPEN总线如何控制伺服电机给大家分享。</p><h1 class=pgc-h-arrow-right>状态机</h1><p>CANOPEN总线控制伺服电机是通过一个状态机实现，状态机的各个模式切换如下图所示：</p><p><br></p><div class=pgc-img><img alt=伺服电机CANOPEN总线状态机的控制及状态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7009a8de56a1470baa4c86dd69333be7><p class=pgc-img-caption></p></div><p>如上图所示，状态机可以分成三部分：“Power Disabled”(主电关闭)、“Power Enabled”（主电打开）和“Fault”。所有状态在发生报警后均进入“Fault”。在上电后，驱动器完成初始化，然后进入SWITCH_ON_DISABLED状态。在该状态，可以进行CAN通讯，可以对驱动器进行配置（例如，将驱动器的工作模式设置成“PP”模式）。此时，主电仍然关闭，电机没有被励磁。经过State Transition(状态传输)2、3、4后，进入OPERATION ENABLE。此时，主电已开启，驱动器根据配置的工作模式控制电机。因此，在该状态之前必须先确认已经正确配置了驱动器的参数和相应的输入值为零。State Transition(状态传输)9完成关闭电路主电。一旦驱动器发生报警，驱动器的状态都进入FAULT。</p><ul><li>Not Ready to Switch On：伺服驱动器正在初始化过程中，不能进行CAN通讯。</li><li>Switch On Disabled：伺服驱动器初始化完成，可以进行CAN通讯。</li><li>Ready to Switch On：伺服驱动器等待进入Switch On状态，电机没有被励磁。</li><li>Switched On：伺服驱动器伺服准备好状态，主电已上。</li><li>Operation Enable：伺服驱动器伺服给电机输入励磁信号，按照控制模式控制电机。</li><li>Quick Stop Active：伺服驱动器将根据设定的方式停机。</li><li>Fault Reaction Active：伺服驱动器检测到报警发生，按照设定的方式停机，电机仍然有励磁信号。</li><li>Fault：电机无励磁信号。</li></ul><h1 class=pgc-h-arrow-right>控制字</h1><p>CANOPEN控制字（6040），其位说明如下图所示：</p><p><br></p><div class=pgc-img><img alt=伺服电机CANOPEN总线状态机的控制及状态 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ff0178a1f4494ed9a785a399d7a0f06c><p class=pgc-img-caption></p></div><p>Bit0 ~ 3 和Bit7：状态机的传输由这5位组成的相应控制命令触发。</p><div class=pgc-img><img alt=伺服电机CANOPEN总线状态机的控制及状态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/713ca061f0984071b495e4d1827b4e65><p class=pgc-img-caption></p></div><p>Bit4、5、6、8：这4位在不同控制模式下，定义不同。</p><div class=pgc-img><img alt=伺服电机CANOPEN总线状态机的控制及状态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e7673ba806b44039bbe8ad4cc2bf6251><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>状态字</h1><p>statusword位说明如下所示：</p><div class=pgc-img><img alt=伺服电机CANOPEN总线状态机的控制及状态 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f60ed85074e941ee96c702b8c6693fc2><p class=pgc-img-caption></p></div><p>Bit0 ~ 3 、Bit5和Bit6： 这几位的组合表示驱动器所处的状态。</p><div class=pgc-img><img alt=伺服电机CANOPEN总线状态机的控制及状态 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/1c33fa9101f04f4ea46d83bb244c73bb><p class=pgc-img-caption></p></div><p>Bit4： Voltage enabled 当该位为1时，表示主电已上。</p><p>Bit5： Quick stop 当该位为0时，表示驱动器将按照设置（605A h：quick_stop_option_code）停机。</p><p>Bit7： Warning 当该位为1时，表示驱动器检测到报警。</p><p>Bit10： Target reached 该位在不同控制模式下，含义不同。</p><p>Profile Position Mode时，当设定位置到达后，该位将被置位；当Halt启动，速度减速到零后，该位将被置位；当新的位置设定后，该位将被清除。</p><p>Profile Velocity Mode时，当速度到达给定速度后，该位将被置位；当Halt启动，速度减速到零后，该位将被置位。</p><p>Bit11： Internal limit active 当该位为1时，表示内部转矩超过设定值，或者位置到达正转或反转极限位置。可以通过读对象60FDh（digital inputs）确定。</p><p>Bit12、13： 该2位在不同控制模式下，含义不同。</p><div class=pgc-img><img alt=伺服电机CANOPEN总线状态机的控制及状态 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e225263ccea649b3ad088779a74d49ef><p class=pgc-img-caption></p></div><p>（转载请注明来源函控自动化工程师头条号）</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'电机','CANOPEN','总线'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>