<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>一文带你了解PLL器件的相位校准与控制 | 极客快訊</title><meta property="og:title" content="一文带你了解PLL器件的相位校准与控制 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/0762f182b98c47edbf66c8d5e4214219"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e4442f59.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e4442f59.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e4442f59.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e4442f59.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e4442f59.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e4442f59.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e4442f59.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e4442f59.html><meta property="article:published_time" content="2020-11-14T21:05:35+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:35+08:00"><meta name=Keywords content><meta name=description content="一文带你了解PLL器件的相位校准与控制"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/e4442f59.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>一文带你了解PLL器件的相位校准与控制</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>顾名思义，锁相环(PLL)使用鉴相器比较反馈信号与参考信号，将两个信号的相位锁定在一起。虽然这种特性有许多用武之地，但是 PLL 如今最常用于频率合成，通常充当上变频器 / 下变频器中的本振(LO)，或者充当高速模数转换器(ADC)或数模转换器(DAC)的时钟。<br>直到最近，我们很少注意这些电路中的相位行为。但随着对效率、带宽和性能的需求日益增长，RF 工程师必须推出新技术来提高频谱和功率效率。信号相位的重复性、可预测性和可调性在现代通信和仪器仪表应用中均起到日益重要的作用。<br>一切都是相对的<br>关于相位测量，如果不是相对于另一个信号或相对于原始相位则毫无意义。例如，使用矢量网络分析仪(VNA)对放大器之类的两端口网络进行相位测量，就是相对于输入相位 ANG(S21)测量输出相位的。单输入相位指相对于入射相位 ANG(S11)的反射相位。在 PLL 合成器上，相位测量指的是相对于输入参考相位的测量或信号间的相位测量。任何相位测量的理想状态就是测得与原始相位相比的精确期望值，但是非线性、非理想性、温差和电路板迹线以及其他制造差异都会使得相位在信号生成中更容易发生改变。对于本文而言，“同相”是指幅度和时序特性相同的信号；确定性相位是指信号之间的相移是已知和可预测的。<br>示波器测量相位<br>为了比较两个不同频率的相位，可以使用高速示波器比较输出相位与参考相位，这是一种相对直观的方法。为了直观可见，输入相位和输出相位通常必须是彼此的整数倍。这在许多时钟 电路中相对比较常见。对于整数 N 分频 PLL，输入频率(REFIN)和输出频率(RFOUT)之间的关系通常是确定和可重复的。只需将示波器探头放在 REFIN 和 RFOUT 上，但注意仅捕获确定已建立相位时的信号。像 RTO1044 这样的高级示波器，只有在满足某些条件时才允许事件触发激活：比如将特定的数字模式写入 PLL 器件以及已知信号的上升沿出现时。鉴于数字模式的写入与最终信号稳定之间可能会有一些延迟，因此在这两个事件之间插入一些延迟至关重要，这种特定型号的仪器就可以实现这一功能。<br>图 1 的测量是为了确认 ADF4356 PLL 相对于已知参考信号（在这种情况下，另一个 ADF4356 设定相同的输出频率）的相位延迟在上电时是否恒定和可重复。为了正确设置仪器，将两个低速探头连接到 ADF4356 SPI 接口的 CLK 线路和 DATA 线路。若要将数字模式写入特定频率，则必须等待 1 秒钟，仪器才能捕获显示两个 PLL 输出的时域图。<br></p><div class=pgc-img><img alt=一文带你了解PLL器件的相位校准与控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0762f182b98c47edbf66c8d5e4214219><p class=pgc-img-caption></p></div><p><br>图 1. 整数 N 分频设置<br>对于此测量，两个 ADF4356 PLL 锁定在 4GHz 的 VCO 频率并在 8MHz 至 500MHz 的范围内分频，其中一个 PLL 使用软件掉电功能反复开启和关闭。示波器采用无限持续模式进行 119 次采集，两个 PLL 之间的相位差恒定且可重复。为了确保相位差可重复，需遵循许多注意事项。相比较而言，低的 R 分频值比高的 R 分频值带来的不确定性较少，而且将来自 VCO 输出的分频反馈馈送到 N 计数器输入至关重要。鉴于 ADF4356 PLL 和 VCO 包含 1024 个不同的 VCO 频段，务必使用手动校准覆盖程序来消除此不确定性。<br>相位再同步定义<br>相位再同步是指小数 N 分频 PLL 在每个给定频率下返回相同相移的能力。也就是说，相位为 P1 的频率 A 在改为频率 B 后，当频率重新设定为回到 F1 时，观察到仍具有相同的原始相位 P1。该定义忽略了由 VCO 漂移、漏电流、温度变化等因素引起的变化。<br>再同步将复位脉冲发送到小数 N 分频∑-∆调制器，从而使其处于已知的可重复状态。在完成 VCO 频段选择和环路滤波器建立时间等频率建立机制之后，需要施加此复位脉冲。其值由寄存器 12 中的超时计数器控制。新近的 PLL 能够调整此复位脉冲的时序，实现了一定程度的输出信号可调性。此外，它还能以 360°/225 步进改变时序，比大多数仪器更轻松地完成测量。<br></p><div class=pgc-img><img alt=一文带你了解PLL器件的相位校准与控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/8aba305a1e8141c1a317fa0ec8b0e595><p class=pgc-img-caption></p></div><p><br>图 2. 进行小数 N 分频再同步，频率范围 4694 MHz 至 4002.5 MHz<br>对于本实验，两个 ADF4356 VCO 的频率均设定为 4002.5 MHz 且采用 8 分频。第二个 PLL 的 VCO 频率设定为 4694MHz，然后设定为回到 4002.5 MHz。通过使用示波器检查 PLL 行为可以看出，在 1700 次频率变化后，PLL 每次都稳定在同一相位。<br>为了表征不同的相移特性，相位字设定为 4194304/225（相当于 90°）。设定 90°、180°、270°和 0°的相应类似值，再次查看示波图（图 3）。<br></p><div class=pgc-img><img alt=一文带你了解PLL器件的相位校准与控制 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/b23f523faaf24ef795c0ba97328a03e9><p class=pgc-img-caption></p></div><p><br>图 3. 具有可变相移的相位再同步<br>相对于通道 1 上的原始信号，观察到四个间隔相等的信号，从而确认了具有可编程偏移的相位再同步的准确性。<br>该功能非常有用，意味着可以为每个用户频率创建相位值查找表，在每次使用时记录相位值。在需要组合四个同相 LO 频率的应用中，相位再同步和偏移功能用于调整输出相位，从而共同 提供低 6dB 的相位噪声。如果用作可调 LO（可能在信号分析仪的第一级上），再同步和相移功能允许用户在上电时执行一次性校准以确定每个 LO 的精确相位值。在用作 LO 时，可以根据需要按照每个 LO 设定相位值，从而无需在每个频率下执行校准。<br></p><div class=pgc-img><img alt=一文带你了解PLL器件的相位校准与控制 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/afaf21d261c64038b210a29999917e85><p class=pgc-img-caption></p></div><p><br>图 4. 需要精确控制 PLL 输出相位的相位关键型应用<br>对于像网络分析仪这样的相位关键型应用，该电路可以在上电时测量每个频率下的相位值，然后根据需要设定，因为 LO 会作用于整个目标范围。<br>测量相位、矢量信号和网络分析仪<br>矢量信号和网络分析仪也可用于表征相位行为，尽管其仅限用于比较器件的相位与其初始值。可以将 FSWP 等高级分析仪置于 FM 解调模式并选择相位输出。<br>这对于评估 ADF4356 PLL 上的相位再同步功能非常有用。下面的迹线（图 5）表示 ADF4356 相位在 5025MHz 的输出频率下变化了 180°。<br></p><div class=pgc-img><img alt=一文带你了解PLL器件的相位校准与控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e0ef46fcacb1489995d6adacec94fa1e><p class=pgc-img-caption></p></div><p><br>图 5. 180°相移时的 FSUP FM 解调器输出<br>相位调整<br>相位调整功能可避免∑-∆调制器复位，只需为现有相位添加一个 0°至 360°之间的相位字即可。在不希望相位复位的应用中，这一操作非常有用。它可以用于动态调整相位字以补偿由于温 度等影响而产生的相位差。<br>相位调整在 R0 每次更新（采用寄存器 3 的编程值）时为现有信号添加相位。它不包含相位再同步等复位脉冲。以下来自 FSWP 的测量结果表示的是原始信号增加 90°（图 6）和 270°（图 7）的情况。在这两种情况下，ADF4356 的输出频率在相位更改之前都设置为 5025 MHz。<br></p><div class=pgc-img><img alt=一文带你了解PLL器件的相位校准与控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/43e8ff9851c140459ddea1fc2239f35f><p class=pgc-img-caption></p></div><p><br>图 6. 90°变化<br></p><div class=pgc-img><img alt=一文带你了解PLL器件的相位校准与控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/23c92eac4e014c72ad47029b2c6c02ed><p class=pgc-img-caption></p></div><p><br>图 7. 270°变化<br>整个温度范围内的行为<br>电感器的物理参数随温度而变化，其电特性也一样，表现为相位变化。为了减少这种相位变化，用户可以设定所需的相移以保持相同的相位。输出频率设定为 4GHz 的两个 ADF4356 PLL，以相同相位放置在同一炉室中，密切跟踪彼此的相位（图 2），从而证明用户可以根据温度调整相位。<br></p><div class=pgc-img><img alt=一文带你了解PLL器件的相位校准与控制 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/08f08b4cc7704e2ab4c5d359acd47310><p class=pgc-img-caption></p></div><p><br>图 8. ADF4356 在整个温度范围内的相位漂移，测量时的 VCO 频率为 4GHz。<br>5G<br>波束成形是实现 5G 网络架构的一种关键技术。这些网络中使用多个天线阵列元件，每个元件具有不同的相位和幅度，将天线能量直接传导到最终用户。对于该应用，相位重复性是关键。波束成形需要 LO 相位具有可重复性，并且如果该相位具有不确定性，则需要波束成形电路进行额外校准。<br>图 9 所示为相隔四分之一波长并由同相驱动的两个半波单元的方向图。天线辐射图几乎是全向的，观察不到波束成形。图 10 显示了由 90°异相信号驱动的两个元件，得到的辐射图显示辐 射图更加集中。随着元件阵列数量的增加，朝向最终用户的辐射图的准确度也有所提升，进一步提高了光谱效率。<br></p><div class=pgc-img><img alt=一文带你了解PLL器件的相位校准与控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d28deb13e4e443efaa3e68ce6e5fdb50><p class=pgc-img-caption></p></div><p><br>图 9. 无波束成形<br></p><div class=pgc-img><img alt=一文带你了解PLL器件的相位校准与控制 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/266a24584c614fb49b4321acfbc7a556><p class=pgc-img-caption></p></div><p><br>图 10. 波束成形<br>相位再同步功能确保消除了 LO 相位特性的不确定性。此外，还能够调整此相位，为用户提供了另一种方法来克服存在于电路中而波束成形器或基带电路难以调整的任何其他相位延迟。<br>结论<br>相位再同步将 ADF4356 以及类似的 PLL 器件置于已知相位，这样可以实现许多应用并大大简化校准程序。<br></p><p></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'了解','PLL','校准'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>