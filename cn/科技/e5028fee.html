<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>一种具有后台校正功能的电流舵DAC | 极客快訊</title><meta property="og:title" content="一种具有后台校正功能的电流舵DAC - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/613a0016e3c552418e68"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e5028fee.html><meta property="article:published_time" content="2020-11-14T21:06:51+08:00"><meta property="article:modified_time" content="2020-11-14T21:06:51+08:00"><meta name=Keywords content><meta name=description content="一种具有后台校正功能的电流舵DAC"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/e5028fee.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>一种具有后台校正功能的电流舵DAC</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>随着工艺水平的提高，MOSFET(Metal-Oxide-Semiconductor Field-Effect Transistor，即金属-氧化物半导体场效应晶体管)阈值电压的失配常数Avt越来越小，电流源之间的匹配程度越来越高，然而随着DAC(Digital to Analog Converter，即数模转换器)分辨率的提高， DAC对电流源误差的要求越来越高[1]。其中阈值电压失配不仅与Avt有关，由于阈值电压的温度系数存在，DAC工作时片上不同位置的温度变化会导致阈值电压和迁移率随着温度发生改变，因而引入新的阈值电压失配，进而导致了新的电流源失配问题。</p><p>现有的文献[2]提出了基于幅值误差和动态误差的前台校正算法，解决了由于工艺失配引起的误差，但是并没有解决DAC工作过程中引入的新的电流源失配误差。针对上述存在的问题，为解决DAC工作时候引入的新的电流源失配误差问题，本文提供了一种具有校正功能的分段式电流舵型DAC及其后台校正方法。</p><p><strong>2校正原理</strong></p><p>与传统校正算法在DAC工作前对每一个MSB电流源校正不同，后台校正算法在DAC工作时将持续对MSB电流源校正。</p><p>如图1所示为本文提出的算法结构示意图，其中包括开关选择器电路，译码器电路。延时单元电路，比较器电路，锁存器电路，移位寄存器电路。传统12位电流舵DAC的高位电流源阵列包括63个MSB电流源，后台校正则共有64个MSB电流源，多余的一个电流源是为了在不影响DAC正常工作的前提下用于校正。校正核心电路为104开关选择电路以及107开关选择地电路，选择电路每隔一个周期选择一个空闲的电流源校正，校正为自校正[3]，即每个电流源均配置一个校正阵列，用逐次逼近的方法将每个电流源的电流大小校正到1/8LSB之内。</p><img alt=一种具有后台校正功能的电流舵DAC onerror=errorimg.call(this); src=https://p1.pstatp.com/large/613a0016e3c552418e68><p>图1 DAC电路结构图</p><p>本文提供的校正算法为后台实时校正，其校正原理为：利用第一开关选择电路104控制高位电流源阵列中的高位数据开关阵列，利用第二开关选择电路107控制高位电流源阵列中的选择开关阵列，选择出一个电流源单元进行校正，其余电流源单元继续工作;一个校正周期后选择另一个电流源校正，原被校正电流源切换到工作状态，每次校正过程校正一个电流源，在所有电流源校正一次后，从第一个电流源开始进行第二次校正。第一开关选择电路104和第二开关选择电路107的选择输入端输入的选择信号SEL是由移位寄存器106产生，移位寄存器106每移位一次便依次选择出一个不同的电流源单元进行校正，选择出来的电流源单元通过校正端接到电流比较器112的第一输入端和电流比较器112第二输入端连接的参考电流源比较后通过逐次逼近的方法[4]校正。</p><img alt=一种具有后台校正功能的电流舵DAC onerror=errorimg.call(this); src=https://p3.pstatp.com/large/613a0016e3c686b3232a><p>图2 开关选择电路结构图</p><p>开关选择器电路图如图2，其电路结构由二选一电路，反相器，或非门组成。开关选择器电路107的IN&lt;62:0>接高电平，在校正开始之前第二开关选择电路107的选择输入端输入的信号SEL&lt;62:0>全部置为高电平，此时二选一电路单元的OUTB=IN，OUTA=0;此时OUT&lt;0>=0，OUT&lt;1>=IN&lt;0>，OUT&lt;2>=IN&lt;1>，……，OUT&lt;63>=IN&lt;62>，下一个校正时钟沿到来时SEL&lt;0>置低电平，此时OUT&lt;0>=IN&lt;0>，OUT&lt;1>=0，其余输出不变，又在下一个时钟沿到来时SEL&lt;1>置低电平，SEL&lt;0>保持低电平不变，此时，OUT&lt;1>=IN&lt;1>，OUT&lt;2>=0，依次类推在经过63次切换后SEL&lt;0:62>都为低电平，此时OUT&lt;0>=IN&lt;0>，OUT&lt;1>=IN&lt;1>，……，OUT&lt;62>=IN&lt;62>，OUT&lt;63>=0。</p><p>第一开关选择电路104的数据输入端的信号IN&lt;62:0>为译码器103的输出，其选择输.入端的信号SEL&lt;0:62>的切换过程跟第二开关选择电路107相同。</p><p>第二开关选择电路107和第一开关选择电路104的输出同步，第二开关选择电路107的输出用于赋予高位电流源阵列110的SEL_OUT&lt;63:0>信号值，当SEL_OUT的值为低电平时第N个电流源切换到校正状态，其余正常工作。在一次完整的校正过程中，从第一个到最后一个依次校正，当SEL&lt;62:0>全部切换到低电平时所有电流源完成一次校正，SEL&lt;62:0>置为高电平，在下一个校正时钟沿到来时进行第二次校正。在工作过程中进行校正可以校正工作环境改变引入的失配误差[5]。</p><p>具体校正步骤：</p><p>步骤201：译码器103对DAC高位输入码进行温度计译码并输入到第一开关选择电路104的数据输入端;第二开关选择电路107的数据输入端置高电平。</p><p>步骤202：移位寄存器106的输出控制第一开关选择电路104和第二开关选择电路107的选择输入端，两个开关选择电路分别通过两个锁存器控制高位电流源阵列的高位数据开关阵列和选择开关阵列，选择一个电流源单元进行校正，其余电流源单元继续工作，其中被校正电流源单元接到校正端连接电流比较器的第一输入端，其余电流源单元接到输出端。</p><p>步骤203：将被校正电流源单元中的高位电流源与参考电流源比较，其中参考电流源大小为低位电流源电流值大小的256倍。</p><p>步骤204：判断被校正电流源单元的高位电流源与参考电流源的电流之差是否在预定精度内，如果在预定精度内则在下一个校正周期返回步骤202选择下一个被校正电流源单元;如果没有则继续步骤205。</p><p>步骤205 当被校正电流源单元中的高位电流源电流大于参考电流源电流时，通过被校正电流源单元中的校正电流源抽取被校正电流源单元中高位电流源的一部分电流，当被校正电流源单元中高位电流源的电流小于参考电流源时，通过被校正电流源单元中校正电流源给被校正电流源单元中的高位电流源补电流。</p><p>步骤206：将经过步骤205增减电流的被校正电流源单元中的高位电流源与参考电流源比较，判断其电流之差是否在预定精度内，如果在预定精度内则在下一个校正周期返回步骤202选择下一个被校正电流源单元;如果没有则返回步骤205对被校正电流源单元中的高位电流源再进行加减电流操作。</p><p>校正过程与传统的前台校正不同的是，校正是在DAC工作过程中持续的，这样可以把DAC工作中产生的误差校正回来。因此，在这种校正算法下，电流舵DAC的性能可以得到显著提高。</p><p><strong>3建模结果验证</strong></p><p>在matlab中将所有开关的动作逐一分解，将每个电流源的工作模式一一画出，最后将所有的结果相加。其中当译码的结果从0变成1时，该电流源开始建立，从1变成0则立刻关断降为0，码值不变时输出保持不变。电流源建立过程的电流值如下列公式给出[6]：</p><p>(3.1)</p><p>每一个电流源的电流大小与时间的关系如上，其中加入的非理想因素包括：与时间相关的幅度误差;时序误差;以及时间常数。最后得到的DAC输出为所有LSB电流以及MSB电流之和。将DAC输出结果做FFT分析得到DAC的动态性能。</p><p>通过matlab验证得到校正前和校正后12位DAC动态性能分别为图3和图4。</p><img alt=一种具有后台校正功能的电流舵DAC onerror=errorimg.call(this); src=https://p9.pstatp.com/large/613a0016e3c8151ac14d><p>图3 校正前SFDR 图4 校正后SFDR</p><p>从结果可以看出12位200MHz电流舵DAC在输入信号频率为20.3125MHz的条件下，校正后的SFDR比校正前提高了12dB。</p><p><strong>4 结论</strong></p><p>利用现有的DAC模型，并加入一个与时间相关的幅度误差变量，通过matlab建模验证，本文提出的校正算法可以有效的提高12位电流舵DAC的SFDR。</p><p><strong>参 考 文 献</strong></p><p>[1] 薛晓博，何乐年，高速高精度电流舵数模转换器关键设计技术的研究与实现 2014 34-40</p><p>[2] 韩军明 带数字校正的12bit 200MHz DAC研究与设计 2015 57-65</p><p>[3] Yonghua Cong Randall L. Geiger .A 1.5-V 14-Bit 100-MS/s Self-Calibrated DAC [J]. IEEE Journal of Solid-State Circuits, 2013:1-10</p><p>[4] 杨海峰，程龙，一种用于高速高精度DAC的数字校准方法[J].复旦学报(自然科学版)，51(1)，2012</p><p>[5] C.B. Maruthi, Dr. S. Dasgupta. A 1.2 Volt, 90nm, 16-Bit Three Way Segmented Digital to Analog Converter (DAC) for Low Power Applications [C]. ISQED, San Jose, 2009: 447-450</p><p>[6] Tao Chen, Student Member, IEEE, and Georges Gielen, Fellow, IEEE. The Analysis and Improvement of a Current-Steering DAC’s Dynamic SFDR—II: The Output-Dependent Delay Differences</p><p>作者：何广 子科技大学微电子与固体电子学院(四川 成都610054)</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'一种','电流','DAC'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>