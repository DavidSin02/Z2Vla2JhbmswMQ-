<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>不同的VLAN之间是怎么通信的，一分钟过来了解下 | 极客快訊</title><meta property="og:title" content="不同的VLAN之间是怎么通信的，一分钟过来了解下 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/ba54ce424dac4e45a79a9bdf089b0848"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e527d6a7.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e527d6a7.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e527d6a7.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e527d6a7.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e527d6a7.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e527d6a7.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e527d6a7.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e527d6a7.html><meta property="article:published_time" content="2020-10-29T21:10:19+08:00"><meta property="article:modified_time" content="2020-10-29T21:10:19+08:00"><meta name=Keywords content><meta name=description content="不同的VLAN之间是怎么通信的，一分钟过来了解下"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/e527d6a7.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>不同的VLAN之间是怎么通信的，一分钟过来了解下</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>一、VLAN 间路由</strong></p><p>在交换机上划分 VLAN 后，VLAN 间的计算机就无法通信了。VLAN 间的通信需要借助第三层设备，我们可以使用路由器来实现这个功能，如果<strong>使用路由器通常会采用单臂路由模式</strong>。实践上，VLAN 间的路由大多是通过三层交换机实现的，<strong>三层交换机可以看成是路由器加交换机</strong>。</p><p><strong>1、单臂路由</strong></p><p>处于不同 VLAN 的计算机即使它们是在同一交换机上，它们之间的通信也必须使用路由器。可以在每个 VLAN 上都有一个以太网口和路由器连接。采用这种方法，如果要实现 N 个VLAN 间的通信，则路由器需要 N 个以太网接口，同时也会占用了 N 个交换上的以太网接口。单臂路由提供另外一种解决方案。路由器只需要一个以太网接口和交换机连接，交换机的这个接口设置为 Trunk 接口。在路由器上创建多个子接口和不同的 VLAN 连接，子接口是路由器物理接口上的逻辑接口。工作原理如图 15-1，当交换机收到 VLAN1 的计算机发送的数据帧后，从它的 Trunk 接口发送数据给路由器，由于该链路是 Trunk 链路，帧中带有 VLAN1的标签，帧到了路由器后，如果数据要转发到 VLAN2 上，路由器将把数据帧的 VLAN1 标签去掉，重新用 VLAN2 的标签进行封装，通过 Trunk 链路发送到交换机上的 Trunk 接口；交换机收到该帧，去掉 VLAN2 标签，发送给 VLAN2 上的计算机，从而实现了 VLAN 间的通信。</p><div class=pgc-img><img alt=不同的VLAN之间是怎么通信的，一分钟过来了解下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ba54ce424dac4e45a79a9bdf089b0848><p class=pgc-img-caption></p></div><p><strong>2、三层交换</strong>单臂路由实现 VLAN 间的路由时转发速率较慢，实际上在局域网内部多采用三层交换。</p><p>三层交换机通常采用硬件来实现，其路由数据包的速率是普通路由器的几十倍。从使用者的角度可以把三层交换机看成是二层交换机和路由器的组合，这个虚拟的路由器和每个 VLAN 都有一个接口进行连接，不过这个接口是 VLAN1 或 VLAN2 接口。Cisco 早些年采用的基于 NetFlow 的三层交换技术；现在 Cisco 主要采用 CEF 技术。CEF 技术中，交换机利用路由表形成转发信息库（FIB），FIB 和路由表是同步的，关键的是它的查询是硬件化，查询速度快得多。除了 FIB，还有邻接表(Adjacency Table)，该表和 ARP 表有些类似，主要放置了第二层的封装信息。FIB 和邻接表都是在数据转发之前就已经建立准备好了，这样一有数据要转发，交换机就能直接利用它们进行数据转发和封装，不需要查询路由表和发送 ARP 请求，所以 VLAN 间的路由速率大大提高。</p><div class=pgc-img><img alt=不同的VLAN之间是怎么通信的，一分钟过来了解下 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/417b5a734a214c89800597276e1c90b5><p class=pgc-img-caption></p></div><h1><strong>以下是华为数通路由交换方向完整技术分享，欢迎对华为网络技术感兴趣的小伙伴们订阅。</strong></h1><p><strong>【可在专栏中进行查看订阅】</strong></p><p><a class=pgc-link data-content=mp href="https://learning.snssdk.com/feoffline/toutiao_wallet_bundles/toutiao_learning_wap/online/album_detail.html?content_id=6738011062949380360" target=_blank>华为新版HCIA数通路由交换</a><br></p><p><a class=pgc-link data-content=mp href="https://learning.snssdk.com/feoffline/toutiao_wallet_bundles/toutiao_learning_wap/online/album_detail.html?content_id=6706129837800554760" target=_blank>华为新版HCIP数通路由交换</a><br></p><p><a class=pgc-link data-content=mp href="https://learning.snssdk.com/feoffline/toutiao_wallet_bundles/toutiao_learning_wap/online/album_detail.html?content_id=6738020071936885006" target=_blank>华为新版HCIE数通路由交换</a><br></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'VLAN','之间','怎么'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>