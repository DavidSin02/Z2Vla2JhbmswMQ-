<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>BAT｜全盘或特定文件夹查找特定内容的文件路径（find或findstr） | 极客快訊</title><meta property="og:title" content="BAT｜全盘或特定文件夹查找特定内容的文件路径（find或findstr） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e59e7d8.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e59e7d8.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e59e7d8.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e59e7d8.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e59e7d8.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e59e7d8.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e59e7d8.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e59e7d8.html><meta property="article:published_time" content="2020-10-29T21:08:25+08:00"><meta property="article:modified_time" content="2020-10-29T21:08:25+08:00"><meta name=Keywords content><meta name=description content="BAT｜全盘或特定文件夹查找特定内容的文件路径（find或findstr）"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/e59e7d8.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>BAT｜全盘或特定文件夹查找特定内容的文件路径（find或findstr）</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1><strong>1 find 命令</strong></h1><p>find 帮助：<strong>C:\>find /?</strong></p><pre>C:\&gt;find /?在文件中搜索字符串。 FIND [/V] [/C] [/N] [/I] [/OFF[LINE]] "string" [[drive:][path]filename[ ...]]  /V 显示所有未包含指定字符串的行。 /C 仅显示包含字符串的行数。 /N 显示行号。 /I 搜索字符串时忽略大小写。 /OFF[LINE] 不要跳过具有脱机属性集的文件。 "string" 指定要搜索的文本字符串。 [drive:][path]filename 指定要搜索的文件。 如果没有指定路径，FIND 将搜索在提示符处键入的文本或者由另一命令产生的文本。</pre><p>find 使用示例：</p><pre>find "abc" d:\abc.txt //在abc.txt中搜索包含字符串abc的行find /i "abc" d:\abc.txt //搜索时忽略大小写find /n "abc" d:\abc.txt //显示行号find /c "abc" d:\abc.txt // /c是英文单词 count(计数)的缩写。统计行数find /v "abc" d:\abc.txt // 显示 不包含 abc 的行。</pre><h1><strong>2 findstr 命令</strong></h1><p><strong>findstr 是find的扩展，功能更强大。</strong>findstr，全英文find string，意为“查找字符串”</p><pre>FINDSTR [/B] [/E] [/L] [/R] [/S] [/I] [/X] [/V] [/N] [/M] [/O] [/P] [/F:file] [/C:string] [/G:file] [/D:dir list] [/A:color attributes] [/OFF[LINE]] strings [[drive:][path]filename[ ...]]  /B 在一行的开始配对模式。 /E 在一行的结尾配对模式。 /L 按字面意思搜索字符串。 /R 将搜索字符串作为正则表达式使用。 /S 在当前目录和所有子目录中搜索匹配文件。 /I 指定搜索不分大小写。 /X 打印完全匹配的行。 /V 只打印不包含匹配的行。 /N 在匹配的每行前打印行数。 /M 如果文件含有匹配项，只打印其文件名。 /O 在每个匹配行前打印字符偏移量。 /P 忽略有不可打印字符的文件。 /OFF[LINE] 不跳过带有脱机属性集的文件。 /A:attr 指定有十六进位数字的颜色属性。请见 "color /?" /F:file 从指定文件读文件列表 (/ 代表控制台)。 /C:string 使用指定字符串作为文字搜索字符串。 /G:file 从指定的文件获得搜索字符串。 (/ 代表控制台)。 /D:dir 查找以分号为分隔符的目录列表 strings 要查找的文字。 [drive:][path]filename 指定要查找的文件。  除非参数有 /C 前缀，请使用空格隔开搜索字符串。 例如: 'FINDSTR "hello there" x.y' 在文件 x.y 中寻找 "hello" 或 "there"。'FINDSTR /C:"hello there" x.y' 文件 x.y 寻找 "hello there"。  正则表达式的快速参考: . 通配符: 任何字符 * 重复: 以前字符或类出现零或零以上次数 ^ 行位置: 行的开始 $ 行位置: 行的终点 [class] 字符类: 任何在字符集中的字符 [^class] 补字符类: 任何不在字符集中的字符 [x-y] 范围: 在指定范围内的任何字符  Escape: 元字符 x 的文字用法 \&lt;xyz 字位置: 字的开始 xyz\&gt; 字位置: 字的结束 例子： \&lt;hello\&gt; // 精确 匹配 hello，即只匹配 hello 这个单词</pre><p>命令参数的英文：</p><pre> /b，全英文begin，意为“开始”； /e，全英文end，意为“末端”； /l，literally，意为“照字面地”；引申为“去正则表达式”。 /r,regular，意为“有规律的”；引申为“正则表达式”。 /s，subdirectory，意为“子目录”； /i，ignore，意为“忽略”；引申为“忽略大小写”； /x，exactly，意为“恰好地”；引申为“完全匹配”；（一开始意为不是这个单词，不过HAT确实高明——之所以以e为缩写，是因为前面有了end的缩写，所以以第二个字母x为缩写）。 /v，invert，意为“反转、使颠倒”（感谢doupip的单词提供）； /n，全英文number，意为“数字”；引申为“行号”； /m，merely，意为“只是”； /o,offset，意为“偏移”； /p，print，意为“打印”； /off[line]，意为“脱机文件”； /a，attribute，意为“属性”； /f，file，意为“文件”； /c，case，意为“把几个字加起来”；引申为“全部字匹配”； /g，get，意为“获得”； /d，directory，意为“目录”； class，类。 </pre><p>findstr 使用示例：</p><pre>findstr "hello" a.txt findstr "Hello" a.txt findstr默认是区分大小写的（跟find命令一样）用/i参数可以忽略大小写。findstr /i "Hello" a.txt //忽略大小写findstr /n /i "hello" a.txt //查找在那一行find /n "hello" a.txt findstr /m /i "hello" *.txt //加上/m参数，只列出包含指定字符的文件名。 findstr /b /i "hello" a.txt //查找以hello（忽略大小写）开始的行findstr /i "^hello" a.txt findstr /i "hello$" a.txt findstr /n /i "^hello$" a.txt findstr /n /i /x "hello" a.txt // /x参数用来查找完全匹配的行。 // /l参数后，findstr转换为“普通字符串模式”（其实find就是这种模式、且只有这种模式）。不能再使用正则表达式。findstr /li "hello" a.txt </pre><h1><strong>3 find 也有比 findstr 强的地方</strong></h1><p>3.1 统计含指定字符串的总行数。find /c "abc" test.txt可以统计test.txt中含有字符串abc的总行数，而findstr则没有直接提供该功能，需要配合for语句才能实现；</p><p>3.2 find可以读取Unicode格式的文本，而findstr则不行；</p><p>3.3 find可以过滤某些特殊字符，而findstr则不行，比如，我们在使用fsutil fsinfo drives语句查询磁盘分区的时候，如果想让盘符分行显示而不是显示在同一行上的时候（这在用for语句提取盘符的时候很有用），find可以大显身手，而findstr只能干瞪眼了，具体语句为： 代码: fsutil fsinfo drives|find /v ""</p><h1><strong>4 一个完整实例</strong></h1><p>查询路径F:\Website下html类别的文档中是charset-gb2312编码的文档：</p><pre>@echo offecho. &gt;fileList.txtcolor 3aecho.echo.echo 系统正在查找文件，请耐心等候......echo.echo.for %%a in (F:\Website) do ( rem这里可以是多个路径，用空格间隔 cd /d %%a\ for /r . %%b in (*.htm) do ( rem 包括html文档 if exist "%%b" (	type "%%b" | findstr /i "charset.gb2312" &amp;&amp; echo %%b&gt;&gt;fileList.txt rem 路径如果不是绝对路径，则保存在cd转到的当前路径下 ) rem find好像不能使用通配符 ))type fileList.txt | find /i "\" &amp;&amp; goto noecho.echo 文件内容没找到!del fileList.txt&gt;nul 2&gt;nulecho.pauseexit:noclsecho.echo.echo 文件查找完毕并记录在fileList.txt中 !start fileList.txt</pre><p>－End－</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'特定','文件','BAT'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>