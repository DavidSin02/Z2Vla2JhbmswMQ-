<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>如何得心应手的使用Linux的通配符？ | 极客快訊</title><meta property="og:title" content="如何得心应手的使用Linux的通配符？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/74b6148c-5588-4477-8461-36f43938b327"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e8aa03f.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e8aa03f.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e8aa03f.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e8aa03f.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e8aa03f.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e8aa03f.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e8aa03f.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e8aa03f.html><meta property="article:published_time" content="2020-10-29T20:59:26+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:26+08:00"><meta name=Keywords content><meta name=description content="如何得心应手的使用Linux的通配符？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/e8aa03f.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>如何得心应手的使用Linux的通配符？</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>引言</h1><p>计算机术语 Wildcard 中文翻译为‘通配符’，这个意译可谓是通俗易懂。</p><p>然而，我们从‘通配符’这个中文术语中却看不到一点儿原词汇 wildcards 的影子。因为 wildcard 中既没有通配(universual)，也没有符(symbol)。倘若直译，wildcard 字面含义 ’狂野卡‘，反倒更加简洁有力。狂野到何种地步呢？狂野到万能的地步。wildcard 的功能实际就是一张万能卡，是我们玩斗地主用的万能牌。</p><div class=pgc-img><img alt=如何得心应手的使用Linux的通配符？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/74b6148c-5588-4477-8461-36f43938b327><p class=pgc-img-caption></p></div><p>鉴于此，本文将以‘万能卡’指代‘wildcard’。Linux的资深读者，请自行以‘通配符’脑补替换。</p><p>wildcard（万能卡）包含三个字符，分别是星号 *，问号 ？和方括号 []。我们一一阐述。</p><h1 class=pgc-h-arrow-right>星号 * 万能卡</h1><p>字符星号(*)匹配零个或多个字符。我们拿到斗地主的一把牌，星号这张万能卡，可以当大王用，可以当王炸用，可以当四个A的炸弹用，甚至可以当做整副牌来用。这张万能卡代表零张到N张牌。</p><p>比如，我们列出当前目录下，所有以字母 D 起头的文件和目录</p><pre><code>$ echo D* # 以D为开头Desktop Documents Downloads$ echo D*s # 以D为开头，s为结尾Documents Downloads</code></pre><p>我们拿到这样一张星号万能卡，斗地主自然横扫千军。</p><div class=pgc-img><img alt=如何得心应手的使用Linux的通配符？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/b8301403-866f-432f-b981-a380eaa8f1c4><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>问号 ? 万能卡</h1><p>字符问号(?)匹配任意一个字符。问号万能卡就是‘癞子斗地主’中的万能牌，可以当大王用，可以当小王用，可以当A用，但是只能作为一张牌。想要得到王炸，必须有好运气得拿到两张万能牌。</p><pre><code>$ echo s?v # 使用一张万能卡srv$ echo s?? # 使用两张万能卡srv sys$ echo s* # 区别星号万能卡sbin snap srv sys</code></pre><div class=pgc-img><img alt=如何得心应手的使用Linux的通配符？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/3756035c-44f0-4d9b-9c22-57ebc8e29832><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>方括号 [] 万能卡</h1><p>方括号[]是匹配其中的任意字符。方括号就是握牌的手，手中拿着一副牌，出牌的时候从中抽出来任意一张打出去。需要注意的是装入[]内的字符，只能匹配一个结果。比如 a[xy]b 表示的是 axb 或者 ayb，而不能表示axyb。</p><p>斗地主里，我们用[JQKA]表示任意一张大牌，用[3456789]表示任意一张小牌。</p><p>但是按照上面[3456789]这种写法的逻辑，如果将表达所有的26个英文字母，是否要背诵一遍字母表呢？还好，我们有character-class（字符类）这个功能。表达任意26个小写字母只需写成 [a-z]，26个大写字母则写成[A-Z]，表达任意一个数字写成[0-9]，同时表示三者则写作[a-zA-Z0-9]</p><p>另外，如果排除这些指定的字符，就使用!，如[!0-9], [!a-z] [!A-Z]，表示除这些之外。</p><p><br></p><div class=pgc-img><img alt=如何得心应手的使用Linux的通配符？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/0b85e79a-af84-4460-8a98-ba7cf2a01226><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>组合工具 {}</h1><p>上述的星号，问号与方括号是万能卡（wildcard）的三种形式。观察发现，上面的案例中有个显著的缺陷，就是一次只能匹配一类。比如案例一当中，‘echo D*’匹配目录下以D开头的文件或者目录。如果我既想要列出以大写D开头的，又想要以小写d开头的全部文件和目录，所能采取的方案只能是分别运行 ‘echo D*' 和 ’echo d*'。</p><p>组合工具 {} 正是解决这一问题，它如绳索一般将各自为战的命令栓到一起。</p><pre><code>$ echo {D*,d*,T*} # 输出分别以D,d,T开头的目录Desktop Documents Downloads dwhelper Templates Test</code></pre><p>另外大括号{}，作为独立的用法可以输出连续的字符，比如</p><pre><code>$ echo to{o..r}ltool topl toql torl</code></pre><p><br></p><div class=pgc-img><img alt=如何得心应手的使用Linux的通配符？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/d72fcd35-59c6-445e-83f9-59836511e7dc><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>设置 shopt</h1><p>上文中我们介绍了wildcard的三个符号以及其组合工具。这四个基本功能有其局限性。</p><p>最大的局限是只能在单层目录内匹配查找，不能实现递归查找。</p><p>比如当我试图在 '~/Documents/OrgMode/ORG'目录下，找到所有的扩展名为‘org’的文件。</p><pre><code>$ ls **/*.orgls: cannot access '**/*.org': No such file or directory</code></pre><p>此时，我们需要求助 shopt(shell options) 更改 shell 的默认设置。</p><pre><code>shopt -s globstar # s 为 set</code></pre><p>此时再尝试查找目录下所有的org文件</p><div class=pgc-img><img alt=如何得心应手的使用Linux的通配符？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/80eac4bc102c4c1192e096461be51af0><p class=pgc-img-caption></p></div><p>关闭 globstar，则运行</p><pre><code>shopt -u globstar # u 为unset</code></pre><h1 class=pgc-h-arrow-right>收尾总结</h1><p>我们从斗地主的一副牌开始，依次介绍了三种万能卡：星号(*)，问号(?)和方括号([])，以及组合工具，并在最后引入了 shopt(shopt) 更改系统的默认设置，释放万能卡的更大能量。</p><p><br></p><div class=pgc-img><img alt=如何得心应手的使用Linux的通配符？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/efcee2ed8a7246f4916958f819d49f1a><p class=pgc-img-caption></p></div><p>本文完结，盼对你有点滴启发与帮助。下回在熟悉的音乐声中，打开‘癞子斗地主’的时候，不忘忘记我们在Linux中的万能卡wildcard。</p><div class=pgc-img><img alt=如何得心应手的使用Linux的通配符？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/ad696054-9cee-43b7-8c1b-fa3e9231a12c><p class=pgc-img-caption></p></div><p>接下来，我们将探讨正则表达式 Regex。</p><p><br></p><div class=pgc-img><img alt=如何得心应手的使用Linux的通配符？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/c1992e2d-92a7-45db-9f9d-0092207a8e75><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'得心','应手','Linux'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>