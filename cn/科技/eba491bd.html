<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>如何在Linux中使用Pigz工具更快地压缩文件 | 极客快訊</title><meta property="og:title" content="如何在Linux中使用Pigz工具更快地压缩文件 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/220d02c6b1dc404388d5bb9040f0958d"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eba491bd.html><meta property="article:published_time" content="2020-11-14T21:01:36+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:36+08:00"><meta name=Keywords content><meta name=description content="如何在Linux中使用Pigz工具更快地压缩文件"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/eba491bd.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>如何在Linux中使用Pigz工具更快地压缩文件</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><br></p><blockquote><p>请关注本头条号，每天坚持更新原创干货技术文章。</p><p>如需学习视频，请在微信搜索公众号<strong>“智传网优”</strong>直接开始自助<strong>视频学习</strong></p></blockquote><h2 class=pgc-h-arrow-right>1. 前言</h2><p>本文主要介绍如何在Linux中使用Pigz工具更快地压缩文件。</p><p>Pigz是GZip并行实现的首字母缩写，由Mark Adler编写。它是一个极好的压缩工具，可以帮助您以惊人的速度压缩文件。作为对旧的gzip实用程序的改进，它利用多核心和多处理器来压缩数据。</p><p>本指南将更多地介绍Pigz，并介绍如何使用该实用程序在Linux系统中压缩文件。</p><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地压缩文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/220d02c6b1dc404388d5bb9040f0958d><p class=pgc-img-caption>如何在Linux中使用Pigz工具更快地压缩文件</p></div><p><br></p><h2 class=pgc-h-arrow-right>2. 在Linux系统上安装Pigz</h2><p>安装Pigz是一件很容易的事情，因为Pigz软件安装包包含在主要发行版(如Debian和CentOS)的官方软件仓库中。</p><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地压缩文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cffc8ee91713445391e8ca9f9ff5b828><p class=pgc-img-caption>在Linux系统上安装Pigz</p></div><p><br></p><p><br>可以使用各自的包管理器在不同发行版的单个命令中安装Pigz，如下所示。</p><p><br></p><p>基于Debian/Ubuntu</p><pre><code>sudo apt install pigz -y</code></pre><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地压缩文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/eec7c7e53da74afa959bcb070d09c4f4><p class=pgc-img-caption>Debian/Ubuntu安装Pigz</p></div><p><br></p><p>基于CentOS/RHEL/Fedora</p><pre><code>sudo dnf install pigz</code></pre><p>基于Arch/Manjaro Linux</p><pre><code>sudo pacman -S pigz</code></pre><p>或者</p><pre><code>yay -S pigz</code></pre><h2 class=pgc-h-arrow-right>3. 如何用Pigz压缩文件</h2><p>若要将单个文件压缩为zip格式，请使用以下语法。</p><pre><code>pigz filename</code></pre><p>在本指南中，我们将使用文件linuxqq_2.0.0-b2-1082_amd64.deb用于演示目的。要压缩文件，请执行:</p><pre><code>pigz linuxqq_2.0.0-b2-1082_amd64.deb</code></pre><p>检查：</p><pre><code>ll linuxqq_2.0.0-b2-1082_amd64*</code></pre><p>输出</p><pre><code>-rw-rw-r-- 1 zcwyou zcwyou 12415395 4月   9 15:50 linuxqq_2.0.0-b2-1082_amd64.deb.gz</code></pre><p>但是，正如您看到的，该命令在压缩时删除原始文件。要在压缩后保留原始文件，请运行如下所示的-k选项。</p><pre><code>pigz -k zoom_amd64.deb</code></pre><p>这样，既保留了源文件，也创建了相应的压缩文件。</p><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地压缩文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f7f30045b6a44c24a270a82af0ec150f><p class=pgc-img-caption>如何用Pigz压缩文件</p></div><p><br></p><p><br>从输出结果中，我们可以清楚地看到，压缩后的原始文件仍然保留了下来。</p><p><br></p><h2 class=pgc-h-arrow-right>4. 检查Linux中压缩文件的内容</h2><p>使用-l选项和pigz命令检查压缩文件的内容，包括压缩比的统计:</p><pre><code>pigz -l zoom_amd64.deb.gz</code></pre><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地压缩文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cfa50584adf84dcf80ba089070e827f0><p class=pgc-img-caption>检查Linux中压缩文件的内容</p></div><p><br></p><p><br>从输出结果中，您不仅可以看到压缩后的文件的内容，还可以看到压缩百分比(在本例中为0.0%)。</p><p><br></p><p>此外，您可以使用从1到9的各种压缩级别。支持以下压缩级别:</p><ul><li>6 -默认压缩。</li><li>1 -最快，但提供最少的压缩。</li><li>9 -最慢但最好的压缩。</li><li>0 -没有压缩。</li></ul><p>例如，要将文件压缩到最佳压缩级别，执行:</p><pre><code>pigz -9 Tenvideo_universal_1.0.10_amd64.deb</code></pre><h2 class=pgc-h-arrow-right>5. 如何使用Pigz压缩一个目录</h2><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地压缩文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/32cd3bd2487b462f8fe3a5c65271db32><p class=pgc-img-caption>如何使用Pigz压缩一个目录</p></div><p><br></p><p><br>Pigz本身没有压缩目录的选项，它只压缩单个文件。作为一种解决方案，pigz与tar命令一起用于压缩目录。</p><p><br></p><p>如果要使用压缩目录功能，请使用参数--use-compress-program：</p><pre><code>tar --use-compress-program="pigz -k " -cf dir1.tar.gz dir1</code></pre><p>压缩目录snap</p><pre><code>tar --use-compress-program="pigz -k " -cf snap.tar.gz snap</code></pre><pre><code>zcwyou@linuxrumen:~$ du -sh ./snap</code></pre><p>40M ./snap</p><pre><code>pigz -l snap.tar.gz</code></pre><pre><code>compressed   original reduced  name   9454725   43950080   78.5%  snap.tar</code></pre><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地压缩文件 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/d90374dc70b745f49227c2db295f5093><p class=pgc-img-caption>如何使用Pigz压缩一个目录</p></div><p><br></p><h2 class=pgc-h-arrow-right>6. 压缩时如何限制处理器的数量</h2><p>我们之前提到过pigz工具在压缩文件时使用多个核心和多处理器。可以使用-p选项指定要使用的核心数量。</p><p>在下面的这个示例中，我们使用了4个处理器(-p4)的最佳压缩(用-9表示)，同时保留原始文件(-k)。</p><pre><code>pigz -9 -k -p4 Tenvideo_universal_1.0.10_amd64.deb</code></pre><h2 class=pgc-h-arrow-right>7. 如何使用Pigz解压文件</h2><p>要使用pigz解压缩文件或目录，请使用-d选项或unpigz命令。</p><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地压缩文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/afec256d61d448e79f32adfb63396e77><p class=pgc-img-caption>如何使用Pigz解压文件</p></div><p><br></p><p>使用我们的压缩文件，命令将是:</p><pre><code>pigz -d snap.tar.gz</code></pre><pre><code>unpigz dir1.tar.gz</code></pre><h2 class=pgc-h-arrow-right>8. Pigz和Gzip的比较</h2><p>以下是测试思路:</p><p>Gzip压缩</p><pre><code>time gzip file</code></pre><p>Pigz压缩</p><pre><code>time pigz file</code></pre><p>Gzip</p><pre><code>time gzip -d file.gz</code></pre><p>Pigz解压缩</p><pre><code>time unpigz file.gz</code></pre><p>通过比较，我们可以清楚地发现Pigz的压缩和解压时间比Gzip短得多。这意味着Pigz命令行工具比Gzip工具快得多</p><h2 class=pgc-h-arrow-right>9. 总结</h2><p>我们在本文中介绍了pigz命令行工具，并向您展示了如何压缩和解压文件。我们进一步比较了Pigz和Gzip，发现Pigz在压缩和解压速度上都比Gzip好。</p><p>本文已同步至博客站，尊重原创，转载时请在正文中附带以下链接：https://www.linuxrumen.com/cyml/1765.html</p><p><strong>点击了解更多，快速查看更多的技术文章列表。</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'Linux','Pigz','压缩'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>