<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>PCB设计技巧：少孔、少绕、少自动…… | 极客快訊</title><meta property="og:title" content="PCB设计技巧：少孔、少绕、少自动…… - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/738e9c23-e9a6-4708-9a8a-d7c20a3e8565"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ed7d061.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ed7d061.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ed7d061.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ed7d061.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ed7d061.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ed7d061.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ed7d061.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ed7d061.html><meta property="article:published_time" content="2020-10-29T20:52:14+08:00"><meta property="article:modified_time" content="2020-10-29T20:52:14+08:00"><meta name=Keywords content><meta name=description content="PCB设计技巧：少孔、少绕、少自动……"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/ed7d061.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>PCB设计技巧：少孔、少绕、少自动……</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>本文将探讨印刷电路板(PCB)设计新手和老手都适用的七个基本(而且关键的)技巧和策略，只要在设计过程中对这些技巧多加注意，就能为你与你的团队减少重新设计次数、缩短设计时间以及减轻整体设计结果诊断的任务；以下让我们一一看来。</p><div class=pgc-img><img alt=PCB设计技巧：少孔、少绕、少自动…… onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/738e9c23-e9a6-4708-9a8a-d7c20a3e8565><p class=pgc-img-caption></p></div><p><strong>1、熟悉工厂制造流程</strong></p><p>在这个无晶圆厂IC业者当道的时代，许多工程师其实不清楚根据他们的设计档案制造之PCB生产步骤与化学处理工艺；这并不令人惊讶。不过这种实作知识的缺乏，往往导致新手工程师做出不必要的较复杂设计决策。</p><p>设计真的需要那么复杂吗？难道不能用更大的网格来进行布线，从而降低电路板成本并提高可靠性？设计新手容易犯的其他错误，还有不必要的过小通孔尺寸以及盲孔(blind via)和埋孔(buried via)。那些先进的通孔结构是PCB设计师的利器，但其有效性高度情境化(effectiveness)，它们虽然是可用的工具，但并不表示一定要使用。</p><p>PCB设计专家Bert Simonovich的一篇博客文章就谈到了通孔尺寸比例的问题：“长宽比6:1的通孔，能确保你的电路板可以在任何地方生产。”对于大多数设计来说，只要稍加思考和规划，就可以避免那些高密度(HDI)特征并再次节省成本、提高设计的可制造性。</p><p>那些超小尺寸或单端(dead-ended)通孔进行镀铜所要求的物理学和流体力学能力，并不是所有PCB代工厂都擅长的。记住，只要有一个不良通孔就可以毁掉整片电路板；如果你的设计里有2万个通孔，那么你就有2万次失败的机会。不必要地使用HDI通孔，失败率立刻飙升。</p><p><strong>2、电路图能简化设计任务</strong></p><p>有时候只是设计一片简单电路板，画电路图(schematic)似乎是在浪费时间；特别是如果你已经有过完成一、两个设计的经验。但对于初次设计PCB的人来说，画电路图也会是个艰巨任务。跳过电路图是新手和具备中等程度经验的设计工程师经常采取的一种战略，但请从一个可以做为参考的完整电路图为起点来发展你的布线，有助于确保你的布线连结能全部完成；以下是其理由。</p><p>首先，电路图是PCB电路的视觉呈现，能传达多个层次的信息；电路的子区域分好几页详细绘制，功能相对应的零组件能安排在邻近的位置，无论其最终实体布局为何。其次，由于电路图符号会标示每个零组件的每一支接脚，很容易检查出未联机的接脚；换句话说，无论描述电路的正式规则是否被遵循，电路图有助于你快速以视觉判定，确保电路的完整。</p><p>在设计PCB时如果有一个电路图可做为基础模板，能简化布线任务。利用电路图符号来完成链接，同时你就在不需要反复思索那些连结的前提下克服了走线挑战；最后你会因为抓到了在第一次修订时遗漏的走线连结而节省了设计重做。</p><p><strong>3、使用自动布线器但勿依赖</strong></p><p>大多数专业级PCB CAD工具都有自动布线器，不过除非你设计PCB很专业，自动布线器充其量只能被用来让设计初步过关；对PCB电路链接来说，自动布线器并非一次点击就能完成的解决方案，你仍然应该要知道如何以手工布线。</p><p>自动布线器是一种高度可配置的工具，为充分发挥它们的作用，每次任务都要对布线器参数进行仔细、考虑周全的设置，甚至对单片PCB上的各个模块都要个别考虑，总之就是没有任何恰当的基本通用默认值。</p><p>当你问一个经验丰富的设计工程师：“哪种自动布线器最好用？”他们会回答：“两边耳朵中间的的东西(眼睛)；”而且他们是认真的。布线这个过程如同算法一般更像是一种艺术，本身就是启发式(heuristic)的，因此很类似传统的回溯算法(backtracking algorithm)。</p><p>回溯算法很适合用来寻找解决方案，特别是迷宫或拼图等路径选择受限的场合；但在一个开放、不受限制的场合，例如预先放置了零组件的PCB，回溯算法就无法发挥寻找优化解决方案的强项。除非自动布线器的约束条件经过工程师仔细微调，其布线成品还是需要人工检查回溯算法结果中的弱点。</p><p>走线尺寸是另一个问题点，自动布线器无法百分之百确定你打算在一条走在线通过多大的电流，所以也不能帮你确定要用多宽的走线；结果是大多数自动布线器产生的走线宽度不符规格。</p><p>当你考虑使用自动布线器时，先问问自己：“在我为板子设置好自动布线器约束条件、甚至为电路图上的每条走线都设置了约束条件之后，还有多少时间让我用手工布线？”设计工程师老手会把大部份精力放在最初的零件布局上，几乎整个设计时间的一半都致力于从以下三个方面优化组件布局：</p><ul><li>布线简化—尽量减少飞线(rat's nest，或译鼠线、鼠迹网)的交叉等等。</li><li>组件的近接—绕线越短越好。</li><li>信号时序(signal timing)考虑。</li></ul><p>老前辈们经常使用混合方法来布线—用手工进行关键布线，固定它们的位置，然后以自动布线器处理非关键走线；设计中的自动布线区域有助于管理在布线算法中的“失控(runaway)状态”，这种方法有时能在手工布线的可掌控性与自动布线的速度之间取得良好折衷。</p><p><strong>4、考虑电路板尺寸和电流</strong></p><p>大多数从事电子设计的人都知道，就像沿着河道走的河流，流动的电子也可能会遇到咽喉点和瓶颈；这一点被直接应用在车用保险丝(automotive fuse)的设计中。透过控制走线的厚度和形状(U型弯曲、V型弯曲、S形等)，保险丝可以经过校准，在电流超载时熔断于咽喉点。</p><p>问题是，设计工程师偶尔会在他们的PCB设计中遭遇类似的电气咽喉点；举例来说：在用两个陡峭45度也可以的地方，使用90度弯角；当弯曲度大于90度时，采用之字形状。充 其量那些导线只会让讯号传播速度变慢；最糟糕的情况是它们会像汽车保险丝一样在电阻点熔断。</p><p><strong>5、避开裂片风险</strong></p><p>裂片(sliver)是一种制造上的失误，可透过适当的电路板设计获得最佳管理(如图1)；为了理解裂片问题，我们需要复习一下化学蚀刻工艺。化学蚀刻是为了分解不需要的铜，但如果要蚀刻的部分特别长、薄、呈片状，那些形状有时候会在完全被分解之前整块剥离；这种裂片会飘浮在化学溶液中，有可能随机落在另一片电路板上。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=PCB设计技巧：少孔、少绕、少自动…… onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a58fff7becb644709d6edebb2c7dcafc><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图1 在这个案例中，走线之间的窄屏蔽对电路基板来说是安全的。</p><p>同样有可能发生的风险是，裂片仍留在原来那片电路板上；如果裂片够窄，酸液池可能会腐蚀掉下方足够多的铜，使裂片部分剥离。于是裂片像旗子一样黏着电路板四处飘，最后还是免不了落到那片板子上导致其他走线短路。</p><p>那么该去哪里寻找潜在的裂片？又如何避免裂片产生呢？在进行PCB布线时，最好避免留下非常窄的铜线区域(如图2)；这种区域通常是走线与焊垫间隙出现交叉、平面被填满的情况造成(图3)。将铜线的最小宽度设置为大于制造商允许的最小值，你的设计应该就不会有这方面的问题。标准的最小蚀刻宽度是0.006英吋。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=PCB设计技巧：少孔、少绕、少自动…… onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d2b3854f28d94a4abe074a905fe50318><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图2 一个非常狭窄的裂片风险区域，例如图中这个原始设计档内的案例，在制造时可能不受控制地剥离，导致短路和良率问题。</p><div class=pgc-img><img alt=PCB设计技巧：少孔、少绕、少自动…… onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/50e03a36fd1d4a45af3d34495021f599><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图3 在这个案例中，化学蚀刻会改变狭窄裂片填充的形状/尺寸；裂片剥离时会产生意料不到的碎屑或漂浮物。</p><p><strong>6、关注DRC</strong></p><p>自动布线器的设置通常是针对设计功能，而设计规则检查器(Design Rule Checker，DRC)一般是用来撷取制造商的设计约束；虽然设置过程同样繁琐，跟自动布线器比起来要好得多。大多数设计团队最终都会建立一整套设计规则，目的是标准化裸板制作成本、最大化良率，并让组装、检查和测试尽可能一致。</p><p>除了有益于设计，这些设计规则——透过将设计维持在预定义的制造限制之内——也同样有助于在采购部门建立一致性；如果电路板制造的价格是一致的，通常采购就能减少需要维护的特定PCB制造协议数量。</p><p>为了解决所有这些问题，许多PCB设计工具都内建了DRC——有些工具把它们叫做是“约束管理器 (constraint managers)”——当你在编辑时，DRC会以互动方式标记出设计违例；而一旦你针对选择的制造商设置好DRC规则，就要准备好认真对待错误。</p><p>DRC工具一般在设计上很保守，它们在报告可能的错误时也会犯错，而必须由你来判定；要筛选几百个“可能的”问题会很繁琐，但无论如何都得做。在这份问题清单中可能隐藏着你的第一次流片注定失败的原因。除此之外，如果你的设计触发大量的可能错误，代表你的走线方式需要改进。</p><p>拥有超过二十年丰富经验的Sunstone Circuits电路板设计工程师Dave Baker建议：“花点时间去了解并正确地设置布线工具提供的约束系统，并审阅所有层级的约束；约束工具可以是很强大且灵活的，但也会令人困惑和带来危险。错误的约束很容易导致有缺陷或无法制造的电路板，约束设置中的错误很可能限制DRC或使其无法作用。”</p><p>他举例指出:“可能发生的情形是，每次DRC都通过了，但电路板仍然无法制造或没有功能。我以前见过这种情形，本来设计团队因为电路板通过了DRC检查都很高兴，结果首批产品一放上测试台就冒烟；为了追踪故障原因，团队回到CAD工具的约束管理器；约束管理器没有设计意识，它会让你做任何事，无论事情多么糟糕。”</p><p>举例来说，Sunstone Circuits几乎每天都会收到我们很容易打造出来的电路板设计报价要求，除非是在一些关键领域，其设计容差和间隙被大幅压缩。这种情况使PCB代工厂(如Sunstone)不得不告知坏消息：因为容限超出我们的能力范围，我们无法制作电路板；或是我们能够制作电路板，但要加价而且有良率方面的风限。那类客户如果在设计时就考虑到特定制造商的能力，就会从中受益。</p><p><strong>7、认识现有代工厂伙伴</strong></p><p>在讨论过DRC设置之后，最后的这个PCB设计秘诀这个技巧几乎—但并不完全—是多余的；除了能帮助你正确地设置DRC规则，对你的电路板设计即将被送往生产的厂家有所了解，能获得一些额外的进厂前协助。</p><p>优良的代工厂会提供某些下单前的协助与建议，包括如何处理你的设计以减少设计反复、减少在测试台上除错时遇到的问题，还有提高电路板生产良率。美国卡内基美隆大学(Carnegie-Mellon University)的博士生Hugo在一篇部落文中针对了解制造商议题有以下评论：</p><p>“每家制造商都有自己的规格，如最小走线宽度、间距、层数等等；在开始设计之前，你应该考虑好自己的要求，然后找到一家能满足你的制造商。你的需求还包括PCB材料等 级，从FR-1(纸-酚醛树脂混合物)一直到FR-5(玻璃纤维和环氧树脂)；大多数PCB原型制造商使用FR-4，但FR-2也常用于大量消费性应用。材料种类会影响电路板的强度、耐用性、吸湿性和阻燃性(FR)。”</p><p>了解PCB工艺，以及你的制造商会采用哪种工艺和生产方法，有助于你做出更好的设计决策；去拜访一下你中意的制造服务供应商，亲自看看工艺，你可能会很惊讶。还有，在把设计图送去生产之前，善用可制造性设计(DFM)工具。</p><p><strong>总结</strong></p><p>如果以上七个基本技巧你都掌握了，代表你已经走在实现快速、可靠、专业质量PCB的道路上。</p><p>明智地使用CAD工具提供的所有设计工具，包括自动布局和自动布线，但在自动布线器设置时一定有要耐心和周密，这样才能取得良好的自动布线结果。不要依赖自动布线器做布线以外的事情；如果有必要确保设计中的电流恰当，以手工调整走线尺寸。还有无论如何，一定要相信飞线。直到这些都完全做到了，你的电路设计才会成功。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'PCB','设计','少孔'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>