<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>磁盘结构大解剖，带你认识磁盘 | 极客快訊</title><meta property="og:title" content="磁盘结构大解剖，带你认识磁盘 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/ea82c09eb10d4b5b81a4a4a3b3045306"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/edce9c3.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/edce9c3.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/edce9c3.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/edce9c3.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/edce9c3.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/edce9c3.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/edce9c3.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/edce9c3.html><meta property="article:published_time" content="2020-10-29T21:07:20+08:00"><meta property="article:modified_time" content="2020-10-29T21:07:20+08:00"><meta name=Keywords content><meta name=description content="磁盘结构大解剖，带你认识磁盘"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/edce9c3.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>磁盘结构大解剖，带你认识磁盘</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p class=ql-align-center><br></p><div class=pgc-img><img alt=磁盘结构大解剖，带你认识磁盘 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ea82c09eb10d4b5b81a4a4a3b3045306><p class=pgc-img-caption></p></div><h1>磁盘的使用</h1><p>由于磁盘固件屏蔽了磁盘的复杂的内部结构，当前对磁盘的访问变得极其简单。我们可以将磁盘理解成为一个线性的地址空间，从0开始，最大为可寻址空间为磁盘的实际容量，单位是一个扇区（512B）。因此我们对磁盘的访问其实就变成了对磁盘的某个偏移的一段长度的访问，比如要读取偏移为15，长度为2扇区的数据，示例如下图：</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=磁盘结构大解剖，带你认识磁盘 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5ada51803fb041f0b3733d4f9af827f1><p class=pgc-img-caption>图1 磁盘线性地址读取示例</p></div><p>Linux有一些工具可以直接访问磁盘，例如dd等。我们可以借助该工具实现对磁盘的读写访问。</p><h1>磁盘的内部结构</h1><p>磁盘内部相对比较复杂，但核心部件包括两个主要的移动部件；一个是磁盘组合（disk assembly） ，另一个是磁头组合（head assembly）。磁盘组合由一个或多个圆盘（platter）组成，它们围绕着一根中心主轴旋转。圆盘的上表面和下表面涂覆了一薄层磁性材料，二进制位被存储在这些磁性材料上。其中，0和1在磁材料中表现为不同的模式。盘片的直径一般是3.5英寸，尽管直径从一英寸到几英尺的磁盘都已经制造出来。磁头组合承载着磁头。每一个盘面有一个磁头，它极其贴近地悬浮在盘面上，但是绝对不与盘面接触（否则就要发生“头损毁”，盘片被破坏）。磁头读出经过 它下面的盘面的磁方向，也能改变其磁方向，以便在磁盘上写信息。每个磁头被固定在一个磁头臂上，所有盘面的磁头随着磁头臂一同移进移出，磁头臂是固定的磁 头组合的一部分。为了清楚的了解磁盘的两个核心组件，本文先给出一个实际机械磁盘的内部实物图，如下：</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=磁盘结构大解剖，带你认识磁盘 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/685df65d92ab4d0798a3db76c5eb1e53><p class=pgc-img-caption>图2 磁盘内部结构实图</p></div><p>本文放大一下磁盘的磁头组合，如下图所示。可以看出磁头组合由一组摆臂组成，每个摆臂上都有磁头。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=磁盘结构大解剖，带你认识磁盘 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f11b0e2f2d34441fa70de165ecf16aec><p class=pgc-img-caption>图3 磁臂放大图</p></div><p>磁盘的数据存储是由一个个盘片组成的，我们先从个盘片结构讲起。如图4所示，图中的一圈圈灰色同心圆为一条条磁道，从圆心向外画直线，可以将磁道划分为若干个弧段，每个磁道上一个弧段被称之为一个扇区（图践绿色部分）。扇区是磁盘的最小组成单元，通常是512字节。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=磁盘结构大解剖，带你认识磁盘 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1c296357676a43109ee1536b5a26ed55><p class=pgc-img-caption>图4 盘片逻辑结构</p></div><p>图5展示了由一个个盘片组成的磁盘立体结构，一个盘片上下两面都是可读写的，图中蓝色部分叫柱面（cylinder）。</p><div class=pgc-img><img alt=磁盘结构大解剖，带你认识磁盘 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8f74da7904bb418dadbf95f58fdd20c5><p class=pgc-img-caption>图5 磁盘盘片立体结构</p></div><p>简简单介绍了磁盘结构后，下面我们将对磁盘的参数进行讲解。磁盘的常见参数如下：</p><ul><li class=ql-align-justify><strong>磁头（head）</strong></li><li class=ql-align-justify><strong>磁道（track）</strong></li><li class=ql-align-justify><strong>柱面（cylinder）</strong></li><li class=ql-align-justify><strong>扇区（sector）</strong></li><li class=ql-align-justify><strong>圆盘（platter）</strong></li></ul><p>图5中磁盘是一个 3个圆盘6个磁头，7个柱面（每个盘片7个磁道） 的磁盘，图4中每条磁道有12个扇区，所以此磁盘的容量为6*7*12*512字节。</p><p>即：</p><p><strong>存储容量 ＝ 磁头数 × 磁道(柱面)数 × 每道扇区数 × 每扇区字节数</strong></p><p>下面讲一下现代磁盘，在老式磁盘中，尽管磁道周长不同，但每个磁道上的扇区数是相等的，越往圆心扇区弧段越短，但其存储密度越高。不过这种方式显然比较浪费空间，因此现代磁盘则改为等密度结构，这意味着外围磁道上的扇区数量要大于内圈的磁道，寻址方式也改为以扇区为单位的线性寻址。为了兼容老式的3D寻址方式，现代磁盘控制器中都有一个地址翻译器将3D寻址参数翻译为线性参数。</p><p>那么如何查询磁盘的参数信息呢？以Linux操作系统为例，可以通过fdisk -l命令查看磁盘的详细信息。如图6所示，显示的磁盘的详细信息。</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=磁盘结构大解剖，带你认识磁盘 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/37790fa1084d4119b4d7d798b42b9080><p class=pgc-img-caption>图6 Linux系统磁盘信息</p></div><p>本文只是简单的介绍了一下磁盘的内部结构，其实还有很多内容，后面会慢慢介绍。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'磁盘','结构','认识'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>