<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 | 极客快訊</title><meta property="og:title" content="现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/154080345569854317f8785"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/efa3caae.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/efa3caae.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/efa3caae.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/efa3caae.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/efa3caae.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/efa3caae.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/efa3caae.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/efa3caae.html><meta property="article:published_time" content="2020-11-14T21:05:00+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:00+08:00"><meta name=Keywords content><meta name=description content="现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/efa3caae.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1>一、眼图基本概念</h1><p class=ql-align-justify><strong>1、眼图的形成原理</strong></p><p class=ql-align-justify>眼图是一系列数字信号在示波器上累积而显示的图形，它包含了丰富的信息，从眼图上可以观察出码间串扰和噪声的影响，体现了数字信号整体的特征，从而估计系统优劣程度，因而眼图分析是高速互连系统信号完整性分析的核心。另外也可以用此图形对接收滤波器的特性加以调整，以减小码间串扰，改善系统的传输性能。</p><p class=ql-align-justify></p><p class=ql-align-justify>用一个示波器跨接在接收滤波器的输出端，然后调整示波器扫描周期，使示波器水平扫描周期与接收码元的周期同步，这时示波器屏幕上看到的图形就称为眼图。示波器一般测量的信号是一些位或某一段时间的波形，更多的反映的是细节信息，而眼图则反映的是链路上传输的所有数字信号的整体特征，如下图所示：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/154080345569854317f8785><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify></p><p class=ql-align-center>图 示波器中的信号与眼图</p><p class=ql-align-justify></p><p class=ql-align-justify>如果示波器的整个显示屏幕宽度为100ns，则表示在示波器的有效频宽、取样率及记忆体配合下，得到了100ns下的波形资料。但是，对于一个系统而言，分析这么短的时间内的信号并不具有代表性，例如信号在每一百万位元会出现一次突波（Spike），但在这100ns时间内，突波出现的机率很小，因此会错过某些重要的信息。如果要衡量整个系统的性能，这么短的时间内测量得到的数据显然是不够的。设想，如果可以以重复叠加的方式，将新的信号不断的加入显示屏幕中，但却仍然记录着前次的波形，只要累积时间够久，就可以形成眼图，从而可以了解到整个系统的性能，如串扰、噪声以及其他的一些参数，为整个系统性能的改善提供依据。</p><p class=ql-align-justify></p><p class=ql-align-justify>分析实际眼图，再结合理论，一个完整的眼图应该包含从“000”到“111”的所有状态组，且每一个状态组发生的次数要尽量一致，否则有些信息将无法呈现在屏幕上，八种状态形成的眼图如下所示：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/154080345575274b4316abf><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify></p><p class=ql-align-center>图 眼图形成示意图</p><p class=ql-align-justify></p><p class=ql-align-justify>由上述的理论分析，结合示波器实际眼图的生成原理，可以知道一般在示波器上观测到的眼图与理论分析得到的眼图大致接近（无串扰等影响），如下所示：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/15408034557288652245548><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify></p><p class=ql-align-center>图 示波器实际观测到的眼图</p><p class=ql-align-justify></p><p class=ql-align-justify>如果这八种状态组中缺失某种状态，得到的眼图会不完整，如下所示：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1540803455726baceefe424><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify></p><p class=ql-align-center>图 示波器观测到的不完整的眼图</p><p class=ql-align-justify></p><p class=ql-align-justify>通过眼图可以反映出数字系统传输的总体性能，可是怎么样才能正确的掌握其判断方法呢？这里有必要对眼图中所涉及到的各个参数进行定义，了解了各个参数以后，其判断方法很简单。</p><p class=ql-align-justify></p><p class=ql-align-justify><strong>2、眼图参数定义</strong></p><p class=ql-align-justify></p><p class=ql-align-justify>相关的眼图参数有很多，如眼高、眼宽、眼幅度、眼交叉比、“1”电平，“0”电平，消光比，Q因子，平均功率等，各个参数如下图所示：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/1540803455801332d89f9fc><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 眼图各个参数</p><p class=ql-align-justify></p><p class=ql-align-justify>眼图中的“1”电平（Ptop）与“0”（Pbase）电平即是表示逻辑为1或0的电压位准值，实际中选取眼图中间的20%UI部分向垂直轴投影做直方图，直方图的中心值分别为“1”电平和“0”电平。</p><p class=ql-align-justify></p><p class=ql-align-justify>眼幅度表示“1”电平信号分布与“0”电平信号分布平均数之差，其测量是通过在眼图中央位置附近区域（通常为零点交叉时间之间距离的20%）分布振幅值进行的。</p><p class=ql-align-justify></p><p class=ql-align-justify>眼宽反映信号的总抖动，即是眼图在水平轴所开的大小，其定义为两上缘与下缘交汇的点（Crossing Point）间的时间差。交叉点之间的时间是基于信号中的两个零交叉点处的直方图平均数计算而来，每个分布的标准偏差是从两个平均数之间的差值相减而来。</p><p class=ql-align-justify></p><p class=ql-align-justify>眼高即是眼图在垂直轴所开的大小，它是信噪比测量，与眼图振幅非常相似。</p><p class=ql-align-justify></p><p class=ql-align-justify>下面详细介绍如消光比等一些复杂的概念，以帮忙理解眼图的性能。</p><p class=ql-align-justify></p><p class=ql-align-justify><strong>（1）消光比（Extinction Ratio）</strong></p><p class=ql-align-justify></p><p class=ql-align-justify>消光比定义为眼图中“1”电平与“0”电平的统计平均的比值，其计算公式可以是如下的三种：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15408034556980106b0ec7a><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify></p><p class=ql-align-justify></p><p class=ql-align-justify>消光比在光通信发射源的量测上是相当重要的参数，它的大小决定了通信信号的品质。消光比越大，代表在接收机端会有越好的逻辑鉴别率；消光比越小，表示信号较易受到干扰，系统误码率会上升。</p><p class=ql-align-justify></p><p class=ql-align-justify>消光比直接影响光接收机的灵敏度，从提高接收机灵敏度的角度希望消光比尽可能大，有利于减少功率代价。但是，消光比也不是越大越好，如果消光比太大会使激光器的图案相关抖动增加。因此，一般的对于 FP/DFB 直调激光器要求消光比不小于 8.2dB ，EML电吸收激光器消光比不小于10dB。一般建议实际消光比与最低要求消光比大 0.5~1.5dB。这不是一个绝对的数值，之所以给出这么一个数值是害怕消光比太高了，传输以后信号劣化太厉害，导致误码产生或通道代价超标。</p><p class=ql-align-justify></p><p class=ql-align-justify><strong>（2）眼交叉比</strong></p><p class=ql-align-justify></p><p class=ql-align-justify>眼图交叉比，是测量交叉点振幅与信号“1”及“0”位准之关系，因此不同交叉比例关系可传递不同信号位准。一般标准的信号其交叉比为50%，即表示信号“1”及“0”各占一半的位冷。为了测量其相关比率，使用如下图所示的统计方式。交叉位准依据交叉点垂直统计的中心窗口而计算出来的平均值，其比例方程式如下（其中的1及0位准是取眼图中间的20%为其平均值，即从40%~60%中作换算）：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/154080345579789055b64b0><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 眼图信号交叉点比例关系</p><p class=ql-align-justify></p><p class=ql-align-justify>随着交叉点比例关系的不同，表示不同的信号1或0传递质量的能耐。如下图所示，左边图形为不同交叉比例关系的眼图，对应到右边相关的1及0脉冲信号。同时也可以了解到在不同脉冲信号时间的宽度与图交叉比例的关系。</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15408034558256239796f70><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 不同眼交叉比与脉冲信号的关系</p><p class=ql-align-justify></p><p class=ql-align-justify>对于一般的信号而言，平均分布信号位准1及0是最常见的。一般要求眼图交叉比为50%，即以相同的信号脉冲1与0长度为标准，来作相关参数的验证。因此，根据眼交叉比关系的分布，可以有效地测量因不同1及0信号位准的偏差所造成的相对就振幅损失分析。例如，眼交叉比过大，即传递过多1位准信号，将会依此交叉比关系来验证信号误码、屏蔽及其极限值。眼交叉比过小，即传递过多0位准信号，一般容易造成接收端信号不易从其中抽取频率，导致无法同步，进而产生同步损失。</p><p class=ql-align-justify></p><p class=ql-align-justify><strong>（3）信号上升时间与下降时间</strong></p><p class=ql-align-justify></p><p class=ql-align-justify>一般测量上升及下降时间是以眼图占20%～80%的部分为主，其中上升时间如下图，分别以左侧交叉点左侧(20%)至右侧(80%)两块水平区间作此传递信号上升斜率时间之换算，计算公式如下： 上升时间平均（80%时间位准）-平均（20%时间位准）</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/15408034558642005a583fc><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 眼图信号上升时间</p><p class=ql-align-justify></p><p class=ql-align-justify>我们知道，时间位准20%及80%是与信号位准1及0有着相关性的。当然，如果上升时间愈短，即愈能表现出眼图中间的白色区块，即代表可传递的信号及容忍误码比率较好。 而对于眼图下降时间如下图所示，分别以右侧交叉点左侧(80%)至右侧(20%)两块水平区间作此信号传递下降斜率时间之换算，计算公式如下： 下降时间平均（20%时间位准）-平均（80%时间位准）</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1540803455897046a1d1b64><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 眼图信号下降时间</p><p class=ql-align-justify></p><p class=ql-align-justify>如同上升时间一般，如果下降时间愈短，亦愈能表现出眼图中间的白色区块，可以传递的信号及容忍误码比率愈好。</p><p class=ql-align-justify></p><p class=ql-align-justify><strong>（4）Q因子（Q Factor）</strong></p><p class=ql-align-justify></p><p class=ql-align-justify>Q因子用于测量眼图信噪比的参数，它的定义是接收机在最佳判决门限下信号功率和噪声功率的比值，可适用于各种信号格式和速率的数字信号，其计算公式如下：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/154080345574113890a7895><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify></p><p class=ql-align-justify>其中，“1”电平的平均值topP与“0”电平的平均值baseP的差为眼幅度，“1”信号噪声</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15408034557627599a5b59e><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify>Q因子综合反映眼图的质量问题。Q因子越高，眼图的质量就越好，信噪比就越高。Q因子一般受噪声、光功率、电信号是否从始端到终端阻抗匹配等因素影响。一般来说，眼图中1电平的这条线越细、越平滑，Q因子越高。在不加光衰减的情况下，发送侧光眼图的Q因子不应该小于12，接收测的Q因子不应该小于6 。</p><p class=ql-align-justify></p><p class=ql-align-justify><strong>（5）平均功率</strong></p><p class=ql-align-justify></p><p class=ql-align-justify>通过眼图反映的平均功率，即是整个数据流的平均值。与眼图振幅测量不同，平均功率则是直方图的平均值。如果数据编码正常工作，平均功率应为总眼图振幅的50%。</p><p class=ql-align-justify></p><p class=ql-align-justify><strong>（6）抖动</strong></p><p class=ql-align-justify></p><p class=ql-align-justify>抖动是在高速数据传输线中导致误码的定时噪声。如果系统的数据速率提高，在几秒内测得的抖动幅度会大体不变，但在位周期的几分之一时间内测量时，它会随着数据速率成比例提高，进而导致误码。因此，在系统中尽可能的减少这种相关抖动，提升系统总体性能。</p><p class=ql-align-justify></p><p class=ql-align-justify>抖动，描述了信号的水平波动，即信号的某特定时刻相对于其理想时间位置上的短期偏离，示意图如下：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1540803455803742ccd0ebd><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 抖动示意图</p><p class=ql-align-justify></p><p class=ql-align-justify>示波器观测到的抖动如下图所示。图中为抖动大的眼图的交点，其直方图是一个像素宽的交点块投射到时间轴上的投影。理想情况下应该为一个点，但由于码元的水平波动，导致其形成了一个区域。</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1540803455873f1321551ea><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 抖动的眼图交点</p><p class=ql-align-justify></p><p class=ql-align-justify>器件生成的固有抖动称为抖动输出。其主要来源可以分为两个：随机抖动(RJ)和确定性抖动(DJ)，其中确定性抖动(Deterministic Jitter)又可以分为周期性抖动（Periodic Jitter）、占空比失真（Duty Cycle Distortion）、码间干扰（Inter-Symbol Interference）和串扰。DCD源自时钟周期中的不对称性。ISI源自由于数据相关效应和色散导致的边沿响应变化。PJ源自周期来源的电磁捡拾，如电源馈通。串扰是由捡拾其它信号导致的。DJ的主要特点是，其峰到峰值具有上下限。DCD和ISI称为有界相关抖动，Pj和串扰称为不相关有界抖动，而RJ称为不相关无界抖动。另外，抖动分布是RJ和DJ概率密度函数的卷积。</p><p class=ql-align-justify></p><p class=ql-align-justify>分析抖动以及其具体产生原因将有助于在系统设计时尽可能的减少抖动产生的影响，同时可以确定抖动对BER的影响，并保证系统BER低于某个最大值，通常是10<sup>-12</sup>。因此，抖动的形成原因直观的表示如下图：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1540803455840f414d40a33><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 抖动形成原因</p><p class=ql-align-justify></p><p class=ql-align-justify><strong>3、眼图与系统性能</strong></p><p class=ql-align-justify></p><p class=ql-align-justify>当接收信号同时受到码间串扰和噪声的影响时，系统性能的定量分析较为困难，一般可以利用示波器，通过观察接收信号的“眼图”对系统性能进行定性的、可视的估计。由眼图可以观察出符号间干扰和噪声的影响，具体描述如下：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15408034559128857371050><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 眼图与系统性能的关系</p><p class=ql-align-justify></p><p class=ql-align-justify>眼图对于展示数字信号传输系统的性能提供了很多有用的信息：可以从中看出码间串扰的大小和噪声的强弱，有助于直观地了解码间串扰和噪声的影响，评价一个基带系统的性能优劣；可以指示接收滤波器的调整，以减小码间串扰，如： 眼图的“眼睛”张开的大小反映着码间串扰的强弱。“眼睛”张的越大，且眼图越端正，表示码间串扰越小；反之表示码间串扰越大。当存在噪声时，噪声将叠加在信号上，观察到的眼图的线迹会变得模糊不清。若同时存在码间串扰 ，“眼睛”将张开得更小。与无码间串扰时的眼图相比，原来清晰端正的细线迹，变成了比较模糊的带状线，而且不很端正。噪声越大，线迹越宽，越模糊；码间串扰越大，眼图越不端正。</p><p class=ql-align-justify></p><p class=ql-align-justify>理论分析得到如下几条结论，在实际应用中要以此为参考，从眼图中对系统性能作一论述：</p><p class=ql-align-justify></p><p class=ql-align-justify>（1）最佳抽样时刻应 在 “眼睛” 张开最大的时刻。</p><p class=ql-align-justify></p><p class=ql-align-justify>（2）对定时误差的灵敏度可由眼图斜边的斜率决定。斜率越大，对定时误差就越灵敏。</p><p class=ql-align-justify></p><p class=ql-align-justify>（3）在抽样时刻上，眼图上下两分支阴影区的垂直高度，表示最大信号畸变。</p><p class=ql-align-justify></p><p class=ql-align-justify>（4）眼图中央的横轴位置应对应判决门限电平。</p><p class=ql-align-justify></p><p class=ql-align-justify>（5）在抽样时刻，上下两分支离门限最近的一根线迹至门限的距离表示各相应电平的噪声容限，噪声瞬时值超过它就可能发生错误判决。</p><p class=ql-align-justify></p><p class=ql-align-justify>（6）对于利用信号过零点取平均来得到定时信息的接收系统，眼图倾斜分支与横轴相交的区域的大小表示零点位置的变动范围，这个变动范围的大小对提取定时信息有重要的影响。</p><p class=ql-align-justify></p><p class=ql-align-justify><strong>4、眼图与误码率</strong></p><p class=ql-align-justify></p><p class=ql-align-justify>在数字电路系统中，发送端发送出多个比特的数据，由于多种因素的影响，接收端可能会接收到一些错误的比特（即误码）。错误的比特数与总的比特数之比称为误码率，即Bit Error Ratio，简称BER。误码率是描述数字电路系统性能的最重要的参数。在GHz比特率的通信电路系统中（比如Fibre Channel、PCIe、SONET、SATA），要求BER小于或等于10<sup>-12</sup> 。 误码率较大时，通信系统的效率低、性能不稳定。影响误码率的因素包括抖动、噪声、信道的损耗、信号的比特率等。</p><p class=ql-align-justify></p><p class=ql-align-justify>误码率（BER）的测试中，码型发生器会生成数十亿个数据比特，并将这些数据比特发送给输入设备，然后在输出端接收这些数据比特。然后，误码分析仪将接收到的数据与发送的原始数据一位一位进行对比，确定哪些码接收错误，随后会给出一段时间内内计算得到的BER。考虑误码率测试的需要，我们以下面的实际测试眼图为参考，以生成BER图，参考眼图如下所示：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1540803456014e18d1cacb3><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 参考眼图</p><p class=ql-align-justify></p><p class=ql-align-justify>BER图是样点时间位置BER(t)的函数，称为BERT扫描图或浴缸曲线。简而言之，它是在相对于参考时钟给定的额定取样时间的不同时间t上测得的BER。参考时钟可以是信号发射机时钟，也可以是从接收的信号中恢复的时钟，具体取决于测试的系统。以上述的眼图为参考，眼睛张开度与误码率的关系以及其BER图如下：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/154080345608497df7e9bca><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 眼睛张开度与误码率的关系</p><p class=ql-align-center></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1540803455970c5c4f5a7ce><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 BER(T)扫描或浴缸曲线</p><p class=ql-align-justify></p><p class=ql-align-justify>上述两图中，BER图与眼图时间轴相同，两侧与眼图边沿相对应，样点位于中心。BER一定时，曲线之间的距离是该BER上的眼图张开程度。在样点接近交点时，抖动会导致BER提高到最大0.5。</p><p class=ql-align-justify></p><h1>二、眼图的生成方法探讨</h1><p class=ql-align-justify></p><p class=ql-align-justify>一般而言，生成眼图需要通过测量大量的数据，然后再从其中恢复得到。示波器测量眼图中，经过前期的数据采集，其内存中可以获得完整的数据记录。然后，利用硬件或者软件对时钟进行恢复或提取得到同步时钟信号，用此时钟信号与数据记录中的数据同步到每个比特，通过触发恢复的时钟，把数据流中捕获的多个1 UI(单位间隔，相当于一个时钟周期)的信号重叠起来，也即将每个比特的数据波形重叠，最后得到眼图。示波器眼图的形成示意图如下：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/15408034560198bf23b42f8><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 示波器眼图的形成原理</p><p class=ql-align-justify></p><p class=ql-align-justify>从上面的形成原理图中可以看出，通过用恢复的时钟信号等间隔的触发数据记录中的信号，将这些截取到的单位UI波形叠加在一起，就形成了眼图。</p><p class=ql-align-justify>通过以上的分析，从采集到的数据中恢复出时钟信号对于眼图的生成至关重要。因此，眼图与CLK的关系如下：</p><p class=ql-align-justify></p><p class=ql-align-justify>（1）采样示波器的CLK通常可能是用户提供的时钟，恢复时钟，或者与数据信号本身同步的码同步信号。</p><p class=ql-align-justify></p><p class=ql-align-justify>（2）实时示波器通过一次触发完成所有数据的采样，不需附加的同步信号和触发信号。通常通过软件PLL方法恢复时钟。</p><p class=ql-align-justify></p><p class=ql-align-justify>因此，这里有必要介绍下时钟恢复电路的功能：</p><p class=ql-align-justify></p><p class=ql-align-justify>●从接收到的数据流中恢复出原采样时钟信号 ；</p><p class=ql-align-justify>●利用恢复的时钟信号来衡量输入信号的时间、幅度等级等性能 ；</p><p class=ql-align-justify>●在输入信号的时间和幅度等特性基础上重新生成数据流，并且与恢复的时钟信号或重新生成的系统时钟同步。</p><p class=ql-align-justify></p><p class=ql-align-justify>目前，对于时钟恢复的方法，大多数用到的是基于锁相环的时钟恢复方法。锁相环包括鉴相器（phase detector）、环路滤波器（loop filter）、压控振荡器（voltage controlled oscillator，简称VCO）三个基本部分组成，其基本的原理框图如下所示：</p><p class=ql-align-justify></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=现在你可以花费较少的时间，学会关于眼图的全方位知识，点进看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1540803456015722355ac26><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>图 锁相环原理框图</p><p class=ql-align-justify>总体而言，锁相环对于时钟恢复的重要性可以体现在以下几个方面：</p><p class=ql-align-justify></p><p class=ql-align-justify>●完全集成的，并且不需要外部的参考时钟信号 ;</p><p class=ql-align-justify>●确保时钟信号与数据同步 ;</p><p class=ql-align-justify>●对时钟信号提供监视功能，当锁相环失锁时提供警报 ;</p><p class=ql-align-justify>●优化误码率——调整关于数据信号的时钟相位。</p><p class=ql-align-justify></p><p class=ql-align-justify>参考来自下述文章：</p><p class=ql-align-justify></p><p>Phase-Locked Loop (PLL) necessary for clock recovery:</p><p>Fully integrated and does not require an external reference clock.</p><p>Ensure alignment of the clock with the middle of a data word.</p><p>Monitors the CR and provides a Loss-of-Lock (LOL) alarm when the PLL loses lock.</p><p>For Optimized bit error rate (BER) – adjust clock phase relative to the data signal.</p><p class=ql-align-justify></p><p class=ql-align-justify>测试高速串行数据信号的眼图与抖动的仪器都使用了基于锁相环的时钟恢复方法。其中，实时示波器主要使用软件PLL来恢复参考时钟，取样示波器和误码率测试仪都使用硬件PLL来恢复时钟。采用软件恢复时钟方法，捕获长数据波形，将数据与恢复时钟逐位比较，完成眼图、抖动、误码率测试。可分析捕获的串行数据的每一个Bit位，避免了触发抖动和硬件恢复时钟抖动导致的测量不精确，CDR抖动和触发抖动理论为0。</p><p>来自网络，作者不详，有侵权请联系删除</p><h1><strong>卧龙会，卧虎藏龙，IT高手汇聚！由多名十几年的IT技术设计师组成。欢迎关注！想学习请点击下面“了解更多</strong></h1></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'现在','花费','时间'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>