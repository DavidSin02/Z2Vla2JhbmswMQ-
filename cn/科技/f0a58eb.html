<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>通过数据说话，R语言有哪七种可视化应用？ | 极客快訊</title><meta property="og:title" content="通过数据说话，R语言有哪七种可视化应用？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/153959835449010fc334911"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f0a58eb.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f0a58eb.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/f0a58eb.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f0a58eb.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f0a58eb.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/f0a58eb.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/f0a58eb.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f0a58eb.html><meta property="article:published_time" content="2020-10-29T20:59:30+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:30+08:00"><meta name=Keywords content><meta name=description content="通过数据说话，R语言有哪七种可视化应用？"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/f0a58eb.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>通过数据说话，R语言有哪七种可视化应用？</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p class=ql-align-center><br></p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/153959835449010fc334911><p class=pgc-img-caption></p></div><p class=ql-align-center></p><p>今天，随着数据量的不断增加，数据可视化成为将数字变成可用的信息的一个重要方式。R语言提供了一系列的已有函数和可调用的库，通过建立可视化的方式进行数据的呈现。在使用技术的方式实现可视化之前，我们可以先一起看看如何选择正确的图表类型。</p><p>作者 Dikesh Jariwala是一个软件工程师，并且在Tatvic平台上编写了一些很酷很有趣的程序。他用API编写了第一版Price Discovery。</p><p>如何选择正确的图表类型</p><p>四种可选择的基本类型：</p><p>1、 比较类图表</p><p>2、 组成类图表</p><p>3、 分布类图表</p><p>4、 关系类图表</p><p>为了选择最适合分析手中数据的图表类型，首先考虑以下几个问题：</p><p>单个图表里，需要几个变量?</p><p>单个变量，需要用多少数据点来描述?</p><p>数据是随时间的变量，还是离散的，以单体或组的形式?</p><p>针对如何选择最适宜的图表，Dr.Andrew Abela 提供了一个很好的方法示意图：</p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/15395983554816d83fafd08><p class=pgc-img-caption></p></div><p>在使用图表分析的时候，常用的有7种图表：</p><p>1. 散点图</p><p>2. 直方图</p><p>3. 柱状图和条形图</p><p>4. 箱线图</p><p>5. 面积图</p><p>6. 热点图</p><p>7. 相关图</p><p>我们使用“Big Mart data”作为案例来理解 R 可视化的实现方法，你可以点击此处下载完整的数据(google doc)。</p><p>我们将在以下篇幅介绍如何利用 R 实现可视化：</p><p>1、 散点图</p><p>使用场景：散点图通常用于分析两个连续变量之间的关系。</p><p>在上面介绍的超市数据中，如果我们想根据他们的成本数据来可视化商品的知名度，我们可以用散点图，两个连续的变量这里我们命名为Item_Visibility和Item_MRP。</p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1539598354825a57a572f0c><p class=pgc-img-caption></p></div><p>这里使用R中的ggplot()和geom_point()函数。</p><p>library(ggplot2) // ggplot2 是R中的一个函数库</p><p>ggplot(train, aes(Item_Visibility, Item_MRP)) + geom_point() + scale_x_continuous("Item</p><p>Visibility", breaks = seq(0,0.35,0.05))+ scale_y_continuous("Item MRP", breaks = seq(0,270,by =</p><p>30))+ theme_bw()</p><p>下图中增加了一个新的变量，对产品进行分类的变量，命名为Item_Type，图中以不同的颜色作为显示。</p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1539598356994ef8de4c2b4><p class=pgc-img-caption></p></div><p>R代码中增加了分组：</p><p>ggplot(train, aes(Item_Visibility, Item_MRP)) + geom_point(aes(color = Item_Type)) +</p><p>scale_x_continuous("Item Visibility", breaks = seq(0,0.35,0.05))+</p><p>scale_y_continuous("Item MRP", breaks = seq(0,270,by = 30))+</p><p>theme_bw() + labs(title="Scatterplot")</p><p>可以进一步可视化，将散点图以不同的小图表的形式呈现，下图中，每一个小图表都代表一种不同的产品：</p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1539598357114f41847d072><p class=pgc-img-caption></p></div><p>代码如下：</p><p>ggplot(train, aes(Item_Visibility, Item_MRP)) + geom_point(aes(color = Item_Type)) +</p><p>scale_x_continuous("Item Visibility", breaks = seq(0,0.35,0.05))+</p><p>scale_y_continuous("Item MRP", breaks = seq(0,270,by = 30))+</p><p>theme_bw() + labs(title="Scatterplot") + facet_wrap( ~ Item_Type)</p><p>代码中，facet_warp将图像显示在长方形图表中。</p><p>2、 直方图</p><p>使用场景：直方图用于连续变量的可视化分析。将数据划分，并用概率的形式呈现数据的规律。我们可以将分类根据需求进行组合和拆分，从而通过这种方式看到数据的变化。</p><p>继续使用上面我们引入的超市数据的例子，如果我们需要知道不同成本段的商品的数量，我们可以将所有数据画出一个直方图，Item_MRP作为横座标。如下图所示：</p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1539598354497a97bc610a8><p class=pgc-img-caption></p></div><p>下面是一个简单的画直方图的例子，使用的是R中的ggplot()和geom_histogram()函数。</p><p>ggplot(train, aes(Item_MRP)) + geom_histogram(binwidth = 2)+</p><p>scale_x_continuous("Item MRP", breaks = seq(0,270,by = 30))+</p><p>scale_y_continuous("Count", breaks = seq(0,200,by = 20))+</p><p>labs(title = "Histogram")</p><p>3、 柱状图和条形图</p><p>使用场景：柱状图一般用于表现分类的变量或者是连续的分类变量的组合。</p><p>在超市数据的例子中，如果我们需要知道在每一年新开的超市的门店数量，那么柱状图就是一个很好的图形分析的方式。用“年”的信息作为座标，如下图所示：</p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1539598355852c6624ae4c1><p class=pgc-img-caption></p></div><p>下面是一个简单的画柱状图的例子，使用的是R中的ggplot()函数。</p><p>ggplot(train, aes(Outlet_Establishment_Year)) + geom_bar(fill = "red")+theme_bw()+</p><p>scale_x_continuous("Establishment Year", breaks = seq(1985,2010)) +</p><p>scale_y_continuous("Count", breaks = seq(0,1500,150)) +</p><p>coord_flip()+ labs(title = "Bar Chart") + theme_gray()</p><p>水平柱状图</p><p>去除代码中的coord_flIP()变量，可以将直方图以水平直方图的方法呈现。</p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1539598355020f701e05fcd><p class=pgc-img-caption></p></div><p>为了得到商品重量(连续变量)和折扣店(分类变量)的关系，可使用下面的代码：</p><p>ggplot(train, aes(Item_Type, Item_Weight)) + geom_bar(stat = "identity", fill = "darkblue") +</p><p>scale_x_discrete("Outlet Type")+ scale_y_continuous("Item Weight", breaks = seq(0,15000, by =</p><p>500))+ theme(axis.text.x = element_text(angle = 90, vjust = 0.5)) + labs(title = "Bar Chart")</p><p>堆叠条形图</p><p>堆叠条形图是柱状图的一个高级版本，可以将分类变量组合进行分析。</p><p>超市数据的例子中，如果我们想要知道不同分类商品的折扣店数量，包含折扣店种类和折扣店区域，堆叠条形图就是做这种分析最为有效的图表分析方法。</p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1539598355152f01ee2198d><p class=pgc-img-caption></p></div><p>下面是一个简单的画堆叠条形图的例子，使用的是R中的ggplot()函数。</p><p>ggplot(train, aes(Outlet_Location_Type, fill = Outlet_Type)) + geom_bar()+</p><p>labs(title = "Stacked Bar Chart", x = "Outlet Location Type", y = "Count of Outlets")</p><p>4、 箱线图</p><p>使用场景：箱线图一般用于相对复杂的场景，通常是组合分类的连续变量。这种图表应用于对数据延伸的可视化分析和检测离值群。主要包含数据的5个重要节点，最小值，25%，50%，75%和最大值。</p><p>在我们的案例中，如果我们想要找出每个折扣店每个商品销售的价格的情况，包括最低价，最高价和中间价，箱线图就大有用处。除此之外，箱线图还可以提供非正常价格商品销售的情况，如下图所示。</p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/15395983564899d57580a29><p class=pgc-img-caption></p></div><p>图中，黑色的点为离值群。离值群的检测和剔除是数据挖掘中很重要的环节。</p><p>下面是一个简单的画箱线图的例子，使用的是R中的ggplot()和geom_boxplot函数。</p><p>ggplot(train, aes(Outlet_Identifier, Item_Outlet_Sales)) + geom_boxplot(fill = "red")+</p><p>scale_y_continuous("Item Outlet Sales", breaks= seq(0,15000, by=500))+</p><p>labs(title = "Box Plot", x = "Outlet Identifier")</p><p>5、 面积图</p><p>使用场景：面积图通常用于显示变量和数据的连续性。和线性图很相近，是常用的时序分析方法。另外，它也被用来绘制连续变量和分析的基本趋势。</p><p>超市案例中，当我们需要知道随着时间的眼神，折扣店商品的品种走势，我们可以画出如下的面积图，图中呈现了折扣店商品的成交量的变化。</p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/1539598355889da7de7ec82><p class=pgc-img-caption></p></div><p>下面是一个简单的画面积图的例子，用于分析折扣店商品成交数量的走势，使用的是R中的ggplot()和geom_area函数。</p><p>ggplot(train, aes(Item_Outlet_Sales)) + geom_area(stat = "bin", bins = 30, fill = "steelblue") +</p><p>scale_x_continuous(breaks = seq(0,11000,1000))+</p><p>labs(title = "Area Chart", x = "Item Outlet Sales", y = "Count")</p><p>6、 热点图</p><p>使用场景：热点图用颜色的强度(密度)来显示二维图像中的两个或多个变量之间的关系。可对图表中三个部分的进行信息挖掘，两个座标和图像颜色深度。</p><p>超市案例中，如果我们需要知道每个商品在每个折扣店的成本，如下图中所示，我们可以用三个变量Item_MRP，Outlet_Identifier和Item_type进行分析。</p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/153959835626704ba013b5f><p class=pgc-img-caption></p></div><p>暗的数据表示Item_MRP低于50，亮的数据表示Item_MRP接近250。</p><p>下面是R代码，使用了ggplot()函数做简单的热点图。</p><p>ggplot(train, aes(Outlet_Identifier, Item_Type))+</p><p>geom_raster(aes(fill = Item_MRP))+</p><p>labs(title ="Heat Map", x = "Outlet Identifier", y = "Item Type")+</p><p>scale_fill_continuous(name = "Item MRP")</p><p>7、 关系图</p><p>使用场景：关系图用作表示连续变量之间的关联性。每个单元可以标注成阴影或颜色来表明关联的程度。颜色越深，代表关联程度越高。正相关用蓝色表示，负相关用红色表示。颜色的深度随着关联程度的递增而递增。</p><p>超市案例中，用下图可以展现成本，重量，知名度与折扣店开业的年份和销售价格之间的关系。可以发现，成本和售价成正相关，而商品的重量和知名度成负相关。</p><div class=pgc-img><img alt=通过数据说话，R语言有哪七种可视化应用？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15395983563933203651a6c><p class=pgc-img-caption></p></div><p>下面是用作简单关系图的R代码，使用的是corrgram()函数。</p><p>install.packages("corrgram")</p><p>library(corrgram)</p><p>corrgram(train, order=NULL, panel=panel.shade, text.panel=panel.txt,</p><p>main="Correlogram")</p><p>通过以上的分类介绍和R程序的简单介绍，相信你可以使用R中的ggplot库进行自己的数据可视化分析了。 除了可视化分析，你还可以通过我们的网络课程进一步的学习使用R进行的数据挖掘，欢迎访问我们的网页“Google Analytics Data Mining with R”。</p><p>在不久的将来，多智时代一定会彻底走入我们的生活，有兴趣入行未来前沿产业的朋友，可以收藏<strong>多智时代</strong>，及时获取人工智能、大数据、云计算和物联网的入门知识和资讯信息，让我们一起携手，引领人工智能的未来</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'通过','数据','语言有'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>