<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>javaæµå¼ç¼–ç¨‹æ€æƒ³ | æå®¢å¿«è¨Š</title><meta property="og:title" content="javaæµå¼ç¼–ç¨‹æ€æƒ³ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/92118583492140e3b610df69c711fd87"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f388f45d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f388f45d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/f388f45d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f388f45d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f388f45d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/f388f45d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/f388f45d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f388f45d.html><meta property="article:published_time" content="2020-11-14T21:05:53+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:53+08:00"><meta name=Keywords content><meta name=description content="javaæµå¼ç¼–ç¨‹æ€æƒ³"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/f388f45d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>javaæµå¼ç¼–ç¨‹æ€æƒ³</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1>1. æµå¼æ€æƒ³æ¦‚è¿°</h1><p>Java8ä¸­æœ‰ä¸¤å¤§æœ€ä¸ºé‡è¦çš„æ”¹å˜ã€‚ç¬¬ä¸€ä¸ªæ˜¯ Lambda è¡¨è¾¾å¼ï¼›å¦å¤–ä¸€ä¸ªåˆ™æ˜¯ Stream APIã€‚</p><p>Streamæµå¼æ€æƒ³ç±»ä¼¼äºå·¥å‚è½¦é—´çš„â€œ<strong>ç”Ÿäº§æµæ°´çº¿</strong>â€ï¼ŒStreamæµä¸æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸ä¿å­˜æ•°æ®ï¼Œè€Œæ˜¯å¯¹æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†ã€‚Streamå¯ä»¥çœ‹ä½œæ˜¯æµæ°´çº¿ä¸Šçš„ä¸€ä¸ªå·¥åºã€‚åœ¨æµæ°´çº¿ä¸Šï¼Œé€šè¿‡å¤šä¸ªå·¥åºæŠŠåŸææ–™åŠ å·¥æˆä¸€ä¸ªå•†å“ã€‚</p><div class=pgc-img><img alt=javaæµå¼ç¼–ç¨‹æ€æƒ³ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/92118583492140e3b610df69c711fd87><div class=pgc-img-handler><div class="pgc-img-button editorImage fix-android"><section></section></div><div class="pgc-img-button setImageCover fix-android"><section></section></div><div class="pgc-img-button deleteImage fix-android"><section></section></div></div><div class=pgc-img-border></div></div><p><br></p><p>Stream APIï¼ˆjava.util.streamï¼‰æŠŠçœŸæ­£çš„å‡½æ•°å¼ç¼–ç¨‹é£æ ¼å¼•å…¥åˆ°Javaä¸­ï¼Œæä¾›äº†ä¸€ç§é«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„å¤„ç†æ•°æ®çš„æ–¹å¼ã€‚</p><div class=pgc-img><img alt=javaæµå¼ç¼–ç¨‹æ€æƒ³ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/cba5634313694d5cb40ea1a5e9eb3b99><div class=pgc-img-handler><div class="pgc-img-button editorImage fix-android"><section></section></div><div class="pgc-img-button setImageCover fix-android"><section></section></div><div class="pgc-img-button deleteImage fix-android"><section></section></div></div><div class=pgc-img-border></div></div><p><br></p><p>è¿™å¼ å›¾ä¸­å±•ç¤ºäº†è¿‡æ»¤ã€æ˜ å°„ã€è·³è¿‡ã€è®¡æ•°ç­‰å¤šæ­¥æ“ä½œï¼Œè¿™æ˜¯ä¸€ç§é›†åˆå…ƒç´ çš„å¤„ç†æ–¹æ¡ˆï¼Œè€Œæ–¹æ¡ˆå°±æ˜¯ä¸€ç§â€œå‡½æ•°æ¨¡å‹â€ã€‚å›¾ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ¡†éƒ½æ˜¯ä¸€ä¸ªâ€œæµâ€ï¼Œè°ƒç”¨æŒ‡å®šçš„æ–¹æ³•ï¼Œå¯ä»¥ä»ä¸€ä¸ªæµæ¨¡å‹è½¬æ¢ä¸ºå¦ä¸€ä¸ªæµæ¨¡å‹ã€‚è€Œæœ€å³ä¾§çš„æ•°å­—3æ˜¯æœ€ç»ˆç»“æœã€‚</p><p>Stream APIæ˜¯ç”¨æ¥å¤„ç†é›†åˆã€æ•°ç»„ç­‰å®¹å™¨ä¸­çš„æ•°æ®çš„ï¼Œå¤„ç†æ“ä½œæœ‰ï¼šæŸ¥è¯¢ã€ç­›é€‰ã€åˆ é™¤ã€è¿‡æ»¤ã€ç»Ÿè®¡ã€æ˜ å°„ç­‰ã€‚é›†åˆã€æ•°ç»„è®²çš„æ˜¯æ•°æ®ï¼Œè´Ÿè´£å­˜å‚¨æ•°æ®ï¼ŒStreamæµè®²çš„æ˜¯è®¡ç®—ï¼Œè´Ÿè´£å¤„ç†æ•°æ®ã€‚</p><p>Streamçš„æ‰§è¡Œæµç¨‹ï¼š</p><p>1ã€è·å–Streamæµï¼šé€šè¿‡ä¸€ä¸ªæ•°æ®æºï¼ˆå¦‚ï¼šé›†åˆã€æ•°ç»„ï¼‰ï¼Œè·å–ä¸€ä¸ªæµ</p><p>2ã€ä¸­é—´å¤„ç†æ“ä½œï¼šä¸­é—´æ“ä½œæ˜¯ä¸ªæ“ä½œé“¾ï¼Œå¯¹æ•°æ®æºçš„æ•°æ®è¿›è¡Œnæ¬¡å¤„ç†ï¼Œä½†æ˜¯åœ¨ç»ˆç»“æ“ä½œå‰ï¼Œå¹¶ä¸ä¼šçœŸæ­£æ‰§è¡Œ</p><p>3ã€ç»ˆç»“æ“ä½œï¼šä¸€æ—¦æ‰§è¡Œç»ˆç»“æ“ä½œï¼Œå°±æ‰§è¡Œä¸­é—´æ“ä½œé“¾ï¼Œæœ€ç»ˆäº§ç”Ÿç»“æœå¹¶ç»“æŸStreamã€‚ç»ˆç»“æ“ä½œæ‰§è¡Œåå°±ä¸èƒ½å†å¯¹æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œå¦‚æœè¦åŠ å·¥éœ€è¦é‡æ–°åˆ›å»ºStreamã€‚</p><p>Streamæµçš„ç‰¹ç‚¹ï¼š</p><p>ï¼ˆ1ï¼‰Streamæµæœ¬èº«ä¸è´Ÿè´£å­˜å‚¨æ•°æ®ï¼Œå­˜å‚¨æ•°æ®æ˜¯ç”¨é›†åˆã€æ•°ç»„ç­‰æ•°æ®ç»“æ„ã€‚</p><p>ï¼ˆ2ï¼‰Streamæµä¸ä¼šä¿®æ”¹æ•°æ®æºçš„æ•°æ®ï¼Œæ¯æ¬¡å¤„ç†éƒ½ä¼šè¿”å›ä¸€ä¸ªæŒæœ‰ç»“æœçš„æ–°Streamæµå¯¹è±¡ã€‚</p><p>ï¼ˆ3ï¼‰Streamæµçš„æ“ä½œæ˜¯ä¸€ä¸ªå»¶è¿Ÿæ“ä½œï¼Œä¸è°ƒç”¨ç»ˆç»“æ–¹æ³• ä¸­é—´å¤„ç†æ“ä½œä¸ä¼šæ‰§è¡Œ</p><p><strong>æ³¨æ„</strong>ï¼šStreamæµå’ŒIOï¼ˆInputStream/OutputStreamï¼‰æµæ²¡æœ‰ä»»ä½•å…³ç³»ã€‚</p><h1>2. è·å–streamæµçš„æ–¹å¼</h1><p>java.util.stream.Stream&lt;T>æ˜¯Java 8æ–°å¢çš„streamæµæ¥å£ã€‚ï¼ˆè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ã€‚ï¼‰</p><p>è·å–ä¸€ä¸ªæµéå¸¸ç®€å•ï¼Œæœ‰ä»¥ä¸‹å‡ ç§å¸¸ç”¨çš„æ–¹å¼ï¼š</p><ul><li>Collectionæ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•default Stream&lt;E> stream()ï¼Œæ‰€æœ‰çš„Collectioné›†åˆéƒ½å¯ä»¥é€šè¿‡è¯¥æ–¹æ³•è·å–æµå¯¹è±¡</li><li>é€šè¿‡æ•°ç»„å·¥å…·ç±»Arraysç±»çš„é™æ€æ–¹æ³•public static &lt;T> Stream&lt;T> stream(T[] array)è·å–æ•°ç»„å¯¹åº”çš„æµå¯¹è±¡ã€‚</li><li>Streamæ¥å£çš„é™æ€æ–¹æ³•public static&lt;T> Stream&lt;T> of(T... values)è·å–æ•°ç»„å¯¹åº”çš„æµå¯¹è±¡</li></ul><p><strong>æ ¹æ®Collectioné›†åˆè·å–æµ</strong></p><p>Collectionæ¥å£çš„æ‰€æœ‰å®ç°ç±»å‡å¯é€šè¿‡streamæ–¹æ³•è·å–æµã€‚</p><p>@Test</p><p>public void test1() {</p><p>List&lt;Integer> list = Arrays.asList(1, 4, 3, 10, 12, 21);</p><p>Stream&lt;Integer> stream = list.stream();</p><p>}</p><p>12345</p><p><strong>æ ¹æ®æ•°ç»„è·å–æµ</strong></p><p>@Test</p><p>public void test2() {</p><p>String[] array = {"aaa", "bbb", "ccc", "ddd"};</p><p>Stream&lt;String> stream1 = Arrays.stream(array);</p><p>Integer[] array2 = {1, 4, 3, 10, 12, 21};</p><p>Stream&lt;Integer> stream2 = Arrays.stream(array2);</p><p>}</p><p>@Test</p><p>public void test3() {</p><p>String[] array = {"aaa", "bbb", "ccc", "ddd"};</p><p>Stream&lt;String> stream1 = Stream.of(array);</p><p>/*int[] array2 = {1, 4, 3, 10, 12, 21};</p><p>Stream&lt;int[]> stream2 = Stream.of(array2);*/</p><p>Integer[] array2 = {1, 4, 3, 10, 12, 21};</p><p>Stream&lt;Integer> stream2 = Stream.of(array2);</p><p>}</p><p>123456789101112131415161718</p><h1>3. å¸¸ç”¨æ–¹æ³•ï¼š</h1><p>Stream API åˆ†ä¸ºä¸¤ç±»ï¼šç»ˆç»“æ–¹æ³•å’Œéç»ˆç»“æ–¹æ³•ã€‚</p><ul><li><strong>éç»ˆç»“æ–¹æ³•</strong>ï¼šè¿”å›å€¼ç±»å‹ä»ç„¶æ˜¯Streamæ¥å£ç±»å‹çš„æ–¹æ³•ï¼Œå› æ­¤æ”¯æŒé“¾å¼è°ƒç”¨</li><li><strong>ç»ˆç»“æ–¹æ³•</strong>ï¼šè¿”å›å€¼ç±»å‹ä¸å†æ˜¯Streamæ¥å£ç±»å‹çš„æ–¹æ³•ï¼Œå› æ­¤ä¸å†æ”¯æŒé“¾å¼è°ƒç”¨</li></ul><p>æ³¨æ„ï¼š</p><ul><li>éç»ˆç»“æ–¹æ³•æ˜¯å»¶è¿Ÿæ‰§è¡Œçš„ï¼Œè°ƒç”¨ç»ˆç»“æ–¹æ³•æ—¶ï¼Œæ‰ä¼šçœŸæ­£æ‰§è¡Œå‰é¢çš„éç»ˆç»“æ–¹æ³•</li><li>Stream API ä»…å¯¹Streamæµä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œä¸ä¼šä¿®æ”¹æ•°æ®æºçš„æ•°æ®ã€‚</li></ul><h1>forEach : é€ä¸€å¤„ç†</h1><p>ç»ˆç»“æ–¹æ³•ï¼Œè°ƒç”¨è¯¥æ–¹æ³•åä¸èƒ½è°ƒç”¨å…¶ä»–æ–¹æ³•ï¼Œæ–¹æ³•å£°æ˜ï¼š</p><p>void forEach(Consumer&lt;? super T> action);</p><p>1</p><p>è¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ªConsumeræ¥å£å¯¹è±¡çš„å‚æ•°ï¼Œä¼šå¯¹æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œé€ä¸€å¤„ç†ï¼Œä¾‹å¦‚éå†ï¼š</p><p>@Test</p><p>public void test1() {</p><p>List&lt;Integer> list = Arrays.asList(1, 4, 3, 10, 12, 21);</p><p>Stream&lt;Integer> stream = list.stream();</p><p>//å¯ä¼ å…¥lambdaè¡¨è¾¾å¼ã€æ–¹æ³•å¼•ç”¨ï¼šConsumer&lt;Integer> consumer = System.out::println;</p><p>stream.forEach(System.out::println);</p><p>}</p><p>1234567</p><h1>countï¼šç»Ÿè®¡æµä¸­çš„å…ƒç´ ä¸ªæ•°</h1><p>ç»ˆç»“æ–¹æ³•ï¼Œæ–¹æ³•å£°æ˜ï¼š</p><p>long count();</p><p>1</p><p>ä»£ç ç¤ºä¾‹</p><p>@Test</p><p>public void test2() {</p><p>List&lt;Integer> list = Arrays.asList(1, 4, 3, 10, 12, 21);</p><p>Stream&lt;Integer> stream = list.stream();</p><p>long count = stream.count();</p><p>System.out.println(count); //6</p><p>}</p><p>1234567</p><h1>filterï¼šè¿‡æ»¤</h1><p>éç»ˆç»“æ–¹æ³•ï¼Œæ–¹æ³•å£°æ˜ï¼š</p><p>Stream&lt;T> filter(Predicate&lt;? super T> predicate);</p><p>1</p><p>è¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ªPredicateå‡½æ•°å¼æ¥å£å¯¹è±¡çš„å‚æ•°ä½œä¸ºç­›é€‰æ¡ä»¶</p><p>ç­›é€‰å‡ºé›†åˆä¸­çš„å¶æ•°ï¼Œä»£ç ç¤ºä¾‹ï¼š</p><p>@Test</p><p>public void test3() {</p><p>List&lt;Integer> list = Arrays.asList(1, 4, 3, 10, 12, 21);</p><p>//é“¾å¼è°ƒç”¨</p><p>long count = list.stream().filter(i -> i % 2 == 0).count();</p><p>System.out.println(count);</p><p>}</p><p>1234567</p><h1>limitï¼šå–å‡ºå‰nä¸ªå…ƒç´ </h1><p>éç»ˆç»“æ–¹æ³•ï¼Œæ–¹æ³•å£°æ˜ï¼š</p><p>Stream&lt;T> limit(long maxSize);</p><p>1</p><p>å‚æ•°æ˜¯ä¸€ä¸ªlongå‹ï¼Œå¦‚æœé›†åˆå½“å‰é•¿åº¦å¤§äºå‚æ•°åˆ™è¿›è¡Œæˆªå–ï¼›å¦åˆ™ä¸è¿›è¡Œæ“ä½œ</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><p>@Test</p><p>public void test4() {</p><p>List&lt;Integer> list = Arrays.asList(1, 4, 3, 10, 12, 21);</p><p>list.stream().limit(4).forEach(System.out::println);</p><p>}</p><p>12345</p><h1>skipï¼šè·³è¿‡å‰nä¸ªå…ƒç´ </h1><p>éç»ˆç»“æ–¹æ³•ï¼Œæ–¹æ³•å£°æ˜ï¼š</p><p>Stream&lt;T> skip(long n):</p><p>1</p><p>è·³è¿‡å‰nä¸ªå…ƒç´ ï¼Œè·å–ä¸€ä¸ªæˆªå–ä¹‹åçš„æ–°æµï¼Œå¦‚æœæµçš„å½“å‰é•¿åº¦å¤§äºnï¼Œåˆ™è·³è¿‡å‰nä¸ªï¼Œå¦åˆ™å°†ä¼šå¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸º0çš„ç©ºæµã€‚</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><p>@Test</p><p>public void test5() {</p><p>List&lt;Integer> list = Arrays.asList(1, 4, 3, 10, 12, 21);</p><p>list.stream().skip(3).forEach(System.out::println); //10 12 21</p><p>}</p><p>12345</p><h1>sortedï¼šæ’åº</h1><p>è‡ªç„¶æ’åºï¼š</p><p>Stream&lt;T> sorted();</p><p>1</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><p>@Test</p><p>public void test6() {</p><p>List&lt;Integer> list = Arrays.asList(1, 4, 3, 10, 12, 21);</p><p>list.stream().sorted().forEach(System.out::println);</p><p>}</p><p>12345</p><p>å®šåˆ¶æ’åºï¼š</p><p>Stream&lt;T> sorted(Comparator&lt;? super T> comparator);</p><p>1</p><p>@Test</p><p>public void test6() {</p><p>List&lt;Integer> list = Arrays.asList(1, 4, 3, 10, 12, 21);</p><p>list.stream().sorted((i1, i2) -> -Integer.compare(i1, i2)).forEach(System.out::println);</p><p>}</p><p>12345</p><h1>mapï¼šæ˜ å°„</h1><p>éç»ˆç»“æ–¹æ³•ï¼Œæ–¹æ³•å£°æ˜ï¼š</p><p>&lt;R> Stream&lt;R> map(Function&lt;? super T, ? extends R> mapper);</p><p>1</p><p>å°†æµä¸­çš„å…ƒç´ æ˜ å°„åˆ°å¦ä¸€ä¸ªæµä¸­</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><p>@Test</p><p>public void test7() {</p><p>List&lt;Integer> list = Arrays.asList(1, 4, 3, 10, 12, 21);</p><p>//Function&lt;Integer, String> mapper = i -> i + "a";</p><p>list.stream().map(i -> i + "a").forEach(System.out::println); //1a 4a 3a 10a 12a 21a</p><p>}</p><p>123456</p><h1>distinctï¼šå»é™¤é‡å¤æ•°æ®</h1><p>éç»ˆç»“æ–¹æ³•ï¼Œæ–¹æ³•å£°æ˜ï¼š</p><p>Stream&lt;T> distinct();</p><p>1</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><p>@Test</p><p>public void test8() {</p><p>List&lt;Integer> list = Arrays.asList(4, 1, 4, 3, 10, 3, 12, 21, 3);</p><p>list.stream().distinct().forEach(System.out::println);</p><p>}</p><p>12345</p><p>è‡ªå®šä¹‰ç±»å‹æ˜¯æ ¹æ®å¯¹è±¡çš„hashCodeå’Œequalsæ¥å»é™¤é‡å¤å…ƒç´ çš„ï¼š</p><p>public class Student {</p><p>private String name;</p><p>private int age;</p><p>//æ„é€ å™¨ã€hashcodeã€equalsç­‰</p><p>}</p><p>123456</p><p>@Test</p><p>public void test9() {</p><p>Stream.of(new Student("jack", 12), new Student("lily", 17)</p><p>, new Student("mark", 17), new Student("jack", 12)</p><p>, new Student("lily", 15), new Student("john", 16))</p><p>.distinct().forEach(System.out::println);</p><p>}</p><p>1234567</p><h1>reduceï¼šå½’çº¦</h1><p>å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼</p><p>ç»ˆç»“æ–¹æ³•ï¼Œæ–¹æ³•å£°æ˜ï¼š</p><p>T reduce(T identity, BinaryOperator&lt;T> accumulator);</p><p>1</p><p>@Test</p><p>public void test11() {</p><p>List&lt;Integer> list = Arrays.asList(1, 4, 3, 10, 12, 21);</p><p>//reduceï¼š</p><p>//ç¬¬ä¸€æ¬¡ï¼Œå°†åˆå§‹å€¼èµ‹å€¼ç»™i1ï¼Œå–å‡ºç¬¬ä¸€ä¸ªå…ƒç´ èµ‹å€¼ç»™i2</p><p>//ç¬¬äºŒæ¬¡ï¼Œå°†ç¬¬ä¸€æ¬¡çš„ç»“æœèµ‹å€¼ç»™i1ï¼Œå–å‡ºäºŒä¸ªå…ƒç´ èµ‹å€¼ç»™i2</p><p>//ç¬¬ä¸‰æ¬¡ï¼Œå°†ç¬¬äºŒæ¬¡çš„ç»“æœèµ‹å€¼ç»™i1ï¼Œå–å‡ºä¸‰ä¸ªå…ƒç´ èµ‹å€¼ç»™i2</p><p>//ç¬¬å››æ¬¡ï¼Œå°†ç¬¬ä¸‰æ¬¡çš„ç»“æœèµ‹å€¼ç»™i1ï¼Œå–å‡ºå››ä¸ªå…ƒç´ èµ‹å€¼ç»™i2</p><p>System.out.println(list.stream().reduce(5, (i1, i2) -> i1 + i2)); //56</p><p>}</p><p>12345678910</p><p>Optional&lt;T> reduce(BinaryOperator&lt;T> accumulator);</p><p>1</p><p>@Test</p><p>public void test12() {</p><p>List&lt;Integer> list = Arrays.asList(1, 4, 3, 10, 12, 21);</p><p>Optional&lt;Integer> sum = list.stream().reduce((i1, i2) -> i1 + i2);</p><p>System.out.println(sum.get()); //51</p><p>}</p><p>123456</p><h1>concatï¼šç»„åˆ</h1><p>éç»ˆç»“æ–¹æ³•ï¼Œå°†ä¸¤ä¸ªStreamæµå¯¹è±¡åˆå¹¶æˆä¸€ä¸ªæ–°çš„Streamæµå¯¹è±¡ï¼Œè¯¥æ–¹æ³•ä¸ºé™æ€æ–¹æ³•ï¼Œæ–¹æ³•å£°æ˜ï¼š</p><p>public static &lt;T> Stream&lt;T> concat(Stream&lt;? extends T> a, Stream&lt;? extends T> b)</p><p>1</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><p>@Test</p><p>public void test13() {</p><p>Stream&lt;String> streamA = Stream.of("ccc", "abc", "bbb");</p><p>Stream&lt;String> streamB = Stream.of("aaa", "eee", "ddd");</p><p>Stream.concat(streamA, streamB).forEach(System.out::println);</p><p>}</p><p>123456</p><h1>collectï¼šæ”¶é›†Streamæµä¸­çš„ç»“æœåˆ°æŒ‡å®šç»“æ„</h1><h1>Streamæµä¸­çš„ç»“æœæ”¶é›†åˆ°é›†åˆä¸­</h1><p>java.util.stream.Collector&lt;T, A, R> æ¥å£å¯¹è±¡æ¥æŒ‡å®šæ”¶é›†åˆ°å“ªç§é›†åˆä¸­ï¼Œjava.util.stream.Collectors ç±»æä¾›ä¸€äº›æ–¹æ³•æ¥è¿”å› Collector æ¥å£çš„å¯¹è±¡ã€‚</p><p>@Test</p><p>public void test14() {</p><p>//è½¬ä¸ºlisté›†åˆ</p><p>List&lt;String> list = Stream.of("ccc", "abc", "bbb")</p><p>.collect(Collectors.toList());</p><p>System.out.println(list);</p><p>ArrayList&lt;String> arrayList = Stream.of("ccc", "abc", "bbb")</p><p>.collect(Collectors.toCollection(ArrayList::new));</p><p>System.out.println(arrayList);</p><p>//è½¬ä¸ºseté›†åˆ</p><p>Set&lt;String> set = Stream.of("aaa", "eee", "ddd")</p><p>.collect(Collectors.toSet());</p><p>System.out.println(set);</p><p>HashSet&lt;String> hashSet = Stream.of("aaa", "eee", "ddd")</p><p>.collect(Collectors.toCollection(HashSet::new));</p><p>System.out.println(hashSet);</p><p>}</p><p>123456789101112131415161718</p><h1>Streamæµä¸­çš„ç»“æœæ”¶é›†åˆ°æ•°ç»„ä¸­</h1><p>Streamæµæä¾›toArrayæ–¹æ³•å°†ç»“æœæ”¶é›†åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œè¿”å›å€¼ç±»å‹ä¸ºObject[]ï¼Œæ–¹æ³•å£°æ˜ï¼š</p><p>Object[] toArray();</p><p>1</p><p>@Test</p><p>public void test15() {</p><p>Object[] array = Stream.of("ccc", "abc", "bbb")</p><p>.toArray();</p><p>System.out.println(Arrays.toString(array)); //[ccc, abc, bbb]</p><p>}</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'java','ç¼–ç¨‹','æµå¼'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>