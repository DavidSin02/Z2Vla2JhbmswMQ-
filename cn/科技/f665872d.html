<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ã€Œæ•°æ®åº“ã€ rediså…¥é—¨åˆ°å®æˆ˜ | æå®¢å¿«è¨Š</title><meta property="og:title" content="ã€Œæ•°æ®åº“ã€ rediså…¥é—¨åˆ°å®æˆ˜ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f665872d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f665872d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/f665872d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f665872d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f665872d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/f665872d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/f665872d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f665872d.html><meta property="article:published_time" content="2020-11-14T20:59:32+08:00"><meta property="article:modified_time" content="2020-11-14T20:59:32+08:00"><meta name=Keywords content><meta name=description content="ã€Œæ•°æ®åº“ã€ rediså…¥é—¨åˆ°å®æˆ˜"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/f665872d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ã€Œæ•°æ®åº“ã€ rediså…¥é—¨åˆ°å®æˆ˜</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><pre><code>- åŸºæœ¬ä»‹ç» 	- ä¸ºä»€ä¹ˆä¼šç”¨redi, ä¸ºä»€ä¹ˆå¤§å°å…¬å¸éƒ½åœ¨ç”¨redis		- å¾®ä¿¡çº¢åŒ…		- å¾®åš		- æ·˜å®	- è®²åˆ°redisä¸å¾—ä¸å°†nosql		- nosqlæ˜¯ä¸åŒäºä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ç»Ÿç§°, å…¶ä¸¤è€…æœ€é‡è¦çš„åŒºåˆ«æ˜¯nosqlä¸ä½¿ç”¨sqlä½œä¸ºæŸ¥è¯¢è¯­å¥		- noqlæ•°æ®åº“å¯ä»¥ä¸éœ€è¦å›ºå®šçš„è¡¨æ ¼æ¨¡å¼, noqlæ˜¯åŸºäºé”®å€¼å¯¹, å¯ä»¥æƒ³è±¡æˆè¡¨ä¸­çš„ä¸»é”®å’Œå€¼çš„å¯¹åº”å…³ç³»		- nosql: redis, memcached, mongodb, guava(loadingCache)- rediså®šä¹‰	- redishiä¸€ä¸ªå¼€æº(BSDè®¸å¯)çš„, å†…å­˜ä¸­çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿ, ä»–å¯ä»¥ç”¨ä½œæ•°æ®åº“, ç¼“å­˜å’Œæ¶ˆæ¯ä¸­é—´ä»¶, å®ƒæ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ç»“æ„, å¦‚å­—ç¬¦ä¸²(strings), æ•°åˆ—(hashes), åˆ—è¡¨(lists),é›†åˆ(sets),æœ‰åºé›†åˆ(sorted sets) ç­‰- ä»å¤§å®¶ç†Ÿæ‚‰çš„mysqlå‡ºå‘æ¥è®¤è¯†redis	- æ¦‚å¿µ: å…³ç³»å‹æ•°æ®åº“çš„ä¸€ä¸ªé•¿æ±Ÿç”¨æ³•æ˜¯å­˜å‚¨é•¿æœŸçš„æŠ¥å‘Šæ•°æ®, å¹¶å°†è¿™äº›æŠ¥å‘Šæ•°æ®ç”¨ä½œå›ºå®šæ—¶é—´èŒƒå›´å†…çš„èšåˆæ•°æ®, æ”¶é›†èšåˆæ•°æ®çš„å¸¸è§åšæ³•æ˜¯: å…ˆå°†å„ä¸ªè¡Œæ’å…¥ä¸€ä¸ªæŠ¥å‘Šè¡¨é‡Œé¢, ä¹‹åå†é€šè¿‡æ‰«æè¿™äº›è¡Œæ¥æ”¶é›†èšåˆæ•°æ®	- å›¾è§£å‰–æmysqlçš„æ‰§è¡Œè¿‡ç¨‹(ç½‘ä¸Šè‡ªå·±æ‰¾å›¾çœ‹)- åˆ†ærediså’Œmencachedå’Œmysqlä¹‹é—´çš„åŒºåˆ«	- ä»æ•°æ®åº“ç±»å‹, æ•°æ®å­˜å‚¨æ–¹å¼, ç‰¹æ®ŠåŠŸèƒ½è®²è§£rediså’Œmencachedå’Œmysqlçš„åŒºåˆ«	- ä½œä¸ºåŒæ¬¾åŠŸèƒ½çš„å†…å­˜ç¼“å­˜äº§å“, rediså’Œmemcachedå„æœ‰ä»€ä¹ˆä¼˜åŠ¿		- å†…å­˜ç®¡ç†æœºåˆ¶			- mencachedé»˜è®¤ä½¿ç”¨Slab Allocationæœºåˆ¶ç®¡ç†å†…å­˜, å…¶ä¸»è¦æ€æƒ³æŒ‰ç…§é¢„å…ˆè§„å®šçš„å¤§å°, å°†åˆ†é…çš„å†…å­˜åˆ†å‰²æˆç‰¹å®šé•¿åº¦çš„å—, ä»¥å­˜å‚¨ç›¸åº”é•¿åº¦çš„key-valueæ•°æ®è®°å½•, ä»¥å®Œå…¨è§£å†³å†…å®¹ç¢ç‰‡é—®é¢˜, 			- redisä½¿ç”¨ç°åœºç”³è¯·å†…å­˜çš„æ–¹å¼æ¥å­˜å‚¨æ•°æ®, å¹¶ä¸”å¾ˆå°‘ä½¿ç”¨free-listç­‰æ–¹å¼æ¥ä¼˜åŒ–å†…å­˜åˆ†é…, ä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå­˜åœ¨å†…å­˜ç¢ç‰‡		- æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆ			- memcachedä¸æ”¯æŒå†…å­˜æ•°æ®çš„æŒä¹…åŒ–æ“ä½œ, æ‰€æœ‰çš„æ•°æ®éƒ½ä»¥in-memoryçš„å½¢å¼å­˜å‚¨			- redisæ”¯æŒæŒä¹…åŒ–æ“ä½œ, rediæä¾›äº†ä¸¤ç§ä¸åŒçš„æŒä¹…åŒ–æ–¹æ³•æ¥å°†æ•°æ®å­˜å‚¨åˆ°ç¡¬ç›˜é‡Œé¢				- ç¬¬ä¸€ç§æ˜¯rdbå½¢å¼: åŸºäºå…¨é‡æŠ¤å…·å¤‡ä»½, å¤‡ä»½çš„æ˜¯æ•°æ®				- ç¬¬äºŒç§æ˜¯aofå½¢å¼: append only if, å¢é‡æŒä¹…åŒ–å¤‡ä»½, å¤‡ä»½çš„æ˜¯æŒ‡ä»¤ [ä¾‹å¦‚: set key, del key]		- ç¼“å­˜æ•°æ®è¿‡æœŸæœºåˆ¶			- mencachedåœ¨åˆ é™¤å¤±æ•ˆä¸»é”®æ—¶ä¹Ÿæ˜¯é‡‡ç”¨æ¶ˆææ–¹æ³•, å³memcachedå†…éƒ¨ä¹Ÿä¸ä¼šè§è¯†ä¸»é”®æ˜¯å¦å¤±è´¥, è€Œæ˜¯åœ¨é€šè¿‡getè®¿é—®ä¸»é”®æ—¶æ‰ä¼šæ£€æŸ¥å…¶æ˜¯å¦å·²ç»å¤±è´¥			- å®šæ—¶, å®šæœŸç­‰å¤šç§ç¼“å­˜å¤±æ•ˆæœºåˆ¶, å‡å°‘å†…å­˜æ³„éœ²- redisä½œä¸ºæ•°æ®åº“å’Œä½œä¸ºå†…å­˜ç¼“å­˜çš„ä¸¤ç§ä½¿ç”¨æ–¹æ³•	- redisä½œä¸ºæ•°æ®åº“çš„ä½¿ç”¨æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹:		- ä¼˜ç‚¹: æ²¡æœ‰Schemaçº¦æŸ, æ•°æ®ç»“æ„çš„å˜æ›´ç›¸å¯¹å®¹æ˜“, æŠ—å‹èƒ½åŠ›å¼º, æ€§èƒ½æé«˜		- ç¼ºç‚¹: æ²¡æœ‰ç´¢å¼•, æ²¡æœ‰å¤–é”®, ç¼ºå°‘int/dateç­‰åŸºæœ¬æ•°æ®ç±»å‹, å¤šæ¡ä»¶æŸ¥è¯¢éœ€è¦é€šè¿‡é›†åˆå†…è”(sinter, zintertore)å’Œé“¾æ¥é—´æ¥å¼€å‘æ•ˆç‡ä½, å¯ç»´æŠ¤æ€§ä¸ä½³	- redisä½œä¸ºç¼“å­˜çš„å·¦å³, æ­é…æ•°æ®åº“ä½¿ç”¨çš„ä¸¤ç§æ–¹æ³•		- jedisæ•´åˆä½¿ç”¨æ–¹æ¡ˆ			- ç¬¬ä¸€å±‚åœ¨ç¼“å­˜è¿›è¡ŒæŸ¥è¯¢, å¦‚æœå¾—åˆ°æ•°æ®åˆ™ç›´æ¥è¿”å›			- ç¬¬äºŒå±‚åœ¨æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢, å¹¶ä¸”åˆ·æ–°ç¼“å­˜, æ–¹ä¾¿ä¸‹æ¬¡æŸ¥è¯¢		- ä½œä¸ºmybatis/hibernateäºŒçº§ç¼“å­˜ä½¿ç”¨æ–¹æ³•				- ä¸€çº§ç¼“å­˜: sqlSessionçº§åˆ«, è¿›ç¨‹ç¼“å­˜, å•æ¬¡é“¾æ¥æœ‰æ•ˆ	- å›¾è§£åˆ†æåŠ rediså‰åçš„æ¶æ„åŒºåˆ«		</code></pre><h3 class=pgc-h-arrow-right>æŒæ¡redisäº”ä¸­æ•°æ®ç»“æ„ï¼ˆstringï¼Œlistï¼Œsetï¼Œsortsetï¼Œhashï¼‰</h3><pre><code>- Stringï¼š æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œ æ™®é€šçš„key/valueå­˜å‚¨éƒ½å¯ä»¥å½’ä¸ºæ­¤ç±»- set/get	- è®¾ç½®keyå¯¹åº”çš„å€¼ä¸ºstringç±»å‹çš„value	- è·å–keyå¯¹åº”çš„å€¼- mget	- æ‰¹é‡è·å–å¤šä¸ªkeyçš„å€¼ï¼Œ å¦‚æœå¯ä»¥ä¸å­˜åœ¨åˆ™è¿”å›null- incr && incrby	- incrå¯¹keyå¯¹åº”çš„å€¼è¿›è¡ŒåŠ åŠ æ“ä½œï¼Œ å¹¶è¿”å›æ–°çš„å€¼ï¼› incrbyåŠ æŒ‡å®šå€¼- decr && decrby	- decrå¯¹keyå¯¹åº”çš„å€¼è¿›è¡Œå‡å‡æ“ä½œï¼Œ å¹¶è¿”å›æ–°çš„å€¼ï¼› decrbyå‡æŒ‡å®šå€¼- sentx	- è®¾ç½®keyå¯¹åº”çš„å€¼ä¸ºStringç±»å‹çš„valueï¼Œ å¦‚æœkeyç›´å¾„å­˜åœ¨åˆ™è¿”å›0- setex	- è®¾ç½®keyå¯¹åº”çš„å€¼ä¸ºstringç±»å‹çš„valueï¼Œ å¹¶è®¾å®šæœ‰æ•ˆæ—¶é—´- å…¶ä»–æŒ‡ä»¤	- getrangeï¼š è·å–keyå¯¹åº”valueçš„å­å­—ç¬¦ä¸²	- msetï¼š æ•°é‡è®¾ç½®å¤šä¸ªkeyçš„å€¼ï¼Œ å¦‚æœæˆåŠŸè¡¨ç¤ºæ‰€æœ‰å€¼éƒ½è¢«è®¾ç½®ï¼Œ å¦åˆ™è¿”å›0è¡¨ç¤ºæ²¡æœ‰ä»»ä½•å€¼è¢«è®¾ç½®	- msetnxï¼Œ åŒmsetï¼Œ ä¸å­˜åœ¨å°±è®¾ç½®ï¼Œ ä¸ä¼šè¦†ç›–å·²æœ‰çš„key	- getsetï¼š è®¾ç½®keyçš„å€¼ï¼Œ å¹¶è¿”å›keyæ—§çš„å€¼	- appendï¼š ç»™æŒ‡å®škeyçš„valueå¢åŠ å­—ç¬¦ä¸²ï¼Œ å¹¶è¿”å›æ–°å­—ç¬¦ä¸²çš„é•¿åº¦</code></pre><h3 class=pgc-h-arrow-right>Hashç±»å‹</h3><pre><code>- Hashç±»ä¼¼äºHashMap 	- key / valueçš„å½¢å¼	- æ ¼å¼: Map&lt;String, Map&lt;String, String&gt;&gt;		- ç¬¬ä¸€ä¸ªString å°±æ˜¯ Map&lt;String, String&gt; çš„åç§°- Hash æ˜¯ä¸€ä¸ªStringç±»å‹çš„fieldå’Œvalueä¹‹é—´çš„æ˜ å°„ç±»- redisçš„Hashæ•°æ®ç±»å‹çš„key(hashè¡¨åç§°)å¯¹åº”çš„valueå®é™…çš„å†…éƒ¨å­˜å‚¨ç»“æ„ä¸ºä¸€ä¸ªHashHashMap- Hashç‰¹åˆ«é€‚åˆå­˜å‚¨å¯¹è±¡	- ç›¸å½“äºæŠŠä¸€ä¸ªå¯¹è±¡çš„æ¯ä¸ªå±æ€§å­˜å‚¨Stringç±»å‹, å°†æ•´ä¸ªå¯¹è±¡å­˜å‚¨åœ¨Hashç±»å‹ä¸­ä¼šå ç”¨æ›´å°‘å†…å­˜.- æ‰€å­˜å‚¨çš„æˆå‘˜è¾ƒå°‘æ—¶æ•°æ®å­˜å‚¨ä¸ºzipmap, å½“æˆå‘˜æ•°é‡å¤§æ—¶ä¼šè‡ªåŠ¨è½¬æˆçœŸæ­£çš„HashMap, æ­¤æ—¶encodingä¸ºht- è¿ç”¨åœºæ™¯:	- å¦‚ç”¨ä¸€ä¸ªå¯¹è±¡æ¥å­˜å‚¨å¯¹è±¡ä¿¡æ¯, å•†å“ä¿¡æ¯, è®¢å•ä¿¡æ¯ç­‰ç­‰- Hashå‘½ä»¤è®²è§£:	- hset: è®¾ç½®keyå¯¹åº”çš„HashMapä¸­çš„fieldçš„value	- hget: è·å–keyå¯¹åº”çš„HashMapä¸­çš„fieldçš„value	- hgetall: è·å–æ‰€æœ‰key-valueä¿¡æ¯	- hmset: ä¸€æ¬¡è®¾ç½®å¤šä¸ªå±æ€§	- hdel: åˆ é™¤ä¸€ä¸ªå±æ€§	- hlen: è·å–setçš„é•¿åº¦</code></pre><h3 class=pgc-h-arrow-right>LIstæ•°æ®ç±»å‹</h3><pre><code>- lpush: åœ¨keyå¯¹åº”çš„listçš„å¤´éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ - lrange: è·å–keyå¯¹åº”çš„listçš„æŒ‡å®šä¸‹æ ‡èŒƒå›´çš„å…ƒç´ , -1è¡¨ç¤ºè·å–æ‰€æœ‰å…ƒç´ - lpop: ä»keyå¯¹åº”çš„listçš„å¤´éƒ¨åˆ é™¤ä¸€ä¸ªå…ƒç´ , å¹¶è¿”å›è¯¥å…ƒç´ - rpush: åœ¨keyå¯¹åº”çš„listçš„å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ - rpop: ä»keyå¯¹åº”çš„listçš„å°¾éƒ¨åˆ é™¤ä¸€ä¸ªå…ƒç´ , å¹¶è¿”å›è¯¥å…ƒç´ - lrem: åˆ é™¤ä¸€å®šä¸ªæ•°æˆ–è€…æŒ‡å®šçš„å…ƒç´ 	- lrem list 2 value2 åˆ é™¤ä¸¤ä¸ªå€¼ä¸ºvalue2çš„è®°å½•- lindex: è·å–æŒ‡å®šç´¢å¼•ä¸‹æ ‡çš„å€¼- llen: è·å–listçš„é•¿åº¦</code></pre><h3 class=pgc-h-arrow-right>seté›†åˆ</h3><pre><code>- sadd: åœ¨keyå¯¹åº”çš„setä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ - smembers: è·å–keyå¯¹åº”çš„setçš„æ‰€æœ‰å…ƒç´ - spop: éšæœºè¿”å›å¹¶åˆ é™¤keyå¯¹åº”çš„setä¸­çš„ä¸€ä¸ªå…ƒç´ - suion: æ±‚ç»™å®škeyå¯¹åº”çš„setå¹¶é›†- sinter: æ±‚ç»™å®škeyå¯¹åº”çš„setäº¤é›†- sdiff: æ±‚ç»™å®škeyå¯¹åº”çš„setçš„å·®é›†</code></pre><h3 class=pgc-h-arrow-right>SortSetè®²è§£</h3><pre><code>- zadd: åœ¨keyå¯¹åº”çš„zsetä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ - zrange:  è·å–keyå¯¹åº”çš„zsetä¸­æŒ‡å®šèŒƒå›´çš„å…ƒç´ , -1è¡¨ç¤ºè·å–æ‰€æœ‰å…ƒç´ - zrem: åˆ é™¤keyå¯¹åº”çš„zsetä¸­çš„ä¸€ä¸ªå…ƒç´ - zrangebyscore: è¿”å›æœ‰åºé›†keyä¸­, æŒ‡å®šåˆ†æˆ·èŒƒå›´çš„å…ƒç´ åˆ—è¡¨- zrank: è¿”å›keyå¯¹åº”çš„zetä¸­æŒ‡å®šmemberçš„æ’å, å…¶ä¸­memberæŒ‰scoreå€¼é€’å¢(ä»å°åˆ°å¤§), æ’åä»¥0ä¸ºåº•, ä¹Ÿå°±æ˜¯è¯´, scoreå€¼æ˜¯æœ€å°çš„æˆå‘˜æ’åä¸º0- zcard: æŸ¥è¯¢sortsetæœ‰å¤šå°‘ä¸ªå…ƒç´ (é•¿åº¦)- setæ˜¯é€šè¿‡hasmmapå­˜å‚¨, keyå¯¹åº”etçš„å…ƒç´ , valueæ˜¯ç©ºå¯¹è±¡- sortsetæ˜¯æ€ä¹ˆå­˜å‚¨å¹¶å®ç°æ’åºçš„å‘¢, hashmapå­˜å‚¨, è¿˜åŠ äº†ä¸€å±‚è·³è·ƒè¡¨- è·³è·ƒè¡¨: ç›¸å½“äºåŒå‘é“¾è¡¨, åœ¨å…¶åŸºç¡€ä¸Šæ·»åŠ å‰å¾€æ¯”å½“å‰å…ƒç´ å¤§çš„è·³è·ƒé“¾æ¥</code></pre><h3 class=pgc-h-arrow-right>rediså‘å¸ƒè®¢é˜…</h3><pre><code>- å‘å¸ƒè®¢é˜…ä½œç”¨: ç±»ä¼¼äºä¿¡æ¯ç®¡é“, ç”¨æ¥è¿›è¡Œç³»ç»Ÿä¹‹é—´æ¶ˆæ¯è§£è€¦, ç±»ä¼¼äºmq, rabbitmq, rocketmq, kafka, activemq, ä¸»è¦æœ‰æ¶ˆæ¯å‘å¸ƒè€…å’Œæ¶ˆæ¯è®¢é˜…è€…- PUBLISH: å°†æ¶ˆæ¯messageå‘é€åˆ°æŒ‡å®šçš„å¹³é“channel, è¿”å›æ”¶åˆ°æ¶ˆæ¯çš„å®¢æˆ·ç«¯ä¿¡æ¯- SUBSCRIBE: è®¢é˜…ç»™æŒ‡å®šé¢‘é“çš„ä¿¡æ¯- UNSUBSCRIBE: å–æ¶ˆè®¢é˜…æŒ‡å®šçš„é¢‘é“, å¦‚æœä¸æŒ‡å®š, åˆ™å–æ¶ˆè®¢é˜…æ‰€æœ‰çš„é¢‘é“</code></pre><h3 class=pgc-h-arrow-right>ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“äº‹åŠ¡</h3><pre><code>- ä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡é€šå¸¸åŒ…å«äº†ä¸€ä¸ªåºåˆ—çš„å¯¹æ•°æ®åº“çš„è¯»å†™æ“ä½œ, ä»–çš„å­˜åœ¨åŒ…å«æœ‰ä»¥ä¸‹ä¸¤ä¸ªç›®çš„	- ä¸ºæ•°æ®åº“æ“ä½œåºåˆ—æä¾›äº†ä¸€ä¸ªä»å¤±è”ä¸­æ¢å¤åˆ°æ­£å¸¸çŠ¶æ€çš„æ–¹æ³•, åŒæ—¶æä¾›äº†æ•°æ®åº“å³ä½¿åœ¨å¼‚å¸¸çŠ¶æ€ä¸‹ä»ç„¶èƒ½ä¿æŒä¸€è‡´æ€§çš„æ–¹æ³•	- å½“å¤šä¸ªåº”ç”¨ç¨‹åºåœ¨å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶, å¯ä»¥åœ¨è¿™äº›åº”ç”¨ç¨‹åºä¹‹é—´æä¾›ä¸€ä¸ªéš”ç¦»æ–¹æ³•, ä»¥é˜²æ­¢å½¼æ­¤çš„æ“ä½œäº’ç›¸å¹²æ‰°- äº‹åŠ¡ACIDå››å¤§ç‰¹æ€§	- åŸå­æ€§(Atomicity): äº‹åŠ¡ä½œä¸ºä¸€ä¸ªæ•´ä½“è¢«æ‰§è¡Œ, åŒ…å«åœ¨å…¶ä¸­çš„å¯¹æ•°æ®åº“çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸ, è¦ä¹ˆå…¨éƒ¨ä¸æˆåŠŸ	- ä¸€è‡´æ€§(Consistency): äº‹åŠ¡åº”è¯¥ç¡®ä¿æ•°æ®åº“çš„çŠ¶æ€ä»ä¸€ä¸ªçŠ¶æ€è½¬å˜ä¸ºå¦ä¸€ä¸ªçŠ¶æ€ä¸€è‡´	- éš”ç¦»æ€§(Isolation): å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶, ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸ä¼šå½±å“å¦å¤–ä¸€ä¸ªäº‹åŠ¡	- æŒä¹…æ€§(Durability): å·²ç»è¢«æäº¤çš„äº‹åŠ¡å¯¹æ•°æ®çš„ä¿®æ”¹åº”è¯¥æ˜¯æ°¸ä¹…ä¿å­˜åœ¨æ•°æ®åº“ä¸­- äº‹åŠ¡éš”ç¦»æœºåˆ¶:	- read uncommitted è¯»æœªæäº¤	- read committed è¯»å·²æäº¤	- repeatable read å¯é‡å¤è¯»	- serializable ä¸²è¡ŒåŒ–</code></pre><h3 class=pgc-h-arrow-right>redisäº‹åŠ¡æœºåˆ¶</h3><pre><code>- MULTI ä¸ EXEXå‘½ä»¤	- ä»¥MULTIå¼€å§‹ä¸€ä¸ªäº‹åŠ¡, ç„¶åå°†å¤šä¸ªå‘½ä»¤å¦‚é˜Ÿåˆ—åˆ°äº‹åŠ¡ä¸­, æœ€åç”±EXECå‘½ä»¤è§¦å‘äº‹åŠ¡, ä¸€å¹¶æ‰§è¡Œåäº”ä¸­çš„æ‰€æœ‰å‘½ä»¤- DISCARDå‘½ä»¤	- DISCARDå‘½ä»¤ç”¨äºå–æ¶ˆä¸€ä¸ªäº‹åŠ¡, ä»–æ¸…ç©ºå®¢æˆ·ç«¯æ•´ä¸ªäº‹åŠ¡é˜Ÿåˆ—, ç„¶åå°†å®¢æˆ·ç«¯ä»äº‹åŠ¡çŠ¶æ€è°ƒæ•´å›éäº‹åŠ¡çŠ¶æ€, æœ€åè¿”å›å­—ç¬¦ä¸²OKç»™å®¢æˆ·ç«¯, è¯´æ˜äº‹åŠ¡å·²ç»è¢«å–æ¶ˆ- WATCHå‘½ä»¤	- WATCHå‘½ä»¤ç”¨äºåœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰è§è¯†ä»»æ„æ•°é‡çš„é”®. å½“è°ƒç”¨EXECå‘½ä»¤æ‰§è¡Œäº‹åŠ¡æ—¶, å¦‚æœä»»æ„ä¸€ä¸ªè¢«è§è¯†çš„é”®å·²ç»è¢«å…¶ä»–å®¢æˆ·ç«¯ä¿®æ”¹äº†, é‚£ä¹ˆæ•´ä¸ªäº‹åŠ¡ä¸å†æ‰§è¡Œ, ç›´æ¥è¿”å›å¤±è´¥.- å›¾è§£redisæ‰§è¡Œäº‹åŠ¡è¿‡ç¨‹åŸç†</code></pre><h3 class=pgc-h-arrow-right>redisäº‹åŠ¡ä¸ä¼ ç»Ÿå…³ç³»å‹äº‹åŠ¡çš„æ¯”è¾ƒ</h3><pre><code>- åŸå­æ€§(Automicity)	- å•ä¸ªRediså‘½ä»¤çš„æ‰§è¡Œæ˜¯åŸå­æ€§çš„, ä½†Redisæ²¡æœ‰åœ¨äº‹åŠ¡ä¸Šå¢åŠ ä»»ä½•ç»´æŒåŸå­æ€§çš„æœºåˆ¶, æ‰€ä»¥Redisäº‹åŠ¡çš„æ‰§è¡Œå¹¶ä¸æ˜¯åŸå­æ€§çš„, å¦‚æœä¸€ä¸ªäº‹åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½è¢«æˆåŠŸçš„æ‰§è¡Œ, é‚£ä¹ˆç§°è¿™ä¸ªäº‹åŠ¡æ‰§è¡ŒæˆåŠŸ- ä¸€è‡´æ€§(Consistency)	- å…¥é˜Ÿé”™è¯¯		- åœ¨å‘½ä»¤å…¥é˜Ÿçš„è¿‡ç¨‹ä¸­, å¦‚æœå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€äº†é”™è¯¯çš„å‘½ä»¤, æ¯”å¦‚å‘½ä»¤å‘½ä»¤å‚æ•°æ•°é‡ä¸å¯¹,ç­‰ç­‰, é‚£ä¹ˆæœåŠ¡å™¨å‘å®¢æˆ·ç«¯è¿”å›ä¸€ä¸ªå‡ºé”™ä¿¡æ¯, å¹¶ä¸”å°†å®¢æˆ·ç«¯çš„äº‹åŠ¡çŠ¶æ€è®¾ä¸º REDIS_DIRTY_EXEC	- æ‰§è¡Œé”™è¯¯		- å¦‚æœå‘½ä»¤åœ¨äº‹åŠ¡æ‰§è¡Œçš„è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯, æ¯”å¦‚è¯´, å¯¹ä¸€ä¸ªä¸åŒç±»å‹çš„keyæ‰§è¡Œäº†é”™è¯¯çš„é”™è¯¯, é‚£ä¹ˆRedisåªä¼šå°†é”™è¯¯åŒ…å«åœ¨äº‹åŠ¡çš„ç»“æœä¸­, è¿™ä¸ä¼šå¼•èµ·äº‹åŠ¡ä¸­æ–­æˆ–è¿™ä¸ªå¤±è´¥, ä¸ä¼šå½±å“å·²æ‰§è¡Œäº‹åŠ¡å‘½ä»¤çš„ç»“æœ, ä¹Ÿä¸ä¼šå½±å“åç»­è¦æ‰§è¡Œçš„äº‹åŠ¡å‘½ä»¤, æ‰€ä»¥ä»–å¯¹äº‹åŠ¡çš„ä¸€è‡´æ€§ä¹Ÿæ²¡æœ‰å½±å“- éš”ç¦»æ€§(Isolation)	- WATCH å‘½ä»¤ç”¨äºåœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰è§è¯†ä»»æ„æ•°é‡çš„é”®, å½“è°ƒç”¨EXECå‘½ä»¤æ‰§è¡Œäº‹åŠ¡æ—¶, å¦‚æœä»»æ„ä¸€ä¸ªè¢«ç›‘æ§çš„é”®è¢«å…¶ä»–å®¢æˆ·ç«¯ä¿®æ”¹äº†, é‚£ä¹ˆæ•´ä¸ªäº‹åŠ¡ä¸å†æ‰§è¡Œ, ç›´æ¥è¿”å›å¤±è´¥- æŒä¹…æ€§(Durability)	- å› ä¸ºäº‹åŠ¡ä¸è¿‡æ˜¯ç”¨é˜Ÿåˆ—åŒ…è£¹èµ·äº†ä¸€ç»„Rediså‘½ä»¤, å¹¶æ²¡æœ‰æä¾›ä»»ä½•é¢å¤–çš„æŒä¹…æ€§åŠŸèƒ½, æ‰€ä»¥äº‹åŠ¡çš„æŒä¹…æ€§ç”±redisæ‰€ä½¿ç”¨çš„æŒä¹…åŒ–æ¨¡å¼å†³å®š	- redisæŒä¹…åŒ–æ¨¡å¼åŒ…æ‹¬:		- rdb: æ•°æ®å†…å­˜å¤‡ä»½		- aof(append onlyifå¢é‡å¤‡ä»½), æ¯ä¸ªä¸€ç§’åšä¸€ä¸ªå¤‡ä»½</code></pre><h3 class=pgc-h-arrow-right>springbootæ•´åˆredis</h3><pre><code>- å¼•å…¥ä¾èµ–	&lt;dependency&gt;	    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;	    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;	    &lt;version&gt;2.1.7.RELEASE&lt;/version&gt;	&lt;/dependency&gt;- å¼•å…¥bean 	- redisTemplateçš„ä½¿ç”¨, ç±»ä¼¼äº: mongoTemplate, jdbcTemplateæ•°æ®åº“é“¾æ¥å·¥å…·, RedisTemplateæ˜¯ä»redisConnectionFactoryä¸­è·å–çš„	- å¼•å…¥jaråŒ… spring-boot-starter-data-redis- å®ä¾‹ä»£ç 	- RedisConfig.java		package cn.jishupeng.redis.config;		import org.springframework.context.annotation.Bean;		import org.springframework.context.annotation.Configuration;		import org.springframework.data.redis.connection.RedisConnectionFactory;		import org.springframework.data.redis.core.RedisTemplate;				@Configuration		public class RedisConfig {		    @Bean		    public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {		        RedisTemplate&lt;String, String&gt; redisTemplate = new RedisTemplate&lt;&gt;();		        redisTemplate.setConnectionFactory(redisConnectionFactory);		        return redisTemplate;		    }		}	- textController.java		package cn.jishupeng.redis.controller;		import org.springframework.beans.factory.annotation.Autowired;		import org.springframework.data.redis.core.RedisTemplate;		import org.springframework.data.redis.core.StringRedisTemplate;		import org.springframework.web.bind.annotation.GetMapping;		import org.springframework.web.bind.annotation.RestController;				import javax.annotation.Resource;		import java.util.HashMap;		import java.util.Map;				@RestController		public class test {				    @Resource		    private RedisTemplate redisTemplate;				    @GetMapping(&#34;/setAndget&#34;)		    public String index(String name) {		        redisTemplate.opsForValue().set(&#34;name&#34;, name);				        return (String)redisTemplate.opsForValue().get(&#34;name&#34;);		    }		}		</code></pre><h3 class=pgc-h-arrow-right>redisTemplate api</h3><pre><code>- opsForValue -&gt; String- opsForSet -&gt; Set- opsForHash -&gt; Hash- opsForZset -&gt; SortSet- opsForList -&gt; List</code></pre><h3 class=pgc-h-arrow-right>springbootå¿«é€Ÿæ•´åˆmybatis(æç®€ mysqlç‰ˆæœ¬8.X)</h3><pre><code>- åŠ å…¥ä¾èµ–	&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;        &lt;dependency&gt;            &lt;groupId&gt;mysql&lt;/groupId&gt;            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;            &lt;version&gt;8.0.11&lt;/version&gt;        &lt;/dependency&gt;        &lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid --&gt;        &lt;dependency&gt;            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;            &lt;artifactId&gt;druid&lt;/artifactId&gt;            &lt;version&gt;1.1.10&lt;/version&gt;        &lt;/dependency&gt;        &lt;!-- https://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter --&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;            &lt;version&gt;2.0.1&lt;/version&gt;        &lt;/dependency&gt;        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;            &lt;version&gt;5.1.5.RELEASE&lt;/version&gt;        &lt;/dependency&gt;- é…ç½®application.propertiesæ–‡ä»¶	spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver	spring.datasource.url=jdbc:mysql://localhost:3306/redis?characterEncoding=utf-8&serverTimezone=UTC&useSSL=false&allowP	spring.datasource.username=root	spring.datasource.password=123456	spring.datasource.type=com.alibaba.druid.pool.DruidDataSource- å¯åŠ¨ç±»åŠ ä¸Š@MapperScan(basePackage = )æ³¨è§£	package cn.jishupeng.redis;	import org.mybatis.spring.annotation.MapperScan;	import org.springframework.boot.SpringApplication;	import org.springframework.boot.autoconfigure.SpringBootApplication;		@MapperScan(basePackages = &#34;cn.jishupeng.redis.mapper&#34;)	@SpringBootApplication	public class RedisApplication {		    public static void main(String[] args) {	        SpringApplication.run(RedisApplication.class, args);	    }		}	- åˆ›å»ºUserMapperåŒ…(è¯¥æ–‡ä»¶ä¸‹éƒ½æ˜¯æ¥å£æ–‡ä»¶, æ¯ä¸ªæ–‡ä»¶éƒ½è¦åŠ ä¸Š@Mapperæ³¨è§£, å¦åˆ™æ‰«æä¸åˆ°)	package cn.jishupeng.redis.mapper;	import cn.jishupeng.redis.domain.User;	import org.apache.ibatis.annotations.Mapper;	import org.apache.ibatis.annotations.Select;		import java.util.List;		@Mapper	public interface UserMapper {	    @Select(&#34;select * from user&#34;)	    User find();	}	- domain/User å®ä½“ç±»æ–‡ä»¶	package cn.jishupeng.redis.domain;	import org.springframework.stereotype.Repository;			public class User {	    private int id;	    private String username;		    public int getId() {	        return id;	    }		    public void setId(int id) {	        this.id = id;	    }		    public String getUsername() {	        return username;	    }		    public void setUsername(String username) {	        this.username = username;	    }		    @Override	    public String toString() {	        return &#34;User{&#34; +	                &#34;id=&#34; + id +	                &#34;, username=&#39;&#34; + username + &#39;\&#39;&#39; +	                &#39;}&#39;;	    }	}- controller/TestController(å¸¸è§„ä½¿ç”¨, ç›´æ¥ä½¿ç”¨@Autowiredæ³¨å…¥UserMapperæ–‡ä»¶, å°±å¯ä»¥å¿«ä¹ç©è€å•¦...)	package cn.jishupeng.redis.controller;	import cn.jishupeng.redis.mapper.UserMapper;	import org.springframework.beans.factory.annotation.Autowired;	import org.springframework.data.redis.core.RedisTemplate;	import org.springframework.data.redis.core.StringRedisTemplate;	import org.springframework.web.bind.annotation.GetMapping;	import org.springframework.web.bind.annotation.RestController;		import javax.annotation.Resource;	import java.util.HashMap;	import java.util.Map;		@RestController	public class test {	    @Autowired	    private UserMapper userMapper;		    @Resource	    private RedisTemplate redisTemplate;		    @GetMapping(&#34;/setAndget&#34;)	    public String index(String name) {	        redisTemplate.opsForValue().set(&#34;name&#34;, name);		        return (String)redisTemplate.opsForValue().get(&#34;name&#34;);	    }		    @GetMapping(&#34;/getUser&#34;)	    public String getUser() {	        return (String)userMapper.find().getUsername();	    }	}</code></pre><h3 class=pgc-h-arrow-right>redisä½œä¸ºmybatisç¼“å­˜æ•´åˆ</h3><pre><code>- ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®çš„æ—¶å€™è·å–æ•°æ®åº“çš„å€¼, å†æ¬¡è®¿é—®æ—¶ç›´æ¥ä»ç¼“å­˜ä¸­è·å–æ•°æ®- è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´- é¡¹ç›®8080ç«¯å£æ˜¯å¯¹å¤–ç«¯å£(å‘å¤–éƒ¨æš´éœ²çš„ç«¯å£), åŒºåˆ«å†…éƒ¨è¿›ç¨‹å·, æŸ¥å†…éƒ¨ç«¯å£ç”¨ps -ef|grep, æŸ¥å¤–éƒ¨ç«¯å£ç”¨ lsof -i:8080- ç¼“å­˜çº§åˆ«	- ä¸€çº§ç¼“å­˜: sqlSession, sqlå»ºç«‹é“¾æ¥åˆ°å…³é—­é“¾æ¥çš„æ•°æ®ç¼“å­˜	- äºŒçº§ç¼“å­˜: å…¨å±€- springboot cacheçš„ä½¿ç”¨: å¯ä»¥ç»“åˆredis, ehcacheç­‰ç¼“å­˜	- @Cacheable: (æŸ¥è¯¢æ—¶ä½¿ç”¨)æ¥åˆ’åˆ†å¯ç¼“å­˜çš„æ–¹æ³•, å³, ç»“æœå­˜å‚¨åœ¨ç¼“å­˜ä¸­çš„æ–¹æ³•, ä»¥ä¾¿åœ¨åç»­è°ƒç”¨(å…·æœ‰ç›¸åŒçš„å‚æ•°)æ—¶, è¿”å›ç¼“å­˜ä¸­çš„å€¼è€Œä¸å¿…å®é™…æ‰§è¡Œè¯¥æ–¹æ³•	- @CachePut: (æ›´æ–°æ—¶ä½¿ç”¨)å½“éœ€è¦æ›´æ–°ç¼“å­˜è€Œä¸å¹²æ‰°æ–¹æ³•æ‰§è¡Œæ—¶, å¯ä»¥ä½¿ç”¨@CachePutæ³¨é‡Š, ä¹Ÿå°±æ˜¯è¯´, å§‹ç»ˆæ‰§è¡Œè¯¥æ–¹æ³•å¹¶å°†å…¶ç»“æœæ”¾å…¥ç¼“å­˜ä¸­(æ ¹æ®@CachePuté€‰é¡¹)	- @CacheEvict:(åˆ é™¤æ—¶ä½¿ç”¨) å¯¹äºä»ç¼“å­˜ä¸­åˆ é™¤æ—§æˆ–æœªä½¿ç”¨çš„æ•°æ®éå¸¸æœ‰ç”¨, æŒ‡ç¤ºç¼“å­˜èŒƒå›´å†…çš„é©±é€æ˜¯å¦éœ€è¦æ‰§è¡Œè€Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ¡ç›®é©±é€- springbootæ•´åˆcacheçš„æ­¥éª¤	- å¼•å…¥ä¾èµ– spring-boot-starter-cache	- å¼€å¯ç¼“å­˜æ³¨è§£: @EnableCaching	- åœ¨æ–¹æ³•ä¸Šé¢åŠ å…¥SpEL</code></pre><h3 class=pgc-h-arrow-right>redisåˆ†å¸ƒå¼ç¼“å­˜</h3><pre><code>- å¼•å…¥ä¾èµ–: 		&lt;dependency&gt;            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;            &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;            &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;        &lt;/dependency&gt;- åŠ å…¥æ³¨è§£ @EnableRedisHttpSession(maxInactiveIntervalInSeconds = 50)- controlleræ–¹æ³•	package cn.jishupeng.redis.controller;	import org.springframework.http.HttpRequest;	import org.springframework.web.HttpRequestHandler;	import org.springframework.web.bind.annotation.GetMapping;	import org.springframework.web.bind.annotation.RequestMapping;	import org.springframework.web.bind.annotation.ResponseBody;	import org.springframework.web.bind.annotation.RestController;		import javax.servlet.http.HttpServletRequest;	import java.util.HashMap;	import java.util.Map;		@RequestMapping(&#34;/session&#34;)	@RestController	public class RedisHttpSession {	    @RequestMapping(&#34;/set&#34;)	    @ResponseBody	    public Map&lt;String, String&gt; set(HttpServletRequest request) {	        Map&lt;String, String&gt; ret = new HashMap&lt;&gt;();	        request.getSession().setAttribute(&#34;request Uri&#34;, request.getRequestURI());	        ret.put(&#34;request Uri&#34;, request.getRequestURI());	        return ret;	    }		    @RequestMapping(&#34;/get&#34;)	    @ResponseBody	    public Map&lt;String, Object&gt; get(HttpServletRequest request) {	        Map&lt;String, Object&gt; ret = new HashMap&lt;&gt;();	        Object id = request.getSession().getId();	        ret.put(&#34;request Uri&#34;, id);	        return ret;	    }	}- rediså®¢æˆ·ç«¯ä¸­	- keys * æŸ¥æ‰¾æ‰€æœ‰çš„é”®	- ttl æŸ¥çœ‹è¶…æ—¶æ—¶é—´</code></pre><h3 class=pgc-h-arrow-right>redisé¡¹ç›®å®æˆ˜å€¼æ’è¡Œæ¦œå®ç°(ä¸Š)</h3><pre><code>- æ’è¡Œæ¦œ	- æ’è¡Œæ¦œåŠŸèƒ½æ˜¯ä¸€ä¸ªå¾ˆæ™®éçš„éœ€æ±‚, ä½¿ç”¨redisä¸­æœ‰åºé›†åˆçš„ç‰¹æ€§æ¥å®ç°æ’è¡Œæ¦œæ˜¯åˆå¥½åˆå¿«çš„å®ç°	- ä¸€èˆ¬æ’è¡Œæ¦œéƒ½æ˜¯æœ‰æ—¶æ•ˆæ€§, æ¯”å¦‚&#34;&#34;ç”¨æˆ·ç§¯åˆ†æ¦œ&#34;, æ¸¸æˆä¸­æ´»è·ƒåº¦æ’è¡Œæ¦œ, æ¸¸æˆè£…å¤‡æ’è¡Œæ¦œç­‰ç­‰- é¢ä¸´é—®é¢˜: æ•°æ®åº“è®¾è®¡å¤æ‚, å¹¶å‘è¾ƒé«˜, æ•°æ®è¦æ±‚å®æ—¶æ€§é«˜- rediså®ç°æ’è¡Œæ¦œapiè®²è§£</code></pre><h3 class=pgc-h-arrow-right>æµ…è°ˆmysqlæ•°æ®åº“è®¾è®¡</h3><pre><code>- è¡¨è®¾è®¡è¿‡ç¨‹ä¸­åº”è¯¥æ³¨æ„çš„ç‚¹å³æ•°æ®ç±»å‹	- æ›´å°çš„é€šå¸¸æ›´å¥½, æ§åˆ¶å­—èŠ‚é•¿åº¦	- ä½¿ç”¨åˆé€‚çš„æ•°æ®ç±»å‹		- å¦‚tinyintåªå 8ä¸ªä½, charä¸varcharçš„å¯¹æ¯”	- å°½é‡é¿å…NULL NOT NULL DEFAULT &#39;&#39;		- NULLçš„åˆ—ä¼šè®©ç´¢å¼•ç»Ÿè®¡å’Œå€¼æ¯”è¾ƒéƒ½æ›´å¤æ‚. å¯ä¸ºNULLçš„åˆ—ä¼šå æ®æ›´å¤šçš„ç£ç›˜ç©ºé—´, åœ¨Mysqlä¸­ä¹Ÿéœ€è¦æ›´å¤šå¤æ‚çš„å¤„ç†ç¨‹åº	- ç´¢å¼•è®¾è®¡è¿‡ç¨‹ä¸­æ›´åº”è¯¥æ³¨æ„çš„ç‚¹	- é€‰æ‹©å”¯ä¸€æ€§ç´¢å¼•		- å”¯ä¸€æ€§ç´¢å¼•çš„å€¼æ˜¯å”¯ä¸€çš„, å¯ä»¥æ›´å¿«çš„é€šè¿‡è¯¥ç´¢å¼•æ¥ç¡®å®šæŸæ¡è®°å½•	- ä¸ºç»å¸¸éœ€è¦æ’åº, åˆ†ç»„å’Œè”åˆæ“ä½œçš„å­—æ®µå»ºç«‹ç´¢å¼•		- ç»å¸¸éœ€è¦order by, group by, distinctå’Œunionç­‰æ“ä½œçš„å­—æ®µ, æ’åºæ“ä½œä¼šæµªè´¹æ›´å¤šçš„æ—¶é—´	- é•¿ä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„å­—æ®µå»ºç«‹ç´¢å¼•		- å¦‚æœæŸä¸ªå­—æ®µå¸¸ç”¨æ¥åšæŸ¥è¯¢æ¡ä»¶, é‚£ä¹ˆè¯¥å­—æ®µçš„æŸ¥è¯¢é€Ÿåº¦ä¼šå½±å“æ•´ä¸ªè¡¨çš„æŸ¥è¯¢é€Ÿåº¦	- æ•°æ®å°‘çš„åœ°æ–¹ä¸å¿…å»ºç«‹ç´¢å¼•- sqlä¼˜åŒ–, explainæŸ¥çœ‹æ‰§è¡Œè®¡åˆ’	- èƒ½å¤Ÿç”¨betweençš„å°±ä¸è¦ç”¨in	- èƒ½å¤Ÿç”¨distinctçš„å°±ä¸è¦ç”¨group by	- é¿å…æ•°æ®å¼ºè½¬	- å­¦ä¼šé‡‡ç”¨wxplainæŸ¥çœ‹æ‰§è¡Œè®¡åˆ’</code></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'æ•°æ®åº“','redis','å…¥é—¨'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>