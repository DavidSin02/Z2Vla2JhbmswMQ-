<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>一文了解ADC的参数释义 | 极客快訊</title><meta property="og:title" content="一文了解ADC的参数释义 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/S9Jx0GREw956Lf"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f8c1755.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f8c1755.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/f8c1755.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f8c1755.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f8c1755.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/f8c1755.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/f8c1755.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/f8c1755.html><meta property="article:published_time" content="2020-10-29T20:59:46+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:46+08:00"><meta name=Keywords content><meta name=description content="一文了解ADC的参数释义"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/f8c1755.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>一文了解ADC的参数释义</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>01.ADC参数释义</p><p>1. 分辩率(Resolution) 指数字量变化一个最小量时模拟信号的变化量，定义为满刻度与 2n 的比值。分辩率又称精度，通常以数字信号的位数来表示。</p><p>2. 转换速率(Conversion Rate)是指完成一次从模拟转换到数字的 AD 转换所需的时间的倒数。</p><p>积分型 AD 的转换时间是毫秒级属低速 AD，逐次比较型 AD 是微秒级属中速 AD，全并行 / 串并行型 AD 可达到纳秒级。采样时间则是另外一个概念，是指两次转换的间隔。为了保证转换的正确完成，采样速率(Sample Rate)必须小于或等于转换速率。因此有人习惯上将转换速率在数值上等同于采样速率也是可以接受的。常用单位是 ksps 和 Msps，表示每秒采样千 / 百万次(kilo/Million Samples per Second。</p><img alt=一文了解ADC的参数释义 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/S9Jx0GREw956Lf><p>3. 量化误差(Quantizing Error)由于 AD 的有限分辩率而引起的误差，即有限分辩率 AD 的阶梯状转移特性曲线与无限分辩率 AD (理想 AD)的转移特性曲线(直线)之间的最大偏差。通常是 1 个或半个最小数字量的模拟变化量，表示为 1LSB、 1/2LSB。</p><p>4. 偏移误差(Offset Error)输入信号为零时输出信号不为零的值，可外接电位器调至最小。</p><p>5. 满刻度误差(Full Scale Error)满度输出时对应的输入信号与理想输入信号值之差。</p><p>6. 微分非线性 (Differential nonlinearity， DNL) ADC相邻两刻度之间最大的差异。</p><p>7. 积分非线性 (Integral nonlinearity， INL)表示了 ADC 器件在所有的数值点上对应的模拟值和真实值之间误差最大的那一点的误差值，也就是输出数值偏离线性最大的距离。</p><p>8. 总谐波失真 (Total Harmonic Distotortior 缩写 THD)。</p><p><strong>02.AD 芯片的选取</strong></p><p>AD 的选择，首先看精度和速度，然后看输入通道数，输出的接口如 SPI 或者并行的，差分还是单端输入的，输入范围是多少。如何选择你所需要的器件呢?要综合设计的诸项因素，系统技术指标、成本、功耗、安装等，最主要的依据还是速度和精度。</p><p>1. 精度与所测量的信号范围有关，但估算时要考虑到其他因素，转换器位数应该比总精度要求的最低分辩率高一位。常见的 AD/DA 器件有 8 位，10 位，12 位，14 位，16 位等。</p><p>2. 速度根据输入信号的最高频率来确定，保证 ADC 的转换速率高于系统要求的采样频率。</p><p>3. 通道有的单芯片内部含有多个 AD/DA 模块，可同时实现多路信号的转换;常见的多路 AD 器件只有一个公共的 AD 模块，由一个多路转换开关实现分时转换。</p><p>4. 数字接口方式接口有并行 / 串行之分，串行又有 SPI、 I2C、 SM 等多种不同标准。数值编码通常是二进制，也有 BCD (二~十进制)、双极性的补码、偏移码等。</p><p>5. 模拟信号类型通常 AD 器件的模拟输入信号都是电压信号，而 DA 器件输出的模拟信号有电压和电流两种。</p><img alt=一文了解ADC的参数释义 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/S9Jx0Hw9NPY1VB><p>6. 同时根据信号是否过零，还分成单极性( Unipolar) 和双极性( Bipolar )。</p><p>7. 电源电压有单电源，双电源和不同电压范围之分，早期的 AD/DA 器件要有+15V/-15V，如果选用单+5V 电源的芯片则可以使用单片机系统电源。</p><p>8. 基准电压有内、外基准和单、双基准之分。</p><p>9. 功耗一般 CMOS 工艺的芯片功耗较低，对于电池供电的手持系统对功耗要求比较高的场合一定要注意功耗指标。</p><p>10. 封装形式:常见的封装是 DIP，现在表贴型 so 封装的应用越来越多。</p><p>11. 跟踪 / 保持 (Track/Hold 缩写 T/H)原则上直流和变化非常缓慢的信号可不用采样保持，其他情况都应加采样保持。</p><p>12. 满幅度输出(Rail-to Rail)新近业界出现的新概念，最先应用于运算放大器领域，指输出电压的幅度可达输入电压范围。在 DA 中一般是指输出信号范围可达到电源电压范围。(国内的翻译并不统一，如“轨 _ 轨"、“满摆幅")。</p><p><strong>03. 针对高精度测量类的 AD</strong></p><p>参考电压需要足够精确 . 推荐使用外部高精准参考电压。</p><p>如果 PGA 可调，增益系数一般是越小噪声越低。</p><p>一般最好用到满量程，此时 AD 精度不浪费。</p><p>如果有偏置，需要进行自校。</p><p>请注意在使用 DEMO 板调试时，会由调试口导入 PC 噪声由信号连接线导入外部噪声，因此建议使用屏蔽电缆传输信号。</p><p>板上注意模拟电源和数字电源，以及模拟地和数字地要分开;减少耦合噪声路径。</p><p>使用差分输入可以减少共模噪声，但是差模噪声会增大。</p><img alt=一文了解ADC的参数释义 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/S9Jx0Hw9NPY1VB><p>如果是片内集成 AD 的 MCU，支持高速时钟，如果不影响性能，内部工作时钟越低，对 AD 采样引起的干扰越小。如果是板上就需要注意走线和分区。</p><p>信号输入前级接滤波电路，一般一阶 RC 电路较多，注意 FC=1/1000~1/100 采样频率。电阻和电容的参数注意选取，信号接入后级接滤波电路最好采用 sinc 滤波方式 . 注意输入偏置电流会限制外部的滤波电阻阻值的大小。R x Ib &lt; 1 LSB。</p><p>有的片内 AD 还有集成输入 Buffer，有助于抑制噪声，一般是分两当，看输入信号范围和满量程之间的关系。</p><p>AD 分为很多种，SARFLASH，并行比较型，逐次逼近型，Delta sigma 型，一般是速度越高，精度越高越贵，针对不同场合不同成本不同要求分别选用。</p><p>Layout constraint。</p><p><strong>04. 高速 ADC 关键指标的定义</strong></p><p>一个基本概念</p><p>分贝(dB):按照对数定义的一个幅度单位。对于电压值，dB 以 20log(VA/VB)给出;对于功率值，以 10log(PA/PB)给出。dBc 是相对于一个载波信号的 dB 值; dBm 是相对于 1mW 的 dB 值。对于 dBm 而言，规格中的负载电阻必须是已知的(如: 1mW 提供给 50Ω)，以确定等效的电压或电流值。</p><p>静态指标定义</p><p>量化误差（Quantization Error）：量化误差是基本误差，用图 1 所示的简单 3bit ADC 来说明。输入电压被数字化，以 8 个离散电平来划分，分别由代码 000b 到 111b 去代表它们，每一代码跨越 Vref/8 的电压范围。代码大小一般被定义为一个最低有效位(Least Significant Bit LSB)。若假定 Vref=8V 时，每个代码之间的电压变换就代表 1V。换言之，产生指定代码的实际电压与代表该码的电压两者之间存在误差。一般来说，0.5LSB 偏移加入到输入端便导致在理想过渡点上有正负 0.5LSB 的量化误差。</p><img alt=一文了解ADC的参数释义 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/S9Jx0IVBhb95n2><p>图 1 理想 ADC 转换特性</p><p><strong>05. 偏移与增益误差（Offset Gain Error）</strong></p><p>器件理想输出与实际输出之差定义为偏移误差，所有数字代码都存在这种误差。在实际中，偏移误差会使传递函数或模拟输入电压与对应数值输出代码间存在一个固定的偏移。通常计算偏移误差方法是测量第一个数字代码转换或“零”转换的电压，并将它与理论零点电压相比较。增益误差是预估传递函数和实际斜率的差别，增益误差通常在模数转换器最末或最后一个传输代码转换点计算。</p><p>为了找到零点与最后一个转换代码点以计算偏移和增益误差，可以采用多种测量方式，最常用的两种是代码平均法和电压抖动法。代码平均测量就是不断增大器件的输入电压，然后检测转换输出结果。每次增大输入电压都会得到一些转换代码，用这些代码的和算出一个平均值，测量产生这些平均转换代码的输入电压，计算出器件偏移和增益。电压抖动法和代码平均法类似，不同的是它采用了一个动态反馈回路控制器件输入电压，根据转换代码和预期代码的差对输入电压进行增减调整，直到两代码之间的差值为零，当预期转换代码接近输入电压或在转换点附近变化时，测量所施加的“抖动”电压平均值，计算偏移和增益。</p><p><strong>06. 微分非线性</strong></p><p>微分非线性(Differential nonlinearity ，DNL)：理论上说，模数器件相邻两个数据之间，模拟量的差值都是一样的。就好比疏密均匀的尺子。但实际上，相邻两刻度之间的间距不可能都是相等的。所以，ADC 相邻两刻度之间最大的差异就叫微分非线性 DNL，也称为差分非线性。同样举例来说明，如果对于 12bit 的 ADC，其 INL=8LSB， DNL=3LSB，在基准电压为 4. 095V 时，测得 A 电压对应读数为 1000b， 测得 B 电压对应读数为 1200b。那么就可以判断出，B 点电压值比 A 点高出 197mV 到 203mV，而不是准确的 200mV。</p><img alt=一文了解ADC的参数释义 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/S9Jx0mA4AEdQTA><p>图 2 DNL 误差特性</p><p>图 2 中，001b 到 010b 码制过渡过程的 DNL 为 0LSB，因为刚好为 1LSB。但是 000b 到 001b 过渡就有个 0.2LSB 的 DNL，因为此时有 1. 2LSB 的代码宽度。应当注意:如果在 ADC 或者 DAC 的 datasheet 中没有清楚说明 DNL 参数的话，可视该转换器没有漏码，即暗示它有优于正负 1LSB 的 DNL。</p><p><strong>07. 积分非线性</strong></p><p>积分非线性(Integral nonl inearity INL)：积分非线性表示了 ADC 器件在所有的数值点上对应的模拟值和真实值之间误差最大的那一点的误差值，也就是输出数值偏离线性最大的距离。单位是 LSB。例如，一个 12bit 的 ADC，INL 值为 1LSB，那么，对应基准 4. 095V，测某电压得到的转换结果是 1000b，那么，真实电压值可能分布在 0.999V 到 1.001V 之间。</p><p>INL 是 DNL 误差的数学积分，即一个具有良好 INL 的 ADC 保证有良好的 DNL。</p><img alt=一文了解ADC的参数释义 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/S9Jx0mY11tT5Qx><p>图 3 INL 误差特性</p><p>总之，非线性微分和积分是指代码转换与理想状态之间的差异。非线性微分(DNL)主要是代码步距与理论步距之差，而非线性积分(INL) 则关注所有代码非线性误差的累计效应。对一个 ADC 来说，一段范围的输入电压产生一个给定输出代码，非线性微分误差为正时输入电压范围比理想的大，非线性微分误差为负时输入电压范围比理想的要小。从整个输出代码来看，每个输入电压代码步距差异累积起来以后和理想值相比会产生一个总差异，这个差异就是非线性积分误差。</p><img alt=一文了解ADC的参数释义 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/S9Jx0oKJ9DPdne><p>图 4 INL 和 DNL</p><p>与增益和偏移一样，计算非线性微分与积分误差也有很多种方法，代码平均和电压抖动两种方法都可以使用，但是由于存在重复搜索，当器件位数较多时这两种方法执行起来很费时。一个更加有效计算 INL 和 DNL 的方法是直方图法，采用线性或正弦直方图。图 5 说明了线性斜升技术的应用，首先使输入电压线性增加，同时对输出以固定间隔连续采样，电压逐步增加时连续几次采样都会得到同样输出代码，这些采样次数称为“点击数”。</p><img alt=一文了解ADC的参数释义 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/S9Jx0ouDQYkrE4><p>图 5 计算直方图</p><p>从统计上讲，每个代码的点击数量直接与该代码的相应输入电压范围成正比，点击数越多表明该代码的输入电压范围越大，非线性微分误差也就越大；同样，代码点击数越少表明该代码输入电压范围越小，非线性微分误差也就越小。用数学方法计算，如果某个代码点击数为 9，而“理想”情况下是 8，则该器件的非线性微分误差就是(9-8) /8 或 0.125。非线性积分是所有代码非线性微分的累计值，对于斜升直方图，它就是每个非线性微分误差的和。从数学观点来看，非线性积分误差等于在代码 X-1 的非线性微分误差加上代码 X 和代码 X-1 的非线性微分误差平均值。</p><p><strong>08. 动态指标定义</strong></p><p>有效位数(ENOB)：模数转换器(ADC)与输入频率 fIN 相关的测试指标(位)。随着 fIN 的增大，整体噪声(特别是失真成分)将会增大，因而降低了 ENOB 和 SINAD 性能。另请参考:信号与噪声+失真比(SINAD)。</p><p>ENOB 与 SINAD 的关系式为:</p><p>ENOB =（SINAD-1.76）/6.02</p><p>分辨率:模拟信号被量化时，它是以有限的离散电压电平表示的，分辨率是用来表示信号的离散电平个数。为了更精确地恢复模拟信号，必须提高分辨率。分辨率通常定义为位数，利用更高的分辨率进行转换可以降低量化噪声。RMS:参考有关均方根(RMS)的注释。</p><p>均坊根(RMS):表示交流信号的有效值或有效直流值。对于正弦波，RMS 是峰值的 0.707 倍，或者是峰~峰值的 0.354 倍。SFDR:参考有关无杂散动态范围(SFDR)的注释。</p><p>信号与噪声+失真比(SINAD):直流到奈奎斯特频段内，正弦波 fIN（对于 ADC 指的是输入正弦波，对于 ADC/DAC 指的是重建的输出正弦波)的 RMS 值与转换器噪声的 RMS 值之比，包括谐波成分。典型值以分贝表示，另请参寺关于均方根(RMS)和总谐波失真的注释。</p><p>SINAD = 20log(10) Signal (volts， RMS)/（Noise + Harmonics (volts， RMS)）</p><p>信噪比(SNR):直流到奈奎斯特频段内，正弦波 fIN（对于 ADC 指的是输入正弦波，对于 ADC/DAC 指的是重建的输出正弦波)的 RMS 值之比，直流噪声和谐波失真除外。典型值以分贝表示，另请参考关于均方根(RMS)的注释。</p><p>SNR = 20log(10) Signal (volts， RMS)/Noise (volts， RMS)</p><p>理想状况下，最小转换噪声的理论值只包括量化噪声，可直接由数据转换分辨率计算得到:</p><p>（N）：SNR = (6.02N +1.76)dB</p><p>无杂散动态范国（SFDR）:正弦波 fIN（对于 ADC 指的是输入正弦波，对于 ADC/DAC 指的是重建的输出正弦波)的 RMS 值与在频域观察到的杂散信号的 RMS 值之比，典型值以分贝表示。SFDR 在一些需要最大转换器动态范围的通信系统中非常重要。</p><img alt=一文了解ADC的参数释义 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/S9Jx0pmGZdmeh5><p>图 6 FFT 频谱图</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'ADC','参数','释义'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>