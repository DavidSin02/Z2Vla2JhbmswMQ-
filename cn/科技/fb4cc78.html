<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>前嗅ForeSpider教程：数据建表 | 极客快訊</title><meta property="og:title" content="前嗅ForeSpider教程：数据建表 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/fbed5cc94d554d41bb6054862e1d95db"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fb4cc78.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fb4cc78.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fb4cc78.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fb4cc78.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fb4cc78.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fb4cc78.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fb4cc78.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fb4cc78.html><meta property="article:published_time" content="2020-10-29T21:08:29+08:00"><meta property="article:modified_time" content="2020-10-29T21:08:29+08:00"><meta name=Keywords content><meta name=description content="前嗅ForeSpider教程：数据建表"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/fb4cc78.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>前嗅ForeSpider教程：数据建表</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>今天，小编为大家带来的教程是：如何在前嗅ForeSpider中，进行数据建表操作及各注意事项。主要内容包括：快速建表，自由建表，字段参数，数据表的创建，关联与删除，以及表单变更后的配置修改。</p><p><strong>一，如何快速建表</strong></p><p>若在数据抽取链接下，没有相应表单可供选择，可点击“创建表单”按钮，快速创建表单。可添加表单名称、字段名称，选择字段类型、表单模板。</p><p>1.字段类型</p><p>①主键字段</p><p>②名称</p><p>③标题</p><p>④数字（-20亿~20亿）</p><p>⑤长整型数字</p><p>⑥时间值</p><p>⑦地址</p><p>⑧小文本（小于64k）</p><p>⑨大型文本</p><p>（>>字段参数）</p><p>2.表单模板</p><p>在表单模板中选择已经建好的表单，可以在表单中添加、删除、修改字段。</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/fbed5cc94d554d41bb6054862e1d95db><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>【快速创建表单】</p><p><strong>二，如何自由建表</strong></p><p>1.概念解释</p><p>表单：规定了数据表都有哪些“列”，也就是都有哪些字段。数据存储结构类似的采集任务，可以共用同一个表单。一个表单可以创建多个数据表。</p><p>字段：在数据库中，表单的“列”称为“字段”，每个字段存储某一项的信息。</p><p>2.创建表单和字段</p><p>在表单列表点击“添加”按钮，创建一个新的表单。点击表单配置右侧的“添加”按钮，即弹出添加字段的窗口。</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/516bf7a64fcb47bf90b1f4ca0bfe59db><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/751c7b618e1746a59a0db2243a0c3934><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​【添加字段】</p><p>字段具体参数的设置方法，详见下节（>>字段参数）</p><p>3.字段修改</p><p>在数据建表的表单配置右侧，可以对表单进行一系列操作。</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/878cf04e347447449f5256619d5a1251><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>添加字段</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c1ab70c853dd4f928a10959307cfdc5a><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>修改字段</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/266ef1ec966945ec879b03bbeee386e6><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>字段排名上移</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3c3a73a3d04d4fc5a73ced44d8506597><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>字段排名下移</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/df3d8c9d010546bda4a428a18e3b4087><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>删除字段</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/f09f237648844effb90b8667b9fb25da><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>保存数据表</p><p><strong>三，字段参数</strong></p><p>1.字段名称</p><p>字段名称由英文字符、数字、下划线、$构成，且不能以数字开头。</p><p>①不支持中文。</p><p>②区分大小写。</p><p>③不能是SQL语句关键字：如select、time等。</p><p>2.字段属性</p><p>大部分情况无需选择字段属性。</p><p>一般数据表都需要一个主键字段，作为唯一ID记录。主键字段需要勾选“主键字段”，勾选后自动会选上“索引字段”和“键值唯一”。</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e0c51ff324114a5db77faf50c9d02afa><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>3.采集内容</p><p>指该字段需要从网页上获取的数据内容。</p><p>当字段需要存储页面的url地址、采集时间、网页title等内容时，通过选择对应的采集，就可以自动为该字段赋值。（>>自动取值字段）</p><p>当某字段存储的是网页上的内容数据时，比如文章的标题、联系人名称、电话号码等，通过选择“选区内全部文本”，再在内置浏览器上定位，就可以自动获取网页的数据。</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/925c0ea5b4a44513b2a28ef0ffbe4881><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>示例：</p><p>（1）选区内全部文本：</p><p>&lt;ul>&lt;li>&lt;a href=”www.baidu.com”>百度&lt;/a>&lt;/li>&lt;/ul>，采集全部标签下的内容。</p><p>（2）选区最外层节点文本：</p><p>&lt;ul>&lt;li>&lt;a href=”www.baidu.com”>百度&lt;/a>&lt;/li>&lt;/ul>，只选取&lt;ul>节点，不采集&lt;li>和&lt;a>内容。</p><p>（3）选区最外两层节点文本：</p><p>&lt;ul>&lt;li>&lt;a href=”www.baidu.com”>百度&lt;/a>&lt;/li>&lt;/ul>，只采集&lt;ul>&lt;li>的内容，不采集&lt;a>的内容。</p><p>（4）网页内文字文本：采集整个页面中所有可见的文字文本。</p><p>4.数据类型</p><p>数据类型如下表所示：</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/23193424f9cf48b284c1627e126f4e10><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>5.字符串长度</p><p>只有变量类型是字符串时需要填写长度。字符串长度有两种情况：</p><p>（1）短文本</p><p>文本长度不大时，可以填写字符串长度，字符串可填写的最大长度为255。字段长度尽量不要设置的偏小，防止有超出长度的数据无法存入数据库。</p><p>（2）大文本</p><p>文本较大时，无需填写字符串长度。</p><p>①长文本：适用于新闻、正文等小于64K的文本。</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3c0f3d5ace6b4cfbb6a46e7cc62f90c9><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>【设置长文本】</p><p>也可以通过选择变长字段的方式，在数据库中两种方式效果相同。</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/144e49d066d240e38f242bdf705974a9><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>【设置变长字段】</p><p>②超长文本：适用于论文等长文。</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/69b415487c5b45cda2dcfb4360f653e9><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>【设置超长文本】</p><p>6.字段描述</p><p>在“字段描述”文本框里，用户可以为字段填写描述性的注释内容。</p><p><strong>四，数据表的创建、关联与删除</strong></p><p>表单只是定义了都有哪些字段，想要实现数据的存储，需要对表单创建对应的数据表。（软件默认连接了ForeLib数据库，可更改。）</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e83798bee8ae41d68abb611d2d8221ef><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>【关联数据表】</p><p>1. 创建数据表</p><p>选择表单，在表单的左下方点击“创建”，输入数据表名称（仅限英文），完成数据表的创建。</p><p>2. 关联数据表</p><p>勾选前面的多选框，即已关联数据表。取消勾选，解除关联。</p><p>采集数据时，数据存入勾选的数据表。</p><p>3. 删除数据表</p><p>可以删除已创建的数据表。</p><p>4. 反建表单</p><p>反建表单会根据数据库中，已存在的数据表创建爬虫表单。</p><p><strong>五，表单变更后的配置修改</strong></p><p>表单建好后，如果已经配置了模板中的字段，甚至已经建立了数据表，则修改表单，需要进行下列操作。</p><p>1.影响字段节点取值的情况</p><p>如果字段名称、字段数量和采集内容更改，需要到对应任务的字段节点，修改字段和采集内容。修改方式有两种：</p><p>（1）重置表单</p><p>重新选择表单名称后，这里的表单将被重置，所有的字段取值配置（包括字段处理脚本）也被清空，需要逐一重新配置字段取值。</p><p>（2）添加删除字段</p><p>当表单做了修改字段名称、添加删除字段的操作后，可以不必重置表单，在模板列表对应的数据抽取节点，通过右键添加删除字段，将两边的字段名称和数量保持一致即可。</p><p>这里的添加删除操作只针对该数据抽取，不会改动表单。</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e83798bee8ae41d68abb611d2d8221ef><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3d92634cb2424b9b9608d2f8181cc867><p class=pgc-img-caption></p></div><p>​</p><p>【添加数据字段】</p><p>①添加字段</p><p>在模板列表对应的数据抽取节点，点击右键，选择“添加数据字段”，可以新建字段。</p><p>②删除字段</p><p>在某字段上点击右键，可以删除该字段。</p><p>③修改采集内容</p><p>通过字段节点向导中的下拉菜单，修改采集内容与表单中的一致即可。</p><p>2.已创建数据表</p><p>当数据表已经建好后，修改表单会影响采集，原数据表不能适应新的表单结构。在上述修改字段的基础上，还需要删除原数据表，再重新创建一个新的数据表。</p><div class=pgc-img><img alt=前嗅ForeSpider教程：数据建表 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/20f864ee7d634bc5a2fb3e260ac8109c><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'ForeSpider','数据','建表'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>