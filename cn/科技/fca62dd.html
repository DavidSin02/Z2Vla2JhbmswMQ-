<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>嵌入式Linux开发《C语言专题(三：运算符及优先级（2）)》 | 极客快訊</title><meta property="og:title" content="嵌入式Linux开发《C语言专题(三：运算符及优先级（2）)》 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/61b28ffea7e845a9b9954574d011691b"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fca62dd.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fca62dd.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fca62dd.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fca62dd.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fca62dd.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fca62dd.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fca62dd.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fca62dd.html><meta property="article:published_time" content="2020-10-29T21:00:27+08:00"><meta property="article:modified_time" content="2020-10-29T21:00:27+08:00"><meta name=Keywords content><meta name=description content="嵌入式Linux开发《C语言专题(三：运算符及优先级（2）)》"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/fca62dd.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>嵌入式Linux开发《C语言专题(三：运算符及优先级（2）)》</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><div class=pgc-img><img alt=嵌入式Linux开发《C语言专题(三：运算符及优先级（2）)》 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/61b28ffea7e845a9b9954574d011691b><p class=pgc-img-caption>运算符及优先级</p></div><p>在<a class=pgc-link href="https://www.toutiao.com/i6638440663497048580/?group_id=6638440663497048580" target=_blank>嵌入式Linux开发《C语言专题(三：运算符及优先级（1）)》</a>文章中介绍了算数运算符、关系运算符、逻辑运算符、赋值运算及优先级，本文继续介绍剩余的<strong>移位运算符、位运算符、单目元素符、条件运算符、逗号运算符及优先级。</strong></p><p><strong>（1）移位运算符：&lt;&lt;（左移运算符）、>>（右移运算符）就是将一个值的每一位向左或者向右移动 移位操作时要注意是算数移位还是逻辑移位。</strong>逻辑移位左移n位，则所有的位都向<strong>左移动n位</strong>，原来前n位丢弃，之后移入的后n位用0表示，<strong>相当于乘以2的n次方</strong>；逻辑移位<strong>右移n位</strong>，则所有的位都向右移动n位，原来的后n位丢弃，之后移入的前n位用0表示，<strong>相当于除以2的n次方</strong>。算数移位左移与逻辑移位左移一样，但是在操作数是负数时右移不一样，如果操作数是负数，右移n位时，则移入的前n位用1来填充而不是0，比如10101010（最高位为1代表是负数），又移2位后为11101010，保持原来是正负形。<strong>不过一般在嵌入式开发中用的比较多的是逻辑移位。</strong>如下图代码所示：</p><div class=pgc-img><img alt=嵌入式Linux开发《C语言专题(三：运算符及优先级（2）)》 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ef960c1a804a48eb98131d36961786b4><p class=pgc-img-caption>移位运算符代码</p></div><p><strong>（2）位运算符：&（位与）、|（位或）、^（位异或）对操作数的各个位进行位与、位或、位异或操作。要求操作数都为整型，并按位进行位操作。这个在嵌入式编程中非常重要。</strong>两个位进行&操作时，如果两位都为1，结果则为1，否则结果为0；两个位进行|操作时，如果两位都为0，结果则为0，否则结果为1；两个位进行^操作时，如果两位相同，结果则为0，否则结果为1，即不同为1，相同为0；下图以直观方式列出位运算符之间的结果。</p><div class=pgc-img><img alt=嵌入式Linux开发《C语言专题(三：运算符及优先级（2）)》 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/02deedc174ee41009208098d42581a1d><p class=pgc-img-caption>三种位运算符符</p></div><p>代码如下图所示：</p><div class=pgc-img><img alt=嵌入式Linux开发《C语言专题(三：运算符及优先级（2）)》 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ab736eb0ce2a4646b900a86d6f5e2fcd><p class=pgc-img-caption>位运算符代码</p></div><p>内核中类似用法代码：if ((csr14 & 0x80) && (csr12 & 0x7000) != 0x5000) csr12 |= 6; checksum = (checksum ^ (checksum >> 8)) & 0xff;</p><p><strong>（3）单目元素符：只有一个操作数的运算符。有！（对操作数进行逻辑取反即：如果操作数为真，则结果为假，反之则为真；最终的结果只有0和1）、~（对整形操作数取反操作，比如原来为1的某一位，取反后为0，反之为1）、++（增值运算符）、--（减值预算符）、+（表示操作数为整数，加不加都可以）、-（表示操作数为负数）、&（表示操作数的地址）、*（间接访问运算符，与指针结合来访问指针所指向的值）、sizeof（以字节为单位计算操作符的类型长度，使用时可以加括号也可以不加）</strong>代码如下图所示：</p><div class=pgc-img><img alt=嵌入式Linux开发《C语言专题(三：运算符及优先级（2）)》 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/56bdd88c88f64ca5a1f141bbcc2bad77><p class=pgc-img-caption>单目运算符代码</p></div><p>+和-很简单就是正数和负数，&和*的用法在指针部分我再讲解。sizeof的用法在文章中<a class=pgc-link href="https://www.toutiao.com/i6638092749889339917/?group_id=6638092749889339917" target=_blank>嵌入式Linux开发《C语言专题(二：有趣的基本数据类型)》</a>有介绍。</p><p><strong>（4）条件运算符：有3个操作数 用法：表达式1？表达式2：表达式3 如果各个表达式比较复杂的话，为了清晰最好加上括号：（（表达式1）？（表达式2）：（表达式3）） </strong>首先计算表达式1的值，如果表达式1的值为真（非0值），那么表达式2的值就是就是整个条件语句的值，表达式3不用计算；如果表达式1的值为假，则表达式3的值就是整个条件语句的值，表达式2不用计算。如下图代码所示：</p><div class=pgc-img><img alt=嵌入式Linux开发《C语言专题(三：运算符及优先级（2）)》 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4b37d402e43b4082907c1fe43c870fcc><p class=pgc-img-caption>条件运算符代码</p></div><p>﻿内核中有这样的用法：unsigned int nlen = (<strong>((skb->len &lt; 60) ? 60 : skb->len)</strong> + 1) & (~1);</p><p><strong>（5）逗号运算符：用法：表达式1，表达式2，...将2个或者多个表达式用逗号分割开，表达式自左向右逐个取值，整个表达式的值就是最后那个表达式的值。经常将这几个表达式用括号括起来。注意：我们在使用逗号表达式之前，看看使用逗号表达式后能否让程序在某方面表现很出色，如果可以就可以用，否则不用。笔试面试中曾遇到过这类计算。</strong> 逗号运算符的优先级别在所有运算符中最低。如下图代码所示：</p><div class=pgc-img><img alt=嵌入式Linux开发《C语言专题(三：运算符及优先级（2）)》 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e0332ee5a9d146009ca15dec8f1bb53c><p class=pgc-img-caption>逗号运算符代码</p></div><p><strong>未完待续，后续继续更新...</strong></p><p><strong>更多精彩内容可以关注此头条号： <a class=pgc-link href=https://www.toutiao.com/c/user/14009716036/ target=_blank>嵌入式软硬件开发</a></strong>喜欢的话大家可以“评论”,“转发”、“点赞”或者“收藏”，感谢大家。相互交流，共同成长。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'算符','Linux','开发'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>