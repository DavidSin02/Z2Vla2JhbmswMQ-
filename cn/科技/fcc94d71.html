<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>可使用 CSS 「属性选择器」来提高前端开发效率。收藏后总会用到 | 极客快訊</title><meta property="og:title" content="可使用 CSS 「属性选择器」来提高前端开发效率。收藏后总会用到 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/dfic-imagehandler/fd6bcb96-9ae4-40b0-a3a6-19ac3f21133a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcc94d71.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcc94d71.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fcc94d71.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcc94d71.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcc94d71.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fcc94d71.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fcc94d71.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcc94d71.html><meta property="article:published_time" content="2020-10-29T21:10:00+08:00"><meta property="article:modified_time" content="2020-10-29T21:10:00+08:00"><meta name=Keywords content><meta name=description content="可使用 CSS 「属性选择器」来提高前端开发效率。收藏后总会用到"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/fcc94d71.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>可使用 CSS 「属性选择器」来提高前端开发效率。收藏后总会用到</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><blockquote><p>原文：https://www.smashingmagazine.com/2018/10/attribute-selectors-splicing-html-dna-css/</p></blockquote><p>如题。但是不要担心，虽然属性选择器非常复杂和强大，但是它们很容易学习和使用。在本文中，我们将讨论它们是如何运行的，并给出一些如何使用它们的想法。<br></p><p>通常将 HTML 属性放在方括号中，称为属性选择器，如下：</p><pre>[href] { color: red;}</pre><p>这样任何具有href属性的且没有更特定选择器的元素的文本颜色都会是红色的。属性选择器的特性与类相同。</p><p><strong>注</strong>:更多关于笼匹配的CSS特异性，你可以阅读CSS特性:你应该知道的事情，或者如果你喜欢星球大战:CSS特性战争。</p><p>但是你可以使用属性选择器做得更多。就像你的 DNA 一样，它们有内在的逻辑来帮助你选择各种属性组合和值。它们可以匹配属性中的任何属性，甚至字符串值，而不是像标签、类或id选择器那样精确匹配。</p><div class=pgc-img><img alt="可使用 CSS 「属性选择器」来提高前端开发效率。收藏后总会用到" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/fd6bcb96-9ae4-40b0-a3a6-19ac3f21133a><p class=pgc-img-caption></p></div><h1><strong>属性选择器</strong></h1><p>属性选择器可以独立存在，更具体地说，如果需要选择所有具有title属性的div标签，可以这么做：</p><pre>div[title]</pre><p>但你也可以通过以下操作选择具有 title 属性的 <strong>div</strong> 的子元素</p><pre>div [title]</pre><p>需要说明的是，它们之间没有空格意味着属性位于相同的元素上(就像元素和类之间没有空格一样)，而它们之间的空格意味着后代选择器，即选择具有该属性的元素的子元素。</p><p>你可以更精细地选择具体属性值的属性。</p><pre>div[title="dna"]</pre><p>上面选择了所有具有确切名称dna的div,虽然有选择器算法可以处理每种情况（以及更多），但这里不会选择<strong>“dna is awesome”</strong>或<strong>“dnamutation”</strong>的标题。</p><blockquote><p>注意:在大多数情况下，属性选择器中不需要引号，但是我使用它们，因为我相信它可以提高清代码的可读性，并确保边界用例能够正常工作。</p></blockquote><p>如果你想选择 <strong>title</strong> 包含 dna的元素，如 “my beautiful dna” 或者 “mutating dna is fun!” ，可以使用<strong>波浪号（~</strong>）。</p><pre>div[title~="dna"]</pre><p>如果你想匹配以 dna 结尾的 <strong>title</strong>,如　 “dontblamemeblamemydna” 或 “his-stupidity-is-from-upbringing-not-dna” ，刚可以使用$标志符：</p><pre>[title$="dna"]</pre><p>如果你想匹配以 dna 开头的 <strong>title</strong>,如　 “dnamutants” 或 “dna-splicing-for-all” ，刚可以使用^标志符：</p><pre>[title^="dna"]</pre><p>虽然精确匹配是有帮助的，但它可能选择太紧，并且^符号匹配可能太宽而无法满足你的需要。 例如，可能不想选择 “genealogy” 的标题，但仍然选择“gene”和“gene-data”。 <strong>管道特征(|)</strong>就是这样，属性中必须是完整且<strong>唯一</strong>的单词，或者以-分隔开。</p><pre>[title|="gene"]</pre><p>最后，还有一个匹配任何子字符串的模糊搜索属性操作符，属性中做字符串拆分，只要能拆出来dna这个词就行:</p><pre>[title*="dna"]</pre><p>使这些属性选择器更加强大的是，它们是可堆叠的，允许你选择具有多个匹配因子的元素。</p><p>如果你需要找到一个a 标签，它有一个 title ，并且有一个以“genes” 结尾的 class,可以使用如下方式：</p><pre>a[title][class$="genes"]</pre><p>你不仅可以选择 HTML 元素的属性，还可以使用伪类型元素来打印出文本：</p><pre>&lt;span class="joke" title="Gene Editing!"&gt;What’s the first thing a biotech journalist does after finishing the first draft of an article?&lt;/span&gt;</pre><pre>.joke:hover:after { content: "Answer:" attr(title); display: block;}</pre><p>上面的代码在鼠标悬停时将显示一串自定义的字符串。</p><p>最后要知道的是，您可以添加一个标志，让属性搜索不区分大小写。 在结束方括号之前添加i：</p><pre>[title*="DNA" i]</pre><p>因此它会匹配dna, DNA, dnA等。</p><p>现在我们已经看到了如何使用属性选择器进行选择，让我们看看一些用例。 我将它们分为两类：<strong>一般用途</strong>和<strong>诊断</strong>。</p><h1><strong>一般用途</strong></h1><div class=pgc-img><img alt="可使用 CSS 「属性选择器」来提高前端开发效率。收藏后总会用到" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/19bba3bd-47c3-4b29-a0d0-c0b33c7fcb9b><p class=pgc-img-caption></p></div><p><strong>输入类型样式的设置</strong></p><p>你可以对输入类型使用不同的样式，例如电子邮件和电话。</p><pre>input[type="email"] { color: papayawhip;}input[type="tel"] { color: thistle;}</pre><p><strong>显示电话链接</strong></p><p>你可以隐藏特定尺寸的电话号码并显示电话链接，以便在手机上轻松拨打电话。</p><pre>span.phone { display: none;}a[href^="tel"] { display: block;}</pre><p><strong>内部链接 vs 外部链接，安全链接 vs 非安全链接</strong></p><p>你可以区别对待内部和外部链接，并将安全链接设置为与不安全链接不同：</p><pre>a[href^="http"]{ color: bisque;}a:not([href^="http"]) { color: darksalmon;}a[href^="http://"]:after { content: url(unlock-icon.svg);}a[href^="https://"]:after { content: url(lock-icon.svg);}</pre><p><strong>下载图标</strong></p><p>HTML5 给我们的一个属性是“下载”，它告诉浏览器，你猜对了，下载该文件而不是试图打开它。这对于你希望人们访问但不希望它们立即打开的 PDF 和 DOC 非常有用。它还使得连续下载大量文件的工作流程更加容易。下载属性的缺点是没有默认的视觉效果将其与更传统的链接区分开来。通常这是你想要的，但如果不是，你可以做类似下面的事情：</p><pre>a[download]:after { content: url(download-arrow.svg);}</pre><p>还可以使用不同的图标（如PDF与DOCX与ODF等）来表示文件类型，等等。</p><pre>a[href$="pdf"]:after { content: url(pdf-icon.svg);}a[href$="docx"]:after { content: url(docx-icon.svg);}a[href$="odf"]:after { content: url(open-office-icon.svg);}</pre><p>你还可以通过叠加属性选择器来确保这些图标只出现在可下载链接上。</p><pre>a[download][href$="pdf"]:after { content: url(pdf-icon.svg);}</pre><p><strong>覆盖或重新使用已废弃/弃用的代码</strong></p><p>我们都遇到过时代码过时的旧网站，在 HTML5 之前，你可能需要覆盖甚至重新应用作为属性实现的样式。</p><pre>&lt;div bgcolor="#000000" color="#FFFFFF"&gt;Old, holey genes&lt;/div&gt;div[bgcolor="#000000"] { /*override*/ background-color: #222222 !important;}div[color="#FFFFFF"] { /*reapply*/ color: #FFFFFF;}</pre><p><strong>重写特定的内联样式</strong></p><p>有时候你会遇到一些内联样式，这些样式会影响布局，但这些内联样式我们又没修改。那么以下是一种方法。</p><p>如果你道要覆盖的确切属性和值，并且希望在它出现的任何地方覆盖它，那么这种方法的效果最好。</p><p>对于此示例，元素的边距以像素为单位设置，但需要在 em 中进行扩展和设置，以便在用户更改默认字体大小时可以正确地重新调整元素。</p><pre>&lt;div style="color: #222222; margin: 8px; background-color: #EFEFEF;"Teenage Mutant Ninja Myrtle&lt;/div&gt;div[style*="margin: 8px"] { margin: 1em !important;}</pre><p><strong>显示文件类型</strong></p><p>默认情况下，文件输入的可接受文件列表是不可见的。 通常，我们使用伪元素来暴露它们：</p><pre>&lt;input type="file" accept="pdf,doc,docx"&gt;[accept]:after { content: "Acceptable file types: " attr(accept);}</pre><p><strong>html 手风琴菜单</strong></p><p>details和summary标签是一种只用<strong>HTML</strong>做扩展/手风琴菜单的方法，details 包括了summary标签和手风琴打开时要展示的内容。点击summary会展开details标签并添加open属性，我们可以通过open属性轻松地为打开的details标签设置样式：</p><pre>details[open] { background-color: hotpink;}</pre><p><strong>打印链接</strong></p><p>在打印样式中显示URL使我走上了理解属性选择器的道路。 你现在应该知道如何自己构建它， 你只需选择带有href的所有标签，添加伪元素，然后使用attr()和content打印它们。</p><pre>a[href]:after { content: " (" attr(href) ") ";}</pre><p><strong>自定义提示</strong></p><p>使用属性选择器创建自定义工具提示既有趣又简单：</p><pre>[title] { position: relative; display: block;}[title]:hover:after { content: attr(title); color: hotpink; background-color: slateblue; display: block; padding: .225em .35em; position: absolute; right: -5px; bottom: -5px;}</pre><p><strong>便捷键</strong></p><p>web 的一大优点是它提供了许多不同的信息访问选项。一个很少使用的属性是设置accesskey的能力，这样就可以通过键组合和accesskey设置的字母直接访问该项目(确切的键组合取决于浏览器)。但是要想知道网站上设置了哪些键并不是件容易的事</p><p>下面的代码将显示这些键:focus。我不使用鼠标悬停，因为大多数时候需要accesskey的人是那些使用鼠标有困难的人。你可以将其添加为第二个选项，但要确保它不是惟一的选项。</p><pre>a[accesskey]:focus:after { content: " AccessKey: " attr(accesskey);}</pre><h1><strong>诊断</strong></h1><div class=pgc-img><img alt="可使用 CSS 「属性选择器」来提高前端开发效率。收藏后总会用到" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/0b3c12c0-3672-43da-992c-3a548d4f27a6><p class=pgc-img-caption></p></div><p>这些选项用于帮助我们在构建过程中或在尝试修复问题时在本地识别问题。将这些内容放在我们的生产网站上会使用户产生错误。</p><p><strong>没有 controls 属性的 audio</strong></p><p>我不经常使用audio标签，但是当我使用它时，我经常忘记包含controls属性。 结果：没有显示任何内容。 如果你在 Firefox，如果隐藏了音频元素，或者语法或其他一些问题阻止它出现（仅适用于Firefox），此代码可以帮助你解决问题：</p><pre>audio:not([controls]) { width: 100px; height: 20px; background-color: chartreuse; display: block;}</pre><p><strong>没有 alt 文本</strong></p><p>没有 alt 文本的图像是可访问性的噩梦。只需查看页面就很难找到它们，但如果添加它们，它们就会弹出来（当页面图片加载失败时，alt文字可以更好的解释图片的作用）：</p><pre>img:not([alt]) { /* no alt attribute */ outline: 2em solid chartreuse;}img[alt=""] { /* alt attribute is blank */ outline: 2em solid cadetblue;}</pre><p><strong>异步 Javascript 文件</strong><br></p><p>网页可以是内容管理系统和插件，框架和代码的集合，确定哪些JavaScript异步加载以及哪些不加载可以帮助你专注于提高页面性能。</p><pre>script[src]:not([async]) { display: block; width: 100%; height: 1em; background-color: red;}script:after { content: attr(src);}</pre><p><strong>JavaScript 事件元素</strong></p><p>你可以突出显示具有JavaScript事件属性的元素，以便将它们重构到JavaScript文件中。这里我主要关注OnMouseOver属性，但是它适用于任何JavaScript事件属性。</p><pre>[OnMouseOver] { color: burlywood;}[OnMouseOver]:after { content: "JS: " attr(OnMouseOver);}</pre><p><strong>隐藏项</strong></p><p>如果需要查看隐藏元素或隐藏输入的位置，可以使用它们来显示</p><pre>[hidden], [type="hidden"] { display: block;}</pre><p><br></p><hr><p>喜欢小编的可以点个赞关注小编哦，小编每天都会给大家分享文章。</p><blockquote><p>我自己是一名从事了多年的前端老程序员，<strong>小编为大家准备了新出的前端编程学习资料，免费分享给大家！</strong></p></blockquote><p><strong>如果你也想学习前端，那么帮忙转发一下然后再关注小编后私信【1】可以得到我整理的这些前端资料了（私信方法：点击我头像进我主页有个上面有个私信按钮）</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'CSS','属性','选择器'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../cn/%E7%A7%91%E6%8A%80/48fb4ec0.html alt=一文快速读懂CSS属性选择器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/0c94892357da416ea879c60973c489d3 style=border-radius:25px></a>
<a href=../../cn/%E7%A7%91%E6%8A%80/48fb4ec0.html title=一文快速读懂CSS属性选择器>一文快速读懂CSS属性选择器</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>