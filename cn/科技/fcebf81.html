<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>å¦‚ä½•æ‰¹é‡å¤„ç†å›¾åƒè‡ªåŠ¨ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç ï¼‰ | æå®¢å¿«è¨Š</title><meta property="og:title" content="å¦‚ä½•æ‰¹é‡å¤„ç†å›¾åƒè‡ªåŠ¨ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç ï¼‰ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/7b888490916a44b4ac1cde73500ed1af"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcebf81.html><meta property="article:published_time" content="2020-10-29T20:54:10+08:00"><meta property="article:modified_time" content="2020-10-29T20:54:10+08:00"><meta name=Keywords content><meta name=description content="å¦‚ä½•æ‰¹é‡å¤„ç†å›¾åƒè‡ªåŠ¨ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç ï¼‰"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/fcebf81.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è®¯ Geek Bank</a></h1><p class=description>ä¸ºä½ å¸¦æ¥æœ€å…¨çš„ç§‘æŠ€çŸ¥è¯† ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>å¦‚ä½•æ‰¹é‡å¤„ç†å›¾åƒè‡ªåŠ¨ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç ï¼‰</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p>æ–‡/ITå¯è¾¾é¸­</p><p>å›¾/ITå¯è¾¾é¸­ã€ç½‘ç»œ</p><p></p><h1 class=pgc-h-arrow-right>å‰è¨€</h1><p></p><p>äº‹æƒ…çš„ç»è¿‡æ˜¯è¿™æ ·å­çš„ï¼Œå°ç¼–åœ¨å¾ˆä¹…ä»¥å‰å†™è¿‡ä¸€ç¯‡ã€Š<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6810654859126112772/?group_id=6810654859126112772" rel="noopener noreferrer" target=_blank>å¦‚ä½•ç»™ä¸€åƒå¼ å›¾ç‰‡å»æ°´å°ï¼Ÿè¿˜å¥½æˆ‘ä¼špythonï¼Œ100è¡Œä»£ç è½»æ¾æå®š</a>ã€‹çš„æ–‡ç« ã€‚æœ€è¿‘æ”¶åˆ°ç½‘å‹è¯„è®ºï¼šâ€œ<strong>æœ‰æ— æ‰¹é‡å¤„ç†å›¾åƒè‡ªåŠ¨ç™½å¹³è¡¡çš„ä¾‹å­ï¼Ÿ</strong>â€œ</p><p></p><div class=pgc-img><img alt=å¦‚ä½•æ‰¹é‡å¤„ç†å›¾åƒè‡ªåŠ¨ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç ï¼‰ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7b888490916a44b4ac1cde73500ed1af><p class=pgc-img-caption></p></div><p></p><p>å¯è¾¾é¸­è¡¨ç¤ºï¼š<strong>å®‰æ’ï¼</strong></p><p></p><h1 class=pgc-h-arrow-right>ä»€ä¹ˆæ˜¯å›¾åƒç™½å¹³è¡¡ï¼Ÿ</h1><p></p><p>è‚¯å®šæœ‰äººä¼šé—®ä»€ä¹ˆæ˜¯ç™½å¹³è¡¡ï¼Œè¿™é‡Œç»™å¤§å®¶ç®€å•è¯´ä¸€ä¸‹ã€‚<strong>ç™½å¹³è¡¡æ”¹å˜çš„æ˜¯ç”»é¢çš„è‰²æ¸©å†·æš–å˜åŒ–ï¼Œè¦ä¹ˆè®©ç”»é¢åè“ï¼ˆå†·ï¼‰ï¼Œè¦ä¹ˆè®©ç”»é¢åé»„ï¼ˆæš–ï¼‰ã€‚</strong></p><p></p><div class=pgc-img><img alt=å¦‚ä½•æ‰¹é‡å¤„ç†å›¾åƒè‡ªåŠ¨ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç ï¼‰ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/9a0d3ab047834841bbf491fd348a4951><p class=pgc-img-caption>åŸå›¾</p></div><div class=pgc-img><img alt=å¦‚ä½•æ‰¹é‡å¤„ç†å›¾åƒè‡ªåŠ¨ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç ï¼‰ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5c4d71252ff84a8e8678b49608612f3e><p class=pgc-img-caption>ç™½å¹³è¡¡å¤„ç†åï¼ˆç”»é¢åå†·ï¼‰</p></div><p></p><h1 class=pgc-h-arrow-right>æ¶‰åŠéš¾ç‚¹</h1><p></p><p><strong class=highlight-text>ç­–ç•¥æ¨¡å¼</strong>ï¼šåœ¨æœ‰å¤šç§ç®—æ³•ç›¸ä¼¼çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨â€œif...else...â€ä¼šå¸¦æ¥çš„éš¾ä»¥ç»´æŠ¤çš„é—®é¢˜ã€‚ä¸ºäº†é¿å…è¿‡å¤šä½¿ç”¨å¤šé‡æ¡ä»¶çš„åˆ¤æ–­ï¼Œè€Œä¸”ä¸ºäº†æ‰©å±•æ€§è‰¯å¥½ï¼Œå°±å¾—é€‰æ‹©ç­–ç•¥æ¨¡å¼ã€‚</p><p></p><p><strong class=highlight-text>é€’å½’è®¿é—®æ–‡ä»¶</strong>ï¼šè€ƒè™‘åˆ°ç”¨æˆ·ç»™å‡ºçš„å¾…å¤„ç†çš„å›¾ç‰‡å¯èƒ½æœ‰å«æœ‰å¤šçº§ç›®å½•ï¼Œé€’å½’è®¿é—®èƒ½ç¡®ä¿å¤„ç†å¥½æ‰€æœ‰çš„å›¾ç‰‡ã€‚</p><p></p><p><strong class=highlight-text>numpyçš„è¿ç”¨</strong>ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„ä»£æ›¿ï¼Œç„¶åç”¨forå¾ªç¯é€ä¸ªåƒç´ å€¼è¿›è¡Œè®¡ç®—ã€‚ä¸è¿‡ï¼Œè€ƒè™‘çš„è¿è¡Œæ•ˆç‡é—®é¢˜ï¼Œæœ€å¥½é€‰æ‹©numpyæˆ–pandasã€‚</p><p></p><p><strong class=highlight-text>pythoné­”æœ¯æ–¹æ³•</strong>ï¼šå¯ä»¥è¿™ä¹ˆè¯´ï¼Œå°±æ˜¯å‡½æ•°çš„å£°æ˜å’Œè°ƒç”¨æ‰€ä½¿ç”¨çš„åç§°ä¸åŒï¼Œè€Œä¸”è°ƒç”¨çš„æ–¹å¼éå¸¸æ–¹ä¾¿ã€‚</p><p></p><h1 class=pgc-h-arrow-right>é¡¹ç›®è®¾è®¡</h1><p></p><p>é¦–å…ˆç”³æ˜ï¼Œæœ¬ä»£ç æ˜¯æ ¹æ®ç½‘ä¸Šå¼€æºçš„ä»£ç è¿›è¡Œä¿®æ”¹çš„ã€‚åŠ å…¥äº†pythonçš„è®¾è®¡ç†å¿µå’Œæ‰¹é‡å¤„ç†çš„æ€è·¯ã€‚ä¸»è¦åˆ†ä¸ºä¸ƒæ­¥ï¼Œå¤§æ¦‚æœ‰200è¡Œpythonä»£ç ï¼Œå¤§å®¶å¯ä»¥ç ”è¯»ä¸€ä¸‹ã€‚</p><p></p><ul><li><strong>ç¬¬ä¸€æ­¥ï¼šå¯¼å…¥éœ€è¦çš„åŒ…å’Œé™æ€å˜é‡çš„è®¾ç½®ã€‚</strong></li></ul><pre><code>import cv2import numpy as npimport osclass CONF:    input_path = 'input'    # å¾…å¤„ç†çš„å›¾ç‰‡ï¼ˆè·¯å¾„ä¸èƒ½æœ‰ä¸­æ–‡ï¼‰    output_path = 'output'  # å¤„ç†çš„ç»“æœï¼ˆè·¯å¾„ä¸èƒ½æœ‰ä¸­æ–‡ï¼‰    white_balance_mode = 5  # ç™½å¹³è¡¡çš„æ¨¡å¼ï¼ˆä¸€å…±æœ‰äº”ç§æ¨¡å¼ï¼Œ1~5ï¼‰    is_log = True           # æ˜¯å¦æ‰“å°æ—¥å¿—</code></pre><p></p><ul><li><strong>ç¬¬äºŒæ­¥ï¼šç±»çš„åˆå§‹åŒ–</strong></li></ul><pre><code>def __init__(self, input_path, output_path, white_balance_mode, is_log):    # ç­–ç•¥çš„é€‰æ‹©    self.white_balance_mode = white_balance_mode if white_balance_mode in [1,2,3,4,5] else 1    self.name_dict = {1:'_mode_1', 2:'_mode_2', 3:'_mode_3', 4:'_mode_4', 5:'_mode_5'}    self.input_path = input_path    self.output_path = output_path + self.name_dict[self.white_balance_mode]    # ç­–ç•¥æ¨¡å¼    self.white_balance_process = {1: self.__balance_mode_1, # å‡å€¼                                  2: self.__balance_mode_2, # å®Œç¾åå°„                                  3: self.__balance_mode_3, # ç°åº¦ä¸–ç•Œ                                  4: self.__balance_mode_4, # é¢œè‰²æ ¡æ­£                                  5: self.__balance_mode_5} # åŠ¨æ€é˜ˆå€¼    self.is_log = is_log"""åˆå§‹åŒ–"""@classmethoddef initialize(cls, config):    input_path = config.input_path    output_path = config.output_path    white_balance_mode = config.white_balance_mode    is_log = config.is_log    return cls(input_path, output_path, white_balance_mode, is_lo</code></pre><p></p><ul><li><strong>ç¬¬ä¸‰æ­¥ï¼šäº”ç§ç­–ç•¥ç®—æ³•çš„ç¼–å†™ã€‚</strong></li></ul><p></p><p>ç­–ç•¥ä¸€ï¼šå‡å€¼</p><pre><code>"""ç­–ç•¥ä¸€ï¼š å‡å€¼"""def __balance_mode_1(self, img, b, g, r, h, w, c):    # ç®€å•çš„æ±‚å‡å€¼ç™½å¹³è¡¡æ³•    b_avg, g_avg, r_avg = cv2.mean(b)[0], cv2.mean(g)[0], cv2.mean(r)[0]    # æ±‚å„ä¸ªé€šé“æ‰€å å¢ç›Š    k = (b_avg + g_avg + r_avg) / 3    kb, kg, kr = k / b_avg, k / g_avg, k / r_avg    b = cv2.addWeighted(src1=b, alpha=kb, src2=0, beta=0, gamma=0)    g = cv2.addWeighted(src1=g, alpha=kg, src2=0, beta=0, gamma=0)    r = cv2.addWeighted(src1=r, alpha=kr, src2=0, beta=0, gamma=0)    output_img = cv2.merge([b, g, r])    return output_img</code></pre><p></p><p>ç­–ç•¥äºŒï¼šå®Œç¾åå°„</p><pre><code>"""ç­–ç•¥äºŒï¼š å®Œç¾åå°„"""def __balance_mode_2(self, img, b, g, r, h, w, c):    # å®Œç¾åå°„ç™½å¹³è¡¡ ---- ä¾èµ–ratioå€¼é€‰å–è€Œä¸”å¯¹äº®åº¦æœ€å¤§åŒºåŸŸä¸æ˜¯ç™½è‰²çš„å›¾åƒæ•ˆæœä¸ä½³ã€‚    output_img = img.copy()    sum_ = np.double() + b + g + r    hists, bins = np.histogram(sum_.flatten(), 766, [0, 766])    Y = 765    num, key = 0, 0    ratio = 0.01    while Y &gt;= 0:        num += hists[Y]        if num &gt; h * w * ratio / 100:            key = Y            break        Y = Y - 1    sumkey = np.where(sum_ &gt;= key)    sum_b, sum_g, sum_r = np.sum(b[sumkey]), np.sum(g[sumkey]), np.sum(r[sumkey])    times = len(sumkey[0])    avg_b, avg_g, avg_r = sum_b / times, sum_g / times, sum_r / times    maxvalue = float(np.max(output_img))    output_img[:, :, 0] = output_img[:, :, 0] * maxvalue / int(avg_b)    output_img[:, :, 1] = output_img[:, :, 1] * maxvalue / int(avg_g)    output_img[:, :, 2] = output_img[:, :, 2] * maxvalue / int(avg_r)    return output_im</code></pre><p></p><p>ç­–ç•¥ä¸‰ï¼šç°åº¦ä¸–ç•Œ</p><pre><code>"""ç­–ç•¥ä¸‰ï¼š ç°åº¦ä¸–ç•Œ"""def __balance_mode_3(self, img, b, g, r, h, w, c):    # ç°åº¦ä¸–ç•Œå‡è®¾    b_avg, g_avg, r_avg = cv2.mean(b)[0], cv2.mean(g)[0], cv2.mean(r)[0]    # éœ€è¦è°ƒæ•´çš„RGBåˆ†é‡çš„å¢ç›Š    k = (b_avg + g_avg + r_avg) / 3    kb, kg, kr = k / b_avg, k / g_avg, k / r_avg    ba, ga, ra = b * kb, g * kg, r * kr    output_img = cv2.merge([ba, ga, ra])    return output_img</code></pre><p></p><p>ç­–ç•¥å››ï¼šé¢œè‰²æ ¡æ­£</p><pre><code>"""ç­–ç•¥å››ï¼š é¢œè‰²æ ¡æ­£"""def __balance_mode_4(self, img, b, g, r, h, w, c):    # åŸºäºå›¾åƒåˆ†æçš„åè‰²æ£€æµ‹åŠé¢œè‰²æ ¡æ­£    I_b_2, I_r_2 = np.double(b) ** 2, np.double(r) ** 2    sum_I_b_2, sum_I_r_2 = np.sum(I_b_2), np.sum(I_r_2)    sum_I_b, sum_I_g, sum_I_r = np.sum(b), np.sum(g), np.sum(r)    max_I_b, max_I_g, max_I_r = np.max(b), np.max(g), np.max(r)    max_I_b_2, max_I_r_2 = np.max(I_b_2), np.max(I_r_2)    [u_b, v_b] = np.matmul(np.linalg.inv([[sum_I_b_2, sum_I_b], [max_I_b_2, max_I_b]]), [sum_I_g, max_I_g])    [u_r, v_r] = np.matmul(np.linalg.inv([[sum_I_r_2, sum_I_r], [max_I_r_2, max_I_r]]), [sum_I_g, max_I_g])    b0 = np.uint8(u_b * (np.double(b) ** 2) + v_b * b)    r0 = np.uint8(u_r * (np.double(r) ** 2) + v_r * r)    output_img = cv2.merge([b0, g, r0])    return output_img</code></pre><p></p><p>ç­–ç•¥äº”ï¼šåŠ¨æ€é˜ˆå€¼</p><pre><code>"""ç­–ç•¥äº”ï¼š åŠ¨æ€é˜ˆå€¼"""def __balance_mode_5(self, img, b, g, r, h, w, c):    # åŠ¨æ€é˜ˆå€¼ç®—æ³• ---- ç™½ç‚¹æ£€æµ‹å’Œç™½ç‚¹è°ƒæ•´    # åªæ˜¯ç™½ç‚¹æ£€æµ‹ä¸æ˜¯ä¸å®Œç¾åå°„ç®—æ³•ç›¸åŒçš„è®¤ä¸ºæœ€äº®çš„ç‚¹ä¸ºç™½ç‚¹ï¼Œè€Œæ˜¯é€šè¿‡å¦å¤–çš„è§„åˆ™ç¡®å®š    def con_num(x):        if x &gt; 0:            return 1        if x &lt; 0:            return -1        if x == 0:            return 0    yuv_img = cv2.cvtColor(img, cv2.COLOR_BGR2YCrCb)    # YUVç©ºé—´    (y, u, v) = cv2.split(yuv_img)    max_y = np.max(y.flatten())    sum_u, sum_v = np.sum(u), np.sum(v)    avl_u, avl_v = sum_u / (h * w), sum_v / (h * w)    du, dv = np.sum(np.abs(u - avl_u)), np.sum(np.abs(v - avl_v))    avl_du, avl_dv = du / (h * w), dv / (h * w)    radio = 0.5  # å¦‚æœè¯¥å€¼è¿‡å¤§è¿‡å°ï¼Œè‰²æ¸©å‘ä¸¤æç«¯å‘å±•    valuekey = np.where((np.abs(u - (avl_u + avl_du * con_num(avl_u))) &lt; radio * avl_du)                        | (np.abs(v - (avl_v + avl_dv * con_num(avl_v))) &lt; radio * avl_dv))    num_y, yhistogram = np.zeros((h, w)), np.zeros(256)    num_y[valuekey] = np.uint8(y[valuekey])    yhistogram = np.bincount(np.uint8(num_y[valuekey].flatten()), minlength=256)    ysum = len(valuekey[0])    Y = 255    num, key = 0, 0    while Y &gt;= 0:        num += yhistogram[Y]        if num &gt; 0.1 * ysum:  # å–å‰10%çš„äº®ç‚¹ä¸ºè®¡ç®—å€¼ï¼Œå¦‚æœè¯¥å€¼è¿‡å¤§æ˜“è¿‡æ›å…‰ï¼Œè¯¥å€¼è¿‡å°è°ƒæ•´å¹…åº¦å°            key = Y            break        Y = Y - 1    sumkey = np.where(num_y &gt; key)    sum_b, sum_g, sum_r = np.sum(b[sumkey]), np.sum(g[sumkey]), np.sum(r[sumkey])    num_rgb = len(sumkey[0])    b0 = np.double(b) * int(max_y) / (sum_b / num_rgb)    g0 = np.double(g) * int(max_y) / (sum_g / num_rgb)    r0 = np.double(r) * int(max_y) / (sum_r / num_rgb)    output_img = cv2.merge([b0, g0, r0])    return output</code></pre><p></p><ul><li><strong>ç¬¬å››æ­¥ï¼š å•å¼ å›¾ç‰‡çš„å¤„ç†</strong></li></ul><pre><code>"""å•å¼ å›¾ç‰‡çš„å¤„ç†"""def img_process(self, in_img_path, out_img_path):    in_img = cv2.imread(in_img_path)    b, g, r = cv2.split(in_img)    h, w, c = in_img.shape  # å‡å€¼å˜ä¸ºä¸‰é€šé“    # æ ¹æ®ç”¨æˆ·é€‰æ‹©çš„ä¸åŒç­–ç•¥è¿›è¡Œè°ƒç”¨    output_img = self.white_balance_process[self.white_balance_mode](in_img, b, g, r, h, w, c)    output_img = np.uint8(np.clip(output_img, 0, 255))    # ä¿å­˜å›¾ç‰‡    cv2.imwrite(out_img_path, output_i</code></pre><p></p><ul><li><strong>ç¬¬äº”æ­¥ï¼šé€’å½’è®¿é—®æ–‡ä»¶</strong></li></ul><pre><code>""" åˆ›å»ºæ–‡ä»¶å¤¹ """def mkdir(self, path):    path = path.strip().rstrip("\\")    is_exists = os.path.exists(path)    if not is_exists:        os.makedirs(path)        return True    else:        return False""" é€’å½’è®¿é—®æ–‡ä»¶/æ–‡ä»¶å¤¹ """def visit_dir_files(self, org_input_dir, org_output_dir, recursion_dir):    single_file = False    if os.path.isdir(recursion_dir):        dir_list = os.listdir(recursion_dir)    else:        dir_list = [recursion_dir]        single_file = True    for i in range(0, len(dir_list)):        path = os.path.join(recursion_dir, dir_list[i])        if os.path.isdir(path):            self.visit_dir_files(org_input_dir, org_output_dir, path)        else:            abs_output_dir = org_output_dir + recursion_dir[len(org_input_dir):]            target_path = os.path.join(abs_output_dir, dir_list[i])            if single_file:                target_path = os.path.join(org_output_dir, os.path.basename(dir_list[i]))            target_dir_name = os.path.dirname(target_path)            if not os.path.exists(target_dir_name):                self.mkdir(target_dir_name)            self.img_process(path, target_path</code></pre><p></p><ul><li><strong>ç¬¬å…­æ­¥ï¼šä¸»çº¿ç¨‹ï¼Œè¿™é‡Œä½¿ç”¨é­”æœ¯æ–¹æ³•å£°æ˜ã€‚</strong></li></ul><pre><code># ä¸»çº¿ç¨‹(é‡‡ç”¨pythoné­”æœ¯æ–¹æ³•å®ç°)# å…è®¸ä¸€ä¸ªç±»çš„å®ä¾‹åƒå‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ï¼šx(key)# å‡å¦‚å¯¹è±¡å®ä¾‹æ˜¯x, ä½¿ç”¨x(key), å°±åƒè°ƒç”¨ x.__call__(a, b)ä¸€æ ·def __call__(self,):    if os.path.exists(self.input_path):        # é€’å½’è®¿é—®å›¾ç‰‡ï¼Œé€å¼ å›¾ç‰‡è¿›è¡Œå¤„ç†        self.visit_dir_files(self.input_path, self.output_path, self.input_path)        if self.is_log:            print(u'å®Œæˆï¼æ‰€æœ‰å›¾ç‰‡å·²ä¿å­˜è‡³è·¯å¾„' + self.output_path)    else:        print(u'å¾…å¤„ç†çš„å›¾ç‰‡å­˜æ”¾çš„ä½ç½® %s, å¦‚æœæ²¡æœ‰è¯·æ–°å»ºç›®å½• %s' % (self.input_path, self.input_path))</code></pre><p></p><ul><li><strong>ç¬¬ä¸ƒæ­¥ï¼šmainå‡½æ•°è¿›è¡Œè°ƒç”¨</strong></li></ul><pre><code>if __name__ == '__main__':    white_balance = WhiteBalanceHelper.initialize(config=CONF)    white_balance()</code></pre><p></p><h1 class=pgc-h-arrow-right>è¾“å‡ºç»“æœ</h1><p>ç¬¬ä¸€å¼ æ˜¯åŸå›¾ï¼Œä½™ä¸‹äº”å¼ æ˜¯ä¸åŒç™½å¹³è¡¡ç®—æ³•çš„å¤„ç†ç»“æœã€‚</p><div class=pgc-img><img alt=å¦‚ä½•æ‰¹é‡å¤„ç†å›¾åƒè‡ªåŠ¨ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç ï¼‰ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b3f69724e2754c69af7b7088f2f8eb9a><p class=pgc-img-caption></p></div><p></p><h1 class=pgc-h-arrow-right>åç»­æ”¹è¿›</h1><p></p><p>é¡¹ç›®é‡‡ç”¨äº†äº”ç§ç™½å¹³è¡¡çš„ç®—æ³•ï¼Œå¹¶ç”¨ç­–ç•¥æ¨¡å¼è§„èŒƒèµ·æ¥ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†åç»­æ–¹ä¾¿æ‰©å±•å…¶ä»–ç®—æ³•ã€‚å¦‚æœæœ‰å…¶ä»–æ–°çš„ç™½å¹³è¡¡ç®—æ³•ï¼Œå¯ä»¥é€æ­¥åŠ å…¥ï¼Œå¢åŠ å˜é‡ modeçš„å–å€¼ä»¥åŠç­–ç•¥å­—å…¸çš„å‡½æ•°å€¼å³å¯ã€‚</p><p></p><h1 class=pgc-h-arrow-right>ç»“è¯­</h1><p></p><p>å¦‚æœæœ‰ç–‘é—®æƒ³è·å–æºç ï¼Œå¯ä»¥å…³æ³¨åï¼Œåœ¨åå°ç§ä¿¡æˆ‘ï¼Œå›å¤ï¼š<strong class=highlight-text>pythonç™½å¹³è¡¡ï¼Œ</strong> æˆ‘æŠŠæºç å‘ä½ ã€‚</p><p><br></p><p><strong>å­¦ä¹ pythonï¼Œä¸éœ€è¦ä¸€æ¯å¥¶èŒ¶é’±ï¼Œåªéœ€è¦ä½ ç‚¹ä¸ªå…³æ³¨ã€‚</strong>å¦‚æœè§‰å¾—å°ç¼–çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè®°å¾—ç‚¹ä¸ªèµï¼Œé¡ºä¾¿å¸®æˆ‘åˆ†äº«å‡ºå»ã€‚æœ‰ä»€ä¹ˆä¸æ˜ç™½çš„åœ°æ–¹ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºï¼Œæˆ–ç§ä¿¡å°ç¼–ã€‚æœ€åï¼Œæ„Ÿè°¢å¤§å®¶çš„é˜…è¯»ï¼Œç¥å¤§å®¶ç”Ÿæ´»æ„‰å¿«ã€‚</p><p></p><p>æœ¬æ–‡ç”± <strong>ITå¯è¾¾é¸­ </strong>åŸåˆ›ï¼Œæ¬¢è¿å…³æ³¨ï¼Œå¸¦ä½ ä¸€èµ·é•¿çŸ¥è¯†ï¼</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'å¤„ç†å›¾','è‡ªåŠ¨','ç™½å¹³è¡¡'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>