<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>计算机网络笔记 | 极客快訊</title><meta property="og:title" content="计算机网络笔记 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/152964353345380b3db60fd"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fd64cb45.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fd64cb45.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fd64cb45.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fd64cb45.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fd64cb45.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fd64cb45.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fd64cb45.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fd64cb45.html><meta property="article:published_time" content="2020-11-14T20:59:58+08:00"><meta property="article:modified_time" content="2020-11-14T20:59:58+08:00"><meta name=Keywords content><meta name=description content="计算机网络笔记"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/fd64cb45.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>计算机网络笔记</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1>计算机网络</h1><ul><li>概述</li><li>物理层</li><li>数据链路层</li><li>网络层</li><li>运输层</li></ul><div class=pgc-img><img alt=计算机网络笔记 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/152964353345380b3db60fd><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=计算机网络笔记 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/152964353345380b3db60fd><p class=pgc-img-caption></p></div><h1>概述</h1><ol><li>三大类网络：电信网络、有线电视网络、计算机网络</li><li>互联网基本特点：连通性、共享</li><li>计算机网络由 结点 和链路 组成</li><li>网络的网络：网络之间通过路由器互连起来构成更大的网络</li><li>网络把 计算机连接在一起 ， 互连网将 网络连接在一起 ， 与网络相连的计算机称为 主机</li><li>在网络核心部分起特殊作用的是 路由器 ，作用是 转发收到的分组</li><li>计算机网络的性能：</li></ol><div class=pgc-img><img alt=计算机网络笔记 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/15296438706472b29713902><p class=pgc-img-caption></p></div><ol><li>★计算机网络的非性能特征：费用、质量、标准化、可靠性、可扩展性和可升级性、易于管理和维护</li><li>为进行网络中的数据交换而建立的规则、标准或约定称为 网络协议</li><li>网络协议组成要素：语法、语义、同步</li><li>五层协议</li></ol><div class=pgc-img><img alt=计算机网络笔记 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1529643695748167428f204><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=计算机网络笔记 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15296438473564c4823f4a1><p class=pgc-img-caption></p></div><ol><li>对等层次之间传送的数据单位称为该层的 协议数据单元PDU</li><li>在同一系统中相邻两层的实体进行交互的地方，称为 服务访问点SAP</li><li>计算机网络的各层及其协议的集合，称为 网络的体系结构</li><li>运输层最重要的协议是 TCP和UDP协议 ，网络层最重要的协议是 IP协议</li></ol><div class=pgc-img><img alt=计算机网络笔记 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/152964388481203231e9b79><p class=pgc-img-caption></p></div><h1>物理层</h1><ol><li>传输媒体而分为 导引型传输媒体 和 非导引型传输媒体</li><li>光纤的优点：</li></ol><ul><li>通信容量大</li><li>传输损耗小，中继距离长</li><li>抗干扰性能好</li><li>保密性好</li><li>体积小、重量轻</li></ul><ol><li>短波通信主要是靠 电离层的反射</li><li>卫星通信的特点：通信距离远、且通信费用与通信距离无关 ； 较大的传播时延</li><li>数据通信系统分为： 源系统、传输系统、目的系统</li><li>通信的目的是：传送消息</li><li>常用的信道复用技术：频分复用、时分复用、统计时分复用、码分复用、波分复用</li><li>用户到互连网的宽带接入方式：非对称数字用户线ADSL、光纤同轴混合网HFC、FTTx**</li><li>传输媒体可分为：导引型传输媒体（双绞线、同轴电缆、光纤）、非导引型传输媒体（无线、红外、大气激光）</li></ol><h1>数据链路层</h1><ol><li>数据链路层使用的信道分为：点对点信道、广播信道</li><li>链路：相邻节点间的一段物理线路</li><li>数据链路：实现通信协议的软硬件加到链路上</li><li>点对点信道的数据链路层的协议数据单元：帧</li><li>网络层协议数据单元：IP数据报（数据报、分组、包）</li><li>三个基本问题：封装成帧、透明传输、差错控制</li><li>首部和尾部的一个重要作用是：帧定界</li><li>协议标准化的一个主要目的：提高协议的互操作性</li><li>信息字段的长度是可变的，一般不超过 1500字节</li><li>零比特填充：每5个连续“1”，就填入1个“0”</li><li>局域网最主要的特点：网络为一个单位所拥有，且地理范围和站点数量均有限</li><li>局域网优点：1、具有广播功能；2、便于系统的扩展和逐渐演变；3、提高了系统的可靠性</li><li>适配器的一个重要功能：进行数据的串并转换</li><li>计算机的硬件地址在 适配器的ROM中 ，软件地址在 存储中</li><li>CSMA/CD是 载波监听多点接入/碰撞检测</li><li>电磁波在1km电缆的传播时延是 5us</li><li>以太网使用 截断二进制指数退避 算法来确定碰撞后重传的时机</li><li>以太网规定帧间最小间隔为 9.6us</li><li>使双绞线能够传送高速数据的主要措施是：把双绞线的绞合度做得非常精确</li><li>MAC帧首部和尾部的长度共有 18字节</li><li>MAC帧的数据长度在 46 ~ 1500字节</li><li>以太网是：1、可扩展的；2、灵活的；3、易于安装；4、稳健性好</li><li>以太网接入的一个重要特点是：他可以提供双向的宽带通信，并且可以提供用户对带宽的需求灵活地进行宽带升级</li><li>共享通信媒体资源的方法：1、静态划分信道（复用技术）；2、动态媒体接入技术（多点接入）</li><li>使用 集线器 可以在 物理层 扩展以太网</li></ol><h1>网络层</h1><ol><li>互连网的设计思路：网络层向上只提供简单灵活的、无连接的、尽最大女里交付的数据包服务 。 好处是：网络造价降低、运行方式灵活、适应多种应用</li><li>将网络互相连接起来要使用 中间设备：</li></ol><ul><li>物理层使用的中间设备称为 转发器</li><li>数据链路层使用的中间设备称为 网桥/桥接器</li><li>网络层使用的中间设备称为 路由器</li><li>网络层以上使用的中间设备称为 网关</li></ul><ol><li>IP地址：{&lt;网络号>,&lt;主机号>}</li></ol><p>第一个字段第二个字段网络号，标志主机或路由器所连接到的网络。主机号，标志该主机或路由器</p><ol><li>分类的IP地址：</li></ol><p>类别网络号主机号A类（0）8位24位B类（10）16位16位C类（110）24位8位</p><ol><li>IP地址指派范围</li></ol><p>类别最大网络数第一个网络号最后一个网络号最大主机数A126（2^7 - 2）1126.0.0.02^24 - 2B16383（2^14 - 1）128.1.0.0191.255.0.02^16 - 2C2097151（2^21 - 1192.0.1.0223.255.255.02^8 - 2</p><p>注：</p><ul><li>A类网络号减2：1、IP全0表示 本网络； 2、IP 127（01111111）表示环回测试地址</li><li>A类主机号减2：1、全0表示所连接到的单个网络地址； 2、全1表示所有主机</li><li>B类网络号减1：1、前面两位(1 0)已经固定，不会出现全0或全1； 2、128.0.0.0不指派</li><li>B类主机号减2：扣除全0和全1的情况</li><li>C类网络号减1：1、前面两位(1 1 0)已经固定，不会出现全0或全1； 2、192.0.0.0不指派</li><li>C类主机号减2：扣除全0和全1的情况</li></ul><ol><li>IP地址是一种 分等级的地址结构， 好处是：1、方便IP地址管理；2、减小路由表所占的存储空间及查找路由表的时间</li><li>路由器总是具有 两个或两个以上 的IP地址</li><li>IP地址放在IP数据报的首部，而硬件地址放在MAC帧的首部。在网络层和网络层以上使用的是IP地址，而数据链路层及以下使用的是硬件地址。</li><li>地址解析协议ARP：在主机ARP高速缓存中存放一个从IP地址到硬件地址的映射表，并且这个映射表还经常动态更新</li><li>ARP请求分组是 广播发送的，但ARP响应分组是 普通的单播</li><li>使用抽象的IP地址，而不直接使用硬件地址通信的原因：全世界存在不同的网络使用不同的硬件地址，要使这些异构网络能够互相通信就必须进行非常复杂的硬件地址转换工作，但IP编址把这个复杂问题解决了</li><li>IP首部的固定长度是 20字节</li><li>IP数据报的数据部分在 4字节的整数倍 时开始</li><li>片偏移以 8字节为偏移单位，片偏移=本分片的数据长度/8，每一个分片的长度是 8字节的整数倍</li><li>数据报能在互联网中经过的路由器的最大数值是 255， 若把TTL初始值设置为“1”，表示 这个数据报只在本局域网中传送</li><li>划分子网的方法：从网络的主机号借用若干位作为子网号</li><li>IP地址 = {&lt;网络号>，&lt;子网号>，&lt;主机号>}</li><li>子网掩码：将三级IP地址的子网掩码与收到的数据报的目的IP地址逐位相与，得出所要找的子网的网络地址</li><li>不划分子网时，还要使用子网掩码的原因：便于查找路由表</li><li>子网号的位数中没有 0、1、15、16，因为没有意义</li><li>划分子网增加了灵活性，但却减少了能够连接在网络上的主机总数</li><li>使用了子网划分后，路由表必须包含 目的网络地址、子网掩码、下一跳地址</li><li>无分类编制CIDR的特点：1、消除了传统的A、B、C类地址以及划分子网的概念；2、把网络前缀相同的连续的IP地址组成一个“CIDR地址块”</li><li>IP = {&lt;网络前缀>，&lt;主机号>}</li><li>CIDR斜线记法：IP地址后面加上斜线“/”，然后写上网络前缀所占的位数</li><li>路由表中利用CIDR地址块查找目的网络，这种地址的聚合称为 路由聚合， 也称为 构成超网</li><li>前缀位数不是 8的整数倍 时，需要计算才能得到一些地址信息</li><li>最长前缀匹配：网络前缀越长，地址块越少，路由越具体</li><li>ICMP报文分为 ICMP差错报告报文、ICMP询问报文</li><li>ping 是应用层直接使用网络层的一个例子，它没有通过运输层的TCP和UDP</li><li>tracert 命令发送的是 无法交付的DUP数据报（使用了非法的端口号），在到达目的主机之前，返回的都是 ICMP时间超过 差错报告报文 ； 到达目的主机后，返回的是 ICMP终点不可达 差错报告报文</li><li>路由选择协议的核心是 路由算法</li><li>互联网采用分层次的路由选择协议：1、互联网的规模非常大；2、许多单位不愿意外界了解本单位网络的布局细节和路由选择协议，但同时希望连接到互联网</li><li>路由选择协议：</li></ol><p>路由选择协议具体协议内部网关协议IGP路由信息协议RIP、开放最短路径优先OSPF外部网关协议EGP边界网关协议BGP</p><ol><li>RIP协议的特点：1、仅和相邻路由器交换信息；2、路由器交换的信息是当前本路由器的路由表；3、按固定的时间间隔交换路由信息</li><li>RIP只允许一条路径最多只能包含 15个 路由器</li><li>路由表更新的原则是：找出每个目的网络的的最短距离</li><li>路由表更新步骤：先将收到的R4路由更新信息的“距离+1、下一跳地址改为R4”；再将更改后的路由信息与已有的路由表对比；下一跳路由器相同则更新，不相同则对比更新距离更小的</li><li>BGP协议的核心内容：UPDATE报文</li><li>路由器 是一种具有多输入端口（端口为硬件接口）和多输出端口的专用计算机，其任务是转发分组（根据目的主机所连接的网络号来转发分组）</li><li>整个路由器结构可分为：路由选择部分、分组转发部分</li><li>解决IP地址耗尽的根本措施：采用具有更大地址空间的新版本的IP，即IPv6</li><li>IPv6将协议数据单元PDU称为 分组</li><li>IPv6的组成：基本首部、有效载荷（扩展首部+数据）</li><li>IPv6 首部长度是固定的、不需要DHCP、首部为8字节对齐、使用冒号十六进制记法</li><li>IPv4向IPv6过渡的策略：双协议栈和隧道技术*</li><li>使用 域名系统DNS 来查询目的主机使用哪一种地址</li><li>IPv6分组的目的地址可以是：单播、多播、任播</li></ol><h1>运输层</h1><ol><li>运输层的一个很重要的功能：复用和分用</li><li>网络层为 主机之间提供逻辑通信， 运输层为 应用进程之间提供端到端的逻辑通信</li><li>运输层的两种运输协议：面向连接的传输控制协议TCP、无连接的用户数据报协议UDP</li><li>软件端口是 在协议栈层间的抽象的协议端口，是应用层的各种协议进程与运输实体进行层间交互的一种地址</li><li>硬件端口是 不同硬件设备进行交互的接口</li><li>UDP的特点：1、无连接的；2、尽最大努力交付；3、面向报文；4、没有拥塞控制；5、支持N对N信道；6、首部开销小</li><li>TCP的特点：1、面向连接的运输层协议；2、每一条TCP连接只能有两个端点；3、提供可靠交付的服务；4、全双工通信；5、面向字节流</li></ol><div class=pgc-img><img alt=计算机网络笔记 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1529643949959d80dd24f2e><p class=pgc-img-caption></p></div><ol><li>TCP报文先传送到IP层，加上IP首部后，再传送到数据链路层。再加上数据链路层的首部和尾部后，才离开主机发送到物理链路。</li><li>TCP连接的端点叫做 套接字(插口)，端口号拼接到IP地址即构成套接字，表示方法是：点分十进制的IP地址后面写上端口号，中间用冒号或逗号隔开</li><li>套接字socket = （IP地址：端口号）</li><li>每一条TCP连接唯一地被通信两端的两个端点所确定：</li><li>TCP连接 = {socket1，socket2} = {（IP1:Port1），（IP2:Port2）}</li><li>同一个IP地址可以有多个不同的TCP连接，而同一个端口号也可以出现在多个不同的TCP连接中</li><li>TCP报文段首部的前20个字节是固定的，后面的4n字节是根据需要而增加的选项</li><li>若确认号=N，则表明：到序号N-1为止的所有数据都已正确收到</li><li>窗口字段明确指出了现在允许对方发送的数据量，窗口值经常在动态变化着</li><li>即使窗口为零时也可发送紧急数据</li><li>TCP进行拥塞控制的算法有四种：慢开始、拥塞避免、快重传、快恢复</li><li>判断网络拥塞的依据是：出现了超时</li><li>使用慢开始算法后，每经过一个传输伦次，拥塞窗口cwnd就 加倍</li><li>拥塞避免算法 让拥塞窗口cwnd缓慢增大，即每经过一个往返时间RTT就把发送方的拥塞窗口cwnd加1</li><li>快重传算法规定：发送方只要一连收到3个重复确认，就应当立即进行重传</li><li>使用快重传可以使整个网络的吞吐量提高约 20%</li><li>加法增加AI：拥塞避免阶段，拥塞窗口按照线性规律增大</li><li>乘法减小MD：出现超时或3个重复确认，把门限值设置为当前拥塞窗口值的一半，并大大减小拥塞窗口的数值</li><li>网络层的策略对TCP拥塞控制影响最大的就是路由器的分组丢弃策略</li><li>TCP是面向连接的协议，运输连接 是用来 传送TCP报文的</li><li>TCP握手中：SYN - 同步位 ；ack - 确认号 ；ACK - ；seq - 序号</li><li>客户端的第三次握手：防止已失效的连接请求报文段突然又传送到了服务端</li><li>运输连接有三个阶段：连接建立、数据传送、连接释放</li><li>TCP的连接建立采用 三报文握手机制 ， TCP的连接释放采用 四报文握手机制</li></ol><div class=pgc-img><img alt=计算机网络笔记 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15296439895472ad4044802><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'计算机','网络','笔记'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>