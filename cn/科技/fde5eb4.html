<!doctype html><html lang=cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>谈谈系统设计的一些原则 | 极客快訊</title><meta property="og:title" content="谈谈系统设计的一些原则 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="cn"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fde5eb4.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fde5eb4.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fde5eb4.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fde5eb4.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fde5eb4.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fde5eb4.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fde5eb4.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fde5eb4.html><meta property="article:published_time" content="2020-10-29T20:59:28+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:28+08:00"><meta name=Keywords content><meta name=description content="谈谈系统设计的一些原则"><meta name=author content="极客快訊"><meta property="og:url" content="/cn/%E7%A7%91%E6%8A%80/fde5eb4.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快讯 Geek Bank</a></h1><p class=description>为你带来最全的科技知识 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>谈谈系统设计的一些原则</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=cn/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>在进行系统设计时，不仅要考虑软件的功能性需求，还要考虑非功能性需求，比如软件的性能(Performance)、可扩展性(Scalability)，系统的稳定性(Reliability)、部署(Deployment)和更新(Upgrade)，可维护性(Maintainability)，版本的管理，系统的安全(Security)，界面的友好程度可用性(Usability, User experience)等。要想覆盖所有需求，实现一个简单而优秀的系统，可谓艰难。</p><p><strong>大道至简，合适最好</strong></p><p><strong></strong>什么是优秀的系统设计？ 这个问题颇有争议，但几乎每个软件工程师和架构师都追求优秀的系统设计。当然，系统设计并不代表结果，系统设计只是架构师或者带头程序员的工作，优秀的系统设计必须经由良好的项目管理和团队努力，经过分析需求、设计、开发、测试、分发、维护，以及迭代或重构的过程。中间哪个环节出了问题，再好的设计都将功亏一篑。</p><p>可能每个人都对自己设计的系统很自信很满意，但“实践是检验真理的唯一标准”。如果一个系统设计经过实践证明，大家(指客户或用户)公认为优秀的系统，那就是一个优秀的系统设计。</p><p>大道至简，适合的就是最好的。其实设计并没有那么严重，适合的就是最好的，简单最好。软件也是一种服务，这个系统设计出来就是为了服务一些用户还没有被满足的需求，如果你能够<strong>恰好</strong>满足了这些<strong>没有被满足</strong>的需求，而且能以比较<strong>低的代价</strong>提供这种服务，那这就是最好的系统。因为系统设计的来源是商业需求，而商业追求利益最大化。你的软件和服务必须比别人功能更加先进，更加好用，对变化的商业 需求反应更加灵活，推出或者升级的速度更快，开发和维护成本更低，才能证明这个系统设计的优秀性。所以系统简单，不能说明你的系统不优秀，说不定设计者有化繁为简的过人能力；系统复杂，功能繁多，也不能说明系统优秀。</p><p>技 术人员常常犯的错误是技术至上，技术第一，不计成本的去设计和开发无比先进和灵活的系统，不计风险的去采用最新的没经过实用的新技术。所以作为架构师，不仅仅需要精通技术，更需要良好的沟通协调，去了解业务和客户真正的需求，真正站在客户利益角度和最终用户利益角度思考问题和设计系统，在各种选择中做出权 衡。</p><p>极限编程人士的一个响亮的口号是“You aren't going to need it”。这其中包含的核心意义就是不要为了考虑程序的可扩展性，把目前不需要的功能加入到软件中来。<strong>不要过度设计。抓住重点，合适就好。</strong>比如根据二八原则，80%的用户只会使用20%的功能，而这20%的功能就是客户最关注的最需要的功能，也就是软件或服务的“卖点“，系统设计时必须集中精力和充分考虑到这部分需求。如果把精力放在某些花哨的功能上，既不 重要，也没必要，那就是过度设计。要想避免过度设计，我觉得可以遵循敏捷开发方式来做。尽可能的简单设计，当满足不了时，重构；保证产品是可运行的，不断的加入新的特征；产品经常性的提交给客户使用。</p><p><strong>稳定压倒一切</strong></p><p><strong></strong>标题党的风格，但这个口号在社会上如此，系统设计上也是如此。系统的稳定性压倒一切，即使牺牲性能，也要确保系统的稳定。即使扩展性不强，也要保持系统稳定。即使用户界面不友好，也不要系统不稳定。</p><p>为什么用户这么关注稳定性？由于人们日常的工作对系统依赖程度越来越多，因此系统必须可靠。举个例子，我想我们都玩过CPU超频吧，频率高了确实挺爽，但如果一天死机几次，正在干的活全部丢失，你心里还会放心踏实的工作吗？同样的道理，一个网站如果不稳定，经常宕掉，用户的信息和辛辛苦苦写的文章搞丢失，还会有人上这个网站吗？所以稳定性是系统设计最重要的方面。</p><p>但实施起来比说起来困难，有时候为了实现系统灵活的扩展性，导致系统架构不稳定；也有时候为了实现高性能，导致系统不稳定。如何取舍和平衡，不同的需求，不 同的架构师会做出不同的抉择。但个人认为稳定性放第一位，再先进灵活的框架，再牛的功能，如果不够稳定，坚决不要没有充分测试匆忙上线。</p><p>系统稳定性如果获得？除了大量充分的测试以外，在设计上必须有针对可靠性的设计，基本原则是在尽量保证各服务可靠的基础之上，通过一个健壮的体系结构来确保系统能够在硬件和软件出错的情况下依然平稳的运行。比如<strong>采用统一面向方面的框架，统一的异常处理、错误隔离、报警、容错和恢复机制，考虑系统的冗余度，尽可能地避免单点故障，尽可能地保证一个进程故障都不会引起系统的瘫痪，同时也允许系统对部分服务做升级和维护而不影响系统继续提供核心的服务等等。</strong>总之，系统可靠性是系统在给定的时间间隔及给定的环境条件下，按设计要求，成功地运行程序的概率。成功地运行不仅要保证系统能正确地运行，满足功能需求，还要求当系统出现意外故障时能够尽快恢复正常运行，数据不受破坏。</p><p><strong>可扩展性，灵活性</strong></p><p><strong></strong>毋庸置疑，一个先进的系统设计具有很强的可扩展性和灵活性，因为现在的商业需求变化迅速，如果每次小小变化都导致大量系统改动的话，这样的体系结构无疑是失败的。所以架构师必须去主动迎接未来可能的变化，设计灵活的可扩展的架构。但具体系统的可扩展性做到哪个程度，以及和其他设计指标的权衡利弊如何取舍是个问题。</p><p>比如具体灵活到哪个程度的问题，是要实现对各个组件的无依赖性，是要实现对具体数据库(File/XML/SQL Server/Oracle/DB2)的无依赖性，还是要实现对具体操作系统(Windows, Linux, OS2, AIX)的无依赖性？灵活程度不一样，设计要求和设计方法不一样。</p><p>架构设计必须尽量封装可能的变化，例如在业务流程发生<strong>有限的变化</strong>时（比如每个业务模块本身的业务逻辑没有变的情况下），能够比较方便地修改系统程序模块或组件间的调用关系而实现新的需求；如果这种调用关系被设计成存储在配置库的数据字典里，则连程序代码都不用修改，只需修改数据字典里的模块或组件调用规则即可。这就是<strong>按需设计</strong>，不是过度设计。</p><p>设计指标的权衡利弊如何取舍的问题也很明显，比如降低依赖性常用的方法是封装变化(Wrapper)，分层设计，但会带来系统的性能下降，尤其是大数据量的情况下；引入缓存机制吧又会增加系统复杂性，降低系统稳定性等。因为过于复杂的设计既造成系统不稳定的隐患，又影响性能。</p><p>这方面的讨论很多，个人认为可扩展性和灵活性设计是架构设计中非常重要的方面，但不能过度。稳定性第一，接下来是灵活性第二，还是性能第二灵活性第三的问题，要具体看需求的情况了。<strong>如果是一个实时大数据量大用户在线服务系统，应该在性能的前提下实现灵活；如果是一个其他的业务系统，灵活性优先于性能。具体情况要具体权衡利弊。</strong></p><p><strong>高性能</strong></p><p><strong></strong></p><p>在进行性能设计时，首先要与客户充分地沟通，了解客户的性能需求，不管它是清晰的还是暗含的。不要等到项目后期才发现其实数据量是60万而不是10万。所以预先了解项目的性能指标，获取与性能相关的数据，从而预先评估架构的性能指标非常重要。</p><p><strong>可用性，用户友好性</strong></p><p><strong></strong>设计以人为本，到头来还是给人用的。产品经理、客户和最终用户很注重界面，他们不知道你的系统有多么先进，只看界面是不是美观，界面友好，标准，操作流畅，有良好的用户体验(User experience)。界面做好了，客户满意，你就成功了一半；否则内部系统再先进，客户都会认为这个系统非常糟糕，用户体验非常不好。因此，可用性设计在这个Web2.0的时代尤其重要。</p><p>针对可用性的设计应该由架构师、用户体验设计师共同完成。<strong>可用性设计不等于界面设计</strong>。界面设计是静态的，而<strong>可用性设计是以用户为中心的交互设计</strong>(Interaction Design<strong>)</strong>，更关注用户的行为和体验。交互设计需要研究角色模型，用户行为和上下文，数据整合和呈现方式等(Persona，goal，scenario)。一个成功的可用性设计/用户体验设计需要一个或多个跨学科的设计师，倾听和收集用户对系统使用的需求、体验或不满，并进行艺术化的设计。</p><p>例如一个失败的网站，内容繁杂，让客户无所适从；搜索了一个内容，出来一堆东西，用户想在这里面进一步搜索，却找不到这个功能。而良好的网站设计，用户操作非常流畅，<strong>流程很容易让用户理解</strong>。简洁明了，没有乱七八糟的东西干扰用户。因为后者仔细研究过用户交互模型，知道大多数用户的操作习惯和困难，而网站内容是根据清晰的流程设计的。数据的呈现方式也是经过整合的，不是所有数据都呈现给用户，而是呈现对用户有用的数据。</p><p><strong>可维护性，可管理性</strong></p><p>可维护性包括代码的可理解性，可测试性，可修改性和系统的可移植性。如果一个系统的可维护性从最初没有得到很好的重视，当系统面临重大的设计改动时，会发现几乎无法入手，最简单的方法是彻底推翻重写，于是造成大量的资源浪费。</p><p>具体来说，软件系统可维护性差的原因有：</p><p>1. <strong>过于僵硬</strong>: 加入一个新性能，不仅仅意味着建造一个独立的模块，而且因为这个新性能会波及很多其他的模块，最好变成跨越几个模块的改动。</p><p>2. <strong>过于脆弱</strong>: 对一个地方的修改，往往会导致看上去没什么关系的另外一个地方发生故障。尽管在修改之前，设计师会尽力预测可能的故障点，当是修改完成之前，系统的原始设计师们甚至都无法预测到可能会波及的地方。</p><p>3. <strong>复用率低</strong>: 每当程序员发现一段代码、函数、模块所做的事情是可以在新的模块、或者新系统中使用的是，他们总是发现，这些已有的代码依赖于一堆其他的东西，以至于很难将它们分开。最好他们发现最好的办法就是不去“碰”这些已有的东西，而是重新写自己的代码。他们可能会使用源代码拷贝的办法，以最原始的复用方式，节省一些时间。</p><p>4. <strong>黏度过高</strong>: 有的时候，一个改动可以以保存原始设计意图和原始设计框架的方式进行，也可以以破坏原始意图和框架的方式进行。一个系统设计，如果总是使得第二种办法比第一种办法容易，就叫黏度过高。</p><p>5. <strong>系统过于复杂</strong>：系统过于复杂和庞大，结构不尽合理，设计文档缺乏或没有更新，系统年龄大时间久远。</p><p><strong>可维护性设计应该采用灵活架构，采用复用的设计方法，尽量减少相互之间的依赖项，尽量采用成熟的工业应用级的产品和框架，采用代码审查机制等</strong>。传统软件工程用可理解性、可测试性和可修改性来衡量软件的可维护性,CASE软件工程则以考察可重用性来衡量可维护性。可维护性最直接的体现是良好的软件结构和完整正确的文档体系。维护应在文档级以上展开,应从软件结构出发,即以重构为核心。<strong>可重用性是可维护性的基本属性</strong>，最大限度地重用现存软件是软件维护方法学的重要思想原则。</p><p>运行可管理性，包括运维对系统软硬件各个部分的监控，以便于控制系统运行、监视系统状态、错误处理。为了实现上述目标，系统应该<strong>尽量采用参数化的可配置的设计，模块间通信应当尽可能简单，同时建立合理详尽的系统运行日志，系统通过自动审计运行日志和动态跟踪（dynamic tracing facility），了解系统运行状态、监控资源的使用和配置、进行有效的错误处理</strong>。</p><pre>来源：http://www.cnblogs.com/Mainz/archive/2008/01/13/1037232.html作者：Mainz</pre></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>'谈谈','系统','设计'</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-146415161-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>