<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>數學建模三劍客MSN | CSDN博文精選 | 极客快訊</title><meta property="og:title" content="數學建模三劍客MSN | CSDN博文精選 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/RllTHQJ5wplDWH"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/1e23440.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/1e23440.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/1e23440.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/1e23440.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/1e23440.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/1e23440.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/1e23440.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/1e23440.html><meta property="article:published_time" content="2020-10-29T21:02:27+08:00"><meta property="article:modified_time" content="2020-10-29T21:02:27+08:00"><meta name=Keywords content><meta name=description content="數學建模三劍客MSN | CSDN博文精選"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E5%AD%B8/1e23440.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>數學建模三劍客MSN | CSDN博文精選</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E5%AD%B8.html>科學</a></span></div><div class=post-content><p>作者 | 天元浪子</p><p>來源 | CSDN博文精選</p><p><strong class=highlight-text toutiao-origin=span>(*點擊閱讀原文，查看作者更多精彩文章）</strong></p><p><strong class=highlight-text toutiao-origin=span>1.前言</strong></p><p><strong class=highlight-text toutiao-origin=span>2.三劍客之Numpy</strong></p><p><strong>2.1 數組對象</strong></p><p>2.1.1 數據類型</p><p>2.1.2 創建數組</p><p>2.1.3 構造複雜數組</p><p>2.1.3.1 重複數組: tile</p><p>2.1.3.2 重複元素: repeat</p><p>2.1.3.3 一維數組網格化: meshgrid</p><p>2.1.3.4 指定範圍和分割方式的網格化: mgrid</p><p>2.1.4 數組的屬性</p><p>2.1.5 改變數組維度</p><p>2.1.6 索引和切片</p><p>2.1.7 數組合並</p><p>2.1.8 數組拆分</p><p>2.1.9 數組運算</p><p>2.1.10 數組方法和常用函數</p><p><strong>2.2 矩陣對象</strong></p><p>2.2.1 創建矩陣</p><p>2.2.2 矩陣的特有屬性</p><p>2.2.3 矩陣乘法</p><p><strong>2.3 線性代數模塊</strong></p><p>2.3.1 計算逆矩陣</p><p>2.3.2 計算行列式</p><p>2.3.3 計算特徵值和特徵向量</p><p>2.3.4 求解線性方程組</p><p><strong class=highlight-text toutiao-origin=span>3.三劍客之Matplotlib</strong></p><p><strong>3.1 pylot介紹</strong></p><p>3.1.1 中文顯示問題的解決方案</p><p>3.1.2 繪製最簡單的圖形</p><p>3.1.3 設置標題、座標軸名稱、座標軸範圍</p><p>3.1.4 設置點和線的樣式、寬度、顏色</p><p>3.1.5 文本標註和圖例</p><p><strong>3.2 繪製多軸圖</strong></p><p><strong>3.3 常用繪圖類型</strong></p><p>3.3.1 直方圖</p><p>3.3.2 散點圖</p><p>3.3.3 梯形圖、柱狀圖、填充圖</p><p>3.3.4 對數座標</p><p>3.3.5極座標繪圖</p><p><strong>3.4 2D繪圖</strong></p><p>3.4.1 等值線圖</p><p>3.4.2 二維數據的平面色彩顯示</p><p><strong>3.5 3D繪圖</strong></p><p><strong class=highlight-text toutiao-origin=span>4.三劍客之Scipy</strong></p><p><strong>4.1 插值</strong></p><p>4.1.1 一維插值</p><p>4.1.2 二維插值</p><p><strong>4.2 擬合</strong></p><p>4.2.1 使用numpy.polyfit擬合</p><p>4.2.2 使用scipy.optimize.optimize.curve_fit擬合</p><p><strong>4.3 求解非線性方程（組）</strong></p><p><strong>4.4 數值積分</strong></p><p>4.4.1 經典微分法</p><p>4.4.2 使用定積分求解函數</p><p><strong>4.5 圖像處理</strong></p><p><strong class=highlight-text toutiao-origin=span>5.後記</strong></p><p><strong class=highlight-text toutiao-origin=span>1.前言</strong></p><p>不管是不是巴薩的球迷，只要你喜歡足球，就一定聽說過梅西(Messi)、蘇亞雷斯(Suarez)和內馬爾(Neymar)這個MSN組合。在眾多的數學建模輔助工具中，也有一個犀利無比的MSN組合，他們就是python麾下大名鼎鼎的 Matplotlib + Scipy + Numpy三劍客。</p><p>本文是我整理的MSN學習筆記，有些理解可能比較膚淺，甚至是錯誤的。如果因此誤導了某位看官，在工作中造成重大失誤或損失，我頂多只能賠償一頓飯——還得是我們樓下的十元盒飯。特此聲明。</p><p>文中代碼均從我的這臺時不時出點問題、鬧個情緒的Yoga 3 pro上覆制而來，這意味著所有的代碼均可在下面的運行環境中順利運行：</p><blockquote class=pgc-blockquote-abstract toutiao-origin=blockquote><div><div><p>pyhton 2.7.8</p><p>numpy 1.11.1</p><p>scipy 0.16.1</p><p>matplotlib 1.5.1</p></div></div></blockquote><p><strong class=highlight-text toutiao-origin=span>2.三劍客之Numpy</strong></p><p>numpy是一個開源的python科學計算庫，包含了很多實用的數學函數，涵蓋線性代數、傅里葉變換和隨機數生成等功能。最初的numpy其實是scipy的一部分，後來才從scipy中分離出來。</p><p>numpy不是python的標準庫，需要單獨安裝。假定你的運行環境已經安裝了python包管理工具pip，numpy的安裝就非常簡單：</p><pre><div><p>pip install numpy</p></div></pre><p><strong class=highlight-text toutiao-origin=span>2.1 數組對象</strong></p><p>ndarray是多維數組對象，也是numpy最核心的對象。在numpy中，數組的維度(dimensions)叫做軸(axes)，軸的個數叫做秩(rank)。通常，一個numpy數組的所有元素都是同一種類型的數據，而這些數據的存儲和數組的形式無關。</p><p>下面的例子，創建了一個三維的數組（在導入numpy時，一般都簡寫成np）。</p><pre><div><p>import numpy as np</p><p>a = np.array([[1,2,3],[4,5,6],[7,8,9]])</p></div></pre><p><strong>2.1.1 數據類型</strong></p><p>numpy支持的數據類型主要有布爾型(bool)、整型(integrate)、浮點型(float)和複數型(complex)，每一種數據類型根據佔用內存的字節數又分為多個不同的子類型。常見的數據類型見下表。</p><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RllTHQJ5wplDWH><p><strong>2.1.2 創建數組</strong></p><p>通常，我們用np.array創建數組。如果僅僅是創建一維數組，也可以使用np.arange或者np.linspace的方法。np.zeros、np.ones、np.eye則可以構造特殊的數據。np.random.randint和np.random.random則可以構造隨機數數組。</p><pre><div><p>&gt;&gt;&gt; np.array([[1,2,3],[4,5,6]]) # 默認元素類型為int32</p><p>array([[1, 2, 3],</p><p>[4, 5, 6]])</p><p>&gt;&gt;&gt; np.array([[1,2,3],[4,5,6]], dtype=np.int8) # 指定元素類型為int8</p><p>array([[1, 2, 3],</p><p>[4, 5, 6]], dtype=int8)</p><p>&gt;&gt;&gt; np.arange(5) # 默認元素類型為int32</p><p>array([0, 1, 2, 3, 4])</p><p>&gt;&gt;&gt; np.arange(3,8, dtype=np.int8) # 指定元素類型為int8</p><p>array([3, 4, 5, 6, 7], dtype=int8)</p><p>&gt;&gt;&gt; np.arange(12).reshape(3,4) # 改變shape</p><p>array([[ 0, 1, 2, 3],</p><p>[ 4, 5, 6, 7],</p><p>[ 8, 9, 10, 11]])</p><p>&gt;&gt;&gt; np.linspace(1,2,5) # 從1到2生成5個浮點數</p><p>array([ 1. , 1.25, 1.5 , 1.75, 2. ])</p><p>&gt;&gt;&gt; np.zeros((2,3)) # 全0數組</p><p>array([[ 0., 0., 0.],</p><p>[ 0., 0., 0.]])</p><p>&gt;&gt;&gt; np.ones((2,3)) # 全1數組</p><p>array([[ 1., 1., 1.],</p><p>[ 1., 1., 1.]])</p><p>&gt;&gt;&gt; np.eye(3) # 主對角線元素為1其他元素為0</p><p>array([[ 1., 0., 0.],</p><p>[ 0., 1., 0.],</p><p>[ 0., 0., 1.]])</p><p>&gt;&gt;&gt; np.random.random((2,3)) # 生成[0,1)之間的隨機浮點數</p><p>array([[ 0.84731148, 0.8222318 , 0.85799278],</p><p>[ 0.59371558, 0.92330741, 0.04518351]])</p><p>&gt;&gt;&gt; np.random.randint(0,10,(3,2)) # 生成[0,10)之間的隨機整數</p><p>array([[2, 4],</p><p>[8, 3],</p><p>[8, 5]])</p></div></pre><p><strong>2.1.3 構造複雜數組</strong></p><p>很多時候，我們需要從簡單的數據結構，構造出複雜的數組。例如，用一維的數據生成二維格點。</p><p>2.1.3.1 重複數組: tile</p><pre><div><p>&gt;&gt;&gt; a = np.arange(5)</p><p>&gt;&gt;&gt; a</p><p>array([0, 1, 2, 3, 4])</p><p>&gt;&gt;&gt; np.tile(a, 2)</p><p>array([0, 1, 2, 3, 4, 0, 1, 2, 3, 4])</p><p>&gt;&gt;&gt; np.tile(a, (3,2))</p><p>array([[0, 1, 2, 3, 4, 0, 1, 2, 3, 4],</p><p>[0, 1, 2, 3, 4, 0, 1, 2, 3, 4],</p><p>[0, 1, 2, 3, 4, 0, 1, 2, 3, 4]])</p></div></pre><p>2.1.3.2 重複元素: repeat</p><pre><div><p>&gt;&gt;&gt; a = np.arange(5)</p><p>&gt;&gt;&gt; a</p><p>array([0, 1, 2, 3, 4])</p><p>&gt;&gt;&gt; a.repeat(2)</p><p>array([0, 0, 1, 1, 2, 2, 3, 3, 4, 4])</p></div></pre><p>2.1.3.3 一維數組網格化: meshgrid</p><pre><div><p>&gt;&gt;&gt; a = np.arange(5)</p><p>&gt;&gt;&gt; b = np.arange(5,10)</p><p>&gt;&gt;&gt; np.meshgrid(a,b)</p><p>[array([[0, 1, 2, 3, 4],</p><p>[0, 1, 2, 3, 4],</p><p>[0, 1, 2, 3, 4],</p><p>[0, 1, 2, 3, 4],</p><p>[0, 1, 2, 3, 4]]), array([[5, 5, 5, 5, 5],</p><p>[6, 6, 6, 6, 6],</p><p>[7, 7, 7, 7, 7],</p><p>[8, 8, 8, 8, 8],</p><p>[9, 9, 9, 9, 9]])]</p><p>&gt;&gt;&gt; </p></div></pre><p>2.1.3.4 指定範圍和分割方式的網格化: mgrid</p><pre><div><p>&gt;&gt;&gt; np.mgrid[0:1:2j, 1:2:3j]</p><p>array([[[ 0. , 0. , 0. ],</p><p>[ 1. , 1. , 1. ]],</p><p>[[ 1. , 1.5, 2. ],</p><p>[ 1. , 1.5, 2. ]]])</p><p>&gt;&gt;&gt; np.mgrid[0:1:0.3, 1:2:0.4]</p><p>array([[[ 0. , 0. , 0. ],</p><p>[ 0.3, 0.3, 0.3],</p><p>[ 0.6, 0.6, 0.6],</p><p>[ 0.9, 0.9, 0.9]],</p><p>[[ 1. , 1.4, 1.8],</p><p>[ 1. , 1.4, 1.8],</p><p>[ 1. , 1.4, 1.8],</p><p>[ 1. , 1.4, 1.8]]])</p></div></pre><p>上面的例子中用到了虛數。構造虛數的方法如下：</p><pre><div><p>&gt;&gt;&gt; complex(2,5)</p><p>(2+5j)</p></div></pre><p><strong>2.1.4 數組的屬性</strong></p><p>numpy的數組對象除了一些常規的屬性外，也有幾個類似轉置、扁平迭代器等看起來更像是方法的屬性。扁平迭代器也許是遍歷多維數組的一個簡明方法，下面的代碼給出了一個例子。</p><pre><div><p>&gt;&gt;&gt; a = np.array([[1,2,3],[4,5,6]])</p><p>&gt;&gt;&gt; a.dtype # 數組元素的數據類型</p><p>dtype('int32')</p><p>&gt;&gt;&gt; a.dtype.itemsize # 數組元素佔據的內存字節數</p><p>4</p><p>&gt;&gt;&gt; a.itemsize # 數組元素佔據的內存字節數</p><p>4</p><p>&gt;&gt;&gt; a.shape # 數組的維度</p><p>(2, 3)</p><p>&gt;&gt;&gt; a.size # 數組元素個數</p><p>6</p><p>&gt;&gt;&gt; a.T # 數組行變列，類似於transpose</p><p>array([[1, 4],</p><p>[2, 5],</p><p>[3, 6]])</p><p>&gt;&gt;&gt; a.flat # 返回一個扁平迭代器，用於遍歷多維數組</p><p>&lt;numpy.flatiter object at 0x037188F0&gt;</p><p>&gt;&gt;&gt; for item in a.flat:</p><p>print item</p></div></pre><p><strong>2.1.5 改變數組維度</strong></p><p>numpy數組的存儲順序和數組的維度是不相干的，因此改變數組的維度是非常便捷的操作，除resize外，這一類操作不會改變所操作的數組本身的存儲順序。</p><pre><div><p>&gt;&gt;&gt; a = np.array([[1,2,3],[4,5,6]])</p><p>&gt;&gt;&gt; a.shape # 查看數組維度</p><p>(2, 3)</p><p>&gt;&gt;&gt; a.reshape(3,2) # 返回3行2列的數組</p><p>array([[1, 2],</p><p>[3, 4],</p><p>[5, 6]])</p><p>&gt;&gt;&gt; a.ravel # 返回一維數組</p><p>array([1, 2, 3, 4, 5, 6])</p><p>&gt;&gt;&gt; a.transpose # 行變列（類似於矩陣轉置）</p><p>array([[1, 4],</p><p>[2, 5],</p><p>[3, 6]])</p><p>&gt;&gt;&gt; a.resize((3,2)) # 類似於reshape，但會改變所操作的數組</p><p>&gt;&gt;&gt; a</p><p>array([[1, 2],</p><p>[3, 4],</p><p>[5, 6]])</p></div></pre><p><strong>2.1.6 索引和切片</strong></p><p>對於一維數組的索引和切片，numpy和python的list一樣，甚至更靈活。</p><pre><div><p>a = np.arange(9)</p><p>&gt;&gt;&gt; a[-1] # 最後一個元素</p><p>8</p><p>&gt;&gt;&gt; a[2:5] # 返回第2到第5個元素</p><p>array([2, 3, 4])</p><p>&gt;&gt;&gt; a[:7:3] # 返回第0到第7個元素，步長為3</p><p>array([0, 3, 6])</p><p>&gt;&gt;&gt; a[::-1] # 返回逆序的數組</p><p>array([8, 7, 6, 5, 4, 3, 2, 1, 0])</p></div></pre><p>假設有一棟2層樓，每層樓內的房間都是3排4列，那我們可以用一個三維數組來保存每個房間的居住人數（當然，也可以是房間面積等其他數值信息）。</p><pre><div><p>&gt;&gt;&gt; a = np.arange(24).reshape(2,3,4) # 2層3排4列</p><p>&gt;&gt;&gt; a</p><p>array([[[ 0, 1, 2, 3],</p><p>[ 4, 5, 6, 7],</p><p>[ 8, 9, 10, 11]],</p><p>[[12, 13, 14, 15],</p><p>[16, 17, 18, 19],</p><p>[20, 21, 22, 23]]])</p><p>&gt;&gt;&gt; a[1][2][3] # 雖然可以這樣</p><p>23</p><p>&gt;&gt;&gt; a[1,2,3] # 但這才是規範的用法</p><p>23</p><p>&gt;&gt;&gt; a[:,0,0] # 所有樓層的第1排第1列</p><p>array([ 0, 12])</p><p>&gt;&gt;&gt; a[0,:,:] # 1樓的所有房間，等價與a[0]或a[0,...]</p><p>array([[ 0, 1, 2, 3],</p><p>[ 4, 5, 6, 7],</p><p>[ 8, 9, 10, 11]])</p><p>&gt;&gt;&gt; a[:,:,1:3] # 所有樓層所有排的第2到4列</p><p>array([[[ 1, 2],</p><p>[ 5, 6],</p><p>[ 9, 10]],</p><p>[[13, 14],</p><p>[17, 18],</p><p>[21, 22]]])</p><p>&gt;&gt;&gt; a[1,:,-1] # 2層每一排的最後一個房間</p><p>array([15, 19, 23])</p></div></pre><p><strong>2.1.7 數組合並</strong></p><p>數組合併除了下面介紹的水平合併、垂直合併、深度合併外，還有行合併、列合併，以及concatenate等方式。假如你比我還懶，那就只瞭解前三種方法吧，足夠用了。</p><pre><div><p>&gt;&gt;&gt; a = np.arange(9).reshape(3,3)</p><p>&gt;&gt;&gt; b = np.arange(9,18).reshape(3,3)</p><p>&gt;&gt;&gt; a</p><p>array([[0, 1, 2],</p><p>[3, 4, 5],</p><p>[6, 7, 8]])</p><p>&gt;&gt;&gt; b</p><p>array([[ 9, 10, 11],</p><p>[12, 13, 14],</p><p>[15, 16, 17]])</p><p>&gt;&gt;&gt; np.hstack((a,b)) # 水平合併</p><p>array([[ 0, 1, 2, 9, 10, 11],</p><p>[ 3, 4, 5, 12, 13, 14],</p><p>[ 6, 7, 8, 15, 16, 17]])</p><p>&gt;&gt;&gt; np.vstack((a,b)) # 垂直合併</p><p>array([[ 0, 1, 2],</p><p>[ 3, 4, 5],</p><p>[ 6, 7, 8],</p><p>[ 9, 10, 11],</p><p>[12, 13, 14],</p><p>[15, 16, 17]])</p><p>&gt;&gt;&gt; np.dstack((a,b)) # 深度合併</p><p>array([[[ 0, 9],</p><p>[ 1, 10],</p><p>[ 2, 11]],</p><p>[[ 3, 12],</p><p>[ 4, 13],</p><p>[ 5, 14]],</p><p>[[ 6, 15],</p><p>[ 7, 16],</p><p>[ 8, 17]]])</p></div></pre><p><strong>2.1.8 數組拆分</strong></p><p>拆分是合併的逆過程，概念是一樣的，但稍微有一點不同：</p><pre><div><p>&gt;&gt;&gt; a = np.arange(9).reshape(3,3)</p><p>&gt;&gt;&gt; np.hsplit(a, 3) # 水平拆分，返回list</p><p>[array([[0],</p><p>[3],</p><p>[6]]), array([[1],</p><p>[4],</p><p>[7]]), array([[2],</p><p>[5],</p><p>[8]])]</p><p>&gt;&gt;&gt; np.vsplit(a, 3) # 垂直拆分，返回list</p><p>[array([[0, 1, 2]]), array([[3, 4, 5]]), array([[6, 7, 8]])]</p><p>&gt;&gt;&gt; a = np.arange(27).reshape(3,3,3)</p><p>&gt;&gt;&gt; np.dsplit(a, 3) # 深度拆分，返回list</p><p>[array([[[ 0],</p><p>[ 3],</p><p>[ 6]],</p><p>[[ 9],</p><p>[12],</p><p>[15]],</p><p>[[18],</p><p>[21],</p><p>[24]]]), array([[[ 1],</p><p>[ 4],</p><p>[ 7]],</p><p>[[10],</p><p>[13],</p><p>[16]],</p><p>[[19],</p><p>[22],</p><p>[25]]]), array([[[ 2],</p><p>[ 5],</p><p>[ 8]],</p><p>[[11],</p><p>[14],</p><p>[17]],</p><p>[[20],</p><p>[23],</p><p>[26]]])]</p></div></pre><p><strong>2.1.9 數組運算</strong></p><p>數組和常數的四則運算，是數組的每一個元素分別和常數運算；數組和數組的四則運算則是兩個數組對應元素的運算（兩個數組有相同的shape，否則拋出異常）。</p><pre><div><p>&gt;&gt;&gt; a = np.arange(4, dtype=np.float32).reshape(2,2)</p><p>&gt;&gt;&gt; b = np.arange(4, 8, dtype=np.float32).reshape(2,2)</p><p>&gt;&gt;&gt; a+2 # 數組和常數可以進行四則運算</p><p>array([[ 2., 3.],</p><p>[ 4., 5.]], dtype=float32)</p><p>&gt;&gt;&gt; a/b # 數組和數組可以進行四則運算</p><p>array([[ 0. , 0.2 ],</p><p>[ 0.33333334, 0.42857143]], dtype=float32) </p><p>&gt;&gt;&gt; a == b # 最神奇的是，數組可以判斷對應元素是否相等</p><p>array([[False, False],</p><p>[False, False]], dtype=bool)</p><p>&gt;&gt;&gt; (a == b).all # 判斷數組是否相等</p><p>False</p></div></pre><p>特別提示：如果想對數組內符合特定條件的元素做特殊處理，下面的代碼也許有用。</p><pre><div><p>&gt;&gt;&gt; a = np.arange(6).reshape((2,3))</p><p>&gt;&gt;&gt; a</p><p>array([[0, 1, 2],</p><p>[3, 4, 5]])</p><p>&gt;&gt;&gt; (a&gt;2)&amp;(a&lt;=4)</p><p>array([[False, False, False],</p><p>[ True, True, False]], dtype=bool)</p><p>&gt;&gt;&gt; a[(a&gt;2)&amp;(a&lt;=4)]</p><p>array([3, 4])</p><p>&gt;&gt;&gt; a[(a&gt;2)&amp;((a&lt;=4))] += 10</p><p>&gt;&gt;&gt; a</p><p>array([[ 0, 1, 2],</p><p>[13, 14, 5]])</p></div></pre><p><strong>2.1.10 數組方法和常用函數</strong></p><p>數組對象本身提供了計算算數平均值、求最大最小值等內置方法，numpy也提供了很多實用的函數。為了縮減篇幅，下面的代碼僅以一維數組為例，展示了這些方法和函數用法。事實上，大多數情況下這些方法和函數對於多維數組同樣有效，只有少數例外，比如compress函數。</p><pre><div><p>&gt;&gt;&gt; a = np.array([3,2,4])</p><p>&gt;&gt;&gt; a.sum # 所有元素的和</p><p>9</p><p>&gt;&gt;&gt; a.prod # 所有元素的乘積</p><p>24</p><p>&gt;&gt;&gt; a.mean # 所有元素的算數平均值</p><p>3.0</p><p>&gt;&gt;&gt; a.max # 所有元素的最大值</p><p>4</p><p>&gt;&gt;&gt; a.min # 所有元素的最小值</p><p>2</p><p>&gt;&gt;&gt; a.clip(3,4) # 小於3的元素替換為3，大於4的元素替換為4</p><p>array([3, 3, 4])</p><p>&gt;&gt;&gt; a.compress(a&gt;2) # 返回大於2的元素組成的數組</p><p>array([3, 4])</p><p>&gt;&gt;&gt; a.tolist # 返回python的list</p><p>[3, 2, 4]</p><p>&gt;&gt;&gt; a.var # 計算方差（元素與均值之差的平方的均值）</p><p>0.66666666666666663</p><p>&gt;&gt;&gt; a.std # 計算標準差（方差的算術平方根）</p><p>0.81649658092772603</p><p>&gt;&gt;&gt; a.ptp # 返回數組的最大值和最小值之差</p><p>2</p><p>&gt;&gt;&gt; a.argmin # 返回最小值在扁平數組中的索引</p><p>1</p><p>&gt;&gt;&gt; a.argmax # 返回最大值在扁平數組中的索引</p><p>2</p><p>&gt;&gt;&gt; np.where(a == 2) # 返回所有值為2的元素的索引</p><p>(array([1]),)</p><p>&gt;&gt;&gt; np.diff(a) # 返回相鄰元素的差</p><p>array([-1, 2])</p><p>&gt;&gt;&gt; np.log(a) # 返回對數數組</p><p>array([ 1.09861229, 0.69314718, 1.38629436])</p><p>&gt;&gt;&gt; np.exp(a) # 返回指數數組</p><p>array([ 20.08553692, 7.3890561 , 54.59815003])</p><p>&gt;&gt;&gt; np.sqrt(a) # 返回開方數組</p><p>array([ 1.73205081, 1.41421356, 2. ])</p><p>&gt;&gt;&gt; np.msort(a) # 數組排序</p><p>array([2, 3, 4])</p><p>&gt;&gt;&gt; a = np.array([1,4,7])</p><p>&gt;&gt;&gt; b = np.array([8,5,2])</p><p>&gt;&gt;&gt; np.maximum(a, b) # 返回多個數組中對應位置元素的最大值數組</p><p>array([8, 5, 7])</p><p>&gt;&gt;&gt; np.minimum(a, b) # 返回多個數組中對應位置元素的最小值數組</p><p>array([1, 4, 2])</p><p>&gt;&gt;&gt; np.true_divide(a, b) # 對整數實現真正的數學除法運算</p><p>array([ 0.125, 0.8 , 3.5 ])</p></div></pre><p><strong class=highlight-text toutiao-origin=span>2.2 矩陣對象</strong></p><p>matrix是矩陣對象，繼承自ndarray類型，因此含有ndarray的所有數據屬性和方法。不過，當你把矩陣對象當數組操作時，需要注意以下幾點：</p><p>matrix對象總是二維的，即使是展平（ravel函數）操作或是成員選擇，返回值也是二維的。</p><p>matrix對象和ndarray對象混合的運算總是返回matrix對象。</p><p><strong>2.2.1 創建矩陣</strong></p><p>matrix對象可以使用一個Matlab風格的字符串來創建（以空格分隔列，以分號分隔行的字符串），也可以用數組來創建。</p><pre><div><p>&gt;&gt;&gt; np.mat('1 4 7; 2 5 8; 3 6 9')</p><p>matrix([[1, 4, 7],</p><p>[2, 5, 8],</p><p>[3, 6, 9]])</p><p>&gt;&gt;&gt; np.mat(np.arange(1,10).reshape(3,3))</p><p>matrix([[1, 2, 3],</p><p>[4, 5, 6],</p><p>[7, 8, 9]])</p></div></pre><p><strong>2.2.2 矩陣的特有屬性</strong></p><p>矩陣有幾個特有的屬性使得計算更加容易，這些屬性有：</p><pre><div><p>&gt;&gt;&gt; m = np.mat(np.arange(1,10).reshape(3,3))</p><p>&gt;&gt;&gt; m</p><p>matrix([[1, 2, 3],</p><p>[4, 5, 6],</p><p>[7, 8, 9]])</p><p>&gt;&gt;&gt; m.T # 返回自身的轉置</p><p>matrix([[1, 4, 7],</p><p>[2, 5, 8],</p><p>[3, 6, 9]])</p><p>&gt;&gt;&gt; m.H # 返回自身的共軛轉置</p><p>matrix([[1, 4, 7],</p><p>[2, 5, 8],</p><p>[3, 6, 9]])</p><p>&gt;&gt;&gt; m.I # 返回自身的逆矩陣</p><p>matrix([[ -4.50359963e+15, 9.00719925e+15, -4.50359963e+15],</p><p>[ 9.00719925e+15, -1.80143985e+16, 9.00719925e+15],</p><p>[ -4.50359963e+15, 9.00719925e+15, -4.50359963e+15]])</p><p>&gt;&gt;&gt; m.A # 返回自身數據的二維數組的一個視圖</p><p>array([[1, 2, 3],</p><p>[4, 5, 6],</p><p>[7, 8, 9]])</p></div></pre><p><strong>2.2.3 矩陣乘法</strong></p><p>對ndarray對象而言，星號是按元素相乘，dot函數則當作矩陣相乘。對於matrix對象來說，星號和dot函數都是矩陣相乘。特別的，對於一維數組，dot函數實現的是向量點乘（結果是標量），但星號實現的卻不是差乘。</p><pre><div><p>&gt;&gt;&gt; a = np.array([1,2,3])</p><p>&gt;&gt;&gt; b = np.array([4,5,6])</p><p>&gt;&gt;&gt; a*b # 一維數組，元素相乘</p><p>array([ 4, 10, 18])</p><p>&gt;&gt;&gt; np.dot(a,b) # 一維數組，元素相乘再求和</p><p>32</p><p>&gt;&gt;&gt; a = np.array([[1,2],[3,4]])</p><p>&gt;&gt;&gt; b = np.array([[5,6],[7,8]])</p><p>&gt;&gt;&gt; a*b # 多維數組，元素相乘</p><p>array([[ 5, 12],</p><p>[21, 32]])</p><p>&gt;&gt;&gt; np.dot(a,b) # 多維數組，實現的是矩陣相乘</p><p>array([[19, 22],</p><p>[43, 50]])</p><p>&gt;&gt;&gt; m = np.mat(a)</p><p>&gt;&gt;&gt; n = np.mat(b)</p><p>&gt;&gt;&gt; np.dot(m,n) # 矩陣相乘</p><p>matrix([[19, 22],</p><p>[43, 50]])</p><p>&gt;&gt;&gt; m*n # 矩陣相乘</p><p>matrix([[19, 22],</p><p>[43, 50]])</p></div></pre><p><strong class=highlight-text toutiao-origin=span>2.3 線性代數模塊</strong></p><p>numpy.linalg 是numpy的線性代數模塊，可以用來解決逆矩陣、特徵值、線性方程組以及行列式等問題。</p><p><strong>2.3.1 計算逆矩陣</strong></p><p>儘管matrix對象本身有逆矩陣的屬性，但用numpy.linalg模塊求解矩陣的逆，也是非常簡單的。</p><pre><div><p>m = np.mat('0 1 2; 1 0 3; 4 -3 8')</p><p>mi = np.linalg.inv(m) # mi即為m的逆矩陣。何以證明？</p><p>m * mi # 矩陣與其逆矩陣相乘，結果為單位矩陣</p><p>matrix([[ 1., 0., 0.],</p><p>[ 0., 1., 0.],</p><p>[ 0., 0., 1.]])</p></div></pre><p><strong>2.3.2 計算行列式</strong></p><p>如何計算行列式，我早已經不記得了，但手工計算行列式的痛苦，我依然記憶猶新。現在好了，你在手機上都可以用numpy輕鬆搞定（前提是你的手機上安裝了python + numpy）。</p><pre><div><p>m = np.mat('0 1 2; 1 0 3; 4 -3 8')</p><p>np.linalg.det(m) # 什麼？這就成了？</p><p>2.0</p></div></pre><p><strong>2.3.3 計算特徵值和特徵向量</strong></p><p>截至目前，我的工作和特徵值、特徵向量還有沒任何關聯。記錄這一節，純粹是為了我女兒，她正在讀數學專業。</p><pre><div><p>m = np.mat('0 1 2; 1 0 3; 4 -3 8')</p><p>&gt;&gt;&gt; np.linalg.eigvals(m) # 計算特徵值</p><p>array([ 7.96850246, -0.48548592, 0.51698346])</p><p>&gt;&gt;&gt; np.linalg.eig(m) # 返回特徵值及其對應特徵向量的元組</p><p>(array([ 7.96850246, -0.48548592, 0.51698346]), matrix([[ 0.26955165, 0.90772191, -0.74373492],</p><p>[ 0.36874217, 0.24316331, -0.65468206],</p><p>[ 0.88959042, -0.34192476, 0.13509171]]))</p></div></pre><p><strong>2.3.4 求解線性方程組</strong></p><p>有線性方程組如下：</p><blockquote><div><div><p>x - 2y + z = 0</p><p>2y -8z = 8</p><p>-4x + 5y + 9z = -9</p></div></div></blockquote><p>求解過程如下：</p><pre><div><p>&gt;&gt;&gt; A = np.mat('1 -2 1; 0 2 -8; -4 5 9')</p><p>&gt;&gt;&gt; b = np.array([0, 8, -9])</p><p>&gt;&gt;&gt; np.linalg.solve(A, b)</p><p>array([ 29., 16., 3.]) # x = 29, y = 16, z = 3</p></div></pre><p><strong class=highlight-text toutiao-origin=span>3.三劍客之Matplotlib</strong></p><p>matplotlib 是python最著名的繪圖庫，它提供了一整套和Matlab相似的命令API，十分適合交互式地進行製圖。而且也可以方便地將它作為繪圖控件，嵌入GUI應用程序中。matplotlib 可以繪製多種形式的圖形包括普通的線圖，直方圖，餅圖，散點圖以及誤差線圖等；可以比較方便的定製圖形的各種屬性比如圖線的類型，顏色，粗細，字體的大小等；它能夠很好地支持一部分 TeX 排版命令，可以比較美觀地顯示圖形中的數學公式。</p><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RllTHQvCCi8xqM><p><strong class=highlight-text toutiao-origin=span>3.1 pylot介紹</strong></p><p>Matplotlib 包含了幾十個不同的模塊， 如 matlab、mathtext、finance、dates 等，而 pylot 則是我們最常用的繪圖模塊，這也是本文介紹的重點。</p><p><strong>3.1.1 中文顯示問題的解決方案</strong></p><p>有很多方法可以解決此問題，但下面的方法恐怕是最簡單的解決方案了（我只在windows平臺上測試過，其他平臺請看官自測）。如果想了解更多，也可以參考我N年前的一篇博文：matplotlib顯示中文的解決方案（http://xufive.blog.163.com/blog/static/172326168201063111370141/）</p><pre><div><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; plt.rcParams['font.sans-serif'] = ['FangSong'] # 指定默認字體</p><p>&gt;&gt;&gt; plt.rcParams['axes.unicode_minus'] = False # 解決保存圖像時'-'顯示為方塊的問題</p></div></pre><p><strong>3.1.2 繪製最簡單的圖形</strong></p><pre><div><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; x = np.arange(0, 2*np.pi, 0.01)</p><p>&gt;&gt;&gt; y = np.sin(x)</p><p>&gt;&gt;&gt; plt.plot(x, y)</p><p>&gt;&gt;&gt; plt.show</p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RllTHRPHFHLY7E><p><strong>3.1.3 設置標題、座標軸名稱、座標軸範圍</strong></p><p>如果你在python的shell中運行下面的代碼，而shell的默認編碼又不是utf-8的話，中文可能仍然會顯示為亂碼。你可以嘗試著把 u’正弦曲線’ 寫成 ‘正弦曲線’.decode(‘gbk’)或者’正弦曲線’.decode(‘utf-8’)</p><pre><div><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; from pylab import mpl</p><p>&gt;&gt;&gt; mpl.rcParams['font.sans-serif'] = ['FangSong']</p><p>&gt;&gt;&gt; mpl.rcParams['axes.unicode_minus'] = False</p><p>&gt;&gt;&gt; x = np.arange(0, 2*np.pi, 0.01)</p><p>&gt;&gt;&gt; y = np.sin(x)</p><p>&gt;&gt;&gt; plt.plot(x, y)</p><p>&gt;&gt;&gt; plt.title(u'正弦曲線', fontdict={'size':20}) # 設置標題</p><p>&gt;&gt;&gt; plt.xlabel(u'弧度', fontdict={'size':16}) # 顯示橫軸名稱</p><p>&gt;&gt;&gt; plt.ylabel(u'正弦值', fontdict={'size':16}) # 顯示縱軸名稱</p><p>&gt;&gt;&gt; plt.axis([-0.1*np.pi, 2.1*np.pi, -1.1, 1.1]) # 設置座標軸範圍</p><p>&gt;&gt;&gt; plt.axis('equal') # xy軸等比例保持</p><p>&gt;&gt;&gt; plt.show</p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RllTHRoJFpqABp><p><strong>3.1.4 設置點和線的樣式、寬度、顏色</strong></p><p>plt.plot函數的調用形式如下：</p><pre><div><p>plot(x, y, color='green', linestyle='dashed', linewidth=1, marker='o', markerfacecolor='blue', markersize=6)</p><p>plot(x, y, c='g', ls='--', lw=1, marker='o', mfc='blue', ms=6)</p></div></pre><p>color指定線的顏色，可簡寫為“c”。顏色的選項為：</p><ul><li><p>藍色：‘b’ (blue)</p></li><li><p>綠色：‘g’ (green)</p></li><li><p>紅色：‘r’ (red)</p></li><li><p>墨綠：‘c’ (cyan)</p></li><li><p>洋紅：‘m’ (magenta)</p></li><li><p>黃色：‘y’ (yellow)</p></li><li><p>黑色：‘k’ (black)</p></li><li><p>白色：‘w’ (white)</p></li><li><p>灰度表示：e.g. 0.75 ([0,1]內任意浮點數)</p></li><li><p>RGB表示法：e.g. ‘#2F4F4F’ 或 (0.18, 0.31, 0.31)</p></li></ul><p>linestyle指定線型，可簡寫為“ls”。線型的選項為：</p><ul><li><p>實線：‘-’ (solid line)</p></li><li><p>虛線：‘–’ (dashed line)</p></li><li><p>虛點線：‘-.’ (dash-dot line)</p></li><li><p>點線：‘:’ (dotted line)</p></li><li><p>無：'‘或’ ‘或’None’</p></li></ul><p>linewidth指定線寬，可簡寫為“lw”。</p><p>marker描述數據點的形狀</p><ul><li><p>點線：‘.’</p></li><li><p>點線：‘o’</p></li><li><p>加號：'+</p></li><li><p>叉號：‘x’</p></li><li><p>上三角：‘^’</p></li><li><p>上三角：‘v’</p></li></ul><p>markerfacecolor指定數據點標記的表面顏色，可 簡寫為“ mfc”。</p><p>markersize指定數據點標記的大小，可 簡寫為“ ms”。</p><p><strong>3.1.5 文本標註和圖例</strong></p><p>我們分別使用不同的線型、顏色來繪製以10、e、2為基的一組冪函數曲線，演示文本標註和圖例的使用。</p><pre><div><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; from pylab import mpl</p><p>&gt;&gt;&gt; mpl.rcParams['font.sans-serif'] = ['FangSong']</p><p>&gt;&gt;&gt; mpl.rcParams['axes.unicode_minus'] = False</p><p>&gt;&gt;&gt; x = np.linspace(-4, 4, 200)</p><p>&gt;&gt;&gt; f1 = np.power(10, x)</p><p>&gt;&gt;&gt; f2 = np.power(np.e, x)</p><p>&gt;&gt;&gt; f3 = np.power(2, x)</p><p>&gt;&gt;&gt; plt.plot(x, f1, 'r', ls='-', linewidth=2, label='$10^x$')</p><p>&gt;&gt;&gt; plt.plot(x, f2, 'b', ls='--', linewidth=2, label='$e^x$')</p><p>&gt;&gt;&gt; plt.plot(x, f3, 'g', ls=':', linewidth=2, label='$2^x$')</p><p>&gt;&gt;&gt; plt.axis([-4, 4, -0.5, 8])</p><p>&gt;&gt;&gt; plt.text(1, 7.5, r'$10^x$', fontsize=16)</p><p>&gt;&gt;&gt; plt.text(2.2, 7.5, r'$e^x$', fontsize=16)</p><p>&gt;&gt;&gt; plt.text(3.2, 7.5, r'$2^x$', fontsize=16)</p><p>&gt;&gt;&gt; plt.title('冪函數曲線', fontsize=16)</p><p>&gt;&gt;&gt; plt.legend(loc='upper left')</p><p>&gt;&gt;&gt; plt.show</p></div></pre><p>在繪製圖例時，loc用於指定圖例的位置，可用的選項有：</p><ul><li><p>best</p></li><li><p>upper right</p></li><li><p>upper left</p></li><li><p>lower left</p></li><li><p>lower right</p></li></ul><p><strong class=highlight-text toutiao-origin=span>3.2 繪製多軸圖</strong></p><p>在介紹如何將多幅子圖繪製在同一畫板的同時，順便演示如何繪製直線和矩形。我們可以使用subplot函數快速繪製有多個軸的圖表。subplot函數的調用形式如下：</p><pre><div><p>subplot(numRows, numCols, plotNum)</p></div></pre><p>subplot將整個繪圖區域等分為numRows行 * numCols列個子區域，然後按照從左到右，從上到下的順序對每個子區域進行編號，左上的子區域的編號為1。如果numRows，numCols和plotNum這三個數都小於10的話，可以把它們縮寫為一個整數，例如subplot(323)和subplot(3,2,3)是相同的。subplot在plotNum指定的區域中創建一個軸對象。如果新創建的軸和之前創建的軸重疊的話，之前的軸將被刪除。</p><pre><div><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; plt.subplot(221) # 兩行兩列的第1個位置</p><p>&gt;&gt;&gt; plt.axis([-1, 2, -1, 2])</p><p>&gt;&gt;&gt; plt.axhline(y=0.5, color='b')</p><p>&gt;&gt;&gt; plt.axhline(y=0.5, xmin=0.25, xmax=0.75, color='r')</p><p>&gt;&gt;&gt; plt.subplot(222) # 兩行兩列的第2個位置</p><p>&gt;&gt;&gt; plt.axis([-1, 2, -1, 2])</p><p>&gt;&gt;&gt; plt.axvline(x=0, ymin=0, linewidth=4, color='r')</p><p>&gt;&gt;&gt; plt.axvline(x=1.0, ymin=-0.5, ymax=0.5, linewidth=4, color='g')</p><p>&gt;&gt;&gt; plt.subplot(212) # 兩行一列的第2個位置</p><p>&gt;&gt;&gt; plt.axis([-1, 2, -1, 2])</p><p>&gt;&gt;&gt; plt.axvspan(1.25, 1.55, facecolor='g', alpha=0.5)</p><p>&gt;&gt;&gt; plt.axhspan(0.25, 0.75, facecolor='0.5', alpha=0.5)</p><p>&gt;&gt;&gt; plt.show</p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RllTI212B1X4ns><p><strong class=highlight-text toutiao-origin=span>3.3 常用繪圖類型</strong></p><p><strong>3.3.1 直方圖</strong></p><p>用numpy隨機生成一個符合正態分佈的數據集，統計分段區域內數據的個數。</p><pre><div><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; data = np.random.normal(5.0, 3.0, 1000)</p><p>&gt;&gt;&gt; plt.hist(data)</p><p>&gt;&gt;&gt; bins = np.arange(-5, 16, 1)</p><p>&gt;&gt;&gt; plt.hist(data, bins) # 使用自定義的分段區域</p><p>&gt;&gt;&gt; plt.show</p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RllTI2i2LpMSz1><p class=pgc-img-caption><strong>3.3.2 散點圖</strong></p><p>使用plot繪圖時，如果指定樣式參數為僅繪製數據點（linestyle=‘None’），那麼所繪製的就是一幅散列圖。這種方法所繪製的點無法單獨指定數據點的顏色和大小，而使用scatter繪製散列圖就可以指定每個點的顏色和大小。</p><p>plt.scatter函數的調用形式如下：</p><pre><div><p>scatter(x, y, s=None, c=None, marker=None, cmap=None, norm=None, vmin=None, vmax=None, alpha=None, linewidths=None, verts=None, edgecolors=None, hold=None, data=None, **kwargs)</p></div></pre><p>scatter的前兩個參數是數組，分別指定每個點的X軸和Y軸的座標。s參數指定點的大 小，值和點的面積成正比，它可以是一個數，指定所有點的大小，也可以是數組，分別對每個點指定大小。c參數指定每個點的顏色，可以是數值或數組。這裡使用一維數組為每個點指定了一個數值。通過顏色映射表，每個數值都會與一個顏色相對應。默認的顏色映射表中藍色與最小值對應，紅色與最大值對應。當c參數是形狀為(N,3)或(N,4)的二維數組時，則直接表示每個點的RGB顏色。marker參數設置點的形狀，可以是個表示形狀的字符串，也可以是表示多邊形的兩個元素的元組，第一個元素表示多邊形的邊數，第二個元素表示多邊形的樣式，取值範圍為0、1、2、3。0表示多邊形，1表示星形，2表示放射形，3表示忽略邊數而顯示為圓形。alpha參數設置點的透明度。facecolors參數為“none”時，表示散列點沒有填充色。</p><pre><div><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; x = np.random.rand(50)</p><p>&gt;&gt;&gt; y = np.random.rand(50)</p><p>&gt;&gt;&gt; area = np.pi * (15 * np.random.rand(50))**2</p><p>&gt;&gt;&gt; color = 2 * np.pi * np.random.rand(50)</p><p>&gt;&gt;&gt; plt.scatter(x, y, s=area, c=color, alpha=0.5, cmap=plt.cm.hsv)</p><p>&gt;&gt;&gt; plt.show</p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RllTI3C5ImAQHx><p class=pgc-img-caption><strong>3.3.3 梯形圖、柱狀圖、填充圖</strong></p><pre><div><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; n = np.array([0,1,2,3,4,5])</p><p>&gt;&gt;&gt; x = np.linspace(-0.75, 1., 100)</p><p>&gt;&gt;&gt; plt.subplot(131)</p><p>&gt;&gt;&gt; plt.step(n, n**2, lw=2)</p><p>&gt;&gt;&gt; plt.subplot(132)</p><p>&gt;&gt;&gt; plt.bar(n, n**2, align="center", width=0.5, alpha=0.5)</p><p>&gt;&gt;&gt; plt.subplot(133)</p><p>&gt;&gt;&gt; plt.fill_between(x, x**2, x**3, color="green", alpha=0.5)</p><p>&gt;&gt;&gt; plt.show</p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RllTI3WBISN8q3><p><strong>3.3.4 對數座標</strong></p><p>plot所繪製圖表的X-Y軸座標都是算術座標。繪製對數座標圖的函數有三個：semilogx、semilogy和loglog,它們分別繪製X軸為對數座標、Y軸為對數座標以及兩個軸都為對數座標時的圖表。</p><pre><div><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; x = np.linspace(0, 3, 100)</p><p>&gt;&gt;&gt; y = np.power(2, np.power(2,x))</p><p>&gt;&gt;&gt; plt.subplot(121)</p><p>&gt;&gt;&gt; plt.semilogy(x, y , '-r')</p><p>&gt;&gt;&gt; plt.subplot(122)</p><p>&gt;&gt;&gt; plt.plot(x,y, '--g')</p><p>&gt;&gt;&gt; plt.show</p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RllTI3zBoRMmJo><p class=pgc-img-caption><strong>3.3.5極座標繪圖</strong></p><p>極座標系是和笛卡爾(X-Y)座標系完全不同的座標系，極座標系中的點由一個夾角和一段相對中心點的距離來表示。polar(theta, r, **kwargs)可以直接創建極座標子圖並在其中繪製曲線。也可以使用程序中調用subplot創建子圖時通過設 polar參數為True,創建一個極座標子圖，然後調用plot在極座標子圖中繪圖。</p><pre><div><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; theta = np.arange(0, 2*np.pi, 0.02)</p><p>&gt;&gt;&gt; plt.polar(theta, 1.4*np.cos(5*theta), "--", linewidth=2)</p><p>&gt;&gt;&gt; plt.polar(theta, 1.8*np.cos(4*theta), linewidth=2)</p><p>&gt;&gt;&gt; plt.rgrids(np.arange(0.5, 2, 0.5), angle=45)</p><p>&gt;&gt;&gt; plt.thetagrids([0, 45])thetagridlabel objects&gt;)</p><p>&gt;&gt;&gt; plt.show</p><p>&gt;&gt;&gt; </p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RllTIhLff3OSm><p><strong class=highlight-text toutiao-origin=span>3.4 2D繪圖</strong></p><p><strong>3.4.1 等值線圖</strong></p><p>所謂等值線，是指由函數值相等的各點連成的平滑曲線。等值線可以直觀地表示二元函數值的變化趨勢，例如等值線密集的地方表示函數值在此處的變化較大。matplotlib中可以使用contour和contourf描繪等值線，它們的區別是：contourf所得到的是帶填充效果的等值線。</p><pre><div><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; y, x = np.ogrid[-2:2:200j, -3:3:300j]</p><p>&gt;&gt;&gt; z = x * np.exp( - x**2 - y**2)</p><p>&gt;&gt;&gt; extent = [np.min(x), np.max(x), np.min(y), np.max(y)]</p><p>&gt;&gt;&gt; plt.subplot(121)</p><p>&gt;&gt;&gt; cs = plt.contour(z, 10, extent=extent)</p><p>&gt;&gt;&gt; plt.clabel(cs)</p><p>&lt;a list of 8 text.Text objects&gt;</p><p>&gt;&gt;&gt; plt.subplot(122)</p><p>&gt;&gt;&gt; plt.contourf(x.reshape(-1), y.reshape(-1), z, 20)</p><p>&gt;&gt;&gt; plt.show</p></div></pre><p>為了更淸楚地區分X軸和Y軸，這裡讓它們的取值範圍和等分次數均不相同.這樣得 到的數組z的形狀為(200, 300),它的第0軸對應Y軸、第1軸對應X軸。</p><p>調用contour繪製數組z的等值線圖，第二個參數為10,表示將整個函數的取值範圍等分為10個區間,即顯示的等值線圖中將有9條等值線。可以使用extent參數指定等值線圖的X軸和Y軸的數據範圍。</p><p>contour所返回的是一個QuadContourSet對象， 將它傳遞給clabel，為其中的等值線標上對應的值。</p><p>調用contourf,繪製將取值範圍等分為20份、帶填充效果的等值線圖。這裡演示了另外一種設置X、Y軸取值範圍的方法，它的前兩個參數分別是計算數組z時所使用的X軸和Y軸上的取樣點,這兩個數組必須是一維的。</p><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RllTIi91wkR2mx><p><strong>3.4.2 二維數據的平面色彩顯示</strong></p><pre><div><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; data=np.clip(np.random.randn(5,5),-1,1)</p><p>&gt;&gt;&gt; plt.subplot(221)</p><p>&gt;&gt;&gt; plt.imshow(data)</p><p>&gt;&gt;&gt; plt.subplot(222)</p><p>&gt;&gt;&gt; plt.imshow(data,cmap=plt.cm.cool)</p><p>&gt;&gt;&gt; plt.subplot(223)</p><p>&gt;&gt;&gt; plt.imshow(data,cmap=plt.cm.hot)</p><p>&gt;&gt;&gt; plt.colorbar</p><p>&gt;&gt;&gt; plt.subplot(224)</p><p>&gt;&gt;&gt; im = plt.imshow(data,cmap=plt.cm.winter)</p><p>&gt;&gt;&gt; plt.colorbar(im, cmap=plt.cm.winter, ticks=[-1,0,1])</p><p>&gt;&gt;&gt; plt.show</p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RllTIiV4V2ShvX><p class=pgc-img-caption><strong class=highlight-text toutiao-origin=span>3.5 3D繪圖</strong></p><p>雖然matplotlib主要專注於繪圖，並且主要是二維的圖形，但是它也有一些不同的擴展，能讓我們在地理圖上繪圖，讓我們把Excel和3D圖表結合起來。在matplotlib的世界裡，這些擴展叫做工具包（toolkits）。工具包是一些關注在某個話題（如3D繪圖）的特定函數的集合。</p><p>比較流行的工具包有Basemap、GTK 工具、Excel工具、Natgrid、AxesGrid和mplot3d。</p><p>mpl_toolkits.mplot3工具包提供了一些基本的3D繪圖功能，其支持的圖表類型包括散點圖（scatter）、曲面圖（surf）、線圖（line）和網格圖（mesh）。雖然mplot3d不是一個最好的3D圖形繪製庫，但是它是伴隨著matplotlib產生的，因此我們對其接口已經很熟悉了。</p><p>下面是一個使用plot_surface繪製3d曲面圖的例子。</p><pre><div><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; import mpl_toolkits.mplot3d</p><p>&gt;&gt;&gt; x, y = np.mgrid[-2:2:50j,-2:2:50j]</p><p>&gt;&gt;&gt; z = x*np.exp(-x**2-y**2)</p><p>&gt;&gt;&gt; ax = plt.subplot(111,projection='3d')</p><p>&gt;&gt;&gt; ax.plot_surface(x,y,z,rstride=2,cstride=1,cmap=plt.cm.coolwarm,alpha=0.8)</p><p>&gt;&gt;&gt; ax.set_xlabel('x')</p><p>&gt;&gt;&gt; ax.set_ylabel('y')</p><p>&gt;&gt;&gt; ax.set_zlabel('z')</p><p>&gt;&gt;&gt; plt.show</p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RllTIiqGzuCNSB><p><strong class=highlight-text toutiao-origin=span>4.三劍客之Scipy</strong></p><p>前面已經說過，最初的numpy其實是scipy的一部分，後來才從scipy中分離出來。scipy函數庫在numpy庫的基礎上增加了眾多的數學、科學以及工程計算中常用的庫函數。例如線性代數、常微分方程數值求解、信號處理、圖像處理、稀疏矩陣等等。由於其涉及的領域眾多，我之於scipy，就像盲人摸大象，只能是摸到哪兒算哪兒。</p><p><strong class=highlight-text toutiao-origin=span>4.1 插值</strong></p><p>數據插值是數據處理過程中經常用到的技術，常用的插值有一維插值、二維插值、高階插值等，常見的算法有線性插值、B樣條插值、臨近插值等。</p><p><strong>4.1.1 一維插值</strong></p><p>一維插值最常用的算法是線型插值和三階樣條插值，此外還有前點插值、後點插值、臨近點插值、零階插值（等同於前點插值）、一階插值（等同於線性插值）、五階插值等。下面的例子對以上8中插值方法進行了比較。</p><pre><div><p>import numpy as np</p><p>from scipy import interpolate</p><p>import matplotlib.pyplot as plt</p><p>plt.rcParams['font.sans-serif'] = ['FangSong']</p><p>plt.rcParams['axes.unicode_minus'] = False</p><p>x = np.linspace(0,10,11)</p><p>y = np.exp(-x/3.0)</p><p>x_new = np.linspace(0,10,100) # 期望在0-10之間變成100個數據點</p><p>f1 = interpolate.interp1d(x, y, kind='linear')</p><p>f2 = interpolate.interp1d(x, y, kind='nearest')</p><p>f3 = interpolate.interp1d(x, y, kind='zero')</p><p>f4 = interpolate.interp1d(x, y, kind='slinear')</p><p>f5 = interpolate.interp1d(x, y, kind='cubic')</p><p>f6 = interpolate.interp1d(x, y, kind='quadratic')</p><p>f7 = interpolate.interp1d(x, y, kind='previous')</p><p>f8 = interpolate.interp1d(x, y, kind='next')</p><p>plt.figure('Demo', facecolor='#eaeaea')</p><p>plt.subplot(221)</p><p>plt.plot(x, y, "o", label=u"原始數據")</p><p>plt.plot(x_new, f2(x_new), label=u"臨近點插值")</p><p>plt.plot(x_new, f7(x_new), label=u"前點插值")</p><p>plt.plot(x_new, f8(x_new), label=u"後點線性插值")</p><p>plt.legend</p><p>plt.subplot(222)</p><p>plt.plot(x, y, "o", label=u"原始數據")</p><p>plt.plot(x_new, f1(x_new), label=u"線性插值")</p><p>plt.plot(x_new, f3(x_new), label=u"零階樣條插值")</p><p>plt.plot(x_new, f4(x_new), label=u"一階樣條插值")</p><p>plt.legend</p><p>plt.subplot(223)</p><p>plt.plot(x, y, "o", label=u"原始數據")</p><p>plt.plot(x_new, f1(x_new), label=u"線性插值")</p><p>plt.plot(x_new, f5(x_new), label=u"三階樣條插值")</p><p>plt.legend</p><p>plt.subplot(224)</p><p>plt.plot(x, y, "o", label=u"原始數據")</p><p>plt.plot(x_new, f1(x_new), label=u"線性插值")</p><p>plt.plot(x_new, f6(x_new), label=u"五階樣條插值")</p><p>plt.legend</p><p>plt.show</p></div></pre><p>不同的插值方法畫在一起，對比之下效果會比較明顯：</p><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RllTIjC2NGXhrz><p><strong>4.1.2 二維插值</strong></p><p>二維數據，通常總是對應著一個網格，比如，經緯度網格。如果插值對象只有一個二維數組，那麼我們可以用數組的行列號來構造網格。</p><pre><div><p>import numpy as np</p><p>from scipy import interpolate</p><p>import matplotlib.pyplot as plt</p><p>plt.rcParams['font.sans-serif'] = ['FangSong']</p><p>plt.rcParams['axes.unicode_minus'] = False</p><p>y, x = np.mgrid[-2:2:20j,-3:3:30j] # 30x20 = 600</p><p>z = x*np.exp(-x**2-y**2)</p><p>y_new, x_new = np.mgrid[-2:2:80j,-3:3:120j] # 120x80 = 9600</p><p>f1 = interpolate.interp2d(x[0,:], y[:,0], z, kind='linear') # 線性插值</p><p>f2 = interpolate.interp2d(x[0,:], y[:,0], z, kind='cubic') # 三階樣條</p><p>f3 = interpolate.interp2d(x[0,:], y[:,0], z, kind='quintic') # 五階樣條</p><p>z1 = f1(x_new[0,:], y_new[:,0])</p><p>z2 = f2(x_new[0,:], y_new[:,0])</p><p>z3 = f3(x_new[0,:], y_new[:,0])</p><p>plt.subplot(221)</p><p>plt.pcolor(x, y, z, cmap=plt.cm.hsv)</p><p>plt.colorbar</p><p>plt.axis('equal')</p><p>plt.subplot(222)</p><p>plt.pcolor(x_new, y_new, z1, cmap=plt.cm.hsv)</p><p>plt.colorbar</p><p>plt.axis('equal')</p><p>plt.subplot(223)</p><p>plt.pcolor(x_new, y_new, z2, cmap=plt.cm.hsv)</p><p>plt.colorbar</p><p>plt.axis('equal')</p><p>plt.subplot(224)</p><p>plt.pcolor(x_new, y_new, z3, cmap=plt.cm.hsv)</p><p>plt.colorbar</p><p>plt.axis('equal')</p><p>plt.show</p></div></pre><p>原始數據、線型插值數據、三階插值數據、五階插值數據的效果對比如下：</p><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RllTJQ7HewGvbX><p><strong class=highlight-text toutiao-origin=span>4.2 擬合</strong></p><p>在工作中，我們常常需要在圖中描繪某些實際數據觀察的同時，使用一個曲線來擬合這些實際數據。所謂擬合，就是找出符合數據變化趨勢的曲線方程，進而對變化趨勢做出預測。</p><p><strong>4.2.1 使用numpy.polyfit擬合</strong></p><p>numpy.polyfit 實現了最小二乘法，其功能是返回指定次數的多項式參數，這組參數使得多項式和樣本數據的誤差為最小。下面的代碼，虛擬了穀神星的一段觀測數據，籍此使用最小二乘法實現多項式擬合，進而推測出穀神星未來的運行軌跡。最後和虛擬的運行軌道方程比較。</p><pre><div><p># coding: utf-8</p><p>import numpy as np</p><p>import matplotlib.pyplot as plt</p><p>plt.rcParams['font.sans-serif'] = ['FangSong']</p><p>plt.rcParams['axes.unicode_minus'] = False</p><p>def f(t):</p><p>"""穀神星虛擬的運行軌道方程。我們假裝不知道，僅用來驗證預測結果是否準確"""</p><p>t = t/7.5 -1</p><p>return ((t**2-1)**3 + 0.5)*np.sin(2*t)</p><p>t = np.linspace(0, 20, 201) # 用於繪製實際的運行軌跡線</p><p>_x = np.linspace(0, 15, 16) # 觀測數據時間序列</p><p>_y = f(_x) # 觀測數據位置序列</p><p>x = np.linspace(15, 20, 6) # 待預測的時間序列</p><p>loss_list = list</p><p>for i in range(2,16): # 從2次到15次多項式，逐一計算誤差</p><p>args = np.polyfit(_x, _y, i) # 用最小二乘法找到最佳的一組係數</p><p>g = np.poly1d(args) # 用這組係數生成方程g(x)</p><p>loss = np.sum(np.square(g(_x)-_y)) # 計算i次多項式擬合的誤差</p><p>loss_list.append(loss)</p><p>print(i, loss)</p><p>k = loss_list.index(min(loss_list))+2</p><p>args = np.polyfit(_x, _y, k)</p><p>g = np.poly1d(args)</p><p>plt.figure('demo', facecolor='#eaeaea')</p><p>plt.plot(_x, _y, c='r', ls='', marker='o', label=u'觀測數據')</p><p>plt.plot(_x, g(_x), c='b', ls='-', label=u'%d次多項式擬合，誤差%0.8f'%(k, loss_list[k-2]))</p><p>plt.plot(x, g(x), c='r', ls=':', label=u'預測軌跡')</p><p>plt.plot(t, f(t), c='#60f0f0', ls='--', label=u'實際運行軌跡')</p><p>plt.legend(loc='lower left')</p><p>plt.show</p></div></pre><p>將虛擬的運行軌道、虛擬的觀測數據、擬合曲線、預測曲線繪製在一起，效果如下：</p><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RllTJQXCgAe2Jf><p><strong>4.2.2 使用scipy.optimize.optimize.curve_fit擬合</strong></p><p>不管曲線實際是什麼樣的，多項式擬合總是以一個有限次的多項式去逼近數據樣本。還有一種擬合，就是我們知道曲線的標準方程，但有些係數或參數不確定，這樣的擬合，也是要找到最佳係數或參數。scipy提供的擬合，需要先確定帶參數的曲線方程，然後由scipy求解方程，返回曲線參數。</p><pre><div><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; import matplotlib.pyplot as plt</p><p>&gt;&gt;&gt; from scipy import optimize</p><p>&gt;&gt;&gt; x = np.arange(1,13,1)</p><p>&gt;&gt;&gt; y = np.array([17,19,21,28,33,38,37,37,31,23,19,18 ])</p><p>&gt;&gt;&gt; plt.plot(x, y)</p><p>[&lt;matplotlib.lines.Line2D object at 0x04799D10&gt;]</p><p>&gt;&gt;&gt; plt.show</p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RllTJQr5E6c71x><p>可以看出，曲線近似正弦函數。構建函數y=asin(xpi/6+b)+c，使用scipy的optimize.curve_fit函數求出a、b、c的值：</p><pre><div><p>&gt;&gt;&gt; def <strong class=highlight-text toutiao-origin=span>fmax</strong><strong class=highlight-text toutiao-origin=span>(x,a,b,c)</strong>:</p><p>return a*np.sin(x*np.pi/6+b)+c</p><p>&gt;&gt;&gt; fita, fitb = optimize.curve_fit(fmax, x, y, [1,1,1])</p><p>&gt;&gt;&gt; print fita</p><p>[ 10.93254951 -1.9496096 26.75 ]</p><p>&gt;&gt;&gt; xn = np.arange(1,13,0.1)</p><p>&gt;&gt;&gt; plt.plot(x, y)</p><p>[&lt;matplotlib.lines.Line2D object at 0x04B160B0&gt;]</p><p>&gt;&gt;&gt; plt.plot(xn, fmax(xn, fita[0],fita[1],fita[2]))</p><p>[&lt;matplotlib.lines.Line2D object at 0x04B16510&gt;]</p><p>&gt;&gt;&gt; plt.show</p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RllTJRGCF3DkUM><p><strong class=highlight-text toutiao-origin=span>4.3 求解非線性方程（組）</strong></p><p>在數學建模中，需要對一些稀奇古怪的方程（組）求解，Matlab自然是首選，但Matlab不是免費的，scipy則為我們提供了免費的午餐！scipy.optimize庫中的fsolve函數可以用來對非線性方程（組）進行求解。它的基本調用形式如下：</p><pre><div><p>fsolve(func, x0)</p></div></pre><p>func(x)是計算方程組誤差的函數，它的參數x是一個矢量，表示方程組的各個未知數的一組可能解，func返回將x代入方程組之後得到的誤差；x0為未知數矢量的初始值。</p><p>我們先來求解一個簡單的方程：</p><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RllTJRS3vZlGKm><pre><div><p>&gt;&gt;&gt; from scipy.optimize import fsolve</p><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; def <strong class=highlight-text toutiao-origin=span>f</strong><strong class=highlight-text toutiao-origin=span>(A)</strong>:</p><p>x = float(A[0])</p><p>return [np.sin(x) - np.cos(x) - 0.2]</p><p>&gt;&gt;&gt; result = fsolve(f, [1])</p><p>array([ 0.92729522])</p><p>&gt;&gt;&gt; print result</p><p>[0.92729522]</p><p>&gt;&gt;&gt; print f(result)</p><p>[2.7977428707082197e-09]</p></div></pre><p>哈哈，易如反掌！再來一個方程組：</p><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RllTKAnFK57CEs><pre><div><p>4x2−2sin(yz)=0 4x^2 - 2\sin(yz) = 04x </p><p>2</p><p>−2sin(yz)=0</p><p>5y+3=0 5y + 3 = 05y+3=0</p><p>yz−1.5=0 yz - 1.5 = 0yz−1.5=0</p><p>&gt;&gt;&gt; from scipy.optimize import fsolve</p><p>&gt;&gt;&gt; import numpy as np</p><p>&gt;&gt;&gt; def <strong class=highlight-text toutiao-origin=span>f</strong><strong class=highlight-text toutiao-origin=span>(A)</strong>:</p><p>x = float(A[0])</p><p>y = float(A[1])</p><p>z = float(A[2])</p><p>return [4*x*x - 2*np.sin(y*z), 5*y + 3, y*z - 1.5]</p><p>&gt;&gt;&gt; result = fsolve(f, [1, 1, 1])</p><p>&gt;&gt;&gt; print result</p><p>[-0.70622057 -0.6 -2.5 ]</p><p>&gt;&gt;&gt; print f(result)</p><p>[-9.1260332624187868e-14, 0.0, 5.329070518200751e-15]</p></div></pre><p>4.4 數值積分</p><p>數值積分是對定積分的數值求解，例如可以利用數值積分計算某個形狀的面積。我們知道，半徑為1的圓的方程可寫成：</p><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RllTKC3BFBsGou><p>下面讓我們來考慮一下如何計算半徑為1的半圓的面積，根據圓的面積公式，其面積應該等於PI/2。單位半圓曲線可以用下面的函數表示：</p><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RllTKCO2QknLlO><p>我們先定義一個計算根據x計算y的函數：</p><pre><div><p>&gt;&gt;&gt; def <strong class=highlight-text toutiao-origin=span>half_circle</strong><strong class=highlight-text toutiao-origin=span>(x)</strong>:</p><p>return (1-x**2)**0.5</p></div></pre><p><strong>4.4.1 經典微分法</strong></p><p>下面的程序使用經典的分小矩形計算面積總和的方式，計算出單位半圓的面積：</p><pre><div><p>&gt;&gt;&gt; N = 10000</p><p>&gt;&gt;&gt; x = np.linspace(-1, 1, N)</p><p>&gt;&gt;&gt; dx = 2.0/N</p><p>&gt;&gt;&gt; y = half_circle(x)</p><p>&gt;&gt;&gt; dx * np.sum(y[:-1] + y[1:]) # 面積的兩倍</p><p>3.1412751679988937</p></div></pre><p><strong>4.4.2 使用定積分求解函數</strong></p><p>如果我們調用scipy.integrate庫中的quad函數的話，將會得到非常精確的結果：</p><pre><div><p>&gt;&gt;&gt; from scipy import integrate</p><p>&gt;&gt;&gt; pi_half, err = integrate.quad(half_circle, -1, 1)</p><p>&gt;&gt;&gt; pi_half*2</p><p>3.1415926535897984</p></div></pre><p><strong class=highlight-text toutiao-origin=strong>4.5 圖像處理</strong></p><p>在scipy.misc模塊中，有一個函數可以載入Lena圖像——這副圖像是被用作圖像處理的經典示範圖像。我只是簡單展示一下在該圖像上的幾個操作。</p><ol><li><p>載入Lena圖像，並顯示灰度圖像</p></li><li><p>應用中值濾波掃描信號的每一個數據點，並替換為相鄰數據點的中值</p></li><li><p>旋轉圖像</p></li><li><p>應用Prewitt濾波器（基於圖像強度的梯度計算）</p></li></ol><pre><div><p>&gt;&gt;&gt; from scipy import misc</p><p>&gt;&gt;&gt; from scipy import ndimage</p><p>&gt;&gt;&gt; img = misc.lena.astype(np.float32)</p><p>&gt;&gt;&gt; plt.subplot(221)</p><p>&gt;&gt;&gt; plt.title('Original Image')</p><p>&gt;&gt;&gt; plt.imshow(img, cmap=plt.cm.gray)</p><p>&gt;&gt;&gt; plt.subplot(222)</p><p>&gt;&gt;&gt; plt.title('Median Filter')</p><p>&gt;&gt;&gt; filtered = ndimage.median_filter(img, size=(42,42))</p><p>&gt;&gt;&gt; plt.imshow(filtered, cmap=plt.cm.gray)</p><p>&gt;&gt;&gt; plt.subplot(223)</p><p>&gt;&gt;&gt; plt.title('Rotated')</p><p>&gt;&gt;&gt; rotated = ndimage.rotate(img, 90)</p><p>&gt;&gt;&gt; plt.imshow(rotated, cmap=plt.cm.gray)</p><p>&gt;&gt;&gt; plt.subplot(224)</p><p>&gt;&gt;&gt; plt.title('Prewitt Filter')</p><p>&gt;&gt;&gt; filtered = ndimage.prewitt(img)</p><p>&gt;&gt;&gt; plt.imshow(filtered, cmap=plt.cm.gray)</p><p>&gt;&gt;&gt; plt.show</p></div></pre><img alt="數學建模三劍客MSN | CSDN博文精選" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RllTKCiC7wUvIp><p><strong class=highlight-text toutiao-origin=span>5.後記</strong></p><p>這篇博文自2016年9月初動筆，斷斷續續寫了5個多月。延宕這麼久，除了自身懶惰的原因外，主要是因為MSN這個主題涉及的內容太過繁雜，又極其晦澀，無論怎麼努力，總怕掛一漏萬、貽笑大方。</p><p>現在好了，終於寫完了。倘若哪位看官發現了謬誤，請自行修改，順便通知我一聲；若因此文受益而想約飯、約酒，請發郵件至：xufive@gmail.com</p><p><strong class=highlight-text toutiao-origin=span>技術的道路一個人走著極為艱難？</strong></p><p><strong class=highlight-text toutiao-origin=span>一身的本領得不施展？</strong></p><p><strong class=highlight-text toutiao-origin=span>優質的文章得不到曝光？</strong></p><p><em>（*本文為AI科技大本營轉載文</em><em>章，轉載請聯繫原作者）</em></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>數學</a></li><li><a>三劍客</a></li><li><a>MSN</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/f8b2a960.html alt="思路方法詳解 高三數學複習難點突破 圓錐曲線中的定點、定值問題" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/afd28158b4384f5eaa05c44c3104e24f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f8b2a960.html title="思路方法詳解 高三數學複習難點突破 圓錐曲線中的定點、定值問題">思路方法詳解 高三數學複習難點突破 圓錐曲線中的定點、定值問題</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8c6e4912.html alt=高考數學解題技巧，定點、定值問題的求解攻略，對重點題型反覆練 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1520911080324fd12e55929 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8c6e4912.html title=高考數學解題技巧，定點、定值問題的求解攻略，對重點題型反覆練>高考數學解題技巧，定點、定值問題的求解攻略，對重點題型反覆練</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fe688958.html alt=「考研數學」梯度和方向導數的關聯實例（日誌記錄四） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/9b48e5bdd41847c88328d334fef13683 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fe688958.html title=「考研數學」梯度和方向導數的關聯實例（日誌記錄四）>「考研數學」梯度和方向導數的關聯實例（日誌記錄四）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0fa6c201.html alt=人教版三年級數學上冊6.3《數字編碼》講解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15409875272446fd2290e51 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0fa6c201.html title=人教版三年級數學上冊6.3《數字編碼》講解>人教版三年級數學上冊6.3《數字編碼》講解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/08743ff4.html alt=講講高頻彩票的數學邏輯吧 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d5895bf13c71468a883ec03133404d4c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/08743ff4.html title=講講高頻彩票的數學邏輯吧>講講高頻彩票的數學邏輯吧</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1ea6641b.html alt=中考數學丨幾何題常用的模型變換！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d00a9d306da54157960e657861b7afae style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1ea6641b.html title=中考數學丨幾何題常用的模型變換！>中考數學丨幾何題常用的模型變換！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a2250a41.html alt=【亮子數學】：常用三角公式大全 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e5b9e7811b0449a1bb61e34ae0a7523d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a2250a41.html title=【亮子數學】：常用三角公式大全>【亮子數學】：常用三角公式大全</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/889c075b.html alt=論小學數學教學生活化的誤區及對策 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/889c075b.html title=論小學數學教學生活化的誤區及對策>論小學數學教學生活化的誤區及對策</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d1c7184b.html alt=高中數學：正、餘二倍角公式的變式及其應用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/R6f5aXZEqbpi9N style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d1c7184b.html title=高中數學：正、餘二倍角公式的變式及其應用>高中數學：正、餘二倍角公式的變式及其應用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/09bdf3b9.html alt=高考數學基礎知識鞏固專題：同角三角函數的基本關係和誘導公式 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/4ad700017a27db3c428d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/09bdf3b9.html title=高考數學基礎知識鞏固專題：同角三角函數的基本關係和誘導公式>高考數學基礎知識鞏固專題：同角三角函數的基本關係和誘導公式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c3e505a4.html alt=轉化思想：解決數學問題 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/59e6f1ce51984cb8961d6c6343f300fd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c3e505a4.html title=轉化思想：解決數學問題>轉化思想：解決數學問題</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a276d5cd.html alt="高中數學 數列求和方法總結（全面系統的方法整理 值得收藏）" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15325317153316605d7448a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a276d5cd.html title="高中數學 數列求和方法總結（全面系統的方法整理 值得收藏）">高中數學 數列求和方法總結（全面系統的方法整理 值得收藏）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b974eeab.html alt=小學一年級數學必考題型——重疊類應用題，好多同學都做錯了 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b974eeab.html title=小學一年級數學必考題型——重疊類應用題，好多同學都做錯了>小學一年級數學必考題型——重疊類應用題，好多同學都做錯了</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/898cb51f.html alt=小學數學競賽——容斥原理之重疊問題（一） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/484a9e2ce6894ca1b86b0f70d28658b2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/898cb51f.html title=小學數學競賽——容斥原理之重疊問題（一）>小學數學競賽——容斥原理之重疊問題（一）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8d92c3b0.html alt=小學數學競賽——幾何中的重疊問題 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/e1631f3a495746479ee64fd6e5ef4458 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8d92c3b0.html title=小學數學競賽——幾何中的重疊問題>小學數學競賽——幾何中的重疊問題</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>