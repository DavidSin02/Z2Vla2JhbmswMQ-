<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>二層交換機與三層交換機區別詳解！ | 极客快訊</title><meta property="og:title" content="二層交換機與三層交換機區別詳解！ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/5b4e0000851a7b47c6da"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/24246459.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/24246459.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/24246459.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/24246459.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/24246459.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/24246459.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/24246459.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/24246459.html><meta property="article:published_time" content="2020-11-14T20:50:24+08:00"><meta property="article:modified_time" content="2020-11-14T20:50:24+08:00"><meta name=Keywords content><meta name=description content="二層交換機與三層交換機區別詳解！"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E5%AD%B8/24246459.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>二層交換機與三層交換機區別詳解！</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E5%AD%B8.html>科學</a></span></div><div class=post-content><div><p>我們習慣說，在二層網絡環境中相同vlan之間可以通信，不同vlan之間不可以通信，如果想通信必須藉助三層設備，所以說三層交換機必須要做的事情是路由轉發，但是二、三層交換機具體有什麼區別呢？</p><p>二層交換機工作於OSI模型的第2層(數據鏈路層)，故而稱為二層交換機。</p><p>二層交換技術是發展比較成熟，二層交換機屬數據鏈路層設備，可以識別數據包中的MAC地址信息，根據MAC地址進行轉發，並將這些MAC地址與對應的端口記錄在自己內部的一個地址表中。</p><p>二層交換技術發展比較成熟，二層交換機屬數據鏈路層設備，可以識別數據包中的MAC地址信息，根據MAC地址進行轉發，並將這些MAC地址與對應的端口記錄在自己內部的一個地址表中。具體的工作流程如下：</p><p>（1） 當交換機從某個端口收到一個數據包，它先讀取包頭中的源MAC地址，這樣它就知道源MAC地址的機器是連在哪個端口上的；</p><p>（2） 再去讀取包頭中的目的MAC地址，並在地址表中查找相應的端口；</p><p>（3） 如表中有與這目的MAC地址對應的端口，把數據包直接複製到這端口上；</p><p>（4） 如表中找不到相應的端口則把數據包廣播到所有端口上，當目的機器對源機器迴應時，交換機又可以學習一目的MAC地址與哪個端口對應，在下次傳送數據時就不再需要對所有端口進行廣播了。</p><p>不斷的循環這個過程，對於全網的MAC地址信息都可以學習到，二層交換機就是這樣建立和維護它自己的地址表。</p><p>二層交換技術從網橋發展到VLAN（虛擬局域網），在局域網建設和改造中得到了廣泛的應用。第二層交換技術是工作在OSI七層網絡模型中的第二層，即數據鏈路層。它按照所接收到數據包的目的MAC地址來進行轉發，對於網絡層或者高層協議來說是透明的。它不處理網絡層的IP地址，不處理高層協議的諸如TCP、UDP的端口地址，它只需要數據包的物理地址即MAC地址，數據交換是靠硬件來實現的，其速度相當快，這是二層交換的一個顯著的優點。但是，它不能處理不同IP子網之間的數據交換。傳統的路由器可以處理大量的跨越IP子網的數據包，但是它的轉發效率比二層低，因此要想利用二層轉發效率高這一優點，又要處理三層IP數據包，三層交換技術就誕生了。</p><p>三層交換（也稱多層交換技術，或IP交換技術）是相對於傳統交換概念而提出的。眾所周知，傳統的交換技術是在OSI網絡標準模型中的第二層——數據鏈路層進行操作的，而三層交換技術是在網絡模型中的第三層實現了數據包的高速轉發。簡單地說，三層交換技術就是：二層交換技術＋三層轉發技術。</p><p>三層交換機就是具有部分路由器功能的交換機。</p><p>三層交換機的最重要目的是加快大型局域網內部的數據交換，所具有的路由功能也是為這目的服務的，能夠做到一次路由，多次轉發。對於數據包轉發等規律性的過程由硬件高速實現，而像路由信息更新、路由表維護、路由計算、路由確定等功能，由軟件實現。三層交換技術就是二層交換技術+三層轉發技術。</p><p>三層交換技術的出現，解決了局域網中網段劃分之後，網段中子網必須依賴路由器進行管理的局面，解決了傳統路由器低速、複雜所造成的網絡瓶頸問題。</p><p><img alt=二層交換機與三層交換機區別詳解！ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/5b4e0000851a7b47c6da></p><p>舉個栗子，在上課的時候學生偷偷傳紙條，當一個男生偷偷傳張紙條給女生，女生這時候會幹嘛？是要打開紙條查看裡面寫了什麼內容吧！三層交換機在接收到目的mac地址是自己的時候要做的事情也是向上層解封裝，查看三層目的IP地址，然後呢？</p><p>女生打開，上面寫著“請將紙條遞給下一個人”，三層交換機也是這樣一看原來目的IP地址不是自己，這才執行路由層面的轉發；所以說交換機在執行要不要三層轉發，是在目的mac是自己的同時，IP地址是不是自己，如果是自己那還轉發個啥來，就不用轉發了。</p><p>交換機在判斷出目的IP不是自己的時候是不是一定就去查看路由表呢 ？不是，這個就是交換機的關鍵所在了，交換機此時不會查看路由表，不會查看arp表，不會查看mac地址表；那交換機會查看什麼表？</p><p>交換機此時會查看自己集成在ASIC硬件轉發卡中的硬件轉發表，那這個硬件轉發表都包含了什麼內容呢？</p><p>當第一個包過來的時候，發現硬件轉發表並沒有什麼表項，所以此時必須將數據包交由路由進程處理，一旦交由cpu處理，必然會消耗cpu資源，此時會查看路由表，然後發現此IP地址個自己是直連的，此時就去查看arp找出此地址對應的mac地址，就可以轉發出去了</p><p>在決定轉發出去過程中，交換機至少會做三件事情，一，修改IP包頭的ttl值；二，修改原mac地址，改成自己出接口mac地址；三，建立交換機硬件轉發表，包括目的IP地址，目的IP地址（下一跳）對應的mac地址，mac地址對應的vlan，以及對應的端口（這個每個廠家有自己的理解）</p><p>這樣當一下包過來的時候，交換機就會查看硬件轉發表直接轉發而不會在經過路由表的查詢了，也即是交換機的一次路由，多次交換機原理。</p><p>總之，二層交換機用於小型的局域網絡。這個就不用多言了，在小型局域網中，廣播包影響不大，二層交換機的快速交換功能、多個接入端口和低廉價格為小型網絡用戶提供了很完善的解決方案。</p><p>而三層交換機的最重要的功能是加快大型局域網絡內部的數據的快速轉發，加入路由功能也是為這個目的服務的。如果把大型網絡按照部門，地域等等因素劃分成一個個小局域網，這將導致大量的網際互訪，單純的使用二層交換機不能實現網際互訪；如單純的使用路由器，由於接口數量有限和路由轉發速度慢，將限制網絡的速度和網絡規模，採用具有路由功能的快速轉發的三層交換機就成為首選。</p><p>一般來說，在內網數據流量大，要求快速轉發響應的網絡中，如全部由三層交換機來做這個工作，會造成三層交換機負擔過重，響應速度受影響，將網間的路由交由路由器去完成，充分發揮不同設備的優點，不失為一種好的組網策略，當然，前提是你的腰包很鼓，不然就退而求其次，讓三層交換機也兼為網際互連。</p><p>傳統交換技術是在OSI網絡標準模型第二層--數據鏈路層進行操作的，而三層交換技術是在網絡模型中的第三層實現了數據包的高速轉發，既可實現網絡路由功能，又可根據不同網絡狀況做到最優網絡性能。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>二層</a></li><li><a>交換機</a></li><li><a>三層</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E5%AD%B8/1766cd24.html alt=三層交換機與四層交換機的詳細定義 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/3a0800039221cff38066 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/1766cd24.html title=三層交換機與四層交換機的詳細定義>三層交換機與四層交換機的詳細定義</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/d8780bf1.html alt=交換機的三層網絡結構和三層交換技術 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c4885af27e764490973dcf79157f926b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/d8780bf1.html title=交換機的三層網絡結構和三層交換技術>交換機的三層網絡結構和三層交換技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/dac7bb83.html alt=無線交換機與二層交換機 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/3a070001a016ce13fac9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/dac7bb83.html title=無線交換機與二層交換機>無線交換機與二層交換機</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/b8bc10d6.html alt=詳解二層交換機的工作原理與二層交換技術！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5e8a0005147eb7eda2f0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/b8bc10d6.html title=詳解二層交換機的工作原理與二層交換技術！>詳解二層交換機的工作原理與二層交換技術！</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/5f4b171e.html alt=詳解二層交換機與三層交換機的工作方式與通信原理！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/5e840001e0f10cfcff89 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/5f4b171e.html title=詳解二層交換機與三層交換機的工作方式與通信原理！>詳解二層交換機與三層交換機的工作方式與通信原理！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1111cfff.html alt=「基礎1」交換機端口鏈路類型介紹 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c9a8c0c5c9004d65ad879d1ac6001ba8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1111cfff.html title=「基礎1」交換機端口鏈路類型介紹>「基礎1」交換機端口鏈路類型介紹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/26be5cf7.html alt=什麼是核心交換機的鏈路聚合、冗餘、堆疊、熱備份 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e7b9b834cb27438bb9fd4fd077fc8075 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/26be5cf7.html title=什麼是核心交換機的鏈路聚合、冗餘、堆疊、熱備份>什麼是核心交換機的鏈路聚合、冗餘、堆疊、熱備份</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7ffabc00.html alt=網絡七層模式流量轉發：二、三層轉發原理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1528451739473e10d61ada4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7ffabc00.html title=網絡七層模式流量轉發：二、三層轉發原理>網絡七層模式流量轉發：二、三層轉發原理</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8e5db5c1.html alt=剖析數據中心三層網絡結構設備的光互連方案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/981427d85f4646acaf2277af70122764 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8e5db5c1.html title=剖析數據中心三層網絡結構設備的光互連方案>剖析數據中心三層網絡結構設備的光互連方案</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/65f1212d.html alt="收藏 | 交換機的四種組網方式以及常見八種故障解決方法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d9a3f2ce4f21458e9eb1c3e3786f8055 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/65f1212d.html title="收藏 | 交換機的四種組網方式以及常見八種故障解決方法">收藏 | 交換機的四種組網方式以及常見八種故障解決方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/de9934fc.html alt=三層實木複合地板怎麼樣，三層實木複合地板全面解析 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e63fbe8ed55e4006b84a87bb448d3508 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/de9934fc.html title=三層實木複合地板怎麼樣，三層實木複合地板全面解析>三層實木複合地板怎麼樣，三層實木複合地板全面解析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0976be55.html alt=三層結構實木複合地板生產工藝及技術要求 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/31640004d3b06f50e4b0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0976be55.html title=三層結構實木複合地板生產工藝及技術要求>三層結構實木複合地板生產工藝及技術要求</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/89c0eb5e.html alt=小廠家大作為，烽火交換機配置實例 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/4f0e6b9db9d74d49b3e0d8a1606f80f7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/89c0eb5e.html title=小廠家大作為，烽火交換機配置實例>小廠家大作為，烽火交換機配置實例</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d1879a0b.html alt=華為交換機基本配置指令操作步驟 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d1879a0b.html title=華為交換機基本配置指令操作步驟>華為交換機基本配置指令操作步驟</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b2e56fb8.html alt=華為交換機端口鏡像配置 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/6e8e93c665714123a93e2d607f8ce26e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b2e56fb8.html title=華為交換機端口鏡像配置>華為交換機端口鏡像配置</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>