<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>小技巧｜在 Android Studio 調試應用 | 极客快訊</title><meta property="og:title" content="小技巧｜在 Android Studio 調試應用 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/b788a533e7b249a6980495217f914da4"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/2f0342c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/2f0342c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/2f0342c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/2f0342c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/2f0342c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/2f0342c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/2f0342c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/2f0342c.html><meta property="article:published_time" content="2020-10-29T21:02:12+08:00"><meta property="article:modified_time" content="2020-10-29T21:02:12+08:00"><meta name=Keywords content><meta name=description content="小技巧｜在 Android Studio 調試應用"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E5%AD%B8/2f0342c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>小技巧｜在 Android Studio 調試應用</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E5%AD%B8.html>科學</a></span></div><div class=post-content><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b788a533e7b249a6980495217f914da4><p class=pgc-img-caption></p></div><p>作為開發者，我們有時會被一些問題所困，導致在調試器中所花費的時間甚至超過了編寫代碼所用的時間。正因如此，最近我們找機會了解了 Android Studio 團隊在提升調試速度方面使用的一些技巧。接下來，我們會為您一一呈現那些我們認為最好的、節省您時間的、且方便與您的調試流程整合的小技巧。</p><p>雖然您的應用可能與本文假想中的示例應用大相徑庭，但是本文所介紹的小竅門可以用在任何應用的開發上。</p><h1 class=pgc-h-arrow-right><strong>Log 的過濾與摺疊</strong></h1><p>我們從經典調試法 —— printf 語句的一個小竅門說起。假設有一個遊戲，它會在日誌中打印它的幀數和用戶的最終得分，那麼該遊戲就會在 Logcat 窗口中給出以下內容:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/f545eae68c4e4d688da56622c7de3d75><p class=pgc-img-caption></p></div><p>這裡的輸出信息中可能包含了許多您並不關心的內容，例如日期和線程 ID。您其實可以輕鬆地調整內容的顯示，只需要點擊 Logcat 工具欄中的設置圖標，便會彈出一個 <strong>Configure Logcat Header</strong> 窗口，您可以在這裡取消那些您不想看到的信息:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e299e779191a42fcb10509b0831a507c><p class=pgc-img-caption></p></div><p>這樣一來，您便獲得了更加簡潔、更加相關的日誌輸出，如下:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/908b419874834e9c96d2cf88a4af1ed9><p class=pgc-img-caption></p></div><p>然而，這裡仍然留下了許多混淆視聽的內容，妨礙我們專注於 High Score 信息。您可以使用搜索功能解決這一問題，只要在 <strong>搜索</strong> 中輸入一部分調試信息來對 <strong>Logcat</strong> 窗口進行過濾:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2bc58b8cc1f645d8a29ad1e02ad87544><p class=pgc-img-caption></p></div><p>您經常會用到的搜索條件，可以通過 <strong>Edit Filter Configuration</strong> 添加到自定義過濾器中:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e7e5b9b761534d899c43d45a47809057><p class=pgc-img-caption></p></div><p>下面，添加過濾器的詳細信息:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e8365ff5dcc143f0b4dc3d3010a46c43><p class=pgc-img-caption></p></div><p>另一種減少混亂日誌的方式是使用摺疊功能，它可以把近似的日誌摺疊為同一組。您只需選中一條日誌中的部分文本，右擊鼠標，並選擇 <strong>Fold Lines Like This</strong> :</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e18876fd065d4c9fb3117268f8476d4e><p class=pgc-img-caption></p></div><p>當 <strong>Console</strong> 對話框出現時，點擊 <strong>OK</strong> ，就可以將包含選中文本的近似日誌整理到一起:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0491435f7cc04345a072b37b146744e8><p class=pgc-img-caption></p></div><p>如果稍後您需要查看被摺疊的信息，則可以點擊某行來展開內容。這裡也提供了方便您展開或收起摺疊行的按鈕。</p><h1 class=pgc-h-arrow-right><strong>在當前進程附加調試器</strong></h1><p>雖然我們可以通過 <strong>Debug</strong> 按鈕或菜單選項啟動一個調試會話，但當您想要調試一個已經啟動的應用時，也可以為其附加一個調試器，這樣就可以不用重啟應用。您可以點擊 <strong>Attach Debugger to Android Process</strong> 按鈕來執行這一操作:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bfd4b4794d924207978fbb3e793aa45f><p class=pgc-img-caption></p></div><p>[image]</p><p>在 <strong>Choose Process</strong> 彈窗中，選中您希望附加調試器的進程並且點擊 <strong>OK</strong> 。接下來，和普通的調試會話中一樣，調試器會開始觸發您的斷點。</p><h1 class=pgc-h-arrow-right><strong>移動斷點</strong></h1><p>如果您發現斷點添加的位置不合適，除了清除並重設斷點外，您還可以將當前的斷點拖動至您想要的地方。這個功能十分有用，因為移動操作保留了該斷點的設置，其中包括了許多本文接下來將會介紹的特性。</p><h1 class=pgc-h-arrow-right><strong>條件斷點</strong></h1><p>您可能需要找到應用或遊戲中與特定類型事件有關的 Bug。舉例來說，在一個正在開發的遊戲中，您可能希望在玩家的角色與物體碰撞而耗盡其最後的生命值時停止運行。您在碰撞事件上添加斷點，但是這麼一來，每次碰撞都會導致運行停止。為了避免這種情況，您可以使用條件斷點。</p><p>為了設置條件斷點，您需要右擊一個斷點併為其添加一個條件。這裡的條件可以是任何結果為 Boolean 的代碼表達式。當代碼運行到這一行時，如果表達式執行結果為 True，斷點就會被激活。</p><p>這裡，在玩家碰撞到一個物體的邏輯基礎上，設置一個 player.health == 1 的條件，從而使您可以捕捉到玩家生命值降為 0 前的最後一次物體的碰撞事件。</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6e9e96733ac74c48a25c2769ee69003e><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right><strong>依賴斷點</strong></h1><p>一段代碼會被不同的路徑觸發，這種情況在應用開發中並不少見。如果您發現了只會在某個特定路徑才會觸發的 Bug，隨意為其打一個斷點會造成許多無意義的運行中斷。為了應對這種情況，您可以使用依賴斷點。依賴斷點只會在特定的斷點被觸發後才會激活。舉例來說，您可以創建一個只會在您感興趣的路徑中被觸發的斷點，而其他斷點便可以依賴此斷點，從而使這些斷點也只會在您所感興趣的路徑中被觸發。</p><p>為了設置依賴斷點，您需要右擊路徑中的第二個斷點，並打開 <strong>More</strong> 菜單。在 <strong>Disable until breakpoint is hit</strong> 選框中，選中您想要依賴的斷點:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/a69fa8492fb846ac81cb470b39f34ca1><p class=pgc-img-caption></p></div><p>您會發現斷點的圖標發生了改變:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/570dae52fb58487f81ac1ccdfd5e0392><p class=pgc-img-caption></p></div><p>現在，您的應用只會在前一個斷點被觸發後才會在此斷點停止運行。</p><p>這個功能也可以用在其他使用了條件斷點的地方，從而可以避免複製粘貼條件斷點到新位置的操作。</p><h1 class=pgc-h-arrow-right><strong>掛起線程</strong></h1><p>如果您在調試一個多線程應用，您將會注意到，在默認情況下斷點將會掛起所有線程，但有時您可能不希望它這樣做。舉例來說，您可能想要驗證某個後臺線程阻塞時，應用的其他功能是否能夠正常工作，或者您希望瞭解在執行一個後臺任務時，UI 能不能夠持續進行渲染。</p><p>為了僅掛起當前線程，您需要打開斷點選項，並且選中 <strong>Suspend</strong> 設置中的 <strong>Thread</strong> 選項:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/26140fd82a6d44d7b530f367a0ed8d44><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right><strong>Evaluate and log (評估與記錄)</strong></h1><p>有些時候，相比起在斷點處停止運行，您可能更希望看到一些有關應用狀態的信息。也許您會通過在代碼中添加 println 語句來做到這一點，但這種方法需要重新編譯應用，您其實可以利用斷點本身來進行評估與記錄。</p><p>為了做到這點，您需要在斷點選項中禁用 <strong>Suspend</strong> 並啟用 <strong>Evaluate and log</strong> :</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a09ce35b923a4a6dbdf2fdc73460abe4><p class=pgc-img-caption></p></div><p>現在，您可以在輸入框中添加任何代碼表達式，相應內容會被評估並記錄至控制檯。</p><p>如果您只是想快速驗證斷點是否觸發並且不在乎其中的細節信息，可以使用 <strong>"Breakpoint hit" 信息</strong> 來記錄斷點的觸發事件。您甚至可以使用 Shift + 添加斷點的方式來讓這一操作變得更加快捷。</p><h1 class=pgc-h-arrow-right><strong>禁用斷點</strong></h1><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d72c69f76bcb4c32af74afb3b71a34d7><p class=pgc-img-caption></p></div><p>禁用斷點 (並非刪除斷點)，可以右鍵點擊斷點並從彈框中取消選中 Enabled 選框。您也可以通過按住 Alt (在 Mac 上是 Option) 並點擊斷點，從而更快速地禁用斷點。</p><h1 class=pgc-h-arrow-right><strong>斷點分組</strong></h1><p>您一定遇到過這種場景: 您正在解決一個 Bug，併為此添加了幾個斷點，但是發現自己一時間沒什麼頭緒，所以您就去解決別的 Bug 了。然而，很快您就開始觸發為了解決第一個 Bug 所添加的斷點。觸發無關的斷點不但會讓人困擾，還會把您帶離您的調試流程。</p><p>您可以使用斷點分組來讓開發過程更舒心一些。</p><p>當您的程序運行到第一個與當前調試流程無關的斷點時，右擊並打開 <strong>More</strong> 菜單，這時您會看到一個所有斷點的列表，您可以在這裡複選所有與第一個 Bug 相關的斷點:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/0d0d8da36abe4f448fafcf4dd4e0a647><p class=pgc-img-caption></p></div><p>右擊選中的斷點，並選擇 <strong>Move to group</strong> 接下來 <strong>Create new</strong> 併為新的分組命名，例如以您正在處理的 Bug 命名。現在，您可以僅通過點擊輕鬆地啟用和禁用所有的斷點了。</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/905b2c9b84744d54a310d118eff72297><p class=pgc-img-caption></p></div><p>當然，您也可以在解決了 Bug 之後，使用分組功能刪除所有相關的斷點。</p><h1 class=pgc-h-arrow-right><strong>Drop frame (丟棄當前幀)</strong></h1><p>有些時候，當您瀏覽掛起的代碼時，可能會意外跳過某個本應該進入的方法。如果您的設備運行的是 Android 10 或者更高版本，您可以通過點擊調試工具欄中的 <strong>Drop Frame</strong> 按鈕來進行回溯:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4f5ab5d8660d4c378c9288ee332df83f><p class=pgc-img-caption></p></div><p>這個功能會把您從當前的方法帶回到其開始執行前的節點，從而給您一個重新進入該方法的機會。</p><p>此功能並不是 "時間機器"。如果您正處於一個長函數的中間位置，而它此前已經執行了許多工作 (例如，修改了當前類的狀態)。在您丟棄當前幀時，這類操作所產生的改變不會被撤銷。</p><h1 class=pgc-h-arrow-right><strong>Mark object (標記對象)</strong></h1><p>有時候，您會想要跟蹤某些特定類型實例的生命週期。本例中，要跟蹤的對象有一個哈希值: @10140:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e3db634bcd614831b8f48e72962dbcf4><p class=pgc-img-caption></p></div><p>為了能夠在這個對象再次出現時可以認出它來，您可能已經掏出紙筆準備記下這個數字了。不過您也可以選擇另一種方式: 右擊該對象，點擊 <strong>Mark Object</strong> 為其添加標籤。</p><p>這樣一來，無論被標記的對象出現在調試窗口的任何地方，它都會帶有您添加的標籤以方便辨認。這裡我們為該對象添加一個 " <strong>myItem</strong> " 標籤:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7a6b3307ed6a47a0af5969589c18c81f><p class=pgc-img-caption></p></div><p>更棒的是，就算您處於完全不同的上下文，無法觸及到剛才的對象，您也可以在 <strong>Watches</strong> 窗口對其進行查看。無論您處在什麼位置，只要觸發斷點，就可以在 <strong>Watches</strong> 窗口添加後綴為 " <strong>_DebugLabel</strong> " 的標籤 (不用擔心自己會不記得後綴的內容，這裡有自動補全):</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a1771e3ffc854e879f51c45df874b3f0><p class=pgc-img-caption></p></div><p>現在，您可以在任何地方使用 <strong>Watches</strong> 窗口來觀察該類型對象的狀態。</p><p>您也可以將此功能與條件斷點組合。舉例來說，您可打一個斷點，右擊併為其設置一個條件來檢查打了標籤的對象:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/59ab5d5f43c940f79d8cabef348dba51><p class=pgc-img-caption></p></div><p>這樣一來，就不用在進入包含特定實例的範圍之前跳過一堆斷點，代碼會運行到合適的地方再停止:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a38175449a7c482783e255232fa34cc5><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right><strong>Evaluate expression (評估表達式)</strong></h1><p>儘管 <strong>Variables</strong> 和 <strong>Watches</strong> 窗口對於跟蹤某個顯式值時已經十分好用，但您有時候還是會想要更加自由地探索您的代碼，這時候就輪到評估表達式功能登場了。當您正處於某個斷點時，您可以使用調試工具欄中的 <strong>Evaluate expression</strong> 按鈕來訪問這一功能。</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/71f0f0097abb433fac481289c7f202f7><p class=pgc-img-caption></p></div><p>您可以在 <strong>Expression</strong> 輸入框中輸入任何表達式，點擊 <strong>Evaluate</strong> 按鈕就可以對其進行評估。當然，如果您評估了一個對象，在評估完成後，您就可以在 <strong>Result</strong> 部分瀏覽該對象的詳細信息:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/80dfc38d4f7c4ac49cddda312377b293><p class=pgc-img-caption></p></div><p>評估表達式彈窗可能會以單行模式打開，您可以通過點擊 <strong>Expand</strong> 來將其擴展為多行模式:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c4815898ac02402788f970a790a3e4df><p class=pgc-img-caption></p></div><p>現在，您可以輸入複雜的多行表達式，其中可以包含變量、if 語句等各種內容:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/53bd121caef34406a76911896b149630><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right><strong>Apply changes</strong></h1><p>前面講過，當您使用條件斷點時，會需要評估一個表達式；即便代碼沒有在斷點停止，調試器依然需要執行評估操作。如果您在一個非常緊密的循環中運行評估操作，例如遊戲中的動畫處理，則可能導致應用停頓。儘管條件斷點很有用，但在某些情況下您可能無法依靠它們。</p><p>解決此問題的一種方法是將條件表達式添加到代碼中，並使用無操作 (no-op) 表達式，從而使其可以附加斷點:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fe8d31b23a35414e8a1b280c21bf8492><p class=pgc-img-caption></p></div><p>在修改完代碼之後，您可能會決定重啟應用並點擊 <strong>Debug</strong> 按鈕，但是如果您的應用運行在 Android 8 或更高版本的系統中，您可以使用 <strong>Apply Code Changes</strong> ：</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0446593655d74fc1bd2bb2febc1e5041><p class=pgc-img-caption></p></div><p>現在，嵌入的表達式已經修補了您的代碼，但您仍然會在 <strong>Frames</strong> 窗口中看到您已經更新的方法被標記為 <strong>過時 (Obsolete)</strong> :</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/670b6d14fadd4cc5acbc037f55411ec3><p class=pgc-img-caption></p></div><p>這是因為，雖然新的代碼已經打好了補丁，但是調試器指向的仍是舊的代碼。您可以使用丟棄當前幀的功能來離開舊的方法，然後進入修改過的方法之中。</p><p>儘管本例中並不需要，但這裡還有一種選擇: <strong>Apply Changes and Restart Activity</strong> 。不同於 <strong>Apply Code Changes</strong> ，該操作會重啟 Activity。如果您修改了佈局資源或您要調試的代碼，例如在 onCreate 方法中，該選項將非常有用。</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2a90942e19e444af86e3c0a70dc363b7><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right><strong>分析堆棧信息</strong></h1><p>就算您掌握了所有的竅門與技巧，您的代碼仍然可能出現 Bug，而您也會因此收到一些崩潰報告，這些報告中則可能包含了異常堆棧信息的文本副本。您可以使用 <strong>Analyze</strong> 菜單中的 <strong>Analyze Stack Trace or Thread Dump</strong> 將這些信息轉化為有意義的內容。</p><p>此工具提供了一個粘貼堆棧信息的文本框，不過它也會自動填充系統剪貼板中的文本:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7254ffe132a94343957b4a01ca3e3341><p class=pgc-img-caption></p></div><p>點擊 <strong>OK</strong> 之後，就會將包含完整註釋的堆棧信息添加到控制檯:</p><div class=pgc-img><img alt="小技巧｜在 Android Studio 調試應用" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1100e8200272483f855b395865d64977><p class=pgc-img-caption></p></div><p>您可以一眼看出來自您自己代碼文件的內容 (以藍色突出顯示) 與您可能不需要關注的代碼 (以灰色突出顯示)。並且，您可以通過單擊鏈接在您的代碼文件中進行跳轉。</p><h1 class=pgc-h-arrow-right><strong>結語</strong></h1><p>本文提供了一些可以加快調試速度的技巧和竅門。由於篇幅所限，更多技巧簡單歸納如下:</p><ul><li>在 Debug 模式下，點擊代碼的行數數字可以直接執行此行代碼</li><li>Ctrl + 拖動操作可以複製斷點</li><li>您可以在函數的右括號處設置斷點</li><li>您可以在字段和屬性上設置斷點，被稱為 "field watchpoints"</li><li>您可以為接口中的方法設置斷點，從而使它的所有實現都會觸發斷點</li></ul><p>您可以通過下面這個視頻瞭解更多本文的細節和演示內容:</p><ul><li>騰訊視頻鏈接: https://v.qq.com/x/page/o3030ha9b5e.html</li><li>Bilibili 視頻鏈接: https://www.bilibili.com/video/av78114615/</li></ul><p>也請您查閱更多與本話題相關的資源:</p><ul><li>Android Developer 官方文檔 | 調試預構建的 APK</li><li>通過數據瀏覽來控制數據在調試器中的顯示方式</li><li>如何使用和理解 Overhead 選項卡</li><li>Android Developer 官方文檔 | Android Studio — 調試您的應用</li><li>IntelliJ IDEA 調試代碼</li></ul></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Android</a></li><li><a>Studio</a></li><li><a>調試</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E5%AD%B8/03aa40b.html alt="Android 你不知道的調試技巧（Debug操作彙總）" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/07a1f56522de4fa5a6b1a81191718b88 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/03aa40b.html title="Android 你不知道的調試技巧（Debug操作彙總）">Android 你不知道的調試技巧（Debug操作彙總）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/031eafc4.html alt=電廠直流系統調試方案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/5e8200036f19e04c25bf style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/031eafc4.html title=電廠直流系統調試方案>電廠直流系統調試方案</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ea182b49.html alt=液壓系統調試之前，為什麼要讓液壓泵站先空載循環一段時間？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/7e5d0001487382aeec79 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ea182b49.html title=液壓系統調試之前，為什麼要讓液壓泵站先空載循環一段時間？>液壓系統調試之前，為什麼要讓液壓泵站先空載循環一段時間？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c8eefa3d.html alt=大彙總，收藏了看！「報警閥組系統」的調試和檢測 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/50ad00022673c3ca1dc4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c8eefa3d.html title=大彙總，收藏了看！「報警閥組系統」的調試和檢測>大彙總，收藏了看！「報警閥組系統」的調試和檢測</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d2beb44d.html alt=溼式報警閥組件安裝、檢查、檢測、調試及故障分析 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a027833f8ae24c738984ebeba3fc5668 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d2beb44d.html title=溼式報警閥組件安裝、檢查、檢測、調試及故障分析>溼式報警閥組件安裝、檢查、檢測、調試及故障分析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c1058aa2.html alt="Android Q下ANGLE圖形引擎性能測試  「農步祥」" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RXTy8D7HmsBWr1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c1058aa2.html title="Android Q下ANGLE圖形引擎性能測試  「農步祥」">Android Q下ANGLE圖形引擎性能測試 「農步祥」</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/89f872ba.html alt=如何做好三軸試驗二(儀器調試與測試參數) class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e0287bd5c0724f0ab361e2d3b43c531c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/89f872ba.html title=如何做好三軸試驗二(儀器調試與測試參數)>如何做好三軸試驗二(儀器調試與測試參數)</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5aeae6aa.html alt=分析MTK校準調試的原理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/6c340001093ce7c9945a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5aeae6aa.html title=分析MTK校準調試的原理>分析MTK校準調試的原理</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ff07a1f6.html alt=我是怎麼調試出來二叉樹的遍歷(超精彩配圖)，從此遍歷不再愁了 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a709d5ec01b24d4da23144253637ca81 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ff07a1f6.html title=我是怎麼調試出來二叉樹的遍歷(超精彩配圖)，從此遍歷不再愁了>我是怎麼調試出來二叉樹的遍歷(超精彩配圖)，從此遍歷不再愁了</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0ac13623.html alt="Android 11加入新功能：長期不用的APP自動關閉敏感權限" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/Rx4J9h84rlZBze style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0ac13623.html title="Android 11加入新功能：長期不用的APP自動關閉敏感權限">Android 11加入新功能：長期不用的APP自動關閉敏感權限</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/192b9f57.html alt="Android版Firefox 81將引入可自動關閉舊標籤頁的選項" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/SA9N6CXIS75NYa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/192b9f57.html title="Android版Firefox 81將引入可自動關閉舊標籤頁的選項">Android版Firefox 81將引入可自動關閉舊標籤頁的選項</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e3073c3d.html alt="Android端Firefox 81可定時關閉不使用的標籤頁" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/S9x6jJb18axAim style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e3073c3d.html title="Android端Firefox 81可定時關閉不使用的標籤頁">Android端Firefox 81可定時關閉不使用的標籤頁</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/355ed5a4.html alt=在Android中的工具欄中添加菜單 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a3572ad9d9fb487d8927f703f18179a0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/355ed5a4.html title=在Android中的工具欄中添加菜單>在Android中的工具欄中添加菜單</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b37aac89.html alt=【學習筆記】Android開發之kotlin語言（一） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ee3f9c8348ae4de58a5f62922d2042e1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b37aac89.html title=【學習筆記】Android開發之kotlin語言（一）>【學習筆記】Android開發之kotlin語言（一）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/564b0eda.html alt=硬件調試——眼圖幾個經典案例！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/15361403395238d26c42feb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/564b0eda.html title=硬件調試——眼圖幾個經典案例！>硬件調試——眼圖幾個經典案例！</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>