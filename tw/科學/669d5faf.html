<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 | 极客快訊</title><meta property="og:title" content="「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p9.pstatp.com/large/dfic-imagehandler/14c1362c-c97b-46cf-8558-2ee2c161adf6"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/669d5faf.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/669d5faf.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/669d5faf.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/669d5faf.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/669d5faf.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/669d5faf.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/669d5faf.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/669d5faf.html><meta property="article:published_time" content="2020-11-14T20:50:24+08:00"><meta property="article:modified_time" content="2020-11-14T20:50:24+08:00"><meta name=Keywords content><meta name=description content="「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E5%AD%B8/669d5faf.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E5%AD%B8.html>科學</a></span></div><div class=post-content><p><br></p><p><br><strong>第一天（拓撲、OSI、封裝、每層的設備、線纜、路由器配置、路由器組成與啟動、路由器安全）</strong></p><p>1：網絡前言</p><p>組建一個網絡之前要考慮很多因素：費用、安全、網速、拓撲、可伸縮性、可靠性、可用性</p><p>建立一個網絡需要組件：計算機（運行有操作系統的：PC、文件服務器）、聯網設備（交換機、路由器、防火牆）和介質（光纖、網線）</p><p><br></p><p>2：網絡拓撲結構</p><p>前言：</p><p>用線纜、設備構建一個網絡的時候，可以有各種類型的拓撲，所謂拓撲就是指設備之間的連接方式：</p><p>點對點（point to point topology)：需要將很多設備鏈接在一起時不常見</p><p>總線型（bus topology）:所有的設備通過一條線路進行通信</p><p>星型(Star Topology)：用於鏈接許多設備的環境，不過中心設備的壓力會很大，存在單點故障。解決辦法：擴展性的星形拓撲。</p><p>擴展的星型(Extended-Star Topology)：多個星形拓撲的組合，優點是減弱了中心設備的責任。</p><p>單環型(Ring Topology)：為了解決單點故障</p><p>雙環型(Dual-Ring Topology)：應用於冗餘備份</p><p>全互聯(Full-Mesh Topology)：容錯能力強大，費用昂貴</p><p>部分互聯(Partial-Mesh Topology)：只是核心設備進行互聯，在容錯和費用間均衡</p><p><br></p><p>3：OSI參考模型</p><p>前言：</p><p>OSI參考模型具有層次化，優點：</p><p>簡化了相關的網絡操作；</p><p>提供不同廠商之間的標準接口；</p><p>使各個廠商能夠設計出相互操作的網絡設備；</p><p>把複雜的網絡問題分解為小的簡單問題，易於學習和操作。</p><p>第七層：應用層：提供人與應用程序交互的界面（登陸QQ時的窗口。）</p><p><br></p><p>第六層：表示層：定義信息是如何通過用戶正在使用的界面傳輸並呈現給用戶。還可以提供加密以保護來自於應用層的數據信息。</p><p><br></p><p>第五層：會話層：負責啟動鏈接的建立和終止，區分多個鏈接，負責對應用層、表示層和會話層出現的任何錯誤進行報告。操作系統就在此層次。</p><p><br></p><p>第四層：傳輸層：建立、維持、終止兩個設備之間的會話連接，提供可靠(TCP、三次握手：差錯偵測、差錯校正)或不可靠(UDP：只有差錯偵測，實現實時數據)的連接；</p><p><br></p><p>第三層：網絡層：定義第三層地址；尋找到達目的地的最佳路徑；跨區域進行協商。</p><p><br></p><p>第二層：數據鏈路層：定義了在單個鏈路上如何傳輸數據，提供了物理地址/硬件地址，提供無連接和面向連接的服務；協商兩端設備的0、1比特的一致。</p><p><br></p><p>第一層：物理層：定義設備接口的類型、連接設備之間的線纜的類型；對傳輸的信息進行電信號與模擬信號之間的轉換，在兩個網絡設備之間提供透明的比特流傳輸。</p><p><br></p><p>4：封裝和解封裝</p><p>這七層是為了幫助我們理解數據傳送到遠程設備時所經歷的傳輸過程，數據傳輸的過程分為封裝、解封裝兩個過程：</p><p><br></p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/14c1362c-c97b-46cf-8558-2ee2c161adf6><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/5101b249-6a7c-42b1-8a17-bd538138fd7e><p class=pgc-img-caption></p></div><p><br></p><p>每一層使用自己層的協議和別的系統的對應層互相通信,協議層的協議在對等層之間交換的信息叫協議數據單元。</p><p><br></p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/eb517a0c-08ee-477b-a620-8280ae7ad506><p class=pgc-img-caption></p></div><p><br></p><p>5：TCP/IP協議棧</p><p></p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/3a68bf26-5660-4ca3-95f2-ab7306447ece><p class=pgc-img-caption></p></div><p><br></p><p>6：每層設備</p><p><br></p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/aa793e342e304a40b65f203b424831b6><p class=pgc-img-caption></p></div><p><br></p><p>7：線纜</p><p>T：雙絞線 F：光纖 X：雙工方式</p><p>光纖（玻璃纖維）：多模是紅外光譜；單模是激光</p><p>直通線：不同種設備之間互聯（路－－交）（網線兩頭的水晶頭裡的線顏色要對應好）</p><p>交叉線：同種設備之間互聯（路－－路；交－－交；路－－PC）</p><p><br></p><p>8跟銅絲的網線，在這8根絲中，只有4根是傳數據用的，其它4根線只是為了消除電磁干擾。在4根傳輸數據的線當中，有2根是用來發送數據的，有2根是用來接收數據的。發送數據的那2根線一定要和對端接收數據的連。所以電腦之間用交叉線。但現在很多交換機是自適應的，內部會自動切換收、發電路。所以用這2種線都可以。</p><p><br></p><p>實際工作中可以看設備端口號後面有沒有X，都有或者都沒有——>交叉線</p><p><br></p><p>8：配置路由器</p><p>1.登錄方式：console口、AUX遠程撥號、telnet、web形式</p><p><br></p><p>2.真機操作：連接電腦和路由器的console口、secureCRT軟件、quickconect、serial、選端口(轉接口的端口)、波特率9600、connect。</p><p>3.介紹TAB鍵、錯誤情況、^、命令提示符</p><p><br></p><p>4.命令：</p><p>Router> 　　　　　 用戶模式，查看</p><p>Router>en</p><p>Router#　　　　　　　　　　 特權模式，查看、保存、</p><p>Router#conf t　　　　</p><p>Router(config)# 　　　　　　全局配置模式</p><p>Router(config)#int fa 0/0</p><p>Router(config-if)# 　　　 接口模式</p><p>Router(config-if)#ip add 192.168.1.1 255.255.255.0　　對接口配IP</p><p>Router(config-if)#exit 　　逐層退出</p><p>Router(config-if)#end 　　 直接回到特權模式</p><p>Router#sh ip int brief</p><p>*思科路由器的每個接口，在默認情況下是關閉的</p><p><br></p><p>9：路由器的組成</p><p>RAM（內存）:隨機存取存儲器，存放我們當前的配置，掉電即丟。</p><p>R1#dir system:　</p><p>NVRAM/Configuration Register：非易失性隨機訪問存儲器，是指斷電後仍能保持數據的一種RAM。存放有以保存的配置文件</p><p>R1#show startup-config</p><p>寄存器值：影響路由器啟動過程的一個值，作用：0x2102 正常，從flash中加載IOS，並且從NVRAM中讀取配置文件 　　0x2142 從flash中加載IOS，但不從NVRAM中讀取保存的配置</p><p>查看寄存器值：show version</p><p>ROM：只讀存儲器，工作過程中只能讀出，而不像隨機存儲器那樣能快速地、方便地加以改寫，存放有引導程序　　　　Flash（硬件）：IOS操作程序</p><p><br></p><p>R1#show flash：可以查看IOS</p><p>CPU</p><p>Interface：</p><p><br></p><p>10：路由器的啟動</p><p>1.加電自檢</p><p>2.加載引導程序</p><p>3.尋找IOS鏡像--FLASH</p><p>4.加載IOS鏡像--RAM</p><p>5.尋找配置文件--NVRAM</p><p>6.加載配置文件--RAM</p><p>7.正常啟動</p><p><br></p><p>11：路由器的安全</p><p>硬件威脅：防盜</p><p>環境威脅：保持乾淨（溫度、溼度）</p><p>電力威脅：儘量不要斷電！UPS不間斷電源，防止意外斷電</p><p>配置威脅：密碼</p><p><br></p><p>1.路由器第一道防線：console 0密碼（即對線路密碼，插入線即要輸密碼）：</p><p>R1(config)#line console 0</p><p>R1(config-line)#password cisco</p><p>R1(config-line)#login</p><p><br></p><p>2.路由器第二道防線：遠程登錄密碼</p><p>R1(config)#line vty 0 4</p><p>R1(config-line)#password ccie</p><p>R1(config-line)#login</p><p><br></p><p>3.路由器第三道防線：enable密碼</p><p>R1(config)#enable password ccna</p><p>R1(config)#enable secret ccnp 明文加密</p><p>*當enable password & enable secret同時共存時，enable secret生效，演示現象</p><p>R1(config)#service password-encryption 對所有明文密碼加密</p><p>R1(config)#no service password-encryption</p><p>*密碼加密服務一旦打開，即使後期關閉，被加密的密碼信息也無法被還原（單項加密，慎重使用！）</p><p>配標語（莊重嚴肅警告）：</p><p>R1(config)#banner motd "××××"</p><p>*以第一個符號為起始符和終止符！</p><p><br></p><p>12：遠程登錄</p><p>一、Telnet遠程登錄（被訪問者的線路、enable密碼都要先配置好，否則無法登錄）</p><p>Telnet核心配置：</p><p>PC>telnet 192.168.1.1</p><p>若沒有線路密碼，就無法登錄！</p><p>R1(config)#line vty 0 4</p><p>R1(config-line)#password ccie</p><p>R1(config-line)#login</p><p>刪除login後的現象、使用本地用戶名和密碼</p><p>R1(config)#username jiance password ccna</p><p>R1(config)#line vty 0 4</p><p>R1(config-line)#login local</p><p>PC>telnet 192.168.1.1</p><p>R1會要求輸入用戶名和密碼</p><p>Login像防盜門，password像鑰匙</p><p><br></p><p>SSH核心配置:（保護對IOS設備的遠程訪問，SSH流量加密）</p><p><br></p><p>1.修改hostname</p><p>R1（config）#host R1</p><p><br></p><p>2.給路由器新建一個域名</p><p>R1(config)#ip domain-name cisco.com</p><p><br></p><p>3.給路由器新建一個用戶名和密碼（共後續SSH登錄時驗證使用）</p><p>R1(config)#username ccie password ccie</p><p><br></p><p>4.用上述的hostname和域名形成RSA加密密鑰(對稱加密)</p><p>R1(config)#crypto key generate rsa</p><p><br></p><p>5.VTY線路配置：</p><p>將連接進入配置的遠程登錄協議限制為SSH</p><p>R1(config-line)#transport input ssh</p><p><br></p><p>6.將vty線路的認證設置為利用本地數據庫進行驗證（即用username、password組合進行驗證）</p><p>R1(config-line)#login local</p><p>對被訪問者設置enable密碼</p><p>利用PC等終端測試SSH的有效性：ssh -l ccie 192.168.1.1</p><p><br></p><p>13：路由器的破密碼</p><p>原理：</p><p>利用路由器的啟動順序）</p><p>25系列以上</p><p>*路由器正常的配置寄存器的值：加載配置：0x2102(通過修改該值) 不加載配置：0x2142</p><p>1.關機、重啟</p><p>2.路由加載過程中，按住break鍵(ctrl+Fn+break),將路由器引導到rommon模式</p><p>3.Rommon 1>confreg 0x2142，修改配置寄存器的值</p><p>4.Rommon 2>reset，重啟</p><p>5.Router#copy start-config running-config，啟動完成後，計入特權模式</p><p>6.刪除、修改密碼</p><p>注意：如果是在實際工程環境中，完成上述工作後，還需要做兩件事情。</p><p>1. 修改完密碼後，需要保存配置，否則之前的密碼還是放在配置文件中；</p><p>2. 把配置寄存器的值修改為0x2102，因為如果是0x2142 的話，下次路由器的配置文件不會被加載。</p><p>在正常的IOS 中修改配置寄存器的值如下：</p><p>7.Router(config)#config-register 0x2102（將配置寄存器的值再改回來）<br></p><p>8.Router#copy running-config start-config</p><p>9.保存配置，重啟配置</p><p><br></p><p>25系列</p><p>1.關機、重啟</p><p>2.路由加載過程中，按住break鍵(ctrl+Fn+break),將路由器引導到rommon模式</p><p>3.Rommon 1>o/r 0x2142，修改配置寄存器的值</p><p>4.Rommon 2>reload 重啟</p><p>之前的一樣。</p><p><br></p><p><strong>第二天（以太網組成、SW工作原理、VLSN、TRUNK、VTP、SW安全、SW破密碼）</strong></p><p>3：LAN介紹</p><p>1.LAN使用的組件</p><p>線纜（cable）：局域網的距離擴展通常需要通過線纜來實現，不同的局域網有不同連接線纜，如光纖（fiber）、雙絞線（twisted pair）、同軸電纜等。</p><p>網卡（NIC，Network Interface Card）插在計算機主板插槽中，負責將用戶要傳遞的數據轉換為網絡上其它設備能夠識別的格式，通過網絡介質傳輸。</p><p>集線器（Hub）是單一總線共享式設備，提供很多網絡接口，負責將網絡中多個計算機連在一起。</p><p>交換機（Switch）它同樣具備許多接口，提供多個網絡節點互連。但它的性能卻較共享集線器大為提高，交換機還具備集線器欠缺的功能，如數據過濾、網絡分段、廣播控制等。</p><p>路由器（Router）： 路由器是一種用於網絡互連的計算機設備，它工作在 OSI 參考模型的第三層（網絡層），為不同的網絡之間數據的轉發尋找路徑。</p><p>協議：以太網，IP，ARP,DHCP</p><p>2.LAN的功能</p><p>3.提供數據和應用程序</p><p>4.資源共享</p><p>5.提供去往其他網絡的通信路徑</p><p><br></p><p>3.以太網的發展</p><p>LAN中所用到的技術有ethernet和IEEE802.3</p><p>1973年有Xerox公司研發出了以太網的雛形，到了1982年由DIX:DEC公司INTEL公司XEROR施樂公司三家公司進行了標準化，當時的傳輸速度有10M/s。直到2002年，由IEEE組織重新制定了一個IEEE802.3標準，由於ethernet技術比較成熟，現在我們用得最多的也就是ethernet。</p><p>4.CSMA/CD</p><p>我們說二層-數據鏈路層有交換機和集線器兩個主要設備，在早期的網絡中主要是集線器，集線器的工作原理比較簡單，當然也存在著很多不足，集線器組成的網絡叫做共享式以太網，存在的缺點就是許多主機共享這條線路，多臺主機同時發送數據時就會出現很多衝突，數據產生衝突，給我們的直接影響是出具出錯或者網速很慢很慢，為了解決這個問題，有一種技術叫做CSMA/CD載波偵聽多路訪問衝突檢測。</p><p>A.工作原理：</p><p>載波偵聽：監聽這條線路是否有人使用</p><p>多路訪問：所有設備用相同的線路去傳輸</p><p>衝突檢測：如果有人使用就等待，多人同時發，所有人同時發，百兆的傳輸介質一般只有二十兆的傳輸速率</p><p>3：交換機</p><p>局域網中交換機是非常重要的網絡設備，負責主機之間快速的數據轉發。</p><p>工作原理：</p><p>依靠MAC地址轉發數據幀，在交換機內部，存放著MAC地址表，交換機就是依賴於MAC地址表進行轉發的。當交換機收到一個數據幀的時候，交換機會將該數據幀的源MAC地址以及收到該數據幀的接口寫入自己的MAC地址表中，當交換機收到一個目標MAC不明確的數據幀（MAC地址表中沒有目標MAC的條目），交換機會在所有接口發送該數據幀（廣播、泛洪）。</p><p>MAC</p><p>這裡涉及到一個重要的概念-MAC地址，是用於數據鏈路層數據轉發時尋找路徑用的，MAC地址固化到我們設備的網卡上，理論上是MAC不會重複，是全球唯一的。</p><p>MAC地址的長度是48bite，並且以十六進制數表示，0~9和A~F，8個bite為一個字節共6個字節，為了方便讀取，我們通常採用點隔開十六進制數，例如：FFFF.FFFF.FFFF或者FF:FF:FF:FF:FF:FF</p><p>MAC目的地址的類型：</p><p>廣播：所有的</p><p>組播：一組設備</p><p>單播：一臺設備</p><p>雙工方式：</p><p>半雙工：設備可發送、接受數據，不能同時進行。用於共享介質連接的網絡</p><p>全雙工：同時收發</p><p>網橋支持半雙工，交換機支持兩者</p><p>CSMA/CD只能工作在半雙工狀態。</p><p>查看交換機的MAC地址表</p><p>Sw1#sh mac-address-table 查看</p><p>4：Vlan</p><p>VLAN的優點：</p><p>具有靈活性：打破了每個部門必須住在一個固定的區域，一個交換機上可以有對個VLAN，一個VLAN 也可以跨越多個交換機，VLAN 不夠到地裡範圍的限制</p><p>將網絡分段：一個VLAN就是一個獨立的邏輯網段，</p><p>提高了安全性：不同的VLAN配置了不同的邏輯網段，那麼需要路由器來連接並進行VLAN之間的通信，我們可以在路由器上做很多安全的策略</p><p>為組織設計VLAN：</p><p>VLAN 的設計必須考慮好如何實施分層的網絡編址，分層編址的好處有：</p><p>易於管理同時易於排出故障：我們在分配地址時，基本上會分配連續的地址，這樣方便與網絡管理以及可以及時找出錯誤所在。</p><p>將錯誤量最小化：層次化編址還可以減少重複分配等等</p><p>可以減少路由條目：</p><p>園區網架構的模型：</p><p>接入層：（1900、2900、2960系列）</p><p>匯聚層：（3550、3560、4503系列）</p><p>核心層：（3550、3560、4503、6509系列）</p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/560c6c61-6b8b-45fd-9f08-02aa79278e3f><p class=pgc-img-caption></p></div><p><br></p><p>成員關係：</p><p>（1）靜態VLAN: 手動把接口放到某個VLAN中。</p><p>（2）動態VLAN：利用VMPS服務器，將PC的MAC地址和VLAN綁定。</p><p>（3）語音VLAN：自動識別語音數據</p><p>5：Trunk</p><p>（1）作用：在交換機之間，傳遞多個VLAN的數據</p><p>（2）如何識別不同的VLAN數據？</p><p>a.思科私有ISL：(NP)</p><p>b.國際標準802.1Q：VLAN Tag：在以太網的數據幀之間插入VLAN Tag</p><p>Sw1(config-if)#switchport trunk encapsulation dot1q 規定Trunk封裝，NA只是用的是2950交換機，默認是dot1Q.</p><p>Sw1(config-if)#switchport mode trunk 確認Trunk,手工強做成Trunk</p><p>Sw1#show interface trunk 確認接口是trunk模式</p><p>鏈路兩端的封裝一定要一致，（802.1Q-802.1Q;ISL-ISL）；</p><p>兩端的NATIVE VLAN要一致；一般把流量較大的接口劃入native　vlan中！</p><p>劃分VLAN：</p><p>Sw1#show vlan brief</p><p>Sw1(config)#vlan 100</p><p>Sw1(config-vlan)#name teacher改VLAN名字</p><p>將接口放入VLAN中</p><p>確認端口模式（ACCESS）</p><p>Sw1(config-if)#switchport mode access</p><p>將接口劃到相應的VLAN</p><p>Sw1(config-if)#switchport access vlan 100</p><p>Sw1(config)#int range fa 0/1 - 10,fa 0/18對一些端口同時進行操作</p><p>Sw1(config)#no vlan 100</p><p>刪除VLAN之前，要確認VLAN下沒有接口，把已有的接口放到其他的VLAN內，否則sh vlan brief將看不到相應的接口，雖然不影響對這些接口的其他操作。</p><p>交換機重啟後，即便之前沒有保存VLAN，VLAN依然存在。</p><p>6：VTP</p><p>思科私有的</p><p>三種模式：</p><p>服務器:</p><p>可以添加、刪除和更改VLAN</p><p>學習/轉發相同域名的VTP消息</p><p>VLAN信息寫入NVRAM</p><p>客戶端:</p><p>不可以添加、刪除和更改VLAN</p><p>學習/轉發相同域名的VTP消息</p><p>VLAN信息不寫入NVRAM</p><p>透明模式:</p><p>可以添加、刪除和更改本地VLAN</p><p>不學習只轉發相同域名的VTP消息</p><p>VLAN信息寫入NVRAM</p><p>條件：</p><p>a.Trunk必須正常</p><p>b.所有交換機必須處於同一個VTP的域名下，且域名是大小寫敏感。</p><p>默認情況下，域名為空NULL，只有當服務器域名從空到有時開始傳輸VLAN信息。</p><p>VTP在默認情況下，是開啟的。交換機默認的VTP的模式都是Server.</p><p>Sw1#sh vtp status查看VTP信息</p><p>Sw2(config)#vtp mode client</p><p>Sw1(config)#vtp mode transparent</p><p>Sw1(config)#vtp domain Cisco</p><p>VTP到底是誰同步誰，與VTP的模式無關，服務器也可以從客戶端學習，而與配置版本號有關</p><p>configuration revision大的去同步小的；</p><p>每對VLAN做一次操作，不論是添加，刪除還是修改，configuration revision都+1</p><p>VLAN更新信息有兩種形式：5分鐘定時更新+只要存在VLAN信息的變化立即觸發更新</p><p>VTP修剪：</p><p>通過阻止不必要的數據泛洪來節約可用的帶寬，默認關閉</p><p>6：交換機的安全</p><p>硬件威脅：防盜</p><p>環境威脅：保持乾淨（溫度、溼度）</p><p>電力威脅：儘量不要斷電！UPS不間斷電源，防止意外斷電</p><p>配置威脅：密碼</p><p>7：交換機破密碼</p><p>1、設置交換機加密並保存配置</p><p>Switch#copy running-config startup-config</p><p>Switch#reload 重起交換機。當交換機重起時，按住交換機前面板的Mode 鍵不放</p><p>2.修改啟動文件名</p><p>switch: flash_init-------------------初始化flash 。</p><p>switch: dir flash:-------------顯示flash 中的文件</p><p>3.修改配置文件名</p><p>switch: rename flash:config.text flash:config.old 將啟動配置文件改名，這樣交換機啟動時就讀不到 config.text 了，從而沒有了密碼。</p><p>4.重啟交換機</p><p>switch: boot--------------引導系統，這時不再按住Mode 鍵了。</p><p>5.修改密碼</p><p>Switch>en</p><p>Switch#show flash</p><p>2 -rwx 1193 Mar 01 1993 00:01:20 config.old 啟動文件名被修改所以不會被加載。</p><p>Switch#rename flash:config.old flash:config.text 將啟動的文件名改回到正常的文件名。</p><p>Switch#copy flash:config.text running-config</p><p>Switch(config)#no enable password-----------刪除密碼。</p><p>Switch(config)#line con 0</p><p>Switch(config-line)#no password-------------刪除控制檯的密碼。</p><p>Switch(config-line)#no login----------------不要求密碼驗證。</p><p>6．保存配置文件</p><p>Switch#copy running-config startup-config 將密碼刪除後的配置文件保存。</p><p>Switch>en</p><p>Switch# 很明顯沒要求密碼驗證。密碼已被刪除。</p><p><br></p><p>CDP</p><p>思科發現協議，思科私有的</p><p>1.作用：用來發現和思科設備直接相連的其他思科設備的信息；（思科設備在默認情況下，CDP都是開啟的）</p><p>2.命令：</p><p>Sw1#sh cdp neighbors</p><p>Sw1#sh cdp neighbors detail</p><p>*實際應用中，安全起見，最好把全網的CDP關閉！！！</p><p>Sw1(config)#no cdp run</p><p>Sw1(config-if)#no cdp enable</p><p>*先開接口後改名字，鄰居會學到重複的信息，要等holdtime結束</p><p>IOS備份升級</p><p><br></p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/c643b71a-2b20-4b12-83d3-526189dc2b86><p class=pgc-img-caption></p></div><p><br></p><p>備份IOS到服務器上</p><p>說明：給接口、PC配地址，IOS以.bin文件保存在路由器的FLASH內，</p><p>Router#show flash:</p><p>3 5571584 c2600-i-mz.122-28.bin</p><p>Router#copy flash: tftp:</p><p>Source filename []? c2600-i-mz.122-28.bin</p><p>Address or name of remote host []? 192.168.1.2</p><p>Destination filename [c2600-i-mz.122-28.bin]?</p><p>Writing c2600-i-mz.122-28.bin!!!!!!!!!!!!!!</p><p>升級IOS：</p><p>過程與備份相反</p><p>Router#copy tftp: flash:</p><p>Address or name of remote host []? 192.168.1.2</p><p>Source filename []? c2600-i-mz.122-28.bin</p><p>Destination filename [c2600-i-mz.122-28.bin]?</p><p>Writing c2600-i-mz.122-28.bin!!!!!!!!!!!!!!</p><p>網絡層</p><p>網絡層主要實現的內容是：</p><p>1.定義用於網絡層的邏輯地址；</p><p>2.基於邏輯地址尋找到到達目的設備的路徑；</p><p>IP的特點</p><p>1.在網絡層；</p><p>2.無連接，即不可靠；</p><p>3.數據包是獨立處理（一個一個處理）；</p><p>4.層次化的編制；</p><p>5.盡力而為發送；</p><p>6.沒有數據恢復的功能；</p><p>1.IP Address</p><p>1.由網絡位、主機位組成，IP地址＋子網掩碼：確定網絡位！！</p><p>2.PDU:version:IPv4:點分十進制；</p><p><br></p><p>3.TTL(time to live)：防止包被無休止的傳輸（包每經過一個路由器TTL減1，當其為0且包還未達目的時，該包就被丟棄。TTLmax=255）</p><p>4.IP空間大小：IPv4:2^32;</p><p><br></p><p>5.IP分類</p><p>A類:0xxx xxxx(第１個八位位組的第1個比特為0，默認情況下，前8位為網絡位，後24位為主機位)</p><p>B類:10xx xxxx</p><p>C類:110x xxxx</p><p>　　　*127開頭的：測試用 127.0.0.1測試本機網管是否正常，數據包從本地出發最後回到本地，只要網管是正常的肯定是通的；</p><p>主機位全0：網絡IP地址，表示一段IP地址的集合。</p><p>例如：192.168.1.0(192.168.1.1--192.168.1.254)</p><p>主機位全１：廣播IP地址。例如：192.168.1.255</p><p>私有地址：在企業內部使用，無法在互聯網上通信。開始使用IP add時沒有考慮到會用光耗盡，那麼如果企業不需要訪問外網只要內部進行 就交流，我們可以使用私有的地址。</p><p><br></p><p>A:10.0.0.0--10.255.255.255</p><p>B:172.16.0.0--172.31.255.255</p><p>C:192.168.0.0--192.168.255.255</p><p><br></p><p>DNS(domain name survice)域名解析服務：</p><p>平時上網是在地址欄輸入www.xxx.com，可是互聯網不認識這個，需要一個東西來做域名&lt;—>IP add的映射</p><p>Ns lookup</p><p>Google dns 8.8.8.8</p><p>Jiangsu dns 218.2.135.1</p><p>*命令：Ip configure all:</p><p><br></p><p>DHCP</p><p>1.優點：</p><p>5.減少管理員的配置量</p><p>6.減少錯誤</p><p>7.集中管理IP</p><p>2.DHCP地址分配方式：</p><p>6.手工分配：根據需要為某些少數特定主機（DNS服務器、打印機）綁定固定的IP地址，地址不會過期。</p><p>7.自動分配：為連接到網絡的某些主機主動的分配IP地址，該地址將長期由該主機使用。</p><p>8.動態分配：主機主動申請IP地址，服務器為其制定一個IP地址，同時規定此地址租期。</p><p>3.工作原理：</p><p><br></p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/ab7bb8b3-5b27-4e04-ae9b-1c53e5984661><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/17cecbdefcb04587a0b559e0a46eda10><p class=pgc-img-caption></p></div><p><br></p><p>二層可不講</p><p>重新登錄：</p><p>客戶機每重新登錄時，不需再發送DHCPdiscover，而是直接發送包含前一次所分配的IP地址的DHCPrequest請求信息。當服務器收到信息後，它會嘗試讓客戶機繼續使用原來的IP地址，並回答一個DHCPack確認信息。如果此IP地址已無法再分配給原來的客戶機使用（此IP地址已分配給其它客戶機使用），則服務器給客戶機回答一個DHCPnack否認信息。當原來的客戶機收到此DHCPnack否認信息後，它就必須重新發送DHCPdiscover發現信息來請求新的IP地址。</p><p>更新租約：</p><p>服務器出租的IP地址一般都有一個租期，期滿後服務器便會收回出租的IP地址。如果客戶機要延長IP租約，必須更新其IP租約。客戶機啟動時和IP租約期限過一半時，客戶機都會自動向DHCP服務器發送更新其IP租約的信息。</p><p>為了便於理解，我們把DHCP客戶機比做餐館裡的客人，DHCP服務器比做服務員（一個餐館裡也可以有多個服務員），IP地址比做客戶需要的食物。那麼可以這樣描述整個過程：客人走進餐館，問：“有沒有服務員啊？”（DHCPdiscover），多個服務員同時回答：“有，我這有雞翅”“有，我這有漢堡”（DHCPoffer）。客人說：“好吧，我要一份漢堡”（DHCPrequest，這個客人比較死板，總是選擇第一次聽到的食物），端著漢堡的服務員迴應了一聲：“來啦”（DHCPack），並把食物端到客人面前，供其享用（將網卡和IP地址綁定）。客人下次來的時候，就直接找上次那個服務員點自己喜歡的漢堡了（DHCPrequest），如果還有漢堡，服務員會再次確認並上菜（DHCPack），而如果已經賣完了，服務員則會告訴客人：“不好意思，已經賣完了”（DHCPnack）。當然，服務員隔一段時間會來收拾一次桌子，除非客人特別說明這菜還要繼續吃的，服務員會將剩菜端走。</p><p>8.路由器模擬DHCP　SERVER的完整配置：</p><p>（1）給路由器端口配ip；</p><p>（2）在路由器上新建立一個dhcp的地址池；</p><p>DHCP(config)#ip dhcp pool ccna</p><p>（3）在DHCP地址池裡放入一段ip地址</p><p>DHCP(dhcp-config)#network 192.168.1.0　255.255.255.0</p><p>（4）在dhcp server裡分給客戶PC網關ip地址</p><p>DHCP(dhcp-config)#default-route 192.168.1.1</p><p>（5）在dhcpserver裡給客戶分配ｄｎｓ服務器地址</p><p>DHCP(dhcp-config)#dns-server 218.2.135.5</p><p>（6）在DHCP地址池裡刪除已經被使用或者被保留的ip地址</p><p>DHCP(config)#ip dhcp excluded-address 192.168.1.1 192.168.1.10</p><p>該例：表示將1.1--1.10的地址保留下來，DHCP從1.11開始分配</p><p>子網。</p><p>掩碼</p><p>與目的地址一起來標識目的主機或路由器所在的網段的地址。將目的地址和網絡掩碼“邏輯與”後可得到目的主機或路由器所在網段的地址。例如：目的地址為8.1.1.1，掩碼為255.0.0.0 的主機或路由器所在網段的地址為8.0.0.0。掩碼由若干個連續“1”構成，既可以用點分十進制表示，也可以用掩碼中連續“1”的個數來表示。</p><p>（111***111000***000,一共24位）</p><p>1.網絡號一樣的IP屬於同一網絡，可以通過交換機直接通信！</p><p>2.子網的劃分：從主機位的高位開始借位，每借n位，網絡就被分為2^n份；</p><p>192.168.1.0/24　或者192.168.1.0 255.255.255.0/24 24表示有位網絡位；</p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/07df452a071e4eefbbff814478cdf2a9><p class=pgc-img-caption></p></div><p><br></p><p>VLSM</p><p>前言：</p><p>把一個網絡劃分成多個子網，要求每一個子網使用不同的網絡標識 ID。但是每個子網的主機數不一定相同，而且相差很大，如果我們每個子網都採用固定長度子網掩碼，而每個子網上分配的地址數相同，這就造成地址的大量浪費。這時候我們可以採用變長子網掩碼（VLSM，Variable Length SubnetMasking）技術，對節點數比較多的子網採用較短的子網掩碼，子網掩碼較短的地址可表示的網絡/子網數較少，而子網可分配的地址較多；節點數比較少的子網採用較長的子網掩碼，可表示的邏輯網絡/子網數較多，而子網上可分配地址較少。這種尋址方案必能節省大量的地址，節省的這些地址可以用於其它子網上。</p><p>掩碼一定是大於主類掩碼！</p><p>做子網劃分的時候，一定要從主機數目最多的網段開始劃分！</p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/1155819c-ec26-40cb-9bbe-b06afb8995d4><p class=pgc-img-caption></p></div><p><br></p><p>方法一：</p><p>（1）先把規定的網段的範圍確定下來；</p><p>（2）在根據每個子網的大小，在網段範圍內劃分</p><p>端口安全</p><p>實驗要求：</p><p>1．啟用端口的安全措施</p><p>2．限制fa0/23口最大允許訪問量為1</p><p>3．採取的安全措施為保護，限制或關閉</p><p>4．常用的交換機命令</p><p>實驗過程：</p><p>S1(config)#interface fastethernet 0/23</p><p>S1(config-if)#switchport mode 確定端口模式</p><p>S1(config-if)#switchport port-security啟動交換機的端口安全特性，必須打不能省略</p><p>iance(config-if)#switchport port-security mac-address aaaa.aaaa.aaaa 將地址綁定在接口 0/23 上。</p><p>S1(config-if)#switchport port-security maximum 1 設置可以安全訪問的用戶有 1 個。</p><p>iance(config-if)#switchport port-security violation shutdown</p><p>設置當接口上的訪問違反了安全特性時，所採用的懲罰措施。懲罰措施有保護、限制和關閉。關閉：當新的當新的計算機接入時，如果該接口的 MAC 條目超過了最大數目，則該接口將會被關閉，則這個新的計算機和原來的計算機都無法接入，需要管理員使用“no shutdown”命令從新打開。</p><p>實驗檢測：</p><p>用一根直通線將PC 和交換機的0/23 口相連，查看0/23 接口上的指示燈的變化情況。如果由橙色經過大約 50 秒的時間變為綠色後再立即關閉，說明實驗成功</p><p>查看以太口</p><p>S1#show interfaces fastethernet 0/23</p><p>FastEthernet0/23 is down, line protocol is down (err-disabled)</p><p>Hardware is Fast Ethernet, address is 000c.3051.5617 (bia 000c.3051.5617)</p><p>表示是出現錯誤時，關閉了接口。</p><p><br></p><p><strong>第四天（路由介紹、單臂路由、靜態路由、RIP、EIGRP、OSPF）</strong></p><p>4：路由簡介</p><p>9.IP地址：IP地址我們在之前的課程中跟大家講過其實就是用來唯一標示一臺PC的</p><p>10.網段：是用來標示一組PC的</p><p>11.路由：去往某個網段的路徑我們就稱作路由，我們可以理解為網段。比如說我們公司有三個部門，每個部們分數不同的網段，對應於路由器來說就是三個不同的路由信息</p><p>12.路由器：我們在第一天的課上就講過，路由器對有收到的數據進行轉發，它能夠決定從1號口收到的數據是從2、3、4哪個口轉發，路由器就可以做這樣的決策，就是依賴於路由器上存放的一張路由表進行的。</p><p>13.路由表：路由表由兩部分組成：網段+出接口，路由表可以告訴路由器A你想去往10.2.2.0網段必須從4接口出去。</p><p>14.路由協議：路由器知道所有自身接口下所配的IP地址，稱作--直連，那麼A想知道B的信息，它們兩個可以交換彼此的直連信息，這種交換方式稱作路由協議，當然路由協議有很多種。就像大家的手機一樣，你想告訴朋友某人的手機號碼，你可以直接報號碼，也可以導成信息的形式發送，或者導成表格的形式，大家可以發現，隨著手機越來越只能，交換方式也越來越新穎，路由協議也一樣，最簡單的形式是直連路由，還有其他路由形式，比如靜態，就像它的名字一樣，很被動的接受你給它的命令，是一種指哪去哪的形式，比如，對於A1來說，它想去B6，告訴它你必須從A4出去，如果哪天我將B6接口下的地址改掉了，A1還是會按照之前的指令出去，這就是靜態，雖然簡單，但是太不靈活。有其他的方式來規避這種不靈活，就是動態協議，其實就是A於B能夠定期的交換彼此自身接口下的地址，這種動態的交換方式我們稱作動態路由協議，顯然動態路由協議還有一些分類。那麼大家先來看看對於A來說，它知道自己身後連了192.168.1.0網段，而工程師告訴它你要去192.168.1.0你必須從A4出去，A是信任直連還是信任靜態呢--肯定是直連麼，這就是多種方式之間的優先順序了，我們認為最好的是直連，這些獲取路由方式之間是有優劣的，比較優劣的參考就是管理距離值了，值越小越好，思科認為直連最可靠--0，其次是靜態--1.</p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/5c1d381b-afd2-4d00-b9fa-2e57380221c3><p class=pgc-img-caption></p></div><p><br></p><p>5：單臂路由</p><p>前言：</p><p>2個不同的VLAN相當於兩個不同的子網，那麼我們用交換機肯定不可以通信，此時需要路由器，子接口的創建（主接口只需打開，不需要配IP）</p><p>配置：</p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/56a4beb0-236f-467e-8aff-69fc533538cd><p class=pgc-img-caption></p></div><p><br></p><p>R1#configure terminal</p><p>R1(config)#interface fastEthernet 0/0</p><p>R1(config-if)#no shutdown 路由器接口默認關閉的</p><p>R1(config)#interface fastEthernet 0/0.2</p><p>R1(config-subif)#encapsulation dot1Q 2 2:表示該子接口劃入VLAN２</p><p>R1(config-subif)#ip add 192.168.2.1 255.255.255.0</p><p>R1(config)#interface fastEthernet 0/0.3</p><p>R1(config-subif)#encapsulation dot1Q 3</p><p>R1(config-subif)#ip add 192.168.3.1 255.255.255.0</p><p>交換機</p><p>SW1#configure terminal</p><p>SW1(config)#vlan 2</p><p>SW1(config)#vlan 3</p><p>SW1(config)#interface fastEthernet 0/2</p><p>SW1(config-if)#switchport mode access</p><p>SW1(config-if)#switchport access vlan 2</p><p>SW1(config)#interface fastEthernet 0/3</p><p>SW1(config-if)#switchport mode access</p><p>SW1(config-if)#switchport access vlan 3</p><p>SW1(config-if)#end</p><p>SW1#show vlan</p><p>SW1#configure terminal</p><p>SW1(config)#interface fastEthernet 0/24</p><p>SW1(config-if)#switchport mode trunk</p><p>SW1(config)#interface fastEthernet 0/23</p><p>SW1(config-if)#switchport mode trunk</p><p>SW2做相同配置</p><p><br></p><p>6：RIP</p><p>工作原理：</p><p>基於距離矢量算法；版本1和2；每隔30秒，全網廣播一次完整的路由表。Rip學習路由的方式：謠言機制、聽信謠言的機制。</p><p>Rip的配置</p><p>如何刪除靜態路由</p><p>啟動Rip：</p><p>R1(config)#router rip</p><p>在Rip進程中，通告自己知道的網段信息（主類通告即可）：</p><p>R1(config-router)#network 192.168.1.0</p><p>R1(config-router)#network 192.168.2.0</p><p>*不連續子網問題（有類路由協議）的解決方法：使用無類路由協議</p><p>R1(config-router)#ver 2 發送２版本的Rip</p><p>Ripv2雖然是一個無類路由協議，但是默認情況下，開啟了自動彙總的功能。</p><p>自動彙總：當路由器跨越主類網絡邊界的是奇偶，Rip會將網段自動的彙總成主類網絡，通告給下一跳路由。所以配置Ripｖ２的時候，一定要記得，將自動彙總關閉掉，否則，無法體現其作為無類路由協議的優點。</p><p>在Rip進程下，</p><p>R1(config-router)#no auto-summary要記得！！！</p><p>R2#clear ip route *</p><p>手動彙總</p><p>手動彙總一定在路由更新方向的出接口上---於用戶數據傳遞方向相反</p><p>R1(config-router)#ip rip summary-address</p><p>Rip的防環機制</p><p>7.水平分割（split　horizon）：路由器從一個接口收到的路由更新，不會再從這個接口發出來，但是數據還可以從該端口進出。默認情況下，水平分割是開啟的。</p><p>8.毒性逆轉（poison reverse）：路由中毒</p><p>9.Hold-down timer計時器：180ｓ，當路由器感知到某個網段不可達的時候，路由器會將該網段置為possibly down狀態，並且啟動Hold-down timer計時器，並且在180ｓ內，任何其他路由器通告的關於該網段的可達性目標，都被忽略，不會引起路由表的變化。</p><p>10.觸發更新：一出問題就通知其他路由，僅在Ｓ口下敲出觸發更新的命令（接口下：IP）</p><p>補充說明：</p><p>Rip一跳數最後度量值。</p><p>Rip的有效可達距離是15跳，第16跳不可達。</p><p>Rip最多支持16條路徑的等價負載均衡，默認只支持４條。</p><p>Rip每30ｓ發送一次更新（週期更新）。</p><p>Rip V1 有類的，廣播方式更新</p><p>V2 無類的，組播方式更新-224.0.0.9</p><p>7：EIGRP</p><p>特點：</p><p>(1)收斂很快</p><p>(2)百分百無環的路由協議</p><p>(3)支持部分更新--第一次全部更新</p><p>(4)採用組播和單播更新--224.0.0.10</p><p>(5)唯一一個既支持等價負載均衡，也支持非等價負載均衡的路由協議</p><p>(6)支持VLSM和不連續子網問題（它是一個無類路由協議）</p><p>工作原理：</p><p>首先，兩臺運行EIGRP的路由器，互相發送Hello報文（5s一次，15s有效），形成EIGRP的鄰居關係。然後，雙方互相通告自己知道的網段信息。最後，每臺路由器優選Metric小的路由協議到自己的路由表。</p><p>每一個EIGRP的進程，在路由器中都會維護三張表－－</p><p>(1)鄰居表：雙方發完Hello報文後形成 R#show ip eigrp neighbors</p><p>(2)拓撲表：雙方通告完網段信息後形成，包含所有從鄰居處學來的路由 R#show ip eigrp topology</p><p>(3)路由表：優選完路徑後形成 ，挑選出來最佳的路由條目</p><p>配置</p><p>（1）啟動EIGRP協議</p><p>R1(config)#router eigrp ｘ x:自制系統號</p><p>（2）關閉自動彙總</p><p>R1(config-router)#no auto-summary</p><p>（3）通告自己知道的網段</p><p>R1(config-router)#network 192.168.1.0</p><p>R2....</p><p>EIGRP鄰居關係形成的條件－－AS號要保持一致，K值要一致</p><p>修改</p><p>R1(config)#no router eigip 100 實驗時，做不同的協議時，要將之前的協議刪除！</p><p>查看三張表：</p><p>R2#sh ip eigrp neighbours鄰居表</p><p>R2#sh ip eigrp topology拓撲表</p><p>R2#sh ip route路由表</p><p>D 192.168.1.0/24[90/156160] 　D:代表Eigrp;　90:管理距離;</p><p>8：OSPF</p><p>工作原理：</p><p>首先，兩臺運行OSPF的路由器互相發送的Hello報文，形成鄰居關係。</p><p>然後兩臺路由器泛洪（廣播）LSA（鏈路狀態通告），收集全網所有的LSA。</p><p>路由器將收集到的LSA進行整理，形成OSPF數據庫。</p><p>最後運用SPF算法（締結斯科拉算法），本地計算路由，放進自己的路由表。</p><p>OSPF是一個層次化的路由協議</p><p>因為OSPF是分區域的。他將網絡分為兩種區域內心很高－－骨幹區域（Area 0,任何OSPF都要有骨幹區域）和非骨幹區域。（ＮＡ只研究骨幹區域）若在網絡中還存在非骨幹區域，那麼一定要確保，非骨幹區域和骨幹區域直接相連。</p><p>反掩碼（通配符）：</p><p>掩碼的反嗎，０所對應的位精確匹配，控制參與OSPF協議的網段的範圍。255.255.255.255-掩碼＝反掩碼</p><p>配置：</p><p>(1)啟動OSPF：</p><p>R1(config)#router ospf 100(兩端進程ID號可以不同，本地有效)</p><p>8.通告網段信息：</p><p>R1(config-router)#network 192.168.1.0 0.0.0.255 area 0反掩碼決定網段</p><p>R1(config-router)#network 192.168.1.1 0.0.0.0 area 0　</p><p>(3)查看：</p><p>R1#sh ip ospf neighbour</p><p>串行接口連接路由器</p><p>DCE:DCE端口要配時鐘頻率</p><p>DTE</p><p>R1#sh controllerss 0/0/0 查看</p><p>R1(config-if)#clock rate 64000</p><p>將端口配置好後，再做OSPF</p><p>以太網比串行接口鄰居關係建立慢，因為以太網需要選DR和BDR的環節，串行接口不需要。</p><p>反掩碼：</p><p>反掩碼的作用和子網掩碼很相似。通常情況下反掩碼看起來很象一個顛倒過來的IP 地址子網掩碼，但是用法上是不一樣的。IP 地址與反掩碼的關係語法規定如下：</p><p>在反掩碼中相應位為 1 的地址中的位在比較中被忽略，為0 的必須被檢查。IP 地址與反掩碼都是32 位的數。</p><p>例如：192.168.0.1/24 網段</p><p>用子網掩碼錶示 192.168.0.1 255.255.255.0</p><p>用反掩碼錶示 192.168.0.1 0.0.0.255</p><p>管理距離：</p><p>當一個網絡裡有多個動態協議時，分別告之多條路徑，該如何選擇呢？判斷當在一個網絡裡部署多個路由協議的時候，根據管理距離來選擇最優的路由協議。管理距離越小，路由協議越優先。CISCO自然認為自己的協議是最好的。</p><p>管理距離：直連—0；靜態—0/1；RIP－120；OSPF－110；EIGRP－90；unknown—255；</p><p>Metric：</p><p>當路由器發現去往目的網段有多條可行路徑時，路由器會根據metric選擇一個最優路徑。</p><p>RIP：會根據路徑上經過的路由器的跳數來簡單判斷路徑的好壞，跳數越少，鏈路越優先，但有可能選擇次優路徑。</p><p>OSPF：根據路徑上帶寬來選擇最優路徑，帶寬越大，路徑越優先。</p><p>EIGRP：根據鏈路的帶寬、延遲、可靠性、負載、MTU最大存儲單元來計算Metric。但在默認狀態下，EIGRP只考慮帶寬和延遲。</p><p>不論是RIP，OSPF，EIGRP，Metric值越小越優先。</p><div class=pgc-img><img alt=「思唯網絡學院」CCNA主要知識點彙總，需要的可收藏 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/caffbcfc-be18-48e9-89d2-1837b83a816a><p class=pgc-img-caption></p></div><p>5：靜態路由</p><p>說明：</p><p>下一條地址</p><p>本地數據出接口</p><p>回程路由</p><p>環回口</p><p>默認路由：</p><p>我們知道，當交換機收到一個目的MAC不存在於MAC地址表裡的數據幀，交換機會從所有接口向外轉發；而路由器收到目的IP網段不在路由表裡的數據包，路由器會丟棄。可是對於公司不會花費大成本去買臺服務器回來存全球互聯網上的路由條目，而且互聯網上的網站、網址不斷的在變化，路由表中沒有目的地的條目時會進行丟包，所以我們尋求一種解決辦法，叫默認路由，默認路由絕對是低調做人高調做事的，</p><p>R1(config)#ip 0.0.0.0 0.0.0.0 192.168.2.2</p><p><br><strong>歡迎關注我的頭條號，私信交流，學習更多網絡技術！</strong></p><p><br></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>思唯</a></li><li><a>網絡</a></li><li><a>學院</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E5%AD%B8/2160a588.html alt=「思唯網絡學院」六種基本網絡拓撲結構 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a6011420cebf41d5837652648efdb175 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/2160a588.html title=「思唯網絡學院」六種基本網絡拓撲結構>「思唯網絡學院」六種基本網絡拓撲結構</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/108e918b.html alt=【思唯網絡學院】路由環路知識點總結！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/dfic-imagehandler/b081c476-d4c4-49b8-a862-46434b4ee0a4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/108e918b.html title=【思唯網絡學院】路由環路知識點總結！>【思唯網絡學院】路由環路知識點總結！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ea1bb612.html alt=光纜——未來網絡主導 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e75c1afe12354a93bad8495ad1057693 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ea1bb612.html title=光纜——未來網絡主導>光纜——未來網絡主導</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bdc59733.html alt="網絡詞名場面是什麼意思 名場面是什麼梗" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bdc59733.html title="網絡詞名場面是什麼意思 名場面是什麼梗">網絡詞名場面是什麼意思 名場面是什麼梗</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a002ca18.html alt=王一博那句年度網絡流行語「不愧是我」的：正版英文翻譯 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/26add5cdc08e4214800b25e21b623eb1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a002ca18.html title=王一博那句年度網絡流行語「不愧是我」的：正版英文翻譯>王一博那句年度網絡流行語「不愧是我」的：正版英文翻譯</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ad6f0929.html alt=谷歌大腦發佈神經網絡的「核磁共振」，並公開相關代碼 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/65c4000bda98898dcdbb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ad6f0929.html title=谷歌大腦發佈神經網絡的「核磁共振」，並公開相關代碼>谷歌大腦發佈神經網絡的「核磁共振」，並公開相關代碼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8dce33e7.html alt=理解生成對抗網絡，一步一步推理得到GANs（一） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/bee194d6fbec4d6f82e82998def3f7a3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8dce33e7.html title=理解生成對抗網絡，一步一步推理得到GANs（一）>理解生成對抗網絡，一步一步推理得到GANs（一）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1fe1c2dd.html alt=瞭解生成對抗網絡（GAN） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/634604de44ad4d17931ccc0bcf3e46ef style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1fe1c2dd.html title=瞭解生成對抗網絡（GAN）>瞭解生成對抗網絡（GAN）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2a9a3956.html alt="100 個網絡基礎知識普及，看完成半個網絡高手！" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/955ea722-be77-4b2d-b87a-64a8a04c8ea8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2a9a3956.html title="100 個網絡基礎知識普及，看完成半個網絡高手！">100 個網絡基礎知識普及，看完成半個網絡高手！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/78c87167.html alt=奧迪A7車載電路與網絡連接之網絡連接 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d34213e3b03545bd8e87ab074b54ca0f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/78c87167.html title=奧迪A7車載電路與網絡連接之網絡連接>奧迪A7車載電路與網絡連接之網絡連接</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8a15db0b.html alt=網絡上共享跨平臺的點對點文件 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/666bf87a9e16425ea1c9adc4f2c10acd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8a15db0b.html title=網絡上共享跨平臺的點對點文件>網絡上共享跨平臺的點對點文件</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2b6ecb90.html alt=網絡基礎知識術語你知道哪些？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2b6ecb90.html title=網絡基礎知識術語你知道哪些？>網絡基礎知識術語你知道哪些？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6474ccee.html alt=點對點網絡的基本知識分享 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8678a34470a144ad88fc0487f0d8da91 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6474ccee.html title=點對點網絡的基本知識分享>點對點網絡的基本知識分享</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a61e29b6.html alt="幫助信息網絡犯罪活動罪 | 廈門刑事律師--辦案資料" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a61e29b6.html title="幫助信息網絡犯罪活動罪 | 廈門刑事律師--辦案資料">幫助信息網絡犯罪活動罪 | 廈門刑事律師--辦案資料</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ded83afe.html alt=博士論文摘要｜馬下平：“陸態網絡”並址站歸心基線精密解算及GNSS基準站數據處理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/53350006726e50ef72f9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ded83afe.html title=博士論文摘要｜馬下平：“陸態網絡”並址站歸心基線精密解算及GNSS基準站數據處理>博士論文摘要｜馬下平：“陸態網絡”並址站歸心基線精密解算及GNSS基準站數據處理</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>