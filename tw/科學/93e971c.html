<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>系統引導 Legacy+MBR 和UEFI+ GPT | 极客快訊</title><meta property="og:title" content="系統引導  Legacy+MBR 和UEFI+ GPT - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/a4c912073bc343d2ab936837bfb4d7db"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/93e971c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/93e971c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/93e971c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/93e971c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/93e971c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/93e971c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/93e971c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/93e971c.html><meta property="article:published_time" content="2020-10-29T21:03:57+08:00"><meta property="article:modified_time" content="2020-10-29T21:03:57+08:00"><meta name=Keywords content><meta name=description content="系統引導  Legacy+MBR 和UEFI+ GPT"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E5%AD%B8/93e971c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>系統引導 Legacy+MBR 和UEFI+ GPT</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E5%AD%B8.html>科學</a></span></div><div class=post-content><div><p>GPT和MBR是硬盤分區格式；主要區別如下</p><p>MBR</p><p>MBR：Master Boot Record，主分區引導記錄。最早在1983年在IBM PC DOS 2.0中提出。前面說過，每個扇區/區塊都被分配了一個邏輯塊地址，即LBA，而引導扇區則是每個分區的第一扇區，而主引導扇區則是整個硬盤的第一扇區（主分區的第一個扇區）。MBR就保存在主引導扇區中。另外，這個扇區裡還包含了硬盤分區表DPT（Disk Partition Table），和結束標誌字（Magic number）。扇區總計512字節，MBR佔446字節（0000H - 01BDH），DPT佔據64個字節（01BEH - 01FDH），最後的magic number佔2字節（01FEH – 01FFH）。</p><div class=pgc-img><img alt="系統引導  Legacy+MBR 和UEFI+ GPT" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a4c912073bc343d2ab936837bfb4d7db><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="系統引導  Legacy+MBR 和UEFI+ GPT" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2a26fa6a147c4da5953ba7067b1a5212><p class=pgc-img-caption></p></div><p>GPT</p><p>GUID磁碟分割表（GUID Partition Table，縮寫：GPT）是一個實體硬盤的分區表的結構佈局的標準。它是可擴展固件接口（UEFI）標準（被Intel用於替代個人計算機的BIOS）的一部分，被用於替代BIOS系統中的一32bits來存儲邏輯塊地址和大小信息的主開機紀錄（MBR）分區表。對於那些扇區為512字節的磁盤，MBR分區表不支持容量大於2.2TB（2.2×1012字節）[1]的分區，然而，一些硬盤製造商（諸如希捷和西部數據）注意到這個侷限性，並且將他們的容量較大的磁盤升級到4KB的扇區，這意味著MBR的有效容量上限提升到16 TiB。這個看似“正確的”解決方案，在臨時地降低人們對改進磁盤分配表的需求的同時，也給市場帶來關於在有較大的塊（block）的設備上從BIOS啟動時，如何最佳的劃分磁盤分區的困惑。GPT分配64bits給邏輯塊地址，因而使得最大分區大小在264-1個扇區成為可能。對於每個扇區大小為512字節的磁盤，那意味著可以有9.4ZB（9.4×1021字節）或8 ZiB個512字節(9,444,732,965,739,290,426,880字節或18,446,744,073,709,551,615（264-1）個扇區×512（29）字節每扇區）[1][2]。</p><div class=pgc-img><img alt="系統引導  Legacy+MBR 和UEFI+ GPT" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/236c3e86821f4ec7a1134bc5ff9aa775><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="系統引導  Legacy+MBR 和UEFI+ GPT" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/45dc35b61b544fd3ac8e75cf419027d3><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="系統引導  Legacy+MBR 和UEFI+ GPT" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/27678915949e4015a09261328ce45961><p class=pgc-img-caption></p></div><p>相較於MBR，GPT具有以下優點：</p><p>（1）得益於LBA提升至64位，以及分區表中每項128位設定，GPT可管理的空間近乎無限大，假設一個扇區大小仍為512字節，可表示扇區數為，算下來，可管理的硬盤容量=18EB(1EB=1024PB=1,048,576TB)，2T在它面前完全不在話下。按目前的硬盤技術來看，確實近乎無限，不過，以後的事誰知道呢。</p><p>（2）分區數量幾乎沒有限制，由於可在表頭中設置分區數量的大小，如果願意，設置個分區也可以（有人願意管理這麼多分區嗎），不過，目前windows僅支持最大128個分區。</p><p>（3）自帶保險，由於在磁盤的首尾部分各帶一個GPT表頭，任何一個受到破壞後都可以通過另一份恢復，極大地提高了磁盤的抗性（兩個一起壞的請出門買彩票）。</p><p>（4）循環冗餘檢驗值針對關鍵數據結構而計算，提高了數據崩潰的檢測機率。</p><p>（5）儘管目前分區類型不超過百數（十數也沒有吧。），GPT仍提供了16字節的GUID來標識分區類型，使其更不容易產生衝突。</p><p>（6）每個分區都可以擁有一個特別的名字，最長72字節，足夠寫一首七律了。滿足你的各種奇葩起名需求。</p><p>完美支持UEFI，畢竟它就是UEFI規範的衍生品。在將來全行業UEFI的情境下，GPT必將更快淘汰MBR。</p><p><strong>啟動方式</strong></p><div class=pgc-img><img alt="系統引導  Legacy+MBR 和UEFI+ GPT" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/967d7a3513684f288b6969bb3776bef6><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="系統引導  Legacy+MBR 和UEFI+ GPT" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f059f415821f434bb771bc84beb33298><p class=pgc-img-caption></p></div><p><strong>Legacy mode</strong></p><p>即通過MBR/BIOS進行引導的傳統模式，流程如下：</p><ol><li>BIOS加電自檢（Power On Self Test -- POST）。</li><li>讀取主引導記錄（MBR）。BIOS根據CMOS中的設置依次檢查啟動設備：將相應啟動設備的第一個扇區（也就是MBR扇區）讀入內存。</li><li class=ql-indent-1>檢查MBR的結束標誌位是否等於55AAH，若不等於則轉去嘗試其他啟動設備，如果沒有啟動設備滿足要求則顯示"NO ROM BASIC"然後死機。</li><li class=ql-indent-1>當檢測到有啟動設備滿足要求後，BIOS將控制權交給相應啟動設備的MBR。</li><li>根據MBR中的引導代碼啟動引導程序</li></ol><p>UEFI+ GPT</p><p>UEFI啟動不依賴於Boot Sector（比如MBR），大致流程如下：</p><ol><li>Pre-EFI初始化模塊運行，自檢</li><li>加載DXE（EFI驅動程序執行環境），枚舉並加載EFI驅動程序（設備ROM或ESP中）</li><li>找到ESP中的引導程序，通過其引導操作系統。</li></ol><ul><li>CSM mode</li></ul><p>UEFI中的兼容性支持模塊（Compatible Support Module）提供了引導UEFI固件的PC上的傳統磁盤（MBR格式）的方法</p><p><strong>GPT+UEFI與BIOS+MBR區別</strong></p><div class=pgc-img><img alt="系統引導  Legacy+MBR 和UEFI+ GPT" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/badad05ebddd459f9c97fb8605d02ba5><p class=pgc-img-caption></p></div><p>不同點：</p><p>1.BIOS+MBR安裝系統要求硬盤只要存在非隱藏、活動的主分區就可以了；而UEFI+GPT要求硬盤上除了存在ESP分區，還必須存在至少一個主分區；</p><p>2.BIOS+MBR一旦系統安裝好之後，如果系統引導文件在單獨的分區，此分區可以在操作系統中可見，也可以設置此分區為隱藏，系統都可以正常啟動；而UEFI+GPT系統引導文件所在的ESP分區在操作系統中為不可見；</p><p>3.BIOS+MBR啟動要求的活動的主分區不是唯一固定的，可以任意設定某一分區為活動的主分區，然後MBR就可以通過分區表指引操作系統從此分區啟動，也就是說，可以在任意分區（主分區無論是否活動或者擴展分區）安裝操作系統，只要存在任意的活動主分區，就可以從此分區啟動操作系統；而UEFI+GPT只能把系統引導文件放置在ESP分區；</p><p>4.BIOS+MBR的系統引導文件可以和系統文件在同一分區的根目錄，也可以不與系統文件同一分區，只要系統引導文件所在分區為活動的主分區即可啟動操作系統；而UEFI+GPT只能把系統引導文件放置在ESP分區，且操作系統必須在另外的主分區，也就是說，UEFI+GPT強制要求系統啟動文件與系統文件必須分離，不在同一分區；</p><p>5.從上圖可知，理論上GPT+UEFI比BIOS+MBR模式的開機速度更快，但事實上並不明顯。</p><p>相同點：</p><p>1.BIOS+MBR和UEFI+GPT的系統引導文件都可以放置在單獨的分區，這一點在上面不同點的第四點可以知曉；</p><p>2.BIOS+MBR的系統引導文件所在的活動主分區位置不是固定的，可以隨意設置任意分區滿足此條件，UEFI+GPT的ESP的位置也是可以隨意設置的，在硬盤起始位置、中間位置、末尾，都可以，只要分區屬性和其中的引導文件正確，就可以引導啟動操作系統；</p><p>3.BIOS+MBR的系統引導文件所在的分區和UEFI+GPT的ESP分區都可以分配任意大小，而不是ESP必須100M；</p><p>4.BIOS+MBR安裝系統所需的非隱藏、活動主分區和UEFI+GPT的系統的ESP分區，都可以同時設置多個，但是即使有多個相同屬性的分區，系統安裝時安裝程序都是自動寫入第一個，啟動時也都是從第一個啟動</p><p><strong>兩個硬盤分區格式可以利用工具進行動態切換，引導需重新建立！！！</strong></p><div class=pgc-img><img alt="系統引導  Legacy+MBR 和UEFI+ GPT" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/f64f2a6055a24844b17fe087a2288e7e><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>系統</a></li><li><a>引導</a></li><li><a>Legacy</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/031eafc4.html alt=電廠直流系統調試方案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/5e8200036f19e04c25bf style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/031eafc4.html title=電廠直流系統調試方案>電廠直流系統調試方案</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fc3b4b2c.html alt=一文讀懂智能客服：發展歷程、系統搭建、市場推廣 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RbYMTZ55OrJUgU style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fc3b4b2c.html title=一文讀懂智能客服：發展歷程、系統搭建、市場推廣>一文讀懂智能客服：發展歷程、系統搭建、市場推廣</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/51410370.html alt=生活垃圾焚燒發電及蒸汽系統優化改造項目公告 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RcblrbTDBokV23 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/51410370.html title=生活垃圾焚燒發電及蒸汽系統優化改造項目公告>生活垃圾焚燒發電及蒸汽系統優化改造項目公告</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b4913b56.html alt=電驅動橋系統或加快電氣化進程，多個案例共同說明問題 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1539571595921bc5b27eff6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b4913b56.html title=電驅動橋系統或加快電氣化進程，多個案例共同說明問題>電驅動橋系統或加快電氣化進程，多個案例共同說明問題</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9a7b7719.html alt=基於混沌系統的偽隨機數發生器設計 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9a7b7719.html title=基於混沌系統的偽隨機數發生器設計>基於混沌系統的偽隨機數發生器設計</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/99558abe.html alt=win10系統打印機打印不了顯示已暫停的解決方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/10d0de369d4746c7a0c220ff59bd2470 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/99558abe.html title=win10系統打印機打印不了顯示已暫停的解決方法>win10系統打印機打印不了顯示已暫停的解決方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2564328d.html alt=虛設投資交易系統吸引投資 成都破獲一特大團夥詐騙案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2564328d.html title=虛設投資交易系統吸引投資 成都破獲一特大團夥詐騙案>虛設投資交易系統吸引投資 成都破獲一特大團夥詐騙案</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e4b6c065.html alt=全球定位系統（GPS），不只是導航 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/S7sY2h8G8GOmul style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e4b6c065.html title=全球定位系統（GPS），不只是導航>全球定位系統（GPS），不只是導航</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f75e014c.html alt=謹記！短線王者交易系統，學會極大概率提高買入與賣出的時機！掌握終身獲益無窮！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RL8KN4P57T39Db style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f75e014c.html title=謹記！短線王者交易系統，學會極大概率提高買入與賣出的時機！掌握終身獲益無窮！>謹記！短線王者交易系統，學會極大概率提高買入與賣出的時機！掌握終身獲益無窮！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0ad4f2c9.html alt="焦爐系統停電 —— 應急操作" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8ca2e135770644bfb97620aad1b362c0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0ad4f2c9.html title="焦爐系統停電 —— 應急操作">焦爐系統停電 —— 應急操作</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/75270289.html alt=win10系統如何使用返回桌面快捷鍵 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/822a8f5c52e1461a94e116d0e24871f0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/75270289.html title=win10系統如何使用返回桌面快捷鍵>win10系統如何使用返回桌面快捷鍵</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a435b80f.html alt=從操作系統（Windows）的角度討論中斷和異常機制 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/95371ea9a81e4e32b3cf7591d4dbbc83 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a435b80f.html title=從操作系統（Windows）的角度討論中斷和異常機制>從操作系統（Windows）的角度討論中斷和異常機制</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/093fe492.html alt=企業標準-管路系統裝配工藝規範 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ab245e924a004753b625eeb6495dd2ca style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/093fe492.html title=企業標準-管路系統裝配工藝規範>企業標準-管路系統裝配工藝規範</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d90a8756.html alt=高速公路護欄的系統原理及相關特點是什麼？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1528092476460dc0d2f2b49 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d90a8756.html title=高速公路護欄的系統原理及相關特點是什麼？>高速公路護欄的系統原理及相關特點是什麼？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e5695407.html alt="證券交易系統“去O”迎突破 頂點軟件業內首發分佈式全自主核心交易系統" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e5695407.html title="證券交易系統“去O”迎突破 頂點軟件業內首發分佈式全自主核心交易系統">證券交易系統“去O”迎突破 頂點軟件業內首發分佈式全自主核心交易系統</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>