<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>數據中心網絡交換設備架構之戰 | 极客快訊</title><meta property="og:title" content="數據中心網絡交換設備架構之戰 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/15209294584692e19f49375"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/b7000f2a.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/b7000f2a.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/b7000f2a.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/b7000f2a.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/b7000f2a.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/b7000f2a.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/b7000f2a.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/b7000f2a.html><meta property="article:published_time" content="2020-11-14T20:50:25+08:00"><meta property="article:modified_time" content="2020-11-14T20:50:25+08:00"><meta name=Keywords content><meta name=description content="數據中心網絡交換設備架構之戰"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E5%AD%B8/b7000f2a.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>數據中心網絡交換設備架構之戰</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E5%AD%B8.html>科學</a></span></div><div class=post-content><div><p>交換技術是網絡中的重要技術之一，尤其是在數據中心裡二三層的網絡中，應用極其普遍。交換機是交換技術的典型產物，在數據中心裡到處都是，是搭建數據中心局域網的必選設備。</p><p><img alt=數據中心網絡交換設備架構之戰 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15209294584692e19f49375></p><p>交換技術是網絡中的重要技術之一，尤其是在數據中心裡二三層的網絡中，應用極其普遍。交換機是交換技術的典型產物，在數據中心裡到處都是，是搭建數據中心局域網的必選設備。交換機分為盒式交換機和框式交換機，最大的區別是盒式交換機一般只有1~2U高，只有一塊交換芯片或者只有幾塊交換芯片自己互聯，不需要橋接芯片，而框式交換機因為有多塊插卡，每個插卡都是1U高，這樣插卡之間就需要橋接芯片來完成插卡之間的數據轉發。框式交換機在數據中心網絡匯聚和核心的位置，處理著海量數據的轉發。框式交換機將交換技術發揚光大，尤其是在插卡之間的數據交換處理上，不斷做出各種各樣的設計，以便在交換容量、降低設計成本等方面不斷提升。單從交換架構方面來說，當前存在兩種最為主要的交換架構：一種是傳統的基於報文選路轉發的交換;另一種是新興的基於信元轉發的交換，兩種架構各有優缺點，引爆了交換架構選擇之戰。</p><p>基於報文選路轉發交換</p><p>這種方式從有框式交換機以來就存在，通過橋接芯片將多個插卡連接起來，橋接芯片的數量直接決定了插卡之間的轉發帶寬，最開始很多設備將橋接芯片放在了一塊集中插卡上，發現受限於橋接芯片的轉發能力，根本無法滿足多塊插卡之間的流量線速轉發，隨著框式設備的槽位設計的越來越多，插卡線速轉發能力越來越低。於是有人開始設計多插卡方式，用包含有多塊橋接芯片的查看來實現插卡連接，每塊橋接插卡都會為交換插卡提供一部分帶寬，多塊橋接插卡一起工作就可以為每塊交換插卡提供很大帶寬，實現每個插卡都可以線速轉發，這種實現方式一度在數據中心網絡中盛行十年之久，幾乎所有的框式設備都是基於這樣的架構實現。不過，隨著數據中心流量的不斷增長，插卡上的所有端口都被用上，就發現在一些特殊流量場景中，這些插卡出現了無法線速的情況，這與理論測試不符。其實出現這種情況和這種架構有關，一個插卡上來的流量要基於報文特徵來選路，將報文送到不同的橋接插卡上，在橋接插卡上實現流量的負載分擔，因為單塊的橋接插卡無法滿足框式交換機所有交換插卡的線速需求，由於進入插卡的報文特徵變化並不是完全均勻的，從而選路到不同橋接插卡的流量也不會是完全均勻的，如果橋接插卡設計的帶寬冗餘很小甚至沒有的話，一點點的不均勻都會造成擁塞，從而出現丟包，交換插卡無法達到線速轉發，這種情況在實際網絡中並非少見，一旦碰到只能調整選路算法(未必有用)，或者換帶寬容量更大的設備，儘可能多地留出一些冗餘帶寬來。</p><p>基於信元轉發交換</p><p>正因為報文選路轉發交換架構具有天生的缺陷，基於信元方式轉發架構誕生。這種方式也需要多塊橋接插卡，交換插卡具備了一種分片能力，它可以將進來的報文，分解成多個大小相同的信元，然後分別發向不同的橋接插卡，這樣發給每個橋接插卡的報文大小都是相同的，去往不同橋接插卡的流量就永遠都是均勻的，就不會存在選路不均的問題。這種方式徹底解決了以往交換架構內部流量不均，擁塞的問題，成為新的主流交換架構。不過，基於信元轉發也有其技術固有缺陷。交換插卡將每個報文都要做分片(一般是按照固定的64字節或者128字節分片，最後一片字節不夠也要補齊到64或者128字節)，經過橋接插卡轉發後，還要在出口插卡上重組，還原出來經過轉發後的完整報文，而基於報文選路方式就不需要，這無疑增加了設備的轉發開銷，所以這種架構相比基於報文選路，轉發效率要低，轉發時延要高，因為很多報文分片後最後一片都要添加空的數據補齊，每個信元也要有自己的轉發頭，這些數據都要多佔用一些數據帶寬，浪費掉了部分內部帶寬。這種方式還會增加故障概率，只要有一塊橋接插卡出了問題，整個設備的轉發都會受到影響，因為幾乎每個報文的信元都要經過這塊橋接插卡，基於報文選路轉發則不會，哪塊橋接插卡出問題，影響的只是HASH選路到這塊橋接插卡的業務，走到其它橋接插卡上的業務不受影響。還有一旦報文進入交換插卡，到橋接插卡都是信元轉發，極不利於問題定位，這時在橋接插卡上根本看不到報文內容，發給每個橋接插卡的報文長度特徵都一樣，到底是交換插卡出了問題，還是橋接插卡出了問題，區分不清，往往要通過替換測試才能明確。基於報文選路的架構就很容易，根據報文特徵在內部端口上做統計，確認問題發生的位置，可以很快找到問題原因，方便維護，這樣也使得不少人又轉頭追逐基於報文的選路交換架構。</p><p>經過以上的介紹，兩種交換架構各有優缺點，誰也無法替代誰。兩種架構技術目前都較為成熟，具備實際應用的水平，設計成本差別也不大。具體在數據中心裡使用哪種交換架構設備(一臺設備無法同時具備兩種架構)，還是要從實用角度來考慮，要看數據中心更看重哪個方面。如果數據中心裡的流量不夠大，報文特徵也比較單一，變化比較均勻，就可以考慮方便維護的基於報文選路的交換設備;如果數據中心的流量超大，交換插卡的端口基本全要用上，並且帶寬利用率很高，建議選用基於信元轉發的交換設備，避免出現無法達到線速的問題，兩種交換架構將在未來的一段時間裡長期存在，供數據中心選擇。（來自：企業網D1Net）</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>數據</a></li><li><a>網絡</a></li><li><a>交換</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/1267d3e8.html alt=計算機網絡-數據鏈路層 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/125a70d9a286430b8d5aabb35a77904a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1267d3e8.html title=計算機網絡-數據鏈路層>計算機網絡-數據鏈路層</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7bdf7b19.html alt=數據中心的網絡變革—七層網絡到大二層網絡 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e50c60907b9946c593d49b490bc657ea style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7bdf7b19.html title=數據中心的網絡變革—七層網絡到大二層網絡>數據中心的網絡變革—七層網絡到大二層網絡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3709f739.html alt=車聯網的網絡及數據合規問題研究（上） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8c3dfcb62b964904b63dcfcdae18ac50 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3709f739.html title=車聯網的網絡及數據合規問題研究（上）>車聯網的網絡及數據合規問題研究（上）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8e5db5c1.html alt=剖析數據中心三層網絡結構設備的光互連方案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/981427d85f4646acaf2277af70122764 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8e5db5c1.html title=剖析數據中心三層網絡結構設備的光互連方案>剖析數據中心三層網絡結構設備的光互連方案</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/611f4508.html alt=BIM模型數據主要有哪些交換方式與方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/8b3a0009c04f47dba125fac42117633d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/611f4508.html title=BIM模型數據主要有哪些交換方式與方法>BIM模型數據主要有哪些交換方式與方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5d9900a2.html alt=Flink中的數據抽象及數據交換過程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/1b7a1014-7ea5-421b-808e-c41398f5e4aa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5d9900a2.html title=Flink中的數據抽象及數據交換過程>Flink中的數據抽象及數據交換過程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a44e688d.html alt=共建安全高效的證通數據交換存儲平臺 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/6e00e2a126624cd3a04003e09f129836 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a44e688d.html title=共建安全高效的證通數據交換存儲平臺>共建安全高效的證通數據交換存儲平臺</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5a8ee1e1.html alt=加大數據交換，服務社會治理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/52356fef840348268d722f9e09041d09 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5a8ee1e1.html title=加大數據交換，服務社會治理>加大數據交換，服務社會治理</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/aabf6c20.html alt=大容量數據交換，該選擇什麼移動存儲設備？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/a0645b75449e4f86b44ec2301e660ac4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/aabf6c20.html title=大容量數據交換，該選擇什麼移動存儲設備？>大容量數據交換，該選擇什麼移動存儲設備？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4abcc1ec.html alt=完善和高效的數據交換管理平臺 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/95bd84cca48a4510bdf677846e255dda style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4abcc1ec.html title=完善和高效的數據交換管理平臺>完善和高效的數據交換管理平臺</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/543694ba.html alt=一般人不知道的線程間數據交換Exchanger class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/df26ce3a590f4daba6b29648f36e3ae7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/543694ba.html title=一般人不知道的線程間數據交換Exchanger>一般人不知道的線程間數據交換Exchanger</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/781bd8ae.html alt="成都成華：搭建數據交換中心 推進移動辦公辦案平臺建設_正義網" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/781bd8ae.html title="成都成華：搭建數據交換中心 推進移動辦公辦案平臺建設_正義網">成都成華：搭建數據交換中心 推進移動辦公辦案平臺建設_正義網</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/89963e6e.html alt=數據安全交換協議來了，或將推動AI大步邁向3.0時代 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/SErvipbBeWotcr style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/89963e6e.html title=數據安全交換協議來了，或將推動AI大步邁向3.0時代>數據安全交換協議來了，或將推動AI大步邁向3.0時代</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1a983287.html alt=計算機網絡之數據交換技術 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/3303aa6a77b24d84b87fb0dd7df2eb04 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1a983287.html title=計算機網絡之數據交換技術>計算機網絡之數據交換技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/75154d57.html alt=試驗數據交換共享技術研究 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1f294f46e217463ca5ba719dfd99dcf3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/75154d57.html title=試驗數據交換共享技術研究>試驗數據交換共享技術研究</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>