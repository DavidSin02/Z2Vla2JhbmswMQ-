<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>TensorFlow è¨“ç·´æ·±åº¦ç¥ç¶“ç¶²çµ¡æ“¬åˆæ­£å¼¦å‡½æ•¸çš„è©³ç´°éç¨‹ï¼ˆå«ä»£ç¢¼ï¼‰ | æå®¢å¿«è¨Š</title><meta property="og:title" content="TensorFlow è¨“ç·´æ·±åº¦ç¥ç¶“ç¶²çµ¡æ“¬åˆæ­£å¼¦å‡½æ•¸çš„è©³ç´°éç¨‹ï¼ˆå«ä»£ç¢¼ï¼‰ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/07ba2801bb4a4fcba38ad8ba8d575696"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/c10cccf3.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/c10cccf3.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/c10cccf3.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/c10cccf3.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/c10cccf3.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/c10cccf3.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/c10cccf3.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/c10cccf3.html><meta property="article:published_time" content="2020-11-14T20:58:34+08:00"><meta property="article:modified_time" content="2020-11-14T20:58:34+08:00"><meta name=Keywords content><meta name=description content="TensorFlow è¨“ç·´æ·±åº¦ç¥ç¶“ç¶²çµ¡æ“¬åˆæ­£å¼¦å‡½æ•¸çš„è©³ç´°éç¨‹ï¼ˆå«ä»£ç¢¼ï¼‰"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E5%AD%B8/c10cccf3.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>TensorFlow è¨“ç·´æ·±åº¦ç¥ç¶“ç¶²çµ¡æ“¬åˆæ­£å¼¦å‡½æ•¸çš„è©³ç´°éç¨‹ï¼ˆå«ä»£ç¢¼ï¼‰</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E5%AD%B8.html>ç§‘å­¸</a></span></div><div class=post-content><div><p>æ¡ç”¨TensorFlow å¯¦ç¾ä¸€å€‹å…¨é€£æ¥çš„æ·±åº¦ç¥ç¶“å¾€ï¼Œæ“¬åˆæ­£å¼¦å‡½æ•¸ã€‚</p><p>æ­£å¼¦å‡½æ•¸çš„å…¬å¼ï¼šy = sin(x)</p><p>ä¸‹é¢å…·é«”æ“ä½œæ˜¯åœ¨æœ¬åœ° Jupyter Notebook ç’°å¢ƒä¸­å®Œæˆçš„ï¼Œå°Jupyter Notebook ä¸ç†Ÿæ‚‰çš„åŒå­¸ï¼Œå¯ä»¥åƒè€ƒä¸‹é¢çš„éˆæ¥ã€‚</p><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6713091746764423692/?group_id=6713091746764423692" target=_blank>Windowsä¸‹çš„Jupyter Notebook å®‰è£èˆ‡è‡ªå®šç¾©å•Ÿå‹•ï¼ˆåœ–æ–‡è©³è§£ï¼‰</a></p><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6705855555849683469/?group_id=6705855555849683469" target=_blank>Jupyter Notebookç¥å™¨-å…è²»é«”é©—ä¾†è‡ªå¾®è»Ÿçš„Azure Notebook</a></p><div class=tt-column-card data-content='{"new_thumb_url": "http://sf1-ttcdn-tos.pstatp.com/img/pgc-image/1554257239510c388d75d26", "title": "TensorFlow\u6df1\u5ea6\u5b66\u4e60\u5b9e\u8df5", "distribution_user_id": 1593359982664708, "price": 147, "column_id": "6675492781865042180", "share_price": 35.28, "author_description": "AI\u706b\u7bad\u8425", "thumb_url": "http://p2.pstatp.com/large/pgc-image/1554257239510c388d75d26", "sold": 38}'></div><h1><strong>1. éœ€è¦æ§‹å»ºçš„TensorFlowç¶²çµ¡çµæ§‹</strong></h1><p>ä¸‹é¢è¦æ§‹å»ºçš„æ¨¡æ“¬æ­£å¼¦å‡½æ•¸çš„ç¥ç¶“ç¶²çµ¡ï¼ŒåŒ…å«3å€‹éš±è—å±¤ï¼Œæ¯å€‹éš±è—å±¤16å€‹éš±è—ç¯€é»ï¼Œå–®è®Šé‡è¼¸å…¥ï¼Œå–®è®Šé‡è¼¸å‡ºï¼Œå„å±¤çš„æ¿€æ´»å‡½æ•¸éƒ½æ¡ç”¨ sigmoidå‡½æ•¸ï¼Œéœ€è¦æ§‹å»ºçš„ç¶²çµ¡çµæ§‹å¦‚ä¸‹åœ–æ‰€ç¤ºã€‚</p><div class=pgc-img><img alt="TensorFlow è¨“ç·´æ·±åº¦ç¥ç¶“ç¶²çµ¡æ“¬åˆæ­£å¼¦å‡½æ•¸çš„è©³ç´°éç¨‹ï¼ˆå«ä»£ç¢¼ï¼‰" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/07ba2801bb4a4fcba38ad8ba8d575696><p class=pgc-img-caption></p></div><h1><strong>2. ç¹ªè£½æ¨™æº–çš„sinæ›²ç·š</strong></h1><p>ä¸‹é¢å¯¦ç¾ç¹ªè£½æ¨™æº–çš„æ­£å¼¦å‡½æ•¸ï¼Œä¹‹å¾Œæ¨™æº–çš„æ­£å¼¦å‡½æ•¸å’Œæ¨¡æ“¬çµæœéƒ½æ¡ç”¨ pylab.plot ç•«åˆ°åœ–ä¸Šï¼Œæ–¹ä¾¿åšå°æ¯”ã€‚</p><div class=pgc-img><img alt="TensorFlow è¨“ç·´æ·±åº¦ç¥ç¶“ç¶²çµ¡æ“¬åˆæ­£å¼¦å‡½æ•¸çš„è©³ç´°éç¨‹ï¼ˆå«ä»£ç¢¼ï¼‰" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d2034f39eb4244c8a9dbd3ec89b2702a><p class=pgc-img-caption></p></div><p><strong>å…·é«”ä»£ç¢¼ï¼š</strong></p><p>å°å…¥ç›¸æ‡‰çš„PythonåŒ…å’Œæ¨¡å¡Šã€‚</p><blockquote><p>import tensorflow as tf</p><p>import math</p><p>import numpy as np</p><p>import matplotlib.pyplot as plt</p><p>import pylab</p></blockquote><p>å®šç¾©draw_sin_line() å‡½æ•¸ï¼Œè©²å‡½æ•¸ç”¨ä¾†ç¹ªè£½æ¨™æº–çš„sinæ›²ç·šã€‚</p><blockquote><p>def draw_sin_line():</p><p>'''</p><p>ç¹ªè£½æ¨™æº–çš„sinæ›²ç·š</p><p>'''</p><p>x = np.arange(0, 2*np.pi, 0.01)</p><p>x = x.reshape((len(x), 1))</p><p>y = np.sin(x)</p><p>pylab.plot(x, y, label='æ¨™æº–çš„sinæ›²ç·š')</p><p>plt.axhline(linewidth=1, color='r')</p><p>plt.axvline(x=np.pi, linestyle='--', linewidth=1, color='g')</p></blockquote><p>pylabå°‡æ‰€æœ‰çš„åŠŸèƒ½å‡½æ•¸ï¼ˆpyplotç‹€æ…‹æ©Ÿå‡½æ•¸ï¼Œå¤§éƒ¨åˆ†æ˜¯ numpyè£¡é¢çš„å‡½æ•¸ï¼‰å…¨éƒ¨å°å…¥å…¶å–®ç¨çš„å‘½åç©ºé–“å…§ã€‚ç‚ºä»€éº¼è¦é€™æ¨£åšï¼Œæ˜¯å› ç‚ºé€™æ¨£å¯ä»¥å¾ˆå¥½åœ°èˆ‡ipythonï¼ˆæˆ–è€…é¡ä¼¼çš„IDEï¼Œæ¯”å¦‚pycharmï¼‰å¯¦ç¾å¾ˆå¥½çš„äº¤äº’æ¨¡å¼ã€‚</p><p>ä¸Šé¢èª¿ç”¨ pylabçš„plotå‡½æ•¸ç¹ªè£½æ›²ç·šï¼Œpylabæ˜¯pythonä¸‹æŒºä¸éŒ¯çš„ä¸€å€‹ç•«åœ–æ¨¡å¡Šï¼Œä½¿ç”¨ä¹Ÿéå¸¸ç°¡å–®ã€‚</p><p>plt.axhline()å‡½æ•¸ï¼Œç¹ªè£½å¹³è¡Œæ–¼xè»¸çš„æ°´å¹³åƒè€ƒç·šã€‚</p><p>plt.axvline()å‡½æ•¸ï¼Œç¹ªè£½å¹³è¡Œæ–¼yè»¸çš„å‚ç›´åƒè€ƒç·šã€‚</p><h1><strong>3. å‰µå»ºè¨“ç·´æ¨£æœ¬</strong></h1><p>å®šç¾© get_train_data() å‡½æ•¸ï¼Œè¿”å›ä¸€å€‹è¨“ç·´æ¨£æœ¬(train_x, train_y)ï¼Œå…¶ä¸­ train_x æ˜¯éš¨æ©Ÿçš„è‡ªè®Šé‡ï¼Œtrain_y æ˜¯train_x çš„sinå‡½æ•¸å€¼ã€‚</p><p><strong>å…·é«”ä»£ç¢¼å¦‚ä¸‹ï¼š</strong></p><blockquote><p>def get_train_data():</p><p>'''</p><p>è¿”å›ä¸€å€‹è¨“ç·´æ¨£æœ¬(train_x, train_y)</p><p>å…¶ä¸­ train_x æ˜¯éš¨æ©Ÿçš„è‡ªè®Šé‡ï¼Œtrain_y æ˜¯train_x çš„sinå‡½æ•¸å€¼</p><p>'''</p><p>train_x = np.random.uniform(0.0, 2*np.pi, (1))</p><p>train_y = np.sin(train_x)</p><p>return train_x, train_y</p></blockquote><p>å‡½æ•¸åŸå‹ï¼š numpy.random.uniform(low,high,size)</p><p>åŠŸèƒ½ï¼šå¾ä¸€å€‹å‡å‹»åˆ†ä½ˆ[low,high)ä¸­éš¨æ©Ÿæ¡æ¨£ï¼Œæ³¨æ„å®šç¾©åŸŸæ˜¯å·¦é–‰å³é–‹ï¼Œå³åŒ…å«lowï¼Œä¸åŒ…å«high.</p><p>åƒæ•¸ä»‹ç´¹:</p><p>low: æ¡æ¨£ä¸‹ç•Œï¼Œfloaté¡å‹ï¼Œé»˜èªå€¼ç‚º0ï¼›</p><p>high: æ¡æ¨£ä¸Šç•Œï¼Œfloaté¡å‹ï¼Œé»˜èªå€¼ç‚º1ï¼›</p><p>size: è¼¸å‡ºæ¨£æœ¬æ•¸ç›®ï¼Œç‚ºintæˆ–å…ƒçµ„(tuple)é¡å‹ï¼Œä¾‹å¦‚ï¼Œsize=(m,n,k), å‰‡è¼¸å‡ºm*n*kå€‹æ¨£æœ¬ï¼Œç¼ºçœæ™‚è¼¸å‡º1å€‹å€¼ã€‚</p><p>è¿”å›å€¼ï¼šndarrayé¡å‹ï¼Œå…¶å½¢ç‹€å’Œåƒæ•¸sizeä¸­æè¿°ä¸€è‡´ã€‚</p><h1><strong>4. å®šç¾©æ¨ç†å‡½æ•¸inference</strong></h1><p>æ§‹å»ºTensorFlow ç¶²çµ¡çµæ§‹çš„é‚è¼¯åœ¨ inference() å‡½æ•¸ä¸­å¯¦ç¾ã€‚</p><p>å…¶ä¸­ï¼Œæ§‹å»ºäº†3å€‹éš±è—å±¤ï¼Œæ¯å€‹éš±è—å±¤16å€‹ç¯€é»ï¼Œé€£æ¥ç¯€é»çš„åƒæ•¸ weight å’Œ biasçš„åˆå§‹åŒ–æ˜¯å‡å€¼ç‚º0ã€æ–¹å·®ç‚º1çš„éš¨æ©Ÿåˆå§‹åŒ–ï¼Œæ¯å€‹éš±è—å±¤çš„å–®ä½æ¡ç”¨ tf.sigmoid() ä½œç‚ºæ¿€æ´»å‡½æ•¸ï¼Œè¼¸å‡ºå±¤ä¸­æ²’æœ‰å¢åŠ  sigmoidå‡½æ•¸ï¼Œé€™æ˜¯å› ç‚ºå‰é¢çš„å¹¾å±¤éç·šæ€§è®Šæ›å·²ç¶“æå–å¥½äº†è¶³å¤ å……åˆ†çš„ç‰¹å¾µï¼Œä½¿ç”¨é€™äº›ç‰¹å¾µå·²ç¶“å¯ä»¥è®“æ¨¡å‹ç”¨æœ€å¾Œä¸€å€‹ç·šæ€§åˆ†é¡å‡½æ•¸ä¾†åˆ†é¡ã€‚</p><p>å…·é«”ä»£ç¢¼å¦‚ä¸‹ï¼š</p><blockquote><p>def inference(input_data):</p><p>'''</p><p>å®šç¾©å‰å‘è¨ˆç®—çš„ç¶²çµ¡çµæ§‹</p><p>args: è¼¸å…¥xçš„å€¼ï¼Œå–®å€‹å€¼</p><p>'''</p><p>with tf.variable_scope('hidden1'):</p><p># ç¬¬ä¸€å€‹éš±è—å±¤ï¼Œæ¡ç”¨16å€‹éš±è—ç¯€é»</p><p>weights = tf.get_variable("weight", [1, 16], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>biases = tf.get_variable("bias", [1, 16], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>hidden1 = tf.sigmoid(tf.multiply(input_data, weights) + biases)</p><p>with tf.variable_scope('hidden2'):</p><p># ç¬¬äºŒå€‹éš±è—å±¤ï¼Œæ¡ç”¨16å€‹éš±è—ç¯€é»</p><p>weights = tf.get_varaible("weight", [16, 16], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>biases = tf.get_variable("bias", [16], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>mul = tf.matmul(hidden1, weights)</p><p>hidden2 = tf.sigmoid(mul + biases)</p><p>with tf.variable_scope('hidden3'):</p><p># ç¬¬ä¸‰å€‹éš±è—å±¤ï¼Œæ¡ç”¨16å€‹éš±è—ç¯€é»</p><p>weights = tf.get_varaible("weight", [16, 16], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>biases = tf.get_variable("bias", [16], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>mul = tf.matmul(hidden2, weights)</p><p>hidden3 = tf.sigmoid(mul + biases)</p><p>with tf.variable_scope('output_layer'):</p><p># è¼¸å‡ºå±¤</p><p>weights = tf.get_varaible("weight", [16, 1], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>biases = tf.get_variable("bias", [1], tf.float32, initializer=tf.random_normal_initializer(0.0, 1))</p><p>output = tf.matmul(hidden3, weights) + biases</p><p>return output</p></blockquote><p>å¦‚æœè®Šé‡å­˜åœ¨ï¼Œå‡½æ•¸tf.get_variable( ) æœƒè¿”å›ç¾æœ‰çš„è®Šé‡ã€‚å¦‚æœè®Šé‡ä¸å­˜åœ¨ï¼Œæœƒæ ¹æ“šçµ¦å®šå½¢ç‹€å’Œåˆå§‹å€¼å‰µå»ºè®Šé‡ã€‚</p><p>åˆå§‹å™¨ï¼ˆinitializerï¼‰= tf.random_normal_initializer(0.0, 1) æ˜¯å…¶ä¸­ä¸€ç¨®å…§ç½®çš„åˆå§‹å™¨ã€‚</p><h1><strong>5. å®šç¾©è¨“ç·´å‡½æ•¸</strong></h1><p>ä½¿ç”¨TensorFlow å¯¦ç¾ç¥ç¶“ç¶²çµ¡æ™‚ï¼Œéœ€è¦å®šç¾©ç¶²çµ¡çµæ§‹ã€åƒæ•¸ã€æ•¸æ“šçš„è¼¸å…¥å’Œè¼¸å‡ºã€æ¡ç”¨çš„æå¤±å‡½æ•¸å’Œå„ªåŒ–æ–¹æ³•ã€‚</p><p>æœ€ç¹ç‘£çš„è¨“ç·´ä¸­çš„åå‘å‚³æ’­ã€è‡ªå‹•æ±‚å°å’Œåƒæ•¸æ›´æ–°ç­‰æ“ä½œç”±TensorFlow è² è²¬å¯¦ç¾ã€‚</p><p><strong>å…·é«”ä»£ç¢¼å¦‚ä¸‹ï¼Œä»£ç¢¼ä¸­æœ‰è©³ç´°çš„è¨»é‡‹ï¼š</strong></p><blockquote><p># é€šéæ¢¯åº¦ä¸‹é™å°‡æå¤±æœ€å°åŒ–</p><p>def train():</p><p># å­¸ç¿’ç‡</p><p>learning_rate = 0.01</p><p>x = tf.placeholder(tf.float32)</p><p>y = tf.placeholder(tf.float32)</p><p># åŸºæ–¼è¨“ç·´å¥½çš„æ¨¡å‹æ¨ç†ï¼Œç²å–æ¨ç†çµæœ</p><p>net_out = inference(x)</p><p># å®šç¾©æå¤±å‡½æ•¸çš„op</p><p>loss_op = tf.square(net_out - y)</p><p># æ¡ç”¨éš¨æ©Ÿæ¢¯åº¦ä¸‹é™çš„å„ªåŒ–å‡½æ•¸</p><p>opt = tf.train.GradientDescentOptimizer(learning_rate)</p><p># å®šç¾©è¨“ç·´æ“ä½œ</p><p>train_op = opt.minimize(loss_op)</p><p># è®Šé‡åˆå§‹åŒ–</p><p>init = tf.global_variables_initializer()</p><p>with tf.Session() as sess:</p><p># åŸ·è¡Œè®Šé‡çš„åˆå§‹åŒ–æ“ä½œ</p><p>sess.run(init)</p><p>print("é–‹å§‹è¨“ç·´ ...")</p><p>for i in range(100001):</p><p># ç²å–è¨“ç·´æ•¸æ“š</p><p>train_x, train_y = get_train_data()</p><p>sess.run(train_op, feed_dict={x: train_x, y: train_y})</p><p># å®šæ™‚è¼¸å‡ºç•¶å‰çš„ç‹€æ…‹</p><p>if i % 10000 == 0:</p><p>times = int(i/10000)</p><p># æ¯åŸ·è¡Œ10000æ¬¡è¨“ç·´å¾Œï¼Œæ¸¬è©¦ä¸€ä¸‹çµæœï¼Œæ¸¬è©¦çµæœç”¨ pylab.plot()å‡½æ•¸åœ¨ç•Œé¢ä¸Šç¹ªè£½å‡ºä¾†</p><p>test_x_ndarray = np.arange(0, 2 * np.pi, 0.01)</p><p>test_y_ndarray = np.zeros([len(test_x_ndarray)])</p><p>ind = 0</p><p>for test_x in test_x_ndarray:</p><p>test_y = sess.run(net_out, feed_dict={x: test_x, y: 1})</p><p># å°æ•¸çµ„ä¸­æŒ‡å®šçš„ç´¢å¼•å€¼æŒ‡å‘çš„å…ƒç´ æ›¿æ›æˆæŒ‡å®šçš„å€¼</p><p>np.put(test_y_ndarray, ind, test_y)</p><p>ind += 1</p><p># å…ˆç¹ªè£½æ¨™æº–çš„æ­£å¼¦å‡½æ•¸çš„æ›²ç·š</p><p># å†ç”¨è™›ç·šç¹ªè£½å‡ºæ¨¡æ“¬æ­£å¼¦å‡½æ•¸çš„æ›²ç·š</p><p>draw_sin_line()</p><p>pylab.plot(test_x_ndarray, test_y_ndarray, '--', label = str(times) + ' times')</p><p>pylab.legend(loc='upper right')</p><p>pylab.show()</p><p>print("=== DONE ===")</p></blockquote><p>å¾è¼¸å…¥æ•¸æ“šåˆ°ç¥ç¶“ç¶²çµ¡ï¼Œåˆ°è¼¸å‡ºé æ¸¬å€¼ï¼Œæ¡ç”¨é æ¸¬å€¼å’Œæ¨™æº–å€¼çš„å·®çš„å¹³æ–¹ä½œç‚ºæå¤±å‡½æ•¸ï¼Œç„¶å¾Œå°‡å¾—åˆ°çš„æå¤±å‡½æ•¸çš„æ“ä½œ loss_op å‚³çµ¦éš¨æ©Ÿæ¢¯åº¦ä¸‹é™å„ªåŒ–æ–¹æ³• tf.train.GradientDescentOptimizerï¼Œå¾è€Œå¾—åˆ°æœ€å¾Œè¨“ç·´æ“ä½œ train_opã€‚</p><p>åœ¨æœƒè©±çš„run æ–¹æ³•ä¸­ï¼Œå‚³å…¥è¨“ç·´æ•¸æ“šï¼Œæ¯ä¸€æ¬¡åŸ·è¡Œ train_opï¼Œå°±æœƒæ ¹æ“šè¼¸å…¥çš„è¨“ç·´æ¨£æœ¬åšä¸€æ¬¡å‰å‘è¨ˆç®—ã€ä¸€æ¬¡åå‘å‚³æ’­å’Œä¸€æ¬¡åƒæ•¸æ›´æ–°ã€‚</p><p>æ¯è¨“ç·´10000å€‹æ¨£æœ¬ï¼Œå°±å°‡æ¨™æº–çš„æ­£å¼¦å‡½æ•¸å’Œæ¨¡æ“¬çµæœæ¡ç”¨ pylab.plot()å‡½æ•¸ç¹ªè£½å‡ºä¾†åšå°æ¯”ï¼Œå…¶ä¸­ç”¨å¯¦ç·šè¡¨ç¤ºæ¨™æº–çš„æ­£å¼¦å‡½æ•¸ï¼Œè™›ç·šè¡¨ç¤ºæ¨¡æ“¬çš„æ­£å¼¦å‡½æ•¸ï¼ˆä¹Ÿå°±æ˜¯åŸºæ–¼ç¥ç¶“ç¶²çµ¡æ¨ç†çš„çµæœï¼‰ã€‚</p><h1><strong>6. é–‹å§‹é©—è­‰è¨“ç·´å‡½æ•¸</strong></h1><p>åŸ·è¡Œ train() å‡½æ•¸ï¼Œå°±é–‹å§‹è¨“ç·´ä¸¦é©—è­‰ã€‚</p><p>ç¬¬ä¸€æ¬¡çš„åƒæ•¸æ˜¯éš¨æ©Ÿåˆå§‹åŒ–çš„ï¼Œæ¨¡æ“¬å‡ºä¾†çš„æ­£å¼¦å‡½æ•¸å’Œæ¨™æº–çš„æ­£å¼¦å‡½æ•¸å®Œå…¨ä¸ä¸€æ¨£ã€‚</p><div class=pgc-img><img alt="TensorFlow è¨“ç·´æ·±åº¦ç¥ç¶“ç¶²çµ¡æ“¬åˆæ­£å¼¦å‡½æ•¸çš„è©³ç´°éç¨‹ï¼ˆå«ä»£ç¢¼ï¼‰" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c74f1f4fd94c4bada38e5844a412513a><p class=pgc-img-caption></p></div><p>ç¥ç¶“ç¶²çµ¡æ¨¡å‹ç¶“éè¨“ç·´ 10000æ¬¡ä¹‹å¾Œï¼Œæ¸¬è©¦çµæœå¦‚ä¸‹ã€‚æ­¤æ™‚ï¼Œæ¨¡æ“¬æ›²ç·šï¼ˆè™›ç·šï¼‰é–‹å§‹å‘å¯¦ç·šé è¿‘äº†ã€‚</p><div class=pgc-img><img alt="TensorFlow è¨“ç·´æ·±åº¦ç¥ç¶“ç¶²çµ¡æ“¬åˆæ­£å¼¦å‡½æ•¸çš„è©³ç´°éç¨‹ï¼ˆå«ä»£ç¢¼ï¼‰" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0413a84c975c40a6b2dabc0865c7b812><p class=pgc-img-caption></p></div><p>ä¸‹é¢æ˜¯è¨“ç·´åˆ° 10000x10æ¬¡ä¹‹å¾Œï¼Œçµæœå¦‚ä¸‹ã€‚æ­¤æ™‚ï¼Œæ¨¡æ“¬æ›²ç·šåŸºæœ¬ä¸Šå’Œæ¨™æº–çš„æ­£å¼¦æ›²ç·šé‡åˆäº†ã€‚</p><div class=pgc-img><img alt="TensorFlow è¨“ç·´æ·±åº¦ç¥ç¶“ç¶²çµ¡æ“¬åˆæ­£å¼¦å‡½æ•¸çš„è©³ç´°éç¨‹ï¼ˆå«ä»£ç¢¼ï¼‰" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/fc45228a6421489e86b0b4968610672f><p class=pgc-img-caption></p></div><div class=tt-column-card data-content='{"new_thumb_url": "http://sf1-ttcdn-tos.pstatp.com/img/mosaic-legacy/fe3f00002562ef2bf82e", "title": "\u6bcf\u5929\u4e94\u5206\u949f\u73a9\u8f6cpython\u57fa\u7840\u7f16\u7a0b", "distribution_user_id": 1593359982664708, "price": 16.6, "column_id": "1626154665784323", "share_price": 5.31, "author_description": "\u5e7b\u98ce\u7684AI\u4e4b\u8def", "thumb_url": "http://p10.pstatp.com/large/mosaic-legacy/fe3f00002562ef2bf82e", "sold": 413}'></div><p>å¦‚æœè¦ºå¾—æ“¬åˆåº¦é‚„ä¸å¤ ï¼Œé‚„å¯ä»¥ç¹¼çºŒè¨“ç·´ã€‚é€™æ¨£ï¼Œå°±å¯¦ç¾äº†ç”¨æ·±åº¦ç¥ç¶“ç¶²çµ¡æ¨¡æ“¬æ­£å¼¦å‡½æ•¸åœ¨0-2Piçš„æ›²ç·šã€‚</p><blockquote><p>åƒè€ƒæ–‡ç« ï¼š</p><p>ã€ŠTensorFlowå…¥é–€èˆ‡å¯¦æˆ°ã€‹-ç¾…å†¬æ—¥</p></blockquote></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>TensorFlow</a></li><li><a>è¨“ç·´</a></li><li><a>ç¥ç¶“</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/6ff19cd8.html alt=ä¸­å°å­¸ä½œæ–‡è¨“ç·´ä¹‹æå¯«å°ˆé¡Œï¼ˆä¹ï¼‰å ´é¢æå¯« class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/75eab302c96d43e8a680908253f96bcc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6ff19cd8.html title=ä¸­å°å­¸ä½œæ–‡è¨“ç·´ä¹‹æå¯«å°ˆé¡Œï¼ˆä¹ï¼‰å ´é¢æå¯«>ä¸­å°å­¸ä½œæ–‡è¨“ç·´ä¹‹æå¯«å°ˆé¡Œï¼ˆä¹ï¼‰å ´é¢æå¯«</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0926be43.html alt="ç­‹è†œæ”¾é¬†ç·´ç¿’ - æŒ‰æ‘©æ»¾è¼ªè¨“ç·´æ–¹æ³•" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d8d39047a8ef48fdbc8ca96ec24e1957 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0926be43.html title="ç­‹è†œæ”¾é¬†ç·´ç¿’ - æŒ‰æ‘©æ»¾è¼ªè¨“ç·´æ–¹æ³•">ç­‹è†œæ”¾é¬†ç·´ç¿’ - æŒ‰æ‘©æ»¾è¼ªè¨“ç·´æ–¹æ³•</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ad6f0929.html alt=è°·æ­Œå¤§è…¦ç™¼ä½ˆç¥ç¶“ç¶²çµ¡çš„ã€Œæ ¸ç£å…±æŒ¯ã€ï¼Œä¸¦å…¬é–‹ç›¸é—œä»£ç¢¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/65c4000bda98898dcdbb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ad6f0929.html title=è°·æ­Œå¤§è…¦ç™¼ä½ˆç¥ç¶“ç¶²çµ¡çš„ã€Œæ ¸ç£å…±æŒ¯ã€ï¼Œä¸¦å…¬é–‹ç›¸é—œä»£ç¢¼>è°·æ­Œå¤§è…¦ç™¼ä½ˆç¥ç¶“ç¶²çµ¡çš„ã€Œæ ¸ç£å…±æŒ¯ã€ï¼Œä¸¦å…¬é–‹ç›¸é—œä»£ç¢¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2bc1496a.html alt=ç‚ºäº†æ›´å¥½çš„æ·±åº¦ç¥ç¶“ç¶²çµ¡è¦–è¦ºï¼Œåªéœ€æ·»åŠ åé¥‹ï¼ˆå¾ªç’°ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/17fccfd7096d44eeb3921bbd0dc29a13 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2bc1496a.html title=ç‚ºäº†æ›´å¥½çš„æ·±åº¦ç¥ç¶“ç¶²çµ¡è¦–è¦ºï¼Œåªéœ€æ·»åŠ åé¥‹ï¼ˆå¾ªç’°ï¼‰>ç‚ºäº†æ›´å¥½çš„æ·±åº¦ç¥ç¶“ç¶²çµ¡è¦–è¦ºï¼Œåªéœ€æ·»åŠ åé¥‹ï¼ˆå¾ªç’°ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/35db2356.html alt="å¤§æ•¸æ“šæ·±åº¦å­¸ç¿’çš„æ–°åˆ©å™¨: å¿«é€Ÿç¥ç¶“ç¶²çµ¡è¨“ç·´:P-network" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d172925963f2465aa131058c05cd72f9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/35db2356.html title="å¤§æ•¸æ“šæ·±åº¦å­¸ç¿’çš„æ–°åˆ©å™¨: å¿«é€Ÿç¥ç¶“ç¶²çµ¡è¨“ç·´:P-network">å¤§æ•¸æ“šæ·±åº¦å­¸ç¿’çš„æ–°åˆ©å™¨: å¿«é€Ÿç¥ç¶“ç¶²çµ¡è¨“ç·´:P-network</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f93ce821.html alt=å¤±æˆ€å¾ˆç—›ï¼Ÿé‚£ä½ æ˜¯æ²’è¢«ä¸‰å‰ç¥ç¶“ç—›é class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/cd16c354613244babe0f75d0aa3c7931 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f93ce821.html title=å¤±æˆ€å¾ˆç—›ï¼Ÿé‚£ä½ æ˜¯æ²’è¢«ä¸‰å‰ç¥ç¶“ç—›é>å¤±æˆ€å¾ˆç—›ï¼Ÿé‚£ä½ æ˜¯æ²’è¢«ä¸‰å‰ç¥ç¶“ç—›é</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a537a8b3.html alt=æ‡·å¯§ï¼šæ¿€æ´»é„‰æ‘æ²»ç†â€œæœ«æ¢¢ç¥ç¶“â€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a537a8b3.html title=æ‡·å¯§ï¼šæ¿€æ´»é„‰æ‘æ²»ç†â€œæœ«æ¢¢ç¥ç¶“â€>æ‡·å¯§ï¼šæ¿€æ´»é„‰æ‘æ²»ç†â€œæœ«æ¢¢ç¥ç¶“â€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2d4e8348.html alt="æ”¾å°„ç¥ç¶“å¤–ç§‘ | ä¼½ç‘ªåˆ€æ²»ç™‚é ¸éœè„ˆçƒç˜¤24ä¾‹è‡¨åºŠåˆ†æ-å­«å›æ˜­ å¼µåŠå¯§" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/SFQ9E4gA47J7Fe style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2d4e8348.html title="æ”¾å°„ç¥ç¶“å¤–ç§‘ | ä¼½ç‘ªåˆ€æ²»ç™‚é ¸éœè„ˆçƒç˜¤24ä¾‹è‡¨åºŠåˆ†æ-å­«å›æ˜­ å¼µåŠå¯§">æ”¾å°„ç¥ç¶“å¤–ç§‘ | ä¼½ç‘ªåˆ€æ²»ç™‚é ¸éœè„ˆçƒç˜¤24ä¾‹è‡¨åºŠåˆ†æ-å­«å›æ˜­ å¼µåŠå¯§</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0ac4e6b0.html alt="â€œè¨“ç·´ä¸­å¿ƒâ€åŸºæœ¬æ“ä½œ æ–°æ‰‹å…¥é–€å¯å¿«é€Ÿä¸Šæ‰‹ï¼" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/986b0004185ef13341b4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0ac4e6b0.html title="â€œè¨“ç·´ä¸­å¿ƒâ€åŸºæœ¬æ“ä½œ æ–°æ‰‹å…¥é–€å¯å¿«é€Ÿä¸Šæ‰‹ï¼">â€œè¨“ç·´ä¸­å¿ƒâ€åŸºæœ¬æ“ä½œ æ–°æ‰‹å…¥é–€å¯å¿«é€Ÿä¸Šæ‰‹ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/df3191d7.html alt="ç†±èº«è¨“ç·´ï¼Œæº–å‚™é–‹å§‹ ï¼Œä¸€æ‹›ä¸€å¼å–šé†’èº«é«”" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8341520cbad340d9aabf407c2800fd62 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/df3191d7.html title="ç†±èº«è¨“ç·´ï¼Œæº–å‚™é–‹å§‹ ï¼Œä¸€æ‹›ä¸€å¼å–šé†’èº«é«”">ç†±èº«è¨“ç·´ï¼Œæº–å‚™é–‹å§‹ ï¼Œä¸€æ‹›ä¸€å¼å–šé†’èº«é«”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8e59046e.html alt=è…¦å¤–å‚·ç—…äººçš„æ—¥å¸¸ç”Ÿæ´»èƒ½åŠ›è¨“ç·´ï¼šåœ¨åºŠä¸Šæ€éº¼å‘å·¦å³ç§»å‹•ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/4aed0000b4ee529b04aa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8e59046e.html title=è…¦å¤–å‚·ç—…äººçš„æ—¥å¸¸ç”Ÿæ´»èƒ½åŠ›è¨“ç·´ï¼šåœ¨åºŠä¸Šæ€éº¼å‘å·¦å³ç§»å‹•ï¼Ÿ>è…¦å¤–å‚·ç—…äººçš„æ—¥å¸¸ç”Ÿæ´»èƒ½åŠ›è¨“ç·´ï¼šåœ¨åºŠä¸Šæ€éº¼å‘å·¦å³ç§»å‹•ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/dfb3b071.html alt="é«”èƒ½è¨“ç·´é«˜æ•ˆç‡ƒè„‚è¨ˆåŠƒï¼š9å€‹å‹•ä½œå¿«é€Ÿæå‡ç‡ƒè„‚è³ªé‡ çªç ´æ¸›è„‚ç“¶é ¸æœŸ" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/615a00057863e9e221d1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/dfb3b071.html title="é«”èƒ½è¨“ç·´é«˜æ•ˆç‡ƒè„‚è¨ˆåŠƒï¼š9å€‹å‹•ä½œå¿«é€Ÿæå‡ç‡ƒè„‚è³ªé‡ çªç ´æ¸›è„‚ç“¶é ¸æœŸ">é«”èƒ½è¨“ç·´é«˜æ•ˆç‡ƒè„‚è¨ˆåŠƒï¼š9å€‹å‹•ä½œå¿«é€Ÿæå‡ç‡ƒè„‚è³ªé‡ çªç ´æ¸›è„‚ç“¶é ¸æœŸ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/dc2717e6.html alt=å¯æ³¨å°„çš„æŸ”æ€§é›»æ¥µå¯ä»¥ä»£æ›¿å‰›æ€§ç¥ç¶“åˆºæ¿€æ¤å…¥ç‰© class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/0df8265d93854ef19f100452c322073b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/dc2717e6.html title=å¯æ³¨å°„çš„æŸ”æ€§é›»æ¥µå¯ä»¥ä»£æ›¿å‰›æ€§ç¥ç¶“åˆºæ¿€æ¤å…¥ç‰©>å¯æ³¨å°„çš„æŸ”æ€§é›»æ¥µå¯ä»¥ä»£æ›¿å‰›æ€§ç¥ç¶“åˆºæ¿€æ¤å…¥ç‰©</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d91018f8.html alt=ç¥ç¶“å…§ç§‘é†«ç”Ÿå¯«æ–‡ç« ï¼Œè©³è§£æ°£ç®¡æ’ç®¡è¡“ï¼Œå‚³æˆæ€¥è¨ºæ¶æ•‘çŸ¥è­˜ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/46e200041563f4a3523b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d91018f8.html title=ç¥ç¶“å…§ç§‘é†«ç”Ÿå¯«æ–‡ç« ï¼Œè©³è§£æ°£ç®¡æ’ç®¡è¡“ï¼Œå‚³æˆæ€¥è¨ºæ¶æ•‘çŸ¥è­˜>ç¥ç¶“å…§ç§‘é†«ç”Ÿå¯«æ–‡ç« ï¼Œè©³è§£æ°£ç®¡æ’ç®¡è¡“ï¼Œå‚³æˆæ€¥è¨ºæ¶æ•‘çŸ¥è­˜</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/70822daf.html alt=TensorFlowå¯¦æˆ°ï¼šChapter-7ä¸‹ï¼ˆTFTSåº«èˆ‡æ™‚é–“åºåˆ—é æ¸¬ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/153490532779764442c6667 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/70822daf.html title=TensorFlowå¯¦æˆ°ï¼šChapter-7ä¸‹ï¼ˆTFTSåº«èˆ‡æ™‚é–“åºåˆ—é æ¸¬ï¼‰>TensorFlowå¯¦æˆ°ï¼šChapter-7ä¸‹ï¼ˆTFTSåº«èˆ‡æ™‚é–“åºåˆ—é æ¸¬ï¼‰</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>