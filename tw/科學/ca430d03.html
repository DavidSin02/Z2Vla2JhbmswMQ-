<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Linuxé«˜æ€§èƒ½æœå‹™å™¨ç·¨ç¨‹ä¹‹é«˜ç´šI/Oå‡½æ•¸è©³è§£ï¼ˆå«å¯¦ä¾‹ä»£ç¢¼ï¼‰ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Linuxé«˜æ€§èƒ½æœå‹™å™¨ç·¨ç¨‹ä¹‹é«˜ç´šI/Oå‡½æ•¸è©³è§£ï¼ˆå«å¯¦ä¾‹ä»£ç¢¼ï¼‰ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/a2cc0f57fdec4d4bae7110590a705e39"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/ca430d03.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/ca430d03.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/ca430d03.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/ca430d03.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/ca430d03.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/ca430d03.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/ca430d03.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/ca430d03.html><meta property="article:published_time" content="2020-10-29T21:13:10+08:00"><meta property="article:modified_time" content="2020-10-29T21:13:10+08:00"><meta name=Keywords content><meta name=description content="Linuxé«˜æ€§èƒ½æœå‹™å™¨ç·¨ç¨‹ä¹‹é«˜ç´šI/Oå‡½æ•¸è©³è§£ï¼ˆå«å¯¦ä¾‹ä»£ç¢¼ï¼‰"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E5%AD%B8/ca430d03.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Linuxé«˜æ€§èƒ½æœå‹™å™¨ç·¨ç¨‹ä¹‹é«˜ç´šI/Oå‡½æ•¸è©³è§£ï¼ˆå«å¯¦ä¾‹ä»£ç¢¼ï¼‰</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E5%AD%B8.html>ç§‘å­¸</a></span></div><div class=post-content><p><strong>ä¸€ã€é‡å®šå‘dupå’Œdup2å‡½æ•¸</strong></p><pre><code>#include &lt;unistd.h&gt;int dup(int file_descriptor);int dup2(int file_descriptor_one, int file_descriptor_two);</code></pre><ul><li>dupå‰µå»ºä¸€å€‹æ–°çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œ æ­¤æè¿°ç¬¦å’ŒåŸæœ‰çš„file_descriptoræŒ‡å‘ç›¸åŒçš„æ–‡ä»¶ã€ç®¡é“æˆ–è€…ç¶²çµ¡é€£æ¥ã€‚</li><li>dupè¿”å›çš„æ–‡ä»¶æè¿°ç¬¦ç¸½æ˜¯å–ç³»çµ±ç•¶å‰å¯ç”¨çš„æœ€å°æ•´æ•¸å€¼ã€‚</li></ul><p>dup2å‡½æ•¸é€šéä½¿ç”¨åƒæ•¸file_descriptor_twoæŒ‡å®šæ–°æè¿°ç¬¦æ•¸å€¼ï¼Œå¦‚æœfile_descriptor_twoå·²ç¶“æ‰“é–‹ï¼Œå‰‡å…ˆé—œé–‰ã€‚è‹¥file_descriptor_one = file_descriptor_twoï¼Œè€Œä¸é—œé–‰ã€‚</p><p>å…©è€…èª¿ç”¨å¤±æ•—å‡è¿”å›-1, ä¸¦è¨­ç½®errnoã€‚</p><pre><code>//åˆ©ç”¨dupæ¨¡æ“¬å¯¦ç¾ä¸€å€‹åŸºæœ¬çš„CGIæœå‹™å™¨#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;string.h&gt;#include &lt;errno.h&gt;#include &lt;sys/socket.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;netinet/in.h&gt;#include &lt;assert.h&gt; int main(int argc, char **argv){	if (argc ï¼= 3) {	     fprintf(stderr, "Usage: %s id port\n", basename(argv[0]));	     return 1;	}		const char *ip = argv[1];	int port = atoi(argv[2]);		struct sockaddr_in address;	bzero(&amp;address, sizeof(address));	address.sin_family = AF_INET;	address.sin_port = htons(port);	inet_pton(AF_INET, ip, &amp;address.sin_addr);		int sock = socket(PF_INET, SOCK_STREAM, 0);	assert(sock &gt;= 0);		int ret = bind(sock, (struct sockaddr*)&amp;address, sizeof(address));	assert(ret != -1);		ret = listen(sock, 5);	assert(ret != -1);		struct sockaddr_in client;	socklen_t client_addrlength = sizeof(client);	int connfd = accept(sock, (struct sockaddr*)&amp;client, &amp;client_addrlength);	if (connfd &lt; 0) {		printf("error: %s\n", strerror(errno));	}	else {		close(STDOUT_FILENO); //é—œé–‰æ¨™æº–è¼¸å‡º		dup(connfd);          //é‡å®šå‘1åˆ°connfdï¼Œé€™æ¨£æœå‹™å™¨çš„æ¨™æº–è¼¸å‡ºå…§å®¹æœƒç›´æ¥ç™¼é€åˆ°å®¢æˆ¶ç«¯socketï¼Œé€™å°±æ˜¯CGIçš„åŸºæœ¬åŸç†				printf("abc. close stdout_fileno test... dup to client\n"); //printfæœƒç›´æ¥è¼¸å‡ºæœƒç™¼é€åˆ°å®¢æˆ¶ç«¯				close(connfd);	}		close(sock);		return 0;}</code></pre><p><strong>æ³¨ï¼šéœ€è¦C/C++ Linuxé«˜ç´šæœå‹™å™¨æ¶æ§‹å¸«å­¸ç¿’è³‡æ–™ç§ä¿¡â€œè³‡æ–™â€ï¼ˆè³‡æ–™åŒ…æ‹¬C/C++ï¼ŒLinuxï¼ŒgolangæŠ€è¡“ï¼ŒNginxï¼ŒZeroMQï¼ŒMySQLï¼ŒRedisï¼Œfastdfsï¼ŒMongoDBï¼ŒZKï¼Œæµåª’é«”ï¼ŒCDNï¼ŒP2Pï¼ŒK8Sï¼ŒDockerï¼ŒTCP/IPï¼Œå”ç¨‹ï¼ŒDPDKï¼Œffmpegç­‰ï¼‰ï¼Œå…è²»åˆ†äº«</strong></p><div class=pgc-img><img alt=Linuxé«˜æ€§èƒ½æœå‹™å™¨ç·¨ç¨‹ä¹‹é«˜ç´šI/Oå‡½æ•¸è©³è§£ï¼ˆå«å¯¦ä¾‹ä»£ç¢¼ï¼‰ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/a2cc0f57fdec4d4bae7110590a705e39><p class=pgc-img-caption></p></div><p><strong>äºŒã€åˆ†æ•£è®€readvå’Œé›†ä¸­å¯«writevå‡½æ•¸</strong></p><p>readvå°‡æ•¸æ“šå¾æ–‡ä»¶æè¿°ç¬¦è®€åˆ°åˆ†æ•£çš„å…§å­˜å¡Šä¸­ï¼Œå³åˆ†æ•£è®€ã€‚</p><p>writevå°‡å¤šå¡Šåˆ†æ•£çš„å…§å­˜ä¸€ä½µå¯«å…¥æ–‡ä»¶æè¿°ç¬¦ä¸­ï¼Œå³é›†ä¸­å¯«ã€‚</p><pre><code>#include &lt;sys/uio.h&gt;ssize_t readv(int fd, const struct iovec *vector, int count);ssize_t writev(int fd, const struct iovec *vector, int count);</code></pre><p>fdåƒæ•¸æ˜¯è¢«æ“ä½œçš„æ–‡ä»¶æè¿°ç¬¦ã€‚</p><p>vectoråƒæ•¸æ˜¯iovecçµæ§‹é«”ï¼š</p><pre><code>#include &lt;sys/uio.h&gt;struct iovec{    void *iov_base;  //æŒ‡å‘ä¸€å€‹ç·©è¡å€ï¼Œé€™å€‹ç·©è¡å€æ˜¯å­˜æ”¾readvæ‰€æ¥æ”¶çš„æ•¸æ“šæˆ–æ˜¯writevå°‡è¦ç™¼é€çš„æ•¸æ“š    size_t iov_len;  //æ¥æ”¶çš„é•·åº¦ä»¥åŠå¯¦éš›å¯«å…¥çš„é•·åº¦};</code></pre><p>countåƒæ•¸æ˜¯vectoræ•¸çµ„çš„é•·åº¦ï¼Œå³æœ‰å¤šå°‘å¡Šå…§å­˜æ•¸æ“šéœ€è¦å¾fdè®€å‡ºæˆ–å¯«åˆ°fdã€‚</p><p>å…©è€…èª¿ç”¨æˆåŠŸæ˜¯è¿”å›è®€å‡º/å¯«å…¥fdçš„å­—ç¯€æ•¸ï¼Œå¤±æ•—è¿”å›-1,ä¸¦è¨­ç½®errnoã€‚é¡ä¼¼æ–¼ç°¡åŒ–ç‰ˆçš„recvmsgå’Œsendmsgã€‚</p><p>ä»¥ä¸‹ç°¡é™‹çš„æ¨¡æ“¬WEBæœå‹™å™¨ï¼Œæ¡ç”¨é›†ä¸­å¯«çš„æ–¹å¼ã€‚çœç•¥äº†HTTPè«‹æ±‚çš„æ¥æ”¶åŠè§£æï¼Œ ç›´æ¥å°‡ç›®æ¨™æ–‡ä»¶ä½œç‚ºç¬¬3å€‹åƒæ•¸å‚³éçµ¦æœå‹™ç«¯ç¨‹åºï¼Œå®¢æˆ¶ç«¯telnetåˆ°æœå‹™ç«¯å³å¯ç²å¾—è©²æ–‡ä»¶ã€‚</p><pre><code>#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#include &lt;unistd.h&gt;#include &lt;assert.h&gt;#include &lt;sys/socket.h&gt;#include &lt;netinet/in.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;errno.h&gt;#include &lt;sys/stat.h&gt;#include &lt;sys/types.h&gt;#include &lt;fcntl.h&gt; #define BUFFER_SIZE 1024 //å®šç¾©å…©ç¨®HTTPç‹€æ…‹ç¢¼å’Œç‹€æ…‹ä¿¡æ¯static const char *status_line[2] = {"200 OK", "500 Internal server error"};  int main(int argc, char **argv){	if(argc != 4) {		fprintf(stderr, "Usage: %s ip port filename\n", basename(argv[0]));		return 1;	}		const char *ip = argv[1];	int port = atoi(argv[2]);	const char *file_name = argv[3];    //å°‡ç›®æ¨™æ–‡ä»¶ä½œç‚ºç¨‹åºçš„ç¬¬ä¸‰å€‹åƒæ•¸å‚³å…¥		struct sockaddr_in address;	bzero(&amp;address, sizeof(address));	address.sin_family = AF_INET;	address.sin_port = htons(port);	inet_pton(AF_INET, ip, &amp;address.sin_addr);		int sock = socket(PF_INET, SOCK_STREAM, 0);	assert(sock &gt;= 0);	printf("create socket success\n");		int reuse = 1;	setsockopt(sock, SOL_SOCKET, SO_REUSEADDR, &amp;reuse, sizeof(reuse));		int ret = bind(sock, (struct sockaddr*)&amp;address, sizeof(address));	assert(ret != -1);	fprintf(stderr, "bind address success\n");		ret = listen(sock, 5);	assert(ret != -1);	fprintf(stderr, "listen success\n");		struct sockaddr_in client;	socklen_t client_addrlength = sizeof(client);		fprintf(stderr, "start accept...\n");		int connfd = accept(sock, (struct sockaddr*)&amp;client, &amp;client_addrlength);	if(connfd &lt; 0) {		printf("error: %s\n", strerror(errno));	}	else {		char header_buf[BUFFER_SIZE];             //ç”¨æ–¼ä¿å­˜HTTPæ‡‰ç­”çš„ç‹€æ…‹è¡Œã€é ­éƒ¨å­—æ®µå’Œä¸€å€‹ç©ºçš„ç·©è¡å€		memset(header_buf, '\0', BUFFER_SIZE);				char *file_buf = NULL;                    //ç”¨æ–¼å­˜æ”¾ç›®æ¨™æ–‡ä»¶å…§å®¹çš„ç·©å­˜		struct stat file_stat;                    //ç”¨æ–¼ç²å–ç›®æ¨™æ–‡ä»¶çš„å±¬æ€§		bool valid = true;                        //ç›®æ¨™æ–‡ä»¶æ˜¯å¦æœ‰æ•ˆ		int len = 0;                              //è¨˜éŒ„header_bufç•¶å‰å·²ä½¿ç”¨çš„å­—ç¯€ç©ºé–“				if(stat(file_name, &amp;file_stat) &lt; 0) {     //ç›®æ¨™æ–‡ä»¶ä¸å­˜åœ¨			valid = false;		}		else {			if(S_ISDIR(file_stat.st_mode)) {  //ç›®æ¨™æ–‡ä»¶æ˜¯ç›®éŒ„				valid = false;			}			else if (file_stat.st_mode &amp; S_IROTH) {               //ç•¶å‰ç”¨æˆ¶æ˜¯å¦æœ‰è®€æ¬Šé™ï¼Œç›¸å°æ–¼ç›®æ¨™æ–‡ä»¶				int fd = open(file_name, O_RDONLY);				file_buf = new char[file_stat.st_size + 1];				memset(file_buf, '\0', file_stat.st_size + 1);								fprintf(stderr, "reading %s file...", file_name);								if (read(fd, file_buf, file_stat.st_size) &lt; 0) {						valid = false;				}			}			else {				valid = false;			}		}		 		if (valid) {   //ç›®æ¨™æ–‡ä»¶æœ‰æ•ˆ				ret = snprintf(header_buf, BUFFER_SIZE-1,								"%s %s\r\n",								"HTTP/1.1", status_line[0]);												len += ret;				ret = snprintf(header_buf+len, BUFFER_SIZE-1-len,								"content-Length: %ld\r\n",								file_stat.st_size);												len += ret;				ret = snprintf(header_buf+len, BUFFER_SIZE-1-len,								"%s", "\r\n");				                                //å°‡header_bufå’Œfile_bufçš„å…§å®¹ä¸€ä½µå¯«å‡º								struct iovec iv[2];				iv[0].iov_base = header_buf;				iv[0].iov_len = strlen(header_buf);				iv[1].iov_base = file_buf;				iv[1].iov_len = file_stat.st_size;								fprintf(stderr, "read %s success\nsending %s file to client...\n", file_name, file_name);								ret = writev(connfd, iv, 2);   //é›†ä¸­å¯«						}		else {     //ç›®æ¨™æ–‡ä»¶ç„¡æ•ˆ			ret = snprintf(header_buf, BUFFER_SIZE-1,							"%s %s\r\n",							"HTTP/1.1", status_line[1]);						len += ret;			ret = snprintf(header_buf+len, BUFFER_SIZE-1-len,							"%s", "\r\n");						fprintf(stderr, "read %s failed\nsending error message to client...\n", file_name);							send(connfd, header_buf, strlen(header_buf), 0);		}				close(connfd);				if (file_buf != NULL) {			delete[] file_buf;			file_buf = NULL;		}	}		close(sock);			return 0;}</code></pre><p><strong>ä¸‰ã€sendfileå‡½æ•¸</strong></p><p>sendfileåœ¨å…©å€‹æ–‡ä»¶æè¡“ç¬¦ä¹‹é–“ç›´æ¥å‚³éæ•¸æ“šï¼Œå®Œå…¨åœ¨å…§æ ¸ä¸­æ“ä½œï¼Œå¾è€Œé¿å…äº†å…§æ ¸ç·©è¡å€åˆ°ç”¨æˆ¶ç·©è¡å€çš„æ‹·è²ï¼Œå› æ­¤æ•ˆç‡å¾ˆé«˜ï¼Œç¨±ç‚ºé›¶æ‹·è²ã€‚</p><pre><code>#include &lt;sys/sendfile.h&gt;ssize_t sendfile(int out_fd, int in_fd, off_t *offset, size_t count);</code></pre><p>out_fdåƒæ•¸æ˜¯å¾…å¯«å…¥å…§å®¹çš„æ–‡ä»¶æè¿°ç¬¦ã€‚</p><p>in_fdåƒæ•¸æ˜¯å¾…è®€å‡ºå…§å®¹çš„æ–‡ä»¶æè¿°ç¬¦ã€‚</p><p>offsetåƒæ•¸æŒ‡å®šå¾è®€å…¥æ–‡ä»¶æµçš„å“ªå€‹ä½ç½®é–‹å§‹è®€ï¼Œå¦‚æœç‚ºç©ºï¼Œå‰‡å¾æ–‡ä»¶æµçš„é»˜èªèµ·å§‹ä½ç½®è®€å…¥ã€‚</p><p>countåƒæ•¸æŒ‡å®šå‚³è¼¸çš„å­—ç¯€æ•¸ã€‚</p><p>èª¿ç”¨æˆåŠŸæ™‚è¿”å›å‚³è¼¸çš„å­—ç¯€æ•¸ï¼Œå¤±æ•—å‰‡ç‚º-1ï¼Œä¸¦è¨­ç½®errno</p><p>æ³¨ï¼š manæ‰‹å†ŠæŒ‡å‡ºï¼Œin_fdå¿…é ˆæ˜¯ä¸€å€‹æ”¯æŒé¡ä¼¼mmapå‡½æ•¸çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå³å®ƒå¿…é ˆæŒ‡å‘çœŸå¯¦çš„æ–‡ä»¶ï¼Œä¸èƒ½æ˜¯socketå’Œç®¡é“ï¼›è€Œout_fdå¿…é ˆæ˜¯ä¸€å€‹socketã€‚å¯è¦‹ï¼Œsendfileå°ˆç‚ºç¶²çµ¡å‚³è¼¸æ–‡ä»¶è€Œç”Ÿã€‚</p><pre><code>//ç”¨sendfileå‡½æ•¸å‚³è¼¸æ–‡ä»¶#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;string.h&gt;#include &lt;assert.h&gt;#include &lt;errno.h&gt;#include &lt;sys/socket.h&gt;#include &lt;netinet/in.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;sys/types.h&gt;#include &lt;sys/stat.h&gt;#include &lt;sys/sendfile.h&gt;#include &lt;fcntl.h&gt;  int main(int argc, char **argv){	if (argc &lt;= 3) {		fprintf(stderr, "Usage: %s ip port filename\n", basename(argv[0]));		return 1;	}		const char *ip = argv[1];	int port = atoi(argv[2]);	const char *file_name = argv[3];		int filefd = open(file_name, O_RDONLY);	assert(filefd &gt; 0);		struct stat stat_buf;	fstat(filefd, &amp;stat_buf);		struct sockaddr_in address;	bzero(&amp;address, sizeof(address));	address.sin_family = AF_INET;	address.sin_port = htons(port);	inet_pton(AF_INET, ip, &amp;address.sin_addr);		int sock = socket(PF_INET, SOCK_STREAM, 0);	assert(sock &gt;= 0);		int ret = bind(sock, (struct sockaddr*)&amp;address, sizeof(address));	assert(ret != -1);		ret = listen(sock, 5);	assert(ret != -1);		struct sockaddr_in client;	socklen_t client_addrlength = sizeof(client);		int connfd = accept(sock, (struct sockaddr*)&amp;client, &amp;client_addrlength);	if (connfd &lt; 0) {		fprintf(stderr, "errno is: %s\n", strerror(errno));	}	else {		sendfile(connfd, filefd, NULL, stat_buf.st_size);		close(connfd);	}		close(sock);			return 0;}</code></pre><p><strong>spliceå‡½æ•¸</strong></p><p>spliceç”¨æ–¼åœ¨å…©å€‹æ–‡ä»¶æè¿°ç¬¦ä¹‹é–“ç§»å‹•æ•¸æ“šï¼Œ ä¹Ÿæ˜¯é›¶æ‹·è²ã€‚</p><pre><code>#include &lt;fcntl.h&gt;ssize_t splice(int fd_in, loff_t *off_in, int fd_out, loff_t *off_out, size_t len, unsigned int flags);</code></pre><p>fd_inåƒæ•¸æ˜¯å¾…è¼¸å…¥æè¿°ç¬¦ã€‚å¦‚æœå®ƒæ˜¯ä¸€å€‹ç®¡é“æ–‡ä»¶æè¿°ç¬¦ï¼Œå‰‡off_inå¿…é ˆè¨­ç½®ç‚ºNULLï¼›å¦å‰‡off_inè¡¨ç¤ºå¾è¼¸å…¥æ•¸æ“šæµçš„ä½•è™•é–‹å§‹è®€å–ï¼Œæ­¤æ™‚è‹¥ç‚ºNULLï¼Œå‰‡å¾è¼¸å…¥æ•¸æ“šæµçš„ç•¶å‰åç§»ä½ç½®è®€å…¥ã€‚</p><p>fd_out/off_outèˆ‡ä¸Šè¿°ç›¸åŒï¼Œä¸éæ˜¯ç”¨æ–¼è¼¸å‡ºã€‚</p><p>lenåƒæ•¸æŒ‡å®šç§»å‹•æ•¸æ“šçš„é•·åº¦ã€‚</p><p>flagsåƒæ•¸å‰‡æ§åˆ¶æ•¸æ“šå¦‚ä½•ç§»å‹•ï¼š</p><ul><li>SPLICE_F_NONBLOCKï¼šéé˜»å¡çš„splice æ“ä½œï¼Œä½†å¯¦éš›æ•ˆæœé‚„æœƒå—æ–‡ä»¶æè¿°ç¬¦æœ¬èº«çš„é˜»å¡ç‹€æ…‹çš„å½±éŸ¿ã€‚</li><li>SPLICE_F_MOREï¼šçµ¦å…§æ ¸ä¸€å€‹æç¤ºï¼šå¾ŒçºŒçš„ splice ç³»çµ±èª¿ç”¨å°‡æœƒæœ‰æ›´å¤šçš„æ•¸æ“šå‚³ã€‚</li><li>SPLICE_F_MOVEï¼šå¦‚æœåˆé©çš„è©±ï¼ŒæŒ‰æ•´é å…§å­˜ç§»å‹•æ•¸æ“šã€‚é€™åªæ˜¯çµ¦å…§æ ¸çš„ä¸€å€‹æç¤ºã€‚ä¸éï¼Œå› ç‚ºå®ƒçš„å¯¦ç¾å­˜åœ¨BUGï¼Œæ‰€ä»¥è‡ªå…§æ ¸2.6.21å¾Œï¼Œå®ƒå¯¦éš›ä¸Šæ²’æœ‰ä»»ä½•æ•ˆæœã€‚</li></ul><p>æ³¨æ„ï¼šä½¿ç”¨spliceæ™‚ï¼Œ fd_inå’Œfd_outä¸­å¿…é ˆè‡³å°‘æœ‰ä¸€å€‹æ˜¯ç®¡é“æ–‡ä»¶æè¿°ç¬¦ã€‚</p><p>èª¿ç”¨æˆåŠŸæ™‚è¿”å›ç§»å‹•çš„å­—ç¯€æ•¸é‡ï¼›å®ƒå¯èƒ½è¿”å›0,è¡¨ç¤ºæ²’æœ‰æ•¸æ“šéœ€è¦ç§»å‹•ï¼Œé€™é€šå¸¸ç™¼ç”Ÿåœ¨å¾ç®¡é“ä¸­è®€æ•¸æ“šæ™‚è€Œè©²ç®¡é“æ²’æœ‰è¢«å¯«å…¥çš„æ™‚å€™ã€‚</p><p>å¤±æ•—æ™‚è¿”å›-1ï¼Œä¸¦è¨­ç½®errnoã€‚</p><p style=text-align:center>spliceå‡½æ•¸å¯èƒ½ç”¢ç”Ÿçš„errnoåŠå…¶å«ç¾©</p><div class=pgc-img><img alt=Linuxé«˜æ€§èƒ½æœå‹™å™¨ç·¨ç¨‹ä¹‹é«˜ç´šI/Oå‡½æ•¸è©³è§£ï¼ˆå«å¯¦ä¾‹ä»£ç¢¼ï¼‰ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5cb636f55ca24d9ebd51fc59329a6fce><p class=pgc-img-caption></p></div><p>ä¸‹é¢ä»£ç¢¼ï¼šé€šéspliceå°‡å®¢æˆ¶ç«¯çš„å…§å®¹è®€å…¥åˆ°ç®¡é“ä¸­ï¼Œ å†å¾ç®¡é“ä¸­è®€å‡ºåˆ°å®¢æˆ¶ç«¯ï¼Œå¾è€Œå¯¦ç¾é«˜æ•ˆç°¡å–®çš„å›é¡¯æœå‹™ã€‚æ•´å€‹éç¨‹æœªåŸ·è¡Œrecv/sendï¼Œå› æ­¤ä¹Ÿæœªæ¶‰åŠç”¨æˆ¶ç©ºé–“åˆ°å…§æ ¸ç©ºé–“çš„æ•¸æ“šæ‹·è²ã€‚</p><pre><code>//ä½¿ç”¨spliceå¯¦ç¾çš„å›é¡¯æœå‹™å™¨#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/socket.h&gt;#include &lt;netinet/in.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;assert.h&gt;#include &lt;errno.h&gt;#include &lt;string.h&gt;#include &lt;fcntl.h&gt;  int main(int argc, char **argv){ 	if (argc &lt;= 2) {		printf("usage: %s ip port\n", basename(argv[0]));		return 1;	}		const char *ip = argv[1];	int port = atoi(argv[2]); 	struct sockaddr_in address;	bzero(&amp;address, sizeof(address));	address.sin_family = AF_INET;	address.sin_port = htons(port);	inet_pton(AF_INET, ip, &amp;address.sin_addr); 	int sock = socket(PF_INET, SOCK_STREAM, 0);	assert(sock &gt;= 0);		int reuse = 1;	setsockopt(sock, SOL_SOCKET, SO_REUSEADDR, &amp;reuse, sizeof(reuse)); 	int ret = bind(sock, (struct sockaddr*)&amp;address, sizeof(address));	assert(ret != -1); 	ret = listen(sock, 5);	assert(ret != -1);		struct sockaddr_in client;	socklen_t client_addrlength = sizeof(client);		int connfd = accept(sock, (struct sockaddr*)&amp;client, &amp;client_addrlength);	if (connfd &lt; 0) {		printf("errno is: %s\n", strerror(errno));	}	else {		int pipefd[2];						ret = pipe(pipefd);  //å‰µå»ºç®¡é“		assert(ret != -1);		                //å°‡connfdä¸Šçš„å®¢æˆ¶ç«¯æ•¸æ“šå®šå‘åˆ°ç®¡é“ä¸­		ret = splice(connfd, NULL, pipefd[1], NULL,						32768, SPLICE_F_MORE | SPLICE_F_MOVE);		assert(ret != -1);		                //å°‡ç®¡é“çš„è¼¸å‡ºå®šå‘åˆ°connfdä¸Š		ret = splice(pipefd[0], NULL, connfd, NULL,						32768, SPLICE_F_MORE | SPLICE_F_MOVE);		assert(ret != -1);								close(connfd);	} 		close(sock);    	return 0;}</code></pre><p><strong>teeå‡½æ•¸</strong></p><p>teeåœ¨å…©å€‹ç®¡é“æ–‡ä»¶æè¿°ä¹‹é–“è¤‡è£½æ•¸æ“šï¼Œä¹Ÿæ˜¯é›¶æ‹·è²æ“ä½œã€‚</p><pre><code>#include &lt;fcntl.h&gt;ssize_t tee(int fd_in, int fd_out, size_t len, unsigned int flags);</code></pre><p>å®ƒçš„åƒæ•¸èˆ‡spliceç›¸åŒï¼Œä½†fd_inå’Œfd_outéƒ½å¿…é ˆæ˜¯ç®¡é“æ–‡ä»¶æè¿°ç¬¦ï¼Œèª¿ç”¨æˆåŠŸæ™‚è¿”å›è¤‡è£½çš„å­—ç¯€æ•¸ã€‚è¿”å›0è¡¨ç¤ºæ²’æœ‰è¤‡è£½ä»»å‹™æ•¸æ“šã€‚å¤±æ•—æ™‚è¿”å›-1ï¼Œä¸¦è¨­ç½®errnoã€‚</p><p>ç”¨teeå’Œspliceå¯¦ç¾å¾æ¨™æº–è¼¸å…¥åˆ°çµ‚ç«¯å’Œæ–‡ä»¶çš„ç¨‹åºï¼š</p><pre><code>#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;#include &lt;string.h&gt;#include &lt;errno.h&gt;#include &lt;fcntl.h&gt;#include &lt;assert.h&gt; int main(int argc, char **argv){	if (argc != 2) {		fprintf(stderr, "Usage: %s &lt;file&gt;\n", argv[0]);		return 1;	}		uid_t uid = getuid();	uid_t euid = geteuid();	printf("userid: %d, effective userid: %d\n", uid, euid);		int filefd = open(argv[1], O_CREAT | O_WRONLY | O_TRUNC, 0666);	assert(filefd &gt; 0);		int pipefd_stdout[2];	int ret = pipe(pipefd_stdout);	assert(ret != -1);		int pipefd_file[2];	ret = pipe(pipefd_file);	assert(ret != -1);	        //å°‡æ¨™æº–è¼¸å…¥çš„å…§å®¹è¼¸å‡ºåˆ°ç®¡é“	ret = splice(STDOUT_FILENO, NULL, pipefd_stdout[1], NULL,					32768, SPLICE_F_MORE | SPLICE_F_MOVE);	assert(ret != -1);	        //å°‡ç®¡é“pipefd_stdoutçš„è¼¸å‡ºè¤‡è£½åˆ°ç®¡ç†pipefd_fileçš„è¼¸å…¥ç«¯	ret = tee(pipefd_stdout[0], pipefd_file[1],				32768, SPLICE_F_NONBLOCK);	assert(ret != -1);	        //å°‡ç®¡é“pipefd_fileçš„è¼¸å‡ºå®šå‘åˆ°æ–‡ä»¶æè¿°ç¬¦filefdä¸Šï¼Œå¯«å…¥æ–‡ä»¶	ret = splice(pipefd_file[0], NULL, filefd, NULL,					32768, SPLICE_F_MORE | SPLICE_F_MOVE);	assert(ret != -1);	        //å°‡ç®¡é“pipefd_stdoutçš„è¼¸å‡ºå®šå‘åˆ°æ¨™æº–å‡ºï¼Œ å…¶å…§å®¹å’Œå¯«å…¥æ–‡ä»¶çš„å…§å®¹ä¸€è‡´	ret = splice(pipefd_stdout[0], NULL, STDOUT_FILENO, NULL,					32768, SPLICE_F_MORE | SPLICE_F_MOVE);	assert(ret != -1);		close(filefd);	close(pipefd_file[0]);	close(pipefd_file[1]);	close(pipefd_stdout[0]);	close(pipefd_stdout[1]);		return 0;}</code></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Linux</a></li><li><a>æœå‹™å™¨</a></li><li><a>ç·¨ç¨‹</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/2806cf4d.html alt=åµŒå…¥å¼Linuxç·¨ç¨‹â€”â€”ç¨‹åºå“¡å°ç™½ä¸æ‡‚çš„é€²ç¨‹ã€ä¿¡è™Ÿé‡ã€ä½µç™¼ã€äº’æ–¥ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6fea5f2744614de3884ab26fa09e5a40 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2806cf4d.html title=åµŒå…¥å¼Linuxç·¨ç¨‹â€”â€”ç¨‹åºå“¡å°ç™½ä¸æ‡‚çš„é€²ç¨‹ã€ä¿¡è™Ÿé‡ã€ä½µç™¼ã€äº’æ–¥>åµŒå…¥å¼Linuxç·¨ç¨‹â€”â€”ç¨‹åºå“¡å°ç™½ä¸æ‡‚çš„é€²ç¨‹ã€ä¿¡è™Ÿé‡ã€ä½µç™¼ã€äº’æ–¥</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7e66a0e7.html alt=Linuxç¶²çµ¡ç·¨ç¨‹â€”â€”UDPå»£æ’­è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/a2667182b3d34b2e98e8503a00af90fd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7e66a0e7.html title=Linuxç¶²çµ¡ç·¨ç¨‹â€”â€”UDPå»£æ’­è©³è§£>Linuxç¶²çµ¡ç·¨ç¨‹â€”â€”UDPå»£æ’­è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fc8535c.html alt=ç–«æƒ…éå¾Œï¼Œä½ éœ€è¦çŸ¥é“çš„Linuxå¾Œè‡ºæœå‹™å™¨é–‹ç™¼çŸ¥è­˜é» class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/9466032c-6500-4fe8-b629-49286a2f54eb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fc8535c.html title=ç–«æƒ…éå¾Œï¼Œä½ éœ€è¦çŸ¥é“çš„Linuxå¾Œè‡ºæœå‹™å™¨é–‹ç™¼çŸ¥è­˜é»>ç–«æƒ…éå¾Œï¼Œä½ éœ€è¦çŸ¥é“çš„Linuxå¾Œè‡ºæœå‹™å™¨é–‹ç™¼çŸ¥è­˜é»</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/732d199.html alt=åµŒå…¥å¼Linuxç³»çµ±ç·¨ç¨‹â€”â€”linuxå¤§ç¥æ·±åº¦çµ¦ä½ è¬›è§£é€²ç¨‹ã€èª¿åº¦ã€ä¿¡è™Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/88364fad7d5246c191ed1444d983d186 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/732d199.html title=åµŒå…¥å¼Linuxç³»çµ±ç·¨ç¨‹â€”â€”linuxå¤§ç¥æ·±åº¦çµ¦ä½ è¬›è§£é€²ç¨‹ã€èª¿åº¦ã€ä¿¡è™Ÿ>åµŒå…¥å¼Linuxç³»çµ±ç·¨ç¨‹â€”â€”linuxå¤§ç¥æ·±åº¦çµ¦ä½ è¬›è§£é€²ç¨‹ã€èª¿åº¦ã€ä¿¡è™Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/103109d.html alt=Linuxç¶²çµ¡ç·¨ç¨‹â€”â€”ç„¡é€£æ¥å’Œé¢å‘é€£æ¥å”è­°çš„å€åˆ¥ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/38755fbc61154d06a243d159fdae398b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/103109d.html title=Linuxç¶²çµ¡ç·¨ç¨‹â€”â€”ç„¡é€£æ¥å’Œé¢å‘é€£æ¥å”è­°çš„å€åˆ¥>Linuxç¶²çµ¡ç·¨ç¨‹â€”â€”ç„¡é€£æ¥å’Œé¢å‘é€£æ¥å”è­°çš„å€åˆ¥</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/005f5437.html alt=å“ªäº›ç¶²ç«™å¯ä»¥ä½¿ç”¨é›²æœå‹™å™¨å‘¢ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ad0017473d694263a74bf6ca9dd5b544 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/005f5437.html title=å“ªäº›ç¶²ç«™å¯ä»¥ä½¿ç”¨é›²æœå‹™å™¨å‘¢>å“ªäº›ç¶²ç«™å¯ä»¥ä½¿ç”¨é›²æœå‹™å™¨å‘¢</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/24092427.html alt=åœ¨è‡ªå·±çš„é›»è…¦ä¸Šæ­å»ºæœå‹™å™¨ï¼Œç™¼ä½ˆè‡ªå·±çš„ç¶²ç«™ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/24092427.html title=åœ¨è‡ªå·±çš„é›»è…¦ä¸Šæ­å»ºæœå‹™å™¨ï¼Œç™¼ä½ˆè‡ªå·±çš„ç¶²ç«™>åœ¨è‡ªå·±çš„é›»è…¦ä¸Šæ­å»ºæœå‹™å™¨ï¼Œç™¼ä½ˆè‡ªå·±çš„ç¶²ç«™</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f24146de.html alt=æ€éº¼ç§Ÿç”¨æœå‹™å™¨ï¼Œå“ªç¨®å»ºç«™æœ€å¥½ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/52874987-e2c8-4404-99f4-38f53bad4aec style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f24146de.html title=æ€éº¼ç§Ÿç”¨æœå‹™å™¨ï¼Œå“ªç¨®å»ºç«™æœ€å¥½ï¼Ÿ>æ€éº¼ç§Ÿç”¨æœå‹™å™¨ï¼Œå“ªç¨®å»ºç«™æœ€å¥½ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/614becd5.html alt=æœå‹™å™¨å®‰è£ç¶²ç«™æ•™ç¨‹ã€Œç¶²ç«™ä¸‰ä»¶å¥—â€”â€”LNMPã€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/4c7b778f1e284e98825354694986f6c4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/614becd5.html title=æœå‹™å™¨å®‰è£ç¶²ç«™æ•™ç¨‹ã€Œç¶²ç«™ä¸‰ä»¶å¥—â€”â€”LNMPã€>æœå‹™å™¨å®‰è£ç¶²ç«™æ•™ç¨‹ã€Œç¶²ç«™ä¸‰ä»¶å¥—â€”â€”LNMPã€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c37b69f8.html alt=æœå‹™å™¨æˆç‚ºäº†ç•¶ä»Šç¶²çµ¡æ™‚ä»£çš„å¯µå…’ï¼Œå¦‚ä½•é¸æ“‡ç¶²ç«™é©åˆç¨ç«‹æœå‹™å™¨ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/2308cb41360841aa8df684a5bc19c92c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c37b69f8.html title=æœå‹™å™¨æˆç‚ºäº†ç•¶ä»Šç¶²çµ¡æ™‚ä»£çš„å¯µå…’ï¼Œå¦‚ä½•é¸æ“‡ç¶²ç«™é©åˆç¨ç«‹æœå‹™å™¨ï¼Ÿ>æœå‹™å™¨æˆç‚ºäº†ç•¶ä»Šç¶²çµ¡æ™‚ä»£çš„å¯µå…’ï¼Œå¦‚ä½•é¸æ“‡ç¶²ç«™é©åˆç¨ç«‹æœå‹™å™¨ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/24a6006e.html alt=æœå‹™å™¨æ¶æ§‹ï¼šåå¼µåœ–å¸¶ä½ ç­è§£å¤§å‹ç¶²ç«™æ¶æ§‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/2af10e2429bc47a5823244277a07bb77 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/24a6006e.html title=æœå‹™å™¨æ¶æ§‹ï¼šåå¼µåœ–å¸¶ä½ ç­è§£å¤§å‹ç¶²ç«™æ¶æ§‹>æœå‹™å™¨æ¶æ§‹ï¼šåå¼µåœ–å¸¶ä½ ç­è§£å¤§å‹ç¶²ç«™æ¶æ§‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d28cf747.html alt=æœå‹™å™¨ç¶²ç«™é‹è¡Œç’°å¢ƒå¯¶å¡”é¢æ¿å®‰è£æ•™ç¨‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/8e911d07ba5b4d8c89535809fed5021b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d28cf747.html title=æœå‹™å™¨ç¶²ç«™é‹è¡Œç’°å¢ƒå¯¶å¡”é¢æ¿å®‰è£æ•™ç¨‹>æœå‹™å™¨ç¶²ç«™é‹è¡Œç’°å¢ƒå¯¶å¡”é¢æ¿å®‰è£æ•™ç¨‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d8abf55d.html alt=è™›æ“¬ä¸»æ©Ÿæœå‹™å™¨é©ç”¨å“ªäº›é¡å‹ç¶²ç«™ï¼Ÿå…¶é¸æ“‡çœ‹ä»€éº¼ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/dfic-imagehandler/e73b4b7a-50c7-4687-823c-30a7523d8c4a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d8abf55d.html title=è™›æ“¬ä¸»æ©Ÿæœå‹™å™¨é©ç”¨å“ªäº›é¡å‹ç¶²ç«™ï¼Ÿå…¶é¸æ“‡çœ‹ä»€éº¼ï¼Ÿ>è™›æ“¬ä¸»æ©Ÿæœå‹™å™¨é©ç”¨å“ªäº›é¡å‹ç¶²ç«™ï¼Ÿå…¶é¸æ“‡çœ‹ä»€éº¼ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4c77e1c3.html alt=è·Ÿè‘—ä¸€èµ·ä¾†åŸºæ–¼Apacheæœå‹™å™¨éƒ¨ç½²WEBç¶²ç«™ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/221ad8e63e62434eb3b54b7f20b6154c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4c77e1c3.html title=è·Ÿè‘—ä¸€èµ·ä¾†åŸºæ–¼Apacheæœå‹™å™¨éƒ¨ç½²WEBç¶²ç«™>è·Ÿè‘—ä¸€èµ·ä¾†åŸºæ–¼Apacheæœå‹™å™¨éƒ¨ç½²WEBç¶²ç«™</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/041eb04f.html alt=é˜¿é‡Œé›²æœå‹™å™¨å¿«é€Ÿå»ºç¶²ç«™_å®‰è£BTå¯¶å¡”é¢æ¿å’Œwordpress class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/f2aaf81828344428b39b2102e2a62c2a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/041eb04f.html title=é˜¿é‡Œé›²æœå‹™å™¨å¿«é€Ÿå»ºç¶²ç«™_å®‰è£BTå¯¶å¡”é¢æ¿å’Œwordpress>é˜¿é‡Œé›²æœå‹™å™¨å¿«é€Ÿå»ºç¶²ç«™_å®‰è£BTå¯¶å¡”é¢æ¿å’Œwordpress</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>