<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>深入淺出聊抖動（Jitter） | 极客快訊</title><meta property="og:title" content="深入淺出聊抖動（Jitter） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/R9An7xJAnq24zB"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/d76f597e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/d76f597e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/d76f597e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/d76f597e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/d76f597e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/d76f597e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e5%ad%b8/d76f597e.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e5%ad%b8/d76f597e.html><meta property="article:published_time" content="2020-11-14T20:50:23+08:00"><meta property="article:modified_time" content="2020-11-14T20:50:23+08:00"><meta name=Keywords content><meta name=description content="深入淺出聊抖動（Jitter）"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E5%AD%B8/d76f597e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>深入淺出聊抖動（Jitter）</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E5%AD%B8.html>科學</a></span></div><div class=post-content><p>來源：EETOP論壇 及 不忘初心的模擬小牛牛公眾號</p><p>作者：131v1vv</p><p><strong>抖動（上）</strong></p><p><strong>內容提要：</strong></p><p><em>1、概述</em></p><p>2、抖動基本概念</p><p><em>3、抖動分類</em></p><p><em>4、抖動時域表示</em></p><p><em>5、抖動頻域表示</em></p><p><em>6、抖動和相噪轉化</em></p><p><em>7、抖動容限和浴盆曲線</em></p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R9An7xJAnq24zB><p><strong>1、概述</strong></p><p>先舉個例子，假如你每天早上要去趕一趟8點鐘始發的地鐵，出門要走5分鐘的路。假如地鐵只有30秒鐘的開門時間。為了不等待，也不錯過。那麼你出門的時間就必須卡在7:54'30''到7:55'00"之間。那如果在趕路的過程中出現了意外，比如今天走慢了，就可能趕不上了。當然你也不希望這班地鐵來早了，你也可能錯過這趟車。人生處處是意外，處處是驚喜。我們把這種時間的不確定性，形象的理解為時間抖動(<em>Jitter</em>)。這裡邊就有著描述時間的兩個基本概念，時間點（八點鐘）和時間段（30秒鐘），需要區分開這兩個基本概念。</p><p>我們通過圖1，簡單回顧一下總相位φ，超量相位φe，頻率f，角頻率ω的概念。圖1 為基本的正弦波為相位的函數，而相位又是角頻率和時間的函數。準確地說相位為角頻率對時間的積分。角頻率（rad/s）是頻率(Hz)的2π倍。比如大家都瞭解的鎖相環（PLL）就是通過負反饋，保證反饋時鐘的相位跟蹤鎖定輸入時鐘的相位，得到需要的輸出時鐘頻率的目的。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/R9An7xnEzuHXZI><p>圖1</p><p>如果存在超量相位(Excess Phase)是時間的函數，其對時間的二階微分不等於0，那麼表現在頻率上就是頻率隨時間的變化，也就是其週期會隨時間的變化。如圖2所示，黑色為固定角頻率的總相位-時間曲線，紅色為包含了隨時間變化的超量相位的總相位-時間曲線。那麼經過整形後，分別對應如圖的理想時鐘和抖動時鐘。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9An7y26cwaLcx><p>圖2</p><p>圖2的例子說明隨時間變化的超量相位的存在(相位噪聲)可能會引起頻率的變化，從而帶來抖動，兩者內在是相互統一的。後邊會詳細討論相位噪聲、抖動及相互關係。</p><p><strong>2、抖動基本概念</strong></p><p>我們先回顧幾個描述時鐘抖動(Clock Jitter)的幾個基本概念，如圖3。</p><p><strong>絕對抖動(Absolute Jitter)，</strong>絕對抖動就是一個衡量時間點的不確定性概念，參考為理想時鐘的時間點，該相對偏差量可能表示為一個離散時間的隨機變量。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9An7yHBI0Z6SP><p>圖3</p><p>絕對抖動造成的時間點不確定性可能會對很多采樣電路有影響，比如說數據時鐘恢復電路（CDR）中，需要利用時鐘沿對數據的中心和數據變化的沿進行採樣，採樣時鐘的絕對抖動對於CDR的抖動容限有直接影響。</p><p>如圖4，時鐘Clk半速率採樣非理想的數據Data，如果時鐘clk偏離中間採樣位置，該抖動會造成採樣後數據的錯誤。且該抖動越大，數據的誤碼率就越高。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/R9An7yTDY9Dx4v><p>圖4</p><p>週期抖動(Period Jitter)是一個衡量時間段不確定性的概念，定義為實際時鐘和理想時鐘的週期偏差，同樣可以表示為離散事件隨機變量。如圖3</p><p>其實週期抖動的概念應該是大家最熟悉的。考慮圖5中的簡單數字同步電路模型。由於時鐘樹網絡的非理想，根時鐘CK經過不同的時鐘buffer到達圖中觸發器的時鐘端分別為CK1和CK2，並且都和CK存在不同的歪斜時間（Skew time），將CK的第一個上升沿作為初始時刻0。可以得到數據D1到D2的變化所需時間。如圖分別計算了數據滿足建立時間的最晚時刻t1，以及實際到達時刻t2。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9An8YC5r5mLaB><p>圖5</p><p>注意t1表達式包含了時鐘週期Tclk，存在非理想因素。在數字電路的綜合過程中，需要提前設置時鐘的不確定性（Clock uncertainty）來約束時序，其中時鐘不確定性就包含了<strong>時鐘的skew</strong>，<em>週期抖動jitter和裕量margin</em>。即如果時鐘CK非理想，圖中t1時間需要在減去時鐘抖動的分量，比如週期抖動的峰峰值（給定BER的條件下）。當然通常還會多加一些裕量。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/R9An8YL4J6xYje><p>圖6</p><p>圖6給出了滿足高斯分佈的隨機抖動(RJ)均方根值和峰峰值滿足不同誤碼率的轉換關係。如果你是CK時鐘源的設計者。那麼所設計OSC的週期抖動就是一個重要設計指標。需要提前和數字人員溝通協商好，雙方都留好餘量。避免設計不滿足要求的情況出現。</p><p>當週期抖動的概念擴展到N個週期，就是N週期抖動（N-Period Jitter）。這裡N並不特指具體數字，可根據需要得到特定的正整數。比如N分頻器，如果分頻器是理想的，其實關注的是分頻前N個週期的抖動。</p><p>相鄰週期間抖動（Cycle-to-Cycle Jitter），定義為相鄰週期的週期差值。可通過週期抖動進行轉換。如圖3。為了降低EMI，很多時鐘都通過展頻功能。將信號能量分散到一定的頻段內。比如說通過週期鋸齒波調製的展頻，對於其噪聲抖動特性，就可以通過鄰週期間抖動來衡量。</p><p>除了以上大家熟知描述時鐘的PJ，CCJ等概念，實際上還有一些其他常見概念，這裡進行了彙總如下圖7，包括相同或相似概念的不同表述。比如TIE和Phase jitter等。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R9An8YTIDA7Hu3><p>圖7</p><p><strong>3、抖動分類</strong></p><p>目前最常見的抖動分類如圖8所示。總體抖動(TJ)可以根據抖動的幅度是否有界分為兩大類，確定性抖動（DJ）和隨機抖動（RJ）。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9An8YcUjlEkf><p>圖8</p><p>其中隨機抖動RJ是包含了所有具有<strong>無界（Unbounded）</strong>PDF的抖動。比如常說的具有高斯分佈PDF的高斯抖動，具有各頻點相等PDF的熱噪聲引起的抖動。</p><p>因其分佈有無界的特點，理論上說其抖動值概率上可能為無窮大。在描述該類型抖動時需要提供概率界限（如BER）。所以，下次當你告訴別人你設計的100MHz振盪器的週期抖動的峰峰值為50ps@BER=1E-6時，順便告訴別人是在什麼樣的概率下，方便判斷設計的性能指標。</p><p>確定性抖動DJ包含的是具有<em>有界（Bounded）</em>PDF的抖動分量。可粗略地分為和數據相關的抖動DDJ，週期性抖動(<em>Periodic Jitter，PJ</em>)，和有界不相關抖動BUJ。</p><p><strong>注：</strong><strong>Periodic jitter</strong><strong>和Period jitter是兩個不同的概念，雖然都簡稱為PJ，要注意區分。</strong></p><p>DDJ抖動常見的為串行通信中的碼間干擾ISI，信號的低通特性及數據的前後相關會造成數據的抖動現象。</p><p>DCD抖動是由於時鐘的佔空比失真造成的抖動。</p><p>SJ（Sinusiodal Jitter），正弦抖動，因為該抖動僅在一個頻點上，經常用了驗證和測試電路的性能，不如時鐘數據恢復電路CDR的抖動容限(Jitter tolerance)。</p><p>還有有界不相關抖動BUJ，這裡主要有由電源或相鄰信道的串擾等引起的，可以是週期的(Periodic)，也可以是非週期的(non-periodic)。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R9An8Yl2ujJwMZ><p>圖9</p><p>如圖9和10，可以從不同維度對抖動的是否有界和是否和數據相關進行劃分以及抖動來源進行總結。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9An8qHCiJUCIb><p>圖10</p><p><strong>4、抖動時域表示</strong></p><p>既然抖動量可近似為隨機過程，那麼統計學的很多指標都可以用。比如說期望，方差，標準差，峰峰值等等。可以根據需要選擇使用。</p><p>如圖11通過統計不同幅度區間的jitter頻數得到的直方圖，可直觀的觀察到抖動分佈趨勢，如圖中紅色輪廓。或通過數學近似得到概率密度函數（PDF），來描述其不同抖動的分佈。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R9An8qT4IQ0DtC><p>圖11</p><p>圖12列出了幾個不同類型抖動的樣本點和統計直方圖，比較直觀地表現幾種不同抖動的所具有的PDF特點。比如正弦抖動SJ的時域幅度會比較集中在兩個邊界之間。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9An8qeFS8MZ8><p>圖12</p><p>圖13補充了包含了幾個不同單一抖動類型的眼圖。實際上在高速接口的測試中，可通過誤碼率測試儀BERT，可以方便的添加一種或多種抖動類型，通過抖動注入驗證系統對抖動的性能。或者測量分析抖動的組成及分量比重。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9An8qo4ctQHmt><p>圖13</p><p>現實中碰到的一個現象就是統計的抖動的輪廓會有著複雜的形狀，不能簡單地使用圖12中的一種來表示。也就是現實中的抖動通常是包含了不同類型抖動的疊加。比如在高速串行接口中，TX發送數據的抖動，是時鐘，TX發送器，電源和相鄰信道串擾等，不同源頭、類型抖動綜合影響的結果。</p><p>基於概率論的知識，對於相互獨立的不同抖動通過<strong>卷積運算</strong>可以得到總體抖動。如圖11，直方圖可以等效為具有高斯分佈的RJ和具有狄拉克分佈的DJ經過卷積的結果。</p><p>對於測量儀器，在測量得到抖動PDF，通常需要將抖動分解，給出不同類型的抖動的計算結果方便技術人員分析各部分抖動的分量和比例。分析原因優化設計。</p><p>目前抖動分解最常用的一種是高斯尾部擬合（tail fit）分離算法。既然抖動可以看做RJ和不同類型的（<strong>有界</strong>）DJ的卷積合成而來，那麼在遠離DJ的界限的範圍，其PDF會很接近高斯分佈的尾部。且在左右尾部的高斯分佈會有著相同的標準差σ，也即將RJ分離出，然後結合下一節會學習到的頻域的細節進一步將DJ分解。</p><p>如圖14左為一個非高斯分佈通過尾部擬合，得到兩個高斯分佈都具有相同的標準差σ=1ps，右圖為使用尾部擬合分離得到的概率分佈和實際的分佈誤差比較小。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R9An8qzHV5ZyeM><p>圖14</p><p><strong>抖動（下）</strong></p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R9An97B94TTrln><p><strong>5、抖動頻域表示</strong></p><p>我們比較詳細的介紹了功率譜密度的概念，抖動在頻域主要是用相位噪聲（Phase Noise）來表示，也就是相位功率譜密度的單邊帶信息（頻率大於0的部分）。</p><p>系統級我們常用時域的抖動描述。但對於電路級會更廣泛的使用頻域表示。對於像週期性信號，比如時鐘電路。使用相位噪聲是一種常用性能評價方式。</p><p>相位噪聲的產生和電路中熱噪聲，閃爍噪聲等相關。表現出的邊帶功率會是指數衰減。在相位噪聲圖中呈現為1/f^2或1/f^3的特性。如圖1所示。隨著頻偏增大，熱噪聲會占主導地位。PSD頻譜表現為底噪（floor noise）。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R9An97aB05AApw><p>圖1</p><p>那麼從相位噪聲曲線能夠得到哪些信息那？如圖2是某信道發送器Clock Pattern的相噪曲線。該圖中比較明顯的觀察到相位噪聲隨頻偏衰減的信息，另外也顯示了載波頻率，載波功率，輸入衰減倍數，頻偏掃描範圍等信息。</p><p>比如載波頻率為6.25GHz，載波功率為-5.25dBm，輸入衰減為5dB。簡單計算得到發送器輸出方波的幅度約為500mVppd。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9An97lEz9YAu4><p>圖2</p><p>在相噪曲線上，還觀察到在若干個頻點處有比較大的雜散（<strong>spur</strong>ious）分量，實際上需要根據定位對抖動貢獻較大的spur的頻點及其出現的原因，從而優化設計，提高性能。</p><p>如果spur的位置在積分頻段內，可能會使所計算的RJ抖動的RMS值偏大。spur通常對應為DJ分量，因此需要將引入較大誤差的spur從RJ中去除，從而得到比較準確的RJ。</p><p><strong>6、抖動和相噪轉化</strong></p><p>相位噪聲比較直觀的反應了相位功率在頻域的分佈。但在很多時候，更關心對應時域的抖動值。這就需要根據相位噪聲，得到所關心頻率範圍內的積分功率，從而得到抖動值。</p><p>圖3為一個實際發送器的相位噪聲，分別為雙對數座標和對數-線性座標的表示。可以看到雙對數座標能夠比較清楚的反應功率分佈，並且可分段近似為直線段。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/R9An97wGCEzcB8><p>圖3</p><p>低頻偏出近似為1/f^2的噪聲，但在1Mhz頻偏附近處存在尖峰，存在隨著頻率增加，噪聲功率也增加的頻段。可以猜測該部分會對總抖動有較大的貢獻量。</p><p>圖4給出了圖3各頻段歸一化後的抖動貢獻比例。也驗證了我們的猜測。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R9An9859P3ScyX><p>圖4</p><p>其實知道了相位噪聲的曲線，按照圖5公式，也就是對功率譜密度積分得到單邊帶功率的一半，乘以2得到積分頻段的總相位噪聲功率。維納-辛欽定理說明了，該總噪聲功率和對應的超量相位φe方差的關係（超量相位φe可近似為寬平穩隨機過程，均值為0），進而得到標準差。最後再轉化為時域的RJ的均方根值。</p><p>需要注意的是相位噪聲L(f)如果是dBc/Hz的對數表示形式，需要先轉化為線性座標形式。對數座標是不能直接積分成功率值的。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R9An9UR8syWY7S><p>圖5</p><p>在很多時候為了簡單估算抖動，常會使用<strong>折線圖</strong>粗略近似相位噪聲曲線。也就是利用有限個頻率點的數據，採用分段統計累加計算。</p><p>如果是圖6所示的線性-線性座標中的折線圖。兩個頻率點的區間實際上就是<strong>梯形區域</strong>。可用梯形的求面積公式，得到該區域的積分值，分別計算後再累加得到總的積分功率。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/R9An9UmEwq7kIT><p>圖6</p><p>如果是圖7所示的對數-對數座標中的折線圖。其在線性座標中實際上是，表示為指數（a,b,c等）和常量（ha，hb，hc等）的<strong>分段指數函數</strong>。需要根據折線段的首尾兩點數據。計算出表示該折線段的函數參數（指數和常量）。利用定積分得到各區域面積，再累加得到所關心頻段的總噪聲功率。</p><p>在雙對數座標中，根據折線段的首尾數據，可方便的得到指數計算值。轉化為對數座標後，僅僅是數據值的<strong>減法操作</strong>，在很多地方都能找到這種算法的工具，用於計算相位噪聲到抖動的轉化值。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/R9An9Uy5XL7NL8><p>圖7</p><p>再舉個例子，如圖8所示的雙對數座標中的折線段表示的相位噪聲。利用圖7中的計算方法。可分別得到各梯形(線性座標中實際為指數函數，如圖9中的對比)區域的抖動值。根據總功率和抖動有效值關係，各折線分段計算出的抖動(轉化為時間單位s）和總積分抖動的滿足RSS關係。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9An9VCAzT4nrc><p>圖8</p><p>圖9給出了圖8相位噪聲不同座標表示的對比，從線性-線性座標中看到100KHz以下的噪聲功率有比較大的分量。實際上，100～100K範圍的抖動佔了100～4.5G總抖動的97%以上。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R9An9VNEfHGaYw><p>圖9</p><p>圖10顯示了圖8所示相位噪聲在各頻段抖動相對於總抖動的歸一化佔比。極本符合以上的結果。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9AnA5YGdEE0gG><p>圖10</p><p><strong>7、抖動容限和浴盆曲線</strong></p><p>在高速串行通信中，時鐘恢復電路(CDR)能夠跟蹤一定的數據抖動，也就是當數據和時鐘的抖動小於一定的範圍時，CDR能夠正確的恢復出數據來。抖動容限（Jitter Tolerance）就是CDR的一個重要指標。CDR環路和PLL環路模型比較相近。</p><p>在實際測試中，會使用誤碼率測試儀（BERT）對CDR的抖動容限進行測試。通過在數據上增加固定頻率的可調幅度的PJ，分別得到滿足一定誤碼率要求時不同頻點對應的最大PJ幅度。</p><p>常見的CDR抖動容限曲線如圖11所示。對於低頻抖動，CDR能夠完全響應，且隨著抖動頻率降低，能夠容忍抖動的幅度會增加，並且超過1UI。而對於高頻抖動（超過了CDR的閉環帶寬），CDR就無法響應該高頻抖動，理論上這時候抖動的最大幅度約為1UI。並且CDR環路的阻尼係數也會影響帶寬處的JT值。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9AnA5jG3jwDmW><p>圖11</p><p>實際的數據抖動還包含RJ和DJ的分量，在一般的應用中，對於總體抖動的要求為0.2UI~0.7UI，這樣可以達到比較好的性能和功耗折衷。</p><p>在高速串行通信的各種協議規範中，為保證正常的通信，都會對抖動有規格要求。其中用mUI作為單位描述不同類型抖動是常見的方式。前邊我們提到CDR的抖動容限，也就是理論上滿足一定BER條件時，TJpp值小於等於1UI即可。</p><p>而TJ是由有DJ和RJ構成，其近似關係可以表示為如下的公式：</p><p>TJpp≈DJpp+α*RJrms</p><p>其中參數α由誤碼率決定，如抖動（上）所述。實際上TJpp最大值會在不同協議的不同速率上都會有規格說明。有時也會把指標分解到發送器，信道、接收器和參考時鐘等部分。</p><p>比如PCIe Gen1中對發送器(Tx)的最大TJ規定0.15UI，而接收器輸入最大TJ規定為0.3UI，Serial RapidIO level2中發送器(Tx)的最大TJ規定0.3UI，而接收器輸入最大TJ規定為0.55UI。</p><p>誤碼率（Bit Error Ratio，BER）是用於衡量數據傳輸準確度的指標，是傳輸錯誤碼元和總傳輸碼元的比值。比如BER=1E-12，代表每一萬億比特數據中錯誤少於等於1比特。如果是用10Gbps的速率傳輸，可以簡單地理解為平均100s的時間內錯誤小於等於1比特。</p><p><strong>抖動</strong>和<strong>幅度噪聲</strong>都會使數據的傳輸存在出錯的概率，而抖動對誤碼率的影響關係通常用浴盆曲線（Bathtub Curve）描述。</p><p>如圖10，對於<strong>抖動</strong>，浴盆曲線反映了採樣位置和對應的採樣結果錯誤概率的關係。可以看到，滿足高斯分佈的RJ，理論上一定存在錯誤（概率大小問題）的可能。所以減小RJ的標準差對提高誤碼率的重要性不言而喻。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R9AnA5s5eQLKEW><p>圖10</p><p>同樣，幅度的噪聲其實包含了熱噪聲和各種干擾、ISI等因素。圖10中僅考慮幅度滿足高斯分佈的熱噪聲。對於差分信號，判斷的幅度閾值通常為0，當幅度閾值變化時，也同樣有近似的概率分佈函數(CDF)。</p><p>幅度噪聲和時間抖動構成了二維尺度的影響因素，綜合起來就是二維的誤碼率分佈圖，也就是我們常用的眼圖（Eye Diagram）。如圖11所示為開啟DFE功能的內部數據眼圖。不同顏色色環代表不同的誤碼率分佈。</p><img alt=深入淺出聊抖動（Jitter） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R9AnA635jzytey><p>圖11</p><p>希望通過這兩期【抖動（上,下）】內容，大家能夠增強大家對與抖動的相關關的概念的有更多理解和收穫。歡迎大家前往論壇討論：http://bbs.eetop.cn/thread-840734-1-1.html</p><p><strong>點擊閱讀原文查看論壇原帖</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>淺出</a></li><li><a>聊抖動</a></li><li><a>Jitter</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/48ba24d7.html alt=深入淺出：Java事務原理和應用兼JDBC事務詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/3c5e0002a8059c1311aa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/48ba24d7.html title=深入淺出：Java事務原理和應用兼JDBC事務詳解>深入淺出：Java事務原理和應用兼JDBC事務詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e18864df.html alt=深入淺出西門子PLC連載一：西門子S7-300/400通信功能 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d2fa4bebce394c979e42408cab824fdb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e18864df.html title=深入淺出西門子PLC連載一：西門子S7-300/400通信功能>深入淺出西門子PLC連載一：西門子S7-300/400通信功能</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/86bb40ab.html alt=深入淺出聊聊相干光通信（上）看看中長距如何實現400G傳輸 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RFHu4Sf9eDhDDd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/86bb40ab.html title=深入淺出聊聊相干光通信（上）看看中長距如何實現400G傳輸>深入淺出聊聊相干光通信（上）看看中長距如何實現400G傳輸</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b87553dc.html alt=LevelDB深入淺出之整體架構 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/125e826e651c48c3911abad6c8d076c5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b87553dc.html title=LevelDB深入淺出之整體架構>LevelDB深入淺出之整體架構</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/37add9f2.html alt=深入淺出人工智能前沿技術—機器視覺檢測，看清人類智慧工業 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/f5ea93dc2cb2482296f29e57b56ea652 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/37add9f2.html title=深入淺出人工智能前沿技術—機器視覺檢測，看清人類智慧工業>深入淺出人工智能前沿技術—機器視覺檢測，看清人類智慧工業</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d88578e6.html alt="「集合系列」- 深入淺出分析Collection中的List接口" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/592bdfb766d94ddcb9357373d4b2df2f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d88578e6.html title="「集合系列」- 深入淺出分析Collection中的List接口">「集合系列」- 深入淺出分析Collection中的List接口</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a61341cf.html alt=深入淺出排序算法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c898a3bab26542c2965d2bc5bebf9bd8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a61341cf.html title=深入淺出排序算法>深入淺出排序算法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/62bac697.html alt=深入淺出變壓器線圈的同名端和異名端 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b82b410031e84eb98cf3be72ee051a03 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/62bac697.html title=深入淺出變壓器線圈的同名端和異名端>深入淺出變壓器線圈的同名端和異名端</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cff66554.html alt=深入淺出數據庫索引 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/413ce62658ef4b99963ef4043863560e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cff66554.html title=深入淺出數據庫索引>深入淺出數據庫索引</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a9a68594.html alt=深入淺出加密技術 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e8019c160b9a46019f57022ea4416f16 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a9a68594.html title=深入淺出加密技術>深入淺出加密技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a3c371fa.html alt=從原理到優化，深入淺出數據庫索引 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b59d88e0563642728dd6294e09a8a0af style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a3c371fa.html title=從原理到優化，深入淺出數據庫索引>從原理到優化，深入淺出數據庫索引</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9cc54d5.html alt=8.深入淺出：集成運放的電流源 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/21c2834c703e4fb4ba66869e6f7828b4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9cc54d5.html title=8.深入淺出：集成運放的電流源>8.深入淺出：集成運放的電流源</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4c5dfdf.html alt=（真正的通俗易懂）深入淺出的講解傅里葉變換 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/8500acfcf10a43878e9261d701c9a64e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4c5dfdf.html title=（真正的通俗易懂）深入淺出的講解傅里葉變換>（真正的通俗易懂）深入淺出的講解傅里葉變換</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/837d7d3.html alt=深入淺出：差分放大電路 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b8d2a5f28d804b94850d57583c64d7e8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/837d7d3.html title=深入淺出：差分放大電路>深入淺出：差分放大電路</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/63719fd.html alt=深入淺出說監控---------視頻傳輸光纖的選用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/101b198d-7149-45db-9875-a76381d97518 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/63719fd.html title=深入淺出說監控---------視頻傳輸光纖的選用>深入淺出說監控---------視頻傳輸光纖的選用</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>