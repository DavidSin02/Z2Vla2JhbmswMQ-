<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>如何寫一個健壯且高效的串口接收程序？（六） | 极客快訊</title><meta property="og:title" content="如何寫一個健壯且高效的串口接收程序？（六） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/5f946e53bf894c4c9d273498f58cd253"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/00494b2.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/00494b2.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/00494b2.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/00494b2.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/00494b2.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/00494b2.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/00494b2.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/00494b2.html><meta property="article:published_time" content="2020-10-29T21:06:37+08:00"><meta property="article:modified_time" content="2020-10-29T21:06:37+08:00"><meta name=Keywords content><meta name=description content="如何寫一個健壯且高效的串口接收程序？（六）"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/00494b2.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>如何寫一個健壯且高效的串口接收程序？（六）</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>上篇文章介紹了串口數據幀檢查問題，今天說說另兩個問題，串口空閒和通信量問題。</p><hr><p>4、 <strong>串口空閒</strong></p><p>前面一直提到串口空閒，也大概明白串口的作用，但是一些細節問題還是需要好好說一下的。</p><p>第一個問題，如何清除串口空閒中斷標誌位？</p><p>很多人會使用 USART_ClearFlag 標準庫函數進行清除，但是當你跳轉到該函數原型時，你會看到如下說明：</p><div class=pgc-img><img alt=如何寫一個健壯且高效的串口接收程序？（六） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5f946e53bf894c4c9d273498f58cd253><p class=pgc-img-caption></p></div><p class=ql-align-center>你會看到很多標誌位是無法通過該函數清除的。</p><p>那麼該如何清除 IDLE 標誌呢？其實上面的註釋已經進行了說明。</p><p>PE、FE、NE、ORE、IDLE 標誌位的清除是通過一個軟件序列進行清除的：首先通過 USART_GetFlagStatus 讀取 USART_SR 寄存器的值，然後通過 USART_ReceiveData 函數讀取 USART_DR 的值即可。</p><p>那麼這裡就有一個問題，是否這些標誌問題的清除都要單獨編寫清除序列呢？</p><p>答案是否定的。</p><p>因為這些標誌位都是由同一種序列進行清除的，所以只要一個清除序列就會把所有的標誌位都進行清除了（同樣一旦執行了這個序列，也就意味著你無法再通過 USART_SR 寄存器獲得標誌位了）。</p><p>為了保證獲取標誌位，我們可以在清除序列之前把 USART_SR 寄存器的值保存到副本中，然後再讀取 USART_DR 寄存器的值保存到副本來實現清除功能，注意<strong>該序列應該無條件執行（不在某個判斷語句中）</strong>。這樣後續我們就可以使用這個 USART_SR 的副本判斷哪一個標誌置位了，同樣也可以使用 USART_DR 的副本獲取串口數據，而為了實現以上效果，USART_GetFlagStatus 這個函數就不合適了，只能直接操作寄存器去實現。</p><p>第二個問題，在線調試時對空閒中斷會有影響嗎？</p><p>我們知道，KEIL 能夠將一個結構體的數據全部讀取出來，而庫函數將串口模塊的所有寄存器都封裝在一個結構體中，這樣就會出現一個問題，如果你的窗口是實時刷新的，當你使用 KEIL 讀取串口模塊寄存器的時候（不管是使用 peripheral 窗口還是 Watch 窗口），就會出現先讀取 SR 再讀取 DR 的情況， 這樣就有可能出現 KEIL 和單片機 CPU 讀取這兩個寄存器衝突的情況。</p><p>如果全速運行時，KEIL 先執行了這個序列（通過調試器讀取這兩個寄存器的值），單片機 CPU 再讀取 SR 寄存值，必然是無法讀取到正確標誌位的，因為這些標誌位已經被 KEIL 的讀取序列清除了（這個情況魚鷹確實碰到過，當時明明下發了數據，但是單片機無法獲取標誌位），所以在調試串口時，注意不要讓 KEIL 去讀取這些寄存器（即關閉這些窗口，只有在必須的情況下才開啟），防止出現莫名其妙的情況。</p><p>第三個問題，空閒中斷能準確觸發嗎？</p><p>如果從接收端考慮的話，如果觸發了空閒中斷，那麼必然滿足了條件才觸發的，而不是意外觸發的（嗯，我們要相信 STM32），但從發送端考慮的話，有可能出現一幀數據斷續發送，導致一幀數據觸發多次空閒中斷，所以如果是簡單的 DMA+空閒中斷方式接收是很有問題的（空閒出現就認為一幀結束了，就會把一幀數據當成兩幀處理，這樣肯定無法通過數據檢查的）。</p><p>那麼先來分析為什麼會出現一幀數據多次觸發空閒中斷情況。我們知道 linux、windows 系統並不是實時系統，當應用程序需要發送一幀數據時，可能並沒有連續發送，而是發送完一個字節後去處理其他事情後才發送下一個字節，這樣一來，如果耽誤的時間夠長，就會觸發串口的空閒中斷，從而一幀數據當成兩幀處理了。</p><p>那有什麼方法可以解決呢？魚鷹提供兩種解決思路。</p><p>第一種，使用兩個緩存空間，一個緩存空間專門用於接收串口數據，將接收到的數據存放到另一個緩存，這個緩存採用字節隊列的方式進行管理，應用程序從緩存隊列中一個字節一個字節的取出數據進行處理（注意檢查數據有效性），這樣就能保證及時處理。但是因為空閒中斷不再可靠，所以空閒中斷不再作為判斷一幀數據結束的依據（根據長度信息判斷），而是隻在空閒中斷中將已接收數據複製到字節隊列緩存中，這樣就可以處理意外的空閒中斷。</p><p>第二種，還是一個緩存空間，還是 DMA+空閒方式處理，但是需要增加額外的條件。就是當進入空閒中斷後，不再直接處理，而是獲取當前接收時刻，然後在處理數據的時候根據這個時刻來判斷是否達到足夠的空閒時間，只有在進入空閒中斷後並達到一定延時之後才認為一幀數據結束了，這樣可以避免一些非常短的空閒時間（魚鷹公眾號提供過的代碼使用這種方式）。</p><p>以上問題是就是魚鷹以前使用空閒中斷從未考慮的問題，魚鷹並不知道使用空閒中斷還可能出現誤觸發的情況，但是既然知道了，就要想辦法解決。但是為什麼以前使用空閒中斷時沒有出現通信問題呢？</p><p>事實上不是沒有問題，而是有可能把分散的一幀數據的兩部分直接丟棄了而已，因為有重發機制，所以即使丟棄一幀數據，也能通信正常，而且這種一幀數據分散成兩部分的概率還是挺低的，ubuntu（linux 系統）下大概千分之三左右的樣子。</p><p>第四個問題，如果單片機沒有空閒中斷又該如何做？</p><p>當我們使用 RXNE 的同時其實我們也可以使用空閒中斷，這樣也能確定一幀數據的結束（但是要注意前面的誤觸發問題）。但是如果有些低端單片機（如 51 ）沒有空閒中斷又該怎麼辦？</p><p>其實我們可以從 stm32 的空閒中斷得到相應的啟發。</p><p>所謂空閒中斷，就是當串口接收到數據後，在應該接收數據的時刻，發送方並沒有發送數據，所以串口模塊置位空閒標誌位，從而引起空閒中斷。</p><p>那麼我們是否可以軟件模擬串口模塊的這個功能，從而確定一幀數據的結束呢？</p><p>答案是肯定的（前提是每一幀數據之間有空閒時間）。</p><p>我們可以使用一個定時器，定時器向上計數。當接收到一個字節數據後，初始化計數器並啟動定時器，這樣一旦有一段時間沒有接收到串口數據（也就不再初始化計數器），那麼定時器溢出，進入溢出中斷，而這個溢出中斷就類似於串口的空閒中斷（在溢出中斷中關閉定時器以達到清除空閒中斷標誌的作用），這樣就達到了串口空閒中斷的效果（和前面問題的第二種解決方案類似）。</p><p>5、 <strong>通信吞吐量</strong></p><p>在以上分析過程中，都是採用主機發送，從機接收後再回復主機的方式進行通信，雖然通信正常，但實際上效率比較低下，單位時間傳輸的數據量較少，如下圖所示：</p><div class=pgc-img><img alt=如何寫一個健壯且高效的串口接收程序？（六） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/33c884d2a3f14631be19e653bbebe7ee><p class=pgc-img-caption></p></div><p>紅色部分就是必要的空閒時間，可以看到左右兩張圖的通信頻率是有差異的，右圖中從機必須等待前一幀數據發送完畢才能處理數據，而左圖可以在接收當前幀時處理上一幀數據，類似 CPU 的指令執行流水線。</p><div class=pgc-img><img alt=如何寫一個健壯且高效的串口接收程序？（六） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d0766ccd91724f12ac2bd503dd3daa22><p class=pgc-img-caption></p></div><p class=ql-align-center>（圖片來源於《權威指南》）</p><p>我們也可以將串口接收分為二級流水線：接收、處理，如此一來，我們最少需要兩個緩存空間，當一個緩存在接收時，另一個緩存就進行數據處理。發送端可能不等接收端發送完應答數據，它就已經開始發送下一幀數據了，只要相鄰兩幀數據保證一定發送間隔，就能正常觸發中斷。</p><p>同理，因為接收端也不再慢悠悠的等待接收數據，而是可能有好幾幀數據等著它處理，所以為了確保發送端能正常觸發空閒中斷，也需要控制發送間隔。</p><p>為了最大程度利用串口，我們可以使用隊列管理很多緩存空間（當只有兩個緩存時，可以直接使用異或運算進行緩存切換），比如 uCOS II 中我們可以利用系統的內存管理服務和隊列服務實現有效管理，並且當有非常緊急的通信任務時，還可以插入到隊頭優先處理。</p><p>但是增大吞吐量時，對重發機制和從機數據的確認有一定影響，需要考慮清楚。</p><p>對於如何提高通信量，魚鷹經驗不多，就不多說了（或許可以從網絡通信過程中得到答案）。</p><p>如果要用一句話總結本篇筆記內容，那就是使用 <strong>空閒中斷+DMA+隊列+內存管理+定時控制</strong> 方式接收串口數據會是不錯的選擇。</p><hr><p>串口遇到的那些問題到此總結完畢，如果喜歡魚鷹的筆記，記得關注哦，後期將不定時分享新的筆記。</p><div class=tt-column-card data-content='{"new_thumb_url": "http://sf1-ttcdn-tos.pstatp.com/img/pgc-image/6141f257cf6e40b894ee07731deddc49", "title": "C\u8bed\u8a00\u8fdb\u9636", "distribution_user_id": 1623005761908744, "price": 10, "column_id": "6723528829270229261", "author_description": "\u9c7c\u9e70\u8c08\u5355\u7247\u673a", "share_price": 0.8, "thumb_url": "http://p10.pstatp.com/large/pgc-image/6141f257cf6e40b894ee07731deddc49", "sold": 9}'><p class=column-placeholder></p></div><div class=tt-column-card data-content='{"new_thumb_url": "http://sf1-ttcdn-tos.pstatp.com/img/pgc-image/1562760610018d96aff07f7", "title": "KEIL\u8c03\u8bd5\u65b9\u6cd5", "distribution_user_id": 1623005761908744, "price": 50, "column_id": "6712006098632589579", "author_description": "\u9c7c\u9e70\u8c08\u5355\u7247\u673a", "share_price": 4, "thumb_url": "http://p4.pstatp.com/large/pgc-image/1562760610018d96aff07f7", "sold": 4}'><p class=column-placeholder></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>串口</a></li><li><a>一個</a></li><li><a>健壯且</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/ac25d2d0.html alt=30分鐘教你搭建一個網站（一）：購買和配置服務器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/5f26f1582a564e93bde33a7dd9448c3b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ac25d2d0.html title=30分鐘教你搭建一個網站（一）：購買和配置服務器>30分鐘教你搭建一個網站（一）：購買和配置服務器</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d8be5e94.html alt=不會買服務器？一個辦法讓你輕鬆搭網站 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/84d9c54578de46058796824f1bcb6a9b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d8be5e94.html title=不會買服務器？一個辦法讓你輕鬆搭網站>不會買服務器？一個辦法讓你輕鬆搭網站</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c811c5f7.html alt=使用服務器搭建一個網站 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/63a6cc0eb4d146e0890515500c0040ca style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c811c5f7.html title=使用服務器搭建一個網站>使用服務器搭建一個網站</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4b69aa7f.html alt=做一個小型網站，服務器需要什麼配置的呢？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4b69aa7f.html title=做一個小型網站，服務器需要什麼配置的呢？>做一個小型網站，服務器需要什麼配置的呢？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/eee4b8ad.html alt=搭建一個網站，租服務器大概多少錢？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/eee4b8ad.html title=搭建一個網站，租服務器大概多少錢？>搭建一個網站，租服務器大概多少錢？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/62d46b38.html alt=素描祕籍｜一個耳朵！9大知識點，360度全方位深度剖析講解示範！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5e7b0005767168b2b87d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/62d46b38.html title=素描祕籍｜一個耳朵！9大知識點，360度全方位深度剖析講解示範！>素描祕籍｜一個耳朵！9大知識點，360度全方位深度剖析講解示範！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/647df9c2.html alt=一個男人每天24小時跟妻子在一起，久而久之會怎樣 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8359cc22f03e478a8cdb889dcfea3f99 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/647df9c2.html title=一個男人每天24小時跟妻子在一起，久而久之會怎樣>一個男人每天24小時跟妻子在一起，久而久之會怎樣</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5a86d7d9.html alt=每天一個好習慣 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RKdGgquJFM6gnc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5a86d7d9.html title=每天一個好習慣>每天一個好習慣</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/756b16fb.html alt=奶粉寄出一個月，家人遲遲收不到，物流信息也查詢不到，事發阜陽某韻達快遞網點 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/3fd8ec4e-64c1-446a-adfa-38088fb06c01 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/756b16fb.html title=奶粉寄出一個月，家人遲遲收不到，物流信息也查詢不到，事發阜陽某韻達快遞網點>奶粉寄出一個月，家人遲遲收不到，物流信息也查詢不到，事發阜陽某韻達快遞網點</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b29ee719.html alt=又一個走上不歸路的搬磚人 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/bf471da0a06441f88bce49b959234257 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b29ee719.html title=又一個走上不歸路的搬磚人>又一個走上不歸路的搬磚人</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3d6d5661.html alt=多收藏一個，就少求一次人—哪些日常必備神級網站，真正值得收藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/833949926ebf49b89c5fb4075a9cffdd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3d6d5661.html title=多收藏一個，就少求一次人—哪些日常必備神級網站，真正值得收藏>多收藏一個，就少求一次人—哪些日常必備神級網站，真正值得收藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/917424fc.html alt=一個三年級小孩掌握腦王速記法之數字編碼後倒背如流圓周率1萬位 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5b430002414bdad7cc1f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/917424fc.html title=一個三年級小孩掌握腦王速記法之數字編碼後倒背如流圓周率1萬位>一個三年級小孩掌握腦王速記法之數字編碼後倒背如流圓周率1萬位</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/25157041.html alt=聖胡安（波多黎各）：一個很不美國的美國城市 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d049f3231cda4890ae11c23b2c8f8f70 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/25157041.html title=聖胡安（波多黎各）：一個很不美國的美國城市>聖胡安（波多黎各）：一個很不美國的美國城市</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d2ca7396.html alt=人工智能的下一個春天：情緒和情感計算 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ReV1j945oIOAmo style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d2ca7396.html title=人工智能的下一個春天：情緒和情感計算>人工智能的下一個春天：情緒和情感計算</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f649e4a6.html alt=舊廠房孵化新科技——一個國家級高新區的“雙創”見聞 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f649e4a6.html title=舊廠房孵化新科技——一個國家級高新區的“雙創”見聞>舊廠房孵化新科技——一個國家級高新區的“雙創”見聞</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>