<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略 | 极客快訊</title><meta property="og:title" content="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/a278d4d137864ccfa7d933b06e6d0886"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0b2e976.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0b2e976.html><meta property="article:published_time" content="2020-10-29T20:50:28+08:00"><meta property="article:modified_time" content="2020-10-29T20:50:28+08:00"><meta name=Keywords content><meta name=description content="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/0b2e976.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>前言</h1><ul><li>計算機網絡基礎 該是程序猿需掌握的知識，但往往會被忽略</li><li>今天，我將詳細講解計算機網絡中最重要的TCP協議，含其特點、三次握手、四次揮手、無差錯傳輸等知識，希望你們會喜歡。</li></ul><blockquote><p>閱讀本文前，請先了解計算機網絡基礎知識：獻上一份全面 & 詳細的計算機網絡基礎 學習指南</p></blockquote><hr><h1 class=pgc-h-arrow-right>目錄</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a278d4d137864ccfa7d933b06e6d0886><p class=pgc-img-caption></p></div><p>示意圖</p><hr><h1 class=pgc-h-arrow-right>1. 定義</h1><p>Transmission Control Protocol，即 傳輸控制協議</p><blockquote><p>屬於 傳輸層通信協議 基於TCP的應用層協議有HTTP、SMTP、FTP、Telnet 和 POP3</p></blockquote><hr><h1 class=pgc-h-arrow-right>2 特點</h1><ul><li>面向連接、面向字節流、全雙工通信、可靠</li><li>具體介紹如下：</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7c46fed0e54a43aeacf75730c3069a42><p class=pgc-img-caption></p></div><p>示意圖</p><hr><h1 class=pgc-h-arrow-right>3. 優缺點</h1><ul><li>優點：數據傳輸可靠</li><li>缺點：效率慢（因需建立連接、發送確認包等）</li></ul><hr><h1 class=pgc-h-arrow-right>4. 應用場景（對應的應用層協議）</h1><p>要求通信數據可靠時，即 數據要準確無誤地傳遞給對方</p><blockquote><p>如：傳輸文件：HTTP、HTTPS、FTP等協議；傳輸郵件：POP、SMTP等協議</p></blockquote><ul><li>萬維網：HTTP協議</li><li>文件傳輸：FTP協議</li><li>電子郵件：SMTP協議</li><li>遠程終端接入：TELNET協議</li></ul><hr><h1 class=pgc-h-arrow-right>5. 報文段格式</h1><ul><li>TCP雖面向字節流，但傳送的數據單元 = 報文段</li><li>報文段 = 首部 + 數據 2部分</li><li>TCP的全部功能體現在它首部中各字段的作用，故下面主要講解TCP報文段的首部</li></ul><blockquote><p>首部前20個字符固定、後面有4n個字節是根據需而增加的選項 故 TCP首部最小長度 = 20字節</p></blockquote><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/08551e761be94930bb711492f4c31123><p class=pgc-img-caption></p></div><p>示意圖</p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/de1e8ecdc019410fa46d8a6bf0d65dac><p class=pgc-img-caption></p></div><p>示意圖</p><hr><h1 class=pgc-h-arrow-right>6. 建立連接過程</h1><ul><li>TCP建立連接需 <strong>三次握手</strong></li><li>具體介紹如下</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7ed26faf03c047ccbf4db3e4d69404a1><p class=pgc-img-caption></p></div><p>示意圖</p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ca660684d7e44514b947ce0b1bcbfa69><p class=pgc-img-caption></p></div><p>示意圖</p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/580529fc897545ac9194959b07cd0a57><p class=pgc-img-caption></p></div><p>示意圖</p><p><strong>成功進行TCP的三次握手後，就建立起一條TCP連接，即可傳送應用層數據</strong></p><blockquote><p>注</p><p>因 TCP提供的是全雙工通信，故通信雙方的應用進程在任何時候都能發送數據 三次握手期間，任何1次未收到對面的回覆，則都會重發</p></blockquote><h3 class=pgc-h-arrow-right>特別說明：為什麼TCP建立連接需三次握手？</h3><ul><li>結論 防止服務器端因接收了<strong>早已失效的連接請求報文</strong>，從而一直等待客戶端請求，最終導致<strong>形成死鎖、浪費資源</strong></li><li>具體描述</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5ed6240c2eb84c2fa333831cd3f99e49><p class=pgc-img-caption></p></div><p>具體描述</p><blockquote><p>SYN洪泛攻擊：</p><p>從上可看出：服務端的TCP資源分配時刻 = 完成第二次握手時；而客戶端的TCP資源分配時刻 = 完成第三次握手時 這就使得服務器易於受到SYN洪泛攻擊，即同時多個客戶端發起連接請求，從而需進行多個請求的TCP連接資源分配</p></blockquote><hr><h1 class=pgc-h-arrow-right>7. 釋放連接過程</h1><ul><li>在通信結束後，雙方都可以釋放連接，共需 <strong>四次揮手</strong></li><li>具體如下</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/046b7b58267c4baaa9dbae508fb27143><p class=pgc-img-caption></p></div><p>示意圖</p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/854cea57820c413ba687899924601f24><p class=pgc-img-caption></p></div><p>示意圖</p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1019b0eeb692437386e0804e6e2e0751><p class=pgc-img-caption></p></div><p>示意圖</p><h3 class=pgc-h-arrow-right>特別說明：為什麼TCP釋放連接需四次揮手？</h3><ul><li>結論<br>為了保證通信雙方都能通知對方 需釋放 & 斷開連接</li></ul><blockquote><p>即釋放連接後，都無法接收 / 發送消息給對方</p></blockquote><ul><li>具體描述</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ba2c0b7a52414feb856a2202d6368d6c><p class=pgc-img-caption></p></div><p>示意圖</p><blockquote><p>延伸疑問：為什麼客戶端關閉連接前要等待2MSL時間？</p><p>即 TIME - WAIT 狀態的作用是什麼； MSL = 最長報文段壽命（Maximum Segment Lifetime）</p></blockquote><ul><li>原因1：為了保證客戶端發送的最後1個連接釋放確認報文 能到達服務器，從而使得服務器能正常釋放連接</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7ec3d359c8c24c718bb3107e4db94bac><p class=pgc-img-caption></p></div><p>示意圖</p><ul><li>原因2：防止 上文提到的早已失效的連接請求報文 出現在本連接中<br>客戶端發送了最後1個連接釋放請求確認報文後，再經過2MSL時間，則可使本連接持續時間內所產生的所有報文段都從網絡中消失。</li></ul><blockquote><p>即 在下1個新的連接中就不會出現早已失效的連接請求報文</p></blockquote><hr><h1 class=pgc-h-arrow-right>8. 無差錯傳輸</h1><ul><li>對比於UDP，TCP的傳輸是可靠的、無差錯的</li><li>那麼，為什麼TCP的傳輸為什麼是可靠的、無差錯的呢？</li><li>下面，我將詳細講解TCP協議的無差錯傳輸</li></ul><h3 class=pgc-h-arrow-right>8.1 含義</h3><ul><li>無差錯：即 傳輸信道不出差錯</li><li>發送 & 接收效率匹配：即 無論發送方以多快的速度發送數據，接收方總來得及處理收到的數據</li></ul><h3 class=pgc-h-arrow-right>8.2 基礎：滑動窗口 協議</h3><ul><li>先理解2個基礎概念：發送窗口、接收窗口</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e51e1bc88d9b47668701ca4855cd85b7><p class=pgc-img-caption></p></div><p>示意圖</p><ul><li>工作原理<br>對於發送端：</li></ul><ol start=1><li>每收到一個確認幀，發送窗口就向前滑動一個幀的距離</li><li>當發送窗口內無可發送的幀時（即窗口內的幀全部是已發送但未收到確認的幀），發送方就會停止發送，直到收到接收方發送的確認幀使窗口移動，窗口內有可以發送的幀，之後才開始繼續發送<br>具體如下圖：</li></ol><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/36f3551ee20c403fa5df455e06e2e80e><p class=pgc-img-caption></p></div><p>示意圖</p><p>對於接收端：當收到數據幀後，將窗口向前移動一個位置，併發回確認幀，若收到的數據幀落在接收窗口之外，則一律丟棄。</p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e42b7dfad28040f9899697531cf19c9f><p class=pgc-img-caption></p></div><p>示意圖</p><h3 class=pgc-h-arrow-right>滑動窗口 協議的重要特性</h3><ul><li>只有接收窗口向前滑動、接收方發送了確認幀時，發送窗口才有可能（只有發送方收到確認幀才是一定）向前滑動</li><li>停止-等待協議、後退N幀協議 & 選擇重傳協議只是在發送窗口大小和接收窗口大小上有所差別：</li></ul><blockquote><p>停止等待協議：發送窗口大小=1，接收窗口大小=1；即 單幀滑動窗口 等於 停止-等待協議 後退N幀協議：發送窗口大小>1，接收窗口大小=1。 選擇重傳協議：發送窗口大小>1，接收窗口大小>1。</p></blockquote><ul><li>當接收窗口的大小為1時，可保證幀有序接收。</li><li>數據鏈路層的滑動窗口協議中，窗口的大小在傳輸過程中是固定的（注意要與TCP的滑動窗口協議區別）</li></ul><h3 class=pgc-h-arrow-right>8.3 實現無差錯傳輸的解決方案</h3><p>核心思想：採用一些可靠傳輸協議，使得</p><ol start=1><li>出現差錯時，讓發送方重傳差錯數據：即 出錯重傳</li><li>當接收方來不及接收收到的數據時，可通知發送方降低發送數據的效率：即 速度匹配</li></ol><ul><li>針對上述2個問題，分別採用的解決方案是：自動重傳協議 和 流量控制 & 擁塞控制協議</li></ul><h3 class=pgc-h-arrow-right>解決方案1：自動重傳請求協議ARQ（針對 出錯重傳）</h3><ul><li>定義<br>即 Auto Repeat reQuest，具體介紹如下：</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f10ba2a29c0a43aa9871ea2a4bdfe8a7><p class=pgc-img-caption></p></div><p>示意圖</p><ul><li>類型</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ab10bca5ac5b49a298ef49d0c9ad04fa><p class=pgc-img-caption></p></div><p>示意圖</p><p>下面，將主要講解 上述3類協議</p><h3 class=pgc-h-arrow-right>類型1：停等式ARQ（Stop-and-Wait）</h3><ul><li>原理：（單幀滑動窗口）停止 - 等待協議 + 超時重傳</li></ul><blockquote><p>即 ：發送窗口大小=1、接收窗口大小=1</p></blockquote><ul><li>停止 - 等待協議的協議原理如下：</li></ul><blockquote><p>發送方每發送一幀，要等到接收方的應答信號後才能發送下一幀 接收方每接收一幀，都要反饋一個應答信號，表示可接下一幀 若接收方不反饋應答信號，則發送方必須一直等待</p></blockquote><h3 class=pgc-h-arrow-right>類型2：後退N幀協議</h3><p>也稱：連續ARQ協議</p><ul><li>原理<br>多幀滑動窗口 + 累計確認 + 後退N幀 + 超時重傳</li></ul><blockquote><p>即 ：發送窗口大小>1、接收窗口大小=1</p></blockquote><ul><li>具體描述<br>a. 發送方：採用多幀滑動窗口的原理，可連續發送多個數據幀 而不需等待對方確認<br>b. 接收方：採用 <strong>累計確認 & 後退N幀</strong>的原理，只允許按順序接收幀。具體原理如下：</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8cff1ea152ed49b28a13009e794cd737><p class=pgc-img-caption></p></div><p>示意圖</p><h3 class=pgc-h-arrow-right>示例講解</h3><p>本示例 = 源站 向 目的站 發送數據幀。具體示例如下：</p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/298187bc376e43e08c22e8abcc1f6758><p class=pgc-img-caption></p></div><p>示意圖</p><h3 class=pgc-h-arrow-right>類型3：選擇重傳ARQ（Selective Repeat）</h3><ul><li>原理<br>多幀滑動窗口 + 累計確認 + 後退N幀 + 超時重傳</li></ul><blockquote><p>即 ：發送窗口大小>1、接收窗口大小>1</p></blockquote><p>類似於類型2（後退N幀協議），此處僅僅是接收窗口大小的區別，故此處不作過多描述</p><ul><li>特點<br>a. 優：因連續發送數據幀而提高了信道的利用率<br>b. 缺：重傳時又必須把原來已經傳送正確的數據幀進行重傳（僅因為這些數據幀前面有一個數據幀出了錯），將導致傳送效率降低</li></ul><blockquote><p>由此可見，若信道傳輸質量很差，導致誤碼率較大時，後退N幀協議不一定優於停止-等待協議</p></blockquote><h1 class=pgc-h-arrow-right>解決方案2：流量控制 & 擁塞控制（針對 速度匹配）</h1><h3 class=pgc-h-arrow-right>措施1：流量控制</h3><ul><li>簡介</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0a906e2196894c068580e6363096eb2c><p class=pgc-img-caption></p></div><p>示意圖</p><ul><li>示例</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3000955a9ade41f19846b6285c064722><p class=pgc-img-caption></p></div><p>示意圖</p><ul><li>特別注意：死鎖問題</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f388cd9763894288a9d04269a681b29f><p class=pgc-img-caption></p></div><p>示意圖</p><hr><h3 class=pgc-h-arrow-right>措施2：擁塞控制</h3><ul><li>定義<br>防止過多的數據注入到網絡中，使得網絡中的路由器 & 鏈路不致於過載</li></ul><blockquote><p>擁塞：對網絡中的資源需求 > 該資源所能提供的部分</p></blockquote><ul><li>與 “流量控制”的區別</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/79abf00e5b0040888d3a7c820bad5bc7><p class=pgc-img-caption></p></div><p>示意圖</p><ul><li>具體解決方案<br>共分為2個解決方案：慢開始 & 擁塞避免、快重傳 & 快恢復</li></ul><blockquote><p>其中，涉及4種算法，即 慢開始 & 擁塞避免、快重傳 & 快恢復</p></blockquote><p>具體介紹如下</p><h1 class=pgc-h-arrow-right>解決方案1：慢開始 & 擁塞避免</h1><h3 class=pgc-h-arrow-right>1.1 儲備知識：擁塞窗口、慢開始算法、擁塞避免算法</h3><h3 class=pgc-h-arrow-right>a. 擁塞窗口</h3><ul><li>發送方維持一個狀態變量：擁塞窗口（cwnd， congestion window ），具體介紹如下</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b056c87f3a714230a38d1a7ec4ba630e><p class=pgc-img-caption></p></div><p>示意圖</p><h3 class=pgc-h-arrow-right>b. 慢開始算法</h3><ul><li>原理 當主機開始發送數據時，由小到大逐漸增大 擁塞窗口數值（即 發送窗口數值），從而 由小到大逐漸增大發送報文段</li><li>目的 開始傳輸時，<strong>試探</strong>網絡的擁塞情況</li><li>具體措施</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e3afe1a897a94361a913d7bea64b2ea2><p class=pgc-img-caption></p></div><p>示意圖</p><ul><li>示意圖</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/de55a58e5f734c2a996b9558a441d97b><p class=pgc-img-caption></p></div><p>示意圖</p><ul><li>特別注意<br>慢開始的“慢”指：一開始發送報文段時擁塞窗口（cwnd）設置得較小（為1），使得發送方在開始時只發送一個報文段（目的是試探一下網絡的擁塞情況）</li></ul><blockquote><p>並不是指擁塞窗口（cwnd）的增長速率慢</p></blockquote><h3 class=pgc-h-arrow-right>c. 擁塞避免 算法</h3><ul><li>原理<br>使得擁塞窗口（cwnd）<strong>按線性規律 緩慢增長</strong>：每經過一個往返時間RTT，發送方的擁塞窗口（cwnd）加1</li></ul><blockquote><p><strong>擁塞避免 並不可避免擁塞</strong>，只是將擁塞窗口按現行規律緩慢增長，使得網絡比較不容易出現擁塞 相比慢開始算法的加倍，擁塞窗口增長速率緩慢得多</p></blockquote><ul><li>示意圖</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/396c12261ee84747866f95a7501b82ba><p class=pgc-img-caption></p></div><p>示意圖</p><h3 class=pgc-h-arrow-right>1.2 解決方案描述（慢開始 & 擁塞避免）</h3><ul><li>為了防止擁塞窗口（cwnd）增長過大而引起網絡擁塞，採用慢開始 & 擁塞避免 2種算法，具體規則如下</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/884f48d764284e40b2013355d0c88b82><p class=pgc-img-caption></p></div><p>示意圖</p><ul><li>實例說明</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/50b5679133e74183b74d03465edbebdf><p class=pgc-img-caption></p></div><p>示意圖</p><h1 class=pgc-h-arrow-right>解決方案2：快重傳 & 快恢復</h1><p>快重傳 & 快恢復的解決方案 是對慢開始 & 擁塞避免算法的改進</p><h3 class=pgc-h-arrow-right>2.1 儲備知識：快重傳算法、快恢復算法</h3><h3 class=pgc-h-arrow-right>a. 快重傳算法</h3><ul><li>原理 接收方 每收到一個失序的報文段後 就立即發出重複確認（為的是使發送方及早知道有報文段沒有到達對方），而不要等到自己發送數據時才進行捎帶確認 發送方只要一連收到3個重複確認就立即重傳對方尚未收到的報文段，而不必 繼續等待設置的重傳計時器到期</li><li>作用 由於發送方儘早重傳未被確認的報文段，因此採用快重傳後可以使整個網絡吞吐量提高約20%</li><li>示意圖</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ebd256b72c5f4f86ad41518c483f6514><p class=pgc-img-caption></p></div><p>示意圖</p><h3 class=pgc-h-arrow-right>b. 快恢復</h3><p>當發送方連續收到3個重複確認後，就：</p><ol start=1><li>執行 <strong>乘法減小</strong> 算法：把 慢開始門限（ssthresh）設置為 出現擁塞時發送方窗口值的一半 = 擁塞窗口的1半</li><li>將擁塞窗口（cwnd）值設置為 慢開始門限ssthresh減半後的數值 = 擁塞窗口的1半</li><li>執行 <strong>加法增大</strong> 算法：執行擁塞避免算法，使擁塞窗口緩慢地線性增大。</li></ol><blockquote><p>注：</p><p>由於跳過了擁塞窗口（cwnd）從1起始的慢開始過程，所以稱為：快恢復 此處網絡不會發生網絡擁塞，因若擁塞，則不會收到多個重複確認報文</p></blockquote><h3 class=pgc-h-arrow-right>2.2 解決方案描述（快重傳 & 快恢復）</h3><ul><li>原理<br>為了優化慢開始 & 擁塞避免的解決方案，在上述方案中加入快重傳 & 快恢復 2種算法，具體規則如下</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3606865115cf43508da9977f63a09920><p class=pgc-img-caption></p></div><p>示意圖</p><ul><li>示意圖</li></ul><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3340fcf6898245999f038b6279601dba><p class=pgc-img-caption></p></div><p>示意圖</p><p>至此，關於TCP無差錯傳輸的知識講解完畢。</p><hr><h1 class=pgc-h-arrow-right>9. 與UDP協議的區別</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a42332fe46d24020b870a4ffa8fd8964><p class=pgc-img-caption></p></div><p>示意圖</p><hr><p><br></p><h1 class=pgc-h-arrow-right>HTTP協議</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/db402bb197e54720a23a63f465f6a4be><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第1章瞭解Web及網絡基礎</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9f29c39ee0e445e190ea4a5c0f2b227f><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b636f0ed05484b2985b88cfa383fc0bd><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第2章簡單的HTTP協議</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d13b1f7532804849b63db787ce623059><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第3章HTTP報文內的HTTP信息</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/cf88423aa9eb450ca2a180f9ba594500><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第4章返回結果的HTTP狀態碼</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/9065e1829a73459fa36ae9536df128ac><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第5章與HTTP協作的Web服務器</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c5a7bcc7df8949a2885ac873b5399e51><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/29c8af3242674ab7a5670d681af584ba><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第6章HTTP首部</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/dd62c2a6dff14fa0a88846e115a8a7fd><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第7章確保Web安全的HTTPS+第8章確認訪問用戶身份的認證</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/76b01b95d5c84fee869620d883172ca2><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0231cfc6a5304f36aa4729f496230a3e><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第9章基於HTTP的功能追加協議</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/46b33e0cd794438aa8d76235084714dd><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第10章構建Web內容的技術</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/02bc1e8ab98c4ebfbfd967a165b83d04><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>第11章Web的攻擊技術</h1><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fe1dcc746ebc479b9a98e6eee982b18a><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7fc6bb34c14249cba57a18ca665822a4><p class=pgc-img-caption></p></div><p>HTTP協議肯定是不夠的，網絡底層知識TCP/IP協議送上！</p><p><strong>需要免費領取全部的學習資料老鐵麻煩幫忙轉發一下這篇文章+關注我，然後私信我【666】都可以免費獲取！</strong></p><h1 class=pgc-h-arrow-right>TCP/IP</h1><p><strong>總目錄</strong></p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/066c8408-cbd3-45a6-855e-f6f3e3e8a6f4><p class=pgc-img-caption></p></div><p><strong>第1章概述</strong></p><p><strong>第2章Intemet地址結構</strong></p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a6b13589d8b242789fcdbb410268b036><p class=pgc-img-caption></p></div><p><strong>第3章鏈路層</strong></p><p><strong>第4章地址解析協議</strong></p><p><strong>第5章Intemet協議</strong></p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2dbb1f429cec48f7b6f7e657f4b8d052><p class=pgc-img-caption></p></div><p><strong>第6章系統配置: DHcP和自動配置</strong></p><p><strong>第7章防火牆和網絡地址轉換</strong></p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/941dc5918d864239ae5fab5cf8ef57fd><p class=pgc-img-caption></p></div><p><strong>第8章ICMPv4和ICMPv6: Intemet控制報文協議</strong></p><p><strong>第9章廣播和本地組播(IGMP和MLD)</strong></p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d27f40b9629f4a85b69369fdec7be075><p class=pgc-img-caption></p></div><p><strong>第10章用戶數據報協議和IP分片</strong></p><p><strong>第11章名稱解析和域名系統</strong></p><p><strong>第12章TCP:傳輸控制協議(初步)</strong></p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7aef65e8f4634d4dbc4c300c94a4b46d><p class=pgc-img-caption></p></div><p><strong>第13章TCP連接管理</strong></p><p><strong>第14章TCP超時與重傳</strong></p><p><strong>第15章TCP數據流與窗日管理</strong></p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/8b441a35a4e24468a0428cf04ae8689f><p class=pgc-img-caption></p></div><p><strong>第16章TCP擁塞控制</strong></p><p><strong>第17章TCP保括機制</strong></p><p><strong>第18童安全可擴展身份認證協議、IP安全協議、傳輸層安全、DNS安全、域名密鑰識別郵件</strong></p><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1ec8c198f2df4f54893eb2a92288e8c9><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="計算機網絡：這是一份全面圖解tcp & 詳細 的TCP協議攻略" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8e0325e9ce6f499289231bc899dce330><p class=pgc-img-caption></p></div><p><strong>需要免費領取全部的學習資料老鐵麻煩幫忙轉發一下這篇文章+關注我，然後私信我【666】都可以免費獲取！</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>計算機</a></li><li><a>網絡</a></li><li><a>這是</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/1267d3e8.html alt=計算機網絡-數據鏈路層 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/125a70d9a286430b8d5aabb35a77904a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1267d3e8.html title=計算機網絡-數據鏈路層>計算機網絡-數據鏈路層</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/09972eef.html alt="計算機網絡: 鏈路層(入門)" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e50e09971c3a4165866d14abf2df9da4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/09972eef.html title="計算機網絡: 鏈路層(入門)">計算機網絡: 鏈路層(入門)</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d469ff43.html alt=計算機網絡之碼分多址技術 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1be327daace445728399d2409f694a17 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d469ff43.html title=計算機網絡之碼分多址技術>計算機網絡之碼分多址技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c624a086.html alt=計算機網絡自學筆記：IP數據報格式與編址 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/7aa7f2180be1441c8bd9393af4355c9b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c624a086.html title=計算機網絡自學筆記：IP數據報格式與編址>計算機網絡自學筆記：IP數據報格式與編址</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/aecf487e.html alt=計算機網絡基礎：局域網協議相關知識 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b843ca1dae9a4662aa8b04d696310359 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/aecf487e.html title=計算機網絡基礎：局域網協議相關知識>計算機網絡基礎：局域網協議相關知識</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6c561f23.html alt=計算機網絡：網絡設備知識筆記 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6813b32307144172939b3aac5d917dce style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6c561f23.html title=計算機網絡：網絡設備知識筆記>計算機網絡：網絡設備知識筆記</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/63902cc0.html alt=計算機網絡太難了？瞭解這一篇就夠了 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a0bf5c9306514f8d922e5b287829d174 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/63902cc0.html title=計算機網絡太難了？瞭解這一篇就夠了>計算機網絡太難了？瞭解這一篇就夠了</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1a983287.html alt=計算機網絡之數據交換技術 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/3303aa6a77b24d84b87fb0dd7df2eb04 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1a983287.html title=計算機網絡之數據交換技術>計算機網絡之數據交換技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fd64cb45.html alt=計算機網絡筆記 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/152964353345380b3db60fd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fd64cb45.html title=計算機網絡筆記>計算機網絡筆記</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7417a507.html alt=計算機網絡和視頻監控組網方式與選擇 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/92c42588-b6ea-4852-9320-2adbe1a30d44 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7417a507.html title=計算機網絡和視頻監控組網方式與選擇>計算機網絡和視頻監控組網方式與選擇</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/13df51b2.html alt=校園計算機網絡系統設計方案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1532871630549af3fac49f9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/13df51b2.html title=校園計算機網絡系統設計方案>校園計算機網絡系統設計方案</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/af4efdc3.html alt=計算機網絡系統圖例 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1528370273066bcd30a8c70 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/af4efdc3.html title=計算機網絡系統圖例>計算機網絡系統圖例</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/9e500aba.html alt=自學網絡工程師-計算機組成原理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/19f1dd76842d4ab7affe5fe525789e06 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/9e500aba.html title=自學網絡工程師-計算機組成原理>自學網絡工程師-計算機組成原理</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/592058ff.html alt=計算機：網絡協議的概念和網絡拓撲結構 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/06f271e3fa2f475c88af210ccce912d5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/592058ff.html title=計算機：網絡協議的概念和網絡拓撲結構>計算機：網絡協議的概念和網絡拓撲結構</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/09ddb291.html alt=計算機網絡基礎知識--日常工作的寶庫，收藏必備 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b25621c28cb24220b71c32b4e2c0d0b9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/09ddb291.html title=計算機網絡基礎知識--日常工作的寶庫，收藏必備>計算機網絡基礎知識--日常工作的寶庫，收藏必備</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>