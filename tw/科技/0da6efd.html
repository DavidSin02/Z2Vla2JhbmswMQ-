<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>對生物識別考勤機的一次簡單滲透 | 极客快訊</title><meta property="og:title" content="對生物識別考勤機的一次簡單滲透 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/746c882f220543c7bfaedae50f544930"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0da6efd.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0da6efd.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0da6efd.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0da6efd.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0da6efd.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0da6efd.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/0da6efd.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/0da6efd.html><meta property="article:published_time" content="2020-10-29T21:08:07+08:00"><meta property="article:modified_time" content="2020-10-29T21:08:07+08:00"><meta name=Keywords content><meta name=description content="對生物識別考勤機的一次簡單滲透"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/0da6efd.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>對生物識別考勤機的一次簡單滲透</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>在一次普通的紅隊行動中，我得到了客戶的授權，對一個基於生物信息的考勤設備進行滲透。客戶不僅用它來進行日常考勤記錄，還用來控制某些特殊房間的人員流動。</p><p>雖然我以前並沒有接觸過這種品牌的機器，當然也更不可能有0day，但經過一番簡單檢測，我還是可以完全控制它。</p><p>以下就是我需要測試的設備。</p><div class=pgc-img><img alt=對生物識別考勤機的一次簡單滲透 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/746c882f220543c7bfaedae50f544930><p class=pgc-img-caption></p></div><p>在一開始，我就和該設備處於同一網絡，而且已經清楚知道了它的IP地址。</p><p>就像往常一樣，我利用nmap對設備進行了端口掃描，發現目標上運行著telnet和web服務。</p><div class=pgc-img><img alt=對生物識別考勤機的一次簡單滲透 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/90aed2e05be84ef8b887e206af6c7fa8><p class=pgc-img-caption></p></div><p>看樣子攻擊只能從Telnet或Webserver開始，此外，我未能獲得telnet的指紋。一開始我嘗試使用默認憑證登錄telnet服務，但是並沒有用。於是，我開始瞄準Web服務。</p><p>從掃描信息來看，web服務的指紋是ZK Web Server 3.0。</p><div class=pgc-img><img alt=對生物識別考勤機的一次簡單滲透 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/de96b40eb69847328b09c30d510d1d4e><p class=pgc-img-caption></p></div><p>通過對用戶手冊的閱讀，我更好地理解了ZK Web Server 3.0的工作原理和內部架構。</p><p>隨後在研究目標機器後發現這個web服務充滿了漏洞，例如訪問控制缺陷、會話固定缺陷、易受暴力破解的影響等等。</p><p>而危害最大的漏洞是這個web服務使用了默認憑證administrator:123456，我藉此以管理員身份登錄了設備。</p><div class=pgc-img><img alt=對生物識別考勤機的一次簡單滲透 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/eeb3a55e528e488eb6c2584cb862c03d><p class=pgc-img-caption></p></div><p>為了完全控制設備，我進入到備份設備數據的頁面，看看是否有涉及敏感文件的操作。</p><div class=pgc-img><img alt=對生物識別考勤機的一次簡單滲透 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/612730f7d83644feaf24fc01783a5416><p class=pgc-img-caption></p></div><p>很快我便發現，由於訪問控制不當，在無需身份驗證的情況下，你就可以直接訪問系統數據的備份。</p><p>我利用這個數據備份頁面下載一個.dat文件，而該文件包含ZKConfig.cfg文件的數據，而這個文件中記錄了telnet服務的登錄憑證。</p><div class=pgc-img><img alt=對生物識別考勤機的一次簡單滲透 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c7aef479dc204e959e785a672052d0fb><p class=pgc-img-caption></p></div><p>現在，我能夠以root身份登錄telnet服務。</p><div class=pgc-img><img alt=對生物識別考勤機的一次簡單滲透 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4d7eb30df7984d1da5c6afc7ff3cffa1><p class=pgc-img-caption></p></div><p>在登錄後我迅速檢索了下系統文件，發現固件已經在目標機器中被解壓縮了。</p><p>於是我將整個文件系統掛載到本地機器上，慢慢分析所有文件。我可以看到webserver的所有源代碼，可以對其進行仔細分析，看看是否有其他漏洞。</p><div class=pgc-img><img alt=對生物識別考勤機的一次簡單滲透 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/be1fd46251ea4480b0817caedcf2f8f7><p class=pgc-img-caption></p></div><p>系統文件中還包含所有用戶的敏感數據。下圖是使用面部識別技術進入特殊房間的用戶的照片。</p><div class=pgc-img><img alt=對生物識別考勤機的一次簡單滲透 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1b216d4b6a754659a22de8ef9590756e><p class=pgc-img-caption></p></div><p>此外還有一個SQLite數據庫，記錄了用戶的詳細信息，例如他們的身份憑證、指紋和其他生物信息。</p><div class=pgc-img><img alt=對生物識別考勤機的一次簡單滲透 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a6b662fd7a9240a3bbc0b1f941ebcdf1><p class=pgc-img-caption></p></div><p>我可以直接修改SQLite數據庫中的數據，給任意用戶進入特殊房間的權限。</p><p>我還使用了Firmwalker來提取固件中的一切敏感信息。</p><p>最後，這個考勤設備會使用API將所有數據備份到雲服務器。因此，如果深入下去，也許可以對雲主機進行一番滲透測試。當然，這並不在我的測試範圍內，此次測試到此結束。</p><h1>結論</h1><p>像考勤機之類的物聯網設備常常存在配置缺陷，任何人都可能通過簡單的漏洞（例如默認密碼、權限控制不嚴等）獲取敏感數據，進而完全控制設備。物聯網安全還有很長一段路要走。</p><p>本文由白帽彙整理並翻譯，不代表白帽匯任何觀點和立場</p><p>來源：https://nosec.org/home/detail/3032.html</p><p>原文：https://medium.com/bugbountywriteup/pentesting-an-iot-based-biometric-attendance-device-10c0efd69392</p><p>白帽匯從事信息安全，專注於安全大數據、企業威脅情報。</p><p>公司產品：FOFA-網絡空間安全搜索引擎、FOEYE-網絡空間檢索系統、NOSEC-安全訊息平臺。</p><p>為您提供：網絡空間測繪、企業資產收集、企業威脅情報、應急響應服務。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>考勤</a></li><li><a>識別</a></li><li><a>簡單</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/1819e4a1.html alt=簡單幾步！識別你手中的礦物 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/3a0406aa5b6447e8a92826b19ffc70ae style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1819e4a1.html title=簡單幾步！識別你手中的礦物>簡單幾步！識別你手中的礦物</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/90a2f47a.html alt=識別各種各樣的電纜電線 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/3e680001e11c782e8928 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/90a2f47a.html title=識別各種各樣的電纜電線>識別各種各樣的電纜電線</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/51e434ad.html alt=新手用雲服務器快速搭建個人網站簡單教程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/51e434ad.html title=新手用雲服務器快速搭建個人網站簡單教程>新手用雲服務器快速搭建個人網站簡單教程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/61d5b89d.html alt=場面描寫很簡單，讓語文老師舉例，教會你好用的寫作技巧和方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/a12e06c3-dac8-4ef1-a44b-bbf85671edb2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/61d5b89d.html title=場面描寫很簡單，讓語文老師舉例，教會你好用的寫作技巧和方法>場面描寫很簡單，讓語文老師舉例，教會你好用的寫作技巧和方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ecbd05fe.html alt="比搶錢還要簡單！蘋果上架Mac Pro配件：四個輪子要五千塊" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/5e07933580e64355abbbcac953abfc3d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ecbd05fe.html title="比搶錢還要簡單！蘋果上架Mac Pro配件：四個輪子要五千塊">比搶錢還要簡單！蘋果上架Mac Pro配件：四個輪子要五千塊</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9ababaae.html alt=初中科學元素的簡單分類每日一練含答案解析 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/cc6f0300765348b3a57404a617d32c99 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9ababaae.html title=初中科學元素的簡單分類每日一練含答案解析>初中科學元素的簡單分類每日一練含答案解析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e4707da0.html alt=高中化學物質分類竟如此簡單，你還記得多少？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b73cc7c22bc14eb9af43cf76f66e5d70 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e4707da0.html title=高中化學物質分類竟如此簡單，你還記得多少？>高中化學物質分類竟如此簡單，你還記得多少？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/845add72.html alt=模擬集成電路的識別與典型應用電路 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d84f8520f36e43579981e6afc98f0fbd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/845add72.html title=模擬集成電路的識別與典型應用電路>模擬集成電路的識別與典型應用電路</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ec613168.html alt=十大世界足球先生，認識四位以上的人都不簡單 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8bf0e55d0e30483abc88ce0fa1ac279d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ec613168.html title=十大世界足球先生，認識四位以上的人都不簡單>十大世界足球先生，認識四位以上的人都不簡單</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/35c96373.html alt=14種家常哨子面的做法，美味不油膩，簡單易學又實用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1ef1a62cd3ad4bf9b000021a38952cb4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/35c96373.html title=14種家常哨子面的做法，美味不油膩，簡單易學又實用>14種家常哨子面的做法，美味不油膩，簡單易學又實用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/dacdca28.html alt=媽媽教的剪刀面做法，無保留分享，簡單又實用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/2e3e5ec81da04a70bf4d1fe077acb24c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/dacdca28.html title=媽媽教的剪刀面做法，無保留分享，簡單又實用>媽媽教的剪刀面做法，無保留分享，簡單又實用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bd7a84b7.html alt=鑑別被追尾車就是這麼簡單！這4個方法你都瞭解嗎？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a51a16723af8485ab69705c547ea4fd8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bd7a84b7.html title=鑑別被追尾車就是這麼簡單！這4個方法你都瞭解嗎？>鑑別被追尾車就是這麼簡單！這4個方法你都瞭解嗎？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a2d512e5.html alt=6個實用電路圖，簡單易懂！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d4ccc825dea840e0bccda3481c8a96ce style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a2d512e5.html title=6個實用電路圖，簡單易懂！>6個實用電路圖，簡單易懂！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2ed242bb.html alt=牆厚如何識別 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2ed242bb.html title=牆厚如何識別>牆厚如何識別</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/75c082ee.html alt=一個買入和賣出股票的簡單方法——金字塔法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1539052330140848b6dfdb4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/75c082ee.html title=一個買入和賣出股票的簡單方法——金字塔法>一個買入和賣出股票的簡單方法——金字塔法</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>