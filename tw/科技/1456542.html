<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>論文推薦｜謝東海：球面全景影像相對定向與精度驗證 | 极客快訊</title><meta property="og:title" content="論文推薦｜謝東海：球面全景影像相對定向與精度驗證 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/53410004acf9b032d928"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1456542.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1456542.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1456542.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1456542.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1456542.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1456542.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1456542.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1456542.html><meta property="article:published_time" content="2020-10-29T21:04:53+08:00"><meta property="article:modified_time" content="2020-10-29T21:04:53+08:00"><meta name=Keywords content><meta name=description content="論文推薦｜謝東海：球面全景影像相對定向與精度驗證"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/1456542.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>論文推薦｜謝東海：球面全景影像相對定向與精度驗證</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>《測繪學報》</p><p>構建與學術的橋樑 拉近與權威的距離</p><p><strong>球面全景影像相對定向與精度驗證</strong></p><p>謝東海<sup>1,2</sup>, 鍾若飛<sup>1,2</sup><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/53410004acf9b032d928>, 吳俁<sup>3</sup>, 符晗<sup>1,2</sup>, 黃小川<sup>1,2</sup>, 孫振興<sup>1,2</sup></p><p>1. 首都師範大學地球空間信息科學與技術國際化示範學院, 北京 100048;</p><p>2. 北京成像技術高精尖創新中心, 北京 100048;</p><p>3. 中國科學院遙感與數字地球研究所, 北京 100094</p><p>收稿日期：2016-12-22；修回日期：2017-08-14</p><p>基金項目：國家自然科學基金（41371434）</p><p>第一作者簡介：謝東海(1978-), 男, 博士, 講師, 研究方向為攝影測量與遙感。E-mail:xdhbj@126.com</p><p>通信作者：鍾若飛, E-mail:zrfsss@163.com</p><p><strong>摘要</strong>：對傳統的5點法相對定向算法的共面誤差計算方法進行改進，提出了一種適合球面全景成像特點的相對定向計算流程。與傳統方法相同，該算法首先計算本質矩陣，然後對本質矩陣進行奇異值分解得到旋轉矩陣和平移矢量的候選解，最後利用重建的物方三維點座標排除錯誤解。本文的貢獻在於推導了球面全景共麵條件公式，並使用點到核線平面的球面距離作為球面全景共麵條件的誤差項。模擬數據試驗顯示：當圖像特徵點的隨機噪聲在像素範圍內時，3個姿態角的中誤差約為0.1°，由相對定向恢復的相對平移量與模擬值的夾角中誤差約為1.5°。使用車載全景相機配合POS獲取的數據進行試驗的結果顯示：橫滾角和俯仰角的中誤差可以達到0.2°以內，航向角的中誤差可以達到0.4°以內，由相對定向恢復的相對平移量與POS平移量的夾角中誤差可以達到2°以內。採用本文相對定向算法的結果生成球面全景核線影像，提取影像之間同名點座標並計算其列方向誤差，結果顯示核線影像同名點列座標差的中誤差在1個像素以內。</p><p><strong>Relative Pose Estimation and Accuracy Verification of Spherical Panoramic Image</strong></p><p>XIE Donghai<sup>1,2</sup>, ZHONG Ruofei<sup>1,2</sup>, WU Yu<sup>3</sup>, FU Han<sup>1,2</sup>, HUANG Xiaochuan<sup>1,2</sup>, SUN Zhenxing<sup>1,2</sup></p><p><strong>Abstract</strong>: This paper improves the method of the traditional 5-point relative pose estimation algorithm, and proposes a relative pose estimation algorithm which is suitable for spherical panoramic images. The algorithm firstly computes the essential matrix, then decomposes the essential matrix to obtain the rotation matrix and the translation vector using SVD, and finally the reconstructed three-dimensional points are used to eliminate the error solution. The innovation of the algorithm lies the derivation of panorama epipolar formula and the use of the spherical distance from the point to the epipolar plane as the error term for the spherical panorama co-planarity function. The simulation experiment shows that when the random noise of the image feature points is within the range of pixel, the error of the three Euler angles is about 0.1°, and the error between the relative translational displacement and the simulated value is about 1.5°. The result of the experiment using the data obtained by the vehicle panorama camera and the POS shows that:the error of the roll angle and pitch angle can be within 0.2°, the error of the heading angle can be within 0.4°, and the error between the relative translational displacement and the POS can be within 2°. The result of our relative pose estimation algorithm is used to generate the spherical panoramic epipolar images, then we extract the key points between the spherical panoramic images and calculate the errors in the column direction. The result shows that the errors is less than 1 pixel.</p><p>Key words: spherical panoramic images relative pose estimation epipolar line essential matrix SVD</p><p>車載球面全景影像能夠採集來自每個方向的光線信息，並且以二維圖像的方式保存起來，獲得360°×180°全視場的視覺信息。配合高精度的GPS(Global Positioning System)和IMU(inertial measurement unit)，能夠獲取帶有精確位置和姿態信息的高分辨率全景影像，目前已經廣泛應用於地理信息採集、街景地圖製作、安防監控、交通等領域。比如著名的Google街景在不同地點採集球面全景影像，並放置在地圖對應的位置，用戶可以很方便地從一個全景場景過渡到另外一個全景場景進行室外瀏覽。根據採集相機和處理方式的不同，球面全景影像的獲取方法也不同。一種方法是利用魚眼鏡頭來獲取大視場圖像，然後利用商業拼接軟件(如PTGui)來得到球面全景影像，這種方式將採集與處理分開，處理效率較低。在要求連續、高精度和快速拼接全景的場合，往往採用集成化的商業全景視覺系統，如加拿大PointGrey公司生產的Ladybug。該系統包含6個相機(5個相機水平放置，1個垂直向上拍攝)，可以獲得水平方向360°，豎直方向接近180°視場的影像信息。Ladybug能夠實時完成影像採集、處理、拼接和校正等工作。針對全景影像的研究目前大部分集中於全景構象方程<sup>[1-2]</sup>、全景相機標定<sup>[3]</sup>與拼接以及全景匹配<sup>[4-6]</sup>等。在目前的應用中，全景圖像大部分都是用於360°場景的瀏覽，一般不具備量測的功能。隨著全景圖像採集設備以及拼接算法的普及，越來越多的研究嘗試用全景影像來恢復場景的三維結構<sup>[7-10]</sup>，並應用於文物保護與重建<sup>[11-12]</sup>、建築測量<sup>[13]</sup>、SLAM(simultaneous localization and mapping)技術<sup>[14]</sup>，以及增強現實領域<sup>[15]</sup>。相比傳統的基於面陣影像的三維重建，全景影像獨特的投影方式與小孔平面成像模型不同，因此需要對現有的模型進行改造才能運用到全景影像<sup>[16]</sup>。</p><p>相對定向是利用影像進行重建和量測的關鍵技術，也是進行全自動序列影像三維重建的前提。相對定向利用同名點來恢復立體像對之間的位置和姿態，能夠實現初始點雲數據的重建，為序列影像的光束法空三<sup>[17]</sup>提供初始的位置、姿態和三維點座標信息。與傳統攝影測量<sup>[18]</sup>的相對定向採用迭代求解的方法不同，計算機視覺領域對本質矩陣<sup>[19]</sup>進行分解來直接獲得旋轉矩陣與平移量，8點法<sup>[19-21]</sup>和5點法<sup>[22]</sup>常用來計算本質矩陣。8點法的優點在於可以直接解算線性方程組來獲得唯一解，但是需要的點數較多。5點法的計算相對複雜，但是在內方位元素已知且焦距誤差小於10%的情況下精度最高<sup>[22]</sup>。在本質矩陣的計算中，結合RANSAC(random sample consensus)算法<sup>[23]</sup>可以提高算法的抗差性，共面誤差則用來對RANSAC的每次採樣計算進行評價。基於歸一化三維座標的切面距離<sup>[7]</sup>常用作球面全景共麵條件的誤差計算方法，該方法直接利用角度信息而且計算簡單，但不能反映不同分辨率的全景圖像的共面誤差變化程度。相對定向結合全景PnP(perspective-n-point)位姿算法<sup>[24]</sup>的結果可以用於全景影像序列的空三解算<sup>[5, 17]</sup>，實現球面全景的全自動三維點雲重建<sup>[7]</sup>。</p><p>本文以三維重建中的核心相對定向為研究對象，對目前廣泛使用的5點法相對定向算法<sup>[22]</sup>進行改進使其適用於球面全景影像，並提出了球面全景的相對定向誤差計算方法。模擬數據和實際試驗結果表明，本文的相對定向解算的姿態和平移參數能夠達到較高的精度，利用相對定向結果生成的全景核線影像的偏移誤差達到1個像素以內。</p><p>1 球面全景影像成像方程</p><p>球面全景影像的處理過程涉及3個座標：影像座標系、經緯度球面座標系和三維空間座標系。3個座標系的關係如圖 1。</p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/6ebc000971ea3341b9f0><p>圖 1 球面全景座標系Fig. 1 Spherical panoramic coordinate system</p><p>圖選項</p><p>圖 1中，(<em>x</em>,<em>y</em>)為球面全景影像的像素座標，(<em>θ</em>,<em>φ</em>)為經緯度，(<em>X</em>,<em>Y</em>,<em>Z</em>)為局部三維座標系。為了方便計算，經度起始方向是<em>Y</em>軸正方向，緯度起始方向為<em>Z</em>軸正方向，因此經度的取值範圍為[0, 360°]，緯度的取值範圍為[0, 180°]。球面全景影像的寬高比為2:1。設球體的半徑為<em>r</em>，那麼影像的寬度為2π<em>r</em>。全景圖像的像素座標和經緯度之間的關係為</p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6eba000bada372932d12><p>(1)</p><p>式中，<em>a</em>為球面全景影像的寬度。三維座標系以<em>Y</em>軸的正方向作為經度的起始位置，經緯度與三維座標的轉換關係為</p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6ebf0003997176d0a1a1><p>(2)</p><p>2 平面透視投影5點法相對定向</p><p>根據不同位置拍攝的圖像來恢復相機位置和三維場景是一個研究了近兩個世紀的問題，最早是在攝影測量領域<sup>[18]</sup>，現在主要是在計算機視覺領域<sup>[19, 25]</sup>。當相機的內方位元素(即相機的焦距、主點位置、畸變參數)已知時，5對匹配點就可以解算出相機的位置與姿態<sup>[19]</sup>，其中位置只能恢復為相對位置，與真實的位置存在一個比例關係。文獻[22]提出了一種有效的數值計算方法。相對定向的理論基礎是共麵條件，其數學模型為本質矩陣(essential matrix)。當內方位元素已知時，圖像座標與本質矩陣的聯繫可以用式(3)來描述<sup>[19]</sup></p><p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/6ebf00039972b2c7c402>(3)</p><p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6ebd00096ef2c24545f2>(4)</p><p>式中，<strong>E</strong>就是本質矩陣，代表了著名的核線約束；[<strong>T</strong>]<sub>×</sub>為反對稱矩陣(skew symmetric matrix)；<strong>R</strong>為旋轉矩陣。式(3)中，<strong>q</strong>、<strong>q</strong>′為第1張和第2張相片的影像齊次座標，第1張相片的投影中心為座標系的原點。<strong>K</strong><sub>1</sub>、<strong>K</strong><sub>2</sub>為內方位元素矩陣。</p><p>圖 2為5點法相對定向算法的流程，算法假設內方位元素已知。基於匹配結果，並結合RANSAC方法可以得到誤差最小的本質矩陣。然後對本質矩陣進行奇異值分解來得到相對定向的結果，即<strong>R</strong>與<strong>T</strong>的值。最後利用重建的三維點座標，根據實際成像時目標位於相機前方的事實來排除錯誤的相對定向結果。</p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/6ebc000971ecb80f17b7><p>圖 2 平面透視投影5點法相對定向流程Fig. 2 The flowchart of the 5-point relative pose estimation method for perspective projection</p><p>圖選項</p><p>3 球面全景相對定向</p><p>球面全景的成像方式雖然與傳統的透視投影成像不同，但是共麵條件依然成立，還是可以用本質矩陣來表達。與傳統的平面透視投影相比，由於全景成像已經利用相機標定的內方位元素實現了平面投影到球面座標之間的投影，因此球面全景的球面座標可以直接用來進行相對定向。球面全景的相對定向流程與平面透視投影5點法是一致的，區別在於共麵條件誤差的計算和錯誤組合的剔除與平面透視投影不同。</p><p>如圖 3所示，在球面投影下，矢量<strong>P</strong><sub>0</sub>、<strong>P</strong><sub>1</sub>和<strong>T</strong>是共面的。<em>O</em><sub>0</sub>-<em>X</em><sub>0</sub><em>Y</em><sub>0</sub><em>Z</em><sub>0</sub>為第1張相片的局部三維座標系，也是相對定向中的基準座標系。<em>O</em><sub>1</sub>-<em>X</em><sub>1</sub><em>Y</em><sub>1</sub><em>Z</em><sub>1</sub>是第2張相片的局部三維座標系，<strong>R</strong>為<em>O</em><sub>0</sub>-<em>X</em><sub>0</sub><em>Y</em><sub>0</sub><em>Z</em><sub>0</sub>到<em>O</em><sub>1</sub>-<em>X</em><sub>1</sub><em>Y</em><sub>1</sub><em>Z</em><sub>1</sub>的旋轉矩陣，<strong>T</strong>為旋轉後兩個座標系之間的平移量。共麵條件可以寫為</p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6ebe0009423215710479><p>圖 3 球面投影下的共麵條件Fig. 3 Coplanar condition under spherical projection</p><p>圖選項</p><p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/6ebe00094231ad4ca253>(5)</p><p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/6eba000bada5eff361fe>(6)</p><p>式(5)中，<strong>P</strong><sub>0</sub>、<strong>P</strong><sub>1</sub>可以根據公式(2)來計算；式(6)中的本質矩陣<strong>E</strong>的形式與傳統面陣成像投影是一致的，只是輸入的座標是直接根據球面全景計算得到的三維座標。</p><p>3.1 共麵條件的誤差計算</p><p>5點法相對定向中結合RANSAC來選擇最優本質矩陣時，需要計算共麵條件的誤差並用來判斷本質矩陣是否正確。根據小孔成像的核線原理，同名點位於同名核線上，在平面透視投影中，核線為直線，因此可以採用點到直線的距離作為共麵條件的誤差項。但是在球面投影中，核線為經過球心的圓，在投影到平面後核線變成不規則的曲線。針對這個問題，本文直接利用球面距離作為共麵條件的誤差。</p><p>如圖 4所示，<strong>P</strong><sub>0</sub>,<strong>P</strong><sub>1</sub>為球面上的兩個點的齊次座標，對應了圖像平面的一對同名點。設<strong>P</strong>為<strong>P</strong><sub>0</sub>對應的物方空間三維座標，<em>O</em><sub>0</sub><em>PO</em><sub>1</sub>為核面，核面與球體相交得到通過球心的兩個藍色圓面。如果<strong>P</strong><sub>0</sub>對應的圖像點是正確的同名點，那麼這兩個點都應該位於藍色的圓面上。本文用球面點到藍色圓面的弧面距離L<sub>c</sub>作為共麵條件的誤差。設<strong>N</strong>為核面<em>O</em><sub>0</sub><em>PO</em><sub>1</sub>的法線向量，<em>p</em><sub>1</sub><em>O</em><sub>1</sub>和<strong>N</strong>之間的夾角為<em>ϑ</em>，那麼有</p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/6ebf0003997797b158a0><p>圖 4 球面投影下的共麵條件誤差Fig. 4 Coplanar condition error under spherical projection</p><p>圖選項</p><p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6eba000bada680ab046f>(7)</p><p>根據本質矩陣<strong>E</strong>的性質，可以利用<strong>P</strong><sub>0</sub>來計算<strong>N</strong></p><p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6ebf00039976ef9b497c>(8)</p><p>半徑<em>r</em>根據圖像的寬度來計算，因此距離L<sub>c</sub>能自動適應不同大小的球面全景影像。</p><p>3.2 錯誤組合的剔除</p><p>得到本質矩陣<strong>E</strong>，採用矩陣奇異值分解(singular value decomposition，SVD)方法<sup>[22]</sup>對<strong>E</strong>進行分解得到4組候選的<strong>R</strong>和<strong>T</strong>值。在傳統的5點法相對定向中<sup>[22]</sup>，從4組候選中找到正確的結果的依據是重建的三維點位於相機的前方。但對於球面投影來說，相機可以從360°進行拍攝，因此不能使用這個約束條件。因此對傳統的方法進行改進：首先根據正確的圖像同名點對來重建物方空間三維點<em>P</em>，然後計算重建後的三維點與投影中心連線矢量和基準圖像中的球面三維點矢量<strong>P</strong><sub>0</sub>之間的夾角。如果相對定向的結果正確，那麼兩個矢量幾乎位於同一個方向上，因此兩個矢量之間的夾角很小。對每對同名點進行上述操作，將夾角小於一定閾值(本文為1°)的點對記錄下來，4個候選中符合上述條件最多的就是正確的相對定向結果。</p><p>4 試驗結果與分析4.1 基於模擬數據的球面全景相對定向精度分析</p><p>模擬全景圖像的特徵點數據，設定全景圖像的寬高為：1024×512。參考的基準大地座標系的中心設定在左片的投影中心，並假設左片的圖像空間座標系的3個軸與大地座標系平行，因此左片的3個旋轉角度為0°，模擬試驗中只需要隨機構造右片的外方位元素即可。試驗隨機模擬100組姿態和位置參數，姿態角的變化範圍為：[-10°, 10°]，平移量的變化範圍為：[-1, 1]。模擬數據假設有15個空間座標已知的三維點，然後根據模擬數據將三維點投影到二維的球面全景圖像。為了模擬實際中的圖像特徵點定位效果，對投影后的圖像座標加入隨機噪音，範圍為：[-0.5, 0.5]像素。基於模擬數據，利用本文的相對定向解算出位置和姿態數據，並統計每個姿態角的最小、最大值以及中誤差，結果見表 1。</p><p>表 1 模擬數據精度統計Tab. 1 The statistics of simulation data accuracy</p><table><thead><tr><td colspan=4>(°)</td></tr><tr><br><td>俯仰角</td><td>橫滾角</td><td>航向角</td></tr></thead><tbody><tr><td>最小值</td><td>0.000 6</td><td>0.000 3</td><td>0.001 1</td></tr><tr><td>最大值</td><td>0.249 5</td><td>0.316 6</td><td>0.295 4</td></tr><tr><td>中誤差</td><td>0.106 8</td><td>0.109 5</td><td>0.104 9</td></tr></tbody></table><p>表選項</p><p>由於相對定向無法解算出絕對的平移量，而只能獲得一個比例上的相對解，為了評價相對定向算法解算的平移量的精度，通過計算模擬數據的平移量與解算得到的平移量之間的夾角作為誤差項進行驗證。設模擬的平移量為<strong>T</strong><sub>S</sub>，設解算後的平移量為<strong>T</strong><sub>r</sub>，那麼平移量的夾角為</p><p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6ebf00039975ece0f8e6>(9)</p><p>夾角越小意味著解算的精度越高。對每組模擬數據進行相對定向得到的夾角值進行統計，結果顯示在表 2中。</p><p>表 2 模擬的平移量與解算的平移量之間的夾角Tab. 2 The angle between simulated translation and the calculated translation</p><table><thead><tr><td colspan=4>(°)</td></tr><tr><br><td>最小值</td><td>最大值</td><td>中誤差</td></tr></thead><tbody><tr><td><em>β</em></td><td>0.056 8</td><td>9.551 7</td><td>1.520 0</td></tr></tbody></table><p>表選項</p><p>表 2的結果表明，相對定向算法解算得到的平移量與模擬值之間的夾角小於2°，基本上位於同一個方向上。</p><p>4.2 基於實測數據的球面全景相對定向精度分析</p><p>試驗數據為裝載在汽車上的Ladybug3相機在杭州市採集得到的41張全景圖像。在進行全景數據採集的同時利用POS系統(GPS和IMU)記錄了位置信息和姿態信息。試驗採用的POS系統為OxTS公司的Inertial+，在雙GPS工作狀態下的精度如表 3所示。</p><p>表 3 Inertial+系統的參數測量精度Tab. 3 The parameter accuracy of Inertial+ system</p><table><thead><tr><td>參數</td><td>DGPS</td></tr></thead><tbody><tr><td>橫滾角/俯仰角</td><td>0.05°</td></tr><tr><td>航向角</td><td>0.1°</td></tr><tr><td>位置/m</td><td>0.4</td></tr></tbody></table><p>表選項</p><p>全景相機與POS系統進行集成後安裝在汽車上，從東往西行駛。軌跡和姿態數據顯示在圖 5中。</p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/6ebb0009d3ac7c14b3b8><p>圖 5 POS獲取的位置與姿態數據Fig. 5 The location and pose data of POS</p><p>圖選項</p><p>POS系統能夠獲取拍攝時刻的位置和姿態信息。位置數據用經度、緯度和高程來表示，在地圖上顯示如圖 5(a)，每條垂直的線段代表了一次拍攝的位置，線段的高度為GPS裝置到地面的距離。姿態數據包括俯仰角、橫滾角和航向角。由圖 5(b)可以看出，橫滾角和俯仰角都接近於0，說明拍攝時汽車在馬路上水平行駛，POS系統受到的抖動較小。航向角的均值為4.7弧度(即269.3°)，說明汽車幾乎是朝著正西方向運動。由於GPS和IMU都是以地面座標系為基準，如果要和相對定向的結果進行對比，需要進行座標轉換。設相鄰全景影像的POS旋轉矩陣為<strong>R</strong><sub>1</sub>和<strong>R</strong><sub>2</sub>，相對定向的姿態角可以利用矩陣<strong>R</strong><sub>2</sub><strong>R</strong><sub>1</sub><sup>-1</sup>來計算。試驗中，利用SIFT(scale-invariant feature transform)<sup>[26]</sup>算法從相鄰的兩張全景圖像中自動提取特徵點，然後進行匹配，最後根據匹配的結果來進行全景相對定向。41張全景圖像可以計算出40組相對定向的外方位元素，統計3個姿態角與轉換後的POS姿態角之間的差值，並計算最大、最小值和中誤差。其統計數據見表 4。</p><p>表 4 姿態角精度驗證Tab. 4 Verification of POS angle accuracy</p><table><thead><tr><td colspan=4>(°)</td></tr><tr><br><td>俯仰角</td><td>橫滾角</td><td>航向角</td></tr></thead><tbody><tr><td>最小值</td><td>0.007 3</td><td>0.006 9</td><td>0.005 0</td></tr><tr><td>最大值</td><td>0.456 6</td><td>0.344 8</td><td>0.872 4</td></tr><tr><td>中誤差</td><td>0.173 0</td><td>0.146 0</td><td>0.361 3</td></tr></tbody></table><p>表選項</p><p>與模擬數據類似，根據相對計算獲得的平移量和POS數據的位置信息來計算夾角<em>β</em>，其結果見表 5。</p><p>表 5 POS平移量與解算的平移量之間的夾角Tab. 5 The angle between the translations from POS and the calculated translations</p><table><thead><tr><td colspan=4>(°)</td></tr><tr><br><td>最小值</td><td>最大值</td><td>中誤差</td></tr></thead><tbody><tr><td><em>β</em></td><td>0.087 0</td><td>5.720 2</td><td>1.950 4</td></tr></tbody></table><p>表選項</p><p>表 5為本文相對定向與POS系統提供的姿態角之間的誤差的統計結果。可以看出俯仰角和橫滾角的精度要高於航向角，這與POS系統的量測精度也是吻合的。真實數據的解算精度要低於模擬數據，原因在於Ladybug的全景影像是由6個相機拍攝的數據拼接生成，因此存在拼接誤差，同時特徵點的提取誤差以及POS系統本身的測量誤差，都會導致採用全景數據進行相對定向獲得參數的精度降低。</p><p>4.3 基於核線的球面全景相對定向精度分析</p><p>如果相對定向的結果準確，其核線影像的特徵點就落在同一條直線上，可以利用這個規律來驗證相對定向的精度。41張連續拍攝的全景影像的相鄰影像可以組合為40個像對，生成40對核線影像。</p><p>圖 6為圖像序列中一個相鄰像可進行相對定向後生成核線影像(圖 6(b))，並在核線影像上進行同名點匹配的效果(圖 6(c))。在核線影像之間進行特徵點提取和匹配，統計每對核線影像上的同名點在核線方向(本文中為<em>x</em>軸)上的像素差值並計算平均值(用e<sub>P</sub>來表示)，可以得到40個e<sub>P</sub>值</p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6ebb0009d3aed2ad60a3><p>圖 6 核線影像的生成以及特徵點匹配效果Fig. 6 The generation of the epipolar image and the effect of feature point matching</p><p>圖選項</p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6eba000bada8745437c2><p>(10)</p><p>式中，e<sub>P</sub><sup>i</sup>第<em>i</em>個核線影像對的座標誤差；N<sub>i</sub>為第<em>i</em>個核線影像對提取的同名點的個數；XL<sub>K</sub><sup>i</sup>、XR<sub>K</sub><sup>i</sup>代表第<em>i</em>個核線影像對的第<em>k</em>個同名點的左片和右片的<em>x</em>座標。</p><p>將40個e<sub>P</sub>進行統計，計算其最大值、最小值和中誤差，結果見表 6。可以看出採用相對定向的結果來生成核線影像，同名核線在<em>x</em>方向上的差值的中誤差能達到1個像素以內，證明了本文算法的準確與有效性。</p><p>表 6 每對核線影像上計算的e<sub>P</sub>統計結果Tab. 6 The e<sub>P</sub>statistics calculated on each pair of epipolar images</p><table><thead><tr><td colspan=4>像素</td></tr><tr><br><td>最小值</td><td>最大值</td><td>中誤差</td></tr></thead><tbody><tr><td>e<sub>P</sub></td><td>0.867 9</td><td>1.186 4</td><td>0.993 6</td></tr></tbody></table><p>表選項</p><p>5 結論</p><p>本文對傳統的5點法相對定向算法進行改進，使之可以處理球面全景影像之間的位置與姿態估算。本文的貢獻和創新在於：①根據球面全景的成像模型推導了球面全景的共麵條件公式；②採用球面點到核面的球面距離作為全景相對定向的共麵條件誤差，相比採用角度以及歸一化座標的誤差計算方式，球面距離更接近球面全景影像成像方式下的點到核線絕對距離，並且能夠適用於不同分辨率的球面全景影像；③採用模擬數據和實地採集的全景影像和POS數據對本文算法的精度進行驗證。本文的球面全景影像的相對定向算法能夠為全景影像序列的整體空三優化提供初始的位置與姿態信息，實現全景影像的全自動化攝影測量。後續的研究中要針對不同精度的POS系統來進行影像採集和相對定向試驗，進一步驗證本文算法的有效性以及在不同傳感器和場景下的精度變化問題。同時研究如何在空三中結合POS數據實現全景影像的真實三維重建，並應用於測繪領域。試驗中也發現，由於球面全景接收的光線來自360°全範圍場景，因此存在一些同名點位於基線方向附近。這些同名點對應的三維點與相機投影中心的連線夾角較小，其三維重建精度較低，因此會對相對定向的結果產生影響，如何來自動消除這些同名點對相對定向的影響也是後續要重點研究的問題。</p><p><strong>【引文格式】謝東海，鍾若飛，吳俁，等。球面全景影像相對定向與精度驗證[J]. 測繪學報，2017，46(11)：1822-1829. DOI: 10.11947/j.AGCS.2017.20160645</strong></p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/39d40000b5178f24974d><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/1d58000c77f8222af5dc><p>往期精彩回顧</p><img alt=論文推薦｜謝東海：球面全景影像相對定向與精度驗證 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/3009000f15ca5ebfaebd><p><strong>學術前沿| 李廣雲：精密工程測量技術及其發展</strong></p><p><strong>學術前沿| 李清泉：道路/軌道動態精密測量進展</strong></p><p><strong>學術前沿| 朱建軍：InSAR變形監測方法與研究進展</strong></p><p><strong>學術前沿| 汪雲甲：礦區生態擾動監測研究進展與展望</strong></p><p>權威 | 專業 | 學術 | 前沿</p><p>微信投稿郵箱 | song_qi_fan@163.com</p><p>微信公眾號中搜索「測繪學報」，<strong>關注我們</strong>，長按上圖二維碼，關注學術前沿動態。</p><p>進群請備註：姓名+單位+稿件編號</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>論文</a></li><li><a>推薦</a></li><li><a>謝東海</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/e55aaf9b.html alt="論文推薦 | 袁修孝：航攝影像密集匹配的研究進展與展望" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6Ieh75DBRtmcY style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e55aaf9b.html title="論文推薦 | 袁修孝：航攝影像密集匹配的研究進展與展望">論文推薦 | 袁修孝：航攝影像密集匹配的研究進展與展望</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4653cf8e.html alt=論文推薦｜王濤：國產機載大視場三線陣CCD相機GNSS偏心矢量和IMU視軸偏心角標定技術 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6Ieh75DBRtmcY style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4653cf8e.html title=論文推薦｜王濤：國產機載大視場三線陣CCD相機GNSS偏心矢量和IMU視軸偏心角標定技術>論文推薦｜王濤：國產機載大視場三線陣CCD相機GNSS偏心矢量和IMU視軸偏心角標定技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5718fd72.html alt="論文推薦 | 閆廣峰：L1範數探測粗差失效的觀測量識別方法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5718fd72.html title="論文推薦 | 閆廣峰：L1範數探測粗差失效的觀測量識別方法">論文推薦 | 閆廣峰：L1範數探測粗差失效的觀測量識別方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d2c7df1e.html alt=「論文推薦」左建平教授談岩層移動研究進展及重點 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RmTmvrAHAwNOUb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d2c7df1e.html title=「論文推薦」左建平教授談岩層移動研究進展及重點>「論文推薦」左建平教授談岩層移動研究進展及重點</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6d77a0e0.html alt=「論文推薦」郭廣禮等：無井式煤炭地下氣化岩層及地表移動與控制 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ReafrDd7EHXniF style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6d77a0e0.html title=「論文推薦」郭廣禮等：無井式煤炭地下氣化岩層及地表移動與控制>「論文推薦」郭廣禮等：無井式煤炭地下氣化岩層及地表移動與控制</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c63c80c1.html alt="論文推薦 | 劉照欣：高光譜亞像元定位的線特徵探測法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c63c80c1.html title="論文推薦 | 劉照欣：高光譜亞像元定位的線特徵探測法">論文推薦 | 劉照欣：高光譜亞像元定位的線特徵探測法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/be8eee7a.html alt=「論文推薦」狄軍貞​等：粒徑對煤矸石汙染物溶解釋放規律影響研究 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/S0q6oVj53DcDnj style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/be8eee7a.html title=「論文推薦」狄軍貞​等：粒徑對煤矸石汙染物溶解釋放規律影響研究>「論文推薦」狄軍貞​等：粒徑對煤矸石汙染物溶解釋放規律影響研究</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7f16a422.html alt="論文推薦| 李宗春：一種顧及現勢指向的上行天線陣相位中心精確標校方法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6Ieh75DBRtmcY style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7f16a422.html title="論文推薦| 李宗春：一種顧及現勢指向的上行天線陣相位中心精確標校方法">論文推薦| 李宗春：一種顧及現勢指向的上行天線陣相位中心精確標校方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6f4959cd.html alt="論文推薦| 林秀秀:極區慣導編排中地球近似模型的適用性分析" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6f4959cd.html title="論文推薦| 林秀秀:極區慣導編排中地球近似模型的適用性分析">論文推薦| 林秀秀:極區慣導編排中地球近似模型的適用性分析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a6b0d6e2.html alt="論文推薦| 皮英冬:利用稀少控制點的線陣推掃式光學衛星在軌幾何定標方法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a6b0d6e2.html title="論文推薦| 皮英冬:利用稀少控制點的線陣推掃式光學衛星在軌幾何定標方法">論文推薦| 皮英冬:利用稀少控制點的線陣推掃式光學衛星在軌幾何定標方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b5a90f38.html alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b5a90f38.html title="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術">論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c7555ef5.html alt=論文推薦｜姚宜斌：顧及設計矩陣誤差的AR模型新解法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/53410004acf9b032d928 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c7555ef5.html title=論文推薦｜姚宜斌：顧及設計矩陣誤差的AR模型新解法>論文推薦｜姚宜斌：顧及設計矩陣誤差的AR模型新解法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f22ea791.html alt=論文推薦｜楊幸彬：高分辨率遙感影像DSM的改進半全局匹配生成方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f22ea791.html title=論文推薦｜楊幸彬：高分辨率遙感影像DSM的改進半全局匹配生成方法>論文推薦｜楊幸彬：高分辨率遙感影像DSM的改進半全局匹配生成方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7c51035d.html alt=論文推薦｜邢志斌：我國陸海統一似大地水準面構建的三維重力矢量法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/15294875207731e288b7418 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7c51035d.html title=論文推薦｜邢志斌：我國陸海統一似大地水準面構建的三維重力矢量法>論文推薦｜邢志斌：我國陸海統一似大地水準面構建的三維重力矢量法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d07bf9bc.html alt=論文推薦｜馬下平：ITRF中GNSS/SLR並址站歸心基線的“一步解” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/53350006726e50ef72f9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d07bf9bc.html title=論文推薦｜馬下平：ITRF中GNSS/SLR並址站歸心基線的“一步解”>論文推薦｜馬下平：ITRF中GNSS/SLR並址站歸心基線的“一步解”</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>