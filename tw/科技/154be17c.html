<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Java å£“ç¸®ç®—æ³•å“ªå®¶å¼· | æå®¢å¿«è¨Š</title><meta property="og:title" content="Java å£“ç¸®ç®—æ³•å“ªå®¶å¼· - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/649441a963e5442397dd58994f8d3f31"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/154be17c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/154be17c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/154be17c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/154be17c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/154be17c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/154be17c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/154be17c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/154be17c.html><meta property="article:published_time" content="2020-11-14T21:01:37+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:37+08:00"><meta name=Keywords content><meta name=description content="Java å£“ç¸®ç®—æ³•å“ªå®¶å¼·"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/154be17c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Java å£“ç¸®ç®—æ³•å“ªå®¶å¼·</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p class=ql-align-justify>æœ¬æ–‡å°‡æœƒå°å¸¸ç”¨çš„å¹¾å€‹å£“ç¸®ç®—æ³•çš„æ€§èƒ½ä½œä¸€ä¸‹æ¯”è¼ƒã€‚çµæœè¡¨æ˜ï¼ŒæŸäº›ç®—æ³•åœ¨æ¥µç«¯è‹›åˆ»çš„CPUé™åˆ¶ä¸‹ä»èƒ½æ­£å¸¸å·¥ä½œã€‚</p><p class=ql-align-justify><strong>æ–‡ä¸­é€²è¡Œæ¯”è¼ƒçš„ç®—æœ‰ï¼š</strong></p><ul><li class=ql-align-justify>JDK GZIP â€”â€”é€™æ˜¯ä¸€å€‹å£“ç¸®æ¯”é«˜çš„æ…¢é€Ÿç®—æ³•ï¼Œå£“ç¸®å¾Œçš„æ•¸æ“šé©åˆé•·æœŸä½¿ç”¨ã€‚JDKä¸­çš„java.util.zip.GZIPInputStream / GZIPOutputStreamä¾¿æ˜¯é€™å€‹ç®—æ³•çš„å¯¦ç¾ã€‚</li><li class=ql-align-justify>JDK deflate â€”â€”é€™æ˜¯JDKä¸­çš„åˆä¸€å€‹ç®—æ³•ï¼ˆzipæ–‡ä»¶ç”¨çš„å°±æ˜¯é€™ä¸€ç®—æ³•ï¼‰ã€‚å®ƒèˆ‡gzipçš„ä¸åŒä¹‹è™•åœ¨æ–¼ï¼Œä½ å¯ä»¥æŒ‡å®šç®—æ³•çš„å£“ç¸®ç´šåˆ¥ï¼Œé€™æ¨£ä½ å¯ä»¥åœ¨å£“ç¸®æ™‚é–“å’Œè¼¸å‡ºæ–‡ä»¶å¤§å°ä¸Šé€²è¡Œå¹³è¡¡ã€‚å¯é¸çš„ç´šåˆ¥æœ‰0ï¼ˆä¸å£“ç¸®ï¼‰ï¼Œä»¥åŠ1(å¿«é€Ÿå£“ç¸®)åˆ°9ï¼ˆæ…¢é€Ÿå£“ç¸®ï¼‰ã€‚å®ƒçš„å¯¦ç¾æ˜¯java.util.zip.DeflaterOutputStream / InflaterInputStreamã€‚</li><li class=ql-align-justify>LZ4å£“ç¸®ç®—æ³•çš„Javaå¯¦ç¾â€”â€”é€™æ˜¯æœ¬æ–‡ä»‹ç´¹çš„ç®—æ³•ä¸­å£“ç¸®é€Ÿåº¦æœ€å¿«çš„ä¸€å€‹ï¼Œèˆ‡æœ€å¿«é€Ÿçš„deflateç›¸æ¯”ï¼Œå®ƒçš„å£“ç¸®çš„çµæœè¦ç•¥å¾®å·®ä¸€é»ã€‚å¦‚æœæƒ³ææ¸…æ¥šå®ƒçš„å·¥ä½œåŸç†ï¼Œæˆ‘å»ºè­°ä½ è®€ä¸€ä¸‹é€™ç¯‡æ–‡ç« ã€‚å®ƒæ˜¯åŸºæ–¼å‹å¥½çš„Apache 2.0è¨±å¯è­‰ç™¼ä½ˆçš„ã€‚</li><li class=ql-align-justify>Snappyâ€”â€”é€™æ˜¯Googleé–‹ç™¼çš„ä¸€å€‹éå¸¸æµè¡Œçš„å£“ç¸®ç®—æ³•ï¼Œå®ƒæ—¨åœ¨æä¾›é€Ÿåº¦èˆ‡å£“ç¸®æ¯”éƒ½ç›¸å°è¼ƒå„ªçš„å£“ç¸®ç®—æ³•ã€‚æˆ‘ç”¨ä¾†æ¸¬è©¦çš„æ˜¯é€™å€‹å¯¦ç¾ã€‚å®ƒä¹Ÿæ˜¯éµå¾ªApache 2.0è¨±å¯è­‰ç™¼ä½ˆçš„ã€‚</li></ul><p class=ql-align-justify><br></p><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>å£“ç¸®æ¸¬è©¦</strong></p><p class=ql-align-justify>è¦æ‰¾å‡ºå“ªäº›æ—¢é©åˆé€²è¡Œæ•¸æ“šå£“ç¸®æ¸¬è©¦åˆå­˜åœ¨æ–¼å¤§å¤šæ•¸Javaé–‹ç™¼äººå“¡çš„é›»è…¦ä¸­ï¼ˆæˆ‘å¯ä¸å¸Œæœ›ä½ ç‚ºäº†é‹è¡Œé€™å€‹æ¸¬è©¦é‚„å¾—å€‹å¹¾ç™¾å…†çš„æ–‡ä»¶ï¼‰çš„æ–‡ä»¶ä¹Ÿè‘—å¯¦è²»äº†æˆ‘ä¸å°‘å·¥å¤«ã€‚æœ€å¾Œæˆ‘æƒ³åˆ°ï¼Œå¤§å¤šæ•¸äººæ‡‰è©²éƒ½æœƒåœ¨æœ¬åœ°å®‰è£æœ‰JDKçš„æ–‡æª”ã€‚å› æ­¤æˆ‘æ±ºå®šå°‡javadocçš„ç›®éŒ„æ•´å€‹åˆä½µæˆä¸€å€‹æ–‡ä»¶â€”â€”æ‹¼æ¥æ‰€æœ‰æ–‡ä»¶ã€‚é€™å€‹é€šétarå‘½ä»¤å¯ä»¥å¾ˆå®¹æ˜“å®Œæˆï¼Œä½†ä¸¦éæ‰€æœ‰äººéƒ½æ˜¯Linuxç”¨æˆ¶ï¼Œå› æ­¤æˆ‘å¯«äº†å€‹ç¨‹åºä¾†ç”Ÿæˆé€™å€‹æ–‡ä»¶ï¼š</p><blockquote>public class InputGenerator { private static final String JAVADOC_PATH = "your_path_to_JDK/docs"; public static final File FILE_PATH = new File( "your_output_file_path" ); static { try { if ( !FILE_PATH.exists() ) makeJavadocFile(); } catch (IOException e) { e.printStackTrace(); } } private static void makeJavadocFile() throws IOException { try( OutputStream os = new BufferedOutputStream( new FileOutputStream( FILE_PATH ), 65536 ) ) { appendDir(os, new File( JAVADOC_PATH )); } System.out.println( "Javadoc file created" ); } private static void appendDir( final OutputStream os, final File root ) throws IOException { for ( File f : root.listFiles() ) { if ( f.isDirectory() ) appendDir( os, f ); else Files.copy(f.toPath(), os); } }}</blockquote><p class=ql-align-justify><br></p><p class=ql-align-justify>åœ¨æˆ‘çš„æ©Ÿå™¨ä¸Šæ•´å€‹æ–‡ä»¶çš„å¤§å°æ˜¯354,509,602å­—ç¯€ï¼ˆ338MBï¼‰ã€‚</p><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>æ¸¬è©¦</strong></p><p class=ql-align-justify>ä¸€é–‹å§‹æˆ‘æƒ³æŠŠæ•´å€‹æ–‡ä»¶è®€é€²å…§å­˜è£¡ï¼Œç„¶å¾Œå†é€²è¡Œå£“ç¸®ã€‚ä¸éçµæœè¡¨æ˜é€™éº¼åšçš„è©±å³ä¾¿æ˜¯4Gçš„æ©Ÿå™¨ä¸Šä¹Ÿå¾ˆå®¹æ˜“æŠŠå †å…§å­˜ç©ºé–“è€—ç›¡ã€‚</p><p class=ql-align-justify>æ–¼æ˜¯æˆ‘æ±ºå®šä½¿ç”¨æ“ä½œç³»çµ±çš„æ–‡ä»¶ç·©å­˜ã€‚é€™è£¡æˆ‘å€‘ç”¨çš„æ¸¬è©¦æ¡†æ¶æ˜¯JMHã€‚é€™å€‹æ–‡ä»¶åœ¨é ç†±éšæ®µæœƒè¢«æ“ä½œç³»çµ±åŠ è¼‰åˆ°ç·©å­˜ä¸­ï¼ˆåœ¨é ç†±éšæ®µæœƒå…ˆå£“ç¸®å…©æ¬¡ï¼‰ã€‚æˆ‘æœƒå°‡å…§å®¹å£“ç¸®åˆ°ByteArrayOutputStreamæµä¸­ï¼ˆæˆ‘çŸ¥é“é€™ä¸¦ä¸æ˜¯æœ€å¿«çš„æ–¹æ³•ï¼Œä½†æ˜¯å°æ–¼å„å€‹æ¸¬è©¦è€Œè¨€å®ƒçš„æ€§èƒ½æ˜¯æ¯”è¼ƒç©©å®šçš„ï¼Œä¸¦ä¸”ä¸éœ€è¦èŠ±è²»æ™‚é–“å°‡å£“ç¸®å¾Œçš„æ•¸æ“šå¯«å…¥åˆ°ç£ç›¤è£¡ï¼‰ï¼Œå› æ­¤é‚„éœ€è¦ä¸€äº›å…§å­˜ç©ºé–“ä¾†å­˜å„²é€™å€‹è¼¸å‡ºçµæœã€‚</p><p class=ql-align-justify>ä¸‹é¢æ˜¯æ¸¬è©¦é¡çš„åŸºé¡ã€‚æ‰€æœ‰çš„æ¸¬è©¦ä¸åŒçš„åœ°æ–¹éƒ½åªåœ¨æ–¼å£“ç¸®çš„è¼¸å‡ºæµçš„å¯¦ç¾ä¸åŒï¼Œå› æ­¤å¯ä»¥è¤‡ç”¨é€™å€‹æ¸¬è©¦åŸºé¡ï¼Œåªéœ€å¾StreamFactoryå¯¦ç¾ä¸­ç”Ÿæˆä¸€å€‹æµå°±å¥½äº†ï¼š</p><blockquote>@OutputTimeUnit(TimeUnit.MILLISECONDS)@State(Scope.Thread)@Fork(1)@Warmup(iterations = 2)@Measurement(iterations = 3)@BenchmarkMode(Mode.SingleShotTime)public class TestParent { protected Path m_inputFile; @Setup public void setup() { m_inputFile = InputGenerator.FILE_PATH.toPath(); } interface StreamFactory { public OutputStream getStream( final OutputStream underlyingStream ) throws IOException; } public int baseBenchmark( final StreamFactory factory ) throws IOException { try ( ByteArrayOutputStream bos = new ByteArrayOutputStream((int) m_inputFile.toFile().length()); OutputStream os = factory.getStream( bos ) ) { Files.copy(m_inputFile, os); os.flush(); return bos.size(); } }}</blockquote><p class=ql-align-justify><br></p><p class=ql-align-justify><br></p><p class=ql-align-justify>é€™äº›æ¸¬è©¦ç”¨ä¾‹éƒ½éå¸¸ç›¸ä¼¼ï¼ˆåœ¨æ–‡æœ«æœ‰å®ƒå€‘çš„æºä»£ç¢¼ï¼‰ï¼Œé€™è£¡åªåˆ—å‡ºäº†å…¶ä¸­çš„ä¸€å€‹ä¾‹å­â€”â€”JDK deflateçš„æ¸¬è©¦é¡ï¼›</p><blockquote>public class JdkDeflateTest extends TestParent { @Param({"1", "2", "3", "4", "5", "6", "7", "8", "9"}) public int m_lvl; @Benchmark public int deflate() throws IOException { return baseBenchmark(new StreamFactory() { @Override public OutputStream getStream(OutputStream underlyingStream) throws IOException { final Deflater deflater = new Deflater( m_lvl, true ); return new DeflaterOutputStream( underlyingStream, deflater, 512 ); } }); }}</blockquote><p class=ql-align-justify><br></p><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>æ¸¬è©¦çµæœ</strong></p><p class=ql-align-justify><strong>è¼¸å‡ºæ–‡ä»¶çš„å¤§å°</strong></p><p class=ql-align-justify>é¦–å…ˆæˆ‘å€‘ä¾†çœ‹ä¸‹è¼¸å‡ºæ–‡ä»¶çš„å¤§å°ï¼š</p><p class=ql-align-justify>||å¯¦ç¾||æ–‡ä»¶å¤§å°ï¼ˆå­—ç¯€ï¼‰|| ||GZIP||64ï¼Œ200ï¼Œ201|| ||Snappy (normal)||138,250,196|| ||Snappy (framed)|| 101,470,113|| ||LZ4 (fast)|| 98,316,501|| ||LZ4 (high) ||82,076,909|| ||Deflate (lvl=1) ||78,369,711|| ||Deflate (lvl=2) ||75,261,711|| ||Deflate (lvl=3) ||73,240,781|| ||Deflate (lvl=4) ||68,090,059|| ||Deflate (lvl=5) ||65,699,810|| ||Deflate (lvl=6) ||64,200,191|| ||Deflate (lvl=7) ||64,013,638|| ||Deflate (lvl=8) ||63,845,758|| ||Deflate (lvl=9) ||63,839,200||</p><p class=ql-align-center><br></p><div class=pgc-img><img alt="Java å£“ç¸®ç®—æ³•å“ªå®¶å¼·" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/649441a963e5442397dd58994f8d3f31><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><br></p><p class=ql-align-justify>å¯ä»¥çœ‹å‡ºæ–‡ä»¶çš„å¤§å°ç›¸å·®æ‡¸æ®Šï¼ˆå¾60Mbåˆ°131Mbï¼‰ã€‚æˆ‘å€‘å†ä¾†çœ‹ä¸‹ä¸åŒçš„å£“ç¸®æ–¹æ³•éœ€è¦çš„æ™‚é–“æ˜¯å¤šå°‘ã€‚</p><p class=ql-align-justify>å£“ç¸®æ™‚é–“</p><p class=ql-align-justify>||å¯¦ç¾||å£“ç¸®æ™‚é–“(ms)|| ||Snappy.framedOutput ||2264.700|| ||Snappy.normalOutput ||2201.120|| ||Lz4.testFastNative ||1056.326|| ||Lz4.testFastUnsafe ||1346.835|| ||Lz4.testFastSafe ||1917.929|| ||Lz4.testHighNative ||7489.958|| ||Lz4.testHighUnsafe ||10306.973|| ||Lz4.testHighSafe ||14413.622|| ||deflate (lvl=1) ||4522.644|| ||deflate (lvl=2) ||4726.477|| ||deflate (lvl=3) ||5081.934|| ||deflate (lvl=4) ||6739.450|| ||deflate (lvl=5) ||7896.572|| ||deflate (lvl=6) ||9783.701|| ||deflate (lvl=7) ||10731.761|| ||deflate (lvl=8) ||14760.361|| ||deflate (lvl=9) ||14878.364|| ||GZIP ||10351.887||</p><p class=ql-align-center><br></p><div class=pgc-img><img alt="Java å£“ç¸®ç®—æ³•å“ªå®¶å¼·" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8951d6a3d6f94bbbbaea1cf0f8fb551b><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><br></p><p class=ql-align-justify>æˆ‘å€‘å†å°‡å£“ç¸®æ™‚é–“å’Œæ–‡ä»¶å¤§å°åˆä½µåˆ°ä¸€å€‹è¡¨ä¸­ä¾†çµ±è¨ˆä¸‹ç®—æ³•çš„ååé‡ï¼Œçœ‹çœ‹èƒ½å¾—å‡ºä»€éº¼çµè«–ã€‚</p><p class=ql-align-justify>ååé‡åŠæ•ˆç‡</p><p class=ql-align-justify>||å¯¦ç¾||æ™‚é–“ï¼ˆmsï¼‰||æœªå£“ç¸®æ–‡ä»¶å¤§å°||ååé‡ï¼ˆMb/ç§’ï¼‰||å£“ç¸®å¾Œæ–‡ä»¶å¤§å°(Mb)|| ||Snappy.normalOutput ||2201.12 ||338 ||153.5581885586 ||131.8454742432|| ||Snappy.framedOutput ||2264.7 ||338 ||149.2471409017 ||96.7693328857|| ||Lz4.testFastNative ||1056.326 ||338 ||319.9769768045 ||93.7557220459|| ||Lz4.testFastSafe ||1917.929 ||338 ||176.2317583185 ||93.7557220459|| ||Lz4.testFastUnsafe ||1346.835 ||338 ||250.9587291688 ||93.7557220459|| ||Lz4.testHighNative ||7489.958 ||338 ||45.1270888301 ||78.2680511475|| ||Lz4.testHighSafe ||14413.622 ||338 ||23.4500391366 ||78.2680511475|| ||Lz4.testHighUnsafe ||10306.973 ||338 ||32.7933332124 ||78.2680511475|| ||deflate (lvl=1) ||4522.644 ||338 ||74.7350443679 ||74.7394561768|| ||deflate (lvl=2) ||4726.477 ||338 ||71.5120374012 ||71.7735290527|| ||deflate (lvl=3) ||5081.934 ||338 ||66.5101120951 ||69.8471069336|| ||deflate (lvl=4) ||6739.45 ||338 ||50.1524605124 ||64.9452209473|| ||deflate (lvl=5) ||7896.572 ||338 ||42.8033835442 ||62.6564025879|| ||deflate (lvl=6) ||9783.701 ||338 ||34.5472536415 ||61.2258911133|| ||deflate (lvl=7) ||10731.761 ||338 ||31.4952969974 ||61.0446929932|| ||deflate (lvl=8) ||14760.361 ||338 ||22.8991689295 ||60.8825683594|| ||deflate (lvl=9) ||14878.364 ||338 ||22.7175514727 ||60.8730316162|| ||GZIP ||10351.887 ||338 ||32.651051929 ||61.2258911133||</p><div class=pgc-img><img alt="Java å£“ç¸®ç®—æ³•å“ªå®¶å¼·" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ef5d54ae5b5f4ce9b6649e2783c8cbd3><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>å¯ä»¥çœ‹åˆ°ï¼Œå…¶ä¸­å¤§å¤šæ•¸å¯¦ç¾çš„æ•ˆç‡æ˜¯éå¸¸ä½çš„ï¼šåœ¨Xeon E5-2650è™•ç†å™¨ä¸Šï¼Œé«˜ç´šåˆ¥çš„deflateå¤§ç´„æ˜¯23ï¼­b/ç§’ï¼Œå³ä½¿æ˜¯GZIPä¹Ÿå°±åªæœ‰33Mb/ç§’ï¼Œé€™å¤§æ¦‚å¾ˆé›£ä»¤äººæ»¿æ„ã€‚åŒæ™‚ï¼Œæœ€å¿«çš„defalteç®—æ³•å¤§æ¦‚èƒ½åˆ°75Mb/ç§’,Snappyæ˜¯150Mb/ç§’ï¼Œè€ŒLZ4(å¿«é€Ÿï¼ŒJNIå¯¦ç¾)èƒ½é”åˆ°é›£ä»¥ç½®ä¿¡çš„320Mb/ç§’!</p><p class=ql-align-justify>å¾è¡¨ä¸­å¯ä»¥æ¸…æ™°åœ°çœ‹å‡ºç›®å‰æœ‰å…©ç¨®å¯¦ç¾æ¯”è¼ƒè™•æ–¼åŠ£å‹¢ï¼šSnappyè¦æ…¢æ–¼LZ4(å¿«é€Ÿå£“ç¸®)ï¼Œä¸¦ä¸”å£“ç¸®å¾Œçš„æ–‡ä»¶è¦æ›´å¤§ã€‚ç›¸åï¼ŒLZ4ï¼ˆé«˜å£“ç¸®æ¯”ï¼‰è¦æ…¢æ–¼ç´šåˆ¥1åˆ°4çš„deflateï¼Œè€Œè¼¸å‡ºæ–‡ä»¶çš„å¤§å°å³ä¾¿å’Œç´šåˆ¥1çš„deflateç›¸æ¯”ä¹Ÿè¦å¤§ä¸Šä¸å°‘ã€‚</p><p class=ql-align-justify>å› æ­¤å¦‚æœéœ€è¦é€²è¡Œâ€œå¯¦æ™‚å£“ç¸®â€çš„è©±æˆ‘è‚¯å®šæœƒåœ¨LZ4(å¿«é€Ÿ)çš„JNIå¯¦ç¾æˆ–è€…æ˜¯ç´šåˆ¥1çš„deflateä¸­é€²è¡Œé¸æ“‡ã€‚ç•¶ç„¶å¦‚æœä½ çš„å…¬å¸ä¸å…è¨±ä½¿ç”¨ç¬¬ä¸‰æ–¹åº«çš„è©±ä½ ä¹Ÿåªèƒ½ä½¿ç”¨deflateäº†ã€‚ä½ é‚„è¦ç¶œåˆè€ƒæ…®æœ‰å¤šå°‘ç©ºé–’çš„CPUè³‡æºä»¥åŠå£“ç¸®å¾Œçš„æ•¸æ“šè¦å­˜å„²åˆ°å“ªè£¡ã€‚æ¯”æ–¹èªªï¼Œå¦‚æœä½ è¦å°‡å£“ç¸®å¾Œçš„æ•¸æ“šå­˜å„²åˆ°HDDçš„è©±ï¼Œé‚£éº¼ä¸Šè¿°100Mb/ç§’çš„æ€§èƒ½å°ä½ è€Œè¨€æ˜¯æ¯«ç„¡å¹«åŠ©çš„ï¼ˆå‡è¨­ä½ çš„æ–‡ä»¶è¶³å¤ å¤§çš„è©±ï¼‰â€”â€”HDDçš„é€Ÿåº¦æœƒæˆç‚ºç“¶é ¸ã€‚åŒæ¨£çš„æ–‡ä»¶å¦‚æœè¼¸å‡ºåˆ°SSDç¡¬ç›¤çš„è©±â€”â€”å³ä¾¿æ˜¯LZ4åœ¨å®ƒé¢å‰ä¹Ÿé¡¯å¾—å¤ªæ…¢äº†ã€‚å¦‚æœä½ æ˜¯è¦å…ˆå£“ç¸®æ•¸æ“šå†ç™¼é€åˆ°ç¶²çµ¡ä¸Šçš„è©±ï¼Œæœ€å¥½é¸æ“‡LZ4ï¼Œå› ç‚ºdeflate75Mb/ç§’çš„å£“ç¸®æ€§èƒ½è·Ÿç¶²çµ¡125Mb/ç§’çš„ååé‡ç›¸æ¯”çœŸæ˜¯å°å·«è¦‹å¤§å·«äº†ï¼ˆç•¶ç„¶ï¼Œæˆ‘çŸ¥é“ç¶²çµ¡æµé‡é‚„æœ‰åŒ…é ­ï¼Œä¸éå³ä½¿ç®—ä¸Šäº†å®ƒé€™å€‹å·®è·ä¹Ÿæ˜¯ç›¸ç•¶å¯è§€çš„ï¼‰ã€‚</p><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>ç¸½çµ</strong></p><p class=ql-align-justify>å¦‚æœä½ èªç‚ºæ•¸æ“šå£“ç¸®éå¸¸æ…¢çš„è©±ï¼Œå¯ä»¥è€ƒæ…®ä¸‹LZ4ï¼ˆå¿«é€Ÿï¼‰å¯¦ç¾ï¼Œå®ƒé€²è¡Œæ–‡æœ¬å£“ç¸®èƒ½é”åˆ°å¤§ç´„320Mb/ç§’çš„é€Ÿåº¦â€”â€”é€™æ¨£çš„å£“ç¸®é€Ÿåº¦å°å¤§å¤šæ•¸æ‡‰ç”¨è€Œè¨€æ‡‰è©²éƒ½æ„ŸçŸ¥ä¸åˆ°ã€‚</p><p class=ql-align-justify>å¦‚æœä½ å—é™æ–¼ç„¡æ³•ä½¿ç”¨ç¬¬ä¸‰æ–¹åº«æˆ–è€…åªå¸Œæœ›æœ‰ä¸€å€‹ç¨å¾®å¥½ä¸€é»çš„å£“ç¸®æ–¹æ¡ˆçš„è©±ï¼Œå¯ä»¥è€ƒæ…®ä¸‹ä½¿ç”¨JDK deflate(lvl=1)é€²è¡Œç·¨è§£ç¢¼â€”â€”åŒæ¨£çš„æ–‡ä»¶å®ƒçš„å£“ç¸®é€Ÿåº¦èƒ½é”åˆ°75Mb/ç§’ã€‚</p><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>æƒ³è¦å£“ç¸®æ¸¬è©¦æºä»£ç¢¼çš„å¯ä»¥ç§ä¿¡æˆ‘ç²å–</strong></p><h1 class=ql-align-justify><strong>ç§ä¿¡æˆ‘ï¼šâ€œè³‡æ–™â€ï¼Œé‚„å¯å…è²»é ˜å–æ›´å¤šå­¸ç¿’è³‡æ–™</strong></h1><div class=pgc-img><img alt="Java å£“ç¸®ç®—æ³•å“ªå®¶å¼·" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ed343a37c48740ebbe72797d27f47eb3><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="Java å£“ç¸®ç®—æ³•å“ªå®¶å¼·" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6303af21f6ef4fe78917986fe5be6b62><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Java</a></li><li><a>å£“ç¸®</a></li><li><a>å“ªå®¶</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/8af8bcfc.html alt="Java è¤‡è£½ã€å£“ç¸®PDFæ–‡æª”" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/0c8af1656070453991d0564813b0fe23 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8af8bcfc.html title="Java è¤‡è£½ã€å£“ç¸®PDFæ–‡æª”">Java è¤‡è£½ã€å£“ç¸®PDFæ–‡æª”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ebeb0d62.html alt=Javaå£“ç¸®ç®—æ³•æ€§èƒ½æ¯”è¼ƒ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/a009df65c08d4c0ba29d4af5c5c0c130 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ebeb0d62.html title=Javaå£“ç¸®ç®—æ³•æ€§èƒ½æ¯”è¼ƒ>Javaå£“ç¸®ç®—æ³•æ€§èƒ½æ¯”è¼ƒ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8775ee99.html alt=éŸ³é »å£“ç¸®ç·¨ç¢¼çš„åŸºæœ¬åŸç†è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1d62465bab4542babd5647386c272c82 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8775ee99.html title=éŸ³é »å£“ç¸®ç·¨ç¢¼çš„åŸºæœ¬åŸç†è©³è§£>éŸ³é »å£“ç¸®ç·¨ç¢¼çš„åŸºæœ¬åŸç†è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/22525cee.html alt=æ•¸å­—éŸ³è¦–é »å£“ç¸®ç·¨ç¢¼æ¨™æº–åŠH.265çš„ç·¨ç¢¼å„ªå‹¢ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/558a023201a84604894ebc359d178ed2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/22525cee.html title=æ•¸å­—éŸ³è¦–é »å£“ç¸®ç·¨ç¢¼æ¨™æº–åŠH.265çš„ç·¨ç¢¼å„ªå‹¢>æ•¸å­—éŸ³è¦–é »å£“ç¸®ç·¨ç¢¼æ¨™æº–åŠH.265çš„ç·¨ç¢¼å„ªå‹¢</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/48ba24d7.html alt=æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/3c5e0002a8059c1311aa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/48ba24d7.html title=æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£>æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b8bda645.html alt=ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b471807e699b44c2b1dedc580ea3f3af style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b8bda645.html title=ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£>ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/816b04b7.html alt=å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/816b04b7.html title=å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ†>å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html alt="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9d3b0e55813d46b4982ae7d9b81d1802 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html title="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½">Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/12498348.html alt="Java ç·¨è­¯æ™‚å¤šæ…‹å’Œé‹è¡Œæ™‚å¤šæ…‹" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1531535784468c357213ffe style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/12498348.html title="Java ç·¨è­¯æ™‚å¤šæ…‹å’Œé‹è¡Œæ™‚å¤šæ…‹">Java ç·¨è­¯æ™‚å¤šæ…‹å’Œé‹è¡Œæ™‚å¤šæ…‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d60e504d.html alt=JavaåŸºç¤ä¹‹å¤šæ…‹ï¼Œå‹•æ…‹ç¶å®šå¤šæ…‹çš„ä»£ç¢¼æ¡ˆä¾‹ï¼Œç°¡å–®å»å¾ˆé‡è¦ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ab338c7287fe4649a96227987579c844 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d60e504d.html title=JavaåŸºç¤ä¹‹å¤šæ…‹ï¼Œå‹•æ…‹ç¶å®šå¤šæ…‹çš„ä»£ç¢¼æ¡ˆä¾‹ï¼Œç°¡å–®å»å¾ˆé‡è¦>JavaåŸºç¤ä¹‹å¤šæ…‹ï¼Œå‹•æ…‹ç¶å®šå¤šæ…‹çš„ä»£ç¢¼æ¡ˆä¾‹ï¼Œç°¡å–®å»å¾ˆé‡è¦</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bb876e43.html alt=Javaç‰¹æ€§ä¹‹ä¸€ï¼šå¤šæ…‹è©³è§£ï¼Œå­¸javaä¸æ±‚äºº class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/39a700034bab2e1401a3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bb876e43.html title=Javaç‰¹æ€§ä¹‹ä¸€ï¼šå¤šæ…‹è©³è§£ï¼Œå­¸javaä¸æ±‚äºº>Javaç‰¹æ€§ä¹‹ä¸€ï¼šå¤šæ…‹è©³è§£ï¼Œå­¸javaä¸æ±‚äºº</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/234d55fa.html alt=Javaé–‹ç™¼èª²ç¨‹ï¼ˆåï¼‰â€”â€”é¢å‘å°è±¡5ã€å¤šæ…‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/df3621e51e4242fd90731dd013472f12 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/234d55fa.html title=Javaé–‹ç™¼èª²ç¨‹ï¼ˆåï¼‰â€”â€”é¢å‘å°è±¡5ã€å¤šæ…‹>Javaé–‹ç™¼èª²ç¨‹ï¼ˆåï¼‰â€”â€”é¢å‘å°è±¡5ã€å¤šæ…‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/96d2083b.html alt=ã€ŒJavaä¸‰åˆ†é˜ã€Javaä¸‰å¤§ç‰¹æ€§â€”â€”å¤šæ…‹ç†è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/6a9b8965-0a4c-4cb4-9389-6cbbda0e9d93 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/96d2083b.html title=ã€ŒJavaä¸‰åˆ†é˜ã€Javaä¸‰å¤§ç‰¹æ€§â€”â€”å¤šæ…‹ç†è§£>ã€ŒJavaä¸‰åˆ†é˜ã€Javaä¸‰å¤§ç‰¹æ€§â€”â€”å¤šæ…‹ç†è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b96b5bf9.html alt=å¦‚ä½•æ­£ç¢ºèªè­˜Javaå¤šæ…‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d2896b2f39694d39957b901a62cfe7fb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b96b5bf9.html title=å¦‚ä½•æ­£ç¢ºèªè­˜Javaå¤šæ…‹>å¦‚ä½•æ­£ç¢ºèªè­˜Javaå¤šæ…‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8a7023ee.html alt="Java å¸¸è¦‹çš„49å€‹éŒ¯èª¤åŠé¿å…æ–¹æ³•ï¼ç¿»è­¯ä½œæ¥­ï¼šç¢¼è¾²ç¶²-å°å³°" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/3c5a0001a9e3fd1b8a13 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8a7023ee.html title="Java å¸¸è¦‹çš„49å€‹éŒ¯èª¤åŠé¿å…æ–¹æ³•ï¼ç¿»è­¯ä½œæ¥­ï¼šç¢¼è¾²ç¶²-å°å³°">Java å¸¸è¦‹çš„49å€‹éŒ¯èª¤åŠé¿å…æ–¹æ³•ï¼ç¿»è­¯ä½œæ¥­ï¼šç¢¼è¾²ç¶²-å°å³°</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>