<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ§‹å¸«çš„å…©è¬å­—ç¸½çµ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ§‹å¸«çš„å…©è¬å­—ç¸½çµ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/a7567f0bc0694fd0ad5ba0987efc07ce"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/16431777.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/16431777.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/16431777.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/16431777.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/16431777.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/16431777.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/16431777.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/16431777.html><meta property="article:published_time" content="2020-11-14T20:59:18+08:00"><meta property="article:modified_time" content="2020-11-14T20:59:18+08:00"><meta name=Keywords content><meta name=description content="Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ§‹å¸«çš„å…©è¬å­—ç¸½çµ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/16431777.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ§‹å¸«çš„å…©è¬å­—ç¸½çµ</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>ç›®éŒ„</h1><ol start=1><li>Javaé¢å‘å°è±¡åŸºæœ¬æ¦‚å¿µ</li><li>System</li><li>String, StringBuffer</li><li>æ•¸å€¼ï¼Œå­—ç¬¦ï¼Œå¸ƒçˆ¾å°è±¡èˆ‡ç°¡å–®é¡å‹çš„æ“ä½œ</li><li>Class, ClassLoader</li><li>Java IOç³»çµ±</li><li>Javaé›†åˆé¡</li><li>ResourceBundle, Properties</li><li>Exceptions</li><li>JDBCé¡åº«</li><li>å¸¸ç”¨è¨­è¨ˆæ¨¡å¼</li><li>è®€è€…ç¦åˆ©</li></ol><h1 class=pgc-h-arrow-right>ä¸€ã€Javaé¢å‘å°è±¡åŸºæœ¬æ¦‚å¿µ</h1><p>JavaåŸºæœ¬ä¸Šæ˜¯é¢å‘å°è±¡çš„ç¨‹åºè¨­è¨ˆèªè¨€ï¼Œ é™¤äº†ä¸€äº›ç°¡å–®é¡å‹(primitive)çš„è®Šé‡ä»¥å¤–ï¼Œä¸€åˆ‡éƒ½æ˜¯å°è±¡ï¼Œ ç¨‹åºæ˜¯å°è±¡çš„çµ„åˆï¼Œ æ¯å€‹å°è±¡éƒ½æœ‰è‡ªå·±çš„ç©ºé–“ï¼Œ ä¸¦ä¸”æ¯å€‹å°è±¡éƒ½æœ‰ä¸€ç¨®é¡å‹ï¼Œ åŒä¸€é¡æ‰€æœ‰å°è±¡éƒ½èƒ½æ¥å—ç›¸åŒçš„æ¶ˆæ¯ã€‚ ä¸‹é¢åªå°Javaä¸­å°è±¡çš„çµæ§‹ä½œç°¡å–®çš„èªªæ˜ï¼š</p><ul><li>é¡ï¼ˆclassï¼‰: classæ˜¯å®šç¾©é¡çš„é—œéµå­—ï¼Œ é¡ä¸­åŒ…å«é¡è®Šé‡ï¼Œ æ–¹æ³•ï¼Œ å…§éƒ¨é¡ï¼Œ å…§éƒ¨æ¥å£ç­‰ã€‚ç”±classå¯ä»¥ç”Ÿæˆé¡çš„å¯¦ä¾‹ï¼Œ å³ä¸€å€‹å€‹å°è±¡ã€‚ å¦‚æœä¸€å€‹é¡çš„æˆå“¡è¢«å®šç¾©æˆstaticçš„ï¼Œå‰‡é€™å€‹æˆå“¡ä¸å°ˆå±¬æ–¼ä»»ä½•å°è±¡ï¼Œ è€Œæ˜¯å±¬æ–¼é€™å€‹é¡ï¼Œ æ‰€æœ‰çš„å°è±¡å…±äº«é€™å€‹æˆå“¡ã€‚</li><li>æŠ½è±¡é¡(abstract class): æŠ½è±¡é¡ä¸èƒ½ç›´æ¥ç”Ÿæˆä¸€å€‹å¯¦ä¾‹ï¼Œ æŠ½è±¡é¡ä¸­å¿…éœ€æœ‰æ–¹æ³•æ˜¯abstractçš„ï¼ŒæŠ½è±¡é¡çš„æ„æ€å°±æ˜¯å®ƒå¯¦ç¾äº†ä¸€éƒ¨åˆ†çš„æ–¹æ³•ï¼Œ è€Œå®šç¾©ç‚ºabstractçš„æ–¹æ³•å‰‡éœ€è¦åœ¨å®ƒçš„å­—é¡ä¸­å»å¯¦ç¾ã€‚</li><li>æ¥å£(interface): æ¥å£å¯ä»¥ç†è§£ç‚ºç´”æŠ½è±¡çš„é¡ï¼Œ å®ƒçš„æ¯å€‹æ–¹æ³•éƒ½æ˜¯æœªå¯¦ç¾çš„ï¼Œ å®ƒå¯ä»¥æœ‰æˆå“¡è®Šé‡ï¼Œ ä½†å¿…é ˆæ˜¯staticçš„ã€‚ ä¸€å€‹é¡å¦‚æœå¾é€™å€‹æ¥å£ç¹¼æ‰¿ï¼ˆimplementsï¼‰å‰‡å®ƒå¿…é ˆå¯¦ç¾é€™å€‹æ¥å£çš„æ‰€æœ‰æ–¹æ³•ã€‚</li></ul><p>ç¹¼æ‰¿é¡ç”¨é—œéµå­—ï¼šextendsï¼Œç¹¼æ‰¿æ¥å£ç”¨é—œéµå­—ï¼šimplementsã€‚ ä¸€å€‹é¡åªèƒ½å¾ä¸€å€‹é¡ç¹¼æ‰¿ä¸‹ä¾†ï¼Œ ä½†å¯ä»¥å¾å¤šå€‹æ¥å£ç¹¼æ‰¿ï¼ˆé¡ä¼¼æ–¼C++çš„å¤šé‡ç¹¼æ‰¿ï¼‰ã€‚ å­—é¡å¯ä»¥è¦†è“‹çˆ¶é¡çš„æ–¹æ³•(method)ï¼Œ ä½†ä¸èƒ½è¦†è“‹çˆ¶é¡çš„æˆå“¡è®Šé‡(field)ã€‚ å¦‚æœçˆ¶é¡çš„æ–¹æ³•ç‚ºfinalæˆ–staticçš„å‰‡ä¸èƒ½è¢«è¦†è“‹ã€‚é¡çš„åˆå§‹åŒ–é †åºæ˜¯ï¼Œ å¦‚æœæœ‰çˆ¶é¡ï¼Œ å‰‡å…ˆåˆå§‹åŒ–çˆ¶é¡çš„fieldï¼Œç„¶å¾ŒåŸ·è¡Œçˆ¶é¡çš„æ§‹é€ å‡½æ•¸ï¼Œ å¦‚æœå­é¡æ²’æœ‰é¡¯å¼çš„å»èª¿çˆ¶é¡çš„æ§‹é€ å‡½æ•¸å‰‡ç¼ºçœçš„æœƒå»èª¿çˆ¶é¡çš„ç„¡åƒæ•¸æ§‹é€ å‡½æ•¸ã€‚ ç„¶å¾Œæ˜¯å­é¡çš„fieldèˆ‡æ§‹é€ å‡½æ•¸çš„åˆå§‹åŒ–ã€‚</p><pre><code>public interface SuperInterface {	public staitc String SOME_FLAG = â€œ1â€;	public void someMethod();}public Class SuperClass {	{		System.out.println(â€œinit SuperClass fieldâ€);	}	public SuperClass() {		System.out.println(â€œinit SuperClass Constructorâ€);	}	public void runMethod() {		System.out.println(â€œrun SuperClass runMethod()â€);	}}public Class SubClass extends SuperClass implements SuperInterface {	{		System.out.println(â€œinit SubClass fieldâ€);	}	public SubClass() {		System.out.println(â€œinit SubClass Constructorâ€);	}	public void someMethod() {		System.out.println(â€œrun SubClass someMethod()â€);	}	public void runMethod() {		System.out.println(â€œrun SubClass runMethod()â€);	}}</code></pre><p>æœ‰ä»¥ä¸‹testä»£ç¢¼ï¼š</p><pre><code>public class Test {	public void main(String[] args) {		SubClass sub = new SubClass();		sub. runMethod();	}}</code></pre><p>å‰‡æœƒè¼¸å‡ºï¼š</p><pre><code>init SuperClass fieldinit SuperClass Constructorinit SubClass fieldinit SubClass Constructorrun SubClass runMethod()</code></pre><p>ä»¥ä¸‹ç« ç¯€æ‰€è¬›è¿°åˆ°çš„å¸¸ç”¨çš„Java APIå°±æ˜¯ä¸€äº›Javaè‡ªå¸¶çš„ä¸€äº›Classæˆ–Interfaceçš„ç”¨æ³•ã€‚</p><h1 class=pgc-h-arrow-right>äºŒã€System</h1><p>Systemé¡ä½æ–¼package java.langä¸‹é¢ï¼Œ å‡¡æ˜¯æ­¤packageä¸‹é¢çš„é¡æˆ‘å€‘å¯ä»¥ç›´æ¥å¼•ç”¨ç„¡éœ€å…ˆimporté€²ä¾†ï¼Œ å› ç‚ºJVMç¼ºçœå°±loadäº†é€™ä¸‹é¢çš„æ‰€æœ‰classã€‚</p><p>SystemåŒ…å«äº†ä¸€äº›æˆ‘å€‘å¸¸ç”¨çš„æ–¹æ³•èˆ‡æˆå“¡è®Šé‡ã€‚ Systemä¸èƒ½è¢«å¯¦ä¾‹åŒ–ï¼Œ æ‰€æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥ç›´æ¥å¼•ç”¨ã€‚ ä¸»è¦ä½œç”¨å¤§è‡´æœ‰ï¼š</p><p><strong>2.1 è¼¸å…¥è¼¸å‡ºæµ</strong>ï¼š</p><ul><li>(PrintStream) System.out ï¼ˆæ¨™æº–çµ‚ç«¯è¼¸å‡ºæµï¼‰ï¼Œ</li><li>(PrintStream) System.errï¼ˆæ¨™æº–éŒ¯èª¤è¼¸å‡ºæµï¼‰ï¼Œ</li><li>(InputStream) System.inï¼ˆæ¨™æº–è¼¸å…¥æµï¼‰ã€‚</li></ul><p>æˆ‘å€‘é‚„å¯ä»¥é‡å®šå‘é€™äº›æµï¼Œ æ¯”å¦‚å°‡æ‰€æœ‰çš„System.outçš„è¼¸å‡ºå…¨éƒ¨é‡å®šå‘è‡³ä¸€æ–‡ä»¶ä¸­å»ã€‚</p><ul><li>System.setOut(PrintStream) æ¨™æº–è¼¸å‡ºé‡å®šå‘</li><li>System.setErr(PrintStream) æ¨™æº–éŒ¯èª¤è¼¸å‡ºé‡å®šå‘</li><li>System.setIn(InputStream) æ¨™æº–è¼¸å…¥é‡å®šå‘</li></ul><p><strong>2.2 å–ç•¶å‰æ™‚é–“</strong>ï¼š</p><p>System.currentTimeMillis() æ‰€å–åˆ°çš„æ™‚é–“æ˜¯å¾1970/01/01ä»¥ä¾†1/1000ç§’è¨ˆç®—çš„longå‹å€¼ã€‚é€™å€‹å€¼å¯ä»¥è½‰æ›è‡³Dateæˆ–Timestampå€¼ã€‚ å®ƒä¸€èˆ¬é‚„å¯ä»¥ç”¨ä¾†è¨ˆç®—ç¨‹åºåŸ·è¡Œçš„æ™‚é–“ã€‚ä¾‹ï¼š</p><pre><code>long beginTime = System. currentTimeMillis();â€¦â€¦System.out.println(â€œrun time = â€ + (System. currentTimeMillis() â€“ beginTime));</code></pre><p><strong>2.3 æ•¸çµ„æ‹·è²</strong>ï¼š</p><pre><code>System.arraycopy(Object src, int src_position, Object dst, int dst_position, int length)</code></pre><ul><li>srcï¼š æºæ•¸çµ„ã€‚</li><li>src_positionï¼š æºæ•¸çµ„æ‹·è²çš„èµ·å§‹ä½ç½®ã€‚</li><li>dstï¼š ç›®æ¨™æ•¸çµ„</li><li>dst_positionï¼š æ‹·è²è‡³ç›®æ¨™æ•¸çµ„çš„èµ·å§‹ä½ç½®</li><li>lengthï¼š æ‹·è²å…ƒç´ çš„é•·åº¦</li></ul><p>åˆ©ç”¨System.arraycopyé€²è¡Œæ•¸çµ„çš„æ‹·è²æ•ˆç‡æ˜¯æœ€é«˜çš„ï¼Œ ä¸€èˆ¬æƒ…æ³ä¸‹æˆ‘å€‘è‡ªå·±å¾ˆå°‘ç›´æ¥ç”¨åˆ°é€™å€‹æ–¹æ³•ï¼Œä½†åœ¨é›†åˆé¡çš„å…§éƒ¨ä¸­éƒ½å¤§é‡ä½¿ç”¨äº†é€™å€‹æ–¹æ³•ã€‚</p><p>ä¾‹ï¼š</p><pre><code>int[] array1 = {1, 2, 3, 4, 5};int[] array2 = {4, 5, 6, 7, 8};int array3 = new int[8];System.arraycopy(array1, 0, array3, 0, 5);System.arraycopy(array2, 2, array3, 5, 3);</code></pre><p>æ­¤æ™‚array3 = {1, 2, 3, 4, 5, 6, 7, 8}</p><p>é€™æ¯”ç”¨forå¾ªç’°ä¾†é€²è¡Œè³¦å€¼æ•ˆç‡è¦é«˜ã€‚</p><p><strong>2.4 å­˜å–ç³»çµ±çš„Properties</strong>ï¼š</p><p>System.getProperties()ï¼šå–å¾—ç•¶å‰æ‰€æœ‰çš„Propertiesï¼Œ Propertieså°‡åœ¨å¾Œé¢çš„é›†åˆä¸€ç¯€é€²è¡Œè©³ç´°çš„è«–è¿°ã€‚</p><ul><li>System.setProperties(Properties props)ï¼šè¨­ç½®ç³»çµ±çš„Propertiesã€‚</li><li>System.getProperty(String key)ï¼š æ ¹æ“šä¸€å€‹éµå€¼ä¾†å–å¾—ä¸€å€‹Propertyã€‚</li><li>System.setProperty(String key, String value)ï¼š è¨­ç½®ç³»çµ±çš„ä¸€å€‹Propertyã€‚</li></ul><p>JVMèµ·å‹•çš„æ™‚å€™å°‡æœƒæœ‰ä¸€äº›ç¼ºçœçš„Propertieså€¼ï¼Œ ä¾‹å¦‚ï¼š</p><ul><li>java.version Javaé‹è¡Œç’°å¢ƒç‰ˆæœ¬</li><li>java.home Javaä¸»ç›®éŒ„ installation directory</li><li>java.class.path Java çš„class path</li><li>java.ext.dirs Javaçš„æ“´å±•ç›®éŒ„è·¯å¾‘</li><li>file.separator æ–‡ä»¶åˆ†éš”ç¬¦("/" on UNIX)</li><li>path.separator è·¯å¾‘åˆ†éš”ç¬¦(":" on UNIX)</li><li>line.separator è¡Œåˆ†éš”ç¬¦ ("\n" on UNIX)</li><li>user.name ç”¨æˆ¶å</li><li>user.home ç”¨æˆ¶ä¸»ç›®éŒ„</li><li>user.dir ç”¨æˆ¶ç•¶å‰å·¥ä½œç›®éŒ„</li></ul><p>æ›´è©³ç´°çš„ä¿¡æ¯è«‹åƒç…§Java APIã€‚ å¦å¤–åœ¨èµ·å‹•ä¸€å€‹javaç¨‹åºçš„æ™‚å€™å¯ä»¥é€šé-Dä¾†è¨­ç½®ç³»çµ±çš„Propertyï¼Œ æ¯”å¦‚ java â€“Dejb.file=ejb_Test PrintTest åœ¨PrintTestè£¡é¢å°±å¯ä»¥é€šéSystem.getProperty(â€œejb.fileâ€)ä¾†å–å¾—å€¼ejb_Testã€‚</p><p><strong>2.5 å…¶å®ƒ</strong></p><ul><li>System. loadLibrary(String libname)ï¼š åŠ è¼‰nativeçš„å‹•æ…‹åº«ã€‚ å¯ä»¥ç”¨Cå¯«JNIçš„åº«ï¼Œ ç„¶å¾Œåœ¨javaä¸­é€šénativeæ–¹æ³•ä¾†èª¿ç”¨ã€‚</li><li>System.setSecurityManager(SecurityManager s)</li><li>System.getSecurityManager()ï¼š è¨­ç½®èˆ‡å–å¾—ç³»çµ±çš„security classã€‚</li></ul><h1 class=pgc-h-arrow-right>ä¸‰ã€String, StringBuffer</h1><p><strong>3.1 åŸºæœ¬ç”¨æ³•</strong></p><p>Stringå¯ä»¥èªªæ˜¯æˆ‘å€‘æœ€å¸¸ç”¨çš„ä¸€å€‹é¡ï¼Œ ç†Ÿç·´æŒæ¡å®ƒçš„ä¸€äº›åŸºæœ¬ç”¨æ³•æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p><p>Stringæ˜¯ç”±ä¸€çµ„å­—ç¬¦çµ„æˆçš„å­—ç¬¦ä¸²ï¼Œ ä¸‹æ¨™ç”±0é–‹å§‹ã€‚ ä¸€æ—¦æœ‰å¿…è¦æ”¹è®ŠåŸä¾†çš„å…§å®¹ï¼Œ æ¯å€‹Stringæ–¹æ³•éƒ½æœ‰è¿”å›äº†ä¸€å€‹æ–°çš„Stringå°è±¡ã€‚</p><ul><li>char charAt(int index) è¿”å›æŒ‡å®šä½ç½®çš„å­—ç¬¦ã€‚</li><li>int compareTo(Object o)</li><li>int compareTo(String anotherString)</li></ul><p>èˆ‡å¦å¤–ä¸€å€‹å°è±¡é€²è¡Œæ¯”è¼ƒã€‚</p><ul><li>int compareToIgnoreCase(String str) èˆ‡å¦ä¸€å€‹Stringé€²è¡Œæ¯”è¼ƒï¼Œ ä¸å€åˆ†å¤§å°å¯«</li><li>String concat(String str) é€£æ¥å…©å­—ç¬¦ä¸²ï¼Œ å¯ä»¥ç›´æ¥ç”¨+ï¼Œ å› ç‚ºJavaçµ¦Stringè¦†è“‹äº†+</li><li>static String copyValueOf(char[] data)</li><li>static String copyValueOf(char[] data, int offset, int count)</li></ul><p>å°‡dataæ•¸çµ„è½‰æ›è‡³String</p><ul><li>boolean endsWith(String suffix) æ¸¬è©¦æ­¤Stringæ˜¯å¦ä»¥suffixçµå°¾ã€‚</li><li>boolean startsWith(String prefix) æ¸¬è©¦æ­¤Stringæ˜¯å¦ä»¥prefixé–‹é ­ã€‚</li><li>boolean equals(Object anObject)</li><li>boolean equalsIgnoreCase(String anotherString)</li></ul><p>æ¯”è¼ƒå…©å­—ç¬¦ä¸²çš„å€¼ã€‚ ä¸ç›¸ç­‰å‰‡è¿”å›false</p><ul><li>byte[] getBytes() æ ¹æ“šç¼ºçœçš„å­—ç¬¦ç·¨ç¢¼å°‡Stringè½‰æ›æˆå­—ç¯€æ•¸çµ„ã€‚</li><li>byte[] getBytes(String enc) æ ¹æ“šæŒ‡å®šçš„ç·¨ç¢¼å°‡Stringè½‰æ›è¬å­—ç¯€æ•¸çµ„ã€‚</li><li>void getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin) æ‹·è²å­—ç¬¦è‡³ä¸€æ•¸çµ„ä¸­</li><li>int indexOf(int ch) å¾å­—ä¸²çš„èµ·å§‹ä½ç½®æŸ¥æ‰¾å­—ç¬¦chç¬¬ä¸€æ¬¡å‡ºç¾çš„ä½ç½®</li><li>int indexOf(int ch, int fromIndex) å¾æŒ‡å®šçš„fromIndexä½ç½®å‘å¾ŒæŸ¥æ‰¾ç¬¬ä¸€æ¬¡å‡ºç¾chçš„ä½ç½®ï¼Œ</li><li>int indexOf(String str)</li><li>int indexOf(String str, int fromIndex)</li></ul><p>å¦‚æœä¸å­˜åœ¨chæˆ–stréƒ½è¿”å›-1</p><ul><li>int lastIndexOf(int ch) å¾å­—ä¸²çš„æœ€çµ‚ä½ç½®å¾€å‰æŸ¥æ‰¾ç¬¬ä¸€æ¬¡å‡ºç¾chçš„ä½ç½®</li><li>int lastIndexOf(int ch, int fromIndex) å¾æŒ‡å®šçš„ä½ç½®å¾€å‰æŸ¥æ‰¾ç¬¬ä¸€æ¬¡å‡ºç¾chçš„ä½ç½®ï¼Œ</li><li>int lastIndexOf(String str)</li><li>int lastIndexOf(String str, int fromIndex)</li></ul><p>å¦‚æœä¸å­˜åœ¨å‰‡è¿”å›-1</p><ul><li>int length() è©²å­—ç¬¦ä¸²çš„å­—ç¬¦é•·åº¦ï¼ˆä¸€å€‹å…¨è§’çš„æ¼¢å­—é•·åº¦ç‚º1ï¼‰</li><li>String replace(char oldChar, char newChar) å°‡å­—ç¬¦oldCharå…¨éƒ¨æ›¿æ›ç‚ºnewCharï¼Œ è¿”å›ä¸€å€‹æ–°çš„å­—ç¬¦ä¸²ã€‚</li><li>String substring(int beginIndex) è¿”å›å¾beginIndexé–‹å§‹çš„å­—ç¬¦ä¸²å­é›†</li><li>String substring(int beginIndex, int endIndex) è¿”å›å¾beginIndexè‡³endIndexçµæŸçš„å­—ç¬¦ä¸²çš„å­é›†ã€‚ å…¶ä¸­endIndex â€“ beginIndexç­‰æ–¼å­é›†çš„å­—ç¬¦ä¸²é•·åº¦</li><li>char[] toCharArray() è¿”å›è©²å­—ç¬¦ä¸²çš„å…§éƒ¨å­—ç¬¦æ•¸çµ„</li><li>String toLowerCase() è½‰æ›è‡³å°å¯«å­—æ¯çš„å­—ç¬¦ä¸²</li><li>String toLowerCase(Locale locale)</li><li>String toUpperCase() è½‰æ›è‡³å¤§å¯«å­—æ¯çš„å­—ç¬¦ä¸²</li><li>String toUpperCase(Locale locale)</li><li>String toString() è¦†è“‹äº†Objectçš„toStringæ–¹æ³•ï¼Œ è¿”å›æœ¬èº«ã€‚</li><li>String trim() å°‡å­—ç¬¦ä¸²å…©é‚Šçš„åŠè§’ç©ºç™½å­—ç¬¦å»æ‰ï¼Œ å¦‚æœéœ€è¦å»æ‰å…¨è§’çš„ç©ºç™½å­—ç¬¦å¾—è¦è‡ªå·±å¯«ã€‚</li><li>static String valueOf(primitive p) å°‡å…¶å®ƒçš„ç°¡å–®é¡å‹çš„å€¼è½‰æ›ç‚ºä¸€å€‹String</li></ul><p>StingBufferæ˜¯ä¸€å€‹å¯è®Šçš„å­—ç¬¦ä¸²ï¼Œå®ƒå¯ä»¥è¢«æ›´æ”¹ã€‚åŒæ™‚StringBufferæ˜¯Thread safeçš„ï¼Œ ä½ å¯ä»¥æ”¾å¿ƒçš„ä½¿ç”¨ï¼Œ å¸¸ç”¨çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li>StringBuffer append(param) åœ¨StringBufferå°è±¡ä¹‹å¾Œè¿½åŠ param(å¯ä»¥ç‚ºæ‰€æœ‰çš„ç°¡å–®é¡å‹å’ŒObject) è¿”å›è¿½åŠ å¾Œçš„StringBufferï¼Œ èˆ‡åŸä¾†çš„å°è±¡æ˜¯åŒä¸€ä»½ã€‚</li><li>char charAt(int index) è¿”å›æŒ‡å®šä½ç½®indexçš„å­—ç¬¦ã€‚</li><li>StringBuffer delete(int start, int end) åˆªé™¤æŒ‡å®šå€åŸŸstart~endçš„å­—ç¬¦ã€‚</li><li>StringBuffer deleteCharAt(int index) åˆªé™¤æŒ‡å®šä½ç½®indexçš„å­—ç¬¦ã€‚</li><li>void getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin) åŒStringçš„getCharsæ–¹æ³•</li><li>StringBuffer insert(int offset, boolean b) åœ¨æŒ‡å®šä½ç½®offsetæ’å…¥param(ç‚ºæ‰€æœ‰çš„ç°¡å–®é¡å‹èˆ‡Object)</li><li>int length() åŒStringçš„length()</li><li>StringBuffer replace(int start, int end, String str) å°‡æŒ‡å®šå€åŸŸstart~endçš„å­—ç¬¦ä¸²æ›¿æ›ç‚ºstr</li><li>StringBuffer reverse() åè½‰å­—ç¬¦çš„é †åº</li><li>void setCharAt(int index, char ch) è¨­ç½®å­—ç¬¦chè‡³indexä½ç½®ã€‚</li><li>String substring(int start)</li><li>String substring(int start, int end) åŒStringçš„subString</li><li>String toString() è¿”å›ä¸€å€‹String</li></ul><p>å¤§å®¶å¯èƒ½å·²ç¶“æ³¨æ„åˆ°å¾ˆå¤šæ–¹æ³•éƒ½è¿”å›äº†ä¸€å€‹StringBufferå°è±¡ï¼Œ ä½†è¿”å›çš„é€™å€‹å°è±¡èˆ‡Stringçš„æ–¹æ³•è¿”å›çš„Stringä¸ä¸€æ¨£ï¼Œ è¿”å›çš„StringBufferå°è±¡èˆ‡è¢«æ“ä½œçš„StringBufferå°è±¡æ˜¯åŒä¸€ä»½ï¼Œ è€ŒStringçš„æ–¹æ³•è¿”å›çš„Stringå‰‡è‚¯å®šæ˜¯é‡æ–°ç”Ÿæˆçš„ä¸€å€‹Stringã€‚</p><p><strong>3.2 æ€§èƒ½å°æ¯”</strong></p><p>å› ç‚ºStringè¢«è¨­è¨ˆæˆä¸€ç¨®å®‰å…¨çš„å­—ç¬¦ä¸²ï¼Œ é¿å…äº†C/C++ä¸­çš„å°·å°¬ã€‚å› æ­¤åœ¨å…§éƒ¨æ“ä½œçš„æ™‚å€™æœƒé »ç¹çš„é€²è¡Œå°è±¡çš„äº¤æ›ï¼Œ å› æ­¤å®ƒçš„æ•ˆç‡ä¸å¦‚StringBufferã€‚ å¦‚æœéœ€è¦é »ç¹çš„é€²è¡Œå­—ç¬¦ä¸²çš„å¢åˆªæ“ä½œçš„è©±æœ€å¥½ç”¨StringBufferã€‚ æ¯”å¦‚æ‹¼SQLæ–‡ï¼Œ å¯«å…±å‡½ã€‚ å¦ï¼š ç·¨ç¹¹å™¨å°Stringçš„+æ“ä½œé€²è¡Œäº†ä¸€å®šçš„å„ªåŒ–ã€‚</p><pre><code>x = "a" + 4 + "c"</code></pre><p>æœƒè¢«ç·¨ç¹¹æˆ</p><pre><code>x = new StringBuffer().append("a").append(4).append("c").toString()</code></pre><p>ä½†ï¼š</p><pre><code>x = â€œaâ€;x = x + 4;x = x + â€œcâ€;</code></pre><p>å‰‡ä¸æœƒè¢«å„ªåŒ–ã€‚ å¯ä»¥çœ‹å‡ºå¦‚æœåœ¨ä¸€å€‹è¡¨é”å¼è£¡é¢é€²è¡ŒStringçš„å¤šæ¬¡+æ“ä½œæœƒè¢«å„ªåŒ–ï¼Œ è€Œå¤šå€‹è¡¨é”å¼çš„+æ“ä½œä¸æœƒè¢«å„ªåŒ–ã€‚</p><p><strong>3.3 æŠ€å·§</strong></p><p>â‘ . åœ¨Servlet2.3èˆ‡JSP1.1ä»¥å‰ç•«é¢poståˆ°å¾Œè‡ºçš„æ•¸æ“šæ˜¯é€šéISO88591æ ¼å¼é€²è¡Œç·¨ç¢¼çš„ï¼Œ å‰‡ç•¶é‡åˆ°å…¨è§’æ—¥æ–‡å­—çš„æ™‚å€™, åœ¨å¾Œè‡ºrequestå¾—åˆ°çš„æ•¸æ“šå¯èƒ½å°±æ˜¯äº‚ç¢¼, é€™å€‹æ™‚å€™å°±å¾—è‡ªå·±é€²è¡Œç·¨ç¢¼è½‰æ›, é€šéString.getBytes(String enc)æ–¹æ³•å¾—åˆ°ä¸€å€‹å­—ç¯€æµ, ç„¶å¾Œé€šéString(byte[] bytes, String enc)é€™å€‹æ§‹é€ å‡½æ•¸å¾—åˆ°ä¸€å€‹ç”¨æ–°çš„ç·¨ç¢¼ç”Ÿæˆçš„å­—ç¬¦ä¸². ä¾‹å¦‚å°‡ISO88591çš„å­—ç¬¦ä¸²è½‰æ›æˆShift_JISçš„å­—ç¬¦ä¸², æ–¹æ³•å¦‚ä¸‹:</p><pre><code>public static String convertString(String str) {	if (str == null) {		return null;	}	try {		byte[] buf = str.getBytes("ISO8859_1");		return new String(buf, "Shift_JIS");	}	catch (Exception ex) {		ex.printStackTrace();		return null;	}}</code></pre><p>ä¸éåœ¨æœ€æ–°çš„Servlet2.3èˆ‡Jsp1.2ä¸­å¯ä»¥é€šérequest.setCharacterEncodingä¾†é€²è¡Œè¨­ç½®å–å€¼çš„ç¢¼åˆ¶, ä¸éœ€è¦è‡ªå·±å†åšè½‰æ›ã€‚</p><p>â‘¡. å› ç‚ºJavaåœ¨è¨ˆç®—Stringçš„é•·åº¦æ˜¯ä»¥å­—ç¬¦ç‚ºå–®ä½çš„ï¼Œ å› æ­¤ä¸€å€‹å…¨è§’èˆ‡åŠè§’çš„å­—ç¬¦é•·åº¦æ˜¯ä¸€æ¨£çš„ï¼Œ ä½†æ˜¯DBä¸­å¾€å¾€æ˜¯æ ¹æ“šå­—ç¯€ä¾†è¨ˆç®—é•·åº¦çš„ï¼Œ å› æ­¤æˆ‘å€‘åœ¨åšCheckçš„æ™‚å€™å¾—è¦åˆ¤æ–·Stringçš„å­—ç¯€é•·ï¼Œ å¯ä»¥ç”¨ä»¥ä¸‹çš„æ–¹æ³•ï¼š</p><pre><code>public static String length(String str) {	if (str == null) {		return 0;	}	return str.getBytes().length;}</code></pre><h1 class=pgc-h-arrow-right>å››ã€æ•¸å€¼ï¼Œå­—ç¬¦ï¼Œå¸ƒçˆ¾å°è±¡èˆ‡ç°¡å–®é¡å‹çš„æ“ä½œ</h1><p>ç°¡å–®çš„å°ç…§è¡¨å¦‚ä¸‹ï¼š</p><p><br></p><div class=pgc-img><img alt=Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ§‹å¸«çš„å…©è¬å­—ç¸½çµ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a7567f0bc0694fd0ad5ba0987efc07ce><p class=pgc-img-caption></p></div><p><br></p><p>èˆ‡Cç­‰å…¶å®ƒèªè¨€ä¸åŒçš„æ˜¯æ•¸å€¼çš„ç¯„åœä¸éš¨å¹³è‡ºçš„æ”¹è®Šè€Œæ”¹è®Šï¼Œ é€™å°±ä¿è­‰äº†å¹³è‡ºä¹‹é–“çš„çµ±ä¸€æ€§ï¼Œæé«˜äº†å¯ç§»æ¤æ€§ã€‚</p><p>Number: Numberæœ¬èº«æ˜¯å€‹æŠ½è±¡é¡ï¼Œ ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œ æ‰€æœ‰ç›´æ¥å¾Numberç¹¼æ‰¿ä¸‹ä¾†çš„å­é¡éƒ½æœ‰ä»¥ä¸‹å¹¾ç¨®æ–¹æ³•ï¼š</p><ul><li>byte byteValue() è¿”å›å­—ç¯€å€¼</li><li>double doubleValue() è¿”å›doubleå€¼</li><li>float floatValue() è¿”å›floatå€¼</li><li>int intValue() è¿”å›floatå€¼</li><li>long longValue() è¿”å›longå€¼</li><li>short shortValue() è¿”å›shortå€¼</li></ul><p>åœ¨éœ€è¦é€šéObjectä¾†å–å¾—ç°¡å–®æ•¸æ“šé¡å‹çš„å€¼çš„æ™‚å€™å°±å¾—ç”¨åˆ°ä»¥ä¸Šçš„æ–¹æ³•ï¼Œ ä¸éæˆ‘ä¸æ¨è–¦ä¸åŒé¡å‹ä¹‹é–“çš„å–å€¼ï¼Œ æ¯”å¦‚Longå‹çš„Objectä¸è¦ç›´æ¥å»èª¿ç”¨intValue()ï¼Œç²¾åº¦å¯èƒ½æœƒä¸Ÿå¤±ã€‚</p><p>å¦‚æœæƒ³é€šéStringä¾†å¾—åˆ°ä¸€å€‹æ•¸å€¼é¡å‹çš„ç°¡å–®é¡å‹å€¼ï¼Œ ä¸€èˆ¬åœ¨æ¯å€‹Numberçš„é¡è£¡é¢éƒ½æœ‰ä¸€å€‹parseXXX(String)çš„éœæ…‹æ–¹æ³•ï¼Œ å¦‚ä¸‹ï¼š</p><ul><li>byte Byte.parseByte(String s)</li><li>double Double.parseDouble(String s)</li><li>float Float.parseFloat(String s)</li><li>int Integer.parseInt(String s)</li><li>long Long.parseLong(String s)</li><li>short Short.parseShort(String s)</li></ul><p>å¦‚æœæƒ³ç›´æ¥å¾Stringå¾—åˆ°ä¸€å€‹Numberå‹çš„Objectï¼Œå‰‡æ¯å€‹Numberé¡è£¡é¢éƒ½æœ‰valueOf(String s) é€™å€‹éœæ…‹æ–¹æ³•ã€‚å¦‚ï¼š</p><ul><li>Byte Byte.valueOf(String s)</li><li>Double Double.valueOf(String s)</li><li>Float Float.valueOf(String s)</li><li>Integer Integer.valueOf(String s)</li><li>Long Long.valueOf(String s)</li><li>Short Short.valueOf(String s)</li></ul><p>ä¸€èˆ¬çš„åœ¨æ§‹é€ ä¸€å€‹Numberçš„æ™‚å€™éƒ½å¯ä»¥é€šéä¸€å€‹Stringä¾†å®Œæˆï¼Œ æ¯”å¦‚ï¼š</p><pre><code>Long longObject = new Long(â€œ1234567890â€);</code></pre><p>ç­‰åƒ¹æ–¼</p><pre><code>Long longObject = Long.valueOf(â€œ1234567890â€);</code></pre><p>å› ç‚ºæ¯å€‹Numberçš„å­é¡éƒ½å¯¦ç¾äº†Objectçš„toString()æ–¹æ³•ï¼Œ æ‰€ä»¥ï¼Œ å¦‚æœæƒ³å¾—åˆ°ä¸€å€‹Stringå‹çš„æ•¸å€¼ï¼Œ ç›´æ¥èª¿ç”¨XXX.toString()å°±å¯ä»¥äº†ã€‚ å¦‚æœæƒ³å¾—åˆ°ä¸€å€‹ç°¡å–®é¡å‹çš„Stringï¼Œ æ–¹æ³•å¾ˆå¤šç¸½çµå¦‚ä¸‹ï¼š</p><ul><li>é¦–å…ˆç”Ÿæˆå°æ‡‰çš„Number Objecté¡å‹ï¼Œ ç„¶å¾Œèª¿ç”¨toString()</li><li>èª¿ç”¨Numberå­é¡ .toString(type t) å…¶ä¸­tå°±æ˜¯ç°¡å–®é¡å‹çš„æ•¸æ“šã€‚</li><li>èª¿ç”¨String.valueOf(type t) ï¼ˆæ¨è–¦ä½¿ç”¨é€™ç¨®æ–¹æ³•ï¼‰</li></ul><p>å¤§å®¶å¯ä»¥çœ‹å‡ºï¼Œ å¾€å¾€ä¸€ç¨®çµæœå¯ä»¥ç”¨å¤šç¨®æ–¹æ³•å¯¦ç¾ï¼Œ ç¸½çš„åŸå‰‡å°±æ˜¯æ·±åº¦æœ€å°‘å„ªå…ˆã€‚æ¯”å¦‚ç”±ä¸€å€‹Stringå¾—åˆ°ä¸€å€‹ç°¡å–®é¡å‹çš„å€¼å¯ä»¥æœ‰ä»¥ä¸‹å…©ç¨®æ–¹æ³•ï¼š</p><pre><code>Integer.parseInt(â€œ12345â€);</code></pre><p>æˆ–</p><pre><code>(new Integer(s)).intValue(â€œ12345â€);</code></pre><p>ç•¶ç„¶æ‡‰è©²ä½¿ç”¨ç¬¬ä¸€ç¨®æ–¹æ³•ã€‚</p><p><strong>Character</strong>: Characterå°æ‡‰è‘—charé¡å‹ï¼Œ Characteré¡è£¡é¢æœ‰å¾ˆå¤šéœæ…‹çš„æ–¹æ³•ä¾†å°charé€²è¡Œåˆ¤æ–·æ“ä½œï¼Œ è©³ç´°çš„æ“ä½œè«‹åƒç…§JDK APIã€‚ Javaå°å­—ç¬¦çš„åˆ¤æ–·æ“ä½œåŸºæœ¬éƒ½æ˜¯ä»¥Unicodeé€²è¡Œçš„ï¼Œ æ¯”å¦‚Character.isDigit(char ch)é€™å€‹æ–¹æ³•ï¼Œ ä¸å…‰åŠè§’çš„0-9ç¬¦åˆè¦æ±‚ï¼Œ å…¨è§’çš„æ—¥æ–‡0-9ä¹Ÿæ˜¯ç¬¦åˆè¦æ±‚çš„ã€‚</p><p><strong>Boolean</strong>: Booleanå°æ‡‰è‘—booleané¡å‹ï¼Œ booleanåªæœ‰trueå’Œfalseå…©å€‹å€¼ï¼Œ ä¸èƒ½èˆ‡å…¶å®ƒæ•¸å€¼é¡å‹äº’æ›ï¼Œ å¯ä»¥é€šéå­—ç¬¦ä¸²â€trueâ€ä»¥åŠâ€falseâ€ä¾†å¾—åˆ°Objectçš„Booleanï¼Œ ä¹Ÿå¯ä»¥é€šéç°¡å–®é¡å‹çš„booleanå¾—åˆ°Booleanï¼Œ å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li>Boolean(boolean value) é€šéç°¡å–®é¡å‹çš„booleanæ§‹é€ Boolean</li><li>Boolean(String s) é€šéString(â€œtrueâ€, â€œfalseâ€)æ§‹é€ Boolean</li><li>boolean booleanValue() ç”±Objectçš„Booleanå¾—åˆ°ç°¡å–®é¡å‹çš„booleanå€¼</li><li>boolean equals(Object obj) è¦†è“‹äº†Objectçš„.equalsæ–¹æ³•ï¼Œ Objectå€¼æ¯”è¼ƒ</li><li>static Boolean valueOf(String s) åŠŸèƒ½èˆ‡æ§‹é€ å‡½æ•¸Boolean(String s)ä¸€æ¨£</li></ul><h1 class=pgc-h-arrow-right>äº”ã€Class, ClassLoader</h1><p>Javaæ˜¯ä¸€ç¨®ä»‹æ–¼è§£é‡‹èˆ‡ç·¨ç¹¹ä¹‹é–“çš„èªè¨€ï¼Œ Javaä»£ç¢¼é¦–å…ˆç·¨ç¹¹æˆå­—ç¯€ç¢¼ï¼Œ åœ¨é‹è¡Œçš„æ™‚å€™å†ç¿»è­¯æˆæ©Ÿå™¨ç¢¼ã€‚ é€™æ¨£åœ¨é‹è¡Œçš„æ™‚å€™æˆ‘å€‘å°±å¯ä»¥é€šéJavaæä¾›çš„åå°„æ–¹æ³•(reflect)ä¾†å¾—åˆ°ä¸€å€‹Objectçš„Classçš„é¡å¤–ä¿¡æ¯ï¼Œ éˆæ´»æ€§å¾ˆå¤§ï¼Œå¯ä»¥ç°¡åŒ–å¾ˆå¤šæ“ä½œã€‚</p><p>Class: ä»»ä½•ä¸€å€‹Objectéƒ½èƒ½é€šégetClass()é€™å€‹æ–¹æ³•å¾—åˆ°å®ƒåœ¨é‹è¡ŒæœŸé–“çš„Classã€‚ å¾—åˆ°é€™å€‹Classä¹‹å¾Œå¯åšçš„äº‹æƒ…å°±å¤šäº†ï¼Œ æ¯”å¦‚å‹•æ…‹å¾—åˆ°å®ƒçš„æ§‹é€ å‡½æ•¸ï¼Œ æˆå“¡è®Šé‡ï¼Œ æ–¹æ³•ç­‰ç­‰ã€‚ é‚„å¯ä»¥å†ç”Ÿæˆä¸€ä»½æ–°çš„å¯¦ä¾‹ï¼Œ ä¸‹é¢åªçµ¦å‡ºå¹¾å€‹æˆ‘å€‘å¸¸ç”¨çš„æ–¹æ³•ï¼Œ æ›´è©³ç´°çš„ç”¨æ³•åƒç…§Java API</p><ul><li>Class Class.forName(String className) throws ClassNotFoundExceptionï¼š é€™æ˜¯å€‹éœæ…‹æ–¹æ³•ï¼Œ é€šéä¸€å€‹Classçš„å…¨ç¨±ä¾†å¾—åˆ°é€™å€‹Classã€‚</li><li>String getName() å–å¾—é€™å€‹Classçš„å…¨ç¨±ï¼Œ åŒ…æ‹¬packageåã€‚</li><li>Object newInstance() å¾—åˆ°ä¸€å€‹å¯¦ä¾‹ï¼Œ èª¿ç”¨ç¼ºçœçš„æ§‹é€ å‡½æ•¸ã€‚</li></ul><p>ä¾‹å¦‚æˆ‘å€‘æœ‰ä¸€å€‹é¡ï¼š com.some.util.MyClass å¦‚æœå¾—åˆ°å®ƒçš„ä¸€å€‹å¯¦ä¾‹å‘¢ï¼Ÿ å¯èƒ½æœ‰ä»¥ä¸‹å…©ç¨®æ–¹æ³•ï¼š</p><pre><code>MyClass myClass = new MyClass()ï¼Œ ç›´æ¥é€šéæ“ä½œç¬¦newç”Ÿæˆï¼›</code></pre><p>æˆ–è€…ï¼š</p><pre><code>MyClass myClass =  (MyClass) Class.forName(â€œcom.some.util.MyClassâ€).newInstance();</code></pre><p>ä¹Ÿè¨±æœ‰äººå°±æœƒæ‡·ç–‘ç¬¬äºŒç¨®æ–¹æ³•å¯¦éš›æ„ç¾©ï¼Œ èƒ½å¤ ç›´æ¥newå‡ºä¾†å¹¹å˜›ç¹å½ã€‚ ä½†å¯¦éš›ä¸Šå®ƒçš„ç”¨è™•å»å¾ˆå¤§ï¼Œ èˆ‰å€‹ä¾‹å­ï¼š ç”¨éstrutsçš„äººéƒ½çŸ¥é“ï¼Œ åœ¨action-config.xmlç•¶ä¸­å®šç¾©äº†ä¸€ç³»åˆ—çš„formBeanèˆ‡actionBeanï¼Œ ç•¶ç„¶æ¯å€‹formèˆ‡actionéƒ½å…·æœ‰åŒé¡å‹ï¼Œ é€™æ¨£åœ¨ä¸€å€‹requestéä¾†çš„æ™‚å€™æˆ‘å¯ä»¥å‹•æ…‹çš„ç”Ÿæˆä¸€å€‹formèˆ‡actionçš„å¯¦ä¾‹é€²è¡Œå…·é«”çš„æ“ä½œï¼Œ ä½†åœ¨ç·¨ç¢¼çš„æ™‚å€™æˆ‘ä¸¦ä¸çŸ¥é“å…·é«”æ˜¯ä½•ç¨®çš„formèˆ‡actionï¼Œ æˆ‘åªèª¿ç”¨å®ƒå€‘çˆ¶é¡çš„æ–¹æ³•ã€‚ ä½ å¦‚æœè¦ç”¨ç¬¬ä¸€ç¨®æ–¹æ³•çš„è©±ï¼Œ ä½ å¾—åœ¨ç·¨ç¢¼çš„æ™‚å€™é€šéä¸€å€‹æ¨™èªŒä¾†åˆ¤æ–·æ¯ä¸€æ¬¡requestéœ€è¦å…·é«”ç”Ÿæˆçš„formèˆ‡actionï¼Œ ä»£ç¢¼çš„éˆæ´»æ€§å¤§å¤§é™ä½ã€‚ ç¸½çš„ä¾†èªªåœ¨é¢å‘æ¥å£çš„ç·¨ç¨‹ç•¶ä¸­ç¶“å¸¸ä½¿ç”¨é€™ç¨®æ–¹æ³•ï¼Œ æ¯”å¦‚ä¸åŒæ•¸æ“šåº«å» å®¶çš„JDBC Driveréƒ½æ˜¯å¾æ¨™æº–çš„JDBCæ¥å£ç¹¼æ‰¿ä¸‹å»çš„ï¼Œ æˆ‘å€‘åœ¨å¯«ç¨‹åºçš„æ™‚å€™ç”¨ä¸è‘—ç®¡æœ€çµ‚æ˜¯ä½•ç¨®çš„Driverï¼Œ åªæœ‰åœ¨é‹è¡Œçš„æ™‚å€™ç¢ºå®šã€‚ é‚„æœ‰XMLçš„Parserä¹Ÿæ˜¯ï¼Œ æˆ‘å€‘ä½¿ç”¨çš„åªæ˜¯æ¨™æº–çš„æ¥å£ï¼Œ æœ€å¾Œåˆ°åº•æ˜¯èª°ä¾†å¯¦ç¾å®ƒçš„ï¼Œ æˆ‘å€‘ç”¨ä¸è‘—å»ç®¡ã€‚</p><p>ClassLoader: ClassLoaderæ˜¯ä¸€å€‹æŠ½è±¡é¡ï¼Œä¸€èˆ¬çš„ç³»çµ±æœ‰ä¸€å€‹ç¼ºçœçš„ClassLoaderç”¨ä¾†è£è¼‰Classï¼Œ ç”¨ClassLoader.getSystemClassLoader()å¯ä»¥å¾—åˆ°ã€‚ä¸éæœ‰æ™‚å€™ç‚ºäº†å®‰å…¨æˆ–æœ‰å…¶å®ƒçš„ç‰¹æ®Šéœ€è¦æˆ‘å€‘å¯ä»¥è‡ªå®šç¾©è‡ªå·±çš„ClassLoaderä¾†é€²è¡Œloaderä¸€äº›æˆ‘å€‘éœ€è¦çš„Classï¼Œ æ¯”å¦‚æœ‰çš„ç”¢å“å®ƒç”¨äº†è‡ªå·±çš„ClassLoaderå¯ä»¥æŒ‡å®šClassåªå¾å®ƒæŒ‡å®šçš„ç‰¹å®šçš„JARæ–‡ä»¶è£¡é¢ä¾†loaderï¼Œå¦‚æœä½ æƒ³é€šéè¦†è“‹ClassPathæ–¹æ³•ä¾†æƒ³è®“å®ƒç”¨ä½ çš„Classæ˜¯è¡Œä¸é€šçš„ã€‚ æœ‰èˆˆè¶£çš„å¯ä»¥åƒç…§Java API çš„æ›´è©³ç´°çš„ç”¨æ³•èªª</p><h1 class=pgc-h-arrow-right>å…­ã€Java IOç³»çµ±</h1><p><strong>6.1 JDK1.0è¼¸å…¥æµ</strong></p><pre><code>InputStreamByteArrayInputStreamFileInputStreamFilterInputStreamObjectInputStreamPipedInputStreamSequenceInputStreamBufferedInputStreamDataInputStreamPushbackInputStreamLineNumberInputStream</code></pre><p><strong>6.2 JDK1.1è¼¸å…¥æµ</strong></p><pre><code>ReaderBufferedReaderFilterReaderPipedReaderStringReaderInputStreamReaderCharArrayReaderFileReaderPushbackReaderLineNumberReader</code></pre><p><strong>6.3 JDK1.0è¼¸å‡ºæµ</strong></p><pre><code>OutputStreamBufferedOutputStreamDataOutputStreamPrintStreamByteArrayOutputStreamFileOutputStreamFilterOutputStreamObjectOutputStreamPipedOutputStream</code></pre><p><strong>6.4 JDK1.1è¼¸å‡ºæµ</strong></p><pre><code>WriterBufferedWriterFilterWriterPipedWriterStringWriterFileWriterPrintWriterOutputStreamWriterCharArrayWriter</code></pre><p>å¦‚æœä½ å‰›å‰›æ¥è§¸Javaçš„IOéƒ¨åˆ†ï¼Œ ä½ å¯èƒ½æœƒæ„Ÿè¦ºç„¡å¾å…¥æ‰‹ï¼Œ ç¢ºå¯¦Javaæä¾›äº†éå¤šçš„é¡ï¼Œåè€Œè®“äººæ„Ÿåˆ°å¾ˆäº‚ã€‚</p><p>å¯å°‡Javaåº«çš„IOé¡åˆ†ç‚ºè¼¸å…¥èˆ‡è¼¸å‡ºå…©å€‹éƒ¨åˆ†ï¼Œ åœ¨1.0ç‰ˆæœ¬ä¸­æä¾›äº†å…©å€‹æŠ½è±¡åŸºé¡ï¼Œ æ‰€æœ‰è¼¸å…¥çš„é¡éƒ½å¾InputStreamç¹¼æ‰¿ï¼Œ æ‰€æœ‰è¼¸å‡ºçš„é¡éƒ½å¾OutputStreamç¹¼æ‰¿ï¼Œ 1.1æä¾›äº†å…©å€‹æ–°çš„åŸºé¡ï¼Œ è² è²¬è¼¸å…¥çš„Readerèˆ‡è¼¸å‡ºçš„Writerï¼Œ ä½†å®ƒå€‘ä¸¦ä¸æ˜¯ç”¨ä¾†æ›¿æ›åŸä¾†è€çš„InputStreamèˆ‡OutputStreamï¼Œ å®ƒå€‘ä¸»è¦æ˜¯è®“Javaèƒ½æ›´å¥½çš„æ”¯æŒåœ‹éš›åŒ–çš„éœ€æ±‚ã€‚ åŸä¾†è€çš„IOæµå±¤åªæ”¯æŒ8ä½å­—ç¯€æµï¼Œ ä¸èƒ½å¾ˆå¥½åœ°æ§åˆ¶16ä½Unicodeå­—ç¬¦ã€‚ Javaå…§å«çš„charæ˜¯16ä½çš„Unicodeï¼Œ æ‰€ä»¥æ·»åŠ äº†Readerå’ŒWriterå±¤æ¬¡ä»¥æä¾›å°æ‰€æœ‰IOæ“ä½œä¸­çš„Unicodeçš„æ”¯æŒã€‚ é™¤æ­¤ä¹‹å¤–æ–°åº«ä¹Ÿå°é€Ÿåº¦é€²è¡Œäº†å„ªåŒ–ï¼Œ å¯æ¯”èˆŠåº«æ›´å¿«åœ°é‹è¡Œã€‚</p><p><strong>6.5 InputStreamçš„é¡å‹</strong>ï¼š</p><ol start=1><li>å­—ç¯€æ•¸çµ„</li><li>Stringå°è±¡</li><li>æ–‡ä»¶</li><li>ç®¡é“ï¼Œ å¯ä»¥å¾å¦å¤–ä¸€å€‹è¼¸å‡ºæµå¾—åˆ°ä¸€å€‹è¼¸å…¥æµ</li><li>ä¸€ç³»åˆ—çš„å…¶ä»–æµï¼Œ å¯ä»¥å°‡é€™äº›æµçµ±ä¸€æ”¶é›†åˆ°å–®ç¨çš„ä¸€å€‹æµå…§ã€‚</li><li>å…¶ä»–èµ·æºï¼ˆå¦‚socketæµç­‰ï¼‰</li></ol><p>é‚„æœ‰ä¸€å€‹æ˜¯Fileé¡ï¼Œ Javaä¸­ä¸€å€‹ç›®éŒ„ä¹Ÿæ˜¯ä¸€å€‹æ–‡ä»¶ï¼Œå¯ä»¥ç”¨file.isFile()å’Œfile.isDirectory()ä¾†é€²è¡Œåˆ¤æ–·æ˜¯æ–‡ä»¶é‚„æ˜¯ç›®éŒ„ã€‚ File å°è±¡å¯èƒ½ä½œç‚ºåƒæ•¸è½‰æ›ç‚ºæ–‡ä»¶æµé€²è¡Œæ“ä½œã€‚ å…·é«”æ“ä½œåƒç…§Java IO APIã€‚</p><p><strong>6.6 å¸¸ç”¨æ–¹æ³•</strong>ï¼š</p><pre><code>/** * æ‹¼æ–‡ä»¶å, åœ¨windows()è·Ÿunix(/)ä¸Šçš„æ–‡ä»¶åˆ†å‰²ç¬¦æ˜¯ä¸ä¸€æ¨£çš„ * å¯ä»¥é€šéFileé¡çš„éœæ…‹æˆå“¡è®Šé‡separatorå–å¾— */public static String concatFileName(String dir, String fileName) {	String fullFileName = "";	if (dir.endsWith(File.separator)) {		fullFileName = dir + fileName;	} else {		fullFileName = dir + File.separator + fileName;	}	return fullFileName;}/** * å¾æ§åˆ¶æª¯è®€å–è¼¸å…¥çš„æ•¸æ“š, System.in (InputStream) å…ˆè½‰æ›è‡³InputStreamReaderå†ç”¨ * BufferedReaderé€²è¡Œè®€å–. * */BufferedReader in = new BufferedReader(new InputStreamReader(System.in));String str = "";while (str != null) {	str = in.readLine();	// process(str); }	/** * å¾æ–‡ä»¶ä¸­æŒ‰è¡Œé€²è¡Œè®€å–æ•¸æ“šè™•ç† */	BufferedReader in = new BufferedReader(new FileReader("infilename"));	String str;	while ((str = in.readLine()) != null) {		// process(str); }		in.close();		/** * å¯«æ•¸æ“šè‡³ä¸€å€‹æ–°çš„æ–‡ä»¶ä¸­å». */		BufferedWriter out = new BufferedWriter(new FileWriter("outfilename"));		out.write("a String");		out.close();		/** * è¿½åŠ æ–°çš„æ•¸æ“šåˆ°ä¸€å€‹æ–‡ä»¶ä¸­å», å¦‚æœåŸæ–‡ä»¶ä¸å­˜åœ¨ * å‰‡æ–°å»ºé€™å€‹æ–‡ä»¶. */		BufferedWriter out = new BufferedWriter(new FileWriter("filename", true));		out.write("aString");		out.close();		/** * å°‡ä¸€å€‹å¯åºåˆ—åŒ–çš„Javaçš„objectä»¥æµæ–¹å¼å¯«åˆ°ä¸€å€‹æ–‡ä»¶ä¸­å»ä¸­. */		ObjectOutput out = new ObjectOutputStream(new FileOutputStream("filename.ser"));		out.writeObject(object);		out.close();		/** * å¾æ–‡ä»¶ä¸­æ¢å¾©åºåˆ—åŒ–éçš„Java Object */		ObjectInputStream in = new ObjectInputStream(new FileInputStream("filename.ser"));		Object object = (Object) in.readObject();		in.close();		/** * ä»¥æŒ‡å®šçš„ç·¨ç¢¼æ–¹å¼å¾æ–‡ä»¶ä¸­è®€å–æ•¸æ“š */		BufferedReader in = new BufferedReader(new InputStreamReader(							 new FileInputStream("infilename"), "UTF8"));		String str = in.readLine();		/** * ä»¥æŒ‡å®šçš„ç·¨ç¢¼æ–¹å¼å¯«æ•¸æ“šåˆ°æ–‡ä»¶ä¸­ */		Writer out = new BufferedWriter(new OutputStreamWriter(									new FileOutputStream("outfilename"), "UTF8"));		out.write("a String");		out.close();</code></pre><p>ç”±ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œ æµä¹‹é–“å¯ä»¥äº’ç›¸è½‰æ›ï¼Œ å¦‚æœæƒ³å°æµé€²è¡Œå­—ç¬¦æ“ä½œæœ€å¥½å°‡ä¹‹è½‰æ›æˆBufferedReaderèˆ‡BufferedWriteré€™æ¨£å¯ä»¥æé«˜è®€å¯«çš„æ•ˆç‡ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸€èˆ¬ä¾†èªªæµçš„å¤§å°æ˜¯å¾—ä¸åˆ°çš„ï¼Œ é›–ç„¶ä¸€èˆ¬çš„InputStreaméƒ½æœ‰ä¸€å€‹available()çš„æ–¹æ³•å¯ä»¥è¿”å›é€™å€‹æµå¯ä»¥è®€åˆ°çš„å­—ç¯€æ•¸ï¼Œ ä¸éé€™å€‹æ–¹æ³•æœ‰æ™‚å€™ä¸æœƒå¾ˆæº–ç¢ºï¼Œ æ¯”å¦‚åœ¨è®€å–ç¶²çµ¡å‚³è¼¸çš„æµçš„æ™‚å€™ï¼Œ å–åˆ°çš„é•·åº¦ä¸¦ä¸ä¸€å®šæ˜¯çœŸå¯¦æœ‰æ•ˆçš„é•·åº¦ã€‚</p><p>å¤§å®¶åœ¨å¯«ç¨‹åºçš„æ™‚å€™å¯èƒ½å·²ç¶“æ³¨æ„åˆ°ä¸€äº›é¡éƒ½ç¹¼æ‰¿äº†java.io.Serializableé€™å€‹æ¥å£ï¼Œ å…¶å¯¦ç¹¼æ‰¿äº†é€™å€‹æ¥å£ä¹‹å¾Œé€™å€‹é¡çš„æœ¬èº«ä¸¦ä¸åšä»»ä½•äº‹æƒ…ï¼Œ åªæ˜¯é€™å€‹é¡å¯ä»¥è¢«åºåˆ—åŒ–ä¸¦é€šéæµä¾†é€²è¡Œå‚³è¼¸ï¼Œ ä¸¦å¯è¢«é‚„åŸæˆåŸObjectã€‚ é€™å€‹æµå¯ä»¥é€šéç¶²çµ¡å‚³è¼¸ï¼ˆEJB ä¸­é€²è¡Œå‚³éåƒæ•¸å’Œè¿”å›å€¼çš„Data Classï¼‰ï¼Œ ä¹Ÿå¯ä»¥ä¿å­˜åˆ°æ–‡ä»¶ä¸­å»ï¼ˆObjectOutputStreamï¼‰ã€‚</p><p><br></p><div class=pgc-img><img alt=Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ§‹å¸«çš„å…©è¬å­—ç¸½çµ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/017ad9a4-0c61-4969-b72b-266ec88f4812><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>ä¸ƒã€Javaé›†åˆé¡</h1><p>åœ¨å¯«ç¨‹åºçš„æ™‚å€™ä¸¦ä¸æ˜¯æ¯æ¬¡åªä½¿ç”¨ä¸€å€‹å°è±¡ï¼Œ æ›´å¤šçš„æ˜¯å°ä¸€çµ„å°è±¡é€²è¡Œæ“ä½œï¼Œ å°±éœ€è¦çŸ¥é“å¦‚ä½•çµ„åˆé€™äº›å°è±¡ï¼Œ é‚„æœ‰åœ¨ç·¨ç¢¼çš„æ™‚å€™æˆ‘å€‘æœ‰æ™‚ä¸¦ä¸çŸ¥é“åˆ°åº•æœ‰å¤šå°‘å°è±¡ï¼Œå®ƒå€‘éœ€è¦é€²è¡Œå‹•æ…‹çš„åˆ†é…å­˜æ”¾ã€‚</p><p>Javaçš„é›†åˆé¡åªèƒ½å®¹ç´å°è±¡å¥æŸ„ï¼Œ å°æ–¼ç°¡å–®é¡å‹çš„æ•¸æ“šå­˜æ”¾ï¼Œ åªèƒ½é€šéæ•¸æ“šä¾†å­˜æ”¾ï¼Œ æ•¸çµ„å¯ä»¥å­˜æ”¾ç°¡å–®é¡å‹çš„æ•¸æ“šä¹Ÿèƒ½å­˜æ”¾å°è±¡ã€‚</p><p>Javaæä¾›äº†å››ç¨®é¡å‹çš„é›†åˆé¡ï¼š Vector(çŸ¢é‡)ï¼Œ BitSet(ä½é›†)ï¼Œ Stack(å †æ£§)ï¼Œ Hashtable(æ•£åˆ—è¡¨)ã€‚</p><ol start=1><li>çŸ¢é‡ï¼š ä¸€çµ„æœ‰åºçš„å…ƒç´ ï¼Œ å¯ä»¥é€šéindexé€²è¡Œè¨ªå•ã€‚</li><li>ä½é›†ï¼š å…¶å¯¦å°±æ˜¯ç”±äºŒé€²åˆ¶ä½æ§‹æˆçš„Vectorï¼Œ ç”¨ä¾†ä¿å­˜å¤§é‡â€é–‹-é—œâ€ä¿¡æ¯ï¼Œ å®ƒæ‰€ä½”çš„ç©ºé–“æ¯”è¼ƒå°ï¼Œ ä½†æ˜¯æ•ˆç‡ä¸æ˜¯å¾ˆé«˜ï¼Œ å¦‚æœæƒ³é«˜æ•ˆç‡è¨ªå•ï¼Œ é‚„ä¸å¦‚ç”¨å›ºå®šé•·åº¦çš„æ•¸çµ„ã€‚</li><li>å †æ£§ï¼š å…ˆå…¥å¾Œå‡ºï¼ˆLIFOï¼‰é›†åˆï¼Œ java.util.Stacké¡å…¶å¯¦å°±æ˜¯å¾Vectorç¹¼æ‰¿ä¸‹ä¾†çš„ï¼Œ å¯¦ç¾äº†pop, pushæ–¹æ³•ã€‚</li><li>æ•£åˆ—è¡¨ï¼š ç”±ä¸€çµ„çµ„â€œéµ--å€¼â€çµ„æˆï¼Œ é€™è£¡çš„éµå¿…é ˆæ˜¯Objecté¡å‹ã€‚ é€šéObjectçš„hashCodeé€²è¡Œé«˜æ•ˆç‡çš„è¨ªå•ã€‚</li></ol><p>å°æ–¼é€™äº›é›†åˆä¹‹é–“çš„é—œè¯é—œä¿‚è¦‹ä¸‹åœ–ï¼Œ å…¶ä¸­æ¨™è‰²çš„éƒ¨åˆ†ç‚ºæˆ‘å€‘å¸¸ç”¨çš„é¡ã€‚</p><p>ç”±ä¸Šåœ–å¯ä»¥çœ‹å‡ºï¼Œ åŸºæœ¬æ¥å£æœ‰å…©å€‹ï¼š</p><p><strong>Collection</strong>ï¼š æ‰€æœ‰çš„çŸ¢é‡é›†åˆé¡éƒ½å¾å®ƒç¹¼æ‰¿ä¸‹å»çš„ï¼Œ ä½†ä¸¦ä¸ç›´æ¥å¾å®ƒç¹¼æ‰¿ä¸‹å»çš„ã€‚ Listèˆ‡Seté€™å…©å€‹æ¥å£ç›´æ¥ç¹¼æ‰¿äº†Collectionï¼Œ ä»–å€‘çš„å€åˆ¥æ˜¯Listè£¡é¢å¯ä»¥ä¿å­˜ç›¸åŒçš„å°è±¡å¥æŸ„ï¼Œ è€ŒSetè£¡é¢çš„å€¼æ˜¯ä¸é‡è¤‡çš„ã€‚ æˆ‘å€‘ç¶“å¸¸ç”¨çš„Vectorèˆ‡ArrayListå°±æ˜¯å¾Listç¹¼æ‰¿ä¸‹å»çš„ï¼Œ è€ŒHashSetæ˜¯å¾Setç¹¼æ‰¿çš„ã€‚</p><p><strong>Map</strong>ï¼šæ•£åˆ—è¡¨çš„æ¥å£ï¼Œ Hashtableèˆ‡HashMapç¹¼æ‰¿äº†é€™å€‹æ¥å£ã€‚ ä¸‹é¢çµ¦å‡ºå¸¸ç”¨é›†åˆé¡çš„å¸¸ç”¨æ–¹æ³•ã€‚</p><pre><code>/** * Vector èˆ‡ ArrayListçš„æ“ä½œå¹¾ä¹æ˜¯ä¸€æ¨£çš„ * å¸¸ç”¨çš„è¿½åŠ å…ƒç´ ç”¨add(), åˆªé™¤å…ƒç´ ç”¨remove() * å–å…ƒç´ ç”¨get(), éæ­·å®ƒå¯ä»¥å¾ªç’°ç”¨get()å–. æˆ–è€… * å…ˆå¾—åˆ°ä¸€å€‹Iterator, ç„¶å¾Œé€šééæ­·Iteratorçš„æ–¹æ³• * éæ­·Vectoræˆ–ArrayList */// ç”Ÿæˆä¸€å€‹ç©ºçš„VectorVector vector = new Vector();// åœ¨æœ€å¾Œè¿½åŠ ä¸€å€‹å…ƒç´ ã€‚vector.add("one");vector.add("two");// åœ¨æŒ‡å®šçš„åœ°æ–¹è¨­ç½®ä¸€å€‹å€¼vector.set(0, "new one");// ç§»èµ°ä¸€å€‹å…ƒç´ æˆ–ç§»èµ°æŒ‡å®šä½ç½®çš„å…ƒç´ vector.remove(0);// ç”¨forå¾ªç’°éæ­·é€™å€‹Vectorfor (int i = 0; i &lt; vector.size(); i++) {	String element = (String) vector.get(i);}// ç”¨æšèˆ‰å™¨(Enumeration)éæ­·å®ƒ(åªæœ‰Vectoræœ‰ï¼ŒArrayListæ²’æœ‰)Enumeration enu = vector.elements();while (enu.hasMoreElements()) {	enu.nextElement();}// ç”¨åè¦†å™¨(Iterator)éæ­·å®ƒIterator it = vector.iterator();while (it.hasNext()) {	it.next();}/** * Hashtableèˆ‡HashMapçš„æ“ä½œ, è¿½åŠ å…ƒç´ ç”¨put(ä¸æ˜¯add) * åˆªé™¤å…ƒç´ ç”¨remove, éæ­·å¯ä»¥ç”¨Iterator æ—¢å¯ä»¥éæ­· * å®ƒçš„key, ä¹Ÿå¯ä»¥æ˜¯value */// ç”Ÿæˆä¸€å€‹ç©ºçš„Hashtableæˆ–HashMapHashtable hashtable = new Hashtable();// è¿½åŠ ä¸€å€‹å…ƒç´ hashtable.put("one", "one object value");// åˆªé™¤ä¸€å€‹å…ƒç´ hashtable.remove("one");// ç”¨Iteratoréæ­·Iterator keyIt = hashtable.keySet().iterator();while (keyIt.hasNext()) {	Object keyName = keyIt.next();	String value = (String) hashtable.get(keyName);}Iterator valueIt = hashtable.values().iterator();while (valueIt.hasNext()) {	valueIt.next();}// ç”¨Enumerationéæ­·, åªæœ‰Hashtableæœ‰, HashMapæ²’æœ‰.Enumeration enu = hashtable.elements();while (enu.hasMoreElements()) {	enu.nextElement();}</code></pre><p>èªªæ˜ï¼š Enumerationæ˜¯è€é›†åˆåº«ä¸­çš„æ¥å£ï¼Œ è€ŒIteratoræ˜¯æ–°é›†åˆï¼ˆ1.2ï¼‰ä¸­å‡ºç¾çš„ï¼Œ è€ŒVectorèˆ‡Hashtableä¹Ÿéƒ½æ˜¯è€é›†åˆä¸­çš„é¡ï¼Œ æ‰€ä»¥åªæœ‰Vectorèˆ‡Hashtableå¯ä»¥ç”¨Enumerationã€‚</p><p><strong>Vectorèˆ‡ArrayListå°æ¯”</strong>ï¼š</p><p>é›–ç„¶åœ¨ä½¿ç”¨çš„æ™‚å€™å¥½è±¡é€™å…©å€‹é¡æ²’ä»€éº¼å€åˆ¥ï¼Œ å®ƒå€‘éƒ½æ˜¯å¾Listç¹¼æ‰¿ä¸‹ä¾†çš„ï¼Œ æ“æœ‰ç›¸åŒçš„æ–¹æ³•ï¼Œ ä½†å®ƒå€‘çš„å…§éƒ¨é‚„æ˜¯æœ‰äº›ä¸åŒçš„ï¼Œ</p><ul><li>é¦–å…ˆVectoråœ¨å…§éƒ¨çš„ä¸€äº›æ–¹æ³•ä½œäº†ç·šç¨‹åŒæ­¥(synchronized)ã€‚ åŒæ­¥çš„ä»£åƒ¹å°±æ˜¯é™ä½äº†åŸ·è¡Œæ•ˆç‡ï¼Œ ä½†æé«˜äº†å®‰å…¨æ€§ã€‚è€ŒArrayListå‰‡æ˜¯ç·šç¨‹ä¸åŒæ­¥çš„ï¼Œ å¯ä»¥å¤šç·šç¨‹ä½µç™¼è®€å¯«å®ƒã€‚</li><li>å…§éƒ¨æ•¸æ“šå¢é•·ç‡ã€‚ æ‰€æœ‰çš„é€™äº›çŸ¢é‡é›†åˆåœ¨å…§éƒ¨éƒ½æ˜¯ç”¨Objectçš„æ•¸çµ„é€²è¡Œå­˜å„²å’Œæ“ä½œçš„ã€‚ æ‰€ä»¥ä¹Ÿå°±æ˜ç™½äº†ç‚ºä»€éº¼å®ƒå¯ä»¥æ¥å—ä»»ä½•é¡å‹çš„Objectï¼Œ ä½†å–å‡ºä¾†çš„æ™‚å€™éœ€è¦é€²è¡Œé¡å‹å†é€ ã€‚ Vectorèˆ‡ArrayListå…·æœ‰è‡ªå‹•ä¼¸ç¸®çš„åŠŸèƒ½ï¼Œ æˆ‘å€‘ä¸ç”¨ç®¡å®ƒsizeå¤šå¤§ï¼Œ æˆ‘å€‘éƒ½å¯ä»¥åœ¨å®ƒçš„å¾Œé¢è¿½åŠ å…ƒç´ ã€‚ Vectorèˆ‡ArrayListå…§éƒ¨çš„æ•¸çµ„å¢é•·ç‡æ˜¯ä¸ä¸€æ¨£çš„ï¼Œ ç•¶å…§éƒ¨çš„æ•¸çµ„ä¸èƒ½å®¹ç´æ›´å¤šå…ƒç´ çš„æ™‚å€™ï¼Œ Vectoræœƒè‡ªå‹•å¢é•·åˆ°åŸå…©å€å¤§å°ï¼Œ ArrayListæœƒè®Šç‚ºåŸä¸€å€åŠå¤§å°ï¼Œ è€Œä¸æ˜¯æˆ‘å€‘æ‰€æƒ³è±¡çš„ä¸€å€‹å…ƒç´ ä¸€å€‹å…ƒç´ çš„å¢é•·ã€‚</li></ul><p><strong>Hashtableèˆ‡HashMapå°æ¯”</strong>ï¼š</p><p>Hashtableèˆ‡HashMapéƒ½æ˜¯å¾Mapç¹¼æ‰¿ä¸‹ä¾†çš„ï¼Œ æ–¹æ³•å¹¾ä¹éƒ½ä¸€æ¨£ï¼Œ å®ƒå€‘å…§éƒ¨æœ‰å…©å€‹ä¸åŒé»ï¼š</p><ul><li>èˆ‡Vectorå’ŒArrayListä¸€æ¨£ï¼Œ å®ƒå€‘åœ¨ç·šç¨‹åŒæ­¥æ˜¯ä¸åŒçš„ï¼Œ Hashtableåœ¨å…§éƒ¨åšäº†ç·šç¨‹åŒæ­¥ï¼Œ è€ŒHashMapæ˜¯ç·šç¨‹ä¸åŒæ­¥çš„ã€‚</li><li>HashMapçš„éµèˆ‡å€¼éƒ½å¯ä»¥ç‚ºnullï¼Œ è€ŒHashtableä¸å¯ä»¥ï¼Œ å¦‚æœä½ è©¦åœ–å°‡ä¸€å€‹nullå€¼æ”¾åˆ°Hashtableè£¡é¢å»ï¼Œ æœƒæ‹‹ä¸€å€‹NullPointExceptionçš„ã€‚</li></ul><p><strong>æ€§èƒ½å°æ¯”</strong>ï¼š</p><p>æ‹‹é–‹ä¸å¸¸ç”¨çš„é›†åˆä¸è¬›ï¼Œ æ¯ç¨®é›†åˆéƒ½æ‡‰è©²æœ‰ä¸€å€‹æˆ‘å€‘å¸¸ç”¨çš„é›†åˆé¡ï¼Œ è€Œåœ¨ä¸åŒçš„å ´åˆä¸‹æ‡‰è©²ä½¿ç”¨æ•ˆç‡æœ€é«˜çš„ä¸€å€‹ã€‚ ä¸€èˆ¬ä¾†èªªæˆ‘æ¨è–¦å„˜é‡ä½¿ç”¨æ–°çš„é›†åˆé¡ï¼Œ é™¤éä¸å¾—å·²ï¼Œ æ¯”å¦‚èªªéœ€è¦ç”¨ç”¨äº†è€é›†åˆé¡å¯«çš„ç”¢å“çš„ç¨‹åºã€‚ ä¹Ÿå°±æ˜¯èªªç›¡é‡ä½¿ç”¨ArrayListèˆ‡HashMapï¼Œ è€Œå°‘ä½¿ç”¨Vectorèˆ‡Hashtableã€‚</p><ul><li>åœ¨å–®ç·šç¨‹ä¸­ä½¿ç”¨ArrayListèˆ‡HashMapï¼Œ è€Œåœ¨å¤šç·šç¨‹ä¸­å¦‚æœéœ€è¦é€²è¡Œç·šç¨‹åŒæ­¥å¯ä»¥ä½¿ç”¨Vectorèˆ‡Hashtableï¼Œ ä½†ä¹Ÿå¯ä»¥ç”¨synchronizedå°ArrayListèˆ‡HashMapé€²è¡ŒåŒæ­¥ï¼Œ ä¸éåŒæ­¥å¾Œçš„ArrayListèˆ‡HashMapæ˜¯æ¯”Vectorèˆ‡Hashtableæ…¢çš„ã€‚ ä¸éæˆ‘èªç‚ºéœ€è¦é€²è¡Œç·šç¨‹åŒæ­¥çš„åœ°æ–¹ä¸¦ä¸å¤šã€‚ å¦‚æœä¸€å€‹è®Šé‡å®šç¾©åœ¨æ–¹æ³•å…§éƒ¨åŒæ™‚åªå¯èƒ½æœ‰ä¸€å€‹ç·šç¨‹å°ä¹‹é€²è¡Œæ“ä½œï¼Œ å°±ä¸å¿…è¦é€²è¡ŒåŒæ­¥ï¼Œ å¦‚æœå®šç¾©åœ¨é¡çš„å…§éƒ¨ä¸¦ä¸”ä¸æ˜¯éœæ…‹çš„ï¼Œ å±¬æ–¼å¯¦ä¾‹è®Šé‡ï¼Œ è€Œé€™å€‹é¡ä¸¦æ²’æœ‰è¢«å¤šç·šç¨‹ä½¿ç”¨ä¹Ÿå°±ä¸å¿…è¦åŒæ­¥ã€‚</li><li>ä¸€èˆ¬è‡ªå·±å¯«çš„ç¨‹åºå¾ˆå°‘æœƒè‡ªå·±å»å¦é–‹ç·šç¨‹çš„ï¼Œ ä½†åœ¨Webé–‹ç™¼çš„æ™‚å€™ï¼Œ å¦‚æœç”¨äº†Servletï¼Œ å‰‡æ¯å€‹requestéƒ½æ˜¯ä¸€å€‹ç·šç¨‹ï¼Œ ä¹Ÿå°±æ˜¯èªªæ¯å€‹Servletéƒ½æ˜¯åœ¨å¤šç·šç¨‹ç’°å¢ƒä¸‹é‹è¡Œçš„ï¼Œ å¦‚æœServletä¸­ä½¿ç”¨äº†å…¨å±€éœæ…‹çš„æˆå“¡è®Šé‡å°±å¾—å°å¿ƒé»å…’ï¼Œ å¦‚æœéœ€è¦åŒæ­¥å°±å¾—åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Šsynchronizedä¿®é£¾ç¬¦ï¼Œ å¦‚æœå…è¨±å¤šå€‹ç·šç¨‹æ“ä½œå®ƒï¼Œ ä¸¦ä¸”ä½ çŸ¥é“ä¸æœƒæœ‰ä»€éº¼è¡çªå•é¡Œå°±å¯ä»¥å¤§è†½çš„ä½¿ç”¨ArrayListèˆ‡HashMapã€‚ å¦å¤–å¦‚æœåœ¨å¤šç·šç¨‹ä¸­æœ‰ç·šç¨‹åœ¨å°ArrayListæˆ–HashMapé€²è¡Œä¿®æ”¹ï¼ˆçµæ§‹ä¸Šçš„ä¿®æ”¹ï¼‰ï¼Œ è€Œæœ‰ä¸€å€‹ç·šç¨‹åœ¨ç”¨Iteratoré€²è¡Œè®€å–æ“ä½œï¼Œ é€™å€‹æ™‚å€™å°±æœ‰å¯èƒ½æœƒæ‹‹ConcurrentModificationException, å› ç‚ºç”¨Iteratorçš„æ™‚å€™ï¼Œ ä¸å…è¨±åŸListçš„çµæ§‹æ”¹è®Šã€‚ä½†å¯ä»¥ç”¨getæ–¹æ³•ä¾†å–ã€‚</li></ul><p><strong>å¸¸ç”¨æŠ€å·§</strong>ï¼š</p><p>â‘ . æ¡ç”¨é¢å‘æ¥å£çš„ç·¨ç¨‹æŠ€å·§ï¼Œ æ¯”å¦‚ç¾åœ¨éœ€è¦å¯«ä¸€å€‹å…±é€šå‡½æ•¸ï¼Œå°çŸ¢é‡é›†åˆé¡è«¸å¦‚Vectorï¼ŒArrayListï¼ŒHashSetç­‰ç­‰é€²è¡Œæ“ä½œï¼Œ ä½†æˆ‘ä¸¦ä¸çŸ¥é“æœ€çµ‚ç”¨æˆ¶æœƒå…·é«”å‚³çµ¦æˆ‘ä»€éº¼é¡å‹çš„é¡ï¼Œ é€™å€‹æ™‚å€™æˆ‘å€‘å¯ä»¥ä½¿ç”¨Collectionæ¥å£ï¼Œ å¾è€Œä½¿ä»£ç¢¼å…·æœ‰å¾ˆå¤§çš„éˆæ´»æ€§ã€‚ ä»£ç¢¼ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code>/** * å°‡listè£¡é¢çš„æ‰€æœ‰å…ƒç´ ç”¨sepé€£æ¥èµ·ä¾†ï¼Œ * listå¯ä»¥ç‚ºVector, ArrayList, HashSetç­‰ã€‚ */public static String join(String sep, Collection list) {	StringBuffer sb = new StringBuffer();	Iterator iterator = list.iterator();	while (iterator.hasNext()) {		sb.append(iterator.next());		if (iterator.hasNext()) {			sb.append(sep);		}	}	return sb.toString();}</code></pre><p>â‘¡. åˆ©ç”¨Seté€²è¡ŒUniqueï¼Œ æ¯”å¦‚æœ‰ä¸€çµ„å°è±¡ï¼ˆå…¶ä¸­æœ‰å°è±¡æ˜¯é‡è¤‡çš„ï¼‰ï¼Œ ä½†æˆ‘å€‘åªå°ä¸åŒçš„å°è±¡æ„Ÿèˆˆè¶£ï¼Œ é€™å€‹æ™‚å€™å¯ä»¥ä½¿ç”¨HashSeté€™å€‹é›†åˆé¡ï¼Œ ç„¶å¾Œå¯ä»¥é€šéè¦†è“‹Objectçš„equalsæ–¹æ³•ä¾†é¸æ“‡è‡ªå®šç¾©åˆ¤æ–·ç›¸ç­‰çš„ruleã€‚ ç¼ºçœçš„æ˜¯åœ°å€åˆ¤æ–·ã€‚ ä¾‹ï¼š</p><pre><code>class DataClass {	private String code = null;	private String name = null;	public void setCode(String code) {		this.code = code;	}	public String getCode() {		return this.code;	}	public void setName(String name) {		this.name = name;	}	public String getName() {		return this.name;	}	public Boolean equals(DataClass otherData) {		if (otherData != null) {			if (this.getCode() != null&amp;&amp; this.getCode().equals(otherData.getCode()) {				return true;			}		}		return false;	}}DataClass data1 = new DataClass();DataClass data2 = new DataClass();data1.setCode("1");data2.setCode("1");HashSet singleSet = new HashSet();singleSet.add(data1);singleSet.add(data2);</code></pre><p>çµæœsingleSetè£¡é¢åªæœ‰data1ï¼Œ å› ç‚ºdata2.equals(data1)ï¼Œ æ‰€ä»¥data2ä¸¦æ²’æœ‰åŠ é€²å»ã€‚</p><p>â‘¢. éˆæ´»çš„è¨­è¨ˆé›†åˆçš„å­˜å„²æ–¹å¼ï¼Œ ä»¥ç²å¾—è¼ƒé«˜æ•ˆçš„è™•ç†ã€‚ é›†åˆè£¡é¢å¯ä»¥å†åµŒå¥—é›†åˆï¼Œ ä¾‹ï¼šåœ¨ArrayListè£¡é¢å­˜æ”¾HashMapï¼Œ HashMapè£¡é¢å†åµŒå¥—HashMapã€‚</p><h1 class=pgc-h-arrow-right>å…«ã€ResourceBundle, Properties</h1><p><strong>ResourceBundle</strong>ï¼šé–‹ç™¼ä¸€å€‹é …ç›®ï¼Œ é…ç½®æ–‡ä»¶æ˜¯å°‘ä¸äº†çš„ï¼Œ ä¸€äº›éœ€è¦æ ¹æ“šç’°å¢ƒé€²è¡Œä¿®æ”¹çš„åƒæ•¸ï¼Œ éƒ½æœ‰å¾—æ”¾åˆ°é…ç½®æ–‡ä»¶ä¸­å»ï¼Œ åœ¨Javaä¸­ä¸€èˆ¬æ˜¯é€šéä¸€å€‹propertiesæ–‡ä»¶ä¾†å¯¦ç¾çš„ï¼Œ é€™å€‹æ–‡ä»¶ä»¥propertiesçµå°¾ã€‚ å…§éƒ¨çµæ§‹æ˜¯äºŒç¶­çš„ï¼Œ ä»¥key=valueçš„å½¢å¼å­˜åœ¨ã€‚ å¦‚ä¸‹ï¼š</p><pre><code>options.column.name.case=1options.column.bean.serializable=1options.column.bean.defaultconstructor=1options.column.method.setter=1options.general.user.version=1.0database.connection[0]=csc/csc@localhost_oci8database.connection[1]=cscweb/cscweb@localhost_thin</code></pre><p>ResourceBundleç”¨ä¾†è§£æé€™æ¨£çš„æ–‡ä»¶ï¼Œ å®ƒçš„åŠŸèƒ½æ˜¯å¯ä»¥æ ¹æ“šä½ çš„Localeä¾†é€²è¡Œè§£æé…ç½®æ–‡ä»¶ï¼Œ å¦‚æœä¸€å€‹ç”¢å“éœ€è¦é€²è¡Œå¤šèªè¨€æ”¯æŒï¼Œ æ¯”å¦‚åœ¨ä¸åŒèªç¨®çš„ç³»çµ±ä¸Šï¼Œ æœƒé¡¯ç¤ºæ ¹æ“šå®ƒçš„èªè¨€é¡¯ç¤ºç›¸æ‡‰çš„ç•Œé¢èªè¨€ï¼Œ å°±å¯ä»¥å®šç¾©å¤šä»½çš„propertiesæ–‡ä»¶ï¼Œ æ¯å€‹æ–‡ä»¶çš„keyæ˜¯ä¸€æ¨£çš„ï¼Œ åªæ˜¯valueä¸ä¸€æ¨£ï¼Œ ç„¶å¾Œåœ¨applicationèµ·å‹•çš„æ™‚å€™ï¼Œ å¯ä»¥åˆ¤åˆ¥æœ¬æ©Ÿçš„Localeä¾†è§£æç›¸æ‡‰çš„propertiesæ–‡ä»¶ã€‚ Propertiesæ–‡ä»¶è£¡é¢çš„æ•¸æ“šå¾—è¦æ˜¯Unicodeã€‚ åœ¨jdkä¸‹é¢å¯ä»¥ç”¨native2asciié€™å€‹å‘½ä»¤é€²è¡Œè½‰æ›ã€‚ ä¾‹ï¼š native2ascii Message.txt Message.properties æœƒç”Ÿæˆä¸€å€‹Unicodeçš„æ–‡ä»¶ã€‚</p><p><strong>Properties</strong>: Propertiesé€™å€‹é¡å…¶å¯¦å°±æ˜¯å¾Hashtableç¹¼æ‰¿ä¸‹ä¾†çš„ï¼Œ ä¹Ÿå°±æ˜¯èªªå®ƒæ˜¯ä¸€å€‹æ•£åˆ—è¡¨ï¼Œ å€åˆ¥åœ¨æ–¼å®ƒçš„keyèˆ‡valueéƒ½æ˜¯Stringå‹çš„ï¼Œ å¦å¤–ä¹ŸåŠ äº†å¹¾å€‹å¸¸ç”¨çš„æ–¹æ³•ï¼š</p><ul><li>String getProperty(String key) å–å¾—ä¸€å€‹property</li><li>String getProperty(String key, String defaultValue) å–propertyï¼Œ å¦‚æœä¸å­˜åœ¨å‰‡è¿”å›defaultValueã€‚</li><li>void list(PrintStream out) å‘outè¼¸å‡ºæ‰€æœ‰çš„properties</li><li>void list(PrintWriter out)</li><li>Enumeration propertyNames() å°‡æ‰€æœ‰çš„property keyåä»¥Enumerationå½¢å¼è¿”å›ã€‚</li><li>Object setProperty(String key, String value) è¨­ç½®ä¸€å€‹propertyã€‚</li></ul><p>ResourceBundleèˆ‡Propertiesä¸€èˆ¬çµåˆèµ·ä¾†ä½¿ç”¨ã€‚ å®ƒå€‘çš„ç”¨æ³•å¾ˆç°¡å–®ï¼Œ ç”±ResourceBundleè§£æå‡ºä¾†çš„keyèˆ‡valueç„¶å¾Œæ”¾è‡³åˆ°ä¸€å€‹éœæ…‹çš„Propertiesæˆå“¡è®Šé‡è£¡é¢å»ï¼Œ ç„¶å¾Œå°±å¯ä»¥é€šéè¨ªå•Propertiesçš„æ–¹æ³•é€²è¡Œè®€å–Propertyã€‚ ä¸‹é¢çµ¦å€‹ç°¡å–®çš„ä¾‹å­ï¼š</p><pre><code>public class PropertyManager implements Serializable {	/** å®šç¾©ä¸€å€‹éœæ…‹çš„Propertiesè®Šé‡ */	private static Properties properties = new Properties();	/** * é€šéä¸€å€‹é¡ä¼¼æ–¼é¡åçš„åƒæ•¸é€²è¡ŒPropertyæ–‡ä»¶çš„åˆæœŸåŒ– * æ¯”å¦‚ç¾åœ¨æœ‰ä¸€å€‹æ–‡ä»¶å«Message.propertiesï¼Œ å®ƒå­˜æ”¾åœ¨ * ejb/utilä¸‹é¢ä¸¦ä¸”ï¼Œ é€™å€‹ç›®éŒ„åœ¨é‹è¡Œçš„classpathä¸‹é¢ * å‰‡inå°±ç‚ºejb.util.Message * */	public static void init(String in) throws MissingResourceException {		ResourceBundle bundle = ResourceBundle.getBundle(in);		Enumeration enum = bundle.getKeys();		Object key = null;		Object value = null;		while (enum.hasMoreElements()) {			key = enum.nextElement();			value = bundle.getString(key.toString());			properties.put(key, value);		}	}	/** * å–å¾—ä¸€å€‹Propertyå€¼ */	public static String getProperty(String key) {		return properties.get(key);	}	/** * è¨­ç½®ä¸€å€‹Propertyå€¼ */	public static void setProperty(String key, String value) {		properties.put(key, value);	}}</code></pre><p>ä¸éç¾åœ¨çš„Javaç”¢å“ä¸­ï¼Œè¶Šä¾†è¶Šå‚¾å‘æ–¼ç”¨XMLæ›¿æ›Propertiesæ–‡ä»¶ä¾†é€²è¡Œé…ç½®ã€‚ XMLé…ç½®å…·æœ‰å±¤æ¬¡çµæ§‹æ¸…æ¥šçš„å„ªé»ã€‚</p><h1 class=pgc-h-arrow-right>ä¹ã€Exceptions</h1><pre><code>ThrowableExceptionErrorRuntimeExceptionClassNotFoundExceptionIOExceptionSQLExceptionIndexOutOfBoundsExceptionClassCastExceptionNullPointerExceptionOutOfMemoryErrorStackOverflowErrorNoClassDefFoundError</code></pre><p>Javaæ¡ç”¨é•ä¾‹(Exception)è™•ç†æ©Ÿåˆ¶ä¾†é€²è¡ŒéŒ¯èª¤è™•ç†ã€‚ é•ä¾‹æ©Ÿåˆ¶çš„ä¸€å€‹å¥½è™•å°±æ˜¯èƒ½å¤ ç°¡åŒ–éŒ¯èª¤æ§åˆ¶ä»£ç¢¼ï¼Œ æˆ‘å€‘å†ä¹Ÿä¸ç”¨æª¢æŸ¥ä¸€å€‹ç‰¹å®šçš„éŒ¯èª¤ï¼Œ ç„¶å¾Œåœ¨ç¨‹åºçš„å¤šè™•åœ°æ–¹å°å…¶é€²è¡Œæ§åˆ¶ã€‚ æ­¤å¤–ï¼Œ ä¹Ÿä¸éœ€è¦åœ¨æ–¹æ³•èª¿ç”¨çš„æ™‚å€™æª¢æŸ¥éŒ¯èª¤ï¼ˆå› ç‚ºä¿è­‰æœ‰äººèƒ½å¤ æ•ç²é€™è£¡çš„éŒ¯èª¤ï¼‰ã€‚ æˆ‘å€‘åªéœ€è¦åœ¨ä¸€å€‹åœ°æ–¹è™•ç†å•é¡Œï¼šâ€é•ä¾‹æ§åˆ¶æ¨¡å¡Šâ€æˆ–è€…â€é•ä¾‹æ§åˆ¶å™¨â€ã€‚ é€™æ¨£å¯æœ‰æ•ˆæ¸›å°‘ä»£ç¢¼é‡ï¼Œ ä¸¦å°‡é‚£äº›ç”¨æ–¼æè¿°å…·é«”æ“ä½œçš„ä»£ç¢¼èˆ‡å°ˆé–€ç³¾æ­£éŒ¯èª¤çš„ä»£ç¢¼åˆ†éš”é–‹ã€‚</p><p>ä¸€å€‹å®Œæ•´çš„é•ä¾‹ä¾‹å­ï¼š</p><pre><code>public void throwTest() throws MyException {	try {		...	}	catch (SQLException se) {		cat.error("", se);		throw new MyException(se.getMessage());	}	catch (Exception e) {		cat.error("", e);	}	finally {		...	}}</code></pre><p>å¦‚æœä¸€æ®µä»£ç¢¼æœ‰å¯èƒ½æœƒæ‹‹å‡ºé•ä¾‹å¯ä»¥ç”¨try {} catch {}ä¾†è™•ç†ã€‚ è¢«catchåˆ°çš„é•ä¾‹å¯ä»¥å†æ‹‹å‡ºï¼Œ ä¹Ÿå¯ä»¥è½‰æ›ç‚ºå…¶å®ƒé¡å‹çš„Exceptionæ‹‹å‡ºã€‚ finallyå¡Šè£¡é¢çš„ä»£ç¢¼ç¸½æœƒè¢«åŸ·è¡Œåˆ°çš„ï¼Œ ä¸ç®¡å‰é¢æ˜¯å¦å·²ç¶“throwæˆ–returnäº†ã€‚</p><p>Throwableæ˜¯æ‰€æœ‰é•ä¾‹çš„åŸºé¡ï¼Œ å®ƒæœ‰å…©ç¨®å¸¸è¦é¡å‹ã€‚ å…¶ä¸­ï¼Œ Errorä»£è¡¨ç·¨ç¹¹æœŸå’Œç³»çµ±éŒ¯èª¤ï¼Œ æˆ‘å€‘ä¸€èˆ¬ä¸å¿…ç‰¹æ„æ•ç²å®ƒå€‘ã€‚ Exceptionæ˜¯å¯ä»¥å¾ä»»ä½•æ¨™æº–Javaåº«çš„é¡æ–¹æ³•ä¸­æ“²å‡ºçš„åŸºæœ¬é¡å‹ã€‚</p><p>çœ‹ä¸Šé¢çš„åœ–ï¼Œ å¦‚æœæ˜¯Errorçš„å­é¡æˆ–æ˜¯RuntimeExceptionçš„å­é¡é€™ç¨®é•ä¾‹æœ‰ä¸€å®šçš„ç‰¹æ®Šæ€§ï¼Œ å¯ä»¥èªªæˆ‘å€‘å¯ä»¥ç•¶å®ƒå€‘ä¸å­˜åœ¨ï¼Œ ç•¶é€™ç¨®é•ä¾‹æ‹‹å‡ºçš„æ™‚å€™ï¼Œ æˆ‘å€‘å¯ä»¥ä¸catchå®ƒï¼Œ ä¹Ÿå¯ä»¥ä¸åœ¨æ–¹æ³•ä¸Šthrowså®ƒã€‚ RuntimeExceptionä¸€èˆ¬ä»£è¡¨çš„æ˜¯ä¸€å€‹ç·¨ç¨‹éŒ¯èª¤ï¼Œ æ˜¯å®Œå…¨å¯ä»¥é¿å…çš„ã€‚</p><p><strong>æ€§èƒ½æ³¨æ„é»</strong>ï¼š å› ç‚ºä½¿ç”¨äº†Exceptionä¹‹å¾Œæ˜¯è¦å½±éŸ¿ä¸€äº›æ•ˆç‡çš„ï¼Œ æ‰€ä»¥Exceptionä¸èƒ½æ¿«ç”¨ã€‚ä¸€èˆ¬çš„ä¸è¦ç”¨Exceptionä¾†æ§åˆ¶æ¥­å‹™æµç¨‹ï¼Œ å…¶æ¬¡ä¸è¦å¾ªç’°é«”å…§ä½¿ç”¨ã€‚</p><p><strong>æŠ€å·§</strong>ï¼šæˆ‘å€‘å¯ä»¥å¾Exceptionæˆ–ç›´æ¥å¾Throwableç¹¼æ‰¿å¯«æˆ‘å€‘è‡ªå·±çš„Exceptionï¼Œ ç„¶å¾Œæ ¹æ“šæ¥­å‹™éœ€è¦æ‹‹ä¸åŒç¨®é¡çš„Exceptionã€‚</p><h1 class=pgc-h-arrow-right>åã€JDBCé¡åº«</h1><p>æœ‰äº† JDBCï¼Œå‘å„ç¨®é—œä¿‚æ•¸æ“šåº«ç™¼é€ SQL èªå¥å°±æ˜¯ä¸€ä»¶å¾ˆå®¹æ˜“çš„äº‹ã€‚æ›è¨€ä¹‹ï¼Œæœ‰äº† JDBC APIï¼Œå°±ä¸å¿…ç‚ºè¨ªå• Sybase æ•¸æ“šåº«å°ˆé–€å¯«ä¸€å€‹ç¨‹åºï¼Œç‚ºè¨ªå• Oracle æ•¸æ“šåº«åˆå°ˆé–€å¯«ä¸€å€‹ç¨‹åºï¼Œç‚ºè¨ªå• Informix æ•¸æ“šåº«åˆå¯«å¦ä¸€å€‹ç¨‹åºï¼Œç­‰ç­‰ã€‚æ‚¨åªéœ€ç”¨ JDBC API å¯«ä¸€å€‹ç¨‹åºå°±å¤ äº†ï¼Œå®ƒå¯å‘ç›¸æ‡‰æ•¸æ“šåº«ç™¼é€ SQL èªå¥ã€‚è€Œä¸”ï¼Œä½¿ç”¨ Java ç·¨ç¨‹èªè¨€ç·¨å¯«çš„æ‡‰ç”¨ç¨‹åºï¼Œå°±ç„¡é ˆå»æ†‚æ…®è¦ç‚ºä¸åŒçš„å¹³è‡ºç·¨å¯«ä¸åŒçš„æ‡‰ç”¨ç¨‹åºã€‚å°‡ Java å’Œ JDBC çµåˆèµ·ä¾†å°‡ä½¿ç¨‹åºå“¡åªé ˆå¯«ä¸€éç¨‹åºå°±å¯è®“å®ƒåœ¨ä»»ä½•å¹³è‡ºä¸Šé‹è¡Œã€‚</p><p>ä¸‹é¢ç‚ºå¸¸ç”¨çš„è™•ç†æµç¨‹ï¼š</p><pre><code>DriverManagerConnectionStatementPreparedStatementCallableStatementResultSet</code></pre><p>ç°¡å–®åœ°èªªï¼ŒJDBC å¯åšä¸‰ä»¶äº‹ï¼š</p><ol start=1><li>èˆ‡æ•¸æ“šåº«å»ºç«‹é€£æ¥</li><li>ç™¼é€ SQL èªå¥</li><li>è™•ç†çµæœ</li></ol><p>ä¸‹åˆ—ä»£ç¢¼æ®µçµ¦å‡ºäº†ä»¥ä¸Šä¸‰æ­¥çš„åŸºæœ¬ç¤ºä¾‹ï¼š</p><pre><code>Class.forName("oracle.jdbc.driver.OracleDriver").newInstance();Connection conn = DriverManager.getConnection ("jdbc:oracle:thin:@eai-sol:1521:eai_db", "csc2", "csc2");Statement stmt = conn.createStatement();ResultSet rs = stmt.executeQuery("SELECT CONTACTID FROM CONTACTINFO");while (rs.next()) {long contactID = rs.getLong("CONTACTID");}</code></pre><p>ä¸‹é¢å°å¸¸ç”¨çš„å¹¾å€‹é¡å’Œæ¥å£åšäº›ç°¡å–®çš„èªªæ˜ã€‚</p><p><strong>DriverManager</strong>ï¼š</p><p>DriverManageré¡æ˜¯ JDBC çš„ç®¡ç†å±¤ï¼Œä½œç”¨æ–¼ç”¨æˆ¶å’Œé©…å‹•ç¨‹åºä¹‹é–“ã€‚å®ƒè·Ÿè¹¤å¯ç”¨çš„é©…å‹•ç¨‹åºï¼Œä¸¦åœ¨æ•¸æ“šåº«å’Œç›¸æ‡‰é©…å‹•ç¨‹åºä¹‹é–“å»ºç«‹é€£æ¥ã€‚å¦å¤–ï¼ŒDriverManager é¡ä¹Ÿè™•ç†è«¸å¦‚é©…å‹•ç¨‹åºç™»éŒ„æ™‚é–“é™åˆ¶åŠç™»éŒ„å’Œè·Ÿè¹¤æ¶ˆæ¯çš„é¡¯ç¤ºç­‰äº‹å‹™ã€‚å°æ–¼ç°¡å–®çš„æ‡‰ç”¨ç¨‹åºï¼Œä¸€èˆ¬ç¨‹åºå“¡éœ€è¦åœ¨æ­¤é¡ä¸­ç›´æ¥ä½¿ç”¨çš„å”¯ä¸€æ–¹æ³•æ˜¯ DriverManager.getConnectionã€‚æ­£å¦‚åç¨±æ‰€ç¤ºï¼Œè©²æ–¹æ³•å°‡å»ºç«‹èˆ‡æ•¸æ“šåº«çš„é€£æ¥ã€‚</p><pre><code>Class.forName("oracle.jdbc.driver.OracleDriver").newInstance();Connection conn = DriverManager.getConnection ("jdbc:oracle:thin:@eai-sol:1521:eai_db", "csc2", "csc2");</code></pre><p>å…¶ä¸­ç¬¬ä¸€å¥è©±çš„ä½œç”¨æ˜¯åœ¨ç•¶å‰çš„ç’°å¢ƒä¸­loadä¸€å€‹DB Driverï¼Œ æœ‰äººå¯èƒ½è¦ºå¾—å¥‡æ€ªï¼Œ é€™å¥è©±åŸ·è¡Œå®Œä¹‹å¾Œï¼Œ å¾Œé¢æ€éº¼çŸ¥é“å»ç”¨é€™å€‹Driverå‘¢ï¼Ÿ å…¶å¯¦DriverManagerå¯ä»¥å¾loadçš„classesè£¡é¢æ‰¾åˆ°è¨»å†Šéçš„driverï¼Œç„¶å¾Œä½¿ç”¨å®ƒæ‰€æ‰¾åˆ°çš„ç¬¬ä¸€å€‹å¯ä»¥æˆåŠŸé€£æ¥åˆ°çµ¦å®š URL çš„é©…å‹•ç¨‹åºã€‚ ç¬¬äºŒå¥è©±çš„ä¸‰å€‹åƒæ•¸åˆ†åˆ¥æ˜¯URL, User, Passwordã€‚ï¼¤riverä¸ä¸€æ¨£ï¼Œâ€ƒURLå¯èƒ½ä¹Ÿä¸ä¸€æ¨£ã€‚</p><p><strong>Statement</strong>ï¼š</p><p>Statement å°è±¡ç”¨æ–¼å°‡ SQL èªå¥ç™¼é€åˆ°æ•¸æ“šåº«ä¸­ã€‚å¯¦éš›ä¸Šæœ‰ä¸‰ç¨® Statement å°è±¡ï¼Œå®ƒå€‘éƒ½ç‚ºåœ¨çµ¦å®šé€£æ¥ä¸ŠåŸ·è¡Œ SQL èªå¥çš„åŒ…å®¹å™¨ï¼šStatementã€PreparedStatementï¼ˆå®ƒå¾ Statement æ‰¿è€Œä¾†ï¼‰å’Œ CallableStatementï¼ˆå®ƒå¾ PreparedStatement ç¹¼æ‰¿è€Œä¾†ï¼‰ã€‚å®ƒå€‘éƒ½å°ˆç”¨æ–¼ç™¼é€å®šé¡å‹çš„ SQL èªå¥ï¼š Statement å°è±¡ç”¨æ–¼åŸ·è¡Œä¸å¸¶åƒæ•¸çš„ç°¡å–® SQL èªå¥ï¼›PreparedStatement å°è±¡ç”¨æ–¼åŸ·è¡Œå¸¶æˆ–ä¸å¸¶ IN åƒæ•¸çš„é ç·¨è­¯ SQL èªå¥ï¼›CallableStatement å°è±¡ç”¨æ–¼åŸ·è¡Œå°æ•¸æ“šåº«å·²å­˜å„²éç¨‹çš„èª¿ç”¨ã€‚</p><p>Statement æ¥å£æä¾›äº†åŸ·è¡Œèªå¥å’Œç²å–çµæœçš„åŸºæœ¬æ–¹æ³•ã€‚PreparedStatement æ¥å£æ·»åŠ äº†è™•ç† IN åƒæ•¸çš„æ–¹æ³•ï¼›è€Œ CallableStatement æ·»åŠ äº†è™•ç† OUT åƒæ•¸çš„æ–¹æ³•ã€‚</p><p>â‘ . å‰µå»º Statement å°è±¡</p><p>å»ºç«‹äº†åˆ°ç‰¹å®šæ•¸æ“šåº«çš„é€£æ¥ä¹‹å¾Œï¼Œå°±å¯ç”¨è©²é€£æ¥ç™¼é€ SQL èªå¥ã€‚Statement å°è±¡ç”¨ Connection çš„æ–¹æ³• createStatement å‰µå»ºï¼Œå¦‚ä¸‹åˆ—ä»£ç¢¼æ®µä¸­æ‰€ç¤ºï¼š</p><pre><code>Statement stmt = conn.createStatement();</code></pre><p>ç‚ºäº†åŸ·è¡Œ Statement å°è±¡ï¼Œè¢«é«®é€åˆ°æ•¸æ“šåº«çš„ SQL èªå¥å°‡è¢«ä½œç‚ºåƒæ•¸æä¾›çµ¦ Statement çš„æ–¹æ³•ï¼š</p><pre><code>ResultSet rs = stmt.executeQuery("SELECT a, b, c FROM table1");</code></pre><p>â‘¡. ä½¿ç”¨ Statement å°è±¡åŸ·è¡Œèªå¥</p><p>Statement æ¥å£æä¾›äº†ä¸‰ç¨®åŸ·è¡Œ SQL èªå¥çš„æ–¹æ³•ï¼šexecuteQueryã€executeUpdate å’Œexecuteã€‚ä½¿ç”¨å“ªä¸€å€‹æ–¹æ³•ç”± SQL èªå¥æ‰€ç”¢ç”Ÿçš„å…§å®¹æ±ºå®šã€‚</p><p>æ–¹æ³• executeQuery ç”¨æ–¼ç”¢ç”Ÿå–®å€‹çµæœé›†çš„èªå¥ï¼Œä¾‹å¦‚ SELECT èªå¥ã€‚</p><p>æ–¹æ³• executeUpdate ç”¨æ–¼åŸ·è¡Œ INSERTã€UPDATE æˆ– DELETE èªå¥ä»¥åŠ SQL DDLï¼ˆæ•¸æ“šå®šç¾©èªè¨€ï¼‰èªå¥ï¼Œä¾‹å¦‚ CREATE TABLE å’Œ DROP TABLEã€‚INSERTã€UPDATE æˆ– DELETE èªå¥çš„æ•ˆæœæ˜¯ä¿®æ”¹è¡¨ä¸­é›¶è¡Œæˆ–å¤šè¡Œä¸­çš„ä¸€åˆ—æˆ–å¤šåˆ—ã€‚executeUpdate çš„è¿”å›å€¼æ˜¯ä¸€å€‹æ•´æ•¸ï¼ŒæŒ‡ç¤ºå—å½±éŸ¿çš„è¡Œæ•¸ï¼ˆå³æ›´æ–°è¨ˆæ•¸ï¼‰ã€‚å°æ–¼ CREATE TABLE æˆ– DROP TABLE ç­‰ä¸æ“ä½œè¡Œçš„èªå¥ï¼ŒexecuteUpdate çš„è¿”å›å€¼ç¸½ç‚ºé›¶ã€‚</p><p>æ–¹æ³• execute ç”¨æ–¼åŸ·è¡Œè¿”å›å¤šå€‹çµæœé›†ã€å¤šå€‹æ›´æ–°è¨ˆæ•¸æˆ–äºŒè€…çµ„åˆçš„èªå¥ã€‚</p><p>â‘¢. èªå¥å®Œæˆ</p><p>ç•¶é€£æ¥è™•æ–¼è‡ªå‹•æäº¤æ¨¡å¼æ™‚ï¼Œå…¶ä¸­æ‰€åŸ·è¡Œçš„èªå¥åœ¨å®Œæˆæ™‚å°‡è‡ªå‹•æäº¤æˆ–é‚„åŸã€‚èªå¥åœ¨å·²åŸ·è¡Œä¸”æ‰€æœ‰çµæœè¿”å›æ™‚ï¼Œå³èªç‚ºå·²å®Œæˆã€‚å°æ–¼è¿”å›ä¸€å€‹çµæœé›†çš„ executeQuery æ–¹æ³•ï¼Œåœ¨æª¢ç´¢å®Œ ResultSet å°è±¡çš„æ‰€æœ‰è¡Œæ™‚è©²èªå¥å®Œæˆã€‚å°æ–¼æ–¹æ³• executeUpdateï¼Œç•¶å®ƒåŸ·è¡Œæ™‚èªå¥å³å®Œæˆã€‚ä½†åœ¨å°‘æ•¸èª¿ç”¨æ–¹æ³• execute çš„æƒ…æ³ä¸­ï¼Œåœ¨æª¢ç´¢æ‰€æœ‰çµæœé›†æˆ–å®ƒç”Ÿæˆçš„æ›´æ–°è¨ˆæ•¸ä¹‹å¾Œèªå¥æ‰å®Œæˆã€‚</p><p>â‘£. é—œé–‰ Statement å°è±¡</p><p>Statement å°è±¡å°‡ç”± Java åƒåœ¾æ”¶é›†ç¨‹åºè‡ªå‹•é—œé–‰ã€‚è€Œä½œç‚ºä¸€ç¨®å¥½çš„ç·¨ç¨‹é¢¨æ ¼ï¼Œæ‡‰åœ¨ä¸éœ€è¦ Statement å°è±¡æ™‚é¡¯å¼åœ°é—œé–‰å®ƒå€‘ã€‚é€™å°‡ç«‹å³é‡‹æ”¾ DBMS è³‡æºï¼Œæœ‰åŠ©æ–¼é¿å…æ½›åœ¨çš„å…§å­˜å•é¡Œã€‚ é—œé–‰Statementç”¨ stmt.close()â€ƒæ–¹æ³•ã€‚</p><p><strong>ResultSet</strong>ï¼š</p><p>ResultSet åŒ…å«ç¬¦åˆ SQL èªå¥ä¸­æ¢ä»¶çš„æ‰€æœ‰è¡Œï¼Œä¸¦ä¸”å®ƒé€šéä¸€å¥— get æ–¹æ³•ï¼ˆé€™äº› get æ–¹æ³•å¯ä»¥è¨ªå•ç•¶å‰è¡Œä¸­çš„ä¸åŒåˆ—ï¼‰æä¾›äº†å°é€™äº›è¡Œä¸­æ•¸æ“šçš„è¨ªå•ã€‚ResultSet.next æ–¹æ³•ç”¨æ–¼ç§»å‹•åˆ° ResultSet ä¸­çš„ä¸‹ä¸€è¡Œï¼Œä½¿ä¸‹ä¸€è¡Œæˆç‚ºç•¶å‰è¡Œã€‚</p><p>çµæœé›†ä¸€èˆ¬æ˜¯ä¸€å€‹è¡¨ï¼Œå…¶ä¸­æœ‰æŸ¥è©¢æ‰€è¿”å›çš„åˆ—æ¨™é¡ŒåŠç›¸æ‡‰çš„å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæŸ¥è©¢ç‚º SELECT a, b, c FROM Table1ï¼Œå‰‡çµæœé›†å°‡å…·æœ‰å¦‚ä¸‹å½¢å¼ï¼š</p><pre><code>a        b         c-------- --------- --------12345    Cupertino CA83472    Redmond   WA83492    Boston    MA</code></pre><p>ä¸‹é¢çš„ä»£ç¢¼æ®µæ˜¯åŸ·è¡Œ SQL èªå¥çš„ç¤ºä¾‹ã€‚è©² SQL èªå¥å°‡è¿”å›è¡Œé›†åˆï¼Œå…¶ä¸­åˆ— 1 ç‚º intï¼Œåˆ— 2 ç‚º Stringï¼Œè€Œåˆ— 3 å‰‡ç‚ºæ—¥æœŸå‹ï¼š</p><pre><code>Statement stmt = conn.createStatement();ResultSet rs = stmt.executeQuery("SELECT a, b, c FROM Table1");while (rs.next()) {	int i = rs.getint("a");	String s = rs.getString("b");	Timestamp t = rs.getTimestamp("c");}</code></pre><p>â‘ . è¡Œå’Œå…‰æ¨™</p><p>ResultSet ç¶­è­·æŒ‡å‘å…¶ç•¶å‰æ•¸æ“šè¡Œçš„å…‰æ¨™ã€‚æ¯èª¿ç”¨ä¸€æ¬¡ next æ–¹æ³•ï¼Œå…‰æ¨™å‘ä¸‹ç§»å‹•ä¸€è¡Œã€‚æœ€åˆå®ƒä½æ–¼ç¬¬ä¸€è¡Œä¹‹å‰ï¼Œå› æ­¤ç¬¬ä¸€æ¬¡èª¿ç”¨ next å°‡æŠŠå…‰æ¨™ç½®æ–¼ç¬¬ä¸€è¡Œä¸Šï¼Œä½¿å®ƒæˆç‚ºç•¶å‰è¡Œã€‚éš¨è‘—æ¯æ¬¡èª¿ç”¨ next å°è‡´å…‰æ¨™å‘ä¸‹ç§»å‹•ä¸€è¡Œï¼ŒæŒ‰ç…§å¾ä¸Šè‡³ä¸‹çš„æ¬¡åºç²å– ResultSet è¡Œã€‚åœ¨ ResultSet å°è±¡æˆ–å…¶çˆ¶è¼© Statement å°è±¡é—œé–‰ä¹‹å‰ï¼Œå…‰æ¨™ä¸€ç›´ä¿æŒæœ‰æ•ˆã€‚</p><p>â‘¡. åˆ—</p><p>æ–¹æ³• getXXX æä¾›äº†ç²å–ç•¶å‰è¡Œä¸­æŸåˆ—å€¼çš„é€”å¾‘ã€‚åœ¨æ¯ä¸€è¡Œå…§ï¼Œå¯æŒ‰ä»»ä½•æ¬¡åºç²å–åˆ—å€¼ã€‚ä½†ç‚ºäº†ä¿è­‰å¯ç§»æ¤æ€§ï¼Œæ‡‰è©²å¾å·¦è‡³å³ç²å–åˆ—å€¼ï¼Œä¸¦ä¸”ä¸€æ¬¡æ€§åœ°è®€å–åˆ—å€¼ã€‚åˆ—åæˆ–åˆ—è™Ÿå¯ç”¨æ–¼æ¨™è­˜è¦å¾ä¸­ç²å–æ•¸æ“šçš„åˆ—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ ResultSet å°è±¡ rs çš„ç¬¬äºŒåˆ—åç‚ºâ€œtitleâ€ï¼Œä¸¦å°‡å€¼å­˜å„²ç‚ºå­—ç¬¦ä¸²ï¼Œå‰‡ä¸‹åˆ—ä»»ä¸€ä»£ç¢¼å°‡ç²å–å­˜å„²åœ¨è©²åˆ—ä¸­çš„å€¼ï¼š</p><pre><code>String s = rs.getString("title");String s = rs.getString(2);</code></pre><p>æ³¨æ„åˆ—æ˜¯å¾å·¦è‡³å³ç·¨è™Ÿçš„ï¼Œä¸¦ä¸”å¾åˆ— 1 é–‹å§‹ã€‚åŒæ™‚ï¼Œç”¨ä½œ getXXX æ–¹æ³•çš„è¼¸å…¥çš„åˆ—åä¸å€åˆ†å¤§å°å¯«ã€‚ ç‚ºäº†ä»£ç¢¼çš„å¯ç¶­è­·æ€§èˆ‡å¯è®€æ€§ï¼Œâ€ƒæ‡‰è©²ç¦æ­¢ç”¨indexçš„æ–¹æ³•ä¾†å–å€¼ï¼Œâ€ƒè¦ç”¨è®€åˆ—åçš„æ–¹æ³•ï¼Œâ€ƒå¦‚ä¸Šé¢çš„ç¬¬ä¸€è¡Œå–å€¼æ–¹æ³•ã€‚</p><p>â‘¢. æ•¸æ“šé¡å‹å’Œè½‰æ›</p><p>å°æ–¼ getXXX æ–¹æ³•ï¼ŒJDBC é©…å‹•ç¨‹åºè©¦åœ–å°‡åŸºæœ¬æ•¸æ“šè½‰æ›æˆæŒ‡å®š Java é¡å‹ï¼Œç„¶å¾Œè¿”å›é©åˆçš„ Java å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ getXXX æ–¹æ³•ç‚º getStringï¼Œè€ŒåŸºæœ¬æ•¸æ“šåº«ä¸­æ•¸æ“šé¡å‹ç‚º VARCHARï¼Œå‰‡ JDBC é©…å‹•ç¨‹åºå°‡æŠŠ VARCHAR è½‰æ›æˆ Java Stringã€‚getString çš„è¿”å›å€¼å°‡ç‚º Java String å°è±¡ã€‚</p><p>â‘£. NULL çµæœå€¼</p><p>è¦ç¢ºå®šçµ¦å®šçµæœå€¼æ˜¯å¦æ˜¯ JDBC NULLï¼Œå¿…é ˆå…ˆè®€å–è©²åˆ—ï¼Œç„¶å¾Œä½¿ç”¨ ResultSet.wasNull æ–¹æ³•æª¢æŸ¥è©²æ¬¡è®€å–æ˜¯å¦è¿”å› JDBC NULLã€‚</p><p><strong>PreparedStatement</strong>ï¼š</p><p>è©² PreparedStatement æ¥å£ç¹¼æ‰¿ Statementï¼Œä¸¦èˆ‡ä¹‹åœ¨å…©æ–¹é¢æœ‰æ‰€ä¸åŒï¼š</p><p>PreparedStatement å¯¦ä¾‹åŒ…å«å·²ç·¨è­¯çš„ SQL èªå¥ã€‚é€™å°±æ˜¯ä½¿èªå¥â€œæº–å‚™å¥½â€ã€‚ åŒ…å«æ–¼ PreparedStatement å°è±¡ä¸­çš„ SQL èªå¥å¯å…·æœ‰ä¸€å€‹æˆ–å¤šå€‹ IN åƒæ•¸ã€‚IN åƒæ•¸çš„å€¼åœ¨ SQL èªå¥å‰µå»ºæ™‚æœªè¢«æŒ‡å®šã€‚ç›¸åçš„ï¼Œè©²èªå¥ç‚ºæ¯å€‹ IN åƒæ•¸ä¿ç•™ä¸€å€‹å•è™Ÿï¼ˆâ€œï¼Ÿâ€ï¼‰ä½œç‚ºä½”ä½ç¬¦ã€‚æ¯å€‹å•è™Ÿçš„å€¼å¿…é ˆåœ¨è©²èªå¥åŸ·è¡Œä¹‹å‰ï¼Œé€šéé©ç•¶çš„ setXXX æ–¹æ³•ä¾†æä¾›ã€‚</p><p>ç”±æ–¼ PreparedStatement å°è±¡å·²é ç·¨è­¯éï¼Œæ‰€ä»¥å…¶åŸ·è¡Œé€Ÿåº¦è¦å¿«æ–¼ Statement å°è±¡ã€‚å› æ­¤ï¼Œå¤šæ¬¡åŸ·è¡Œçš„ SQL èªå¥ç¶“å¸¸å‰µå»ºç‚º PreparedStatement å°è±¡ï¼Œä»¥æé«˜æ•ˆç‡ã€‚</p><p>ä½œç‚º Statement çš„å­é¡ï¼ŒPreparedStatement ç¹¼æ‰¿äº† Statement çš„æ‰€æœ‰åŠŸèƒ½ã€‚å¦å¤–å®ƒé‚„æ·»åŠ äº†ä¸€æ•´å¥—æ–¹æ³•ï¼Œç”¨æ–¼è¨­ç½®ç™¼é€çµ¦æ•¸æ“šåº«ä»¥å–ä»£ IN åƒæ•¸ä½”ä½ç¬¦çš„å€¼ã€‚åŒæ™‚ï¼Œä¸‰ç¨®æ–¹æ³• executeã€ executeQuery å’Œ executeUpdate å·²è¢«æ›´æ”¹ä»¥ä½¿ä¹‹ä¸å†éœ€è¦åƒæ•¸ã€‚</p><p>â‘ . å‰µå»º PreparedStatement å°è±¡</p><p>ä»¥ä¸‹çš„ä»£ç¢¼æ®µï¼ˆå…¶ä¸­ conn æ˜¯ Connection å°è±¡ï¼‰å‰µå»ºåŒ…å«å¸¶å…©å€‹ IN åƒæ•¸ä½”ä½ç¬¦çš„ SQL èªå¥çš„ PreparedStatement å°è±¡ï¼š</p><pre><code>PreparedStatement pstmt=conn.prepareStatement("UPDATE table1 SET a = ? WHERE b = ?");</code></pre><p>pstmt å°è±¡åŒ…å«èªå¥ " UPDATE table1 SET a = ? WHERE b = ?"ï¼Œå®ƒå·²ç™¼é€çµ¦ DBMSï¼Œä½µç‚ºåŸ·è¡Œä½œå¥½äº†æº–å‚™ã€‚</p><p>â‘¡. å‚³é IN åƒæ•¸</p><p>åœ¨åŸ·è¡Œ PreparedStatement å°è±¡ä¹‹å‰ï¼Œå¿…é ˆè¨­ç½®æ¯å€‹ ? åƒæ•¸çš„å€¼ã€‚é€™å¯é€šéèª¿ç”¨ setXXX æ–¹æ³•ä¾†å®Œæˆï¼Œå…¶ä¸­ XXX æ˜¯èˆ‡è©²åƒæ•¸ç›¸æ‡‰çš„é¡å‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåƒæ•¸å…·æœ‰ Java é¡å‹ longï¼Œå‰‡ä½¿ç”¨çš„æ–¹æ³•å°±æ˜¯ setLongã€‚setXXX æ–¹æ³•çš„ç¬¬ä¸€å€‹åƒæ•¸æ˜¯è¦è¨­ç½®çš„åƒæ•¸çš„åºæ•¸ä½ç½®ï¼Œç¬¬äºŒå€‹åƒæ•¸æ˜¯è¨­ç½®çµ¦è©²åƒæ•¸çš„å€¼ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç¢¼å°‡ç¬¬ä¸€å€‹åƒæ•¸è¨­ç‚º 123456789ï¼Œç¬¬äºŒå€‹åƒæ•¸è¨­ç‚º 100000000ï¼š</p><pre><code>pstmt.setLong(1, 123456789);pstmt.setLong(2, 100000000);CallableStatement:</code></pre><p>CallableStatement å°è±¡ç‚ºæ‰€æœ‰çš„ DBMS æä¾›äº†ä¸€ç¨®ä»¥æ¨™æº–å½¢å¼èª¿ç”¨å·²å„²å­˜éç¨‹(ä¹Ÿå°±æ˜¯ï¼³ï¼°)çš„æ–¹æ³•ã€‚å·²å„²å­˜éç¨‹å„²å­˜åœ¨æ•¸æ“šåº«ä¸­ã€‚å°å·²å„²å­˜éç¨‹çš„èª¿ç”¨æ˜¯ CallableStatement å°è±¡æ‰€å«çš„å…§å®¹ã€‚æœ‰å…©ç¨®å½¢å¼ï¼šä¸€ç¨®å½¢å¼å¸¶çµæœåƒæ•¸ï¼Œå¦ä¸€ç¨®å½¢å¼ä¸å¸¶çµæœåƒæ•¸ã€‚çµæœåƒæ•¸æ˜¯ä¸€ç¨®è¼¸å‡º (OUT) åƒæ•¸ï¼Œæ˜¯å·²å„²å­˜éç¨‹çš„è¿”å›å€¼ã€‚å…©ç¨®å½¢å¼éƒ½å¯å¸¶æœ‰æ•¸é‡å¯è®Šçš„è¼¸å…¥ï¼ˆIN åƒæ•¸ï¼‰ã€è¼¸å‡ºï¼ˆOUT åƒæ•¸ï¼‰æˆ–è¼¸å…¥å’Œè¼¸å‡ºï¼ˆINOUT åƒæ•¸ï¼‰çš„åƒæ•¸ã€‚å•è™Ÿå°‡ç”¨ä½œåƒæ•¸çš„ä½”ä½ç¬¦ã€‚</p><p>åœ¨ JDBC ä¸­èª¿ç”¨å·²å„²å­˜éç¨‹çš„èªæ³•å¦‚ä¸‹æ‰€ç¤ºã€‚æ³¨æ„ï¼Œæ–¹æ‹¬è™Ÿè¡¨ç¤ºå…¶é–“çš„å…§å®¹æ˜¯å¯é¸é …ï¼›æ–¹æ‹¬è™Ÿæœ¬èº«ä¸¦ä¸æ˜¯èªæ³•çš„çµ„æˆéƒ¨ä»½ã€‚</p><pre><code>{call éç¨‹å[(?, ?, ...)]}</code></pre><p>è¿”å›çµæœåƒæ•¸çš„éç¨‹çš„èªæ³•ç‚ºï¼š</p><pre><code>{? = call éç¨‹å[(?, ?, ...)]}</code></pre><p>ä¸å¸¶åƒæ•¸çš„å·²å„²å­˜éç¨‹çš„èªæ³•é¡ä¼¼ï¼š</p><pre><code>{call éç¨‹å}</code></pre><p>é€šå¸¸ï¼Œå‰µå»º CallableStatement å°è±¡çš„äººæ‡‰ç•¶çŸ¥é“æ‰€ç”¨çš„ DBMS æ˜¯æ”¯æŒå·²å„²å­˜éç¨‹çš„ï¼Œä¸¦ä¸”çŸ¥é“é€™äº›éç¨‹éƒ½æ˜¯äº›ä»€éº¼ã€‚ç„¶è€Œï¼Œå¦‚æœéœ€è¦æª¢æŸ¥ï¼Œå¤šç¨® DatabaseMetaData æ–¹æ³•éƒ½å¯ä»¥æä¾›é€™æ¨£çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ DBMS æ”¯æŒå·²å„²å­˜éç¨‹çš„èª¿ç”¨ï¼Œå‰‡ supportsStoredProcedures æ–¹æ³•å°‡è¿”å› trueï¼Œè€Œ getProcedures æ–¹æ³•å°‡è¿”å›å°å·²å„²å­˜éç¨‹çš„æè¿°ã€‚</p><p>CallableStatement ç¹¼æ‰¿ Statement çš„æ–¹æ³•ï¼ˆå®ƒå€‘ç”¨æ–¼è™•ç†ä¸€èˆ¬çš„ SQL èªå¥ï¼‰ï¼Œé‚„ç¹¼æ‰¿äº† PreparedStatement çš„æ–¹æ³•ï¼ˆå®ƒå€‘ç”¨æ–¼è™•ç† IN åƒæ•¸ï¼‰ã€‚CallableStatement ä¸­å®šç¾©çš„æ‰€æœ‰æ–¹æ³•éƒ½ç”¨æ–¼è™•ç† OUT åƒæ•¸æˆ– INOUT åƒæ•¸çš„è¼¸å‡ºéƒ¨åˆ†ï¼šè¨»å†Š OUT åƒæ•¸çš„ JDBC é¡å‹ï¼ˆä¸€èˆ¬ SQL é¡å‹ï¼‰ã€å¾é€™äº›åƒæ•¸ä¸­æª¢ç´¢çµæœï¼Œæˆ–è€…æª¢æŸ¥æ‰€è¿”å›çš„å€¼æ˜¯å¦ç‚º JDBC NULLã€‚</p><p>â‘¢. å‰µå»º CallableStatement å°è±¡</p><p>CallableStatement å°è±¡æ˜¯ç”¨ Connection æ–¹æ³• prepareCall å‰µå»ºçš„ã€‚ä¸‹ä¾‹å‰µå»º CallableStatement çš„å¯¦ä¾‹ï¼Œå…¶ä¸­å«æœ‰å°å·²å„²å­˜éç¨‹ Csc_ GetCustomIdèª¿ç”¨ã€‚è©²éç¨‹æœ‰å…©å€‹è®Šé‡ï¼Œä½†ä¸å«çµæœåƒæ•¸ï¼š</p><pre><code>CallableStatement cstmt = con.prepareCall("{call CSC_GetCustomId (?, ?, ?)}");</code></pre><p>å…¶ä¸­ ? ä½”ä½ç¬¦ç‚º INã€ OUT é‚„æ˜¯ INOUT åƒæ•¸ï¼Œå–æ±ºæ–¼å·²å„²å­˜éç¨‹ Csc_ GetCustomIdã€‚</p><p>â‘£. IN å’Œ OUT åƒæ•¸</p><p>å°‡IN åƒæ•¸å‚³çµ¦ CallableStatement å°è±¡æ˜¯é€šé setXXX æ–¹æ³•å®Œæˆçš„ã€‚è©²æ–¹æ³•ç¹¼æ‰¿è‡ª PreparedStatementã€‚æ‰€å‚³å…¥åƒæ•¸çš„é¡å‹æ±ºå®šäº†æ‰€ç”¨çš„ setXXX æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼Œç”¨ setFloat ä¾†å‚³å…¥ float å€¼ç­‰ï¼‰ã€‚</p><p>å¦‚æœå·²å„²å­˜éç¨‹è¿”å› OUT åƒæ•¸ï¼Œå‰‡åœ¨åŸ·è¡Œ CallableStatement å°è±¡ä»¥å‰å¿…é ˆå…ˆè¨»å†Šæ¯å€‹ OUT åƒæ•¸çš„ JDBC é¡å‹ï¼ˆé€™æ˜¯å¿…éœ€çš„ï¼Œå› ç‚ºæŸäº› DBMS è¦æ±‚ JDBC é¡å‹ï¼‰ã€‚è¨»å†Š JDBC é¡å‹æ˜¯ç”¨ registerOutParameter æ–¹æ³•ä¾†å®Œæˆçš„ã€‚èªå¥åŸ·è¡Œå®Œå¾Œï¼ŒCallableStatement çš„ getXXX æ–¹æ³•å°‡å–å›åƒæ•¸å€¼ã€‚æ­£ç¢ºçš„ getXXX æ–¹æ³•æ˜¯ç‚ºå„åƒæ•¸æ‰€è¨»å†Šçš„ JDBC é¡å‹æ‰€å°æ‡‰çš„ Java é¡å‹ä¹Ÿå°±æ˜¯èªªï¼Œ registerOutParameter ä½¿ç”¨çš„æ˜¯ JDBC é¡å‹ï¼ˆå› æ­¤å®ƒèˆ‡æ•¸æ“šåº«è¿”å›çš„ JDBC é¡å‹åŒ¹é…ï¼‰ï¼Œè€Œ getXXX å°‡ä¹‹è½‰æ›ç‚º Java é¡å‹ã€‚ä¸‹é¢çµ¦å‡ºCSCä¸­çš„ä¸€å€‹ä¾‹å­ï¼š</p><pre><code>String sqlSp = "{call CSC_GetCustomId(?, ?, ?)}";cstmt = conn.prepareCall(sqlSp.toString());cstmt.registerOutParameter(1, Types.NUMERIC);cstmt.registerOutParameter(2, Types.NUMERIC);cstmt.registerOutParameter(3, Types.VARcHAR);cstmt.execute();long customerID = cstmt.getlong(1);long lRet = cstmt.getlong(2);String sErr = cstmt.getString(3);</code></pre><p>â‘¤. INOUT åƒæ•¸</p><p>æ—¢æ”¯æŒè¼¸å…¥åˆæ¥å—è¼¸å‡ºçš„åƒæ•¸ï¼ˆINOUT åƒæ•¸ï¼‰é™¤äº†èª¿ç”¨ registerOutParameter æ–¹æ³•å¤–ï¼Œé‚„è¦æ±‚èª¿ç”¨é©ç•¶çš„ setXXX æ–¹æ³•ï¼ˆè©²æ–¹æ³•æ˜¯å¾ PreparedStatement ç¹¼æ‰¿ä¾†çš„ï¼‰ã€‚setXXX æ–¹æ³•å°‡åƒæ•¸å€¼è¨­ç½®ç‚ºè¼¸å…¥åƒæ•¸ï¼Œè€Œ registerOutParameter æ–¹æ³•å°‡å®ƒçš„ JDBC é¡å‹è¨»å†Šç‚ºè¼¸å‡ºåƒæ•¸ã€‚setXXX æ–¹æ³•æä¾›ä¸€å€‹ Java å€¼ï¼Œè€Œé©…å‹•ç¨‹åºå…ˆæŠŠé€™å€‹å€¼è½‰æ›ç‚º JDBC å€¼ï¼Œç„¶å¾Œå°‡å®ƒé€åˆ°æ•¸æ“šåº«ä¸­ã€‚é€™ç¨® IN å€¼çš„ JDBC é¡å‹å’Œæä¾›çµ¦ registerOutParameter æ–¹æ³•çš„ JDBC é¡å‹æ‡‰è©²ç›¸åŒã€‚ç„¶å¾Œï¼Œè¦æª¢ç´¢è¼¸å‡ºå€¼ï¼Œå°±è¦ç”¨å°æ‡‰çš„ getXXX æ–¹æ³•ã€‚ä¾‹å¦‚ï¼ŒJava é¡å‹ç‚º byte çš„åƒæ•¸æ‡‰è©²ä½¿ç”¨æ–¹æ³• setByte ä¾†è³¦è¼¸å…¥å€¼ã€‚æ‡‰è©²çµ¦ registerOutParameter æä¾›é¡å‹ç‚º TINYINT çš„ JDBC é¡å‹ï¼ŒåŒæ™‚æ‡‰ä½¿ç”¨ getByte ä¾†æª¢ç´¢è¼¸å‡ºå€¼ã€‚ä¸‹ä¾‹å‡è¨­æœ‰ä¸€å€‹å·²å„²å­˜éç¨‹ reviseTotalï¼Œå…¶å”¯ä¸€åƒæ•¸æ˜¯ INOUT åƒæ•¸ã€‚æ–¹æ³• setByte æŠŠæ­¤åƒæ•¸è¨­ç‚º 25ï¼Œé©…å‹•ç¨‹åºå°‡æŠŠå®ƒä½œç‚º JDBC TINYINT é¡å‹é€åˆ°æ•¸æ“šåº«ä¸­ã€‚æ¥è‘—ï¼ŒregisterOutParameter å°‡è©²åƒæ•¸è¨»å†Šç‚º JDBC TINYINTã€‚åŸ·è¡Œå®Œè©²å·²å„²å­˜éç¨‹å¾Œï¼Œå°‡è¿”å›ä¸€å€‹æ–°çš„ JDBC TINYINT å€¼ã€‚æ–¹æ³• getByte å°‡æŠŠé€™å€‹æ–°å€¼ä½œç‚º Java byte é¡å‹æª¢ç´¢ã€‚</p><pre><code>CallableStatement cstmt = con.prepareCall("{call reviseTotal(?)}");cstmt.setbyte(1, 25);cstmt.registerOutParameter(1, java.sql.Types.TINYiNT);cstmt.executeUpdate();byte x = cstmt.getbyte(1);</code></pre><p><br></p><div class=pgc-img><img alt=Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ§‹å¸«çš„å…©è¬å­—ç¸½çµ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/38e2b4ed-dac9-42c6-b3f4-2a650215eb2c><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>åä¸€ã€å¸¸ç”¨è¨­è¨ˆæ¨¡å¼</h1><p><strong>10.1 Singletonæ¨¡å¼</strong></p><p>Singletonæ¨¡å¼ä¸»è¦ä½œç”¨æ˜¯ä¿è­‰åœ¨Javaæ‡‰ç”¨ç¨‹åºä¸­ï¼Œä¸€å€‹Classåªæœ‰ä¸€å€‹å¯¦ä¾‹å­˜åœ¨ã€‚ä¸€èˆ¬æœ‰å…©ç¨®æ–¹æ³•ï¼š</p><p>â‘ . å®šç¾©ä¸€å€‹é¡ï¼Œå®ƒçš„æ§‹é€ å‡½æ•¸ç‚ºprivateçš„ï¼Œæ‰€æœ‰æ–¹æ³•ç‚ºstaticçš„ã€‚å…¶ä»–é¡å°å®ƒçš„å¼•ç”¨å…¨éƒ¨æ˜¯é€šéé¡åç›´æ¥å¼•ç”¨ã€‚ä¾‹å¦‚ï¼š</p><pre><code>private SingleClass() {}public static String getMethod1() {}public static ArrayList getMethod2() {}</code></pre><p>â‘¡. å®šç¾©ä¸€å€‹é¡ï¼Œå®ƒçš„æ§‹é€ å‡½æ•¸ç‚ºprivateçš„ï¼Œå®ƒæœ‰ä¸€å€‹staticçš„privateçš„è©²é¡è®Šé‡ï¼Œé€šéä¸€å€‹publicçš„getInstanceæ–¹æ³•ç²å–å°å®ƒçš„å¼•ç”¨,ç¹¼è€Œèª¿ç”¨å…¶ä¸­çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p><pre><code>private staitc SingleClass _instance = null;private SingleClass() {}public static SingleClass getInstance() {	if (_instance == null) {		_instance = new SingleClass();	}	return _instance;}public String getMethod1() {}public ArrayList getMethod2() {}</code></pre><p><strong>10.2 Prototypeæ¨¡å¼</strong></p><p>Prototypeæ¨¡å¼ç”¨æ–¼å‰µå»ºå°è±¡ï¼Œå°¤å…¶æ˜¯ç•¶å‰µå»ºå°è±¡éœ€è¦è¨±å¤šæ™‚é–“å’Œè³‡æºæ™‚ã€‚åœ¨Javaä¸­ï¼ŒPrototypeæ¨¡å¼çš„å¯¦ç¾æ˜¯é€šéæ–¹æ³•clone(),è©²æ–¹æ³•å®šç¾©åœ¨Javaçš„æ ¹å°è±¡Objectä¸­, å› æ­¤ï¼ŒJavaä¸­çš„å…¶ä»–å°è±¡åªè¦è¦†è“‹å®ƒå°±è¡Œäº†ã€‚é€šéclone(),æˆ‘å€‘å¯ä»¥å¾ä¸€å€‹å°è±¡ç²å¾—æ›´å¤šçš„å°è±¡ï¼Œ</p><p>ä¸¦è«‹å¯ä»¥æŒ‰ç…§æˆ‘å€‘çš„éœ€è¦ä¿®æ”¹ä»–å€‘çš„å±¬æ€§ã€‚</p><pre><code>public class Prototype implements Cloneable {	private String Name;	public rototype(String Name) {		this.Name = Name;	}	public void setName(String Name) {		this.Name = Name;	}	public String getName() {		return Name;	}	public Object clone() {		try{			return super.clone();		}		catch(CloneNotSupportedException cnse){			cnse.printStackTrace();			return null;		}	}}Prototype p = new Prototype("My First Name");Prototype p1 = p.clone();p.setName("My Second Name");Prototype p2 = p.clone();</code></pre><p><strong>10.3 Factoryæ¨¡å¼å’ŒAbstract Factoryæ¨¡å¼</strong></p><p>â‘ . Factoryæ¨¡å¼</p><p>åˆ©ç”¨çµ¦Factoryå°è±¡å‚³éä¸åŒçš„åƒæ•¸ï¼Œä»¥è¿”å›å…·æœ‰ç›¸åŒåŸºé¡æˆ–å¯¦ç¾äº†åŒä¸€æ¥å£çš„å°è±¡ã€‚</p><p>â‘¡. Abstract Factoryæ¨¡å¼</p><p>å…ˆåˆ©ç”¨Factoryæ¨¡å¼è¿”å›Factoryå°è±¡ï¼Œåœ¨é€šéFactoryå°è±¡è¿”å›ä¸åŒçš„å°è±¡ï¼</p><p>ä¸‹é¢çµ¦å‡ºSun XML Parserä¸­çš„ä¾‹å­ï¼š</p><pre><code>// 1. Abstract Factoryæ¨¡å¼SAXParserFactory spf = SAXParserFactory.newInstance();String validation = System.getProperty ("javax.xml.parsers.validation", "false");if (validation.equalsIgnoreCase("true")) {	spf.setValidating (true);}// 2. Factoryæ¨¡å¼SAXParser sp = spf.newSAXParser();parser = sp.getParser();parser.setDocumentHandler(this);parser.parse (uri);</code></pre><ol start=1><li>SAXParserFactoryä¸­çš„éœæ…‹æ–¹æ³•newInstance()æ ¹æ“šç³»çµ±å±¬æ€§javax.xml.parsers.SAXParserFactoryä¸åŒçš„å€¼ç”Ÿæˆä¸åŒçš„SAXParserFactoryå°è±¡spfã€‚ç„¶å¾ŒSAXParserFactoryå°è±¡åˆåˆ©ç”¨æ–¹æ³•newSAXParser()ç”ŸæˆSAXParserå°è±¡ã€‚</li></ol><p>æ³¨æ„ï¼š</p><p>SAXParserFactory çš„å®šç¾©ç‚ºï¼š</p><pre><code>public abstract class SAXParserFactory extends java.lang.Object</code></pre><p>SAXParserFactoryImpl çš„å®šç¾©ç‚ºï¼š</p><pre><code>public class SAXParserFactoryImpl extends javax.xml.parsers.SAXParserFactorypublic static SAXParserFactory newInstance() {	String factoryImplName = null;	try {		factoryImplName =System.getProperty("javax.xml.parsers.SAXParserFactory",								"com.sun.xml.parser.SAXParserFactoryImpl");	}	catch (SecurityException se) {		factoryImplName = "com.sun.xml.parser.SAXParserFactoryImpl";	}	SAXParserFactory factoryImpl;	try {		Class clazz = Class.forName(factoryImplName);		factoryImpl = (SAXParserFactory) clazz.newInstance();	}	catch (ClassNotFoundException cnfe) {		throw new FactoryConfigurationError(cnfe);	}	catch (IllegalAccessException iae) {		throw new FactoryConfigurationError(iae);	}	catch (InstantiationException ie) {		throw new FactoryConfigurationError(ie);	}	return factoryImpl;}</code></pre><ol start=2><li>newSAXParser() æ–¹æ³•åœ¨SAXParserFactoryå®šç¾©ç‚ºæŠ½è±¡æ–¹æ³•ï¼Œ</li></ol><p>SAXParserFactoryImplç¹¼æ‰¿äº†SAXParserFactoryï¼Œå®ƒå¯¦ç¾äº†æ–¹æ³•newSAXParser()ï¼š</p><pre><code>public SAXParser newSAXParser()throws SAXException, ParserConfigurationException {	SAXParserImpl saxParserImpl = new SAXParserImpl(this);	return saxParserImpl;}</code></pre><p>æ³¨æ„ï¼š</p><p>SAXParserImplçš„å®šç¾©ç‚ºï¼š</p><pre><code>public class SAXParserImpl extends javax.xml.parsers.SAXParser</code></pre><p>SAXParserImplçš„æ§‹é€ å‡½æ•¸å®šç¾©ç‚ºï¼š</p><pre><code>public SAXParserImpl(SAXParserFactory spf)throws SAXException, ParserConfigurationException {	super();	this.spf = spf;	if (spf.isValidating ()) {		parser = new ValidatingParser();		validating = true;	} else {		parser = new Parser();	}	if (spf.isNamespaceAware ()) {		namespaceAware = true;		throw new ParserConfigurationException(		"Namespace not supported by SAXParser");	}}</code></pre><h1 class=pgc-h-arrow-right>å¯«åœ¨æœ€å¾Œï¼š</h1><ul><li><strong>é‡å°æ–¼Javaç¨‹åºå“¡ï¼Œç­†è€…æœ€è¿‘æ•´ç†äº†ä¸€äº›é¢è©¦çœŸé¡Œï¼Œæ€ç¶­å°åœ–ï¼Œç¨‹åºäººç”Ÿç­‰PDFå­¸ç¿’è³‡æ–™ï¼›</strong></li><li><strong>é—œæ³¨ç§ä¿¡æˆ‘"86"ï¼Œå³å¯ç²å–ï¼</strong></li><li><strong>å¸Œæœ›è®€åˆ°é€™çš„æ‚¨èƒ½é»å€‹å°è´Šå’Œé—œæ³¨ä¸‹æˆ‘ï¼Œä»¥å¾Œé‚„æœƒæ›´æ–°æŠ€è¡“ä¹¾è²¨ï¼Œè¬è¬æ‚¨çš„æ”¯æŒï¼</strong></li></ul><div class=pgc-img><img alt=Javaä¸­å¸¸ç”¨çš„APIâ€”â€”é˜¿é‡Œæ¶æ§‹å¸«çš„å…©è¬å­—ç¸½çµ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fd2fab2ea6e84ee2827fcbbbb89fe2d6><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Java</a></li><li><a>API</a></li><li><a>æ§‹å¸«</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/8b2f4f92.html alt="Java - æ—¥æœŸæ™‚é–“API" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8b2f4f92.html title="Java - æ—¥æœŸæ™‚é–“API">Java - æ—¥æœŸæ™‚é–“API</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f2b89270.html alt="ç¹¼Java APIä¹‹å¾Œè°·æ­ŒMap APIè¢«è¨´ä¾µæ¬Š" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/93cccb8ab813488f9355335120e11164 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f2b89270.html title="ç¹¼Java APIä¹‹å¾Œè°·æ­ŒMap APIè¢«è¨´ä¾µæ¬Š">ç¹¼Java APIä¹‹å¾Œè°·æ­ŒMap APIè¢«è¨´ä¾µæ¬Š</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/48ba24d7.html alt=æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/3c5e0002a8059c1311aa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/48ba24d7.html title=æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£>æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b8bda645.html alt=ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b471807e699b44c2b1dedc580ea3f3af style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b8bda645.html title=ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£>ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/816b04b7.html alt=å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/816b04b7.html title=å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ†>å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html alt="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9d3b0e55813d46b4982ae7d9b81d1802 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html title="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½">Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/12498348.html alt="Java ç·¨è­¯æ™‚å¤šæ…‹å’Œé‹è¡Œæ™‚å¤šæ…‹" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1531535784468c357213ffe style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/12498348.html title="Java ç·¨è­¯æ™‚å¤šæ…‹å’Œé‹è¡Œæ™‚å¤šæ…‹">Java ç·¨è­¯æ™‚å¤šæ…‹å’Œé‹è¡Œæ™‚å¤šæ…‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d60e504d.html alt=JavaåŸºç¤ä¹‹å¤šæ…‹ï¼Œå‹•æ…‹ç¶å®šå¤šæ…‹çš„ä»£ç¢¼æ¡ˆä¾‹ï¼Œç°¡å–®å»å¾ˆé‡è¦ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ab338c7287fe4649a96227987579c844 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d60e504d.html title=JavaåŸºç¤ä¹‹å¤šæ…‹ï¼Œå‹•æ…‹ç¶å®šå¤šæ…‹çš„ä»£ç¢¼æ¡ˆä¾‹ï¼Œç°¡å–®å»å¾ˆé‡è¦>JavaåŸºç¤ä¹‹å¤šæ…‹ï¼Œå‹•æ…‹ç¶å®šå¤šæ…‹çš„ä»£ç¢¼æ¡ˆä¾‹ï¼Œç°¡å–®å»å¾ˆé‡è¦</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bb876e43.html alt=Javaç‰¹æ€§ä¹‹ä¸€ï¼šå¤šæ…‹è©³è§£ï¼Œå­¸javaä¸æ±‚äºº class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/39a700034bab2e1401a3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bb876e43.html title=Javaç‰¹æ€§ä¹‹ä¸€ï¼šå¤šæ…‹è©³è§£ï¼Œå­¸javaä¸æ±‚äºº>Javaç‰¹æ€§ä¹‹ä¸€ï¼šå¤šæ…‹è©³è§£ï¼Œå­¸javaä¸æ±‚äºº</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/234d55fa.html alt=Javaé–‹ç™¼èª²ç¨‹ï¼ˆåï¼‰â€”â€”é¢å‘å°è±¡5ã€å¤šæ…‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/df3621e51e4242fd90731dd013472f12 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/234d55fa.html title=Javaé–‹ç™¼èª²ç¨‹ï¼ˆåï¼‰â€”â€”é¢å‘å°è±¡5ã€å¤šæ…‹>Javaé–‹ç™¼èª²ç¨‹ï¼ˆåï¼‰â€”â€”é¢å‘å°è±¡5ã€å¤šæ…‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/96d2083b.html alt=ã€ŒJavaä¸‰åˆ†é˜ã€Javaä¸‰å¤§ç‰¹æ€§â€”â€”å¤šæ…‹ç†è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/6a9b8965-0a4c-4cb4-9389-6cbbda0e9d93 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/96d2083b.html title=ã€ŒJavaä¸‰åˆ†é˜ã€Javaä¸‰å¤§ç‰¹æ€§â€”â€”å¤šæ…‹ç†è§£>ã€ŒJavaä¸‰åˆ†é˜ã€Javaä¸‰å¤§ç‰¹æ€§â€”â€”å¤šæ…‹ç†è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b96b5bf9.html alt=å¦‚ä½•æ­£ç¢ºèªè­˜Javaå¤šæ…‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d2896b2f39694d39957b901a62cfe7fb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b96b5bf9.html title=å¦‚ä½•æ­£ç¢ºèªè­˜Javaå¤šæ…‹>å¦‚ä½•æ­£ç¢ºèªè­˜Javaå¤šæ…‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8a7023ee.html alt="Java å¸¸è¦‹çš„49å€‹éŒ¯èª¤åŠé¿å…æ–¹æ³•ï¼ç¿»è­¯ä½œæ¥­ï¼šç¢¼è¾²ç¶²-å°å³°" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/3c5a0001a9e3fd1b8a13 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8a7023ee.html title="Java å¸¸è¦‹çš„49å€‹éŒ¯èª¤åŠé¿å…æ–¹æ³•ï¼ç¿»è­¯ä½œæ¥­ï¼šç¢¼è¾²ç¶²-å°å³°">Java å¸¸è¦‹çš„49å€‹éŒ¯èª¤åŠé¿å…æ–¹æ³•ï¼ç¿»è­¯ä½œæ¥­ï¼šç¢¼è¾²ç¶²-å°å³°</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/adc31f83.html alt=Javaé¢è©¦çŸ¥è­˜é»ç¸½çµâ‘¥â€”â€”ç®—æ³•èˆ‡æ•¸æ“šçµæ§‹_ä¸€é»èª²å ‚ï¼ˆå¤šå²¸å­¸é™¢ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/68ac43b98fa343f2874d08bacae73ee8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/adc31f83.html title=Javaé¢è©¦çŸ¥è­˜é»ç¸½çµâ‘¥â€”â€”ç®—æ³•èˆ‡æ•¸æ“šçµæ§‹_ä¸€é»èª²å ‚ï¼ˆå¤šå²¸å­¸é™¢ï¼‰>Javaé¢è©¦çŸ¥è­˜é»ç¸½çµâ‘¥â€”â€”ç®—æ³•èˆ‡æ•¸æ“šçµæ§‹_ä¸€é»èª²å ‚ï¼ˆå¤šå²¸å­¸é™¢ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8c21d419.html alt="æ·±å…¥ç†è§£ Java ä½µç™¼æ ¸å¿ƒæ©Ÿåˆ¶ï¼Œçœ‹å®Œå¾Œå¥½çˆ½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/832db421a3364a20a62c93127ea6e862 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8c21d419.html title="æ·±å…¥ç†è§£ Java ä½µç™¼æ ¸å¿ƒæ©Ÿåˆ¶ï¼Œçœ‹å®Œå¾Œå¥½çˆ½">æ·±å…¥ç†è§£ Java ä½µç™¼æ ¸å¿ƒæ©Ÿåˆ¶ï¼Œçœ‹å®Œå¾Œå¥½çˆ½</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>