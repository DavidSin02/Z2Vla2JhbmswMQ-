<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Qt編寫地圖綜合應用10-點聚合 | 极客快訊</title><meta property="og:title" content="Qt編寫地圖綜合應用10-點聚合 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/785649a9882e437fbc45505d4d9d70f0"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/164bbc4c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/164bbc4c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/164bbc4c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/164bbc4c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/164bbc4c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/164bbc4c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/164bbc4c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/164bbc4c.html><meta property="article:published_time" content="2020-10-29T21:10:09+08:00"><meta property="article:modified_time" content="2020-10-29T21:10:09+08:00"><meta name=Keywords content><meta name=description content="Qt編寫地圖綜合應用10-點聚合"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/164bbc4c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Qt編寫地圖綜合應用10-點聚合</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>## 一、前言</h1><p>點聚合在地圖相關應用中比較常用，比如在地圖上查詢結果通常以標記點的形式展現，但是如果標記點較多，不僅會大大增加客戶端的渲染時間，讓客戶端變得很卡，而且會讓人產生密集恐懼症，密密麻麻的一大堆點擠在一起。為了解決這一問題，我們需要一種手段能在用戶有限的可視區域範圍內，利用最小的區域展示出最全面的信息，而又不產生重疊覆蓋，這個東西專業名詞就叫點聚合，百度地圖內置了方法可以設置點聚合BMapLib.MarkerClusterer，注意這個方法在BMapLib中而不是在BMAP中，所以要使用點聚合的話需要引入這個MarkerClusterer_min.js類文件，不然是沒用的，這個很容易忽視，因為絕大部分類和方法都是在BMap中都有。</p><h1 class=pgc-h-arrow-right>## 二、功能特點</h1><p>1. 同時支持在線地圖和離線地圖兩種模式。</p><p>2. 同時支持webkit內核、webengine內核、IE內核。</p><p>3. 支持設置多個標註點，信息包括名稱、地址、經緯度。</p><p>4. 可設置地圖是否可單擊、拖動、鼠標滾輪縮放。</p><p>5. 可設置協議版本、祕鑰、主題樣式、中心座標、中心城市、地理編碼位置等。</p><p>6. 可設置地圖縮放比例和級別，縮略圖、比例尺、路況信息等控件的可見。</p><p>7. 支持地圖交互，比如鼠標按下獲取對應位置的經緯度。</p><p>8. 支持查詢路線，可設置起點位置、終點位置、路線模式、路線方式、路線方案（最少時間、最少換乘、最少步行、不乘地鐵、最短距離、避開高速）。</p><p>9. 可顯示點線面工具，可直接在地圖上劃線、點、矩形、圓形等。</p><p>10. 可設置行政區劃，指定某個城市區域繪製圖層，在線地圖自動輸出行政區劃邊界點集合到js文件給離線地圖使用。</p><p>11. 可靜態或者動態添加多個覆蓋物。支持點、折線、多邊形、矩形、圓形、弧線、點聚合等。</p><p>12. 函數接口友好和統一，使用簡單方便，就一個類。</p><p>13. 支持js動態交互添加點、刪除點、清空點、重置點，不需要刷新頁面。</p><p>14. 支持任意Qt版本、任意系統、任意編譯器。</p><h1 class=pgc-h-arrow-right>## 三、體驗地址</h1><p>國內站點：[https://gitee.com/feiyangqingyun](https://gitee.com/feiyangqingyun)</p><p>國際站點：[https://github.com/feiyangqingyun](https://github.com/feiyangqingyun)</p><h1 class=pgc-h-arrow-right>## 四、效果圖</h1><p><br></p><div class=pgc-img><img alt=Qt編寫地圖綜合應用10-點聚合 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/785649a9882e437fbc45505d4d9d70f0><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>## 五、相關代碼</h1><pre><code>void MapBaiDu::getMarkers(QStringList &amp;list){    //通用多個點座標轉換成 BMap.Marker 對象    //座標格式 121.414,31.1828|121.414,31.1838|121.416,31.1838    list &lt;&lt; QString("  function getMarkers(points) {");    list &lt;&lt; QString("    var markers = []");    list &lt;&lt; QString("    var listPoint = points.split(\"|\");");    list &lt;&lt; QString("    var len = listPoint.length");    list &lt;&lt; QString("    for (var i = 0; i &lt; len; i++) {");    list &lt;&lt; QString("      var list = listPoint[i].split(\",\");");    list &lt;&lt; QString("      var pot = new BMap.Point(list[0], list[1]);");    list &lt;&lt; QString("      var marker = new BMap.Marker(pot);");    list &lt;&lt; QString("      markers.push(marker);");    list &lt;&lt; QString("    }");    list &lt;&lt; QString("    return markers;");    list &lt;&lt; QString("  }");}void MapBaiDu::addMarkerClusterer(QStringList &amp;list){    list &lt;&lt; QString("  function addMarkerClusterer(points) {");    list &lt;&lt; QString("    var markers = getMarkers(points);");    //最簡單的用法,生成一個marker數組,然後調用markerClusterer類即可    list &lt;&lt; QString("    var markerClusterer = new BMapLib.MarkerClusterer(map, {markers:markers});");    list &lt;&lt; QString("  }");}</code></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Qt</a></li><li><a>編寫</a></li><li><a>地圖</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/9a1fcce7.html alt=編寫Qt多窗口程序 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/c1665b1735cf4018acf11459cc523a7d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9a1fcce7.html title=編寫Qt多窗口程序>編寫Qt多窗口程序</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/eacb57fb.html alt=Qt編寫數據可視化大屏界面電子看板12-數據庫採集 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/53f34eea12064020a881f5a7ebbc2b81 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/eacb57fb.html title=Qt編寫數據可視化大屏界面電子看板12-數據庫採集>Qt編寫數據可視化大屏界面電子看板12-數據庫採集</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7b76523f.html alt=杭州隱祕地圖之：螺螄沿過草橋門 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/777fcbb7c4fe4bf0a521486d2c1949e2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7b76523f.html title=杭州隱祕地圖之：螺螄沿過草橋門>杭州隱祕地圖之：螺螄沿過草橋門</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c197b413.html alt="8 個幫助你編寫可維護、精簡化前端代碼的 CSS 策略" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/53ee00030d3ef9916cbc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c197b413.html title="8 個幫助你編寫可維護、精簡化前端代碼的 CSS 策略">8 個幫助你編寫可維護、精簡化前端代碼的 CSS 策略</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e55a0be0.html alt=2019年中國高精度地圖行業競爭格局與發展趨勢，普及率將不斷提升 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/a8a98de6f7ea42fa8b75b4c09578d082 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e55a0be0.html title=2019年中國高精度地圖行業競爭格局與發展趨勢，普及率將不斷提升>2019年中國高精度地圖行業競爭格局與發展趨勢，普及率將不斷提升</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fb3fcb8a.html alt="51WORLD 與晶眾地圖戰略合作，打通自動駕駛仿真與高精地圖產業鏈" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/81ae40907bf646ce8503a97cdb50f67d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fb3fcb8a.html title="51WORLD 與晶眾地圖戰略合作，打通自動駕駛仿真與高精地圖產業鏈">51WORLD 與晶眾地圖戰略合作，打通自動駕駛仿真與高精地圖產業鏈</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/252895c6.html alt=Facebook收購瑞典街道地圖數據庫Mapillary，或將應用於AR class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b19c83ea5f9046b0a58c90b599bd1f04 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/252895c6.html title=Facebook收購瑞典街道地圖數據庫Mapillary，或將應用於AR>Facebook收購瑞典街道地圖數據庫Mapillary，或將應用於AR</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bcb6f059.html alt="Global Mapper地圖繪製V20.0破解版軟件免費下載附安裝教程" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/72cd5259594e4393bac7ea7750dafffe style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bcb6f059.html title="Global Mapper地圖繪製V20.0破解版軟件免費下載附安裝教程">Global Mapper地圖繪製V20.0破解版軟件免費下載附安裝教程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fce48799.html alt="全能電子地圖下載器 居家旅行探險者的必備良伴" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/46de00053bf8149f959a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fce48799.html title="全能電子地圖下載器 居家旅行探險者的必備良伴">全能電子地圖下載器 居家旅行探險者的必備良伴</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/dbd1c5db.html alt=四萬字！谷歌地圖的神奇歷史全揭祕「上」 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/371357a8a0084a3493b7cee1027eb628 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/dbd1c5db.html title=四萬字！谷歌地圖的神奇歷史全揭祕「上」>四萬字！谷歌地圖的神奇歷史全揭祕「上」</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5ec31b3d.html alt="地圖初創公司 Mapbox 與微軟、ARM及英特爾達成合作，加碼無人駕駛地圖" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5ec31b3d.html title="地圖初創公司 Mapbox 與微軟、ARM及英特爾達成合作，加碼無人駕駛地圖">地圖初創公司 Mapbox 與微軟、ARM及英特爾達成合作，加碼無人駕駛地圖</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/363eeb57.html alt=基於NDS的全球化高精度地圖數據應用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/aae0e819283f42d28e196314448b867f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/363eeb57.html title=基於NDS的全球化高精度地圖數據應用>基於NDS的全球化高精度地圖數據應用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/35b693db.html alt=華為搞定地圖數據，海外業務即將起飛？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RoIHGBM1BEULf2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/35b693db.html title=華為搞定地圖數據，海外業務即將起飛？>華為搞定地圖數據，海外業務即將起飛？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9b5b42d7.html alt=高德“互聯網地圖”——行業跨界的產物 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9d64e26160494c8f855f2c2a95d5c663 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9b5b42d7.html title=高德“互聯網地圖”——行業跨界的產物>高德“互聯網地圖”——行業跨界的產物</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a6e440ca.html alt=高德地圖首席科學家任小楓：視覺智能在高德地圖的應用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/fc675732b19f49848d0c81fdf61b1f34 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a6e440ca.html title=高德地圖首席科學家任小楓：視覺智能在高德地圖的應用>高德地圖首席科學家任小楓：視覺智能在高德地圖的應用</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>