<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ | æå®¢å¿«è¨Š</title><meta property="og:title" content="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/Rf2kPw8IkWbqVk"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1932ce9.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1932ce9.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1932ce9.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1932ce9.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1932ce9.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1932ce9.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1932ce9.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1932ce9.html><meta property="article:published_time" content="2020-10-29T20:54:42+08:00"><meta property="article:modified_time" content="2020-10-29T20:54:42+08:00"><meta name=Keywords content><meta name=description content="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/1932ce9.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/Rf2kPw8IkWbqVk><p>ä½œè€… | éº¥æ´›_</p><p>è²¬ç·¨ | å¤•é¡</p><p>é ­åœ– | CSDNä»˜è²»ä¸‹è¼‰è‡ªè¦–è¦ºä¸­åœ‹</p><p>å‡ºå“ | CSDNåšå®¢</p><p><strong>å‰è¨€</strong></p><p>åœ¨å®˜ç¶²ä¸­ï¼Œæˆ‘å€‘ç™¼ç¾å®ƒçš„æ ¸å¿ƒæŠ€è¡“ä¹‹ä¸€ï¼šDependency Injectionï¼Œç°¡ç¨±ï¼šDI ,ç¿»è­¯éä¾†å°±æ˜¯ä¾è³´æ³¨å…¥ã€‚ä»Šå¤©æˆ‘å€‘å°±ä¾†ç›¤ä¸€ç›¤å®ƒã€‚</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/S0eL1K5GzxB7RA><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å€‘å°‡æ·±å…¥ç ”ç©¶ Spring æ¡†æ¶ DIèƒŒå¾Œçš„æ•…äº‹ï¼ŒåŒ…æ‹¬ Spring Inversion of Control(æ§åˆ¶åè½‰)ã€ DI å’Œ ApplicationContext æ¥å£ã€‚åŸºæ–¼é€™äº›åŸºæœ¬æ¦‚å¿µï¼Œæˆ‘å€‘å°‡ç ”ç©¶å¦‚ä½•ä½¿ç”¨åŸºæ–¼ java å’ŒåŸºæ–¼ XML çš„é…ç½®ä¾† å‰µå»ºSpring æ‡‰ç”¨ç¨‹åºã€‚æœ€å¾Œï¼Œæˆ‘å€‘å°‡æ¢è¨åœ¨å‰µå»º Spring æ‡‰ç”¨ç¨‹åºæ™‚é‡åˆ°çš„ä¸€äº›å¸¸è¦‹å•é¡Œï¼ŒåŒ…æ‹¬ beanè¡çªå’Œå¾ªç’°ä¾è³´æ€§ã€‚</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RT4Gwk56bt5iOJ><p><strong>æ§åˆ¶åè½‰(Inversion of Control)</strong></p><p>åœ¨å­¸ç¿’DIä¹‹å‰,æˆ‘å€‘å…ˆå­¸ç¿’ä¸€ä¸‹ IoCï¼ˆæ§åˆ¶åè½‰ï¼‰ï¼Œæ¥ä¸‹ä¾†çš„ä¸€æ®µå¯èƒ½è®€èµ·ä¾†æœƒè®“ä½ æ„Ÿè¦ºæ¯”è¼ƒå›‰å—¦,ä½†æ˜¯è¦ç´°ç´°é«”æœƒæ¯ä¸€æ¬¡æ”¹è®Šçš„æ„åœ–,å’Œæˆ‘å€‘çš„è§£æ±ºæ–¹æ¡ˆï¼Œå°æ–¼ç†è§£æ§åˆ¶åè½‰éå¸¸é‡è¦ã€‚</p><p>é¦–å…ˆä¾†äº†è§£ä¸‹æˆ‘å€‘é€šå¸¸å¯¦ä¾‹åŒ–ä¸€å€‹å°è±¡çš„æ–¹å¼ã€‚åœ¨ å¹³æ™‚ï¼Œæˆ‘å€‘ä½¿ç”¨ new é—œéµå­—å¯¦ä¾‹åŒ–ä¸€å€‹å°è±¡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€å€‹ Car é¡ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å¯¦ä¾‹åŒ–ä¸€å€‹å°è±¡ Car</p><pre><code>Car car = new Car;</code></pre><p>å› ç‚ºæ±½è»Šæœ‰å¾ˆå¤šé›¶éƒ¨ä»¶çµ„æˆ,æˆ‘å€‘å®šç¾©Engineæ¥å£ä¾†æ¨¡æ“¬æ±½è»Šå¼•æ“,ç„¶å¾Œå°‡engineå°è±¡ä½œç‚ºæˆå“¡è®Šé‡æ”¾åœ¨Caré¡</p><pre><code>public interface Engine {</code><code> void turnOn;</code><code>}</code><br><br><code>public class Car {</code><br><br><code> private Engine engine;</code><br><code> public Car {}</code><br><code> public void start {</code><br><br><code> engine.turnOn;</code><br><br><code> }</code><br><br><code>}</code></pre><p>ç¾åœ¨,æˆ‘å€‘å¯ä»¥èª¿ç”¨startæ–¹æ³•å—?é¡¯ç„¶æ˜¯ä¸è¡Œçš„,ä¸€çœ¼å¯ä»¥çœ‹å‡ºæœƒå ±PointerException (NPE)ï¼Œå› ç‚ºæˆ‘å€‘æ²’æœ‰åœ¨Carçš„æ§‹é€ å‡½æ•¸ä¸­åˆå§‹åŒ–engineã€‚é€šå¸¸æˆ‘å€‘æ¡ç”¨çš„æ–¹æ¡ˆå°±æ˜¯åœ¨Carçš„æ§‹é€ å‡½æ•¸ä¸­è¦ºå¾—ä½¿ç”¨Engineæ¥å£çš„å“ªå€‹å¯¦ç¾,ä¸¦ç›´æ¥å°‡è©²å¯¦ç¾åˆ†é…çµ¦engineå­—æ®µ;</p><p>ç¾åœ¨,æˆ‘å€‘ä¾†é¦–å…ˆå‰µå»ºEngineæ¥å£çš„å¯¦ç¾é¡ï¼š</p><pre><code>public class ElectricEngine implements Engine {</code><code> @Override</code><code> public void turnOn {</code><code> System.out.println("é›»å‹•å¼•æ“å•Ÿå‹•");</code><code> }</code><code>}</code><br><br><code>public class CombustionEngine implements Engine {</code><code> @Override</code><code> public void turnOn {</code><code> System.out.println("ç‡ƒæ²¹å¼•æ“å•Ÿå‹•");</code><code> }</code><code>}</code></pre><p>æˆ‘å€‘ä¿®æ”¹Carçš„æ§‹é€ å‡½æ•¸,ä½¿ç”¨ElectricEngineå¯¦ç¾,å°‡æˆ‘å€‘çš„engineå­—æ®µåˆ†é…çµ¦ä¸€å€‹å¯¦ä¾‹åŒ–çš„ElectricEngineå°è±¡ï¼š</p><pre><code>public class Car {</code><br><br><code> private Engine engine;</code><br><br><code> public Car {</code><code> this.engine = new ElectricEngine;</code><code> }</code><br><br><code> public void start {</code><br><br><code> engine.turnOn;</code><br><br><code> }</code><br><br><code> public static void main(String[] args) {</code><code> Car car = new Car;</code><code> car.start;</code><code> }</code><code>}</code></pre><p>ç¾åœ¨æˆ‘å€‘åŸ·è¡Œstartæ–¹æ³•,æˆ‘å€‘æœƒçœ‹åˆ°å¦‚ä¸‹è¼¸å‡º:</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/S0eL1KI2xym8uw><p>å¤§åŠŸå‘Šæˆ,æˆ‘å€‘æˆåŠŸè§£æ±ºäº† NPE(ç©ºæŒ‡é‡)å•é¡Œ,ä½†æ˜¯æˆ‘å€‘å‹åˆ©äº†å—?å“ˆå“ˆå“ˆ,é¡¯ç„¶æ²’æœ‰!</p><p>åœ¨è§£æ±ºå•é¡Œçš„åŒæ™‚,æˆ‘å€‘åˆå¼•å…¥äº†å¦ä¸€å€‹å•é¡Œã€‚å„˜ç®¡æˆ‘å€‘é€šéæŠ½è±¡Engineæ¥å£ï¼Œç„¶å¾Œé€šéä¸åŒçš„Engineå¯¦ç¾é¡ä¾†è² è²¬ä¸åŒé¡å‹å¼•æ“çš„æ¥­å‹™é‚è¼¯ï¼Œçš„ç¢ºæ˜¯å¾ˆå¥½çš„è¨­è¨ˆç­–ç•¥ã€‚ä½†æ˜¯ç´°å¿ƒçš„å¤¥ä¼´å¯èƒ½å·²ç¶“ç™¼ç¾äº†ï¼Œæˆ‘å€‘Caré¡çš„æ§‹é€ å‡½æ•¸ä¸­å°‡engineè²æ˜ç‚ºCombustionEngine,é€™å°‡å°è‡´æ‰€æœ‰è»Šéƒ½æœ‰ä¸€å€‹ç‡ƒæ²¹å¼•æ“ã€‚å‡å¦‚æˆ‘å€‘ç¾åœ¨è¦å‰µå»ºä¸åŒçš„æ±½è»Šå°è±¡ï¼Œå®ƒæœ‰ä¸€å€‹é›»å‹•å¼•æ“ï¼Œæˆ‘å€‘å°‡ä¸å¾—ä¸æ”¹è®Šæˆ‘å€‘çš„è¨­è¨ˆã€‚æ¯”è¼ƒå¸¸è¦‹çš„æ–¹æ³•æ˜¯å‰µå»ºå…©å€‹ç¨ç«‹è£¡çš„é¡ï¼Œå„å¸å…¶è·ï¼Œåœ¨ä»–å€‘çš„æ§‹é€ å‡½æ•¸ä¸­å°‡engineåˆ†é…çµ¦Engineæ¥å£çš„ä¸åŒå¯¦ç¾ï¼›</p><p>ä¾‹å¦‚:</p><pre><code>public class CombustionCar {</code><br><code> private Engine engine;</code><br><code> public CombustionCar {</code><code> this.engine = new CombustionEngine;</code><code> }</code><br><code> public void start {</code><code> engine.turnOn;</code><code> }</code><br><br><code>}</code><br><br><code>public class ElectricCar {</code><code> private Engine engine;</code><br><br><code> public ElectricCar {</code><code> this.engine = new ElectricEngine;</code><code> }</code><br><code> public void start {</code><code> engine.turnOn;</code><code> }</code><br><code>}</code></pre><p>é€šéä¸Šé¢çš„ä¸€é “é¨·æ“ä½œ,æˆ‘å€‘æˆåŠŸçš„è§£æ±ºäº†æˆ‘å€‘å¼•æ“çš„å•é¡Œã€‚å¦‚æœæ˜¯ä¸€å€‹æ—¥å¸¸éœ€æ±‚,æˆ‘å€‘å·²ç¶“å¯ä»¥æˆåŠŸäº¤å·¥äº†ã€‚ä½†æ˜¯é€™é¡¯ç„¶ä¸æ˜¯æˆ‘å¯«é€™ç¯‡æ–‡ç« çš„ç›®çš„ã€‚</p><p>å¾è¨­è¨ˆçš„è§’åº¦ä¾†èªªï¼Œç›®å‰çš„ä»£ç¢¼æ˜¯ç³Ÿç³•çš„ï¼Œæœ‰ä»¥ä¸‹å…©é»åŸå› ï¼š</p><ol><li><p>åœ¨å…©å€‹ä¸åŒçš„é¡ä¸­ï¼Œå­˜åœ¨é‡è¤‡çš„startæ–¹æ³•</p></li><li><p>æˆ‘å€‘éœ€è¦ç‚ºæ¯å€‹æ–°çš„Engine å¯¦ç¾é¡å‰µå»ºä¸€å€‹æ–°çš„é¡;</p></li></ol><p>å°¤å…¶å¾Œä¸€å€‹å•é¡Œæ›´åŠ é›£ä»¥è§£æ±º,å› ç‚ºæˆ‘å€‘ä¸æ§åˆ¶Engineçš„å¯¦ç¾,éš¨è‘—é–‹ç™¼äººå“¡ä¸æ–·çš„å‰µå»ºè‡ªå·±çš„å¯¦ç¾é¡,é€™å€‹å•é¡Œæœƒæ›´åŠ æƒ¡åŒ–;</p><p><strong>å¸¶è‘—ä¸Šé¢çš„å•é¡Œ,æˆ‘å€‘ç¹¼çºŒæ€è€ƒâ€¦</strong></p><p>æˆ‘å€‘å¯ä»¥å‰µå»ºä¸€å€‹çˆ¶é¡Car,å°‡å…¬å…±ä»£ç¢¼æŠ½å–åˆ°çˆ¶é¡ä¸­,å¯ä»¥è¼•é¬†è§£æ±ºç¬¬ä¸€å€‹å•é¡Œã€‚ç”±æ–¼Engineå­—æ®µæ˜¯ç§æœ‰çš„,æˆ‘å€‘åœ¨çˆ¶é¡Carçš„æ§‹é€ å‡½æ•¸ä¸­æ¥æ”¶Engineå°è±¡,ä¸¦ä¸”é€²è¡Œè³¦å€¼ã€‚</p><pre><code>public class Car {</code><br><br><code> private Engine engine;</code><br><br><code> public Car(Engine engine) {</code><code> this.engine = engine;</code><code> }</code><br><br><code> public void start {</code><code> engine.turnOn;</code><code> }</code><code>}</code><br><br><code>public class CombustionCar extends Car{</code><br><br><code> public CombustionCar {</code><code> super(new CombustionEngine);</code><code> }</code><br><br><code>}</code><br><br><code>public class ElectricCar extends Car {</code><br><br><code> public ElectricCar {</code><code> super(new ElectricEngine);</code><code> }</code><br><br><code>}</code></pre><p>é€šéé€™ç¨®æ–¹æ³•,æˆ‘å€‘æˆåŠŸçš„è§£æ±ºäº†ä»£ç¢¼é‡è¤‡çš„å•é¡Œ,æˆ‘å€‘ä¾†æ¸¬è©¦ä¸€ä¸‹:</p><pre><code>public class Car {</code><br><br><code> private Engine engine;</code><br><br><code> public Car(Engine engine) {</code><code> this.engine = engine;</code><code> }</code><br><br><code> public void start {</code><code> engine.turnOn;</code><code> }</code><br><br><code> public static void main(String[] args) {</code><br><br><code> CombustionCar combustionCar1 = new CombustionCar;</code><code> combustionCar1.start;</code><code> ElectricCar electricCar1 = new ElectricCar;</code><code> electricCar1.start;</code><code> }</code><code>}</code></pre><p><strong>é‚£éº¼æˆ‘å€‘è©²å¦‚ä½•è§£æ±ºæˆ‘å€‘æå‡ºçš„ç¬¬äºŒå€‹å•é¡Œå‘¢?</strong></p><p>å…¶å¯¦é€™å€‹å•é¡Œæˆ‘å€‘å¯ä»¥æ›å€‹è§’åº¦çœ‹:ç‚ºä»€éº¼æˆ‘å€‘è¦å»é—œæ³¨CombustionCarå’ŒElectricCar,æˆ‘å€‘ç¾åœ¨å°‡é—œæ³¨é»å›åˆ°æˆ‘å€‘çš„Car,æˆ‘å€‘ç¾åœ¨å·²ç¶“å…è¨±å®¢æˆ¶ç«¯å¯¦ä¾‹åŒ–Carå°è±¡æ™‚å€™å°‡Engineå°è±¡ä½œç‚ºæ§‹é€ å‡½æ•¸çš„åƒæ•¸å‚³å…¥,å…¶å¯¦å·²ç¶“æ¶ˆé™¤äº†ç‚ºæ¯å€‹Engineå°è±¡å‰µå»ºæ–°Carçš„å•é¡Œã€‚å› ç‚ºç¾åœ¨Caré¡ä¾è³´æ–¼Engineæ¥å£,ä¸¦ä¸çŸ¥é“ä»»ä½•Engineçš„å¯¦ç¾;</p><p>é€šéå¸¶æœ‰Engineåƒæ•¸çš„æ§‹é€ å‡½æ•¸,æˆ‘å€‘å·²å°‡è¦ä½¿ç”¨å“ªå€‹Engineå¯¦ç¾çš„æ±ºå®šå¾Caré¡æœ¬èº«ï¼ˆæœ€åˆç”±CombustionEngineæ±ºå®šï¼‰æ›´æ”¹ç‚ºå¯¦ä¾‹åŒ–Caré¡çš„å®¢æˆ¶ç«¯ã€‚æ±ºç­–éç¨‹çš„é€™ç¨®é€†è½‰ç¨±ç‚ºIoCåŸå‰‡ã€‚ç¾åœ¨ï¼Œç”±å®¢æˆ¶ç«¯æ§åˆ¶ä½¿ç”¨å“ªç¨®å¯¦ç¾ï¼Œè€Œä¸æ˜¯ç”±Caré¡æœ¬èº«æ§åˆ¶ä½¿ç”¨å“ªç¨®Engineå¯¦ç¾ã€‚</p><p>æœ‰é»ç¹ï¼Œå¤§å®¶çµåˆä¸‹é¢çš„ç¤ºä¾‹ä»£ç¢¼ï¼Œç´°ç´°ç¢ç£¨ï¼š</p><pre><code>public class Car {</code><br><br><code> private Engine engine;</code><br><br><code> public Car(Engine engine) {</code><code> this.engine = engine;</code><code> }</code><br><br><code> public void start {</code><code> engine.turnOn;</code><code> }</code><br><br><code> public static void main(String[] args) {</code><br><br><code> /**</code><code> * è€æ³•å­</code><code> * ç‚ºæ¯ä¸€é¡å‹ç™¼é€æ©Ÿçš„è»Šå‰µå»ºé¡ï¼Œç„¶å¾Œå¯¦ç¾çˆ¶é¡carï¼Œç„¶å¾Œåœ¨æ§‹é€ å‡½æ•¸å‚³å…¥è‡ªå·±çš„å¼•æ“ï¼Œç„¶å¾Œèª¿ç”¨start</code><code> */</code><code> CombustionCar combustionCar1 = new CombustionCar;</code><code> combustionCar1.start;</code><code> ElectricCar electricCar1 = new ElectricCar;</code><code> electricCar1.start;</code><br><br><code> /**</code><code> * æ§åˆ¶åè½‰æ€æƒ³</code><code> * æŠŠè‡ªå·±çœ‹ä½œå¯¦ä¾‹åŒ–carçš„å®¢æˆ¶ç«¯ï¼Œéœ€è¦ä»€éº¼å¼•æ“ï¼Œç›´æ¥å‚³å…¥ç›¸é—œå°è±¡</code><code> */</code><code> CombustionEngine combustionEngine = new CombustionEngine;</code><code> Car combustionCar = new Car(combustionEngine);</code><code> combustionCar.start;</code><code> ElectricEngine electricEngine = new ElectricEngine;</code><code> Car electricCar = new Car(electricEngine);</code><code> electricCar.start;</code><code> }</code><code>}</code></pre><p>åŸ·è¡Œä¸Šé¢çš„ä»£ç¢¼,æˆ‘å€‘ç™¼ç¾éƒ½å¯ä»¥ç²å¾—æˆ‘å€‘æƒ³è¦çš„çµæœ:</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/S0eL1Kd6gTu1Uf><p>å¾ä¸Šé¢çš„ä¾‹å­æˆ‘å€‘å¯ä»¥çœ‹åˆ°ï¼Œå¯¦ä¾‹åŒ–Caré¡çš„å®¢æˆ¶ç«¯å¯ä»¥æ§åˆ¶æ‰€ä½¿ç”¨çš„Engineå¯¦ç¾ï¼Œä¸¦ä¸”å–æ±ºæ–¼å°‡å“ªå€‹Engineå¯¦ç¾å‚³éçµ¦Caræ§‹é€ å‡½æ•¸ï¼ŒCarå°è±¡çš„è¡Œç‚ºç™¼ç”Ÿå·¨å¤§è®ŠåŒ–ã€‚ç‚ºä»€éº¼é€™éº¼èªªï¼Œæ¥è‘—çœ‹ä¸‹é¢</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RT7S2kzFTfre26><p><strong>ä¾è³´æ³¨å…¥(Dependency Injection)</strong></p><p>åœ¨ä¸Šé¢æ§åˆ¶åè½‰çš„çŸ¥è­˜é»,æˆ‘å€‘å·²ç¶“è§£æ±ºäº†ç”±èª°æ±ºå®šä½¿ç”¨å“ªç¨®Engineå¯¦ç¾çš„å•é¡Œ,ä½†æ˜¯ä¸å¯é¿å…,æˆ‘å€‘ä¹Ÿæ›´æ”¹äº†å¯¦ä¾‹åŒ–ä¸€å€‹Carå°è±¡çš„æ­¥é©Ÿ;</p><p>æœ€é–‹å§‹,æˆ‘å€‘å¯¦ä¾‹åŒ–Carä¸éœ€è¦åƒæ•¸,å› ç‚ºåœ¨å®ƒçš„æ§‹é€ å‡½æ•¸è£¡é¢å·²ç¶“ç‚ºæˆ‘å€‘newäº†Engineå°è±¡ã€‚ä½¿ç”¨IoCæ–¹æ³•ä¹‹å¾Œï¼Œæˆ‘å€‘è¦æ±‚åœ¨å¯¦ä¾‹åŒ–ä¸€å€‹Carä¹‹å‰,æˆ‘å€‘éœ€è¦å…ˆå‰µå»ºä¸€å€‹Engineå°è±¡,ä¸¦ä½œç‚ºåƒæ•¸å‚³éçµ¦Caræ§‹é€ å°è±¡ã€‚æ›å¥è©±èªªï¼Œæœ€åˆï¼Œæˆ‘å€‘é¦–å…ˆå¯¦ä¾‹åŒ–Carå°è±¡,ç„¶å¾Œå¯¦ä¾‹åŒ–Engineå°è±¡ã€‚ä½†æ˜¯ï¼Œä½¿ç”¨IoCä¹‹å¾Œ,æˆ‘å€‘é¦–å…ˆå¯¦ä¾‹åŒ–Engineå°è±¡,ç„¶å¾Œå¯¦ä¾‹åŒ–Carå°è±¡;</p><p>å› æ­¤,æˆ‘å€‘åœ¨ä¸Šé¢çš„éç¨‹ä¸­å‰µå»ºäº†ä¸€å€‹ä¾è³´é—œä¿‚ã€‚ä¸éé€™ç¨®ä¾è³´é—œä¿‚ä¸æ˜¯æŒ‡ç·¨è­¯æ™‚å€™Caré¡å°Engineæ¥å£çš„ä¾è³´é—œä¿‚,ç›¸å,æˆ‘å€‘å¼•å…¥äº†ä¸€å€‹é‹è¡Œæ™‚ä¾è³´é—œä¿‚ã€‚åœ¨é‹è¡Œæ™‚ï¼Œå¯¦ä¾‹åŒ–Carå°è±¡ä¹‹å‰,å¿…é ˆé¦–å…ˆå¯¦ä¾‹åŒ–Engineå°è±¡ã€‚</p><p><strong>2.1 ä¾è³´é—œä¿‚æ¨¹</strong></p><p><strong>æŸä¸€å€‹å…·é«”çš„ä¾è³´å°è±¡å¤§å®¶å¯ä»¥ç†è§£ç‚ºSpringä¸­çš„bean,å°æ–¼å…©å€‹æœ‰ä¾è³´é—œä¿‚çš„bean,å…¶ä¸­è¢«ä¾è³´çš„é‚£å€‹bean,æˆ‘å€‘æŠŠå®ƒç¨±ç‚ºä¾è³´å°è±¡ã€‚</strong></p><p>æˆ‘å€‘ç”¨åœ–å½¢åŒ–çš„æ–¹å¼ä¾†çœ‹çœ‹å®ƒå€‘ä¹‹é–“çš„ä¾è³´é—œä¿‚ï¼Œå…¶ä¸­åœ–å½¢çš„ç¯€é»ä»£è¡¨å°è±¡ï¼Œç®­é ­ä»£è¡¨ä¾è³´é—œä¿‚ï¼ˆç®­é ­æŒ‡å‘ä¾è³´å°è±¡ï¼‰ã€‚å°æ–¼æˆ‘å€‘æˆ‘çš„Caré¡,ä¾è³´é—œä¿‚æ¨¹éå¸¸ç°¡å–®:</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/S0eL1MPDsCu99x><p>å¦‚æœ<strong>ä¾è³´é—œä¿‚æ¨¹</strong>çš„çµ‚ç«¯çµé»é‚„æœ‰è‡ªå·±çš„é™„åŠ ä¾è³´é—œä¿‚ï¼Œé‚£éº¼é€™å€‹ä¾è³´é—œä¿‚æ¨¹å°‡è®Šå¾—æ›´åŠ è¤‡é›œã€‚ç¾åœ¨å†çœ‹æˆ‘å€‘ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœCombustionEngine é‚„æœ‰å…¶ä»–ä¾è³´å°è±¡ï¼Œæˆ‘å€‘é¦–å…ˆéœ€è¦å‰µå»ºCombustionEngineçš„ä¾è³´å°è±¡,ç„¶å¾Œæ‰èƒ½å¯¦ä¾‹åŒ–ä¸€å€‹CombustionEngineå°è±¡ã€‚é€™æ¨£åœ¨å‰µå»ºCarå°è±¡æ™‚å€™,æ‰èƒ½å°‡CombustionEngineå‚³éçµ¦Carçš„æ§‹é€ å‡½æ•¸;</p><pre><code>//å‡¸è¼ªè»¸ </code><code>public class Camshaft {}</code><code>//æ©Ÿè»¸</code><code>public class Crankshaft {}</code><br><br><code>public class CombustionEngine implements Engine {</code><br><br><code> //å‡¸è¼ªè»¸</code><code> private Camshaft camshaft;</code><br><br><code> //æ©Ÿè»¸</code><code> private Crankshaft crankshaft;</code><br><br><code> public CombustionEngine(Camshaft camshaft, Crankshaft crankshaft) {</code><br><br><code> this.camshaft = camshaft;</code><br><br><code> this.crankshaft = crankshaft;</code><code> }</code><br><br><code> @Override</code><br><br><code> public void turnOn {</code><br><br><code> System.out.println("ç‡ƒæ²¹å¼•æ“å•Ÿå‹•");</code><br><br><code> }</code><br><br><code>}</code></pre><p>ç¶“éæˆ‘å€‘æ”¹é€ ,æˆ‘å€‘ç¾åœ¨çš„ä¾è³´é—œä¿‚æ¨¹è®Šç‚ºä¸‹é¢çš„æ¨£å­ï¼š</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/S0eL1sVCqsRLm3><p><strong>2.2 ä¾è³´æ³¨å…¥æ¡†æ¶</strong></p><p>éš¨è‘—æˆ‘å€‘ä¸æ–·å¼•å…¥æ›´å¤šçš„ä¾è³´é—œä¿‚,é€™ç¨®è¤‡é›œæ€§å°‡ç¹¼çºŒå¢é•·ã€‚ç‚ºäº†è§£æ±ºé€™å€‹è¤‡é›œå•é¡Œï¼Œæˆ‘å€‘éœ€è¦åŸºæ–¼ä¾è³´é—œä¿‚æ¨¹æŠ½å–å°è±¡çš„å‰µå»ºéç¨‹ã€‚é€™å°±æ˜¯<strong>ä¾è³´æ³¨å…¥æ¡†æ¶</strong>ã€‚</p><p>ä¸€èˆ¬ä¾†èªªï¼Œæˆ‘å€‘å¯ä»¥æŠŠé€™å€‹éç¨‹åˆ†ç‚ºä¸‰å€‹éƒ¨åˆ†:</p><ol><li><p>è²æ˜éœ€è¦å‰µå»ºçš„å°è±¡éœ€è¦å“ªäº›ä¾è³´å°è±¡</p></li><li><p>è¨»å†Šå‰µå»ºé€™äº›ä¾è³´å°è±¡æ‰€éœ€è¦çš„é¡</p></li><li><p>æä¾›ä¸€ç¨®ä½¿ç”¨1å’Œ2å…©é»æ€æƒ³å‰µå»ºå°è±¡çš„æ©Ÿåˆ¶</p></li></ol><p>é€šéåå°„ï¼Œæˆ‘å€‘å¯ä»¥æŸ¥çœ‹ Car é¡çš„æ§‹é€ å‡½æ•¸ï¼Œä¸¦ä¸”çŸ¥é“å®ƒéœ€è¦ä¸€å€‹ Engine åƒæ•¸ã€‚å› æ­¤ç‚ºäº†å‰µå»ºCarå°è±¡,æˆ‘å€‘å¿…é ˆå‰µå»ºè‡³å°‘ä¸€å€‹Engineæ¥å£çš„å¯¦ç¾é¡ç”¨ä½œä¾è³´é …ä¾†ä½¿ç”¨ã€‚åœ¨é€™è£¡ï¼Œæˆ‘å€‘å‰µå»ºä¸€å€‹CombustionEngine å°è±¡(<strong>ç‚ºäº†æ–¹ä¾¿,æš«æ™‚ç•¶åšåªæœ‰ä¸€å€‹å¯¦ç¾é¡,beanè¡çªå•é¡Œå¾…æœƒå†èªª</strong>)ä¾†è²æ˜å®ƒä½œç‚ºä¾è³´é …ä¾†ä½¿ç”¨,å°±æ»¿è¶³Carå°è±¡å‰µå»ºæ™‚çš„éœ€æ±‚.</p><p>å…¶å¯¦,é€™å€‹éç¨‹æ˜¯éæ­¸çš„,å› ç‚ºCombustionEngine ä¾è³´æ–¼å…¶ä»–å°è±¡,æˆ‘å€‘éœ€è¦ä¸æ–·é‡è¤‡ç¬¬ä¸€å€‹éç¨‹,ç›´åˆ°æŠŠæ‰€æœ‰ä¾è³´å°è±¡è²æ˜å®Œç•¢,ç„¶å¾Œè¨»å†Šå‰µå»ºé€™äº›ä¾è³´å°è±¡æ‰€éœ€è¦çš„é¡ã€‚</p><p>ç¬¬ä¸‰é»å…¶å¯¦å°±æ˜¯å°‡å‰é¢å…©é»æ€æƒ³ä»˜è«¸å¯¦æ–½ï¼Œå¾è€Œå½¢æˆä¸€ç¨®å‰µå»ºå°è±¡çš„æ©Ÿåˆ¶</p><p>èˆ‰å€‹ä¾‹å­:æ¯”å¦‚æˆ‘å€‘éœ€è¦ä¸€å€‹Carå°è±¡,æˆ‘å€‘å¿…é ˆéæ­·ä¾è³´é—œä¿‚æ¨¹ä¸¦æª¢æŸ¥æ˜¯å¦å­˜åœ¨è‡³å°‘ä¸€å€‹ç¬¦åˆæ¢ä»¶çš„é¡ä¾†æ»¿è¶³æ‰€æœ‰ä¾è³´é—œä¿‚ã€‚ä¾‹å¦‚ï¼Œè²æ˜CombustionEngineé¡å¯æ»¿è¶³Engineç¯€é»è¦æ±‚ã€‚å¦‚æœå­˜åœ¨é€™ç¨®ä¾è³´é—œä¿‚ï¼Œæˆ‘å€‘å°‡å¯¦ä¾‹åŒ–è©²ä¾è³´é—œä¿‚ï¼Œç„¶å¾Œç§»è‡³ä¸‹ä¸€å€‹ç¯€é»ã€‚</p><p>å¦‚æœæœ‰ä¸€å€‹ä»¥ä¸Šçš„é¡æ»¿è¶³æ‰€éœ€çš„ä¾è³´é—œä¿‚ï¼Œé‚£éº¼æˆ‘å€‘å¿…é ˆé¡¯å¼è²æ˜æ‡‰è©²é¸æ“‡å“ªä¸€ç¨®ä¾è³´é—œä¿‚ã€‚ç¨å¾Œæˆ‘å€‘å°‡è¨è«– Spring æ˜¯å¦‚ä½•åšåˆ°é€™ä¸€é»çš„ã€‚</p><p>ä¸€æ—¦æˆ‘å€‘ç¢ºå®šæ‰€æœ‰çš„ä¾è³´é—œä¿‚éƒ½æº–å‚™å¥½äº†ï¼Œæˆ‘å€‘å°±å¯ä»¥å¾çµ‚ç«¯ç¯€é»é–‹å§‹å‰µå»ºä¾è³´å°è±¡ã€‚å°æ–¼ Car å°è±¡ï¼Œæˆ‘å€‘é¦–å…ˆå¯¦ä¾‹åŒ– Camshaft å’ŒCrankshaftãƒ¼ãƒ¼å› ç‚ºé€™äº›å°è±¡æ²’æœ‰ä¾è³´é—œä¿‚ãƒ¼ãƒ¼ç„¶å¾Œå°‡é€™äº›å°è±¡å‚³éçµ¦ CombustionEngine æ§‹é€ å‡½æ•¸ï¼Œä»¥å¯¦ä¾‹åŒ– CombunstionEngine å°è±¡ã€‚æœ€å¾Œï¼Œæˆ‘å€‘å°‡ CombunstionEngine å°è±¡å‚³éçµ¦ Car æ§‹é€ å‡½æ•¸ï¼Œä»¥å¯¦ä¾‹åŒ–æ‰€éœ€çš„ Car å°è±¡ã€‚</p><p>ç­è§£äº† DI çš„åŸºæœ¬åŸç†ä¹‹å¾Œï¼Œæˆ‘å€‘ç¾åœ¨å¯ä»¥ç¹¼çºŒè¨è«– Spring å¦‚ä½•åŸ·è¡Œ DIã€‚</p><p><strong>2.3 Springçš„ä¾è³´æ³¨å…¥</strong></p><p>Springçš„æ ¸å¿ƒæ˜¯ä¸€å€‹DIæ¡†æ¶ï¼Œå®ƒå¯ä»¥å°‡DIé…ç½®è½‰æ›ç‚ºJavaæ‡‰ç”¨ç¨‹åºã€‚</p><p>åœ¨é€™è£¡æˆ‘å€‘è¦é—¡è¿°ä¸€å€‹å•é¡Œ:é‚£å°±æ˜¯<strong>åº«å’Œæ¡†æ¶çš„å€åˆ¥</strong>ã€‚åº«åªæ˜¯é¡å®šç¾©çš„é›†åˆã€‚èƒŒå¾Œçš„åŸå› åƒ…åƒ…æ˜¯ä»£ç¢¼é‡ç”¨ï¼Œå³ç²å–å…¶ä»–é–‹ç™¼äººå“¡å·²ç¶“ç·¨å¯«çš„ä»£ç¢¼ã€‚é€™äº›é¡å’Œæ–¹æ³•é€šå¸¸åœ¨åŸŸç‰¹å®šå€åŸŸä¸­å®šç¾©ç‰¹å®šæ“ä½œã€‚ä¾‹å¦‚ï¼Œæœ‰ä¸€äº›æ•¸å­¸åº«å¯è®“é–‹ç™¼äººå“¡åƒ…èª¿ç”¨å‡½æ•¸è€Œç„¡éœ€é‡åšç®—æ³•å·¥ä½œåŸç†çš„å¯¦ç¾ã€‚</p><p>æ¡†æ¶é€šå¸¸è¢«èªç‚ºæ˜¯ä¸€å€‹éª¨æ¶ï¼Œæˆ‘å€‘åœ¨å…¶ä¸­æ’å…¥ä»£ç¢¼ä»¥å‰µå»ºæ‡‰ç”¨ç¨‹åºã€‚è¨±å¤šæ¡†æ¶ä¿ç•™äº†ç‰¹å®šæ–¼æ‡‰ç”¨ç¨‹åºçš„éƒ¨åˆ†ï¼Œä¸¦è¦æ±‚æˆ‘å€‘é–‹ç™¼äººå“¡æä¾›é©åˆæ¡†æ¶çš„ä»£ç¢¼ã€‚åœ¨å¯¦è¸ä¸­ï¼Œé€™æ„å‘³è‘—ç·¨å¯«æ¥å£çš„å¯¦ç¾ï¼Œç„¶å¾Œåœ¨æ¡†æ¶ä¸­è¨»å†Šå¯¦ç¾ã€‚</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/S0eL1svIuO9Tqq><p><strong>2.4 ApplicationContext</strong></p><p>åœ¨ Spring ä¸­ï¼Œæ¡†æ¶åœç¹ ApplicationContext æ¥å£å¯¦ç¾ä¸Šä¸€ç¯€ä¸­æ¦‚è¿°çš„ä¸‰å€‹ DI è·è²¬ã€‚é€šå¸¸é€™å€‹æ¥å£ä»£è¡¨äº†ä¸€å€‹ä¸Šä¸‹æ–‡ã€‚å› æ­¤ï¼Œæˆ‘å€‘é€šéåŸºæ–¼ java æˆ–åŸºæ–¼ xml çš„é…ç½®å‘ ApplicationContext è¨»å†Šåˆé©çš„é¡ï¼Œä¸¦å¾ ApplicationContext è«‹æ±‚å‰µå»º bean å°è±¡ã€‚ç„¶å¾Œ ApplicationContext æ§‹å»ºä¸€å€‹ä¾è³´é—œä¿‚æ¨¹ä¸¦éæ­·å®ƒä»¥å‰µå»ºæ‰€éœ€çš„ beanå°è±¡ï¼š</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/S0eL1vrGE8aa22><p>Applicationcontext ä¸­åŒ…å«çš„é‚è¼¯é€šå¸¸è¢«ç¨±ç‚º Spring å®¹å™¨ã€‚é€šå¸¸ï¼Œä¸€å€‹ Spring æ‡‰ç”¨ç¨‹åºå¯ä»¥æœ‰å¤šå€‹ ApplicationContextï¼Œæ¯å€‹ ApplicationContext å¯ä»¥æœ‰å–®ç¨çš„é…ç½®ã€‚ä¾‹å¦‚ï¼Œä¸€å€‹ ApplicationContext å¯èƒ½è¢«é…ç½®ç‚ºä½¿ç”¨ CombustionEngine ä½œç‚ºå…¶å¼•æ“å¯¦ç¾ï¼Œè€Œå¦ä¸€å€‹å®¹å™¨å¯èƒ½è¢«é…ç½®ç‚ºä½¿ç”¨ ElectricEngine ä½œç‚ºå…¶å¯¦ç¾ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å€‘å°‡é‡é»è¨è«–æ¯å€‹æ‡‰ç”¨ç¨‹åºçš„å–®å€‹ ApplicationContextï¼Œä½†æ˜¯ä¸‹é¢æè¿°çš„æ¦‚å¿µå³ä½¿åœ¨ä¸€å€‹æ‡‰ç”¨ç¨‹åºæœ‰å¤šå€‹ ApplicationContext å¯¦ä¾‹æ™‚ä¹Ÿé©ç”¨ã€‚</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RTJXJ1kBqzfCnu><p><strong>åŸºæ–¼ java çš„é…ç½®</strong></p><p>Springç‚ºæˆ‘å€‘æä¾›äº†å…©ç¨®åŸºæ–¼ java çš„é…ç½®æ–¹å¼</p><ol><li><p>åŸºæœ¬é…ç½®</p></li><li><p>è‡ªå‹•é…ç½®</p></li></ol><p><strong>3.1 åŸºæ–¼ java çš„åŸºæœ¬é…ç½®</strong></p><p>åŸºæ–¼javaçš„åŸºæœ¬é…ç½®çš„æ ¸å¿ƒï¼Œå…¶å¯¦æ˜¯ä¸‹é¢å…©å€‹è¨»è§£:</p><ol><li><p>@Configuration: å®šç¾©é…ç½®é¡</p></li><li><p>@Bean: å‰µå»ºä¸€å€‹bean</p></li></ol><p>ä¾‹å¦‚ï¼Œçµ¦å‡ºæˆ‘å€‘ä¹‹å‰å®šç¾©çš„ Car, CombustionEngine, Camshaft, å’ŒCrankshaft é¡ï¼Œæˆ‘å€‘å¯ä»¥å‰µå»ºä¸€å€‹ä¸‹é¢ çš„é…ç½®é¡:</p><pre><code>/**</code><code> * @author milogenius</code><code> * @date 2020/5/17 20:52</code><code> */</code><code>@Configuration</code><code>public class AnnotationConfig {</code><br><code> @Bean</code><code> public Car car(Engine engine) {</code><code> return new Car(engine);</code><code> }</code><br><br><code> @Bean</code><code> public Engine engine(Camshaft camshaft, Crankshaft crankshaft) {</code><code> return new CombustionEngine(camshaft, crankshaft);</code><code> }</code><br><br><code> @Bean</code><code> public Camshaft camshaft {</code><code> return new Camshaft;</code><code> }</code><br><br><code> @Bean</code><code> public Crankshaft crankshaft {</code><code> return new Crankshaft;</code><code> }</code><code>}</code></pre><p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘å‰µå»ºä¸€å€‹ ApplicationContext å°è±¡ï¼Œå¾ ApplicationContext å°è±¡ç²å–ä¸€å€‹ Car å°è±¡ï¼Œç„¶å¾Œåœ¨å‰µå»ºçš„ Car å°è±¡ä¸Šèª¿ç”¨ start æ–¹æ³•:</p><pre><code>ApplicationContext context = </code><br><br><code> new AnnotationConfigApplicationContext(AnnotationConfig.class);</code><br><br><code>Car car = context.getBean(Car.class);</code><br><br><code>car.start;</code></pre><p>åŸ·è¡Œçµæœå¦‚ä¸‹:</p><pre><code>Started combustion engine</code></pre><p>é›–ç„¶@Configuration å’Œ@Bean è¨»è§£çš„çµ„åˆç‚º Spring æä¾›äº†è¶³å¤ çš„ä¿¡æ¯ä¾†åŸ·è¡Œä¾è³´æ³¨å…¥ï¼Œä½†æˆ‘å€‘ä»ç„¶éœ€è¦æ‰‹å‹•æ‰‹å‹•å®šç¾©æ¯å€‹å°‡è¢«æ³¨å…¥çš„ beanï¼Œä¸¦é¡¯å¼åœ°è²æ˜å®ƒå€‘çš„ä¾è³´é—œä¿‚ã€‚ç‚ºäº†æ¸›å°‘é…ç½® DI æ¡†æ¶æ‰€éœ€çš„é–‹éŠ·ï¼ŒSpring æä¾›äº†åŸºæ–¼javaçš„è‡ªå‹•é…ç½®ã€‚</p><p><strong>3.2 åŸºæ–¼ java çš„è‡ªå‹•é…ç½®</strong></p><p>ç‚ºäº†æ”¯æŒåŸºæ–¼ java çš„è‡ªå‹•é…ç½®ï¼ŒSpring æä¾›äº†é¡å¤–çš„è¨»è§£ã€‚é›–ç„¶æˆ‘å€‘å¹³æ™‚å¯èƒ½åŠ éå¾ˆå¤šé€™ç¨®é¡å‹çš„è¨»è§£ï¼Œä½†æ˜¯æœ‰ä¸‰å€‹æœ€åŸºæœ¬çš„è¨»è§£:</p><pre><code>@Component: è¨»å†Šç‚ºç”± Spring ç®¡ç†çš„é¡</code><code>@Autowired: æŒ‡ç¤º Spring æ³¨å…¥ä¸€å€‹ä¾è³´å°è±¡</code><code>@ComponentScan: æŒ‡ç¤ºSpringåœ¨ä½•è™•æŸ¥æ‰¾å¸¶æœ‰@Componentè¨»è§£çš„é¡</code><code>3.2.1 æ§‹é€ å‡½æ•¸æ³¨å…¥</code><code>@Autowiredè¨»è§£ç”¨ä¾†æŒ‡å° Spring ,æˆ‘å€‘æ‰“ç®—åœ¨ä½¿ç”¨è¨»è§£çš„ä½ç½®æ³¨å…¥ä¸€å€‹ä¾è³´å°è±¡ã€‚ä¾‹å¦‚ï¼Œåœ¨ Car æ§‹é€ å‡½æ•¸ä¸­ï¼Œæˆ‘å€‘æœŸæœ›æ³¨å…¥ä¸€å€‹ Engine å°è±¡ï¼Œå› æ­¤ï¼Œæˆ‘å€‘çµ¦ Car æ§‹é€ å‡½æ•¸æ·»åŠ @Autowiredè¨»è§£ã€‚é€šéä½¿ç”¨@Component å’Œ@Autowiredè¨»è§£æ”¹é€ æˆ‘å€‘Caré¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</code><br><br><code>@Component</code><code>public class Car {</code><br><br><code> private Engine engine;</code><br><br><br><code> @Autowired</code><br><br><code> public Car(Engine engine) {</code><br><br><code> this.engine = engine;</code><code> }</code><br><br><code> public void start {</code><br><br><code> engine.turnOn;</code><br><br><code> }</code><br><br><code>}</code></pre><p>æˆ‘å€‘å¯ä»¥åœ¨å…¶ä»–é¡ä¸­é‡è¤‡é€™å€‹éç¨‹:</p><pre><code>@Component</code><br><br><code>public class Camshaft {}</code><br><br><code>@Component</code><code>public class Crankshaft {}</code><br><br><br><br><code>@Component</code><br><br><code>public class CombustionEngine implements Engine {</code><br><br><br><br><br><code> private Camshaft camshaft;</code><br><br><code> private Crankshaft crankshaft;</code><br><br><br><br><code> @Autowired</code><br><br><code> public CombustionEngine(Camshaft camshaft, Crankshaft crankshaft) {</code><br><br><code> this.camshaft = camshaft;</code><br><br><code> this.crankshaft = crankshaft;</code><br><br><code> }</code><br><br><br><br><code> @Override</code><br><br><code> public void turnOn {</code><br><br><code> System.out.println("Started combustion engine");</code><br><br><code> }</code><br><br><code>}</code></pre><p>æ”¹é€ å®Œæˆç›¸é—œé¡ä¹‹å¾Œï¼Œæˆ‘å€‘éœ€è¦å‰µå»ºä¸€å€‹@Configuration é¡ä¾†æŒ‡å° Spring å¦‚ä½•è‡ªå‹•é…ç½®æˆ‘å€‘çš„æ‡‰ç”¨ç¨‹åºã€‚å°æ–¼åŸºæ–¼ java çš„åŸºæœ¬é…ç½®ï¼Œæˆ‘å€‘æ˜ç¢ºæŒ‡ç¤º Spring å¦‚ä½•ä½¿ç”¨@Bean è¨»è§£å‰µå»ºæ¯å€‹ beanï¼Œä½†åœ¨è‡ªå‹•é…ç½®ä¸­ï¼Œæˆ‘å€‘å·²ç¶“é€šé@Component å’Œ@Autowired è¨»è§£æä¾›äº†è¶³å¤ çš„ä¿¡æ¯ï¼Œèªªæ˜å¦‚ä½•å‰µå»ºæ‰€éœ€çš„æ‰€æœ‰ beanã€‚å”¯ä¸€ç¼ºå°‘çš„ä¿¡æ¯æ˜¯ Spring æ‡‰è©²åœ¨å“ªè£¡å°‹æ‰¾æˆ‘å€‘çš„å¸¶æœ‰@Componentè¨»è§£çš„ é¡,ä¸¦æŠŠå®ƒè¨»å†Šç‚ºå°æ‡‰çš„beanã€‚</p><p>@ Componentscan è¨»é‡‹åŒ…å«ä¸€å€‹åƒæ•¸ basePackagesï¼Œå®ƒå…è¨±æˆ‘å€‘å°‡åŒ…åç¨±æŒ‡å®šç‚ºä¸€å€‹ Stringï¼ŒSpring å°‡é€šééæ­¸æœç´¢ä¾†æŸ¥æ‰¾@Component é¡ã€‚åœ¨æˆ‘å€‘çš„ç¤ºä¾‹ä¸­ï¼ŒåŒ…æ˜¯ com.milo.domainï¼Œå› æ­¤ï¼Œæˆ‘å€‘å¾—åˆ°çš„é…ç½®é¡æ˜¯:</p><pre><code>@Configuration</code><code>@ComponentScan(basePackages = "com.milo.domain")</code><code>public class AutomatedAnnotationConfig {}</code></pre><pre><code>ApplicationContext context = </code><br><br><code> new AnnotationConfigApplicationContext(AutomatedAnnotationConfig.class);</code><br><br><code>Car car = context.getBean(Car.class); </code><br><br><code>car.start;</code></pre><p>åŸ·è¡Œçµæœ:</p><pre><code>Started combustion engine</code></pre><p>é€šéå’ŒåŸºæ–¼javaçš„åŸºç¤é…ç½®æ¯”è¼ƒ,æˆ‘å€‘ç™¼ç¾åŸºæ–¼ java çš„è‡ªå‹•é…ç½®æ–¹æ³•æœ‰å…©å€‹ä¸»è¦å„ªé»:</p><ol><li><p>æ‰€éœ€çš„é…ç½®è¦ç°¡æ½”å¾—å¤š</p></li><li><p>è¨»è§£ç›´æ¥æ‡‰ç”¨æ–¼é¡ï¼Œè€Œä¸æ˜¯åœ¨é…ç½®é¡</p></li></ol><p><strong>æ‰€ä»¥ç„¡ç‰¹æ®Šæƒ…æ³,è‡ªå‹•é…ç½®æ˜¯é¦–é¸ã€‚</strong></p><p>3.2.2 å­—æ®µæ³¨å…¥</p><p>é™¤äº†æ§‹é€ å‡½æ•¸æ³¨å…¥ï¼Œæˆ‘å€‘é‚„å¯ä»¥é€šéå­—æ®µç›´æ¥æ³¨å…¥ã€‚æˆ‘å€‘å¯ä»¥å°‡@Autowired è¨»è§£æ‡‰ç”¨åˆ°æ‰€éœ€çš„å­—æ®µä¾†å¯¦ç¾é€™ä¸€é»:</p><pre><code>@Component</code><code>public class Car {</code><br><br><br><br><code> @Autowired</code><br><br><code> private Engine engine;</code><br><br><br><br><br><code> public void start {</code><br><br><code> engine.turnOn;</code><br><br><code> }</code><br><br><code>}</code></pre><p>é€™ç¨®æ–¹æ³•æ¥µå¤§åœ°æ¸›å°‘äº†æˆ‘å€‘çš„ç·¨ç¢¼å£“åŠ›ï¼Œä½†æ˜¯å®ƒä¹Ÿæœ‰ä¸€å€‹ç¼ºé»,å°±æ˜¯åœ¨ä½¿ç”¨å­—æ®µä¹‹å‰ï¼Œæˆ‘å€‘å°‡ç„¡æ³•æª¢æŸ¥è‡ªå‹•æ³¨å…¥çš„å°è±¡æ˜¯å¦ç‚ºç©ºã€‚</p><p>3.2.3 Setteræ³¨å…¥</p><p>æ§‹é€ å‡½æ•¸æ³¨å…¥çš„æœ€å¾Œä¸€ç¨®æ›¿ä»£æ–¹æ³•æ˜¯ setter æ³¨å…¥ï¼Œå…¶ä¸­@Autowired è¨»è§£æ‡‰ç”¨æ–¼èˆ‡å­—æ®µé—œè¯çš„ setterã€‚ä¾‹å¦‚ï¼Œæˆ‘å€‘å¯ä»¥æ”¹è®Š Car é¡ï¼Œé€šé setter æ³¨å…¥ç²å¾— Engine å°è±¡ï¼Œæ–¹æ³•æ˜¯ç”¨@Autowiredè¨»è§£ setEngine æ–¹æ³•:</p><pre><code>@Component</code><code>public class Car {</code><br><br><br><br><code> private Engine engine;</code><br><br><br><br><br><code> public void start {</code><br><br><code> engine.turnOn;</code><br><br><code> }</code><br><br><br><br><code> public Engine getEngine {</code><br><br><code> return engine;</code><br><br><code> }</code><br><br><br><br><code> @Autowired</code><br><br><code> public void setEngine(Engine engine) {</code><br><br><code> this.engine = engine;</code><br><br><code> }</code><br><br><code>}</code></pre><p>Setter æ³¨å…¥é¡ä¼¼æ–¼å­—æ®µæ³¨å…¥ï¼Œä½†å®ƒå…è¨±æˆ‘å€‘èˆ‡ æ³¨å…¥å°è±¡äº¤äº’ã€‚åœ¨æœ‰äº›æƒ…æ³ä¸‹ï¼Œsetter æ³¨å…¥å¯èƒ½ç‰¹åˆ¥æœ‰ç”¨ï¼Œä¾‹å¦‚å…·æœ‰å¾ªç’°ä¾è³´é—œä¿‚ï¼Œä½† setter æ³¨å…¥å¯èƒ½æ˜¯ä¸‰ç¨®æ³¨å…¥æŠ€è¡“ä¸­æœ€ä¸å¸¸è¦‹çš„ï¼Œ<strong>å„˜å¯èƒ½å„ªå…ˆä½¿ç”¨æ§‹é€ å‡½æ•¸æ³¨å…¥ã€‚</strong></p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTJXJ7YR5xGDl><p><strong>åŸºæ–¼ xml çš„é…ç½®</strong></p><p>å¦ä¸€ç¨®é…ç½®æ–¹æ³•æ˜¯åŸºæ–¼ xml çš„é…ç½®ã€‚æˆ‘å€‘åœ¨ XML é…ç½®æ–‡ä»¶ä¸­å®šç¾© bean ä»¥åŠå®ƒå€‘ä¹‹é–“çš„é—œä¿‚ï¼Œç„¶å¾ŒæŒ‡ç¤º Spring åœ¨å“ªè£¡æ‰¾åˆ°æˆ‘å€‘çš„é…ç½®æ–‡ä»¶ã€‚</p><p>ç¬¬ä¸€æ­¥æ˜¯å®šç¾© beanã€‚æˆ‘å€‘åŸºæœ¬éµå¾ªèˆ‡åŸºæ–¼ java çš„åŸºæœ¬é…ç½®ç›¸åŒçš„æ­¥é©Ÿï¼Œä½†ä½¿ç”¨ xmlbean å…ƒç´ ä»£æ›¿ã€‚åœ¨ XML çš„æƒ…æ³ä¸‹ï¼Œæˆ‘å€‘é‚„å¿…é ˆé¡¯å¼åœ°è²æ˜æˆ‘å€‘æ‰“ç®—ä½¿ç”¨ constructor-arg å…ƒç´ æ³¨å…¥åˆ°å…¶ä»–æ§‹é€ å‡½æ•¸ä¸­çš„ beanã€‚çµåˆ bean å’Œ constructor-arg å…ƒç´ ï¼Œæˆ‘å€‘å¾—åˆ°ä»¥ä¸‹ XML é…ç½®:</p><pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</code><br><br><code>&lt;beans xmlns="http://www.springframework.org/schema/beans"</code><br><br><code> xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</code><br><br><code> xmlns:util="http://www.springframework.org/schema/util"</code><br><br><code> xsi:schemaLocation="</code><br><br><code> http://www.springframework.org/schema/beans</code><br><br><code> http://www.springframework.org/schema/beans/spring-beans.xsd</code><br><br><code> http://www.springframework.org/schema/util</code><br><br><code> http://www.springframework.org/schema/util/spring-util.xsd"&gt;</code><br><br><br><br><code> &lt;bean id="car" class="com.milo.domain.Car"&gt;</code><br><br><code> &lt;constructor-arg ref="engine" /&gt;</code><br><br><code> &lt;/bean&gt;</code><br><br><br><br><br><code> &lt;bean id="engine" class="com.milo.CombustionEngine"&gt;</code><br><br><code> &lt;constructor-arg ref="camshaft" /&gt;</code><br><br><code> &lt;constructor-arg ref="crankshaft" /&gt;</code><br><br><code> &lt;/bean&gt;</code><br><br><br><br><br><code> &lt;bean id="camshaft" class="com.milo.Camshaft" /&gt;</code><br><br><code> &lt;bean id="crankshaft" class="com.milo.Crankshaft" /&gt;</code><br><br><br><br><code>&lt;/beans&gt;</code></pre><p>åœ¨ bean å…ƒç´ ä¸­ï¼Œæˆ‘å€‘å¿…é ˆæŒ‡å®šå…©å€‹å±¬æ€§:</p><ol><li><p>id : bean çš„å”¯ä¸€ ID (ç›¸ç•¶æ–¼å¸¶æœ‰@Bean è¨»è§£æ–¹æ³•å</p></li><li><p>class : é¡çš„å…¨è·¯å¾‘(åŒ…æ‹¬åŒ…å)</p></li></ol><p>å°æ–¼ constructor-arg å…ƒç´ ï¼Œæˆ‘å€‘åªéœ€è¦æŒ‡å®š ref å±¬æ€§ï¼Œå®ƒæ˜¯å°ç¾æœ‰ bean ID çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œå…ƒç´ æ§‹é€ å‡½æ•¸ &lt;constructor-arg ref="engine" /> è¦å®šï¼Œå…·æœ‰ ID engine(ç›´æ¥å®šç¾©åœ¨ car bean ä¹‹ä¸‹)çš„ bean æ‡‰è©²è¢«ç”¨ä½œæ³¨å…¥ car bean æ§‹é€ å‡½æ•¸çš„ beanã€‚</p><p>æ§‹é€ å‡½æ•¸åƒæ•¸çš„é †åºç”± constructor-arg å…ƒç´ çš„é †åºæ±ºå®šã€‚ä¾‹å¦‚ï¼Œåœ¨å®šç¾© engine bean æ™‚ï¼Œå‚³éçµ¦ CombustionEngine æ§‹é€ å‡½æ•¸çš„ç¬¬ä¸€å€‹æ§‹é€ å‡½æ•¸åƒæ•¸æ˜¯ camshaft beanï¼Œè€Œç¬¬äºŒå€‹åƒæ•¸æ˜¯ crankshaft beanã€‚</p><p>ç²å–ApplicationContextå°è±¡ï¼Œæˆ‘å€‘åªéœ€ä¿®æ”¹ ApplicationContext å¯¦ç¾é¡å‹ã€‚å› ç‚ºæˆ‘å€‘å°‡ XML é…ç½®æ–‡ä»¶æ”¾åœ¨é¡è·¯å¾‘ä¸Šï¼Œæ‰€ä»¥æˆ‘å€‘ä½¿ç”¨ ClassPathXmlApplicationContext:</p><pre><code>ApplicationContext context = </code><br><br><code> new ClassPathXmlApplicationContext("basic-config.xml");</code><br><br><code>Car car = context.getBean(Car.class);</code><br><br><code>car.start;</code></pre><p>åŸ·è¡Œçµæœ:</p><pre><code>Started combustion engine</code></pre><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTJXJ7uHXU5GZc><p><strong>å¸¸è¦‹å•é¡Œ</strong></p><p>ç¾åœ¨ï¼Œæˆ‘å€‘å·²ç¶“æ‘¸æ¸…äº†Springæ¡†æ¶å¦‚ä½•é€²è¡ŒDIï¼Œä¸¦æ­£ç¢ºåœ°å°‡æ‰€æœ‰ä¾è³´é—œä¿‚æ³¨å…¥åˆ°æˆ‘å€‘çš„æ‡‰ç”¨ç¨‹åºä¸­ï¼Œä½†æ˜¯æˆ‘å€‘å¿…é ˆè™•ç†å…©å€‹æ£˜æ‰‹çš„å•é¡Œ:</p><ol><li><p>ä¾è³´å°è±¡è¡çª</p></li><li><p>ä¾è³´å°è±¡é–“å­˜åœ¨å¾ªç’°ä¾è³´</p></li></ol><p>5.1 å…·æœ‰å¤šå€‹ç¬¦åˆæ¢ä»¶çš„ä¾è³´å°è±¡</p><p>åœ¨åŸºæ–¼ java å’ŒåŸºæ–¼ xml çš„æ–¹æ³•ä¸­ï¼Œæˆ‘å€‘å·²ç¶“æŒ‡ç¤º Spring åªä½¿ç”¨ CombustionEngine ä½œç‚ºæˆ‘å€‘çš„Engineå¯¦ç¾ã€‚å¦‚æœæˆ‘å€‘å°‡ElectricEngineè¨»å†Šç‚ºç¬¦åˆ di æ¨™æº–çš„éƒ¨ä»¶æœƒç™¼ç”Ÿä»€éº¼ï¼Ÿç‚ºäº†æ¸¬è©¦çµæœï¼Œæˆ‘å€‘å°‡ä¿®æ”¹åŸºæ–¼ java çš„è‡ªå‹•é…ç½®ç¤ºä¾‹ï¼Œä¸¦ç”¨@Component è¨»è§£ ElectricEngine é¡:</p><pre><code>@Component</code><code>public class ElectricEngine implements Engine {</code><br><br><br><br><code> @Override</code><br><br><code> public void turnOn {</code><br><br><code> System.out.println("Started electric engine");</code><br><br><code> }</code><br><code>}</code></pre><p>å¦‚æœæˆ‘å€‘é‡æ–°é‹è¡ŒåŸºæ–¼ java çš„è‡ªå‹•é…ç½®æ‡‰ç”¨ç¨‹åºï¼Œæˆ‘å€‘æœƒçœ‹åˆ°ä»¥ä¸‹éŒ¯èª¤:</p><pre><code>No qualifying bean of type 'com.dzone.albanoj2.spring.di.domain.Engine' available: expected single matching bean but found 2: combustionEngine,electricEngine</code></pre><p>ç”±æ–¼æˆ‘å€‘å·²ç¶“è¨»é‡‹äº†ç”¨@Component å¯¦ç¾ Engine æ¥å£çš„å…©å€‹é¡ãƒ¼ãƒ¼å³ CombustionEngine å’ŒElectricEngine ãƒ¼ãƒ¼ spring ç¾åœ¨ç„¡æ³•ç¢ºå®šåœ¨å¯¦ä¾‹åŒ– Car å°è±¡æ™‚æ‡‰è©²ä½¿ç”¨é€™å…©å€‹é¡ä¸­çš„å“ªä¸€å€‹ä¾†æ»¿è¶³ Engine ä¾è³´æ€§ã€‚ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œæˆ‘å€‘å¿…é ˆæ˜ç¢ºåœ°æŒ‡ç¤º Spring ä½¿ç”¨é€™å…©å€‹ bean ä¸­çš„å“ªä¸€å€‹ã€‚</p><p>5.1.1 @ Qualifier è¨»è§£</p><p>ä¸€ç¨®æ–¹æ³•æ˜¯çµ¦æˆ‘å€‘çš„ä¾è³´å°è±¡å‘½å,ä¸¦åœ¨æ‡‰ç”¨@Autowiredè¨»è§£çš„åœ°æ–¹ä½¿ç”¨@Qualifierè¨»è§£ä¾†ç¢ºå®šæ³¨å…¥å“ªä¸€å€‹ä¾è³´å°è±¡ã€‚æ‰€ä»¥,@Qualifier è¨»è§£é™å®šäº†è‡ªå‹•æ³¨å…¥çš„ beanï¼Œå¾è€Œå°‡æ»¿è¶³éœ€æ±‚çš„ bean æ•¸é‡æ¸›å°‘åˆ°ä¸€å€‹ã€‚ä¾‹å¦‚ï¼Œæˆ‘å€‘å¯ä»¥å‘½åæˆ‘å€‘çš„CombustionEngineä¾è³´å°è±¡:</p><pre><code>@Component("defaultEngine")</code><code>public class CombustionEngine implements Engine {</code><br><br><br><code> // ...ä»£ç¢¼çœç•¥,æœªæ”¹è®Š</code><br><br><code>}</code></pre><p>ç„¶å¾Œæˆ‘å€‘å¯ä»¥æ·»åŠ @Qualifier è¨»è§£,å…¶åç¨±å’Œæˆ‘å€‘æƒ³è¦æ³¨å…¥çš„ä¾è³´å°è±¡çš„åç¨±ä¿æŒä¸€è‡´,é€™æ¨£,æˆ‘å€‘Engine å°è±¡åœ¨ Car æ§‹é€ å‡½æ•¸ä¸­è¢«è‡ªå‹•æ³¨å…¥</p><pre><code>@Component</code><code>public class Car {</code><br><br><code> @Autowired</code><br><br><code> public Car(@Qualifier("defaultEngine") Engine engine) {</code><br><br><code> this.engine = engine;</code><br><br><code> }</code><br><br><br><code> // ...existing implementation unchanged...</code><br><br><code>}</code></pre><p>å¦‚æœæˆ‘å€‘é‡æ–°é‹è¡Œæˆ‘å€‘çš„æ‡‰ç”¨ç¨‹åºï¼Œæˆ‘å€‘ä¸å†å ±ä»¥å‰çš„éŒ¯èª¤:</p><pre><code>Started combustion engine</code></pre><p>æ³¨æ„ï¼Œå¦‚æœæ²’æœ‰é¡¯å¼ç”³æ˜beanåç¨±çš„é¡éƒ½æœ‰ä¸€å€‹é»˜èªåç¨±ï¼Œè©²é»˜èªåç¨±å°±æ˜¯é¡åé¦–å­—æ¯å°å¯«ã€‚ä¾‹å¦‚ï¼Œæˆ‘å€‘çš„ Combusttionengine é¡çš„é»˜èªåç¨±æ˜¯ combusttionengine</p><p>5.1.2 @ Primary è¨»è§£</p><p>å¦‚æœæˆ‘å€‘çŸ¥é“é»˜èªæƒ…æ³ä¸‹æˆ‘å€‘æ›´å–œæ­¡ä¸€å€‹å¯¦ç¾ï¼Œé‚£éº¼æˆ‘å€‘å¯ä»¥æ”¾æ£„@Qualifier è¨»é‡‹ï¼Œç›´æ¥å°‡@Primary è¨»é‡‹æ·»åŠ åˆ°é¡ä¸­ã€‚ä¾‹å¦‚ï¼Œæˆ‘å€‘å¯ä»¥å°‡æˆ‘å€‘çš„ Combusttionengineã€ ElectricEngine å’Œ Car é¡æ›´æ”¹ç‚º:</p><pre><code>@Component</code><code>@Primary</code><br><br><code>public class CombustionEngine implements Engine {</code><br><br><br><br><br><code> // ...existing implementation unchanged...</code><br><br><code>}</code><br><br><code>@Component</code><code>public class ElectricEngine implements Engine {</code><br><br><br><br><br><code> // ...existing implementation unchanged...</code><br><br><code>}</code><br><br><br><br><code>@Component</code><code>public class Car {</code><br><br><br><br><br><code> @Autowired</code><br><br><code> public Car(Engine engine) {</code><br><br><code> this.engine = engine;</code><br><br><code> }</code><br><br><br><br><br><code> // ...existing implementation unchanged...</code><br><br><code>}</code></pre><p>æˆ‘å€‘é‡æ–°é‹è¡Œæˆ‘å€‘çš„æ‡‰ç”¨ç¨‹åºï¼Œæˆ‘å€‘æœƒå¾—åˆ°ä»¥ä¸‹è¼¸å‡º:</p><pre><code>Started combustion engine</code></pre><p>é€™è­‰æ˜ï¼Œé›–ç„¶æœ‰å…©ç¨®å¯èƒ½æ€§æ»¿è¶³ Engine ä¾è³´æ€§ï¼Œå³ CombustionEngine å’Œ Electricengineï¼Œä½† Spring èƒ½å¤ æ ¹æ“š@Primary è¨»é‡‹æ±ºå®šå…©ç¨®å¯¦ç¾ä¸­å“ªä¸€ç¨®æ‡‰è©²å„ªå…ˆä½¿ç”¨ã€‚</p><p><strong>5.2 å¾ªç’°ä¾è³´</strong></p><p>é›–ç„¶æˆ‘å€‘å·²ç¶“æ·±å…¥è¨è«–äº† Spring DI çš„åŸºç¤çŸ¥è­˜ï¼Œä½†æ˜¯é‚„æœ‰ä¸€å€‹ä¸»è¦å•é¡Œæ²’æœ‰è§£æ±º: å¦‚æœä¾è³´é—œä¿‚æ¨¹æœ‰ä¸€å€‹å¾ªç’°å¼•ç”¨æœƒç™¼ç”Ÿä»€éº¼ï¼Ÿä¾‹å¦‚ï¼Œå‡è¨­æˆ‘å€‘å‰µå»ºäº†ä¸€å€‹ Foo é¡ï¼Œå®ƒçš„æ§‹é€ å‡½æ•¸éœ€è¦ä¸€å€‹ Bar å°è±¡ï¼Œä½†æ˜¯ Bar æ§‹é€ å‡½æ•¸éœ€è¦ä¸€å€‹ Foo å°è±¡ã€‚</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/S0eL2M8CVbPtwY><p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨ä»£ç¢¼å¯¦ç¾ä¸Šé¢å•é¡Œ:</p><pre><code>@Component</code><code>public class Foo {</code><br><br><br><br><br><br><code> private Bar bar;</code><br><br><br><br><code> @Autowired</code><br><br><code> public Foo(Bar bar) {</code><br><br><code> this.bar = bar;</code><br><br><code> }</code><br><br><code>}</code><br><br><br><br><code>@Component</code><code>public class Bar {</code><br><br><br><br><br><br><code> private Foo foo;</code><br><br><br><br><code> @Autowired</code><br><br><code> public Bar(Foo foo) {</code><br><br><code> this.foo = foo;</code><br><br><code> }</code><br><br><code>}</code></pre><p>ç„¶å¾Œæˆ‘å€‘å¯ä»¥å®šç¾©ä»¥ä¸‹é…ç½®:</p><pre><code>@Configuration</code><code>@ComponentScan(basePackageClasses = Foo.class)</code><code>public class Config {}</code></pre><p>æœ€å¾Œï¼Œæˆ‘å€‘å¯ä»¥å‰µå»ºæˆ‘å€‘çš„ ApplicationContext:</p><pre><code>ApplicationContext context = </code><br><code> new AnnotationConfigApplicationContext(Config.class);</code><br><code>Foo foo = context.getBean(Foo.class);</code></pre><p>ç•¶æˆ‘å€‘åŸ·è¡Œé€™å€‹ä»£ç¢¼ç‰‡æ®µæ™‚ï¼Œæˆ‘å€‘çœ‹åˆ°ä»¥ä¸‹éŒ¯èª¤:</p><pre><code>Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'bar': Requested bean is currently in creation: Is there an unresolvable circular reference?</code></pre><p>é¦–å…ˆï¼ŒSpring å˜—è©¦å‰µå»º Foo å°è±¡ã€‚åœ¨é€™å€‹éç¨‹ä¸­ï¼ŒSpring èªè­˜åˆ°éœ€è¦ä¸€å€‹ Bar å°è±¡ã€‚ç‚ºäº†æ§‹é€  Bar å°è±¡ï¼Œéœ€è¦ä¸€å€‹ Foo å°è±¡ã€‚ç”±æ–¼ Foo å°è±¡ç›®å‰æ­£åœ¨æ§‹å»ºä¸­(é€™ä¹Ÿæ˜¯å‰µå»º Bar å°è±¡çš„åŸå› ) ï¼Œspring èªè­˜åˆ°å¯èƒ½ç™¼ç”Ÿäº†å¾ªç’°å¼•ç”¨ã€‚</p><p>é€™å€‹å•é¡Œæœ€ç°¡å–®çš„è§£æ±ºæ–¹æ¡ˆä¹‹ä¸€æ˜¯åœ¨ä¸€å€‹é¡å’Œæ³¨å…¥é»ä¸Šä½¿ç”¨@Lazyè¨»è§£ã€‚é€™æŒ‡ç¤º Spring æ¨é²å¸¶è¨»è§£çš„ bean å’Œå¸¶è¨»é‡‹çš„@Autowired ä½ç½®çš„åˆå§‹åŒ–ã€‚é€™å…è¨±æˆåŠŸåœ°åˆå§‹åŒ–å…¶ä¸­ä¸€å€‹ beanï¼Œå¾è€Œæ‰“ç ´å¾ªç’°ä¾è³´éˆã€‚ç†è§£äº†é€™ä¸€é»ï¼Œæˆ‘å€‘å¯ä»¥æ”¹è®Š Foo å’Œ Bar é¡:</p><pre><code>@Component</code><code>public class Foo {</code><br><br><br><br><br><code> private Bar bar;</code><br><br><br><br><code> @Autowired</code><br><br><code> public Foo(@Lazy Bar bar) {</code><br><br><code> this.bar = bar;</code><br><br><code> }</code><br><br><code>}</code><br><br><br><br><code>@Component</code><br><br><code>@Lazy</code><br><br><code>public class Bar {</code><br><br><br><br><code> @Autowired</code><br><br><code> public Bar(Foo foo) {}</code><br><br><code>}</code></pre><p>å¦‚æœä½¿ç”¨@Lazy è¨»è§£å¾Œé‡æ–°é‹è¡Œæ‡‰ç”¨ç¨‹åºï¼Œæ²’æœ‰ç™¼ç¾å ±å‘Šä»»ä½•éŒ¯èª¤ã€‚</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RTLSNam5ZxLDlM><p><strong>ç¸½çµ</strong></p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å€‘æ¢è¨äº† Spring çš„åŸºç¤çŸ¥è­˜ï¼ŒåŒ…æ‹¬ IoCã€ DI å’Œ Spring ApplicationContextã€‚ç„¶å¾Œï¼Œæˆ‘å€‘ä»‹ç´¹äº†ä½¿ç”¨åŸºæ–¼ java çš„é…ç½®å’ŒåŸºæ–¼ xml çš„é…ç½®å‰µå»º Spring æ‡‰ç”¨ç¨‹åºçš„åŸºæœ¬çŸ¥è­˜ï¼ŒåŒæ™‚ç ”ç©¶äº†ä½¿ç”¨ Spring DI æ™‚å¯èƒ½é‡åˆ°çš„ä¸€äº›å¸¸è¦‹å•é¡Œã€‚é›–ç„¶é€™äº›æ¦‚å¿µä¸€é–‹å§‹å¯èƒ½æ™¦æ¾€é›£æ‡‚ï¼Œèˆ‡ Spring ä»£ç¢¼è„«ç¯€ï¼Œä½†æ˜¯æˆ‘å€‘å¯ä»¥å¾åŸºåº•å±¤èªè­˜Spirng,å¸Œæœ›å°å¤§å®¶æœ‰æ‰€å¹«åŠ©,è¬è¬å¤§å®¶ã€‚</p><p>ç‰ˆæ¬Šè²æ˜ï¼šæœ¬æ–‡ç‚ºCSDNåšä¸»ã€Œéº¥æ´›_ã€çš„åŸå‰µæ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæ¬Šå”è­°ï¼Œè½‰è¼‰è«‹é™„ä¸ŠåŸæ–‡å‡ºè™•éˆæ¥åŠæœ¬è²æ˜ã€‚</p><p>åŸæ–‡éˆæ¥ï¼šhttps://blog.csdn.net/milogenius/article/details/106255686</p><img alt="ç›¤ä¸€ç›¤ Spring æ ¸å¿ƒæŠ€è¡“ä¹‹ä¾è³´æ³¨å…¥ | åŸåŠ›è¨ˆåŠƒ" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/S0GVSUiJIQqlmu><pre><pre><pre><p>â˜é–‹æºå…¬å¸ HashiCorp åœ‹å…§éšªé­ç¦ï¼Œé˜¿é‡Œã€è¯ç‚ºä¹Ÿè¦åšå¥½ B è¨ˆåŠƒï¼Ÿ</p><p>â˜èˆªæ‹é«˜æ‰‹ã€å‰ä»–åç´šï¼Œ6500+Star é–‹æºé …ç›®ä½œè€…ï¼Œå¾Œæµªç¨‹åºå“¡çµ¦åŠ›ï¼</p><p>â˜é¢è©¦å®˜ï¼šä½ çš„ SQL ä¸€èˆ¬æœ‰å¹¾å€‹ joinï¼Ÿ| åŸåŠ›è¨ˆåŠƒ</p><p>â˜åŸºæ–¼æ·±åº¦å­¸ç¿’å’Œå‚³çµ±ç®—æ³•çš„äººé«”å§¿æ…‹ä¼°è¨ˆï¼ŒæŠ€è¡“ç´°ç¯€éƒ½è¬›æ¸…æ¥šäº†</p><p>â˜é¢è©¦ä¸­é‡åˆ°é€™ 3 å€‹SQLå•é¡Œï¼Œæœ€å®¹æ˜“æ‰å‘è£¡ï¼</p><p>â˜å¥½æ’²ç§‘æŠ€çµåˆå€å¡Šéˆè¡Œæ¥­ç™¼å±•è¶¨å‹¢ï¼Œé‡ç£…æ¨å‡ºâ€œå¥½æ’²å€å¡Šéˆåˆå¤¥äººâ€è¨ˆåŠƒ</p></pre></pre></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>ç›¤ä¸€ç›¤</a></li><li><a>Spring</a></li><li><a>æŠ€è¡“</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/b5dd97d4.html alt=Springæ¡†æ¶AOPæŠ€è¡“ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/760bf32faca443cb8e28ed0b9bc20205 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b5dd97d4.html title=Springæ¡†æ¶AOPæŠ€è¡“>Springæ¡†æ¶AOPæŠ€è¡“</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/93727dba.html alt="æŠ€è¡“å¸– | 3åˆ†é˜æå®šå„ç¨®æ¸¬è©¦åˆ†ææŠ€è¡“" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/f055e0a4477240088de2abb7cd696cfa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/93727dba.html title="æŠ€è¡“å¸– | 3åˆ†é˜æå®šå„ç¨®æ¸¬è©¦åˆ†ææŠ€è¡“">æŠ€è¡“å¸– | 3åˆ†é˜æå®šå„ç¨®æ¸¬è©¦åˆ†ææŠ€è¡“</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2d0ddee5.html alt=å»ºç¯‰æˆ¿å±‹çµæ§‹å¹³è¡¡æŠ€è¡“è¦æ±‚ï¼Œä½ éƒ½æœƒçŸ¥é“å—ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/5e7d0001715d878ed66c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2d0ddee5.html title=å»ºç¯‰æˆ¿å±‹çµæ§‹å¹³è¡¡æŠ€è¡“è¦æ±‚ï¼Œä½ éƒ½æœƒçŸ¥é“å—ï¼Ÿ>å»ºç¯‰æˆ¿å±‹çµæ§‹å¹³è¡¡æŠ€è¡“è¦æ±‚ï¼Œä½ éƒ½æœƒçŸ¥é“å—ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/47c8cac0.html alt=æ–°ã€Šè£é…å¼æ··å‡åœŸå»ºç¯‰æŠ€è¡“æ¨™æº–ã€‹æœ‰å“ªäº›æ”¹è®Šï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1540524372015dc56ec3fb9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/47c8cac0.html title=æ–°ã€Šè£é…å¼æ··å‡åœŸå»ºç¯‰æŠ€è¡“æ¨™æº–ã€‹æœ‰å“ªäº›æ”¹è®Šï¼Ÿ>æ–°ã€Šè£é…å¼æ··å‡åœŸå»ºç¯‰æŠ€è¡“æ¨™æº–ã€‹æœ‰å“ªäº›æ”¹è®Šï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b6c2fc2b.html alt=éˆ¦åˆé‡‘ç²¾å¯†é‘„é€ æŠ€è¡“ç™¼å±•ç¾ç‹€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/SCynkUUBbHN8CF style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b6c2fc2b.html title=éˆ¦åˆé‡‘ç²¾å¯†é‘„é€ æŠ€è¡“ç™¼å±•ç¾ç‹€>éˆ¦åˆé‡‘ç²¾å¯†é‘„é€ æŠ€è¡“ç™¼å±•ç¾ç‹€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d2e8af08.html alt=å‚¾æ–œèˆªæ”æŠ€è¡“å°çŸ¥è­˜â€”â€”èˆªç·šè¨­è¨ˆç¯‡ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RS1ucOiDvLRlVt style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d2e8af08.html title=å‚¾æ–œèˆªæ”æŠ€è¡“å°çŸ¥è­˜â€”â€”èˆªç·šè¨­è¨ˆç¯‡>å‚¾æ–œèˆªæ”æŠ€è¡“å°çŸ¥è­˜â€”â€”èˆªç·šè¨­è¨ˆç¯‡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d597da51.html alt=é»ƒæ²³é›»åŠ›æŠ€è¡“å…¬å¸åœ¨é¾ç¾Šå³½é€²è¡Œç„¡äººæ©Ÿå‚¾æ–œæ”å½±æ¸¬é‡ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1528429551298e033646798 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d597da51.html title=é»ƒæ²³é›»åŠ›æŠ€è¡“å…¬å¸åœ¨é¾ç¾Šå³½é€²è¡Œç„¡äººæ©Ÿå‚¾æ–œæ”å½±æ¸¬é‡>é»ƒæ²³é›»åŠ›æŠ€è¡“å…¬å¸åœ¨é¾ç¾Šå³½é€²è¡Œç„¡äººæ©Ÿå‚¾æ–œæ”å½±æ¸¬é‡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cdb604f6.html alt=ã€Šé›·ç¥4ï¼šæ„›èˆ‡é›·ã€‹å°‡æ¡ç”¨â€œè™›æ“¬è£½ä½œâ€æŠ€è¡“ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/83a320a69b0f44e3baf7db07faac3c65 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cdb604f6.html title=ã€Šé›·ç¥4ï¼šæ„›èˆ‡é›·ã€‹å°‡æ¡ç”¨â€œè™›æ“¬è£½ä½œâ€æŠ€è¡“>ã€Šé›·ç¥4ï¼šæ„›èˆ‡é›·ã€‹å°‡æ¡ç”¨â€œè™›æ“¬è£½ä½œâ€æŠ€è¡“</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1cd5b6b6.html alt=è™›æ“¬ç¾å¯¦æŠ€è¡“åœ¨æ™ºèƒ½è£½é€ é ˜åŸŸå…·æœ‰é‡è¦çš„æ‡‰ç”¨åƒ¹å€¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/3ed327880d3b4c5384619f21d6c81823 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1cd5b6b6.html title=è™›æ“¬ç¾å¯¦æŠ€è¡“åœ¨æ™ºèƒ½è£½é€ é ˜åŸŸå…·æœ‰é‡è¦çš„æ‡‰ç”¨åƒ¹å€¼>è™›æ“¬ç¾å¯¦æŠ€è¡“åœ¨æ™ºèƒ½è£½é€ é ˜åŸŸå…·æœ‰é‡è¦çš„æ‡‰ç”¨åƒ¹å€¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3a2b0c81.html alt="è™›æ“¬è£½é€ çš„åŸºçŸ³ï¼šæ•¸å€¼æ¨¡æ“¬æŠ€è¡“ | åŠ å¿«å¯¦ç¾å·¥æ¥­æ•¸å­—åŒ–" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/2f2c32f4bd734f9face045546d45a665 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3a2b0c81.html title="è™›æ“¬è£½é€ çš„åŸºçŸ³ï¼šæ•¸å€¼æ¨¡æ“¬æŠ€è¡“ | åŠ å¿«å¯¦ç¾å·¥æ¥­æ•¸å­—åŒ–">è™›æ“¬è£½é€ çš„åŸºçŸ³ï¼šæ•¸å€¼æ¨¡æ“¬æŠ€è¡“ | åŠ å¿«å¯¦ç¾å·¥æ¥­æ•¸å­—åŒ–</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ee69f5ac.html alt=åŸºæ–¼æ©Ÿå™¨è¦–è¦ºæŠ€è¡“å¿«é€Ÿæº–ç¢ºåœ°ç¢ºå®šæ”¶ç©«å¾Œå¹¹å¤§è±†ç¨®å­çš„å“è³ª class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/519b968bf69146fda9bf55f89779d373 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ee69f5ac.html title=åŸºæ–¼æ©Ÿå™¨è¦–è¦ºæŠ€è¡“å¿«é€Ÿæº–ç¢ºåœ°ç¢ºå®šæ”¶ç©«å¾Œå¹¹å¤§è±†ç¨®å­çš„å“è³ª>åŸºæ–¼æ©Ÿå™¨è¦–è¦ºæŠ€è¡“å¿«é€Ÿæº–ç¢ºåœ°ç¢ºå®šæ”¶ç©«å¾Œå¹¹å¤§è±†ç¨®å­çš„å“è³ª</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e203d547.html alt=å’Œä½ ä¸€èµ·çš„è»è¨“ï¼Œä¸‹é›¨ä¹Ÿç”œèœœï½œå››å·è¨—æ™®ä¿¡æ¯æŠ€è¡“è·æ¥­å­¸é™¢è»è¨“è¨˜ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/4cd61c2a490f48ebb0aa74d30ec8766b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e203d547.html title=å’Œä½ ä¸€èµ·çš„è»è¨“ï¼Œä¸‹é›¨ä¹Ÿç”œèœœï½œå››å·è¨—æ™®ä¿¡æ¯æŠ€è¡“è·æ¥­å­¸é™¢è»è¨“è¨˜>å’Œä½ ä¸€èµ·çš„è»è¨“ï¼Œä¸‹é›¨ä¹Ÿç”œèœœï½œå››å·è¨—æ™®ä¿¡æ¯æŠ€è¡“è·æ¥­å­¸é™¢è»è¨“è¨˜</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/916c8d26.html alt=é‹çˆå°ˆæ¥­æŠ€è¡“å•ç­”100æ¢ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/916c8d26.html title=é‹çˆå°ˆæ¥­æŠ€è¡“å•ç­”100æ¢>é‹çˆå°ˆæ¥­æŠ€è¡“å•ç­”100æ¢</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0efa050d.html alt=ã€ŒæŠ€è¡“ã€å·®é€Ÿå™¨ç¸½æˆçµæ§‹èˆ‡æ€§èƒ½åƒæ•¸åˆ†æ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/fa9c698160c045c8a64c08dac6018a30 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0efa050d.html title=ã€ŒæŠ€è¡“ã€å·®é€Ÿå™¨ç¸½æˆçµæ§‹èˆ‡æ€§èƒ½åƒæ•¸åˆ†æ>ã€ŒæŠ€è¡“ã€å·®é€Ÿå™¨ç¸½æˆçµæ§‹èˆ‡æ€§èƒ½åƒæ•¸åˆ†æ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4db7ced8.html alt="æŠ€è¡“ | æ°´æ³¥ç£¨ä¸»æ¸›é€Ÿæ©Ÿé«˜é€Ÿè»¸è»¸æ‰¿æ›´æ›" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/a1cfa2b9a4e74251a6b1114ba246a08f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4db7ced8.html title="æŠ€è¡“ | æ°´æ³¥ç£¨ä¸»æ¸›é€Ÿæ©Ÿé«˜é€Ÿè»¸è»¸æ‰¿æ›´æ›">æŠ€è¡“ | æ°´æ³¥ç£¨ä¸»æ¸›é€Ÿæ©Ÿé«˜é€Ÿè»¸è»¸æ‰¿æ›´æ›</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>