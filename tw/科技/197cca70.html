<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>阿里架構師講面試：計算機網絡通信 | 极客快訊</title><meta property="og:title" content="阿里架構師講面試：計算機網絡通信 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/c715b35ed2114af7906b9ed9623b3dc0"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/197cca70.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/197cca70.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/197cca70.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/197cca70.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/197cca70.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/197cca70.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/197cca70.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/197cca70.html><meta property="article:published_time" content="2020-10-29T21:10:19+08:00"><meta property="article:modified_time" content="2020-10-29T21:10:19+08:00"><meta name=Keywords content><meta name=description content="阿里架構師講面試：計算機網絡通信"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/197cca70.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>阿里架構師講面試：計算機網絡通信</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>應用層</h1><h1 class=pgc-h-arrow-right>為什麼要引入應用層</h1><p>定義進程間傳輸的內容規範。</p><p>對於不同的網絡應用需要不同的應用層協議。在互聯網中應用層協議很多，如域名系統 DNS，支持萬維網應用的 HTTP 協議，支持電子郵件的 SMTP 協議等等。我們把應用層交互的數據單元稱為報文。</p><h1 class=pgc-h-arrow-right>HTTP協議</h1><h1 class=pgc-h-arrow-right>https</h1><div class=pgc-img><img alt=阿里架構師講面試：計算機網絡通信 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c715b35ed2114af7906b9ed9623b3dc0><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>http長鏈接和短鏈接</h1><p>對於HTTP 1.0的http標準而言，默認連接是短連接，啥叫短連接？就是服務器當發送完最後一個字節的數據之後將關閉連接，也就是回收tcp_sock結構，這樣，如果客戶端再發送數據給服務器，將直接丟棄。即使此時客戶端還有這樣的結構，但是我們說連接已經關閉或者已經斷了。那客戶端知不知道啥時候服務器的連接關閉？不知道，雙方可以在任何時候來關閉自己的連接而沒有必要通知對方。那段連接的弊端，大家可能都已經知道了，如果對一個服務器要連續發送多個請求，還需要為每次請求建立新的連接。</p><p>為了降低建立連接的時間，HTTP 1.1引入了長連接的概念，並把它搞成了默認的連接方式。啥叫長連接？就是當完成一個業務之後，socket結構並不回收。這樣，只要在socket結構還存在的時候，客戶端發送的任何數據，服務器都可以收到，這就是所謂的長連接。</p><p>相比短連接而言，長連接並沒有什麼特別的新的技術，只是維護socket結構時間長了。因為，說http長連接更不如說是tcp長連接。</p><h1 class=pgc-h-arrow-right>http和tcp協議關係</h1><p>TCP是底層通訊協議，定義的是進程間數據傳輸和連接方式的規範（進程間可靠傳輸）；</p><p>HTTP是應用層協議，定義的是進程間傳輸數據的內容的規範（應用層內容規範約定）；</p><h1 class=pgc-h-arrow-right>傳輸層</h1><h1 class=pgc-h-arrow-right>為什麼引入傳輸層</h1><p>我們知道傳輸層位於網絡層之上，網絡層提供了主機之間的邏輯通道。那既然已經把一個數據包從一個主機發到另一個主機上面了，為什麼還需要傳輸層呢？這是因為傳輸層提供了應用進程之間的端-端連接。我們知道一個電腦可能有多個進程同時在使用網絡連接，那麼網絡包達到主機之後，怎麼區分自己屬於那個進程？這就需要靠傳輸層的作用了。（網絡層只負責IP層面的數據傳輸，且對可靠性不負責）因此，引入傳輸層主要有兩點：</p><ul><li>進程層面的數據通信協議。</li><li>傳輸可靠性保障。</li></ul><p>參考：blog.csdn.net/hanzhen7541…</p><h1 class=pgc-h-arrow-right>TCP協議</h1><h1 class=pgc-h-arrow-right>什麼是TCP鏈接？</h1><p>這裡先說結論，連接實際上是操作系統內核的一種數據結構，稱為TCP控制塊（TCB），對於linux而言是tcp_sock結構。用於保證可靠性和流控制機制的信息，包括 Socket、序列號以及窗口大小叫做連接。</p><div class=pgc-img><img alt=阿里架構師講面試：計算機網絡通信 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/22b4f825135a43658a7111ea27e786e7><p class=pgc-img-caption></p></div><p>建立 TCP 連接就是通信的雙方需要對上述的三種信息達成共識，連接中的一對 Socket 是由互聯網地址標誌符（IP）和端口組成的，窗口大小主要用來做流控制，最後的序列號是用來追蹤通信發起方發送的數據包序號，接收方可以通過序列號向發送方確認某個數據包的成功接收。</p><h1 class=pgc-h-arrow-right>為什麼需要TCB？</h1><div class=pgc-img><img alt=阿里架構師講面試：計算機網絡通信 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/42f2b5859c4a479f9b900b92dff2daf5><p class=pgc-img-caption></p></div><p>當應用希望發送數據時，並不是直接向網卡驅動發數據，而是先放入到一個內核緩衝區中，然後根據一定算法（達到一定數量或者調用flush之後），緩衝區中的數據就發送到網卡中了（這裡說的不準確，實際上，是網卡主動從緩衝區中拷貝出來的，但並不影響我們理解）。</p><p>當網卡收到數據時，數據包要先經過如下幾步：</p><ol start=1><li>數據包要先經過網卡校驗正確與否。</li><li>數據鏈路層根據報頭的類型傳給不同的上層類型（IP層或者其他），並移除了數據鏈路層報頭。</li><li>IP層也需要先校驗，然後根據IP報頭選擇不同的類型（TCP或者UDP），然後移除IP層報頭，並將剩餘的數據發送到相應的處理程序（tcp或udp)</li><li>到了tcp層，處理程序此時根據tcp首部中的端口號選擇一個socket，並將其載荷數據拷貝進去。</li></ol><p>所以到這裡，我們就應該知道，每個socket必須要有自己獨立的發送緩衝區和接收緩衝區，並且還應該還有其他控制結構或者表示結構，這就構成了TCB，沒有TCB，接收到的數據根本就不知道要傳遞到哪裡。</p><h1 class=pgc-h-arrow-right>為什麼說四元組是連接的唯一標識？</h1><p>我們可能已經多次看到這樣一種說法：一個tcp連接由一個連接四元組唯一標識。連接四元組是指&lt;\source ip,source port,target ip,target port>。</p><p>為什麼需要四元組，我們就不多說了，如果四個元素缺少任何一個都會發生衝突。那在網絡接收過程中是如何利用到這四元組呢？</p><p>看了上個部分，你可能會有種錯覺，是網卡一步一步向上傳遞的。其實嚴格說並不是這樣，當網卡收到數據之後，首先經過校驗沒有錯誤之後，通過DMA直接發送到內存緩衝區中，然後給CPU發送一箇中斷信號，通知操作系統一個數據包到了。</p><p>注意：這裡面的內存緩衝區並不是socket的接收緩衝區，而是網卡驅動提前向操作系統申請的一塊內存，並且驅動會提前告訴網卡這塊內存的地址（注意是物理地址）和大小。如果沒有這塊內存緩衝區，那麼網卡會直接將數據丟掉。</p><p>在操作系統獲悉到一個數據包來到之後，就利用中斷函數來一步步執行並解析數據包，直到TCP層，到了TCP層，TCP要決定將數據包發給哪個socket的接收緩衝區。</p><p>怎麼找？這裡TCP就是利用連接四元組，並以這個四元組為key，查找hash表找到對應的socket的socket結構指針，並利用該指針找到對應socket的接收緩衝區，並將載荷數據拷貝進去。</p><h1 class=pgc-h-arrow-right>半連接隊列和SYN攻擊</h1><p>服務器第一次收到客戶端的 SYN 之後，就會處於 SYN_RCVD 狀態，此時雙方還沒有完全建立其連接，服務器會把此種狀態下請求連接放在一個<strong>隊列</strong>裡，我們把這種隊列稱之為<strong>半連接隊列</strong>。</p><p>當然還有一個<strong>全連接隊列</strong>，就是已經完成三次握手，建立起連接的就會放在全連接隊列中。如果隊列滿了就有可能會出現丟包現象。</p><p><strong>SYN攻擊就是Client在短時間內偽造大量不存在的IP地址，並向Server不斷地發送SYN包</strong>，Server則回覆確認包，並等待Client確認，由於源地址不存在，因此Server需要不斷重發直至超時，這些偽造的SYN包將長時間佔用半連接隊列，導致正常的SYN請求因為隊列滿而被丟棄，從而引起網絡擁塞甚至系統癱瘓。</p><h1 class=pgc-h-arrow-right>TCP為什麼要三次握手和四次揮手？</h1><p>我們將原有的問題轉換成：為什麼需要通過三次握手才可以初始化 Sockets、窗口大小和初始序列號？</p><ol start=1><li>阻止歷史的重複連接初始化造成的混亂問題，防止使用 TCP 協議通信的雙方建立了錯誤的連接。（通過序列號即可判斷）</li><li>對通信雙方的初始序列號進行初始化。</li></ol><div class=pgc-img><img alt=阿里架構師講面試：計算機網絡通信 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9a5eb4cf76454a90abdcdc8586090ae7><p class=pgc-img-caption></p></div><p>如上圖所示，通信雙方的兩個 TCP A/B 分別向對方發送 SYN 和 ACK 控制消息，等待通信雙方都獲取到了自己期望的初始化序列號之後就可以開始通信了，由於 TCP 消息頭的設計，我們可以將中間的兩次通信合成一個，TCP B 可以向 TCP A 同時發送 ACK 和 SYN 控制消息，這也就幫助我們將四次通信減少至三次。</p><ol start=1><li>客戶端：我的序列號從100開始的。</li><li>服務端：知道了。我的序列號從300開始的。</li><li>客戶端：知道了。</li></ol><p>因為當服務端收到客戶端的SYN連接請求報文後，可以直接發送SYN+ACK報文。其中<strong>ACK報文是用來應答的，SYN報文是用來同步的</strong>。<strong>但是關閉連接時，當服務端收到FIN報文時，很可能並不會立即關閉SOCKET**</strong>，**所以只能先回復一個ACK報文，告訴客戶端，"你發的FIN報文我收到了"。只有等到我服務端所有的報文都發送完了，我才能發送FIN報文，因此不能一起發送。故需要四次揮手：</p><ol start=1><li>客戶端：關掉了。</li><li>服務端：知道了。</li><li>服務端：關掉了。</li><li>客戶端：知道了。</li></ol><p>參考：</p><p>draveness.me/whys-the-de…</p><p>juejin.im/post/5d9c28…</p><h1 class=pgc-h-arrow-right>TCP如何保障可靠傳輸？</h1><h1 class=pgc-h-arrow-right>停止等待ARQ協議</h1><ol start=1><li>A向B每發送一個分組，都要停止發送，等待B的確認應答；A只有收到了B的<strong>確認應答</strong>後才能發送下一個分組。</li><li>當分組丟失或出現差錯的情況下，A都會<strong>超時重傳</strong>分組。</li></ol><p><strong>應答丟失**</strong>和應答遲到的情況**</p><p><strong>TCP會給每個字節都打上序號</strong>，用於判斷該分組是否已經接收。</p><p>應答丟失：若B正確收到分組，並已經返回應答，但應答在返回途中丟失了。此時A也收不到應答，從而超時重傳。緊接著B又收到了該分組。接收者根據序號來判斷當前收到的分組是否已經接收，若已接收則直接丟棄，並補上一個確認應答。</p><p>應答遲到：若由於網絡擁塞，A遲遲收不到B發送的應答，因此會超時重傳。B收到該分組後，發現已經接收，便丟棄該分組，並向A補上確認應答。A收到應答後便繼續發送下一個分組。但經過了很長時間後，那個失效的應答最終抵達了A，此時A可根據序號判斷該分組已經接收，此時只需簡單丟棄即可。</p><p><strong>停止等待協議的注意點</strong></p><ul><li>每發送完一個分組，該分組必須被保留，直到收到確認應答為止。</li><li>必須給每個分組進行編號。以便按序接收，並判斷該分組是否已被接收。</li><li>必須設置超時計時器。每發送一個分組就要啟動計時器，超時就要重發分組。</li><li>計時器的超時時間要大於應答的平均返回時間，否則會出現很多不必要的重傳，降低傳輸效率。但超時時間也不能太長。</li></ul><h1 class=pgc-h-arrow-right>連續ARQ協議&lt;滑動窗口協議></h1><p>停止等待ARQ(Automatic Repeat reQuest)協議發送者每次只能發送一個分組，在應答到來前必須等待。而連續ARQ協議的發送者擁有一個<strong>發送窗口</strong>，<strong>發送者可以在沒有得到應答的情況下連續發送窗口中的分組。</strong></p><ul><li><strong>累計確認</strong></li></ul><p>在連續ARQ協議中，接收者也有個<strong>接收窗口</strong>，接收者並不需要每收到一個分組就返回一個應答，可以連續收到分組之後統一返回一個應答。</p><ul><li><strong>流量控制</strong></li></ul><p>如果發送者發送數據過快，接收者來不及接收，那麼就會有分組丟失。為了避免分組丟失，控制發送者的發送速度，使得接收者來得及接收，這就是流量控制。流量控制根本目的是防止分組丟失，它是構成TCP可靠性的一方面。</p><p>滑動窗口協議既保證了分組無差錯、有序接收，也實現了流量控制。主要的方式就是接收方返回的 ACK 中會包含自己的接收窗口的大小，並且利用接收窗口大小來控制發送方的數據發送。</p><p><strong>流量控制引發的死鎖？怎麼避免死鎖的發生？</strong></p><p>當發送者收到了一個窗口為0的應答，發送者便停止發送，等待接收者的下一個應答。但是如果接下來窗口不為0的應答在傳輸過程丟失，發送者一直等待下去，而接收者以為發送者已經收到該應答，等待接收新數據，這樣雙方就相互等待，從而產生死鎖。</p><p><strong>為了避免流量控制引發的死鎖，TCP使用了持續計時器。</strong>每當發送者收到一個零窗口的應答後就啟動該計時器。時間一到便主動發送報文詢問接收者的窗口大小。若接收者仍然返回零窗口，則重置該計時器繼續等待；若窗口不為0，則表示應答報文丟失了，此時重置發送窗口後開始發送，這樣就避免了死鎖的產生。</p><ul><li><strong>擁塞控制</strong></li></ul><p>擁塞控制就是防止過多的數據注入網絡中，這樣可以使網絡中的路由器或鏈路不致過載。<strong>擁塞控制是一個全局性的過程，和流量控制不同，流量控制指點對點通信量的控制。</strong></p><p>發送方維持一個叫做<strong>擁塞窗口</strong>cwnd<strong>（</strong>congestion window<strong>）</strong>的狀態變量。擁塞窗口的大小取決於網絡的擁塞程度，並且動態地在變化。發送方讓自己的發送窗口等於擁塞窗口，另外考慮到接受方的接收能力，發送窗口可能小於擁塞窗口。&lt;如果接收窗口小於擁塞窗口，則發送窗口大小等於接收窗口></p><p><strong>慢開始算法</strong>的思路就是，不要一開始就發送大量的數據，先探測一下網絡的擁塞程度，也就是說由小到大逐漸增加擁塞窗口的大小。&lt;從1指數增長></p><p>為了防止cwnd增長過大引起網絡擁塞，還需設置一個<strong>慢開始門限**</strong>ssthresh**狀態變量。ssthresh的用法如下：</p><p><strong>當</strong>cwnd&lt;ssthresh<strong>時，使用慢開始算法。</strong></p><p><strong>當</strong>cwnd>ssthresh<strong>時，改用擁塞避免算法。</strong></p><p><strong>當</strong>cwnd=ssthresh<strong>時，慢開始與擁塞避免算法任意。</strong></p><p>擁塞避免算法讓擁塞窗口緩慢增長，即每經過一個往返時間RTT就把發送方的擁塞窗口cwnd加1，而不是加倍。這樣擁塞窗口按線性規律緩慢增長。</p><p>無論是在<strong>慢開始階段</strong>還是在<strong>擁塞避免階段</strong>，只要發送方判斷網絡出現擁塞（其根據就是沒有收到確認，雖然沒有收到確認可能是其他原因的分組丟失，但是因為無法判定，所以都當做擁塞來處理），就把慢開始門限設置為出現擁塞時的發送窗口大小的一半。然後把擁塞窗口設置為1，執行慢開始算法。如下圖：</p><div class=pgc-img><img alt=阿里架構師講面試：計算機網絡通信 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/51cc390654a54f4d97eb8b0931e0fddd><p class=pgc-img-caption></p></div><p><br></p><p><strong>快重傳</strong>要求接收方在收到一個失序的報文段後就立即發出重複確認（為的是使發送方及早知道有報文段沒有到達對方）而不要等到自己發送數據時捎帶確認。快重傳算法規定，發送方只要一連收到三個重複確認就應當立即重傳對方尚未收到的報文段，而不必繼續等待設置的重傳計時器時間到期。</p><p>快重傳配合使用的還有<strong>快恢復</strong>算法，有以下兩個要點:</p><p>①當發送方連續收到三個重複確認時，就執行“乘法減小”算法，把ssthresh門限減半。但是接下去並不執行慢開始算法。</p><p>②考慮到如果網絡出現擁塞的話就不會收到好幾個重複的確認，所以發送方現在認為網絡可能沒有出現擁塞。所以此時不執行慢開始算法，而是將cwnd設置為ssthresh的大小，然後執行擁塞避免算法。如下圖：</p><div class=pgc-img><img alt=阿里架構師講面試：計算機網絡通信 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/8a49b4e57c874c60b7e6126d249957b6><p class=pgc-img-caption></p></div><p><strong>連續ARQ的注意點：</strong></p><ul><li>接收者收到的字節會存入接收窗口，接收者會對已經正確接收的有序字節進行累計確認，發送完確認應答後，接收窗口就可以向前移動指定字節。</li><li>同一時刻發送窗口的大小並不一定和接收窗口一樣大。雖然發送窗口的大小是根據接收窗口的大小來設定的，但應答在網絡中傳輸是有時間的，有可能t1時間接收窗口大小為m，但當確認應答抵達發送者時，接收窗口的大小已經發生了變化。</li><li>此外發送窗口的大小還隨網絡擁塞情況影響。當網絡出現擁塞時，發送窗口將被調小。</li><li>TCP標準並未規定未按序到達的字節的處理方式。但TCP一般都會緩存這些字節，等缺少的字節到達後再交給應用層處理。這比直接丟棄亂序的字節要節約帶寬。</li><li>TCP標準規定接收方必須要有累計確認功能。接收方可以對多個TCP報文段同時確認，但不能拖太長時間，一般是0.5S以內。</li></ul><p>blog.csdn.net/sinat_21112…</p><h1 class=pgc-h-arrow-right>TCP和UDP區別</h1><p>TCP（Transmission Control Protocol，傳輸控制協議）</p><p>UDP（User Datagram Protocol，用戶數據包協議）</p><p>當IP包通過路由將數據傳輸到目的地時，會根據TCP或UDP包頭中的源端口和目的端口信息，請求和獲取不同的應用。也就是說，不管TCP還是UDP，都含有網絡服務必須的源端口和目的端口信息，以建立和實現網絡傳輸服務。這時，你的疑問就來了：既然都用於傳輸，為何要搞兩個不同的協議呢？這就需要從網絡中不同服務的需求來談起。</p><p>在網絡中，<strong>有些服務，如HTTP、FTP等，對數據的可靠性要求較高</strong>，在使用這些服務時，必須保證數據包能夠完整無誤的送達；<strong>而另外一些服務，如DNS、即時聊天工具等，並不需要這麼高的可靠性，高效率和實時性才是它們所關心的。</strong>根據這兩種服務不同的需求，也就誕生了面向連接的TCP協議，以及面向無連接的UDP協議。</p><p>TCP報文是交由IP網絡來負責運輸，IP網絡並不能保證TCP報文到達目的地，既然IP網絡是指望不上了，那TCP就自力更生吧，TCP必須依賴自身的努力來保證數據傳輸的可靠。</p><ul><li>可靠性</li><li>基於連接與無連接；</li><li>TCP保證數據可達性和順序性，UDP可能丟包和亂序；</li><li>資源佔用</li><li>對系統資源的要求（TCP較多，UDP少）；UDP報文頭8個字節，TCP報文頭字節20個字節<strong>。</strong></li><li>速度</li><li>UDP協議吞吐量不受流量控制和擁塞控制的調節，只受應用軟件生成數據的速率、傳輸帶寬、 遠端和終端主機性能的限制。因此UDP協議吞吐量更大。</li><li>簡單</li><li>UDP程序結構較簡單；</li><li>流模式（字節）與數據報（http報文）模式 ；</li></ul><h1 class=pgc-h-arrow-right>網絡層</h1><h1 class=pgc-h-arrow-right>為什麼引入網絡層</h1><p>負責計算機節點之間的通信鏈路，不可靠。</p><p>互聯網是由大量的異構（heterogeneous）網絡通過路由器（router）相互連接起來的。互聯網使用的網絡層協議是無連接的網際協議（Intert Prococol）&lt;IP報文解析>和許多路由選擇協議&lt;網絡尋址>，因此互聯網的網絡層也叫做IP層。</p><h1 class=pgc-h-arrow-right>數據鏈路層</h1><p>數據鏈路層(data link layer)通常簡稱為鏈路層。兩臺主機之間的數據傳輸，總是在一段一段的鏈路上傳送的，這就需要使用專門的鏈路層的協議。 在兩個相鄰節點之間傳送數據時，數據鏈路層將網絡層交下來的 IP 數據包組裝成幀，在兩個相鄰節點間的鏈路上傳送幀。每一幀包括數據和必要的控制信息（如同步信息，地址信息，差錯控制等）。</p><p>在接收數據時，控制信息使接收端能夠知道一個幀從哪個比特開始和到哪個比特結束。這樣，數據鏈路層在收到一個幀後，就可從中提出數據部分，上交給網絡層。 控制信息還使接收端能夠檢測到所收到的幀中有誤差錯。如果發現差錯，數據鏈路層就簡單地丟棄這個出了差錯的幀，以避免繼續在網絡中傳送下去白白浪費網絡資源。</p><h1 class=pgc-h-arrow-right>物理層</h1><p>在物理層上所傳送的數據單位是比特。 物理層(physical layer)的作用是實現相鄰計算機節點之間比特流的透明傳送，儘可能屏蔽掉具體傳輸介質和物理設備的差異。</p><p><strong>覺得有收穫的話幫忙點個贊關注一下小編吧，讓有用的知識分享給更多的人！</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>架構</a></li><li><a>師講</a></li><li><a>面試</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/24a6006e.html alt=服務器架構：十張圖帶你瞭解大型網站架構 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/2af10e2429bc47a5823244277a07bb77 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/24a6006e.html title=服務器架構：十張圖帶你瞭解大型網站架構>服務器架構：十張圖帶你瞭解大型網站架構</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6237da3d.html alt=朗坤雙模IT架構的智慧電廠，更安全、更經濟、更環保、更高效 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/0670cbc9828449c782ac323a238b99e3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6237da3d.html title=朗坤雙模IT架構的智慧電廠，更安全、更經濟、更環保、更高效>朗坤雙模IT架構的智慧電廠，更安全、更經濟、更環保、更高效</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/677306ff.html alt=面試總結：關於MySQL事務的10個問題常見面試問答 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/1669c986-315c-4339-a5a0-a918a47f2e57 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/677306ff.html title=面試總結：關於MySQL事務的10個問題常見面試問答>面試總結：關於MySQL事務的10個問題常見面試問答</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f3d4671c.html alt=活動文件櫃的架構是什麼 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/104d3629a97947b19d62b03dc3b8d82f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f3d4671c.html title=活動文件櫃的架構是什麼>活動文件櫃的架構是什麼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/adc31f83.html alt=Java面試知識點總結⑥——算法與數據結構_一點課堂（多岸學院） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/68ac43b98fa343f2874d08bacae73ee8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/adc31f83.html title=Java面試知識點總結⑥——算法與數據結構_一點課堂（多岸學院）>Java面試知識點總結⑥——算法與數據結構_一點課堂（多岸學院）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cdbf5cb4.html alt=面試中常被問到的Hash表，你瞭解嗎 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/dfic-imagehandler/ba5ea1b5-dee5-4145-8f0d-8eee90a5eba6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cdbf5cb4.html title=面試中常被問到的Hash表，你瞭解嗎>面試中常被問到的Hash表，你瞭解嗎</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2eecc1b9.html alt=面試再問ThreadLocal，別說你不會 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/3a95ff3cd79a456d9221f66851f8c2f9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2eecc1b9.html title=面試再問ThreadLocal，別說你不會>面試再問ThreadLocal，別說你不會</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d1d10456.html alt=面試總結-Java高級篇 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/4afe0004abfd4a7bb3c5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d1d10456.html title=面試總結-Java高級篇>面試總結-Java高級篇</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b10623ce.html alt=你不得不知道的HashMap面試連環炮 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/278ed0687f4d436f9cb8389a38b1603e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b10623ce.html title=你不得不知道的HashMap面試連環炮>你不得不知道的HashMap面試連環炮</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ae15b401.html alt="有關 HashMap 面試會問的一切" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/25263d0d73a143bab5e44096efdd931d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ae15b401.html title="有關 HashMap 面試會問的一切">有關 HashMap 面試會問的一切</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3e2c89d5.html alt="面試官：為什麼 HashMap 的加載因子是0.75？" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/15a700f4ff6a4082a566db903915ea1b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3e2c89d5.html title="面試官：為什麼 HashMap 的加載因子是0.75？">面試官：為什麼 HashMap 的加載因子是0.75？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/95a57792.html alt=面試官：100萬個成員的數組取第一個和最後一個有性能差距嗎？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/5d61204d36a64ca9864df863782072b0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/95a57792.html title=面試官：100萬個成員的數組取第一個和最後一個有性能差距嗎？>面試官：100萬個成員的數組取第一個和最後一個有性能差距嗎？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b506f512.html alt=九年新浪架構師整理PHP架構核心技術教程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b3a3c32254344742b6746996f7fab54b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b506f512.html title=九年新浪架構師整理PHP架構核心技術教程>九年新浪架構師整理PHP架構核心技術教程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8db576a1.html alt=面試必問，進程和線程概念詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/31f152f300834172b846a27e904440e1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8db576a1.html title=面試必問，進程和線程概念詳解>面試必問，進程和線程概念詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d2fb2eaa.html alt="不怕面試被問了！二叉樹算法大盤點 | 原力計劃" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RseEOGoFGbwiHH style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d2fb2eaa.html title="不怕面試被問了！二叉樹算法大盤點 | 原力計劃">不怕面試被問了！二叉樹算法大盤點 | 原力計劃</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>