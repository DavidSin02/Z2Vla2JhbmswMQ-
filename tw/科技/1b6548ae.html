<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡） | 极客快訊</title><meta property="og:title" content="詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/69fc12e26bdd4ebf942d997de47a1396"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1b6548ae.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1b6548ae.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1b6548ae.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1b6548ae.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1b6548ae.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1b6548ae.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1b6548ae.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1b6548ae.html><meta property="article:published_time" content="2020-11-14T21:03:23+08:00"><meta property="article:modified_time" content="2020-11-14T21:03:23+08:00"><meta name=Keywords content><meta name=description content="詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡）"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/1b6548ae.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡）</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1>概述</h1><p>Linux系統一般有4個主要部分組成，內核、shell、文件系統和應用程序。內核、shell和文件系統一起形成了基本的操作系統結構，它們使得用戶可以運行程序、管理文件並使用系統。因為內容比較多，所以這裡單獨挑內核這個分類做一下簡單介紹。</p><div class=pgc-img><img alt=詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/69fc12e26bdd4ebf942d997de47a1396><p class=pgc-img-caption></p></div><hr><h1>01</h1><h1>linux內核</h1><p>內核是操作系統的核心，具有很多最基本功能，它負責管理系統的進程、內存、設備驅動程序、文件和網絡系統，決定著系統的性能和穩定性。</p><p><strong>Linux 內核由如下幾部分組成：內存管理、進程管理、設備驅動程序、文件系統和網絡管理等。</strong></p><div class=pgc-img><img alt=詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/55205a5b439444b29616dd521a9f1a27><p class=pgc-img-caption></p></div><p>系統調用接口：SCI 層提供了某些機制執行從用戶空間到內核的函數調用。這個接口依賴於體系結構，甚至在相同的處理器家族內也是如此。SCI 實際上是一個非常有用的函數調用多路複用和多路分解服務。在 ./linux/kernel 中可以找到 SCI 的實現，並在 ./linux/arch 中找到依賴於體系結構的部分。</p><hr><h1>02</h1><h1>內存管理</h1><p>對任何一臺計算機而言，其內存以及其它資源都是有限的。為了讓有限的物理內存滿足應用程序對內存的大需求量，<strong>Linux 採用了稱為“虛擬內存”的內存管理方式。Linux 將內存劃分為容易處理的“內存頁”（對於大部分體系結構來說都是 4KB）。</strong>Linux 包括了管理可用內存的方式，以及物理和虛擬映射所使用的硬件機制。</p><div class=pgc-img><img alt=詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ca658de11eea481e9f762d26142b8d6e><p class=pgc-img-caption></p></div><p>不過內存管理要管理的可不止 4KB 緩衝區。Linux 提供了對 4KB 緩衝區的抽象，例如 slab 分配器。這種內存管理模式使用 4KB 緩衝區為基數，然後從中分配結構，並跟蹤內存頁使用情況，比如哪些內存頁是滿的，哪些頁面沒有完全使用，哪些頁面為空。這樣就允許該模式根據系統需要來動態調整內存使用。</p><p>為了支持多個用戶使用內存，有時會出現可用內存被消耗光的情況。由於這個原因，頁面可以移出內存並放入磁盤中。這個過程稱為交換，因為頁面會被從內存交換到硬盤上。</p><hr><h1>03</h1><h1>進程管理</h1><p>進程實際是某特定應用程序的一個運行實體。在 Linux 系統中，能夠同時運行多個進程，Linux 通過在短的時間間隔內輪流運行這些進程而實現“多任務”。這一短的時間間隔稱為“時間片”，讓進程輪流運行的方法稱為“進程調度” ，完成調度的程序稱為調度程序。</p><p>進程調度控制進程對CPU的訪問。當需要選擇下一個進程運行時，由調度程序選擇最值得運行的進程。可運行進程實際上是僅等待CPU資源的進程，如果某個進程在等待其它資源，則該進程是不可運行進程。Linux使用了比較簡單的基於優先級的進程調度算法選擇新的進程。</p><div class=pgc-img><img alt=詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bf2433232b0346d1b3dcf281e63af24a><p class=pgc-img-caption></p></div><p>通過多任務機制，每個進程可認為只有自己獨佔計算機，從而簡化程序的編寫。每個進程有自己單獨的地址空間，並且只能由這一進程訪問，這樣，操作系統避免了進程之間的互相干擾以及“壞”程序對系統可能造成的危害。 為了完成某特定任務，有時需要綜合兩個程序的功能，例如一個程序輸出文本，而另一個程序對文本進行排序。為此，操作系統還提供進程間的通訊機制來幫助完成這樣的任務。Linux 中常見的進程間通訊機制有信號、管道、共享內存、信號量和套接字等。</p><p>內核通過 SCI 提供了一個應用程序編程接口（API）來創建一個新進程（fork、exec 或 Portable Operating System Interface [POSⅨ] 函數），停止進程（kill、exit），並在它們之間進行通信和同步（signal 或者 POSⅨ 機制）。</p><hr><h1>04</h1><h1>文件系統</h1><p>Linux 操作系統中單獨的文件系統並不是由驅動器號或驅動器名稱（如 A: 或 C: 等）來標識的。相反，和 UNIX 操作系統一樣，Linux 操作系統將獨立的文件系統組合成了一個層次化的樹形結構，並且由一個單獨的實體代表這一文件系統。</p><p>Linux 操作系統的一個重要特點是它支持許多不同類型的文件系統。Linux 目前最普遍使用的文件系統是 Ext4，它也是 Linux 土生土長的文件系統。但 Linux 也能夠支持 FAT、VFAT、FAT32、MINIX 等不同類型的文件系統，從而可以方便地和其它操作系統交換數據。由於 Linux 支持許多不同的文件系統，並且將它們組織成了一個統一的虛擬文件系統.</p><p>虛擬文件系統（VirtualFileSystem,VFS）:隱藏了各種硬件的具體細節，把文件系統操作和不同文件系統的具體實現細節分離了開來，為所有的設備提供了統一的接口，VFS提供了多達數十種不同的文件系統。虛擬文件系統可以分為邏輯文件系統和設備驅動程序。邏輯文件系統指Linux所支持的文件系統，如ext4,fat等，設備驅動程序指為每一種硬件控制器所編寫的設備驅動程序模塊。</p><p>虛擬文件系統（VFS）是 Linux 內核中非常有用的一個方面，因為它為文件系統提供了一個通用的接口抽象。VFS 在 SCI 和內核所支持的文件系統之間提供了一個交換層。即VFS 在用戶和文件系統之間提供了一個交換層。</p><div class=pgc-img><img alt=詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡） onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/5615a3c13a0f4718b0363feeb37ce2a0><p class=pgc-img-caption>VFS 在用戶和文件系統之間提供了一個交換層:</p></div><p>在 VFS 上面，是對諸如 open、close、read 和 write 之類的函數的一個通用 API 抽象。在 VFS 下面是文件系統抽象，它定義了上層函數的實現方式。它們是給定文件系統（超過 50 個）的插件。文件系統的源代碼可以在 ./linux/fs 中找到。</p><p>文件系統層之下是緩衝區緩存，它為文件系統層提供了一個通用函數集（與具體文件系統無關）。這個緩存層通過將數據保留一段時間（或者隨即預先讀取數據以便在需要是就可用）優化了對物理設備的訪問。緩衝區緩存之下是設備驅動程序，它實現了特定物理設備的接口。</p><p>因此，用戶和進程不需要知道文件所在的文件系統類型，而只需要象使用 Ext4 文件系統中的文件一樣使用它們。</p><hr><h1>05</h1><h1>設備驅動程序</h1><p>設備驅動程序是 Linux 內核的主要部分。和操作系統的其它部分類似，設備驅動程序運行在高特權級的處理器環境中，從而可以直接對硬件進行操作，但正因為如此，任何一個設備驅動程序的錯誤都可能導致操作系統的崩潰。設備驅動程序實際控制操作系統和硬件設備之間的交互。設備驅動程序提供一組操作系統可理解的抽象接口完成和操作系統之間的交互，而與硬件相關的具體操作細節由設備驅動程序完成。</p><div class=pgc-img><img alt=詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2cf5469bba504f8e96c070cafdfa1a2d><p class=pgc-img-caption></p></div><p>一般而言，設備驅動程序和設備的控制芯片有關，例如，如果計算機硬盤是 SCSI 硬盤，則需要使用 SCSI 驅動程序，而不是 IDE 驅動程序。</p><hr><h1>06</h1><h1>網絡接口（NET）</h1><p>提供了對各種網絡標準的存取和各種網絡硬件的支持。網絡接口可分為網絡協議和網絡驅動程序。網絡協議部分負責實現每一種可能的網絡傳輸協議。</p><div class=pgc-img><img alt=詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡） onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/afa23c0760b24b21b5366e356d72f1a8><p class=pgc-img-caption></p></div><p>眾所周知，TCP/IP 協議是 Internet 的標準協議，同時也是事實上的工業標準。Linux 的網絡實現支持 BSD 套接字，支持全部的TCP/IP協議。Linux內核的網絡部分由BSD套接字、網絡協議層和網絡設備驅動程序組成。</p><p>網絡設備驅動程序負責與硬件設備通訊，每一種可能的硬件設備都有相應的設備驅動程序。</p><hr><p>篇幅有限，Linux架構中內核方面的內容就介紹到這了，後面再介紹下文件系統和shell方面的內容，感興趣的朋友可以關注下！</p><div class=pgc-img><img alt=詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f138af3be60c4901b619955f1f04cb19><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>系統</a></li><li><a>詳解</a></li><li><a>Linux</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/bcacd8fd.html alt=Linux系統——用戶、用戶組、權限和文件屬性 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bcacd8fd.html title=Linux系統——用戶、用戶組、權限和文件屬性>Linux系統——用戶、用戶組、權限和文件屬性</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6b48b90b.html alt=Linux系統常用命令大全 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6b48b90b.html title=Linux系統常用命令大全>Linux系統常用命令大全</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1fc66c30.html alt=「主流技術」分佈式詳解：什麼是分佈式系統？如何學習分佈式系統？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/49be09e1dc824d28ac034b897d04e4ea style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1fc66c30.html title=「主流技術」分佈式詳解：什麼是分佈式系統？如何學習分佈式系統？>「主流技術」分佈式詳解：什麼是分佈式系統？如何學習分佈式系統？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d39b51ac.html alt=Linux操作系統存儲子系統核心技術之硬盤與RAID class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/12a0a3d09fd54be3b2087a5d45b798b6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d39b51ac.html title=Linux操作系統存儲子系統核心技術之硬盤與RAID>Linux操作系統存儲子系統核心技術之硬盤與RAID</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/89d62274.html alt="FastDFS 分佈式文件系統詳解" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f75efb8752b74ea384109115f7d8c4f6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/89d62274.html title="FastDFS 分佈式文件系統詳解">FastDFS 分佈式文件系統詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/59993286.html alt="Linux 文件系統介紹" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/50a30000b2bb9135b878 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/59993286.html title="Linux 文件系統介紹">Linux 文件系統介紹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8024f20c.html alt="Linux 文件系統剖析" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/7ea491ff1de847568632e723367af267 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8024f20c.html title="Linux 文件系統剖析">Linux 文件系統剖析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/13a20156.html alt=Linux文件系統101 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/184733a1b935442eaf00466d218e78af style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/13a20156.html title=Linux文件系統101>Linux文件系統101</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1d5836cb.html alt=Linux文件系統介紹：Ext、XFS、Btrfs等，選擇適合自己的文件系統 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/988b5ddedbeb42e8ae01b11a525ff754 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1d5836cb.html title=Linux文件系統介紹：Ext、XFS、Btrfs等，選擇適合自己的文件系統>Linux文件系統介紹：Ext、XFS、Btrfs等，選擇適合自己的文件系統</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/198ca4e7.html alt=Linux文件系統概念解釋 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/153dc1ea3f434fef9762d98d4d308380 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/198ca4e7.html title=Linux文件系統概念解釋>Linux文件系統概念解釋</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/11002b4c.html alt=Linux文件系統目錄標準介紹（FHS） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/5fcf0579209e4a4794121746fe9b8ddc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/11002b4c.html title=Linux文件系統目錄標準介紹（FHS）>Linux文件系統目錄標準介紹（FHS）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b2909f2b.html alt=Linux文件系統與目錄結構 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b2909f2b.html title=Linux文件系統與目錄結構>Linux文件系統與目錄結構</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/10be8693.html alt=一篇文章講清Linux操作系統的目錄結構 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/64f85cc0fcc548d99f56bd2567c34511 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/10be8693.html title=一篇文章講清Linux操作系統的目錄結構>一篇文章講清Linux操作系統的目錄結構</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4717b88a.html alt=嵌入式開發之Linux系統中文件和目錄相關命令 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1d8b5c2d75ba4ed5a0cc99267cb18c73 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4717b88a.html title=嵌入式開發之Linux系統中文件和目錄相關命令>嵌入式開發之Linux系統中文件和目錄相關命令</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fd75dea8.html alt="系統瞭解 Linux 文件系統" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/3b15000077fa0e231516 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fd75dea8.html title="系統瞭解 Linux 文件系統">系統瞭解 Linux 文件系統</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>