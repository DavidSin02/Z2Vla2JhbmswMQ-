<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>充電雜談No3：快充協議是如何工作的？ | 极客快訊</title><meta property="og:title" content="充電雜談No3：快充協議是如何工作的？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/5fd4bf3855c341d19a3aea155948f9e8"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1e9f9f4.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1e9f9f4.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1e9f9f4.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1e9f9f4.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1e9f9f4.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1e9f9f4.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/1e9f9f4.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/1e9f9f4.html><meta property="article:published_time" content="2020-10-29T20:54:24+08:00"><meta property="article:modified_time" content="2020-10-29T20:54:24+08:00"><meta name=Keywords content><meta name=description content="充電雜談No3：快充協議是如何工作的？"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/1e9f9f4.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>充電雜談No3：快充協議是如何工作的？</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>各位小夥伴們大家好，充電雜談是充電頭網新開設的一期欄目，主要吐槽日常使用過程中遇到各種充電相關，前兩期我們探討了《充電雜談No.1為何你的充電器老插不穩？》《充電雜談No.2：快充到底是什麼？》，今天欄目第三期我們來聊一下，充電雜談No.3：快充協議如何工作的？</p><p>快充協議是充電器與設備溝通握手所需的“語言”，只有正確“對話”後，才可以“握手”成功，進行快速充電。我們一步一步來看不同的快充協議是怎樣工作的。</p><p><strong>一、舊式快充協議</strong></p><p><br></p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5fd4bf3855c341d19a3aea155948f9e8><p class=pgc-img-caption></p></div><p>幾年前快充協議十分簡單，簡單到類似交通信號燈，幼兒園小朋友都可以通過顏色判斷信號含義。設備與充電器不需要很“聰明”就可以讀懂雙方的需求，不管是研發難度還是物料成本都簡單便宜。而快充協議的紅綠燈，則是採用D+D-電壓進行信息傳輸。</p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/24ec85d1d0654228b35f0ddd6bf3c467><p class=pgc-img-caption></p></div><p>舊式快充協議都是使用USB2.0通訊接口，常見於USB-A接口。圖片中是一個在移動電源上的USB-A輸出母座，可以看到他與主板連接的只有四個引腳，其中兩側是用於傳輸電流的VCC、GND引腳，中間的是用於傳輸數據的D+、D-引腳。D+D-的“D”是數據Data的意思，充電端與接受電力的設備之間通過D+D-進行數據通訊，進而握手快充協議。</p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/362aa5eb57564cad82592c585aaa0bbf><p class=pgc-img-caption></p></div><p>我們再來看看數據線，一般來說USB2.0數據線USB-A接口上只有4個觸點，與USB-A母座定義相同，最外面兩個是用來傳輸電流的，中間兩個是用來傳輸數據的。VCC、GND較長，D+D-較短，那是故意設計，為了拔出時先斷開數據連接，後斷開電力供給。</p><p><strong>1、APPLE2.4A</strong></p><p><br></p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/214986b74cd74875bb6d2ef2fc356e88><p class=pgc-img-caption></p></div><p>在大家都是5V充電的年代，iPhone直接充電只有5W，需要充電器有特殊的識別電阻才可以獲得更大充電功率。圖中PCB左邊是兩個USB-A輸出口的焊盤，共用了一顆支持雙路智能識別的協議芯片，iPhone插入後，協議芯片調整USB-A接口的D+D-電壓為2.7V/2.7V，提供APPLE 2.4A的識別。而最右邊的USB-A接口，則是簡單地將D+D-直接連起來短接，提供DCP 5V1.5A的輸出識別。</p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/9a3e55a3ebab4a0bb0c52312e7ba80cc><p class=pgc-img-caption></p></div><p>通過POWER-Z測試儀監測iPhone 8 Plus的充電，可以發現當前D+D-電壓為2.66V/2.65V，接近APPLE2.4A識別協議的2.7V/2.7V，iPhone 8 Plus進入APPLE2.4A充電模式，功率達到12W。</p><p><strong>2、QC2.0</strong></p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/af37eae63665458e9a50901581a4a2e4><p class=pgc-img-caption></p></div><p>進入QC2.0高壓快充年代後，USB-A接口不再是簡單的5V輸出，而是可以升壓至9V甚至12V電壓獲取大功率電力傳輸，這存在一定危險，什麼情況才需要升壓而不會燒壞設備？所以QC年代智能識別芯片做出了較大的進化，包含了多種不同快充協議，QC、FCP、AFC等等，同樣是通過控制D+D-電壓來進行輪詢判斷。例如QC2.0快充需要輸出9V的話，D+D-電壓就是3.3V/0.5V，需要輸出12V的話，D+D-電壓就調節為0.5v/0.5v，沒有反饋就不進行升壓，保持5V輸出確保安全。</p><p><strong>3、MTK PE</strong></p><p><br></p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a4d078b535a4469c8fb8bdfc5fa79af5><p class=pgc-img-caption></p></div><p>如果說QC2.0基於D+D-電壓進行通訊的方式類似紅綠燈的話，魅族手機採用的MTK PE快充則是類似打電報的摩爾密碼，嘀——嘀嘀嘀——嘀嘀——嘀嘀嘀——嘀——嘀——這樣進行通訊。PE快充不需要D+D-數據傳輸，甚至只有VCC GND的兩芯數據線都可以成功使用並觸發PE快充，並且PE的電流脈衝信號近乎於無損數字傳輸，不會像D+D-那樣出現電壓值誤差無法觸發快充的情況。</p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0a98101a41574addb2d44528a0eb852b><p class=pgc-img-caption></p></div><p>圖中是POWER-Z USB測試儀抓取到魅族觸發PE快充時的電流脈衝，可以看到電流的通斷與間隔就像打電報一樣進行信息傳遞，信息傳遞握手正確後，充電器輸出電壓從5V跳至7V再跳至9V。但PE快充太少眾，市場佔有率低沒有話語權，配件選擇面也少，甚至現在連魅族新機型都不再支持PE快充，這就是題外話了。</p><p><strong>二、USB PD高級通訊協議</strong></p><p>在進入USB PD快充時代後，充電器與數碼產品的物理接口從USB-A口全面過渡到USB-C接口，USB-C接口擁有更多的Pin腳，支持更高的電力傳輸上限，並且完全不同於以往簡單的D+D-識別，而是智慧式數據包雙向溝通的手段進行更加複雜的通訊。如果說舊式快充協議是幼兒園學生看紅綠燈過馬路的話，USB PD快充協議就是兩個成年人在進行微信聊天這種複雜程度。</p><p>我們來先看看接口的區別，USB-C物理接口滿pin形態高達24個針腳，但用於充電不管多大功率，都只要USB2.0形態的12個針腳就足夠了，滿pin多出來的針腳是用於跑USB3.0/3.1/3.2/雷電等高速數據的，與充電無關，下面我們重點介紹一下USB2.0標準pin腳的USB-C接口。</p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b35cce84777149bab3203dbee5f74118><p class=pgc-img-caption></p></div><p>可以看到USB-C用於電力傳輸的VBUS、GND一共有兩對也就是4根針腳，除了支持正反面盲插外，多了一倍的針腳讓他可以支撐更大功率的電力傳輸。在接口的中間可以看到D+D-這兩個USB-A標準上的針腳，所以USB-C可以向下兼容數據通訊。而USB PD最關鍵的是CC針腳，CC線是USB PD快速充電標準用於信息交換的通道，沒有CC針腳的話就無法進行PD快充。一些魔改USB-A口，雖然形態是A口，但中間新增了一根針腳CC線，所以可以在A口上跑USB PD協議。</p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/264d6f691e444e8583306e6334adaab4><p class=pgc-img-caption></p></div><p>USB-C通訊採用可編程語言進行雙向通訊，需要用到高性能USB PD控制器，芯片體積、針腳數量、複雜程度都遠超QC年代的協議芯片。下面我們通過POWER-Z USB測試儀抓取充電器與手機之間的通訊包，看看在充電過程中發生了什麼事情。</p><p><strong>1、PD2.0</strong></p><p><br></p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/49987edcaad84f8cba5f03a2d7e50e03><p class=pgc-img-caption></p></div><p>USB PD快速充電標準現在已經發展到PD 3.0，數字越大的版本所支持的功能越多，我們先看看PD2.0。PD2.0快充支持固定電壓檔切換，可以根據充電器廣播選擇需要的固定電壓。POWER-Z USB測試儀上可以看到，設備與充電器通訊後從5V3A跳轉到了9V3A這個電壓檔進行充電。</p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/93b5f926bf054794a32f85afd199945f><p class=pgc-img-caption></p></div><p>我們再通過POWER-Z電腦端APP抓包看看，信息端口欄目分別是兩個方向的傳輸，Source—>Sink、Source&lt;—Sink。其中Source—>Sink是代表發射端向接收端發出的通訊，例如充電器對手機，Source&lt;—Sink是接收端反饋信息給發射端，例如手機對充電器，搞懂了方向那我們接下來就能看懂他們之間的通訊方式。</p><p>USB PD通訊流程我們以PD 2.0充電器作為舉例，線纜插上後供電端與設備並不是立刻開始充電，而是先打招呼，充電器進行廣播PDO電壓，充電器告訴手機，我支持5V2.4A / 9V3A / 15V3A / 20V2.25A四個固定電壓輸出。</p><p>手機接收到PDO廣播信息後，先是反饋給充電器，告知需要5V2.4A這個電壓檔，充電器收到反饋後回覆手機，電力已經調整至5V2.4A。之後手機充電器再互相通訊，手機請求調整輸出電壓至9V2A，充電器告知請求已經收到，正在調整至9V2A，這樣完成一個通訊階段。</p><p><strong>2、PD 3.0 PPS</strong></p><p>PD3.0 PPS與PD2.0相比原理接近，多了PPS電壓子集。PPS電壓子集是一組以0.02V跨度為調整幅度的供電電壓集，可以精細地進行電壓微調，讓電荷泵快充、直充變成可能。</p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e06b19cf0b5848ee8a6f30a0d6585843><p class=pgc-img-caption></p></div><p>PD 3.0 PPS插入線纜後，充電器向手機發出一個數據包（PDO廣播），告訴手機我是一個充電器，擁有5V3A / 9V3A / 12V3A / 15V3A / 20V2.25A四個固定PDO與5-11V3A / 5-16V3A兩組PPS。手機接收到這個廣播後，對充電器反饋信息，請求輸出5V3A電壓。充電器接受到電壓調整請求，並告知手機已經調整OK，手機反饋說已經做好充電準備，開始5V3A進行充電。</p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4c69fea00fa24d52abd972cc70efa8b6><p class=pgc-img-caption></p></div><p>在充電的途中，手機發出信息告知充電器，我需要調整電壓，請求將輸出電壓調整至8.66V3A，充電器接收到電壓調整請求，將輸出從5V3A調整至8.66V3A。之後手機每秒發送多次調整電壓指令，每次都告知充電器將電壓下調0.02V，充電器也如實進行調整。</p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c3899acc12a7450685089291c4a5fd07><p class=pgc-img-caption></p></div><p>在經過了五百多次的通訊進行電壓微調後，最終穩定在了7V3A這一個電壓進行充電，以達到充的快溫升低的目的，這就是PPS快充協議的通訊過程。</p><p><strong>三、私有協議</strong></p><p><strong>1、全私有協議</strong></p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/838c8d22cc024bbbb4274cb8c91297d3><p class=pgc-img-caption></p></div><p>某些廠家會對部分設備開發私有快充協議，在通訊過程中加密了信息流，用戶想要獲得最佳充電體驗只能使用原廠配件。這種做法一來是因為目前的標準無法滿足廠家需求，例如USB PD上限只有20V5A 100W，二來可以建設私有配件生態圈，足夠的利潤支撐技術研發達到良性發展，這麼做無可厚非。<br><strong><br>2、半私有協議</strong></p><p><br></p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5d606fa2e036428c97068807c2897917><p class=pgc-img-caption></p></div><p>部分廠商則是採用半私有協議，例如三星45W AFC快充，基於PD3.0 PPS開發的快速充電協議進行微調修改，因為未進行加密，所以市面上部分第三方配件也可以通用，用戶選擇配件範圍較大。</p><p><strong>四、USB-C接口統一對快充的好處？</strong></p><p><br></p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/28406532ac3548b7b5f21107d5db03c1><p class=pgc-img-caption></p></div><p>多年前接口未統一時，存在Micro USB、Mini USB、異形排針、DC圓口等多種不同接口，就連供電電壓都存在差異，混沌的亂象阻礙著發展。USB-C好比燈泡卡座，淘汰其他接口大統一為USB-C接口標準，讓萬千設備均處以相同標準下運行，相同的物理接口，相同的通訊標準。生產商技術研發不再需要為各種標準而設計不同規格產品，快充技術得到飛速發展，用戶作為消費者也在享受USB-C大統一的便利。</p><div class=pgc-img><img alt=充電雜談No3：快充協議是如何工作的？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/96dbe4d790d946b78341b22c603a9e5a><p class=pgc-img-caption></p></div><p>USB-C是燈泡卡座的話，充電器就好比燈泡，基於USB-C標準而製造的充電器誕生出18Ｗ、30Ｗ、45Ｗ、65Ｗ、100Ｗ以及未來更大功率，用戶可以根據自己需求選擇不同功率的產品使用，無需擔心接口問題。</p><p><strong>充電頭網總結</strong></p><p>這期充電雜談小編為大家介紹了部分快充協議的工作方式與原理，相信看完大家都會有所瞭解。對於手機、筆記本等設備來說，快充協議必不可少，沒有快充協議支撐的話充電功率會受限在非常低的功率，得益於USB-C統一標準讓快充全面普及，不管是入門機型還是旗艦產品都支持快充，不同消費層用戶都可以享受快充帶來的樂趣。好了， 這期充電雜談到此結束，我是Yubeii，大家有什麼想討論的話題可以留言告知，我們下一期再見。​​​</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>充電雜</a></li><li><a>No3</a></li><li><a>充協議</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/4e017bbe.html alt=Excel函數系列-No3(運算函數) class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/29ac1c3190314d46b247cff446ce42b5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4e017bbe.html title=Excel函數系列-No3(運算函數)>Excel函數系列-No3(運算函數)</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/017cddba.html alt=充電雜談No.1：為何你的充電器老插不穩？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c07726938fa847e092e89cd33ecbedf6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/017cddba.html title=充電雜談No.1：為何你的充電器老插不穩？>充電雜談No.1：為何你的充電器老插不穩？</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>