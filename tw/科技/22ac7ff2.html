<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>異常-程序員的硬傷，一文教你如何處理 | 极客快訊</title><meta property="og:title" content="異常-程序員的硬傷，一文教你如何處理 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/4c4f6d21-cb5a-4ddf-b1b1-5f6edcc374b4"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/22ac7ff2.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/22ac7ff2.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/22ac7ff2.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/22ac7ff2.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/22ac7ff2.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/22ac7ff2.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/22ac7ff2.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/22ac7ff2.html><meta property="article:published_time" content="2020-11-14T21:06:59+08:00"><meta property="article:modified_time" content="2020-11-14T21:06:59+08:00"><meta name=Keywords content><meta name=description content="異常-程序員的硬傷，一文教你如何處理"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/22ac7ff2.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>異常-程序員的硬傷，一文教你如何處理</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>異常的概念</p><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>異常指的是運行期出現的錯誤，也就是當程序開始執行以後執行期出現的錯誤</strong>。</p><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/4c4f6d21-cb5a-4ddf-b1b1-5f6edcc374b4><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>JAVA 異常類型結構</strong></p><p class=ql-align-justify><strong>Throwable </strong>是所有異常類型的基類，<strong>Throwable </strong>下一層分為兩個分支，<strong>Error</strong> 和 <strong>Exception.</strong></p><p class=ql-align-center><br></p><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2b9e99dae62c477980462a87ab4ede5d><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify><strong>Error 和 Exeption</strong></p><ul><li class=ql-align-justify><strong>Error</strong></li></ul><p class=ql-align-justify><br></p><p class=ql-align-justify>Error 描述了 JAVA 程序運行時系統的內部錯誤，通常比較嚴重，除了通知用戶和盡力使應用程序安全地終止之外，無能為力，應用程序不應該嘗試去捕獲這種異常。通常為一些虛擬機異常，如 StackOverflowError 等。</p><ul><li class=ql-align-justify><strong>Exception</strong></li></ul><p class=ql-align-justify><br></p><p class=ql-align-justify>Exception 類型下面又分為兩個分支，一個分支派生自 RuntimeException，這種異常通常為程序錯誤導致的異常；另一個分支為非派生自 RuntimeException 的異常，這種異常通常是程序本身沒有問題，由於像 I/O 錯誤等問題導致的異常，每個異常類用逗號隔開。</p><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/9c862958-852f-4910-8fc0-d76554c1e4e8><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>受查異常和非受查異常</strong></p><ul><li class=ql-align-justify><strong>受查異常</strong></li></ul><p class=ql-align-justify><br></p><p class=ql-align-justify>受查異常會在編譯時被檢測。如果一個方法中的代碼會拋出受查異常，則該方法必須包含異常處理，即 try-catch 代碼塊，或在方法簽名中用 throws 關鍵字聲明該方法可能會拋出的受查異常，否則編譯無法通過。如果一個方法可能拋出多個受查異常類型，就必須在方法的簽名處列出所有的異常類。</p><p class=ql-align-justify>通過 throws 關鍵字聲明可能拋出的異常</p><pre>private static void readFile(String filePath) throws IOException { File file = new File(filePath); String result; BufferedReader reader = new BufferedReader(new FileReader(file)); while((result = reader.readLine())!=null) { System.out.println(result); } reader.close();}</pre><p class=ql-align-justify>try-catch 處理異常</p><pre>private static void readFile(String filePath) { File file = new File(filePath); String result; BufferedReader reader; try { reader = new BufferedReader(new FileReader(file)); while((result = reader.readLine())!=null) { System.out.println(result); } reader.close(); } catch (IOException e) { e.printStackTrace(); }}</pre><ul><li class=ql-align-justify><strong>非受查異常</strong></li></ul><p class=ql-align-justify><br></p><p class=ql-align-justify>非受查異常不會在編譯時被檢測。JAVA 中 Error 和 RuntimeException 類的子類屬於非受查異常，除此之外繼承自 Exception 的類型為受查異常。</p><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/118971aa-cfe9-444a-b6e9-9c8ee6512bb9><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>異常的拋出與捕獲</strong></p><p class=ql-align-justify>直接拋出異常</p><p class=ql-align-justify>通常，應該捕獲那些知道如何處理的異常，將不知道如何處理的異常繼續傳遞下去。傳遞異常可以在方法簽名處使用<strong> throws </strong>關鍵字聲明可能會拋出的異常。</p><pre>private static void readFile(String filePath) throws IOException { File file = new File(filePath); String result; BufferedReader reader = new BufferedReader(new FileReader(file)); while((result = reader.readLine())!=null) { System.out.println(result); } reader.close();}</pre><p class=ql-align-justify>封裝異常再拋出</p><p class=ql-align-justify>有時我們會從 catch 中拋出一個異常，目的是為了改變異常的類型。多用於在多系統集成時，當某個子系統故障，異常類型可能有多種，可以用統一的異常類型向外暴露，不需暴露太多內部異常細節。</p><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/3eabf999-401a-46ee-9b63-5792a3caefe4><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><pre>private static void readFile(String filePath) throws MyException {  try { // code } catch (IOException e) { MyException ex = new MyException("read file failed."); ex.initCause(e); throw ex; }}</pre><p class=ql-align-justify><strong>捕獲異常</strong></p><p class=ql-align-justify>在一個 try-catch 語句塊中可以捕獲多個異常類型，並對不同類型的異常做出不同的處理</p><pre>private static void readFile(String filePath) { try { // code } catch (FileNotFoundException e) { // handle FileNotFoundException } catch (IOException e){ // handle IOException }}</pre><p class=ql-align-justify>同一個 catch 也可以捕獲多種類型異常，用 | 隔開</p><pre>private static void readFile(String filePath) { try { // code } catch (FileNotFoundException | UnknownHostException e) { // handle FileNotFoundException or UnknownHostException } catch (IOException e){ // handle IOException }}</pre><p class=ql-align-justify><strong>自定義異常</strong></p><p class=ql-align-justify>習慣上，定義一個異常類應包含兩個構造函數，一個無參構造函數和一個帶有詳細描述信息的構造函數（Throwable 的 toString 方法會打印這些詳細信息，調試時很有用）</p><pre>public class MyException extends Exception { public MyException(){ } public MyException(String msg){ super(msg); } // ...}</pre><p class=ql-align-justify><strong>try-catch-finally</strong></p><p class=ql-align-justify>當方法中發生異常，異常處之後的代碼不會再執行，如果之前獲取了一些本地資源需要釋放，則需要在方法正常結束時和 catch 語句中都調用釋放本地資源的代碼，顯得代碼比較繁瑣，finally 語句可以解決這個問題。</p><pre>private static void readFile(String filePath) throws MyException { File file = new File(filePath); String result; BufferedReader reader = null; try { reader = new BufferedReader(new FileReader(file)); while((result = reader.readLine())!=null) { System.out.println(result); } } catch (IOException e) { System.out.println("readFile method catch block."); MyException ex = new MyException("read file failed."); ex.initCause(e); throw ex; } finally { System.out.println("readFile method finally block."); if (null != reader) { try { reader.close(); } catch (IOException e) { e.printStackTrace(); } } }}</pre><p class=ql-align-justify>調用該方法時，讀取文件時若發生異常，代碼會進入 catch 代碼塊，之後進入 finally 代碼塊；若讀取文件時未發生異常，則會跳過 catch 代碼塊直接進入 finally 代碼塊。所以無論代碼中是否發生異常，fianlly 中的代碼都會執行。</p><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/67bef8f1-68fe-42ff-bd13-e720b4e6792f><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>若 catch 代碼塊中包含 return 語句，finally 中的代碼還會執行嗎？將以上代碼中的 catch 子句修改如下：</p><pre>catch (IOException e) { System.out.println("readFile method catch block."); return;}</pre><p class=ql-align-justify>調用 readFile 方法，觀察當 catch 子句中調用 return 語句時，finally 子句是否執行</p><p class=ql-align-center><br></p><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b6b6b088630542fa9ce88259e796373f><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-justify>可見，即使 catch 中包含了 return 語句，finally 子句依然會執行。若 finally 中也包含 return 語句，finally 中的 return 會覆蓋前面的 return.</p><p class=ql-align-justify><strong>try-with-resource</strong></p><p class=ql-align-justify>上面例子中，finally 中的 close 方法也可能拋出 IOException, 從而覆蓋了原始異常。JAVA 7 提供了更優雅的方式來實現資源的自動釋放，自動釋放的資源需要是實現了 AutoCloseable 接口的類。</p><pre>private static void tryWithResourceTest(){ try (Scanner scanner = new Scanner(new FileInputStream("c:/abc"),"UTF-8")){ // code } catch (IOException e){ // handle exception }}</pre><p class=ql-align-justify>ry 代碼塊退出時，會自動調用 scanner.close 方法，和把 scanner.close 方法放在 finally 代碼塊中不同的是，若 scanner.close 拋出異常，則會被抑制，拋出的仍然為原始異常。被抑制的異常會由 addSusppressed 方法添加到原來的異常，如果想要獲取被抑制的異常列表，可以調用 getSuppressed 方法來獲取。</p><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/761d2235-d322-4c15-9895-3c082284b941><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>阿里巴巴異常處理規約</strong></p><p class=ql-align-justify><strong>1、【強制】</strong> Java 類庫中定義的可以通過預檢查方式規避的 RuntimeException 異常不應該通過catch 的方式來處理，比如： NullPointerException， IndexOutOfBoundsException 等等。</p><p class=ql-align-justify><strong>說明：</strong>無法通過預檢查的異常除外，比如，在解析字符串形式的數字時，不得不通過 catch NumberFormatException 來實現。</p><p class=ql-align-justify><strong>正例：</strong>if (obj != null) {…}</p><p class=ql-align-justify><strong>反例:</strong>try { obj.method(); } catch (NullPointerException e) {…}</p><p class=ql-align-justify><strong>2、【強制】</strong> 異常不要用來做流程控制，條件控制。</p><p class=ql-align-justify><strong>說明：</strong> 異常設計的初衷是解決程序運行中的各種意外情況，且異常的處理效率比條件判斷方式要低很多</p><p class=ql-align-justify><strong>3、【強制】 </strong>catch 時請分清穩定代碼和非穩定代碼，穩定代碼指的是無論如何不會出錯的代碼。對於非穩定代碼的 catch 儘可能進行區分異常類型，再做對應的異常處理。</p><p class=ql-align-justify><strong>說明：</strong> 對大段代碼進行 try-catch，使程序無法根據不同的異常做出正確的應激反應，也不利於定位問題，這是一種不負責任的表現。</p><p class=ql-align-justify><strong>正例：</strong> 用戶註冊的場景中，如果用戶輸入非法字符， 或用戶名稱已存在， 或用戶輸入密碼過於簡單，在程序上作出分門別類的判斷，並提示給用戶。</p><p class=ql-align-justify><strong>4、【強制】 </strong>捕獲異常是為了處理它，不要捕獲了卻什麼都不處理而拋棄之，如果不想處理它，請將該異常拋給它的調用者。最外層的業務使用者，必須處理異常，將其轉化為用戶可以理解的內容。</p><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/988f6997-20ad-4d1d-ba33-35b084c24305><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>5、【強制】</strong> 有 try 塊放到了事務代碼中， catch 異常後，如果需要回滾事務，一定要注意手動回滾事務。</p><p class=ql-align-justify><strong>6、【強制】 </strong>finally 塊必須對資源對象、流對象進行關閉，有異常也要做 try-catch。</p><p class=ql-align-justify>說明： 如果 JDK7 及以上，可以使用 try-with-resources 方式。</p><p class=ql-align-justify><strong>7、【強制】</strong> 不要在 finally 塊中使用 return。</p><p class=ql-align-justify>說明： finally 塊中的 return 返回後方法結束執行，不會再執行 try 塊中的 return 語句。</p><p class=ql-align-justify><strong>8、【強制】</strong> 捕獲異常與拋異常，必須是完全匹配，或者捕獲異常是拋異常的父類。</p><p class=ql-align-justify>說明： 如果預期對方拋的是繡球，實際接到的是鉛球，就會產生意外情況。</p><p class=ql-align-justify><strong>9、【推薦】</strong> 方法的返回值可以為 null，不強制返回空集合，或者空對象等，必須添加註釋充分說明什麼情況下會返回 null 值。</p><p class=ql-align-justify>說明： 本手冊明確防止 NPE 是調用者的責任。即使被調用方法返回空集合或者空對象，對調用者來說，也並非高枕無憂，必須考慮到遠程調用失敗、 序列化失敗、 運行時異常等場景返回null 的情況。</p><p class=ql-align-justify><strong>10、【推薦】</strong> 防止 NPE，是程序員的基本修養，注意 NPE 產生的場景：</p><p class=ql-align-justify>1）返回類型為基本數據類型， return 包裝數據類型的對象時，自動拆箱有可能產生 NPE。</p><p class=ql-align-justify>反例： public int f() { return Integer 對象}， 如果為 null，自動解箱拋 NPE。</p><p class=ql-align-justify>2） 數據庫的查詢結果可能為 null。</p><p class=ql-align-justify>3） 集合裡的元素即使 isNotEmpty，取出的數據元素也可能為 null。</p><p class=ql-align-justify>4） 遠程調用返回對象時，一律要求進行空指針判斷，防止 NPE。</p><p class=ql-align-justify>5） 對於 Session 中獲取的數據，建議 NPE 檢查，避免空指針。</p><p class=ql-align-justify>6） 級聯調用 obj.getA().getB().getC()； 一連串調用，易產生 NPE。</p><p class=ql-align-justify>正例： 使用 JDK8 的 Optional 類來防止 NPE 問題。</p><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/b670a08c-fcb5-453e-a4b6-d74d5c166dc6><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>11、【推薦】</strong> 定義時區分 unchecked / checked 異常，避免直接拋出 new RuntimeException()，更不允許拋出 Exception 或者 Throwable，應使用有業務含義的自定義異常。</p><p class=ql-align-justify>推薦業界已定義過的自定義異常，如： DAOException / ServiceException 等。</p><p class=ql-align-justify><strong>12、【參考】</strong> 對於公司外的 http/api 開放接口必須使用“錯誤碼”； 而應用內部推薦異常拋出；跨應用間 RPC 調用優先考慮使用 Result 方式，封裝 isSuccess()方法、 “錯誤碼”、 “錯誤簡短信息”。</p><p class=ql-align-justify><strong>說明： </strong>關於 RPC 方法返回方式使用 Result 方式的理由：</p><p class=ql-align-justify>1） 使用拋異常返回方式，調用方如果沒有捕獲到就會產生運行時錯誤。</p><p class=ql-align-justify>2） 如果不加棧信息，只是 new 自定義異常，加入自己的理解的 error message，對於調用端解決問題的幫助不會太多。如果加了棧信息，在頻繁調用出錯的情況下，數據序列化和傳輸的性能損耗也是問題。</p><p class=ql-align-justify><strong>13、【參考】</strong> 避免出現重複的代碼（Don’t Repeat Yourself） ，即 DRY 原則。</p><p class=ql-align-justify>說明： 隨意複製和粘貼代碼，必然會導致代碼的重複，在以後需要修改時，需要修改所有的副本，容易遺漏。必要時抽取共性方法，或者抽象公共類，甚至是組件化。</p><p class=ql-align-justify>正例： 一個類中有多個 public 方法，都需要進行數行相同的參數校驗操作，這個時候請抽取：private boolean checkParam(DTO dto) {…}</p><p class=ql-align-justify><strong>常見面試題</strong></p><p class=ql-align-justify>1. Error 和 Exception 區別是什麼？</p><p class=ql-align-justify>Error 類型的錯誤通常為虛擬機相關錯誤，如系統崩潰，內存不足，堆棧溢出等，編譯器不會對這類錯誤進行檢測，JAVA 應用程序也不應對這類錯誤進行捕獲，一旦這類錯誤發生，通常應用程序會被終止，僅靠應用程序本身無法恢復；</p><p class=ql-align-justify>Exception 類的錯誤是可以在應用程序中進行捕獲並處理的，通常遇到這種錯誤，應對其進行處理，使應用程序可以繼續正常運行。</p><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/bb1adbe0-c1d5-4f3d-89a7-3d12b56a860e><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>2. 運行時異常和一般異常區別是什麼？</strong></p><p class=ql-align-justify>編譯器不會對運行時異常進行檢測，沒有 try-catch，方法簽名中也沒有 throws 關鍵字聲明，編譯依然可以通過。如果出現了 RuntimeException, 那一定是程序員的錯誤。</p><p class=ql-align-justify>一般一場如果沒有 try-catch，且方法簽名中也沒有用 throws 關鍵字聲明可能拋出的異常，則編譯無法通過。這類異常通常為應用環境中的錯誤，即外部錯誤，非應用程序本身錯誤，如文件找不到等。</p><p class=ql-align-justify><strong>3.NoClassDefFoundError 和 ClassNotFoundException 區別？</strong></p><p class=ql-align-justify>NoClassDefFoundError 是一個 Error 類型的異常，是由 JVM 引起的，不應該嘗試捕獲這個異常。</p><p class=ql-align-justify>引起該異常的原因是 JVM 或 ClassLoader 嘗試加載某類時在內存中找不到該類的定義，該動作發生在運行期間，即編譯時該類存在，但是在運行時卻找不到了，可能是變異後被刪除了等原因導致；</p><p class=ql-align-justify>ClassNotFoundException 是一個受查異常，需要顯式地使用 try-catch 對其進行捕獲和處理，或在方法簽名中用 throws 關鍵字進行聲明。當使用 Class.forName, ClassLoader.loadClass 或 ClassLoader.findSystemClass 動態加載類到內存的時候，通過傳入的類路徑參數沒有找到該類，就會拋出該異常；另一種拋出該異常的可能原因是某個類已經由一個類加載器加載至內存中，另一個加載器又嘗試去加載它。</p><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/67914e8c-4515-41db-a061-90c5e670dc5c><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify>4. JVM 是如何處理異常的？</p><p class=ql-align-justify>在一個方法中如果發生異常，這個方法會創建一個一場對象，並轉交給 JVM，該異常對象包含異常名稱，異常描述以及異常發生時應用程序的狀態。創建異常對象並轉交給 JVM 的過程稱為拋出異常。可能有一系列的方法調用，最終才進入拋出異常的方法，這一系列方法調用的有序列表叫做調用棧。</p><p class=ql-align-justify>JVM 會順著調用棧去查找看是否有可以處理異常的代碼，如果有，則調用異常處理代碼。當 JVM 發現可以處理異常的代碼時，會把發生的異常傳遞給它。如果 JVM 沒有找到可以處理該異常的代碼塊，JVM 就會將該異常轉交給默認的異常處理器（默認處理器為 JVM 的一部分），默認異常處理器打印出異常信息並終止應用程序。</p><p class=ql-align-justify><strong>5. throw 和 throws 的區別是什麼？</strong></p><p class=ql-align-justify>throw 關鍵字用來拋出方法或代碼塊中的異常，受查異常和非受查異常都可以被拋出。</p><p class=ql-align-justify>throws 關鍵字用在方法簽名處，用來標識該方法可能拋出的異常列表。一個方法用 throws 標識了可能拋出的異常列表，調用該方法的方法中必須包含可處理異常的代碼，否則也要在方法簽名中用 throws 關鍵字聲明相應的異常。</p><p class=ql-align-justify>6. 常見的 RuntimeException 有哪些？</p><ul><li class=ql-align-justify>ClassCastException(類轉換異常)</li><li class=ql-align-justify>IndexOutOfBoundsException(數組越界)</li><li class=ql-align-justify>NullPointerException(空指針)</li><li class=ql-align-justify>ArrayStoreException(數據存儲異常，操作數組時類型不一致)</li><li class=ql-align-justify>還有IO操作的BufferOverflowException異常</li></ul><div class=pgc-img><img alt=異常-程序員的硬傷，一文教你如何處理 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/a1c25e8c-dda5-4f6f-b351-9f83a6337e52><p class=pgc-img-caption></p></div><p><strong>今天就到這裡啦，喜歡編程的小夥伴可以關注我哦！有學習方面的問題可以私信回覆：學習！</strong></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>異常</a></li><li><a>硬傷</a></li><li><a>處理</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/12d49a9e.html alt="一文讀懂 Java 異常處理" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/6c395510d4e245a19bf9cdde6dd9ac2e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/12d49a9e.html title="一文讀懂 Java 異常處理">一文讀懂 Java 異常處理</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2d47da66.html alt=一起斷路器控制迴路異常的處理及分析 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/4571b3e7966345438fb2fd3b7e8b3390 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2d47da66.html title=一起斷路器控制迴路異常的處理及分析>一起斷路器控制迴路異常的處理及分析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b290700d.html alt=Python異常處理（二十六） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b042ebd0bbf644a2b82bf1b115e79517 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b290700d.html title=Python異常處理（二十六）>Python異常處理（二十六）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d49dea5.html alt=生產線異常處理與管理培訓資料 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f8ce6622a887413586b1f57b7664e827 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d49dea5.html title=生產線異常處理與管理培訓資料>生產線異常處理與管理培訓資料</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f03a5d3.html alt=變壓器異常處理方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f03a5d3.html title=變壓器異常處理方法>變壓器異常處理方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d2d681b6.html alt=中超賽場異常火爆，賽後場面陷入一片混亂，數名安保人員驅趕球員 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c6d14dc62de74f24afb5dfefc3a2ee52 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d2d681b6.html title=中超賽場異常火爆，賽後場面陷入一片混亂，數名安保人員驅趕球員>中超賽場異常火爆，賽後場面陷入一片混亂，數名安保人員驅趕球員</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cd064e23.html alt=掌上生活“異常登錄5702”招行阻擋羊毛黨或存“誤傷” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RrZPeex25JpWHz style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cd064e23.html title=掌上生活“異常登錄5702”招行阻擋羊毛黨或存“誤傷”>掌上生活“異常登錄5702”招行阻擋羊毛黨或存“誤傷”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/10c7d8fd.html alt=神州泰嶽：公司在自然語言處理領域的基礎技術研究和應用落地均走在行業前列 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/10c7d8fd.html title=神州泰嶽：公司在自然語言處理領域的基礎技術研究和應用落地均走在行業前列>神州泰嶽：公司在自然語言處理領域的基礎技術研究和應用落地均走在行業前列</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0be408a4.html alt="MySQL 事務處理" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0be408a4.html title="MySQL 事務處理">MySQL 事務處理</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/011d2da0.html alt=MySql併發與事務的處理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/f13d8a1e-5e60-4b48-90bc-3c26e312a208 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/011d2da0.html title=MySql併發與事務的處理>MySql併發與事務的處理</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d3c48fcc.html alt=Spring聲明式事務處理的實現原理，來自面試官的窮追拷問 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d3c48fcc.html title=Spring聲明式事務處理的實現原理，來自面試官的窮追拷問>Spring聲明式事務處理的實現原理，來自面試官的窮追拷問</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/efc2a519.html alt=你知道MySQL的事務處理和隔離級別嗎？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/efc2a519.html title=你知道MySQL的事務處理和隔離級別嗎？>你知道MySQL的事務處理和隔離級別嗎？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/160af1cf.html alt=牆面基層處理有哪些基本步驟 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RZdKr6O1pG4jKu style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/160af1cf.html title=牆面基層處理有哪些基本步驟>牆面基層處理有哪些基本步驟</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bf790e4b.html alt=地面基層處理是什麼意思？地面基層清理方法及注意事項有哪些 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/339700cdb9c04fdd98fcc3e95cdc166c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bf790e4b.html title=地面基層處理是什麼意思？地面基層清理方法及注意事項有哪些>地面基層處理是什麼意思？地面基層清理方法及注意事項有哪些</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/44c6d5cb.html alt=豎向鋼筋位移施工加固處理措施 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a7d965c73c1542978ae9091d6bf34aa9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/44c6d5cb.html title=豎向鋼筋位移施工加固處理措施>豎向鋼筋位移施工加固處理措施</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>