<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>æ‰‹æŠŠæ‰‹æ•™ä½  Netty å¯¦ç¾è‡ªå®šç¾©å”è­° | æå®¢å¿«è¨Š</title><meta property="og:title" content="æ‰‹æŠŠæ‰‹æ•™ä½  Netty å¯¦ç¾è‡ªå®šç¾©å”è­° - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/35a65c1e6e4b489d9b87fd6e169e8b66"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/28068cb6.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/28068cb6.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/28068cb6.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/28068cb6.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/28068cb6.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/28068cb6.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/28068cb6.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/28068cb6.html><meta property="article:published_time" content="2020-11-14T21:04:17+08:00"><meta property="article:modified_time" content="2020-11-14T21:04:17+08:00"><meta name=Keywords content><meta name=description content="æ‰‹æŠŠæ‰‹æ•™ä½  Netty å¯¦ç¾è‡ªå®šç¾©å”è­°"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/28068cb6.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>æ‰‹æŠŠæ‰‹æ•™ä½  Netty å¯¦ç¾è‡ªå®šç¾©å”è­°</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>é»æ“Šä¸Šæ–¹ "ç¨‹åºå“¡å°æ¨‚"é—œæ³¨, æ˜Ÿæ¨™æˆ–ç½®é ‚ä¸€èµ·æˆé•·</p><p>æ¯å¤©å‡Œæ™¨00é»00åˆ†, ç¬¬ä¸€æ™‚é–“èˆ‡ä½ ç›¸ç´„</p><p><br></p><p>æ¯æ—¥è‹±æ–‡</p><p>It's so hard to tell someone how you really feel about them when you're too afraid of losing what you already have.</p><p>æœ‰æ™‚å€™ï¼Œè¦å¦ç™½å°æŸå€‹äººçš„æ„Ÿè¦ºçœŸçš„å¤ªé›£äº†ï¼Œå› ç‚ºå¤ªå®³æ€•é€£ç¾åœ¨é€™ç¨®é—œä¿‚éƒ½å¤±å»ã€‚</p><p><br></p><p>æ¯æ—¥æå¿ƒè©±</p><p>æˆ‘å€‘ä¸è¦å»åšä¸€å€‹å–®ç´”å„ªç§€çš„äººï¼Œè€Œæ˜¯è¦å»åšä¸€å€‹ä¸å¯æ›¿ä»£çš„äººã€‚</p><p>ä¾†è‡ªï¼šæ„›å¯¶è²ä¸¶ | è²¬ç·¨ï¼šæ¨‚æ¨‚<br></p><p>éˆæ¥ï¼šmy.oschina.net/zhangxufeng/blog/3043768</p><p><div class="pgc-image pgc-card-fixWidth"><div class="pgc-img-wrapper ttcore-relative"><img alt="æ‰‹æŠŠæ‰‹æ•™ä½  Netty å¯¦ç¾è‡ªå®šç¾©å”è­°" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/35a65c1e6e4b489d9b87fd6e169e8b66></div></div></p><p>ç¨‹åºå“¡å°æ¨‚(ID:study_tech)ç¬¬ 829 æ¬¡æ¨æ–‡ åœ–ç‰‡ä¾†è‡ªç™¾åº¦</p><p><br></p><p>å¾€æ—¥å›é¡§ï¼šâ€œå¾®ä¿¡éºå›‘â€åŠŸèƒ½é–‹é€šï¼Œç¶²å‹é«”é©—å¾Œç™¼ç¾...å¦‚æœçªç„¶é›¢ä¸–ï¼Œä½ çš„QQã€æ”¯ä»˜å¯¶ç­‰æ€éº¼è¾¦ï¼Ÿ</p><p><br></p><p>æ­£æ–‡</p><p><br><br></p><p>é—œæ–¼å”è­°ï¼Œä½¿ç”¨æœ€ç‚ºå»£æ³›çš„æ˜¯HTTPå”è­°ï¼Œä½†æ˜¯åœ¨ä¸€äº›æœå‹™äº¤äº’é ˜åŸŸï¼Œå…¶ä½¿ç”¨å‰‡ç›¸å°è¼ƒå°‘ï¼Œä¸»è¦åŸå› æœ‰ä¸‰æ–¹é¢ï¼š</p><p><br></p><ul class=list-paddingleft-2><li><p>HTTPå”è­°æœƒæ”œå¸¶è«¸å¦‚headerå’Œcookieç­‰ä¿¡æ¯ï¼Œå…¶æœ¬èº«å°å­—ç¯€çš„åˆ©ç”¨ç‡ä¹Ÿè¼ƒä½ï¼Œé€™ä½¿å¾—HTTPå”è­°æ¯”è¼ƒè‡ƒè…«ï¼Œåœ¨æ‰¿è¼‰ç›¸åŒä¿¡æ¯çš„æƒ…æ³ä¸‹ï¼ŒHTTPå”è­°å°‡éœ€è¦ç™¼é€æ›´å¤šçš„æ•¸æ“šåŒ…ï¼›</p></li><li><p>HTTPå”è­°æ˜¯åŸºæ–¼TCPçš„çŸ­é€£æ¥ï¼Œå…¶åœ¨æ¯æ¬¡è«‹æ±‚å’ŒéŸ¿æ‡‰çš„æ™‚å€™éƒ½éœ€è¦é€²è¡Œä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æ®æ‰‹ï¼Œç”±æ–¼æœå‹™çš„äº¤äº’è¨­è¨ˆä¸€èˆ¬éƒ½è¦æ±‚èƒ½å¤ æ‰¿è¼‰é«˜ä½µç™¼çš„è«‹æ±‚ï¼Œå› è€ŒHTTPå”è­°é€™ç¨®é »ç¹çš„æ¡æ‰‹å’Œæ®æ‰‹å‹•ä½œæœƒæ¥µå¤§çš„å½±éŸ¿æœå‹™ä¹‹é–“äº¤äº’çš„æ•ˆç‡ï¼›</p></li><li><p>æœå‹™ä¹‹é–“å¾€å¾€æœ‰ä¸€äº›æ ¹æ“šå…¶è‡ªèº«æ¥­å‹™ç‰¹æ€§æ‰€ç¨æœ‰çš„éœ€æ±‚ï¼Œè€ŒHTTPå”è­°ç„¡æ³•å¾ˆå¥½çš„æœå‹™æ–¼é€™äº›æ¥­å‹™éœ€æ±‚ã€‚</p></li></ul><p><br></p><p>åŸºæ–¼ä¸Šé¢çš„åŸå› ï¼Œä¸€èˆ¬çš„æœå‹™ä¹‹é–“é€²è¡Œäº¤äº’æ™‚éƒ½æœƒä½¿ç”¨è‡ªå®šç¾©å”è­°ï¼Œå¸¸è¦‹çš„æ¡†æ¶ï¼Œè«¸å¦‚dubboï¼Œkafkaï¼Œzookeeperéƒ½å¯¦ç¾äº†ç¬¦åˆå…¶è‡ªèº«æ¥­å‹™éœ€æ±‚çš„å”è­°ï¼Œæœ¬æ–‡ä¸»è¦è¬›è§£å¦‚ä½•ä½¿ç”¨Nettyå¯¦ç¾ä¸€æ¬¾è‡ªå®šç¾©çš„å”è­°ã€‚</p><p><br></p><p>1. å”è­°è¦å®š</p><p>æ‰€è¬‚å”è­°ï¼Œå…¶æœ¬è³ªå…¶å¯¦å°±æ˜¯å®šç¾©äº†ä¸€å€‹å°‡æ•¸æ“šè½‰æ›ç‚ºå­—ç¯€ï¼Œæˆ–è€…å°‡å­—ç¯€è½‰æ›ç‚ºæ•¸æ“šçš„ä¸€å€‹è¦ç¯„ã€‚ä¸€æ¬¾è‡ªå®šç¾©å”è­°ï¼Œå…¶ä¸€èˆ¬åŒ…å«å…©å€‹éƒ¨åˆ†ï¼šæ¶ˆæ¯é ­å’Œæ¶ˆæ¯é«”ã€‚æ¶ˆæ¯é ­çš„é•·åº¦ä¸€èˆ¬æ˜¯å›ºå®šçš„ï¼Œæˆ–è€…èªªæ˜¯å¯ç¢ºå®šçš„ï¼Œå…¶å®šç¾©äº†æ­¤æ¬¡æ¶ˆæ¯çš„ä¸€äº›å…¬æœ‰ä¿¡æ¯ï¼Œæ¯”å¦‚ç•¶å‰æœå‹™çš„ç‰ˆæœ¬ï¼Œæ¶ˆæ¯çš„sessionIdï¼Œæ¶ˆæ¯çš„é¡å‹ç­‰ç­‰ï¼›æ¶ˆæ¯é«”å‰‡ä¸»è¦æ˜¯æ­¤æ¬¡æ¶ˆæ¯æ‰€éœ€è¦ç™¼é€çš„å…§å®¹ï¼Œä¸€èˆ¬åœ¨æ¶ˆæ¯é ­çš„æœ€å¾Œä¸€å®šçš„å­—ç¯€ä¸­ä¿å­˜äº†ç•¶å‰æ¶ˆæ¯çš„æ¶ˆæ¯é«”çš„é•·åº¦ã€‚ä¸‹é¢æ˜¯æˆ‘å€‘ç‚ºç•¶å‰è‡ªå®šç¾©å”è­°æ‰€åšçš„ä¸€äº›è¦å®šï¼š</p><p><div class="pgc-image pgc-card-fixWidth"><div class="pgc-img-wrapper ttcore-relative"><img alt="æ‰‹æŠŠæ‰‹æ•™ä½  Netty å¯¦ç¾è‡ªå®šç¾©å”è­°" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7e8c4ecfeb9842d9a4fa960360f7ae3b></div></div></p><p></p><p>ä¸Šè¿°å”è­°å®šç¾©ä¸­ï¼Œæˆ‘å€‘é™¤äº†å®šç¾©å¸¸ç”¨çš„è«‹æ±‚å’ŒéŸ¿æ‡‰æ¶ˆæ¯é¡å‹ä»¥å¤–ï¼Œé‚„å®šç¾©äº†Pingå’ŒPongæ¶ˆæ¯ã€‚Pingå’ŒPongæ¶ˆæ¯çš„ä½œç”¨ä¸€èˆ¬æ˜¯ï¼Œåœ¨æœå‹™è™•æ–¼é–’ç½®ç‹€æ…‹é”åˆ°ä¸€å®šæ™‚é•·ï¼Œæ¯”å¦‚2sæ™‚ï¼Œå®¢æˆ¶ç«¯æœå‹™æœƒå‘æœå‹™ç«¯ç™¼é€ä¸€å€‹Pingæ¶ˆæ¯ï¼Œå‰‡æœƒè¿”å›ä¸€å€‹Pongæ¶ˆæ¯ï¼Œé€™æ¨£æ‰è¡¨ç¤ºå®¢æˆ¶ç«¯èˆ‡æœå‹™ç«¯çš„é€£æ¥æ˜¯å®Œå¥½çš„ã€‚å¦‚æœæœå‹™ç«¯æ²’æœ‰è¿”å›ç›¸æ‡‰çš„æ¶ˆæ¯ï¼Œå®¢æˆ¶ç«¯å°±æœƒé—œé–‰èˆ‡æœå‹™ç«¯çš„é€£æ¥æˆ–è€…æ˜¯é‡æ–°å»ºç«‹èˆ‡æœå‹™ç«¯çš„é€£æ¥ã€‚é€™æ¨£çš„å„ªé»åœ¨æ–¼å¯ä»¥é˜²æ­¢çªç„¶æœƒç”¢ç”Ÿçš„å®¢æˆ¶ç«¯èˆ‡æœå‹™ç«¯çš„å¤§é‡äº¤äº’ã€‚</p><p><br></p><p>2. å”è­°å¯¦ç¾</p><p>é€šéä¸Šé¢çš„å®šç¾©å…¶å¯¦æˆ‘å€‘å¯ä»¥ç™¼ç¾ï¼Œæ‰€è¬‚å”è­°ï¼Œå°±æ˜¯å®šç¾©äº†ä¸€å€‹è¦ç¯„ï¼ŒåŸºæ–¼é€™å€‹è¦ç¯„ï¼Œæˆ‘å€‘å¯ä»¥å°‡æ¶ˆæ¯è½‰æ›ç‚ºç›¸æ‡‰çš„å­—ç¯€æµï¼Œç„¶å¾Œç¶“ç”±TCPå‚³è¼¸åˆ°ç›®æ¨™æœå‹™ï¼Œç›®æ¨™æœå‹™å‰‡ä¹ŸåŸºæ–¼è©²è¦ç¯„å°‡å­—ç¯€æµè½‰æ›ç‚ºç›¸æ‡‰çš„æ¶ˆæ¯ï¼Œé€™æ¨£å°±é”åˆ°äº†ç›¸äº’äº¤æµçš„ç›®çš„ã€‚é€™è£¡é¢æœ€é‡è¦çš„ä¸»è¦æ˜¯å¦‚ä½•åŸºæ–¼è©²è¦ç¯„å°‡æ¶ˆæ¯è½‰æ›ç‚ºå­—ç¯€æµæˆ–è€…å°‡å­—ç¯€æµè½‰æ›ç‚ºæ¶ˆæ¯ã€‚é€™ä¸€æ–¹é¢ï¼ŒNettyç‚ºæˆ‘å€‘æä¾›äº†ByteToMessageDecoderå’ŒMessageToByteEncoderç”¨æ–¼é€²è¡Œæ¶ˆæ¯å’Œå­—ç¯€æµçš„ç›¸äº’è½‰æ›ã€‚é¦–å…ˆæˆ‘å€‘å®šç¾©ç­å¦‚ä¸‹æ¶ˆæ¯å¯¦é«”ï¼š</p><p>public class Message {<br>private int magicNumber;<br>private byte mainVersion;<br>private byte subVersion;<br>private byte modifyVersion;<br>private String sessionId;<br><br>private MessageTypeEnum messageType;<br>private Map&lt;String, String> attachments = new HashMap&lt;>();<br>private String body;<br><br>public Map&lt;String, String> getAttachments() {<br>return Collections.unmodifiableMap(attachments);<br>}<br><br>public void setAttachments(Map&lt;String, String> attachments) {<br>this.attachments.clear();<br>if (null != attachments) {<br>this.attachments.putAll(attachments);<br>}<br>}<br><br>public void addAttachment(String key, String value) {<br>attachments.put(key, value);<br>}<br><br>// getter and setter...<br>}<br></p><p>ä¸Šè¿°æ¶ˆæ¯ä¸­ï¼Œæˆ‘å€‘å°‡å”è­°ä¸­æ‰€è¦å®šçš„å„å€‹å­—æ®µéƒ½é€²è¡Œäº†å®šç¾©ï¼Œä¸¦ä¸”å®šç¾©äº†ä¸€å€‹æ¨™èªŒæ¶ˆæ¯é¡å‹çš„æšèˆ‰MessageTypeEnumï¼Œå¦‚ä¸‹æ˜¯è©²æšèˆ‰çš„æºç¢¼ï¼š</p><p>public enum MessageTypeEnum {<br>REQUEST((byte)1), RESPONSE((byte)2), PING((byte)3), PONG((byte)4), EMPTY((byte)5);<br><br>private byte type;<br><br>MessageTypeEnum(byte type) {<br>this.type = type;<br>}<br><br>public int getType() {<br>return type;<br>}<br><br>public static MessageTypeEnum get(byte type) {<br>for (MessageTypeEnum value : values()) {<br>if (value.type == type) {<br>return value;<br>}<br>}<br><br>throw new RuntimeException("unsupported type: " + type);<br>}<br>}<br></p><p>ä¸Šè¿°ä¸»è¦æ˜¯å®šç¾©äº†æè¿°è‡ªå®šç¾©å”è­°ç›¸é—œçš„å¯¦é«”å±¬æ€§ï¼Œå°æ–¼æ¶ˆæ¯çš„ç·¨ç¢¼ï¼Œæœ¬è³ªå°±æ˜¯ä¾æ“šä¸Šè¿°å”è­°æ–¹å¼å°‡æ¶ˆæ¯å¯¦é«”è½‰æ›ç‚ºå­—ç¯€æµï¼Œå¦‚ä¸‹æ˜¯è½‰æ›å­—ç¯€æµçš„ä»£ç¢¼ï¼š</p><p>public class MessageEncoder extends MessageToByteEncoder&lt;Message> {<br><br>@Override<br>protected void encode(ChannelHandlerContext ctx, Message message, ByteBuf out) {<br>// é€™è£¡æœƒåˆ¤æ–·æ¶ˆæ¯é¡å‹æ˜¯ä¸æ˜¯EMPTYé¡å‹ï¼Œå¦‚æœæ˜¯EMPTYé¡å‹ï¼Œå‰‡è¡¨ç¤ºç•¶å‰æ¶ˆæ¯ä¸éœ€è¦å¯«å…¥åˆ°ç®¡é“ä¸­<br>if (message.getMessageType() != MessageTypeEnum.EMPTY) {<br>out.writeInt(Constants.MAGIC_NUMBER); // å¯«å…¥ç•¶å‰çš„é­”æ•¸<br>out.writeByte(Constants.MAIN_VERSION); // å¯«å…¥ç•¶å‰çš„ä¸»ç‰ˆæœ¬è™Ÿ<br>out.writeByte(Constants.SUB_VERSION); // å¯«å…¥ç•¶å‰çš„æ¬¡ç‰ˆæœ¬è™Ÿ<br>out.writeByte(Constants.MODIFY_VERSION); // å¯«å…¥ç•¶å‰çš„ä¿®è¨‚ç‰ˆæœ¬è™Ÿ<br>if (!StringUtils.hasText(message.getSessionId())) {<br>// ç”Ÿæˆä¸€å€‹sessionIdï¼Œä¸¦å°‡å…¶å¯«å…¥åˆ°å­—ç¯€åºåˆ—ä¸­<br>String sessionId = SessionIdGenerator.generate();<br>message.setSessionId(sessionId);<br>out.writeCharSequence(sessionId, Charset.defaultCharset());<br>}<br><br>out.writeByte(message.getMessageType().getType()); // å¯«å…¥ç•¶å‰æ¶ˆæ¯çš„é¡å‹<br>out.writeShort(message.getAttachments().size()); // å¯«å…¥ç•¶å‰æ¶ˆæ¯çš„é™„åŠ åƒæ•¸æ•¸é‡<br>message.getAttachments().forEach((key, value) -> {<br>Charset charset = Charset.defaultCharset();<br>out.writeInt(key.length()); // å¯«å…¥éµçš„é•·åº¦<br>out.writeCharSequence(key, charset); // å¯«å…¥éµæ•¸æ“š<br>out.writeInt(value.length()); // å¸Œçˆ¾å€¼çš„é•·åº¦<br>out.writeCharSequence(value, charset); // å¯«å…¥å€¼æ•¸æ“š<br>});<br><br>if (null == message.getBody()) {<br>out.writeInt(0); // å¦‚æœæ¶ˆæ¯é«”ç‚ºç©ºï¼Œå‰‡å¯«å…¥0ï¼Œè¡¨ç¤ºæ¶ˆæ¯é«”é•·åº¦ç‚º0<br>} else {<br>out.writeInt(message.getBody().length());<br>out.writeCharSequence(message.getBody(), Charset.defaultCharset());<br>}<br>}<br>}<br>}<br></p><p>å°æ–¼æ¶ˆæ¯çš„è§£ç¢¼ï¼Œå…¶éç¨‹èˆ‡ä¸Šé¢çš„æ¶ˆæ¯ç·¨ç¢¼æ–¹å¼åŸºæœ¬ä¸€è‡´ï¼Œä¸»è¦æ˜¯åŸºæ–¼å”è­°æ‰€è¦å®šçš„å°‡å­—ç¯€æµæ•¸æ“šè½‰æ›ç‚ºæ¶ˆæ¯å¯¦é«”æ•¸æ“šã€‚å¦‚ä¸‹æ˜¯å…¶è½‰æ›éç¨‹ï¼š</p><p>public class MessageDecoder extends ByteToMessageDecoder {<br><br>@Override<br>protected void decode(ChannelHandlerContext ctx, ByteBuf byteBuf, List&lt;Object> out) throws Exception {<br>Message message = new Message();<br>message.setMagicNumber(byteBuf.readInt()); // è®€å–é­”æ•¸<br>message.setMainVersion(byteBuf.readByte()); // è®€å–ä¸»ç‰ˆæœ¬è™Ÿ<br>message.setSubVersion(byteBuf.readByte()); // è®€å–æ¬¡ç‰ˆæœ¬è™Ÿ<br>message.setModifyVersion(byteBuf.readByte()); // è®€å–ä¿®è¨‚ç‰ˆæœ¬è™Ÿ<br>CharSequence sessionId = byteBuf.readCharSequence(<br>Constants.SESSION_ID_LENGTH, Charset.defaultCharset()); // è®€å–sessionId<br>message.setSessionId((String)sessionId);<br><br>message.setMessageType(MessageTypeEnum.get(byteBuf.readByte())); // è®€å–ç•¶å‰çš„æ¶ˆæ¯é¡å‹<br>short attachmentSize = byteBuf.readShort(); // è®€å–é™„ä»¶é•·åº¦<br>for (short i = 0; i &lt; attachmentSize; i++) {<br>int keyLength = byteBuf.readInt(); // è®€å–éµé•·åº¦å’Œæ•¸æ“š<br>CharSequence key = byteBuf.readCharSequence(keyLength, Charset.defaultCharset());<br>int valueLength = byteBuf.readInt(); // è®€å–å€¼é•·åº¦å’Œæ•¸æ“š<br>CharSequence value = byteBuf.readCharSequence(valueLength, Charset.defaultCharset());<br>message.addAttachment(key.toString(), value.toString());<br>}<br><br>int bodyLength = byteBuf.readInt(); // è®€å–æ¶ˆæ¯é«”é•·åº¦å’Œæ•¸æ“š<br>CharSequence body = byteBuf.readCharSequence(bodyLength, Charset.defaultCharset());<br>message.setBody(body.toString());<br>out.add(message);<br>}<br>}<br></p><p>å¦‚æ­¤ï¼Œæˆ‘å€‘è‡ªå®šç¾©æ¶ˆæ¯èˆ‡å­—ç¯€æµçš„ç›¸äº’è½‰æ›å·¥ä½œå·²ç¶“å®Œæˆã€‚å°æ–¼æ¶ˆæ¯çš„è™•ç†ï¼Œä¸»è¦æ˜¯è¦æ ¹æ“šæ¶ˆæ¯çš„ä¸åŒé¡å‹ï¼Œå°æ¶ˆæ¯é€²è¡Œç›¸æ‡‰çš„è™•ç†ï¼Œæ¯”å¦‚å°æ–¼requesté¡å‹æ¶ˆæ¯ï¼Œè¦å¯«å…¥éŸ¿æ‡‰æ•¸æ“šï¼Œå°æ–¼pingæ¶ˆæ¯ï¼Œè¦å¯«å…¥pongæ¶ˆæ¯ä½œç‚ºè¿´æ‡‰ã€‚ä¸‹é¢æˆ‘å€‘é€šéå®šç¾©Netty handlerçš„æ–¹å¼å¯¦ç¾å°æ¶ˆæ¯çš„è™•ç†ï¼š</p><p>// æœå‹™ç«¯æ¶ˆæ¯è™•ç†å™¨<br>public class ServerMessageHandler extends SimpleChannelInboundHandler&lt;Message> {<br><br>// ç²å–ä¸€å€‹æ¶ˆæ¯è™•ç†å™¨å·¥å» é¡å¯¦ä¾‹<br>private MessageResolverFactory resolverFactory = MessageResolverFactory.getInstance();<br><br>@Override<br>protected void channelRead0(ChannelHandlerContext ctx, Message message) throws Exception {<br>Resolver resolver = resolverFactory.getMessageResolver(message); // ç²å–æ¶ˆæ¯è™•ç†å™¨<br>Message result = resolver.resolve(message); // å°æ¶ˆæ¯é€²è¡Œè™•ç†ä¸¦ç²å–éŸ¿æ‡‰æ•¸æ“š<br>ctx.writeAndFlush(result); // å°‡éŸ¿æ‡‰æ•¸æ“šå¯«å…¥åˆ°è™•ç†å™¨ä¸­<br>}<br><br>@Override<br>public void channelRegistered(ChannelHandlerContext ctx) throws Exception {<br>resolverFactory.registerResolver(new RequestMessageResolver()); // è¨»å†Šrequestæ¶ˆæ¯è™•ç†å™¨<br>resolverFactory.registerResolver(new ResponseMessageResolver());// è¨»å†Šresponseæ¶ˆæ¯è™•ç†å™¨<br>resolverFactory.registerResolver(new PingMessageResolver()); // è¨»å†Špingæ¶ˆæ¯è™•ç†å™¨<br>resolverFactory.registerResolver(new PongMessageResolver()); // è¨»å†Špongæ¶ˆæ¯è™•ç†å™¨<br>}<br>}<br>// å®¢æˆ¶ç«¯æ¶ˆæ¯è™•ç†å™¨<br>public class ClientMessageHandler extends ServerMessageHandler {<br><br>// å‰µå»ºä¸€å€‹ç·šç¨‹ï¼Œæ¨¡æ“¬ç”¨æˆ¶ç™¼é€æ¶ˆæ¯<br>private ExecutorService executor = Executors.newSingleThreadExecutor();<br><br>@Override<br>public void channelActive(ChannelHandlerContext ctx) throws Exception {<br>// å°æ–¼å®¢æˆ¶ç«¯ï¼Œåœ¨å»ºç«‹é€£æ¥ä¹‹å¾Œï¼Œåœ¨ä¸€å€‹ç¨ç«‹ç·šç¨‹ä¸­æ¨¡æ“¬ç”¨æˆ¶ç™¼é€æ•¸æ“šçµ¦æœå‹™ç«¯<br>executor.execute(new MessageSender(ctx));<br>}<br><br>/**<br>* é€™è£¡userEventTriggered()ä¸»è¦æ˜¯åœ¨ä¸€äº›ç”¨æˆ¶äº‹ä»¶è§¸ç™¼æ™‚è¢«èª¿ç”¨ï¼Œé€™è£¡æˆ‘å€‘å®šç¾©çš„äº‹ä»¶æ˜¯é€²è¡Œå¿ƒè·³æª¢æ¸¬çš„<br>* pingå’Œpongæ¶ˆæ¯ï¼Œç•¶å‰è§¸ç™¼å™¨æœƒåœ¨æŒ‡å®šçš„è§¸ç™¼å™¨æŒ‡å®šçš„æ™‚é–“è¿”å›å…§å¦‚æœå®¢æˆ¶ç«¯æ²’æœ‰è¢«è®€å–æ¶ˆæ¯æˆ–è€…æ²’æœ‰å¯«å…¥<br>* æ¶ˆæ¯åˆ°ç®¡é“ï¼Œå‰‡æœƒè§¸ç™¼ç•¶å‰æ–¹æ³•<br>*/<br>@Override<br>public void userEventTriggered(ChannelHandlerContext ctx, Object evt) throws Exception {<br>if (evt instanceof IdleStateEvent) {<br>IdleStateEvent event = (IdleStateEvent) evt;<br>if (event.state() == IdleState.READER_IDLE) {<br>// ä¸€å®šæ™‚é–“å…§ï¼Œç•¶å‰æœå‹™æ²’æœ‰ç™¼ç”Ÿè®€å–äº‹ä»¶ï¼Œä¹Ÿå³æ²’æœ‰æ¶ˆæ¯ç™¼é€åˆ°ç•¶å‰æœå‹™ä¾†æ™‚ï¼Œ<br>// å…¶æœƒç™¼é€ä¸€å€‹Pingæ¶ˆæ¯åˆ°æœå‹™å™¨ï¼Œä»¥ç­‰å¾…å…¶éŸ¿æ‡‰Pongæ¶ˆæ¯<br>Message message = new Message();<br>message.setMessageType(MessageTypeEnum.PING);<br>ctx.writeAndFlush(message);<br>} else if (event.state() == IdleState.WRITER_IDLE) {<br>// å¦‚æœç•¶å‰æœå‹™åœ¨æŒ‡å®šæ™‚é–“å…§æ²’æœ‰å¯«å…¥æ¶ˆæ¯åˆ°ç®¡é“ï¼Œå‰‡é—œé–‰ç•¶å‰ç®¡é“<br>ctx.close();<br>}<br>}<br>}<br><br>private static final class MessageSender implements Runnable {<br><br>private static final AtomicLong counter = new AtomicLong(1);<br>private volatile ChannelHandlerContext ctx;<br><br>public MessageSender(ChannelHandlerContext ctx) {<br>this.ctx = ctx;<br>}<br><br>@Override<br>public void run() {<br>try {<br>while (true) {<br>// æ¨¡æ“¬éš¨æ©Ÿç™¼é€æ¶ˆæ¯çš„éç¨‹<br>TimeUnit.SECONDS.sleep(new Random().nextInt(3));<br>Message message = new Message();<br>message.setMessageType(MessageTypeEnum.REQUEST);<br>message.setBody("this is my " + counter.getAndIncrement() + " message.");<br>message.addAttachment("name", "xufeng");<br>ctx.writeAndFlush(message);<br>}<br>} catch (InterruptedException e) {<br>e.printStackTrace();<br>}<br>}<br>}<br>}<br></p><p>ä¸Šè¿°ä»£ç¢¼ä¸­ï¼Œç”±æ–¼å®¢æˆ¶ç«¯å’Œæœå‹™ç«¯éœ€è¦è™•ç†çš„æ¶ˆæ¯é¡å‹æ˜¯å®Œå…¨ä¸€æ¨£çš„ï¼Œå› è€Œå®¢æˆ¶ç«¯è™•ç†é¡ç¹¼æ‰¿äº†æœå‹™ç«¯è™•ç†é¡ã€‚ä½†æ˜¯å°æ–¼å®¢æˆ¶ç«¯è€Œè¨€ï¼Œå…¶é‚„éœ€è¦å®šæ™‚å‘æœå‹™ç«¯ç™¼é€å¿ƒè·³æ¶ˆæ¯ï¼Œç”¨æ–¼æª¢æ¸¬å®¢æˆ¶ç«¯èˆ‡æœå‹™å™¨çš„é€£æ¥æ˜¯å¦å¥åœ¨ï¼Œå› è€Œå®¢æˆ¶ç«¯é‚„æœƒå¯¦ç¾userEventTriggered()æ–¹æ³•ï¼Œåœ¨è©²æ–¹æ³•ä¸­å®šæ™‚å‘æœå‹™å™¨ç™¼é€å¿ƒè·³æ¶ˆæ¯ã€‚userEventTriggered()æ–¹æ³•ä¸»è¦æ˜¯åœ¨å®¢æˆ¶ç«¯è¢«é–’ç½®ä¸€å®šæ™‚é–“å¾Œï¼Œå…¶æœƒæ ¹æ“šå…¶è®€å–æˆ–è€…å¯«å…¥æ¶ˆæ¯çš„é™åˆ¶æ™‚é•·ä¾†é¸æ“‡æ€§çš„è§¸ç™¼è®€å–æˆ–å¯«å…¥äº‹ä»¶ã€‚</p><p>ä¸Šè¿°å¯¦ç¾ä¸­ï¼Œæˆ‘å€‘çœ‹åˆ°ï¼Œå°æ–¼å…·é«”é¡å‹æ¶ˆæ¯çš„è™•ç†ï¼Œæˆ‘å€‘æ˜¯é€šéä¸€å€‹å·¥å» é¡ä¾†ç²å–å°æ‡‰çš„æ¶ˆæ¯è™•ç†å™¨ï¼Œç„¶å¾Œè™•ç†ç›¸æ‡‰çš„æ¶ˆæ¯ï¼Œä¸‹é¢æˆ‘å€‘è©²å·¥å» é¡çš„ä»£ç¢¼ï¼š</p><p>public final class MessageResolverFactory {<br><br>// å‰µå»ºä¸€å€‹å·¥å» é¡å¯¦ä¾‹<br>private static final MessageResolverFactory resolverFactory = new MessageResolverFactory();<br>private static final List&lt;Resolver> resolvers = new CopyOnWriteArrayList&lt;>();<br><br>private MessageResolverFactory() {}<br><br>// ä½¿ç”¨å–®ä¾‹æ¨¡å¼å¯¦ä¾‹åŒ–ç•¶å‰å·¥å» é¡å¯¦ä¾‹<br>public static MessageResolverFactory getInstance() {<br>return resolverFactory;<br>}<br><br>public void registerResolver(Resolver resolver) {<br>resolvers.add(resolver);<br>}<br><br>// æ ¹æ“šè§£ç¢¼å¾Œçš„æ¶ˆæ¯ï¼Œåœ¨å·¥å» é¡è™•ç†å™¨ä¸­æŸ¥æ‰¾å¯ä»¥è™•ç†ç•¶å‰æ¶ˆæ¯çš„è™•ç†å™¨<br>public Resolver getMessageResolver(Message message) {<br>for (Resolver resolver : resolvers) {<br>if (resolver.support(message)) {<br>return resolver;<br>}<br>}<br><br>throw new RuntimeException("cannot find resolver, message type: " + message.getMessageType());<br>}<br><br>}<br></p><p>ä¸Šè¿°å·¥å» é¡æ¯”è¼ƒç°¡å–®ï¼Œä¸»è¦å°±æ˜¯é€šéå–®ä¾‹æ¨¡å¼ç²å–ä¸€å€‹å·¥å» é¡å¯¦ä¾‹ï¼Œç„¶å¾Œæä¾›ä¸€å€‹æ ¹æ“šå…·é«”æ¶ˆæ¯ä¾†æŸ¥æ‰¾å…¶å°æ‡‰çš„è™•ç†å™¨çš„æ–¹æ³•ã€‚ä¸‹é¢æˆ‘å€‘ä¾†çœ‹çœ‹å„å€‹æ¶ˆæ¯è™•ç†å™¨çš„ä»£ç¢¼ï¼š</p><p>// requesté¡å‹çš„æ¶ˆæ¯<br>public class RequestMessageResolver implements Resolver {<br><br>private static final AtomicInteger counter = new AtomicInteger(1);<br><br>@Override<br>public boolean support(Message message) {<br>return message.getMessageType() == MessageTypeEnum.REQUEST;<br>}<br><br>@Override<br>public Message resolve(Message message) {<br>// æ¥æ”¶åˆ°requestæ¶ˆæ¯ä¹‹å¾Œï¼Œå°æ¶ˆæ¯é€²è¡Œè™•ç†ï¼Œé€™è£¡ä¸»è¦æ˜¯å°‡å…¶æ‰“å°å‡ºä¾†<br>int index = counter.getAndIncrement();<br>System.out.println("[trx: " + message.getSessionId() + "]"<br>+ index + ". receive request: " + message.getBody());<br>System.out.println("[trx: " + message.getSessionId() + "]"<br>+ index + ". attachments: " + message.getAttachments());<br><br>// è™•ç†å®Œæˆå¾Œï¼Œç”Ÿæˆä¸€å€‹éŸ¿æ‡‰æ¶ˆæ¯è¿”å›<br>Message response = new Message();<br>response.setMessageType(MessageTypeEnum.RESPONSE);<br>response.setBody("nice to meet you too!");<br>response.addAttachment("name", "xufeng");<br>response.addAttachment("hometown", "wuhan");<br>return response;<br>}<br>}<br>// éŸ¿æ‡‰æ¶ˆæ¯è™•ç†å™¨<br>public class ResponseMessageResolver implements Resolver {<br><br>private static final AtomicInteger counter = new AtomicInteger(1);<br><br>@Override<br>public boolean support(Message message) {<br>return message.getMessageType() == MessageTypeEnum.RESPONSE;<br>}<br><br>@Override<br>public Message resolve(Message message) {<br>// æ¥æ”¶åˆ°å°æ–¹æœå‹™çš„éŸ¿æ‡‰æ¶ˆæ¯ä¹‹å¾Œï¼Œå°éŸ¿æ‡‰æ¶ˆæ¯é€²è¡Œè™•ç†ï¼Œé€™è£¡ä¸»è¦æ˜¯å°‡å…¶æ‰“å°å‡ºä¾†<br>int index = counter.getAndIncrement();<br>System.out.println("[trx: " + message.getSessionId() + "]"<br>+ index + ". receive response: " + message.getBody());<br>System.out.println("[trx: " + message.getSessionId() + "]"<br>+ index + ". attachments: " + message.getAttachments());<br><br>// éŸ¿æ‡‰æ¶ˆæ¯ä¸éœ€è¦å‘å°æ–¹æœå‹™å†ç™¼é€éŸ¿æ‡‰ï¼Œå› è€Œé€™è£¡å¯«å…¥ä¸€å€‹ç©ºæ¶ˆæ¯<br>Message empty = new Message();<br>empty.setMessageType(MessageTypeEnum.EMPTY);<br>return empty;<br>}<br>}<br>// pingæ¶ˆæ¯è™•ç†å™¨<br>public class PingMessageResolver implements Resolver {<br><br>@Override<br>public boolean support(Message message) {<br>return message.getMessageType() == MessageTypeEnum.PING;<br>}<br><br>@Override<br>public Message resolve(Message message) {<br>// æ¥æ”¶åˆ°pingæ¶ˆæ¯å¾Œï¼Œè¿”å›ä¸€å€‹pongæ¶ˆæ¯è¿”å›<br>System.out.println("receive ping message: " + System.currentTimeMillis());<br>Message pong = new Message();<br>pong.setMessageType(MessageTypeEnum.PONG);<br>return pong;<br>}<br>}<br>// pongæ¶ˆæ¯è™•ç†å™¨<br>public class PongMessageResolver implements Resolver {<br><br>@Override<br>public boolean support(Message message) {<br>return message.getMessageType() == MessageTypeEnum.PONG;<br>}<br><br>@Override<br>public Message resolve(Message message) {<br>// æ¥æ”¶åˆ°pongæ¶ˆæ¯å¾Œï¼Œä¸éœ€è¦é€²è¡Œè™•ç†ï¼Œç›´æ¥è¿”å›ä¸€å€‹ç©ºçš„message<br>System.out.println("receive pong message: " + System.currentTimeMillis());<br>Message empty = new Message();<br>empty.setMessageType(MessageTypeEnum.EMPTY);<br>return empty;<br>}<br>}<br></p><p>å¦‚æ­¤ï¼Œå°æ–¼è‡ªå®šç¾©å”è­°çš„æ¶ˆæ¯è™•ç†éç¨‹å·²ç¶“å®Œæˆï¼Œä¸‹é¢å‰‡æ˜¯ä½¿ç”¨ç”¨Nettyå¯¦ç¾çš„å®¢æˆ¶ç«¯èˆ‡æœå‹™ç«¯ä»£ç¢¼ï¼š</p><p>// æœå‹™ç«¯<br>public class Server {<br><br>public static void main(String[] args) {<br>EventLoopGroup bossGroup = new NioEventLoopGroup();<br>EventLoopGroup workerGroup = new NioEventLoopGroup();<br>try {<br>ServerBootstrap bootstrap = new ServerBootstrap();<br>bootstrap.group(bossGroup, workerGroup)<br>.channel(NioServerSocketChannel.class)<br>.option(ChannelOption.SO_BACKLOG, 1024)<br>.handler(new LoggingHandler(LogLevel.INFO))<br>.childHandler(new ChannelInitializer&lt;SocketChannel>() {<br>@Override<br>protected void initChannel(SocketChannel ch) throws Exception {<br>ChannelPipeline pipeline = ch.pipeline();<br>// æ·»åŠ ç”¨æ–¼è™•ç†ç²˜åŒ…å’Œæ‹†åŒ…å•é¡Œçš„è™•ç†å™¨<br>pipeline.addLast(new LengthFieldBasedFrameDecoder(1024, 0, 4, 0, 4));<br>pipeline.addLast(new LengthFieldPrepender(4));<br>// æ·»åŠ è‡ªå®šç¾©å”è­°æ¶ˆæ¯çš„ç·¨ç¢¼å’Œè§£ç¢¼è™•ç†å™¨<br>pipeline.addLast(new MessageEncoder());<br>pipeline.addLast(new MessageDecoder());<br>// æ·»åŠ å…·é«”çš„æ¶ˆæ¯è™•ç†å™¨<br>pipeline.addLast(new ServerMessageHandler());<br>}<br>});<br><br>ChannelFuture future = bootstrap.bind(8585).sync();<br>future.channel().closeFuture().sync();<br>} catch (InterruptedException e) {<br>e.printStackTrace();<br>} finally {<br>bossGroup.shutdownGracefully();<br>workerGroup.shutdownGracefully();<br>}<br>}<br>}<br>public class Client {<br>public static void main(String[] args) {<br>NioEventLoopGroup group = new NioEventLoopGroup();<br>Bootstrap bootstrap = new Bootstrap();<br>try {<br>bootstrap.group(group)<br>.channel(NioSocketChannel.class)<br>.option(ChannelOption.TCP_NODELAY, Boolean.TRUE)<br>.handler(new ChannelInitializer&lt;SocketChannel>() {<br>@Override<br>protected void initChannel(SocketChannel ch) throws Exception {<br>ChannelPipeline pipeline = ch.pipeline();<br>// æ·»åŠ ç”¨æ–¼è§£æ±ºç²˜åŒ…å’Œæ‹†åŒ…å•é¡Œçš„è™•ç†å™¨<br>pipeline.addLast(new LengthFieldBasedFrameDecoder(1024, 0, 4, 0, 4));<br>pipeline.addLast(new LengthFieldPrepender(4));<br>// æ·»åŠ ç”¨æ–¼é€²è¡Œå¿ƒè·³æª¢æ¸¬çš„è™•ç†å™¨<br>pipeline.addLast(new IdleStateHandler(1, 2, 0));<br>// æ·»åŠ ç”¨æ–¼æ ¹æ“šè‡ªå®šç¾©å”è­°å°‡æ¶ˆæ¯èˆ‡å­—ç¯€æµé€²è¡Œç›¸äº’è½‰æ›çš„è™•ç†å™¨<br>pipeline.addLast(new MessageEncoder());<br>pipeline.addLast(new MessageDecoder());<br>// æ·»åŠ å®¢æˆ¶ç«¯æ¶ˆæ¯è™•ç†å™¨<br>pipeline.addLast(new ClientMessageHandler());<br>}<br>});<br><br>ChannelFuture future = bootstrap.connect("127.0.0.1", 8585).sync();<br>future.channel().closeFuture().sync();<br>} catch (InterruptedException e) {<br>e.printStackTrace();<br>} finally {<br>group.shutdownGracefully();<br>}<br>}<br>}<br></p><p>é‹è¡Œä¸Šè¿°ä»£ç¢¼ä¹‹å¾Œï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°å®¢æˆ¶ç«¯å’Œæœå‹™å™¨åˆ†åˆ¥æ‰“å°ç­å¦‚ä¸‹æ•¸æ“šï¼š</p><p>// å®¢æˆ¶ç«¯<br>receive pong message: 1555123429356<br>[trx: d05024d2]1. receive response: nice to meet you too!<br>[trx: d05024d2]1. attachments: {hometown=wuhan, name=xufeng}<br>[trx: 66ee1438]2. receive response: nice to meet you too!<br>// æœå‹™å™¨<br>receive ping message: 1555123432279<br>[trx: f582444f]4. receive request: this is my 4 message.<br>[trx: f582444f]4. attachments: {name=xufeng}<br></p><p><br></p><p>3. å°çµ</p><p>æœ¬æ–‡é¦–å…ˆå°‡è‡ªå®šç¾©å”è­°èˆ‡HTTPå”è­°é€²è¡Œäº†å°æ¯”ï¼Œé—¡è¿°äº†è‡ªå®šç¾©å”è­°çš„ä¸€äº›å„ªé»ã€‚ç„¶å¾Œå®šç¾©äº†ä¸€ä»½è‡ªå®šç¾©å”è­°ï¼Œä¸¦ä¸”è¬›è§£äº†å”è­°ä¸­å„å€‹å­—ç¯€çš„å«ç¾©ã€‚æœ€å¾Œé€šéNettyå°è‡ªå®šç¾©å”è­°é€²è¡Œäº†å¯¦ç¾ï¼Œä¸¦ä¸”å¯¦ç¾äº†åŸºæ–¼è‡ªå®šç¾©å”è­°çš„å¿ƒè·³åŠŸèƒ½ã€‚</p><p><br></p><p>æ­¡è¿åœ¨ç•™è¨€å€ç•™ä¸‹ä½ çš„è§€é»ï¼Œä¸€èµ·è¨è«–æé«˜ã€‚å¦‚æœä»Šå¤©çš„æ–‡ç« è®“ä½ æœ‰æ–°çš„å•Ÿç™¼ï¼Œå­¸ç¿’èƒ½åŠ›çš„æå‡ä¸Šæœ‰æ–°çš„èªè­˜ï¼Œæ­¡è¿è½‰ç™¼åˆ†äº«çµ¦æ›´å¤šäººã€‚</p><p><br></p><p>çŒœä½ é‚„æƒ³çœ‹</p><p><br></p><p>é˜¿é‡Œã€é¨°è¨Šã€ç™¾åº¦ã€è¯ç‚ºã€äº¬æ±æœ€æ–°é¢è©¦é¡Œå½™é›†</p><p>Javaä¹‹ç•°å¸¸è™•ç†ï¼Œçœ‹é€™ç¯‡å°±å°äº†ï¼<br></p><p>ä¸€å€‹ç°¡å–®çš„ä¾‹å­å¸¶ä½ ç†è§£HashMap<br></p><p>ã€æ•´ç†ã€‘Spring å¸¸ç”¨è¨»è§£ï¼åƒè¬ä¸è¦éŒ¯éï¼<br><br></p><p>é—œæ³¨è¨‚é–±è™Ÿã€Œç¨‹åºå“¡å°æ¨‚ã€ï¼Œæ”¶çœ‹æ›´å¤šç²¾å½©å…§å®¹<br>å˜¿ï¼Œä½ åœ¨çœ‹å—ï¼Ÿ</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Netty</a></li><li><a>å¯¦ç¾</a></li><li><a>ç¾©å”è­°</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/f09ac34c.html alt=å½©è‰²é›»å­æ›¸åœ¨å»£å·ç‡å…ˆå¯¦ç¾é‡ç”¢ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RkPMb9G6tipobr style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f09ac34c.html title=å½©è‰²é›»å­æ›¸åœ¨å»£å·ç‡å…ˆå¯¦ç¾é‡ç”¢>å½©è‰²é›»å­æ›¸åœ¨å»£å·ç‡å…ˆå¯¦ç¾é‡ç”¢</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2d12804e.html alt=[ç©è½‰MySQLä¹‹ä¹]MySQLå¯¦ç¾ACIDä¹‹åŸå­æ€§ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/bdb044d821f74107a3fd9119fc34c642 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2d12804e.html title=[ç©è½‰MySQLä¹‹ä¹]MySQLå¯¦ç¾ACIDä¹‹åŸå­æ€§>[ç©è½‰MySQLä¹‹ä¹]MySQLå¯¦ç¾ACIDä¹‹åŸå­æ€§</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fb2bc471.html alt="ã€Œè­¯ã€ Spring çš„åˆ†ä½ˆå¼äº‹å‹™å¯¦ç¾â€”ä½¿ç”¨å’Œä¸ä½¿ç”¨ XAâ€”ç¬¬äºŒéƒ¨åˆ†" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fb2bc471.html title="ã€Œè­¯ã€ Spring çš„åˆ†ä½ˆå¼äº‹å‹™å¯¦ç¾â€”ä½¿ç”¨å’Œä¸ä½¿ç”¨ XAâ€”ç¬¬äºŒéƒ¨åˆ†">ã€Œè­¯ã€ Spring çš„åˆ†ä½ˆå¼äº‹å‹™å¯¦ç¾â€”ä½¿ç”¨å’Œä¸ä½¿ç”¨ XAâ€”ç¬¬äºŒéƒ¨åˆ†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e41fd8de.html alt="æ’«é †å„é …é˜²æ±›å·¥ä½œå¯¦ç¾â€œå…­åˆ°ä½â€ ç¢ºä¿å…¨å¸‚å®‰å…¨åº¦æ±›" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e41fd8de.html title="æ’«é †å„é …é˜²æ±›å·¥ä½œå¯¦ç¾â€œå…­åˆ°ä½â€ ç¢ºä¿å…¨å¸‚å®‰å…¨åº¦æ±›">æ’«é †å„é …é˜²æ±›å·¥ä½œå¯¦ç¾â€œå…­åˆ°ä½â€ ç¢ºä¿å…¨å¸‚å®‰å…¨åº¦æ±›</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f22ee5ad.html alt="Redis è¨­è¨ˆèˆ‡å¯¦ç¾ : Lua è…³æœ¬" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f22ee5ad.html title="Redis è¨­è¨ˆèˆ‡å¯¦ç¾ : Lua è…³æœ¬">Redis è¨­è¨ˆèˆ‡å¯¦ç¾ : Lua è…³æœ¬</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/56e2a065.html alt=é€™ä½å¤§å”åœ¨éš¨æ©Ÿçš„å½©ç¥¨ä¸Šå¯¦ç¾äº†90%çš„ä¸­çç‡ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/50ab0003166decded7e4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/56e2a065.html title=é€™ä½å¤§å”åœ¨éš¨æ©Ÿçš„å½©ç¥¨ä¸Šå¯¦ç¾äº†90%çš„ä¸­çç‡>é€™ä½å¤§å”åœ¨éš¨æ©Ÿçš„å½©ç¥¨ä¸Šå¯¦ç¾äº†90%çš„ä¸­çç‡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html alt="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9d3b0e55813d46b4982ae7d9b81d1802 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html title="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½">Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d0662f03.html alt="å»£è¥¿éµè·¯å‡ºæµ·å¤§é€šé“ å…¨é¢å¯¦ç¾é›»æ°£åŒ–é‹ç‡Ÿ" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d0662f03.html title="å»£è¥¿éµè·¯å‡ºæµ·å¤§é€šé“ å…¨é¢å¯¦ç¾é›»æ°£åŒ–é‹ç‡Ÿ">å»£è¥¿éµè·¯å‡ºæµ·å¤§é€šé“ å…¨é¢å¯¦ç¾é›»æ°£åŒ–é‹ç‡Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c78a6fe2.html alt=HashMapçš„åº•å±¤å¯¦ç¾ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/0f9ffe95e10e4ff5804a8fd9cf591cfc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c78a6fe2.html title=HashMapçš„åº•å±¤å¯¦ç¾>HashMapçš„åº•å±¤å¯¦ç¾</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7c3d9f70.html alt=æ–°ç©çš„æ··åˆææ–™æˆ–æœ‰åŠ©æ–¼å¯¦ç¾é«˜æ•ˆçš„ä¸‹ä¸€ä»£é¡¯ç¤ºå™¨ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/47050004da4f36dcec1b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7c3d9f70.html title=æ–°ç©çš„æ··åˆææ–™æˆ–æœ‰åŠ©æ–¼å¯¦ç¾é«˜æ•ˆçš„ä¸‹ä¸€ä»£é¡¯ç¤ºå™¨>æ–°ç©çš„æ··åˆææ–™æˆ–æœ‰åŠ©æ–¼å¯¦ç¾é«˜æ•ˆçš„ä¸‹ä¸€ä»£é¡¯ç¤ºå™¨</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8d93e49d.html alt=æ•™ç¨‹ï¼šæ¡ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•å¯¦ç¾ç·šæ€§è¿´æ­¸ï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1537162000876f4501fb1c4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8d93e49d.html title=æ•™ç¨‹ï¼šæ¡ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•å¯¦ç¾ç·šæ€§è¿´æ­¸ï¼>æ•™ç¨‹ï¼šæ¡ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•å¯¦ç¾ç·šæ€§è¿´æ­¸ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e8e17d90.html alt=é‡è¦çªç ´ï¼ä¸­åœ‹ç§‘å­¸å®¶å¯¦ç¾åŸºåº•ç´°èƒç™Œ4.1ç§’äººå·¥æ™ºèƒ½ç²¾æº–è­˜åˆ¥ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RtbWBYL9koJMmN style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e8e17d90.html title=é‡è¦çªç ´ï¼ä¸­åœ‹ç§‘å­¸å®¶å¯¦ç¾åŸºåº•ç´°èƒç™Œ4.1ç§’äººå·¥æ™ºèƒ½ç²¾æº–è­˜åˆ¥>é‡è¦çªç ´ï¼ä¸­åœ‹ç§‘å­¸å®¶å¯¦ç¾åŸºåº•ç´°èƒç™Œ4.1ç§’äººå·¥æ™ºèƒ½ç²¾æº–è­˜åˆ¥</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1b218e68.html alt=åœ–åƒæ‹¼æ¥ç®—æ³•åŠå¯¦ç¾ï¼ˆä¸€ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1534489824878547eee8fc2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1b218e68.html title=åœ–åƒæ‹¼æ¥ç®—æ³•åŠå¯¦ç¾ï¼ˆä¸€ï¼‰>åœ–åƒæ‹¼æ¥ç®—æ³•åŠå¯¦ç¾ï¼ˆä¸€ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c9eb3d63.html alt=PHPå¯¦ç¾å„ç¨®ç¶“å…¸ç®—æ³•è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15357595091626cf296dc3e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c9eb3d63.html title=PHPå¯¦ç¾å„ç¨®ç¶“å…¸ç®—æ³•è©³è§£>PHPå¯¦ç¾å„ç¨®ç¶“å…¸ç®—æ³•è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/740f5b7b.html alt=PHPæ€éº¼å¯¦ç¾åˆ†é åŠŸèƒ½ï¼Ÿï¼ˆåœ–æ–‡+è¦–é »æ•™ç¨‹ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e81c52a014dd4c34adcbfb26482bd690 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/740f5b7b.html title=PHPæ€éº¼å¯¦ç¾åˆ†é åŠŸèƒ½ï¼Ÿï¼ˆåœ–æ–‡+è¦–é »æ•™ç¨‹ï¼‰>PHPæ€éº¼å¯¦ç¾åˆ†é åŠŸèƒ½ï¼Ÿï¼ˆåœ–æ–‡+è¦–é »æ•™ç¨‹ï¼‰</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>