<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>機床CNC基礎知識 | 极客快訊</title><meta property="og:title" content="機床CNC基礎知識 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/dfic-imagehandler/aae5d815-8512-4163-a2d6-fdbc5b94fd4d"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2e0cfd9.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2e0cfd9.html><meta property="article:published_time" content="2020-10-29T20:51:48+08:00"><meta property="article:modified_time" content="2020-10-29T20:51:48+08:00"><meta name=Keywords content><meta name=description content="機床CNC基礎知識"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/2e0cfd9.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>機床CNC基礎知識</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p><strong>機床CNC基礎知識</strong></p><p><strong>一． CNC機床與CNC系統</strong></p><p>CNC的含義是計算機數字控制。</p><p>1． CNC機床</p><p>⑴．金屬切削用</p><p>孔加工、攻絲、鏜削、銑削、車削、切螺紋、切平面、輪廓加工、平面磨削、外圓磨</p><p>削、內圓磨削等。</p><p>⑵．線電極切割機。</p><p>⑶．衝床、步衝、衝壓、金屬成型、彎管等機床。</p><p>⑷．產業機器人。</p><p>⑸．注塑機。</p><p>⑹．檢測、測量機。</p><p>⑺．木工機械。</p><p>⑻．特殊材料加工機械：如加工石材、玻璃、發射性礦料等。</p><p>⑼．特種加工機械激光加工機、氣體切割機、焊接機、製圖機、印刷機等。</p><p>隨著電子技術和計算機技術以及IT技術的發展，目前，這些機床與加工設備都可用數值計算機用數值數據進行控制，稱為CNC控制。</p><div class=pgc-img><img alt=機床CNC基礎知識 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/aae5d815-8512-4163-a2d6-fdbc5b94fd4d><p class=pgc-img-caption></p></div><p>2． CNC系統</p><p>CNC系統的含義是計算機數值控制系統。</p><p>CNC系統的基本配置</p><p>機床的CNC控制是集成多學科的綜合控制技術。</p><p>一臺CNC系統包括：⑴．CNC控制單元（數值控制器部分）。⑵．伺服驅動單元和進給伺服電動機。⑶．主軸驅動單元和主軸電動機。⑷．PMC（PLC）控制器。⑸．機床強電櫃（包括刀庫）控制信號的輸入/輸出（I/O）單元。⑹．機床的位置測量與反饋單元（通常包括在伺服驅動單元中）。⑺．外部軸（機械）控制單元。如：刀庫、交換工作臺、上下料機械手等的驅動軸。⑻．信息的輸入/輸出設備。如電腦、磁盤機、存儲卡、鍵盤、專用信息設備等。⑼．網絡。如以太網、HSSB（高速數據傳輸口）、RS-232C口等和加工現場的局域網。</p><p>CNC單元（控制器部分）的硬件實際上就是一臺專用的微型計算機。是CNC設備製造廠自己設計生產的專門用於機床的控制的核心。下面的幾張圖表示出其基本硬件模塊；基本的控制功能模塊和一臺實際的控制器硬件。</p><p><strong>二．機床的運動座標及進給軸</strong></p><p>一臺機床有幾個運動軸執行加工時的切削進給，因此稱其為進給軸。機床開機後以機床零點為基準建立了機床的機械座標系（直角座標系）。每個軸對應於其中的一個相應的座標。軸有直線運動的，有迴轉運動的。國際標準ISO對座標軸的方向與名稱是有規定的。如下圖。</p><p>根據規定，按直角座標系右手法則定義各座標軸，Z軸正方向一般為機床主軸的方向。X、Y、Z定義為直線運動軸；U、V、W為分別平行於X、Y、Z的直線運動軸；A、B、C為迴轉運動軸，分別圍繞X、Y、Z運動，其正方向符合右手螺旋規則。</p><p>CNC控制時用程序命令X、Y、Z、U、V、W、A、B、C等指令被控的座標軸，用數值指令其運動的距離，正負號指令移動方向，F指令運動速度。例如：</p><p>G01 X120 Y-300 F1000；</p><p>意義是G01：X軸與Y軸協調運動，加工一條直線；X120，Y-300：X軸走120mm；Y軸走－300mm；F：進給速度為1000mm/分。如有CNC精加工需求，添加微信來圖報價：16620722077</p><div class=pgc-img><img alt=機床CNC基礎知識 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/94d7c082-91eb-47ad-9af0-c1c8d5885360><p class=pgc-img-caption></p></div><p><strong>三．CNC插補與位置控制指令的輸出</strong></p><p>1．軌跡運動的插補計算--插補器</p><p>CNC對機床的座標運動進行控制。在控制原理上這是位置量控制系統。需要控制的是：幾個軸的聯動，運動軌跡（加工輪廓）的計算：最重要的是保證運動精度和定位精度（動態的輪廓幾何精度和靜態的位置幾何精度）；各軸的移動量（mm）；移動速度（mm/分）；移動方向；起/制動過程（加速/降速）；移動的分辨率。</p><p>現代的CNC系統是純電氣的控制系統。進給軸的移動是由伺服電動機執行的。通常，一個進給軸由一個伺服電動機驅動。電動機由伺服放大器供給動力。伺服放大器的工作由CNC的插補器的分配輸出信號控制。</p><p>CNC對機床進給軸的控制，是執行事先編制好的加工程序指令。程序指令是按零件的輪廓編制的加工刀具運動軌跡（如上圖）。程序是根據零件輪廓分段編制的。一個程序段加工一段形狀的輪廓。輪廓形狀不同，使用不同的程序指令（零件輪廓形狀元素）。例如：G01---直線運動指令；</p><p>G02---順時針圓弧運動指令；G03---逆時針運動圓弧指令；G32（G33）---螺紋加工……</p><p>但是，在一段加工指令中，只是編寫此段的走刀終點。如：下面一個程序段要加工X-Y平面上一段圓弧，程序中只指令了終點的座標值X100；Y-200：</p><p>G90 G17 G02 X100. Y-200. R50. F500；</p><p>此段的起點已在前一段編寫，就是前段的終點。因此，加工此段時，如上圖所示，NC控制器即計算機處理器只知道該段的起點和終點座標值。段中的刀具運行軌跡上其它各個點的座標值必須由處理器計算出來。處理器是依據該段輪廓指令（G02）和起點和終點的座標值計算的，即必須算出希望加工的工件輪廓，算出在執行該段指令過程中刀具沿X軸和Y軸同時移動的中間各點的位置。</p><p>X軸和Y軸的合成運動即形成了刀具加工的工件輪廓軌跡。</p><p>除此之外，在程序中必須指令運動速度（加工速度），如：F500（mm/min）。在位置計算時，要根據輪廓位置算出對應點的刀具運動方向速度。此例中是分別算出沿X軸各點的對應速度和沿Y軸各點的對應速度。</p><p>實現上述運算的機構稱之為插補器。</p><p>插補器每運算一次稱為一個插補週期，一般為8ms；計算複雜型面的插補器使用高速CPU，插補週期可縮短，目前可達2ms。一個程序段分多個插補週期，取決於輪廓形狀和輪廓尺寸。</p><p>執行上例程序段的指令是進行順時針圓弧的插補。是執行以圓弧計算公式為基礎的插補子程序。計算時的判斷條件是：不斷地執行刀具沿X軸向和Y軸向的進給，每進給一個脈衝當量即判斷是否到達終點，是否超差，計算方向是順時針，進給當量是1μm/脈衝，速度是500mm/min。</p><p>CNC的系統控制軟件中包括了多個插補子程序，工件形狀的每一種幾何元素均對應著刀具的一種幾何運動，因此就要求CNC有相應的插補子程序。這就是CNC系統控制軟件中控制座標軸運動的G代碼。如：G01，G02，G03，G32，G33，G05，G08……。還有一些子程序是考慮加工工藝的要求控制刀具運動的。G代碼越多，CNC的功能也就越強。用這些G代碼編制零件的加工程序。</p><p>CNC的系統控制軟件是用彙編語言編制的。不同類型的機床使用不同的CNC系統。當然，這些系統的控制軟件是完全不同的。</p><p>插補器的硬件是CNC的主CPU。當然，還有用純硬件的插補器。</p><div class=pgc-img><img alt=機床CNC基礎知識 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/1767d5b6-5266-48e8-986c-3bdbaa95a134><p class=pgc-img-caption></p></div><p>2．插補脈衝的分配輸出</p><p>經過插補運算，算出了加工所要求的工件形狀在同一時間週期（插補週期）內各個座標軸移動的距離（移動量），它是以脈衝數表示的，如：在本插補週期內X軸進給25個脈衝；Y軸進給50個脈衝，分別送給對應的座標軸，作為相應軸的位置移動指令。脈衝序列有正負號，指令對應軸的運動方向；脈衝序列按一定的頻率輸出，指令該軸的運動速度。這一裝置叫做脈衝分配器為了防止產生加工運動的衝擊、提高加工精度和光潔度，在脈衝分配給各進給軸之前，對進給速度都進行加/減速。如下圖所示，CNC可實現兩種加/減速控制：插補前加/減速和插補後加/減速。</p><p>插補後通常用直線型或指數型加減速方法：指數型加/減速的速度變化比較平滑，因而衝擊小，但是速度指令的滯後較大。相反，直線型加減速的速度變化迅速，時間常數設得較小時會造成衝擊，引起機床的震動。但是，加工出的零件輪廓可能與裎編的輪廓接近。</p><p>插補前用直線型加減速方法，這樣可以減小加工的形狀誤差。除此之外，為了提高加工精度和加工速度，還開發了預讀/預處理多個程序段、精細加減速等CNC軟件。</p><p>3．加工刀具的偏置及補償</p><p>上述插補的位置脈衝，是按工件輪廓編制的程序計算出來的，即刀具中心點的運行軌跡是工件的輪廓。考慮到刀具有半徑和不同的長度，實際加工時刀具中心不能按此軌跡行進，必須根據實際使用的刀具，計入其實際半徑和長度，由CNC計算出實際刀具的中心軌跡，按此軌跡控制刀具的移動。此功能叫做“刀具的偏置及補償”。</p><p>⑴．刀具半徑偏置，補償如下圖所示，實際的刀具中心軌跡與按照零件輪廓尺寸編制的CNC加工程序軌跡偏移了一個刀具半徑的尺寸。在編程時，用G指令（G41，G42）告訴CNC的插補器執行刀具半徑的偏置計算，插補器即按照實際的刀具半徑計算出刀具的中心軌跡，以此控制刀具的行進。就是說，上述脈衝分配器輸出的給各個進給軸的脈衝數，是插補的零件輪廓偏移了一個刀具半徑後的刀心軌跡的進給脈衝數。每個軸的補償脈衝分別送給相應的進給軸。</p><p>實際刀具的半徑值在加工前必須輸入至刀具補償存儲器。刀具補償存儲器可同時存儲多把刀具的幾何尺寸（半徑值）。加工中用哪一把刀具，由程序用刀具號指定，如：T102。根據程序中指令的刀號，CNC插補器找到實際的刀具半徑值執行計算。</p><p>G41為左刀補：沿著刀具行進的方向看，在工件的左側加補償；G42：沿著刀具行進的方向，在工件的右側加補償。</p><p>加工前，用一把刀具的長度作為基準，將實際加工中使用的各把刀具先測量好其與基準刀具刀長的正、負差值，將這一差值與上述的刀具半徑值一樣按刀號輸入刀具補償存儲器。編制加工程序時，編入刀具號。加工的開始，用基準刀具的刀尖對刀。CNC執行加工程序時，根據程序中指令的刀號找出刀長的差值，按刀長差值的符號伸長或縮短，進行補償。上圖是銑床刀具長度的補償，只有Z向補償。對於車床，有X和Z兩個方向。如下圖所示。</p><p>在銑床類的CNC系統中，用G43和G44指令刀具的長度補償，G43為正刀補，即將刀具補償值加到程序指令的終點座標值上。G44為負刀補，即由程序指令的終點座標值減去刀具的補償值。</p><p>加工複雜形狀的零件（如模具）需要用多個座標軸同時移動的多座標插補器。當然也必須用多座標（多維）的刀具補償。</p><p><strong>四．運動誤差的補償</strong></p><div class=pgc-img><img alt=機床CNC基礎知識 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/cbcbc352-ee35-4402-b540-93b59ed92355><p class=pgc-img-caption></p></div><p>1．運動軸反向時的間隙補償（失動量補償）</p><p>在機床工作臺的運動中從某一方向變為相反方向的反向時刻，會由於滾珠絲槓和螺母的間隙或絲槓的變形而丟失脈衝，就是所說的失動量。</p><p>在機床上打表實測各軸的反向移動間隙量，根據實測的間隙值用參數設定其補償量------補償脈衝數（1μm/脈衝）。這樣，在工作臺反向時、執行CNC的程序指令的移動前，CNC將補償脈衝經脈衝分配器、按CNC事先設定的速率輸出至相應軸的伺服放大器，對失動量補償。</p><p>反向間隙值與工作臺的移動速度有關，設定相關參數，系統可以對G00（快速移動）和進給速度（F）下的間隙分別進行補償。</p><p>2．螺距誤差補償</p><p>機床使用的滾珠絲槓，其螺距是有誤差的。CNC可對實測的各進給軸滾珠絲槓的螺距誤差進行補償。通常是用激光干涉儀測量滾珠絲槓的螺距誤差。測量的基準點為機床的零點。每隔一定的距離設置一個補償點，該距離是用參數設定的。當然，各軸可以任意設定，比如：X軸的行程長，設為50mm補一個點，Z軸行程短或是要求移動精度高，設為20mm補一個點……。</p><p>補償值根據實際測量的滾珠絲槓誤差確定，其值（補償脈衝個數）按照補償點號（從基準點即機床零點算起）設入CNC的螺距誤差補償存儲器，如下圖所示。通常，一個補償脈衝的當量是一個μm。補償值可正、可負。在進給軸運動時，CNC實時檢測移動距離，按照這些事先設定的參數值在各軸的相應補償點給各軸分別輸出補償值，使相應軸在CNC插補輸出脈衝的基礎上多走或少走相應的螺補脈衝數。</p><p>近來，CNC系統開發了按工作臺移動方向的雙向螺距誤差的補償功能。進一步提高了進給軸的移動精度。</p><p>五．信息、數據的輸入、輸出控制</p><p>CNC的輸入信息與數據包括加工程序，功能參數，系統參數，機床參數，伺服控制參數，主軸控制參數，PMC參數，刀具數據，Macro(宏)變量，座標系，專用軟件數據……這些信息與數據由信息輸入/輸出操作設備經相應的數據口輸入或輸出。</p><p>1．數據的輸入、輸出設備CNC系統目前常用的I/O設備有：⑴.鍵盤：為了減小安裝尺寸，通常是專門設計的，稱為MDI 鍵盤，向CNC輸入信息與數據，用於操作CNC單元。⑵.機床操作面板：操作工操作機床的各種動作。⑶. PC機。⑷.軟磁盤驅動器(Handy file)：FANUC系統的專用設備。⑸. Panel- i：FANUC系統的專用設備。 ⑹. Flash 存儲卡等等。</p><p>每一種設備都有相應的驅動與控制程序。</p><p>2．數據的輸入、輸出口</p><p>CNC控制器上配有幾種數據傳送口，用於與外界數據設備的連接。⑴. RS-232C口：連接PC機、軟磁盤驅動器等有串行通訊口的設備。⑵. HSSB：高速串行數據總線，用於與PC機或Panel- i連接，高速傳送數據。⑶. I/O Link：是基於RS-485的數據口，日本的工業企業標準，用於傳送機床強點控制的I/O信號信息。⑷.以太網。⑸.現場局部網絡。關於⑷和⑸，下面專門敘述。</p><p>3． 顯示器</p><p>用來顯示系統的操作與運行的現狀與結果，顯示加工仿真圖形。目前的FANUC系統已經全部使用LCD顯示器。這種顯示器體積小，彩色顯示器的色彩豐富，加工件的仿真非常逼真。</p><p>六．網絡及CNC加工的集中控制</p><p>機械加工廠的網絡一般可分3級：廠級網；加工單元級網和下級的現場網廠級和加工單元級網目前多用以太網。加工現場網絡，FANUC系統可配：Profibus-DP；Device</p><p>net；FL-Net。選用不同的網路需配不同的網路板</p><p>1．以太網</p><p>FANUC CNC-16i/18i/21i，0i-C可配3個不同用途的以太網口：內裝於CNC 主板的以太網口，網板和網卡，其中，網卡為即用即插，為臨時用途，如調試梯形圖；調試機床的進給伺服特性和主軸特性……。</p><p>網板是在系統上增加的插板，上有大容量半導體存儲器（最大1GB），代替硬磁盤。主要用於與大容量數據設備（如PC機）連接，批量傳送數據與信息，如用於模具加工。內裝於主板的以太網口可用於單元控制，與單元控制主機連接。</p><p>2．現場網</p><p>現場網絡用於與其他設備批量傳送I/O控制信號信息。如，在自動生產線上與其它專用加工機械、裝料/卸料機械、物料搬運機械、清洗機械等的信息（信號）聯繫。根據要求或地域可選Profibus-DP，Device-net或FL-net。FANUC生產了這些網路板，並開發了相應的配套軟件。</p><p>3． CNC加工的集中控制</p><p>現代的機械加工工廠（如汽車發動機製造廠）使用CNC機床不只是使其單機運行，是將多臺CNC機床和有關的專用設備如上/下料裝置，物料傳送機械，清洗機，翻轉機，測量機，專用加工機等連成流水生產線。對這些機械用網路連接起來，用計算機實施生產的集中管理。整個工廠的生產集中管理的基礎是加工單元的集中控制。</p><p>加工單元控制器：由一臺主計算機集中控制多臺CNC機床的運行。主機與CNC系統用以太網連接。</p><p>為實現對多臺CNC機床的集中控制，控制加工單元的主計算機必須能獲取各CNC機床的各種信息與數據，包括：①.機床的運行狀態：是處於加工運行還是待機；是否有報警；加工哪一個程序？哪一個程序段？是否結束了此次的加工任務？…….②. CNC與機床的信息與數據，如：CNC存儲的加工程序；機床正在運行的加工程序；CNC存儲的刀具信息；主軸上的刀具號；已加工的工件數；加工時間；程序的運行時間；CNC參數；伺服參數；主軸參數；機床參數；PMC參數；PMC的梯形圖；宏變量；報警號與信息等等。就是說，主計算機能夠實時監視各CNC機床的運行</p><p>狀況，瞭解對機床進行維護的信息。</p><p>另外，主計算機還必須：①.對各機床進行必要、有時是實時的控制。如，機床的暫停，急停；②.信息與數據的下傳，如：加工運行指令；要求的加工工件數；加工程序；刀具信息；CNC參數；伺服參數；主軸參數；機床參數；PMC參數；PMC的梯形圖；宏變量等等。③. CNC機床的維護與維修指導信息。</p><p>最終用戶可在單元控制的主計算機上自行開發集中控制軟件（包括生產管理，計劃調度，加工現場監控，故障診斷等軟件）。這些應用軟件的開發基礎，必須使用CNC系統的生產廠家提供的CNC信息庫與通訊軟件包。FANUC為用戶開發了用於此目的的工具軟件FOCAS（FANUC Open CNC Application Software）。利用該軟件包提供的指令，用戶可以實現主計算機與CNC的通訊，上/下傳送上面所述的信息與數據。</p><p>為了方便用戶，FANUC還開發了單元控制器----i-CELL作為商品。下面的圖是i-CELL的功能框圖。如果CNC使用的PMC是SB7，還可以傳送與顯示（在主機上）被控機床的梯形圖。</p><p>七．PMC和機床的強電控制</p><p>機床的開機、停機；主軸的起動、停止；加工的開始、結束、中停；潤滑、冷卻的開、關；工件的裝、卸控制；找刀、換刀；工作臺交換；輔機的起、停等這些機床動作，都是由接觸器、繼電器、閥執行的。指令這些動作的控制信號相互間都有一定的順序或時序，相互之間是互鎖的。</p><p>普通機床因動作簡單，由電氣元、部件（按鈕，按鍵，觸點，線圈等）按繼電邏輯的原理圖硬接線實現的，運行起來不可靠。CNC機床採用PMC邏輯控制。PMC其實就是PLC（可編程邏輯控制器。）但是因為FANUC的機床控制PLC是專門用於控制機床的，其中有多條專用指令，故而叫做PMC-----可編程機床控制器。而且，PMC的程序格式FANUC採用的是梯形圖。梯形圖的顯示格式非常類似於機床的繼電邏輯圖，直觀易懂，易編，易操作。</p><p>CNC一啟動，PMC程序即運行。在CNC執行加工程序時，PMC與加工程序並行運行。PMC時刻掃描機床或機床操作者的輸入信號和強電櫃控制信號的執行結果。</p><p>執行上述機床上的各種動作，在加工程序中需要編制控制指令：M（輔助功能），T（換刀），</p><p>B（第二輔助功能）。</p><p>1.信號及其地址</p><p>PMC把信號根據其作用部位及作用方向分為4種</p><p>X：由機床輸入至PMC。如：操作員由機床操作面板上輸入的按鈕、按鍵、開關信號。</p><p>Y：由PMC輸出至機床的使機床強電動作的信號。如：主軸的正、反向；潤滑、冷卻的</p><p>開/關信號。PMC處理梯形圖程序輸出這些信號使機床動作。</p><p>G：PMC輸出至CNC的信號（CNC輸入）。</p><p>這些信號中有些是啟動CNC的一個子程序。這些子程序是CNC控制軟件的一部分：</p><p>根據機床的實際動作設計好的機床的強電控制功能。如：急停（G8.4）；自動加工程序啟動(G7.2)；工作方式選擇（G43.0~2）另外一些信號是PMC通知CNC，使CNC改變或執行某一種運行。如：FIN（G4.3）</p><p>----是PMC通知CNC輔助功能M或換刀功能T已經結束執行。CNC接受到該信號後</p><p>即可啟動下個加工程序段的執行；*SSTP（G29.6）：CNC停止主軸電機的控制信號。</p><p>F：CNC輸出至PMC的信號。</p><p>其中的一些信號是反映CNC運行狀態的標誌，表明CNC正處於某一狀態。如：</p><p>AL（F1.0）：報警狀態。MV（F102）：進給軸移動中。</p><p>另一些信號是CNC響應X（經過G）後，執行某一運行的結果，用以通知PMC。</p><p>PMC收到該信號，視其具體情況，再做適當處理。</p><p>還有一些信號是加工程序指令的譯碼輸出。如：M代碼（F10~F13）；T代碼</p><p>（F26~F29）。CNC將這些信號輸出給PMC進行處理。</p><p>上述這些信號在梯圖程序中都必須賦予地址。G和F信號的地址是由CNC的系統軟件規定好的，是固定的。有一些X信號地址也由CNC規定好。CNC提供地址表。Y信號可由PMC設計人員自行指定。</p><p>X和Y信號由輸入/輸出模塊經CNC的I/O Link口與CNC單元連接。X和Y信號的另一端經電纜線與電器元件連接。</p><p>2.內部寄存器</p><p>在編制PMC程序時，為了保存數據或信號，PMC要用到內部的一些寄存器：R，K，D，T，</p><p>C，和A。</p><p>R：中間寄存器。可任意使用。</p><p>K：保持型寄存器。存儲的內容由後備電池維持。有幾個存儲單元已被PMC系統使用。</p><p>D：數據存儲器。如存儲刀具表；主軸變速的各擋速度表。</p><p>T：定時器。存儲定時器時間。</p><p>C：計數器。存儲計數器的預置值，計數值。</p><p>A：顯示信息：存儲信息字符。</p><p>3.功能指令</p><p>編制機床的PMC（PLC）控制邏輯，首先必須要弄清所控制的（要實現的）機床動作，對該動作的各個細節排出時序，即，將實現該動作的一步步的子步驟（細微動作）按先後次序列出順序表，必要步驟還要估計出其執行時間，還要考慮各動作之間的相互關係，動作之間的互鎖和解鎖條件，另外要了解實現各細微動作，執行PMC指令的電器元件。PMC邏輯就是用PMC指令（語言）將這些細微動作的執行按順序表示出來。對於順序邏輯程序，不同的系統製造廠提供了不同的格式，常用的有：語句表和梯形圖。FANUC的PMC邏輯程序用梯形圖格式，特點是直觀，類似於機床的繼電器邏輯圖，所以非常易於理解。</p><p>而且，PMC語言用了許多專用指令，稱為功能指令。這樣，邏輯圖編得相當簡潔。</p><p>FANUC PMC的功能指令約有50餘條，但實際常用的也就是20條左右，如：定時器，計數器，迴轉指令，譯碼器等。下面的兩張圖為功能指令格式和功能指令集（部分）。</p><p>4.梯形圖</p><p>5. PMC的執行</p><p>CNC開機後，CNC與PMC同時運行。若是PMC接收到機床操作者的X信號要求CNC實現某一操作，例如啟動自動加工程序，在梯形圖中就把該X信號送到G7.2，CNC收到該指令後，知道是執行自動循環啟動子程序，即立即執行。執行過程中輸出F0.5，通知PMC，CNC正處於運行加工程序狀態。</p><p>如果CNC在執行加工程序時，發現程序段中有M，T等指令，即將該指令譯碼後以F信號地址送往PMC，例如：M代碼，送到F10~F13。PMC處理（譯碼，順序和互鎖）後，在經某一Y地址送到強電櫃，由執行元件（繼電器等）執行所須的控制動作。若M指令所在的零件加工程序的程序段中有進給軸運動指令，被控軸走完要求的移動量後，還要判斷PMC是否已經執行完CNC賦予（指令）的動作，因此就要求PMC在執行M，T等指令時必須返回一個完成信號FIN。CNC收到該信號時，即可讀下一段，執行下一個程序段。</p><p>八．進給伺服軸控制</p><p>機床工作臺（包括轉檯）的進給是用伺服機構驅動的，目前都是電氣化的，是用伺服電動機驅動的，而且多數都是用同步電動機。電動機與滾珠絲槓直接連接（如下圖），這樣由於傳動鏈短，運動損失（lost motion）小，且反應迅速，因此可獲得高精度。</p><p>機床的進給伺服屬於位置控制伺服系統。如下圖所示，輸入端接收的是來自CNC插補器、在每個插補週期內串行輸出的位置脈衝。脈衝數表示位置的移動量（通常是一個脈衝為1μm------即系統的分辨率為1μm）；脈衝的頻率（即在單位時間內輸出的脈衝數的多少）表示進給的速度；脈衝的符號表示軸的進給方向,通常是將脈衝直接送往不同伺服軸的指令輸入口。</p><p>下圖只畫出了一個進給軸，實際的機床有幾個軸，但是控制原理都是一樣的。幾個軸在同一插補週期內接收到插補指令時，由於在同一時間內的進給量不同，進給速度不同，運動方向不同，其合成的運動就是曲線，刀具依此曲線軌跡運動即可加工出程序所要求的工件輪廓。</p><p>對進給伺服的要求不只是靜態特性，如：停止時的定位精度、穩定度。更重要的是進給的伺服剛性好，響應性快，運動的穩定性好，分辨率高。這樣才能高速、高精度地加工出表面光滑的高質量工件。</p><p>1.伺服系統的結構類型</p><p>伺服系統分為開環和閉環兩種結構。</p><p>開環：</p><p>所謂開環，就是沒有位置反饋的伺服系統。這種結構的電氣系統都用步進電動機驅動。由於沒有速度和位置的反饋，所以跟隨精度差，響應性差，因此加工精度差，效率低。</p><p>閉環：</p><p>閉環是有被控元件的位置反饋的伺服系統。系統的構成包括：執行元件------伺服電動機（一般與滾珠絲槓直接連接）；速度控制器和位置控制器，位置控制器接收CNC插補器的輸出指令</p><p>2.同步電動機</p><p>閉環伺服結構的電氣系統目前都用交流伺服電動機驅動，多數使用永磁式同步電動機。</p><p>永磁式同步電動機的結構如下圖所示。其轉子是用高導磁率的永久磁鋼作成的磁極，中間穿有電機軸，軸兩端用軸承支撐並將其固定於機殼上。定子是用矽鋼片疊成的導磁體，導磁體的內表面有齒槽，嵌入用導線繞成的三相繞組線圈。另外在軸的後端部裝有編碼器。</p><p>當定子的三相繞組通有三相交流電流時，產生的空間旋轉磁場就會吸住轉子上的磁極同步旋轉。同步電動機的速度控制與電功率的提供是用逆變器，逆變器中從直流變到三相交流的功率驅動電路元件需要根據轉子磁場的位置實時地換向，這一點非常類似於直流電動機的轉子繞組電流隨定子磁場位置的換向。因此，為了實時地檢測同步電動機轉子磁場的位置，在電動機軸上（後端）安裝了一個編碼器（光碼盤------圖中的11）。由於有了光碼盤，無論電機的轉速是快、還是慢，均可以隨著電機軸地迴轉實際地測出轉子上磁極磁場的位置，將該位置值送到控制電路後，使控制器可以實時地控制逆變器功率元件的換向，實現了伺服驅動器的自控換向。因此，有人將這種同步電動機的驅動控制器和電動機一起稱為自換向同步電動機；另外，因為其控制特性類似於直流電動機，所以也稱為無整流子式直流電動機。</p><p>直線電動機：為了提高工作臺的運動速度，提高加速度，簡化傳動鏈，從而提高傳動精度，近來又出現了直線電動機。這種電機屬於直連電動機，即直接裝在直線運動的工作臺上。</p><p>3.位置傳感器和速度傳感器</p><p>光電編碼器：編碼器是迴轉運動的測量元件，通常是裝在電動機軸上或是滾珠絲槓上，它直接測量的物理量是電動機或絲槓轉過的角度。編碼器分為增量式測量或絕對量式測量兩個品種。</p><p>直線光柵尺：目前，測量直線運動部件的位置或位移使用直線光柵尺。光柵尺有使用玻璃的透射尺和使用金屬基板的反射尺。工作原理與光電編碼器類似。透射式光柵尺易於安裝，直接貼裝在工作臺的側面，故使用較多。</p><p>4.伺服驅動器</p><p>控制同步伺服電動機運行的放大器（驅動器）是交流逆變器。</p><p>FANUC將放大器分為兩個模塊：整流供電模塊（PSM）和伺服逆變模塊（SVM）</p><p>九．主軸的驅動控制</p><p>1。控制框圖</p><p>主軸控制主要是速度及電動機的轉速控制。在程序中用指令：S及五位數值指令主軸的轉數。</p><p>例如：S1200;表示要求主軸以1200轉轉動。正反轉的指令為M03(正轉)；M04（反轉）。為了檢測主軸的轉速，在主軸或主軸電動機上安裝了速度傳感器。</p><p>2．主軸速度傳感器與位置傳感器</p><p>只是速度控制時無位置反饋迴路。主軸電動機的速度測量與反饋用裝在主軸電動機軸上的磁性傳感器。如下圖所示。隨著主軸電動機的轉動，傳感器轉一轉發出128，256，384或512個脈衝（取決於電動機的型號），計算出主軸電動機的轉數。若電動機與主軸間不是1：1耦合，則必須在主軸上安裝位置編碼器，用編碼器發出的一轉信號測量主軸的轉數。通常這種編碼器是光電式的，轉一轉發出1024個脈衝，此外還發出一個一轉信號。用這種編碼器可實現螺紋加工和剛性攻絲及加工中心機床換刀時的主軸定向</p><p>3．主軸電動機</p><p>用於主軸驅動的電動機有兩種形。式：異步電動機和同步電動機。異步機容易製造，可靠性也高，高速運轉性能好，所以FANUC用的是異步機。同步機低速性能好，控制性好，低速有大力矩，容易實現較寬的恆功率調速範圍。通常，加工鋁件和輕金屬件主軸轉數高，一般使用異步電動機。加工鑄鐵或鋼件主軸轉速較低，另外有些加工方式（如Cs軸方式）還要求低速時有較大的力矩，故傾向使用同步電動機。特別是近來，為了提高加工精度，機械設計使驅動電動機直接與機床主軸連接，因此發展用同步機作主軸的驅動，特別是內裝主軸電動機，多使用同步機。</p><p>4．主軸電動機驅動放大器</p><p>主軸電動機的控制類似於上述的伺服電動機。但是通常只有速度控制，故無需位置環。下圖是FANUC 主軸電動機驅動器的框圖。分兩個模塊：PSM及SPM。PSM是電源模塊，它與進給伺服驅動一樣，是將輸入的交流功率電源變為直流功率電源給逆變器供電。SPM是逆變器部分，是將直流電源變為三相交流給電動機的定子供電。</p><p>十．外部軸的控制</p><p>用伺服電動機控制機床上或機床以外的輔助機械設備的動作，如：換刀機械手，交換工作臺，上/下料，工件或毛坯的搬運。</p><p>Power Mate i是一種位置運動控制器，控制各個軸獨立運動或是時間上協調運動，使某一軸以一定速度移動到某一位置或是移動某一距離。但是相互間沒有位置上的依賴關係，即系統中不必具備位置插補器的功能。當然，FANUC的Power Mate i D是有兩軸連動的插補器的，可根據實際需要使用。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>機床</a></li><li><a>CNC</a></li><li><a>基礎</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/b7db8e82.html alt=CNC基礎入門：機床常用零件槽類加工的選用，以及滾花刀的使用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/c8f6e5d3-9cbc-4920-8bcd-cfa09ff8dad3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b7db8e82.html title=CNC基礎入門：機床常用零件槽類加工的選用，以及滾花刀的使用>CNC基礎入門：機床常用零件槽類加工的選用，以及滾花刀的使用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/79a73594.html alt=鏜銑床工作臺是機床發展重要基礎 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1535011823610e983b21f4f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/79a73594.html title=鏜銑床工作臺是機床發展重要基礎>鏜銑床工作臺是機床發展重要基礎</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6d006e47.html alt=鋼結構設計基礎知識問答 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/63b48928-d7cd-4346-b80f-4f77015517c1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6d006e47.html title=鋼結構設計基礎知識問答>鋼結構設計基礎知識問答</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/775df7fb.html alt=素描五官基礎知識，學素描的同學可參考 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/99b7762898d34e2f9a667c431fc7da6b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/775df7fb.html title=素描五官基礎知識，學素描的同學可參考>素描五官基礎知識，學素描的同學可參考</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c480db6b.html alt=梯度，散度，旋度的重要基礎：對向量場的詮釋 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/c8ce2cc3bb0f4a5da0dcbc0a881f9617 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c480db6b.html title=梯度，散度，旋度的重要基礎：對向量場的詮釋>梯度，散度，旋度的重要基礎：對向量場的詮釋</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6fe27eab.html alt="前端 | HTML入門基礎知識-網頁" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e7a0b61194f445b8b9e5ae330961d2ea style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6fe27eab.html title="前端 | HTML入門基礎知識-網頁">前端 | HTML入門基礎知識-網頁</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/40b3969a.html alt=專業音頻基礎概念｜數字音頻是如何工作的？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/3684bfc4e93447a5bdfd6d573beec22c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/40b3969a.html title=專業音頻基礎概念｜數字音頻是如何工作的？>專業音頻基礎概念｜數字音頻是如何工作的？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ad3faa79.html alt=立體聲系統基礎篇 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/15288739589536026ad6bae style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ad3faa79.html title=立體聲系統基礎篇>立體聲系統基礎篇</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/18bd39d8.html alt=齒輪基礎知識 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b8e178319e2c4b88a1865f903306a26b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/18bd39d8.html title=齒輪基礎知識>齒輪基礎知識</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3555f615.html alt=流體粘度傳感器的基礎知識與應用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/7f6d9f85a08146e5a84877ef92c212d7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3555f615.html title=流體粘度傳感器的基礎知識與應用>流體粘度傳感器的基礎知識與應用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/000afa08.html alt="Spring Boot 2.x基礎教程：Swagger接口分類與各元素排序問題詳解" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/daa2cfd29ec34306a4be6f3f257b824b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/000afa08.html title="Spring Boot 2.x基礎教程：Swagger接口分類與各元素排序問題詳解">Spring Boot 2.x基礎教程：Swagger接口分類與各元素排序問題詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c6e14bc6.html alt=SQL基礎知識——事務 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/773e21df09dc4e3e8403a0a62994039d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c6e14bc6.html title=SQL基礎知識——事務>SQL基礎知識——事務</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9552c1b8.html alt="軟件開發中數據庫必備基礎01 - 圖解事務基礎" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e4e00ac778db451792b955bde23add02 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9552c1b8.html title="軟件開發中數據庫必備基礎01 - 圖解事務基礎">軟件開發中數據庫必備基礎01 - 圖解事務基礎</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c4961ebc.html alt=監控攝像頭基礎知識，學會自己也知道如何選擇 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/98be6b1a1ad6410ea61d5fc243b44939 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c4961ebc.html title=監控攝像頭基礎知識，學會自己也知道如何選擇>監控攝像頭基礎知識，學會自己也知道如何選擇</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a12da43e.html alt="金屬材料學 一些基礎知識" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/50ac00002279849cb698 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a12da43e.html title="金屬材料學 一些基礎知識">金屬材料學 一些基礎知識</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>