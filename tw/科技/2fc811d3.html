<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>如何應對企業業務量激增？你想要的妙招都在這裡 | 极客快訊</title><meta property="og:title" content="如何應對企業業務量激增？你想要的妙招都在這裡 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/22c600024c392f72bf96"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2fc811d3.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2fc811d3.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2fc811d3.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2fc811d3.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2fc811d3.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2fc811d3.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/2fc811d3.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/2fc811d3.html><meta property="article:published_time" content="2020-11-14T21:05:06+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:06+08:00"><meta name=Keywords content><meta name=description content="如何應對企業業務量激增？你想要的妙招都在這裡"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/2fc811d3.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>如何應對企業業務量激增？你想要的妙招都在這裡</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>開題前，多講幾句題外話。</p><p>2014年12月份 iphone 剛出了6 和6plus。由於比較窮就買了一個6 plus 16G。因為本人喜歡大屏。為了蘋果的系統下來訂單。</p><p>等了一個月手機才到高高興興的使用的.剛開始用用著很好。偶爾清理下照片就好了。現在倆年多過去了。發現空間不夠用了。</p><p>各種卸載軟件。剛開始用什麼都有app 。慢慢把不常用的app 卸載了。到了最近為了下載王者榮耀。基本上手機上沒有幾個app了。</p><p>後來想了想。倆年的時間it圈的發展太快了。數據量已經成幾何倍數的增長。在增長的背後。我們又用什麼來保障業務的增長呢？</p><p>其實我們能學習的案例很多。最成功的案例也就是阿里了。阿里的技術很牛。很多人在討論阿里的技術。</p><p>雙11 業務量有太多。其實我覺得你的業務量到不了阿里的數量級。反正我們是到不了。（互聯網金融行業）</p><p>但是我們的數據量也在增大。我們用什麼樣的技術來保證我們的業務呢？本次討論不包括代碼級的問題。說起改代碼，改架構，那個很長時間也說不完，還得根據業務邏輯來聊聊。<img alt=如何應對企業業務量激增？你想要的妙招都在這裡 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/22c600024c392f72bf96></p><p><strong>討論問題：</strong></p><p>1. 你任務目前的系統業務量增加10倍 可能出現瓶頸的業務節點是什麼？（根據自己的業務思考，10倍壓力不夠的，那就100倍吧，100倍在不需要的話辭職吧）</p><p>2. 你想用什麼樣的辦法 優化你的系統。</p><p>3. 增加10倍的壓力後。你想怎麼管理你的服務器。</p><p><strong>精彩回覆：</strong></p><p><strong>qingduo04</strong><strong>：</strong></p><p>1. 你任務目前的系統業務量增加10倍 可能出現瓶頸的業務節點時什麼？（根據自己的業務思考，10倍壓力不夠的，那就100倍吧，100倍在不需要的話辭職吧）</p><p>對客戶來說，直觀感覺應該在如下三方面感覺不好</p><ul class=list-paddingleft-2><li><p>登錄頁面緩慢</p></li><li><p>查詢訪問緩慢</p></li><li><p>增刪改緩慢</p></li></ul><p>2. 你想用什麼樣的辦法 優化你的系統</p><p>擴容方式：</p><p>採購硬件進行擴容，包含新購主機，更換機械硬盤到SSD盤,熱點數據存放到SSD盤，增加讀寫響應能力</p><p>優化方式：</p><ul class=list-paddingleft-2><li><p>優化操作系統參數（讀寫參數）、優化架構（讀寫分離）</p></li><li><p>調整數據庫參數，清理歷史數據</p></li><li><p>根據業務邏輯調整SQL，優化索引，信息收集，數據整合</p></li></ul><p>3. 增加10倍的壓力後。你想怎麼管理你的服務器</p><ul class=list-paddingleft-2><li><p>nmon等監控主機的CPU、內存等信息或者通過nagios進行監控</p></li><li><p>文件系統級別自動進行空間告警和清理。</p></li><li><p>數據庫級別監控數據庫的服務，數據庫正常與否。</p></li></ul><p><strong>Forgaoqiang</strong><strong>：</strong></p><p>現在技術圖書獎勵的討論少了一些呢 這個參加下 佔坑回覆 O(∩_∩)O</p><p>1. 你任務目前的系統業務量增加10倍 可能出現瓶頸的業務節點是什麼？</p><p>其實和大部分一樣，瓶頸基本上都會出現在I/O位置，再進一步的話就是數據庫部分，數據的查詢和寫入會成為瓶頸。因為一開始設計業務的時候會評估一個大概的用戶併發以及最大用戶的問題，然後根據對應的情況選擇架構設計、開發和生產服務器部署情況。最容易出現問題的地方就是隨著大量的數據的突然湧入導致數據庫處理不過來。</p><p>2. 你想用什麼樣的辦法 優化你的系統。</p><p>最直接的方法就是增加硬件，因為設計之初就考慮如何擴展，最有效的方式還是提升硬件性能。其次還是一個非常有效的辦法就是臨時限制高性能消耗業務的訪問，特別是遇到CC攻擊時，可以考慮關閉一些大量查詢接口。開源中國遭受CC攻擊的時候就把搜索功能取消了，避免了高消耗查詢對系統的影響。</p><p>3. 增加10倍的壓力後。你想怎麼管理你的服務器。</p><p>增加壓力後首先得和研發部門確認性能問題，很多時候程序員的一句程序優化勝過運維優化。增加服務器後業務複雜程度就會上升，因此需要優化自動化運維。</p><p><strong>Proxydemo|</strong><strong>：</strong></p><p>1. 你任務目前的系統業務量增加10倍 可能出現瓶頸的業務節點是什麼？（根據自己的業務思考，10倍壓力不夠的，那就100倍吧，100倍在不需要的話辭職吧）</p><p>一：流量，如果是10倍或者是100倍，我們最大的壓力可能是流量，對於整站https，很多東西不能上cdn，和雲存儲，靜態的東西相對比較少，一些圖片放在雲上，七牛或者又拍雲。但是我們這個行業，如果業務增加到100倍，估計就是行業的巨頭了，到時候買流量也沒有什麼壓力；</p><p>二：中間件壓力，對宇前端可以用nginx和ha來負載，但是反向代理的中間件比如tomcat，默認併發是150.肯定來不及處理前端的數據，然後儘量做到異步來處理信息，我們是用的阿里開源的rockermq集群和zookeeper，這點和電商是有區別的</p><p>三：數據庫的壓力，相對於電商的數據，我們要的相當於安全。數據庫的壓力對於對與普通電商來比相對較小；但是也有是，我們變態的地方是日誌也記錄在DB中</p><p>四：服務器的壓力，堆一大堆的服務器是必須的，由於行業原因，我們是不上公有云的，所以後期肯定是docker化；</p><p>五：構建，發佈，回滾。現在我們已經是分佈式的微服務，100多個應用，單單用jenkins是有壓力的。</p><p>六：安全：網絡，數據庫，災備的安全都要考慮進去</p><p>2. 你想用什麼樣的辦法 優化你的系統。</p><p>一：流量：不涉及money和隱私的全不用雲或者cdn。買流量；</p><p>二：儘量異步和對應用的服務器來提高中間件的處理速度</p><p>三：數據庫集群，redis，對於業務的需求使用不同類型的數據庫，當然數據庫優化是最基礎的</p><p>四：服務器數量的增多，肯定是要docler化。批量管理工具ansible+salt聯合使用，估計監控zabbix也要重新定製和二次開發</p><p>五：構建，發佈，回滾必須有個二次開發的平臺。多種自動化的工具配合使用</p><p>六：對於代碼級別的要找專業的安全公司去審核。然後機房必須做到異地災備；</p><p>3. 增加10倍的壓力後。你想怎麼管理你的服務器。</p><p>二次開發造個大輪子，cmbd。那個時候，錢不會少。也會好玩很多。</p><p>另外，書很想要，看看阿里是怎麼做的。</p><p><strong>chenxing2</strong><strong>：</strong></p><p>1. 你任務目前的系統業務量增加10倍 可能出現瓶頸的業務節點是什麼？（根據自己的業務思考，10倍壓力不夠的，那就100倍吧，100倍在不需要的話辭職吧）</p><p>目前系統出現瓶頸的節點是 DB，應用服務器目前有負載均衡，可以方便擴容沒啥問題。</p><p>而DB，目前只有一個主庫，一個從庫，從庫目前還沒利用。寫了一個讀寫分離的還發布上線。</p><p>2. 你想用什麼樣的辦法 優化你的系統。</p><p>對於網站系統來說，前端可以加cdn，nginx，vanish等來處理，只是我們沒有前端，APP直接調用後臺的服務接口。</p><p>為減輕DB的壓力，通常做法是加緩存，但業務系統太複雜，經常N多表關聯，子查詢之類的，實在是沒法加緩存。</p><p>後續打算DB增加幾臺服務器先暫時抗住，看後續是否加內存關係型數據庫或是 Ignite之類內存框架，需要調研一下</p><p>3. 增加10倍的壓力後。你想怎麼管理你的服務器</p><p>服務器的話，目前都有監控平臺對各個服務器的狀態進行監控告警。希望docker化，方便後續的動態擴容。</p><p><strong>Fl_wolf</strong><strong>：</strong></p><p>1. 你任務目前的系統業務量增加10倍 可能出現瓶頸的業務節點是什麼？（根據自己的業務思考，10倍壓力不夠的，那就100倍吧，100倍在不需要的話辭職吧） 瓶頸應該是後端的機器處理速度，因為這邊的業務來說，代碼真!%@$@#@!的很垃圾，只要實現功能，完全沒有考慮性能，現在的業務量增加都是一直在橫向擴展機器，無腦堆機器。不同的業務瓶頸也可能不一樣，比如數據庫的查詢語句是否優化，是否有做緩存等等。這些都會成為影響體驗的一大瓶頸。</p><p>2. 你想用什麼樣的辦法 優化你的系統。</p><p>系統而言，看系統上跑得什麼業務類型吧 根據不同的類型調整 程序的參數，實現資源利用最大化，以及調整系統內核一些參數達到IO最優化等等。</p><p>系統成名其實優化的地方不多，剩下就是程序，協議的優化了。</p><p>3. 增加10倍的壓力後。你想怎麼管理你的服務器。</p><p>壓力多了就是機器多了而已，機器多了用saltstack或者abs就好了</p><p>而且可以使用監控查看業務存活以及用ELK查詢程序報錯與異常情況</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>應對</a></li><li><a>企業業務量</a></li><li><a>這裡</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/2f87337a.html alt=收不到交警便民通知？可能是這裡出了問題 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/bdf88511c83f431c9f75609d9e44d585 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2f87337a.html title=收不到交警便民通知？可能是這裡出了問題>收不到交警便民通知？可能是這裡出了問題</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/98baabf4.html alt=王一博“不愧是你”的表情包梗原來來自這裡？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/fd08452c18434cb9b8e0ac46760f941a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/98baabf4.html title=王一博“不愧是你”的表情包梗原來來自這裡？>王一博“不愧是你”的表情包梗原來來自這裡？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/afbb2ab0.html alt="波多黎各近3千人死於颶風 特朗普卻稱：美政府應對出色" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1535611140430fb3cc1f569 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/afbb2ab0.html title="波多黎各近3千人死於颶風 特朗普卻稱：美政府應對出色">波多黎各近3千人死於颶風 特朗普卻稱：美政府應對出色</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1979858e.html alt=美國在這裡施行“一國兩制”，中國人不知道，美國人喜歡去 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1644cd5cc12a4a64bb4f5cd76c4d6b4b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1979858e.html title=美國在這裡施行“一國兩制”，中國人不知道，美國人喜歡去>美國在這裡施行“一國兩制”，中國人不知道，美國人喜歡去</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ead66aa0.html alt=打通“最後一站路”！這裡的居民不用再“過街穿巷”倒垃圾了 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/SG7cUnqEn4B4ao style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ead66aa0.html title=打通“最後一站路”！這裡的居民不用再“過街穿巷”倒垃圾了>打通“最後一站路”！這裡的居民不用再“過街穿巷”倒垃圾了</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0407893b.html alt=社評：中國有充裕能力應對美方“最後的瘋狂” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0407893b.html title=社評：中國有充裕能力應對美方“最後的瘋狂”>社評：中國有充裕能力應對美方“最後的瘋狂”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/26d0573f.html alt=「重磅」來這裡，看歷史的記憶，見證北海滄桑鉅變 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15261776726254df6b86b93 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/26d0573f.html title=「重磅」來這裡，看歷史的記憶，見證北海滄桑鉅變>「重磅」來這裡，看歷史的記憶，見證北海滄桑鉅變</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bbec95e5.html alt=手工麵條怎麼擀？擀麵條的方法在這裡 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e4af26acffc64e53bda38fd617b217d6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bbec95e5.html title=手工麵條怎麼擀？擀麵條的方法在這裡>手工麵條怎麼擀？擀麵條的方法在這裡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/605469d2.html alt=昨天因公回到以前的工作單位，此前一直對這裡有著深深的怨念 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a7926bc10fe8408bae1ee5399d159038 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/605469d2.html title=昨天因公回到以前的工作單位，此前一直對這裡有著深深的怨念>昨天因公回到以前的工作單位，此前一直對這裡有著深深的怨念</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c5f1abba.html alt=擰螺絲時如何控制螺栓的扭矩，這裡有機械工程師最專業的講解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9f96b6fbc61540149a3991a9932bdd28 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c5f1abba.html title=擰螺絲時如何控制螺栓的扭矩，這裡有機械工程師最專業的講解>擰螺絲時如何控制螺栓的扭矩，這裡有機械工程師最專業的講解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cbd446b2.html alt=看這裡！螺栓的擰緊力矩標準都在這裡 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/37c7921887ad4c60aff695fb0985a34f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cbd446b2.html title=看這裡！螺栓的擰緊力矩標準都在這裡>看這裡！螺栓的擰緊力矩標準都在這裡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/86712e7b.html alt=應對“白色汙染”，瞭解一下可降解塑料有哪些 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c16e3efd13b7417eafab884bf6c60732 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/86712e7b.html title=應對“白色汙染”，瞭解一下可降解塑料有哪些>應對“白色汙染”，瞭解一下可降解塑料有哪些</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/26a061ba.html alt=你想知道的地板知識全在這裡 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/82108a778b1a47f790e14bf478badc8a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/26a061ba.html title=你想知道的地板知識全在這裡>你想知道的地板知識全在這裡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/74237b1e.html alt=鋅鹽企業如何應對減鋅、限鋅、技術及貿易壁壘等挑戰 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/74237b1e.html title=鋅鹽企業如何應對減鋅、限鋅、技術及貿易壁壘等挑戰>鋅鹽企業如何應對減鋅、限鋅、技術及貿易壁壘等挑戰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e51ad734.html alt="案例分享 | 皮帶跑偏、打滑，怎麼治？看這裡，多種方案供您挑選" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/55a1e084a9c0437db81b640b81769d8b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e51ad734.html title="案例分享 | 皮帶跑偏、打滑，怎麼治？看這裡，多種方案供您挑選">案例分享 | 皮帶跑偏、打滑，怎麼治？看這裡，多種方案供您挑選</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>