<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>基於react/vue搭建一個通用的表單管理配置平臺 | 极客快訊</title><meta property="og:title" content="基於react/vue搭建一個通用的表單管理配置平臺 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p9.pstatp.com/large/dfic-imagehandler/a6b78e4e-07d0-4e4b-9c5c-3ac49a6b88e0"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/314308e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/314308e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/314308e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/314308e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/314308e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/314308e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/314308e.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/314308e.html><meta property="article:published_time" content="2020-10-29T20:52:28+08:00"><meta property="article:modified_time" content="2020-10-29T20:52:28+08:00"><meta name=Keywords content><meta name=description content="基於react/vue搭建一個通用的表單管理配置平臺"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/314308e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>基於react/vue搭建一個通用的表單管理配置平臺</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><br></p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/a6b78e4e-07d0-4e4b-9c5c-3ac49a6b88e0><p class=pgc-img-caption></p></div><p class=pgc-end-literature>作者：徐小夕</p><p class=pgc-end-literature>轉發鏈接：https://juejin.im/post/5ea1af9f518825737a316cc3</p><h1 class=pgc-h-arrow-right>前言</h1><p>熟悉我的朋友可能會知道，我一向是不寫熱點的。為什麼不寫呢？是因為我不關注熱點嗎？其實也不是。有些事件我還是很關注的，也確實有不少想法和觀點。 但我一直奉行一個原則，就是：<strong>要做有生命力的內容</strong>。</p><p>這篇文章是一篇應用性極強的文章，我們通過一個實際的應用場景，去解決某一類的問題，提供一種或者幾種解決方案，來探索技術的魅力。接下來筆者主要分析<strong>表單定製平臺</strong>的實現思路和技術方案，來實現一個類似於<strong>金數據</strong>或者<strong>問卷星</strong>一樣的<strong>表單配置平臺</strong>，大家也可以基於此方案，擴展出功能更加強大的<strong>可視化平臺</strong>。</p><h1 class=pgc-h-arrow-right>正文</h1><p>為什麼要做一個這樣的平臺呢？一方面是因為筆者多年來一直服務於B端產品，對於動態表單以及配置化表單有一定的項目積累，並且深知配置化表單的價值所在。舉一個很傳統的B端表單配置化的例子：傳統2B企業在提供<strong>saas</strong>服務時，為了滿足不同企業的定製化需求，往往會給企業客戶提供定製化或者自由配置的功能，如下圖：</p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4fd3e746240e47a28c8aa3bc607c864b><p class=pgc-img-caption></p></div><p>對於<strong>saas</strong>系統而言，軟件即服務，在提供基礎服務的同時，同樣要滿足用戶個性化需求，所以傳統的<strong>saas</strong>軟件提供商往往會提供給客戶自由配置的空間，這種自由配置的橋樑就是通過表單，舉一個簡單的例子：</p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d668c032c3e8412c94e5129155b461c9><p class=pgc-img-caption></p></div><p>通過這種方法就可以定製不同風格的企業產品，這裡只是舉了個比較簡單的例子，往往實際項目中會更加複雜，可能會有幾十個配置項，當然這種模式是比較傳統的配置化方案，也僅僅是<strong>saas</strong>軟件提供的很小的一個服務模塊。目前主流的做法是採用可視化方案，而且國內也有非常成熟的方案，但基本的思想是一致的，只不過後者的體驗更好，操作難度更低。</p><p><br></p><p>筆者簡單介紹一下<strong>saas</strong>，方便大家更容易理解其模式：</p><blockquote><p><strong>saas</strong>(軟件即服務)是一種雲計算產品，為用戶提供對供應商雲端軟件的訪問。用戶無需在其本地設備上安裝應用。相反，應用駐留在遠程雲網絡中，通過 Web 或 API 進行訪問。通過應用，用戶可以存儲和分析數據，並可進行項目協作。</p></blockquote><p>類似的雲計算產品也有很多，比如Paas（平臺即服務），Iaas（基礎架構即服務）等，感興趣的朋友可以學習瞭解一下。</p><p>以上介紹更多的是為了讓大家理解筆者設計這套平臺的基本背景，我們還可以舉個更實際的例子就是金數據或者問卷星的表單配置模式，用戶可以在管理後臺定製自己的表單，並生成一個可訪問的鏈接來向目標用戶發放問卷，填寫信息，收集信息，最後實現數據分析的目的。</p><p>本文介紹的表單定製平臺,也同樣支持表單管理,表單數據分析, 表單數據收集, 表單定製等功能, 筆者將採用比較熟悉的技術棧<strong>react</strong>以及第三方ui庫<strong>antd4.0</strong>來開發, 後端採用<strong>node + koa</strong>來設計路由接口.</p><h1 class=pgc-h-arrow-right>設計思路</h1><p><br></p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b3c19953d0b347cca3a47bb3bafa4d17><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>實現效果與分析</h1><h1 class=pgc-h-arrow-right>1. 表單定製管理列表</h1><p><br></p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9787398b273c4b94a1622ee58c15064e><p class=pgc-img-caption></p></div><p>管理列表主要用來查看我們配置的表單模板,分析不同表單模板收集的數據,對錶單模板進行編輯刪除等操作.</p><p><br></p><h1 class=pgc-h-arrow-right>2. 表單定製頁面</h1><p><br></p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d578850c622c45bdbd3a4d1c19127bc2><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/60e060c067fe4afead73432a5e33bb50><p class=pgc-img-caption></p></div><p>由上圖可知表單定製頁面主要用來編輯自定義表單模板,我們可以添加表單標題,表單字段等,目前提供了幾種自定義表單控件如下:</p><p><br></p><ul><li><strong>文本框</strong></li><li><strong>多行文本框</strong></li><li><strong>下拉框</strong></li><li><strong>單選框</strong></li><li><strong>複選框</strong></li><li><strong>文件上傳控件</strong></li></ul><p>基本涵蓋了我們所需要的所有表單業務場景.由上圖可知我們可以在任意位置插入自定義字段,同時可以編輯修改刪除表單字段.如果想象力再大一點,我們可以基於它來實現不僅僅是<strong>表單問卷型應用</strong>,還可以實現<strong>答題</strong>,<strong>發佈內容</strong>等場景.(後期可支持<strong>富文本控件</strong>)</p><h1 class=pgc-h-arrow-right>3. 草稿管理</h1><p><br></p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bf429259fd94460eb6f295f0066473bc><p class=pgc-img-caption></p></div><p>草稿箱設計的目的是方便使用者在配置表單的過程中不確定是否符合需求或者由於某種臨時性舉動而無法繼續配置,這個時候可以將以配置好的內容存入草稿箱,下次繼續編輯,所以筆者專門設計了草稿箱管理列表,一旦用戶存在草稿,會在管理頁面通知用戶並顯示草稿的數量.作為一個追求體驗的技術人,這一塊的設計還是相當有必要的.</p><p><br></p><h1 class=pgc-h-arrow-right>4. 生成前臺表單訪問鏈接</h1><p><br></p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/86cb1c5af48646e5986e3005f25b3d88><p class=pgc-img-caption></p></div><p>當我們配置好表單之後,我們點擊保存, 會生成一個前臺訪問地址,實時訪問表單信息,如下圖為點擊鏈接之後的頁面:</p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/e70d4611305b41d8a390d69b15119305><p class=pgc-img-caption></p></div><p>我們也可以根據自己的風格,設計自己的表單錄入頁面, 具體如何實現這樣的過程, 後面我會詳細介紹.</p><p><br></p><h1 class=pgc-h-arrow-right>5. 查看用戶已有數據錄入</h1><p><br></p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/08f0afc64ee44aefabb9dccff8638a51><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/906579d9c59a4ae49381343f54216976><p class=pgc-img-caption></p></div><p>我們可以通過點擊"查看數據"來訪問收集到的表單數據,並通過可視化的工具對數據做分析比較,同時我們也可以在數據列表中刪除數據,來控制我們數據展示的純淨.</p><p><br></p><h1 class=pgc-h-arrow-right>6. 表單數據分析</h1><p><br></p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9c5f6972623c4cd49ac7bbfb6c10e408><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/baa7e554ffb94260861088de5221c34e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/358f8c065cb942d1b486038173db4bc2><p class=pgc-img-caption></p></div><p>收集到數據只有,我們會自動集成幾個可視化組件來分析表單數據,以上是筆者列出的幾個可視化組件,基於<strong>antv G2</strong>來封裝.</p><p><br></p><h1 class=pgc-h-arrow-right>應用場景</h1><p>以上主要介紹了自定義表單定製平臺的一些功能和交互效果, 我們可以利用該平臺做很多有意思的事情.因為表單的抽象是數據,我們拿到定製化的表單json數據之後,我們可以有不同的展現形式,比如用戶的<strong>問卷調查</strong>, <strong>網站平臺的投票</strong>, <strong>答題頁面</strong>, <strong>發佈動態</strong>等功能,如下圖配置:</p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cf71557ae651493f82006edd3984c0ec><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f4d0431ac842407eb6b62776ac8e49c7><p class=pgc-img-caption></p></div><p>以上配置可以實現類似於微信的發佈朋友圈的功能, 然後我們可以通過前端的手段根據用戶發表的數據渲染成一個朋友圈列表.</p><p><br></p><p>如果我們再打開自己的腦洞，我們可以這樣配置，配置一個這樣的表單，表單包括一個文件上傳控件和n個文本輸入控件，如下圖：</p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c6ce368f5aa94beda60610c429f5577e><p class=pgc-img-caption></p></div><p>將這樣的表單配置到H5管理模塊，<strong>我們只需要上傳三張圖，然後填寫好對應的配文，然後利用市面上成熟的H5全屏滾動插件，就能輕鬆的定製各種H5活動頁面了</strong>。該方案已被筆者的很多子系統使用，效果還是非常好的。</p><p><br></p><p>當然基於該平臺甚至能直接配置小型的宣傳網站，還有更多想象空間，期待大家去挖掘。</p><h1 class=pgc-h-arrow-right>代碼實現</h1><p>要想開發這樣一個表單定製平臺, 核心在於如何實現表單動態配置的機制.這裡筆者將其劃分為兩部分:<strong>基礎表單物料</strong>和<strong>表單編輯生成器</strong>, 如下圖所示拆分圖:</p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b2a3e139b5ad4abba89a7b5815ffc083><p class=pgc-img-caption></p></div><p>接下來我們一步步實現以上兩個核心模塊。</p><p><br></p><h1 class=pgc-h-arrow-right>1. 基礎表單物料</h1><p>基礎表單物料主要是為了用戶選擇自定義表單控件使用，我們常用的表單動態渲染有map循環+條件判斷和單層map+對象法，前者如果要渲染一個動態表單，可能實現如下：</p><pre><code>{    list.map((item, i) =&gt; {        return &lt;React.Fragment key={i}&gt;            {               item.type === 'input' &amp;&amp; &lt;Input /&gt;            }            {               item.type === 'radio' &amp;&amp; &lt;Radio /&gt;            }            // ...        &lt;/React.Fragment&gt;    })}複製代碼</code></pre><p>但是這樣做有個明顯的缺點就是會產生很多沒必要的判斷，如果對於複雜表單，性能往往很低，所以筆者採用後者來實現，複雜度可以降到O(n).我們先來做配置模版：</p><pre><code>// 基礎模版數據const tpl = [  {    label: '文本框',    placeholder: '請輸入內容',    type: 'text',    value: '',    index: uuid(5)  },  {    label: '單選框',    type: 'radio',    option: [{label: '男', value: 0}, {label: '女', value: 1}],    index: uuid(5)  },  {    label: '複選框',    type: 'checkbox',    option: [{label: '男', value: 0}, {label: '女', value: 1}],    index: uuid(5)  },  {    label: '多行文本',    placeholder: '請輸入內容',    type: 'textarea',    index: uuid(5)  },  {    label: '選擇框',    placeholder: '請選擇',    type: 'select',    option: [{label: '中國', value: 0}, {label: '俄羅斯', value: 1}],    index: uuid(5)  },  {    label: '文件上傳',    type: 'upload',    index: uuid(5)  }]// 模版渲染組件const tplMap = {  text: {    component: (props) =&gt; {      const { placeholder, label } = props      return &lt;div className={styles.fieldOption}&gt;&lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;&lt;Input placeholder={placeholder} /&gt;&lt;/div&gt;    }  },  textarea: {    component: (props) =&gt; {      const { placeholder, label } = props      return &lt;div className={styles.fieldOption}&gt;&lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;&lt;TextArea placeholder={placeholder} /&gt;&lt;/div&gt;    }  },  radio: {    component: (props) =&gt; {      const { option, label } = props      return &lt;div className={styles.fieldOption}&gt;              &lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;              &lt;Radio.Group&gt;                {                  option &amp;&amp; option.map((item, i) =&gt; {                    return &lt;Radio style={radioStyle} value={item.value} key={item.label}&gt;                      { item.label }                    &lt;/Radio&gt;                  })                }            &lt;/Radio.Group&gt;        &lt;/div&gt;    }  },  checkbox: {    component: (props) =&gt; {      const { option, label } = props      return &lt;div className={styles.fieldOption}&gt;              &lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;              &lt;Checkbox.Group&gt;                &lt;Row&gt;                  {                    option &amp;&amp; option.map(item =&gt; {                      return &lt;Col span={16} key={item.label}&gt;                              &lt;Checkbox value={item.value} style={{ lineHeight: '32px' }}&gt;                                { item.label }                              &lt;/Checkbox&gt;                            &lt;/Col&gt;                    })                  }                &lt;/Row&gt;            &lt;/Checkbox.Group&gt;        &lt;/div&gt;    }  },  select: {    component: (props) =&gt; {      const { placeholder, option, label } = props      return &lt;div className={styles.fieldOption}&gt;              &lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;              &lt;Select placeholder={placeholder} style={{width: '100%'}}&gt;                {                  option &amp;&amp; option.map(item =&gt; {                    return &lt;Option value={item.value} key={item.label}&gt;{item.label}&lt;/Option&gt;                  })                }            &lt;/Select&gt;        &lt;/div&gt;    }  },  upload: {    component: (props) =&gt; {      return &lt;div className={styles.fieldOption}&gt;              &lt;span className={styles.fieldLabel}&gt;{props.label}:&lt;/span&gt;              &lt;Upload              listType="picture-card"              className="avatar-uploader"              showUploadList={false}              action="https://www.mocky.io/v2/5cc8019d300000980a055e76"            &gt;              &lt;div&gt;+&lt;/div&gt;            &lt;/Upload&gt;        &lt;/div&gt;    }  }}export {  tpl,  tplMap}複製代碼</code></pre><p>基礎物料在下圖所示中使用：</p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/ccb822539c9c429e89f94cba0762ecea><p class=pgc-img-caption></p></div><p>當我們要添加一個表單項時，我們就可以在左邊預覽操作區看到添加的項，並可已基於表單編輯生成器來編輯表單字段。</p><p><br></p><h1 class=pgc-h-arrow-right>2. 表單編輯生成器</h1><p>表單編輯生成器分為2部分， 第一部分是用來生成表單項的容器組件，封裝了添加，刪除，編輯操作功能，代碼如下：</p><pre><code>// 表單容器組件const BaseFormEl = (props) =&gt; {  const {isEdit, onEdit, onDel, onAdd} = props  const handleEdit = (v) =&gt; {    onEdit &amp;&amp; onEdit(v)  }  return &lt;div className={styles.formControl}&gt;    &lt;div className={styles.formItem}&gt;{ props.children }&lt;/div&gt;    &lt;div className={styles.actionBar}&gt;      &lt;span className={styles.actionItem} onClick={onDel}&gt;&lt;MinusCircleOutlined /&gt;&lt;/span&gt;      &lt;span className={styles.actionItem} onClick={onAdd}&gt;&lt;PlusCircleOutlined /&gt;&lt;/span&gt;      &lt;span className={styles.actionItem} onClick={handleEdit}&gt;&lt;EditOutlined /&gt;&lt;/span&gt;    &lt;/div&gt;  &lt;/div&gt;}複製代碼</code></pre><p>第二部分主要用來渲染操作區模版，基於BaseFormEl包裝不同類型的表單組件, 這裡舉一個比較複雜的select來說明，其他表單控件類似：</p><pre><code>const formMap = {  title: {},  text: {},  textarea: {},  radio: {},  checkbox: {},  select: {    component: (props) =&gt; {      const { onDel, onAdd, onEdit, curIndex, index, type, label, placeholder, required, message, option } = props      return &lt;BaseFormEl         onDel={onDel.bind(this, index)}        onAdd={onAdd.bind(this, index)}        onEdit={onEdit.bind(this, {index, type, placeholder, label, option, required})}        isEdit={curIndex === index}      &gt;        &lt;Form.Item name={label} label={label} rules={[{ message, required }]}&gt;          &lt;Select placeholder={placeholder}&gt;            {              option &amp;&amp; option.map(item =&gt; {                return &lt;Option value={item.value} key={item.label}&gt;{item.label}&lt;/Option&gt;              })            }          &lt;/Select&gt;        &lt;/Form.Item&gt;      &lt;/BaseFormEl&gt;    },    editAttrs: [      {        title: '字段名稱',        key: 'label'      },      {        title: '選項',        key: 'option'      },      {        title: '提示文本',        key: 'placeholder'      },      {        title: '是否必填',        key: 'required'      },    ]  },  upload: {}}複製代碼</code></pre><p>editAttrs主要用來渲染編輯列表，說明哪些表單項可以編輯，這部分代碼比較簡單，這裡直接用圖舉例：</p><div class=pgc-img><img alt=基於react/vue搭建一個通用的表單管理配置平臺 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/76729fc48eb2490db316071388c6f4f2><p class=pgc-img-caption></p></div><p>最後我們來渲染表單生成器組件：</p><p><br></p><pre><code>export default (props) =&gt; {  const {     formData,     handleDelete,     handleAdd,     handleEdit,     curEditRowIdx   } = props  return &lt;Form name="customForm"&gt;            {              formData &amp;&amp; formData.map(item =&gt; {                let CP = formMap[item.type].component                return &lt;CP {...item} key={item.index}                  onDel={handleDelete}                   onAdd={handleAdd}                  onEdit={handleEdit}                  curIndex={curEditRowIdx}                /&gt;              })            }         &lt;/Form&gt;}複製代碼</code></pre><p>至此，基本功能模塊已經開發完成，我們只需要將這些物料和組件導入到編輯頁面，基於業務來操作和請求即可。由於實現該案例還是有一定複雜度的，筆者沒有將所有組件都一一寫出來，希望為大家提供一個思考空間，後續筆者將會把該平臺整合到筆者的開源CMS系統中，供大家學習使用。有關nodejs部分的內容，由於筆者後期會陸續整理，如果有其他疑問，可以和筆者多交流。</p><h1 class=pgc-h-arrow-right>推薦Vue學習資料文章：</h1><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6818344300082889224/?group_id=6818344300082889224" rel="noopener noreferrer" target=_blank>聊聊昨晚尤雨溪現場針對Vue3.0 Beta版本新特性知識點彙總</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6816988128868303363/?group_id=6816988128868303363" rel="noopener noreferrer" target=_blank>【新消息】Vue 3.0 Beta 版本發佈，你還學的動麼？</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6810954020031562252/?group_id=6810954020031562252" rel="noopener noreferrer" target=_blank>Vue真是太好了 壹萬多字的Vue知識點 超詳細!</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805178962034033155/?group_id=6805178962034033155" rel="noopener noreferrer" target=_blank>Vue + Koa從零打造一個H5頁面可視化編輯器——Quark-h5</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6815452062881415683/?group_id=6815452062881415683" rel="noopener noreferrer" target=_blank>深入淺出Vue3 跟著尤雨溪學 TypeScript 之 Ref 【實踐】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6807954299570618891/?group_id=6807954299570618891" rel="noopener noreferrer" target=_blank>手把手教你深入淺出vue-cli3升級vue-cli4的方法</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6817773725736239628/?group_id=6817773725736239628" rel="noopener noreferrer" target=_blank>Vue 3.0 Beta 和React 開發者分別槓上了</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6813971045469389315/?group_id=6813971045469389315" rel="noopener noreferrer" target=_blank>手把手教你用vue drag chart 實現一個可以拖動 / 縮放的圖表組件</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805432820110983688/?group_id=6805432820110983688" rel="noopener noreferrer" target=_blank>Vue3 嚐鮮</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6804983224628937228/?group_id=6804983224628937228" rel="noopener noreferrer" target=_blank>總結Vue組件的通信</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6814032233549005323/?group_id=6814032233549005323" rel="noopener noreferrer" target=_blank>手把手讓你成為更好的Vue.js開發人員的12個技巧和竅門【實踐】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6808329189901468174/?group_id=6808329189901468174" rel="noopener noreferrer" target=_blank>Vue 開源項目 TOP45</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6804715107621274124/?group_id=6804715107621274124" rel="noopener noreferrer" target=_blank>2020 年，Vue 受歡迎程度是否會超過 React？</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6806264785508762124/?group_id=6806264785508762124" rel="noopener noreferrer" target=_blank>尤雨溪：Vue 3.0的設計原則</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6804714637817283084/?group_id=6804714637817283084" rel="noopener noreferrer" target=_blank>使用vue實現HTML頁面生成圖片</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805425165132890635/?group_id=6805425165132890635" rel="noopener noreferrer" target=_blank>實現全棧收銀系統（Node+Vue）（上）</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805455179299684867/?group_id=6805455179299684867" rel="noopener noreferrer" target=_blank>實現全棧收銀系統（Node+Vue）（下）</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6809939243440275981/?group_id=6809939243440275981" rel="noopener noreferrer" target=_blank>vue引入原生高德地圖</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805848079560868356/?group_id=6805848079560868356" rel="noopener noreferrer" target=_blank>Vue合理配置WebSocket並實現群聊</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805067432382693902/?group_id=6805067432382693902" rel="noopener noreferrer" target=_blank>多年vue項目實戰經驗彙總</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6809872519034569228/?group_id=6809872519034569228" rel="noopener noreferrer" target=_blank>vue之將echart封裝為組件</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805729533463888388/?group_id=6805729533463888388" rel="noopener noreferrer" target=_blank>基於 Vue 的兩層吸頂踩坑總結</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6811309005751714311/?group_id=6811309005751714311" rel="noopener noreferrer" target=_blank>Vue插件總結【前端開發必備】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805083839644303876/?group_id=6805083839644303876" rel="noopener noreferrer" target=_blank>Vue 開發必須知道的 36 個技巧【近1W字】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6806268800321716743/?group_id=6806268800321716743" rel="noopener noreferrer" target=_blank>構建大型 Vue.js 項目的10條建議</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6810630570251387406/?group_id=6810630570251387406" rel="noopener noreferrer" target=_blank>深入理解vue中的slot與slot-scope</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6813651165440377351/?group_id=6813651165440377351" rel="noopener noreferrer" target=_blank>手把手教你Vue解析pdf(base64)轉圖片【實踐】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6806116083720782348/?group_id=6806116083720782348" rel="noopener noreferrer" target=_blank>使用vue+node搭建前端異常監控系統</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6815509287964508683/?group_id=6815509287964508683" rel="noopener noreferrer" target=_blank>推薦 8 個漂亮的 vue.js 進度條組件</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6808322447729754632/?group_id=6808322447729754632" rel="noopener noreferrer" target=_blank>基於Vue實現拖拽升級（九宮格拖拽）</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805722999069606412/?group_id=6805722999069606412" rel="noopener noreferrer" target=_blank>手摸手，帶你用vue擼後臺 系列二(登錄權限篇)</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805725101749699076/?group_id=6805725101749699076" rel="noopener noreferrer" target=_blank>手摸手，帶你用vue擼後臺 系列三(實戰篇)</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6806535306754392589/?group_id=6806535306754392589" rel="noopener noreferrer" target=_blank>前端框架用vue還是react？清晰對比兩者差異</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6811330273926447620/?group_id=6811330273926447620" rel="noopener noreferrer" target=_blank>Vue組件間通信幾種方式，你用哪種？【實踐】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6807234412879544845/?group_id=6807234412879544845" rel="noopener noreferrer" target=_blank>淺析 React / Vue 跨端渲染原理與實現</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6812984956667560455/?group_id=6812984956667560455" rel="noopener noreferrer" target=_blank>10個Vue開發技巧助力成為更好的工程師</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6809832482326708748/?group_id=6809832482326708748" rel="noopener noreferrer" target=_blank>手把手教你Vue之父子組件間通信實踐講解【props、$ref 、$emit】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6805795810026979847/?group_id=6805795810026979847" rel="noopener noreferrer" target=_blank>1W字長文+多圖，帶你瞭解vue的雙向數據綁定源碼實現</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6815365829404656141/?group_id=6815365829404656141" rel="noopener noreferrer" target=_blank>深入淺出Vue3 的響應式和以前的區別到底在哪裡？【實踐】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6807204223193711116/?group_id=6807204223193711116" rel="noopener noreferrer" target=_blank>乾貨滿滿!如何優雅簡潔地實現時鐘翻牌器(支持JS/Vue/React)</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6811057831274349059/?group_id=6811057831274349059" rel="noopener noreferrer" target=_blank>基於Vue/VueRouter/Vuex/Axios登錄路由和接口級攔截原理與實現</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6807019844597187079/?group_id=6807019844597187079" rel="noopener noreferrer" target=_blank>手把手教你D3.js 實現數據可視化極速上手到Vue應用</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6804640581243896331/?group_id=6804640581243896331" rel="noopener noreferrer" target=_blank>吃透 Vue 項目開發實踐｜16個方面深入前端工程化開發技巧【上】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6804675576037638663/?group_id=6804675576037638663" rel="noopener noreferrer" target=_blank>吃透 Vue 項目開發實踐｜16個方面深入前端工程化開發技巧【中】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6804707953602462212/?group_id=6804707953602462212" rel="noopener noreferrer" target=_blank>吃透 Vue 項目開發實踐｜16個方面深入前端工程化開發技巧【下】</a>》</p><p>《<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6819081157213159947/?group_id=6819081157213159947" rel="noopener noreferrer" target=_blank>Vue3.0權限管理實現流程【實踐】</a>》</p><p class=pgc-end-literature><br>作者：徐小夕<br>轉發鏈接：https://juejin.im/post/5ea1af9f518825737a316cc3</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>react</a></li><li><a>vue</a></li><li><a>一個</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/ac25d2d0.html alt=30分鐘教你搭建一個網站（一）：購買和配置服務器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/5f26f1582a564e93bde33a7dd9448c3b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ac25d2d0.html title=30分鐘教你搭建一個網站（一）：購買和配置服務器>30分鐘教你搭建一個網站（一）：購買和配置服務器</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d8be5e94.html alt=不會買服務器？一個辦法讓你輕鬆搭網站 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/84d9c54578de46058796824f1bcb6a9b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d8be5e94.html title=不會買服務器？一個辦法讓你輕鬆搭網站>不會買服務器？一個辦法讓你輕鬆搭網站</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c811c5f7.html alt=使用服務器搭建一個網站 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/63a6cc0eb4d146e0890515500c0040ca style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c811c5f7.html title=使用服務器搭建一個網站>使用服務器搭建一個網站</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4b69aa7f.html alt=做一個小型網站，服務器需要什麼配置的呢？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4b69aa7f.html title=做一個小型網站，服務器需要什麼配置的呢？>做一個小型網站，服務器需要什麼配置的呢？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/eee4b8ad.html alt=搭建一個網站，租服務器大概多少錢？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/eee4b8ad.html title=搭建一個網站，租服務器大概多少錢？>搭建一個網站，租服務器大概多少錢？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/62d46b38.html alt=素描祕籍｜一個耳朵！9大知識點，360度全方位深度剖析講解示範！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5e7b0005767168b2b87d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/62d46b38.html title=素描祕籍｜一個耳朵！9大知識點，360度全方位深度剖析講解示範！>素描祕籍｜一個耳朵！9大知識點，360度全方位深度剖析講解示範！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/647df9c2.html alt=一個男人每天24小時跟妻子在一起，久而久之會怎樣 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8359cc22f03e478a8cdb889dcfea3f99 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/647df9c2.html title=一個男人每天24小時跟妻子在一起，久而久之會怎樣>一個男人每天24小時跟妻子在一起，久而久之會怎樣</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5a86d7d9.html alt=每天一個好習慣 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RKdGgquJFM6gnc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5a86d7d9.html title=每天一個好習慣>每天一個好習慣</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/756b16fb.html alt=奶粉寄出一個月，家人遲遲收不到，物流信息也查詢不到，事發阜陽某韻達快遞網點 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/3fd8ec4e-64c1-446a-adfa-38088fb06c01 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/756b16fb.html title=奶粉寄出一個月，家人遲遲收不到，物流信息也查詢不到，事發阜陽某韻達快遞網點>奶粉寄出一個月，家人遲遲收不到，物流信息也查詢不到，事發阜陽某韻達快遞網點</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b29ee719.html alt=又一個走上不歸路的搬磚人 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/bf471da0a06441f88bce49b959234257 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b29ee719.html title=又一個走上不歸路的搬磚人>又一個走上不歸路的搬磚人</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3d6d5661.html alt=多收藏一個，就少求一次人—哪些日常必備神級網站，真正值得收藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/833949926ebf49b89c5fb4075a9cffdd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3d6d5661.html title=多收藏一個，就少求一次人—哪些日常必備神級網站，真正值得收藏>多收藏一個，就少求一次人—哪些日常必備神級網站，真正值得收藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/917424fc.html alt=一個三年級小孩掌握腦王速記法之數字編碼後倒背如流圓周率1萬位 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5b430002414bdad7cc1f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/917424fc.html title=一個三年級小孩掌握腦王速記法之數字編碼後倒背如流圓周率1萬位>一個三年級小孩掌握腦王速記法之數字編碼後倒背如流圓周率1萬位</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/25157041.html alt=聖胡安（波多黎各）：一個很不美國的美國城市 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d049f3231cda4890ae11c23b2c8f8f70 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/25157041.html title=聖胡安（波多黎各）：一個很不美國的美國城市>聖胡安（波多黎各）：一個很不美國的美國城市</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d2ca7396.html alt=人工智能的下一個春天：情緒和情感計算 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ReV1j945oIOAmo style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d2ca7396.html title=人工智能的下一個春天：情緒和情感計算>人工智能的下一個春天：情緒和情感計算</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f649e4a6.html alt=舊廠房孵化新科技——一個國家級高新區的“雙創”見聞 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f649e4a6.html title=舊廠房孵化新科技——一個國家級高新區的“雙創”見聞>舊廠房孵化新科技——一個國家級高新區的“雙創”見聞</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>