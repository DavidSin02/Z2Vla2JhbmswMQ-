<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Java一個漢字佔幾個字節 | 极客快訊</title><meta property="og:title" content="Java一個漢字佔幾個字節 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/31df0ed9.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/31df0ed9.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/31df0ed9.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/31df0ed9.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/31df0ed9.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/31df0ed9.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/31df0ed9.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/31df0ed9.html><meta property="article:published_time" content="2020-10-29T21:09:07+08:00"><meta property="article:modified_time" content="2020-10-29T21:09:07+08:00"><meta name=Keywords content><meta name=description content="Java一個漢字佔幾個字節"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/31df0ed9.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Java一個漢字佔幾個字節</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1>先說結論</h1><p>不同的編碼格式佔字節數是不同的，UTF-8編碼下一個中文所佔字節也是不確定的，可能是2個、3個、4個字節；</p><h1><strong>幾種編碼格式的簡單介紹</strong></h1><p>幾種編碼格式。</p><ul><li>ASCII 碼</li></ul><p>學過計算機的人都知道 ASCII 碼，總共有 128 個，用一個字節的低 7 位表示，0~31 是控制字符如換行回車刪除等；32~126 是打印字符，可以通過鍵盤輸入並且能夠顯示出來。</p><ul><li>ISO-8859-1</li></ul><p>128 個字符顯然是不夠用的，於是 ISO 組織在 ASCII 碼基礎上又制定了一些列標準用來擴展 ASCII 編碼，它們是 ISO-8859-1~ISO-8859-15，其中 ISO-8859-1 涵蓋了大多數西歐語言字符，所有應用的最廣泛。ISO-8859-1 仍然是單字節編碼，它總共能表示 256 個字符。</p><ul><li>GB2312</li></ul><p>它的全稱是《信息交換用漢字編碼字符集 基本集》，它是雙字節編碼，總的編碼範圍是 A1-F7，其中從 A1-A9 是符號區，總共包含 682 個符號，從 B0-F7 是漢字區，包含 6763 個漢字。</p><ul><li>GBK</li></ul><p>全稱叫《漢字內碼擴展規範》，是國家技術監督局為 windows95 所制定的新的漢字內碼規範，它的出現是為了擴展 GB2312，加入更多的漢字，它的編碼範圍是 8140~FEFE（去掉 XX7F）總共有 23940 個碼位，它能表示 21003 個漢字，它的編碼是和 GB2312 兼容的，也就是說用 GB2312 編碼的漢字可以用 GBK 來解碼，並且不會有亂碼。</p><ul><li>GB18030</li></ul><p>全稱是《信息交換用漢字編碼字符集》，是我國的強制標準，它可能是單字節、雙字節或者四字節編碼，它的編碼與 GB2312 編碼兼容，這個雖然是國家標準，但是實際應用系統中使用的並不廣泛。</p><ul><li>UTF-16</li></ul><p>說到 UTF 必須要提到 Unicode（Universal Code 統一碼），ISO 試圖想創建一個全新的超語言字典，世界上所有的語言都可以通過這本字典來相互翻譯。可想而知這個字典是多麼的複雜，關於 Unicode 的詳細規範可以參考相應文檔。Unicode 是 Java 和 XML 的基礎，下面詳細介紹 Unicode 在計算機中的存儲形式。</p><p>UTF-16 具體定義了 Unicode 字符在計算機中存取方法。UTF-16 用兩個字節來表示 Unicode 轉化格式，這個是定長的表示方法，不論什麼字符都可以用兩個字節表示，兩個字節是 16 個 bit，所以叫 UTF-16。UTF-16 表示字符非常方便，每兩個字節表示一個字符，這個在字符串操作時就大大簡化了操作，這也是 Java 以 UTF-16 作為內存的字符存儲格式的一個很重要的原因。</p><ul><li>UTF-8</li></ul><p>UTF-16 統一採用兩個字節表示一個字符，雖然在表示上非常簡單方便，但是也有其缺點，有很大一部分字符用一個字節就可以表示的現在要兩個字節表示，存儲空間放大了一倍，在現在的網絡帶寬還非常有限的今天，這樣會增大網絡傳輸的流量，而且也沒必要。而 UTF-8 採用了一種變長技術，每個編碼區域有不同的字碼長度。不同類型的字符可以是由 1~6 個字節組成。</p><p>UTF-8 有以下編碼規則：</p><ol><li>如果一個字節，最高位（第 8 位）為 0，表示這是一個 ASCII 字符（00 - 7F）。可見，所有 ASCII 編碼已經是 UTF-8 了。</li><li>如果一個字節，以 11 開頭，連續的 1 的個數暗示這個字符的字節數，例如：110xxxxx 代表它是雙字節 UTF-8 字符的首字節。</li><li>如果一個字節，以 10 開始，表示它不是首字節，需要向前查找才能得到當前字符的首字節</li></ol><h1><strong>字符編碼的歷史故事</strong></h1><p>很久很久以前，有一群人，他們決定用8個可以開合的晶體管來組合成不同的狀態，以表示世界上的萬物。他們認為8個開關狀態作為原子單位很好，於是他們把這稱為"字節"。</p><p>再後來，他們又做了一些可以處理這些字節的機器，機器開動了，可以用字節來組合出更多的狀態，狀態開始變來變去。他們看到這樣是好的，於是它們就這機器稱為"計算機"。</p><p>開始計算機只在美國用。八位的字節一共可以組合出256（2的8次方）種不同的狀態。</p><p>他們把其中的編號從0開始的32種狀態分別規定了特殊的用途，一但終端設備或者打印機遇上這些約定好的字節時，就要做一些約定的動作。遇上 00x10, 終端就換行，遇上0x07, 終端就向人們嘟嘟叫，例好遇上0x1b, 打印機就打印反白的字，對於終端就用彩色顯示字母。他們看到這樣很好，於是就把這些0x20（十進制32）以下的字節狀態稱為"控制碼"。</p><p>他們又把所有的空格、標點符號、數字、大小寫字母分別用連續的字節狀態表示，一直編到了第127號，這樣計算機就可以用不同字節來存儲英語的 文字了。大家看到這樣，都感覺很好，於是大家都把這個方案叫做 ANSI 的"Ascii"編碼（American Standard Code for Information Interchange，美國信息互換標準代碼）。當時世界上所有的計算機都用同樣的ASCII方案來保存英文文字。</p><p>後來，就像建造巴比倫塔一樣，世界各地的都開始使用計算機，但是很多國家用的不是英文，他們用到的許多字母在ASCII中根本沒有，為了也可以在計算機中保存他們的文字，他們決定採用127號之後的空位來表示這些新的字母、符號，還加入了很多畫表格時需要用下到的橫線、豎線、交叉等形狀，一直把序號編到了最後一個狀態255。從128到255這一頁的字符集被稱"擴展字符集"。從此之後，貪婪的人類再沒有新的狀態可以用了，美帝國主義可能沒有想到還有第三世界國家的人們也希望可以用到計算機吧！</p><p>等中國人們得到計算機時，已經沒有可以利用的字節狀態來表示漢字，況且有6000多個常用漢字需要保存呢。但是這難不倒智慧的中國人民，我們不客氣地把那些127號之後的奇異符號們直接取消掉，並且規定：一個小於127的字符的意義與原來相同，但兩個大於127的字符連在一起時，就表示一個漢字，前面的一個字節（他稱之為高字節）從0xA1用到 0xF7，後面一個字節（低字節）從0xA1到0xFE，這樣我們就可以組合出大約7000多個簡體漢字了。在這些編碼裡，我們還把數學符號、羅馬希臘的字母、日文的假名們都編進去了，連在 ASCII 裡本來就有的數字、標點、字母都統統重新編了兩個字節長的編碼，這就是常說的"全角"字符，而原來在127號以下的那些就叫"半角"字符了。</p><p>中國人民看到這樣很不錯，於是就把這種漢字方案叫做"GB2312"。GB2312 是對 ASCII 的中文擴展。</p><p>但是中國的漢字太多了，我們很快就就發現有許多人的人名沒有辦法在這裡打出來，特別是某些很會麻煩別人的國家領導人（如朱鎔基的“鎔”字）。於是我們不得不繼續把 GB2312 沒有用到的碼位找出來老實不客氣地用上。</p><p>後來還是不夠用，於是乾脆不再要求低字節一定是127號之後的內碼，只要第一個字節是大於127就固定表示這是一個漢字的開始，不管後面跟的是不是擴展字符集裡的內容。結果擴展之後的編碼方案被稱為 GBK 標準，GBK 包括了 GB2312 的所有內容，同時又增加了近20000個新的漢字（包括繁體字）和符號。</p><p>後來少數民族也要用電腦了，於是我們再擴展，又加了幾千個新的少數民族的字，GBK 擴成了 GB18030。從此之後，中華民族的文化就可以在計算機時代中傳承了。</p><p>中國的程序員們看到這一系列漢字編碼的標準是好的，於是通稱他們叫做 "DBCS"（Double Byte Charecter Set 雙字節字符集）。在DBCS系列標準裡，最大的特點是兩字節長的漢字字符和一字節長的英文字符並存於同一套編碼方案裡，因此他們寫的程序為了支持中文處理，必須要注意字串裡的每一個字節的值，如果這個值是大於127的，那麼就認為一個雙字節字符集裡的字符出現了。那時候凡是受過加持，會編程的計算機僧侶們都要每天念下面這個咒語數百遍：</p><p>"一個漢字算兩個英文字符！一個漢字算兩個英文字符……"</p><p>因為當時各個國家都像中國這樣搞出一套自己的編碼標準，結果互相之間誰也不懂誰的編碼，誰也不支持別人的編碼，連大陸和臺灣這樣只相隔了150海里，使用著同一種語言的兄弟地區，也分別採用了不同的 DBCS 編碼方案——當時的中國人想讓電腦顯示漢字，就必須裝上一個"漢字系統"，專門用來處理漢字的顯示、輸入的問題，但是那個臺灣的愚昧封建人士寫的算命程序就必須加裝另一套支持 BIG5 編碼的什麼"倚天漢字系統"才可以用，裝錯了字符系統，顯示就會亂了套！這怎麼辦？而且世界民族之林中還有那些一時用不上電腦的窮苦人民，他們的文字又怎麼辦？</p><p>真是計算機的巴比倫塔命題啊！</p><p>正在這時，大天使加百列及時出現了——一個叫 ISO （國際標誰化組織）的國際組織決定著手解決這個問題。他們採用的方法很簡單：廢了所有的地區性編碼方案，重新搞一個包括了地球上所有文化、所有字母和符號的編碼！他們打算叫它"Universal Multiple-Octet Coded Character Set"，簡稱 UCS, 俗稱 "UNICODE"。</p><p>UNICODE 開始制訂時，計算機的存儲器容量極大地發展了，空間再也不成為問題了。於是 ISO 就直接規定必須用兩個字節，也就是16位來統一表示所有的字符，對於ascii裡的那些"半角"字符，UNICODE 包持其原編碼不變，只是將其長度由原來的8位擴展為16位，而其他文化和語言的字符則全部重新統一編碼。由於"半角"英文符號只需要用到低8位，所以其高 8位永遠是0，因此這種大氣的方案在保存英文文本時會多浪費一倍的空間。</p><p>這時候，從舊社會裡走過來的程序員開始發現一個奇怪的現象：他們的strlen函數靠不住了，一個漢字不再是相當於兩個字符了，而是一個！是 的，從 UNICODE 開始，無論是半角的英文字母，還是全角的漢字，它們都是統一的"一個字符"！同時，也都是統一的"兩個字節"，請注意"字符"和"字節"兩個術語的不同， "字節"是一個8位的物理存貯單元，而"字符"則是一個文化相關的符號。在UNICODE 中，一個字符就是兩個字節。一個漢字算兩個英文字符的時代已經快過去了。</p><p>從前多種字符集存在時，那些做多語言軟件的公司遇上過很大麻煩，他們為了在不同的國家銷售同一套軟件，就不得不在區域化軟件時也加持那個雙字節字符集咒語，不僅要處處小心不要搞錯，還要把軟件中的文字在不同的字符集中轉來轉去。UNICODE 對於他們來說是一個很好的一攬子解決方案，於是從 Windows NT 開始，MS 趁機把它們的操作系統改了一遍，把所有的核心代碼都改成了用 UNICODE 方式工作的版本，從這時開始，WINDOWS 系統終於無需要加裝各種本土語言系統，就可以顯示全世界上所有文化的字符了。</p><p>但是，UNICODE 在制訂時沒有考慮與任何一種現有的編碼方案保持兼容，這使得 GBK 與UNICODE 在漢字的內碼編排上完全是不一樣的，沒有一種簡單的算術方法可以把文本內容從UNICODE編碼和另一種編碼進行轉換，這種轉換必須通過查表來進行。</p><p>如前所述，UNICODE 是用兩個字節來表示為一個字符，他總共可以組合出65535不同的字符，這大概已經可以覆蓋世界上所有文化的符號。如果還不夠也沒有關係，ISO已經準備了UCS-4方案，說簡單了就是四個字節來表示一個字符，這樣我們就可以組合出21億個不同的字符出來（最高位有其他用途），這大概可以用到銀河聯邦成立那一天吧！</p><p>UNICODE 來到時，一起到來的還有計算機網絡的興起，UNICODE 如何在網絡上傳輸也是一個必須考慮的問題，於是面向傳輸的眾多 UTF（UCS Transfer Format）標準出現了，顧名思義，UTF8就是每次8個位傳輸數據，而UTF16就是每次16個位，只不過為了傳輸時的可靠性，從UNICODE到 UTF時並不是直接的對應，而是要過一些算法和規則來轉換。</p><p>受到過網絡編程加持的計算機僧侶們都知道，在網絡裡傳遞信息時有一個很重要的問題，就是對於數據高低位的解讀方式，一些計算機是採用低位先發送的方法，例如我們PC機採用的 INTEL 架構；而另一些是採用高位先發送的方式。在網絡中交換數據時，為了核對雙方對於高低位的認識是否是一致的，採用了一種很簡便的方法，就是在文本流的開始時向對方發送一個標誌符——如果之後的文本是高位在位，那就發送"FEFF"，反之，則發送"FFFE"。不信你可以用二進制方式打開一個UTF-X格式的文件，看看開頭兩個字節是不是這兩個字節？</p><p>下面是Unicode和UTF-8轉換的規則</p><pre> 1 Unicode  2  3 UTF-8  4  5 0000 - 007F  6  7 0xxxxxxx  8  9 0080 - 07FF 10 11 110xxxxx 10xxxxxx 12 13 0800 - FFFF 14 15 1110xxxx 10xxxxxx 10xxxxxx </pre><p>例如"漢"字的Unicode編碼是6C49。6C49在0800-FFFF之間，所以要用3字節模板：1110xxxx 10xxxxxx 10xxxxxx。將6C49寫成二進制是：0110 1100 0100 1001，將這個比特流按三字節模板的分段方法分為0110 110001 001001，依次代替模板中的x，得到：1110-0110 10-110001 10-001001，即E6 B1 89，這就是其UTF8的編碼。</p><p>講到這裡，我們再順便說說一個很著名的奇怪現象：當你在 windows 的記事本里新建一個文件，輸入"聯通"兩個字之後，保存，關閉，然後再次打開，你會發現這兩個字已經消失了，代之的是幾個亂碼！呵呵，有人說這就是聯通之所以拼不過移動的原因。</p><p>其實這是因為GB2312編碼與UTF8編碼產生了編碼衝撞的原因。</p><p>當一個軟件打開一個文本時，它要做的第一件事是決定這個文本究竟是使用哪種字符集的哪種編碼保存的。軟件一般採用三種方式來決定文本的字符集和編碼：</p><p>檢測文件頭標識，提示用戶選擇，根據一定的規則猜測</p><p>最標準的途徑是檢測文本最開頭的幾個字節，開頭字節 Charset/encoding,如下表：</p><pre>1 EF BB BF UTF-8 2 3 FF FE UTF-16/UCS-2, little endian 4 5 FE FF UTF-16/UCS-2, big endian 6 7 FF FE 00 00 UTF-32/UCS-4, little endian. 8 9 00 00 FE FF UTF-32/UCS-4, big-endian. </pre><p>當你新建一個文本文件時，記事本的編碼默認是ANSI（代表系統默認編碼，在中文系統中一般是GB系列編碼）, 如果你在ANSI的編碼輸入漢字，那麼他實際就是GB系列的編碼方式，在這種編碼下，"聯通"的內碼是：</p><pre>1 c1 1100 0001 2 3 aa 1010 1010 4 5 cd 1100 1101 6 7 a8 1010 1000 </pre><p>注意到了嗎？第一二個字節、第三四個字節的起始部分的都是"110"和"10"，正好與UTF8規則裡的兩字節模板是一致的，</p><p>於是當我們再次打開記事本時，記事本就誤認為這是一個UTF8編碼的文件，讓我們把第一個字節的110和第二個字節的10去掉，我們就得到了"00001 101010"，再把各位對齊，補上前導的0，就得到了"0000 0000 0110 1010"，不好意思，這是UNICODE的006A，也就是小寫的字母"j"，而之後的兩字節用UTF8解碼之後是0368，這個字符什麼也不是。這就是隻有"聯通"兩個字的文件沒有辦法在記事本里正常顯示的原因。</p><p>而如果你在"聯通"之後多輸入幾個字，其他的字的編碼不見得又恰好是110和10開始的字節，這樣再次打開時，記事本就不會堅持這是一個utf8編碼的文件，而會用ANSI的方式解讀之，這時亂碼又不出現了。</p><h1><strong>一個字符為什麼佔兩個字節</strong></h1><pre>1 public static void main(String[] args) {2 System.out.printf("The max value of type char is %d.%n",3 (int)Character.MAX_VALUE);4 System.out.printf("The min value of type char is %d.%n",5 (int)Character.MIN_VALUE);6 }</pre><p>運行上面的程序，輸出</p><p>The max value of type char is 65535.</p><p>The min value of type char is 0.</p><p>說明char的範圍從0到65535，那麼正好是兩個字節所能表示的範圍(65535十六進制就是0xFFFF，一個字節能表示0~0xFF，兩個字節能表示0~0xFFFF)，所以說一個char佔兩個字節。</p><p>那麼char的值到底是什麼呢？比如當我這樣寫char c = '放';</p><pre> 1 public static void main(String[] args) throws Exception { 2 char c = '放'; 3 System.out.printf("The value of char %c is %d.%n", c, (int)c); 4  5 String str = String.valueOf(c); 6 byte[] bys = str.getBytes("Unicode"); 7 for (int i = 0; i &lt; bys.length; i++) { 8 System.out.printf("%X ", bys[i]); 9 }10 System.out.println();11 12 int unicode = (bys[2] &amp; 0xFF) &lt;&lt; 8 | (bys[3 &amp; 0xFF]);13 System.out.printf("The unicode value of %c is %d.%n", c, unicode);14 }</pre><p>運行輸出：</p><p>The value of char 放 is 25918.</p><p>FE FF 65 3E</p><p>The unicode value of 放 is 25918.</p><p>首先你看到，這個char的值是25918，那他是什麼呢？先不管它，接著我把這個char放在一個String裡，並進行Unicode編碼，得到四個字節FE FF 65 3E，前面兩個實際上與內容無關，是BOM，即字節序標識，FE FF表示是Big Endian，也就是高位在前，低位在後，所以按照這個規則，講653E轉換為10進制int，發現最後輸出25918，也就是這個字符的Unicode值是25918，所以你現在知道一個char到底存儲的是什麼了吧。</p><p>至於GBK，UTF-8，UTF-16的關係，我先拋開GBK，因為它有點特殊。</p><p>首先你要知道UTF-8和UTF-16還有UTF-32是為了方便傳輸和存儲的而產生的對Unicode字符的編碼方式。</p><p>先說UTF-8，隨著全球化Unicode流行起來，不管你做什麼，支持Unicode都將是潮流，就算你可能永遠也用不到，但這對西方國家就不太好，因為以前ASCII字符集，一個字符只需要一個字節，而現在用Unicode一個英文字母也需要兩個字節，如果需要傳輸和存儲，那會浪費一半的空間或流量，所以就想出了一種變長編碼方式，那就是UTF-8，它對ASCII字符集內的字符，只用一個字節編碼，而其他字符按照一定規則進行兩、三、四字節編碼，具體規則是：</p><p>Unicode編碼(十六進制) UTF-8 字節流(二進制)</p><p>000000 - 00007F 0xxxxxxx</p><p>000080 - 0007FF 110xxxxx 10xxxxxx</p><p>000800 - 00FFFF 1110xxxx 10xxxxxx 10xxxxxx</p><p>010000 - 10FFFF 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</p><p>但這樣做一些東方國家不幹了，因為他們的字符基本都是在000800 - 00FFFF這個區間，用UTF-8反倒要多用一個字節，總共需要三個字節才能表示，而且用UTF-8處理他們的字符，不能直接轉換，需要做一些運算，以‘放’為例，它的Unicode碼是25918，二進制表示是0110010100111110，如果要轉成UTF-8，首先取高四位0110，和1110拼接，組成11100110，然後中間六位010100，與10拼接構成10010100，最後低六位111110，與10拼接構成10111110，所以三個字節是11100110 10010100 10111110，也就是十六進制的E6 94 BE，也就是你上面寫的-26 -108 -66。可以看到這個運算量雖然不大，基本是位操作，但如果你每個字符都要這麼操作實在是有損效率，綜合這幾點考慮，於是又弄了一個UTF-16，不嚴謹地來說它等價於Unicode原生編碼，它統一採用雙字節表示一個字符(其實有四字節區域，但現在一般沒有用到)，而由於它用多字節表示，和Unicode一樣需要字節序標識，你上面代碼裡發現它得到-2, -1, 101, 62，轉為十六進制就是FE FF 65 3E，和我第二個實例程序中相同，說明UTF-16的碼值(如表示‘放’的65 3E)和Unicode原生編碼是相同的。</p><p>UTF-32的誕生其實也不奇怪，因為UTF-16還是一個變長編碼方式，一個字符可能由兩個或四個字節表示，有些有強迫症的人總覺得不好，所以為了他們就有了UTF-32，它統一使用四字節表示一個字符，因為用得不多所以不詳細說了。</p><p>最後說說GBK是個什麼東西。GBK是國標擴(展)的拼音首字母，是我國在1995年制定的專門針對漢語和一些少數名族語言的編碼方式，和Unicode之間沒有一一對應的關係，也就是說Unicode中有的字符GBK不一定有，GBK有的字符Unicode也不一定有，而且GBK和Unicode中共有字符，他們的編碼值沒有一種簡單的對應關係，也就是無法通過簡單計算得到，只能通過查錶轉換。為什麼會有GBK這種奇葩呢？其實是當時Unicode還沒制定好，更沒在全球範圍內推廣，而中國人要用電腦總不可能永遠用英語吧？所以我國就自行制定了一個國標，當時是GB2312，(其實臺灣地區針對繁體還有一個Big5，但這裡就不詳述了)，GB2312後來增加了很多字符，包括很多少數名族的語言，成為了一個新的編碼標準，那就是GBK。</p><p>聲明：這是在網站上看到一篇很有意思的文章， 這裡轉載分享下， 侵權刪</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Java</a></li><li><a>一個</a></li><li><a>漢字</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/2e485843.html alt=Java斷言，一個被遺忘的關鍵字 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b8034a572d6a491a8185e31e63d233c6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2e485843.html title=Java斷言，一個被遺忘的關鍵字>Java斷言，一個被遺忘的關鍵字</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b8f16df1.html alt=一個Java字符串中到底有多少個字符？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/18f53f4cda7844aa8e9c04e7d3a09c1e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b8f16df1.html title=一個Java字符串中到底有多少個字符？>一個Java字符串中到底有多少個字符？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0ff82fcd.html alt=如何寫一個Java代碼生成器讓自己解脫 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/780859caf3a14eb7bf080330ef0f287c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0ff82fcd.html title=如何寫一個Java代碼生成器讓自己解脫>如何寫一個Java代碼生成器讓自己解脫</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/65aca180.html alt=一個漢字，就是一個故事 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/303545e112da40189f5607a2dc359cee style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/65aca180.html title=一個漢字，就是一個故事>一個漢字，就是一個故事</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/92852bbb.html alt=分享一個開源的Java快速開發平臺框架源碼 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/5fc8eefbb0674aca9167b46f3323b72d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/92852bbb.html title=分享一個開源的Java快速開發平臺框架源碼>分享一個開源的Java快速開發平臺框架源碼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d1ae3fc.html alt=手把手教你搭建一個基於Java的分佈式爬蟲系統「轉」 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/87f918500180492fbd1eca2beb34c24b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d1ae3fc.html title=手把手教你搭建一個基於Java的分佈式爬蟲系統「轉」>手把手教你搭建一個基於Java的分佈式爬蟲系統「轉」</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1c44987.html alt=一個格子破解漢字八大結構 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c216d5cdec764080aae74807cae133e4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1c44987.html title=一個格子破解漢字八大結構>一個格子破解漢字八大結構</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ac25d2d0.html alt=30分鐘教你搭建一個網站（一）：購買和配置服務器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/5f26f1582a564e93bde33a7dd9448c3b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ac25d2d0.html title=30分鐘教你搭建一個網站（一）：購買和配置服務器>30分鐘教你搭建一個網站（一）：購買和配置服務器</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d8be5e94.html alt=不會買服務器？一個辦法讓你輕鬆搭網站 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/84d9c54578de46058796824f1bcb6a9b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d8be5e94.html title=不會買服務器？一個辦法讓你輕鬆搭網站>不會買服務器？一個辦法讓你輕鬆搭網站</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c811c5f7.html alt=使用服務器搭建一個網站 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/63a6cc0eb4d146e0890515500c0040ca style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c811c5f7.html title=使用服務器搭建一個網站>使用服務器搭建一個網站</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4b69aa7f.html alt=做一個小型網站，服務器需要什麼配置的呢？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4b69aa7f.html title=做一個小型網站，服務器需要什麼配置的呢？>做一個小型網站，服務器需要什麼配置的呢？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/eee4b8ad.html alt=搭建一個網站，租服務器大概多少錢？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/eee4b8ad.html title=搭建一個網站，租服務器大概多少錢？>搭建一個網站，租服務器大概多少錢？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/62d46b38.html alt=素描祕籍｜一個耳朵！9大知識點，360度全方位深度剖析講解示範！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5e7b0005767168b2b87d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/62d46b38.html title=素描祕籍｜一個耳朵！9大知識點，360度全方位深度剖析講解示範！>素描祕籍｜一個耳朵！9大知識點，360度全方位深度剖析講解示範！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/647df9c2.html alt=一個男人每天24小時跟妻子在一起，久而久之會怎樣 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8359cc22f03e478a8cdb889dcfea3f99 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/647df9c2.html title=一個男人每天24小時跟妻子在一起，久而久之會怎樣>一個男人每天24小時跟妻子在一起，久而久之會怎樣</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5a86d7d9.html alt=每天一個好習慣 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RKdGgquJFM6gnc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5a86d7d9.html title=每天一個好習慣>每天一個好習慣</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>