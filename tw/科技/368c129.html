<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>計算機世界裡的“堆棧”你真的懂嗎？ | 极客快訊</title><meta property="og:title" content="計算機世界裡的“堆棧”你真的懂嗎？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/bd5b00e5659c4816accd97fbae66e4e6"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/368c129.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/368c129.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/368c129.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/368c129.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/368c129.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/368c129.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/368c129.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/368c129.html><meta property="article:published_time" content="2020-10-29T21:05:30+08:00"><meta property="article:modified_time" content="2020-10-29T21:05:30+08:00"><meta name=Keywords content><meta name=description content="計算機世界裡的“堆棧”你真的懂嗎？"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/368c129.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>計算機世界裡的“堆棧”你真的懂嗎？</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>如果你學過數據結構，就一定會遇到“堆”,"棧","堆棧",這些對於小白來說有些頭大，下面就來科普一下何謂堆棧？</p><p></p><p><strong>按照WIKI的定義：</strong></p><p></p><p>堆棧（英語：stack），是計算機科學中一種特殊的串列形式的抽象數據類型，其特殊之處在於只能允許在鏈表或數組的一端（稱為堆棧頂端指針，英語：top）進行加入數據（英語：push）和輸出數據（英語：pop）的運算。另外堆棧也可以用一維數組或鏈表的形式來完成。堆棧的另外一個相對的操作方式稱為隊列。需要記住的是，堆：順序隨意，棧：後進先出(Last-In/First-Out)。</p><p></p><div class=pgc-img><img alt=計算機世界裡的“堆棧”你真的懂嗎？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bd5b00e5659c4816accd97fbae66e4e6><p class=pgc-img-caption></p></div><p></p><p>這裡的pop和push到都是什麼意思？其實這是堆棧數據結構使用兩種基本操作：推入（壓棧，push）和彈出（彈棧，pop）：</p><p></p><p>推入：將數據放入堆棧的頂端（數組形式或串列形式），堆棧頂端top指針加一。</p><p>彈出：將頂端數據數據輸出（回傳），堆棧頂端數據減一。</p><p></p><div class=pgc-img><img alt=計算機世界裡的“堆棧”你真的懂嗎？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9d1c0ff9817d4cb5bed128ecc6f8d380><p class=pgc-img-caption></p></div><p></p><p>如要了解堆棧，應將之拆開分析。</p><p></p><p><strong>堆</strong><strong>的概念：</strong></p><p></p><p>堆（英語：Heap）是計算機科學中的一種特別的樹狀數據結構。通常是一個可以被看做一棵樹的數組對象。若是滿足以下特性，即可稱為堆：“給定堆中任意節點 P 和 C，若 P 是 C 的父節點，那麼 P 的值會小於等於（或大於等於） C 的值”。若父節點的值恆小於等於子節點的值，此堆稱為最小堆（英語：min heap）；反之，若父節點的值恆大於等於子節點的值，此堆稱為最大堆（英語：max heap）。在堆中最頂端的那一個節點，稱作根節點（英語：root node），根節點本身沒有父節點（英語：parent node）。</p><p></p><div class=pgc-img><img alt=計算機世界裡的“堆棧”你真的懂嗎？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f604ee6d73f94825933db2c02c074167><p class=pgc-img-caption></p></div><p></p><p><strong>棧的概念</strong></p><p></p><p>棧（stack）又名堆棧，它是一種運算受限的線性表。其限制是僅允許在表的一端進行插入和刪除運算。這一端被稱為棧頂，相對地，把另一端稱為棧底。棧就是一個桶，後放進去的先拿出來，它下面本來有的東西要等它出來之後才能出來（先進後出）</p><p></p><p>棧(Stack)是操作系統在建立某個進程時或者線程（在支持多線程的操作系統中是線程）為這個線程建立的存儲區域，該區域具有FIFO的特性，在編譯的時候可以指定需要的Stack的大小。</p><p></p><div class=pgc-img><img alt=計算機世界裡的“堆棧”你真的懂嗎？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/a178731cf2a946239d1fc267a30d5ccd><p class=pgc-img-caption></p></div><p></p><p><strong>堆棧</strong></p><p></p><p>其實堆棧本身就是棧，只是換了個抽象的名字。其特性是： 最後一個放入堆棧中的物體總是被最先拿出來，這個特性通常稱為後進先出(LIFO)隊列。堆棧中定義了一些操作。 兩個最重要就是上述提到的PUSH和POP。PUSH操作在堆棧的頂部加入一個元素，POP操作相反，在堆棧頂部移去一個元素，並將堆棧的大小減一。</p><p></p><div class=pgc-img><img alt=計算機世界裡的“堆棧”你真的懂嗎？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f1416e8c9ff74c28aa866fe9f423281d><p class=pgc-img-caption></p></div><p></p><p><strong>工作原理</strong></p><p><strong></strong></p><p>對於工作方式你可能還是一頭霧水，以自助餐托盤為例解釋一下，你就會更加明瞭：</p><p></p><p>作為堆棧如何工作的一個例子，可以把它看成一個彈簧加載托盤分發器，這種類型經常在自助餐廳中發現。每個托盤上都刻有數字。托盤依次從頂部裝入，每個托盤都放置在已經裝入的托盤上，彈簧進行壓縮，以便在必要時為更多托盤留出空間。例如，在圖中，托盤編號為42、23、2、9，先裝載42個托盤，後裝載9個托盤。</p><p></p><div class=pgc-img><img alt=計算機世界裡的“堆棧”你真的懂嗎？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f580ce5d9f0344c8b94b5fb98901aa05><p class=pgc-img-caption></p></div><p>最後一個托盤是9號。因此，“第一個出來”的盤子也是9號。當顧客從托盤堆的頂部取出托盤時，第一個托盤是9號，第二個托盤是2號。然後更多的托盤被添加。這些托盤將不得不在我們裝載第一個托盤之前從堆棧上下來。在托盤堆的任意順序的push和pop出之後，托盤42仍然在底部。只有在42號托盤從堆棧頂部彈出後，堆棧才會再次清空。</p><p></p><p>而堆棧通常被放置在機器的最上面的地址區域。它們通常從最高的內存位置增長到較低的內存位置，允許在程序內存末端和堆棧“頂部”之間的內存使用中獲得最大的靈活性。在我們的討論中，堆棧在內存中是“向上”增長還是“向下”增長基本上是不相關的。堆棧的“top”元素是最後被推入並將首先被彈出的元素。堆棧的“底部”元素在刪除時將使堆棧為空。</p><p></p><p><strong>二者區別</strong></p><p></p><p>堆是在程序運行時，而不是在程序編譯時，申請某個大小的內存空間。即動態分配內存，對其訪問和對一般內存的訪問沒有區別。它由程序員分配和回收。</p><p></p><p>棧就是一個桶，後放進去的先拿出來，它下面本來有的東西要等它出來之後才能出來。（後進先出）由系統自動分配和回收。</p><p></p><p><strong>堆棧緩存方式</strong></p><p></p><p>棧使用的是一級緩存， 他們通常都是被調用時處於存儲空間中，調用完畢立即釋放。</p><p></p><p>堆則是存放在二級緩存中，生命週期由虛擬機的垃圾回收算法來決定（並不是一旦成為孤兒對象就能被回收）。所以調用這些對象的速度要相對來得低一些。棧的優勢是，存取速度比堆要快，僅次於直接位於CPU中的寄存器。</p><p></p><p>棧：在Windows下,棧是向低地址擴展的數據結構，是一塊連續的內存的區域。意思是棧頂的地址和棧的最大容量是系統預先規定好的，在 WINDOWS下，棧的大小是2M（也有的說是1M，總之是一個編譯時就確定的常數），如果申請的空間超過棧的剩餘空間時，將提示overflow。因此，能從棧獲得的空間較小。</p><p></p><p>堆：堆是向高地址擴展的數據結構，是不連續的內存區域。這是由於系統是用鏈表來存儲的空閒內存地址的，自然是不連續的，而鏈表的遍歷方向是由低地址向高地址。堆的大小受限於計算機系統中有效的虛擬內存。由此可見，堆獲得的空間比較靈活，也比較大。</p><p></p><p>作為“堆”的數據空間，必須是靈活的，因為成千上萬的程序員在寫什麼程序是未知的。但可知道的一點，就是他們是跑在確定的某個OS裡面的。因此，也不過就是給系統管理的數據空間起了個名字，叫棧；給程序員使用的空間，起了個名，叫堆。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>計算機</a></li><li><a>裡的</a></li><li><a>堆棧</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/5d9e33bf.html alt="MQA | 流媒體世界裡的Hi-Res新星" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b3dbef3f62db49f5b8c9bac94f5c864b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5d9e33bf.html title="MQA | 流媒體世界裡的Hi-Res新星">MQA | 流媒體世界裡的Hi-Res新星</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2c3db761.html alt=計算機中數字、文字、圖像、聲音和視頻的表示與編碼 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/8d1d3ec88f2c4a158c7efe55b21d6ed7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2c3db761.html title=計算機中數字、文字、圖像、聲音和視頻的表示與編碼>計算機中數字、文字、圖像、聲音和視頻的表示與編碼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8582e44e.html alt="計算機實驗室之樹莓派：課程 7 屏幕02" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/fa8f776ea6c84f08b0fbfaad451371e0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8582e44e.html title="計算機實驗室之樹莓派：課程 7 屏幕02">計算機實驗室之樹莓派：課程 7 屏幕02</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3ebca897.html alt=敦煌莫高窟裡的故事 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/ddc5f839-8e2e-42ad-a61e-6f581131fd16 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3ebca897.html title=敦煌莫高窟裡的故事>敦煌莫高窟裡的故事</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/87f07ed8.html alt=文字技巧—Word裡的表格怎麼求和 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/f13c83a7c6a94c81bfe6157d710c3106 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/87f07ed8.html title=文字技巧—Word裡的表格怎麼求和>文字技巧—Word裡的表格怎麼求和</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/89929bee.html alt="“頂點”計算機面世 登頂超級計算機榜首" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15287045778959b8cdf2283 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/89929bee.html title="“頂點”計算機面世 登頂超級計算機榜首">“頂點”計算機面世 登頂超級計算機榜首</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bf5448aa.html alt=美媒揭祕最新世界最快超級計算機“頂點” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bf5448aa.html title=美媒揭祕最新世界最快超級計算機“頂點”>美媒揭祕最新世界最快超級計算機“頂點”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ce639ff8.html alt=計算機求解微分方程的六大數值計算方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/5b33cbb521894b5aa7f4cf8e1c795cf2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ce639ff8.html title=計算機求解微分方程的六大數值計算方法>計算機求解微分方程的六大數值計算方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e5dc1653.html alt=你瞭解電子數字計算機的發展嗎？人類是如何應用計算機技術的？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a03090d0e5804e88b4003fdcdfa7a301 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e5dc1653.html title=你瞭解電子數字計算機的發展嗎？人類是如何應用計算機技術的？>你瞭解電子數字計算機的發展嗎？人類是如何應用計算機技術的？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/396cd265.html alt=第一臺通用數字電子計算機 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/396cd265.html title=第一臺通用數字電子計算機>第一臺通用數字電子計算機</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/087e1a1f.html alt=第一臺電子計算機的發明者諾依曼，中外發明家故事之十四 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f30831efce324fd8ad5055d5c3312dfe style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/087e1a1f.html title=第一臺電子計算機的發明者諾依曼，中外發明家故事之十四>第一臺電子計算機的發明者諾依曼，中外發明家故事之十四</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/50ba828e.html alt=計算機發展全歷程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/68bbbb84608c4db28b2cf2687596239a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/50ba828e.html title=計算機發展全歷程>計算機發展全歷程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/dbc9d4e3.html alt=電子計算機的類別有些什麼？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/0a5e8724-b70f-4cdf-bebb-1091bfcd66d7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/dbc9d4e3.html title=電子計算機的類別有些什麼？>電子計算機的類別有些什麼？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8d2a4dab.html alt=五分鐘帶你瞭解計算機進化史，原來第一臺電子計算機居然這麼大 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/78bc8448e150430b99df693674b71771 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8d2a4dab.html title=五分鐘帶你瞭解計算機進化史，原來第一臺電子計算機居然這麼大>五分鐘帶你瞭解計算機進化史，原來第一臺電子計算機居然這麼大</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9cf191e1.html alt=古代也有黑科技：周朝的智能機器人，元朝的電子計算機 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b254baabbed34cccbcc700e6fb6fcbf3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9cf191e1.html title=古代也有黑科技：周朝的智能機器人，元朝的電子計算機>古代也有黑科技：周朝的智能機器人，元朝的電子計算機</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>