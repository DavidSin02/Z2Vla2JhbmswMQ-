<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>實戰解析：真實AI場景下，極小目標檢測與精度提升 | 极客快訊</title><meta property="og:title" content="實戰解析：真實AI場景下，極小目標檢測與精度提升 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/1d94db46db0a4e8cb651eb043a6db4b3"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3726397a.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3726397a.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3726397a.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3726397a.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3726397a.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3726397a.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3726397a.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3726397a.html><meta property="article:published_time" content="2020-10-29T21:11:34+08:00"><meta property="article:modified_time" content="2020-10-29T21:11:34+08:00"><meta name=Keywords content><meta name=description content="實戰解析：真實AI場景下，極小目標檢測與精度提升"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/3726397a.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>實戰解析：真實AI場景下，極小目標檢測與精度提升</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><blockquote class=pgc-blockquote-abstract><p>主講人 | 哈利 百度高級研發工程師<br>量子位整理編輯</p></blockquote><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>目前，各個企業行業在AI落地應用中，常常會遇到極小目標檢測問題。在這些AI應用中，都需要在一個大圖中精準識別出極小目標，其檢測至關重要，也面臨很多<strong>難點</strong>。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>比如，檢測框高寬比不固定，圖片背景雜亂，數據源稀缺，檢測框相比圖片非常小，這些難點都會導致較高的漏檢率。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>10月21日，「<strong>EasyDL</strong> AI開發系列公開課」第一期直播中，<strong>百度</strong>高級工程師以真實的產業場景為例，深入解析了<u>如何解決這些難</u>點、有效<u>提高極小目標檢測的準確率</u>，並手把手演示瞭如何用EasyDL構建高精度物體檢測模型。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>講解分為4個部分：</span></p><ul><li><span style=font-size:.833em><span style=letter-spacing:.544px>EasyDL平臺整體介紹</span></span></li><li><span style=font-size:.833em><span style=letter-spacing:.544px>物體檢測任務綜述</span></span></li><li><span style=font-size:.833em><span style=letter-spacing:.544px>極小目標檢測場景難點分析以及效果的優化</span></span></li><li><span style=font-size:.833em><span style=letter-spacing:.544px>EasyDL經典版實操演示</span></span></li></ul><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>直播回放見鏈接：</span><a class=pgc-link data-content=mp data-source=outerLink href=https://www.bilibili.com/video/BV1wv411C7QN rel="noopener noreferrer" target=_blank>「鏈接」</a></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>以下為直播文字實錄：</span></p><h1 class=pgc-h-arrow-right>EasyDL平臺介紹</h1><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>在和某諮詢公司的聯合調研中，我們發現有86%的市場需求需要定製開發<strong>業務場景下的AI模型</strong>。比如工業場景需要統計原材料的數量，食品安全場景需要監測廚房廚師是否佩戴安全帽，在零售場景需要檢查貨品的陳列是否滿足標準……諸如此類的定製化需求，難以用統一的、標準化的服務去涵蓋，是需要定製開發的。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1d94db46db0a4e8cb651eb043a6db4b3><p class=pgc-img-caption>△需要定製開發AI模型的場景</p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>2017年到2020年，百度AI開發平臺收到的定製化需求增長速度非常快。但是我們知道，機器學習系統構建涉及到非常多的模塊，這些模塊的組合開發具有很大的挑戰性，需要投入大量的人力來做。因此，百度也總結了AI定製需求開發與應用中的核心的痛點：</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第一個痛點：<strong>數據</strong>。用戶很難獲得和場景匹配的數據，並且數據清洗標註、數據的多樣性等方面都存在一些問題。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第二個痛點：<strong>開發訓練</strong>。用戶開發模型的成本非常高，算力資源不足，算法的調優比較困難，並且訓練耗時長。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第三個痛點：<strong>部署</strong>。部署的成本非常高，難以落地，模型的適配、遷移難，並且還會有重複開發，並且預測性能差，硬件成本高。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>為了解決這些痛點，百度面向AI開發全流程，提供了<strong>一站式的AI開發平臺—EasyDL</strong>。EasyDL主要分成三個部分。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/10199b7432bd468f867eaab1c80dc627><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><span style=letter-spacing:1px>第一部分是<strong>智能數據服務</strong>（EasyData），包括數據採集、數據清洗、數據擴充、數據標註四大能力。</span></span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>EasyData智能數據服務大幅降低了AI定製模型的數據成本。用戶如果需要進行全流程的數據採集、數據標註、模型迭代，就會涉及非常多環節，而且需要不斷的迭代。而EasyData把整個流程抽象成了5個模塊：軟硬一體數據採集方案，自動數據清洗/擴充，智能標註，模型訓練與發佈，自動數據閉環。通過這五大模塊的能力，幫助用戶把數據採集、模型訓練以及最後人工部署的成本都儘可能降低。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/01c1b9c7da29440fb04354586f3f6ca5><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第二部分是<strong>開發與訓練</strong>，提供了AutoDL工具，幫助用戶自動進行模型調優；並引入了百度自有的超大規模預訓練模型，並且預置了很多場景化算法和網絡；在訓練方面提供分佈式訓練加速的能力。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>EasyDL訓練平臺可以幫助用戶使用更少的數據，獲得更優的效果，而且訓練速度更快。具體來說，基於百度自研的大規模預訓練模型，大幅降低了數據成本；模型的調優方面，採用了領先的AutoDL技術；在訓練方面，應用了飛槳內的訓練加速機制。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a9200cbeefd1483db7ba16798b84522c><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第三部分是<strong>端雲一體服務部署</strong>，支持公有云部署、私有化部署和設備端部署（EasyEdge）。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>EasyDL提供了靈活豐富的服務部署形態，包含公有云部署、本地服務器部署、設備端SDK以及軟硬一體產品。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5c95bf52ba354b5c974a352f8a48f9dd><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>以上是EasyDL在移動端/設備端的應用案例，以深圳旅影為例，用戶訓練一個場景識別的模型，僅僅迭代兩版就獲得了97%以上的準確率，效果非常不錯。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c020959fbd3a4fccb59cec676af5f8da><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>EasyDL目前支持的圖像任務類型包括圖像分類、物體檢測、圖像分割。在企業應用中，圖像分類和物體檢測佔比較高，因此百度在這兩方面投入了很多的人力來進行優化。</span></p><h1 class=pgc-h-arrow-right>物體檢測任務綜述</h1><h1 class=pgc-h-arrow-right>物體檢測定義</h1><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>物體檢測是指，給定一張圖片，識別出圖片中的物體屬於哪個類別，並對相應的物體進行位置的定位。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/251eab611fc142e796e7140d20707991><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>物體檢測技術已經發展了很久，從13年至今，主要有兩個方面的發展，一是兩階段檢測器，二是單階段檢測器。總體來說技術朝著越來越自動化、越來越高效的方向發展，來滿足商業化的需求。</span></p><h1 class=pgc-h-arrow-right>檢測器的通用框架</h1><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6a6cdc7223494584bf60d09c3e7e8aa9><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第一個部分是Feature Extraction特徵提取模塊，圖像通過這個網絡可以提取出相應的特徵。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>第二個部分是bonding box Matching，Labeling and Sampling模塊，輸入一系列的物體標註框，會有一系列的anchor（錨框），比如上圖最右邊的紅色和綠色框就是我們預先定義好的anchor，模型就會用這些anchor作為一個基準，再去學習物體的定位。有了這些anchor之後，我們要和這些機器光進行匹配，去挑選出與物體比較吻合的框，稱為正樣本，就是綠色的框，不符合的框是負樣本。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>從上圖中可以看出，這裡的負樣本的數量非常多，無法直接拿來學習。所以接下來要增加一個採樣的模塊，挑選出適合模型訓練的正負樣本，再輸入到下一個模塊—Detection檢測器，並進行分類網絡和迴歸網絡的學習。</span></p><h1 class=pgc-h-arrow-right>極小目標檢測場景難點分析及效果優化</h1><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>以COCO數據集中的物體定義為例，小物體是指小於32×32個像素點。在實際場景中，我們更傾向於使用相對於原圖的比例來定義。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0846bbb3cd7a4e00bc84038aeda8e5fc><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>因此，我們給出相對的定義，物體標註框的長寬乘積，除以整個圖像的長寬乘積，再開根號，如果結果小於3%，就稱之為小物體。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/30b5c2c5a9d14f4cb69459d9846ecc17><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>常見的極小目標檢測場景如圖示。這些檢測場景有什麼難點呢？總結來說：</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>難點1：檢測框的<strong>高寬比多變</strong>，甚至出現極端的高寬比，漏檢率比較高；</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>難點2：<strong>背景雜亂</strong>，誤檢率比較高；</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>難點3：<strong>數據源稀缺</strong>，沒有豐富的數據訓練；</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>難點4：圖片非常大，<strong>檢測框非常小</strong>，所以漏檢率高。</span></p><h1 class=pgc-h-arrow-right>優化案例1：以貨架擋板檢測場景為例</h1><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1da0adf06a4048b59186f13bf59c2048><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>如圖中綠框所示，貨架擋板檢測的難點在於貨架擋板的高寬比非常極端，我們先選一些基礎的模型來訓練。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>比如我們取SSD、YOLO、Faster RCNN等，就發現Faster RCNN達到了最好的效果—0.812。怎麼進一步優化呢？</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>針對上述難點1，業界有<strong>Anchor自適應算法</strong>可以解決這類問題：</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/81520ef48733487db9a7887e1579775a><p class=pgc-img-caption>△Anchor自適應算法概覽</p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我們重點介紹<strong>差分進化算法</strong>、<strong>超參優化算法</strong>這兩種具有通用性的技術。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>1、差分進化算法</strong></span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>其特點是簡單、高效、可拓展。搜索超參是anchor的高寬比和尺度，優化目標是所有檢測框與匹配的anchor的<strong>iou總和</strong>最大。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>算法上，第一步是初始化種群。第二步是開始迭代的差分進化，保留優秀個體，淘汰劣質個體。包含變異-交叉-選擇3個操作：</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>變異</strong>：從種群中隨機挑選兩個個體，用一定的規則去產生一個變異個體；</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>交叉</strong>：變異個體與事先指定的某個目標個體進行參數混合，生成實驗個體；</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>選擇</strong>：將實驗個體的優化指標與目標個體進行對比，保留優化指標較好的個體；</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>以上3個操作迭代循環，實現優勝劣汰的能力。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>這個方案的優點就是速度快，無需訓練模型，並且可以廣泛的適用於各種檢測模型，這種算法已經在EasyDL經典版上集成優化了。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>2、超參優化算法</strong></span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>其特點是優化目標和訓練模型是一致的。優化目標是訓練中的<strong>模型指標</strong>（AP）最優，可以運用貝葉斯優化、進化算法等超參優化算法。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>優點是以模型評估指標作為優化的目標，效果更佳，並可廣泛適用於各種檢測模型。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>其缺點是比較耗費計算資源。但是相關算法能力已經在EasyDL專業版集成，用戶可以通過EasyDL專業版創建項目，實現自動超參搜索。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e701fa7439fb42f18a58b36a70396932><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>貨架擋板檢測優化—anchor優化</strong></span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我們將anchor自適應的方法應用在本案例上。相對於默認ratios來說，自適應算法收出了5個比例，也就是說5個比例比較適合於這個模型。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f2e760acd6344708ae7af03486735d2a><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我們用anchor自適應的算法進行優化，效果從0.812提升到0.87。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>那麼如何進一步優化？我們之前提到了難點2（背景雜亂）和難點3（數據稀缺），現在繼續採用自動數據增強的方案，去優化數據本身。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4b3a78640e494f6fb5430d35a1ab1aab><p class=pgc-img-caption>△自動數據增強算法概覽</p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>以PBA為例，其特點是靈活、可拓展。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/71b63a1ecb1346ac92527378ea28b745><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>如圖，起兩個進程分別訓練模型，訓練模型的主要參數一是超參，另外一個是權重（模型本身的參數）。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>通過第一步訓練，第二步需在某一個時間點，比較兩個進程的效果，效果更優的進程就會取代效果差的進程的權重。第三步，直接複製權重。第四步，擾動原來的超參，產生一組新的超參，並繼續訓練。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>迭代循環這個訓練流程，就可以產生一個增強算子的調度組合，並且是比較適合於這個數據集本身的。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e307b76246e2413e89392fa4b8428712><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>EasyDL也上線了自動數據增強搜索的能力，基於百度自研的分佈式智能搜索的能力，目前支持PBA算法。算子方面，支持圖像分類和物體檢測兩種，開放了超過<strong>40種</strong>的算子。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>利於優化成一個工業級的搜索算法，搜索的效率更高。在EasyDL線上的多場景模型精度上，平均提升了7%以上。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>貨架擋板檢測優化—自動數據增強</strong></span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bdaf26e57bed40a583a0299984f092db><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我們把自動數據增強應用在貨架擋板檢測案例上，從原來的0.87提升到了0.88。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我們再考慮一個問題，模型訓練本身的超參非常多，如何才能搜索出最佳超參下的效果呢？</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我們可以採用<strong>自動超參搜索</strong>的技術。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/efdc42aa71274196ae4d1eb3ee1ca282><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>EasyDL的自動超參搜索技術是基於百度內部的分佈式智能搜索服務，目前支持隨機搜索、貝葉斯搜索和進化算法三種算法，支持圖像分類和物體檢測兩類任務。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>有兩大特點，一是其中的一些算法可以進行無梯度優化，不依賴於平滑性假設。二是支持大規模並行搜索調參。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>在EasyDL線上多場景上面，加上我們自動數據分析，再加上超參搜索，檢測精度平均提升10%以上。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>貨架擋板檢測優化—自動超參搜索效果</strong></span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/97206f9fe26a49e88b76fc3ab65e0b56><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>繼續把自動數據增強應用到本案例中，效果從0.88提升到0.92。總體來說，我們通過一系列的效果優化，從最初的0.812提升到了現在的0.92，效果上非常可觀。</span></p><h1 class=pgc-h-arrow-right>優化案例2：以電力巡檢缺陷檢測為例</h1><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>接下來我們再看電力巡檢缺陷檢測案例的優化。這個案例的難點在於圖片非常大（4k分辨率），但是檢測框卻非常小，所以其漏檢率非常高。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/881c4a72c03a484ba2e11e69aec5103f><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>首先，選擇一個基礎模型，這裡選擇了retinanet和Faster RCNN，m AP最高是0.61。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>anchor自適應優化</strong></span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3144ae954d0b45bc9ec6fe8a54aa77bb><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>接下來用anchor自適應優化進行調節，藍框是K-means聚類的結果；粉紅框是差分進化的結果，可以看出差分進化算法在匹配效果上更加優秀。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/52acbb3153734031be676aada1467e75><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>利用anchor自適應優化算法，檢測結果從0.61提升到0.65。效果有所提升，但對於商用場景來說不夠理想。那麼，如何從根本上提升效果？</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><span style=letter-spacing:1px><strong>自動切圖優化</strong></span></span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>這裡涉及到了上述的第4個難點，圖片非常大，檢測框非常小。因此，這裡就考慮用到<strong>自動切圖技術</strong>，既能夠不放大圖片尺寸，又能夠放大檢測目標。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3fc259c4984149b591f358629f382ba0><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>我們把這張圖切成了9個子圖，9個子圖有一定的相交。問題是這9張子圖全部都要參與訓練，也就是會增加9倍的簡單的負樣本，而且模型並沒有可以選擇的機會。就會導致模型越學越簡單，無法檢測很難的案例。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>如何解決這個問題？首先，挑選出包含較難負樣本的Negative chips切圖，把包括這些較難的負樣本的區域提取出來，作為一個子圖，實現自動挑難負樣本的能力。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/17535c5e570d49b2bea2dff46fa3b4e9><p class=pgc-img-caption>△SNIPER-正樣本切圖策略</p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>其次，用切圖代替原圖，並降低計算量。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>SNIPER論文考慮到了這個問題，以正樣本的切圖為例，小尺寸圖對應小GT框。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d370825127274f8eb4bb8096ad50f275><p class=pgc-img-caption>△SNIPER-負樣本切圖策略</p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>對於負樣本，則先訓練幾個anchor，使模型具有一定的分辨能力，標記假陽性的難負樣本，並學習錯誤的樣本。通過這種方式，可以找到最難的一批負樣本切圖。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>接下來，把這些正負樣本切圖直接送入到模型的訓練中。也就是說，針對任意一個檢測器，都可以採用這樣的前置策略。</span></p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/683d446e3d874e9ca58e0b5e526e51c7><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>回到案例，採用這種自動切圖技術，效果從0.65直接提升到0.93，這個效果的跨越幅度非常大。這也證明了自動切圖算法能夠從根本上能夠解決小目標檢測的問題。</span></p><h1 class=pgc-h-arrow-right>EasyDL經典版實操演示</h1><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/98f8ef1d32f246ba9d51c5630806caa5><p class=pgc-img-caption></p></div><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>詳細操作指南可參考官網介紹文檔，或參考直播回放視頻，這裡不再贅述：</span></p><ul><li><span style=font-size:.833em><span style=letter-spacing:.544px>使用文檔：https://ai.baidu.com/ai-doc/EASYDL/qk38n31an</span></span></li><li><span style=font-size:.833em><span style=letter-spacing:.544px>直播回放：</span></span><a class=pgc-link data-content=mp data-source=outerLink href=https://www.bilibili.com/video/BV1wv411C7QN rel="noopener noreferrer" target=_blank>「鏈接」</a></li></ul><h1 class=pgc-h-arrow-right>直播預告</h1><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em><strong>端計算模型</strong>目前已應用到各行業的AI技術實踐中，如部署在野外氣象觀測點用於環境監測，以及響應垃圾分類政策用來打造智能垃圾桶等等。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:.833em>10月28號，第二期<span style=letter-spacing:1px>「<strong>EasyDL</strong> AI開發系列公開課」</span>直播中，<strong>百度</strong>高級研發工程師將深入講解<u>如何優化端模型識別速度</u>、<u>如何解決端模型部署問題</u>，同時手把手直播演示如何使用EasyDL&EasyEdge進行模型訓練和端模型部署。</span></p><p style="text-align:left;margin:20px 16px 0"><span style=font-size:1.111em><strong>▽</strong></span>報名方式見海報，還為大家精心準備了小禮物哦~</p><div class=pgc-img><img alt=實戰解析：真實AI場景下，極小目標檢測與精度提升 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fc64c5d07a264f00b0e041790d885682><p class=pgc-img-caption></p></div><p style=margin:0><span style=font-size:.833em>— 完 —</span></p><p style="margin:16px 0"><span style=font-size:.833em>量子位 QbitAI · 頭條號簽約</span></p><p style="margin:16px 0"><span style=font-size:.833em>關注我們，第一時間獲知前沿科技動態</span></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>實戰</a></li><li><a>真實</a></li><li><a>AI</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/03bb6ad.html alt=「AI實戰」手把手教你訓練自己的目標檢測模型（SSD篇） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d62141fb6b504855895b87d3f33102d6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/03bb6ad.html title=「AI實戰」手把手教你訓練自己的目標檢測模型（SSD篇）>「AI實戰」手把手教你訓練自己的目標檢測模型（SSD篇）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1801773a.html alt="AI芯天下丨虛擬工廠 ，2025智能製造新路徑" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/9fc63c421a37451d950eb1efcde49091 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1801773a.html title="AI芯天下丨虛擬工廠 ，2025智能製造新路徑">AI芯天下丨虛擬工廠 ，2025智能製造新路徑</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/60f3eef5.html alt="全球首個3D AI主播火了 虛擬製作時代將至" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/68cc49aeb805412eb4a9d126b12284bd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/60f3eef5.html title="全球首個3D AI主播火了 虛擬製作時代將至">全球首個3D AI主播火了 虛擬製作時代將至</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/098d4a35.html alt=「火爐煉AI」機器學習048-Harris檢測圖像角點 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d756b20a1dbc4ab4b4f22d6b61be2043 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/098d4a35.html title=「火爐煉AI」機器學習048-Harris檢測圖像角點>「火爐煉AI」機器學習048-Harris檢測圖像角點</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cfc7290d.html alt=OpenCV項目實戰---人臉檢測 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f267e46946554437b5ffe48234f3b78d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cfc7290d.html title=OpenCV項目實戰---人臉檢測>OpenCV項目實戰---人臉檢測</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fcc2ad9e.html alt=音頻編碼實戰 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/aacf5cab-b987-443f-815e-236f984fb2d0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fcc2ad9e.html title=音頻編碼實戰>音頻編碼實戰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/51723e35.html alt=AI也有偏見：你在機器“眼裡”是好人還是壞蛋？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RfDgA10IBHJqK9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/51723e35.html title=AI也有偏見：你在機器“眼裡”是好人還是壞蛋？>AI也有偏見：你在機器“眼裡”是好人還是壞蛋？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fbd8ef39.html alt=破解AI大腦黑盒邁出新一步！谷歌現在更懂機器，還開源了研究工具 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/6c330004a1c9ab23e6a5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fbd8ef39.html title=破解AI大腦黑盒邁出新一步！谷歌現在更懂機器，還開源了研究工具>破解AI大腦黑盒邁出新一步！谷歌現在更懂機器，還開源了研究工具</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2b8533bd.html alt=三星堆的真實身份——建木 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/20d870563790405bbbba445f286fdf4c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2b8533bd.html title=三星堆的真實身份——建木>三星堆的真實身份——建木</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/02729303.html alt=java實戰項目常用類，Date、Calendar、BigDecimal、Math、UUID class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d69c7c9d8b85444da9360e334ba6555d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/02729303.html title=java實戰項目常用類，Date、Calendar、BigDecimal、Math、UUID>java實戰項目常用類，Date、Calendar、BigDecimal、Math、UUID</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/badc9216.html alt=父親癌症晚期最後的日子真實記錄 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1f968431aa8f4846b9bc053bcd12ffce style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/badc9216.html title=父親癌症晚期最後的日子真實記錄>父親癌症晚期最後的日子真實記錄</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/49347b7c.html alt=地球在宇宙中的真實運動軌跡是怎樣的？複雜程度超乎想象 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/1ba099f9-aa34-4b62-8aca-f5e158d47c2b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/49347b7c.html title=地球在宇宙中的真實運動軌跡是怎樣的？複雜程度超乎想象>地球在宇宙中的真實運動軌跡是怎樣的？複雜程度超乎想象</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/73ba27bb.html alt=老股民總結的賣出技巧實戰圖解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/7575000bb7b8e57fa260 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/73ba27bb.html title=老股民總結的賣出技巧實戰圖解>老股民總結的賣出技巧實戰圖解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/22408815.html alt=股票交易指南：實戰圖解經典的賣出技巧 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/15305260751844061be70e0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/22408815.html title=股票交易指南：實戰圖解經典的賣出技巧>股票交易指南：實戰圖解經典的賣出技巧</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/eaa95354.html alt=股票賣出實戰技術圖解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/88520001219b9b7dabd2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/eaa95354.html title=股票賣出實戰技術圖解>股票賣出實戰技術圖解</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>