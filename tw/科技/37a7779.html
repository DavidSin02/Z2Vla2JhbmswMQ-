<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>æ¶æ§‹è¨­è¨ˆ | ç•°æ­¥è™•ç†æµç¨‹ï¼Œå¤šç¨®å¯¦ç¾æ¨¡å¼è©³è§£ | æå®¢å¿«è¨Š</title><meta property="og:title" content="æ¶æ§‹è¨­è¨ˆ | ç•°æ­¥è™•ç†æµç¨‹ï¼Œå¤šç¨®å¯¦ç¾æ¨¡å¼è©³è§£ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/722a1fdb2d23493ca176fa5742ea6c56"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/37a7779.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/37a7779.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/37a7779.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/37a7779.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/37a7779.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/37a7779.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/37a7779.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/37a7779.html><meta property="article:published_time" content="2020-10-29T20:50:33+08:00"><meta property="article:modified_time" content="2020-10-29T20:50:33+08:00"><meta name=Keywords content><meta name=description content="æ¶æ§‹è¨­è¨ˆ | ç•°æ­¥è™•ç†æµç¨‹ï¼Œå¤šç¨®å¯¦ç¾æ¨¡å¼è©³è§£"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/37a7779.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>æ¶æ§‹è¨­è¨ˆ | ç•°æ­¥è™•ç†æµç¨‹ï¼Œå¤šç¨®å¯¦ç¾æ¨¡å¼è©³è§£</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>ä¸€ã€ç•°æ­¥è™•ç†</h1><h2 class=pgc-h-arrow-right>1ã€ç•°æ­¥æ¦‚å¿µ</h2><p>ç•°æ­¥è™•ç†ä¸ç”¨é˜»å¡ç•¶å‰ç·šç¨‹ä¾†ç­‰å¾…è™•ç†å®Œæˆï¼Œè€Œæ˜¯å…è¨±å¾ŒçºŒæ“ä½œï¼Œç›´è‡³å…¶å®ƒç·šç¨‹å°‡è™•ç†å®Œæˆï¼Œä¸¦å›èª¿é€šçŸ¥æ­¤ç·šç¨‹ã€‚</p><p>å¿…é ˆå¼·èª¿ä¸€å€‹åŸºç¤é‚è¼¯ï¼Œç•°æ­¥æ˜¯ä¸€ç¨®è¨­è¨ˆç†å¿µï¼Œç•°æ­¥æ“ä½œä¸ç­‰æ–¼å¤šç·šç¨‹ï¼ŒMQä¸­é–“ä»¶ï¼Œæˆ–è€…æ¶ˆæ¯å»£æ’­ï¼Œé€™äº›æ˜¯å¯ä»¥å¯¦ç¾ç•°æ­¥è™•ç†çš„æ–¹å¼ã€‚</p><p>åŒæ­¥è™•ç†å’Œç•°æ­¥è™•ç†ç›¸å°ï¼Œéœ€è¦å¯¦æ™‚è™•ç†ä¸¦éŸ¿æ‡‰ï¼Œä¸€æ—¦è¶…éæ™‚é–“æœƒçµæŸæœƒè©±ï¼Œåœ¨è©²éç¨‹ä¸­èª¿ç”¨æ–¹ä¸€ç›´åœ¨ç­‰å¾…éŸ¿æ‡‰æ–¹è™•ç†å®Œæˆä¸¦è¿”å›ã€‚åŒæ­¥é¡ä¼¼é›»è©±æºé€šï¼Œéœ€è¦å¯¦æ™‚å°è©±ï¼Œç•°æ­¥å‰‡é¡ä¼¼çŸ­ä¿¡äº¤æµï¼Œç™¼é€æ¶ˆæ¯ä¹‹å¾Œç„¡éœ€ä¿æŒç­‰å¾…ç‹€æ…‹ã€‚</p><h2 class=pgc-h-arrow-right>2ã€ç•°æ­¥è™•ç†å„ªé»</h2><p>é›–ç„¶ç•°æ­¥è™•ç†ä¸èƒ½å¯¦æ™‚éŸ¿æ‡‰ï¼Œä½†æ˜¯è™•ç†è¤‡é›œæ¥­å‹™å ´æ™¯ï¼Œå¤šæ•¸æƒ…æ³éƒ½æœƒä½¿ç”¨ç•°æ­¥è™•ç†ã€‚</p><ul><li>ç•°æ­¥å¯ä»¥è§£è€¦æ¥­å‹™é–“çš„æµç¨‹é—œè¯ï¼Œé™ä½è€¦åˆåº¦ï¼›</li><li>é™ä½æ¥å£éŸ¿æ‡‰æ™‚é–“ï¼Œä¾‹å¦‚ç”¨æˆ¶è¨»å†Šï¼Œç•°æ­¥ç”Ÿæˆç›¸é—œä¿¡æ¯è¡¨ï¼›</li><li>ç•°æ­¥å¯ä»¥æé«˜ç³»çµ±æ€§èƒ½ï¼Œæå‡ååé‡ï¼›</li><li>æµé‡å‰Šå³°å³æŠŠè«‹æ±‚å…ˆæ‰¿æ¥ä¸‹ä¾†ï¼Œç„¶å¾Œåœ¨ç•°æ­¥è™•ç†ï¼›</li><li>ç•°æ­¥ç”¨åœ¨ä¸åŒæœå‹™é–“ï¼Œå¯ä»¥éš”é›¢æœå‹™ï¼Œé¿å…é›ªå´©ï¼›</li></ul><p>ç•°æ­¥è™•ç†çš„å¯¦ç¾æ–¹å¼æœ‰å¾ˆå¤šç¨®ï¼Œå¸¸è¦‹å¤šç·šç¨‹ï¼Œæ¶ˆæ¯ä¸­é–“ä»¶ï¼Œç™¼ä½ˆè¨‚é–±çš„å»£æ’­æ¨¡å¼ï¼Œå…¶æ ¹æ“šé‚è¼¯åœ¨æ–¼å…ˆæŠŠè«‹æ±‚æ‰¿æ¥ä¸‹ä¾†ï¼Œæ”¾å…¥å®¹å™¨ä¸­ï¼Œåœ¨å¾å®¹å™¨ä¸­æŠŠè«‹æ±‚å–å‡ºï¼Œçµ±ä¸€èª¿åº¦è™•ç†ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šä¸€å®šè¦ç›£æ§ä»»å‹™æ˜¯å¦ç”¢ç”Ÿç©å£“éåº¦æƒ…æ³ï¼Œä»»å‹™å¦‚æœç©å£“åˆ°é›ªå´©ä¹‹å‹¢çš„åœ°æ­¥ï¼Œä½ æœƒæ„Ÿè¦ºæ¯ä¸€ç‰‡é›ªèŠ±éƒ½æƒ³å‹‡é—–å¤©æ¶¯ã€‚</p><h2 class=pgc-h-arrow-right>3ã€ç•°æ­¥è™•ç†æ¨¡å¼</h2><p>ç•°æ­¥æµç¨‹è™•ç†çš„å¯¦ç¾æœ‰å¥½å¤šæ–¹å¼ï¼Œä½†æ˜¯å¯¦éš›é–‹ç™¼ä¸­å¸¸ç”¨çš„å°±é‚£éº¼å¹¾ç¨®ï¼Œä¾‹å¦‚ï¼š</p><ul><li>åŸºæ–¼æ¥å£ç•°æ­¥éŸ¿æ‡‰ï¼Œå¸¸ç”¨åœ¨ç¬¬ä¸‰æ–¹å°æ¥æµç¨‹ï¼›</li><li>åŸºæ–¼æ¶ˆæ¯ç”Ÿç”¢å’Œæ¶ˆè²»æ¨¡å¼ï¼Œè§£è€¦è¤‡é›œæµç¨‹ï¼›</li><li>åŸºæ–¼ç™¼ä½ˆå’Œè¨‚é–±çš„å»£æ’­æ¨¡å¼ï¼Œå¸¸è¦‹ç³»çµ±é€šçŸ¥</li></ul><p>ç•°æ­¥é©ç”¨çš„æ¥­å‹™å ´æ™¯ï¼Œå°æ•¸æ“šå¼·ä¸€è‡´æ€§çš„è¦æ±‚ä¸é«˜ï¼Œç•°æ­¥è™•ç†çš„æ•¸æ“šæ›´å¤šæ™‚å€™è¿½æ±‚çš„æ˜¯æœ€çµ‚ä¸€è‡´æ€§ã€‚</p><h1 class=pgc-h-arrow-right>äºŒã€æ¥å£éŸ¿æ‡‰ç•°æ­¥</h1><h2 class=pgc-h-arrow-right>1ã€æµç¨‹æè¿°</h2><p>åŸºæ–¼æ¥å£ç•°æ­¥éŸ¿æ‡‰çš„æ–¹å¼ï¼Œæœ‰ä¸€å€‹æœ¬åœ°æ¥­å‹™æœå‹™ï¼Œç¬¬ä¸‰æ–¹æ¥å£æœå‹™ï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p><div class=pgc-img><img alt="æ¶æ§‹è¨­è¨ˆ | ç•°æ­¥è™•ç†æµç¨‹ï¼Œå¤šç¨®å¯¦ç¾æ¨¡å¼è©³è§£" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/722a1fdb2d23493ca176fa5742ea6c56><p class=pgc-img-caption></p></div><ul><li>æœ¬åœ°æœå‹™ç™¼èµ·è«‹æ±‚ï¼Œèª¿ç”¨ç¬¬ä¸‰æ–¹æœå‹™æ¥å£ï¼›</li><li>è«‹æ±‚åŒ…å«æ¥­å‹™åƒæ•¸ï¼Œå’ŒæˆåŠŸæˆ–å¤±æ•—çš„å›èª¿åœ°å€ï¼›</li><li>ç¬¬ä¸‰æ–¹æœå‹™å¯¦æ™‚éŸ¿æ‡‰æµæ°´è™Ÿï¼Œä½œç‚ºè©²èª¿ç”¨çš„æ¨™è­˜ï¼›</li><li>ä¹‹å¾Œç¬¬ä¸‰æ–¹æœå‹™è™•ç†è«‹æ±‚ï¼Œå¾—åˆ°æœ€çµ‚è™•ç†çµæœï¼›</li><li>å¦‚æœè™•ç†æˆåŠŸï¼Œå›èª¿æœ¬åœ°æœå‹™çš„æˆåŠŸé€šçŸ¥æ¥å£ï¼›</li><li>å¦‚æœè™•ç†å¤±æ•—ï¼Œå›èª¿æœ¬åœ°æœå‹™çš„å¤±æ•—é€šçŸ¥æ¥å£ï¼›</li><li>æ•´å€‹æµç¨‹åŸºæ–¼éƒ¨åˆ†ç•°æ­¥å’Œéƒ¨åˆ†å¯¦æ™‚çš„æ¨¡å¼ï¼Œå®Œæ•´è™•ç†ï¼›</li></ul><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæœ¬åœ°æœå‹™å¤šæ¬¡è«‹æ±‚ç¬¬ä¸‰æ–¹æœå‹™ï¼Œéœ€è¦æ ¹æ“šæµæ°´è™Ÿåˆ¤æ–·è©²è«‹æ±‚çš„ç‹€æ…‹ï¼Œæ¥­å‹™çš„ç‹€æ…‹è¨­è¨ˆä¹Ÿæ˜¯æ¥µå…¶è¤‡é›œï¼Œè¦æ ¹æ“šæµæ°´è™Ÿå’Œç‹€æ…‹è¿½æº¯æ•´å€‹æµç¨‹çš„åŸ·è¡Œé€²åº¦ï¼Œé¿å…éŒ¯äº‚ã€‚</p><h2 class=pgc-h-arrow-right>2ã€æµç¨‹å¯¦ç¾æ¡ˆä¾‹</h2><p><strong>æ¨¡æ“¬åŸºç¤æ¥å£</strong></p><pre><code>@RestControllerpublic class ReqAsyncWeb {    private static final Logger LOGGER = LoggerFactory.getLogger(ReqAsyncWeb.class);    @Resource    private ReqAsyncService reqAsyncService ;    // æœ¬åœ°äº¤æ˜“æ¥å£    @GetMapping("/tradeBegin")    public String tradeBegin (){        String sign = reqAsyncService.tradeBegin("TradeClient");        return sign ;    }    // äº¤æ˜“æˆåŠŸé€šçŸ¥æ¥å£    @GetMapping("/tradeSucNotify")    public String tradeSucNotify (@RequestParam("param") String param){        LOGGER.info("tradeSucNotify param={"+ param +"}");        return "success" ;    }    // äº¤æ˜“å¤±æ•—é€šçŸ¥æ¥å£    @GetMapping("/tradeFailNotify")    public String tradeFailNotify (@RequestParam("param") String param){        LOGGER.info("tradeFailNotify param={"+ param +"}");        return "success" ;    }    // ç¬¬ä¸‰æ–¹äº¤æ˜“æ¥å£    @GetMapping("/respTrade")    public String respTrade (@RequestParam("param") String param){        LOGGER.info("respTrade param={"+ param +"}");        reqAsyncService.respTrade(param);        return "NO20200520" ;    }}</code></pre><p><strong>æ¨¡æ“¬ç¬¬ä¸‰æ–¹è™•ç†</strong></p><pre><code>@Servicepublic class ReqAsyncServiceImpl implements ReqAsyncService {    private static final String serverUrl = "http://localhost:8005" ;    @Override    public String tradeBegin(String param) {        String orderNo = HttpUtil.get(serverUrl+"/respTrade?param="+param);        if (StringUtils.isEmpty(orderNo)){            return "Trade..Fail...";        }        return orderNo ;    }    @Override    public void respTrade(String param) {        try {            Thread.sleep(10000);        } catch (InterruptedException e) {            e.printStackTrace();        }        Thread thread01 = new Thread(                new RespTask(serverUrl+"/tradeSucNotify?param="+param),"SucNotify");        Thread thread02 = new Thread(                new RespTask(serverUrl+"/tradeFailNotify?param="+param),"FailNotify");        thread01.start();        thread02.start();    }}</code></pre><h1 class=pgc-h-arrow-right>ä¸‰ã€ç”Ÿç”¢æ¶ˆè²»ç•°æ­¥</h1><h2 class=pgc-h-arrow-right>1ã€æµç¨‹æè¿°</h2><p>é€™è£¡åŸºæ–¼Kafkaä¸­é–“ä»¶ï¼Œæ¼”ç¤ºæµç¨‹æ¶ˆæ¯ç”Ÿæˆï¼Œæ¶ˆæ¯è™•ç†çš„ç•°æ­¥è§£è€¦æµç¨‹ï¼ŒåŸºæœ¬æ­¥é©Ÿï¼š</p><div class=pgc-img><img alt="æ¶æ§‹è¨­è¨ˆ | ç•°æ­¥è™•ç†æµç¨‹ï¼Œå¤šç¨®å¯¦ç¾æ¨¡å¼è©³è§£" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/55dd8323f1c2414896ee6fd672459c32><p class=pgc-img-caption></p></div><ul><li>æ¶ˆæ¯ç”Ÿæˆä¹‹å¾Œï¼Œå¯«å…¥KafkaéšŠåˆ— ï¼›</li><li>æ¶ˆæ¯è™•ç†æ–¹ç²å–æ¶ˆæ¯å¾Œï¼Œé€²è¡Œæµç¨‹è™•ç†ï¼›</li><li>æ¶ˆæ¯åœ¨ä¸­é–“ä»¶æä¾›çš„éšŠåˆ—ä¸­æŒä¹…åŒ–å­˜å„² ï¼›</li><li>æ¶ˆæ¯ç™¼èµ·æ–¹å¦‚æœæ›æ‰ï¼Œä¸å½±éŸ¿æ¶ˆæ¯è™•ç† ï¼›</li><li>æ¶ˆè²»æ–¹å¦‚æœæ›æ‰ï¼Œä¸å½±éŸ¿æ¶ˆæ¯ç”Ÿæˆï¼›</li></ul><p>åŸºæ–¼é€™ç¨®æ¶ˆæ¯ä¸­é–“ä»¶æ¨¡å¼ï¼Œå®Œæˆæ¥­å‹™è§£è€¦ï¼Œæé«˜ç³»çµ±ååé‡ï¼Œæ˜¯æ¶æ§‹ä¸­å¸¸ç”¨çš„æ–¹å¼ã€‚</p><h2 class=pgc-h-arrow-right>2ã€æµç¨‹å¯¦ç¾æ¡ˆä¾‹</h2><p><strong>æ¶ˆæ¯ç™¼é€</strong></p><pre><code>@Servicepublic class KafkaAsyncServiceImpl implements KafkaAsyncService {    @Resource    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;    @Override    public void sendMsg(String msg) {        // é€™è£¡Topicå¦‚æœä¸å­˜åœ¨ï¼Œæœƒè‡ªå‹•å‰µå»º        kafkaTemplate.send("kafka-topic", msg);    }}</code></pre><p><strong>æ¶ˆæ¯æ¶ˆè²»</strong></p><pre><code>@Componentpublic class KafkaConsumer {    private static Logger LOGGER = LoggerFactory.getLogger(KafkaConsumer.class);    @KafkaListener(topics = "kafka-topic")    public void listenMsg (ConsumerRecord&lt;?,String&gt; record) {        String value = record.value();        LOGGER.info("KafkaConsumer01 ==&gt;&gt;"+value);    }}</code></pre><p><strong>æ³¨æ„</strong>ï¼šé€™è£¡å°±ç®—æœ‰å¤šå€‹æ¶ˆæ¯æ¶ˆè²»æ–¹ï¼Œä¹Ÿåªæœƒåœ¨ä¸€å€‹æ¶ˆè²»æ–¹è™•ç†æ¶ˆæ¯ï¼Œé€™å°±æ˜¯è©²æ¨¡å¼çš„ç‰¹é»ã€‚</p><h1 class=pgc-h-arrow-right>å››ã€ç™¼ä½ˆè¨‚é–±ç•°æ­¥</h1><h2 class=pgc-h-arrow-right>1ã€æµç¨‹æè¿°</h2><p>é€™è£¡åŸºæ–¼Redisä¸­é–“ä»¶ï¼Œèªªæ˜æ¶ˆæ¯å»£æ’­æ¨¡å¼æµç¨‹ï¼ŒåŸºæœ¬æ­¥é©Ÿï¼š</p><div class=pgc-img><img alt="æ¶æ§‹è¨­è¨ˆ | ç•°æ­¥è™•ç†æµç¨‹ï¼Œå¤šç¨®å¯¦ç¾æ¨¡å¼è©³è§£" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1117b3f9715a4c4aab5060324b3d2cbc><p class=pgc-img-caption></p></div><ul><li>æä¾›ä¸€å€‹æ¶ˆæ¯å‚³éé »é“channelï¼›</li><li>å¤šå€‹è¨‚é–±é »é“çš„å®¢æˆ¶ç«¯clientï¼›</li><li>æ¶ˆæ¯é€šéPUBLISHå‘½ä»¤ç™¼é€çµ¦é »é“channel ï¼›</li><li>å®¢æˆ¶ç«¯å°±æœƒæ”¶åˆ°é »é“ä¸­å‚³éçš„æ¶ˆæ¯ ï¼›</li></ul><p>ä¹‹æ‰€ä»¥ç¨±ç‚ºå»£æ’­æ¨¡å¼ï¼Œè©²æ¨¡å¼æ›´æ³¨é‡é€šçŸ¥ä¸‹ç™¼ï¼Œæµç¨‹äº¤äº’æ€§ä¸å¼·ã€‚å¯¦éš›é–‹ç™¼å ´æ™¯ï¼šé‹ç¶­ç¸½æ§ç³»çµ±ï¼Œæ›´æ–°äº†æŸé¡æœå‹™é…ç½®ï¼Œé€šçŸ¥æ¶ˆæ¯ç™¼é€ä¹‹å¾Œï¼Œç›¸é—œæ¥­å‹™ç·šä¸Šçš„æœå‹™åœ¨æ‹‰å–æœ€æ–°é…ç½®ï¼Œæ›´æ–°åˆ°æœå‹™ä¸­ã€‚</p><h2 class=pgc-h-arrow-right>2ã€æµç¨‹å¯¦ç¾æ¡ˆä¾‹</h2><p><strong>ç™¼é€é€šçŸ¥æ¶ˆæ¯</strong></p><pre><code>@Servicepublic class RedisAsyncServiceImpl implements RedisAsyncService {    @Resource    private StringRedisTemplate stringRedisTemplate ;    @Override    public void sendMsg(String topic, String msg) {        stringRedisTemplate.convertAndSend(topic,msg);    }}</code></pre><p><strong>å®¢æˆ¶ç«¯æ¥æ”¶</strong></p><pre><code>@Servicepublic class ReceiverServiceImpl implements ReceiverService {    private static final Logger LOGGER = LoggerFactory.getLogger("ReceiverMsg");    @Override    public void receiverMsg(String msg) {        LOGGER.info("Receiver01 æ”¶åˆ°æ¶ˆæ¯ï¼šmsg-{}",msg);    }}</code></pre><p><strong>é…ç½®å»£æ’­æ¨¡å¼</strong></p><pre><code>@Configurationpublic class SubMsgConfig {    @Bean    RedisMessageListenerContainer container(RedisConnectionFactory factory,                                            MessageListenerAdapter msgListenerAdapter,                                            MessageListenerAdapter msgListenerAdapter02){        RedisMessageListenerContainer container = new RedisMessageListenerContainer();        container.setConnectionFactory(factory);        //è¨»å†Šå¤šå€‹ç›£è½,è¨‚é–±ä¸€å€‹ä¸»é¡Œï¼Œå¯¦ç¾æ¶ˆæ¯å»£æ’­        container.addMessageListener(msgListenerAdapter, new PatternTopic("topic:msg"));        container.addMessageListener(msgListenerAdapter02, new PatternTopic("topic:msg"));        return container;    }    @Bean    MessageListenerAdapter msgListenerAdapter(ReceiverService receiverService){        return new MessageListenerAdapter(receiverService, "receiverMsg");    }    @Bean    MessageListenerAdapter msgListenerAdapter02(ReceiverService02 receiverService02){        return new MessageListenerAdapter(receiverService02, "receiverMsg");    }    @Bean    ReceiverService receiverService(){        return new ReceiverServiceImpl();    }    @Bean    ReceiverService02 receiverService02(){        return new ReceiverServiceImpl02();    }}</code></pre><p>é€™è£¡é…ç½®äº†å¤šå€‹è¨‚é–±çš„å®¢æˆ¶ç«¯ã€‚</p><h1 class=pgc-h-arrow-right>äº”ã€ä»»å‹™ç©å£“ç›£æ§</h1><p>ç”Ÿæˆä¸€å€‹æ¶ˆæ¯ï¼Œå°±å› ç‚ºæœ‰ä¸€å€‹è™•ç†è©²æ¶ˆæ¯çš„ä»»å‹™è¦åŸ·è¡Œï¼Œé€™å°±å°è‡´ä»»å‹™å¯èƒ½å‡ºç¾ç©å£“çš„æƒ…æ³ï¼Œå¸¸è¦‹åŸå› å¤§è‡´æœ‰å¦‚ä¸‹å¹¾å€‹ï¼š</p><ul><li>ä»»å‹™ç”¢ç”Ÿçš„æœå‹™éå¤šï¼Œä»»å‹™è™•ç†çš„æœå‹™éå°‘ï¼Œä¸å‡è¡¡ï¼›</li><li>ä»»å‹™è™•ç†æ™‚é–“å¤ªé•·ï¼Œä¹Ÿå°è‡´ç”Ÿç”¢éå‰©ï¼›</li><li>ä¸­é–“ä»¶æœ¬èº«å®¹é‡åå°ï¼Œéœ€è¦æ“´å®¹æˆ–é›†ç¾¤åŒ–ç®¡ç†ï¼›</li></ul><p>å¦‚æœä»»å‹™ç©å£“éå¤šï¼Œå¯èƒ½è¦å°ä»»å‹™ç”Ÿæˆé€²è¡Œæµé‡æ§åˆ¶ï¼Œæˆ–è€…æå‡ä»»å‹™çš„è™•ç†èƒ½åŠ›ï¼Œå¾è€Œé¿å…é›ªå´©æƒ…æ³ã€‚</p><hr><p><strong>&lt;END></strong></p><p><strong>æ¨è–¦é–±è®€ï¼šæºç¢¼ -> </strong><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6701651490785722883/?group_id=6701651490785722883" rel="noopener noreferrer" target=_blank>GitHub || GitEE</a></p><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6816329819559559687/?group_id=6816329819559559687" rel="noopener noreferrer" target=_blank>æ¶æ§‹è¨­è¨ˆåŸºç¤ï¼šå–®æœå‹™.é›†ç¾¤.åˆ†ä½ˆå¼ï¼ŒåŸºæœ¬å€åˆ¥å’Œè¯ç¹«</a></p><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6820410513097228812/?group_id=6820410513097228812" rel="noopener noreferrer" target=_blank>æ¶æ§‹è¨­è¨ˆ | åˆ†ä½ˆå¼æ¥­å‹™ç³»çµ±ä¸­ï¼Œå…¨å±€IDç”Ÿæˆç­–ç•¥</a></p><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6825238454146695694/?group_id=6825238454146695694" rel="noopener noreferrer" target=_blank>æ¶æ§‹è¨­è¨ˆ | åˆ†ä½ˆå¼ç³»çµ±èª¿åº¦ï¼ŒZookeeperé›†ç¾¤åŒ–ç®¡ç†</a></p><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6829659140554490380/?group_id=6829659140554490380" rel="noopener noreferrer" target=_blank>æ¶æ§‹è¨­è¨ˆ | æ¥å£å†ªç­‰æ€§åŸå‰‡ï¼Œé˜²é‡è¤‡æäº¤Tokenç®¡ç†</a></p><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6831133787263336972/?group_id=6831133787263336972" rel="noopener noreferrer" target=_blank>æ¶æ§‹è¨­è¨ˆ | ç·©å­˜ç®¡ç†æ¨¡å¼ï¼Œç›£æ§å’Œå…§å­˜å›æ”¶ç­–ç•¥</a></p><div class=tt-column-card data-content='{"new_thumb_url": "http://sf1-ttcdn-tos.pstatp.com/img/pgc-image/0d275c8faa0d42518fe1eb8c420154b3", "title": "\u5fae\u670d\u52a1\u67b6\u6784\u5b9e\u6218", "url": "", "price": 9.9, "column_id": "6746902053190107395", "content": "", "author_description": "\u77e5\u4e86\u4e00\u7b11", "share_price": 1.58, "thumb_url": "http://p3.pstatp.com/large/pgc-image/0d275c8faa0d42518fe1eb8c420154b3", "sold": 12}'><p class=column-placeholder></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>æ¶æ§‹</a></li><li><a>è¨­è¨ˆ</a></li><li><a>ç•°æ­¥</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/104725e.html alt=å¾é€™5å€‹æ–¹é¢åšå¥½ç³»çµ±æ¶æ§‹è¨­è¨ˆï¼Œå¯é™ä½é–‹ç™¼æˆæœ¬ï¼Œæå‡ä¸€å€æ•ˆç‡ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/7762a9ac-be38-45b5-8433-c76ec23f20ac style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/104725e.html title=å¾é€™5å€‹æ–¹é¢åšå¥½ç³»çµ±æ¶æ§‹è¨­è¨ˆï¼Œå¯é™ä½é–‹ç™¼æˆæœ¬ï¼Œæå‡ä¸€å€æ•ˆç‡>å¾é€™5å€‹æ–¹é¢åšå¥½ç³»çµ±æ¶æ§‹è¨­è¨ˆï¼Œå¯é™ä½é–‹ç™¼æˆæœ¬ï¼Œæå‡ä¸€å€æ•ˆç‡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8918943.html alt=è„«æ–™æ¶æ§‹çš„è¨­è¨ˆåŸç†é€™éº¼è¬›ç©¶ï¼Œé€Ÿçœ‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/5d85d87f03834ea985c9dd4bac5e72b1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8918943.html title=è„«æ–™æ¶æ§‹çš„è¨­è¨ˆåŸç†é€™éº¼è¬›ç©¶ï¼Œé€Ÿçœ‹>è„«æ–™æ¶æ§‹çš„è¨­è¨ˆåŸç†é€™éº¼è¬›ç©¶ï¼Œé€Ÿçœ‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9bd6b239.html alt=é‹¼æ§‹äººç¦åˆ©â€”â€”é‹¼çµæ§‹è¨­è¨ˆç¶“å…¸å•é¡Œè§£è®€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a72bd60ea48d471b8ce03ebf0ce15869 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9bd6b239.html title=é‹¼æ§‹äººç¦åˆ©â€”â€”é‹¼çµæ§‹è¨­è¨ˆç¶“å…¸å•é¡Œè§£è®€>é‹¼æ§‹äººç¦åˆ©â€”â€”é‹¼çµæ§‹è¨­è¨ˆç¶“å…¸å•é¡Œè§£è®€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6bbe6ec4.html alt=é‹¼ç®¡æ··å‡åœŸçµæ§‹è¨­è¨ˆåŸç†åŠåœ¨å¼·éœ‡å€æ©‹æ¨‘çµæ§‹ç ”ç©¶æˆæœé”åœ‹éš›é ˜å…ˆ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/153569494612546362474a9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6bbe6ec4.html title=é‹¼ç®¡æ··å‡åœŸçµæ§‹è¨­è¨ˆåŸç†åŠåœ¨å¼·éœ‡å€æ©‹æ¨‘çµæ§‹ç ”ç©¶æˆæœé”åœ‹éš›é ˜å…ˆ>é‹¼ç®¡æ··å‡åœŸçµæ§‹è¨­è¨ˆåŸç†åŠåœ¨å¼·éœ‡å€æ©‹æ¨‘çµæ§‹ç ”ç©¶æˆæœé”åœ‹éš›é ˜å…ˆ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6d006e47.html alt=é‹¼çµæ§‹è¨­è¨ˆåŸºç¤çŸ¥è­˜å•ç­” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/63b48928-d7cd-4346-b80f-4f77015517c1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6d006e47.html title=é‹¼çµæ§‹è¨­è¨ˆåŸºç¤çŸ¥è­˜å•ç­”>é‹¼çµæ§‹è¨­è¨ˆåŸºç¤çŸ¥è­˜å•ç­”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0dc64d99.html alt=38å€‹é‹¼çµæ§‹è¨­è¨ˆå•é¡Œï¼Œéƒ½å¾ˆå¸¸è¦‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/f1181ce8-cf01-4194-b9c2-362f43894ddb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0dc64d99.html title=38å€‹é‹¼çµæ§‹è¨­è¨ˆå•é¡Œï¼Œéƒ½å¾ˆå¸¸è¦‹>38å€‹é‹¼çµæ§‹è¨­è¨ˆå•é¡Œï¼Œéƒ½å¾ˆå¸¸è¦‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b6fd930e.html alt=æ­¥æ­¥è§£ææ©‹æ¨‘è¨­è¨ˆè¨ˆç®—ï¼Œä¸å¯éŒ¯éçš„ä¸€ç¯‡ä¹¾è²¨ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d88dd927b4f2474fbe4ea261c2397ba8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b6fd930e.html title=æ­¥æ­¥è§£ææ©‹æ¨‘è¨­è¨ˆè¨ˆç®—ï¼Œä¸å¯éŒ¯éçš„ä¸€ç¯‡ä¹¾è²¨>æ­¥æ­¥è§£ææ©‹æ¨‘è¨­è¨ˆè¨ˆç®—ï¼Œä¸å¯éŒ¯éçš„ä¸€ç¯‡ä¹¾è²¨</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/97b90000.html alt=çµæ§‹è¨­è¨ˆã€æ ¡å°ã€å¯©æ ¸ä¸‰å­—ç¶“ï¼Œé€Ÿé€Ÿæ”¶è— class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/97b90000.html title=çµæ§‹è¨­è¨ˆã€æ ¡å°ã€å¯©æ ¸ä¸‰å­—ç¶“ï¼Œé€Ÿé€Ÿæ”¶è—>çµæ§‹è¨­è¨ˆã€æ ¡å°ã€å¯©æ ¸ä¸‰å­—ç¶“ï¼Œé€Ÿé€Ÿæ”¶è—</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fd0540fa.html alt=è§£ææ©‹æ¨‘è¨­è¨ˆè¨ˆç®— class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/fa4d0bcf2a204a2fac9b37978b1b0713 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fd0540fa.html title=è§£ææ©‹æ¨‘è¨­è¨ˆè¨ˆç®—>è§£ææ©‹æ¨‘è¨­è¨ˆè¨ˆç®—</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/83530974.html alt=è§£ææ©‹æ¨‘è¨­è¨ˆè¨ˆç®—ï¼Œä¸å¯éŒ¯éçš„ä¸€ç¯‡ä¹¾è²¨ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/af9ca7f120da4e23b0ca589375e05dd2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/83530974.html title=è§£ææ©‹æ¨‘è¨­è¨ˆè¨ˆç®—ï¼Œä¸å¯éŒ¯éçš„ä¸€ç¯‡ä¹¾è²¨>è§£ææ©‹æ¨‘è¨­è¨ˆè¨ˆç®—ï¼Œä¸å¯éŒ¯éçš„ä¸€ç¯‡ä¹¾è²¨</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e8b9b44c.html alt=è¨­è¨ˆå¸«è§£ææ©‹æ¨‘è¨­è¨ˆè¨ˆç®—ï¼ŒéŒ¯éäº†å°±æ²’æœ‰æ©Ÿæœƒ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e01645937bda4ae7a7f148666ff89117 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e8b9b44c.html title=è¨­è¨ˆå¸«è§£ææ©‹æ¨‘è¨­è¨ˆè¨ˆç®—ï¼ŒéŒ¯éäº†å°±æ²’æœ‰æ©Ÿæœƒ>è¨­è¨ˆå¸«è§£ææ©‹æ¨‘è¨­è¨ˆè¨ˆç®—ï¼ŒéŒ¯éäº†å°±æ²’æœ‰æ©Ÿæœƒ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/24a6006e.html alt=æœå‹™å™¨æ¶æ§‹ï¼šåå¼µåœ–å¸¶ä½ ç­è§£å¤§å‹ç¶²ç«™æ¶æ§‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/2af10e2429bc47a5823244277a07bb77 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/24a6006e.html title=æœå‹™å™¨æ¶æ§‹ï¼šåå¼µåœ–å¸¶ä½ ç­è§£å¤§å‹ç¶²ç«™æ¶æ§‹>æœå‹™å™¨æ¶æ§‹ï¼šåå¼µåœ–å¸¶ä½ ç­è§£å¤§å‹ç¶²ç«™æ¶æ§‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/15d8539d.html alt=ç¶“å…¸è¨­è¨ˆå»¶çºŒè‡³ä»Šçš„çƒå°¼è«å…‹403è¬èƒ½å¡è»Š class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/132ba54553374c7eb2c0a9c155bba041 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/15d8539d.html title=ç¶“å…¸è¨­è¨ˆå»¶çºŒè‡³ä»Šçš„çƒå°¼è«å…‹403è¬èƒ½å¡è»Š>ç¶“å…¸è¨­è¨ˆå»¶çºŒè‡³ä»Šçš„çƒå°¼è«å…‹403è¬èƒ½å¡è»Š</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/69536588.html alt=ç·šçºœè¨­è¨ˆåˆç´šèª²ç¨‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1532759411210988051a0cb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/69536588.html title=ç·šçºœè¨­è¨ˆåˆç´šèª²ç¨‹>ç·šçºœè¨­è¨ˆåˆç´šèª²ç¨‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/219919c3.html alt=æ¢¯åº¦æ•ˆæœçš„å‰µæ„Logoè¨­è¨ˆæ¡ˆä¾‹åˆ†äº«ï¼ˆ1ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15226471428904df67cc724 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/219919c3.html title=æ¢¯åº¦æ•ˆæœçš„å‰µæ„Logoè¨­è¨ˆæ¡ˆä¾‹åˆ†äº«ï¼ˆ1ï¼‰>æ¢¯åº¦æ•ˆæœçš„å‰µæ„Logoè¨­è¨ˆæ¡ˆä¾‹åˆ†äº«ï¼ˆ1ï¼‰</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>