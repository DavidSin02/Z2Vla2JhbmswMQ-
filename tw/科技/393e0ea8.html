<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ | æå®¢å¿«è¨Š</title><meta property="og:title" content="springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/fb037e70190b458d9f24f56fef7a85d7"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/393e0ea8.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/393e0ea8.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/393e0ea8.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/393e0ea8.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/393e0ea8.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/393e0ea8.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/393e0ea8.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/393e0ea8.html><meta property="article:published_time" content="2020-11-14T21:04:29+08:00"><meta property="article:modified_time" content="2020-11-14T21:04:29+08:00"><meta name=Keywords content><meta name=description content="springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/393e0ea8.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p>ä½¿ç”¨è¨»è§£é…ç½®springï¼Œéœ€è¦ä»¥ä¸‹å¹¾å€‹æ­¥é©Ÿï¼š</p><p>éœ€è¦å°å…¥ä¸€å€‹åŒ…ï¼š</p><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/fb037e70190b458d9f24f56fef7a85d7><p class=pgc-img-caption></p></div><p><br></p><p>æ­¥é©Ÿ1ï¼šéœ€è¦ç‚ºä¸»é…ç½®æ–‡ä»¶å¼•å…¥æ–°çš„å‘½åç©ºé–“ï¼ˆç´„æŸï¼‰ï¼Œå’Œä¹‹å‰ä»‹ç´¹çš„ä¸€æ¨£ï¼Œå°å…¥æ–°çš„ç´„æŸï¼š</p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4da26c639057465f9a090e469f98e919><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ba06df1c52a74233a21cd14a850183d4><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/5d512a2d066e49e29efcc9f222f09980><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/552e4e21c0ba4702b24bea12acd7e64d><p class=pgc-img-caption></p></div><p>ç„¶å¾Œåœ¨application.xmlçš„Designä¸­å³æ“Šbeans</p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/53e40986bf8146da94fc6a93ec53c48a><p class=pgc-img-caption></p></div><p>ç„¶å¾ŒAdd</p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c64f4857747e4b15964bdb1d5d9fde67><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3ae317de62d54bbca1ae15ead89a83b4><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d41ce214201d4562a4994f40b1207d55><p class=pgc-img-caption></p></div><p>é€™è£¡é¢çš„å‘½åç©ºé–“ä½¿ç”¨contextï¼Œéœ€è¦æŒ‡å®šï¼Œé€™æ˜¯å› ç‚ºåœ¨ä¹‹å‰å°å…¥Beanå‘½åç©ºé–“çš„æ™‚å€™æ²’æœ‰æŒ‡å®šï¼Œè€Œæ²’æœ‰æŒ‡å®šçš„åªèƒ½æœ‰ä¸€å€‹ï¼Œå¤šå€‹å°±æœƒå‡ºå•é¡Œï¼Œæ‰€ä»¥ä»¥å¾Œåœ¨å°å…¥å‘½åç©ºé–“éƒ½éœ€è¦æŒ‡å®šprofix</p><p><strong>2.é–‹å•Ÿä½¿ç”¨è¨»è§£ä»£ç†é…ç½®æ–‡ä»¶</strong></p><p>&lt;context:component-scan base-package="com.huanfeng.bean">&lt;/context:component-scan></p><p>é€™å€‹é…ç½®çš„å°±æ˜¯èªªspringæœƒå»com.huanfeng.beanä¸­æƒææ‰€æœ‰çš„è¨»è§£ï¼ˆåŒ…æ‹¬beanåŒ…ä¸‹é¢çš„æ‰€æœ‰é¡ä»¥åŠå­åŒ…ä¸‹çš„æ‰€æœ‰é¡ï¼‰ï¼Œé‚£éº¼æˆ‘å€‘ä¸‹é¢å°±å¯ä»¥åœ¨com.huanfeng.beanä¸‹çš„æ‰€æœ‰é¡ä¸­ä½¿ç”¨è¨»è§£é…ç½®æ–‡ä»¶äº†</p><p><strong>3.åœ¨é¡ä¸­ä½¿ç”¨è¨»è§£é…ç½®æ–‡ä»¶</strong></p><p><strong>@Component("user")</strong></p><p><strong>é€™å€‹é…ç½®åœ¨é¡ä¸Šï¼Œè¡¨ç¤ºç‚ºé¡å‰µå»ºä¸€å€‹å°è±¡ï¼Œé€™å€‹å°è±¡çš„åå­—æ˜¯user</strong></p><p><strong>@Service("user")</strong></p><p><strong>@Controller("user")</strong></p><p><strong>@Repository("user")</strong></p><p><strong>ä»¥ä¸Šçš„ä¸‰å€‹è¨»è§£å’Œ@Componentæ•ˆæœæ˜¯ä¸€æ¨£çš„ï¼Œæœ‰æ™‚å€™ç‚ºäº†å°‡é–‹ç™¼è€…æ¸…æ™°ï¼Œæ‰€ä»¥å¸¸å¸¸ä½¿ç”¨@Serviceåœ¨serviceå±¤ï¼Œä½¿ç”¨Controlleråœ¨webå±¤ï¼Œä½¿ç”¨Repositoryåœ¨daoå±¤</strong></p><p><strong>@Scope(scopeName="singleton")</strong></p><p><strong>é€™å€‹é…ç½®åœ¨é¡ä¸Šï¼Œè¡¨ç¤ºé€™å€‹é¡åªå‰µå»ºä¸€å€‹å°è±¡</strong></p><p><strong>@Value("18")</strong></p><p><strong>private Integer age</strong></p><p><strong>é€™å€‹æ˜¯é…ç½®ç›´æ¥ç‚ºå±¬æ€§è³¦å€¼ï¼Œä½¿ç”¨äº†åå°„çš„æ–¹å¼ï¼Œç²å–åˆ°Fieldç„¶å¾Œè³¦å€¼</strong></p><p>@Value("huanfeng")</p><p>public void setName(String name){</p><p>this.name=name</p><p>}</p><p>ä»¥ä¸Šæ˜¯åŸºæœ¬é¡å‹ï¼Œå¦‚æœä½¿ç”¨å¼•ç”¨é¡å‹å±¬æ€§å¯ä»¥ï¼š</p><p>@Autowired</p><p>private Car car</p><p>è‡ªå‹•è£é…ï¼Œspringæœƒå»å°‹æ‰¾carå°è±¡è³¦å€¼çµ¦é€™å€‹å±¬æ€§ï¼Œä½†æ˜¯ç•¶é€™ç¨®é¡å‹çš„å°è±¡å¾ˆå¤šæ™‚ï¼Œå°‡å‡ºå•é¡Œ</p><p>@Qualifier("car")</p><p>private Car car</p><p>è‡ªå‹•è£é…ï¼Œspringæœƒå»å°‹æ‰¾åç‚ºcarçš„carå°è±¡è³¦å€¼çµ¦é€™å€‹å±¬æ€§</p><p>@Resource(name="car")</p><p>private Car car</p><p>æ‰‹å‹•æ³¨å…¥ï¼ŒæŒ‡å®šæ³¨å…¥nameç‚ºcarçš„å°è±¡</p><p>éœ€è¦æ³¨æ„çš„æ˜¯è¦æƒ³æ³¨å…¥carï¼Œéœ€è¦åœ¨Caré¡ä¸Šä½¿ç”¨@Componentä¾†è¨»æ˜</p><p>é€™å€‹æ˜¯é…ç½®ä½¿ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œé€™å€‹è¡¨ç¤ºèª¿ç”¨setNameæ–¹æ³•å‚³éåƒæ•¸huanfengï¼Œå®Œæˆç‚ºå±¬æ€§nameçš„è³¦å€¼å·¥ä½œï¼Œé€™å€‹æ˜¯å’Œä¸Šé¢çš„ç‚ºageå±¬æ€§è³¦å€¼æ˜¯ä¸€æ¨£çš„ï¼Œä¸åŒçš„æ˜¯é€™è£¡æ²’æœ‰ä½¿ç”¨åå°„</p><p>@PostConstruct</p><p>public void init(){...}</p><p>ä½¿ç”¨é€™å€‹è¨»è§£çš„æ–¹æ³•æœƒæˆç‚ºåˆå§‹åŒ–æ–¹æ³•ï¼Œåœ¨å®¹å™¨å‰µå»ºå°è±¡çš„æ™‚å€™å°±æœƒè‡ªå‹•èª¿ç”¨</p><p>@PreDestroy</p><p>public void destory(){..}</p><p>ä½¿ç”¨é€™å€‹è¨»è§£çš„æ–¹æ³•æœƒæˆç‚ºéŠ·ç‡¬æ–¹æ³•ï¼Œåœ¨å®¹å™¨éŠ·ç‡¬é€™å€‹å°è±¡ä¹‹å‰æœƒè‡ªå‹•èª¿ç”¨</p><pre><code>@Component("user")@Scope(scopeName="singleton")public class User {	@Value("huanfeng")	private String name;	@Value("11")	private Integer age;	@Resource(name="car")	private Car car;		public User(String name,Integer age,Car car) {		System.out.println("åŸ·è¡Œäº†æ§‹é€ æ–¹æ³•");		this.name=name;		this.age=age;		this.car=car;	}	public Car getCar() {		return car;	}	public void setCar(Car car) {		this.car = car;	}	public User() {		System.out.println("ssas");	}	public String getName() {		return name;	}	public void setName(String name) {		this.name = name;	}	public Integer getAge() {		return age;	}	public void setAge(Integer age) {		this.age = age;	}	@PostConstruct	public void init() {		System.out.println("åˆå§‹åŒ–");	}	@PreDestroy	public void destroy() {		System.out.println("éŠ·ç‡¬æ–¹æ³•");	}	public String toString() {		return this.age+this.name+this.car.getName();	}	}</code></pre><h1 class=pgc-h-arrow-right>springä¸­å®‰è£stsæ’ä»¶</h1><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/be15d7c3404c4bef81190169a9ca7baf><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/597a1e2a373e4383b19769a1bd021265><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cf050de3e47e44459e01090b66b174ad><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/fb15981ba94d4800923d1f714f816a1c><p class=pgc-img-caption></p></div><p>ä¹‹å¾Œæœƒç­‰å¾ˆé•·çš„ä¸€æ®µæ™‚é–“</p><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/77638b86be354285baa699e554efd0c0><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/02dbb7d1f13942b5a2dfee02ea2377fa><p class=pgc-img-caption></p></div><p>æˆ‘å€‘ç„¡è«–æ˜¯ä½¿ç”¨è¨»è§£ä¾†é…ç½®é‚„æ˜¯ä½¿ç”¨é…ç½®æ–‡ä»¶ä¾†é…ç½®ï¼Œé‚£éº¼æˆ‘å€‘éƒ½éœ€è¦æ¸¬è©¦æ˜¯å¦é…ç½®æˆåŠŸï¼š</p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/18e2895cf54247a5bcc1b223e1eb1157><p class=pgc-img-caption></p></div><p><br></p><pre><code>import org.junit.Test;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;import org.springframework.core.env.SystemEnvironmentPropertySource;import com.huanfeng.bean.Complex;import com.huanfeng.bean.User;public class Demo {	@Test	public void fun1(){		//1 å‰µå»ºå®¹å™¨å°è±¡		ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml");		//2 å‘å®¹å™¨"è¦"userå°è±¡		User c = (User) ac.getBean("user");		//3 æ‰“å°userå°è±¡		System.out.println(c);	}}</code></pre><p>é€™æ¨£çš„æ¸¬è©¦æ–¹å¼ï¼Œæ¯æ¬¡å‰µå»ºä¸€å€‹æ¸¬è©¦æ–¹æ³•éƒ½éœ€è¦å‰µå»ºä¸€å€‹å®¹å™¨å°è±¡ï¼Œç„¶å¾Œç²å–åˆ°å®¹å™¨ä¸­çš„æ–¹æ³•ï¼Œspringå°å…¶é€²è¡Œäº†æ•´åˆï¼Œä½¿ç”¨è¨»è§£çš„æ–¹å¼ï¼Œæ–¹ä¾¿è¼•é¬†</p><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/648a17495ec44e6e98fff674cbbf84d2><p class=pgc-img-caption></p></div><p>å¦‚åœ–æ‰€ç¤ºï¼Œæˆ‘å€‘ç¾éœ€è¦ä¸‰å€‹æ­¥é©Ÿï¼Œ</p><p>ç¬¬ä¸€æ­¥æ˜¯ä½¿ç”¨è¨»è§£è®“springå¹«åŠ©æˆ‘å€‘å‰µå»ºå®¹å™¨</p><p>ç¬¬äºŒæ­¥æ˜¯åŸ·è¡Œå‰µå»ºå®¹å™¨çš„æ™‚å€™ä½¿ç”¨å“ªå€‹é…ç½®æ–‡ä»¶</p><p>ç¬¬ä¸‰æ­¥æ˜¯æˆ‘å€‘æƒ³è¦æ¸¬è©¦å“ªå€‹é¡ï¼Œæˆ‘å€‘å°±å¯«ä¸€å€‹å±¬æ€§ï¼Œç„¶å¾Œè¨»è§£é€™å€‹å±¬æ€§ï¼Œé‚£éº¼springå°±æœƒå°‡é€™å€‹å°è±¡è³¦å€¼çµ¦é€™å€‹å±¬æ€§ï¼Œä¹‹å¾Œæˆ‘å€‘å°±å¯ä»¥é€²è¡Œæ¸¬è©¦äº†ã€‚</p><pre><code>package com.huanfeng.shiyan;import javax.annotation.Resource;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;import org.springframework.core.env.SystemEnvironmentPropertySource;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import com.huanfeng.bean.Complex;import com.huanfeng.bean.User;//å¹«æˆ‘å€‘å‰µå»ºå®¹å™¨@RunWith(SpringJUnit4ClassRunner.class)//æŒ‡å®šå‰µå»ºå®¹å™¨æ™‚ä½¿ç”¨å“ªå€‹é…ç½®æ–‡ä»¶@ContextConfiguration("classpath:applicationContext.xml")public class Demo {	//å°‡åç‚ºuserçš„å°è±¡æ³¨å…¥åˆ°uè®Šé‡ä¸­	@Resource(name="user")	private User u;	@Test	public void fun1(){		System.out.println(u);	}}</code></pre><h1 class=pgc-h-arrow-right>aop</h1><p>aopçš„æ ¸å¿ƒæ€æƒ³</p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6049d0bcbb5a4d1a83bc078a6209f66a><p class=pgc-img-caption></p></div><p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨filterä¾†æ””æˆªè«‹æ±‚ï¼Œåœ¨filterå…§éƒ¨ä½¿ç”¨å‹•æ…‹ä»£ç†ä¾†è§£æ±ºrequestçš„äº‚ç¢¼å•é¡Œï¼Œé€™å°±æ˜¯aopçš„æ€æƒ³ï¼Œspringå¯ä»¥å¹«åŠ©æˆ‘å€‘ç”Ÿæˆä»£ç†å°è±¡ï¼Œspringæœ‰å…©ç¨®ä»£ç†æ–¹å¼ï¼š</p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c49c92cac298465f9296e1eb1f9cba8a><p class=pgc-img-caption></p></div><p>è¦æ˜¯ä½¿ç”¨å‹•æ…‹ä»£ç†éœ€è¦æ³¨æ„çš„æ˜¯è¢«ä»£ç†å°è±¡å¿…é ˆè¦å¯¦ç¾æ¥å£æ‰èƒ½ç”¢ç”Ÿä»£ç†å°è±¡</p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15a4e5dd33b646e2ad0fe1327ad1fa74><p class=pgc-img-caption></p></div><p>åœ¨è¢«ä»£ç†å°è±¡ä¸­å¦‚æœæ²’æœ‰å¯¦ç¾æ¥å£ï¼Œé‚£éº¼æ²’æœ‰è¾¦æ³•ä½¿ç”¨å‹•æ…‹ä»£ç†æŠ€è¡“</p><p>cglibä»£ç†æŠ€è¡“å¯ä»¥å°ä»»ä½•é¡ç”Ÿæˆä»£ç†ï¼Œä»£ç†çš„åŸç†æ˜¯å°ç›®æ¨™å°è±¡é€²è¡Œç¹¼æ‰¿ä»£ç†ï¼Œæ¯”å¦‚æˆ‘å€‘å°Aé¡é€²è¡Œcglibä»£ç†ï¼Œå¯¦éš›ä¸Šç”Ÿæˆçš„é€™å€‹ä»£ç†å°è±¡æ˜¯Aé¡çš„å­é¡</p><p>springæœƒå„ªå…ˆä½¿ç”¨å‹•æ…‹ä»£ç†æŠ€è¡“</p><p>æˆ‘å€‘å…ˆä¾†çœ‹çœ‹æ‰‹å‹•æ˜¯å¦‚ä½•å®‰æ’çš„ï¼Œä¸‹é¢é€šéä¸€å€‹å…·é«”ä¾‹å­ä¾†èªªæ˜</p><p>å…·é«”èªªæ˜¯æ‰‹å‹•çš„ä½¿ç”¨å‹•æ…‹ä»£ç†æŠ€è¡“ä¾†å®Œæˆå°serviceçš„å¢å¼·ï¼Œä¹Ÿå°±æ˜¯èªªåœ¨serviceä¸­é–‹å•Ÿäº‹å‹™</p><p>æˆ‘å€‘å…ˆä¾†å»ºç«‹ä¸€å€‹Serviceçš„æ¥å£ï¼š</p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5d7b354bd2c949c38f13503db3971c6d><p class=pgc-img-caption></p></div><p>é€™å€‹serviceæœ‰å…©å€‹æ–¹æ³•ï¼Œä¸€å€‹æ–¹æ³•æ˜¯å¢åŠ æ–¹æ³•ï¼Œå¦å¤–ä¸€å€‹æ–¹æ³•æ˜¯åˆªé™¤æ–¹æ³•ï¼Œç„¶å¾Œå‰µå»ºServiceé¡å¾è€Œå¯¦ç¾é€™å€‹æ¥å£ï¼š</p><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/29f8ded1fb234db9ac8a298cb0b5c74c><p class=pgc-img-caption></p></div><p><br></p><pre><code>package com.huanfeng.service;public class UserServiceImpl implements UserService {	@Override	public void add() {		//é€™è£¡çš„å·¥ä½œæ˜¯å¢åŠ user		System.out.println("å¢åŠ ");	}	@Override	public void delete() {		//é€™è£¡çš„å·¥ä½œæ˜¯åˆªé™¤user		System.out.println("åˆªé™¤");	}}</code></pre><p>æŒ‰ç…§ä¹‹å‰çš„æ™‚å€™æ–¹æ³•æ˜¯ç›´æ¥ä½¿ç”¨Seriveå°±å¯ä»¥äº†ï¼Œä½†æ˜¯æ­¤æ™‚çš„Serviceä¸¦æ²’æœ‰é–‹å•Ÿäº‹å‹™ï¼Œç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨å‹•æ…‹ä»£ç†æŠ€è¡“ï¼Œä¾†å°é€™å€‹Serviceé€²è¡Œå¢å¼·</p><p>é¦–å…ˆå‰µå»ºä¸€å€‹å‹•æ…‹ä»£ç†é¡UserServiceProxyFactory</p><pre><code>package com.huanfeng.proxy;import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;import java.lang.reflect.Proxy;import com.huanfeng.service.UserService;import com.huanfeng.service.UserServiceImpl;public class UserServiceProxyFactory implements InvocationHandler{	private UserService us;	public UserServiceProxyFactory(UserService us){		super();		this.us=us;	}	public UserService getUserServiceProxy() {		UserService userServiceProxy=(UserService) Proxy.newProxyInstance(UserServiceProxyFactory.class.getClassLoader(),UserServiceImpl.class.getInterfaces(),this);		return userServiceProxy;	}	@Override	public Object invoke(Object arg0, Method method, Object[] arg2) throws Throwable {		System.out.println("é–‹å•Ÿäº‹å‹™");		Object invoke=method.invoke(us, arg2);		System.out.println("é—œé–‰äº‹å‹™");		return invoke;	}}</code></pre><p>é¦–å…ˆé€™å€‹é¡æœ‰ä¸€å€‹å‹•æ…‹ä»£ç†UserServiceçš„æ–¹æ³•ï¼Œé€™å€‹getUserServiceProxyæ–¹æ³•ä¸­ä½¿ç”¨proxy.newProxyInstanceæ–¹æ³•ï¼Œé€™å€‹æ–¹æ³•å‚³éä¸‰å€‹åƒæ•¸ï¼Œç¬¬ä¸€å€‹åƒæ•¸æ˜¯ä¸€å€‹é¡åŠ è¼‰å™¨ï¼ˆéš¨ä¾¿ä¸€å€‹éƒ½è¡Œï¼‰ï¼Œç¬¬äºŒå€‹åƒæ•¸æ˜¯éœ€è¦ä»£ç†é¡çš„æ¥å£ï¼Œç¬¬ä¸‰å€‹æ˜¯InvokeHandleræ¥å£ï¼Œå› ç‚ºæˆ‘å€‘çš„é€™å€‹ä»£ç†é¡å¯¦ç¾äº†InvokeHandleræ¥å£ï¼Œæ‰€ä»¥æˆ‘å€‘åªéœ€è¦å‚³éåƒæ•¸thiså°±å¥½äº†ï¼Œç„¶å¾Œå› ç‚ºå¯¦ç¾äº†é€™å€‹æ¥å£ï¼Œæ‰€ä»¥éœ€è¦é‡å¯«å…¶invokeæ–¹æ³•ï¼Œé€™å€‹æ–¹æ³•çš„ä¸»è¦åƒæ•¸ç¬¬äºŒå€‹æ˜¯å¢å¼·çš„æ–¹æ³•ï¼Œç¬¬ä¸‰å€‹æ˜¯æ–¹æ³•çš„åƒæ•¸ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥åœ¨invokeæ–¹æ³•é€²è¡Œå…§éƒ¨èª¿ç”¨ï¼Œåœ¨èª¿ç”¨å‰å¾Œé€²è¡Œæ–¹æ³•çš„å¢å¼·å·¥ä½œã€‚</p><pre><code>@Test	public void fun3() {		UserService us=new UserServiceImpl();		UserServiceProxyFactory factory=new UserServiceProxyFactory(us);		UserService usProxy=factory.getUserServiceProxy();		usProxy.add();	}</code></pre><p>é¦–å…ˆæˆ‘å€‘å‰µå»ºä¸€å€‹Serviceï¼Œç„¶å¾Œå‰µå»ºå‹•æ…‹ä»£ç†é¡ä¸¦å°‡é€™å€‹Serviceä½œç‚ºåƒæ•¸å‚³éã€‚èª¿ç”¨getUserServiceProxyæ–¹æ³•å°±å¯ä»¥ç²å–åˆ°é€™å€‹Serviceçš„ä»£ç†é¡äº†ï¼Œä¹‹å¾Œåªè¦èª¿ç”¨é€™å€‹æ–¹æ³•ï¼Œå…¶å¯¦å®ƒéƒ½æœƒèµ°ä»£ç†é¡çš„invokeæ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥åœ¨å…§éƒ¨å°å…¶é€²è¡Œå¢å¼·äº†ã€‚</p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/7a6d58adf7cd4d3ba43406c0d6ecf4c7><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d7f08ee0beeb4e009144b4365f5b0f62><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9dd96c9d14394684980c9d6b7cd063a5><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>springä¸­aopçš„ä½¿ç”¨</h1><p>å°å ±ï¼š</p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b983474fb62e480e9dc5aecf3424b40e><p class=pgc-img-caption></p></div><p>å°å…¥aopçš„ç´„æŸï¼š</p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/fd8556412b1349c8ba8c39e977980b5e><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9613735406524b6fae39e7e036d57573><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/06a1e1aebfe3496b82b2566c27eb6177><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2f62121cadfa4a46991e4b1f8ae219c0><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e10103b08bbc4d4f8b95a18daf892211><p class=pgc-img-caption></p></div><p><strong>ç¬¬ä¸€å‰µå»ºç›®æ¨™å°è±¡</strong></p><pre><code>public interface UserService {	public void add();	public void delete();}</code></pre><pre><code>public class UserServiceImpl implements UserService {	@Override	public void add() {		//é€™è£¡çš„å·¥ä½œæ˜¯å¢åŠ user		System.out.println("å¢åŠ ");	}	@Override	public void delete() {		//é€™è£¡çš„å·¥ä½œæ˜¯åˆªé™¤user		System.out.println("åˆªé™¤");	}}</code></pre><p><strong>ç¬¬äºŒ:è¨­è¨ˆé€šçŸ¥</strong></p><p><strong>è¨­è¨ˆä¸€å€‹é¡ï¼Œé€™å€‹é¡ä¸­å°ˆé–€å­˜æ”¾éœ€è¦ä»£ç†å°è±¡çš„é€šçŸ¥ï¼Œé€šçŸ¥ç¸½å…±åˆ†ç‚ºäº”ç¨®ï¼š</strong></p><p>å‰ç½®é€šçŸ¥ ï¼šç›®æ¨™æ–¹æ³•é‹è¡Œä¹‹å‰èª¿ç”¨</p><p>å¾Œç½®é€šçŸ¥(å¦‚æœå‡ºç¾ç•°å¸¸ä¸æœƒèª¿ç”¨):åœ¨ç›®æ¨™æ–¹æ³•é‹è¡Œä¹‹å¾Œèª¿ç”¨</p><p>ç’°ç¹é€šçŸ¥:åœ¨ç›®æ¨™æ–¹æ³•ä¹‹å‰å’Œä¹‹å¾Œéƒ½èª¿ç”¨</p><p>ç•°å¸¸æ””æˆªé€šçŸ¥:å¦‚æœå‡ºç¾ç•°å¸¸,å°±æœƒèª¿ç”¨</p><p>å¾Œç½®é€šçŸ¥(ç„¡è«–æ˜¯å¦å‡ºç¾ ç•°å¸¸éƒ½æœƒèª¿ç”¨):åœ¨ç›®æ¨™æ–¹æ³•é‹è¡Œä¹‹å¾Œèª¿ç”¨</p><pre><code>package com.huang.aop;import org.aspectj.lang.ProceedingJoinPoint;public class MyAdvice {	//å‰ç½®é€šçŸ¥		public void before(){			System.out.println("é€™æ˜¯å‰ç½®é€šçŸ¥!!");		}		//å¾Œç½®é€šçŸ¥		public void afterReturning(){			System.out.println("é€™æ˜¯å¾Œç½®é€šçŸ¥(å¦‚æœå‡ºç¾ç•°å¸¸ä¸æœƒèª¿ç”¨)!!");		}		//ç’°ç¹é€šçŸ¥		public Object around(ProceedingJoinPoint pjp) throws Throwable {			System.out.println("é€™æ˜¯ç’°ç¹é€šçŸ¥ä¹‹å‰çš„éƒ¨åˆ†!!");			Object proceed = pjp.proceed();//èª¿ç”¨ç›®æ¨™æ–¹æ³•			System.out.println("é€™æ˜¯ç’°ç¹é€šçŸ¥ä¹‹å¾Œçš„éƒ¨åˆ†!!");			return proceed;		}		//ç•°å¸¸é€šçŸ¥		public void afterException(){			System.out.println("å‡ºäº‹å•¦!å‡ºç¾ç•°å¸¸äº†!!");		}		//å¾Œç½®é€šçŸ¥		public void after(){			System.out.println("é€™æ˜¯å¾Œç½®é€šçŸ¥(å‡ºç¾ç•°å¸¸ä¹Ÿæœƒèª¿ç”¨)!!");		}}</code></pre><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/7257b18d4ca34246beb74caf922174cf><p class=pgc-img-caption></p></div><p><strong>ç¬¬ä¸‰æ­¥ï¼šç¹”å…¥ï¼ˆä½¿ç”¨é…ç½®çš„æ–¹å¼ï¼‰</strong></p><p><strong>ç¹”å…¥åˆ†ç‚ºä¸‰æ­¥ï¼š</strong></p><p><strong>1.é…ç½®ç›®æ¨™å°è±¡</strong></p><p><strong>2.é…ç½®é€šçŸ¥å°è±¡</strong></p><p><strong>3.é…ç½®å°‡é€šçŸ¥ç¹”å…¥ç›®æ¨™å°è±¡</strong></p><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9a18d717085c47519be9d68c0f0cd5c9><p class=pgc-img-caption></p></div><p><br></p><pre><code>&lt;!-- 1.é…ç½®ç›®æ¨™å°è±¡ --&gt;	&lt;bean name="userService" class="com.huanfeng.service.UserServiceImpl"&gt;&lt;/bean&gt;&lt;!-- é…ç½®é€šçŸ¥å°è±¡ --&gt;    &lt;bean name="myAdvice" class="com.huanfeng.aop.MyAdvice"&gt;&lt;/bean&gt;&lt;!-- 3.é…ç½®å°‡é€šçŸ¥ç¹”å…¥ç›®æ¨™å°è±¡ --&gt;	&lt;aop:config&gt;		&lt;aop:pointcut expression="execution(* com.huanfeng.service.*ServiceImpl.*(..))" id="pc"/&gt;		&lt;aop:aspect ref="myAdvice" &gt;			&lt;!-- æŒ‡å®šåç‚ºbeforeæ–¹æ³•ä½œç‚ºå‰ç½®é€šçŸ¥ --&gt;			&lt;aop:after method="after" pointcut-ref="pc"/&gt;			&lt;aop:before method="before" pointcut-ref="pc" /&gt;			&lt;!-- å¾Œç½® --&gt;			&lt;aop:after-returning method="afterReturning" pointcut-ref="pc" /&gt;			&lt;!-- ç’°ç¹é€šçŸ¥ --&gt;			&lt;aop:around method="around" pointcut-ref="pc" /&gt;			&lt;!-- ç•°å¸¸æ””æˆªé€šçŸ¥ --&gt;			&lt;aop:after-throwing method="afterException" pointcut-ref="pc"/&gt;			&lt;!-- å¾Œç½® --&gt;			&lt;aop:after method="after" pointcut-ref="pc"/&gt;		&lt;/aop:aspect&gt;	&lt;/aop:config&gt;</code></pre><p>é€™å€‹é…ç½®åˆ†ç‚ºä¸‰éƒ¨åˆ†ï¼š</p><p>ç¬¬ä¸€éƒ¨åˆ†æ˜¯é…ç½®ç›®æ¨™å°è±¡ï¼Œä½¿ç”¨beançš„æ–¹å¼</p><p>ç¬¬äºŒéƒ¨åˆ†æ˜¯é…ç½®é€šçŸ¥å°è±¡ï¼Œä½¿ç”¨beançš„æ–¹å¼</p><p>ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ç¹”å…¥ï¼Œexecution(* com.huanfeng.service.*ServiceImpl.*(..))æ˜¯å›ºå®šçš„ç¬¬ä¸€å€‹*è¡¨ç¤ºè¿”å›å€¼ä»»æ„ï¼Œç„¶å¾ŒServiceå‰é¢çš„*è¡¨ç¤ºServiceå‰é¢çš„ä»»æ„ï¼Œç„¶å¾Œå¾Œé¢çš„*è¡¨ç¤ºé€™å€‹*ServiceImplä¸‹é¢çš„æ‰€æœ‰çš„æ–¹æ³•ï¼Œ(..)è¡¨ç¤ºæ–¹æ³•çš„åƒæ•¸æ˜¯ä»»æ„çš„ï¼Œæˆ‘å€‘çµ¦é€™æ¨£çš„åˆ‡é»èµ·åç‚ºpcï¼Œç„¶å¾Œæˆ‘å€‘å°±å°±å¯ä»¥ä½¿ç”¨aop:aspectä¾†é€²è¡Œç¹”å…¥äº†ï¼Œrefè¡¨ç¤ºå¢å¼·çš„æ–¹æ³•é¡ï¼Œç„¶å¾Œåœ¨å…§éƒ¨å°pcé€²è¡Œç¹”å…¥ã€‚</p><p>æ­¤æ™‚&lt;bean name="userService" class="com.huanfeng.service.UserServiceImpl">&lt;/bean>å°æ‡‰çš„é€™å€‹é¡å°±è¢«å¢å¼·äº†</p><p>æ¸¬è©¦ï¼š</p><pre><code>cishipackage com.huanfeng.shiyan;import javax.annotation.Resource;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import com.huanfeng.bean.User;import com.huanfeng.service.UserService;@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration("classpath:applicationContext.xml")public class Demo {	@Resource(name="userService")	private UserService us;		@Test	public void fun1(){		us.add();	}	}</code></pre><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c3de133ae24f476fabf364d1673c5a32><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d07decfdc61b477383b5f3ab83205427><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7ad0b4e1d24c4704aef69f8e2cbdb1c5><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>springçš„è¨»è§£é…ç½®</h1><p>é¦–å…ˆä½¿ç”¨è¨»è§£é…ç½®éœ€è¦åœ¨xmlä¸­å®Œæˆä¸‰æ­¥ï¼Œå…¶ä¸­å‰å…©æ­¥å’Œå‰é¢ä¸€æ¨£ï¼Œå¾Œé¢çš„ä¸€æ­¥æ˜¯é–‹å•Ÿè¨»è§£aop</p><pre><code>&lt;!-- æº–å‚™å·¥ä½œ: å°å…¥aop(ç´„æŸ)å‘½åç©ºé–“ --&gt;&lt;!-- 1.é…ç½®ç›®æ¨™å°è±¡ --&gt;	&lt;bean name="userService" class="com.huanfeng.service.UserServiceImpl"&gt;&lt;/bean&gt;&lt;!-- é…ç½®é€šçŸ¥å°è±¡ --&gt;    &lt;bean name="myAdvice" class="com.huanfeng.annotationaop.MyAdvice"&gt;&lt;/bean&gt;&lt;!-- é–‹å•Ÿä½¿ç”¨è¨»è§£å®Œæˆç¹”å…¥ --&gt;	&lt;aop:aspectj-autoproxy&gt;&lt;/aop:aspectj-autoproxy&gt;</code></pre><p>é…ç½®å¥½äº†ï¼Œä¹‹å¾Œæˆ‘å€‘éœ€è¦åœ¨é€šçŸ¥å°è±¡ä¸­é€²è¡Œé…ç½®ï¼š</p><pre><code>package com.huanfeng.annotationaop;import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.After;import org.aspectj.lang.annotation.AfterReturning;import org.aspectj.lang.annotation.AfterThrowing;import org.aspectj.lang.annotation.Around;import org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.Before;//@Aspectè¡¨ç¤ºé€™æ˜¯ä¸€å€‹é€šçŸ¥é¡@Aspectpublic class MyAdvice {	    //å‰ç½®é€šçŸ¥	    @Before("execution(* com.huanfeng.service.*ServiceImpl.*(..))")		public void before(){			System.out.println("é€™æ˜¯å‰ç½®é€šçŸ¥!!");		}		//å¾Œç½®é€šçŸ¥	    @AfterReturning("execution(* com.huanfeng.service.*ServiceImpl.*(..))")		public void afterReturning(){			System.out.println("é€™æ˜¯å¾Œç½®é€šçŸ¥(å¦‚æœå‡ºç¾ç•°å¸¸ä¸æœƒèª¿ç”¨)!!");		}		//ç’°ç¹é€šçŸ¥	    @Around("execution(* com.huanfeng.service.*ServiceImpl.*(..))")		public Object around(ProceedingJoinPoint pjp) throws Throwable {			System.out.println("é€™æ˜¯ç’°ç¹é€šçŸ¥ä¹‹å‰çš„éƒ¨åˆ†!!");			Object proceed = pjp.proceed();//èª¿ç”¨ç›®æ¨™æ–¹æ³•			System.out.println("é€™æ˜¯ç’°ç¹é€šçŸ¥ä¹‹å¾Œçš„éƒ¨åˆ†!!");			return proceed;		}		//ç•°å¸¸é€šçŸ¥	    @AfterThrowing("execution(* com.huanfeng.service.*ServiceImpl.*(..))")		public void afterException(){			System.out.println("å‡ºäº‹å•¦!å‡ºç¾ç•°å¸¸äº†!!");		}		//å¾Œç½®é€šçŸ¥	    @After("execution(* com.huanfeng.service.*ServiceImpl.*(..))")		public void after(){			System.out.println("é€™æ˜¯å¾Œç½®é€šçŸ¥(å‡ºç¾ç•°å¸¸ä¹Ÿæœƒèª¿ç”¨)!!");		}}</code></pre><p>æˆ‘å€‘æ¯å€‹é€šçŸ¥éƒ½å¯«ä¸€å€‹executionå¤ªè²»äº‹äº†ï¼Œæˆ‘å€‘å¯ä»¥çµ±ä¸€è™•ç†ï¼š</p><pre><code>package com.huanfeng.annotationaop;import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.After;import org.aspectj.lang.annotation.AfterReturning;import org.aspectj.lang.annotation.AfterThrowing;import org.aspectj.lang.annotation.Around;import org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.Before;import org.aspectj.lang.annotation.Pointcut;//@Aspectè¡¨ç¤ºé€™æ˜¯ä¸€å€‹é€šçŸ¥é¡@Aspectpublic class MyAdvice {	    //å‰ç½®é€šçŸ¥		@Pointcut("execution(* com.huanfeng.service.*ServiceImpl.*(..))")		public void pc(){}	    @Before("MyAdvice.pc()")		public void before(){			System.out.println("é€™æ˜¯å‰ç½®é€šçŸ¥!!");		}		//å¾Œç½®é€šçŸ¥	    @AfterReturning("MyAdvice.pc()")		public void afterReturning(){			System.out.println("é€™æ˜¯å¾Œç½®é€šçŸ¥(å¦‚æœå‡ºç¾ç•°å¸¸ä¸æœƒèª¿ç”¨)!!");		}		//ç’°ç¹é€šçŸ¥	    @Around("MyAdvice.pc()")		public Object around(ProceedingJoinPoint pjp) throws Throwable {			System.out.println("é€™æ˜¯ç’°ç¹é€šçŸ¥ä¹‹å‰çš„éƒ¨åˆ†!!");			Object proceed = pjp.proceed();//èª¿ç”¨ç›®æ¨™æ–¹æ³•			System.out.println("é€™æ˜¯ç’°ç¹é€šçŸ¥ä¹‹å¾Œçš„éƒ¨åˆ†!!");			return proceed;		}		//ç•°å¸¸é€šçŸ¥	    @AfterThrowing("MyAdvice.pc()")		public void afterException(){			System.out.println("å‡ºäº‹å•¦!å‡ºç¾ç•°å¸¸äº†!!");		}		//å¾Œç½®é€šçŸ¥	    @After("MyAdvice.pc()")		public void after(){			System.out.println("é€™æ˜¯å¾Œç½®é€šçŸ¥(å‡ºç¾ç•°å¸¸ä¹Ÿæœƒèª¿ç”¨)!!");		}}</code></pre><p>ä¹‹å¾Œå°±å¯ä»¥æ¸¬è©¦äº†ï¼š</p><pre><code>package com.huanfeng.annotationaop;import javax.annotation.Resource;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import com.huanfeng.service.UserService;import com.huanfeng.service.UserServiceImpl;@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration("classpath:com/huanfeng/annotationaop/applicationContext.xml")public class Demo {	@Resource(name="userService")	private UserService us;	@Test	public void test1() {		us.add();	}}</code></pre><h1 class=pgc-h-arrow-right>springæ•´åˆjdbcæ¨¡æ¿</h1><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5ca066823dd6442fa12b42bc1983fdb3><p class=pgc-img-caption></p></div><p>JdbcTemplateæ¨¡æ¿çš„ä½¿ç”¨ï¼Œé€™å€‹å’ŒQueryRunnerä½¿ç”¨æ˜¯å·®ä¸å¤šçš„ï¼Œå°‡æ•¸æ“šåº«é€£æ¥æ± é€£æ¥ä¸Šå°±å¯ä»¥é€²è¡Œæ•¸æ“šåº«æ“ä½œäº†</p><pre><code>//å‰µå»ºé€£æ¥æ± 		ComboPooledDataSource dataSource=new ComboPooledDataSource();		dataSource.setDriverClass("com.mysql.jdbc.Driver");		dataSource.setJdbcUrl("jdbc:mysql:///spring_data");		dataSource.setUser("root");		dataSource.setPassword("root");		//å‰µå»ºJDBCæ¨¡æ¿å°è±¡		JdbcTemplate jt=new JdbcTemplate();		jt.setDataSource(dataSource);		String sql="DELETE FROM shiyan WHERE number='3'";		int i=jt.update(sql);		System.out.println(i);</code></pre><p>ä¸Šé¢åƒ…åƒ…ä»‹ç´¹ç­å¦‚ä½•ä½¿ç”¨jabcTemplateä¾†å®Œæˆæ•¸æ“šåº«çš„é€£æ¥å·¥ä½œï¼Œå°æ–¼æ•¸æ“šåº«çš„æ“ä½œè€Œè¨€ï¼Œéœ€è¦é€²è¡Œå¢åˆªæ”¹æŸ¥çš„æ“ä½œï¼Œé‚£éº¼å¦‚ä½•ä½¿ç”¨jdbcé€²è¡Œå¢åˆªæ”¹æŸ¥å‘¢</p><pre><code>package com.huanfeng.dao;import java.util.List;import com.huanfeng.dao.User;public interface UserDao {	//å¢åŠ 	void add(User u);	//åˆªé™¤	void delete(Integer id);	//ä¿®æ”¹	void update(User u);	//æŸ¥è©¢æŒ‡å®šidçš„uesr	User getById(Integer id);	//æŸ¥è©¢userç¸½äººæ•¸	int getTotalCount();	//æŸ¥è©¢æ‰€æœ‰userä¿¡æ¯	List&lt;User&gt; getAll();}</code></pre><p>å¦‚ä¸‹æ‰€ç¤ºæ¶µè“‹äº†ä½¿ç”¨jtè™•ç†å¸¸è¦‹æ•¸æ“šåº«çš„å¢åˆªæ”¹æŸ¥æ“ä½œçš„å¸¸ç”¨æ–¹æ³•ï¼Œå…¶ä¸­é™¤äº†æŸ¥è©¢ä¹‹å¤–éƒ½ä½¿ç”¨updateæ–¹æ³•ï¼Œç¬¬ä¸€å€‹åƒæ•¸æ˜¯sqlèªå¥ï¼Œç¬¬äºŒå€‹åƒæ•¸æ˜¯sqlèªå¥çš„ï¼Ÿå°æ‡‰çš„å€¼ã€‚</p><p>æŸ¥è©¢ä½¿ç”¨queryï¼ˆç²å–listï¼‰å’ŒqueryObjectï¼ˆç²å–ä¸€å€‹å°è±¡æˆ–è€…å–®å€‹å€¼ï¼‰éƒ½å¯ä»¥ä½¿ç”¨é€™ç¨®æ–¹æ³•ï¼Œç¬¬ä¸€å€‹åƒæ•¸æ˜¯sqlï¼Œç¬¬ä¸‰å€‹åƒæ•¸æ˜¯sqlä¸­çš„ï¼Ÿï¼ˆå¯æœ‰å¯ç„¡ï¼Œé€™æ˜¯å¯è®Šé•·çš„åƒæ•¸ï¼‰ï¼Œç¬¬äºŒå€‹æ˜¯ä¸€å€‹RowMapperé€™å€‹é¡ä¼¼æ–¼dbutilsä¸­çš„ListHandler,ä½†æ˜¯é€™å€‹æ¯”è¼ƒéº»ç…©ï¼Œéœ€è¦æˆ‘å€‘æ‰‹å‹•çš„å°å…¶é€²è¡Œå°è£è™•ç†ï¼Œç„¶å¾Œè£¡é¢çš„åƒæ•¸ResultSetè¡¨ç¤ºæŸ¥è©¢å‡ºä¾†çš„æ¯ä¸€è¡Œçµæœï¼Œæˆ‘å€‘åªéœ€è¦å°‡å…¶å°è£æˆä¸€å€‹userå°è±¡å°±å¥½äº†ï¼Œç„¶å¾Œå®ƒæœƒè‡ªå‹•çš„ä¸€æ¬¡åˆä¸€æ¬¡åœ°å°è£ã€‚</p><p>é‚„æœ‰å¦‚æœæŸ¥è©¢å‡ºä¾†çš„çµæœæ˜¯ä¸€å€‹å€¼ï¼Œæ¯”å¦‚æŸ¥è©¢count(*)ï¼Œé‚£éº¼æˆ‘å€‘å¯ä»¥ä½¿ç”¨queryObjectï¼Œæ­¤æ™‚çš„ç¬¬äºŒå€‹åƒæ•¸å°±ä¸æ˜¯RowMapperäº†ï¼Œè€Œæ˜¯é€™å€‹å€¼å°æ‡‰çš„é¡å‹</p><pre><code>package com.huanfeng.dao;import java.sql.ResultSet;import java.sql.SQLException;import java.util.List;import com.huanfeng.dao.User;import org.springframework.jdbc.core.JdbcTemplate;import org.springframework.jdbc.core.RowMapper;public class UserDaoImpl implements UserDao {	private JdbcTemplate jt;	public void setjt(JdbcTemplate jt) {		this.jt=jt;	}	@Override	//é€™æ˜¯å¢åŠ æ–¹æ³•	public void add(User u) {		String sql="insert into user values(?,?,null)";		jt.update(sql,u.getName(),u.getAge());	}    //é€™æ˜¯åˆªé™¤æ–¹æ³•	@Override	public void delete(Integer id) {		String sql="delete from user where id=?";		jt.update(sql,id);	}	@Override	//é€™æ˜¯ä¿®æ”¹æ–¹æ³•	public void update(User u) {		String sql="update user set name=? ,age=? where id=?";		jt.update(sql,u.getName(),u.getAge(),u.getId());	}	@Override	//é€™æ˜¯ç²å–æŒ‡å®šidçš„ç”¨æˆ¶	public User getById(Integer id) {		String sql="select * from user where id=?";		User u=jt.queryForObject(sql, new RowMapper&lt;User&gt;() {			@Override			public User mapRow(ResultSet rs, int arg1) throws SQLException {				User u=new User();				u.setAge(rs.getInt("age"));				u.setName(rs.getString("name"));				u.setId(rs.getInt("id"));				return u;			}}, id);		return u;	}	@Override	//ç²å–ç”¨æˆ¶çš„æ•¸é‡	public int getTotalCount() {		String sql="select count(*) from user";		Integer c=jt.queryForObject(sql,Integer.class);		return c;	}	@Override	//ç²å–æ‰€æœ‰çš„ç”¨æˆ¶	public List&lt;User&gt; getAll() {		String sql="select * from user";		List&lt;User&gt; userList=jt.query(sql, new RowMapper&lt;User&gt;(){			@Override			public User mapRow(ResultSet rs, int arg1) throws SQLException {				User u=new User();				u.setAge(rs.getInt("age"));				u.setId(rs.getInt("id"));				u.setName(rs.getString("name"));				return u;			}});		return userList;	}}</code></pre><p>å°‡jdbcæ•´åˆé€²springä¸­ï¼Œä¸¦é€²è¡Œæ¸¬è©¦ï¼š</p><pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.springframework.org/schema/beans" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd "&gt;&lt;!-- 1ã€é…ç½®æ•¸æ“šåº«é€£æ¥æ±  --&gt;&lt;bean name="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt;	&lt;property name="jdbcUrl" value="jdbc:mysql:///spring_data"&gt;&lt;/property&gt;	&lt;property name="driverClass" value="com.mysql.jbdc.Driver"&gt;&lt;/property&gt;	&lt;property name="user" value="root"&gt;&lt;/property&gt;	&lt;property name="password" value="root"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- 2ã€é…ç½®æ¨¡æ¿JDBC --&gt;&lt;bean name="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate"&gt;	&lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- 3ã€é…ç½®UserDao --&gt;&lt;bean name="userDao" class="com.huanfeng.dao.UserDaoImpl"&gt;	&lt;property name="jt" ref="jdbcTemplate"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;/beans&gt;</code></pre><p>å¦‚ä¸Šæ‰€ç¤ºè¦æƒ³ä½¿ç”¨é…ç½®JDBCé¦–å…ˆéœ€è¦ä½¿ç”¨æ•¸æ“šåº«é€£æ¥æ± ï¼Œç„¶å¾Œå°‡jdbcæ¨¡æ¿é…ç½®åˆ°userDaoä¸­ï¼Œæ­¤æ™‚å°±å¯ä»¥åœ¨æ¸¬è©¦é›†ä¸­ç›´æ¥ä½¿ç”¨userDaoä¾†é€²è¡Œæ“ä½œäº†ï¼š</p><pre><code>package com.huanfeng.dao;import java.util.List;import javax.annotation.Resource;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.core.env.SystemEnvironmentPropertySource;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration("classpath:com/huanfeng/dao/applicationContext.xml")public class Demo {	@Resource(name="userDao")	private UserDao ud;	@Test	public void test1() {		User u=new User();		u.setAge(100);		u.setName("xia");		u.setId(3);		ud.add(u);	}	@Test	public void test2() {		ud.delete(1);	}	@Test	public void test3() {		User u=new User();		u.setAge(100);		u.setName("xiaoo");		u.setId(3);		ud.update(u);	}	@Test	public void test4() {		User u=ud.getById(2);		System.out.println(u);	}	@Test	public void test5() {		int c=ud.getTotalCount();		System.out.println(c);	}	@Test	public void test6() {		List&lt;User&gt; l=ud.getAll();		System.out.println(l);	}}</code></pre><p>jdbcçš„æ“´å±•ï¼Œåœ¨ä¹‹å‰æˆ‘å€‘ä½¿ç”¨äº†JdbcTemplateçš„æ™‚å€™ä½¿ç”¨äº†UserDaoImplé€²è¡Œäº†åƒæ•¸å‚³éï¼Œæ˜¯å¦å¯ä»¥ä¸é€²è¡Œé€™æ¨£åœ°æ“ä½œäº†ï¼Ÿå¯ä»¥å…·é«”ä¾†èªªé¦–å…ˆUserDaoImplä¸­ä½¿ç”¨ï¼Œæˆ‘å€‘éœ€è¦ç¹¼æ‰¿ï¼š</p><p>JdbcDaoSupport</p><p>é€™æ¨£å°±å¯ä»¥é€šésuper.getJdbcTemplate()ç²å–jdbcæ¨¡æ¿å°è±¡äº†ã€‚</p><p>é‚£éº¼åœ¨xmlä¸­å°±ä¸ç”¨é…ç½®æ¨¡æ¿å°è±¡äº†ï¼Œä½†æ˜¯éœ€è¦å°‡æ•¸æ“šåº«é€£æ¥æ± é…ç½®åˆ°UserServiceDaoä¸­ï¼š</p><pre><code>package com.huanfeng.dao;import java.sql.ResultSet;import java.sql.SQLException;import java.util.List;import com.huanfeng.dao.User;import org.springframework.jdbc.core.JdbcTemplate;import org.springframework.jdbc.core.RowMapper;import org.springframework.jdbc.core.support.JdbcDaoSupport;public class UserDaoImpl2 extends JdbcDaoSupport implements UserDao {	@Override	//é€™æ˜¯å¢åŠ æ–¹æ³•	public void add(User u) {		String sql="insert into user values(?,?,null)";		super.getJdbcTemplate().update(sql,u.getName(),u.getAge());	}    //é€™æ˜¯åˆªé™¤æ–¹æ³•	@Override	public void delete(Integer id) {		String sql="delete from user where id=?";		super.getJdbcTemplate().update(sql,id);	}	@Override	//é€™æ˜¯ä¿®æ”¹æ–¹æ³•	public void update(User u) {		String sql="update user set name=?, age=? where id=?";		super.getJdbcTemplate().update(sql,u.getName(),u.getAge(),u.getId());	}	@Override	//é€™æ˜¯ç²å–æŒ‡å®šidçš„ç”¨æˆ¶	public User getById(Integer id) {		String sql="select * from user where id=?";		User u=super.getJdbcTemplate().queryForObject(sql, new RowMapper&lt;User&gt;() {			@Override			public User mapRow(ResultSet rs, int arg1) throws SQLException {				User u=new User();				u.setAge(rs.getInt("age"));				u.setName(rs.getString("name"));				u.setId(rs.getInt("id"));				return u;			}}, id);		return u;	}	@Override	//ç²å–ç”¨æˆ¶çš„æ•¸é‡	public int getTotalCount() {		String sql="select count(*) from user";		Integer c=super.getJdbcTemplate().queryForObject(sql,Integer.class);		return c;	}	@Override	//ç²å–æ‰€æœ‰çš„ç”¨æˆ¶	public List&lt;User&gt; getAll() {		String sql="select * from user";		List&lt;User&gt; userList=super.getJdbcTemplate().query(sql, new RowMapper&lt;User&gt;(){			@Override			public User mapRow(ResultSet rs, int arg1) throws SQLException {				User u=new User();				u.setAge(rs.getInt("age"));				u.setId(rs.getInt("id"));				u.setName(rs.getString("name"));				return u;			}});		return userList;	}}</code></pre><pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.springframework.org/schema/beans" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd "&gt;&lt;!-- 1ã€é…ç½®æ•¸æ“šåº«é€£æ¥æ±  --&gt;&lt;bean name="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt;	&lt;property name="jdbcUrl" value="jdbc:mysql:///spring_data"&gt;&lt;/property&gt;	&lt;property name="driverClass" value="com.mysql.jbdc.Driver"&gt;&lt;/property&gt;	&lt;property name="user" value="root"&gt;&lt;/property&gt;	&lt;property name="password" value="root"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- 3ã€é…ç½®UserDao --&gt;&lt;bean name="userDao" class="com.huanfeng.dao.UserDaoImpl2"&gt;	&lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;/beans&gt;</code></pre><p>å°‡æ•¸æ“šåº«é€£æ¥æ± çš„é…ç½®åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼š</p><pre><code>jdbc.jdbcUrl=jdbc:mysql:///spring_datajdbc.driverClass=com.mysql.jdbc.Driverjdbc.user=rootjdbc.password=root</code></pre><p>ä¹‹å¾Œåœ¨xmlä¸­å°±å¯ä»¥é€™æ¨£é€²è¡Œé…ç½®äº†</p><pre><code>&lt;context:property-placeholder location="classpath:db.properties"  /&gt;&lt;!-- 1ã€é…ç½®æ•¸æ“šåº«é€£æ¥æ±  --&gt;&lt;bean name="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt;	&lt;property name="jdbcUrl" value="${jdbc.jdbcUrl}"&gt;&lt;/property&gt;	&lt;property name="driverClass" value="${jdbc.driverClass}"&gt;&lt;/property&gt;	&lt;property name="user" value="${jdbc.user}"&gt;&lt;/property&gt;	&lt;property name="password" value="${jdbc.password}"&gt;&lt;/property&gt;&lt;/bean&gt;</code></pre><h1 class=pgc-h-arrow-right>äº‹å‹™</h1><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/def44838ec284d2aa703a724d3b892dd><p class=pgc-img-caption></p></div><p><strong>äº‹å‹™çš„å‚³æ’­è¡Œç‚ºï¼š</strong></p><blockquote class=pgc-blockquote-abstract><p>PROPAGION_XXX :äº‹å‹™çš„å‚³æ’­è¡Œç‚º * ä¿è­‰åŒä¸€å€‹äº‹å‹™ä¸­ PROPAGATION_REQUIRED æ”¯æŒç•¶å‰äº‹å‹™ï¼Œå¦‚æœä¸å­˜åœ¨ å°±æ–°å»ºä¸€å€‹(é»˜èª) PROPAGATION_SUPPORTS æ”¯æŒç•¶å‰äº‹å‹™ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±ä¸ä½¿ç”¨äº‹å‹™ PROPAGATION_MANDATORY æ”¯æŒç•¶å‰äº‹å‹™ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œæ‹‹å‡ºç•°å¸¸</p><p><br></p><p>* ä¿è­‰æ²’æœ‰åœ¨åŒä¸€å€‹äº‹å‹™ä¸­ PROPAGATION_REQUIRES_NEW å¦‚æœæœ‰äº‹å‹™å­˜åœ¨ï¼Œæ›èµ·ç•¶å‰äº‹å‹™ï¼Œå‰µå»ºä¸€å€‹æ–°çš„äº‹å‹™ PROPAGATION_NOT_SUPPORTED ä»¥éäº‹å‹™æ–¹å¼é‹è¡Œï¼Œå¦‚æœæœ‰äº‹å‹™å­˜åœ¨ï¼Œæ›èµ·ç•¶å‰äº‹å‹™</p><p><br></p><p>PROPAGATION_NEVER ä»¥éäº‹å‹™æ–¹å¼é‹è¡Œï¼Œå¦‚æœæœ‰äº‹å‹™å­˜åœ¨ï¼Œæ‹‹å‡ºç•°å¸¸</p><p><br></p><p>PROPAGATION_NESTED å¦‚æœç•¶å‰äº‹å‹™å­˜åœ¨ï¼Œå‰‡åµŒå¥—äº‹å‹™åŸ·è¡Œ</p></blockquote><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/66cfafbc03144d848bc806c01940f174><p class=pgc-img-caption></p></div><p>äº‹å‹™ï¼Œè½‰è³¬</p><p>é¦–å…ˆåœ¨xmlä¸­é…ç½®å¥½æ•¸æ“šåº«é€£æ¥æ± ï¼Œäº‹å‹™ï¼Œä»¥åŠserviceå’Œdaoï¼š</p><pre><code>&lt;!-- äº‹å‹™æ ¸å¿ƒç®¡ç†å™¨ï¼Œå°è£äº†æ‰€æœ‰äº‹å‹™æ“ä½œ --&gt;&lt;bean name="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager" &gt;	&lt;property name="dataSource" ref="dataSource" &gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- äº‹å‹™æ¨¡æ¿å°è±¡ --&gt;&lt;bean name="transactionTemplate" class="org.springframework.transaction.support.TransactionTemplate" &gt;	&lt;property name="transactionManager" ref="transactionManager" &gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- 1ã€é…ç½®æ•¸æ“šåº«é€£æ¥æ±  --&gt;&lt;bean name="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt;	&lt;property name="jdbcUrl" value="${jdbc.jdbcUrl}"&gt;&lt;/property&gt;	&lt;property name="driverClass" value="${jdbc.driverClass}"&gt;&lt;/property&gt;	&lt;property name="user" value="${jdbc.user}"&gt;&lt;/property&gt;	&lt;property name="password" value="${jdbc.password}"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- 3ã€é…ç½®UserDao --&gt;&lt;bean name="AccountDao" class="com.huanfeng.dao.AccountDaoImpl"&gt;	&lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;&lt;/bean&gt;                           &lt;bean name="AccountService" class="com.huanfeng.service.AccountServiceImpl"&gt;	&lt;property name="ad" ref="AccountDao"&gt;&lt;/property&gt;	&lt;property name="tt" ref="transactionTemplate" &gt;&lt;/property&gt;&lt;/bean&gt;</code></pre><p>é¦–å…ˆé…ç½®äº‹å‹™çš„æ ¸å¿ƒç®¡ç†å™¨ï¼Œè£¡é¢éœ€è¦ä¾è³´æ•¸æ“šåº«é€£æ¥æ± ï¼Œç„¶å¾Œé…ç½®äº‹å‹™æ¨¡æ¿å°è±¡ï¼Œé€™å€‹ä¾è³´äº‹å‹™çš„æ ¸å¿ƒç®¡ç†å™¨ã€‚</p><p>ä¹‹å¾Œé…ç½®serviceå’Œdaoï¼Œdaoä¸­ç”±æ–¼ä½¿ç”¨äº†ç¹¼æ‰¿JdbcDaoSupportï¼Œæ‰€ä»¥é€™è£¡éœ€è¦ä¾è³´æ•¸æ“šåº«é€£æ¥æ± ï¼Œç„¶å¾ŒServiceä¸åƒ…ä¾è³´daoï¼Œè€Œä¸”é‚„ä¾è³´äº‹å‹™æ¨¡æ¿å°è±¡ã€‚</p><pre><code>package com.huanfeng.dao;public interface AccountDao {	void increaseMoney(Integer id,Double money);	void decreaseMoney(Integer id,Double money);}</code></pre><pre><code>package com.huanfeng.dao;import org.springframework.jdbc.core.support.JdbcDaoSupport;public class AccountDaoImpl extends JdbcDaoSupport implements AccountDao {	@Override	public void increaseMoney(Integer id, Double money) {		String sql="update table_count set money=money+? where id=?";		super.getJdbcTemplate().update(sql,money,id);	}	@Override	public void decreaseMoney(Integer id, Double money) {		String sql="update table_count set money=money-? where id=?";		super.getJdbcTemplate().update(sql,money,id);	}}</code></pre><pre><code>package com.huanfeng.service;public interface AccountService {	public void transfer(Integer from,Integer to,Double money);}</code></pre><pre><code>package com.huanfeng.service;import org.springframework.transaction.TransactionStatus;import org.springframework.transaction.support.TransactionCallbackWithoutResult;import org.springframework.transaction.support.TransactionTemplate;import com.huanfeng.dao.AccountDao;public class AccountServiceImpl implements AccountService {	private AccountDao ad;	private TransactionTemplate tt;	public TransactionTemplate getTt() {		return tt;	}	public void setTt(TransactionTemplate tt) {		this.tt = tt;	}	public AccountDao getAd() {		return ad;	}	public void setAd(AccountDao ad) {		this.ad = ad;	}	@Override	public void transfer(Integer from, Integer to, Double money) {				tt.execute(new TransactionCallbackWithoutResult() {			@Override			protected void doInTransactionWithoutResult(TransactionStatus arg0) {				//æ¸›éŒ¢				ad.decreaseMoney(from, money);				//åŠ éŒ¢				ad.increaseMoney(to, money);			}		});	}}</code></pre><p>AccountServiceImplä¸­éœ€è¦TransactionTemplateäº‹å‹™æ¨¡æ¿å°è±¡ï¼Œä»¥ä¾¿æ–¼é–‹å•Ÿäº‹å‹™ï¼Œä¹‹å¾Œå¯ä»¥æ¸¬è©¦äº†ï¼š</p><pre><code>package com.huanfeng.transaction;import javax.annotation.Resource;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import com.huanfeng.service.AccountService;@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration("classpath:com/huanfeng/dao/applicationContext3.xml")public class Demo1 {	@Resource(name="AccountService")	private AccountService as;	@Test	public void test1() {		as.transfer(1, 2, 500d);	}}</code></pre><h1 class=pgc-h-arrow-right>aopé…ç½®äº‹å‹™</h1><p>é¦–å…ˆé…ç½®ç´„æŸ</p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/37ff33c55009412c852b351d1e7d3ed8><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/72b21a1a1883496ebc4ed65d578a60e1><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4b4ac682a46a4a669f21abb5c2748bd5><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=springæ¡†æ¶çš„å…¥é–€å­¸ç¿’ï¼šAOPå’Œéºµå‘åˆ‡é¢çš„äº‹å‹™ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/104e2d77dbd54ba2978ff1021c27da32><p class=pgc-img-caption></p></div><p>äº‹å‹™æœ¬èº«å°±éœ€è¦é–‹å•Ÿäº‹å‹™ä»¥åŠé—œé–‰äº‹å‹™ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨é¢å‘åˆ‡é¢çš„æ€æƒ³ä¾†å°serviceä¸­çš„æ–¹æ³•é€²è¡Œå¢å¼·ï¼Œspringå·²ç¶“å¯«å¥½äº†é€šçŸ¥ï¼Œæ‰€ä»¥ä¸éœ€è¦æˆ‘å€‘å¯«é€šçŸ¥äº†ï¼Œæˆ‘å€‘å¯ä»¥é€šétx:adviceä¾†é…ç½®äº‹å‹™é€šçŸ¥ï¼Œç„¶å¾Œå°‡é€™å€‹é€šçŸ¥ç¹”å…¥åˆ°serviceæ–¹æ³•ä¸­ï¼Œé‚£éº¼æ­¤æ™‚çš„serviceéƒ½æ˜¯è¢«äº‹å‹™å¢å¼·çš„æ–¹æ³•ï¼Œä¹‹å¾Œå°±ä¸éœ€è¦æ‰‹å‹•å¢åŠ äº‹å‹™äº†ã€‚é…ç½®å¦‚ä¸‹ï¼š</p><pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.springframework.org/schema/beans" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.2.xsd "&gt;&lt;context:property-placeholder location="classpath:db.properties"  /&gt;&lt;!-- äº‹å‹™æ ¸å¿ƒç®¡ç†å™¨ï¼Œå°è£äº†æ‰€æœ‰äº‹å‹™æ“ä½œ --&gt;&lt;bean name="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager" &gt;	&lt;property name="dataSource" ref="dataSource" &gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- äº‹å‹™æ¨¡æ¿å°è±¡ --&gt;&lt;bean name="transactionTemplate" class="org.springframework.transaction.support.TransactionTemplate" &gt;	&lt;property name="transactionManager" ref="transactionManager" &gt;&lt;/property&gt;&lt;/bean&gt;&lt;tx:advice id="txAdvice" transaction-manager="transactionManager" &gt;	&lt;tx:attributes&gt;		&lt;!-- ä»¥æ–¹æ³•ç‚ºå–®ä½,æŒ‡å®šæ–¹æ³•æ‡‰ç”¨ä»€éº¼äº‹å‹™å±¬æ€§			isolation:éš”é›¢ç´šåˆ¥			propagation:å‚³æ’­è¡Œç‚º			read-only:æ˜¯å¦åªè®€		 --&gt;		&lt;tx:method name="save*" isolation="REPEATABLE_READ" propagation="REQUIRED" read-only="false" /&gt;		&lt;tx:method name="persist*" isolation="REPEATABLE_READ" propagation="REQUIRED" read-only="false" /&gt;		&lt;tx:method name="update*" isolation="REPEATABLE_READ" propagation="REQUIRED" read-only="false" /&gt;		&lt;tx:method name="modify*" isolation="REPEATABLE_READ" propagation="REQUIRED" read-only="false" /&gt;		&lt;tx:method name="delete*" isolation="REPEATABLE_READ" propagation="REQUIRED" read-only="false" /&gt;		&lt;tx:method name="remove*" isolation="REPEATABLE_READ" propagation="REQUIRED" read-only="false" /&gt;		&lt;tx:method name="get*" isolation="REPEATABLE_READ" propagation="REQUIRED" read-only="true" /&gt;		&lt;tx:method name="find*" isolation="REPEATABLE_READ" propagation="REQUIRED" read-only="true" /&gt;		&lt;tx:method name="transfer" isolation="REPEATABLE_READ" propagation="REQUIRED" read-only="false" /&gt;	&lt;/tx:attributes&gt;&lt;/tx:advice&gt;&lt;!-- é…ç½®ç¹”å…¥ --&gt;&lt;aop:config  &gt;	&lt;!-- é…ç½®åˆ‡é»è¡¨é”å¼ --&gt;	&lt;aop:pointcut expression="execution(* com.huanfeng.service.*ServiceImpl.*(..))" id="txPc"/&gt;	&lt;!-- é…ç½®åˆ‡é¢ : é€šçŸ¥+åˆ‡é»		 	advice-ref:é€šçŸ¥çš„åç¨±		 	pointcut-ref:åˆ‡é»çš„åç¨±	 --&gt;	&lt;aop:advisor advice-ref="txAdvice" pointcut-ref="txPc" /&gt;&lt;/aop:config&gt;&lt;!-- 1ã€é…ç½®æ•¸æ“šåº«é€£æ¥æ±  --&gt;&lt;bean name="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt;	&lt;property name="jdbcUrl" value="${jdbc.jdbcUrl}"&gt;&lt;/property&gt;	&lt;property name="driverClass" value="${jdbc.driverClass}"&gt;&lt;/property&gt;	&lt;property name="user" value="${jdbc.user}"&gt;&lt;/property&gt;	&lt;property name="password" value="${jdbc.password}"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- 3ã€é…ç½®UserDao --&gt;&lt;bean name="userDao" class="com.huanfeng.dao.UserDaoImpl2"&gt;	&lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean name="AccountDao" class="com.huanfeng.dao.AccountDaoImpl"&gt;	&lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;&lt;/bean&gt;                           &lt;bean name="AccountService" class="com.huanfeng.service.AccountServiceImpl"&gt;	&lt;property name="ad" ref="AccountDao"&gt;&lt;/property&gt;	&lt;property name="tt" ref="transactionTemplate" &gt;&lt;/property&gt;&lt;/bean&gt;&lt;/beans&gt;</code></pre><p>ä¹‹å¾Œå†servieä¸­ç›´æ¥èª¿ç”¨daoä¸­çš„æ–¹æ³•å°±å¯ä»¥äº†ï¼š</p><pre><code>public void transfer(Integer from, Integer to, Double money) {				//æ¸›éŒ¢				ad.decreaseMoney(from, money);				//åŠ éŒ¢				ad.increaseMoney(to, money);	}</code></pre><p>ä¸‹é¢å­¸ç¿’ä¸€ä¸‹è¨»è§£çš„é…ç½®æ–¹å¼</p><p>æˆ‘å€‘å¯ä»¥å°‡å‰é¢çš„é€šçŸ¥å’Œç¹”å…¥å…¨éƒ¨åˆªæ‰ï¼Œä½¿ç”¨&lt;tx:annotation-driven/>ï¼Œæ­¤æ™‚çš„xmlé…ç½®ç‚ºï¼š</p><pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.springframework.org/schema/beans" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.2.xsd "&gt;&lt;context:property-placeholder location="classpath:db.properties"  /&gt;&lt;!-- äº‹å‹™æ ¸å¿ƒç®¡ç†å™¨ï¼Œå°è£äº†æ‰€æœ‰äº‹å‹™æ“ä½œ --&gt;&lt;bean name="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager" &gt;	&lt;property name="dataSource" ref="dataSource" &gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- äº‹å‹™æ¨¡æ¿å°è±¡ --&gt;&lt;bean name="transactionTemplate" class="org.springframework.transaction.support.TransactionTemplate" &gt;	&lt;property name="transactionManager" ref="transactionManager" &gt;&lt;/property&gt;&lt;/bean&gt;&lt;tx:annotation-driven/&gt;&lt;!-- 1ã€é…ç½®æ•¸æ“šåº«é€£æ¥æ±  --&gt;&lt;bean name="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt;	&lt;property name="jdbcUrl" value="${jdbc.jdbcUrl}"&gt;&lt;/property&gt;	&lt;property name="driverClass" value="${jdbc.driverClass}"&gt;&lt;/property&gt;	&lt;property name="user" value="${jdbc.user}"&gt;&lt;/property&gt;	&lt;property name="password" value="${jdbc.password}"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- 3ã€é…ç½®UserDao --&gt;&lt;bean name="userDao" class="com.huanfeng.dao.UserDaoImpl2"&gt;	&lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean name="AccountDao" class="com.huanfeng.dao.AccountDaoImpl"&gt;	&lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;&lt;/bean&gt;                           &lt;bean name="AccountService" class="com.huanfeng.service.AccountServiceImpl"&gt;	&lt;property name="ad" ref="AccountDao"&gt;&lt;/property&gt;	&lt;property name="tt" ref="transactionTemplate" &gt;&lt;/property&gt;&lt;/bean&gt;&lt;/beans&gt;</code></pre><p>ç„¶å¾Œä½¿ç”¨çš„æ™‚å€™å¯ä»¥ç›´æ¥åœ¨serviceä¸­é€²è¡Œé…ç½®ï¼š</p><pre><code>@Transactional(isolation=Isolation.REPEATABLE_READ,propagation=Propagation.REQUIRED,readOnly=false)public void transfer(Integer from, Integer to, Double money) {				ad.decreaseMoney(from, money);				ad.increaseMoney(to, money);	}</code></pre><p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨@Transationalä¾†ç›´æ¥åœ¨æ–¹æ³•åŒé…ç½®é€šçŸ¥ï¼Œæ­¤æ™‚è¡¨ç¤ºé€™å€‹æ–¹æ³•è¢«äº‹å‹™é€šçŸ¥å¢å¼·äº†ï¼Œç•¶ç„¶å¦‚æœæ¯å€‹æ–¹æ³•éƒ½é€™æ¨£é…ç½®æ„Ÿè¦ºéº»ç…©ï¼Œæˆ‘å€‘é‚„å¯ä»¥ç›´æ¥é…ç½®åœ¨é¡ä¸Šï¼Œé€™æ¨£è¡¨ç¤ºé€™å€‹é¡çš„æ‰€æœ‰æ–¹æ³•éƒ½è¢«å¢å¼·äº†ï¼Œä½†æ˜¯ç¬¬ä¸€å„ªå…ˆç´šæ‡‰è©²é‚„æ˜¯æ–¹æ³•ã€‚</p><pre><code>@Transactional(isolation=Isolation.REPEATABLE_READ,propagation=Propagation.REQUIRED,readOnly=true)public class AccountServiceImpl implements AccountService {	private AccountDao ad ;	private TransactionTemplate tt;		@Override	@Transactional(isolation=Isolation.REPEATABLE_READ,propagation=Propagation.REQUIRED,readOnly=false)	public void transfer(final Integer from,final Integer to,final Double money) {				//æ¸›éŒ¢				ad.decreaseMoney(from, money);				int i = 1/0;				//åŠ éŒ¢				ad.increaseMoney(to, money);	}}</code></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>spring</a></li><li><a>å…¥é–€</a></li><li><a>å­¸ç¿’</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/2d4007c7.html alt=â€œé»‘å®¢â€å…¥é–€å­¸ç¿’ä¹‹â€œWindowsçµ„ç­–ç•¥â€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ea21244d5f5c420ebef29650f3fafd1c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2d4007c7.html title=â€œé»‘å®¢â€å…¥é–€å­¸ç¿’ä¹‹â€œWindowsçµ„ç­–ç•¥â€>â€œé»‘å®¢â€å…¥é–€å­¸ç¿’ä¹‹â€œWindowsçµ„ç­–ç•¥â€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f71cd4af.html alt=æ©Ÿå™¨å­¸ç¿’å…¥é–€ç¬¬2ç« ï¼šSVMï¼ˆæ”¯æŒå‘é‡æ©Ÿï¼‰â€”ç·¨ç¢¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/28eb40e101e44cfb8b88aac745d012d6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f71cd4af.html title=æ©Ÿå™¨å­¸ç¿’å…¥é–€ç¬¬2ç« ï¼šSVMï¼ˆæ”¯æŒå‘é‡æ©Ÿï¼‰â€”ç·¨ç¢¼>æ©Ÿå™¨å­¸ç¿’å…¥é–€ç¬¬2ç« ï¼šSVMï¼ˆæ”¯æŒå‘é‡æ©Ÿï¼‰â€”ç·¨ç¢¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c914526c.html alt=æ–°æ‰‹å…¥é–€PLCï¼ŒæŒæ¡å­¸ç¿’æ–¹æ³•æ˜¯é—œéµ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/15355275026304e8d787f10 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c914526c.html title=æ–°æ‰‹å…¥é–€PLCï¼ŒæŒæ¡å­¸ç¿’æ–¹æ³•æ˜¯é—œéµ>æ–°æ‰‹å…¥é–€PLCï¼ŒæŒæ¡å­¸ç¿’æ–¹æ³•æ˜¯é—œéµ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2aaf38ea.html alt=â€œé»‘å®¢â€å…¥é–€å­¸ç¿’ä¹‹â€œä¿¡æ¯å®‰å…¨ç°¡è¿°â€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/5ae5313b1231494cb2eec2d2657289ae style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2aaf38ea.html title=â€œé»‘å®¢â€å…¥é–€å­¸ç¿’ä¹‹â€œä¿¡æ¯å®‰å…¨ç°¡è¿°â€>â€œé»‘å®¢â€å…¥é–€å­¸ç¿’ä¹‹â€œä¿¡æ¯å®‰å…¨ç°¡è¿°â€</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/7a77e853.html alt=æ·±åº¦å­¸ç¿’å…¥é–€æ•¸å­¸åŸºç¤ä¹‹ç·šæ€§ä»£æ•¸ç¯‡ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1522048354223acb78307ba style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/7a77e853.html title=æ·±åº¦å­¸ç¿’å…¥é–€æ•¸å­¸åŸºç¤ä¹‹ç·šæ€§ä»£æ•¸ç¯‡>æ·±åº¦å­¸ç¿’å…¥é–€æ•¸å­¸åŸºç¤ä¹‹ç·šæ€§ä»£æ•¸ç¯‡</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/c75c54fc.html alt=æ©Ÿå™¨å­¸ç¿’å…¥é–€ç¬¬2ç« ï¼šSVMï¼ˆæ”¯æŒå‘é‡æ©Ÿï¼‰â€”ç†è«– class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/db2b59aa64f64e189449ae9773356bed style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/c75c54fc.html title=æ©Ÿå™¨å­¸ç¿’å…¥é–€ç¬¬2ç« ï¼šSVMï¼ˆæ”¯æŒå‘é‡æ©Ÿï¼‰â€”ç†è«–>æ©Ÿå™¨å­¸ç¿’å…¥é–€ç¬¬2ç« ï¼šSVMï¼ˆæ”¯æŒå‘é‡æ©Ÿï¼‰â€”ç†è«–</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c9b52b0.html alt=æ©Ÿå™¨å­¸ç¿’å…¥é–€ç¬¬1ç« ï¼šç›£ç£å­¸ç¿’å’Œæ¨¸ç´ è²è‘‰æ–¯åˆ†é¡-ç¬¬2éƒ¨åˆ†ï¼ˆç·¨ç¢¼ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a6894d2d1ea64a8eb3bad2b892648639 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c9b52b0.html title=æ©Ÿå™¨å­¸ç¿’å…¥é–€ç¬¬1ç« ï¼šç›£ç£å­¸ç¿’å’Œæ¨¸ç´ è²è‘‰æ–¯åˆ†é¡-ç¬¬2éƒ¨åˆ†ï¼ˆç·¨ç¢¼ï¼‰>æ©Ÿå™¨å­¸ç¿’å…¥é–€ç¬¬1ç« ï¼šç›£ç£å­¸ç¿’å’Œæ¨¸ç´ è²è‘‰æ–¯åˆ†é¡-ç¬¬2éƒ¨åˆ†ï¼ˆç·¨ç¢¼ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d29cd6d.html alt=æˆäººé‹¼ç´å­¸ç¿’å…¥é–€æŒ‡å— class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/c0168ea4584a445b89b410158f81b7d2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d29cd6d.html title=æˆäººé‹¼ç´å­¸ç¿’å…¥é–€æŒ‡å—>æˆäººé‹¼ç´å­¸ç¿’å…¥é–€æŒ‡å—</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d131d60.html alt=éŸ“èªå…¥é–€å­¸ç¿’ï¼šå­¸å”±éŸ“èªæ­Œæ›²ã€èªè­˜éŸ“èªå››åéŸ³ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/afc028cd90fe485c92d9bc41d553c3af style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d131d60.html title=éŸ“èªå…¥é–€å­¸ç¿’ï¼šå­¸å”±éŸ“èªæ­Œæ›²ã€èªè­˜éŸ“èªå››åéŸ³>éŸ“èªå…¥é–€å­¸ç¿’ï¼šå­¸å”±éŸ“èªæ­Œæ›²ã€èªè­˜éŸ“èªå››åéŸ³</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4b5cbda.html alt=æ©Ÿå™¨å­¸ç¿’å…¥é–€ï¼šåå·®å’Œæ–¹å·® class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e4d7bca8189b4528b0f564ee473d2a68 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4b5cbda.html title=æ©Ÿå™¨å­¸ç¿’å…¥é–€ï¼šåå·®å’Œæ–¹å·®>æ©Ÿå™¨å­¸ç¿’å…¥é–€ï¼šåå·®å’Œæ–¹å·®</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/dc2af9c9.html alt=æ©Ÿå™¨å­¸ç¿’ç­†è¨˜(ä¸ƒ)â€”â€”åˆè­˜é‚è¼¯è¿´æ­¸ã€ä¸åŒæ–¹æ³•æ¨å°æ¢¯åº¦å…¬å¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/13adbab9c7f94c7fa81d49a98861b051 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/dc2af9c9.html title=æ©Ÿå™¨å­¸ç¿’ç­†è¨˜(ä¸ƒ)â€”â€”åˆè­˜é‚è¼¯è¿´æ­¸ã€ä¸åŒæ–¹æ³•æ¨å°æ¢¯åº¦å…¬å¼>æ©Ÿå™¨å­¸ç¿’ç­†è¨˜(ä¸ƒ)â€”â€”åˆè­˜é‚è¼¯è¿´æ­¸ã€ä¸åŒæ–¹æ³•æ¨å°æ¢¯åº¦å…¬å¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e214e6d7.html alt=æ·±åº¦å­¸ç¿’/æ©Ÿå™¨å­¸ç¿’å…¥é–€æ•¸å­¸çŸ¥è­˜æ•´ç†ï¼ˆäºŒï¼‰æ¢¯åº¦èˆ‡å°æ•¸ï¼Œæ³°å‹’å±•é–‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1540372101455de0fb74774 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e214e6d7.html title=æ·±åº¦å­¸ç¿’/æ©Ÿå™¨å­¸ç¿’å…¥é–€æ•¸å­¸çŸ¥è­˜æ•´ç†ï¼ˆäºŒï¼‰æ¢¯åº¦èˆ‡å°æ•¸ï¼Œæ³°å‹’å±•é–‹>æ·±åº¦å­¸ç¿’/æ©Ÿå™¨å­¸ç¿’å…¥é–€æ•¸å­¸çŸ¥è­˜æ•´ç†ï¼ˆäºŒï¼‰æ¢¯åº¦èˆ‡å°æ•¸ï¼Œæ³°å‹’å±•é–‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f3767255.html alt=è¬›é€æ©Ÿå™¨å­¸ç¿’ä¸­çš„æ¢¯åº¦ä¸‹é™ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/5c80301e53424671bc22755be2e4ee33 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f3767255.html title=è¬›é€æ©Ÿå™¨å­¸ç¿’ä¸­çš„æ¢¯åº¦ä¸‹é™>è¬›é€æ©Ÿå™¨å­¸ç¿’ä¸­çš„æ¢¯åº¦ä¸‹é™</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6fe27eab.html alt="å‰ç«¯ | HTMLå…¥é–€åŸºç¤çŸ¥è­˜-ç¶²é " class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e7a0b61194f445b8b9e5ae330961d2ea style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6fe27eab.html title="å‰ç«¯ | HTMLå…¥é–€åŸºç¤çŸ¥è­˜-ç¶²é ">å‰ç«¯ | HTMLå…¥é–€åŸºç¤çŸ¥è­˜-ç¶²é </a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ac12f3a1.html alt=ç›´æµé‹çˆçµ¦æ°´æ§åˆ¶å­¸ç¿’ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/eba10edcc8d14d9f8cde6fd5b212d90e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ac12f3a1.html title=ç›´æµé‹çˆçµ¦æ°´æ§åˆ¶å­¸ç¿’>ç›´æµé‹çˆçµ¦æ°´æ§åˆ¶å­¸ç¿’</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>