<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>什麼是一層/二層/三層交換機？ | 极客快訊</title><meta property="og:title" content="什麼是一層/二層/三層交換機？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/07aae25a76204d3db2aa82e31e817d6e"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c4d6a9.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c4d6a9.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3c4d6a9.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c4d6a9.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c4d6a9.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3c4d6a9.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3c4d6a9.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3c4d6a9.html><meta property="article:published_time" content="2020-10-29T21:00:58+08:00"><meta property="article:modified_time" content="2020-10-29T21:00:58+08:00"><meta name=Keywords content><meta name=description content="什麼是一層/二層/三層交換機？"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/3c4d6a9.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>什麼是一層/二層/三層交換機？</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>一、二層交換技術</p><p>二層交換技術是發展比較成熟，二層交換機屬數據鏈路層設備，可以識別數據包中的MAC地址信息，根據MAC地址進行轉發，並將這些MAC地址與對應的端口記錄在自己內部的一個地址表中。具體的工作流程如下：</p><p>（1） 當交換機從某個端口收到一個數據包，它先讀取包頭中的源MAC地址，這樣它就知道源MAC地址的機器是連在哪個端口上的；</p><p>（2） 再去讀 取包頭中的目的MAC地址，並在地址表中查找相應的端口；</p><p>（3） 如表中有與這目的MAC地址對應的端口，把數據包直接複製到這端口上；</p><p>（4） 如表中找不到相應的端口則把數據包廣播到所有端口上，當目的機器對源機器迴應時，交換機又可以學習一目的MAC地址與哪個端口對應，在下次傳送數據時就不再需要對所有端口進行廣播了。</p><p>不斷的循環這個過程，對於全網的MAC地址信息都可以學習到，二層交換機就是這樣建立和維護它自己的地址表。</p><div class=pgc-img><img alt=什麼是一層/二層/三層交換機？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/07aae25a76204d3db2aa82e31e817d6e><div class=pgc-img-handler><div class="pgc-img-button editorImage fix-android"></div><div class="pgc-img-button setImageCover fix-android"></div><div class="pgc-img-button deleteImage fix-android"></div></div><div class=pgc-img-border></div></div><p>從二層交換機的工作原理可以推知以下三點：</p><p>（1） 由於交換機對多數端口的數據進行同時交換，這就要求具有很寬的交換總線帶寬，如果二層交換機有N個端口，每個端口的帶寬是M，交換機總線帶寬超過N×M，那麼這交換機就可以實現線速交換；</p><p>（2） 學習端口連接的機器的MAC地址，寫入地址表，地址表的大小（一般兩種表示方式：一為BEFFER RAM，一為MAC表項數值），地址表大小影響交換機的接入容量；</p><p>（3） 還有一個就是二層交換機一般都含有專門用於處理數據包轉發的ASIC （Application specific Integrated Circuit）芯片，因此轉發速度可以做到非常快。由於各個廠家採用ASIC不同，直接影響產品性能。</p><p>以上三點也是評判二三層交換機性能優劣的主要技術參數，這一點請大家在考慮設備選型時注意比較。</p><p>二、路由技術</p><p>路由器工作在OSI模型的第三層---網絡層操作，其工作模式與二層交換相似，但路由器工作在第三層，這個區別決定了路由和交換在傳遞包時使用不同的控制信息，實現功能的方式就不同。工作原理是在路由器的內部也有一個表，這個表所標示的是如果要去某一個地方，下一步應該向那裡走，如果能從路由表中找到數據包下一步往哪裡走，把鏈路層信息加上轉發出去；如果不能知道下一步走向哪裡，則將此包丟棄，然後返回一個信息交給源地址。</p><p>路由技術實質上來說不過兩種功能：決定最優路由和轉發數據包。路由表中寫入各種信息，由路由算法計算出到達目的地址的最佳路徑，然後由相對簡單直接的轉發機制發送數據包。接受數據的下一臺路由器依照相同的工作方式繼續轉發，依次類推，直到數據包到達目的路由器。</p><p>而路由表的維護，也有兩種不同的方式。一種是路由信息的更新，將部分或者全部的路由信息公佈出去，路由器通過互相學習路由信息，就掌握了全網的拓撲結構，這一類的路由協議稱為距離矢量路由協議；另一種是路由器將自己的鏈路狀態信息進行廣播，通過互相學習掌握全網的路由信息，進而計算出最佳的轉發路徑，這類路由協議稱為鏈路狀態路由協議。</p><p>由於路由器需要做大量的路徑計算工作，一般處理器的工作能力直接決定其性能的優劣。</p><p>當然這一判斷還是對中低端路由器而言，因為高端路由器往往採用分佈式處理系統體系設計。</p><p>三、三層交換技術</p><p>近年來的對三層技術的宣傳，耳朵都能起繭子，到處都在喊三層技術，有人說這是個非常新的技術，也有人說，三層交換嘛，不就是路由器和二層交換機的堆疊，也沒有什麼新的玩意，事實果真如此嗎？下面先來通過一個簡單的網絡來看看三層交換機的工作過程。</p><p>組網比較簡單</p><p>使用IP的設備A-----------三層交換機--------使用IP的設備B</p><p>比如A要給B發送數據，已知目的IP，那麼A就用子網掩碼取得網絡地址，判斷目的IP是否與自己在同一網段。</p><p>如果在同一網段，但不知道轉發數據所需的MAC地址，A就發送一個ARP請求，B返回其MAC地址，A用此MAC封裝數據包併發送給交換機，交換機起用二層交換模塊，查找MAC地址表，將數據包轉發到相應的端口。</p><p>如果目的IP地址顯示不是同一網段的，那麼A要實現和B的通訊，在流緩存條目中沒有對應MAC地址條目，就將第一個正常數據包發送向一個缺省網關，這個缺省網關一般在操作系統中已經設好，對應第三層路由模塊，所以可見對於不是同一子網的數據，最先在MAC表中放的是缺省網關的MAC地址；</p><p>然後就由三層模塊接收到此數據包，查詢路由表以確定到達B的路由，將構造一個新的幀頭，其中以缺省網關的MAC地址為源MAC地址，以主機B的MAC地址為目的MAC地址。通過一定的識別觸發機制，確立主機A與B的MAC地址及轉發端口的對應關係，並記錄進流緩存條目表，以後的A到B的數據，就直接交由二層交換模塊完成。這就通常所說的一次路由多次轉發。</p><p>以上就是三層交換機工作過程的簡單概括，可以看出三層交換的特點：</p><p>1、由硬件結合實現數據的高速轉發。</p><p>2、這就不是簡單的二層交換機和路由器的疊加，三層路由模塊直接疊加在二層交換的高速背板總線上，突破了傳統路由器的接口速率限制，速率可達幾十Gbit/s。算上背板帶寬，這些是三層交換機性能的兩個重要參數。</p><p>3、簡潔的路由軟件使路由過程簡化。</p><p>4、大部分的數據轉發，除了必要的路由選擇交由路由軟件處理，都是又二層模塊高速轉發，路由軟件大多都是經過處理的高效優化軟件，並不是簡單照搬路由器中的軟件。</p><div class=pgc-img><img alt=什麼是一層/二層/三層交換機？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d56fcfe4e0fe462c9b63f927093f70c6><div class=pgc-img-handler><div class="pgc-img-button editorImage fix-android"></div><div class="pgc-img-button setImageCover fix-android"></div><div class="pgc-img-button deleteImage fix-android"></div></div><div class=pgc-img-border></div></div><p>四、結論</p><p>二層交換機用於小型的局域網絡。這個就不用多言了，在小型局域網中，廣播包影響不大，二層交換機的快速交換功能、多個接入端口和低謙價格為小型網絡用戶提供了很完善的解決方案。</p><p>路由器的優點在於接口類型豐富，支持的三層功能強大，路由能力強大，適合用於大型的網絡間的路由，它的優勢在於選擇最佳路由，負荷分擔，鏈路備份及和其他網絡進行路由信息的交換等等路由器所具有功能。</p><p>三層交換機的最重要的功能是加快大型局域網絡內部的數據的快速轉發，加入路由功能也是為這個目的服務的。如果把大型網絡按照部門，地域等等因素劃分成一個個小局域網，這將導致大量的網際互訪，單純的使用二層交換機不能實現網際互訪；</p><p>如單純的使用路由器，由於接口數量有限和路由轉發速度慢，將限制網絡的速度和網絡規模，採用具有路由功能的快速轉發的三層交換機就成為首選。如果把大型網絡按照部門，地域等等因素劃分成一個個小局域網，這將導致大量的網際互訪，單純的使用二層交換機不能實現網際互訪；</p><p>如單純的使用路由器，由於接口數量有限和路由轉發速度慢，將限制網絡的速度和網絡規模，採用具有路由功能的快速轉發的三層交換機就成為首選。</p><p>一般來說，在內網數據流量大，要求快速轉發響應的網絡中，如全部由三層交換機來做這個工作，會造成三層交換機負擔過重，響應速度受影響，將網間的路由交由路由器去完成，充分發揮不同設備的優點，不失為一種好的組網策略，當然，前提是客戶的腰包很鼓，不然就退而求其次，讓三層交換機也兼為網際互連。</p><div class=pgc-img><img alt=什麼是一層/二層/三層交換機？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/336a02eb68e744c199d19c053c857660><div class=pgc-img-handler><div class="pgc-img-button editorImage fix-android"></div><div class="pgc-img-button setImageCover fix-android"></div><div class="pgc-img-button deleteImage fix-android"></div></div><div class=pgc-img-border></div></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>什麼</a></li><li><a>一層</a></li><li><a>二層</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/f6a5358e.html alt=電纜上為什麼有一層編織層？它的作用是什麼？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/c025e2b2136a48a1be54482c1a22d364 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f6a5358e.html title=電纜上為什麼有一層編織層？它的作用是什麼？>電纜上為什麼有一層編織層？它的作用是什麼？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bdedb94f.html alt=科普貼！丨你知道港珠澳大橋為什麼是彎的嗎！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d84b472b45474058bfd6bd4b87450f53 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bdedb94f.html title=科普貼！丨你知道港珠澳大橋為什麼是彎的嗎！>科普貼！丨你知道港珠澳大橋為什麼是彎的嗎！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/52ecc739.html alt=科普！看完這篇文章，你就知道港珠澳大橋為什麼是彎的了！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8f0b8a6daf6e4f9bab21e7c06cbc9111 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/52ecc739.html title=科普！看完這篇文章，你就知道港珠澳大橋為什麼是彎的了！>科普！看完這篇文章，你就知道港珠澳大橋為什麼是彎的了！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8bbd5f8a.html alt=長知識！什麼是榫卯結構？為什麼現代建築當中不常見了？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1537941825042b6f495fa56 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8bbd5f8a.html title=長知識！什麼是榫卯結構？為什麼現代建築當中不常見了？>長知識！什麼是榫卯結構？為什麼現代建築當中不常見了？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/83641773.html alt=什麼是懸挑結構？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/faebf061b82546f58e63afab5ede5fa2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/83641773.html title=什麼是懸挑結構？>什麼是懸挑結構？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a27253ff.html alt=港珠澳大橋為什麼是曲線的？關於橋那些你不知道的事 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/a3c45dcf4c374ed4be36f55d44847637 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a27253ff.html title=港珠澳大橋為什麼是曲線的？關於橋那些你不知道的事>港珠澳大橋為什麼是曲線的？關於橋那些你不知道的事</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3eed9cb8.html alt=科普！港珠澳大橋為什麼是彎的！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/41bd66f3348b464c89b66628810a1aeb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3eed9cb8.html title=科普！港珠澳大橋為什麼是彎的！>科普！港珠澳大橋為什麼是彎的！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/765025c9.html alt=電纜與光纜有什麼區別 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1c289a44885646ac904fbae012632866 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/765025c9.html title=電纜與光纜有什麼區別>電纜與光纜有什麼區別</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c5053ab7.html alt="網站服務器是什麼 網站服務器怎麼搭建「詳解」" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/f9cfb6ae0c13447eab17646a80117f1b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c5053ab7.html title="網站服務器是什麼 網站服務器怎麼搭建「詳解」">網站服務器是什麼 網站服務器怎麼搭建「詳解」</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3b60dd43.html alt=長壽者的耳朵為什麼比別人長？原來耳朵還有這個大祕密 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/616a0000c4f325f77564 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3b60dd43.html title=長壽者的耳朵為什麼比別人長？原來耳朵還有這個大祕密>長壽者的耳朵為什麼比別人長？原來耳朵還有這個大祕密</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2c33cb41.html alt=為什麼每天都那麼累？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/S2HRVEQ6t1WhxB style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2c33cb41.html title=為什麼每天都那麼累？>為什麼每天都那麼累？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3f7c0fd3.html alt=什麼是場景？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3f7c0fd3.html title=什麼是場景？>什麼是場景？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bd2acf38.html alt=寫場面要注意什麼？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/4e5a000167e332d06355 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bd2acf38.html title=寫場面要注意什麼？>寫場面要注意什麼？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bdc59733.html alt="網絡詞名場面是什麼意思 名場面是什麼梗" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bdc59733.html title="網絡詞名場面是什麼意思 名場面是什麼梗">網絡詞名場面是什麼意思 名場面是什麼梗</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/31ba8cf2.html alt=[科普知識]什麼是光纖的冷接？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/c9d2cd0e63c0404f9f4cbdaae98d9606 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/31ba8cf2.html title=[科普知識]什麼是光纖的冷接？>[科普知識]什麼是光纖的冷接？</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>