<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>西門子S7-300 PLC 的50個經典問題，都懂了你就是專家 | 极客快訊</title><meta property="og:title" content="西門子S7-300 PLC 的50個經典問題，都懂了你就是專家 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/9bebd2b74bd24c6a9eb04f29184c6d4a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3d9462d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3d9462d.html><meta property="article:published_time" content="2020-10-29T21:04:19+08:00"><meta property="article:modified_time" content="2020-10-29T21:04:19+08:00"><meta name=Keywords content><meta name=description content="西門子S7-300 PLC 的50個經典問題，都懂了你就是專家"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/3d9462d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>西門子S7-300 PLC 的50個經典問題，都懂了你就是專家</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div class=pgc-img><img alt="西門子S7-300 PLC 的50個經典問題，都懂了你就是專家" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9bebd2b74bd24c6a9eb04f29184c6d4a><p class=pgc-img-caption></p></div><p><br></p><blockquote><p><br></p></blockquote><p><br></p><p><strong>1:使用CPU 315F和ET 200S時應如何避免出現“通訊故障”消息？</strong></p><p>使用CPU S7 315F， ET 200S以及故障安全DI/DO模塊，那麼您將調用OB35 的故障安全程序。而且，您已經接受所有監控時間的默認設置值，並且願意接收“通訊故障”消息。OB 35 默認設置為100毫秒。您已經將F I/O模塊的F監控時間設定為100毫秒，因此至少每100毫秒要尋址一次I/O模塊。但是由於每100毫秒才調用一次OB 35，因此會發生通訊故障。要確保OB35的掃描間隔和F監控時間有所差別，請確保F監控時間大於OB35的掃描間隔時間。</p><p>S7分佈式安全系統，一直到V5.2 SP1 和 6ES7138-4FA00-0AB0，6 ES7138-4FB00-0AB0，6ES7138-4CF00-0AB0 都會出現這個問題。在新的模塊中，F 監控時間設定為150毫秒.<br><strong>2:當DP從站不可用時，PROFIBUS上S7-300 CPU的監控時間是多少？ </strong>使用CPU的PROFIBUS接口上的DP從站操作PROFIBUS網絡時，希望在啟動期間檢查期望的組態與實際的組態是否匹配。在 CPU屬性對話框中的Startup選項卡上給出了兩個不同的時間。<br><strong>3:如何判斷電源或緩衝區出錯，如：電池故障？ </strong>如果電源(僅S7－400)或緩衝區中的一個錯誤觸發一個事件，則CPU操作系統訪問OB81。錯誤糾正後，重新訪問OB81。電池故障情況下，如果電池檢測中的BATT.INDIC開關是激活的，則 S7-400僅訪問OB81。如果沒有組態OB81，則CPU不會進入操作狀態STOP。如果OB81不可用，則當電源出錯時，CPU仍保持運行。<br><strong>4：為S7CPU上的I/O模塊(集中式或者分佈式的)分配地址時應當注意哪些問題？ </strong>請注意，創建的數據區域(如一個雙字)不能組態在過程映象的邊界上，因為在該數據塊中，只有邊界下面的區域能夠被讀入過程映像，因此不可能從過程映像訪問數據。因此，這些組態規則不支持這種情況：例如，在一個 256 字節輸入的過程映像的 254 號地址上組態一個輸入雙字。如果一定需要如此選址，則必須相應地調整過程映像的大小(在CPU的Properties中)。<br><strong>5：在S7 CPU中如何進行全局數據的基本通訊？在通訊時需要注意什麼？ </strong>全局數據通訊用於交換小容量數據，全局數據(GD)可以是： 輸入和輸出<br>標記<br>數據塊中的數據<br>定時器和計數器功能<br>數據交換是指在連入單向或雙向GD環的CPU之間以數據包的形式交換數據。GD環由GD環編號來標識。<br>單向連接：某一CPU可以向多個CPU發送GD數據包。<br>雙向連接：兩個CPU之間的連接：每個CPU都可以發送和接收一個GD數據包。<br>必須確保接收端CPU未確認全局數據的接收。如果想要通過相應通訊塊(SFB、FB或FC)來交換數據，則必須進行通訊塊之間的連接。通過定義一個連接，可以極大簡化通訊塊的設計。該定義對所有調用的通訊塊都有效且不需要每次都重新定義。<br><strong>6：可以將S7-400存儲卡用於CPU 318-2DP嗎？ </strong>在通常的操作中，只能使用訂貨號為6ES7951-1K... (Flash EPROM)和6ES7951-1A... (RAM)的“短”> 存儲卡。<br><strong>7：儘管LED燈亮，為什麼CPU 31xC不能從缺省地址124和125讀取完整輸入？ </strong>對於下列型號的CPU ，請檢查 24V 電壓是否接入引腳 1。LED由輸入電流控制。引腳 1 上的 24V 電壓需要做進一步處理。</p><p>313C(6ES7 313-5BE0.-0AB0),313C-2DP (6ES7 313-6CE0.-0AB0),313C-2PTP (6ES7 313-6BE0.-0AB0), 314C-2DP (6ES7 314-6CF0.-0AB0),314C-2PTP (6ES7 314-6BF0.-0AB0)<br><strong>8：配置CPU 31x-2 PN/DP的PN接口時，當PROFINET接口偶爾發生通信錯誤時，該如何處理？ </strong>請確定以太網(PROFINET)中的所有組件(轉換）都支持 100 Mbit/s全雙工基本操作。避 免中心分配器割裂網絡，因為這些設備只能工作於半雙工模式。<br><strong>9：在硬件配置編輯器中，“時鐘”修正因子有什麼含義呢？ </strong>在硬件配置中，通過CPU > Properties > Diagnostics/Clock，你可以進入“時鐘”> 域內指定一個修正因子。這個修正因子隻影響CPU的硬件時鐘。時間中斷源自於系統時鐘，並且和硬件時鐘的設定毫無關係。<br><strong>10：如何通過PROFIBUS DP用功能塊實現在主、從站之間實現雙向數據傳送？ </strong>在主站plc可以通過調用SFC14 “DPRD_DAT“和SFC15 “DPWR_DAT“來完成和從站的數據交換，而對於從站來說可以調用FC1 “DP_SEND“ 和FC2 ”DP_RECV“完成數據的交換。<br><strong>11：可以從S7 CPU中讀出哪些標識數據？ </strong>通過SFC 51“RDSYSST”可讀出下列標識數據：<br>可以讀出訂貨號和CPU版本號。為此，使用SFC 51和SSL ID 0111並使用下列索引：<br>1 = 模塊標識<br>6 = 基本硬件標識<br>7 = 基本固件標識<br><strong>12：在含有CPU 317-2PN/DP的S7-300上，如何編程可加載通訊功能塊FB14("GET")和FB15("PUT")用於數據交換？ </strong>為了通過一個S7連接在使用CPU 317-2PN/DP的兩個S7-300工作站之間進行數據交換，其中該S7連接是使用NetPro組態的， 在S7通信中，必須調用通訊功能塊。模塊FB14("GET") 用於從遠程CPU取出數據，模塊FB15("PUT")用於將數據寫入遠程CPU。功能塊包含在STEP 7 V5.3的標準庫中。&lt; CPU 317-2PN/DP的通訊模塊FB14("GET")和FB15("PUT")的屬性 ：</p><p>FB14和FB15是異步通訊功能。這些模塊的運行可能跨越多個OB1循環。通過輸入參數REQ激活FB14或FB15。DONE、NDR或ERROR表明作業結束。PUT和GET可以同時通過連接進行通信。</p><p>注意：不能將庫SIMATIC_NET_CP中的通訊塊用於CPU317-2PN/DP。<br><strong>13：對於緊湊CPU 313C-2 PtP和CPU 314-2 PtP作業同步處理需要注意什麼？ </strong>在用戶程序中，不可以同時編程SEND作業和FETCH作業。<br>即：<br>只要SEND作業(SFB 63)沒有完全終止(DONE或ERROR)，就不能調用FETCH作業(SFB 64)<br>(甚至在REQ=0的時候)。<br>只要FETCH作業(SFB 64)沒有完全終止(DONE或ERROR)，就不能調用SEND作業(SFB 63)<br>(甚至在REQ=0的時候)。<br>在處理一個主動作業(SEND作業、SFB 63或FETCH作業、SFB 64)時，同時可以處理一個被動作業<br>(SERVE作業、SFB 65)。<br><strong>14：可以將MICR．ｍａｓｔｅｒ420到440作為組態軸(位置外部檢測)和CPU 317T一起運行嗎？ </strong>可以，但在動力和精度方面，對組態軸的要求差別非常大。在高要求情況下，伺服驅動SIMODRIVE 611U、MASTERDRIVES MC或SINAMICS S必須和CPU 317T一起運行。在低要求情況下，MICROMASTER系列也能滿足動力和精度要求。<br><strong>15：如何在已配置為DP從站的兩個CPU模塊間組態直接數據交換(節點間通信)？ </strong>兩個CPU站配置為DP從站，而且由同一個DP主站操作，它們之間的通信通過配置交換模式為DX可以完成直接數據交換。<br><strong>16：如何使用SFC65，SFC66，SFC67 和 SFC68 進行通信？ </strong>對於單向基本通信，使用系統功能 SFC67 (X_GET)從一個被動站讀取數據，使用系統功能SFC68(X_PUT)將數據寫入一個被動站(服務器)。這些塊只有在主動站中才調用。對於一個雙向基本通信，調用站中的系統功能SFC65 (X_SEND)，在該站中想將數據發送到另一個主動站。在同樣為主動的主動接收站中，數據將通過系統功能SFC66 (X_RCV)記錄。</p><p>兩種類型的基本通信中，每次塊調用可以處理最多 76 字節的用戶數據。對於S7-300 CPU，數據傳送的數據一致性是 8 個字節，對於S7-400 CPU則是全長。如果連接到S7-200，必須考慮到S7-200只能用作一個被動站。<br><strong>17：什麼是自由分配 I/O 地址？ </strong>地址的自由分配意味著您可對每種模塊(SM/FM/CP)自由的分配一個地址。地址分配在 STEP 7 裡進行。先定義起始地址，該模塊的其它地址以它為基準。</p><p>自由分配地址的優點：因為模塊之間沒有地址間隙，就可以優化地使用可用地址空間。在創建標準軟件時，分配地址過程中可以不考慮所涉及的 S7-300 的組態。<br><strong>18：診斷緩衝器能夠幹什麼？ </strong>更快地識別故障源，因而提高系統的可用性。評估STOP之前的最後事件，並尋找引起STOP的原因。</p><p>診斷緩衝器是一個帶有單個診斷條目的循環緩衝器，這些診斷條目顯示在事件發生序列中；第一個條目顯示的是最近發生的事件。如果緩衝器已滿， 最早發生的事件就會被新的條目所覆蓋。根據不同的CPU，診斷緩衝器的大小或者固定，或者可以通過HW Config中通過參數進行設置。<br><strong>19：診斷緩衝器中的條目包括哪些？ </strong>1） 故障事件<br>2） 操作模式轉變以及其它對用戶重要的操作事件<br>3） 用戶定義的診斷事件(用SFC52 WR_USMSG)<br>在操作模式STOP下，在診斷緩衝器中儘量少的存儲事件，以便用戶能夠很容易在緩衝器中找到引起STOP的原因。因此，只有當事件要求用戶產生一個響應(如計劃系統內存復位，電池需要充電)或必須註冊重要信息(如固件更新，站故障)時，才將條目存儲在診斷緩衝器中。<br><strong>20：如何確定MMC的大小以便完整地存儲STEP 7項目？ </strong>為了給項目選擇合適的MMC，需要了解整個項目的大小以及要加載塊的大小。可以按照如下所述的方法來確定項目的大小：</p><p>1） 首先歸檔STEP 7項目。然後在Windows資源瀏覽器中打開已歸檔項目，並確定其大小(選中該項目並右擊)。這會告訴您歸檔文件的大小。</p><p>2） 將塊加載入CPU。現在仍然需要選擇"PLC > Module Information > Memory"。在此，在" Load memory RAM + EPROM"中，可以看到分配的加載內存的大小。</p><p>3） 必須將該值和已經確定的歸檔項目的大小相加。這樣就可以得出在一個MMC上保存整個項目所需的總內存的大小。<br><strong>21：CPU全面復位後哪些設置會保留下來？ </strong>復位CPU時，內存沒有被完全刪除。整個主內存被完全刪除了，但加載內存中數據，以及保存在Flash-EPROM存儲卡(MC)或微存儲卡(MMC)上的數據，則會全部保留下來。除了加載內存以外，計時器(CPU 312 IFM除外)和診斷緩衝也被保留。具有MPI接口或一個組合MPI/DP接口的CPU只在全部復位之前保留接口所採用的當前地址和波特率。另一方面，另一個PROFIBUS地址也被完全刪除，不能再訪問。</p><p>重要事項：重新設置PG/PC之後，與CPU之間的通訊只能通過MPI或MPI/DP接口來建立。<br><strong>22：為什麼不能通過MPI在線訪問CPU？ </strong>如果在CPU上已經更改了MPI參數，請檢查硬件配置。可以將這些值與在"Set PG/PC interface"下的參數進行比較，看是否有不一致。</p><p>或者可以這樣做：打開一個新的項目，創建一個新的硬件組態。在CPU的MPI接口的屬性中為地址和傳送速度設置各自的值。將"空"項目寫入存儲卡中。把該存儲卡插入到CPU 然後重新打開CPU的電壓，將位於存儲卡上的設置傳送到CPU。現在已經傳送了MPI接口的當前設置，並且像這樣的話，只要接口沒有故障就可以建立連接。這個方法適用於所有具有存儲卡接口的S7-CPU。<br><strong>23：錯誤OB的用途是什麼？ </strong>如果發生一個所描述的錯誤(見文件1)，則將調用並處理相應OB。如果沒有加載該OB，則CPU進入STOP(例外：OB70、72、7 3和81)</p><p>S7-CPU可以識別兩類錯誤：<br>1） 同步錯誤：這些錯誤在處理特定操作的過程中被觸發，並且可以歸因於用戶程序的特定部分。</p><p>2） 異步錯誤：這些錯誤不能直接歸因於運行中的程序。這些錯誤包括優先級類的錯誤，自動化系統中的錯誤(故障模塊)或者冗餘的錯誤。<br><strong>24：在DP從站或CPU315-2DP型主站裡應該編程哪些“故障 OBs”？ </strong>在組態一個作為從站的CPU315-2DP站時，必須在STEP7程序中編程下列OB以便評估分佈式I/O類型的錯誤信息：<br>OB 82 診斷中斷 OB 、OB 86 子機架故障 OB 、OB 122 I/O 訪問出錯</p><p>1） 診斷OB82：如果一個支持診斷，並且已經對其釋放了診斷中斷的模塊識別出一個錯誤，它既對進入事件也對外出的事件向 CPU 發出一個診斷中斷的請求。操作系統然後調用 OB82。在 OB82 自己的局部變量裡包含有有缺陷模塊的邏輯基地址和 4 個字節的診斷數據。如果你還沒有編程 OB82, 則 CPU 進入“停止”模式。你可以阻斷或延遲診斷中斷 OB ，並通過 SFC 39 - 42 重新釋放它。</p><p>2） 子機架故障OB86：如果識別出一個 DP 主站系統或一個分佈式 I/O 站有故障（既對進入事件也對外出的事件），該 CPU 的操作系統就調用 OB 86 。如果沒有編程 OB 86 但出現了這樣一個錯誤， CPU 就進入“停止”模式。你可以阻斷或延遲 OB86 並通過 SFC 39 - 42 重新釋放它。</p><p>3） I/O 訪問出錯OB122：當訪問一個模塊的數據時出錯，該CPU的操作系統就調用OB 122。比方說，CPU在存取一個單個模塊的數據時識別出一個讀錯誤，那麼操作系統就調用OB 122。該OB 122以與中斷塊有相同的優先級類別運行。如果沒有編程OB 122,那麼CPU由“運行”模式改為“停止”模式。<br><strong>25：為什麼在某些情況下，保留區會被重寫? </strong>在STEP 7的硬件組態中，可以把幾個操作數區定義為“保留區”。這樣可以在掉電以後，即使沒有備份電池的話，仍能保持這些區域中的內容。如果定義一個塊為 “保留塊”，而它在 CPU 中不存在或只是臨時安裝過，那麼這些區域的部分內容會被重寫。在電源接通/斷開之後，其他內容會在相關區裡找到。<br><strong>26：為何不能把閃存卡的內容加載入S7 300 CPU？ </strong>你的項目在閃存卡上。現在要用它加載 S7 300 。但加載結束後發現 CPU 的 RAM 中仍是空的。出現此問題的原因是你的程序裡有無法處理的，"錯誤的"組織塊(比如說， OB86 沒有 DP 接口)。在重新設置和重新啟動 CPU 後, RAM 仍是空的。診斷緩衝區對這個"無法加載"的塊會提示一些信息。<br><strong>27：當把 CPU315-2DP 作為從站，把 CPU315-2DP 作為主站時的診斷地址 </strong>在組態一個 CPU315-2DP 站時，你使用 S7 工具 “H/W CONFIG” 來分配診斷地址。如果發生一個故障，這些診斷地址被加入診斷 OB 的變量 “OB82_MDL_ADDR” 裡。你可在 OB82 裡分析此變量，確定有故障的站並作出相應的反應。</p><p>下面是如何分配診斷地址的例子：<br>第 1 步：通過 CPU315-2DP 組態從站並賦予一個診斷地址，比如 422。</p><p>第 2 步：通過 CPU315-2DP 組態主站</p><p>第 3 步：把組態好的從站鏈接到主站並賦予一個診斷地址，比如 1022。<br><strong>28：需要為S7-300 CPU的DP從站接口作何種設置，才可以使用它來進行路由選擇？ </strong>如果使用CPU作為I-Slave，並且該CPU也起S7 路由器的作用，那麼請注意如下事項：</p><p>用於路由選擇的從站的DP接口必須設置為活動狀態。這可以在HW Config中完成：在DP接口的屬性對話框中，選項" Commissioning/Test operation"或"Programming, status/modify..."必須激活。關於這些設置的注意事項可以在下表中獲得。</p><p>對於S7 路由連接，有 4 種可用的連接資源-與其它任何連接資源無關。沒有使用PG/OP的連接資源或S7基本通信.</p><p>如果必須通過DP接口來建立一個與位於其機架上的通信夥伴連接時(如在 CP 343-1 中)，也要使用一個路由連接。而對於通過MPI接口與一個位於其機架上的通信夥伴的連接，則不使用路由連接資源，因為在這種情況下，能夠直接到達夥伴。注意事項：這不適用於CPU 318。<br><strong>29：為什麼當使用S7-300 CPU的內部運行時間表時，沒有任何返回值？ </strong>當對CPU 312IFM到316-2DP參數化系統功能塊 SFC2, SFC3 和 SFC4 時，為一個運行時間表規定了一個大於 "B#16#0"的標識符，那麼將出錯並且所需的功能也無法用。此種情況下，將在塊的" RETVAL"輸出處輸出標識符 "8080h" 。<br>說明：對於這些 CPU，只有一個計時器可用。因此你應該只用標識符 "B#16#0"。在一個週期塊(OB1, OB35)裡一定不能調用系統功能 SFC2 "SET_RTM"，而是應該在重啟動OB(OB100)調用它。你也可以通過外部觸發器來啟動該塊。不然的話，該塊將老是復位運行計時錶，永遠完成不了計數。<br><strong>30：變量是如何儲存在臨時局部數據中的？ </strong>L 堆棧永遠以地址“0”開始。在 L 堆棧中，會為每個數據塊保留相同個數的字節，作為存放每個塊所擁有的靜態或局部數據。</p><p>當某個塊終止時，那麼它的空間隨之也被重新釋放出來。指針總是指向當前打開塊的第一個字節。<br><strong>31：在CPU經過完全復位後是否運行時間計數器也被複位？ </strong>使用S7-300時，帶硬件時鐘(內置的 “實時時鐘”)和帶軟件時鐘的 CPU 之間有區別。對於那些無後備電池的軟件時鐘的 CPU，運行時間計數器在 CPU 被完全復位後其最後值被刪除。而對於那些有後備電池的硬件時鐘的 CPU，運行時間計數器的最後值在 CPU 被完全復位後被保留下來。同樣， CPU 318 和所有的 S7-400 CPU 的運行時間計數器在 CPU 被完全復位後其最後值被保留。<br><strong>32：如何把不在同一個項目裡的一個S7 CPU組態為我的S7 DP主站模塊的DP從站？ </strong>缺省情況下, 在STEP 7裡只可以把一個S7 CPU組態為從站，如果說該站是在同一個項目中的話。該站然後在“PROFIBUS-DP > 已經組態的站”下的硬件目錄裡作為“CPU 31x-2 DP”出現。用這種途徑，可以設置起 DP 主站與 DP 從站間的鏈接。</p><p>還存在一個選項，可把一個與主站不在同一個項目裡的S7 CPU組態為從站。進行如下：</p><p><strong>按常規組態DP從站。 </strong>從網上下載要用作從站的S7-300 CPU的GSD文件。該文件位於客戶支持網址的“PROFIBUS GSD 文件 / SIMATIC”下。</p><p><strong>打開SIMATIC Manager 和硬件配置。 </strong>打開“選項 ; 安裝新的 GSD...”，把剛下載的 GSD 文件插入硬件目錄 。(注意：此過程中在 HW Config 中無須打開任何窗口)</p><p><strong>通過“選項; 更新目錄”來更新硬件目錄。&lt; </strong>現在可以組態你的 DP 主站。將可以在 “PROFIBUS-DP > 更多現場設備 > SPS” 下發現作為從站的該 S7-300 CPU 。<br>注意：如果是手動來結合該 DP 從站, 要確保總線參數，該 DP 從站的 PROFIBUS 地址 和它的 I/O 組態在兩個項目裡必須相同。<br><strong>33：無備用電池情況下斷電的影響與完全復位一樣嗎？ </strong>不一樣。在CPU被完全復位的情況下，其硬件配置信息被刪除(MPI地址除外)，程序被刪除， 剩磁存儲器也被清零。</p><p>在無備用電池和存儲卡的情況下關電，硬件配置信息(除了MPI地址) 和程序被刪除。然而，剩磁存儲器不受影響。如果在此情況下重新加載程序，則其工作時採用剩磁存儲器的舊值。比方說，這些值通常來自前 8 個計數器。如果不把這一點考慮在內，會導致危險的系統狀態。</p><p>建議：無備用電池和存儲卡的情況下斷電後，總是要做一下完全復位。<br><strong>34：以將 2 線制傳感器連接到緊湊型CPU的模擬輸入端嗎？ </strong>可以將 2 線制和 4 線制的傳感器連接到CPU 300C的模擬輸入端。使用一個 2 線制傳感器時，在硬件組態中將“I = 電流”設置為測量類型，與 4 線制傳感器的設置一樣。</p><p>注意事項：請注意緊湊型CPU僅支持有源傳感器( 4 線制傳感器)。如果使用無源傳感器( 2 制傳感器)，必須使用外部電源。</p><p>警告：請注意所允許的最大輸入電流。2 線制傳感器在出現短路時可能會超出最大允許電流。技術數據中規定的最大允許電流是50mA(破壞極限)。對於這種情況(例如，對 2 線制傳感器加電流限制或與傳感器串聯一個PTC熱敏電阻)，確保提供足夠保護。<br><strong>35：SM322-1HH01也能在負載電壓為交流 24 V的情況下工作嗎？ </strong>是的，您也可以在負載電壓為交流 24 V的情況下使用SM322-1HH01。<br><strong>36：要確保SM322-1HF01 接通最小需要多大的負載電壓和電流？ </strong>SM322-1HF01 繼電器模塊需要 17 V和 8 mA才能確保開閉正常。對於觸點的壽命來說，這樣的值比手冊上提供的這個模塊的值(10 V和 5 mA)更好。手冊的規定值應該認為是最低要求值。<br><strong>37：需要為哪些24V數字量輸入模塊(6ES7 321-xBxxx- ...)連接電源？ </strong>24V數字量輸入模塊的電源插針連接 (L+ / M) 。<br><strong>38:在 ET200M 裡是否也能使用 SM321 模塊(DI16 x 24V)？ </strong>模塊 SM321 (MLFB 6ES7 321-7BH00-0AB0) 也可在 ET200M 裡使用。其中 CPU 31x-2DP 作為 DP 主站或者是通訊處理器 CP CP342-5 作為 DP 主站。同樣該模塊可以通過 ET200M 和 S7-400 通訊處理器 CP443-5 連接到一個S7-400 CPU。<br><strong>39:SM323數字卡所佔用的地址是多少? </strong>SM323模塊有 16 位類型(6ES7 323-1BL00-0AA0)和 8 位類型(6ES7 323-1BH00-0AA0)兩種。對於 16 位類型的模塊，輸入和輸出佔用“X”和“X+1” 兩個地址。如果 SM323 的基地址為 4 (即 X=4；插槽為 5),那麼輸入就被賦址在地址 4 和 5 下面, 輸出的地址同樣也被賦址在地址 4 和 5 下面。在模塊的接線視圖中，輸入字節“X”位於左邊的頂部，輸出字節“X”在右邊的頂部。</p><p>對於 8 位類型的模塊，輸入和輸出各佔用一個字節，它們有相同的字節地址。若用固定的插槽賦址，SM323 被插入槽 4, 那麼輸入地址為I 4.0 至 I 4.7，輸出地址為 Q 4.0 至 Q 4.7。<br><strong>40:在不改變硬件配置的情況下，能用SM321-1CH20 代替SM321-1CH80 嗎？ </strong>SM321-1CH20 和SM321-1CH80 模塊的技術參數是相同的。區別僅在SM321-1CH80 可以應用於更廣泛的環境條件。因此您無需更改硬件配置。<br><strong>41:進行I/O的直接訪問時，必須注意什麼？ </strong>需要注意在一個S7-300組態中，如果進行跨越模塊的I/O直接讀訪問(用該命令一次讀取幾個字節)，那麼就會讀到不正確的值。可以通過hardware中查看具體的地址。<br><strong>42：SM321模塊是否需要連接到 DC 24V 上？ </strong>不需要，如果是 MLFB 為 6ES7 321-1BH02-0AA0 的 SM 321 模塊，就不再需要連接 DC 24V 了。<br><strong>43：在 STEP 7 硬件組態中如何規劃模擬模塊 SM374？在硬件目錄中如何找到此模塊？ </strong>模擬模塊SM374可用於三種模式中：作為 16 通道數字輸入模塊，作為 16 通道數字輸出模塊，作為帶 8 個輸入和 8 個輸出的混合數字輸入/輸出模塊。</p><p>現在把SM374按照您需要模擬的模塊來組態，就是說；<br>如果把 SM 374 用作為一個 16 通道輸入模塊，則組態一個 16 通道輸入模塊 - 推薦使用：SM 321: 6ES7321-1BH01-0AA0，</p><p>如果把 SM 374 用作為一個 16 通道輸出模塊，則組態一個 16 通道輸出模塊 - 推薦使用：SM 322: 6ES7322-1BH01-0AA0，</p><p>如果把 SM 374 用作為一個混合輸入/輸出模塊，則組態一個混合輸入/輸出模塊( 8 個輸入，8 個輸出) - 推薦使用：SM 323: 6ES7323-1BH01-0AA0。<br><strong>44：當測量電流時，出現傳感器短路的情況，模塊6ES7 331-1KF0.-0AB0的模擬量輸入I+是否會被破壞？ </strong>當測量電流時，出現傳感器短路的情況，模塊6ES7 331-1KF0.-0AB0的模擬輸入 I+不會被破壞。該模塊具有內置的過流保護功能。模塊中每個50歐姆的電阻器前面具有一個PTC元件，用於防止模塊的輸入通道被破壞。</p><p>請注意，輸入電壓允許的長期最大值為12V，短暫(最多1秒)值為30V。</p><p><strong>45：如果切斷CPU，則 2 線制測量變送器是否繼續供電？ </strong>如果變送器模塊插入位置“D”，且模塊在引腳 1 和引腳 20 上由外部電壓供電，則 2 線測量變送器繼續供電。即使切斷CPU，其供電電流仍維持不變。<br><strong>46：用S7-300模擬量輸入模塊測量溫度（華氏）時，可以使用模塊說明文檔中列出的絕對誤差極限嗎？ </strong>不可以直接使用指定的誤差極限。基本誤差和操作誤差都以絕對溫度和攝氏溫度說明。必須乘以係數1.8將其轉換為華氏溫度單位。</p><p>例:S7-300 AI 8 x RTD：指定的溫度輸入操作誤差是+/-1.0攝氏度。當以華氏溫度測量時，可接受的最大誤差是+/-1.8華氏度。</p><p><strong>47：為什麼用商用數字萬用表在模擬輸入塊上不能讀出用於讀取阻抗的恆定電流？ </strong>幾乎所有的S5/S7 模擬輸入設備仍然以複雜的方式工作，即，所有的通道都依次插到僅有的一個AD轉換器上。該原理也適用於讀取阻抗所必需的恆定電流。因此，要讀的流過電阻的電流僅用於短期讀數。對於有一個選定接口抑制"50Hz"和 8 個參數化通道的SM331-7KF02-0AB0 ，這意味著電流將會約每180ms流過一次，每次有20ms可讀取阻抗。<br><strong>48：為什麼S7-300 模擬輸出組的電壓輸出超出容差？端子S+和S-作何用途？ </strong>下列描述適用於所有模擬輸出模塊SM 332：<br>當使用模擬輸出模塊 SM 332 時，必須注意返回輸入S+和S-的分配。它們起補償性能阻抗的目的。當用獨立的帶有S+ 和S-的電線連接執行器的兩個觸點時，模擬輸出會調節輸出電壓，以便使動作機構上實際存在的電壓為所期望的電壓。</p><p>如果想要獲得補償，那麼執行器必須用 4 根電線連接。這意味著對於第一個通道，需要：</p><p>輸出電壓通過針腳 3 和針腳 6 連接到執行器。<br>分配執行器的針腳 4 和針腳 5。<br>如果不想獲得補償，只需在前面的開關上簡單的跨接針腳3-4和針腳5-6。</p><p>注意事項：因為打開的傳感器端子 (S+ 和S-)，輸出電壓被調節到最大值 140 mV (用於 10V)。g 對於此分配，無法保持0.5 %的電壓輸出使用誤差限制。<br><strong>49：如何連接一個電位計到6ES7 331-1KF0-0AB0? </strong>電位計的採樣端和首端連接到 M+，末端連接 M-，並且 S- 和M-連接到一起。<br>注意: 最大的可帶電阻是6K，如果電位計支持直接輸出一個可變的電壓，那麼電位計的首端應該連接V＋，M端連接M－。<br><strong>50：如何把一個PT100溫度傳感器連接到模擬輸入模塊SM331？ </strong>PT100熱電阻隨溫度的不同其電阻值隨之變化。如果有一恆定電流流經該熱電阻，該熱電阻上電壓的下降隨溫度而變化。恆定電流加在接點Ic+ 和 Ic-上。模擬模塊SM331在M+和M-電測定電流的變化。通過測定電壓就可以確定出溫度。</p><p>PT100 到模擬輸入組有三類連接：4 線連接可得到最精確的測定值。</p><p>* 注意：<br>1）3 線連接用的公式僅表明了模擬輸入模塊 SM331 （MLFB 號為6ES7 331-7Kxxx-0AB0）b " 的實際測定過程。</p><p>2）在 S7-300 系列中，存在一些通過多次測定的模擬輸入端。它們規定出公共返回線的線電阻並作數學補償。所獲精確度幾乎與 4 線連接可比美。這樣模塊的一個例子就是SM331(MLFB號6ES7 331-7PF00-0AB0)。</p><p>3）所給出的公式仍然適用於主要的物理關係，但並不包含確定 PT100 電阻的有效測定過程。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>西門子</a></li><li><a>S7</a></li><li><a>300</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/ea62b7ce.html alt=西門子S7-300下載後停機了？怎麼找故障？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1536064859530d698e386b0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ea62b7ce.html title=西門子S7-300下載後停機了？怎麼找故障？>西門子S7-300下載後停機了？怎麼找故障？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/407d4a4f.html alt=西門子S7-300利用循環左移指令實現自復位按鈕一鍵啟停 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/37d30003bef90889115a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/407d4a4f.html title=西門子S7-300利用循環左移指令實現自復位按鈕一鍵啟停>西門子S7-300利用循環左移指令實現自復位按鈕一鍵啟停</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9e7b9f23.html alt="西門子S7-1500 PLC的基本數據類型" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b66e147b6b5447c5b208c67bd24adad7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9e7b9f23.html title="西門子S7-1500 PLC的基本數據類型">西門子S7-1500 PLC的基本數據類型</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/37260344.html alt="西門子S7-200SMART PLC 循環走馬燈如何編寫？" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/4ff65441e7ce47d19a3373f98cc10d82 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/37260344.html title="西門子S7-200SMART PLC 循環走馬燈如何編寫？">西門子S7-200SMART PLC 循環走馬燈如何編寫？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/14070b0b.html alt="S7-300 中的PID模擬信號控制" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/4ef8258534ca489cbe0b57d140e2489d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/14070b0b.html title="S7-300 中的PID模擬信號控制">S7-300 中的PID模擬信號控制</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/38866f8c.html alt=西門子S7-1200，如何在FB塊中使用操作定時器？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1fcd95c6bb184bc2925a32c27fd70940 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/38866f8c.html title=西門子S7-1200，如何在FB塊中使用操作定時器？>西門子S7-1200，如何在FB塊中使用操作定時器？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/77aec7af.html alt="西門子S7-300PLC 通過SM331模塊對熱電偶進行採集設置" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1540180249572cd69d4211b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/77aec7af.html title="西門子S7-300PLC 通過SM331模塊對熱電偶進行採集設置">西門子S7-300PLC 通過SM331模塊對熱電偶進行採集設置</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/875eec94.html alt=西門子S7-1500MODBUS通訊知識一文總結 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/29c72b89f7f2466cb90f74a0b2577ca7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/875eec94.html title=西門子S7-1500MODBUS通訊知識一文總結>西門子S7-1500MODBUS通訊知識一文總結</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/04adffdc.html alt=可編程控制器（西門子S7-300）的通訊網絡介紹 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/7cd9f5d6efe64d1e8874dc4335547a6c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/04adffdc.html title=可編程控制器（西門子S7-300）的通訊網絡介紹>可編程控制器（西門子S7-300）的通訊網絡介紹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cb99bd5e.html alt=西門子S7-200SMART通過PROFINET連接V90實現速度控制的方案1 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/4d14be560a9c483f8fe422baffa881f4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cb99bd5e.html title=西門子S7-200SMART通過PROFINET連接V90實現速度控制的方案1>西門子S7-200SMART通過PROFINET連接V90實現速度控制的方案1</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/48560d50.html alt="西門子S7-300（Step7 v5.5軟件）仿真器PLCSIM_V54_SP5安裝說明" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15401773108505523528a33 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/48560d50.html title="西門子S7-300（Step7 v5.5軟件）仿真器PLCSIM_V54_SP5安裝說明">西門子S7-300（Step7 v5.5軟件）仿真器PLCSIM_V54_SP5安裝說明</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1c000495.html alt=轉：S7-300-DO模塊誤動作引發的故障 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/437b0002d225e682f9a9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1c000495.html title=轉：S7-300-DO模塊誤動作引發的故障>轉：S7-300-DO模塊誤動作引發的故障</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/72f9408c.html alt=入門西門子S7-200PLC，工程師詳細解析包裝秤編程控制程序案例 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/154028213168186ae00708b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/72f9408c.html title=入門西門子S7-200PLC，工程師詳細解析包裝秤編程控制程序案例>入門西門子S7-200PLC，工程師詳細解析包裝秤編程控制程序案例</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ac3bf48.html alt="基於西門子S7-200 SMART PLC的PID無擾動手動-自動切換方法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8b32378fa21b4789ac4af3aeb065d579 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ac3bf48.html title="基於西門子S7-200 SMART PLC的PID無擾動手動-自動切換方法">基於西門子S7-200 SMART PLC的PID無擾動手動-自動切換方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e33508a.html alt="S7-300 PLC CPU 存儲器區介紹" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/15334309710466e7f83752d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e33508a.html title="S7-300 PLC CPU 存儲器區介紹">S7-300 PLC CPU 存儲器區介紹</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>