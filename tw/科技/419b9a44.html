<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ç†¬äº†7å¤©ï¼Œç¸½çµå‡ºä¾†äº†Javaä¸­å‹•æ…‹è¦å‰‡çš„å¯¦ç¾æ–¹å¼ | æå®¢å¿«è¨Š</title><meta property="og:title" content="ç†¬äº†7å¤©ï¼Œç¸½çµå‡ºä¾†äº†Javaä¸­å‹•æ…‹è¦å‰‡çš„å¯¦ç¾æ–¹å¼ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/419b9a44.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/419b9a44.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/419b9a44.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/419b9a44.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/419b9a44.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/419b9a44.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/419b9a44.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/419b9a44.html><meta property="article:published_time" content="2020-11-14T20:59:54+08:00"><meta property="article:modified_time" content="2020-11-14T20:59:54+08:00"><meta name=Keywords content><meta name=description content="ç†¬äº†7å¤©ï¼Œç¸½çµå‡ºä¾†äº†Javaä¸­å‹•æ…‹è¦å‰‡çš„å¯¦ç¾æ–¹å¼"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/419b9a44.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ç†¬äº†7å¤©ï¼Œç¸½çµå‡ºä¾†äº†Javaä¸­å‹•æ…‹è¦å‰‡çš„å¯¦ç¾æ–¹å¼</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right><strong>èƒŒæ™¯</strong></h1><p style=text-align:start>æ¥­å‹™ç³»çµ±åœ¨æ‡‰ç”¨éç¨‹ä¸­ï¼Œæœ‰æ™‚å€™è¦è™•ç†â€œç¶“å¸¸è®ŠåŒ–â€çš„éƒ¨åˆ†ï¼Œé€™éƒ¨åˆ†éœ€æ±‚å¯èƒ½æ˜¯â€œæ¥­å‹™è¦å‰‡â€ï¼Œä¹Ÿå¯èƒ½æ˜¯â€œä¸åŒçš„æ•¸æ“šè™•ç†é‚è¼¯â€ï¼Œé€™éƒ¨åˆ†å‹•æ…‹è¦å‰‡çš„å•é¡Œï¼Œå¾€å¾€éœ€è¦å¯é…ç½®ï¼Œä¸¦å°æ€§èƒ½å’Œå¯¦æ™‚æ€§æœ‰ä¸€å®šè¦æ±‚ã€‚</p><p style=text-align:start>Javaä¸æ˜¯è§£æ±ºå‹•æ…‹å±¤å•é¡Œçš„ç†æƒ³èªè¨€ï¼Œåœ¨å¯¦è¸ä¸­ç™¼ç¾ä¸»è¦æœ‰ä»¥ä¸‹å¹¾ç¨®æ–¹å¼å¯ä»¥å¯¦ç¾ï¼š</p><ul><li>è¡¨é”å¼èªè¨€ï¼ˆexpression languageï¼‰</li><li>å‹•æ…‹èªè¨€ï¼ˆdynamic/script language languageï¼‰ï¼Œå¦‚Groovy</li><li>è¦å‰‡å¼•æ“ï¼ˆrule engineï¼‰</li></ul><h1 class=pgc-h-arrow-right><strong>è¡¨é”å¼èªè¨€</strong></h1><p style=text-align:start>Java Unified Expression Languageï¼Œç°¡ç¨±JUELï¼Œæ˜¯ä¸€ç¨®ç‰¹æ®Šç”¨é€”çš„ç·¨ç¨‹èªè¨€ï¼Œä¸»è¦åœ¨Java Webæ‡‰ç”¨ç¨‹åºç”¨æ–¼å°‡è¡¨é”å¼åµŒå…¥åˆ°webé é¢ã€‚Javaè¦ç¯„åˆ¶å®šè€…å’ŒJava Webé ˜åŸŸæŠ€è¡“å°ˆå®¶å°çµ„åˆ¶å®šäº†çµ±ä¸€çš„è¡¨é”å¼èªè¨€ã€‚JUELæœ€åˆåŒ…å«åœ¨JSP 2.1è¦ç¯„JSR-245ä¸­ï¼Œå¾Œä¾†æˆç‚ºJava EE 7çš„ä¸€éƒ¨åˆ†ï¼Œæ”¹åœ¨JSR-341ä¸­å®šç¾©ã€‚</p><p style=text-align:start>ä¸»è¦çš„é–‹æºå¯¦ç¾æœ‰ï¼šOGNL ï¼ŒMVEL ï¼ŒSpELï¼ŒJUELï¼ŒJava Expression Language (JEXL)ï¼ŒJEvalï¼ŒJakarta JXPath ç­‰ã€‚</p><p style=text-align:start>é€™è£¡ä¸»è¦ä»‹ç´¹åœ¨å¯¦è¸ä¸­ä½¿ç”¨è¼ƒå¤šçš„MVELã€OGNLå’ŒSpELã€‚</p><p style=text-align:start><strong>OGNL(Object Graph Navigation Library)</strong></p><p style=text-align:start>åœ¨Struts 2 çš„æ¨™ç±¤åº«ä¸­éƒ½æ˜¯ä½¿ç”¨OGNLè¡¨é”å¼è¨ªå•ApplicationContextä¸­çš„å°è±¡æ•¸æ“šï¼Œç°¡å–®ç¤ºä¾‹ï¼š</p><pre><code>Foo foo = new Foo();foo.setName(&#34;test&#34;);Map&lt;String, Object&gt; context = new HashMap&lt;String, Object&gt;();context.put(&#34;foo&#34;,foo);String expression = &#34;foo.name == &#39;test&#39;&#34;;try {    Boolean result = (Boolean) Ognl.getValue(expression,context);    System.out.println(result);} catch (OgnlException e) {    e.printStackTrace();}</code></pre><p style=text-align:start><strong>MVEL</strong></p><p style=text-align:start>MVELæœ€åˆä½œç‚ºMike Brockå‰µå»ºçš„ Valhallaé …ç›®çš„è¡¨é”å¼è¨ˆç®—å™¨ï¼ˆexpression evaluatorï¼‰ï¼Œç›¸æ¯”æœ€åˆçš„OGNLã€JEXLå’ŒJUELç­‰é …ç›®ï¼Œè€Œå®ƒå…·æœ‰é è¶…å®ƒå€‘çš„æ€§èƒ½ã€åŠŸèƒ½å’Œæ˜“ç”¨æ€§ - ç‰¹åˆ¥æ˜¯é›†æˆæ–¹é¢ã€‚å®ƒä¸æœƒå˜—è©¦å¦ä¸€ç¨®JVMèªè¨€ï¼Œè€Œæ˜¯è‘—é‡è§£æ±ºåµŒå…¥å¼è…³æœ¬çš„å•é¡Œã€‚</p><p style=text-align:start>MVELä¸»è¦ä½¿ç”¨åœ¨Droolsï¼Œæ˜¯Droolsè¦å‰‡å¼•æ“ä¸å¯åˆ†å‰²çš„ä¸€éƒ¨åˆ†ã€‚</p><p style=text-align:start>MVELèªæ³•è¼ƒç‚ºè±å¯Œï¼Œä¸åƒ…åŒ…å«äº†åŸºæœ¬çš„å±¬æ€§è¡¨é”å¼ï¼Œå¸ƒçˆ¾è¡¨é”å¼ï¼Œè®Šé‡è¤‡è£½å’Œæ–¹æ³•èª¿ç”¨ï¼Œé‚„æ”¯æŒå‡½æ•¸å®šç¾©ï¼Œè©³æƒ…åƒè¦‹MVEL Language Guide ã€‚</p><p style=text-align:start>MVELåœ¨åŸ·è¡Œèªè¨€æ™‚ä¸»è¦æœ‰è§£é‡‹æ¨¡å¼ï¼ˆInterpreted Modeï¼‰å’Œç·¨è­¯æ¨¡å¼ï¼ˆCompiled Mode ï¼‰å…©ç¨®ï¼š</p><ul><li>è§£é‡‹æ¨¡å¼ï¼ˆInterpreted Modeï¼‰æ˜¯ä¸€å€‹ç„¡ç‹€æ…‹çš„ï¼Œå‹•æ…‹è§£é‡‹åŸ·è¡Œï¼Œä¸éœ€è¦è² è¼‰è¡¨é”å¼å°±å¯ä»¥åŸ·è¡Œç›¸æ‡‰çš„è…³æœ¬ã€‚</li><li>ç·¨è­¯æ¨¡å¼ï¼ˆCompiled Modeï¼‰éœ€è¦åœ¨ç·©å­˜ä¸­ç”¢ç”Ÿä¸€å€‹å®Œå…¨è¦ç¯„åŒ–è¡¨é”å¼ä¹‹å¾Œå†åŸ·è¡Œã€‚</li></ul><pre><code>//è§£é‡‹æ¨¡å¼Foo foo = new Foo();foo.setName(&#34;test&#34;);Map context = new HashMap();String expression = &#34;foo.name == &#39;test&#39;&#34;;VariableResolverFactory functionFactory = new MapVariableResolverFactory(context);context.put(&#34;foo&#34;,foo);Boolean result = (Boolean) MVEL.eval(expression,functionFactory);System.out.println(result);//ç·¨è­¯æ¨¡å¼Foo foo = new Foo();foo.setName(&#34;test&#34;);Map context = new HashMap();String expression = &#34;foo.name == &#39;test&#39;&#34;;VariableResolverFactory functionFactory = new MapVariableResolverFactory(context);context.put(&#34;foo&#34;,foo);Serializable compileExpression = MVEL.compileExpression(expression);Boolean result = (Boolean) MVEL.executeExpression(compileExpression, context, functionFactory);</code></pre><p style=text-align:start><strong>SpEL</strong></p><p style=text-align:start>SpEl(Springè¡¨é”å¼èªè¨€ï¼‰æ˜¯ä¸€å€‹æ”¯æŒæŸ¥è©¢å’Œæ“ä½œé‹è¡Œæ™‚å°è±¡å°èˆªåœ–åŠŸèƒ½çš„å¼·å¤§çš„è¡¨é”å¼èªè¨€ã€‚ å®ƒçš„èªæ³•é¡ä¼¼æ–¼å‚³çµ±ELï¼Œä½†æä¾›é¡å¤–çš„åŠŸèƒ½ï¼Œæœ€å‡ºè‰²çš„å°±æ˜¯å‡½æ•¸èª¿ç”¨å’Œç°¡å–®å­—ç¬¦ä¸²çš„æ¨¡æ¿å‡½æ•¸ã€‚SpELé¡ä¼¼æ–¼Struts2xä¸­ä½¿ç”¨çš„OGNLè¡¨é”å¼èªè¨€ï¼Œèƒ½åœ¨é‹è¡Œæ™‚æ§‹å»ºè¤‡é›œè¡¨é”å¼ã€å­˜å–å°è±¡åœ–å±¬æ€§ã€å°è±¡æ–¹æ³•èª¿ç”¨ç­‰ç­‰ï¼Œä¸¦ä¸”èƒ½èˆ‡SpringåŠŸèƒ½å®Œç¾æ•´åˆï¼Œå¦‚èƒ½ç”¨ä¾†é…ç½®Beanå®šç¾©ã€‚</p><p style=text-align:start>SpELä¸»è¦æä¾›åŸºæœ¬è¡¨é”å¼ã€é¡ç›¸é—œè¡¨é”å¼åŠé›†åˆç›¸é—œè¡¨é”å¼ç­‰ï¼Œè©³ç´°åƒè¦‹Spring è¡¨é”å¼èªè¨€ (SpEL) ã€‚</p><p style=text-align:start>é¡ä¼¼èˆ‡OGNLï¼ŒSpELå…·æœ‰expression(è¡¨é”å¼)ï¼ŒParserï¼ˆè§£æå™¨ï¼‰ï¼ŒEvaluationContext(ä¸Šä¸‹æ–‡ï¼‰ç­‰åŸºæœ¬æ¦‚å¿µï¼›é¡ä¼¼æ–¼MVELï¼ŒSpElä¹Ÿæä¾›ç­è§£é‡‹æ¨¡å¼å’Œç·¨è­¯æ¨¡å¼å…©ç¨®é‹è¡Œæ¨¡å¼ã€‚</p><pre><code>//è§£é‡‹å™¨æ¨¡å¼Foo foo = new Foo();foo.setName(&#34;test&#34;);// Turn on:// - auto null reference initialization// - auto collection growingSpelParserConfiguration config = new SpelParserConfiguration(true,true);ExpressionParser parser = new SpelExpressionParser(config);String expressionStr = &#34;#foo.name == &#39;test&#39;&#34;;StandardEvaluationContext context = new StandardEvaluationContext();context.setVariable(&#34;foo&#34;,foo);Expression expression = parser.parseExpression(expressionStr);Boolean result = expression.getValue(context,Boolean.class);//ç·¨è­¯æ¨¡å¼config = new SpelParserConfiguration(SpelCompilerMode.IMMEDIATE, RunSpel.class.getClassLoader());parser = new SpelExpressionParser(config);context = new StandardEvaluationContext();context.setVariable(&#34;foo&#34;,foo);expression = parser.parseExpression(expressionStr);result = expression.getValue(context,Boolean.class);</code></pre><h1 class=pgc-h-arrow-right>è¦å‰‡å¼•æ“</h1><p style=text-align:start>ä¸€äº›è¦å‰‡å¼•æ“ï¼ˆrule engineï¼‰ï¼šaviatorï¼Œeasy-rulesï¼Œdroolsï¼Œesper, siddhi</p><p style=text-align:start><strong>aviator</strong></p><p style=text-align:start>AviatorScript æ˜¯ä¸€é–€é«˜æ€§èƒ½ã€è¼•é‡ç´šå¯„å®¿æ–¼ JVM ä¹‹ä¸Šçš„è…³æœ¬èªè¨€ã€‚</p><p style=text-align:start>ä½¿ç”¨å ´æ™¯åŒ…æ‹¬ï¼š</p><ol start=1><li>è¦å‰‡åˆ¤æ–·åŠè¦å‰‡å¼•æ“</li><li>å…¬å¼è¨ˆç®—</li><li>å‹•æ…‹è…³æœ¬æ§åˆ¶</li><li>é›†åˆæ•¸æ“š ELT ç­‰</li></ol><pre><code>public class Test {   public static void main(String[] args) {       String expression = &#34;a+(b-c)&gt;100&#34;;       // ç·¨è­¯è¡¨é”å¼       Expression compiledExp = AviatorEvaluator.compile(expression);       Map&lt;String, Object&gt; env = new HashMap&lt;&gt;();       env.put(&#34;a&#34;, 100.3);       env.put(&#34;b&#34;, 45);       env.put(&#34;c&#34;, -199.100);       // åŸ·è¡Œè¡¨é”å¼       Boolean result = (Boolean) compiledExp.execute(env);       System.out.println(result);   }}</code></pre><p style=text-align:start><strong>easy-rules</strong></p><p style=text-align:start>Easy Rules is a Java rules engineã€‚</p><p style=text-align:start>ä½¿ç”¨POJOå®šç¾©è¦å‰‡ï¼š</p><pre><code>@Rule(name = &#34;weather rule&#34;, description = &#34;if it rains then take an umbrella&#34;)public class WeatherRule {    @Condition    public boolean itRains(@Fact(&#34;rain&#34;) boolean rain) {        return rain;    }        @Action    public void takeAnUmbrella() {        System.out.println(&#34;It rains, take an umbrella!&#34;);    }}Rule weatherRule = new RuleBuilder()        .name(&#34;weather rule&#34;)        .description(&#34;if it rains then take an umbrella&#34;)        .when(facts -&gt; facts.get(&#34;rain&#34;).equals(true))        .then(facts -&gt; System.out.println(&#34;It rains, take an umbrella!&#34;))        .build();</code></pre><p style=text-align:start>æ”¯æŒä½¿ç”¨è¡¨é”å¼èªè¨€ï¼ˆMVEL/SpELï¼‰ä¾†å®šç¾©è¦å‰‡ï¼š</p><p style=text-align:start>weather-rule.yml example:</p><pre><code>name: &#34;weather rule&#34;description: &#34;if it rains then take an umbrella&#34;condition: &#34;rain == true&#34;actions:  - &#34;System.out.println(\&#34;It rains, take an umbrella!\&#34;);&#34;</code></pre><pre><code>MVELRuleFactory ruleFactory = new MVELRuleFactory(new YamlRuleDefinitionReader());Rule weatherRule = ruleFactory.createRule(new FileReader(&#34;weather-rule.yml&#34;));</code></pre><p style=text-align:start>è§¸ç™¼è¦å‰‡ï¼š</p><pre><code>public class Test {    public static void main(String[] args) {        // define facts        Facts facts = new Facts();        facts.put(&#34;rain&#34;, true);        // define rules        Rule weatherRule = ...        Rules rules = new Rules();        rules.register(weatherRule);        // fire rules on known facts        RulesEngine rulesEngine = new DefaultRulesEngine();        rulesEngine.fire(rules, facts);    }}</code></pre><p style=text-align:start><strong>drools</strong></p><p style=text-align:start>An open source rule engine, DMN engine and complex event processing (CEP) engine for Java and the JVM Platform.</p><p style=text-align:start>å®šç¾©è¦å‰‡ï¼š</p><pre><code>import com.lrq.wechatDemo.domain.User   // å°å…¥é¡dialect  &#34;mvel&#34;rule &#34;age&#34;    // è¦å‰‡åï¼Œå”¯ä¸€    when        $user : User(age&lt;15 || age&gt;60)  //è¦å‰‡çš„æ¢ä»¶éƒ¨åˆ†    then        System.out.println(&#34;å¹´é½¡ä¸ç¬¦åˆè¦æ±‚ï¼&#34;);end</code></pre><p style=text-align:start>åƒè€ƒä¾‹å­ï¼š</p><pre><code>public class TestUser {    private static KieContainer container = null;    private KieSession statefulKieSession = null;    @Test    public void test(){        KieServices kieServices = KieServices.Factory.get();        container = kieServices.getKieClasspathContainer();        statefulKieSession = container.newKieSession(&#34;myAgeSession&#34;);        User user = new User(&#34;duval yang&#34;,12);        statefulKieSession.insert(user);        statefulKieSession.fireAllRules();        statefulKieSession.dispose();    }}</code></pre><p style=text-align:start>droolsæ˜¯æ¯”è¼ƒé‡çš„è¦å‰‡å¼•æ“ï¼Œæœ‰è‡ªå·±çš„ç‹€æ…‹å­˜å„²ï¼Œè©³è¦‹å…¶å®˜æ–¹æ–‡æª”ã€‚</p><p style=text-align:start><strong>esper</strong></p><p style=text-align:start>Esper is a component for complex event processing (CEP), streaming SQL and event series analysis, available for Java as Esper, and for .NET as NEsper.</p><p style=text-align:start>ä¸€å€‹ä¾‹å­ï¼š</p><pre><code>public class Test {    public static void main(String[] args) throws InterruptedException {        EPServiceProvider epService = EPServiceProviderManager.getDefaultProvider();         EPAdministrator admin = epService.getEPAdministrator();         String product = Apple.class.getName();        String epl = &#34;select avg(price) from &#34; + product + &#34;.win:length_batch(3)&#34;;         EPStatement state = admin.createEPL(epl);        state.addListener(new AppleListener());         EPRuntime runtime = epService.getEPRuntime();         Apple apple1 = new Apple();        apple1.setId(1);        apple1.setPrice(5);        runtime.sendEvent(apple1);         Apple apple2 = new Apple();        apple2.setId(2);        apple2.setPrice(2);        runtime.sendEvent(apple2);         Apple apple3 = new Apple();        apple3.setId(3);        apple3.setPrice(5);        runtime.sendEvent(apple3);    }}</code></pre><p style=text-align:start><strong>siddhi</strong></p><p style=text-align:start>Siddhi is a cloud native <em>Streaming</em> and <em>Complex Event Processing</em> engine that understands Streaming SQL queries in order to capture events from diverse data sources, process them, detect complex conditions, and publish output to various endpoints in real time.</p><p style=text-align:start>For example:</p><pre><code>package io.siddhi.sample;import io.siddhi.core.SiddhiAppRuntime;import io.siddhi.core.SiddhiManager;import io.siddhi.core.event.Event;import io.siddhi.core.stream.input.InputHandler;import io.siddhi.core.stream.output.StreamCallback;import io.siddhi.core.util.EventPrinter;/** * The sample demonstrate how to use Siddhi within another Java program. * This sample contains a simple filter query. */public class SimpleFilterSample {    public static void main(String[] args) throws InterruptedException {        // Create Siddhi Manager        SiddhiManager siddhiManager = new SiddhiManager();        //Siddhi Application        String siddhiApp = &#34;&#34; +                &#34;define stream StockStream (symbol string, price float, volume long); &#34; +                &#34;&#34; +                &#34;@info(name = &#39;query1&#39;) &#34; +                &#34;from StockStream[volume &lt; 150] &#34; +                &#34;select symbol, price &#34; +                &#34;insert into OutputStream;&#34;;        //Generate runtime        SiddhiAppRuntime siddhiAppRuntime = siddhiManager.createSiddhiAppRuntime(siddhiApp);        //Adding callback to retrieve output events from stream        siddhiAppRuntime.addCallback(&#34;OutputStream&#34;, new StreamCallback() {            @Override            public void receive(Event[] events) {                EventPrinter.print(events);                //To convert and print event as a map                //EventPrinter.print(toMap(events));            }        });        //Get InputHandler to push events into Siddhi        InputHandler inputHandler = siddhiAppRuntime.getInputHandler(&#34;StockStream&#34;);        //Start processing        siddhiAppRuntime.start();        //Sending events to Siddhi        inputHandler.send(new Object[]{&#34;IBM&#34;, 700f, 100L});        inputHandler.send(new Object[]{&#34;WSO2&#34;, 60.5f, 200L});        inputHandler.send(new Object[]{&#34;GOOG&#34;, 50f, 30L});        inputHandler.send(new Object[]{&#34;IBM&#34;, 76.6f, 400L});        inputHandler.send(new Object[]{&#34;WSO2&#34;, 45.6f, 50L});        Thread.sleep(500);        //Shutdown runtime        siddhiAppRuntime.shutdown();        //Shutdown Siddhi Manager        siddhiManager.shutdown();    }}</code></pre><p style=text-align:start>esperå’Œsiddhiéƒ½æ˜¯streaming processï¼Œæ”¯æŒCEPå’ŒSQLï¼Œè©³è¦‹å…¶å®˜æ–¹æ–‡æª”ã€‚</p><h1 class=pgc-h-arrow-right><strong>å‹•æ…‹JVMèªè¨€</strong></h1><p style=text-align:start><strong>Groovy</strong></p><p style=text-align:start>Groovyé™¤äº†Gradle ä¸Šçš„å»£æ³›æ‡‰ç”¨ä¹‹å¤–ï¼Œå¦ä¸€å€‹å¤§ç¯„åœçš„ä½¿ç”¨æ‡‰è©²å°±æ˜¯çµåˆJavaä½¿ç”¨å‹•æ…‹ä»£ç¢¼äº†ã€‚Groovyçš„èªæ³•èˆ‡Javaéå¸¸ç›¸ä¼¼ï¼Œä»¥è‡³æ–¼å¤šæ•¸çš„Javaä»£ç¢¼ä¹Ÿæ˜¯æ­£ç¢ºçš„Groovyä»£ç¢¼ã€‚Groovyä»£ç¢¼å‹•æ…‹çš„è¢«ç·¨è­¯å™¨è½‰æ›æˆJavaå­—ç¯€ç¢¼ã€‚ç”±æ–¼å…¶é‹è¡Œåœ¨JVMä¸Šçš„ç‰¹æ€§ï¼ŒGroovyå¯ä»¥ä½¿ç”¨å…¶ä»–Javaèªè¨€ç·¨å¯«çš„åº«ã€‚</p><p style=text-align:start>Groovyå¯ä»¥çœ‹ä½œçµ¦Javaéœæ…‹ä¸–ç•Œè£œå……å‹•æ…‹èƒ½åŠ›çš„èªè¨€ï¼ŒåŒæ™‚Groovyå·²ç¶“å¯¦ç¾äº†javaä¸å…·å‚™çš„èªè¨€ç‰¹æ€§ï¼š</p><ul><li>å‡½æ•¸å­—é¢å€¼ï¼›</li><li>å°é›†åˆçš„ä¸€ç­‰æ”¯æŒï¼›</li><li>å°æ­£å‰‡è¡¨é”å¼çš„ä¸€ç­‰æ”¯æŒï¼›</li><li>å°xmlçš„ä¸€ç­‰æ”¯æŒï¼›</li></ul><p style=text-align:start>Groovyä½œç‚ºåŸºæ–¼JVMçš„èªè¨€ï¼Œèˆ‡è¡¨é”å¼èªè¨€å­˜åœ¨èªè¨€ç´šçš„ä¸åŒï¼Œå› æ­¤åœ¨èªæ³•ä¸Šæ¯”è¡¨é”é‚„æ˜¯èªè¨€æ›´éˆæ´»ã€‚Javaåœ¨èª¿ç”¨Groovyæ™‚ï¼Œéƒ½éœ€è¦å°‡Groovyä»£ç¢¼ç·¨è­¯æˆClassæ–‡ä»¶ã€‚</p><p style=text-align:start>Groovy å¯ä»¥æ¡ç”¨GroovyClassLoaderã€GroovyShellã€GroovyScriptEngineå’ŒJSR223 ç­‰æ–¹å¼èˆ‡Javaèªè¨€é›†æˆã€‚</p><p style=text-align:start>ä¸€å€‹ä½¿ç”¨GroovyClassLoaderå‹•æ…‹å°jsonå°è±¡é€²è¡Œfilterçš„ä¾‹å­ï¼š</p><pre><code>public class GroovyFilter implements Filter {    private static String template =  &#34;&#34; +            &#34;package com.alarm.eagle.filter;&#34; +            &#34;import com.fasterxml.jackson.databind.node.ObjectNode;&#34; +            &#34;def match(ObjectNode o){[exp]}&#34;;    private static String method = &#34;match&#34;;    private String filterExp;    private transient GroovyObject filterObj;    public GroovyFilter(String filterExp) throws Exception {        ClassLoader parent = Thread.currentThread().getContextClassLoader();        GroovyClassLoader classLoader = new GroovyClassLoader(parent);        Class clazz = classLoader.parseClass(template.replace(&#34;[exp]&#34;, filterExp));        filterObj = (GroovyObject)clazz.newInstance();    }    public boolean filter(ObjectNode objectNode) {        return (boolean)filterObj.invokeMethod(method, objectNode);    }}</code></pre><p style=text-align:start>Javaæ¯æ¬¡èª¿ç”¨Groovyä»£ç¢¼éƒ½æœƒå°‡Groovyç·¨è­¯æˆClassæ–‡ä»¶ï¼Œå› æ­¤åœ¨èª¿ç”¨éç¨‹ä¸­æœƒå‡ºç¾JVMç´šåˆ¥çš„å•é¡Œã€‚å¦‚ä½¿ç”¨GroovyShellçš„parseæ–¹æ³•å°è‡´permå€çˆ†æ»¿çš„å•é¡Œï¼Œä½¿ç”¨GroovyClassLoaderåŠ è¼‰æ©Ÿåˆ¶å°è‡´é »ç¹gcå•é¡Œå’ŒCodeCacheç”¨æ»¿ï¼Œå°è‡´JITç¦ç”¨å•é¡Œç­‰ï¼Œç›¸é—œå•é¡Œå¯ä»¥åƒè€ƒGroovyèˆ‡Javaé›†æˆå¸¸è¦‹çš„å‘ ã€‚</p><hr><p>é—œæ³¨æˆ‘ï¼Œç§ä¿¡å›è¦†ã€<strong>è³‡æ–™</strong>ã€‘å³å¯é ˜å–è¦–é »ä¸­javaç›¸é—œè³‡æ–™ä»¥åŠä¸€ä»½227é æœ€æ–°çš„batå¤§å» é¢è©¦å¯¶å…¸</p><h1 class=pgc-h-arrow-right>æœ€å¾Œ</h1><p style=text-align:start>æ­¡è¿å¤§å®¶ä¸€èµ·äº¤æµï¼Œå–œæ­¡æ–‡ç« è¨˜å¾—é—œæ³¨æˆ‘é»å€‹è´Šå–²ï¼Œæ„Ÿè¬æ”¯æŒï¼</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>ç¸½çµ</a></li><li><a>å‡ºä¾†</a></li><li><a>Java</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/d1d10456.html alt=é¢è©¦ç¸½çµ-Javaé«˜ç´šç¯‡ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/4afe0004abfd4a7bb3c5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d1d10456.html title=é¢è©¦ç¸½çµ-Javaé«˜ç´šç¯‡>é¢è©¦ç¸½çµ-Javaé«˜ç´šç¯‡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a1b27915.html alt=Javaç¸½çµä¹‹å®¹å™¨å®¶æ—--Collection class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/88ce4e8325964ee3aac0b015656a3c73 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a1b27915.html title=Javaç¸½çµä¹‹å®¹å™¨å®¶æ—--Collection>Javaç¸½çµä¹‹å®¹å™¨å®¶æ—--Collection</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e7b89313.html alt=åå¹´ç¨‹åºå“¡ç¸½çµï¼šJavaä¹‹é›†åˆCollectionç¸½è¦½ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/ff7018c5f0c247fe9e1065846beba6f0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e7b89313.html title=åå¹´ç¨‹åºå“¡ç¸½çµï¼šJavaä¹‹é›†åˆCollectionç¸½è¦½>åå¹´ç¨‹åºå“¡ç¸½çµï¼šJavaä¹‹é›†åˆCollectionç¸½è¦½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/dc35e6bd.html alt=ä¸€æ–‡ç¸½çµJavaä¸­åŸå­é¡ç›¸é—œå¯¦ç¾ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/2dfc593b3b104a499d6d736518072928 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/dc35e6bd.html title=ä¸€æ–‡ç¸½çµJavaä¸­åŸå­é¡ç›¸é—œå¯¦ç¾>ä¸€æ–‡ç¸½çµJavaä¸­åŸå­é¡ç›¸é—œå¯¦ç¾</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3afd140e.html alt=å¾åŸŸååˆ°ç¶²ç«™ï¼Œåªéœ€è¦å››æ­¥ï¼æœå‹™å™¨ç¶²ç«™æ­å»ºæµç¨‹ç¸½çµ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/7c1999b5072844f6ac01ba234e4d4ee0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3afd140e.html title=å¾åŸŸååˆ°ç¶²ç«™ï¼Œåªéœ€è¦å››æ­¥ï¼æœå‹™å™¨ç¶²ç«™æ­å»ºæµç¨‹ç¸½çµ>å¾åŸŸååˆ°ç¶²ç«™ï¼Œåªéœ€è¦å››æ­¥ï¼æœå‹™å™¨ç¶²ç«™æ­å»ºæµç¨‹ç¸½çµ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/56464415.html alt=ä½å®…å·¥ç¨‹å„å€åŸŸçš„æ·¨é«˜è¦æ±‚ï¼Œç¸½çµ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/072079da-ec32-43b6-9dff-93cc7beb2bc3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/56464415.html title=ä½å®…å·¥ç¨‹å„å€åŸŸçš„æ·¨é«˜è¦æ±‚ï¼Œç¸½çµ>ä½å®…å·¥ç¨‹å„å€åŸŸçš„æ·¨é«˜è¦æ±‚ï¼Œç¸½çµ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e212faff.html alt=ä½å®…å·¥ç¨‹å„å€åŸŸçš„æ·¨é«˜è¦æ±‚ï¼Œç¸½çµï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/27a44170db2040adab26236e40605b1c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e212faff.html title=ä½å®…å·¥ç¨‹å„å€åŸŸçš„æ·¨é«˜è¦æ±‚ï¼Œç¸½çµï¼>ä½å®…å·¥ç¨‹å„å€åŸŸçš„æ·¨é«˜è¦æ±‚ï¼Œç¸½çµï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/96a296c9.html alt=ä½å®…å·¥ç¨‹å„é¡æ·¨é«˜çš„è¦ç¯„è¦æ±‚ï¼Œç¸½çµï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/7cff80b0991246f69fb67d91590b1d95 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/96a296c9.html title=ä½å®…å·¥ç¨‹å„é¡æ·¨é«˜çš„è¦ç¯„è¦æ±‚ï¼Œç¸½çµï¼>ä½å®…å·¥ç¨‹å„é¡æ·¨é«˜çš„è¦ç¯„è¦æ±‚ï¼Œç¸½çµï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/829c8b89.html alt=åˆä¸‰ä¸»è¦åŒ–å­¸æ–¹ç¨‹å¼æŒ‰å…ƒç´ æ­¸é¡ç¸½çµ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/fcca062886ed4b9db272cb3cb66710e6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/829c8b89.html title=åˆä¸‰ä¸»è¦åŒ–å­¸æ–¹ç¨‹å¼æŒ‰å…ƒç´ æ­¸é¡ç¸½çµ>åˆä¸‰ä¸»è¦åŒ–å­¸æ–¹ç¨‹å¼æŒ‰å…ƒç´ æ­¸é¡ç¸½çµ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0df71847.html alt=æŒ‰ç…§å…ƒç´ åˆ†é¡ç¸½çµçš„é«˜ä¸­åŒ–å­¸æ–¹ç¨‹å¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/568b4c62f05c406c86ba3a1a3f1536f3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0df71847.html title=æŒ‰ç…§å…ƒç´ åˆ†é¡ç¸½çµçš„é«˜ä¸­åŒ–å­¸æ–¹ç¨‹å¼>æŒ‰ç…§å…ƒç´ åˆ†é¡ç¸½çµçš„é«˜ä¸­åŒ–å­¸æ–¹ç¨‹å¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/677306ff.html alt=é¢è©¦ç¸½çµï¼šé—œæ–¼MySQLäº‹å‹™çš„10å€‹å•é¡Œå¸¸è¦‹é¢è©¦å•ç­” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/1669c986-315c-4339-a5a0-a918a47f2e57 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/677306ff.html title=é¢è©¦ç¸½çµï¼šé—œæ–¼MySQLäº‹å‹™çš„10å€‹å•é¡Œå¸¸è¦‹é¢è©¦å•ç­”>é¢è©¦ç¸½çµï¼šé—œæ–¼MySQLäº‹å‹™çš„10å€‹å•é¡Œå¸¸è¦‹é¢è©¦å•ç­”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/48ba24d7.html alt=æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/3c5e0002a8059c1311aa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/48ba24d7.html title=æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£>æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b8bda645.html alt=ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b471807e699b44c2b1dedc580ea3f3af style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b8bda645.html title=ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£>ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/816b04b7.html alt=å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/816b04b7.html title=å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ†>å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html alt="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9d3b0e55813d46b4982ae7d9b81d1802 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html title="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½">Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>