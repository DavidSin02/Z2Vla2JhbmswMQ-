<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>計算機知識之網絡通信基礎 | 极客快訊</title><meta property="og:title" content="計算機知識之網絡通信基礎 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/4aed0001096359476368"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/459f2fb1.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/459f2fb1.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/459f2fb1.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/459f2fb1.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/459f2fb1.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/459f2fb1.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/459f2fb1.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/459f2fb1.html><meta property="article:published_time" content="2020-10-29T21:10:19+08:00"><meta property="article:modified_time" content="2020-10-29T21:10:19+08:00"><meta name=Keywords content><meta name=description content="計算機知識之網絡通信基礎"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/459f2fb1.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>計算機知識之網絡通信基礎</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>計算機網絡學習的核心內容就是網絡協議的學習。網絡協議是為計算機網絡中進行數據交換而建立的規則、標準或者說是約定的集合。因為不同用戶的數據終端可能採取的字符集是不同的，兩者需要進行通信，必須要在一定的標準上進行。一個很形象地比喻就是我們的語言，我們大天朝地廣人多，地方性語言也非常豐富，而且方言之間差距巨大。A地區的方言可能B地區的人根本無法接受，所以我們要為全國人名進行溝通建立一個語言標準，這就是我們的普通話的作用。同樣，放眼全球，我們與外國友人溝通的標準語言是英語，所以我們才要苦逼的學習英語。</p><p>　　計算機網絡協議同我們的語言一樣，多種多樣。而ARPA公司與1977年到1979年推出了一種名為ARPANET的網絡協議受到了廣泛的熱捧，其中最主要的原因就是它推出了人盡皆知的TCP/IP標準網絡協議。目前TCP/IP協議已經成為Internet中的“通用語言”，下圖為不同計算機群之間利用TCP/IP進行通信的示意圖。</p><p><img alt=計算機知識之網絡通信基礎 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/4aed0001096359476368></p><p>回到頂部</p><h3><strong>1. 網絡層次劃分</strong></h3><p>　　為了使不同計算機廠家生產的計算機能夠相互通信，以便在更大的範圍內建立計算機網絡，國際標準化組織（ISO）在1978年提出了“開放系統互聯參考模型”，即著名的OSI/RM模型（Open System Interconnection/Reference Model）。它將計算機網絡體系結構的通信協議劃分為七層，自下而上依次為：物理層（Physics Layer）、數據鏈路層（Data Link Layer）、網絡層（Network Layer）、傳輸層（Transport Layer）、會話層（Session Layer）、表示層（Presentation Layer）、應用層（Application Layer）。其中第四層完成數據傳送服務，上面三層面向用戶。</p><p>　　除了標準的OSI七層模型以外，常見的網絡層次劃分還有TCP/IP四層協議以及TCP/IP五層協議，它們之間的對應關係如下圖所示：</p><p><img alt=計算機知識之網絡通信基礎 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/509e0003f8a2ac3f7071></p><p><img alt=計算機知識之網絡通信基礎 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/4aed0001096359476368></p><h3>2. OSI七層網絡模型</h3><p>　　TCP/IP協議毫無疑問是互聯網的基礎協議，沒有它就根本不可能上網，任何和互聯網有關的操作都離不開TCP/IP協議。不管是OSI七層模型還是TCP/IP的四層、五層模型，每一層中都要自己的專屬協議，完成自己相應的工作以及與上下層級之間進行溝通。由於OSI七層模型為網絡的標準層次劃分，所以我們以OSI七層模型為例從下向上進行一一介紹。</p><p><img alt=計算機知識之網絡通信基礎 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/509d00047b15d5f7c065></p><p><img alt=計算機知識之網絡通信基礎 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/50a10000d7735473791e></p><p><img alt=計算機知識之網絡通信基礎 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/4aed0001096359476368></p><p><strong>1）物理層（Physical Layer）</strong></p><p>　　激活、維持、關閉通信端點之間的機械特性、電氣特性、功能特性以及過程特性。<strong>該層為上層協議提供了一個傳輸數據的可靠的物理媒體。簡單的說，物理層確保原始的數據可在各種物理媒體上傳輸。</strong>物理層記住兩個重要的設備名稱，中繼器（Repeater，也叫放大器）和集線器。<br></p><p>　　<strong>2）數據鏈路層（Data Link Layer）</strong></p><p>　　數據鏈路層在物理層提供的服務的基礎上向網絡層提供服務，其最基本的服務是將源自網絡層來的數據可靠地傳輸到相鄰節點的目標機網絡層。為達到這一目的，數據鏈路必須具備一系列相應的功能，主要有：如何將數據組合成數據塊，在數據鏈路層中稱這種數據塊為幀（frame），幀是數據鏈路層的傳送單位；如何控制幀在物理信道上的傳輸，包括如何處理傳輸差錯，如何調節發送速率以使與接收方相匹配；以及在兩個網絡實體之間提供數據鏈路通路的建立、維持和釋放的管理。數據鏈路層在不可靠的物理介質上提供可靠的傳輸。該層的作用包括：物理地址尋址、數據的成幀、流量控制、數據的檢錯、重發等。</p><p>　　有關數據鏈路層的重要知識點：</p><p>　　<strong>1> 數據鏈路層為網絡層提供可靠的數據傳輸；</strong></p><p><strong>　　2> 基本數據單位為幀；</strong></p><p><strong>　　3> 主要的協議：以太網協議；</strong></p><p><strong>　　4> 兩個重要設備名稱：網橋和交換機。</strong></p><p>　　<strong>3）網絡層（Network Layer）</strong></p><p>　　網絡層的目的是實現兩個端系統之間的數據透明傳送，具體功能包括尋址和路由選擇、連接的建立、保持和終止等。它提供的服務使傳輸層不需要了解網絡中的數據傳輸和交換技術。如果您想用盡量少的詞來記住網絡層，那就是“路徑選擇、路由及邏輯尋址”。</p><p>　　網絡層中涉及眾多的協議，其中包括最重要的協議，也是TCP/IP的核心協議——IP協議。IP協議非常簡單，僅僅提供不可靠、無連接的傳送服務。IP協議的主要功能有：無連接數據報傳輸、數據報路由選擇和差錯控制。與IP協議配套使用實現其功能的還有地址解析協議ARP、逆地址解析協議RARP、因特網報文協議ICMP、因特網組管理協議IGMP。具體的協議我們會在接下來的部分進行總結，有關網絡層的重點為：</p><p><strong>　　1> 網絡層負責對子網間的數據包進行路由選擇。此外，網絡層還可以實現擁塞控制、網際互連等功能；</strong></p><p><strong>　　2> 基本數據單位為IP數據報；</strong></p><p><strong>　　3> 包含的主要協議：</strong></p><p><strong>　　IP協議（Internet Protocol，因特網互聯協議）;</strong></p><p><strong>　　</strong><strong>ICMP協議（Internet Control Message Protocol，因特網控制報文協議）;</strong></p><p><strong>　　</strong><strong>ARP協議（Address Resolution Protocol，地址解析協議）;</strong></p><p><strong>　　RARP協議（Reverse Address Resolution Protocol，逆地址解析協議）。</strong></p><p><strong>　　4> 重要的設備：路由器。</strong></p><p>　　<strong>4）傳輸層（Transport Layer）</strong></p><p>　　第一個端到端，即主機到主機的層次。傳輸層負責將上層數據分段並提供端到端的、可靠的或不可靠的傳輸。此外，傳輸層還要處理端到端的差錯控制和流量控制問題。</p><p>　　傳輸層的任務是根據通信子網的特性，最佳的利用網絡資源，為兩個端系統的會話層之間，提供建立、維護和取消傳輸連接的功能，負責端到端的可靠數據傳輸。在這一層，信息傳送的協議數據單元稱為段或報文。</p><p>　　網絡層只是根據網絡地址將源結點發出的數據包傳送到目的結點，而傳輸層則負責將數據可靠地傳送到相應的端口。</p><p>　　有關網絡層的重點：</p><p><strong>　　1> 傳輸層負責將上層數據分段並提供端到端的、可靠的或不可靠的傳輸以及端到端的差錯控制和流量控制問題；</strong></p><p><strong>　　2> 包含的主要協議：TCP協議（Transmission Control Protocol，傳輸控制協議）、UDP協議（User Datagram Protocol，用戶數據報協議）；</strong></p><p><strong>　　3> 重要設備：網關。</strong></p><p>　　<strong>5）會話層</strong></p><p>　　會話層管理主機之間的會話進程，即負責建立、管理、終止進程之間的會話。會話層還利用在數據中插入校驗點來實現數據的同步。</p><p>　　<strong>6）表示層</strong></p><p>　　表示層對上層數據或信息進行變換以保證一個主機應用層信息可以被另一個主機的應用程序理解。表示層的數據轉換包括數據的加密、壓縮、格式轉換等。</p><p>　　<strong>7）應用層</strong></p><p>　　為操作系統或網絡應用程序提供訪問網絡服務的接口。</p><p>　　會話層、表示層和應用層重點：</p><p>　　<strong>1> 數據傳輸基本單位為報文；</strong></p><p><strong>　　2> 包含的主要協議：FTP（文件傳送協議）、Telnet（遠程登錄協議）、DNS（域名解析協議）、SMTP（郵件傳送協議），POP3協議（郵局協議），HTTP協議（Hyper Text Transfer Protocol）。</strong></p><p>回到頂部</p><h3>3. IP地址</h3><p>　　</p><p><img alt=計算機知識之網絡通信基礎 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/509d00047c6d7bfb069d></p><p><strong>1）網絡地址</strong><br></p><p>　　IP地址由網絡號（包括子網號）和主機號組成，網絡地址的主機號為全0，網絡地址代表著整個網絡。</p><p>　　<strong>2）廣播地址</strong></p><p>　　廣播地址通常稱為直接廣播地址，是為了區分受限廣播地址。</p><p>　　廣播地址與網絡地址的主機號正好相反，廣播地址中，主機號為全1。當向某個網絡的廣播地址發送消息時，該網絡內的所有主機都能收到該廣播消息。</p><p>　　<strong>3）組播地址</strong></p><p>　　D類地址就是組播地址。</p><p>　　先回憶下A，B，C，D類地址吧：</p><p>　　A類地址以0開頭，第一個字節作為網絡號，地址範圍為：0.0.0.0~127.255.255.255；(<strong>modified @2016.05.31</strong>)</p><p>　　B類地址以10開頭，前兩個字節作為網絡號，地址範圍是：128.0.0.0~191.255.255.255;</p><p>　　C類地址以110開頭，前三個字節作為網絡號，地址範圍是：192.0.0.0~223.255.255.255。</p><p>　　D類地址以1110開頭，地址範圍是224.0.0.0~239.255.255.255，D類地址作為組播地址（一對多的通信）；</p><p>　　E類地址以1111開頭，地址範圍是240.0.0.0~255.255.255.255，E類地址為保留地址，供以後使用。</p><p>　　注：只有A,B,C有網絡號和主機號之分，D類地址和E類地址沒有劃分網絡號和主機號。</p><p>　　<strong>4）255.255.255.255</strong></p><p>　　該IP地址指的是受限的廣播地址。受限廣播地址與一般廣播地址（直接廣播地址）的區別在於，受限廣播地址只能用於本地網絡，路由器不會轉發以受限廣播地址為目的地址的分組；一般廣播地址既可在本地廣播，也可跨網段廣播。例如：主機192.168.1.1/30上的直接廣播數據包後，另外一個網段192.168.1.5/30也能收到該數據報；若發送受限廣播數據報，則不能收到。</p><p>　　注：一般的廣播地址（直接廣播地址）能夠通過某些路由器（當然不是所有的路由器），而受限的廣播地址不能通過路由器。</p><p>　　<strong>5）0.0.0.0</strong></p><p>　　常用於尋找自己的IP地址，例如在我們的RARP，BOOTP和DHCP協議中，若某個未知IP地址的無盤機想要知道自己的IP地址，它就以255.255.255.255為目的地址，向本地範圍（具體而言是被各個路由器屏蔽的範圍內）的服務器發送IP請求分組。</p><p>　　<strong>6）迴環地址</strong></p><p>　　127.0.0.0/8被用作迴環地址，迴環地址表示本機的地址，常用於對本機的測試，用的最多的是127.0.0.1。</p><p>　　<strong>7）A、B、C類私有地址</strong></p><p>　　私有地址(private address)也叫專用地址，它們不會在全球使用，只具有本地意義。</p><p>　　A類私有地址：10.0.0.0/8，範圍是：10.0.0.0~10.255.255.255</p><p>　　B類私有地址：172.16.0.0/12，範圍是：172.16.0.0~172.31.255.255</p><p>　　C類私有地址：192.168.0.0/16，範圍是：192.168.0.0~192.168.255.255</p><p>回到頂部</p><h3>4. 子網掩碼及網絡劃分</h3><p>　　隨著互連網應用的不斷擴大，原先的IPv4的弊端也逐漸暴露出來，即網絡號佔位太多，而主機號位太少，所以其能提供的主機地址也越來越稀缺，目前除了使用NAT在企業內部利用保留地址自行分配以外，通常都對一個高類別的IP地址進行再劃分，以形成多個子網，提供給不同規模的用戶群使用。</p><p>　　這裡主要是為了在網絡分段情況下有效地利用IP地址，通過對主機號的高位部分取作為子網號，從通常的網絡位界限中擴展或壓縮子網掩碼，用來創建某類地址的更多子網。但創建更多的子網時，在每個子網上的可用主機地址數目會比原先減少。</p><p>　　<strong>什麼是子網掩碼？</strong></p><p>　　子網掩碼是標誌兩個IP地址是否同屬於一個子網的，也是32位二進制地址，其每一個為1代表該位是網絡位，為0代表主機位。它和IP地址一樣也是使用點式十進制來表示的。如果兩個IP地址在子網掩碼的按位與的計算下所得結果相同，即表明它們共屬於同一子網中。</p><p>　　<strong>在計算子網掩碼時，我們要注意IP地址中的保留地址，即“ 0”地址和廣播地址，它們是指主機地址或網絡地址全為“ 0”或“ 1”時的IP地址，它們代表著本網絡地址和廣播地址，一般是不能被計算在內的。</strong></p><p>　　<strong>子網掩碼的計算：</strong><br></p><p>　　對於無須再劃分成子網的IP地址來說，其子網掩碼非常簡單，即按照其定義即可寫出：如某B類IP地址為 10.12.3.0，無須再分割子網，則該IP地址的子網掩碼255.255.0.0。如果它是一個C類地址，則其子網掩碼為 255.255.255.0。其它類推，不再詳述。下面我們關鍵要介紹的是一個IP地址，還需要將其高位主機位再作為劃分出的子網網絡號，剩下的是每個子網的主機號，這時該如何進行每個子網的掩碼計算。</p><p>　　下面總結一下有關子網掩碼和網絡劃分常見的面試考題：</p><p><strong>　　1）利用子網數來計算</strong></p><p>　　在求子網掩碼之前必須先搞清楚要劃分的子網數目，以及每個子網內的所需主機數目。</p><p>　　(1) 將子網數目轉化為二進制來表示;</p><p>　　如欲將B類IP地址168.195.0.0劃分成27個子網：27=11011；</p><p>　　(2) 取得該二進制的位數，為N；</p><p>　　該二進制為五位數，N = 5</p><p>　　(3) 取得該IP地址的類子網掩碼，將其主機地址部分的的前N位置1即得出該IP地址劃分子網的子網掩碼。</p><p>　　將B類地址的子網掩碼255.255.0.0的主機地址前5位置 1，得到 255.255.248.0</p><p>　　<strong>2）利用主機數來計算</strong></p><p>　　如欲將B類IP地址168.195.0.0劃分成若干子網，每個子網內有主機700臺：</p><p>　　(1) 將主機數目轉化為二進制來表示；</p><p>　　700=1010111100；</p><p>　　(2) 如果主機數小於或等於254（注意去掉保留的兩個IP地址），則取得該主機的二進制位數，為N，這裡肯定 N&lt;8。如果大於254，則 N>8，這就是說主機地址將佔據不止8位；</p><p>　　該二進制為十位數，N=10；</p><p>　　(3) 使用255.255.255.255來將該類IP地址的主機地址位數全部置1，然後從後向前的將N位全部置為 0，即為子網掩碼值。</p><p>　　將該B類地址的子網掩碼255.255.0.0的主機地址全部置1，得到255.255.255.255，然後再從後向前將後 10位置0,即為：11111111.11111111.11111100.00000000，即255.255.252.0。這就是該欲劃分成主機為700臺的B類IP地址 168.195.0.0的子網掩碼。</p><p>　　<strong>3）還有一種題型，要你根據每個網絡的主機數量進行子網地址的規劃和</strong><strong>計算子網掩碼。這也可按上述原則進行計算。</strong></p><p>　　比如一個子網有10臺主機，那麼對於這個子網需要的IP地址是：</p><p>　　10＋1＋1＋1＝13</p><p>　　<strong>注意：加的第一個1是指這個網絡連接時所需的網關地址，接著的兩個1分別是指網</strong><strong>絡地址和廣播地址。</strong></p><p>　　因為13小於16（16等於2的4次方），所以主機位為4位。而256－16＝240，所以該子網掩碼為255.255.255.240。</p><p>　　如果一個子網有14臺主機，不少人常犯的錯誤是：依然分配具有16個地址空間的子網，而忘記了給網關分配地址。這樣就錯誤了，因為14＋1＋1＋1＝17，17大於16，所以我們只能分配具有32個地址（32等於2的5次方）空間的子網。這時子網掩碼為：255.255.255.224。</p><p>回到頂部</p><h3>5. ARP/RARP協議</h3><p>　　<strong>地址解析協議，即ARP（Address Resolution Protocol），是根據IP地址獲取物理地址的一個TCP/IP協議。</strong>主機發送信息時將包含目標IP地址的ARP請求廣播到網絡上的所有主機，並接收返回消息，以此確定目標的物理地址；收到返回消息後將該IP地址和物理地址存入本機ARP緩存中並保留一定時間，下次請求時直接查詢ARP緩存以節約資源。地址解析協議是建立在網絡中各個主機互相信任的基礎上的，網絡上的主機可以自主發送ARP應答消息，其他主機收到應答報文時不會檢測該報文的真實性就會將其記入本機ARP緩存；由此攻擊者就可以向某一主機發送偽ARP應答報文，使其發送的信息無法到達預期的主機或到達錯誤的主機，這就構成了一個ARP欺騙。<strong>ARP命令可用於查詢本機ARP緩存中IP地址和MAC地址的對應關係、添加或刪除靜態對應關係等。</strong></p><p>　　ARP工作流程舉例：</p><p>　　主機A的IP地址為192.168.1.1，MAC地址為0A-11-22-33-44-01；</p><p>　　主機B的IP地址為192.168.1.2，MAC地址為0A-11-22-33-44-02；</p><p>　　當主機A要與主機B通信時，地址解析協議可以將主機B的IP地址（192.168.1.2）解析成主機B的MAC地址，以下為工作流程：</p><p>　　（1）根據主機A上的路由表內容，IP確定用於訪問主機B的轉發IP地址是192.168.1.2。然後A主機在自己的本地ARP緩存中檢查主機B的匹配MAC地址。</p><p>　　（2）如果主機A在ARP緩存中沒有找到映射，它將詢問192.168.1.2的硬件地址，從而將ARP請求幀廣播到本地網絡上的所有主機。源主機A的IP地址和MAC地址都包括在ARP請求中。本地網絡上的每臺主機都接收到ARP請求並且檢查是否與自己的IP地址匹配。如果主機發現請求的IP地址與自己的IP地址不匹配，它將丟棄ARP請求。</p><p>　　（3）主機B確定ARP請求中的IP地址與自己的IP地址匹配，則將主機A的IP地址和MAC地址映射添加到本地ARP緩存中。</p><p>　　（4）主機B將包含其MAC地址的ARP回覆消息直接發送回主機A。</p><p>　　（5）當主機A收到從主機B發來的ARP回覆消息時，會用主機B的IP和MAC地址映射更新ARP緩存。本機緩存是有生存期的，生存期結束後，將再次重複上面的過程。主機B的MAC地址一旦確定，主機A就能向主機B發送IP通信了。</p><p>　　<strong>逆地址解析協議，即RARP，功能和ARP協議相對，其將局域網中某個主機的物理地址轉換為IP地址</strong>，比如局域網中有一臺主機只知道物理地址而不知道IP地址，那麼可以通過RARP協議發出徵求自身IP地址的廣播請求，然後由RARP服務器負責回答。</p><p>　　RARP協議工作流程：</p><p>　　（1）給主機發送一個本地的RARP廣播，在此廣播包中，聲明自己的MAC地址並且請求任何收到此請求的RARP服務器分配一個IP地址；</p><p>　　（2）本地網段上的RARP服務器收到此請求後，檢查其RARP列表，查找該MAC地址對應的IP地址；</p><p>　　（3）如果存在，RARP服務器就給源主機發送一個響應數據包並將此IP地址提供給對方主機使用；</p><p>　　（4）如果不存在，RARP服務器對此不做任何的響應；</p><p>　　（5）源主機收到從RARP服務器的響應信息，就利用得到的IP地址進行通訊；如果一直沒有收到RARP服務器的響應信息，表示初始化失敗。</p><p>回到頂部</p><h3>6. 路由選擇協議</h3><p>　　常見的路由選擇協議有：RIP協議、OSPF協議。</p><p><strong>　　RIP</strong><strong>協議</strong> ：底層是貝爾曼福特算法，它選擇路由的度量標準（metric)是跳數，最大跳數是15跳，如果大於15跳，它就會丟棄數據包。</p><p>　　<strong>OSPF</strong><strong>協議</strong> ：Open Shortest Path First開放式最短路徑優先，底層是迪傑斯特拉算法，是鏈路狀態路由選擇協議，它選擇路由的度量標準是帶寬，延遲。</p><p>回到頂部</p><h3>7. TCP/IP協議</h3><p>　　<strong>TCP/IP協議是Internet最基本的協議、Internet國際互聯網絡的基礎，由網絡層的IP協議和傳輸層的TCP協議組成。通俗而言：TCP負責發現傳輸的問題，一有問題就發出信號，要求重新傳輸，直到所有數據安全正確地傳輸到目的地。而IP是給因特網的每一臺聯網設備規定一個地址。</strong></p><p>　　IP層接收由更低層（網絡接口層例如以太網設備驅動程序）發來的數據包，並把該數據包發送到更高層---TCP或UDP層；相反，IP層也把從TCP或UDP層接收來的數據包傳送到更低層。IP數據包是不可靠的，因為IP並沒有做任何事情來確認數據包是否按順序發送的或者有沒有被破壞，IP數據包中含有發送它的主機的地址（源地址）和接收它的主機的地址（目的地址）。</p><p>　　TCP是面向連接的通信協議，通過三次握手建立連接，通訊完成時要拆除連接，由於TCP是面向連接的所以只能用於端到端的通訊。TCP提供的是一種可靠的數據流服務，採用“帶重傳的肯定確認”技術來實現傳輸的可靠性。TCP還採用一種稱為“滑動窗口”的方式進行流量控制，所謂窗口實際表示接收能力，用以限制發送方的發送速度。</p><p>　　<strong>TCP報文首部格式：</strong></p><p><img alt=計算機知識之網絡通信基礎 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/509d00047d0072eea25c></p><p><img alt=計算機知識之網絡通信基礎 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/4aed0001096359476368></p><p>　　<strong>TCP協議的三次握手和四次揮手：</strong></p><p><img alt=計算機知識之網絡通信基礎 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/50a10000d8e266bf18d9></p><p><img alt=計算機知識之網絡通信基礎 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/4aed0001096359476368></p><p><strong>　　注：seq</strong>:"sequance"序列號；<strong>ack</strong>:"acknowledge"確認號；<strong>SYN</strong>:"synchronize"請求同步標誌；<strong>；ACK</strong>:"acknowledge"確認標誌"<strong>；</strong><strong>FIN</strong>："Finally"結束標誌。</p><p>　　<strong>TCP連接建立過程：</strong>首先Client端發送連接請求報文，Server段接受連接後回覆ACK報文，併為這次連接分配資源。Client端接收到ACK報文後也向Server段發生ACK報文，並分配資源，這樣TCP連接就建立了。</p><p>　　<strong>TCP連接斷開過程：</strong>假設Client端發起中斷連接請求，也就是發送FIN報文。Server端接到FIN報文後，意思是說"我Client端沒有數據要發給你了"，但是如果你還有數據沒有發送完成，則不必急著關閉Socket，可以繼續發送數據。所以你先發送ACK，"告訴Client端，你的請求我收到了，但是我還沒準備好，請繼續你等我的消息"。這個時候Client端就進入FIN_WAIT狀態，繼續等待Server端的FIN報文。當Server端確定數據已發送完成，則向Client端發送FIN報文，"告訴Client端，好了，我這邊數據發完了，準備好關閉連接了"。Client端收到FIN報文後，"就知道可以關閉連接了，但是他還是不相信網絡，怕Server端不知道要關閉，所以發送ACK後進入TIME_WAIT狀態，如果Server端沒有收到ACK則可以重傳。“，Server端收到ACK後，"就知道可以斷開連接了"。Client端等待了2MSL後依然沒有收到回覆，則證明Server端已正常關閉，那好，我Client端也可以關閉連接了。Ok，TCP連接就這樣關閉了！</p><p>　　<strong>為什麼要三次揮手？</strong></p><p>　　在只有兩次“握手”的情形下，假設Client想跟Server建立連接，但是卻因為中途連接請求的數據報丟失了，故Client端不得不重新發送一遍；這個時候Server端僅收到一個連接請求，因此可以正常的建立連接。但是，有時候Client端重新發送請求不是因為數據報丟失了，而是有可能數據傳輸過程因為網絡併發量很大在某結點被阻塞了，這種情形下Server端將先後收到2次請求，並持續等待兩個Client請求向他發送數據...問題就在這裡，Cient端實際上只有一次請求，而Server端卻有2個響應，極端的情況可能由於Client端多次重新發送請求數據而導致Server端最後建立了N多個響應在等待，因而造成極大的資源浪費！所以，“三次握手”很有必要！</p><p>　　<strong>為什麼要四次揮手？</strong></p><p>　　試想一下，假如現在你是客戶端你想斷開跟Server的所有連接該怎麼做？第一步，你自己先停止向Server端發送數據，並等待Server的回覆。但事情還沒有完，雖然你自身不往Server發送數據了，但是因為你們之前已經建立好平等的連接了，所以此時他也有主動權向你發送數據；故Server端還得終止主動向你發送數據，並等待你的確認。其實，說白了就是保證雙方的一個合約的完整執行！</p><p>　　使用TCP的協議：FTP（文件傳輸協議）、Telnet（遠程登錄協議）、SMTP（簡單郵件傳輸協議）、POP3（和SMTP相對，用於接收郵件）、HTTP協議等。</p><p>回到頂部</p><h3>8. UDP協議　</h3><p>　　<strong>UDP用戶數據報協議，是面向無連接的通訊協議，UDP數據包括目的端口號和源端口號信息，由於通訊不需要連接，所以可以實現廣播發送。</strong><strong>UDP通訊時不需要接收方確認，屬於不可靠的傳輸，可能會出現丟包現象，實際應用中要求程序員編程驗證。</strong></p><p>　　UDP與TCP位於同一層，但它不管數據包的順序、錯誤或重發。因此，UDP不被應用於那些使用虛電路的面向連接的服務，UDP主要用於那些面向查詢---應答的服務，例如NFS。相對於FTP或Telnet，這些服務需要交換的信息量較小。</p><p>　　每個UDP報文分UDP報頭和UDP數據區兩部分。報頭由四個16位長（2字節）字段組成，分別說明該報文的源端口、目的端口、報文長度以及校驗值。UDP報頭由4個域組成，其中每個域各佔用2個字節，具體如下：<br>　　（1）源端口號；</p><p>　　（2）目標端口號；</p><p>　　（3）數據報長度；</p><p>　　（4）校驗值。</p><p>　　使用UDP協議包括：TFTP（簡單文件傳輸協議）、SNMP（簡單網絡管理協議）、DNS（域名解析協議）、NFS、BOOTP。</p><p>　　<strong>TCP</strong><strong> </strong><strong>與</strong><strong> </strong><strong>UDP</strong><strong> </strong><strong>的區別：</strong>TCP是面向連接的，可靠的字節流服務；UDP是面向無連接的，不可靠的數據報服務。</p><p>回到頂部</p><h3>9. DNS協議</h3><p>　　DNS是域名系統(DomainNameSystem)的縮寫，該系統用於命名組織到域層次結構中的計算機和網絡服務，<strong>可以簡單地理解為將URL轉換為IP地址</strong>。域名是由圓點分開一串單詞或縮寫組成的，每一個域名都對應一個惟一的IP地址，在Internet上域名與IP地址之間是一一對應的，DNS就是進行域名解析的服務器。DNS命名用於Internet等TCP/IP網絡中，通過用戶友好的名稱查找計算機和服務。</p><p>回到頂部</p><h3>10. NAT協議</h3><p><strong>　　</strong>NAT網絡地址轉換(Network Address Translation)屬接入廣域網(WAN)技術，是一種將私有（保留）地址轉化為合法IP地址的轉換技術，它被廣泛應用於各種類型Internet接入方式和各種類型的網絡中。原因很簡單，NAT不僅完美地解決了lP地址不足的問題，而且還能夠有效地避免來自網絡外部的攻擊，隱藏並保護網絡內部的計算機。</p><p>回到頂部</p><h3>11. DHCP協議</h3><p>　　DHCP動態主機設置協議（Dynamic Host Configuration Protocol）是一個局域網的網絡協議，使用UDP協議工作，主要有兩個用途：給內部網絡或網絡服務供應商自動分配IP地址，給用戶或者內部網絡管理員作為對所有計算機作中央管理的手段。</p><p>回到頂部</p><h3>12. HTTP協議</h3><p>　　超文本傳輸協議（HTTP，HyperText Transfer Protocol)是互聯網上應用最為廣泛的一種網絡協議。所有的WWW文件都必須遵守這個標準。</p><p><strong>　　HTTP</strong><strong> </strong><strong>協議包括哪些請求？</strong></p><p>　　GET：請求讀取由URL所標誌的信息。</p><p>　　POST：給服務器添加信息（如註釋）。</p><p>　　PUT：在給定的URL下存儲一個文檔。</p><p>　　DELETE：刪除給定的URL所標誌的資源。</p><p><strong>　　HTTP</strong><strong> </strong><strong>中，</strong><strong> </strong><strong>POST</strong><strong> </strong><strong>與</strong><strong> </strong><strong>GET</strong><strong> </strong><strong>的區別</strong></p><p>　　1）Get是從服務器上獲取數據，Post是向服務器傳送數據。</p><p>　　2）Get是把參數數據隊列加到提交表單的Action屬性所指向的URL中，值和表單內各個字段一一對應，在URL中可以看到。</p><p>　　3）Get傳送的數據量小，不能大於2KB；Post傳送的數據量較大，一般被默認為不受限制。</p><p>　　4）根據HTTP規範，GET用於信息獲取，而且應該是安全的和冪等的。</p><p>　　I. 所謂 <strong>安全的</strong> 意味著該操作用於獲取信息而非修改信息。換句話說，GET請求一般不應產生副作用。就是說，它僅僅是獲取資源信息，就像數據庫查詢一樣，不會修改，增加數據，不會影響資源的狀態。</p><p>　　II. <strong>冪等</strong> 的意味著對同一URL的多個請求應該返回同樣的結果。</p><p>回到頂部</p><h3>13. 一個舉例</h3><p><strong>　　在瀏覽器中輸入</strong><strong> </strong><strong>www.baidu.com</strong><strong><em></em></strong> <strong>後執行的全部過程</strong></p><p>　　現在假設如果我們在客戶端（客戶端）瀏覽器中輸入http://www.baidu.com,而baidu.com為要訪問的服務器（服務器），下面詳細分析客戶端為了訪問服務器而執行的一系列關於協議的操作：</p><p>　　1）客戶端瀏覽器通過DNS解析到www.baidu.com的IP地址220.181.27.48，通過這個IP地址找到客戶端到服務器的路徑。客戶端瀏覽器發起一個HTTP會話到220.161.27.48，然後通過TCP進行封裝數據包，輸入到網絡層。</p><p>　　2）在客戶端的傳輸層，把HTTP會話請求分成報文段，添加源和目的端口，如服務器使用80端口監聽客戶端的請求，客戶端由系統隨機選擇一個端口如5000，與服務器進行交換，服務器把相應的請求返回給客戶端的5000端口。然後使用IP層的IP地址查找目的端。</p><p>　　3）客戶端的網絡層不用關係應用層或者傳輸層的東西，主要做的是通過查找路由表確定如何到達服務器，期間可能經過多個路由器，這些都是由路由器來完成的工作，不作過多的描述，無非就是通過查找路由表決定通過那個路徑到達服務器。</p><p>　　4）客戶端的鏈路層，包通過鏈路層發送到路由器，通過鄰居協議查找給定IP地址的MAC地址，然後發送ARP請求查找目的地址，如果得到迴應後就可以使用ARP的請求應答交換的IP數據包現在就可以傳輸了，然後發送IP數據包到達服務器的地址。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>計算機</a></li><li><a>知識</a></li><li><a>網絡</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/dba885a9.html alt=計算機網絡知識看這一篇文章就夠了 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/764877f718574ec99a7c58c8ce88f446 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/dba885a9.html title=計算機網絡知識看這一篇文章就夠了>計算機網絡知識看這一篇文章就夠了</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/441a7e0.html alt=「計算機網絡知識總結」乾貨，計算機網絡基礎知識 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f5f2a033a43341d8ba62389ba5e8d760 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/441a7e0.html title=「計算機網絡知識總結」乾貨，計算機網絡基礎知識>「計算機網絡知識總結」乾貨，計算機網絡基礎知識</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6474ccee.html alt=點對點網絡的基本知識分享 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8678a34470a144ad88fc0487f0d8da91 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6474ccee.html title=點對點網絡的基本知識分享>點對點網絡的基本知識分享</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/62052e23.html alt=科技知識分享：現代電子計算機的發展史，分為幾個階段？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/11aea52a116e4c499e16ba32d2c36725 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/62052e23.html title=科技知識分享：現代電子計算機的發展史，分為幾個階段？>科技知識分享：現代電子計算機的發展史，分為幾個階段？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1267d3e8.html alt=計算機網絡-數據鏈路層 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/125a70d9a286430b8d5aabb35a77904a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1267d3e8.html title=計算機網絡-數據鏈路層>計算機網絡-數據鏈路層</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/09972eef.html alt="計算機網絡: 鏈路層(入門)" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e50e09971c3a4165866d14abf2df9da4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/09972eef.html title="計算機網絡: 鏈路層(入門)">計算機網絡: 鏈路層(入門)</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d469ff43.html alt=計算機網絡之碼分多址技術 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1be327daace445728399d2409f694a17 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d469ff43.html title=計算機網絡之碼分多址技術>計算機網絡之碼分多址技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c624a086.html alt=計算機網絡自學筆記：IP數據報格式與編址 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/7aa7f2180be1441c8bd9393af4355c9b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c624a086.html title=計算機網絡自學筆記：IP數據報格式與編址>計算機網絡自學筆記：IP數據報格式與編址</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/86e033bc.html alt=前端要知道的網絡知識三：認識OSI七層模型 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/222c6f2c-ae3d-41d5-9e3f-e344f24d2e6c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/86e033bc.html title=前端要知道的網絡知識三：認識OSI七層模型>前端要知道的網絡知識三：認識OSI七層模型</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/aecf487e.html alt=計算機網絡基礎：局域網協議相關知識 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b843ca1dae9a4662aa8b04d696310359 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/aecf487e.html title=計算機網絡基礎：局域網協議相關知識>計算機網絡基礎：局域網協議相關知識</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9c95b6a2.html alt=電腦網絡知識：超文本傳輸協議(HTTP)的學習 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/dd62b1e29a5548f3bd7714f348272da2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9c95b6a2.html title=電腦網絡知識：超文本傳輸協議(HTTP)的學習>電腦網絡知識：超文本傳輸協議(HTTP)的學習</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b43524ea.html alt="網絡安全 | 小才子不得不知道的網絡安全知識！" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RcXFjwQ3pvBZmg style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b43524ea.html title="網絡安全 | 小才子不得不知道的網絡安全知識！">網絡安全 | 小才子不得不知道的網絡安全知識！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5fb22495.html alt=那些你可能不知道的網絡冷知識奇技淫巧 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/4580a9a9cee342f6b4414d49ee87e174 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5fb22495.html title=那些你可能不知道的網絡冷知識奇技淫巧>那些你可能不知道的網絡冷知識奇技淫巧</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6c561f23.html alt=計算機網絡：網絡設備知識筆記 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6813b32307144172939b3aac5d917dce style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6c561f23.html title=計算機網絡：網絡設備知識筆記>計算機網絡：網絡設備知識筆記</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/63902cc0.html alt=計算機網絡太難了？瞭解這一篇就夠了 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a0bf5c9306514f8d922e5b287829d174 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/63902cc0.html title=計算機網絡太難了？瞭解這一篇就夠了>計算機網絡太難了？瞭解這一篇就夠了</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>