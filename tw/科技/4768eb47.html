<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Java ä»£ç¢¼ç•Œ 3% çš„ç‹è€…ï¼Ÿçœ‹æˆ‘æ˜¯å¦‚ä½•è§£éŒ¯é€™ 5 é“é¡Œçš„ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Java ä»£ç¢¼ç•Œ 3% çš„ç‹è€…ï¼Ÿçœ‹æˆ‘æ˜¯å¦‚ä½•è§£éŒ¯é€™ 5 é“é¡Œçš„ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/ecee78fc812b4f9f91de26268c1e1e89"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4768eb47.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4768eb47.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4768eb47.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4768eb47.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4768eb47.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4768eb47.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4768eb47.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4768eb47.html><meta property="article:published_time" content="2020-11-14T21:00:51+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:51+08:00"><meta name=Keywords content><meta name=description content="Java ä»£ç¢¼ç•Œ 3% çš„ç‹è€…ï¼Ÿçœ‹æˆ‘æ˜¯å¦‚ä½•è§£éŒ¯é€™ 5 é“é¡Œçš„"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/4768eb47.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Java ä»£ç¢¼ç•Œ 3% çš„ç‹è€…ï¼Ÿçœ‹æˆ‘æ˜¯å¦‚ä½•è§£éŒ¯é€™ 5 é“é¡Œçš„</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><div class=pgc-img><img alt="Java ä»£ç¢¼ç•Œ 3% çš„ç‹è€…ï¼Ÿçœ‹æˆ‘æ˜¯å¦‚ä½•è§£éŒ¯é€™ 5 é“é¡Œçš„" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ecee78fc812b4f9f91de26268c1e1e89><p class=pgc-img-caption></p></div><h1>å¼•è¨€</h1><p>å‰äº›æ—¥å­ï¼Œé˜¿é‡Œå¦¹ï¼ˆå¦¹å­å‡ºé¡Œä¹Ÿé€™éº¼é›£ï¼‰ç™¼è¡¨äº†ä¸€ç¯‡æ–‡ç« ã€Šæ‡¸è³å¾µé›†ï¼5 é“é¡Œå¾µé›†ä»£ç¢¼ç•Œå‰ 3% çš„è¶…ç´šç‹è€…ã€‹â€”â€”çœ‹åˆ°é€™å€‹æ¨™é¡Œï¼Œæˆ‘å…§å¿ƒéå¸¸éå¸¸æ¿€å‹•ï¼Œå› ç‚ºçµ‚æ–¼å¯ä»¥è­‰æ˜è‡ªå·±æŠ€è¡“å¾ˆç‰›é€¼äº†ã€‚</p><p>ä½†éºæ†¾çš„æ˜¯ï¼Œæ†‘è—‰ 8 å¹´çš„ Java é–‹ç™¼ç¶“é©—ï¼Œæˆ‘ç™¼ç¾é€™äº”é“é¡Œè‡ªå·±å…¨è§£éŒ¯äº†ï¼æ…˜ç—›çš„æ•™è¨“å†æ¬¡è­‰æ˜ï¼Œæˆ‘æ˜¯é‚£è¢«ç§’æ®ºçš„ 97% çš„å·¥ç¨‹å¸«ä¹‹ä¸€ã€‚</p><p>ä¸éï¼Œå¥½æ­¹æˆ‘é€™äººè‡‰çš®ç‰¹åˆ¥åšï¼Œé›–ç„¶å…¨éƒ½åšéŒ¯äº†ï¼Œä½†é‚„æ˜¯æ•¢æ–¼å¦ç„¶åœ°é¢å°è‡ªå·±ã€‚</p><p><strong>01ã€åŸå§‹é¡å‹çš„ float</strong></p><p>ç¬¬ä¸€é¡Œæ˜¯é€™æ¨£çš„ï¼Œä»£ç¢¼å¦‚ä¸‹ï¼š</p><pre>public class FloatPrimitiveTest { public static void main(String[] args) { float a = 1.0f - 0.9f; float b = 0.9f - 0.8f; if (a == b) { System.out.println("true"); } else { System.out.println("false"); } }}</pre><p>ä¹ä¸€çœ‹ï¼Œé€™é“é¡Œä¹Ÿå¤ªç°¡å–®äº†å§ï¼Ÿ</p><p>1.0f - 0.9f çš„çµæœç‚º 0.1fï¼Œ0.9f - 0.8f çš„çµæœç‚º 0.1fï¼Œé‚£è‡ªç„¶ a == b å•Šã€‚</p><p>ä½†å¯¦éš›çš„çµæœç«Ÿç„¶ä¸æ˜¯é€™æ¨£çš„ï¼Œå¤ªå‚·è‡ªå°Šäº†ã€‚</p><pre>float a = 1.0f - 0.9f;System.out.println(a); // 0.100000024float b = 0.9f - 0.8f;System.out.println(b); // 0.099999964</pre><p>åŠ ä¸Šå…©æ¢æ‰“å°èªå¥å¾Œï¼Œæˆ‘æ˜ç™½äº†ï¼ŒåŸä¾†ç™¼ç”Ÿäº†ç²¾åº¦å•é¡Œã€‚</p><p>Java èªè¨€æ”¯æŒå…©ç¨®åŸºæœ¬çš„æµ®é»é¡å‹ï¼š float å’Œ double ï¼Œä»¥åŠèˆ‡å®ƒå€‘å°æ‡‰çš„åŒ…è£é¡ Float å’Œ Double ã€‚å®ƒå€‘éƒ½ä¾æ“š IEEE 754 æ¨™æº–ï¼Œè©²æ¨™æº–ç”¨ç§‘å­¸è¨˜æ•¸æ³•ä»¥åº•æ•¸ç‚º 2 çš„å°æ•¸ä¾†è¡¨ç¤ºæµ®é»æ•¸ã€‚</p><p>ä½†æµ®é»é‹ç®—å¾ˆå°‘æ˜¯ç²¾ç¢ºçš„ã€‚é›–ç„¶ä¸€äº›æ•¸å­—å¯ä»¥ç²¾ç¢ºåœ°è¡¨ç¤ºç‚ºäºŒé€²åˆ¶å°æ•¸ï¼Œæ¯”å¦‚èªª 0.5ï¼Œå®ƒç­‰æ–¼ 2<sup>-1</sup>ï¼›ä½†æœ‰äº›æ•¸å­—å‰‡ä¸èƒ½ç²¾ç¢ºçš„è¡¨ç¤ºï¼Œæ¯”å¦‚èªª 0.1ã€‚å› æ­¤ï¼Œæµ®é»é‹ç®—å¯èƒ½æœƒå°è‡´èˆå…¥èª¤å·®ï¼Œç”¢ç”Ÿçš„çµæœæ¥è¿‘ä½†ä¸¦ä¸ç­‰æ–¼æˆ‘å€‘å¸Œæœ›çš„çµæœã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘å€‘çœ‹åˆ°äº† 0.1 çš„å…©å€‹ç›¸è¿‘çš„æµ®é»å€¼ï¼Œä¸€å€‹æ˜¯æ¯” 0.1 ç•¥å¾®å¤§äº†ä¸€é»é»çš„ 0.100000024ï¼Œä¸€å€‹æ˜¯æ¯” 0.1 ç•¥å¾®å°äº†ä¸€é»é»çš„ 0.099999964ã€‚</p><p>Java å°æ–¼ä»»æ„ä¸€å€‹æµ®é»å­—é¢é‡ï¼Œæœ€çµ‚éƒ½èˆå…¥åˆ°æ‰€èƒ½è¡¨ç¤ºçš„æœ€é è¿‘çš„é‚£å€‹æµ®é»å€¼ï¼Œé‡åˆ°è©²å€¼é›¢å·¦å³å…©å€‹èƒ½è¡¨ç¤ºçš„æµ®é»å€¼è·é›¢ç›¸ç­‰æ™‚ï¼Œé»˜èªæ¡ç”¨å¶æ•¸å„ªå…ˆçš„åŸå‰‡â€”â€”é€™å°±æ˜¯ç‚ºä»€éº¼æˆ‘å€‘æœƒçœ‹åˆ°å…©å€‹éƒ½ä»¥ 4 çµå°¾çš„æµ®é»å€¼çš„åŸå› ã€‚</p><p><strong>02ã€åŒ…è£å™¨é¡å‹ Float</strong></p><p>å†ä¾†çœ‹ç¬¬äºŒé¡Œï¼Œä»£ç¢¼å¦‚ä¸‹ï¼š</p><pre>public class FloatWrapperTest { public static void main(String[] args) { Float a = Float.valueOf(1.0f - 0.9f); Float b = Float.valueOf(0.9f - 0.8f); if (a.equals(b)) { System.out.println("true"); } else { System.out.println("false"); } }}</pre><p>ä¹ä¸€çœ‹ï¼Œé€™é“é¡Œä¹Ÿä¸é›£ï¼Œå°å§ï¼Ÿç„¡éæ˜¯æŠŠåŸå§‹é¡å‹çš„ float è½‰æˆäº†åŒ…è£å™¨é¡å‹ Floatï¼Œä¸¦ä¸”ä½¿ç”¨ equals æ›¿ä»£ == é€²è¡Œåˆ¤æ–·ã€‚</p><p>é€™ä¸€æ¬¡ï¼Œæˆ‘ä»¥ç‚ºåŒ…è£å™¨æœƒè§£æ±ºæ‰ç²¾åº¦çš„å•é¡Œï¼Œæ‰€ä»¥æˆ‘çŒœæƒ³è¼¸å‡ºçµæœç‚º trueã€‚ä½†çµæœå†æ¬¡æ‰“è‡‰â€”â€”é›–ç„¶æˆ‘è‡‰çš®åšï¼Œä½†ä»ç„¶èƒ½æ„Ÿè¦ºåˆ°è‡‰æœ‰äº›å¾®å¾®çš„ç´…äº†èµ·ä¾†ã€‚</p><pre>Float a = Float.valueOf(1.0f - 0.9f);System.out.println(a); // 0.100000024Float b = Float.valueOf(0.9f - 0.8f);System.out.println(b); // 0.099999964</pre><p>åŠ ä¸Šå…©æ¢æ‰“å°èªå¥å¾Œï¼Œæˆ‘æ˜ç™½äº†ï¼ŒåŸä¾†åŒ…è£å™¨ä¸¦ä¸æœƒè§£æ±ºç²¾åº¦çš„å•é¡Œã€‚</p><pre>private final float value;public Float(float value) { this.value = value;}public static Float valueOf(float f) { return new Float(f);}public boolean equals(Object obj) { return (obj instanceof Float) &amp;&amp; (floatToIntBits(((Float)obj).value) == floatToIntBits(value));}</pre><p>å¾æºç¢¼å¯ä»¥çœ‹å¾—å‡ºä¾†ï¼ŒåŒ…è£å™¨ Float çš„ç¢ºæ²’æœ‰å°ç²¾åº¦åšä»»ä½•è™•ç†ï¼Œæ³ä¸” equals æ–¹æ³•çš„å…§éƒ¨ä»ç„¶ä½¿ç”¨äº† == é€²è¡Œåˆ¤æ–·ã€‚</p><p><strong>03ã€switch åˆ¤æ–· null å€¼çš„å­—ç¬¦ä¸²</strong></p><p>ä¾†çœ‹ç¬¬ä¸‰é¡Œï¼Œä»£ç¢¼å¦‚ä¸‹ï¼š</p><pre>public class SwitchTest { public static void main(String[] args) { String param = null; switch (param) { case "null": System.out.println("null"); break; default: System.out.println("default"); } }}</pre><p>é€™é“é¡Œå°±æœ‰é»ä»¤æˆ‘éœ§è£¡çœ‹èŠ±äº†ã€‚</p><p>æˆ‘å€‘éƒ½çŸ¥é“ï¼Œswitch æ˜¯ä¸€ç¨®é«˜æ•ˆçš„åˆ¤æ–·èªå¥ï¼Œæ¯”èµ· if/else çœŸçš„æ˜¯çˆ½å¿«å¤šäº†ã€‚å°¤å…¶æ˜¯ JDK 1.7 ä¹‹å¾Œï¼Œswitch çš„ case æ¢ä»¶å¯ä»¥æ˜¯ char, byte, short, int, Character, Byte, Short, Integer, String, æˆ–è€… enum é¡å‹ã€‚</p><p>æœ¬é¡Œä¸­ï¼Œparam é¡å‹ç‚º Stringï¼Œé‚£éº¼æˆ‘èªç‚ºæ˜¯å¯ä»¥ä½œç‚º switch çš„ case æ¢ä»¶çš„ï¼Œä½† param çš„å€¼ç‚º nullï¼Œnull å’Œ "null" è‚¯å®šæ˜¯ä¸åŒ¹é…çš„ï¼Œæˆ‘èªç‚ºç¨‹åºæ‡‰è©²é€²å…¥åˆ° default èªå¥è¼¸å‡º defaultã€‚</p><p>ä½†çµæœå†æ¬¡æ‰“è‡‰ï¼ç¨‹åºæ‹‹å‡ºäº†ç•°å¸¸ï¼š</p><pre>Exception in thread "main" java.lang.NullPointerException at com.cmower.java_demo.Test.main(Test.java:7)</pre><p>ä¹Ÿå°±æ˜¯èªªï¼Œswitch () çš„æ‹¬è™Ÿä¸­ä¸å…è¨±å‚³å…¥ nullã€‚ç‚ºä»€éº¼å‘¢ï¼Ÿ</p><p>æˆ‘ç¿»äº†ç¿» JDK çš„å®˜æ–¹æ–‡æª”ï¼Œçœ‹åˆ°å…¶ä¸­æœ‰é€™æ¨£ä¸€å¥æè¿°ï¼Œæˆ‘ç›´æ¥æ¬éä¾†å¤§å®¶çœ‹ä¸€çœ¼å°±æ˜ç™½äº†ã€‚</p><blockquote><p>When the switch statement is executed, first the Expression is evaluated. If the Expression evaluates to null, a NullPointerException is thrown and the entire switch statement completes abruptly for that reason. Otherwise, if the result is of a reference type, it is subject to unboxing conversion.</p></blockquote><p>å¤§è‡´çš„æ„æ€å°±æ˜¯èªªï¼Œswitch èªå¥åŸ·è¡Œçš„æ™‚å€™ï¼Œæœƒå…ˆåŸ·è¡Œ switch () è¡¨é”å¼ï¼Œå¦‚æœè¡¨é”å¼çš„å€¼ç‚º nullï¼Œå°±æœƒæ‹‹å‡º NullPointerExceptionç•°å¸¸ã€‚</p><p>é‚£åˆ°åº•æ˜¯ç‚ºä»€éº¼å‘¢ï¼Ÿ</p><pre>public static void main(String args[]){ String param = null; String s; switch((s = param).hashCode()) { case 3392903:  if(s.equals("null")) { System.out.println("null"); break; } // fall through default: System.out.println("default"); break; }}</pre><p>è—‰åŠ© jadï¼Œæˆ‘å€‘ä¾†åç·¨è­¯ä¸€ä¸‹ switch çš„å­—ç¯€ç¢¼ï¼Œçµæœå¦‚ä¸Šæ‰€ç¤ºã€‚åŸä¾† switch () è¡¨é”å¼å…§éƒ¨åŸ·è¡Œçš„ç«Ÿç„¶æ˜¯ (s = param).hashCode()ï¼Œç•¶ param ç‚º null çš„æ™‚å€™ï¼Œs ä¹Ÿç‚º nullï¼Œèª¿ç”¨ hashCode() æ–¹æ³•çš„æ™‚å€™è‡ªç„¶æœƒæ‹‹å‡º NullPointerException äº†ã€‚</p><p><strong>04ã€BigDecimal çš„è³¦å€¼æ–¹å¼</strong></p><p>ä¾†çœ‹ç¬¬å››é¡Œï¼Œä»£ç¢¼å¦‚ä¸‹ï¼š</p><pre>public class BigDecimalTest { public static void main(String[] args) { BigDecimal a = new BigDecimal(0.1); System.out.println(a); BigDecimal b = new BigDecimal("0.1"); System.out.println(b); }}</pre><p>é€™é“é¡ŒçœŸä¸é›£ï¼Œa å’Œ b çš„å”¯ä¸€å€åˆ¥å°±åœ¨æ–¼ a åœ¨èª¿ç”¨ BigDecimal æ§‹é€ æ–¹æ³•è³¦å€¼çš„æ™‚å€™å‚³å…¥äº†æµ®é»æ•¸ï¼Œè€Œ b å‚³å…¥äº†å­—ç¬¦ä¸²ï¼Œa å’Œ b çš„çµæœæ‡‰è©²éƒ½ç‚º 0.1ï¼Œæ‰€ä»¥æˆ‘èªç‚ºé€™å…©ç¨®è³¦å€¼æ–¹å¼æ˜¯ä¸€æ¨£çš„ã€‚</p><p>ä½†å¯¦éš›ä¸Šï¼Œè¼¸å‡ºçµæœå®Œå…¨å‡ºä¹æˆ‘çš„æ„æ–™ï¼š</p><pre>BigDecimal a = new BigDecimal(0.1);System.out.println(a); // 0.1000000000000000055511151231257827021181583404541015625BigDecimal b = new BigDecimal("0.1");System.out.println(b); // 0.1</pre><p>é€™ç©¶ç«Ÿåˆæ˜¯æ€éº¼å›äº‹å‘¢ï¼Ÿ</p><p>é€™å°±å¿…é ˆçœ‹å®˜æ–¹æ–‡æª”äº†ï¼Œæ˜¯æ™‚å€™æ¬å‡º BigDecimal(double val) çš„ JavaDoc é®æ¨“äº†ã€‚</p><ol><li>The results of this constructor can be somewhat unpredictable. One might assume that writing new BigDecimal(0.1) in Java creates a BigDecimal which is exactly equal to 0.1 (an unscaled value of 1, with a scale of 1), but it is actually equal to 0.1000000000000000055511151231257827021181583404541015625. This is because 0.1 cannot be represented exactly as a double (or, for that matter, as a binary fraction of any finite length). Thus, the value that is being passed in to the constructor is not exactly equal to 0.1, appearances notwithstanding.</li></ol><p>è§£é‡‹ï¼šä½¿ç”¨ double å‚³åƒçš„æ™‚å€™æœƒç”¢ç”Ÿä¸å¯é æœŸçš„çµæœï¼Œæ¯”å¦‚èªª 0.1 å¯¦éš›çš„å€¼æ˜¯ 0.1000000000000000055511151231257827021181583404541015625ï¼Œèªªç™½äº†ï¼Œé€™é‚„æ˜¯ç²¾åº¦çš„å•é¡Œã€‚ï¼ˆæ—¢ç„¶å¦‚æ­¤ï¼Œç‚ºä»€éº¼ä¸å»¢æ£„å‘¢ï¼Ÿï¼‰</p><ol><li>The String constructor, on the other hand, is perfectly predictable: writing new BigDecimal("0.1") creates a BigDecimal which is exactly equal to 0.1, as one would expect. Therefore, it is generally recommended that the String constructor be used in preference to this one.</li></ol><p>è§£é‡‹ï¼šä½¿ç”¨å­—ç¬¦ä¸²å‚³åƒçš„æ™‚å€™æœƒç”¢ç”Ÿé æœŸçš„çµæœï¼Œæ¯”å¦‚èªª new BigDecimal("0.1") çš„å¯¦éš›çµæœå°±æ˜¯ 0.1ã€‚</p><ol><li>When a double must be used as a source for a BigDecimal, note that this constructor provides an exact conversion; it does not give the same result as converting the double to a String using the Double.toString(double) method and then using the BigDecimal(String) constructor. To get that result, use the static valueOf(double) method.</li></ol><p>è§£é‡‹ï¼šå¦‚æœå¿…é ˆå°‡ä¸€å€‹ double ä½œç‚ºåƒæ•¸å‚³éçµ¦ BigDecimal çš„è©±ï¼Œå»ºè­°å‚³éè©² double å€¼åŒ¹é…çš„å­—ç¬¦ä¸²å€¼ã€‚æ–¹å¼æœ‰å…©ç¨®ï¼š</p><pre>double a = 0.1;System.out.println(new BigDecimal(String.valueOf(a))); // 0.1System.out.println(BigDecimal.valueOf(a)); // 0.1</pre><p>ç¬¬ä¸€ç¨®ï¼Œä½¿ç”¨ String.valueOf() æŠŠ double è½‰ç‚ºå­—ç¬¦ä¸²ã€‚</p><p>ç¬¬äºŒç¨®ï¼Œä½¿ç”¨ valueOf() æ–¹æ³•ï¼Œè©²æ–¹æ³•å…§éƒ¨æœƒèª¿ç”¨ Double.toString() å°‡ double è½‰ç‚ºå­—ç¬¦ä¸²ï¼Œæºç¢¼å¦‚ä¸‹ï¼š</p><pre>public static BigDecimal valueOf(double val) { // Reminder: a zero double returns '0.0', so we cannot fastpath // to use the constant ZERO. This might be important enough to // justify a factory approach, a cache, or a few private // constants, later. return new BigDecimal(Double.toString(val));}</pre><p><strong>05ã€ReentrantLock</strong></p><p>æœ€å¾Œä¸€é¡Œï¼Œä¹Ÿå°±æ˜¯ç¬¬äº”é¡Œï¼Œä»£ç¢¼å¦‚ä¸‹ï¼š</p><pre>public class LockTest { private final static Lock lock = new ReentrantLock(); public static void main(String[] args) { try { lock.tryLock(); } catch (Exception e) { e.printStackTrace(); } finally { lock.unlock(); } }}</pre><p>å•é¡Œå¦‚ä¸‹ï¼š</p><p>A: lock æ˜¯éå…¬å¹³é–</p><p>B: finally ä»£ç¢¼å¡Šä¸æœƒæ‹‹å‡ºç•°å¸¸</p><p>C: tryLock ç²å–é–å¤±æ•—å‰‡ç›´æ¥å¾€ä¸‹åŸ·è¡Œ</p><p>å¾ˆæ…šæ„§ï¼Œæˆ‘ä¸çŸ¥é“ ReentrantLock æ˜¯ä¸æ˜¯å…¬å¹³é–ï¼›ä¹Ÿä¸çŸ¥é“ finally ä»£ç¢¼å¡Šæœƒä¸æœƒæ‹‹å‡ºç•°å¸¸ï¼›æ›´ä¸çŸ¥é“ tryLock ç²å–é–å¤±æ•—çš„æ™‚å€™æœƒä¸æœƒç›´æ¥å¾€ä¸‹åŸ·è¡Œã€‚æ²’æ³•ä½œç­”äº†ã€‚</p><p>é€£çºŒäº”é“é¡Œè§£ä¸å‡ºä¾†ï¼Œé›–ç„¶æˆ‘è‡‰çš®éå¸¸åšï¼Œä½†ä¹Ÿè¦ºå¾—è‡‰ä¸Šç«è¾£è¾£çš„ï¼Œå°±åƒè¢«äººç‹ ç‹ åœ°æŠ½äº†ä¸€å€‹è€³å…‰ã€‚</p><p>å®¹æˆ‘ç ”ç©¶ç ”ç©¶å§ã€‚</p><p>1ï¼‰lock æ˜¯éå…¬å¹³é–</p><p>ReentrantLock æ˜¯ä¸€å€‹ä½¿ç”¨é »ç‡éå¸¸é«˜çš„é–ï¼Œæ”¯æŒé‡å…¥æ€§ï¼Œèƒ½å¤ å°å…±äº«è³‡æºé‡è¤‡åŠ é–ï¼Œå³ç•¶å‰ç·šç¨‹ç²å–è©²é–å¾Œå†æ¬¡ç²å–æ™‚ä¸æœƒè¢«é˜»å¡ã€‚</p><p>ReentrantLock æ—¢æ˜¯å…¬å¹³é–åˆæ˜¯éå…¬å¹³é–ã€‚èª¿ç”¨ç„¡åƒæ§‹é€ æ–¹æ³•æ™‚æ˜¯éå…¬å¹³é–ï¼Œæºç¢¼å¦‚ä¸‹ï¼š</p><pre>public ReentrantLock() { sync = new NonfairSync();}</pre><p>æ‰€ä»¥æœ¬é¡Œä¸­çš„ lock æ˜¯éå…¬å¹³é–ï¼ŒA é¸é …æ˜¯æ­£ç¢ºçš„ã€‚</p><p>ReentrantLock é‚„æä¾›äº†å¦å¤–ä¸€ç¨®æ§‹é€ æ–¹æ³•ï¼Œæºç¢¼å¦‚ä¸‹ï¼š</p><pre>public ReentrantLock(boolean fair) { sync = fair ? new FairSync() : new NonfairSync();}</pre><p>ç•¶å‚³å…¥ true çš„æ™‚å€™ç‚ºå…¬å¹³é–ï¼Œfalse çš„æ™‚å€™ç‚ºéå…¬å¹³é–ã€‚</p><p>é‚£å…¬å¹³é–å’Œéå…¬å¹³é–åˆ°åº•æœ‰ä»€éº¼å€åˆ¥å‘¢ï¼Ÿ</p><p>å…¬å¹³é–å¯ä»¥ä¿è­‰è«‹æ±‚è³‡æºåœ¨æ™‚é–“ä¸Šçš„çµ•å°é †åºï¼Œè€Œéå…¬å¹³é–æœ‰å¯èƒ½å°è‡´å…¶ä»–ç·šç¨‹æ°¸é ç„¡æ³•ç²å–åˆ°é–ï¼Œé€ æˆâ€œé£¢é¤“â€çš„ç¾è±¡ã€‚</p><p>å…¬å¹³é–ç‚ºäº†ä¿è­‰æ™‚é–“ä¸Šçš„çµ•å°é †åºï¼Œéœ€è¦é »ç¹çš„ä¸Šä¸‹æ–‡åˆ‡æ›ï¼Œè€Œéå…¬å¹³é–æœƒæ¸›å°‘ä¸€äº›ä¸Šä¸‹æ–‡åˆ‡æ›ï¼Œæ€§èƒ½é–‹éŠ·ç›¸å°è¼ƒå°ï¼Œå¯ä»¥ä¿è­‰ç³»çµ±æ›´å¤§çš„ååé‡ã€‚</p><p>2ï¼‰finally ä»£ç¢¼å¡Šä¸æœƒæ‹‹å‡ºç•°å¸¸</p><p>Lock å°è±¡åœ¨èª¿ç”¨ unlock æ–¹æ³•æ™‚ï¼Œæœƒèª¿ç”¨ AbstractQueuedSynchronizer çš„ tryRelease æ–¹æ³•ï¼Œå¦‚æœç•¶å‰ç·šç¨‹ä¸æŒæœ‰é–çš„è©±ï¼Œå‰‡æ‹‹å‡º IllegalMonitorStateException ç•°å¸¸ã€‚</p><p>æ‰€ä»¥å»ºè­°æœ¬é¡Œçš„ç¤ºä¾‹ä»£ç¢¼å„ªåŒ–ç‚ºä»¥ä¸‹å½¢å¼ï¼ˆé€²å…¥æ¥­å‹™ä»£ç¢¼å¡Šä¹‹å‰ï¼Œå…ˆåˆ¤æ–·ç•¶å‰ç·šç¨‹æ˜¯å¦æŒæœ‰é–ï¼‰ï¼š</p><pre>boolean isLocked = lock.tryLock();if (isLocked) { try { // doSomething(); } catch (Exception e) { e.printStackTrace(); } finally { lock.unlock(); }}</pre><p>3ï¼‰tryLock ç²å–é–å¤±æ•—å‰‡ç›´æ¥å¾€ä¸‹åŸ·è¡Œ</p><p>tryLock() æ–¹æ³•çš„ Javadoc å¦‚ä¸‹ï¼š</p><blockquote><p>Acquires the lock if it is available and returns immediately with the value true. If the lock is not available then this method will return immediately with the value false.</p></blockquote><p>ä¸­æ–‡æ„æ€æ˜¯å¦‚æœé–å¯ä»¥ç”¨ï¼Œå‰‡ç²å–è©²é–ï¼Œä¸¦ç«‹å³è¿”å› trueï¼Œå¦‚æœé–ä¸å¯ç”¨ï¼Œå‰‡ç«‹å³è¿”å› falseã€‚</p><p>é‡å°æœ¬é¡Œçš„è©±ï¼Œ åœ¨ tryLock ç²å–é–å¤±æ•—çš„æ™‚å€™ï¼Œç¨‹åºæœƒåŸ·è¡Œ finally å¡Šçš„ä»£ç¢¼ã€‚</p><h1>å°çµ</h1><p>æƒ³äº†è§£å­¸ç¿’Javaæ–¹é¢çš„æŠ€è¡“ä»¥åŠå­¸ç¿’é€²éšå“ªæ–¹é¢çš„æŠ€è¡“çŸ¥è­˜é»ç­‰</p><p>ç§ä¿¡æœ¬é ­æ¢è™Ÿï¼šç™¼é€ï¼šâ€œå…è²»è³‡æ–™â€å°±å¯ä»¥ç²å–Javaæ¶æ§‹å­¸ç¿’è³‡æ–™</p><p>å¾®æœå‹™ã€åˆ†ä½ˆå¼ã€é«˜ä½µç™¼ã€é«˜å¯ç”¨ï¼Œæ€§èƒ½å„ªåŒ–ä¸¶æºç¢¼åˆ†æç­‰ç­‰ä¸€äº›æŠ€è¡“</p><p>æ­¡è¿é—œæ³¨é ­æ¢è™Ÿ:JAVAå¤§é£›å“¥</p><p>è¦ºå¾—æ”¶ç©«çš„è©±å¯ä»¥é»å€‹é—œæ³¨æ”¶è—è½‰ç™¼ä¸€æ³¢å–”ï¼Œè¬è¬å¤§ä½¬å€‘æ”¯æŒï¼</p><p>æœ€å¾Œï¼Œæ¯ä¸€ä½è®€åˆ°é€™è£¡çš„Javaç¨‹åºçŒ¿æœ‹å‹å€‘ï¼Œæ„Ÿè¬ä½ å€‘èƒ½è€å¿ƒåœ°çœ‹å®Œã€‚å¸Œæœ›åœ¨æˆç‚ºä¸€åæ›´å„ªç§€çš„Javaç¨‹åºçŒ¿çš„é“è·¯ä¸Šï¼Œæˆ‘å€‘å¯ä»¥ä¸€èµ·å­¸ç¿’ã€ä¸€èµ·é€²æ­¥ï¼éƒ½èƒ½è´å–ç™½å¯Œç¾ï¼Œèµ°å‘æ¶æ§‹å¸«çš„äººç”Ÿå·”å³°!</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Java</a></li><li><a>ä»£ç¢¼ç•Œ</a></li><li><a>3%</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/48ba24d7.html alt=æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/3c5e0002a8059c1311aa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/48ba24d7.html title=æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£>æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b8bda645.html alt=ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b471807e699b44c2b1dedc580ea3f3af style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b8bda645.html title=ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£>ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/816b04b7.html alt=å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/816b04b7.html title=å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ†>å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html alt="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9d3b0e55813d46b4982ae7d9b81d1802 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html title="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½">Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/12498348.html alt="Java ç·¨è­¯æ™‚å¤šæ…‹å’Œé‹è¡Œæ™‚å¤šæ…‹" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1531535784468c357213ffe style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/12498348.html title="Java ç·¨è­¯æ™‚å¤šæ…‹å’Œé‹è¡Œæ™‚å¤šæ…‹">Java ç·¨è­¯æ™‚å¤šæ…‹å’Œé‹è¡Œæ™‚å¤šæ…‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d60e504d.html alt=JavaåŸºç¤ä¹‹å¤šæ…‹ï¼Œå‹•æ…‹ç¶å®šå¤šæ…‹çš„ä»£ç¢¼æ¡ˆä¾‹ï¼Œç°¡å–®å»å¾ˆé‡è¦ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ab338c7287fe4649a96227987579c844 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d60e504d.html title=JavaåŸºç¤ä¹‹å¤šæ…‹ï¼Œå‹•æ…‹ç¶å®šå¤šæ…‹çš„ä»£ç¢¼æ¡ˆä¾‹ï¼Œç°¡å–®å»å¾ˆé‡è¦>JavaåŸºç¤ä¹‹å¤šæ…‹ï¼Œå‹•æ…‹ç¶å®šå¤šæ…‹çš„ä»£ç¢¼æ¡ˆä¾‹ï¼Œç°¡å–®å»å¾ˆé‡è¦</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bb876e43.html alt=Javaç‰¹æ€§ä¹‹ä¸€ï¼šå¤šæ…‹è©³è§£ï¼Œå­¸javaä¸æ±‚äºº class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/39a700034bab2e1401a3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bb876e43.html title=Javaç‰¹æ€§ä¹‹ä¸€ï¼šå¤šæ…‹è©³è§£ï¼Œå­¸javaä¸æ±‚äºº>Javaç‰¹æ€§ä¹‹ä¸€ï¼šå¤šæ…‹è©³è§£ï¼Œå­¸javaä¸æ±‚äºº</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/234d55fa.html alt=Javaé–‹ç™¼èª²ç¨‹ï¼ˆåï¼‰â€”â€”é¢å‘å°è±¡5ã€å¤šæ…‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/df3621e51e4242fd90731dd013472f12 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/234d55fa.html title=Javaé–‹ç™¼èª²ç¨‹ï¼ˆåï¼‰â€”â€”é¢å‘å°è±¡5ã€å¤šæ…‹>Javaé–‹ç™¼èª²ç¨‹ï¼ˆåï¼‰â€”â€”é¢å‘å°è±¡5ã€å¤šæ…‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/96d2083b.html alt=ã€ŒJavaä¸‰åˆ†é˜ã€Javaä¸‰å¤§ç‰¹æ€§â€”â€”å¤šæ…‹ç†è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/6a9b8965-0a4c-4cb4-9389-6cbbda0e9d93 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/96d2083b.html title=ã€ŒJavaä¸‰åˆ†é˜ã€Javaä¸‰å¤§ç‰¹æ€§â€”â€”å¤šæ…‹ç†è§£>ã€ŒJavaä¸‰åˆ†é˜ã€Javaä¸‰å¤§ç‰¹æ€§â€”â€”å¤šæ…‹ç†è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b96b5bf9.html alt=å¦‚ä½•æ­£ç¢ºèªè­˜Javaå¤šæ…‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d2896b2f39694d39957b901a62cfe7fb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b96b5bf9.html title=å¦‚ä½•æ­£ç¢ºèªè­˜Javaå¤šæ…‹>å¦‚ä½•æ­£ç¢ºèªè­˜Javaå¤šæ…‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8a7023ee.html alt="Java å¸¸è¦‹çš„49å€‹éŒ¯èª¤åŠé¿å…æ–¹æ³•ï¼ç¿»è­¯ä½œæ¥­ï¼šç¢¼è¾²ç¶²-å°å³°" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/3c5a0001a9e3fd1b8a13 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8a7023ee.html title="Java å¸¸è¦‹çš„49å€‹éŒ¯èª¤åŠé¿å…æ–¹æ³•ï¼ç¿»è­¯ä½œæ¥­ï¼šç¢¼è¾²ç¶²-å°å³°">Java å¸¸è¦‹çš„49å€‹éŒ¯èª¤åŠé¿å…æ–¹æ³•ï¼ç¿»è­¯ä½œæ¥­ï¼šç¢¼è¾²ç¶²-å°å³°</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3d03ba17.html alt=2020å¹´3-5æœˆï¼Œç¨…ç‡3%é™è‡³1%ï¼Œç”³å ±è¡¨æ€éº¼å¡«ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/0b8db41a-5091-42ae-b77f-58e9aaf44994 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3d03ba17.html title=2020å¹´3-5æœˆï¼Œç¨…ç‡3%é™è‡³1%ï¼Œç”³å ±è¡¨æ€éº¼å¡«ï¼Ÿ>2020å¹´3-5æœˆï¼Œç¨…ç‡3%é™è‡³1%ï¼Œç”³å ±è¡¨æ€éº¼å¡«ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/adc31f83.html alt=Javaé¢è©¦çŸ¥è­˜é»ç¸½çµâ‘¥â€”â€”ç®—æ³•èˆ‡æ•¸æ“šçµæ§‹_ä¸€é»èª²å ‚ï¼ˆå¤šå²¸å­¸é™¢ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/68ac43b98fa343f2874d08bacae73ee8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/adc31f83.html title=Javaé¢è©¦çŸ¥è­˜é»ç¸½çµâ‘¥â€”â€”ç®—æ³•èˆ‡æ•¸æ“šçµæ§‹_ä¸€é»èª²å ‚ï¼ˆå¤šå²¸å­¸é™¢ï¼‰>Javaé¢è©¦çŸ¥è­˜é»ç¸½çµâ‘¥â€”â€”ç®—æ³•èˆ‡æ•¸æ“šçµæ§‹_ä¸€é»èª²å ‚ï¼ˆå¤šå²¸å­¸é™¢ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8c21d419.html alt="æ·±å…¥ç†è§£ Java ä½µç™¼æ ¸å¿ƒæ©Ÿåˆ¶ï¼Œçœ‹å®Œå¾Œå¥½çˆ½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/832db421a3364a20a62c93127ea6e862 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8c21d419.html title="æ·±å…¥ç†è§£ Java ä½µç™¼æ ¸å¿ƒæ©Ÿåˆ¶ï¼Œçœ‹å®Œå¾Œå¥½çˆ½">æ·±å…¥ç†è§£ Java ä½µç™¼æ ¸å¿ƒæ©Ÿåˆ¶ï¼Œçœ‹å®Œå¾Œå¥½çˆ½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d1d10456.html alt=é¢è©¦ç¸½çµ-Javaé«˜ç´šç¯‡ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/4afe0004abfd4a7bb3c5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d1d10456.html title=é¢è©¦ç¸½çµ-Javaé«˜ç´šç¯‡>é¢è©¦ç¸½çµ-Javaé«˜ç´šç¯‡</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>