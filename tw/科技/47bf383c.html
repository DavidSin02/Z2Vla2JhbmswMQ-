<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>JavaScript 正則表達式理論學習和案例分析 | 极客快訊</title><meta property="og:title" content="JavaScript 正則表達式理論學習和案例分析 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/23450277ff8a4edb976123f0d7b823d0"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/47bf383c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/47bf383c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/47bf383c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/47bf383c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/47bf383c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/47bf383c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/47bf383c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/47bf383c.html><meta property="article:published_time" content="2020-11-14T21:07:13+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:13+08:00"><meta name=Keywords content><meta name=description content="JavaScript 正則表達式理論學習和案例分析"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/47bf383c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>JavaScript 正則表達式理論學習和案例分析</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><div class=pgc-img><img alt="JavaScript 正則表達式理論學習和案例分析" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/23450277ff8a4edb976123f0d7b823d0><p class=pgc-img-caption></p></div><p><strong>本文目標</strong></p><p>30分鐘內讓你明白正則表達式是什麼，並對它有一些基本的瞭解，讓你可以在自己的程序或網頁裡使用它</p><p><strong>正則表達式到底是什麼東西？</strong></p><p>字符是計算機軟件處理文字時最基本的單位，可能是字母，數字，標點符號，空格，換行符，漢字等等。字符串是0個或更多個字符的序列。文本也就是文字，字符串。說某個字符串匹配某個正則表達式，通常是指這個字符串裡有一部分（或幾部分分別）能滿足表達式給出的條件。</p><p>在編寫處理字符串的程序或網頁時，經常會有查找符合某些複雜規則的字符串的需要。正則表達式就是用於描述這些規則的工具。換句話說，正則表達式就是記錄文本規則的代碼。</p><p>很可能你使用過Windows/Dos下用於文件查找的通配符(wildcard)，也就是*和?。如果你想查找某個目錄下的所有的Word文檔的話，你會搜索*.doc。在這裡，*會被解釋成任意的字符串。和通配符類似，正則表達式也是用來進行文本匹配的工具，只不過比起通配符，它能更精確地描述你的需求——當然，代價就是更復雜——比如你可以編寫一個正則表達式，用來查找所有以0開頭，後面跟著2-3個數字，然後是一個連字號“-”，最後是7或8位數字的字符串(像010-12345678或0376-7654321)。</p><p><strong>入門</strong></p><p>學習正則表達式的最好方法是從例子開始，理解例子之後再自己對例子進行修改，實驗。下面給出了不少簡單的例子，並對它們作了詳細的說明。</p><p>假設你在一篇英文小說裡查找hi，你可以使用正則表達式hi。</p><p>這幾乎是最簡單的正則表達式了，它可以精確匹配這樣的字符串：由兩個字符組成，前一個字符是h,後一個是i。通常，處理正則表達式的工具會提供一個忽略大小寫的選項，如果選中了這個選項，它可以匹配hi,HI,Hi,hI這四種情況中的任意一種。</p><p>不幸的是，很多單詞裡包含hi這兩個連續的字符，比如him,history,high等等。用hi來查找的話，這裡邊的hi也會被找出來。如果要精確地查找hi這個單詞的話，我們應該使用\bhi\b。</p><p>\b是正則表達式規定的一個特殊代碼（好吧，某些人叫它元字符，metacharacter），代表著單詞的開頭或結尾，也就是單詞的分界處。雖然通常英文的單詞是由空格，標點符號或者換行來分隔的，但是\b並不匹配這些單詞分隔字符中的任何一個，它<strong>只匹配一個位置</strong>。</p><p>如果需要更精確的說法，\b匹配這樣的位置：它的前一個字符和後一個字符不全是(一個是,一個不是或不存在)\w。</p><p>假如你要找的是hi後面不遠處跟著一個Lucy，你應該用\bhi\b.*\bLucy\b。</p><p>這裡，.是另一個元字符，匹配除了換行符以外的任意字符。*同樣是元字符，不過它代表的不是字符，也不是位置，而是數量——它指定*前邊的內容可以連續重複使用任意次以使整個表達式得到匹配。因此，.*連在一起就意味著任意數量的不包含換行的字符。現在\bhi\b.*\bLucy\b的意思就很明顯了：先是一個單詞hi,然後是任意個任意字符(但不能是換行)，最後是Lucy這個單詞。</p><p>換行符就是'\n',ASCII編碼為10(十六進制0x0A)的字符。</p><p>如果同時使用其它元字符，我們就能構造出功能更強大的正則表達式。比如下面這個例子：</p><p>0\d\d-\d\d\d\d\d\d\d\d匹配這樣的字符串：以0開頭，然後是兩個數字，然後是一個連字號“-”，最後是8個數字(也就是中國的電話號碼。當然，這個例子只能匹配區號為3位的情形)。</p><p>這裡的\d是個新的元字符，匹配一位數字(0，或1，或2，或……)。-不是元字符，只匹配它本身——連字符(或者減號，或者中橫線，或者隨你怎麼稱呼它)。</p><p>為了避免那麼多煩人的重複，我們也可以這樣寫這個表達式：0\d{2}-\d{8}。這裡\d後面的{2}({8})的意思是前面\d必須連續重複匹配2次(8次)。</p><p><strong>測試正則表達式</strong></p><p>如果你不覺得正則表達式很難讀寫的話，要麼你是一個天才，要麼，你不是地球人。正則表達式的語法很令人頭疼，即使對經常使用它的人來說也是如此。由於難於讀寫，容易出錯，所以找一種工具對正則表達式進行測試是很有必要的。</p><p><strong>不同的環境下正則表達式的一些細節是不相同的</strong>，本教程介紹的是微軟 .Net Framework 4.5 下正則表達式的行為，所以，我向你推薦我編寫的.Net下的工具 Regester。請參考該頁面的說明來安裝和運行該軟件。</p><p><strong>元字符</strong></p><p>現在你已經知道幾個很有用的元字符了，如\b,.,*，還有\d.正則表達式裡還有更多的元字符，</p><p>下面來看看更多的例子：</p><p><strong>\ba\w*\b</strong>匹配以字母a開頭的單詞——先是某個單詞開始處(\b)，然後是字母a,然後是任意數量的字母或數字(\w*)，最後是單詞結束處(\b)。</p><p><strong>\d+</strong>匹配1個或更多連續的數字。這裡的+是和*類似的元字符，<strong>不同的是*匹配重複任意次(可能是0次)，而+則匹配重複1次或更多次。</strong></p><p><strong>\b\w{6}\b</strong> 匹配剛好6個字符的單詞。</p><p><strong>常用的元字符</strong></p><p><strong>.</strong>匹配除換行符以外的任意字符</p><p><strong>\w</strong>匹配字母或數字或下劃線或漢字</p><p><strong>\s</strong>匹配任意的空白符</p><p><strong>\d</strong>匹配數字</p><p><strong>\b</strong>匹配單詞的開始或結束</p><p><strong>^</strong>匹配字符串的開始$匹配字符串的結束</p><p>元字符^（和數字6在同一個鍵位上的符號）和$都匹配一個位置，這和\b有點類似。^匹配你要用來查找的字符串的開頭，$匹配結尾。這兩個代碼在驗證輸入的內容時非常有用，比如一個網站如果要求你填寫的QQ號必須為5位到12位數字時，可以使用：^\d{5,12}$。</p><p>這裡的{5,12}和前面介紹過的{2}是類似的，只不過{2}匹配只能不多不少重複2次，{5,12}則是重複的次數不能少於5次，不能多於12次，否則都不匹配。</p><p>因為使用了^和$，所以輸入的整個字符串都要用來和\d{5,12}來匹配，也就是說整個輸入必須是5到12個數字，因此如果輸入的QQ號能匹配這個正則表達式的話，那就符合要求了。</p><p>和忽略大小寫的選項類似，有些正則表達式處理工具還有一個處理多行的選項。如果選中了這個選項，^和$的意義就變成了匹配行的開始處和結束處。</p><p><strong>字符轉義</strong></p><p>如果你想查找元字符本身的話，比如你查找.,或者*,就出現了問題：你沒辦法指定它們，因為它們會被解釋成別的意思。這時你就得使用\來取消這些字符的特殊意義。因此，你應該使用\.和\*。當然，要查找\本身，你也得用\\.</p><p>例如：deerchao\.net匹配deerchao.net，C:\\Windows匹配C:\Windows。</p><p><strong>重複</strong></p><p>你已經看過了前面的<strong>*, +, {2}, {5,12}</strong>這幾個匹配重複的方式了。下面是正則表達式中所有的限定符(指定數量的代碼，例如*, {5,12}等)：</p><p><strong>常用的限定符</strong></p><p><strong>*</strong>重複零次或更多次</p><p><strong>+</strong>重複一次或更多次</p><p><strong>?</strong>重複零次或一次</p><p><strong>{n}</strong>重複n次</p><p><strong>{n,}</strong>重複n次或更多次</p><p><strong>{n,m}</strong>重複n到m次</p><p>下面是一些使用重複的例子：</p><p>Windows\d+匹配Windows後面跟1個或更多數字</p><p>^\w+匹配一行的第一個單詞(或整個字符串的第一個單詞，具體匹配哪個意思得看選項設置)</p><p><strong>字符類</strong></p><p>要想查找數字，字母或數字，空白是很簡單的，因為已經有了對應這些字符集合的元字符，但是如果你想匹配沒有預定義元字符的字符集合(比如元音字母a,e,i,o,u),應該怎麼辦？</p><p>很簡單，你只需要在方括號裡列出它們就行了，像[aeiou]就匹配任何一個英文元音字母，[.?!]匹配標點符號(.或?或!)。</p><p>我們也可以輕鬆地指定一個字符範圍，像[0-9]代表的含意與\d就是完全一致的：一位數字；同理[a-z0-9A-Z_]也完全等同於\w（如果只考慮英文的話）。</p><p>下面是一個更復雜的表達式：\(?0\d{2}[) -]?\d{8}。</p><p>這個表達式可以匹配幾種格式的電話號碼，像(010)88886666，或022-22334455，或02912345678等。</p><p>我們對它進行一些分析吧：</p><ul><li>首先是一個轉義字符\(,它能出現0次或1次(?)</li><li>然後是一個0，後面跟著2個數字(\d{2})</li><li>然後是)或-或空格中的一個，它出現1次或不出現(?)</li><li>最後是8個數字(\d{8})。</li></ul><p><strong>分枝條件</strong></p><p>不幸的是，剛才那個表達式也能匹配010)12345678或(022-87654321這樣的“不正確”的格式。要解決這個問題，我們需要用到分枝條件。正則表達式裡的分枝條件指的是有幾種規則，如果滿足其中任意一種規則都應該當成匹配，具體方法是用|把不同的規則分隔開。聽不明白？沒關係，看例子：</p><p>0\d{2}-\d{8}|0\d{3}-\d{7}這個表達式能匹配兩種以連字號分隔的電話號碼：一種是三位區號，8位本地號(如010-12345678)，一種是4位區號，7位本地號(0376-2233445)。</p><p>\(0\d{2}\)[- ]?\d{8}|0\d{2}[- ]?\d{8}這個表達式匹配3位區號的電話號碼，其中區號可以用小括號括起來，也可以不用，區號與本地號間可以用連字號或空格間隔，也可以沒有間隔。你可以試試用分枝條件把這個表達式擴展成也支持4位區號的。</p><p>\d{5}-\d{4}|\d{5}這個表達式用於匹配美國的郵政編碼。美國郵編的規則是5位數字，或者用連字號間隔的9位數字。之所以要給出這個例子是因為它能說明一個問題：<strong>使用分枝條件時，要注意各個條件的順序</strong>。如果你把它改成\d{5}|\d{5}-\d{4}的話，那麼就只會匹配5位的郵編(以及9位郵編的前5位)。原因是匹配分枝條件時，將會從左到右地測試每個條件，如果滿足了某個分枝的話，就不會去再管其它的條件了。</p><p><strong>分組</strong></p><p>我們已經提到了怎麼重複單個字符（直接在字符後面加上限定符就行了）；但如果想要重複多個字符又該怎麼辦？你可以用小括號來指定子表達式(也叫做分組)，然後你就可以指定這個子表達式的重複次數了，你也可以對子表達式進行其它一些操作(後面會有介紹)。</p><p>(\d{1,3}\.){3}\d{1,3}是一個簡單的IP地址匹配表達式。要理解這個表達式，請按下列順序分析它：\d{1,3}匹配1到3位的數字，(\d{1,3}\.){3}匹配三位數字加上一個英文句號(這個整體也就是這個分組)重複3次，最後再加上一個一到三位的數字(\d{1,3})。</p><p>不幸的是，它也將匹配256.300.888.999這種不可能存在的IP地址。如果能使用算術比較的話，或許能簡單地解決這個問題，但是正則表達式中並不提供關於數學的任何功能，所以只能使用冗長的分組，選擇，字符類來描述一個正確的IP地址：((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)。</p><p>理解這個表達式的關鍵是理解2[0-4]\d|25[0-5]|[01]?\d\d?，這裡我就不細說了，你自己應該能分析得出來它的意義。</p><p><strong>反義</strong></p><p>有時需要查找不屬於某個能簡單定義的字符類的字符。比如想查找除了數字以外，其它任意字符都行的情況，這時需要用到反義：</p><p><strong>常用的反義代碼</strong></p><p><strong>\W</strong>匹配任意不是字母，數字，下劃線，漢字的字符</p><p><strong>\S</strong>匹配任意不是空白符的字符</p><p><strong>\D</strong>匹配任意非數字的字符</p><p><strong>\B</strong>匹配不是單詞開頭或結束的位置</p><p><strong>[^x]</strong>匹配除了x以外的任意字符</p><p><strong>[^aeiou]</strong>匹配除了aeiou這幾個字母以外的任意字符</p><p>例子：</p><p>\S+匹配不包含空白符的字符串。</p><p>&lt;a[^>]+>匹配用尖括號括起來的以a開頭的字符串。</p><p><strong>後向引用</strong></p><p>使用小括號指定一個子表達式後，<strong>匹配這個子表達式的文本</strong>(也就是此分組捕獲的內容)可以在表達式或其它程序中作進一步的處理。默認情況下，每個分組會自動擁有一個組號，規則是：從左向右，以分組的左括號為標誌，第一個出現的分組的組號為1，第二個為2，以此類推。</p><p>後向引用用於重複搜索前面某個分組匹配的文本。例如，\1代表分組1匹配的文本。難以理解？請看示例：</p><p>\b(\w+)\b\s+\1\b可以用來匹配重複的單詞，像go go, 或者kitty kitty。這個表達式首先是一個單詞，也就是單詞開始處和結束處之間的多於一個的字母或數字(\b(\w+)\b)，這個單詞會被捕獲到編號為1的分組中，然後是1個或幾個空白符(\s+)，最後是分組1中捕獲的內容（也就是前面匹配的那個單詞）(\1)。</p><p>你也可以自己指定子表達式的組名。要指定一個子表達式的組名，請使用這樣的語法：(?&lt;Word>\w+)(或者把尖括號換成'也行：(?'Word'\w+)),這樣就把\w+的組名指定為Word了。要反向引用這個分組捕獲的內容，你可以使用\k&lt;Word>,所以上一個例子也可以寫成這樣：\b(?&lt;Word>\w+)\b\s+\k&lt;Word>\b。</p><p>使用小括號的時候，還有很多特定用途的語法。下面列出了最常用的一些：</p><p><strong>常用分組語法</strong></p><div class=pgc-img><img alt="JavaScript 正則表達式理論學習和案例分析" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/aac55739afd2459085af00c997a30150><p class=pgc-img-caption></p></div><p>我們已經討論了前兩種語法。第三個(?:exp)不會改變正則表達式的處理方式，只是這樣的組匹配的內容不會像前兩種那樣被捕獲到某個組裡面，也不會擁有組號。“我為什麼會想要這樣做？”——好問題，你覺得為什麼呢？</p><p><strong>零寬斷言</strong></p><p>接下來的四個用於查找在某些內容(但並不包括這些內容)之前或之後的東西，也就是說它們像\b,^,$那樣用於指定一個位置，這個位置應該滿足一定的條件(即斷言)，因此它們也被稱為零寬斷言。最好還是拿例子來說明吧：</p><p>(?=exp)也叫零寬度正預測先行斷言，它斷言自身出現的位置的後面能匹配表達式exp。比如\b\w+(?=ing\b)，匹配以ing結尾的單詞的前面部分(除了ing以外的部分)，如查找I'm singing while you're dancing.時，它會匹配sing和danc。</p><p>(?&lt;=exp)也叫零寬度正回顧後發斷言，它斷言自身出現的位置的前面能匹配表達式exp。比如(?&lt;=\bre)\w+\b會匹配以re開頭的單詞的後半部分(除了re以外的部分)，例如在查找reading a book時，它匹配ading。</p><p>假如你想要給一個很長的數字中每三位間加一個逗號(當然是從右邊加起了)，你可以這樣查找需要在前面和裡面添加逗號的部分：((?&lt;=\d)\d{3})+\b，用它對1234567890進行查找時結果是234567890。</p><p>下面這個例子同時使用了這兩種斷言：(?&lt;=\s)\d+(?=\s)匹配以空白符間隔的數字(再次強調，不包括這些空白符)。</p><p><strong>負向零寬斷言</strong></p><p>前面我們提到過怎麼查找<strong>不是某個字符或不在某個字符類裡</strong>的字符的方法(反義)。但是如果我們只是想要<strong>確保某個字符沒有出現，但並不想去匹配它</strong>時怎麼辦？例如，如果我們想查找這樣的單詞--它裡面出現了字母q,但是q後面跟的不是字母u,我們可以嘗試這樣：</p><p>\b\w*q[^u]\w*\b匹配包含<strong>後面不是字母u的字母q</strong>的單詞。但是如果多做測試(或者你思維足夠敏銳，直接就觀察出來了)，你會發現，如果q出現在單詞的結尾的話，像<strong>Iraq</strong>,<strong>Benq</strong>，這個表達式就會出錯。這是因為[^u]總要匹配一個字符，所以如果q是單詞的最後一個字符的話，後面的[^u]將會匹配q後面的單詞分隔符(可能是空格，或者是句號或其它的什麼)，後面的\w*\b將會匹配下一個單詞，於是\b\w*q[^u]\w*\b就能匹配整個Iraq fighting。負向零寬斷言能解決這樣的問題，因為它只匹配一個位置，並不<strong>消費</strong>任何字符。現在，我們可以這樣來解決這個問題：\b\w*q(?!u)\w*\b。</p><p>零寬度負預測先行斷言(?!exp)，斷言此位置的後面不能匹配表達式exp。例如：\d{3}(?!\d)匹配三位數字，而且這三位數字的後面不能是數字；\b((?!abc)\w)+\b匹配不包含連續字符串abc的單詞。</p><p>同理，我們可以用(?&lt;!exp),零寬度負回顧後發斷言來斷言此位置的前面不能匹配表達式exp：(?&lt;![a-z])\d{7}匹配前面不是小寫字母的七位數字。</p><p>一個更復雜的例子：(?&lt;=&lt;(\w+)>).*(?=&lt;\/\1>)匹配不包含屬性的簡單HTML標籤內裡的內容。(?&lt;=&lt;(\w+)>)指定了這樣的前綴：被尖括號括起來的單詞(比如可能是&lt;b>)，然後是.*(任意的字符串),最後是一個後綴(?=&lt;\/\1>)。注意後綴裡的\/，它用到了前面提過的字符轉義；\1則是一個反向引用，引用的正是捕獲的第一組，前面的(\w+)匹配的內容，這樣如果前綴實際上是&lt;b>的話，後綴就是&lt;/b>了。整個表達式匹配的是&lt;b>和&lt;/b>之間的內容(再次提醒，不包括前綴和後綴本身)。</p><p><strong>註釋</strong></p><p>小括號的另一種用途是通過語法(?#comment)來包含註釋。例如：2[0-4]\d(?#200-249)|25[0-5](?#250-255)|[01]?\d\d?(?#0-199)。</p><p>要包含註釋的話，最好是啟用“忽略模式裡的空白符”選項，這樣在編寫表達式時能任意的添加空格，Tab，換行，而實際使用時這些都將被忽略。啟用這個選項後，在#後面到這一行結束的所有文本都將被當成註釋忽略掉。例如，我們可以前面的一個表達式寫成這樣：</p><pre> (?&lt;= # 斷言要匹配的文本的前綴 &lt;(\w+)&gt; # 查找尖括號括起來的字母或數字(即HTML/XML標籤) ) # 前綴結束 .* # 匹配任意文本 (?= # 斷言要匹配的文本的後綴 &lt;\/\1&gt; # 查找尖括號括起來的內容：前面是一個"/"，後面是先前捕獲的標籤 ) # 後綴結束</pre><p>貪婪與懶惰</p><p>當正則表達式中包含能接受重複的限定符時，通常的行為是（在使整個表達式能得到匹配的前提下）匹配<strong>儘可能多</strong>的字符。以這個表達式為例：a.*b，它將會匹配最長的以a開始，以b結束的字符串。如果用它來搜索aabab的話，它會匹配整個字符串aabab。這被稱為貪婪匹配。</p><p>有時，我們更需要懶惰匹配，也就是匹配<strong>儘可能少</strong>的字符。前面給出的限定符都可以被轉化為懶惰匹配模式，只要在它後面加上一個問號?。這樣.*?就意味著匹配任意數量的重複，但是在能使整個匹配成功的前提下使用最少的重複。現在看看懶惰版的例子吧：</p><p>a.*?b匹配最短的，以a開始，以b結束的字符串。如果把它應用於aabab的話，它會匹配aab（第一到第三個字符）和ab（第四到第五個字符）。</p><div class=pgc-img><img alt="JavaScript 正則表達式理論學習和案例分析" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/72568160ccd542819dc9d9fa33c9a394><p class=pgc-img-caption></p></div><p><strong>處理選項</strong></p><p>上面介紹了幾個選項如忽略大小寫，處理多行等，這些選項能用來改變處理正則表達式的方式。下面是.Net中常用的正則表達式選項：</p><div class=pgc-img><img alt="JavaScript 正則表達式理論學習和案例分析" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e545464a8e2c4056921fdb28fd77cf0a><p class=pgc-img-caption></p></div><p>一個經常被問到的問題是：是不是隻能同時使用多行模式和單行模式中的一種？答案是：不是。這兩個選項之間沒有任何關係，除了它們的名字比較相似（以至於讓人感到疑惑）以外。事實上，為了避免混淆，在最新的 JavaScript 中，單行模式其實名叫 dotAll，意為點可以匹配所有字符，然而在指定該選項時，用的還是 Singleline 的首字母 s.</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>JavaScript</a></li><li><a>正則</a></li><li><a>表達式</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/de5a6f15.html alt=JavaScript正則表達式詳細總結 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/6cd0893b009045c794771d55a21a19a6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/de5a6f15.html title=JavaScript正則表達式詳細總結>JavaScript正則表達式詳細總結</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d2dd7ebf.html alt="Java 正則表達式" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d2dd7ebf.html title="Java 正則表達式">Java 正則表達式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/22c24c31.html alt="Java 正則表達式 StackOverflowError 問題及其優化" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/28110ae7b0fc46f1a5ad2e6bcf0e40c1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/22c24c31.html title="Java 正則表達式 StackOverflowError 問題及其優化">Java 正則表達式 StackOverflowError 問題及其優化</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/53f942fa.html alt=Java正則表達式 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1531051821759d2705acacc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/53f942fa.html title=Java正則表達式>Java正則表達式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e0c20e1e.html alt=Java正則表達式介紹 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e0c20e1e.html title=Java正則表達式介紹>Java正則表達式介紹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5c2f2cd7.html alt=Java正則表達式模式 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6d9eaa59ae704773aef9e0851d9625fd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5c2f2cd7.html title=Java正則表達式模式>Java正則表達式模式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/38a1ca5a.html alt=Java正則表達式組 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/cb895437221f4629a7a4f697a8ac9f7a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/38a1ca5a.html title=Java正則表達式組>Java正則表達式組</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/19cbd4c3.html alt="java 常用的正則表達式" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1540129072390e6c4c05126 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/19cbd4c3.html title="java 常用的正則表達式">java 常用的正則表達式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a3910c22.html alt=javascript正則表達式基礎 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a3910c22.html title=javascript正則表達式基礎>javascript正則表達式基礎</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a81470d4.html alt=java常用正則表達式 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c811c3c14e4a4fa4825845b2868ee645 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a81470d4.html title=java常用正則表達式>java常用正則表達式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4480dc1b.html alt=不會正則表達式？看這篇就夠了 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/061586043d964e5eaa9f75ab5602f1f8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4480dc1b.html title=不會正則表達式？看這篇就夠了>不會正則表達式？看這篇就夠了</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a2847433.html alt=常用JavaScript正則表達式彙編與示例詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/dca255e6-9611-4395-afc6-7e9fa5ac5e38 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a2847433.html title=常用JavaScript正則表達式彙編與示例詳解>常用JavaScript正則表達式彙編與示例詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a4031d46.html alt=正則表達式-javaScript class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/71e4c14f52284cf48db00f3e10ea4ad4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a4031d46.html title=正則表達式-javaScript>正則表達式-javaScript</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8d84c536.html alt=正則表達式基本語法和常用的正則表達式 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/153137431384891e4a04908 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8d84c536.html title=正則表達式基本語法和常用的正則表達式>正則表達式基本語法和常用的正則表達式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e0639976.html alt=正則表達式教程：實例速查 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e0639976.html title=正則表達式教程：實例速查>正則表達式教程：實例速查</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>