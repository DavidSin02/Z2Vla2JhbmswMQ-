<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>詳解操作系統中的幾種I/O控制方式 | 极客快訊</title><meta property="og:title" content="詳解操作系統中的幾種I/O控制方式 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/9f590c0b-fc13-49b4-a224-aa2b9fbb3700"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/487d276.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/487d276.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/487d276.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/487d276.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/487d276.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/487d276.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/487d276.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/487d276.html><meta property="article:published_time" content="2020-10-29T20:59:06+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:06+08:00"><meta name=Keywords content><meta name=description content="詳解操作系統中的幾種I/O控制方式"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/487d276.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>詳解操作系統中的幾種I/O控制方式</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>一、導讀</p><p>為了有效地實現物理I/O操作，必須通過硬件和軟件技術，對 CPU 和 I/O 設備的職能進行合理的分工，以調節系統性能和硬件成本之間的矛盾。</p><p>隨著計算機技術的發展，I/O 控制方式也在不斷髮展。選擇和衡量 I/O 控制方式有如下三條原則：</p><blockquote><p>（1） 數據傳送速度足夠快，能滿足用戶的需求但又不丟失數據；</p><p>（2） 系統開銷小，所需的處理控制程序少</p><p>（3） 能充分發揮硬件資源的能力，使 I/O 設備儘可能忙，而 CPU 等待時間儘可能少。</p></blockquote><p>按照I/O控制器功能的強弱以及和 CPU 之間聯繫方式的不同，可以把 I/O 設備的控制方式和通道控制方式分為四類：直接程序控制方式、中斷驅動控制方式、直接存儲器訪問（DMA）控制方式和通道控制方式。<strong>I/O控制方式發展的目標是儘量減少CPU對 I/O 控制的干預，把CPU從繁雜的 I/O 控制事務中解脫出來，以便更多地進行數據處理，提高計算機效率和資源的利用率。</strong>它們之間的主要差別在於 CPU 與外圍設備並行工作的方式和程度不同。</p><p>二、I/O控制方式</p><p>1、直接程序控制方式</p><p>直接程序控制方式由用戶進程直接控制主存或 CPU 和外圍設備之間的信息傳送。直接程序控制方式又稱為詢問方式，或忙/等待方式。通過 I/O 指令或詢問指令測試 I/O 設備的忙/閒標誌位，決定主存與外圍設備之間是否交換一個字符或一個字。</p><div class=pgc-img><img alt=詳解操作系統中的幾種I/O控制方式 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/9f590c0b-fc13-49b4-a224-aa2b9fbb3700><p class=pgc-img-caption></p></div><p>流程圖概述直接程序控制方式的工作流程如下：</p><p>① 當用戶進程需要輸入數據時，通過 CPU 向控制器發出一條 I/O 指令，啟動設備輸入數據，同時把狀態寄存器中的忙/閒狀態 busy 置為1</p><p>② 用戶進程進入測試等待狀態，在等待過程中，CPU 不斷地用一條測試指令檢查外圍設備狀態寄存器中的 busy 位，而外圍設備只有在數據傳入控制器的數據寄存器之後，才將該 busy 位置為0,。</p><p>③ 處理器將數據寄存器中的數據取出，送入主存指定單元，完成一個字符的I/O操作，接著進行下一個數據的 I/O 操作</p><p>直接程序控制方式雖然簡單，不需要多少硬件的支持，但由於高速的 CPU 和低速的 I/O 設備之間的速度上不匹配，因此，CPU 與外圍設備只能串行工作，使 CPU 的絕大部分時間都處於等待是否完成 I/O 操作的循環測試中，造成 CPU 的極大浪費，外圍設備也不能得到合理的使用，整個系統的效率很低。因此，這種I/O控制方式只適合於 CPU 執行速度較慢，且外圍設備較少的系統。</p><p>2、中斷驅動控制方式</p><p>為了減少程序直接控制方式下 CPU 的等待時間以及提高系統的並行程度，系統引入了中斷機制。中斷機制引入後，外圍設備僅當操作正常結束或異常結束時才向 CPU 發出中斷請求。在 I/O 設備輸入每個數據的過程中，由於無需 CPU 的干預，一定程度上實現了 CPU 與 I/O設備的並行工作。<strong>僅當輸入或輸出完一個數據時，才需 CPU 花費極短的時間做中斷處理。</strong></p><div class=pgc-img><img alt=詳解操作系統中的幾種I/O控制方式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4725dab87e11456d93a2a0590e49c17e><p class=pgc-img-caption>中斷驅動方式流程圖</p></div><p>存在的問題：<strong>由於I/O操作直接由 CPU 控制，每傳送一個字符或一個字，都要發生一次中斷，仍然佔用了大量的 CPU 處理時間，因此可以通過為外圍設備增加緩衝寄存器存放數據來減少中斷次數。</strong></p><p>上述兩種方法的特點都是以 CPU 為中心，數據傳送通過一段程序來實現，軟件的傳送手段限制了數據傳送的速度。接下來介紹的這兩種I/O 控制方式採用硬件的方法來顯示 I/O 的控制</p><p>3.直接存儲器訪問控制方式</p><p>直接存儲器訪問控制方式又稱 DMA（Direct Memory Access）方式。為了進一步減少 CPU 對 I/O 操作的干預，防止因並行操作設備過多使 CPU 來不及處理或因速度不匹配而造成的數據丟失現象，引入了 DMA 控制方式。<strong>在 DMA 控制器的控制下，採用竊取或挪用總線控制權，在設備和主存之間開闢直接數據交換通道，成批地交換數據，而不必讓 CPU 干預。</strong></p><p>DMA方式的特點：</p><p>① 數據傳送以數據塊為基本單位</p><p>② 所傳送的數據從設備直接送入主存，或者從主存直接輸出到設備上</p><p>③ 僅在傳送一個或多個數據塊的開始和結束時才需 CPU 的干預，而整塊數據的傳送則是在控制器的控制下完成。</p><p>DMA方式和中斷驅動控制方式相比，減少了 CPU 對 I/O 操作的干預，進一步提高了 CPU 與 I/O 設備的並行操作程度。</p><p>DMA方式的線路簡單、價格低廉，適合高速設備與主存之間的成批數據傳送，小型、微型機中的快速設備均採用這種方式，但其功能較差，不能滿足複雜的 I/O 要求。</p><p>4、通道控制方式</p><p><strong>通道，獨立於 CPU 的專門負責輸入輸出控制的處理機，它控制設備與內存直接進行數據交換。有自己的通道指令，這些指令由 CPU 啟動，並在操作結束時向 CPU 發出中斷信號。</strong></p><p>直接程序控制方式和中斷程序控制方式適合於低速設備的數據傳送，而 DMA 方式雖然適合於高速設備的數據傳送，但一個 DMA 控制器只能控制少量的同類設備，這遠遠不能滿足大型計算機系統的需要。<strong>通常，一個大型計算機需要連接大量的高速和低速設備，通道控制方式可以滿足這個要求。（DMA和通道控制方式的主要區別——能否滿足大型計算機系統的既能處理高速設備又能處理低速設備的需要）</strong></p><p>通道控制方式，實現了CPU、通道和I/O設備三者的並行操作，從而更加有效地提高整個系統的資源利用率。例如，當 CPU 要完成一組相關的讀（或寫）操作時，只需要向 I/O 通道發出一條 I/O 指令，指出其所要執行的通道程序的首址和要訪問的I/O設備，通道接收到該指令後，通過執行通道程序便可完成 CPU 指定的 I/O 任務。<strong>可見，通道只是在 I/O 操作的起始和結束時向 CPU 發出 I/O 中斷申請，相對於之前的控制方式進一步減少了 CPU 的干預程度。</strong></p><p>三、參考文獻</p><p>《操作系統教程》機械工業出版社 謝旭升 朱明華 張練興 李宏偉 編著</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>詳解</a></li><li><a>系統</a></li><li><a>幾種</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/1fc66c30.html alt=「主流技術」分佈式詳解：什麼是分佈式系統？如何學習分佈式系統？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/49be09e1dc824d28ac034b897d04e4ea style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1fc66c30.html title=「主流技術」分佈式詳解：什麼是分佈式系統？如何學習分佈式系統？>「主流技術」分佈式詳解：什麼是分佈式系統？如何學習分佈式系統？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/89d62274.html alt="FastDFS 分佈式文件系統詳解" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f75efb8752b74ea384109115f7d8c4f6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/89d62274.html title="FastDFS 分佈式文件系統詳解">FastDFS 分佈式文件系統詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1b6548ae.html alt=詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/69fc12e26bdd4ebf942d997de47a1396 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1b6548ae.html title=詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡）>詳解Linux系統架構--內核（內存、進程、設備、文件系統和網絡）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/15e31bc6.html alt=linux文件系統詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ca9c61bb58f74db5bb05d2067cd581b4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/15e31bc6.html title=linux文件系統詳解>linux文件系統詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/01ef527c.html alt=詳解linux系統架構--文件系統體系 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/13183b27d114479589173ced128508b4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/01ef527c.html title=詳解linux系統架構--文件系統體系>詳解linux系統架構--文件系統體系</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/262b70b8.html alt=PPT詳解伺服控制系統的構成、操作以及基本編程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1524897626627453877184d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/262b70b8.html title=PPT詳解伺服控制系統的構成、操作以及基本編程>PPT詳解伺服控制系統的構成、操作以及基本編程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/55db3d56.html alt=室內消火栓系統圖文詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/05c0ed6a2dea4539aead34bad3d41166 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/55db3d56.html title=室內消火栓系統圖文詳解>室內消火栓系統圖文詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/52b15b32.html alt=建築排水系統詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/52b15b32.html title=建築排水系統詳解>建築排水系統詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/71424ea.html alt=最全的接地系統詳解，值得收藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/186b100929c64e39a594a3b9cbd9c5de style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/71424ea.html title=最全的接地系統詳解，值得收藏>最全的接地系統詳解，值得收藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1817861.html alt=單片機最小系統詳解，你要知道的都在這裡了 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RZBXtFNIVDQo8v style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1817861.html title=單片機最小系統詳解，你要知道的都在這裡了>單片機最小系統詳解，你要知道的都在這裡了</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ab9a0cb.html alt=世界上最先進的排水系統（圖文詳解） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e6b3f528c40b45c591b8d2bbc5f78251 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ab9a0cb.html title=世界上最先進的排水系統（圖文詳解）>世界上最先進的排水系統（圖文詳解）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/16d608d.html alt=分佈式系統「無狀態」詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/155f900a9c1243e29e37a4a56bbfab4f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/16d608d.html title=分佈式系統「無狀態」詳解>分佈式系統「無狀態」詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/36ce8e2.html alt=基於超聲波的定位系統原理詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/95223f300a314f50ab3ddc120c1c909c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/36ce8e2.html title=基於超聲波的定位系統原理詳解>基於超聲波的定位系統原理詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d704891.html alt=詳解各類文件系統存儲方案及區別 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/920c21bc57214f38ae2b566b128128e0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d704891.html title=詳解各類文件系統存儲方案及區別>詳解各類文件系統存儲方案及區別</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e81dd21.html alt=嵌入式系統優先級詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/S5LkDnyAmuicYW style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e81dd21.html title=嵌入式系統優先級詳解>嵌入式系統優先級詳解</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>