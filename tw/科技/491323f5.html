<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>一文教會你三維網格物體識別 | 极客快訊</title><meta property="og:title" content="一文教會你三維網格物體識別 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/a04700012a35533c88f1"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/491323f5.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/491323f5.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/491323f5.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/491323f5.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/491323f5.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/491323f5.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/491323f5.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/491323f5.html><meta property="article:published_time" content="2020-10-29T21:11:26+08:00"><meta property="article:modified_time" content="2020-10-29T21:11:26+08:00"><meta name=Keywords content><meta name=description content="一文教會你三維網格物體識別"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/491323f5.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>一文教會你三維網格物體識別</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>雷鋒網 AI 科技評論按：本文由「圖普科技」編譯自Medium - 3D body recognition using VGG16 like network</p><p>2017年3月，當時我的老闆說自動識別 3D 物體幾乎是不可能的，但大家一致反對。</p><p>因此，今天我要解決的問題是：如何輸入3D 網格物體（原始三角形和頂點），得到分類概率的輸出。</p><p>我找到了如下幾種解決方案：</p><ul><li><p>對物體進行縮放並將其分割成體素。將體素給到神經網絡中。</p></li><li><p>計算大量描述符，將其放入分類器。</p></li><li><p>從多側進行物體投射，嘗試用單獨的分類器進行識別，然後將其放到元分類器中。</p></li></ul><p>在這裡我想詳細講述一下一種相對簡單有效的方法，即 DeepPano 方法。</p><p></p><h3>數據準備</h3><p>如今，圖像數據集包含大量樣本。但就 3D 模型數據集而言，並非如此。3D 模型數據集中沒有成千上萬的圖像，因此 3D 模型識別沒有得到深入研究，3D 模型數據集也不均衡。大多數數據集包含有未進行方向對齊的物體。</p><p>ModelNet10 是一個相對清晰的 3D 物體數據集。3D 物體在數據集中被存儲為包含點線面的 .off 文件。 .off 文件格式不支持顯示布料、紋理以及其他材質。</p><p>這裡是物體種類與樣本數量：</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/a04700012a35533c88f1><p>樣本總數約為 5000。當然這個數據集也非常不均衡。</p><p>首先要做的是選擇分類器類型。由於如圖像、語音等重要數據的技術解決方案都是基於神經網絡（或在 Kaggle 比賽中經常使用的奇特組件），因此訓練神經網絡是合乎邏輯的。神經網絡對數據集的均衡性很敏感。所以第二步需要做的是使數據集更均衡。</p><p>我決定使用從 3dWarehouse 中得到的模型獲取更多數據並創建擴展數據集。這些模型是以 .skp 文件格式存儲的，因此必須進行轉換。我使用 SketchUp C Api 創建了 .skp - >.off 轉換器來進行轉換。</p><p>下一步是數據清理，完全相同的圖像已被刪除。可以這樣分配：</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/a0460002b97cb9efe890><p>這樣數據集看起來就比較均衡了。除馬桶外，幾乎每個物體類別都包含有近1000個樣本。其他物體類型之間的不均衡可通過分類權重進行修正。</p><p></p><h3>數據預處理</h3><p>在之前的步驟中，我們已經做了幾件重要的事情。</p><ul><li><p>闡述問題。</p></li><li><p>下載我們將要使用的基本數據集（ModelNet10）。</p></li><li><p>從最初的10類物體中選出了7類。</p></li><li><p>通過創建.skp - > .off轉換器來轉換3d warehouse.中的模型，數據集變得更加均衡。</p></li></ul><p>現在開始深入瞭解數據預處理。</p><p>在預處理過程中，數據預處理的最終結果是要用一種新的圖像來表示 3D 網格物體。我們將使用圓柱投影來創建圖像。</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/9fc6000926983298d2a4><p>3D網格物體</p><p>此物體的轉換結果</p><p>首先，我們需要讀入3D 網格物體並進行存儲。這可以通過功能強大的 trimesh 庫來完成。它不僅提供讀/寫功能，而且有大量其他有用的功能，如網格變換，光線追蹤等。</p><p>第二步是計算圓柱投影。圓柱投影是什麼呢？假設一個立方體位於 XoY 平面的中心，且原點有一條垂直軸。</p><p><strong>注意：</strong>如果物體的主軸不垂直，則需要在進行物體識別前應用方向對齊算法。這是一個完全不同的領域，因此在這裡不對此主題進行探討。</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc600092699bf250a97><p>立方體和主軸</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc90003a0af1c04d1f8><p>現在假設有一個包裹立方體的最小圓柱體。</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc3000ee021a5953466><p>現在將圓柱體的側面切割成M×N的網格。</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/a0460002b982b34f3b8a><p>現在將每個網格節點垂直投影到主軸上並獲取一組投影點。投影點集合由P表示。投影線集合由S表示。</p><p>綠色是主軸，紅色是網格，黃色是幾何投影線。</p><p>現在將S集合中的每段與網格體，即該立方體相交。你將從每條射線獲得一個交點。將該點分配給相應的網格節點。</p><p>其實這是一個特例。一般情況下，S中的一個投影線可以有多個交點，或者根本沒有交點。下面就是一個例子。</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc3000ee01ca2aa2fb2><p>因此，通常這個過程的結果是在每個單元中都有一個 M×N 矩陣，其中可能具有交點數組，也可能是空的。對於立方體，每個單元格將包含具有單個元素的數組。</p><p>下一步是從每個單元格的交點中選取離對應的M中的點距離最遠的點，並將它們之間的距離寫入 M×N 矩陣R。矩陣（或圖像）R 稱為全景圖。</p><p>我們為什麼要選取最遠的點？最遠的點通常集中於物體的外表面。我們將其用全景圖表示，可用於識別模塊。當然，有人可能會說：“圓環和高度相同的圓柱體會呈現出完全相同的全景圖”或者“中心有一個球形孔的立方體和沒有孔的立方體會呈現出完全相同的全景圖”，這是正確的。以全景圖來呈現3D物體並不完美，但如果是用體素來呈現則沒有這樣的缺點。幸運的是，像椅子、床、汽車或飛機這些真實存在的物體由於其複雜性，很少有相同的全景圖。</p><p>最後一步是通過將單元格的值縮放到 [0,1] 區間，對R矩陣進行歸一化。如果單元格沒有交點，則該單元格的值為零。</p><p>現在我們可以將矩陣R視為灰度圖像。這裡是所描述過程的 python 代碼和全景圖計算的一個例子。</p><p>混凝土床、椅子和馬桶的全景圖。</p><p>我們總結一下到目前為止已經完成的步驟。</p><ul><li><p>現在我們已經將 3D 網格物體表示為灰度圖像。</p></li><li><p>3D 物體必須正確對齊。如果沒有正確對齊，那麼我們首先需要使用方向對齊算法。</p></li><li><p>兩個不同的物體有可能具有相同的全景圖，但這種可能性很小。</p></li></ul><p>現在我們準備創建卷積神經網絡並解決識別問題。</p><p></p><h3>開始識別！</h3><p>我們在上一步中做了一件非常重要的事情，即找到一種合適的方法將3D物體轉換成圖像，我們可以將其提供給神經網絡（NN）。</p><p>步驟如下所示：</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/a0460002b989835c927b><p>我們之前已經完成了第1步，所以現在我們開始第2步和第3步。</p><p>讓我們從模型創建開始。</p><p>你可以在架構中看到 RWMP 層。根據 DeepPano 論文，RWMP 層的作用在於， 在 3D 物體圍繞主軸旋轉的情況下，保持識別精度不變。從技術上講，RWMP 只是一個行式的 MaxPooling。</p><p>模型準備就緒並編譯完成後，讀取數據，然後將其刷新，並通過圖像尺寸調節創建 ImageDataGenerator。請注意，數據預先按照 70:15:15 的比例進行了訓練、驗證和測試。由於圖像是合成的，並且代表了3D 物體，因此數據無法進行擴增，因為：</p><ul><li><p>由於圖像是灰度的，所以不能進行顏色增強。</p></li><li><p>由於RWMP的存在，不能進行水平翻轉。</p></li><li><p>垂直翻轉意味著將物體顛倒。</p></li><li><p>由於圖像的合成性質，無法使用ZCA白化。</p></li><li><p>隨機旋轉會損失寶貴的物體邊角信息，我無法確定這會對3D物體轉換產生什麼影響。</p></li></ul><p>所以我想不出任何可以應用在這裡的數據擴增方法。</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/9fc700071580498f425a><p>現在開始訓練模型。</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc6000926a7fc6ae490><p>讓我們看看結果。</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc3000ee03dd7170375><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/9fc70007158ac39c4879><p>訓練絕對準確度和驗證絕對準確度</p><p>正如你所看到的，該模型驗證的準確度達到了 92％，訓練的準確度達到了 95％，所以沒有過度擬合。該模型數據集測試的整體準確度度為 0.895。</p><p>分類報告：</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc400095b80c75e69ac><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/9fc700071586b1c16210><p>測試數據集的混淆矩陣</p><p>我們也可以自行排列這個模型。</p><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/9fc90003a0e0c20e7ddb><img alt=一文教會你三維網格物體識別 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/9fc700071592b8940153><p>來自上面的代碼片段</p><p>結果看起來不錯，一切都進行得都很順利，只是有些桌子被錯誤地識別為梳妝檯了。我不確定為什麼會發生這種情況。這可能是未來需要改進的步驟之一。</p><p>讓我們列出可能需要改進的地方。</p><ul><li><p>識別時要考慮材料、紋理和幾何尺寸等因素，否則會形成致無序模型。</p></li><li><p>提高數據集的均衡性或至少使用分類權重。生成模型（例如VAE）可使數據集更均衡。</p></li><li><p>添加更多的物體類別。</p></li><li><p>基於全景圖和不同的表示形式創建元模型，例如體素。這可能很昂貴。</p></li></ul><p>到目前為止，所有步驟介紹完畢。</p><p><strong>注：本文由「圖普科技」編譯，您可以關注微信公眾號tuputech，體驗基於深度學習的「圖像識別」應用。</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>三維網</a></li><li><a>體識別</a></li><li><a>格物</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E9%81%8A%E6%88%B2/fc1f938f.html alt=古文觀止“不止”之澄懷格物讀李白 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/153010875286474ebe5b6ec style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/fc1f938f.html title=古文觀止“不止”之澄懷格物讀李白>古文觀止“不止”之澄懷格物讀李白</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/67197f5.html alt=不知道字體名稱？不要緊，字體識別網站幫助你 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/aa67dfd346fa4262b1a58e46fa39f402 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/67197f5.html title=不知道字體名稱？不要緊，字體識別網站幫助你>不知道字體名稱？不要緊，字體識別網站幫助你</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>