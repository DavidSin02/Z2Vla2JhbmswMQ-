<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>é€™4ç¨®ThreadLocalä½ éƒ½çŸ¥é“å—ï¼Ÿ | æå®¢å¿«è¨Š</title><meta property="og:title" content="é€™4ç¨®ThreadLocalä½ éƒ½çŸ¥é“å—ï¼Ÿ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/02621283c0574fd79fbb6ff5ea971384"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4bac2fc4.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4bac2fc4.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4bac2fc4.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4bac2fc4.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4bac2fc4.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4bac2fc4.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4bac2fc4.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4bac2fc4.html><meta property="article:published_time" content="2020-11-14T21:07:43+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:43+08:00"><meta name=Keywords content><meta name=description content="é€™4ç¨®ThreadLocalä½ éƒ½çŸ¥é“å—ï¼Ÿ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/4bac2fc4.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>é€™4ç¨®ThreadLocalä½ éƒ½çŸ¥é“å—ï¼Ÿ</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right><strong>ä»€éº¼æ˜¯ThreadLocal</strong></h1><p>ThreadLocal é¡é¡§åæ€ç¾©å¯ä»¥ç†è§£ç‚ºç·šç¨‹æœ¬åœ°è®Šé‡ã€‚ä¹Ÿå°±æ˜¯èªªå¦‚æœå®šç¾©äº†ä¸€å€‹ ThreadLocal ï¼Œ æ¯å€‹ç·šç¨‹å¾€é€™å€‹ ThreadLocal ä¸­è®€å¯«æ˜¯ç·šç¨‹éš”é›¢ï¼Œäº’ç›¸ä¹‹é–“ä¸æœƒå½±éŸ¿çš„ã€‚å®ƒæä¾›äº†ä¸€ç¨®å°‡å¯è®Šæ•¸æ“šé€šéæ¯å€‹ç·šç¨‹æœ‰è‡ªå·±çš„ç¨ç«‹å‰¯æœ¬å¾è€Œå¯¦ç¾ç·šç¨‹å°é–‰çš„æ©Ÿåˆ¶ã€‚</p><h1 class=pgc-h-arrow-right><strong>å¯¦éš›æ‡‰ç”¨</strong></h1><p>å¯¦éš›é–‹ç™¼ä¸­æˆ‘å€‘çœŸæ­£ä½¿ç”¨ ThreadLocal çš„å ´æ™¯é‚„æ˜¯æ¯”è¼ƒå°‘çš„ï¼Œå¤§å¤šæ•¸ä½¿ç”¨éƒ½æ˜¯åœ¨æ¡†æ¶è£¡é¢ã€‚æœ€å¸¸è¦‹çš„ä½¿ç”¨å ´æ™¯çš„è©±å°±æ˜¯ç”¨å®ƒä¾†è§£æ±ºæ•¸æ“šåº«é€£æ¥ã€ Session ç®¡ç†ç­‰ä¿è­‰æ¯ä¸€å€‹ç·šç¨‹ä¸­ä½¿ç”¨çš„æ•¸æ“šåº«é€£æ¥æ˜¯åŒä¸€å€‹ã€‚é‚„æœ‰ä¸€å€‹ç”¨çš„æ¯”è¼ƒå¤šçš„å ´æ™¯å°±æ˜¯ç”¨ä¾†è§£æ±º SimpleDateFormat è§£æ±ºç·šç¨‹ä¸å®‰å…¨çš„å•é¡Œï¼Œä¸éç¾åœ¨ java8 æä¾›äº† DateTimeFormatter å®ƒæ˜¯ç·šç¨‹å®‰å…¨çš„ï¼Œæ„Ÿèˆˆè¶£çš„åŒå­¸å¯ä»¥å»çœ‹çœ‹ã€‚é‚„å¯ä»¥åˆ©ç”¨å®ƒé€²è¡Œå„ªé›…çš„å‚³éåƒæ•¸ï¼Œå‚³éåƒæ•¸çš„æ™‚å€™ï¼Œå¦‚æœçˆ¶ç·šç¨‹ç”Ÿæˆçš„è®Šé‡æˆ–è€…åƒæ•¸ç›´æ¥é€šé ThreadLocal å‚³éåˆ°å­ç·šç¨‹åƒæ•¸å°±æœƒä¸Ÿå¤±ï¼Œé€™å€‹å¾Œé¢æœƒä»‹ç´¹ä¸€å€‹å…¶ä»–çš„ ThreadLocal ä¾†å°ˆé–€è§£æ±ºé€™å€‹å•é¡Œçš„ã€‚</p><h1 class=pgc-h-arrow-right><strong>ThreadLocal apiä»‹ç´¹</strong></h1><p>ThreadLocalçš„APIé‚„æ˜¯æ¯”è¼ƒå°‘çš„å°±å¹¾å€‹api</p><div class=pgc-img><img alt=é€™4ç¨®ThreadLocalä½ éƒ½çŸ¥é“å—ï¼Ÿ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/02621283c0574fd79fbb6ff5ea971384><p class=pgc-img-caption></p></div><p>æˆ‘å€‘çœ‹ä¸‹é€™å¹¾å€‹ api çš„ä½¿ç”¨ï¼Œä½¿ç”¨èµ·ä¾†ä¹Ÿè¶…ç´šç°¡å–®</p><pre><code>    private static ThreadLocal&lt;String&gt; threadLocal = ThreadLocal.withInitial(()-&gt;"javaé‡‘è");    public static void main(String[] args) {        System.out.println("ç²å–åˆå§‹å€¼ï¼š"+threadLocal.get());        threadLocal.set("é—œæ³¨ï¼šã€javaé‡‘èã€‘");        System.out.println("ç²å–ä¿®æ”¹å¾Œçš„å€¼ï¼š"+threadLocal.get());        threadLocal.remove();    }</code></pre><p>è¼¸å‡ºçµæœï¼š</p><pre><code>ç²å–åˆå§‹å€¼ï¼šjavaé‡‘èç²å–ä¿®æ”¹å¾Œçš„å€¼ï¼šé—œæ³¨ï¼šã€javaé‡‘èã€‘</code></pre><p>æ˜¯ä¸æ˜¯ç‚’é›ç°¡å–®ï¼Œå°±å¹¾è¡Œä»£ç¢¼å°±æŠŠæ‰€æœ‰ api éƒ½è¦†è“‹äº†ã€‚ä¸‹é¢æˆ‘å€‘å°±ä¾†ç°¡å–®çœ‹çœ‹é€™å¹¾å€‹ api çš„æºç¢¼å§ã€‚</p><p>æˆå“¡è®Šé‡</p><pre><code>        /**åˆå§‹å®¹é‡ï¼Œå¿…é ˆç‚º2çš„å†ª         * The initial capacity -- MUST be a power of two.         */        private static final int INITIAL_CAPACITY = 16;        /** Entryè¡¨ï¼Œå¤§å°å¿…é ˆç‚º2çš„å†ª         * The table, resized as necessary.         * table.length MUST always be a power of two.         */        private Entry[] table;        /**         * The number of entries in the table.         */        private int size = 0;        /**         * The next size value at which to resize.         */        private int threshold; // Default to 0</code></pre><p>é€™è£¡æœƒæœ‰ä¸€å€‹é¢è©¦ç¶“å¸¸å•åˆ°çš„å•é¡Œ:ç‚ºä»€éº¼ entry æ•¸çµ„çš„å¤§å°ï¼Œä»¥åŠåˆå§‹å®¹é‡éƒ½å¿…é ˆæ˜¯ 2 çš„å†ªï¼Ÿå°æ–¼ firstKey.threadLocalHashCode & (INITIAL_CAPACITY - 1); ä»¥åŠå¾ˆå¤šæºç¢¼è£¡é¢éƒ½æ˜¯ä½¿ç”¨ hashCode &ï¼ˆ-1ï¼‰ ä¾†ä»£æ›¿hashCode%ã€‚é€™ç¨®å¯«æ³•å¥½è™•å¦‚ä¸‹ï¼š</p><ul><li>ä½¿ç”¨ä½é‹ç®—æ›¿ä»£å–æ¨¡ï¼Œæå‡è¨ˆç®—æ•ˆç‡ã€‚</li><li>ç‚ºäº†ä½¿ä¸åŒ hash å€¼ç™¼ç”Ÿç¢°æ’çš„æ¦‚ç‡æ›´å°ï¼Œå„˜å¯èƒ½ä¿ƒä½¿å…ƒç´ åœ¨å“ˆå¸Œè¡¨ä¸­å‡å‹»åœ°æ•£åˆ—ã€‚</li></ul><p>setæ–¹æ³•</p><pre><code>   public void set(T value) {        Thread t = Thread.currentThread();        ThreadLocalMap map = getMap(t);        if (map != null)            map.set(this, value);        else            createMap(t, value);    }</code></pre><p>set æ–¹æ³•é‚„æ˜¯æ¯”è¼ƒç°¡å–®çš„ï¼Œæˆ‘å€‘å¯ä»¥é‡é»çœ‹ä¸‹é€™å€‹æ–¹æ³•è£¡é¢çš„ThreadLocalMapï¼Œå®ƒæ—¢ç„¶æ˜¯å€‹mapï¼ˆæ³¨æ„ä¸è¦èˆ‡ java.util.map æ··ç‚ºä¸€è«‡ï¼Œé€™è£¡æŒ‡çš„æ˜¯æ¦‚å¿µä¸Šçš„ map ï¼‰ï¼Œè‚¯å®šæ˜¯æœ‰è‡ªå·±çš„keyå’Œvalueçµ„æˆï¼Œæˆ‘å€‘æ ¹æ“šæºç¢¼å¯ä»¥çœ‹å‡ºå®ƒçš„ key æ˜¯å…¶å¯¦å¯ä»¥æŠŠå®ƒç°¡å–®çœ‹æˆæ˜¯ ThreadLocal ï¼Œä½†æ˜¯å¯¦éš›ä¸ŠThreadLocalä¸­å­˜æ”¾çš„æ˜¯ ThreadLocal çš„å¼±å¼•ç”¨ï¼Œè€Œå®ƒçš„ value çš„è©±æ˜¯æˆ‘å€‘å¯¦éš› set çš„å€¼</p><pre><code>   static class Entry extends WeakReference&lt;ThreadLocal&lt;?&gt;&gt; {            /** The value associated with this ThreadLocal. */            Object value; // å¯¦éš›å­˜æ”¾çš„å€¼            Entry(ThreadLocal&lt;?&gt; k, Object v) {                super(k);                value = v;            }        }</code></pre><p>Entry å°±æ˜¯æ˜¯ ThreadLocalMap è£¡å®šç¾©çš„ç¯€é»ï¼Œå®ƒç¹¼æ‰¿äº† WeakReference é¡ï¼Œå®šç¾©äº†ä¸€å€‹é¡å‹ç‚º Object çš„ value ï¼Œç”¨æ–¼å­˜æ”¾å¡åˆ° ThreadLocal è£¡çš„å€¼ã€‚æˆ‘å€‘å†ä¾†çœ‹ä¸‹é€™å€‹ ThreadLocalMapæ˜¯ä½æ–¼å“ªè£¡çš„ï¼Ÿæˆ‘å€‘çœ‹åˆ° ThreadLocalMap æ˜¯ä½æ–¼ Thread è£¡é¢çš„ä¸€å€‹è®Šé‡ï¼Œè€Œæˆ‘å€‘çš„å€¼åˆæ˜¯æ”¾åœ¨ ThreadLocalMap ï¼Œé€™æ¨£çš„è©±æˆ‘å€‘å°±å¯¦ç¾äº†æ¯å€‹ç·šç¨‹é–“çš„éš”é›¢ã€‚ä¸‹é¢å…©å¼µåœ–çš„åŸºæœ¬å°±æŠŠ ThreadLocal çš„çµæ§‹çµ¦ä»‹ç´¹æ¸…æ¥šäº†ã€‚</p><div class=pgc-img><img alt=é€™4ç¨®ThreadLocalä½ éƒ½çŸ¥é“å—ï¼Ÿ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4ec9cdd3dfe249de8bcac91d464c5c03><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=é€™4ç¨®ThreadLocalä½ éƒ½çŸ¥é“å—ï¼Ÿ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/382aed84cf2b4c579a262387595172ec><p class=pgc-img-caption></p></div><p>æ¥ä¸‹ä¾†æˆ‘å€‘å†çœ‹ä¸‹ ThreadLocalMap è£¡é¢çš„æ•¸æ“šçµæ§‹ï¼Œæˆ‘å€‘çŸ¥é“ HaseMap è§£æ±º hash è¡çªæ˜¯ç”±éˆè¡¨å’Œç´…é»‘æ¨¹ï¼ˆ jdk1.8 ï¼‰ä¾†è§£æ±ºçš„ï¼Œä½†æ˜¯é€™å€‹æˆ‘å€‘çœ‹åˆ° ThreadLocalMap åªæœ‰ä¸€å€‹æ•¸çµ„ï¼Œå®ƒæ˜¯æ€éº¼ä¾†è§£æ±º hash è¡çªå‘¢ï¼Ÿ ThreadLocalMap æ¡ç”¨ <strong>ã€Œç·šæ€§æ¢æ¸¬ã€</strong> çš„æ–¹å¼ï¼Œä»€éº¼æ˜¯ç·šæ€§æ¢æ¸¬å‘¢ï¼Ÿå°±æ˜¯æ ¹ã€Œæ“šåˆå§‹ key çš„hashcodeå€¼ç¢ºå®šå…ƒç´ åœ¨ table æ•¸çµ„ä¸­çš„ä½ç½®ï¼Œå¦‚æœç™¼ç¾é€™å€‹ä½ç½®ä¸Šå·²ç¶“æœ‰å…¶ä»– key å€¼çš„å…ƒç´ è¢«ä½”ç”¨ï¼Œå‰‡åˆ©ç”¨å›ºå®šçš„ç®—æ³•å°‹æ‰¾ä¸€å®šæ­¥é•·çš„ä¸‹å€‹ä½ç½®ï¼Œä¾æ¬¡åˆ¤æ–·ï¼Œç›´è‡³æ‰¾åˆ°èƒ½å¤ å­˜æ”¾çš„ä½ç½®ã€ ã€‚ ThreadLocalMap è§£æ±º Hash è¡çªçš„æ–¹å¼å°±æ˜¯ç°¡å–®çš„æ­¥é•·åŠ  1 æˆ–æ¸› 1 ï¼Œå°‹æ‰¾ä¸‹ä¸€å€‹ç›¸é„°çš„ä½ç½®ã€‚</p><pre><code>        /**         * Increment i modulo len.         */        private static int nextIndex(int i, int len) {            return ((i + 1 &lt; len) ? i + 1 : 0);        }        /**         * Decrement i modulo len.         */        private static int prevIndex(int i, int len) {            return ((i - 1 &gt;= 0) ? i - 1 : len - 1);        }</code></pre><p>é€™ç¨®æ–¹å¼çš„è©±å¦‚æœä¸€å€‹ç·šç¨‹è£¡é¢æœ‰å¤§é‡çš„ ThreadLocal å°±æœƒç”¢ç”Ÿæ€§èƒ½å•é¡Œï¼Œå› ç‚ºæ¯æ¬¡éƒ½éœ€è¦å°é€™å€‹ table é€²è¡Œéæ­·ï¼Œæ¸…ç©ºç„¡æ•ˆçš„å€¼ã€‚æ‰€ä»¥æˆ‘å€‘åœ¨ä½¿ç”¨çš„æ™‚å€™å„˜å¯èƒ½çš„ä½¿ç”¨å°‘çš„ ThreadLocalï¼Œä¸è¦åœ¨ç·šç¨‹è£¡é¢å‰µå»ºå¤§é‡çš„ ThreadLocal ï¼Œå¦‚æœéœ€è¦è¨­ç½®ä¸åŒçš„åƒæ•¸é¡å‹æˆ‘å€‘å¯ä»¥é€šé ThreadLocal ä¾†å­˜æ”¾ä¸€å€‹ Object çš„ Map é€™æ¨£çš„è©±ï¼Œå¯ä»¥å¤§å¤§æ¸›å°‘å‰µå»º ThreadLocal çš„æ•¸é‡ã€‚å½ä»£ç¢¼å¦‚ä¸‹ï¼š</p><pre><code>public final class HttpContext {    private HttpContext() {    }    private static final ThreadLocal&lt;Map&lt;String, Object&gt;&gt; CONTEXT = ThreadLocal.withInitial(() -&gt; new ConcurrentHashMap(64));    public static &lt;T&gt; void add(String key, T value) {        if(StringUtils.isEmpty(key) || Objects.isNull(value)) {            throw new IllegalArgumentException("key or value is null");        }        CONTEXT.get().put(key, value);    }    public static &lt;T&gt; T get(String key) {        return (T) get().get(key);    }    public static Map&lt;String, Object&gt; get() {        return CONTEXT.get();    }    public static void remove() {        CONTEXT.remove();    }}</code></pre><p>é€™æ¨£çš„è©±æˆ‘å€‘å¦‚æœéœ€è¦å‚³éä¸åŒçš„åƒæ•¸ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸€å€‹ ThreadLocal å°±å¯ä»¥ä»£æ›¿å¤šå€‹ ThreadLocal äº†ã€‚å¦‚æœè¦ºå¾—ä¸æƒ³é€™éº¼ç©ï¼Œæˆ‘å°±æ˜¯è¦å‰µå»ºå¤šå€‹ ThreadLocal ï¼Œæˆ‘çš„éœ€æ±‚å°±æ˜¯é€™æ¨£ï¼Œè€Œä¸”æ€§èƒ½é‚„å¾—è¦å¥½ï¼Œé€™å€‹èƒ½ä¸èƒ½å¯¦ç¾åˆ—ï¼Ÿå¯ä»¥ä½¿ç”¨ netty çš„ FastThreadLocal å¯ä»¥è§£æ±ºé€™å€‹å•é¡Œï¼Œä¸éè¦é…åˆä½¿ FastThreadLocalThread æˆ–è€…å®ƒå­é¡çš„ç·šç¨‹ç·šç¨‹æ•ˆç‡æ‰æœƒæ›´é«˜ï¼Œæ›´å¤šé—œæ–¼å®ƒçš„ä½¿ç”¨å¯ä»¥è‡ªè¡ŒæŸ¥é–±è³‡æ–™å“¦ã€‚</p><p>ä¸‹é¢æˆ‘å€‘å…ˆä¾†çœ‹ä¸‹å®ƒçš„é€™å€‹å“ˆå¸Œå‡½æ•¸</p><pre><code>    // ç”Ÿæˆhash codeé–“éš™ç‚ºé€™å€‹é­”æ•¸ï¼Œå¯ä»¥è®“ç”Ÿæˆå‡ºä¾†çš„å€¼æˆ–è€…èªªThreadLocalçš„IDè¼ƒç‚ºå‡å‹»åœ°åˆ†ä½ˆåœ¨2çš„å†ªå¤§å°çš„æ•¸çµ„ä¸­ã€‚    private static final int HASH_INCREMENT = 0x61c88647;    /**     * Returns the next hash code.     */    private static int nextHashCode() {        return nextHashCode.getAndAdd(HASH_INCREMENT);    }</code></pre><p>å¯ä»¥çœ‹å‡ºï¼Œå®ƒæ˜¯åœ¨ä¸Šä¸€å€‹è¢«æ§‹é€ å‡ºçš„ ThreadLocal çš„ ID/threadLocalHashCode çš„åŸºç¤ä¸ŠåŠ ä¸Šä¸€å€‹é­”æ•¸ 0x61c88647 çš„ã€‚é€™å€‹é­”æ•¸çš„é¸å–èˆ‡æ–æ³¢é‚£å¥‘æ•£åˆ—æœ‰é—œï¼Œ 0x61c88647 å°æ‡‰çš„åé€²åˆ¶ç‚º 1640531527 .ç•¶æˆ‘å€‘ä½¿ç”¨ 0x61c88647 é€™å€‹é­”æ•¸ç´¯åŠ å°æ¯å€‹ ThreadLocal åˆ†é…å„è‡ªçš„ ID ä¹Ÿå°±æ˜¯ threadLocalHashCode å†èˆ‡ 2 çš„å†ªï¼ˆæ•¸çµ„çš„é•·åº¦ï¼‰å–æ¨¡ï¼Œå¾—åˆ°çš„çµæœåˆ†ä½ˆå¾ˆå‡å‹»ã€‚æˆ‘å€‘å¯ä»¥ä¾†ä¹Ÿæ¼”ç¤ºä¸‹é€šéé€™å€‹é­”æ•¸</p><pre><code>public class MagicHashCode {    private static final int HASH_INCREMENT = 0x61c88647;    public static void main(String[] args) {        hashCode(16); //åˆå§‹åŒ–16        hashCode(32); //å¾ŒçºŒ2å€æ“´å®¹        hashCode(64);    }    private static void hashCode(Integer length) {        int hashCode = 0;        for (int i = 0; i &lt; length; i++) {            hashCode = i * HASH_INCREMENT + HASH_INCREMENT;//æ¯æ¬¡éå¢HASH_INCREMENT            System.out.print(hashCode &amp; (length - 1));            System.out.print(" ");        }        System.out.println();    }}</code></pre><p>é‹è¡Œçµæœï¼š</p><p>ä¸å¾—ä¸ä½©æœä¸‹é€™å€‹ä½œè€…ï¼Œé€šéä½¿ç”¨äº†æ–æ³¢é‚£å¥‘æ•£åˆ—æ³•ï¼Œä¾†ä¿è­‰å“ˆå¸Œè¡¨çš„é›¢æ•£åº¦ï¼Œè®“çµæœå¾ˆå‡å‹»ã€‚å¯è¦‹ <strong>ã€Œä»£ç¢¼è¦å¯«çš„å¥½ï¼Œæ•¸å­¸é‚„æ˜¯å°‘ä¸äº†ã€</strong> å•Šã€‚å…¶ä»–çš„æºç¢¼å°±ä¸åˆ†æäº†ï¼Œå¤§å®¶æ„Ÿèˆˆè¶£å¯ä»¥è‡ªè¡Œå»æŸ¥çœ‹ä¸‹ã€‚</p><h1 class=pgc-h-arrow-right><strong>ThreadLocalçš„å…§å­˜æ´©éœ²</strong></h1><p>é—œæ–¼ ThreadLocal æ˜¯å¦æœƒå¼•èµ·å…§å­˜æ´©æ¼ä¹Ÿæ˜¯ä¸€å€‹æ¯”è¼ƒæœ‰çˆ­è­°æ€§çš„å•é¡Œã€‚é¦–å…ˆæˆ‘å€‘éœ€è¦çŸ¥é“ä»€éº¼æ˜¯å…§å­˜æ´©éœ²ï¼Ÿ</p><p>â</p><p>åœ¨Javaä¸­ï¼Œå…§å­˜æ´©æ¼å°±æ˜¯å­˜åœ¨ä¸€äº›è¢«åˆ†é…çš„å°è±¡ï¼Œé€™äº›å°è±¡æœ‰ä¸‹é¢å…©å€‹ç‰¹é»ï¼Œé¦–å…ˆï¼Œé€™äº›å°è±¡æ˜¯å¯é”çš„ï¼Œå³åœ¨æœ‰å‘åœ–ä¸­ï¼Œå­˜åœ¨é€šè·¯å¯ä»¥èˆ‡å…¶ç›¸é€£ï¼›å…¶æ¬¡ï¼Œé€™äº›å°è±¡æ˜¯ç„¡ç”¨çš„ï¼Œå³ç¨‹åºä»¥å¾Œä¸æœƒå†ä½¿ç”¨é€™äº›å°è±¡ã€‚å¦‚æœå°è±¡æ»¿è¶³é€™å…©å€‹æ¢ä»¶ï¼Œé€™äº›å°è±¡å°±å¯ä»¥åˆ¤å®šç‚ºJavaä¸­çš„å…§å­˜æ´©æ¼ï¼Œé€™äº›å°è±¡ä¸æœƒè¢«GCæ‰€å›æ”¶ï¼Œç„¶è€Œå®ƒå»ä½”ç”¨å…§å­˜ã€‚</p><p>â</p><p>ThreadLocal çš„å…§å­˜æ´©éœ²æƒ…æ³ï¼š</p><ul><li>ThreadLocal GC ThreadLocal ThreadLocalMap key null Entry Entry value setã€get key null Entry Entry.value Entry ThreadLocalMap Entry[] table Entry.value GC</li></ul><pre><code> public static void main(String[] args) throws InterruptedException {        ThreadLocal&lt;Long []&gt; threadLocal = new ThreadLocal&lt;&gt;();        for (int i = 0; i &lt; 50; i++) {            run(threadLocal);        }        Thread.sleep(50000);        // å»é™¤å¼·å¼•ç”¨        threadLocal = null;        System.gc();        System.runFinalization();        System.gc();    }    private static void run(ThreadLocal&lt;Long []&gt; threadLocal) {        new Thread(() -&gt; {            threadLocal.set(new Long[1024 * 1024 *10]);            try {                Thread.sleep(1000000000);            } catch (InterruptedException e) {                e.printStackTrace();            }        }).start();    }</code></pre><p>é€šé jdk è‡ªå¸¶çš„å·¥å…· jconsole.exe æœƒç™¼ç¾å³ä½¿åŸ·è¡Œäº† gc å…§å­˜ä¹Ÿä¸æœƒæ¸›å°‘ï¼Œå› ç‚ºkeyé‚„è¢«ç·šç¨‹å¼·å¼•ç”¨è‘—ã€‚æ•ˆæœåœ–å¦‚ä¸‹:</p><div class=pgc-img><img alt=é€™4ç¨®ThreadLocalä½ éƒ½çŸ¥é“å—ï¼Ÿ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5eacdd04eb5748b6b03b1762fef9512d><p class=pgc-img-caption></p></div><ul><li>ThreadLocalMap äº†set()ã€get()ã€remove() cleanSomeSlots()ã€expungeStaleEntry() key null value ThreadLocal set()ï¼Œget()ï¼Œremove() value static ThreadLocal ThreadLocal ThreadLocal ThreadLocal GC Entry key null remove remove key null ThreadLocal remove FastThreadLocal</li><li>åœ¨ç·šç¨‹æ± çš„å ´æ™¯ï¼Œç¨‹åºä¸åœæ­¢ï¼Œç·šç¨‹ä¸€ç›´åœ¨è¤‡ç”¨çš„è©±ï¼ŒåŸºæœ¬ä¸æœƒéŠ·ç‡¬ï¼Œå…¶å¯¦æœ¬è³ªå°±è·Ÿä¸Šé¢ä¾‹å­æ˜¯ä¸€æ¨£çš„ã€‚å¦‚æœç·šç¨‹ä¸å¾©ç”¨ï¼Œç”¨å®Œå°±éŠ·ç‡¬äº†å°±ä¸æœƒå­˜åœ¨æ´©éœ²çš„æƒ…æ³ã€‚å› ç‚ºç·šç¨‹çµæŸçš„æ™‚å€™æœƒjvm ä¸»å‹•èª¿ç”¨ exit æ–¹æ³•æ¸…ç†ã€‚</li></ul><pre><code>      /**         * This method is called by the system to give a Thread         * a chance to clean up before it actually exits.         */        private void exit() {            if (group != null) {                group.threadTerminated(this);                group = null;            }            /* Aggressively null out all reference fields: see bug 4006245 */            target = null;            /* Speed the release of some of these resources */            threadLocals = null;            inheritableThreadLocals = null;            inheritedAccessControlContext = null;            blocker = null;            uncaughtExceptionHandler = null;        }</code></pre><h1 class=pgc-h-arrow-right><strong>InheritableThreadLocal</strong></h1><p>æ–‡ç« é–‹é ­æœ‰æåˆ°éçˆ¶å­ä¹‹é–“ç·šç¨‹çš„è®Šé‡å‚³éä¸Ÿå¤±çš„æƒ…æ³ã€‚ä½†æ˜¯ InheritableThreadLocal æä¾›äº†ä¸€ç¨®çˆ¶å­ç·šç¨‹ä¹‹é–“çš„æ•¸æ“šå…±äº«æ©Ÿåˆ¶ã€‚å¯ä»¥è§£æ±ºé€™å€‹å•é¡Œã€‚</p><pre><code> static ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;&gt;();    static InheritableThreadLocal&lt;String&gt; inheritableThreadLocal = new InheritableThreadLocal&lt;&gt;();    public static void main(String[] args) throws InterruptedException {        threadLocal.set("threadLocalä¸»ç·šç¨‹çš„å€¼");        Thread.sleep(100);        new Thread(() -&gt; System.out.println("å­ç·šç¨‹ç²å–threadLocalçš„ä¸»ç·šç¨‹å€¼ï¼š" + threadLocal.get())).start();        Thread.sleep(100);        inheritableThreadLocal.set("inheritableThreadLocalä¸»ç·šç¨‹çš„å€¼");        new Thread(() -&gt; System.out.println("å­ç·šç¨‹ç²å–inheritableThreadLocalçš„ä¸»ç·šç¨‹å€¼ï¼š" + inheritableThreadLocal.get())).start();    }</code></pre><p>è¼¸å‡ºçµæœ</p><pre><code>ç·šç¨‹ç²å–threadLocalçš„ä¸»ç·šç¨‹å€¼ï¼šnullå­ç·šç¨‹ç²å–inheritableThreadLocalçš„ä¸»ç·šç¨‹å€¼ï¼šinheritableThreadLocalä¸»ç·šç¨‹çš„å€¼</code></pre><p>ä½†æ˜¯ InheritableThreadLocal å’Œç·šç¨‹æ± ä½¿ç”¨çš„æ™‚å€™å°±æœƒå­˜åœ¨å•é¡Œï¼Œå› ç‚ºå­ç·šç¨‹åªæœ‰åœ¨ç·šç¨‹å°è±¡å‰µå»ºçš„æ™‚å€™æ‰æœƒæŠŠçˆ¶ç·šç¨‹ inheritableThreadLocals ä¸­çš„æ•¸æ“šè¤‡è£½åˆ°è‡ªå·±çš„ inheritableThreadLocals ä¸­ã€‚é€™æ¨£å°±å¯¦ç¾äº†çˆ¶ç·šç¨‹å’Œå­ç·šç¨‹çš„ä¸Šä¸‹æ–‡å‚³éã€‚ä½†æ˜¯ç·šç¨‹æ± çš„è©±ï¼Œç·šç¨‹æœƒè¤‡ç”¨ï¼Œæ‰€ä»¥æœƒå­˜åœ¨å•é¡Œã€‚å¦‚æœè¦è§£æ±ºé€™å€‹å•é¡Œå¯ä»¥æœ‰ä»€éº¼è¾¦æ³•åˆ—ï¼Ÿå¤§å®¶å¯ä»¥æ€è€ƒä¸‹ï¼Œæˆ–è€…åœ¨ä¸‹æ–¹ç•™è¨€å“¦ã€‚å¦‚æœå¯¦åœ¨ä¸æƒ³æ€è€ƒçš„è©±ï¼Œå¯ä»¥åƒè€ƒä¸‹é˜¿é‡Œå·´å·´çš„ transmittable-thread-local å“¦ã€‚</p><ul><li>ThreadLocal ThreadLocal ThreadLocalã€InheritableThreadLocalã€FastThreadLocalã€transmittable-thread-local ThreadLocal</li></ul><ul><li>ç”±æ–¼è‡ªå·±æ‰ç–å­¸æ·ºï¼Œé›£å…æœƒæœ‰ç´•æ¼ï¼Œå‡å¦‚ä½ ç™¼ç¾äº†éŒ¯èª¤çš„åœ°æ–¹ï¼Œé‚„æœ›ç•™è¨€çµ¦æˆ‘æŒ‡å‡ºä¾†,æˆ‘æœƒå°å…¶åŠ ä»¥ä¿®æ­£ã€‚</li><li>å¦‚æœä½ è¦ºå¾—æ–‡ç« é‚„ä¸éŒ¯ï¼Œä½ çš„è½‰ç™¼ã€åˆ†äº«ã€è®šè³ã€é»è´Šã€ç•™è¨€å°±æ˜¯å°æˆ‘æœ€å¤§çš„é¼“å‹µã€‚</li><li>æ„Ÿè¬æ‚¨çš„é–±è®€,ååˆ†æ­¡è¿ä¸¦æ„Ÿè¬æ‚¨çš„é—œæ³¨ã€‚</li></ul><div class=pgc-img><img alt=é€™4ç¨®ThreadLocalä½ éƒ½çŸ¥é“å—ï¼Ÿ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/79a28d6e8c2444a2b03a751a1fd9f6d3><p class=pgc-img-caption></p></div><pre><code>æœ€è¿‘é¢è©¦BATï¼Œæ•´ç†ä¸€ä»½é¢è©¦è³‡æ–™ã€ŠJavaé¢è©¦BATJé€šé—œæ‰‹å†Šã€‹ï¼Œè¦†è“‹äº†Javaæ ¸å¿ƒæŠ€è¡“ã€JVMã€Javaä½µç™¼ã€SSMã€å¾®æœå‹™ã€æ•¸æ“šåº«ã€æ•¸æ“šçµæ§‹ã€ç­‰ç­‰ã€‚</code></pre><p style=text-align:start>ç²å–æ–¹å¼ï¼šå›è¦† <strong>666</strong> é ˜å–ï¼Œæ›´å¤šå…§å®¹é™¸çºŒå¥‰ä¸Šã€‚</p><p style=text-align:start>æ–‡ç« æœ‰å¹«åŠ©çš„è©±ï¼Œåœ¨çœ‹ï¼Œè½‰ç™¼å§ã€‚</p><p style=text-align:start>è¬è¬æ”¯æŒå–² (*^__^*ï¼‰</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>ThreadLocal</a></li><li><a>çŸ¥é“</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/32a99b12.html alt=æ€æ¨£è·³çº–ï¼Ÿã€çœ‹å®Œå°±çŸ¥é“äº†ã€‘ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/f5acf09fdf9a4abfbdb64f901c2cf353 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/32a99b12.html title=æ€æ¨£è·³çº–ï¼Ÿã€çœ‹å®Œå°±çŸ¥é“äº†ã€‘>æ€æ¨£è·³çº–ï¼Ÿã€çœ‹å®Œå°±çŸ¥é“äº†ã€‘</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ce0de46b.html alt=6å€‹ç¡¬æ‹‰éŒ¯èª¤ä½ éƒ½çŸ¥é“å—ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/509800008698e71077d2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ce0de46b.html title=6å€‹ç¡¬æ‹‰éŒ¯èª¤ä½ éƒ½çŸ¥é“å—ï¼Ÿ>6å€‹ç¡¬æ‹‰éŒ¯èª¤ä½ éƒ½çŸ¥é“å—ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1c9afde0.html alt="ä¸€èµ·ä¾†è«‡è«‡ThreadLocal åŸç†å§ï¼ä½ éœ€è¦äº†è§£ï¼" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/499a403f2b63464db8e3e12298c1a3e5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1c9afde0.html title="ä¸€èµ·ä¾†è«‡è«‡ThreadLocal åŸç†å§ï¼ä½ éœ€è¦äº†è§£ï¼">ä¸€èµ·ä¾†è«‡è«‡ThreadLocal åŸç†å§ï¼ä½ éœ€è¦äº†è§£ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a915e749.html alt=å¤šç·šç¨‹ä¹‹ThreadLocalçš„é‚£äº›äº‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/58bb67505b204eef816b6e3b75935246 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a915e749.html title=å¤šç·šç¨‹ä¹‹ThreadLocalçš„é‚£äº›äº‹>å¤šç·šç¨‹ä¹‹ThreadLocalçš„é‚£äº›äº‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ef5bd4a5.html alt=å¾æºç¢¼è§’åº¦ä¾†å‰–æThreadLocalåˆ°åº•æœ‰æ²’æœ‰å…§å­˜æ´©æ¼ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/67412c6e1bba450b9581452ab0e56e4c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ef5bd4a5.html title=å¾æºç¢¼è§’åº¦ä¾†å‰–æThreadLocalåˆ°åº•æœ‰æ²’æœ‰å…§å­˜æ´©æ¼ï¼Ÿ>å¾æºç¢¼è§’åº¦ä¾†å‰–æThreadLocalåˆ°åº•æœ‰æ²’æœ‰å…§å­˜æ´©æ¼ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2eecc1b9.html alt=é¢è©¦å†å•ThreadLocalï¼Œåˆ¥èªªä½ ä¸æœƒ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/3a95ff3cd79a456d9221f66851f8c2f9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2eecc1b9.html title=é¢è©¦å†å•ThreadLocalï¼Œåˆ¥èªªä½ ä¸æœƒ>é¢è©¦å†å•ThreadLocalï¼Œåˆ¥èªªä½ ä¸æœƒ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b2548f6a.html alt=ã€ä½ æ‰€ä¸çŸ¥é“çš„æ¤ç‰©ç¥•å¯†ã€‘æœˆå…‰èŠ± class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15217027685259cf27c6399 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b2548f6a.html title=ã€ä½ æ‰€ä¸çŸ¥é“çš„æ¤ç‰©ç¥•å¯†ã€‘æœˆå…‰èŠ±>ã€ä½ æ‰€ä¸çŸ¥é“çš„æ¤ç‰©ç¥•å¯†ã€‘æœˆå…‰èŠ±</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1e8c1d8d.html alt=ä½ å€‘çŸ¥é“é»ƒéŠ…çš„ç”±ä¾†å—ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/27ad7f82fe4b4f8185c896390543953a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1e8c1d8d.html title=ä½ å€‘çŸ¥é“é»ƒéŠ…çš„ç”±ä¾†å—ï¼Ÿ>ä½ å€‘çŸ¥é“é»ƒéŠ…çš„ç”±ä¾†å—ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3c5d4d6f.html alt=ç«è»Šç¡¬è‡¥å’Œè»Ÿè‡¥çš„å€åˆ¥ä½ çŸ¥é“å—ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/192300035beda45ce663 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3c5d4d6f.html title=ç«è»Šç¡¬è‡¥å’Œè»Ÿè‡¥çš„å€åˆ¥ä½ çŸ¥é“å—ï¼Ÿ>ç«è»Šç¡¬è‡¥å’Œè»Ÿè‡¥çš„å€åˆ¥ä½ çŸ¥é“å—ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5a2e07e3.html alt=é—œæ–¼çª—ç°¾ä½ çŸ¥é“å¤šå°‘ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/7160b4af5e494f4a9e26462d22d87c10 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5a2e07e3.html title=é—œæ–¼çª—ç°¾ä½ çŸ¥é“å¤šå°‘ï¼Ÿ>é—œæ–¼çª—ç°¾ä½ çŸ¥é“å¤šå°‘ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bee4de66.html alt=ä½ å¯èƒ½ä¸çŸ¥é“çš„é–‹é—œæ«ƒçŸ¥è­˜é» class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/617100039d1cef0db587 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bee4de66.html title=ä½ å¯èƒ½ä¸çŸ¥é“çš„é–‹é—œæ«ƒçŸ¥è­˜é»>ä½ å¯èƒ½ä¸çŸ¥é“çš„é–‹é—œæ«ƒçŸ¥è­˜é»</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fbeb88bb.html alt=é—œæ–¼å¤§æ•¸æ“šç®¡ç†ï¼Œä½ è©²çŸ¥é“çš„ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/a133b809fcef4baf82866346550732b5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fbeb88bb.html title=é—œæ–¼å¤§æ•¸æ“šç®¡ç†ï¼Œä½ è©²çŸ¥é“çš„>é—œæ–¼å¤§æ•¸æ“šç®¡ç†ï¼Œä½ è©²çŸ¥é“çš„</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f22d6213.html alt=ä½ çŸ¥é“å¦‚ä½•é¸è³¼ç¾Šçµ¨è£½å“å—ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/152605410842563d57d4353 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f22d6213.html title=ä½ çŸ¥é“å¦‚ä½•é¸è³¼ç¾Šçµ¨è£½å“å—ï¼Ÿ>ä½ çŸ¥é“å¦‚ä½•é¸è³¼ç¾Šçµ¨è£½å“å—ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/24c40250.html alt=ä½ ä¸çŸ¥é“çš„ç¶ è‚¥ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/4dc7884a12ba4f96b7ce093b63174338 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/24c40250.html title=ä½ ä¸çŸ¥é“çš„ç¶ è‚¥>ä½ ä¸çŸ¥é“çš„ç¶ è‚¥</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cadb794d.html alt=é›»è…¦çš„Windowséµæœ‰å¤šç‰›ï¼Œä½ çŸ¥é“å—ï¼Œä½ æœƒç”¨å—ï¼Ÿä½ ç”¨å°äº†å—ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/5e7a0004e724b9844cce style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cadb794d.html title=é›»è…¦çš„Windowséµæœ‰å¤šç‰›ï¼Œä½ çŸ¥é“å—ï¼Œä½ æœƒç”¨å—ï¼Ÿä½ ç”¨å°äº†å—ï¼Ÿ>é›»è…¦çš„Windowséµæœ‰å¤šç‰›ï¼Œä½ çŸ¥é“å—ï¼Œä½ æœƒç”¨å—ï¼Ÿä½ ç”¨å°äº†å—ï¼Ÿ</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>