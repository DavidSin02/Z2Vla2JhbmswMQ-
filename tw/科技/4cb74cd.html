<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/b9d102263d0f46a0b5b203d7b6cd4a2e"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4cb74cd.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4cb74cd.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4cb74cd.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4cb74cd.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4cb74cd.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4cb74cd.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4cb74cd.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4cb74cd.html><meta property="article:published_time" content="2020-10-29T20:59:18+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:18+08:00"><meta name=Keywords content><meta name=description content="Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/4cb74cd.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p class=ql-align-center><br></p><div class=pgc-img><img alt="Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b9d102263d0f46a0b5b203d7b6cd4a2e><p class=pgc-img-caption></p></div><p><strong>å¼•è¨€æœ‰é»é•·</strong></p><p>å‰ç«¯çš„å¯¶å¯¶æœƒç”¨ajax,ç”¨ç•°æ­¥ç·¨ç¨‹åˆ°å¿«æ¨‚çš„ä¸è¡Œ~ æˆ‘å€‘javaä¹Ÿæœ‰ç•°æ­¥,ç”¨èµ·ä¾†æ¯”ä»–å€‘é‚„å¿«æ¨‚~ æˆ‘å€‘bia<sub>ji</sub>ä¸€å€‹æ³¨(gÇ’upÃ­)è§£(gÄoyÃ o),ä¹Ÿæ˜¯å¿«æ¨‚é¢¨ç”·...</p><div class=pgc-img><img alt="Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/76774e1aae234e1fb0cd43b2cd9efe23><p class=pgc-img-caption></p></div><p>ä¸”çœ‹ä¸‹é¢çš„æ —å­:</p><p>è¨»å†Šä¸€å€‹ç”¨æˆ¶,çµ¦ä»–çš„è³¬æˆ¶åˆå§‹åŒ–ç©åˆ†(ä¹Ÿå¯ä»¥æƒ³è±¡æˆè¨»å†Šçå‹µ),å†çµ¦ç”¨æˆ¶ç™¼å€‹è¨»å†Šé€šçŸ¥çŸ­ä¿¡,å†ç™¼å€‹éƒµä»¶,(åªæ˜¯èˆ‰æ —å­,åˆ‡è«ç‰›è§’å¤§æ³•),é€™æ¨£ä¸€å€‹æµç¨‹,çŸ­ä¿¡å’Œéƒµä»¶æˆ‘è¦ºå¾—å®Œå…¨å¯ä»¥æ‹†åˆ†å‡ºä¾†,æ²’å¿…è¦æ‹–åœ¨åœ¨ä¸»æµç¨‹ä¸Šä¾†(å†è£œå……ä¸Š<strong>äº‹å‹™</strong>[ACID:åŸå­æ€§,ä¸€è‡´æ€§,éš”é›¢æ€§,æŒä¹…æ€§]å°±å¥½äº†):</p><div class=pgc-img><img alt="Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/64c95c7e357b4756aedc1df7d658f878><p class=pgc-img-caption></p></div><p>ä»Šå¤©å°±é€™é»æ¥­å‹™,æˆ‘åœ¨æš—æƒ³,é€™ä¸æ˜¯ä¸€å€‹è¨»è§£å°±ææ‚çš„å˜›~~~ <sub>å“ˆå“ˆå“ˆ</sub></p><div class=pgc-img><img alt="Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/39c186d466d1403b9163b08677a2675f><p class=pgc-img-caption></p></div><p>çµæœä¸æ˜¯æƒ³è±¡ä¸­çš„é‚£éº¼å®Œç¾~~ ä¾†çœ‹æˆ‘çš„<strong>ç•°(dind)æ­¥(ding)æ­·éšªè¨˜</strong></p><div class=pgc-img><img alt="Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9fea1352e1e44ad89441576d6bb309ca><p class=pgc-img-caption></p></div><p>æˆ‘çš„é¦–ç™¼åŸå‰µåšå®¢åœ°å€:<strong>ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å— â˜ ç•°æ­¥æ­·éšªå¥‡é‡è¨˜</strong><sup><strong>[1] https://juejin.im/post/5d47a80a6fb9a06ad3470f9a </strong></sup>è£¡é¢æœ‰gitHubé …ç›®åœ°å€,é—œæ³¨æˆ‘,è£¡é¢å¯¦æˆ°å¤šå¤šå“¦~</p><hr><p><strong>å¥‡é‡ä¸€ å¾ªç’°ä¾è³´ç•°å¸¸</strong></p><p>çœ‹code:</p><pre>@Servicepublic class UserServiceImpl implements UserService { @Autowired UserService userService;  @Override @Transactional(rollbackFor = Exception.class, propagation = Propagation.REQUIRES_NEW) public int save(UserDTO userDTO) { User user = new User(); BeanCopyUtils.copy(userDTO, user); int insert = userMapper.insert(user); System.out.println("User ä¿å­˜ç”¨æˆ¶æˆåŠŸ:" + user); userService.senMsg(user); userService.senEmail(user); return insert; } @Async @Override public Boolean senMsg(User user) { try { TimeUnit.SECONDS.sleep(2); System.out.println("ç™¼é€çŸ­ä¿¡ä¸­:....."); } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(Thread.currentThread().getName() + "çµ¦ç”¨æˆ¶id:" + user.getId() + ",æ‰‹æ©Ÿè™Ÿ:" + user.getMobile() + "ç™¼é€çŸ­ä¿¡æˆåŠŸ"); return true; } @Async @Override public Boolean senEmail(User user) { try { TimeUnit.SECONDS.sleep(3); System.out.println("ç™¼é€éƒµä»¶ä¸­:....."); } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(Thread.currentThread().getName() + "çµ¦ç”¨æˆ¶id:" + user.getId() + ",éƒµç®±:" + user.getEmail() + "ç™¼é€éƒµä»¶æˆåŠŸ"); return true; }</pre><p>çµæœ:å•Ÿå‹•ä¸èµ·ä¾†,Springå¾ªç’°ä¾è³´å•é¡Œã€‚ Springä¸æ˜¯è§£æ±ºäº†å¾ªç’°ä¾è³´å•é¡Œå—ï¼Œå®ƒæ˜¯æ”¯æŒå¾ªç’°ä¾è³´çš„å‘€ï¼Ÿæ€éº¼æœƒå‘¢ï¼Ÿ</p><p>ä¸å¯å¦èªï¼Œåœ¨é€™ä¹‹å‰æˆ‘ä¹Ÿæ˜¯é€™éº¼å …ä¿¡çš„ï¼Œå€˜è‹¥ä½ ç›®å‰ä¹Ÿå’Œæˆ‘æœ‰ä¸€æ¨£å …æŒºçš„æƒ³æ³•,é‚£å°±è®“ç•°å¸¸UnsatisfiedDependencyException,has been injected into other beans [userServiceImpl] in its raw version as part of a circular reference,,ä¾†é¼“å‹µä½ ,æ“æŠ±ä½ , å°±æ˜¯é€™éº¼çš„ä¸çµ¦é¢å­,èµ¤è£¸è£¸çš„circular referenceã€‚</p><p>è«‡åˆ°Spring Beançš„å¾ªç’°ä¾è³´ï¼Œæœ‰çš„å°å¤¥ä¼´å¯èƒ½æ¯”è¼ƒé™Œç”Ÿï¼Œç•¢ç«Ÿé–‹ç™¼éç¨‹ä¸­å¥½åƒå°å¾ªç’°ä¾è³´é€™å€‹æ¦‚å¿µç„¡æ„ŸçŸ¥ã€‚å…¶å¯¦ä¸ç„¶ï¼Œä½ æœ‰é€™ç¨®éŒ¯è¦ºï¼Œé‚£æ˜¯å› ç‚ºä½ å·¥ä½œåœ¨Springçš„<strong>è¥è¤“</strong>ä¸­ï¼Œå¾è€Œè®“ä½ â€œ<strong>é«˜æ•ç„¡æ†‚</strong>â€~ å…¶å¯¦æˆ‘å€‘çš„ä»£ç¢¼ä¸­è‚¯å®šè¢«æˆ‘å€‘å¯«äº†å¾ªç’°ä¾è³´,æ¯”å¦‚åƒé€™æ¨£:</p><pre>@Servicepublic class AServiceImpl implements AService { @Autowired private BService bService; ...}@Servicepublic class BServiceImpl implements BService { @Autowired private AService aService; ...}</pre><p><strong>é€šéå¯¦é©—ç¸½çµå‡º</strong>ï¼Œå‡ºç¾ä½¿ç”¨@Asyncå°è‡´å¾ªç’°ä¾è³´å•é¡Œçš„å¿…è¦æ¢ä»¶ï¼š</p><ul><li>å·²é–‹å•Ÿ@EnableAsyncçš„æ”¯æŒ</li><li>@Asyncè¨»è§£æ‰€åœ¨çš„Beanè¢«å¾ªç’°ä¾è³´äº†</li></ul><p><strong>å¥‡é‡äºŒ ç•°æ­¥å¤±æ•ˆç•°å¸¸</strong></p><p>é‚£éº¼æ—¢ç„¶ä¸èƒ½å¾ªç’°ä¾è³´,æˆ‘å€‘å°±ä¸å¾ªç’°ä¾è³´,æˆ‘å€‘é€™éº¼ä¾†:</p><pre>@Servicepublic class UserServiceImpl implements UserService { @Autowired UserMapper userMapper; @Autowired SendService sendService;  @Override @Transactional() public int save(UserDTO userDTO) { User user = new User(); BeanCopyUtils.copy(userDTO, user); int insert = userMapper.insert(user); System.out.println("User ä¿å­˜ç”¨æˆ¶æˆåŠŸ:" + user); this.senMsg(user); this.senEmail(user); return insert; } @Async @Override public Boolean senMsg(User user) { System.out.println(Thread.currentThread().getName() + "çµ¦ç”¨æˆ¶id:" + user.getId() + ",æ‰‹æ©Ÿè™Ÿ:" + user.getMobile() + "ç™¼é€çŸ­ä¿¡æˆåŠŸ"); return true; } @Async @Override public Boolean senEmail(User user) { System.out.println(Thread.currentThread().getName() + "çµ¦ç”¨æˆ¶id:" + user.getId() + ",éƒµç®±:" + user.getEmail() + "ç™¼é€éƒµä»¶æˆåŠŸ"); return true; }</pre><p>çµæœæˆ‘å€‘æ¸¬è©¦äº†å¹¾æŠŠ,æˆ‘æ‰“å°ä¸€ä¸‹çµæœ:</p><pre>2019-08-05 21:59:32.304 INFO 14360 --- [nio-8080-exec-3] com.alibaba.druid.pool.DruidDataSource : {dataSource-1} inited2019-08-05 21:59:32.346 DEBUG 14360 --- [nio-8080-exec-3] c.b.lea.mybot.mapper.UserMapper.insert : ==&gt; Preparing: insert into t_user (username, sex, mobile,email) values (?, ?, ?,?) 2019-08-05 21:59:32.454 DEBUG 14360 --- [nio-8080-exec-3] c.b.lea.mybot.mapper.UserMapper.insert : ==&gt; Parameters: ç‹éº»å­(String), ç”·(String), 18820158833(String), 22qq@qq.com(String)2019-08-05 21:59:32.463 DEBUG 14360 --- [nio-8080-exec-3] c.b.lea.mybot.mapper.UserMapper.insert : &lt;== Updates: 1User ä¿å­˜ç”¨æˆ¶æˆåŠŸ:User(id=101, username=ç‹éº»å­, mobile=18820158833, email=22qq@qq.com, sex=ç”·, password=123435, createTime=Mon Aug 05 12:20:51 CST 2019, updateTime=null)ç™¼é€çŸ­ä¿¡ä¸­:.....http-nio-8080-exec-3çµ¦ç”¨æˆ¶id:101,æ‰‹æ©Ÿè™Ÿ:18820158833ç™¼é€çŸ­ä¿¡æˆåŠŸç™¼é€éƒµä»¶ä¸­:.....http-nio-8080-exec-3çµ¦ç”¨æˆ¶id:101,éƒµç®±:22qq@qq.comç™¼é€éƒµä»¶æˆåŠŸ</pre><p>é€™ä¸ç™½çäº†å—?æ„ŸçŸ¥ä¸åˆ°æˆ‘çš„æ„›,ç™½å¯«äº†,é›£å—~~ç·šç¨‹ä¾ç„¶æ˜¯http-nio-8080-exec-3,é‚£éº¼ç‚ºä»€éº¼äº†å‘¢? ä¸‹é¢æœƒè¬›çš„å“¦,å…ˆèªªçµè«–:</p><p><strong>é€šéå¯¦é©—ç¸½çµå‡º</strong>ï¼Œå‡ºç¾ä½¿ç”¨@Asyncå°è‡´ç•°æ­¥å¤±æ•ˆçš„åŸå› ï¼š</p><ul><li>åœ¨æœ¬é¡ä¸­ä½¿ç”¨äº†ç•°æ­¥æ˜¯ä¸æ”¯æŒç•°æ­¥çš„</li><li>èª¿ç”¨è€…å…¶å¯¦æ˜¯this,æ˜¯ç•¶å‰å°è±¡,ä¸æ˜¯çœŸæ­£çš„ä»£ç†å°è±¡userService,springç„¡æ³•æˆªç²é€™å€‹æ–¹æ³•èª¿ç”¨ æ‰€ä»¥ä¸åœ¨ä¸åœ¨æœ¬é¡ä¸­å»èª¿ç”¨,ç¶²ä¸Šçš„è§£æ±ºæ–¹æ³•æœ‰applicationContext.getBean(UserService.class)å’ŒAopContext.currentProxy()</li></ul><p><strong>å¥‡é‡ä¸‰ äº‹å‹™å¤±æ•ˆç•°å¸¸</strong></p><p>é‚£éº¼,æ—¢ç„¶ä¸èƒ½ç”¨ç•¶å‰å°è±¡,é‚£æˆ‘å€‘ç”¨ä»£ç†,AopContext.currentProxy(),ç„¶éµ,ä½ ç™¼ç¾,å ±éŒ¯äº†,å°Cannot find current proxy: Set 'exposeProxy' property on Advised to 'true' to make it available.å°±ä»–:</p><div class=pgc-img><img alt="Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/412d5981a2be4f9182be7f899e5d94d2><p class=pgc-img-caption></p></div><p>ä½†æ˜¯ä½ å»ç¶²ä¸Šç™¾åº¦å°±æœƒç™¼ç¾,éƒ½é€™éº¼æ</p><pre>@EnableAspectJAutoProxy(exposeProxy = true)</pre><p>æˆ‘ä¹Ÿé€™éº¼æ,ä½†æ˜¯åˆå ±éŒ¯äº†,ç´°ç´°çš„çœ‹å ±éŒ¯å…§å®¹,æ‰ç™¼ç¾å°‘äº†å€‹jaråŒ…é€™æ±è¥¿è¦é…åˆåˆ‡é¢ç¹”å…¥,è¦é…åˆ,æ‡‚å—?,ä¾†ä¸ŠåŒ…</p><pre> &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.9.2&lt;/version&gt; &lt;/dependency&gt;</pre><p>å†ä¾†çœ‹ç‚ºæ’’: é€™æ˜¯ä¸€å€‹æ€§æ„Ÿçš„è©±é¡Œ,exposeProxy = trueå®ƒçš„ä½œç”¨å°±æ˜¯<strong>å•Ÿç”¨åˆ‡é¢çš„è‡ªå‹•ä»£ç†</strong>,èªªäººè©±å°±æ˜¯<strong>æš´éœ²ç•¶å‰ä»£ç†å°è±¡åˆ°ç•¶å‰ç·šç¨‹ç¶å®š</strong>, çœ‹å€‹å ±éŒ¯Cannot find current proxy: Set 'exposeProxy' property on Advised to 'true' to make it available.å°±æ˜¯AopContextæå¾—é¬¼.</p><p>public final class AopContext {</p><p>private static final ThreadLocal&lt;Object> currentProxy = new NamedThreadLocal&lt;>("Current AOP proxy");</p><p>private AopContext() {</p><p>}</p><p>// è©²æ–¹æ³•æ˜¯public staticæ–¹æ³•ï¼Œèªªæ˜å¯ä»¥è¢«ä»»æ„é¡é€²è¡Œèª¿ç”¨</p><p>public static Object currentProxy() throws IllegalStateException {</p><p>Object proxy = currentProxy.get();</p><p>// å®ƒæ‹‹å‡ºç•°å¸¸çš„åŸå› æ˜¯ç•¶å‰ç·šç¨‹ä¸¦æ²’æœ‰ç¶å®šå°è±¡</p><p>// è€Œçµ¦ç·šç¨‹ç¶å®šå°è±¡çš„æ–¹æ³•åœ¨ä¸‹é¢ï¼šç‰¹åˆ¥æœ‰æ„æ€çš„æ˜¯å®ƒçš„è¨ªå•æ¬Šé™æ˜¯defaultç´šåˆ¥ï¼Œä¹Ÿå°±æ˜¯èªªåªèƒ½Springå…§éƒ¨å»èª¿ç”¨</p><p>if (proxy == null) {</p><p>throw new IllegalStateException("Cannot find current proxy: Set 'exposeProxy' property on Advised to 'true' to make it available.");</p><p>}</p><p>return proxy;</p><p>}</p><p>// å®ƒæœ€æœ‰æ„æ€çš„åœ°æ–¹æ˜¯å®ƒçš„è¨ªå•æ¬Šé™æ˜¯defaultçš„ï¼Œè¡¨ç¤ºåªèƒ½çµ¦Springå…§éƒ¨å»èª¿ç”¨</p><p>// èª¿ç”¨å®ƒçš„é¡æœ‰CglibAopProxyå’ŒJdkDynamicAopProxy</p><p>@Nullable</p><p>static Object setCurrentProxy(@Nullable Object proxy) {</p><p>Object old = currentProxy.get();</p><p>if (proxy != null) {</p><p>currentProxy.set(proxy);</p><p>} else {</p><p>currentProxy.remove();</p><p>}</p><p>return old;</p><p>}</p><p>}</p><p>æ‰€ä»¥æˆ‘å€‘è¦åšå•Ÿç”¨ä»£ç†è¨­ç½®,è®“ä»£ç†ç”Ÿæ•ˆ,ä¾†èµ°èµ·,ä¸»ç·šç¨‹çš„æ–¹æ³•ä½¿ç”¨ä¾†èª¿ç”¨ç•°æ­¥æ–¹æ³•,ä¾†æ¸¬è©¦èµ°èµ·: no code said niao:</p><pre>@Servicepublic class UserServiceImpl implements UserService { @Autowired UserMapper userMapper; @Override@Transactional(propagation = Propagation.REQUIRED) public int save(UserDTO userDTO) { User user = new User(); BeanCopyUtils.copy(userDTO, user); int insert = userMapper.insert(user); System.out.println("User ä¿å­˜ç”¨æˆ¶æˆåŠŸ:" + user); UserService currentProxy = UserService.class.cast(AopContext.currentProxy()); currentProxy.senMsg(user); currentProxy.senEmail(user); int i = 1 / 0; return insert; } @Async @Override @Transactional(propagation = Propagation.REQUIRES_NEW) public void senMsg(User user) { user.setUsername(Thread.currentThread().getName()+"ç™¼çŸ­ä¿¡æ¸¬è©¦äº‹å‹™...."+ new Random().nextInt()); userMapper.insert(user); System.out.println(Thread.currentThread().getName() + "çµ¦ç”¨æˆ¶id:" + user.getId() + ",æ‰‹æ©Ÿè™Ÿ:" + user.getMobile() + "ç™¼é€çŸ­ä¿¡æˆåŠŸ"); } @Async @Override @Transactional(propagation = Propagation.REQUIRES_NEW) public void senEmail(User user) { user.setUsername("ç™¼éƒµä»¶æ¸¬è©¦äº‹å‹™...."+ new Random().nextInt()); userMapper.insert(user); int i = 1 / 0; System.out.println(Thread.currentThread().getName() + "çµ¦ç”¨æˆ¶id:" + user.getId() + ",éƒµç®±:" + user.getEmail() + "ç™¼é€éƒµä»¶æˆåŠŸ"); }} </pre><p>æ¸¬è©¦çµæœ:</p><div class=pgc-img><img alt="Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3f866b864cb644be946b2cde2f587dd3><p class=pgc-img-caption></p></div><p>å¦‚æˆ‘å€‘æ‰€é¡˜,äº‹å‹™å’Œç•°æ­¥éƒ½ç”Ÿæ•ˆäº†</p><pre>1. ç•°æ­¥ç·šç¨‹SimpleAsyncTaskExecutor-1å’ŒSimpleAsyncTaskExecutor-2åˆ†åˆ¥ç™¼çŸ­ä¿¡å’Œéƒµä»¶,ä¸»ç·šç¨‹ä¿å­˜ç”¨æˆ¶2. å¯¦éš›çµæœ,ä¸»ç·šç¨‹ä¿å­˜çš„é‚£å€‹ç”¨æˆ¶å¤±æ•—,åå­—å«'ç™¼é€çŸ­ä¿¡'çš„ä¹Ÿä¿å­˜å¤±æ•—,åªæœ‰å«'ç™¼éƒµä»¶'çš„ç”¨æˆ¶æ’å…¥æˆåŠŸ3. é‚£éº¼å°±åšåˆ°äº†äº‹å‹™çš„ç·šç¨‹éš”é›¢,äº‹å‹™çš„äº’ä¸å½±éŸ¿,å®Œç¾4. è¦ª,ä½ é€™éº¼å¯«äº†å—?é€™éº¼å¯«ä¸å„ªç¾,é›–ç„¶æœ‰ç”¨,ä½†æ˜¯å¯«çš„å¦é—¢è¹Šå¾‘å•Š</pre><p><strong>å¥‡é‡å›› ç•°æ­¥åµŒå¥—ç•°å¸¸</strong></p><p>ä¾†,æˆ‘å€‘çœ‹å€‹æ›´é¨·æ°£çš„,ç•°æ­¥ä¸­åµŒå¥—ç•°æ­¥,ä¾†ä¸Šcode:</p><pre>@Servicepublic class UserServiceImpl implements UserService { @Autowired UserMapper userMapper; @Override@Transactional(propagation = Propagation.REQUIRED) public int save(UserDTO userDTO) { User user = new User(); BeanCopyUtils.copy(userDTO, user); int insert = userMapper.insert(user); System.out.println("User ä¿å­˜ç”¨æˆ¶æˆåŠŸ:" + user); UserService currentProxy = UserService.class.cast(AopContext.currentProxy()); currentProxy.send(user); return insert; } @Async @Override @Transactional(propagation = Propagation.REQUIRES_NEW) public void send(User user) { //ç™¼çŸ­ä¿¡ user.setUsername(Thread.currentThread().getName()+"ç™¼çŸ­ä¿¡æ¸¬è©¦äº‹å‹™...."+ new Random().nextInt()); userMapper.insert(user); System.out.println(Thread.currentThread().getName() + "çµ¦ç”¨æˆ¶id:" + user.getId() + ",æ‰‹æ©Ÿè™Ÿ:" + user.getMobile() + "ç™¼é€çŸ­ä¿¡æˆåŠŸ"); //ç™¼éƒµä»¶ UserService currentProxy = UserService.class.cast(AopContext.currentProxy()); currentProxy.senEmail(user); }  @Async @Override @Transactional(propagation = Propagation.REQUIRES_NEW) public void senEmail(User user) { user.setUsername("ç™¼éƒµä»¶æ¸¬è©¦äº‹å‹™...."+ new Random().nextInt()); userMapper.insert(user); System.out.println(Thread.currentThread().getName() + "çµ¦ç”¨æˆ¶id:" + user.getId() + ",éƒµç®±:" + user.getEmail() + "ç™¼é€éƒµä»¶æˆåŠŸ"); }}</pre><p>çœ‹æˆ‘å€‘çŒœä¸‹çµæœ? æ•¸æ“šåº«æœƒæ–°å¢å¹¾å€‹æ•¸æ“š?3å€‹?2å€‹?1å€‹?0å€‹?ç´å°¼å ±éŒ¯?</p><p>å“ˆå“ˆ``` ä¸Šçµæœ:</p><div class=pgc-img><img alt="Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c410d8e4542447e299cb8c9aac2578e6><p class=pgc-img-caption></p></div><p><strong>ç­”æ¡ˆ</strong>:åªæœ‰ä¸€æ¢æ•¸æ“šä¸»ç·šç¨‹ä¿å­˜æˆåŠŸ,çŸ­ä¿¡å’Œéƒµä»¶çš„æ’å…¥éƒ½å¤±æ•—äº†,æœ€ä¸»è¦çš„æ˜¯é‚„å ±éŒ¯äº†,åˆæ˜¯é‚£å€‹~~~Set 'exposeProxy' property on Advised to 'true'ç£¨äººçš„å°å¦–ç²¾</p><p><strong>é€šéå¯¦é©—ç¸½çµå‡º</strong>ï¼Œå‡ºç¾å°è‡´ç•°æ­¥åµŒå¥—ä½¿ç”¨å¤±æ•—çš„åŸå› ï¼š</p><ul><li>åœ¨æœ¬é¡ä¸­ä½¿ç”¨äº†ç•°æ­¥åµŒå¥—ç•°æ­¥æ˜¯ä¸æ”¯æŒçš„</li><li>èª¿ç”¨è€…å…¶å¯¦è¢«ä»£ç†éä¸€æ¬¡äº†,å†åµŒå¥—æœƒå‡ºç¾'äºŒæ¬¡ä»£ç†',å…¶å¯¦æ˜¯é”ä¸åˆ°ä»£ç†äº†æ•ˆæœ,å› ç‚ºå·²ç¶“ç•°æ­¥äº†.å³æ™‚ä½ åœ¨åµŒå¥—ä¸­ä¸ä½¿ç”¨ä»£ç†å»ç²å–,å³ä½¿ä¸ä¿å­˜,ä½†æ˜¯äº‹å‹™å’Œç•°æ­¥æ•ˆæœéƒ½æœƒè·Ÿéš¨ç•¶å‰çš„ä»£ç†,å³åµŒå¥—çš„æ•ˆæœæ˜¯é”ä¸åˆ°å†æ¬¡ç•°æ­¥çš„.</li><li>è§£æ±ºè¾¦æ³•æ‡‰è©²æœ‰,ä½†æ˜¯æˆ‘è¦ºå¾—æˆ‘é‚„æ²’æ‰¾åˆ°.é€™å€‹å¯«æ³•æ˜¯æˆ‘å€‘æ‡‰è©²è¦é¿çš„,æˆ‘å€‘æ‡‰è©²éµå¾ªè¦ç¯„,å•Ÿç”¨æ–°çš„æœå‹™é¡å»å®Œæˆæˆ‘å€‘çš„ç•°æ­¥å·¥ä½œ</li></ul><p>ä¸‹é¢æˆ‘å€‘èˆ‰å€‹æ —å­:æ­£ç¢ºçš„å¯«æ³•,å„ªé›…çš„å¯«æ³•</p><pre>@Servicepublic class UserServiceImpl implements UserService { @Autowired UserMapper userMapper; @Autowired SendService sendService; @Override@Transactional(propagation = Propagation.REQUIRED) public int save(UserDTO userDTO) { User user = new User(); BeanCopyUtils.copy(userDTO, user); int insert = userMapper.insert(user); System.out.println("User ä¿å­˜ç”¨æˆ¶æˆåŠŸ:" + user); sendService.senMsg(user); sendService.senEmail(user); return insert; }}---------------ç„¡è²¬ä»»åˆ†å‰²ç·š--------------------@Servicepublic class SendServiceImpl implements SendService { @Override @Async @Transactional(propagation = Propagation.REQUIRES_NEW) public Boolean senMsg(User user) { try { TimeUnit.SECONDS.sleep(2); System.out.println("ç™¼é€çŸ­ä¿¡ä¸­:....."); } catch (InterruptedException e) { e.printStackTrace(); } int i = 1 / 0; System.out.println(Thread.currentThread().getName() + "çµ¦ç”¨æˆ¶id:" + user.getId() + ",æ‰‹æ©Ÿè™Ÿ:" + user.getMobile() + "ç™¼é€çŸ­ä¿¡æˆåŠŸ"); return true; } @Async @Override @Transactional(propagation = Propagation.REQUIRES_NEW) public Boolean senEmail(User user) { try { TimeUnit.SECONDS.sleep(3); System.out.println("ç™¼é€éƒµä»¶ä¸­:....."); } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(Thread.currentThread().getName() + "çµ¦ç”¨æˆ¶id:" + user.getId() + ",éƒµç®±:" + user.getEmail() + "ç™¼é€éƒµä»¶æˆåŠŸ"); return true; }}</pre><p>çµæœè‚¯å®šå®Œç¾:</p><div class=pgc-img><img alt="Springç•°æ­¥ç·¨ç¨‹ | ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å—ï¼Ÿç•°æ­¥æ­·éšªå¥‡é‡è¨˜" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8aaae381bb5f4a8cb5a6d47557519a76><p class=pgc-img-caption></p></div><p>å› æ­¤ç•¶ä½ çœ‹åˆ°ä½ åŒäº‹å°±åœ¨æœ¬é¡å¯«å€‹æ–¹æ³•æ¨™è¨»ä¸Š@Asyncç„¶å¾Œèª¿ç”¨ï¼Œè«‹åˆ¶æ­¢ä»–å§ï¼Œåšçš„ç„¡ç”¨åŠŸ~~~ï¼ˆé—œéµè‡ªå·±é‚„ä»¥ç‚ºæœ‰ç”¨ï¼Œé€™æ˜¯æœ€å¯æ€•çš„æ·±å‘~ï¼‰</p><p>é‚£æˆ‘è£œå……é»:@EnableAspectJAutoProxy(exposeProxy = true)çš„ä½œç”¨: æ­¤è¨»è§£å®ƒå°å…¥äº†AspectJAutoProxyRegistrarï¼Œæœ€çµ‚è¨­ç½®æ­¤è¨»è§£çš„å…©å€‹å±¬æ€§çš„æ–¹æ³•ç‚ºï¼š</p><pre>public abstract class AopConfigUtils { ...æ­£åœ¨åŠ (sheng)è¼‰(lue)ä»£ç¢¼ä¸­ è«‹ç¨å¾Œ....	public static void forceAutoProxyCreatorToUseClassProxying(BeanDefinitionRegistry registry) {		if (registry.containsBeanDefinition(AUTO_PROXY_CREATOR_BEAN_NAME)) {			BeanDefinition definition = registry.getBeanDefinition(AUTO_PROXY_CREATOR_BEAN_NAME);			definition.getPropertyValues().add("proxyTargetClass", Boolean.TRUE);		}	}	public static void forceAutoProxyCreatorToExposeProxy(BeanDefinitionRegistry registry) {		if (registry.containsBeanDefinition(AUTO_PROXY_CREATOR_BEAN_NAME)) {			BeanDefinition definition = registry.getBeanDefinition(AUTO_PROXY_CREATOR_BEAN_NAME);			definition.getPropertyValues().add("exposeProxy", Boolean.TRUE);		}	}}</pre><p>çœ‹åˆ°æ­¤è¨»è§£æ¨™è¨»çš„å±¬æ€§å€¼æœ€çµ‚éƒ½è¢«è¨­ç½®åˆ°äº†internalAutoProxyCreatorèº«ä¸Šï¼Œä¹Ÿå°±æ˜¯å®ƒï¼š<strong>è‡ªå‹•ä»£ç†å‰µå»ºå™¨</strong>ã€‚ é¦–å…ˆæˆ‘å€‘éœ€è¦æ˜æ™°çš„æ˜¯ï¼š@Asyncçš„ä»£ç†å°è±¡ä¸¦ä¸æ˜¯ç”±è‡ªå‹•ä»£ç†å‰µå»ºå™¨ä¾†å‰µå»ºçš„ï¼Œè€Œæ˜¯ç”±AsyncAnnotationBeanPostProcessorä¸€å€‹å–®ç´”çš„BeanPostProcessorå¯¦ç¾çš„,å¾ˆé¡¯ç„¶ç•¶åŸ·è¡ŒAopContext.currentProxy()é€™å¥ä»£ç¢¼çš„æ™‚å€™å ±éŒ¯äº†ã€‚@EnableAsyncçµ¦å®¹å™¨æ³¨å…¥çš„æ˜¯AsyncAnnotationBeanPostProcessorï¼Œå®ƒç”¨æ–¼çµ¦@Asyncç”Ÿæˆä»£ç†ï¼Œä½†æ˜¯å®ƒåƒ…åƒ…æ˜¯å€‹BeanPostProcessorä¸¦ä¸å±¬æ–¼è‡ªå‹•ä»£ç†å‰µå»ºå™¨ï¼Œå› æ­¤exposeProxy = trueå°å®ƒç„¡æ•ˆã€‚ æ‰€ä»¥AopContext.setCurrentProxy(proxy);é€™å€‹setæ–¹æ³•è‚¯å®šå°±ä¸æœƒåŸ·è¡Œï¼Œæ‰€ä»¥,å› æ­¤,ä½†å‡¡åªè¦æ¥­å‹™æ–¹æ³•ä¸­èª¿ç”¨AopContext.currentProxy()æ–¹æ³•å°±éµå®šæ‹‹ç•°å¸¸~~</p><p><strong>å¥‡é‡äº” åŸºæœ¬é¡å‹ç•°å¸¸</strong></p><p>çœ‹å˜›,ç™¼çŸ­ä¿¡å…¶å¯¦æ˜¯ä¸€äº›ç¶²é—œèª¿ç”¨,æˆ‘æƒ³å¯«å€‹çœ‹çŸ­ä¿¡,éƒµä»¶ç™¼é€æˆåŠŸçš„æ¨™èªŒ,æ˜¯å¦èª¿ç”¨æˆåŠŸçš„ç‹€æ…‹,ä¾†èµ°èµ·</p><pre>....çœç•¥...UserService---------------ç„¡è²¬ä»»åˆ†å‰²ç·š--------------------@Servicepublic class SendServiceImpl implements SendService { @Override @Async @Transactional(propagation = Propagation.REQUIRES_NEW) public boolean senMsg(User user) { try { TimeUnit.SECONDS.sleep(2); System.out.println("ç™¼é€çŸ­ä¿¡ä¸­:....."); } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(Thread.currentThread().getName() + "çµ¦ç”¨æˆ¶id:" + user.getId() + ",æ‰‹æ©Ÿè™Ÿ:" + user.getMobile() + "ç™¼é€çŸ­ä¿¡æˆåŠŸ"); return true; } @Async @Override @Transactional(propagation = Propagation.REQUIRES_NEW) public boolean senEmail(User user) { try { TimeUnit.SECONDS.sleep(3); System.out.println("ç™¼é€éƒµä»¶ä¸­:....."); } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(Thread.currentThread().getName() + "çµ¦ç”¨æˆ¶id:" + user.getId() + ",éƒµç®±:" + user.getEmail() + "ç™¼é€éƒµä»¶æˆåŠŸ"); return true; }}</pre><p>çªå¤§çœ¼ç›çœ‹,æˆ‘çš„è¿”å›çµæœæ˜¯boolean,å±¬æ–¼åŸºæœ¬é¡å‹,é›–ç„¶æ²’æœ‰ç”¨,ä½†æ˜¯å ±éŒ¯äº†:</p><pre>org.springframework.aop.AopInvocationException: Null return value from advice does not match primitive return type for: public boolean com.boot.lea.mybot.service.impl.SendServiceImpl.senMsg(com.boot.lea.mybot.entity.User)</pre><p>å°è‡´æˆ‘çš„æ•¸æ“šåº«ä¸€æ¢æ•¸æ“šéƒ½æ²’æœ‰,å½±éŸ¿åˆ°ä¸»ç·šç¨‹äº†,å¯è¦‹å•é¡Œç™¼ç”Ÿåœ¨ä¸»ç·šç¨‹<strong>è§¸ç™¼</strong>ç•°æ­¥ç·šç¨‹çš„æ™‚å€™,é‚£æˆ‘å€‘æ‰¾åŸå› : æ˜¯èµ°ä»£ç†è§¸ç™¼çš„:æˆ‘å…ˆæ‰¾é€™å€‹é¡CglibAopProxyå†é †è—¤æ‘¸ç“œ</p><pre>/**	 * Process a return value. Wraps a return of {@code this} if necessary to be the	 * {@code proxy} and also verifies that {@code null} is not returned as a primitive.	 */	private static Object processReturnType(Object proxy, Object target, Method method, Object retVal) {		// Massage return value if necessary		if (retVal != null &amp;&amp; retVal == target &amp;&amp;				!RawTargetAccess.class.isAssignableFrom(method.getDeclaringClass())) {			// Special case: it returned "this". Note that we can't help			// if the target sets a reference to itself in another returned object.			retVal = proxy;		}		Class&lt;?&gt; returnType = method.getReturnType();		if (retVal == null &amp;&amp; returnType != Void.TYPE &amp;&amp; returnType.isPrimitive()) {			throw new AopInvocationException(					"Null return value from advice does not match primitive return type for: " + method);		}		return retVal;	}</pre><p>åœ¨é€™retVal == null && returnType != Void.TYPE && returnType.isPrimitive(),å› ç‚ºæˆ‘å€‘çš„é€™ç¨®ç•°æ­¥å…¶å¯¦æ˜¯ä¸æ”¯æŒå‹å¥½çš„è¿”å›çµæœçš„,æˆ‘å€‘çš„çµæœæ‡‰è©²æ˜¯void,å› ç‚ºé€™å€‹ç•°æ­¥ç·šç¨‹è¢«ä¸»ç·šç¨‹è§¸ç™¼å¾Œå…¶å¯¦è¢«ç•¶åšä¸€å€‹ä»»å‹™æäº¤åˆ°Springçš„ç•°æ­¥çš„ä¸€å€‹ç·šç¨‹æ± ä¸­é€²è¡Œç•°æ­¥çš„è™•ç†ä»»å‹™äº†,ç·šç¨‹ä¹‹é–“çš„é€šä¿¡æ˜¯ä¸èƒ½ä¹‹é–“è¿”å›çš„,å…¶å¯¦ç”¨é€™ç¨®å¯«æ³•æˆ‘å€‘å°±æ‡‰è©²ç”¨voidå»ç•°æ­¥åŸ·è¡Œ,ä¸è¦æœ‰è¿”å›å€¼,è€Œä¸”æˆ‘å€‘çš„è¿”å›å€¼æ˜¯isPrimitive(),æ˜¯åŸºæœ¬é¡å‹,å‰›å¥½é”æ¨™....</p><p><strong>é‚£éº¼æˆ‘å¤§è²å–Šå‡º,ä½¿ç”¨ç•°æ­¥çš„æ™‚å€™å„˜é‡ä¸è¦æœ‰è¿”å›å€¼,å¯¦åœ¨è¦æœ‰ä½ ä¹Ÿä¸èƒ½ç”¨åŸºæœ¬é¡å‹.</strong></p><p><strong>å¥‡é‡å…­ è¿”å›ç•°æ­¥çµæœ</strong></p><p>æœ‰äº›äººå°±æ˜¯é›£å—,å°±æ˜¯æƒ³è¦è¿”å›çµæœ,é‚£éº¼ä¹Ÿæ˜¯å¯ä»¥æ»´:ä½†æ˜¯è¦è—‰åŠ©Furtrueå°å§å§çš„get()ä¾†é€²è¡Œç·šç¨‹ä¹‹é–“çš„é˜»å¡é€šä¿¡,ç•¢ç«Ÿå°å§å§â„(â„ â„â€¢â„Ï‰â„â€¢â„ â„)â„å®³ç¾.</p><p>é†¬ç´«å¯«,ä½ å°±å¯ä»¥é˜»å¡ç­‰åˆ°åŸ·è¡Œä»»å‹™æœ‰çµæœçš„æ™‚å€™å»ç²å–çœŸæ­£çš„çµæœäº†,é€™å€‹å¯«æ³•å’Œæˆ‘ä¹‹å‰çš„æ–‡ç« <strong>JAVAä½µç™¼ç•°æ­¥ç·¨ç¨‹ åŸä¾†åå€‹æ¥å£çš„æ´»ç¾åœ¨åªéœ€è¦ä¸€å€‹æ¥å£å°±æå®š!</strong><sup><strong>[2]</strong></sup>æ˜¯ä¸€æ¨£çš„é“ç†äº†</p><pre>import com.boot.lea.mybot.service.AsyncService;import com.boot.lea.mybot.service.UserService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.scheduling.annotation.Async;import org.springframework.scheduling.annotation.AsyncResult;import org.springframework.stereotype.Service;@Service@Async("taskExecutor")public class AsyncServiceImpl implements AsyncService { @Autowired private UserService userService; @Override public Future&lt;Long&gt; queryUserMsgCount(final Long userId) { System.out.println("ç•¶å‰ç·šç¨‹:" + Thread.currentThread().getName() + "=-=====queryUserMsgCount"); long countByUserId = userService.countMsgCountByUserId(userId); return new AsyncResult&lt;&gt;(countByUserId); } @Override public Future&lt;Long&gt; queryCollectCount(final Long userId) { System.out.println("ç•¶å‰ç·šç¨‹:" + Thread.currentThread().getName() + "=-====queryCollectCount"); long collectCount = userService.countCollectCountByUserId(userId); return new AsyncResult&lt;&gt;(collectCount); }</pre><p><strong>ä½ éœ€è¦çŸ¥é“çš„ä¹å¤§ç•°æ­¥æ³¨æ„äº‹é …</strong></p><ol><li>å„˜é‡ä¸è¦åœ¨æœ¬é¡ä¸­ç•°æ­¥èª¿ç”¨</li><li>å„˜é‡ä¸è¦æœ‰è¿”å›å€¼</li><li>ä¸èƒ½ä½¿ç”¨æœ¬é¡çš„ç§æœ‰æ–¹æ³•æˆ–è€…éæ¥å£åŒ–åŠ è¨»@Async,å› ç‚ºä»£ç†ä¸åˆ°å¤±æ•ˆ</li><li>ç•°æ­¥æ–¹æ³•ä¸èƒ½ä½¿ç”¨staticä¿®é£¾</li><li>ç•°æ­¥é¡æ²’æœ‰ä½¿ç”¨@Componentè¨»è§£ï¼ˆæˆ–å…¶ä»–è¨»è§£ï¼‰å°è‡´springç„¡æ³•æƒæåˆ°ç•°æ­¥é¡</li><li>é¡ä¸­éœ€è¦ä½¿ç”¨@Autowiredæˆ–@Resourceç­‰è¨»è§£è‡ªå‹•æ³¨å…¥ï¼Œä¸èƒ½è‡ªå·±æ‰‹å‹•newå°è±¡</li><li>å¦‚æœä½¿ç”¨SpringBootæ¡†æ¶å¿…é ˆåœ¨å•Ÿå‹•é¡ä¸­å¢åŠ @EnableAsyncè¨»è§£</li><li>åœ¨èª¿ç”¨Asyncæ–¹æ³•çš„æ–¹æ³•ä¸Šæ¨™è¨»@Transactionalæ˜¯ç®¡ç†èª¿ç”¨æ–¹æ³•çš„äº‹å‹™çš„</li><li>åœ¨Asyncæ–¹æ³•ä¸Šæ¨™è¨»@Transactionalæ˜¯ç®¡ç†ç•°æ­¥æ–¹æ³•çš„äº‹å‹™,äº‹å‹™å› ç·šç¨‹éš”é›¢</li></ol><p><strong>ä½ éœ€è¦æ‡‚çš„ç•°æ­¥åŸç†</strong></p><p><strong>@Asyncçš„ç•°æ­¥</strong>:</p><ul><li>å¯¦éš›æ˜¯spring åœ¨æƒæbeançš„æ™‚å€™æœƒæƒææ–¹æ³•ä¸Šæ˜¯å¦åŒ…å«@Asyncçš„è¨»è§£ï¼Œå¦‚æœåŒ…å«çš„ï¼Œspringæœƒç‚ºé€™å€‹beanå‹•æ…‹çš„ç”Ÿæˆä¸€å€‹å­é¡ï¼Œæˆ‘å€‘ç¨±ä¹‹ç‚ºä»£ç†é¡(jdkProxy)ï¼Œ ä»£ç†é¡æ˜¯ç¹¼æ‰¿æˆ‘å€‘æ‰€å¯«çš„beançš„ï¼Œç„¶å¾ŒæŠŠä»£ç†é¡æ³¨å…¥é€²ä¾†ï¼Œé‚£æ­¤æ™‚ï¼Œåœ¨åŸ·è¡Œæ­¤æ–¹æ³•çš„æ™‚å€™ï¼Œæœƒåˆ°ä»£ç†é¡ä¸­ï¼Œä»£ç†é¡åˆ¤æ–·äº†æ­¤æ–¹æ³•éœ€è¦ç•°æ­¥åŸ·è¡Œï¼Œå°±ä¸æœƒèª¿ç”¨çˆ¶é¡ (æˆ‘å€‘åŸæœ¬å¯«çš„bean)çš„å°æ‡‰æ–¹æ³•ã€‚</li><li>springè‡ªå·±ç¶­è­·äº†ä¸€å€‹éšŠåˆ—ï¼Œä»–æœƒæŠŠéœ€è¦åŸ·è¡Œçš„æ–¹æ³•ï¼Œæ”¾å…¥éšŠåˆ—ä¸­ï¼Œç­‰å¾…ç·šç¨‹æ± å»è®€å–é€™å€‹éšŠåˆ—ï¼Œå®Œæˆæ–¹æ³•çš„åŸ·è¡Œï¼Œ å¾è€Œå®Œæˆäº†ç•°æ­¥çš„åŠŸèƒ½ã€‚</li><li>æˆ‘å€‘å¯ä»¥é—œæ³¨åˆ°å†é…ç½®taskçš„æ™‚å€™ï¼Œæ˜¯æœ‰åƒæ•¸è®“æˆ‘å€‘é…ç½®ç·šç¨‹æ± çš„æ•¸é‡çš„ã€‚å› ç‚ºé€™ç¨®å¯¦ç¾æ–¹æ³•ï¼Œæ‰€ä»¥åœ¨åŒä¸€å€‹é¡ä¸­çš„æ–¹æ³•èª¿ç”¨ï¼Œæ·»åŠ @Asyncè¨»è§£æ˜¯å¤±æ•ˆçš„ï¼ï¼ŒåŸå› æ˜¯ç•¶ä½ åœ¨åŒä¸€å€‹é¡ä¸­çš„æ™‚å€™ï¼Œæ–¹æ³•èª¿ç”¨æ˜¯åœ¨é¡é«”å…§åŸ·è¡Œçš„ï¼Œspringç„¡æ³•æˆªç²é€™å€‹æ–¹æ³•èª¿ç”¨(ç‚ºä»€éº¼å‘¢,é€™å€‹å°±æ˜¯ä¸‹æ–‡è¬›çš„...å¥¸ç¬‘...å˜»å˜»å˜»å˜»...)ã€‚</li><li>é‚£åœ¨æ·±å…¥ä¸€æ­¥ï¼ŒSpringç‚ºæˆ‘å€‘æä¾›äº†AOPï¼Œé¢å‘åˆ‡é¢çš„åŠŸèƒ½ã€‚ä»–çš„åŸç†å’Œç•°æ­¥è¨»è§£çš„åŸç†æ˜¯é¡ä¼¼çš„ï¼Œspringåœ¨å•Ÿå‹•å®¹å™¨çš„æ™‚å€™ï¼Œæœƒæƒæåˆ‡é¢æ‰€å®šç¾©çš„ é¡ã€‚åœ¨é€™äº›é¡è¢«æ³¨å…¥çš„æ™‚å€™ï¼Œæ‰€æ³¨å…¥çš„ä¹Ÿæ˜¯ä»£ç†é¡ï¼Œç•¶ä½ èª¿ç”¨é€™äº›æ–¹æ³•çš„æ™‚å€™ï¼Œæœ¬è³ªä¸Šæ˜¯èª¿ç”¨çš„ä»£ç†é¡ã€‚é€šéä»£ç†é¡å†å»åŸ·è¡Œçˆ¶é¡ç›¸å°æ‡‰çš„æ–¹æ³•ï¼Œé‚£springåªéœ€è¦åœ¨èª¿ç”¨ä¹‹å‰å’Œä¹‹å¾ŒåŸ·è¡ŒæŸæ®µä»£ç¢¼å°±å®Œæˆäº†AOPçš„å¯¦ç¾äº†ï¼</li></ul><p>SpringBootç’°å¢ƒä¸­ï¼Œè¦ä½¿ç”¨@Asyncè¨»è§£,æˆ‘å€‘éœ€è¦å…ˆåœ¨å•Ÿå‹•é¡ä¸ŠåŠ ä¸Š@EnableAsyncè¨»è§£ã€‚é€™å€‹èˆ‡åœ¨SpringBootä¸­ä½¿ç”¨@Scheduledè¨»è§£éœ€è¦åœ¨å•Ÿå‹•é¡ä¸­åŠ ä¸Š@EnableSchedulingæ˜¯ä¸€æ¨£çš„é“ç†ï¼ˆç•¶ç„¶ä½ ä½¿ç”¨å¤è€çš„XMLé…ç½®ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯åœ¨SpringBootç’°å¢ƒä¸­ï¼Œå»ºè­°çš„æ˜¯å…¨è¨»è§£é–‹ç™¼ï¼‰ï¼Œå…·é«”åŸç†ä¸‹é¢æœƒåˆ†æã€‚åŠ ä¸Š@EnableAsyncè¨»è§£å¾Œï¼Œå¦‚æœæˆ‘å€‘æƒ³åœ¨èª¿ç”¨ä¸€å€‹æ–¹æ³•çš„æ™‚å€™é–‹å•Ÿä¸€å€‹æ–°çš„ç·šç¨‹é–‹å§‹ç•°æ­¥æ“ä½œï¼Œæˆ‘å€‘åªéœ€è¦åœ¨é€™å€‹æ–¹æ³•ä¸ŠåŠ ä¸Š@Asyncè¨»è§£ï¼Œç•¶ç„¶å‰ææ˜¯ï¼Œé€™å€‹æ–¹æ³•æ‰€åœ¨çš„é¡å¿…é ˆåœ¨Springç’°å¢ƒä¸­ã€‚</p><pre>ç¤ºä¾‹:éspingbooté …ç›®&lt;task:annotation-driven executor="annotationExecutor" /&gt;&lt;!-- æ”¯æŒ @Async è¨»è§£ --&gt;&lt;task:executor id="annotationExecutor" pool-size="20"/&gt;</pre><p>åŸ·è¡Œæµç¨‹:</p><ol><li>æƒææ˜¯å¦é–‹å•Ÿè¨»è§£EnableAsync,@EnableAsyncè¨»è§£ä¸Šæœ‰å€‹@Import(AsyncConfigurationSelector.class),springbootçš„æ³¨å…¥è€å¥—è·¯äº†</li><li>è«‹æ‚¨å†ç§»æ­¥AsyncConfigurationSelector,çœ‹åˆ°selectImportsæ–¹æ³•äº†æ²’,é€™è£¡ä½¿ç”¨çš„æ˜¯é»˜èªä½¿ç”¨çš„æ˜¯ProxyAsyncConfigurationé€™å€‹é…ç½®é¡</li><li>ç¹¼çºŒè§€æ‘©ProxyAsyncConfigurationç¹¼æ‰¿AbstractAsyncConfiguration,å®ƒè£¡é¢çš„çš„setConfigurersèªªæ˜äº†æˆ‘å€‘å¯ä»¥é€šéå¯¦ç¾AsyncConfigureræ¥å£ä¾†å®Œæˆç·šç¨‹æ± ä»¥åŠç•°å¸¸è™•ç†å™¨çš„é…ç½®,è€Œä¸”åœ¨Springç’°å¢ƒä¸­åªèƒ½é…ç½®ä¸€å€‹å¯¦ç¾é¡ï¼Œå¦å‰‡æœƒæ‹‹å‡ºç•°å¸¸ã€‚ ä¸Šä¸€é»ä»£ç¢¼:</li></ol><pre> /**	 * Collect any {@link AsyncConfigurer} beans through autowiring.	 */	@Autowired(required = false)	void setConfigurers(Collection&lt;AsyncConfigurer&gt; configurers) { 		if (CollectionUtils.isEmpty(configurers)) {			return;		} //AsyncConfigurerç”¨ä¾†é…ç½®ç·šç¨‹æ± é…ç½®ä»¥åŠç•°å¸¸è™•ç†å™¨ï¼Œè€Œä¸”åœ¨Springç’°å¢ƒä¸­æœ€å¤šåªèƒ½æœ‰ä¸€å€‹ï¼Œåœ¨é€™è£¡æˆ‘å€‘çŸ¥é“äº†ï¼Œå¦‚æœæƒ³è¦è‡ªå·±å»é…ç½®ç·šç¨‹æ± ï¼Œåªéœ€è¦å¯¦ç¾AsyncConfigureræ¥å£ï¼Œä¸¦ä¸”ä¸å¯ä»¥åœ¨Springç’°å¢ƒä¸­æœ‰å¤šå€‹å¯¦ç¾AsyncConfigurerçš„é¡ã€‚		if (configurers.size() &gt; 1) {			throw new IllegalStateException("Only one AsyncConfigurer may exist");		}		AsyncConfigurer configurer = configurers.iterator().next();		this.executor = configurer.getAsyncExecutor();		this.exceptionHandler = configurer.getAsyncUncaughtExceptionHandler();	}</pre><ol><li>ProxyAsyncConfigurationæ³¨å…¥çš„bean AsyncAnnotationBeanPostProcessor,é€™å€‹BeanPostBeanPostProcessorå¾ˆé¡¯ç„¶æœƒå°å¸¶æœ‰èƒ½å¤ å¼•ç™¼ç•°æ­¥æ“ä½œçš„è¨»è§£ï¼ˆæ¯”å¦‚@Asyncï¼‰çš„Beané€²è¡Œè™•ç†</li><li>æˆ‘å€‘æ³¨æ„åˆ°AsyncAnnotationBeanPostProcessoræœ‰é‡å¯«çˆ¶é¡çš„setBeanFactoryï¼Œé€™å€‹æ–¹æ³•æ˜¯ä¸æ˜¯æœ‰é»ç†Ÿæ‚‰å‘¢ï¼Œå®ƒæ˜¯BeanFactoryAwareæ¥å£ä¸­çš„æ–¹æ³•ï¼ŒAsyncAnnotationBeanPostProcessorçš„çˆ¶é¡å¯¦ç¾äº†é€™å€‹æ¥å£ï¼Œåœ¨æˆ‘å€‘å¾ˆä¹…ä¹‹å‰åˆ†æéçš„Beançš„åˆå§‹åŒ–ä¸­ï¼Œæ˜¯æœ‰æåˆ°éé€™å€‹æ¥å£çš„ï¼Œå¯¦ç¾äº†Awareé¡å‹æ¥å£çš„Beanï¼Œæœƒåœ¨åˆå§‹åŒ–Beançš„æ™‚å€™èª¿ç”¨ç›¸æ‡‰çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå…·é«”å¯ä»¥æŸ¥çœ‹AbstractAutowireCapableBeanFactory#initializeBean(final String beanName, final Object bean, RootBeanDefinition mbd)æ–¹æ³•</li><li>è™•ç†Beançš„postProcessAfterInitializationæ–¹æ³•åœ¨ç¥–å…ˆé¡AbstractAdvisingBeanPostProcessorä¸­ã€‚å¾æºç¢¼ä¸­å¯ä»¥çœ‹åˆ°ã€‚AsyncAnnotationBeanPostProcessoræ˜¯å°Beané€²è¡Œå¾Œç½®è™•ç†çš„BeanPostProcessor</li><li>æœ€å¾Œä»£ç†åˆ°JdkDynamicAopProxyçš„invokeæ–¹æ³•ä¸­,æ˜¯ç”¨äº†è²¬ä»»éˆæ¨¡å¼:List&lt;Object> chain = this.advised.getInterceptorsAndDynamicInterceptionAdvice(method, targetClass);,å°‡ä»£ç†é€²è¡Œæ””æˆªä¾†åŸ·è¡Œ,é€šçŸ¥éˆæœƒåŒ…å«setBeanFactory()æ–¹æ³•ç”Ÿæˆçš„é€šçŸ¥,åŸ·è¡Œéˆæœƒç”¨æ–¼å‰µå»ºReflectiveMethodInvocationå°è±¡ï¼Œæœ€çµ‚æ˜¯èª¿ç”¨ReflectiveMethodInvocationçš„proceed()ä¾†å®Œæˆå°æ–¹æ³•çš„å¢å¼·è™•ç†,proceed()æ–¹æ³•åœ¨é€™è£¡æœƒåŸ·è¡Œæœ€å¾Œä¸€å€‹åˆ†æ”¯</li><li>å…·é«”åŸ·è¡Œçš„æ˜¯AsyncExecutionInterceptorçš„invoke()</li><li><strong>æ³¨æ„</strong>:é›–ç„¶ä¸Šæ–‡Springç’°å¢ƒä¸­åªèƒ½æœ‰ä¸€å€‹AsyncConfigurerå¯¦ç¾é¡ï¼Œä½†æ˜¯ä¸æ„å‘³è‘—ï¼Œåœ¨Springç’°å¢ƒä¸­åªèƒ½é…ç½®ä¸€å€‹ç·šç¨‹æ± ï¼Œåœ¨Springç’°å¢ƒä¸­æ˜¯å¯ä»¥é…ç½®å¤šå€‹ç·šç¨‹æ± ï¼Œè€Œä¸”æˆ‘å€‘å¯ä»¥åœ¨ä½¿ç”¨@Asyncè¨»è§£é€²è¡Œç•°æ­¥æ“ä½œçš„æ™‚å€™ï¼Œé€šéåœ¨valueå±¬æ€§ä¸ŠæŒ‡å®šç·šç¨‹æ± BeanName,é€™æ¨£å°±å¯ä»¥æŒ‡å®šç›¸æ‡‰çš„ç·šç¨‹æ± ä¾†ä½œç‚ºä»»å‹™çš„è¼‰é«”,åƒè¦‹:determineAsyncExecutor</li></ol><p><strong>å°çµå…„å¼Ÿ:</strong></p><p>ç•¶æˆ‘å€‘æƒ³è¦åœ¨SpringBootä¸­æ–¹ä¾¿çš„ä½¿ç”¨@Asyncè¨»è§£é–‹å•Ÿç•°æ­¥æ“ä½œçš„æ™‚å€™ï¼Œåªéœ€è¦å¯¦ç¾AsyncConfigureræ¥å£ï¼ˆé€™æ¨£å°±é…ç½®äº†é»˜èªç·šç¨‹æ± é…ç½®ï¼Œç•¶ç„¶è©²é¡éœ€è¦åœ¨Springç’°å¢ƒä¸­ï¼Œå› ç‚ºæ˜¯é»˜èªçš„ï¼Œæ‰€ä»¥åªèƒ½æœ‰ä¸€å€‹ï¼Œæ²’æœ‰å¤šå€‹å¯¦ç¾é¡æ’å„ªå…ˆç´šçš„èªªæ³•ï¼‰ï¼Œå¯¦ç¾å°ç·šç¨‹æ± çš„é…ç½®ï¼Œä¸¦åœ¨å•Ÿå‹•é¡ä¸ŠåŠ ä¸Š@EnableAsyncè¨»è§£ï¼Œå³å¯ä½¿å¾—@Asyncè¨»è§£ç”Ÿæ•ˆã€‚</p><p>æˆ‘å€‘ç”šè‡³å¯ä»¥ä¸é¡¯å¼çš„å¯¦ç¾AsyncConfigurerï¼Œæˆ‘å€‘å¯ä»¥åœ¨Springç’°å¢ƒä¸­é…ç½®å¤šå€‹Executoré¡å‹çš„Beanï¼Œåœ¨ä½¿ç”¨@Asyncè¨»è§£æ™‚ï¼Œå°‡è¨»è§£çš„valueæŒ‡å®šç‚ºä½ Executoré¡å‹çš„BeanNameï¼Œå°±å¯ä»¥ä½¿ç”¨æŒ‡å®šçš„ç·šç¨‹æ± ä¾†ä½œç‚ºä»»å‹™çš„è¼‰é«”ï¼Œé€™æ¨£å°±ä½¿ç”¨ç·šç¨‹æ± ä¹Ÿæ›´åŠ éˆæ´»ã€‚</p><p><strong>åƒè€ƒè³‡æ–™</strong></p><p>[1]</p><p>ä½ çš„@Asyncå°±çœŸçš„ç•°æ­¥å— â˜ ç•°æ­¥æ­·éšªå¥‡é‡è¨˜: <em>https://juejin.im/post/5d47a80a6fb9a06ad3470f9a</em></p><p>[2]</p><p>JAVAä½µç™¼ç•°æ­¥ç·¨ç¨‹ åŸä¾†åå€‹æ¥å£çš„æ´»ç¾åœ¨åªéœ€è¦ä¸€å€‹æ¥å£å°±æå®š!: <em>https://juejin.im/post/5d3c46d2f265da1b9163dbce</em></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>ç•°æ­¥</a></li><li><a>Spring</a></li><li><a>ç·¨ç¨‹</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/60d27d99.html alt=Springé¢å‘åˆ‡é¢ç·¨ç¨‹AOPçš„åˆæ­¥ç­è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6eb76749eacf41f1ac8d6bb660ae18ab style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/60d27d99.html title=Springé¢å‘åˆ‡é¢ç·¨ç¨‹AOPçš„åˆæ­¥ç­è§£>Springé¢å‘åˆ‡é¢ç·¨ç¨‹AOPçš„åˆæ­¥ç­è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2798be0b.html alt="Spring AOP é¢å‘åˆ‡é¢ç·¨ç¨‹éœ€è¦çŸ¥é“çš„äº‹" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/63832e5a-4ec8-451b-87cf-c6295ac2adf5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2798be0b.html title="Spring AOP é¢å‘åˆ‡é¢ç·¨ç¨‹éœ€è¦çŸ¥é“çš„äº‹">Spring AOP é¢å‘åˆ‡é¢ç·¨ç¨‹éœ€è¦çŸ¥é“çš„äº‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/af398a38.html alt=Springâ€”é¢å‘åˆ‡é¢ç·¨ç¨‹ï¼ˆAOPï¼‰è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/3ad8b3ec-d7c5-4b89-9b46-e473a4f5d570 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/af398a38.html title=Springâ€”é¢å‘åˆ‡é¢ç·¨ç¨‹ï¼ˆAOPï¼‰è©³è§£>Springâ€”é¢å‘åˆ‡é¢ç·¨ç¨‹ï¼ˆAOPï¼‰è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1946647f.html alt=Springé¢å‘åˆ‡é¢ç·¨ç¨‹çš„AOPçš„äº‹å‹™å¢å¼·å®Œæ•´ç‰ˆçš„é…ç½® class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1946647f.html title=Springé¢å‘åˆ‡é¢ç·¨ç¨‹çš„AOPçš„äº‹å‹™å¢å¼·å®Œæ•´ç‰ˆçš„é…ç½®>Springé¢å‘åˆ‡é¢ç·¨ç¨‹çš„AOPçš„äº‹å‹™å¢å¼·å®Œæ•´ç‰ˆçš„é…ç½®</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/90a3b194.html alt="Springï¼šAOP é¢å‘åˆ‡é¢ç·¨ç¨‹" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/2e916acf35c540c59694eae279114599 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/90a3b194.html title="Springï¼šAOP é¢å‘åˆ‡é¢ç·¨ç¨‹">Springï¼šAOP é¢å‘åˆ‡é¢ç·¨ç¨‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c98c28c3.html alt=ä½¿ç”¨è¨»è§£æ–¹å¼é…ç½®Springä¸­çš„é¢å‘åˆ‡é¢ç·¨ç¨‹AOP class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c98c28c3.html title=ä½¿ç”¨è¨»è§£æ–¹å¼é…ç½®Springä¸­çš„é¢å‘åˆ‡é¢ç·¨ç¨‹AOP>ä½¿ç”¨è¨»è§£æ–¹å¼é…ç½®Springä¸­çš„é¢å‘åˆ‡é¢ç·¨ç¨‹AOP</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3f29dcd0.html alt=ä½¿ç”¨Springé€²è¡Œé¢å‘åˆ‡é¢ç·¨ç¨‹ï¼ˆAOPï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b09bdd90d1394d74a47e1c0363fd950a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3f29dcd0.html title=ä½¿ç”¨Springé€²è¡Œé¢å‘åˆ‡é¢ç·¨ç¨‹ï¼ˆAOPï¼‰>ä½¿ç”¨Springé€²è¡Œé¢å‘åˆ‡é¢ç·¨ç¨‹ï¼ˆAOPï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fd08b19.html alt=ç•°æ­¥ç·¨ç¨‹ï¼šå”ä½œæ€§å¤šä»»å‹™è™•ç† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/dbd0ddd7-eda4-430a-8176-da9804319771 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fd08b19.html title=ç•°æ­¥ç·¨ç¨‹ï¼šå”ä½œæ€§å¤šä»»å‹™è™•ç†>ç•°æ­¥ç·¨ç¨‹ï¼šå”ä½œæ€§å¤šä»»å‹™è™•ç†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f74b39f.html alt="Java ç•°æ­¥ç·¨ç¨‹å°è«–" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/3c356b1aa9b4416ca7b35a07f3033e13 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f74b39f.html title="Java ç•°æ­¥ç·¨ç¨‹å°è«–">Java ç•°æ­¥ç·¨ç¨‹å°è«–</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3ff10d3.html alt="Spring Boot ç•°æ­¥è«‹æ±‚å’Œç•°æ­¥èª¿ç”¨ï¼Œä¸€æ–‡æå®š" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/3c824262b5b0401cbf72463bf246c13b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3ff10d3.html title="Spring Boot ç•°æ­¥è«‹æ±‚å’Œç•°æ­¥èª¿ç”¨ï¼Œä¸€æ–‡æå®š">Spring Boot ç•°æ­¥è«‹æ±‚å’Œç•°æ­¥èª¿ç”¨ï¼Œä¸€æ–‡æå®š</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/852c87e.html alt="æœ‰äº† CompletableFutureï¼Œä½¿å¾—ç•°æ­¥ç·¨ç¨‹æ²’æœ‰é‚£éº¼é›£äº†" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e66a7bcfded64b34b43ebc1565b3e557 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/852c87e.html title="æœ‰äº† CompletableFutureï¼Œä½¿å¾—ç•°æ­¥ç·¨ç¨‹æ²’æœ‰é‚£éº¼é›£äº†">æœ‰äº† CompletableFutureï¼Œä½¿å¾—ç•°æ­¥ç·¨ç¨‹æ²’æœ‰é‚£éº¼é›£äº†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3e8c3b8.html alt=è©³è§£ç·¨ç¨‹ä¸­çš„åŒæ­¥å’Œç•°æ­¥ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b292fb03b256422bb94215ce3ec3bbaf style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3e8c3b8.html title=è©³è§£ç·¨ç¨‹ä¸­çš„åŒæ­¥å’Œç•°æ­¥>è©³è§£ç·¨ç¨‹ä¸­çš„åŒæ­¥å’Œç•°æ­¥</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3a0dfd7.html alt="ç•°æ­¥ç·¨ç¨‹å¯¦ä¾‹ï¼šJava8 APIçš„ç†è§£å’ŒCompletableFutureé¡çš„å¯¦ç¾" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1522150125651deaa9d51b2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3a0dfd7.html title="ç•°æ­¥ç·¨ç¨‹å¯¦ä¾‹ï¼šJava8 APIçš„ç†è§£å’ŒCompletableFutureé¡çš„å¯¦ç¾">ç•°æ­¥ç·¨ç¨‹å¯¦ä¾‹ï¼šJava8 APIçš„ç†è§£å’ŒCompletableFutureé¡çš„å¯¦ç¾</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c81ec36.html alt=ç•°æ­¥ç·¨ç¨‹æå‡æœå‹™æ€§èƒ½ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15260210063976700d35c2d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c81ec36.html title=ç•°æ­¥ç·¨ç¨‹æå‡æœå‹™æ€§èƒ½>ç•°æ­¥ç·¨ç¨‹æå‡æœå‹™æ€§èƒ½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/000afa08.html alt="Spring Boot 2.xåŸºç¤æ•™ç¨‹ï¼šSwaggeræ¥å£åˆ†é¡èˆ‡å„å…ƒç´ æ’åºå•é¡Œè©³è§£" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/daa2cfd29ec34306a4be6f3f257b824b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/000afa08.html title="Spring Boot 2.xåŸºç¤æ•™ç¨‹ï¼šSwaggeræ¥å£åˆ†é¡èˆ‡å„å…ƒç´ æ’åºå•é¡Œè©³è§£">Spring Boot 2.xåŸºç¤æ•™ç¨‹ï¼šSwaggeræ¥å£åˆ†é¡èˆ‡å„å…ƒç´ æ’åºå•é¡Œè©³è§£</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>