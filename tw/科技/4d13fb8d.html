<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>wxPython：Python首選的GUI庫 | CSDN博文精選 | 极客快訊</title><meta property="og:title" content="wxPython：Python首選的GUI庫 | CSDN博文精選 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/RhCm4xq1HIM2Pn"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4d13fb8d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4d13fb8d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4d13fb8d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4d13fb8d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4d13fb8d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4d13fb8d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4d13fb8d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4d13fb8d.html><meta property="article:published_time" content="2020-10-29T21:10:24+08:00"><meta property="article:modified_time" content="2020-10-29T21:10:24+08:00"><meta name=Keywords content><meta name=description content="wxPython：Python首選的GUI庫 | CSDN博文精選"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/4d13fb8d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>wxPython：Python首選的GUI庫 | CSDN博文精選</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>作者 | 天元浪子</p><p>來源 | CSDN博客</p><p><strong>文章目錄</strong></p><ul><li><p>概述</p></li><li><p>窗口程序的基本框架</p></li><li><p>事件和事件驅動</p></li><li><p>菜單欄/工具欄/狀態欄</p></li><li><p>動態佈局</p></li><li><p>AUI佈局</p></li><li><p>DC繪圖</p></li><li><p>定時器和線程</p></li><li><p>後記</p></li></ul><p><strong class=highlight-text toutiao-origin=span>概述</strong></p><p>跨平臺的GUI工具庫，較為有名的當屬GTK+、Qt 和 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Widgets 了。GTK+是C實現的，由於C語言本身不支持OOP，因而GTK+上手相當困難，寫起來也較為複雜艱澀。Qt 和 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Widgets 則是C++實現的，各自擁有龐大的用戶群體。雖然我喜歡<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Widgets，但還是儘可能客觀地蒐集了關於Qt 和 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Widgets 的對比評價。</p><p><strong>關於LICENSE</strong></p><p>Qt最初由芬蘭的TrollTech公司研發，後來賣給了Nokia（沒看錯，就是曾經聞名遐邇的手機巨頭諾基亞），2012年Digia從諾基亞完整收購了QT的技術平臺和知識產權。QT的背後一直由商業公司支持，奉行的是雙 license 策略，一個是商業版，一個是免費版。這個策略嚴重限制了Qt的用戶群體。據說Nokia收購之後意識到了這個問題，自4.5版本之後採用了LGPL，開發人員可以發佈基於免費Qt庫的商業軟件了。<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Widgets最開始是由愛丁堡（Edinburgh）大學的人工智能應用學院開發的，在<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-3">199</i>2年開源，一直遵循LGPL。<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Widgets從一開始就是程序員的免費午餐。</p><p><strong>關於兼容性</strong></p><p>由於Qt使用的是非標準C++，與其它庫的兼容性會存在問題，在每個平臺的圖形界面也並不完全是原生界面（ Native GUI），只是透過 theme 去模擬系統上的標準 GUI，所以看起來很像，有些地方則會明顯看出破綻。 Qt的執行速度緩慢且過於龐大則是另一個問題。<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Widgets使用的是標準C++，與現有各類工具庫無縫連接，在不同平臺上也是完全Native GUI，是真正的跨平臺。</p><p><strong>關於服務和支持</strong></p><p>由於Nokia的接盤，Qt提供了一系列完整的文檔和RAD工具，並提供最為完整的平臺支持，對於移動終端的支持最為完善。Qt庫也是所有的GUI工具庫中最為面向對象化的，同時也是最為穩定的。<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Widgets因為缺乏很好的商業化支持，開發文檔、資源相對較為匱乏。由於是偏重考慮MFC程序的跨平臺遷移，<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Widgets面向對象封裝做得差強人意。</p><p><i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Widgets的主體是由C++構建的，但你並不是必需通過C++才能使用它。<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Widgets擁有許多其它語言的綁定（binding），比如 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Perl，<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Java，<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Basic，<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>JavaScript，<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Ruby等等，<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Python 就是 Python語言的 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Widgets 工具庫。</p><p><strong class=highlight-text toutiao-origin=span>窗口程序的基本框架</strong></p><p>不管是py2還是py3，python的世界裡安裝工作已經變得非常簡單了。如果工作在windows平臺的話，我建議同時安裝pywin32模塊。pywin32允許你像VC一樣的使用python開發win32應用，更重要的是，我們可以用它直接操控win32程序，捕捉當前窗口、獲取焦點等。</p><pre><div><p>pip install <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>pyhton</p></div></pre><p>只用5行代碼，我們就可以創造一個窗口程序。然並卵，不過是又一次體現了python的犀利和簡潔罷了。</p><pre><div><p>import <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i></p><p>app = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.App</p><p>frame = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame(None, -1, "Hello, World!")</p><p>frame.Show(True)</p><p>app.MainLoop</p></div></pre><img alt="wxPython：Python首選的GUI庫 | CSDN博文精選" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RhCm4xq1HIM2Pn><p>下面是一個真正實用的窗口程序框架，任何一個窗口程序的開發都可以在這個基礎之上展開。請注意，代碼裡面用到了一個圖標文件，如果你要運行這段代碼，請自備icon文件。</p><pre><div><p>#-*- coding: utf-8 -*-</p><p>import <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i></p><p>import win32api</p><p>import sys, os</p><p>APP_TITLE = u'基本框架'</p><p>APP_ICON = 'res/python.ico' # 請更換成你的icon</p><p>class mainFrame(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame):</p><p>'''程序主窗口類，繼承自<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame'''</p><p>def __init__(self):</p><p>'''構造函數'''</p><p><i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame.__init__(self, None, -1, APP_TITLE, style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.DEFAULT_FRAME_STYLE ^ <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.RESIZE_BORDER)</p><p># 默認style是下列項的組合：<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.MINIMIZE_BOX | <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.MAXIMIZE_BOX | <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.RESIZE_BORDER | <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.SYSTEM_MENU | <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.CAPTION | <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.CLOSE_BOX | <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.CLIP_CHILDREN </p><p>self.SetBackgroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(224, 224, 224))</p><p>self.SetSize((800, 600))</p><p>self.Center</p><p># 以下代碼處理圖標</p><p>if hasattr(sys, "frozen") and getattr(sys, "frozen") == "windows_exe":</p><p>exeName = win32api.GetModuleFileName(win32api.GetModuleHandle(None))</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(exeName, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>else :</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(APP_ICON, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>self.SetIcon(icon)</p><p># 以下可以添加各類控件</p><p>pass</p><p>class mainApp(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.App):</p><p>def OnInit(self):</p><p>self.SetAppName(APP_TITLE)</p><p>self.Frame = mainFrame</p><p>self.Frame.Show</p><p>return True</p><p>if __name__ == "__main__":</p><p>app = mainApp(redirect=True, filename="debug.txt")</p><p>app.MainLoop</p></div></pre><p>注意 倒數第2行代碼，是將調試信息定位到了debug.txt文件。如果mainApp不使用任何參數，則調試信息輸出到控制檯。</p><img alt="wxPython：Python首選的GUI庫 | CSDN博文精選" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RhCm4yBJdg2WO><p>通過繼承<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame，我們構造了mainFrame類，可以在mainFrame類的構造函數中任意添加面板、文本、圖片、按鈕等各種控件了。</p><p><strong class=highlight-text toutiao-origin=span>事件和事件驅動</strong></p><p>不同於Qt的信號與槽機制，<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>採用的是事件驅動型的編程機制。所謂事件，就是我們的程序在運行中發生的事兒。事件可以是低級的用戶動作，如鼠標移動或按鍵按下，也可以是高級的用戶動作（定義在<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Python的窗口部件中的），如單擊按鈕或菜單選擇。事件可以產生自系統，如關機。你甚至可以創建你自己的對象去產生你自己的事件。事件會觸發相應的行為，即事件函數。程序員的工作就是定義事件函數，以及綁定事件和事件函數之間的關聯關係。</p><p>在<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Python中，我習慣把事件分為4類：</p><ul><li><p>控件事件：發生在控件上的事件，比如按鈕被按下、輸入框內容改變等</p></li><li><p>鼠標事件：鼠標左右中鍵和滾輪動作，以及鼠標移動等事件</p></li><li><p>鍵盤事件：用戶敲擊鍵盤產生的事件</p></li><li><p>系統事件：關閉窗口、改變窗口大小、重繪、定時器等事件</p></li></ul><p>事實上，這個分類方法不夠嚴謹。比如，<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.frame作為一個控件，關閉和改變大小也是控件事件，不過這一類事件通常都由系統綁定了行為。基於此，我可以重新定義所謂的控件事件，是指發生在控件上的、系統並未預定義行為的事件。</p><p>下面這個例子演示瞭如何定義事件函數，以及綁定事件和事件函數之間的關聯關係。</p><pre><div><p>#-*- coding: utf-8 -*-</p><p>import <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i></p><p>import win32api</p><p>import sys, os</p><p>APP_TITLE = u'控件事件、鼠標事件、鍵盤事件、系統事件'</p><p>APP_ICON = 'res/python.ico'</p><p>class mainFrame(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame):</p><p>'''程序主窗口類，繼承自<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame'''</p><p>def __init__(self, parent):</p><p>'''構造函數'''</p><p><i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame.__init__(self, parent, -1, APP_TITLE)</p><p>self.SetBackgroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(224, 224, 224))</p><p>self.SetSize((520, 220))</p><p>self.Center</p><p>if hasattr(sys, "frozen") and getattr(sys, "frozen") == "windows_exe":</p><p>exeName = win32api.GetModuleFileName(win32api.GetModuleHandle(None))</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(exeName, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>else :</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(APP_ICON, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>self.SetIcon(icon)</p><p><i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.StaticText(self, -1, u'第一行輸入框：', pos=(40, 50), size=(100, -1), style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALIGN_RIGHT)</p><p><i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.StaticText(self, -1, u'第二行輸入框：', pos=(40, 80), size=(100, -1), style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALIGN_RIGHT)</p><p>self.tip = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.StaticText(self, -1, u'', pos=(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">145</i>, 110), size=(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-3">150</i>, -1), style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ST_NO_AUTORESIZE)</p><p>self.tc1 = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.TextCtrl(self, -1, '', pos=(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">145</i>, 50), size=(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-3">150</i>, -1), name='TC01', style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.TE_CENTER)</p><p>self.tc2 = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.TextCtrl(self, -1, '', pos=(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">145</i>, 80), size=(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-3">150</i>, -1), name='TC02', style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.TE_PASSWORD|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALIGN_RIGHT)</p><p>btn_mea = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Button(self, -1, u'鼠標左鍵事件', pos=(350, 50), size=(100, 25))</p><p>btn_meb = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Button(self, -1, u'鼠標所有事件', pos=(350, 80), size=(100, 25))</p><p>btn_close = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Button(self, -1, u'關閉窗口', pos=(350, 110), size=(100, 25))</p><p># 控件事件</p><p>self.tc1.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_TEXT, self.EvtText)</p><p>self.tc2.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_TEXT, self.EvtText)</p><p>self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_BUTTON, self.OnClose, btn_close)</p><p># 鼠標事件 </p><p>btn_mea.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_LEFT_DOWN, self.OnLeftDown)</p><p>btn_mea.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_LEFT_UP, self.OnLeftUp)</p><p>btn_mea.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_MOUSEWHEEL, self.OnMouseWheel)</p><p>btn_meb.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_MOUSE_EVENTS, self.OnMouse)</p><p># 鍵盤事件</p><p>self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_KEY_DOWN, self.OnKeyDown)</p><p># 系統事件</p><p>self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_CLOSE, self.OnClose)</p><p>self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_SIZE, self.On_size)</p><p>#self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_PAINT, self.On_paint)</p><p>#self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_ERASE_BACKGROUND, lambda event: None)</p><p>def EvtText(self, evt):</p><p>'''輸入框事件函數'''</p><p>obj = evt.GetEventObject</p><p>objName = obj.GetName</p><p>text = evt.GetString</p><p>if objName == 'TC01':</p><p>self.tc2.SetValue(text)</p><p>elif objName == 'TC02':</p><p>self.tc1.SetValue(text)</p><p>def On_size(self, evt):</p><p>'''改變窗口大小事件函數'''</p><p>self.Refresh</p><p>evt.Skip # 體會作用</p><p>def OnClose(self, evt):</p><p>'''關閉窗口事件函數'''</p><p>dlg = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.MessageDialog(None, u'確定要關閉本窗口？', u'操作提示', <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.YES_NO | <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ICON_QUESTION)</p><p>if(dlg.ShowModal == <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ID_YES):</p><p>self.Destroy</p><p>def OnLeftDown(self, evt):</p><p>'''左鍵按下事件函數'''</p><p>self.tip.SetLabel(u'左鍵按下')</p><p>def OnLeftUp(self, evt):</p><p>'''左鍵彈起事件函數'''</p><p>self.tip.SetLabel(u'左鍵彈起')</p><p>def OnMouseWheel(self, evt):</p><p>'''鼠標滾輪事件函數'''</p><p>vector = evt.GetWheelRotation</p><p>self.tip.SetLabel(str(vector))</p><p>def OnMouse(self, evt):</p><p>'''鼠標事件函數'''</p><p>self.tip.SetLabel(str(evt.EventType))</p><p>def OnKeyDown(self, evt):</p><p>'''鍵盤事件函數'''</p><p>key = evt.GetKeyCode </p><p>self.tip.SetLabel(str(key))</p><p>class mainApp(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.App):</p><p>def OnInit(self):</p><p>self.SetAppName(APP_TITLE)</p><p>self.Frame = mainFrame(None)</p><p>self.Frame.Show</p><p>return True</p><p>if __name__ == "__main__":</p><p>app = mainApp</p><p>app.MainLoop</p></div></pre><p>兩個輸入框，一個明文居中，一個密寫右齊，但內容始終保持同步。輸入焦點不在輸入框的時候，敲擊鍵盤，界面顯示對應的鍵值。最上面的按鈕響應鼠標左鍵的按下和彈起事件，中間的按鈕響應所有的鼠標事件，下面的按鈕響應按鈕按下的事件。另外，程序還綁定了窗口關閉事件，重新定義了關閉函數，增加了確認選擇。</p><img alt="wxPython：Python首選的GUI庫 | CSDN博文精選" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RhCm4yS7JHtR6Q><p><strong class=highlight-text toutiao-origin=span>菜單欄/工具欄/狀態欄</strong></p><p>通常，一個完整的窗口程序一般都有菜單欄、工具欄和狀態欄。下面的代碼演示瞭如何創建菜單欄、工具欄和狀態欄，順便演示了類的靜態屬性的定義和用法。不過，說實話，<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>的工具欄有點醜，幸好，<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>還有一個 AUI 的工具欄比較漂亮，我會在後面的例子裡演示它的用法。</p><p>另外，請注意，代碼裡面用到了4個16x16的工具按鈕，請自備4個圖片文件，保存路徑請查看代碼中的註釋。</p><pre><div><p>#-*- coding: utf-8 -*-</p><p>import <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i></p><p>import win32api</p><p>import sys, os</p><p>APP_TITLE = u'菜單、工具欄、狀態欄'</p><p>APP_ICON = 'res/python.ico'</p><p>class mainFrame(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame):</p><p>'''程序主窗口類，繼承自<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame'''</p><p>id_open = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.NewId</p><p>id_save = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.NewId</p><p>id_quit = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.NewId</p><p>id_help = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.NewId</p><p>id_about = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.NewId</p><p>def __init__(self, parent):</p><p>'''構造函數'''</p><p><i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame.__init__(self, parent, -1, APP_TITLE)</p><p>self.SetBackgroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(224, 224, 224))</p><p>self.SetSize((800, 600))</p><p>self.Center</p><p>if hasattr(sys, "frozen") and getattr(sys, "frozen") == "windows_exe":</p><p>exeName = win32api.GetModuleFileName(win32api.GetModuleHandle(None))</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(exeName, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>else :</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(APP_ICON, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>self.SetIcon(icon)</p><p>self.Ma<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-1">xi</i>mize</p><p>self.SetWindowStyle(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.DEFAULT_FRAME_STYLE)</p><p>self._CreateMenuBar # 菜單欄</p><p>self._CreateToolBar # 工具欄</p><p>self._CreateStatusBar # 狀態欄</p><p>def _CreateMenuBar(self):</p><p>'''創建菜單欄'''</p><p>self.mb = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.MenuBar</p><p># 文件菜單</p><p>m = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Menu</p><p>m.Append(self.id_open, u"打開文件")</p><p>m.Append(self.id_save, u"保存文件")</p><p>m.AppendSeparator</p><p>m.Append(self.id_quit, u"退出系統")</p><p>self.mb.Append(m, u"文件")</p><p>self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_MENU, self.OnOpen, id=self.id_open)</p><p>self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_MENU, self.OnSave, id=self.id_save)</p><p>self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_MENU, self.OnQuit, id=self.id_quit)</p><p># 幫助菜單</p><p>m = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Menu</p><p>m.Append(self.id_help, u"幫助主題")</p><p>m.Append(self.id_about, u"關於...")</p><p>self.mb.Append(m, u"幫助")</p><p>self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_MENU, self.OnHelp,id=self.id_help)</p><p>self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_MENU, self.OnAbout,id=self.id_about)</p><p>self.SetMenuBar(self.mb)</p><p>def _CreateToolBar(self):</p><p>'''創建工具欄'''</p><p>bmp_open = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Bitmap('res/open_16.png', <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ANY) # 請自備按鈕圖片</p><p>bmp_save = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Bitmap('res/save_16.png', <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ANY) # 請自備按鈕圖片</p><p>bmp_help = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Bitmap('res/help_16.png', <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ANY) # 請自備按鈕圖片</p><p>bmp_about = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Bitmap('res/about_16.png', <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ANY) # 請自備按鈕圖片</p><p>self.tb = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ToolBar(self)</p><p>self.tb.SetToolBitmapSize((16,16))</p><p>self.tb.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>LabelTool(self.id_open, u'打開文件', bmp_open, shortHelp=u'打開', longHelp=u'打開文件')</p><p>self.tb.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>LabelTool(self.id_save, u'保存文件', bmp_save, shortHelp=u'保存', longHelp=u'保存文件')</p><p>self.tb.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>Separator</p><p>self.tb.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>LabelTool(self.id_help, u'幫助', bmp_help, shortHelp=u'幫助', longHelp=u'幫助')</p><p>self.tb.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>LabelTool(self.id_about, u'關於', bmp_about, shortHelp=u'關於', longHelp=u'關於...')</p><p>#self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_TOOL_RCLICKED, self.OnOpen, id=self.id_open)</p><p>self.tb.Realize</p><p>def _CreateStatusBar(self):</p><p>'''創建狀態欄'''</p><p>self.sb = self.CreateStatusBar</p><p>self.sb.SetFieldsCount(3)</p><p>self.sb.SetStatusWidths([-2, -1, -1])</p><p>self.sb.SetStatusStyles([<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.SB_RAISED, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.SB_RAISED, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.SB_RAISED])</p><p>self.sb.SetStatusText(u'狀態信息0', 0)</p><p>self.sb.SetStatusText(u'', 1)</p><p>self.sb.SetStatusText(u'狀態信息2', 2)</p><p>def OnOpen(self, evt):</p><p>'''打開文件'''</p><p>self.sb.SetStatusText(u'打開文件', 1)</p><p>def OnSave(self, evt):</p><p>'''保存文件'''</p><p>self.sb.SetStatusText(u'保存文件', 1)</p><p>def OnQuit(self, evt):</p><p>'''退出系統'''</p><p>self.sb.SetStatusText(u'退出系統', 1)</p><p>self.Destroy</p><p>def OnHelp(self, evt):</p><p>'''幫助'''</p><p>self.sb.SetStatusText(u'幫助', 1)</p><p>def OnAbout(self, evt):</p><p>'''關於'''</p><p>self.sb.SetStatusText(u'關於', 1)</p><p>class mainApp(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.App):</p><p>def OnInit(self):</p><p>self.SetAppName(APP_TITLE)</p><p>self.Frame = mainFrame(None)</p><p>self.Frame.Show</p><p>return True</p><p>if __name__ == "__main__":</p><p>app = mainApp</p><p>app.MainLoop</p></div></pre><img alt="wxPython：Python首選的GUI庫 | CSDN博文精選" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RhCm4ye1zKbaVq><p><strong class=highlight-text toutiao-origin=span>動態佈局</strong></p><p>在“事件和事件驅動”的例子裡，輸入框、按鈕等控件的佈局，使用的是絕對定位，我習慣叫做靜態佈局。靜態佈局非常直觀，但不能自動適應窗口的大小變化。更多的時候，我們使用被稱為佈局管理器的 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Sizer 來實現動態佈局。<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Sizer 有很多種，我記不住，所以只喜歡用 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BoxSizer，最簡單的一種佈局管理器。</p><p>和一般的控件不同，佈局管理器就像是一個魔法口袋：它是無形的，但可以裝進不限數量的任意種類的控件——包括其他的佈局管理器。當然，魔法口袋也不是萬能的，它有一個限制條件：裝到裡面的東西，要麼是水平排列的，要麼是垂直排列的，不能排成方陣。好在程序員可以不受限制地使用魔法口袋，當我們需要排成方陣時，可以先每一行使用一個魔法口袋，然後再把所有的行裝到一個魔法口袋中。</p><p>創建一個魔法口袋，裝進幾樣東西，然後在窗口中顯示的偽代碼是這樣的：</p><pre><div><p>魔法口袋 = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BoxSizer # 默認是水平的，想要垂直放東西，需要加上 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.VERTICAL 這個參數</p><p>魔法口袋.a<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(確認按鈕, 0, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALL, 0) # 裝入確認按鈕</p><p>魔法口袋.a<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(取消按鈕, 0, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALL, 0) # 裝入取消按鈕</p><p>窗口.SetSizer(魔法口袋) # 把魔法口袋放到窗口上</p><p>窗口.Layout # 窗口重新佈局</p></div></pre><p>魔法口袋的 a<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i> 方法總共有4個參數：第1個參數很容易理解，就是要裝進口袋的物品；第2個參數和所有 a<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i> 方法的第2個參數之和的比，表示裝進口袋的物品佔用空間的比例，0表示物品多大就佔多大地兒，不額外佔用空間；第3個參數相對複雜些，除了約定裝進口袋的物品在其佔用的空間裡面水平垂直方向的對齊方式外，還可以指定上下左右四個方向中的一個或多個方向的留白（pa<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>ing）；第4個參數就是留白像素數。</p><p>下面是一個完整的例子。</p><pre><div><p>#-*- coding: utf-8 -*-</p><p>import <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i></p><p>import win32api</p><p>import sys, os</p><p>APP_TITLE = u'動態佈局'</p><p>APP_ICON = 'res/python.ico'</p><p>class mainFrame(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame):</p><p>'''程序主窗口類，繼承自<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame'''</p><p>def __init__(self, parent):</p><p>'''構造函數'''</p><p><i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame.__init__(self, parent, -1, APP_TITLE)</p><p>self.SetBackgroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(240, 240, 240))</p><p>self.SetSize((800, 600))</p><p>self.Center</p><p>if hasattr(sys, "frozen") and getattr(sys, "frozen") == "windows_exe":</p><p>exeName = win32api.GetModuleFileName(win32api.GetModuleHandle(None))</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(exeName, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>else :</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(APP_ICON, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>self.SetIcon(icon)</p><p>preview = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Panel(self, -1, style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.SUNKEN_BORDER)</p><p>preview.SetBackgroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(0, 0, 0))</p><p>btn_capture = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Button(self, -1, u'拍照', size=(100, -1))</p><p>btn_up = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Button(self, -1, u'↑', size=(30, 30))</p><p>btn_down = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Button(self, -1, u'↓', size=(30, 30))</p><p>btn_left = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Button(self, -1, u'←', size=(30, 30))</p><p>btn_right = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Button(self, -1, u'→', size=(30, 30))</p><p>tc = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.TextCtrl(self, -1, '', style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.TE_MULTILINE)</p><p>sizer_arrow_mid = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BoxSizer</p><p>sizer_arrow_mid.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(btn_left, 0, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.RIGHT, 16)</p><p>sizer_arrow_mid.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(btn_right, 0, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.LEFT, 16)</p><p>#sizer_arrow = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BoxSizer(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.VERTICAL)</p><p>sizer_arrow = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.StaticBoxSizer(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.StaticBox(self, -1, u'方向鍵'), <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.VERTICAL)</p><p>sizer_arrow.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(btn_up, 0, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALIGN_CENTER|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALL, 0)</p><p>sizer_arrow.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(sizer_arrow_mid, 0, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.TOP|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BOTTOM, 1)</p><p>sizer_arrow.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(btn_down, 0, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALIGN_CENTER|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALL, 0)</p><p>sizer_right = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BoxSizer(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.VERTICAL)</p><p>sizer_right.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(btn_capture, 0, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALL, 20)</p><p>sizer_right.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(sizer_arrow, 0, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALIGN_CENTER|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALL, 0)</p><p>sizer_right.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(tc, 1, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALL, 10)</p><p>sizer_max = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BoxSizer</p><p>sizer_max.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(preview, 1, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EXPAND|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.LEFT|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.TOP|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BOTTOM, 5)</p><p>sizer_max.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(sizer_right, 0, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EXPAND|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALL, 0)</p><p>self.SetAutoLayout(True)</p><p>self.SetSizer(sizer_max)</p><p>self.Layout</p><p>class mainApp(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.App):</p><p>def OnInit(self):</p><p>self.SetAppName(APP_TITLE)</p><p>self.Frame = mainFrame(None)</p><p>self.Frame.Show</p><p>return True</p><p>if __name__ == "__main__":</p><p>app = mainApp</p><p>app.MainLoop</p></div></pre><img alt="wxPython：Python首選的GUI庫 | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RhCm4yw6cTCKqG><p><strong class=highlight-text toutiao-origin=span>AUI佈局</strong></p><p>Advanced User Interface，簡稱AUI，是 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Python 的子模塊，使用 AUI 可以方便地開發出美觀、易用的用戶界面。從2.8.9.2版本之後，<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Python 增加了一個高級通用部件庫 Advanced Generic Widgets，簡稱 AGW 庫。我發先 AGW 庫也提供了 AUI 模塊 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.lib.agw.aui，而 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.aui 也依然保留著。</p><p>AUI佈局可以概括為以下四步：</p><ul><li><p>創建一個佈局管理器：mgr = aui.AuiManager</p></li><li><p>告訴主窗口由mgr來管理界面：mgr.SetManagedWindow</p></li><li><p>添加界面上的各個區域：mgr.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>Pane</p></li><li><p>更新界面顯示：mgr.Update</p></li></ul><p>下面的代碼演示瞭如何使用AUI佈局管理器創建和管理窗口界面。</p><pre><div><p>#-*- coding: utf-8 -*-</p><p>import <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i></p><p>import win32api</p><p>import sys, os</p><p>import <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.lib.agw.aui as aui</p><p>APP_TITLE = u'使用AUI佈局管理器'</p><p>APP_ICON = 'res/python.ico'</p><p>class mainFrame(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame):</p><p>'''程序主窗口類，繼承自<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame'''</p><p>id_open = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.NewId</p><p>id_save = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.NewId</p><p>id_quit = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.NewId</p><p>id_help = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.NewId</p><p>id_about = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.NewId</p><p>def __init__(self, parent):</p><p>'''構造函數'''</p><p><i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame.__init__(self, parent, -1, APP_TITLE)</p><p>self.SetBackgroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(224, 224, 224))</p><p>self.SetSize((800, 600))</p><p>self.Center</p><p>if hasattr(sys, "frozen") and getattr(sys, "frozen") == "windows_exe":</p><p>exeName = win32api.GetModuleFileName(win32api.GetModuleHandle(None))</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(exeName, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>else :</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(APP_ICON, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>self.SetIcon(icon)</p><p>self.tb1 = self._CreateToolBar</p><p>self.tb2 = self._CreateToolBar</p><p>self.tbv = self._CreateToolBar('V')</p><p>p_left = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Panel(self, -1)</p><p>p_center0 = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Panel(self, -1)</p><p>p_center1 = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Panel(self, -1)</p><p>p_bottom = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Panel(self, -1)</p><p>btn = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Button(p_left, -1, u'切換', pos=(30,200), size=(100, -1))</p><p>btn.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_BUTTON, self.OnSwitch)</p><p>text0 = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.StaticText(p_center0, -1, u'我是第1頁', pos=(40, 100), size=(200, -1), style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALIGN_LEFT)</p><p>text1 = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.StaticText(p_center1, -1, u'我是第2頁', pos=(40, 100), size=(200, -1), style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALIGN_LEFT)</p><p>self._mgr = aui.AuiManager</p><p>self._mgr.SetManagedWindow(self)</p><p>self._mgr.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>Pane(self.tb1, </p><p>aui.AuiPaneInfo.Name("ToolBar1").Caption(u"工具條").ToolbarPane.Top.Row(0).Position(0).Floatable(False)</p><p>)</p><p>self._mgr.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>Pane(self.tb2, </p><p>aui.AuiPaneInfo.Name("ToolBar2").Caption(u"工具條").ToolbarPane.Top.Row(0).Position(1).Floatable(True)</p><p>)</p><p>self._mgr.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>Pane(self.tbv, </p><p>aui.AuiPaneInfo.Name("ToolBarV").Caption(u"工具條").ToolbarPane.Right.Floatable(True)</p><p>)</p><p>self._mgr.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>Pane(p_left,</p><p>aui.AuiPaneInfo.Name("LeftPanel").Left.Layer(1).MinSize((200,-1)).Caption(u"操作區").MinimizeButton(True).Ma<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-1">xi</i>mizeButton(True).CloseButton(True)</p><p>)</p><p>self._mgr.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>Pane(p_center0,</p><p>aui.AuiPaneInfo.Name("CenterPanel0").CenterPane.Show</p><p>)</p><p>self._mgr.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>Pane(p_center1,</p><p>aui.AuiPaneInfo.Name("CenterPanel1").CenterPane.Hide</p><p>)</p><p>self._mgr.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>Pane(p_bottom,</p><p>aui.AuiPaneInfo.Name("BottomPanel").Bottom.MinSize((-1,100)).Caption(u"消息區").CaptionVisible(False).Resizable(True)</p><p>)</p><p>self._mgr.Update</p><p>def _CreateToolBar(self, d='H'):</p><p>'''創建工具欄'''</p><p>bmp_open = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Bitmap('res/open_16.png', <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ANY)</p><p>bmp_save = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Bitmap('res/save_16.png', <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ANY)</p><p>bmp_help = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Bitmap('res/help_16.png', <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ANY)</p><p>bmp_about = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Bitmap('res/about_16.png', <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ANY)</p><p>if d.upper in ['V', 'VERTICAL']:</p><p>tb = aui.AuiToolBar(self, -1, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.DefaultPosition, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.DefaultSize, agwStyle=aui.AUI_TB_TEXT|aui.AUI_TB_VERTICAL)</p><p>else:</p><p>tb = aui.AuiToolBar(self, -1, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.DefaultPosition, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.DefaultSize, agwStyle=aui.AUI_TB_TEXT)</p><p>tb.SetToolBitmapSize(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Size(16, 16))</p><p>tb.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>SimpleTool(self.id_open, u'打開', bmp_open, u'打開文件')</p><p>tb.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>SimpleTool(self.id_save, u'保存', bmp_save, u'保存文件')</p><p>tb.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>Separator</p><p>tb.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>SimpleTool(self.id_help, u'幫助', bmp_help, u'幫助')</p><p>tb.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>SimpleTool(self.id_about, u'關於', bmp_about, u'關於')</p><p>tb.Realize</p><p>return tb</p><p>def OnSwitch(self, evt):</p><p>'''切換信息顯示窗口'''</p><p>p0 = self._mgr.GetPane('CenterPanel0')</p><p>p1 = self._mgr.GetPane('CenterPanel1')</p><p>p0.Show(not p0.IsShown)</p><p>p1.Show(not p1.IsShown)</p><p>self._mgr.Update</p><p>class mainApp(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.App):</p><p>def OnInit(self):</p><p>self.SetAppName(APP_TITLE)</p><p>self.Frame = mainFrame(None)</p><p>self.Frame.Show</p><p>return True</p><p>if __name__ == "__main__":</p><p>app = mainApp</p><p>app.MainLoop</p></div></pre><img alt="wxPython：Python首選的GUI庫 | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RhCm5FM3UpUToj><p class=pgc-img-caption><strong class=highlight-text toutiao-origin=span>DC繪圖</strong></p><p>DC 是 Device Context 的縮寫，字面意思是設備上下文——我一直不能正確理解DC這個中文名字，也找不到更合適的說法，所以，我堅持使用DC而不是設備上下文。DC可以在屏幕上繪製點線面，當然也可以繪製文本和圖像。事實上，在底層所有控件都是以位圖形式繪製在屏幕上的，這意味著，我們一旦掌握了DC這個工具，就可以自己創造我們想要的控件了。</p><p>DC有很多種，PaintDC，ClientDC，MemoryDC等。通常，我們可以使用 ClientDC 和 MemoryDC，PaintDC 是發生重繪事件（<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_PAINT）時系統使用的。使用 ClientDC 繪圖時，需要記錄繪製的每一步工作，不然，系統重繪時會令我們前功盡棄——這是使用DC最容易犯的錯誤。</p><pre><div><p>#-*- coding: utf-8 -*-</p><p>import <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i></p><p>import win32api</p><p>import sys, os</p><p>APP_TITLE = u'使用DC繪圖'</p><p>APP_ICON = 'res/python.ico'</p><p>class mainFrame(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame):</p><p>'''程序主窗口類，繼承自<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame'''</p><p>def __init__(self, parent):</p><p>'''構造函數'''</p><p><i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame.__init__(self, parent, -1, APP_TITLE)</p><p>self.SetBackgroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(224, 224, 224))</p><p>self.SetSize((800, 600))</p><p>self.Center</p><p>if hasattr(sys, "frozen") and getattr(sys, "frozen") == "windows_exe":</p><p>exeName = win32api.GetModuleFileName(win32api.GetModuleHandle(None))</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(exeName, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>else :</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(APP_ICON, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>self.SetIcon(icon)</p><p>self.palette = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Panel(self, -1, style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.SUNKEN_BORDER)</p><p>self.palette.SetBackgroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(0, 0, 0))</p><p>btn_base = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Button(self, -1, u'基本方法', size=(100, -1))</p><p>sizer_max = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BoxSizer</p><p>sizer_max.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(self.palette, 1, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EXPAND|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.LEFT|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.TOP|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BOTTOM, 5)</p><p>sizer_max.A<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-2">dd</i>(btn_base, 0, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ALL, 20)</p><p>self.SetAutoLayout(True)</p><p>self.SetSizer(sizer_max)</p><p>self.Layout</p><p>btn_base.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_BUTTON, self.OnBase)</p><p>self.palette.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_MOUSE_EVENTS, self.OnMouse)</p><p>self.palette.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_PAINT, self.OnPaint)</p><p>self.xy = None</p><p>self.lines = list</p><p>self.img = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Bitmap('res/times.png', <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ANY)</p><p>self.ReDraw</p><p>def OnMouse(self, evt):</p><p>'''移動鼠標畫線'''</p><p>if evt.EventType == 10032: #左鍵按下，py3環境下為10030</p><p>self.xy = (evt.x, evt.y)</p><p>elif evt.EventType == 10033: #左鍵彈起，py3環境下為10031</p><p>self.xy = None</p><p>elif evt.EventType == 10038: #鼠標移動，py3環境下為10036</p><p>if self.xy:</p><p>dc = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ClientDC(self.palette)</p><p>dc.SetPen(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Pen(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(0,224,0), 2))</p><p>dc.DrawLine(self.xy[0], self.xy[1], evt.x, evt.y)</p><p>self.lines.append((self.xy[0], self.xy[1], evt.x, evt.y))</p><p>self.xy = (evt.x, evt.y)</p><p>def OnBase(self, evt):</p><p>'''DC基本方法演示'''</p><p>img = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Bitmap('res/times.png', <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ANY)</p><p>w, h = self.palette.GetSize</p><p>dc = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ClientDC(self.palette)</p><p>dc.SetPen(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Pen(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(224,0,0), 1))</p><p>dc.SetBrush(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Brush(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(0,80,80) ))</p><p>dc.DrawRectangle(10,10,w-22,h-22)</p><p>dc.DrawLine(10,h/2,w-12,h/2)</p><p>dc.DrawBitmap(img, 50, 50)</p><p>dc.SetTextForeground(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(224,224,224))</p><p>dc.SetFont(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Font(16, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.FONTFAMILY_DEFAULT, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.FONTSTYLE_NORMAL, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.FONTWEIGHT_NORMAL, False, 'Comic Sans MS'))</p><p>dc.DrawText(u'霜重閒愁起', 100, 500)</p><p>dc.DrawRotatedText(u'春深風也疾', 250, 500, 30)</p><p>def OnPaint(self, evt):</p><p>'''重繪事件函數'''</p><p>dc = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.PaintDC(self.palette)</p><p>self.Paint(dc)</p><p>def ReDraw(self):</p><p>'''手工繪製'''</p><p>dc = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.ClientDC(self.palette)</p><p>self.Paint(dc)</p><p>def Paint(self, dc):</p><p>'''繪圖'''</p><p>w, h = self.palette.GetSize</p><p>dc.Clear</p><p>dc.SetPen(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Pen(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(224,0,0), 1))</p><p>dc.SetBrush(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Brush(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(0,80,80) ))</p><p>dc.DrawRectangle(10,10,w-22,h-22)</p><p>dc.DrawLine(10,h/2,w-12,h/2)</p><p>dc.DrawBitmap(self.img, 50, 50)</p><p>dc.SetTextForeground(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(224,224,224))</p><p>dc.SetFont(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Font(16, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.FONTFAMILY_DEFAULT, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.FONTSTYLE_NORMAL, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.FONTWEIGHT_NORMAL, False, 'Comic Sans MS'))</p><p>dc.DrawText(u'霜重閒愁起', 100, 500)</p><p>dc.DrawRotatedText(u'春深風也疾', 250, 500, 30)</p><p>dc.SetPen(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Pen(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(0,224,0), 2))</p><p>for line in self.lines:</p><p>dc.DrawLine(line[0],line[1],line[2],line[3])</p><p>class mainApp(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.App):</p><p>def OnInit(self):</p><p>self.SetAppName(APP_TITLE)</p><p>self.Frame = mainFrame(None)</p><p>self.Frame.Show</p><p>return True</p><p>if __name__ == "__main__":</p><p>app = mainApp</p><p>app.MainLoop</p></div></pre><img alt="wxPython：Python首選的GUI庫 | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RhCm5Fb4XmEE0G><p><strong class=highlight-text toutiao-origin=span>定時器和線程</strong></p><p>這個例子裡面設計了一個數字式鐘錶，一個秒錶，秒錶顯示精度十分之一毫秒。從代碼設計上來說沒有任何難度，實現的方法有很多種，可想要達到一個較好的顯示效果，卻不是一件容易的事情。請注意體會 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.CallAfter 的使用條件。</p><pre><div><p>#-*- coding: utf-8 -*-</p><p>import <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i></p><p>import win32api</p><p>import sys, os, time</p><p>import threading</p><p>APP_TITLE = u'定時器和線程'</p><p>APP_ICON = 'res/python.ico'</p><p>class mainFrame(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame):</p><p>'''程序主窗口類，繼承自<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame'''</p><p>def __init__(self, parent):</p><p>'''構造函數'''</p><p><i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Frame.__init__(self, parent, -1, APP_TITLE)</p><p>self.SetBackgroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(224, 224, 224))</p><p>self.SetSize((320, 300))</p><p>self.Center</p><p>if hasattr(sys, "frozen") and getattr(sys, "frozen") == "windows_exe":</p><p>exeName = win32api.GetModuleFileName(win32api.GetModuleHandle(None))</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(exeName, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>else :</p><p>icon = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Icon(APP_ICON, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.BITMAP_TYPE_ICO)</p><p>self.SetIcon(icon)</p><p>#font = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Font(24, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.DECORATIVE, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.FONTSTYLE_NORMAL, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.FONTWEIGHT_NORMAL, False, 'Comic Sans MS')</p><p>font = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Font(30, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.DECORATIVE, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.FONTSTYLE_NORMAL, <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.FONTWEIGHT_NORMAL, False, 'Monaco')</p><p>self.clock = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.StaticText(self, -1, u'08:00:00', pos=(50,50), size=(200,50), style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.TE_CENTER|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.SUNKEN_BORDER)</p><p>self.clock.SetForegroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(0, 224, 32))</p><p>self.clock.SetBackgroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(0, 0, 0))</p><p>self.clock.SetFont(font)</p><p>self.stopwatch = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.StaticText(self, -1, u'0:00:00.0', pos=(50,<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-3">150</i>), size=(200,50), style=<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.TE_CENTER|<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.SUNKEN_BORDER)</p><p>self.stopwatch.SetForegroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(0, 224, 32))</p><p>self.stopwatch.SetBackgroundColour(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Colour(0, 0, 0))</p><p>self.stopwatch.SetFont(font)</p><p>self.timer = <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.Timer(self)</p><p>self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_TIMER, self.OnTimer, self.timer)</p><p>self.timer.Start(50)</p><p>self.Bind(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.EVT_KEY_DOWN, self.OnKeyDown)</p><p>self.sec_last = None</p><p>self.is_start = False</p><p>self.t_start = None</p><p>thread_sw = threading.Thread(target=self.StopWatchThread)</p><p>thread_sw.setDaemon(True)</p><p>thread_sw.start</p><p>def OnTimer(self, evt):</p><p>'''定時器函數'''</p><p>t = time.localtime</p><p>if t.tm_sec != self.sec_last:</p><p>self.clock.SetLabel('%02d:%02d:%02d'%(t.tm_hour, t.tm_min, t.tm_sec))</p><p>self.sec_last = t.tm_sec</p><p>def OnKeyDown(self, evt):</p><p>'''鍵盤事件函數'''</p><p>if evt.GetKeyCode == <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.WXK_SPACE:</p><p>self.is_start = not self.is_start</p><p>self.t_start= time.time</p><p>elif evt.GetKeyCode == <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.WXK_ESCAPE:</p><p>self.is_start = False</p><p>self.stopwatch.SetLabel('0:00:00.0')</p><p>def StopWatchThread(self):</p><p>'''線程函數'''</p><p>while True:</p><p>if self.is_start:</p><p>n = int(10*(time.time - self.t_start))</p><p>deci = n%10</p><p>ss = int(n/10)%60</p><p>mm = int(n/600)%60</p><p>hh = int(n/36000)</p><p><i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.CallAfter(self.stopwatch.SetLabel, '%d:%02d:%02d.%d'%(hh, mm, ss, deci))</p><p>time.sleep(0.02)</p><p>class mainApp(<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>.App):</p><p>def OnInit(self):</p><p>self.SetAppName(APP_TITLE)</p><p>self.Frame = mainFrame(None)</p><p>self.Frame.Show</p><p>return True</p><p>if __name__ == "__main__":</p><p>app = mainApp</p><p>app.MainLoop</p></div></pre><img alt="wxPython：Python首選的GUI庫 | CSDN博文精選" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RhCm5Fm3dh3iu0><p><strong>後記</strong></p><p>我使用 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Python 長達十年。它給了我很多的幫助，它讓我覺得一切就該如此。這是我第一次寫關於 <i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-6">wx</i>Python 的話題，寫作過程中，我心存感激。</p><p><strong class=highlight-text toutiao-origin=span>掃碼查看原文</strong></p><p><strong class=highlight-text toutiao-origin=span>▼▼▼</strong></p><img alt="wxPython：Python首選的GUI庫 | CSDN博文精選" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RhCm5Fy5rNotev><p><em>（*本文為AI科技大本營轉載文章，</em><em>轉載</em><em>請微</em><em>信聯繫 1092722531</em><em>）</em></p><p>◆</p><p>◆</p><p>2019 中國大數據技術大會（BDTC）再度來襲！豪華主席陣容及百位技術專家齊聚，15 場精選專題技術和行業論壇，超強幹貨+技術剖析+行業實踐立體解讀，深入解析熱門技術在行業中的實踐落地。<strong class=highlight-text toutiao-origin=span>6.6 折票限時特惠（立減<i class="chrome-extension-mutihighlight chrome-extension-mutihighlight-style-1">140</i>0元），學生票僅 599 元！</strong></p><img alt="wxPython：Python首選的GUI庫 | CSDN博文精選" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RgliMgw2TsbvLz></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>wxPython</a></li><li><a>Python</a></li><li><a>首選</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/91eece92.html alt="只需 45 秒，Python 給故宮畫一組手繪圖！" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/df1bd890ffee4a439e9f5142ae42c102 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/91eece92.html title="只需 45 秒，Python 給故宮畫一組手繪圖！">只需 45 秒，Python 給故宮畫一組手繪圖！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8aab963e.html alt=Python手繪圖瞭解一下！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/746c9e6e214b48b2a0215fc9e151cdc8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8aab963e.html title=Python手繪圖瞭解一下！>Python手繪圖瞭解一下！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cfd854c6.html alt=故宮下雪了！我用Python給它畫了一組手繪圖，僅用45秒（附代碼） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/774d2f0a372f48c589ec84dd3a164dd9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cfd854c6.html title=故宮下雪了！我用Python給它畫了一組手繪圖，僅用45秒（附代碼）>故宮下雪了！我用Python給它畫了一組手繪圖，僅用45秒（附代碼）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b433c17e.html alt="四十、Python模塊random: 偽隨機數據生成與隨機元素抽取" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/25f231d6-c1ce-4cf8-8988-5da509a0c26a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b433c17e.html title="四十、Python模塊random: 偽隨機數據生成與隨機元素抽取">四十、Python模塊random: 偽隨機數據生成與隨機元素抽取</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/04486eba.html alt=Python爬蟲使用selenium爬取群成員信息（全自動實現自動登陸） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/e11e69f643584941aaa2b71ee6ed3d7f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/04486eba.html title=Python爬蟲使用selenium爬取群成員信息（全自動實現自動登陸）>Python爬蟲使用selenium爬取群成員信息（全自動實現自動登陸）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/86b46e6d.html alt=Python爬蟲教程，利用Python採集QQ群成員信息 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6d6cce76ad48405c9dbb960d4617bcef style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/86b46e6d.html title=Python爬蟲教程，利用Python採集QQ群成員信息>Python爬蟲教程，利用Python採集QQ群成員信息</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7739dc7a.html alt=Python數據可視化Matplotlib，如何在一副圖像中顯示多組柱形圖？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5d4a0000046e1bea8b90 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7739dc7a.html title=Python數據可視化Matplotlib，如何在一副圖像中顯示多組柱形圖？>Python數據可視化Matplotlib，如何在一副圖像中顯示多組柱形圖？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/05b8f164.html alt=Python中的多進程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/49dd44b999924b69bd3396709ecacaf4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/05b8f164.html title=Python中的多進程>Python中的多進程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/389d4437.html alt="Python常用算法學習(5) 樹二叉樹（原理+代碼）-最全總結" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d3d5fd4ef98c4a8e8dc9095eeef052a6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/389d4437.html title="Python常用算法學習(5) 樹二叉樹（原理+代碼）-最全總結">Python常用算法學習(5) 樹二叉樹（原理+代碼）-最全總結</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0fa274c2.html alt="七十九、Python | Leetcode 二叉樹系列（上篇）" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/a6c9fa6432a3419a8a60bd334f978a11 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0fa274c2.html title="七十九、Python | Leetcode 二叉樹系列（上篇）">七十九、Python | Leetcode 二叉樹系列（上篇）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f0a927d6.html alt=Python中如何定義只讀屬性？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/60dafb43-a3bb-4456-9f60-3d55ab9e1c4e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f0a927d6.html title=Python中如何定義只讀屬性？>Python中如何定義只讀屬性？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/68f62be6.html alt=Python文件讀寫方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/dca556bb2ffb4013b992ebb4b6a9a296 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/68f62be6.html title=Python文件讀寫方法>Python文件讀寫方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4d9fe5d5.html alt=Python開發常見問題彙總 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1525506011510ee699a3e91 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4d9fe5d5.html title=Python開發常見問題彙總>Python開發常見問題彙總</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7dad731d.html alt=對於新手來說，Python中有哪些難以理解的概念？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1f4ec4c3a6484cf58453023c44e01d75 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7dad731d.html title=對於新手來說，Python中有哪些難以理解的概念？>對於新手來說，Python中有哪些難以理解的概念？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ab8f2e4e.html alt=整數溢出是怎麼回事？Python和Numpy的整數為何不一樣？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d700b7792dc04a3c9b39679d104469d8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ab8f2e4e.html title=整數溢出是怎麼回事？Python和Numpy的整數為何不一樣？>整數溢出是怎麼回事？Python和Numpy的整數為何不一樣？</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>