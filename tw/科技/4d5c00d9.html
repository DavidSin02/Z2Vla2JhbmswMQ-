<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Hash算法及常見碰撞解決方法 | 极客快訊</title><meta property="og:title" content="Hash算法及常見碰撞解決方法 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/60415d1620654fe6b570e237a94ca43c"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4d5c00d9.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4d5c00d9.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4d5c00d9.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4d5c00d9.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4d5c00d9.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4d5c00d9.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4d5c00d9.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4d5c00d9.html><meta property="article:published_time" content="2020-11-14T21:02:06+08:00"><meta property="article:modified_time" content="2020-11-14T21:02:06+08:00"><meta name=Keywords content><meta name=description content="Hash算法及常見碰撞解決方法"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/4d5c00d9.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Hash算法及常見碰撞解決方法</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>轉載請標明出處^_^</p><p>歡迎關注微信公眾號：程序員小圈圈</p><p>原文首發於：www.zhangruibin.com</p><blockquote><p>本文出自於：RebornChang的博客</p></blockquote><h1>Hash算法及常見碰撞解決方法</h1><h1>Hash算法及由來</h1><p>Hash，一般翻譯做“散列”，也有直接音譯為“哈希”的，就是把任意長度的輸入（又叫做預映射， pre-image），通過散列算法，變換成固定長度的輸出，該輸出就是散列值。這種轉換是一種壓縮映射，也就是，散列值的空間通常遠小於輸入的空間，不同的輸入可能會散列成相同的輸出，而不可能從散列值來唯一的確定輸入值。簡單的說就是一種將任意長度的消息壓縮到某一固定長度的消息摘要的函數。</p><p>哈希表是根據設定的哈希函數H（key）和處理衝突方法將一組關鍵字映射到一個有限的地址區間上，並以關鍵字在地址區間中的象作為記錄在表中的存儲位置，這種表稱為哈希表或散列，所得存儲位置稱為哈希地址或散列地址。作為線性數據結構與表格和隊列等相比，哈希表無疑是查找速度比較快的一種。</p><p>通過將單向數學函數（有時稱為“哈希算法”）應用到任意數量的數據所得到的固定大小的結果。如果輸入數據中有變化，則哈希也會發生變化。哈希可用於許多操作，包括身份驗證和數字簽名。也稱為“消息摘要”。</p><p>簡單解釋：哈希（Hash）算法，即散列函數。它是一種單向密碼體制，即它是一個從明文到密文的不可逆的映射，只有加密過程，沒有解密過程。同時，哈希函數可以將任意長度的輸入經過變化以後得到固定長度的輸出。哈希函數的這種單向特徵和輸出數據長度固定的特徵使得它可以生成消息或者數據。---以上摘自網絡</p><h1>Hash算法用途</h1><p>1.數據校驗</p><p>上面說到的md5就是其中的一個, 好像還有一個什麼SHA, 不過我不知道, 也就不展開探討了.</p><p>md5可以將一個文件經過計算轉換成一個指定長度的字符串, 可以防止文件被篡改, 但是通過加密後的字符串很難逆向推出原文.</p><p>前面那個例子可以看到, 即使文件被修改了一點點, 也會導致計算後的值發生很大變換.</p><p>2.唯一標識</p><p>比如說, 現在有十萬個文件, 給你一個文件, 要你在這十萬個文件中查找是否存在. 一個很笨的辦法就是把每一文件都拿出來, 然後按照二進制串一一進行對比. 但是這個操作註定是比較費時的.</p><p>可以用哈希算法對文件進行計算, 然後比較哈希值是否相同. 因為存在哈希衝突的情況, 你可以在相同哈希值的文件再進行二進制串比較.</p><p>3.哈希表</p><p>在哈希表中使用哈希函數已經並不陌生了, 不再贅述.</p><p>4.負載均衡</p><p>比如說, 現在又多臺服務器, 來了一個請求, 如何確定這個請求應該路由到哪個路由器呢?當然, 必須確保相同的請求經過路由到達同一個服務器. 一種辦法就是保存一張路由關係的表, 比如客戶端IP和服務器編號的映射, 但是如果客戶端很多, 勢必查找的時間會很長. 這時, 可以將客戶端的唯一標識信息(如:IP、username等)進行哈希計算, 然後與服務器個數取模, 得到的就是服務器的編號.</p><p>5.分佈式存儲</p><p>當我們有大量數據時, 一般會選擇將數據存儲到多個服務器, 為了提高讀取與寫入的速度嘛. 決定將文件存儲到哪臺服務器, 就可以通過哈希算法取模的操作來得到.</p><p>原文鏈接</p><h1>一致性Hash算法</h1><p>什麼是一致性hash算法</p><p>簡單的說：為了減少碰撞，按照一定的物理規律模擬出來一個環，將自己的有限資源分佈在環上，然後每當一個請求尋址過來時，按照計算給予分配環上的資源。以上這句話是本人自己總結的，裡面有幾個問題：1.環的構造方式是什麼？2.怎樣將有限的資源在環上分配？3.怎樣合理有效的分配資源？4.怎樣判斷構造的環的優缺？...</p><p>可以參考本連接。</p><h1>Hash碰撞及避免碰撞策略</h1><p>Hash碰撞</p><p>對象Hash的前提是實現equals()和hashCode()兩個方法，那麼HashCode()的作用就是保證對象返回唯一hash值，但當兩個對象計算值一樣時，這就發生了碰撞衝突。如下將介紹如何處理衝突，當然其前提是一致性hash。</p><p>避免Hash碰撞策略</p><p>1.開放地址法(再散列法)</p><p>開放地執法有一個公式:Hi=(H(key)+di) MOD m i=1,2,…,k(k&lt;=m-1)</p><p>其中，m為哈希表的表長。di 是產生衝突的時候的增量序列。如果di值可能為1,2,3,…m-1，稱線性探測再散列。如果di取1，則每次衝突之後，向後移動1個位置.如果di取值可能為1,-1,2,-2,4,-4,9,-9,16,-16,…kk,-kk(k&lt;=m/2)，稱二次探測再散列。如果di取值可能為偽隨機數列。稱偽隨機探測再散列。</p><p>2.再哈希法Rehash</p><p>當發生衝突時，使用第二個、第三個、哈希函數計算地址，直到無衝突時。缺點：計算時間增加。比如上面第一次按照姓首字母進行哈希，如果產生衝突可以按照姓字母首字母第二位進行哈希，再衝突，第三位，直到不衝突為止.這種方法不易產生聚集，但增加了計算時間。</p><p>3.鏈地址法（拉鍊法）</p><p>將所有關鍵字為同義詞的記錄存儲在同一線性鏈表中.基本思想:將所有哈希地址為i的元素構成一個稱為同義詞鏈的單鏈表，並將單鏈表的頭指針存在哈希表的第i個單元中，因而查找、插入和刪除主要在同義詞鏈中進行。鏈地址法適用於經常進行插入和刪除的情況。對比JDK 1.7 hashMap的存儲結構是不是很好理解。至於1.8之後鏈表長度大於6rehash 為樹形結構不在此處討論。</p><p>拉鍊法的優缺點</p><p>優點：</p><p>①拉鍊法處理衝突簡單，且無堆積現象，即非同義詞決不會發生衝突，因此平均查找長度較短；②由於拉鍊法中各鏈表上的結點空間是動態申請的，故它更適合於造表前無法確定表長的情況；③開放定址法為減少衝突，要求裝填因子α較小，故當結點規模較大時會浪費很多空間。而拉鍊法中可取α≥1，且結點較大時，拉鍊法中增加的指針域可忽略不計，因此節省空間；④在用拉鍊法構造的散列表中，刪除結點的操作易於實現。只要簡單地刪去鏈表上相應的結點即可。而對開放地址法構造的散列表，刪除結點不能簡單地將被刪結 點的空間置為空，否則將截斷在它之後填人散列表的同義詞結點的查找路徑。這是因為各種開放地址法中，空地址單元(即開放地址)都是查找失敗的條件。因此在 用開放地址法處理衝突的散列表上執行刪除操作，只能在被刪結點上做刪除標記，而不能真正刪除結點。</p><p>缺點：</p><p>指針需要額外的空間，故當結點規模較小時，開放定址法較為節省空間，而若將節省的指針空間用來擴大散列表的規模，可使裝填因子變小，這又減少了開放定址法中的衝突，從而提高平均查找速度。</p><p>4.建立一個公共溢出區</p><p>假設哈希函數的值域為[0,m-1],則設向量HashTable[0..m-1]為基本表，另外設立存儲空間向量OverTable[0..v]用以存儲發生衝突的記錄。以上部分參考自</p><p>注：本文為整理學習記錄所用，博主不產生這種知識，只是知識的搬運工。如有侵權請告知，秒刪！</p><p class=ql-align-center>公眾號關聯的技術文章網站，識別二維碼可以跳轉喲~~</p><div class=pgc-img><img alt=Hash算法及常見碰撞解決方法 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/60415d1620654fe6b570e237a94ca43c><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p class=ql-align-center>長按圖片識別精緻二維碼即可關注本公眾號喲~~</p><div class=pgc-img><img alt=Hash算法及常見碰撞解決方法 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b010ae17bfe94c08a294367dee370693><p class=pgc-img-caption></p></div><p class=ql-align-center><br></p><p>​</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Hash</a></li><li><a>及常見</a></li><li><a>解決</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/42b64558.html alt=Hash算法解決衝突的方法總結 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/15401292345529c66f06db8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/42b64558.html title=Hash算法解決衝突的方法總結>Hash算法解決衝突的方法總結</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/204d163e.html alt="五毛錢解決 蘋果 AirPods容易掉的問題" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/61600003f2800f627a0d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/204d163e.html title="五毛錢解決 蘋果 AirPods容易掉的問題">五毛錢解決 蘋果 AirPods容易掉的問題</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/60684aec.html alt=刀具斷屑不可靠的原因分析及解決方法，建議收藏！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f407c10bcc734093ba560997011073c3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/60684aec.html title=刀具斷屑不可靠的原因分析及解決方法，建議收藏！>刀具斷屑不可靠的原因分析及解決方法，建議收藏！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c3e505a4.html alt=轉化思想：解決數學問題 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/59e6f1ce51984cb8961d6c6343f300fd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c3e505a4.html title=轉化思想：解決數學問題>轉化思想：解決數學問題</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/874267c5.html alt=骨壞死原因及解決 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/3c6b00043c4da524f4ef style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/874267c5.html title=骨壞死原因及解決>骨壞死原因及解決</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/de3e8d44.html alt=剖析軸承損壞症狀、原因及解決方案，收藏技術貼 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/56820001ad8184adee69 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/de3e8d44.html title=剖析軸承損壞症狀、原因及解決方案，收藏技術貼>剖析軸承損壞症狀、原因及解決方案，收藏技術貼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2ab3c579.html alt=HASH碰撞以及解決方案總結 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/8ea629245a5342d9910ea7e9f749200c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2ab3c579.html title=HASH碰撞以及解決方案總結>HASH碰撞以及解決方案總結</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c8f329d0.html alt=一個合格的程序員必會Hash詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/0139af5bf4374f9583277f384c9c343c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c8f329d0.html title=一個合格的程序員必會Hash詳解>一個合格的程序員必會Hash詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cdbf5cb4.html alt=面試中常被問到的Hash表，你瞭解嗎 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/dfic-imagehandler/ba5ea1b5-dee5-4145-8f0d-8eee90a5eba6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cdbf5cb4.html title=面試中常被問到的Hash表，你瞭解嗎>面試中常被問到的Hash表，你瞭解嗎</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0e2547f1.html alt=「數據結構」Hash表 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/617a6d43032e4efbac6b996c9bb5ab11 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0e2547f1.html title=「數據結構」Hash表>「數據結構」Hash表</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/994b4a1f.html alt=到底什麼是Hash？Hash算法的原理和實際應用講解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c0b06143ec4848cd85543d2af3eb2063 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/994b4a1f.html title=到底什麼是Hash？Hash算法的原理和實際應用講解>到底什麼是Hash？Hash算法的原理和實際應用講解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/385a3c55.html alt="數據結構中的 Hash 表" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/0e43812c-6f05-4cf6-af7e-18011d0a316a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/385a3c55.html title="數據結構中的 Hash 表">數據結構中的 Hash 表</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4ddebd12.html alt="SQL 難點解決：記錄的引用" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/3a1b904121564aa389aba6a046772870 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4ddebd12.html title="SQL 難點解決：記錄的引用">SQL 難點解決：記錄的引用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/831e8d80.html alt=和麵機出現故障時應如何解決 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d439c7f04957423fad42fb48879e4af5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/831e8d80.html title=和麵機出現故障時應如何解決>和麵機出現故障時應如何解決</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/99b61eda.html alt=溶解微塑料汙染的解決方案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/b5dec037b56246898cbcf5e964f487ef style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/99b61eda.html title=溶解微塑料汙染的解決方案>溶解微塑料汙染的解決方案</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>