<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>對於新技術棧落地和架構思維的建議 | 极客快訊</title><meta property="og:title" content="對於新技術棧落地和架構思維的建議 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/S5m7iq116qSPib"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4db4b59.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4db4b59.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4db4b59.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4db4b59.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4db4b59.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4db4b59.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4db4b59.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4db4b59.html><meta property="article:published_time" content="2020-10-29T20:50:33+08:00"><meta property="article:modified_time" content="2020-10-29T20:50:33+08:00"><meta name=Keywords content><meta name=description content="對於新技術棧落地和架構思維的建議"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/4db4b59.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>對於新技術棧落地和架構思維的建議</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>這是學習筆記的第 <strong>2253</strong>篇文章</p><p>讀完需要</p><p>5</p><p>分鐘</p><p>速讀僅需3分鐘</p><p>最近參加了TUG的一個圓桌討論活動，也藉著這個機會聊了下對於技術的一些理解。</p><img alt=對於新技術棧落地和架構思維的建議 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/S5m7iq116qSPib><p>我選擇了幾個問題，有些是在現場回答的，有些是自己做的一些補充。</p><p><strong toutiao-origin=span>上線新技術棧要經過怎麼樣的流程驗證，如何設計與打通，評判一個數據架構的好壞有哪些？</strong></p><p>引入新技術的門檻相對是比較高的，通常來說會和已有的方案不對等，不夠那麼公平，如果新方案的整體表現和現有方案差不多，那麼推進改進的落地性就沒有那麼強了。</p><p>在開始之前，有一個點非常重要，重要到不談這個就是空談，這也是今天圓桌討論中玄姐提出的，那就是<strong>當前的痛點，</strong>如果沒有很明確的痛點，那麼這個結果也是隨機結果，落地效果也會相去甚遠。</p><p>以我的經歷來看，比如我們所做的商業數據庫向開源數據庫的架構演進方案，痛點是現有的方案在中長期存在瓶頸，比如用戶量翻番，業務規模翻番，是很難通過資源擴展去適配的，所以這是一個戰略方向，重要且不緊急。新技術方案的體系化落地大體經過了3個步驟，<strong>功能驗證，架構改造，數據遷移和業務切換</strong></p><p>我來詳細說明一下：</p><p><strong>1.功能驗證</strong>：功能驗證是我們進行方案驗證的一個立足點，首先保證對於業務的改造範圍較小，至少在整體功能設計上要和原有的方案保持一致，在功能驗證方面，我們走了一些不得不走的路，比如將存儲過程邏輯冪等改造從商業數據庫整體重構改造到開源數據庫，對於技術沉澱較好的公司和團隊，這一點就可以比較平滑的跨過去，另外對於應用邏輯調用層面，原本存儲過程包乾的模式改造為輕量級SQL的模式，對於流量的變化如果沒有精確的數據支撐，也是很難推動落實下去的，而在訪問模式上，我覺得可能不是一個最糾結的部分，如果能夠平滑支持是最好的，而如果有更高的功能目標，這一點是可以平衡的。</p><p><strong>2.架構改造</strong>：以我們做數據庫的整體架構改造為例，某一個業務的讀寫比例都很高，對於業務延遲相當敏感，在上線前夕明確了讀延遲在1毫秒以內，寫延遲在3.5毫米以內，在保證功能冪等的前提下，我們對整體的方案進行了很多細緻入微的優化調整，從讀寫分離到數據架構的改進，甚至是部署架構的調整能夠提升10%的性能，也是極大的改造，最近將讀延遲控制在了0.8毫秒左右，寫延遲控制在3.2毫秒左右，整體滿足了需求，而且隨著業務規模的增大，也具備水平擴展能力。</p><p>此外，這個階段對於事務的使用時可以理性看待的，很多使用習慣中對於關係型數據庫都會默認啟用事務處理，但是顯然對於流水型業務來說，是完全可以做到事務降維的改造，這裡需要衡量的是你是不是一定需要所謂的OLTP場景和OLAP場景，因為不是所有的業務都需要用著一把尺子來衡量。</p><p><strong>3.數據遷移和切換，</strong>我覺得這是方案落地最關鍵的因素，如果一個方案能夠保持現有的業務使用模式，而且能夠平滑切換，那麼對於方案的落地式非常友好的，但是對於方案的設計層面勢必需要考慮兩個大的方面，第一是數據遷移，第二是業務切換。數據遷移涉及數據量，數據架構的差異，這個過程毫無疑問是異步模式，同時需要基於增量和實時稽核模式對於數據質量進行把關，整個過程的可行性是通過儘可能通過異步流程化實現，即不需要依賴每一個步驟的實時性；業務切換可以基於旁路策略，實現讀流量和寫流量的調度切換，達到對於業務相對平滑無感知到切換目標。</p><p><strong toutiao-origin=span>一個好的架構師的職業素養</strong></p><p>我覺得對於很多DBA同學來說，談架構有優勢有劣勢，優勢在於DBA的工作離架構很近，因為DBA的工作內容包括運維管理，這部分管理工作本身需要更好的理解數據庫原理，而數據庫原理中很多都是組件，服務，體系化的形式，所以DBA的工作實戰中架構思維的培養和提升是具有先天優勢的。劣勢在於這種思維是具有自驅力去不斷推進，如果是畫地為牢的思維模式，即看到很多方案都想去單一的適配，其實思維模式會很侷限，典型的例子就是拿著錘子看到的都是釘子。</p><p>對於很多DBA同學來說，入行門檻相對比較高，很多都是半路出家，對於職業發展轉型來說，開發技能整體水平不高，這是需要強化提高的一個方面。</p><p>架構的角度看待問題，看待問題需要用一種更高的視角，更全面的看待問題，透過現象看本質，不是解決了當前的問題就是萬全之策，架構改造整體是痛苦的，培養起來也很難。</p><p>對結果負責，能夠對結果負責，而不只是“指點江山”，只有建議，無法落地，對於架構師能力養成是很重要的，這其中的一個因素就是自驅力，自驅力無可厚非，需要有時間的沉澱。</p><p>場景折中，這是今天聽玄姐的一個理念，非常認同，很多架構不能直接被拿過來，不同企業規模，業務場景都不能完全適配，需要見招拆招，能夠靈活的使用和應用，同時滿足不同階段的目標需求，這是一種很強的能力，畢竟一切脫離場景的架構都是耍流氓。</p><p>架構逆向思維，很多架構方向都希望做得更多，支持的更加全面，有一種逆向思維值得參考，那就是做得更少，且不脫離場景。比如我們在做的一個架構改造，本來基於大量事務，存儲過程的冗餘調用，OPS非常高，有幾十萬，但是通過邏輯改造，做了事務降維，調整為輕量級SQL調用，整個OPS一下子降到了2萬左右，這是一種非常有效的思考模式。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>技術棧</a></li><li><a>構思維</a></li><li><a>建議</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/60684aec.html alt=刀具斷屑不可靠的原因分析及解決方法，建議收藏！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f407c10bcc734093ba560997011073c3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/60684aec.html title=刀具斷屑不可靠的原因分析及解決方法，建議收藏！>刀具斷屑不可靠的原因分析及解決方法，建議收藏！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/caa9c73a.html alt=電工建議收藏！36種常見照明電路圖 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1d78afed336e46ea96b2b2e1ee1dd8e8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/caa9c73a.html title=電工建議收藏！36種常見照明電路圖>電工建議收藏！36種常見照明電路圖</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1def0f00.html alt=關於虹吸壺萃取咖啡的最全攻略，建議珍藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/98751a91-fbb9-4713-a234-f36643728b2c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1def0f00.html title=關於虹吸壺萃取咖啡的最全攻略，建議珍藏>關於虹吸壺萃取咖啡的最全攻略，建議珍藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0ed7df70.html alt=「科普+選購建議」如何選擇一顆適合你的電源 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/47e9af1897674783b5b39b2035844eb0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0ed7df70.html title=「科普+選購建議」如何選擇一顆適合你的電源>「科普+選購建議」如何選擇一顆適合你的電源</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6fc6e077.html alt=常用的苗木嫁接方法，建議收藏！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/380d79b55876425c899beda9d4b4f3fc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6fc6e077.html title=常用的苗木嫁接方法，建議收藏！>常用的苗木嫁接方法，建議收藏！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c018b81b.html alt=58種鋼材性能、用途彙總！建議收藏！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/eeff0908-48e5-4ff5-b702-23c8318b7358 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c018b81b.html title=58種鋼材性能、用途彙總！建議收藏！>58種鋼材性能、用途彙總！建議收藏！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1549e8af.html alt=棉花弱苗升級的建議 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/289de01506ad4d359572714456caaa3b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1549e8af.html title=棉花弱苗升級的建議>棉花弱苗升級的建議</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b8ac72da.html alt=萬能通訊錄，一人一份！建議珍藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/533b7453ae4e4f4eb269464c112a0382 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b8ac72da.html title=萬能通訊錄，一人一份！建議珍藏>萬能通訊錄，一人一份！建議珍藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8112db1e.html alt=最全的熱線電話來了，建議收藏！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a828a819463a404ca32e4c733bf570a7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8112db1e.html title=最全的熱線電話來了，建議收藏！>最全的熱線電話來了，建議收藏！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f7a17143.html alt=安徽懷寧網友建議當地一鎮併入鄰縣，省委督查室：已轉交研究 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1534570121733dc7e8e7abc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f7a17143.html title=安徽懷寧網友建議當地一鎮併入鄰縣，省委督查室：已轉交研究>安徽懷寧網友建議當地一鎮併入鄰縣，省委督查室：已轉交研究</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2da04296.html alt=衣櫃用太久都褪色了，閨蜜建議用波音軟片貼衣櫃上，效果真的好？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b1638ef1f09e43f8bab8a443657d5c2c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2da04296.html title=衣櫃用太久都褪色了，閨蜜建議用波音軟片貼衣櫃上，效果真的好？>衣櫃用太久都褪色了，閨蜜建議用波音軟片貼衣櫃上，效果真的好？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/833b65b7.html alt=你瞭解電氣工程施工的佈線有多少？建議收藏共同學習 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/0ec8a911-2877-41e3-931e-2a44e702d9d3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/833b65b7.html title=你瞭解電氣工程施工的佈線有多少？建議收藏共同學習>你瞭解電氣工程施工的佈線有多少？建議收藏共同學習</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0d1fc14c.html alt=疾控專家建議：孩子復學注意做好防護 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/471e9744dd6a4ce4b2fdf60526b027a5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0d1fc14c.html title=疾控專家建議：孩子復學注意做好防護>疾控專家建議：孩子復學注意做好防護</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fdd2b8cc.html alt=呼叫中心運營管理的七點建議 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/0d75810cbf7240d88168dad20202f268 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fdd2b8cc.html title=呼叫中心運營管理的七點建議>呼叫中心運營管理的七點建議</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d48d52e6.html alt="一直用錯了？蘋果建議不要滑動關閉後臺程序 否則會有損電池壽命" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RjxAKbvCwxD0er style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d48d52e6.html title="一直用錯了？蘋果建議不要滑動關閉後臺程序 否則會有損電池壽命">一直用錯了？蘋果建議不要滑動關閉後臺程序 否則會有損電池壽命</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>