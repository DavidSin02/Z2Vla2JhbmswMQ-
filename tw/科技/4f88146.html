<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Swapäº¤æ›åˆ†å€æ¦‚å¿µ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Swapäº¤æ›åˆ†å€æ¦‚å¿µ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/1538208895235789e0d1c51"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4f88146.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4f88146.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4f88146.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4f88146.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4f88146.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4f88146.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/4f88146.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/4f88146.html><meta property="article:published_time" content="2020-10-29T21:00:58+08:00"><meta property="article:modified_time" content="2020-10-29T21:00:58+08:00"><meta name=Keywords content><meta name=description content="Swapäº¤æ›åˆ†å€æ¦‚å¿µ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/4f88146.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Swapäº¤æ›åˆ†å€æ¦‚å¿µ</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>ä»€éº¼æ˜¯Linux swap spaceå‘¢ï¼Ÿæˆ‘å€‘å…ˆä¾†çœ‹çœ‹ä¸‹é¢å…©æ®µé—œæ–¼Linux swap spaceçš„è‹±æ–‡ä»‹ç´¹è³‡æ–™:</p><p>Linux divides its physical RAM (random access memory) into chucks of memory called pages. Swapping is the process whereby a page of memory is copied to the preconfigured space on the hard disk, called swap space, to free up that page of memory. The combined sizes of the physical memory and the swap space is the amount of virtual memory available.</p><p>Swap space in Linux is used when the amount of physical memory (RAM) is full. If the system needs more memory resources and the RAM is full, inactive pages in memory are moved to the swap space. While swap space can help machines with a small amount of RAM, it should not be considered a replacement for more RAM. Swap space is located on hard drives, which have a slower access time than physical memory.Swap space can be a dedicated swap partition (recommended), a swap file, or a combination of swap partitions and swap files.</p><p>Linuxå…§æ ¸ç‚ºäº†æé«˜è®€å¯«æ•ˆç‡èˆ‡é€Ÿåº¦ï¼Œæœƒå°‡æ–‡ä»¶åœ¨å…§å­˜ä¸­é€²è¡Œç·©å­˜ï¼Œé€™éƒ¨åˆ†å…§å­˜å°±æ˜¯Cache Memory(ç·©å­˜å…§å­˜)ã€‚å³ä½¿ä½ çš„ç¨‹åºé‹è¡ŒçµæŸå¾Œï¼ŒCache Memoryä¹Ÿä¸æœƒè‡ªå‹•é‡‹æ”¾ã€‚é€™å°±æœƒå°è‡´ä½ åœ¨Linuxç³»çµ±ä¸­ç¨‹åºé »ç¹è®€å¯«æ–‡ä»¶å¾Œï¼Œä½ æœƒç™¼ç¾å¯ç”¨ç‰©ç†å…§å­˜è®Šå°‘ã€‚ç•¶ç³»çµ±çš„ç‰©ç†å…§å­˜ä¸å¤ ç”¨çš„æ™‚å€™ï¼Œå°±éœ€è¦å°‡ç‰©ç†å…§å­˜ä¸­çš„ä¸€éƒ¨åˆ†ç©ºé–“é‡‹æ”¾å‡ºä¾†ï¼Œä»¥ä¾›ç•¶å‰é‹è¡Œçš„ç¨‹åºä½¿ç”¨ã€‚é‚£äº›è¢«é‡‹æ”¾çš„ç©ºé–“å¯èƒ½ä¾†è‡ªä¸€äº›å¾ˆé•·æ™‚é–“æ²’æœ‰ä»€éº¼æ“ä½œçš„ç¨‹åºï¼Œé€™äº›è¢«é‡‹æ”¾çš„ç©ºé–“è¢«è‡¨æ™‚ä¿å­˜åˆ°Swapç©ºé–“ä¸­ï¼Œç­‰åˆ°é‚£äº›ç¨‹åºè¦é‹è¡Œæ™‚ï¼Œå†å¾Swapåˆ†å€ä¸­æ¢å¾©ä¿å­˜çš„æ•¸æ“šåˆ°å…§å­˜ä¸­ã€‚é€™æ¨£ï¼Œç³»çµ±ç¸½æ˜¯åœ¨ç‰©ç†å…§å­˜ä¸å¤ æ™‚ï¼Œæ‰é€²è¡ŒSwapäº¤æ›ã€‚</p><p>é—œæ–¼Swapåˆ†å€ï¼Œå…¶å¯¦æˆ‘å€‘æœ‰å¾ˆå¤šç–‘å•,å¦‚æœèƒ½å¼„æ¸…æ¥šé€™äº›ç–‘å•ï¼Œé‚£éº¼ä½ å°Swapçš„ç­è§£æŒæ¡å°±å·®ä¸å¤šäº†ã€‚å¦‚ä½•æŸ¥çœ‹Swapåˆ†å€å¤§å°ï¼Ÿ Swapåˆ†å€å¤§å°æ‡‰è©²å¦‚ä½•è¨­ç½®ï¼Ÿç³»çµ±åœ¨ä»€éº¼æ™‚å€™æœƒä½¿ç”¨Swapåˆ†å€? æ˜¯å¦å¯ä»¥èª¿æ•´ï¼Ÿ å¦‚ä½•èª¿æ•´Swapåˆ†å€çš„å¤§å°ï¼ŸSwapåˆ†å€æœ‰ä»€éº¼å„ªåŠ£å’Œè¦æ³¨æ„çš„åœ°æ–¹ï¼Ÿ Swapåˆ†å€æ˜¯å¦å¿…è¦ï¼Ÿé‚£éº¼æˆ‘ä¸€å€‹ä¸€å€‹ä¾†çœ‹çœ‹é€™äº›ç–‘å•å§ï¼</p><p><strong>æŸ¥çœ‹Swapåˆ†å€å¤§å°</strong></p><p>æŸ¥çœ‹Swapåˆ†å€çš„å¤§å°ä»¥åŠä½¿ç”¨æƒ…æ³ï¼Œä¸€èˆ¬ä½¿ç”¨freeå‘½ä»¤å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼ŒSwapå¤§å°ç‚º2015Mï¼Œç›®å‰æ²’æœ‰ä½¿ç”¨Swapåˆ†å€</p><pre>[root@DB-Server ~]# free -m total used free shared buffers cachedMem: 1000 855 145 0 28 296-/+ buffers/cache: 530 470Swap: 2015 0 2015</pre><p>å¦å¤–æˆ‘å€‘é‚„å¯ä»¥ä½¿ç”¨swaponå‘½ä»¤æŸ¥çœ‹ç•¶å‰swapç›¸é—œä¿¡æ¯ï¼šä¾‹å¦‚swapç©ºé–“æ˜¯swap partitionï¼ŒSwap sizeï¼Œä½¿ç”¨æƒ…æ³ç­‰è©³ç´°ä¿¡æ¯</p><pre>[root@DB-Server ~]# swapon -sFilename Type Size Used Priority/dev/sda3 partition 2064344 0 -1[root@DB-Server ~]# cat /proc/swapsFilename Type Size Used Priority/dev/sda3 partition 2064344 0 -1[root@DB-Server ~]# </pre><div class=pgc-img><img alt=Swapäº¤æ›åˆ†å€æ¦‚å¿µ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1538208895235789e0d1c51><p class=pgc-img-caption></p></div><p><strong>Swapåˆ†å€å¤§å°è¨­ç½®</strong></p><p>ç³»çµ±çš„Swapåˆ†å€å¤§å°è¨­ç½®å¤šå¤§æ‰æ˜¯æœ€å„ªå‘¢ï¼Ÿ é—œæ–¼é€™å€‹å•é¡Œï¼Œæ‡‰è©²èªªåªèƒ½æœ‰ä¸€å€‹çµ±ä¸€çš„åƒè€ƒæ¨™æº–ï¼Œå…·é«”é‚„æ‡‰è©²æ ¹æ“šç³»çµ±å¯¦éš›æƒ…æ³å’Œå…§å­˜çš„è² è·ç¶œåˆè€ƒæ…®ï¼ŒåƒORACLEçš„å®˜æ–¹æ–‡æª”å°±æ¨è–¦å¦‚ä¸‹è¨­ç½®ï¼Œé€™å€‹æ˜¯æ ¹æ“šç‰©ç†å…§å­˜ä¾†åšåƒè€ƒçš„ã€‚</p><p><strong>RAM</strong></p><p><strong>Swap Space</strong></p><p><strong>Up to 512 MB</strong></p><p>2 times the size of RAM</p><p><strong>Between 1024 MB and 2048 MB</strong></p><p>1.5 times the size of RAM</p><p><strong>Between 2049 MB and 8192 MB</strong></p><p>Equal to the size of RAM</p><p><strong>More than 8192 MB</strong></p><p>0.75 times the size of RAM</p><p>å¦å¤–åœ¨å…¶å®ƒåšå®¢ä¸­çœ‹åˆ°ä¸‹é¢ä¸€å€‹æ¨è–¦è¨­ç½®ï¼Œç•¶ç„¶æˆ‘ä¸æ¸…æ¥šå…¶æ€éº¼å¾—åˆ°é€™å€‹æ¨™æº–çš„ã€‚æ˜¯å¦åˆç†ä¹Ÿç„¡å¾è€ƒè­‰ã€‚å¯ä»¥ä½œç‚ºä¸€å€‹åƒè€ƒã€‚</p><p>4Gä»¥å…§çš„ç‰©ç†å…§å­˜ï¼ŒSWAP è¨­ç½®ç‚ºå…§å­˜çš„2å€ã€‚</p><p>4-8Gçš„ç‰©ç†å…§å­˜ï¼ŒSWAP ç­‰æ–¼å…§å­˜å¤§å°ã€‚</p><p>8-64G çš„ç‰©ç†å…§å­˜ï¼ŒSWAP è¨­ç½®ç‚º8Gã€‚</p><p>64-256Gç‰©ç†å…§å­˜ï¼ŒSWAP è¨­ç½®ç‚º16Gã€‚</p><p>ä¸Šä¸‹å…©å€‹æ¨™æº–ç¢ºå¯¦ä¹Ÿå¾ˆè®“äººç„¡æ‰€é©å¾ã€‚æˆ‘å°±æœ‰ä¸€æ¬¡åœ¨ä¸€è‡ºORACLEæ•¸æ“šåº«æœå‹™å™¨ï¼ˆ64Gçš„RAMï¼‰ï¼ŒæŒ‰ç…§å®˜æ–¹æ¨è–¦è¨­ç½®äº†ä¸€å€‹å¾ˆå¤§çš„Swapåˆ†å€ï¼Œä½†æ˜¯æˆ‘ç™¼ç¾å…¶å¯¦é€™å€‹Swapå¹¾ä¹å¾ˆå°‘ç”¨åˆ°ï¼Œå…¶å¯¦æ˜¯æµªè²»äº†ç£ç›¤ç©ºé–“ã€‚æ‰€ä»¥å¦‚æœæ ¹æ“šç³»çµ±å¯¦éš›æƒ…æ³å’Œå…§å­˜çš„è² è·ç¶œåˆè€ƒæ…®ï¼Œå…¶å¯¦æ‡‰è©²æŒ‰ç…§ç¬¬äºŒå€‹åƒè€ƒæ¨™æº–è¨­ç½®ç‚º8Gå³å¯ã€‚ç•¶ç„¶é€™å€‹åªæ˜¯å€‹äººçš„ä¸€äº›èªçŸ¥ã€‚</p><p><strong>é‡‹æ”¾Swapåˆ†å€ç©ºé–“</strong></p><pre>[root@testlnx ~]# free -m total used free shared buffers cachedMem: 64556 55368 9188 0 926 51405-/+ buffers/cache: 3036 61520Swap: 65535 13 65522[root@testlnx ~]# swapon -sFilename Type Size Used Priority/dev/mapper/VolGroup00-LogVol01 partition 67108856 14204 -1</pre><p><strong>ä½¿ç”¨swapoffé—œé–‰äº¤æ›åˆ†å€</strong></p><p>[root@testlnx ~]# swapoff /dev/mapper/VolGroup00-LogVol01</p><p><strong>ä½¿ç”¨swaponå•Ÿç”¨äº¤æ›åˆ†å€</strong>ï¼Œæ­¤æ™‚æŸ¥çœ‹äº¤æ›åˆ†å€çš„ä½¿ç”¨æƒ…æ³ï¼Œä½ æœƒç™¼ç¾usedç‚º0äº†</p><pre>[root@testlnx ~]# swapon /dev/mapper/VolGroup00-LogVol01[root@testlnx ~]# free -m total used free shared buffers cachedMem: 64556 55385 9171 0 926 51406-/+ buffers/cache: 3052 61504Swap: 65535 0 65535[root@testlnx ~]#</pre><p><strong>Swapåˆ†å€ç©ºé–“ä»€éº¼æ™‚å€™ä½¿ç”¨</strong></p><p>ç³»çµ±åœ¨ä»€éº¼æƒ…æ³æˆ–æ¢ä»¶ä¸‹æ‰æœƒä½¿ç”¨Swapåˆ†å€çš„ç©ºé–“å‘¢ï¼Ÿ å…¶å¯¦æ˜¯Linuxé€šéä¸€å€‹åƒæ•¸swappinessä¾†æ§åˆ¶çš„ã€‚ç•¶ç„¶é‚„æ¶‰åŠåˆ°è¤‡é›œçš„ç®—æ³•ã€‚</p><p>é€™å€‹åƒæ•¸å€¼å¯ç‚º 0-100ï¼Œæ§åˆ¶ç³»çµ± swap çš„ä½¿ç”¨ç¨‹åº¦ã€‚é«˜æ•¸å€¼å¯å„ªå…ˆç³»çµ±æ€§èƒ½ï¼Œåœ¨é€²ç¨‹ä¸æ´»èºæ™‚ä¸»å‹•å°‡å…¶è½‰æ›å‡ºç‰©ç†å…§å­˜ã€‚ä½æ•¸å€¼å¯å„ªå…ˆäº’å‹•æ€§ä¸¦å„˜é‡é¿å…å°‡é€²ç¨‹è½‰æ›è™•ç‰©ç†å…§å­˜ï¼Œä¸¦é™ä½åæ‡‰å»¶é²ã€‚é»˜èªå€¼ç‚º 60ã€‚æ³¨æ„ï¼šé€™å€‹åªæ˜¯ä¸€å€‹æ¬Šå€¼ï¼Œä¸æ˜¯ä¸€å€‹ç™¾åˆ†æ¯”å€¼ï¼Œæ¶‰åŠåˆ°ç³»çµ±å…§æ ¸è¤‡é›œçš„ç®—æ³•ã€‚é—œæ–¼è©²åƒæ•¸è«‹åƒè€ƒé€™ç¯‡æ–‡ç« [è½‰è¼‰]èª¿æ•´è™›æ“¬å…§å­˜ï¼Œåœ¨æ­¤ä¸åšéå¤šè´…è¿°ã€‚ä¸‹é¢æ˜¯é—œæ–¼swappinessçš„ç›¸é—œè³‡æ–™</p><p>The Linux 2.6 kernel added a new kernel parameter called swappiness to let administrators tweak the way Linux swaps. It is a number from 0 to 100. In essence, higher values lead to more pages being swapped, and lower values lead to more applications being kept in memory, even if they are idle. Kernel maintainer Andrew Morton has said that he runs his desktop machines with a swappiness of 100, stating that "My point is that decreasing the tendency of the kernel to swap stuff out is wrong. You really don't want hundreds of megabytes of BloatyApp's untouched memory floating about in the machine. Get it out on the disk, use the memory for something useful."</p><p>Swappiness is a property of the Linux kernel that changes the balance between swapping out runtime memory, as opposed to dropping pages from the system page cache. Swappiness can be set to values between 0 and 100 inclusive. A low value means the kernel will try to avoid swapping as much as possible where a higher value instead will make the kernel aggressively try to use swap space. The default value is 60, and for most desktop systems, setting it to 100 may affect the overall performance, whereas setting it lower (even 0) may improve interactivity (by decreasing response latency.</p><p>æœ‰å…©ç¨®è‡¨æ™‚ä¿®æ”¹swappinessåƒæ•¸çš„æ–¹æ³•ï¼Œç³»çµ±é‡å•Ÿå¾Œå¤±æ•ˆ</p><pre>æ–¹æ³•1ï¼š[root@DB-Server ~]# more /proc/sys/vm/swappiness60[root@DB-Server ~]# echo 10 &gt; /proc/sys/vm/swappiness[root@DB-Server ~]# more /proc/sys/vm/swappiness10 æ–¹æ³•2[root@DB-Server ~]#sysctl vm.swappiness=10</pre><p>æ°¸ä¹…ä¿®æ”¹swappinessåƒæ•¸çš„æ–¹æ³•å°±æ˜¯åœ¨é…ç½®æ–‡ä»¶/etc/sysctl.confè£¡é¢ä¿®æ”¹vm.swappinessçš„å€¼ï¼Œç„¶å¾Œé‡å•Ÿç³»çµ±</p><pre>echo 'vm.swappiness=10' &gt;&gt;/etc/sysctl.conf</pre><p>å¦‚æœæœ‰äººæœƒå•æ˜¯å¦ç‰©ç†å…§å­˜ä½¿ç”¨åˆ°æŸå€‹ç™¾åˆ†æ¯”å¾Œæ‰æœƒä½¿ç”¨Swapäº¤æ›ç©ºé–“ï¼Œå¯ä»¥æ˜ç¢ºçš„å‘Šè¨´ä½ ä¸æ˜¯é€™æ¨£ä¸€å€‹ç®—æ³•ï¼Œå¦‚ä¸‹æˆªåœ–æ‰€ç¤ºï¼ŒåŠæ™‚ç‰©ç†å…§å­˜åªå‰©ä¸‹8Mäº†ï¼Œä½†æ˜¯ä¾ç„¶æ²’æœ‰ä½¿ç”¨Swapäº¤æ›ç©ºé–“ï¼Œè€Œå¦å¤–ä¸€å€‹ä¾‹å­ï¼Œç‰©ç†å…§å­˜é‚„å‰©ä¸‹19Gï¼Œå±…ç„¶ç”¨äº†ä¸€é»é»Swapäº¤æ›ç©ºé–“ã€‚</p><div class=pgc-img><img alt=Swapäº¤æ›åˆ†å€æ¦‚å¿µ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1538208895294b865968294><p class=pgc-img-caption></p></div><div class=pgc-img><img alt=Swapäº¤æ›åˆ†å€æ¦‚å¿µ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/153820889550278669de3d5><p class=pgc-img-caption></p></div><p>å¦å¤–èª¿æ•´/proc/sys/vm/swappinessé€™å€‹åƒæ•¸ï¼Œå¦‚æœä½ æ²’æœ‰çµ•å°æŠŠæ¡ï¼Œå°±ä¸è¦éš¨ä¾¿èª¿æ•´é€™å€‹å…§æ ¸åƒæ•¸ï¼Œé€™å€‹åƒæ•¸ç¬¦åˆå¤§å¤šæ•¸æƒ…æ³ä¸‹çš„ä¸€å€‹æœ€å„ªå€¼ã€‚</p><p><strong>Swapäº¤æ›åˆ†å€å°æ€§èƒ½çš„å½±éŸ¿</strong></p><p>æˆ‘å€‘çŸ¥é“Linuxå¯ä»¥ä½¿ç”¨æ–‡ä»¶ç³»çµ±ä¸­çš„ä¸€å€‹å¸¸è¦æ–‡ä»¶æˆ–ç¨ç«‹åˆ†å€ä½œç‚ºSwapäº¤æ›ç©ºé–“ï¼Œç›¸å°è€Œè¨€ï¼Œäº¤æ›åˆ†å€è¦å¿«ä¸€äº›ã€‚ä½†æ˜¯å’ŒRAMæ¯”è¼ƒè€Œè¨€ï¼ŒSwapäº¤æ›åˆ†å€çš„æ€§èƒ½ä¾ç„¶æ¯”ä¸ä¸Šç‰©ç†å…§å­˜ï¼Œç›®å‰çš„æœå‹™å™¨ä¸ŠRAMåŸºæœ¬ä¸Šéƒ½ç›¸ç•¶å……è¶³ï¼Œé‚£éº¼æ˜¯å¦å¯ä»¥è€ƒæ…®æ‹‹æ£„Swapäº¤æ›åˆ†å€ï¼Œæ˜¯å¦ä¸éœ€è¦ä¿ç•™Swapäº¤æ›åˆ†å€å‘¢ï¼Ÿé€™å€‹å…¶å¯¦æ˜¯æˆ‘çš„ç–‘å•ä¹‹ä¸€ã€‚åœ¨é€™ç¯‡What Is a Linux SWAP Partition, And What Does It Do?åšå®¢ä¸­ï¼Œä½œè€…çµ¦å‡ºäº†swapäº¤æ›ç©ºé–“çš„å„ªåŠ£</p><p><strong>Advantages:</strong></p><ol><li>Provides overflow space when your memory fills up completely</li><li>Can move rarely-needed items away from your high-speed memory</li><li>Allows you to hibernate</li></ol><p><strong>Disadvantages:</strong></p><ol><li>Takes up space on your hard drive as SWAP partitions do not resize dynamically</li><li>Can increase wear and tear to your hard drive</li><li>Does not necessarily improve performance (see below)</li></ol><p>å…¶å¯¦ä¿ç•™swapåˆ†å€æ¦‚æ‹¬èµ·ä¾†å¯ä»¥å¾ä¸‹é¢ä¾†çœ‹ï¼š</p><p>é¦–å…ˆï¼Œç•¶ç‰©ç†å…§å­˜ä¸è¶³ä»¥æ”¯æ’ç³»çµ±å’Œæ‡‰ç”¨ç¨‹åºï¼ˆé€²ç¨‹ï¼‰çš„é‹ä½œæ™‚ï¼Œé€™å€‹Swapäº¤æ›åˆ†å€å¯ä»¥ç”¨ä½œè‡¨æ™‚å­˜æ”¾ä½¿ç”¨ç‡ä¸é«˜çš„å…§å­˜åˆ†é ï¼ŒæŠŠé¨°å‡ºçš„å…§å­˜äº¤çµ¦æ€¥éœ€çš„æ‡‰ç”¨ç¨‹åºï¼ˆé€²ç¨‹ï¼‰ä½¿ç”¨ã€‚æœ‰é»é¡ä¼¼æ©Ÿæˆ¿çš„UPSç³»çµ±ï¼Œé›–ç„¶æ­£å¸¸æƒ…æ³ä¸‹ä¸éœ€è¦ä½¿ç”¨ï¼Œä½†æ˜¯ç•°å¸¸æƒ…æ³ä¸‹ï¼Œ Swapäº¤æ›åˆ†å€é‚„æ˜¯æœƒç™¼æ®å…¶é—œéµä½œç”¨ã€‚</p><p>å…¶æ¬¡ï¼Œå³ä½¿ä½ çš„æœå‹™å™¨æ“æœ‰è¶³å¤ å¤šçš„ç‰©ç†å…§å­˜ï¼Œä¹Ÿæœ‰ä¸€äº›ç¨‹åºæœƒåœ¨å®ƒå€‘åˆå§‹åŒ–æ™‚æ®˜ç•™çš„æ¥µå°‘å†ç”¨åˆ°çš„å…§å­˜åˆ†é å…§å®¹è½‰ç§»åˆ° swap ç©ºé–“ï¼Œä»¥æ­¤è®“å‡ºç‰©ç†å…§å­˜ç©ºé–“ã€‚å°æ–¼æœ‰ç™¼ç”Ÿå…§å­˜æ´©æ¼æ©Ÿç‡çš„æ‡‰ç”¨ç¨‹åºï¼ˆé€²ç¨‹ï¼‰ï¼ŒSwapäº¤æ›åˆ†å€æ›´æ˜¯é‡è¦ï¼Œå› ç‚ºèª°ä¹Ÿä¸æƒ³çœ‹åˆ°ç”±æ–¼ç‰©ç†å…§å­˜ä¸è¶³å°è‡´ç³»çµ±å´©æ½°ã€‚</p><p>æœ€å¾Œï¼Œç¾åœ¨å¾ˆå¤šå€‹äººç”¨æˆ¶åœ¨ä½¿ç”¨Linuxï¼Œæœ‰äº›ç”šè‡³æ˜¯PCçš„è™›æ“¬æ©Ÿä¸Šè·‘Linuxç³»çµ±ï¼Œæ­¤æ™‚å¯èƒ½å¸¸ç”¨åˆ°ä¼‘çœ ï¼ˆHibernateï¼‰ï¼Œé€™ç¨®æƒ…æ³ä¸‹ä¹Ÿæ˜¯æ¨è–¦åŠƒåˆ†Swapäº¤æ›åˆ†å€çš„ã€‚</p><p>å…¶å¯¦å°‘é‡ä½¿ç”¨Swapäº¤æ›ç©ºé–“æ˜¯ä¸æœƒå½±éŸ¿æ€§èƒ½ï¼Œåªæœ‰ç•¶RAMè³‡æºå‡ºç¾ç“¶é ¸æˆ–è€…å…§å­˜æ´©éœ²ï¼Œé€²ç¨‹ç•°å¸¸æ™‚å°è‡´é »ç¹ã€å¤§é‡ä½¿ç”¨äº¤æ›åˆ†å€æ‰æœƒå°è‡´åš´é‡æ€§èƒ½å•é¡Œã€‚å¦å¤–ä½¿ç”¨Swapäº¤æ›åˆ†å€é »ç¹ï¼Œé‚„æœƒå¼•èµ·kswapd0é€²ç¨‹ï¼ˆè™›æ“¬å…§å­˜ç®¡ç†ä¸­, è² è²¬æ›é çš„ï¼‰è€—ç”¨å¤§é‡CPUè³‡æºï¼Œå°è‡´CPUé£†å‡ã€‚</p><p>é—œæ–¼Swapåˆ†å€çš„å„ªåŠ£ä»¥åŠæ˜¯å¦æ‡‰è©²æ¨æ£„ï¼Œæˆ‘æœ‰é»æƒ¡è¶£å‘³çš„æƒ³åˆ°äº†é€™å€‹äº‹æƒ…ï¼šäººèº«ä¸Šçš„å…©å€‹å™¨å®˜ï¼Œé—Œå°¾å’Œæ‰æ¡ƒé«”ã€‚åˆ‡é™¤é—Œå°¾æˆ–æ‰æ¡ƒé«”æ˜¯å¦ä¹Ÿæ˜¯çˆ­è«–ä¸ä¼‘ã€‚å¦å¤–ï¼Œå…¶å¯¦ä¸è¦Swapäº¤æ›åˆ†å€ï¼ŒLinuxä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸é‹è¡Œçš„ï¼ˆæœ‰äººæåŠéé€™å€‹å•é¡Œï¼‰</p><p><strong>èª¿æ•´Swapåˆ†å€çš„å¤§å°</strong></p><p>å¦‚ä¸‹æ¸¬è©¦æ¡ˆä¾‹æ‰€ç¤ºï¼ŒSwapåˆ†å€å¤§å°ç‚º65535Mï¼Œæˆ‘ç¾åœ¨æƒ³å°‡Swapåˆ†å€èª¿æ•´ç‚º8Gï¼Œé‚£éº¼æˆ‘å€‘ä¾†çœ‹çœ‹å…·é«”æ“ä½œå§</p><p>1ï¼šæŸ¥çœ‹Swapçš„ä½¿ç”¨æƒ…æ³ä»¥åŠç›¸é—œä¿¡æ¯</p><pre>[root@getlnx14uat ~]# swapon -sFilename Type Size Used Priority/dev/mapper/VolGroup00-LogVol01 partition 67108856 878880 -1[root@getlnx14uat ~]# free -m total used free shared buffers cachedMem: 3957 3920 36 0 39 3055-/+ buffers/cache: 825 3132Swap: 65535 858 64677</pre><p>2ï¼š é—œé–‰Swapäº¤æ›åˆ†å€</p><pre>[root@getlnx14uat ~]# swapoff /dev/mapper/VolGroup00-LogVol01[root@getlnx14uat ~]# swapon -sFilename Type Size Used Priority</pre><p>3ï¼š é€™è£¡æ˜¯ç¸®å°Swapåˆ†å€å¤§å°ï¼Œå¦‚æœæ˜¯å¢å¤§Swapåˆ†å€å¤§å°ï¼Œé‚£éº¼å°±éœ€è¦æ“´å±•æ­£åœ¨ä½¿ç”¨çš„swapåˆ†å€çš„é‚è¼¯å·,æ­¤è™•ä½¿ç”¨lvreduceå‘½ä»¤æ”¶ç¸®é‚è¼¯å·ã€‚</p><pre>[root@getlnx14uat ~]# lvreduce -L 8G /dev/mapper/VolGroup00-LogVol01 WARNING: Reducing active logical volume to 8.00 GB THIS MAY DESTROY YOUR DATA (filesystem etc.)Do you really want to reduce LogVol01? [y/n]: y Reducing logical volume LogVol01 to 8.00 GB Logical volume LogVol01 successfully resized</pre><p>4ï¼šæ ¼å¼åŒ–swapåˆ†å€</p><pre>[root@getlnx14uat ~]# mkswap /dev/mapper/VolGroup00-LogVol01Setting up swapspace version 1, size = 8589930 kB</pre><p>5:å•Ÿå‹•swapåˆ†å€,ä¸¦å¢åŠ åˆ°/etc/fstabè‡ªå‹•æ›è¼‰</p><pre>[root@getlnx14uat ~]# swapon -sFilename Type Size Used Priority[root@getlnx14uat ~]# swapon /dev/mapper/VolGroup00-LogVol01[root@getlnx14uat ~]# swapon -sFilename Type Size Used Priority/dev/mapper/VolGroup00-LogVol01 partition 8388600 0 -1</pre><div class=pgc-img><img alt=Swapäº¤æ›åˆ†å€æ¦‚å¿µ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/15382088954441d1d43e0dd><p class=pgc-img-caption></p></div><p><strong>åƒè€ƒè³‡æ–™ï¼š</strong></p><p>https://wiki.archlinux.org/index.php/swap</p><p><u>http://blog.csdn.net/tianlesoftware/article/details/8741873</u></p><p><u>http://www.makeuseof.com/tag/swap-partition/</u></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Swap</a></li><li><a>äº¤æ›</a></li><li><a>åˆ†å€</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/0ef4a8fd.html alt=ã€Œç¶²å·¥é€²éšã€è·¯ç”±äº¤æ›ï¼šéˆè·¯èšåˆçš„é…ç½®ï¼Œä½ éƒ½æœƒå— class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/f5b7228828484a249973d030a8ae92a6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0ef4a8fd.html title=ã€Œç¶²å·¥é€²éšã€è·¯ç”±äº¤æ›ï¼šéˆè·¯èšåˆçš„é…ç½®ï¼Œä½ éƒ½æœƒå—>ã€Œç¶²å·¥é€²éšã€è·¯ç”±äº¤æ›ï¼šéˆè·¯èšåˆçš„é…ç½®ï¼Œä½ éƒ½æœƒå—</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/35ebbbc8.html alt=äº¤æ›æ©Ÿéˆè·¯å¸¶å¯¬ä¸å¤ ç”¨æ€éº¼è¾¦ï¼Ÿå¯ä»¥é€šééˆè·¯æ†ç¶å¢åŠ éˆè·¯å¸¶å¯¬ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/8cfd610c006140cebf4355d60e84b06e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/35ebbbc8.html title=äº¤æ›æ©Ÿéˆè·¯å¸¶å¯¬ä¸å¤ ç”¨æ€éº¼è¾¦ï¼Ÿå¯ä»¥é€šééˆè·¯æ†ç¶å¢åŠ éˆè·¯å¸¶å¯¬>äº¤æ›æ©Ÿéˆè·¯å¸¶å¯¬ä¸å¤ ç”¨æ€éº¼è¾¦ï¼Ÿå¯ä»¥é€šééˆè·¯æ†ç¶å¢åŠ éˆè·¯å¸¶å¯¬</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4cd32872.html alt=äº¤æ›æ©Ÿéˆè·¯èšåˆæœ€å¸¸ç”¨å ´æ™¯åˆ†æï¼Œè¨˜ä½ä¸€å¼µè¡¨æ ¼å³å¯ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/93898ffc9d7b4672b064a870525bab57 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4cd32872.html title=äº¤æ›æ©Ÿéˆè·¯èšåˆæœ€å¸¸ç”¨å ´æ™¯åˆ†æï¼Œè¨˜ä½ä¸€å¼µè¡¨æ ¼å³å¯>äº¤æ›æ©Ÿéˆè·¯èšåˆæœ€å¸¸ç”¨å ´æ™¯åˆ†æï¼Œè¨˜ä½ä¸€å¼µè¡¨æ ¼å³å¯</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/df522c73.html alt=äº¤æ›æ©Ÿéˆè·¯èšåˆé…ç½®è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/df522c73.html title=äº¤æ›æ©Ÿéˆè·¯èšåˆé…ç½®è©³è§£>äº¤æ›æ©Ÿéˆè·¯èšåˆé…ç½®è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/50fde517.html alt=ç©ºèª¿åˆ†å€ç³»çµ±ä¸­å¹¾ç¨®ç©ºèª¿æ–¹å¼çš„æ¢è¨ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/3f9887496f8a4a11916bcef355d027f8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/50fde517.html title=ç©ºèª¿åˆ†å€ç³»çµ±ä¸­å¹¾ç¨®ç©ºèª¿æ–¹å¼çš„æ¢è¨>ç©ºèª¿åˆ†å€ç³»çµ±ä¸­å¹¾ç¨®ç©ºèª¿æ–¹å¼çš„æ¢è¨</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b2b925a8.html alt=å…­æ¬¾åˆ†å€è»Ÿä»¶ä»‹ç´¹ï¼Œå€‹å€‹ç¶“å…¸ï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b2b925a8.html title=å…­æ¬¾åˆ†å€è»Ÿä»¶ä»‹ç´¹ï¼Œå€‹å€‹ç¶“å…¸ï¼>å…­æ¬¾åˆ†å€è»Ÿä»¶ä»‹ç´¹ï¼Œå€‹å€‹ç¶“å…¸ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9288f7fa.html alt=ç¡¬ç›¤å¦‚ä½•åˆ†å€ï¼Ÿç¡¬ç›¤åˆ†å€çš„å¹¾å€‹æ–¹æ³• class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/079c4474a021421d924479c3ce77993b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9288f7fa.html title=ç¡¬ç›¤å¦‚ä½•åˆ†å€ï¼Ÿç¡¬ç›¤åˆ†å€çš„å¹¾å€‹æ–¹æ³•>ç¡¬ç›¤å¦‚ä½•åˆ†å€ï¼Ÿç¡¬ç›¤åˆ†å€çš„å¹¾å€‹æ–¹æ³•</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/21eb70f7.html alt=Win10ä¸­ç„¡æåˆ†å€æ“´å®¹èª¿æ•´å¤§å° class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/7b6cd1fe0e7c47ff860858074c42f100 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/21eb70f7.html title=Win10ä¸­ç„¡æåˆ†å€æ“´å®¹èª¿æ•´å¤§å°>Win10ä¸­ç„¡æåˆ†å€æ“´å®¹èª¿æ•´å¤§å°</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/edfeb9a3.html alt=å¦‚ä½•èª¿æ•´ç¡¬ç›¤åˆ†å€å¤§å° class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d1ff5144f5654fb98fb2f26bef7cf1f2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/edfeb9a3.html title=å¦‚ä½•èª¿æ•´ç¡¬ç›¤åˆ†å€å¤§å°>å¦‚ä½•èª¿æ•´ç¡¬ç›¤åˆ†å€å¤§å°</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/88648190.html alt=GPTåˆ†å€å®‰è£win7 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1535770389012e1169851f6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/88648190.html title=GPTåˆ†å€å®‰è£win7>GPTåˆ†å€å®‰è£win7</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fb9466d0.html alt=äº¤æ›æ©Ÿå°èª²å ‚ï½œåŠƒåˆ†VLANæœ‰ä»€éº¼ä½œç”¨ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b5d0f7051d87478488a0f658b689ce5e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fb9466d0.html title=äº¤æ›æ©Ÿå°èª²å ‚ï½œåŠƒåˆ†VLANæœ‰ä»€éº¼ä½œç”¨ï¼Ÿ>äº¤æ›æ©Ÿå°èª²å ‚ï½œåŠƒåˆ†VLANæœ‰ä»€éº¼ä½œç”¨ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/611f4508.html alt=BIMæ¨¡å‹æ•¸æ“šä¸»è¦æœ‰å“ªäº›äº¤æ›æ–¹å¼èˆ‡æ–¹æ³• class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/8b3a0009c04f47dba125fac42117633d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/611f4508.html title=BIMæ¨¡å‹æ•¸æ“šä¸»è¦æœ‰å“ªäº›äº¤æ›æ–¹å¼èˆ‡æ–¹æ³•>BIMæ¨¡å‹æ•¸æ“šä¸»è¦æœ‰å“ªäº›äº¤æ›æ–¹å¼èˆ‡æ–¹æ³•</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5d9900a2.html alt=Flinkä¸­çš„æ•¸æ“šæŠ½è±¡åŠæ•¸æ“šäº¤æ›éç¨‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/1b7a1014-7ea5-421b-808e-c41398f5e4aa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5d9900a2.html title=Flinkä¸­çš„æ•¸æ“šæŠ½è±¡åŠæ•¸æ“šäº¤æ›éç¨‹>Flinkä¸­çš„æ•¸æ“šæŠ½è±¡åŠæ•¸æ“šäº¤æ›éç¨‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a44e688d.html alt=å…±å»ºå®‰å…¨é«˜æ•ˆçš„è­‰é€šæ•¸æ“šäº¤æ›å­˜å„²å¹³è‡º class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/6e00e2a126624cd3a04003e09f129836 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a44e688d.html title=å…±å»ºå®‰å…¨é«˜æ•ˆçš„è­‰é€šæ•¸æ“šäº¤æ›å­˜å„²å¹³è‡º>å…±å»ºå®‰å…¨é«˜æ•ˆçš„è­‰é€šæ•¸æ“šäº¤æ›å­˜å„²å¹³è‡º</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5a8ee1e1.html alt=åŠ å¤§æ•¸æ“šäº¤æ›ï¼Œæœå‹™ç¤¾æœƒæ²»ç† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/52356fef840348268d722f9e09041d09 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5a8ee1e1.html title=åŠ å¤§æ•¸æ“šäº¤æ›ï¼Œæœå‹™ç¤¾æœƒæ²»ç†>åŠ å¤§æ•¸æ“šäº¤æ›ï¼Œæœå‹™ç¤¾æœƒæ²»ç†</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>