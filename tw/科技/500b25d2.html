<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>第四章: 數組 | 极客快訊</title><meta property="og:title" content="第四章: 數組 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/dfic-imagehandler/c82f2b85-5aa7-44d0-85c2-a69f88ee668e"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/500b25d2.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/500b25d2.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/500b25d2.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/500b25d2.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/500b25d2.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/500b25d2.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/500b25d2.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/500b25d2.html><meta property="article:published_time" content="2020-11-14T20:59:55+08:00"><meta property="article:modified_time" content="2020-11-14T20:59:55+08:00"><meta name=Keywords content><meta name=description content="第四章: 數組"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/500b25d2.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>第四章: 數組</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>數 組</strong><br>　　數組在程序設計中，為了處理方便， 把具有相同類型的若干變量按有序的形式組織起來。這些按序排列的同類數據元素的集合稱為數組。在Ｃ語言中， 數組屬於構造數據類型。一個數組可以分解為多個數組元素，這些數組元素可以是基本數據類型或是構造類型。因此按數組元素的類型不同，數組又可分為數值數組、字符數組、指針數組、結構數組等各種類別。<br>　　本章介紹數值數組和字符數組，其餘的在以後各章陸續介紹。數組類型說明 在Ｃ語言中使用數組必須先進行類型說明。 數組說明的一般形<br>式為： 類型說明符 數組名 [常量表達式]，……； 其中，類型說明符是任一種基本數據類型或構造數據類型。 數組名是用戶定義的數組標識符。 方括號中的常量表達式表示數據元素的個數，也稱為數組的長度。<br>例如：<br>int a[10]; 說明整型數組a，有10個元素。<br>float b[10],c[20]; 說明實型數組b，有10個元素，實型數組c，有20個元素。<br>char ch[20]; 說明字符數組ch，有20個元素。<br>對於數組類型說明應注意以下幾點：<br>1.數組的類型實際上是指數組元素的取值類型。對於同一個數組，其所有元素的數據類型都是相同的。<br>2.數組名的書寫規則應符合標識符的書寫規定。<br>3.數組名不能與其它變量名相同，例如：<br>void main()<br>{<br>int a;<br>float a[10];<br>……<br>}是錯誤的。<br>4.方括號中常量表達式表示數組元素的個數，如a[5]表示數組a有5個元素。但是其下標從0開始計算。因此5個元素分別為a[0],a[1],a[2],a[3],a[4]。<br>5.不能在方括號中用變量來表示元素的個數， 但是可以是符號常數或常量表達式。例如：<br>#define FD 5<br>void main()<br>{<br>int a[3+2],b[7+FD];<br>……<br>}是合法的。但是下述說明方式是錯誤的。<br>void main()<br>{<br>int n=5;<br>int a[n];<br>……<br>}6.允許在同一個類型說明中，說明多個數組和多個變量。<br>例如： int a,b,c,d,k1[10],k2[20];<br></p><p><br></p><p>數組元素的表示方法<br>　　數組元素是組成數組的基本單元。數組元素也是一種變量， 其標識方法為數組名後跟一個下標。 下標表示了元素在數組中的順序號。數組元素的一般形式為： 數組名[下標] 其中的下標只能為整型常量或整型表達式。如為小數時，C編譯將自動取整。例如，a[5],a[i+j],a[i++]都是合法的數組元素。 數組元素通常也稱為下標變量。必須先定義數組， 才能使用下標變量。在Ｃ語言中只能逐個地使用下標變量， 而不能一次引用整個數組。 例如，輸出有10 個元素的數組必須使用循環語句逐個輸出各下標變量：<br>for(i=0; i&lt;10; i++)　　printf("%d",a); 而不能用一個語句輸出整個數組，下面的寫法是錯誤的： printf("%d",a);<br>void main()<br>{<br>int i,a[10];<br>for(i=0;i&lt;10;)<br>a[i++]=2*i+1;<br>for(i=9;i>=0;i--)<br>printf("%d",a);<br>printf("\n%d %d\n",a[5.2],a[5.8]);} for(i=0;i&lt;10;)<br>a[i++]=2*i+1; for(i=9;i>=0;i--)<br>printf("%d",a); printf("\n%d %d\n",a[5.2],a[5.8]); 　　本例中用一個循環語句給a數組各元素送入奇數值，然後用第二個循環語句從大到小輸出各個奇數。在第一個 for語句中，表達式3省略了。在下標變量中使用了表達式i++，用以修改循環變量。當然第二個for語句也可以這樣作， Ｃ語言允許用表達式表示下標。 程序中最後一個printf語句輸出了兩次a[5]的值， 可以看出當下標不為整數時將自動取整。數組的賦值給數組賦值的方法除了用賦值語句對數組元素逐個賦值外， 還可採用初始化賦值和動態賦值的方法。數組初始化賦值數組初始化賦值是指在數組說明時給數組元素賦予初值。 數組初始化是在編譯階段進行的。這樣將減少運行時間，提高效率。<br>　　初始化賦值的一般形式為： static 類型說明符 數組名[常量表達式]={值，值……值}； 其中static表示是靜態存儲類型， Ｃ語言規定只有靜態存儲數組和外部存儲數組才可作初始化賦值(有關靜態存儲，外部存儲的概念在第五章中介紹)。在{ }中的各數據值即為各元素的初值， 各值之間用逗號間隔。例如： static int a[10]={ 0,1,2,3,4,5,6,7,8,9 }; 相當於a[0]=0;a[1]=1...a[9]=9;<br>　　Ｃ語言對數組的初始賦值還有以下幾點規定：<br>1.可以只給部分元素賦初值。當{ }中值的個數少於元素個數時，只給前面部分元素賦值。例如： static int a[10]={0,1,2,3,4};表示只給a[0]～a[4]5個元素賦值，而後5個元素自動賦0值。<br>2.只能給元素逐個賦值，不能給數組整體賦值。 例如給十個元素全部賦1值，只能寫為： static int a[10]={1,1,1,1,1,1,1,1,1,1};而不能寫為： static int a[10]=1;<br>3.如不給可初始化的數組賦初值，則全部元素均為0值。<br>4.如給全部元素賦值，則在數組說明中， 可以不給出數組元素的個數。例如： static int a[5]={1,2,3,4,5};可寫為： static int a[]={1,2,3,4,5};動態賦值可以在程序執行過程中，對數組作動態賦值。 這時可用循環語句配合scanf函數逐個對數組元素賦值。<br>void main()<br>{<br>int i,max,a[10];<br>printf("input 10 numbers:\n");<br>for(i=0;i&lt;10;i++)<br>scanf("%d",&a);<br>max=a[0];<br>for(i=1;i&lt;10;i++)<br>if(a>max) max=a;<br>printf("maxmum=%d\n",max);<br>}<br>for(i=0;i&lt;10;i++)<br>scanf("%d",&a);<br>max=a[0];<br>for(i=1;i&lt;10;i++)<br>if(a>max) max=a;<br>printf("maxmum=%d\n",max);　　本例程序中第一個for語句逐個輸入10個數到數組a中。 然後把a[0]送入max中。在第二個for語句中，從a[1]到a[9]逐個與max中的內容比較，若比max的值大，則把該下標變量送入max中，因此max總是在已比較過的下標變量中為最大者。比較結束，輸出max的值。<br>void main()<br>{<br>int i,j,p,q,s,a[10];<br>printf("\n input 10 numbers:\n");<br>for(i=0;i&lt;10;i++)<br>scanf("%d",&a);<br>for(i=0;i&lt;10;i++){<br>p=i;q=a;<br>for(j=i+1;j&lt;10;j++)<br>if(q&lt;a[j]) { p=j;q=a[j]; }<br>if(i!=p)<br>{s=a;<br>a=a[p];<br>a[p]=s; }<br>printf("%d",a);<br>}<br>}<br>for(i=0;i&lt;10;i++)<br>scanf("%d",&a);<br>for(i=0;i&lt;10;i++){<br>p=i;q=a;<br>for(j=i+1;j&lt;10;j++)<br>if(q&lt;a[j]) { p=j;q=a[j]; }<br>if(i!=p)<br>{ s=a;<br>a=a[p];<br>a[p]=s; }<br>printf("%d",a);<br>}</p><p><br></p><p>　　本例程序中用了兩個並列的for循環語句，在第二個for 語句中又嵌套了一個循環語句。第一個for語句用於輸入10個元素的初值。第二個for語句用於排序。本程序的排序採用逐個比較的方法進行。在i次循環時，把第一個元素的下標i賦於p，而把該下標變量值a賦於q。然後進入小循環，從a[i+1]起到最後一個元素止逐個與a作比較，有比a大者則將其下標送p，元素值送q。 一次循環結束後，p即為最大元素的下標，q則為該元素值。若此時i≠p，說明p,q值均已不是進入小循環之前所賦之值，則交換a和a[p]之值。 此時a為已排序完畢的元素。輸出該值之後轉入下一次循環。對i+1以後各個元素排序。<br><strong>二維數組</strong><br>　　前面介紹的數組只有一個下標，稱為一維數組， 其數組元素也稱為單下標變量。在實際問題中有很多量是二維的或多維的， 因此Ｃ語言允許構造多維數組。多維數組元素有多個下標， 以標識它在數組中的位置，所以也稱為多下標變量。 本小節只介紹二維數組，多維數組可由二維數組類推而得到。二維數組類型說明二維數組類型說明的一般形式是：<br>類型說明符 數組名[常量表達式1][常量表達式2]…；<br>其中常量表達式1表示第一維下標的長度，常量表達式2 表示第二維下標的長度。例如：<br>int a[3][4]; 說明了一個三行四列的數組，數組名為a，其下標變量的類型為整型。該數組的下標變量共有3×4個，即： a[0][0],a[0][1],a[0][2],a[0][3]<br>a[1][0],a[1][1],a[1][2],a[1][3]<br>a[2][0],a[2][1],a[2][2],a[2][3]<br>　　二維數組在概念上是二維的，即是說其下標在兩個方向上變化， 下標變量在數組中的位置也處於一個平面之中， 而不是象一維數組只是一個向量。但是，實際的硬件存儲器卻是連續編址的， 也就是說存儲器單元是按一維線性排列的。 如何在一維存儲器中存放二維數組，可有兩種方式：一種是按行排列， 即放完一行之後順次放入第二行。另一種是按列排列， 即放完一列之後再順次放入第二列。在Ｃ語言中，二維數組是按行排列的。 在圖4.1中，按行順次存放，先存放a[0]行，再存放a[1]行，最後存放a[2]行。每行中有四個元素也是依次存放。由於數組a說明為<br>int類型，該類型佔兩個字節的內存空間，所以每個元素均佔有兩個 字節(圖中每一格為一字節)。<br></p><p><br></p><p>二維數組元素的表示方法<br>　　二維數組的元素也稱為雙下標變量，其表示的形式為： 數組名[下標][下標] 其中下標應為整型常量或整型表達式。例如： a[3][4] 表示a數組三行四列的元素。下標變量和數組說明在形式中有些相似，但這兩者具有完全不同的含義。 數組說明的方括號中給出的是某一維的長度，即可取下標的最大值； 而數組元素中的下標是該元素在數組中的位置標識。前者只能是常量， 後者可以是常量，變量或表達式。<br>一個學習小組有5個人，每個人有三門課的考試成績。求全組分科的平均成績和各科總平均成績。<br>課程 成績姓名 Math　C　DBASE<br>張　　　　　　80　　75　92<br>王　　　　　　61　　65　71<br>李　　　　　　59　　63　70<br>趙　　　　　　85　　87　90<br>周　　　　　　76　　77　85<br>　　可設一個二維數組a[5][3]存放五個人三門課的成績。再設一個一維數組v[3]存放所求得各分科平均成績，設變量l為全組各科總平均成績。編程如下：<br>void main()<br>{<br>int i,j,s=0,l,v[3],a[5][3];<br>printf("input score\n");<br>for(i=0;i&lt;3;i++){<br>for(j=0;j&lt;5;j++)<br>{ scanf("%d",&a[j]);<br>s=s+a[j];}<br>v=s/5;<br>s=0;<br>}<br>l=(v[0]+v[1]+v[2])/3;<br>printf("math:%d\nc languag:%d\ndbase:%d\n",v[0],v[1],v[2]);<br>printf("total:%d\n",l);<br>} for(i=0;j&lt;3;i++)<br>for(j=0;j&lt;5;j++)<br>{ scanf("%d",&a[j]);<br>s=s+a[j];}<br>v=s/5;<br>s=0;<br>}<br>l=(v[0]+v[1]+v[2])/3;　　程序中首先用了一個雙重循環。 在內循環中依次讀入某一門課程的各個學生的成績，並把這些成績累加起來， 退出內循環後再把該累加成績除以5送入v之中，這就是該門課程的平均成績。外循環共循環三次，分別求出三門課各自的平均成績並存放在v數組之中。退出外循環之後，把v[0],v[1],v[2]相加除以3即得到各科總平均成績。最後按題意輸出各個成績。<br></p><p><br></p><p>二維數組的初始化　　二維數組初始化也是在類型說明時給各下標變量賦以初值。 二維數組可按行分段賦值，也可按行連續賦值。 例如對數組a[5][3]：<br>1.按行分段賦值可寫為static int a[5][3]={ {80,75,92},{61,65,71},{59,63,70},{85,87,90},{76,77,85} };<br>2.按行連續賦值可寫為static int a[5][3]={ 80,75,92,61,65,71,59,63,70,85,87,90,76,77,85 };<br>　　這兩種賦初值的結果是完全相同的。<br>void main()<br>{<br>int i,j,s=0,l,v[3];<br>static int a[5][3]={ {80,75,92},{61,65,71},{59,63,70},<br>{85,87,90},{76,77,85} };<br>for(i=0;i&lt;3;i++)<br>{ for(j=0;j&lt;5;j++)<br>s=s+a[j];<br>v=s/5;<br>s=0;<br>}<br>l=(v[0]+v[1]+v[2])/3;<br>printf("math:%d\nc languag:%d\ndbase:%d\n",v[0],v[1],v[2]);<br>printf("total:%d\n",l);<br>}　　對於二維數組初始化賦值還有以下說明：<br>1.可以只對部分元素賦初值，未賦初值的元素自動取0值。<br>例如： static int a[3][3]={{1},{2},{3}}; 是對每一行的第一列元素賦值，未賦值的元素取0值。 賦值後各元素的值為： 1 0 02 0 03 0 0<br>static int a [3][3]={{0,1},{0,0,2},{3}}; 賦值後的元素值為 0 1 00 0 23 0 0<br>2.如對全部元素賦初值，則第一維的長度可以不給出。<br>例如： static int a[3][3]={1,2,3,4,5,6,7,8,9}; 可以寫為：static int a[][3]={1,2,3,4,5,6,7,8,9};<br>　　數組是一種構造類型的數據。 二維數組可以看作是由一維數組的嵌套而構成的。設一維數組的每個元素都又是一個數組， 就組成了二維數組。當然，前提是各元素類型必須相同。根據這樣的分析，一個二維數組也可以分解為多個一維數組。 Ｃ語言允許這種分解有二維數組a[3][4]，可分解為三個一維數組，其數組名分別為a[0],a[1],a[2]。對這三個一維數組不需另作說明即可使用。這三個一維數組都有4個元素，例如：一維數組a[0]的元素為a[0][0],a[0][1],a[0][2],a[0][3]。必須強調的是，a[0],a[1],a[2]不能當作下標變量使用，它們是數組名，不是一個單純的下標變量。<br></p><p><br></p><p>字符數組<br>　　用來存放字符量的數組稱為字符數組。 字符數組類型說明的形式與前面介紹的數值數組相同。例如： char c[10]; 由於字符型和整型通用，也可以定義為int c[10]但這時每個數組元素佔2個字節的內存單元。字符數組也可以是二維或多維數組，例如： char c[5][10];即為二維字符數組。 字符數組也允許在類型說明時作初始化賦值。例如： static char c[10]={`c`,` `,`p`,`r`,o`,g`,r`,`a`,`m`};賦值後各元素的值為： 數組C c[0]c[1]c[2]c[3]c[4]c [5]c[6]c[7]c[8]c[9]其中c[9]未賦值，由系統自動賦予0值。 當對全體元素賦初值時也可以省去長度說明。例如： static char c[]={`c`,` `,`p`,`r`,`o`,`g`,`r`,`a`,`m`};這時C數組的長度自動定為9。<br>main()<br>{<br>int i,j;<br>char a[][5]={{'B','A','S','I','C',},{'d','B','A','S','E'}};<br>for(i=0;i&lt;=1;i++)<br>{<br>for(j=0;j&lt;=4;j++)<br>printf("%c",a[j]);<br>printf("\n");<br>}<br>}　　本例的二維字符數組由於在初始化時全部元素都賦以初值， 因此一維下標的長度可以不加以說明。字符串在Ｃ語言中沒有專門的字符串變量， 通常用一個字符數組來存放一個字符串。在2.1.4節介紹字符串常量時，已說明字符串總是以'\0'作為串的結束符。因此當把一個字符串存入一個數組時， 也把結束符'\0'存入數組，並以此作為該字符串是否結束的標誌。 有了'\0'標誌後，就不必再用字符數組的長度來判斷字符串的長度了。<br>　　Ｃ語言允許用字符串的方式對數組作初始化賦值。例如：<br>static char c[]={'c', ' ','p','r','o','g','r','a','m'}; 可寫為：<br>static char c[]={"C program"}; 或去掉{}寫為：<br>sratic char c[]="C program";<br>　　用字符串方式賦值比用字符逐個賦值要多佔一個字節， 用於存放字符串結束標誌'\0'。上面的數組c在內存中的實際存放情況為： C program\0`\0'是由C編譯系統自動加上的。由於採用了`\0'標誌，所以在用字符串賦初值時一般無須指定數組的長度， 而由系統自行處理。在採用字符串方式後，字符數組的輸入輸出將變得簡單方便。 除了上述用字符串賦初值的辦法外，還可用printf函數和scanf函數一次性輸出輸入一個字符數組中的字符串， 而不必使用循環語句逐個地輸入輸出每個字符。<br>void main()<br>{<br>static char c[]="BASIC\ndBASE";<br>printf("%s\n",c);<br>} printf("%s\n",c);</p><p><br></p><p>注意在本例的printf函數中，使用的格式字符串為“%s”， 表示輸出的是一個字符串。而在輸出表列中給出數組名則可。 不能寫為： printf("%s",c[]);<br>void main()<br>{<br>char st[15];<br>printf("input string:\n");<br>scanf("%s",st);<br>printf("%s\n",st);<br>} char st[15]; 　　本例中由於定義數組長度為15， 因此輸入的字符串長度必須小於15，以留出一個字節用於存放字符串結束標誌`\0`。 應該說明的是，對一個字符數組，如果不作初始化賦值，則必須說明數組長度。還應該特別注意的是，當用scanf函數輸入字符串時，字符串中不能含有空格，否則將以空格作為串的結束符。例如運行例4.8，當輸入的字符串中含有空格時，運行情況為： input string:this is a book this 從輸出結果可以看出空格以後的字符都未能輸出。 為了避免這種情況， 可多設幾個字符數組分段存放含空格的串。程序可改寫如下：<br>Lesson<br>void main()<br>{<br>char st1[6],st2[6],st3[6],st4[6];<br>printf("input string:\n");<br>scanf("%s%s%s%s",st1,st2,st3,st4);<br>printf("%s %s %s %s\n",st1,st2,st3,st4);<br>}　　本程序分別設了四個數組， 輸入的一行字符的空格分段分別裝入四個數組。然後分別輸出這四個數組中的字符串。在前面介紹過，scanf的各輸入項必須以地址方式出現，如 &a,&b等。但在例4.8中卻是以數組名方式出現的，這是為什麼呢?這是由於在Ｃ語言中規定，數組名就代表了該數組的首地址。 整個數組是以首地址開頭的一塊連續的內存單元。如有字符數組char c[10]，在內存可表示如圖4.2。設數組c的首地址為2000，也就是說c[0]單元地址為2000。則數組名c就代表這個首地址。因此在c前面不能再加地址運算符&。如寫作scanf("%s",&c);則是錯誤的。 在執行函數printf("%s",c) 時，按數組名c找到首地址，然後逐個輸出數組中各個字符直到遇到字符串終止標誌'\0'為止。<br></p><p><br></p><p>字符串常用函數<br>　　Ｃ語言提供了豐富的字符串處理函數， 大致可分為字符串的輸入、輸出、合併、修改、比較、轉換、複製、搜索幾類。 使用這些函數可大大減輕編程的負擔。用於輸入輸出的字符串函數， 在使用前應包含頭文件"stdio.h" ； 使用其它字符串函數則應包含頭文件"string.h"。 下面介紹幾個最常用的字符串函數。<br>1.字符串輸出函數 puts 格式： puts (字符數組名) 功能：把字符數組中的字符串輸出到顯示器。 即在屏幕上顯示該字符串<br>#include"stdio.h"<br>main()<br>{<br>static char c[]="BASIC\ndBASE";<br>puts(c);<br>}<br>static char c[]="BASIC\ndBASE";<br>puts(c);　　從程序中可以看出puts函數中可以使用轉義字符， 因此輸出結果成為兩行。puts函數完全可以由printf函數取代。 當需要按一定格式輸出時，通常使用printf函數。<br>2.字符串輸入函數gets 格式： gets (字符數組名) 功能：從標準輸入設備鍵盤上輸入一個字符串。 本函數得到一個函數值，即為該字符數組的首地址。<br>#include"stdio.h"<br>main()<br>{<br>char st[15];<br>printf("input string:\n");<br>gets(st);<br>puts(st);<br>}　　可以看出當輸入的字符串中含有空格時，輸出仍為全部字符串。說明gets函數並不以空格作為字符串輸入結束的標誌， 而只以回車作為輸入結束。這是與scanf函數不同的。<br>3.字符串連接函數strcat 格式： strcat (字符數組名1，字符數組名2) 功能：把字符數組2中的字符串連接到字符數組1 中字符串的後面，並刪去字符串1後的串標誌“\0”。本函數返回值是字符數組1的首地址。<br>#include"string.h"<br>main()<br>{<br>static char st1[30]="My name is ";<br>int st2[10];<br>printf("input your name:\n");<br>gets(st2);<br>strcat(st1,st2);<br>puts(st1);<br>}<br>static char st1[30]="My name is ";<br>int st2[10];<br>printf("input your name:\n");<br>gets(st2);<br>strcat(st1,st2); 本程序把初始化賦值的字符數組與動態賦值的字符串連接起來。 要注意的是，字符數組1應定義足夠的長度，否則不能全部裝入被連接的字符串<br>4.字符串拷貝函數strcpy 格式： strcpy (字符數組名1，字符數組名2) 功能：把字符數組2中的字符串拷貝到字符數組1中。串結束標誌“\0”也一同拷貝。字符數名2， 也可以是一個字符串常量。這時相當於把一個字符串賦予一個字符數組。<br>#include"string.h"<br>main()<br>{<br>static char st1[15],st2[]="C Language";<br>strcpy(st1,st2);<br>puts(st1);printf("\n");<br>}<br>static char st1[15],st2[]="C Language";<br>strcpy(st1,st2);本函數要求字符數組1應有足夠的長度，否則不能全部裝入所拷貝的字符串。<br>5.字符串比較函數strcmp 格式： strcmp(字符數組名1，字符數組名2) 功能：按照ASCII碼順序比較兩個數組中的字符串，並由函數返回值返回比較結果。<br>字符串1＝字符串2，返回值＝0；<br>字符串2〉字符串2，返回值〉0；<br>字符串1〈字符串2，返回值〈0。<br>本函數也可用於比較兩個字符串常量，或比較數組和字符串常量。<br>#include"string.h"<br>main()<br>{ int k;<br>static char st1[15],st2[]="C Language";<br>printf("input a string:\n");<br>gets(st1);<br>k=strcmp(st1,st2);<br>if(k==0) printf("st1=st2\n");<br>if(k>0) printf("st1>st2\n");<br>if(k&lt;0) printf("st1&lt;st2\n");<br>}<br>{ int k;<br>static char st1[15],st2[]="C Language";<br>printf("input a string:\n");<br>gets(st1);<br>k=strcmp(st1,st2);<br>if(k==0) printf("st1=st2\n");<br>if(k>0) printf("st1>st2\n");<br>if(k&lt;0) printf("st1&lt;st2\n");<br>}<br>　　本程序中把輸入的字符串和數組st2中的串比較，比較結果返回到k中，根據k值再輸出結果提示串。當輸入為dbase時，由ASCII 碼可知“dBASE”大於“C Language”故k〉0,輸出結果“st1>st2”。<br>6.測字符串長度函數strlen 格式： strlen(字符數組名) 功能：測字符串的實際長度(不含字符串結束標誌‘\0’) 並作為函數返回值。<br>#include"string.h"<br>main()<br>{ int k;<br>static char st[]="C language";<br>k=strlen(st);<br>printf("The lenth of the string is %d\n",k);<br>}</p><p><br></p><p>程序舉例<br>　　把一個整數按大小順序插入已排好序的數組中。 為了把一個數按大小插入已排好序的數組中， 應首先確定排序是從大到小還是從小到大進行的。設排序是從大到小進序的， 則可把欲插入的數與數組中各數逐個比較， 當找到第一個比插入數小的元素i時，該元素之前即為插入位置。然後從數組最後一個元素開始到該元素為止，逐個後移一個單元。最後把插入數賦予元素i即可。如果被插入數比所有的元素值都小則插入最後位置。<br>main()<br>{<br>int i,j,p,q,s,n,a[11]={127,3,6,28,54,68,87,105,162,18};<br>for(i=0;i&lt;10;i++)<br>{ p=i;q=a;<br>for(j=i+1;j&lt;10;j++)<br>if(q&lt;a[j]) {p=j;q=a[j];}<br>if(p!=i)<br>{<br>s=a;<br>a=a[p];<br>a[p]=s;<br>}<br>printf("%d ",a);<br>}<br>printf("\ninput number:\n");<br>scanf("%d",&n);<br>for(i=0;i&lt;10;i++)<br>if(n>a)<br>{for(s=9;s>=i;s--) a[s+1]=a;<br>break;}<br>a=n;<br>for(i=0;i&lt;=10;i++)<br>printf("%d ",a);<br>printf("\n");<br>}<br>scanf("%d",&n);<br>for(i=0;i&lt;10;i++)<br>if(n>a)<br>{ for(s=9;s>=i;s--) a[s+1]=a;<br>break; }a=n; 本程序首先對數組a中的10個數從大到小排序並輸出排序結果。然後輸入要插入的整數n。再用一個for語句把n和數組元素逐個比較，如果發現有n>a時，則由一個內循環把i以下各元素值順次後移一個單元。後移應從後向前進行(從a[9]開始到a為止)。 後移結束跳出外循環。插入點為i，把n賦予a即可。 如所有的元素均大於被插入數，則並未進行過後移工作。此時i=10，結果是把n賦於a[10]。最後一個循環輸出插入數後的數組各元素值。程序運行時，輸入數47。從結果中可以看出47已插入到54和 28之間。<br>　　在二維數組a中選出各行最大的元素組成一個一維數組b。 a=3 16 87 65 4 32 11 108 10 25 12 37b=(87 108 37) 本題的編程思路是，在數組A的每一行中尋找最大的元素，找到之後把該值賦予數組B相應的元素即可。程序如下：<br>main()<br>{<br>static int a[][4]={3,16,87,65,4,32,11,108,10,25,12,27};<br>int b[3],i,j,l;<br>for(i=0;i&lt;=2;i++)<br>{ l=a[0];<br>for(j=1;j&lt;=3;j++)<br>if(a[j]>l) l=a[j];<br>b=l;}<br>printf("\narray a:\n");<br>for(i=0;i&lt;=2;i++)<br>{ for(j=0;j&lt;=3;j++)<br>printf("%5d",a[j]);<br>printf("\n");}<br>printf("\narray b:\n");<br>for(i=0;i&lt;=2;i++)<br>printf("%5d",b);<br>printf("\n");<br>}<br>for(i=0;i&lt;=2;i++){<br>l=a[0];<br>for(j=1;j&lt;=3;j++)<br>if(a[j]>l) l=a[j];<br>b=l;<br>}　　程序中第一個for語句中又嵌套了一個for語句組成了雙重循環。外循環控制逐行處理，並把每行的第0列元素賦予l。進入內循環後，把l與後面各列元素比較，並把比l大者賦予l。內循環結束時l 即為該行最大的元素，然後把l值賦予b。等外循環全部完成時，數組b中已裝入了a各行中的最大值。後面的兩個 for語句分別輸出數組a和數組b。<br>　　輸入五個國家的名稱按字母順序排列輸出。<br>　　本題編程思路如下：五個國家名應由一個二維字符數組來處理。然而Ｃ語言規定可以把一個二維數組當成多個一維數組處理。 因此本題又可以按五個一維數組處理， 而每一個一維數組就是一個國家名字符串。用字符串比較函數比較各一維數組的大小，並排序， 輸出結果即可。<br>編程如下：<br>void main()<br>{<br>char st[20],cs[5][20];<br>int i,j,p;<br>printf("input country's name:\n");<br>for(i=0;i&lt;5;i++)<br>gets(cs);<br>printf("\n");<br>for(i=0;i&lt;5;i++)<br>{ p=i;strcpy(st,cs);<br>for(j=i+1;j&lt;5;j++)<br>if(strcmp(cs[j],st)&lt;0) {p=j;strcpy(st,cs[j]);}<br>if(p!=i)<br>{<br>strcpy(st,cs);<br>strcpy(cs,cs[p]);<br>strcpy(cs[p],st);<br>}<br>puts(cs);}printf("\n");<br>}<br>for(i=0;i&lt;5;i++)<br>{ p=i;strcpy(st,cs);<br>for(j=i+1;j&lt;5;j++)<br>if(strcmp(cs[j],st)&lt;0) { p=j;strcpy(st,cs[j]);}<br>if(p!=i)<br>{<br>strcpy(st,cs);<br>strcpy(cs,cs[p]);<br>strcpy(cs[p],st);<br>}　　本程序的第一個for語句中，用gets函數輸入五個國家名字符串。上面說過Ｃ語言允許把一個二維數組按多個一維數組處理， 本程序說明cs[5][20]為二維字符數組，可分為五個一維數組cs[0]，cs[1]，cs[2]，cs[3]，cs[4]。因此在gets函數中使用cs是合法的。 在第二個for語句中又嵌套了一個for語句組成雙重循環。 這個雙重循環完成按字母順序排序的工作。在外層循環中把字符數組cs中的國名字符串拷貝到數組st中，並把下標i賦予P。 進入內層循環後，把st與cs以後的各字符串作比較，若有比st小者則把該字符串拷貝到st中，並把其下標賦予p。內循環完成後如p不等於 i 說明有比cs更小的字符串出現，因此交換cs和st的內容。 至此已確定了數組cs的第i號元素的排序值。然後輸出該字符串。在外循環全部完成之後即完成全部排序和輸出。<br><strong>本章小結</strong><br>1.數組是程序設計中最常用的數據結構。數組可分為數值數組(整數組，實數組)，字符數組以及後面將要介紹的指針數組，結構數組等。<br>2.數組可以是一維的，二維的或多維的。<br>3.數組類型說明由類型說明符、數組名、數組長度 (數組元素個數)三部分組成。數組元素又稱為下標變量。 數組的類型是指下標變量取值的類型。<br>4.對數組的賦值可以用數組初始化賦值， 輸入函數動態賦值和賦值語句賦值三種方法實現。 對數值數組不能用賦值語句整體賦值、輸入或輸出，而必須用循環語句逐個對數組元素進行操作。</p><div class=pgc-img><img alt="第四章: 數組" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/c82f2b85-5aa7-44d0-85c2-a69f88ee668e><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>數組</a></li><li><a>第四章</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/b5bd339f.html alt=數組基礎知識：100萬成員的數組取第一和最後一個有性能差距嗎？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/dfc9869dbc274741b7ff68e0877cb33a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b5bd339f.html title=數組基礎知識：100萬成員的數組取第一和最後一個有性能差距嗎？>數組基礎知識：100萬成員的數組取第一和最後一個有性能差距嗎？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b70a874f.html alt=C語言學習|指針和數組之間的關係 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/b4a86e58580942dfaf343a6b9b31f5cf style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b70a874f.html title=C語言學習|指針和數組之間的關係>C語言學習|指針和數組之間的關係</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7f25f9e9.html alt=指針數組和數組指針 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/3ffcb33cd0214a1aac0da75a0b9feee1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7f25f9e9.html title=指針數組和數組指針>指針數組和數組指針</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/eb3ceb40.html alt=一建市政白皮書！第四章（給排水）上 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/cda1e3fae44a447492101743786d60a0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/eb3ceb40.html title=一建市政白皮書！第四章（給排水）上>一建市政白皮書！第四章（給排水）上</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/70e5706e.html alt=人工智能基礎向量、矩陣和數組 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/70e5706e.html title=人工智能基礎向量、矩陣和數組>人工智能基礎向量、矩陣和數組</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5daf79b.html alt="JavaScript 中搜索數組元素的四種方法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/78046c20-d1aa-4ef5-b321-37209b8b9e5d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5daf79b.html title="JavaScript 中搜索數組元素的四種方法">JavaScript 中搜索數組元素的四種方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f6701da.html alt=Java判斷元素是否在數組中的方法彙總，常用操作，建議收藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1528345105695912143d6ab style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f6701da.html title=Java判斷元素是否在數組中的方法彙總，常用操作，建議收藏>Java判斷元素是否在數組中的方法彙總，常用操作，建議收藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2bc0552.html alt=在Java中如何高效判斷數組中是否包含某個元素 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/8d3d28f57280495380c13ef8419c11ab style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2bc0552.html title=在Java中如何高效判斷數組中是否包含某個元素>在Java中如何高效判斷數組中是否包含某個元素</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/85bbd88.html alt=在JSON中使用數組，讓您的JSON無限擴展 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/cc13f08b-b57e-483f-adb8-8d2ba9a32f45 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/85bbd88.html title=在JSON中使用數組，讓您的JSON無限擴展>在JSON中使用數組，讓您的JSON無限擴展</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/03886d2.html alt=面試題-數組、鏈表實現棧 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f8949fd55a4149feb3b5ab31b631c77f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/03886d2.html title=面試題-數組、鏈表實現棧>面試題-數組、鏈表實現棧</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c15e1ed.html alt=挑戰！一個數組和一個數值，在數組中找出兩個數的和等於這個數值 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/d7fd845319fd4fb4aee87f513f85d9d9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c15e1ed.html title=挑戰！一個數組和一個數值，在數組中找出兩個數的和等於這個數值>挑戰！一個數組和一個數值，在數組中找出兩個數的和等於這個數值</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f699966.html alt="Excel 數組公式頂級絕密 Excel Array formula top secret" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/3d9cce8af9084c1c9cc9cac20895df17 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f699966.html title="Excel 數組公式頂級絕密 Excel Array formula top secret">Excel 數組公式頂級絕密 Excel Array formula top secret</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/60159ad.html alt=c++數組指針、二維動態數組及二維指針、動態指針數組及函數參數 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/60159ad.html title=c++數組指針、二維動態數組及二維指針、動態指針數組及函數參數>c++數組指針、二維動態數組及二維指針、動態指針數組及函數參數</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/44125f1.html alt="第四章 共和元年" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/afdafec5724741dcbafc2c21b4d29ba4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/44125f1.html title="第四章 共和元年">第四章 共和元年</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/9816751.html alt=支持向量機（第四章） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/153914838549618d2616eb5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/9816751.html title=支持向量機（第四章）>支持向量機（第四章）</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>