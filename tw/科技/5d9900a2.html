<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Flinkä¸­çš„æ•¸æ“šæŠ½è±¡åŠæ•¸æ“šäº¤æ›éç¨‹ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Flinkä¸­çš„æ•¸æ“šæŠ½è±¡åŠæ•¸æ“šäº¤æ›éç¨‹ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/dfic-imagehandler/1b7a1014-7ea5-421b-808e-c41398f5e4aa"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5d9900a2.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5d9900a2.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5d9900a2.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5d9900a2.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5d9900a2.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5d9900a2.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5d9900a2.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5d9900a2.html><meta property="article:published_time" content="2020-11-14T21:00:07+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:07+08:00"><meta name=Keywords content><meta name=description content="Flinkä¸­çš„æ•¸æ“šæŠ½è±¡åŠæ•¸æ“šäº¤æ›éç¨‹"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/5d9900a2.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Flinkä¸­çš„æ•¸æ“šæŠ½è±¡åŠæ•¸æ“šäº¤æ›éç¨‹</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p><br></p><div class=pgc-img><img alt=Flinkä¸­çš„æ•¸æ“šæŠ½è±¡åŠæ•¸æ“šäº¤æ›éç¨‹ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/1b7a1014-7ea5-421b-808e-c41398f5e4aa><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>Flinkçš„æ•¸æ“šæŠ½è±¡</h1><p><strong>MemorySegment</strong></p><p>Flinkä½œç‚ºä¸€å€‹é«˜æ•ˆçš„æµæ¡†æ¶ï¼Œç‚ºäº†é¿å…JVMçš„å›ºæœ‰ç¼ºé™·ï¼ˆjavaå°è±¡å­˜å„²å¯†åº¦ä½ï¼ŒFGCå½±éŸ¿ååå’ŒéŸ¿æ‡‰ç­‰ï¼‰ï¼Œå¿…ç„¶èµ°ä¸Šè‡ªä¸»ç®¡ç†å…§å­˜çš„é“è·¯ã€‚</p><p>é€™å€‹MemorySegmentå°±æ˜¯Flinkçš„å…§å­˜æŠ½è±¡ã€‚é»˜èªæƒ…æ³ä¸‹ï¼Œä¸€å€‹MemorySegmentå¯ä»¥è¢«çœ‹åšæ˜¯ä¸€å€‹32kbå¤§çš„å…§å­˜å¡Šçš„æŠ½è±¡ã€‚é€™å¡Šå…§å­˜æ—¢å¯ä»¥æ˜¯JVMè£¡çš„ä¸€å€‹byte[]ï¼Œä¹Ÿå¯ä»¥æ˜¯å †å¤–å…§å­˜ï¼ˆDirectByteBufferï¼‰ã€‚</p><p>å¦‚æœèªªbyte[]æ•¸çµ„å’Œdirect memoryæ˜¯æœ€åº•å±¤çš„å­˜å„²ï¼Œé‚£éº¼memorysegmentå°±æ˜¯åœ¨å…¶ä¸Šè¦†è“‹çš„ä¸€å±¤çµ±ä¸€æŠ½è±¡ã€‚å®ƒå®šç¾©äº†ä¸€ç³»åˆ—æŠ½è±¡æ–¹æ³•ï¼Œç”¨æ–¼æ§åˆ¶å’Œåº•å±¤å…§å­˜çš„äº¤äº’ï¼Œå¦‚ï¼š</p><pre><code>public abstract class MemorySegment {    public abstract byte get(int index);        public abstract void put(int index, byte b);        public int size() ;        public abstract ByteBuffer wrap(int offset, int length);        ......}</code></pre><p>æˆ‘å€‘å¯ä»¥çœ‹åˆ°ï¼Œå®ƒåœ¨æä¾›äº†è«¸å¤šç›´æ¥æ“ä½œå…§å­˜çš„æ–¹æ³•å¤–ï¼Œé‚„æä¾›äº†ä¸€å€‹wrap()æ–¹æ³•ï¼Œå°‡è‡ªå·±åŒ…è£æˆä¸€å€‹ByteBufferï¼Œæˆ‘å€‘å¾…æœƒå…’è¬›é€™å€‹ByteBufferã€‚</p><p>Flinkç‚ºMemorySegmentæä¾›äº†å…©å€‹å¯¦ç¾é¡ï¼šHeapMemorySegmentå’ŒHybridMemorySegmentã€‚ä»–å€‘çš„å€åˆ¥åœ¨æ–¼å‰è€…åªèƒ½åˆ†é…å †å…§å­˜ï¼Œè€Œå¾Œè€…èƒ½ç”¨ä¾†åˆ†é…å †å…§å’Œå †å¤–å…§å­˜ã€‚äº‹å¯¦ä¸Šï¼ŒFlinkæ¡†æ¶è£¡ï¼Œåªä½¿ç”¨äº†å¾Œè€…ã€‚é€™æ˜¯ç‚ºä»€éº¼å‘¢ï¼Ÿ</p><p>å¦‚æœHybridMemorySegmentåªèƒ½ç”¨æ–¼åˆ†é…å †å¤–å…§å­˜çš„è©±ï¼Œä¼¼ä¹æ›´åˆå¸¸ç†ã€‚ä½†æ˜¯åœ¨JVMçš„ä¸–ç•Œä¸­ï¼Œå¦‚æœä¸€å€‹æ–¹æ³•æ˜¯ä¸€å€‹è™›æ–¹æ³•ï¼Œé‚£éº¼æ¯æ¬¡èª¿ç”¨æ™‚ï¼ŒJVMéƒ½è¦èŠ±æ™‚é–“å»ç¢ºå®šèª¿ç”¨çš„åˆ°åº•æ˜¯å“ªå€‹å­é¡å¯¦ç¾çš„è©²è™›æ–¹æ³•ï¼ˆæ–¹æ³•é‡å¯«æ©Ÿåˆ¶ï¼Œä¸æ˜ç™½çš„å»çœ‹JVMçš„invokeVirtualæŒ‡ä»¤ï¼‰ï¼Œä¹Ÿå°±æ„å‘³è‘—æ¯æ¬¡éƒ½è¦å»ç¿»æ–¹æ³•è¡¨ï¼›è€Œå¦‚æœè©²æ–¹æ³•é›–ç„¶æ˜¯å€‹è™›æ–¹æ³•ï¼Œä½†å¯¦éš›ä¸Šæ•´å€‹JVMè£¡åªæœ‰ä¸€å€‹å¯¦ç¾ï¼ˆå°±æ˜¯èªªåªåŠ è¼‰äº†ä¸€å€‹å­é¡é€²ä¾†ï¼‰ï¼Œé‚£éº¼JVMæœƒå¾ˆè°æ˜çš„æŠŠå®ƒå»è™›åŒ–è™•ç†ï¼Œé€™æ¨£å°±ä¸ç”¨æ¯æ¬¡èª¿ç”¨æ–¹æ³•æ™‚å»æ‰¾æ–¹æ³•è¡¨äº†ï¼Œèƒ½å¤ å¤§å¤§æå‡æ€§èƒ½ã€‚ä½†æ˜¯éš»åˆ†é…å †å…§æˆ–è€…å †å¤–å…§å­˜ä¸èƒ½æ»¿è¶³æˆ‘å€‘çš„éœ€è¦ï¼Œæ‰€ä»¥å°±å‡ºç¾äº†HybridMemorySegmentåŒæ™‚å¯ä»¥åˆ†é…å…©ç¨®å…§å­˜çš„è¨­è¨ˆã€‚</p><p>æˆ‘å€‘å¯ä»¥çœ‹çœ‹HybridMemorySegmentçš„æ§‹é€ ä»£ç¢¼ï¼š</p><pre><code>HybridMemorySegment(ByteBuffer buffer, Object owner) {        super(checkBufferAndGetAddress(buffer), buffer.capacity(), owner);        this.offHeapBuffer = buffer;    }            HybridMemorySegment(byte[] buffer, Object owner) {        super(buffer, owner);        this.offHeapBuffer = null;    }</code></pre><p>å…¶ä¸­ï¼Œç¬¬ä¸€å€‹æ§‹é€ å‡½æ•¸çš„checkBufferAndGetAddress()æ–¹æ³•èƒ½å¤ å¾—åˆ°direct bufferçš„å…§å­˜åœ°å€ï¼Œå› æ­¤å¯ä»¥æ“ä½œå †å¤–å…§å­˜ã€‚</p><h1 class=pgc-h-arrow-right>ByteBufferèˆ‡NetworkBufferPool</h1><p>åœ¨MemorySegmenté€™å€‹æŠ½è±¡ä¹‹ä¸Šï¼ŒFlinkåœ¨æ•¸æ“šå¾operatorå…§çš„æ•¸æ“šå°è±¡åœ¨å‘TaskManagerä¸Šè½‰ç§»ï¼Œé å‚™è¢«é«®çµ¦ä¸‹å€‹ç¯€é»çš„éç¨‹ä¸­ï¼Œä½¿ç”¨çš„æŠ½è±¡æˆ–è€…èªªå…§å­˜å°è±¡æ˜¯Bufferã€‚</p><p>æ³¨æ„ï¼Œé€™å€‹Bufferæ˜¯å€‹flinkæ¥å£ï¼Œä¸æ˜¯java.nioæä¾›çš„é‚£å€‹BufferæŠ½è±¡é¡ã€‚Flinkåœ¨é€™ä¸€å±¤é¢åŒæ™‚ä½¿ç”¨äº†é€™å…©å€‹åŒåæ¦‚å¿µï¼Œç”¨ä¾†å­˜å„²å°è±¡ï¼Œç›´æ¥çœ‹ä»£ç¢¼æ™‚åˆ°è™•éƒ½æ˜¯å„ç¨®xxxBufferå¾ˆå®¹æ˜“æ··æ·†ï¼š</p><ul class=list-paddingleft-2><li>javaæä¾›çš„é‚£å€‹BufferæŠ½è±¡é¡åœ¨é€™ä¸€å±¤ä¸»è¦ç”¨æ–¼æ§‹å»ºHeapByteBufferï¼Œé€™å€‹ä¸»è¦æ˜¯ç•¶æ•¸æ“šå¾jvmè£¡çš„ä¸€å€‹å°è±¡è¢«åºåˆ—åŒ–æˆå­—ç¯€æ•¸çµ„æ™‚ç”¨çš„ï¼›</li><li>Flinkçš„é€™å€‹Bufferæ¥å£ä¸»è¦æ˜¯ä¸€ç¨®flinkå±¤é¢ç”¨æ–¼å‚³è¼¸æ•¸æ“šå’Œäº‹ä»¶çš„çµ±ä¸€æŠ½è±¡ï¼Œå…¶å¯¦ç¾é¡æ˜¯NetworkBufferï¼Œæ˜¯å°MemorySegmentçš„åŒ…è£ã€‚Flinkåœ¨å„å€‹TaskManagerä¹‹é–“å‚³éæ•¸æ“šæ™‚ï¼Œä½¿ç”¨çš„æ˜¯é€™ä¸€å±¤çš„æŠ½è±¡ã€‚å› ç‚ºBufferçš„åº•å±¤æ˜¯MemorySegmentï¼Œé€™å¯èƒ½ä¸æ˜¯JVMæ‰€ç®¡ç†çš„ï¼Œæ‰€ä»¥ç‚ºäº†çŸ¥é“ä»€éº¼æ™‚å€™ä¸€å€‹Bufferç”¨å®Œäº†å¯ä»¥å›æ”¶ï¼ŒFlinkå¼•å…¥äº†å¼•ç”¨è¨ˆæ•¸çš„æ¦‚å¿µï¼Œç•¶ç¢ºèªé€™å€‹bufferæ²’æœ‰äººå¼•ç”¨ï¼Œå°±å¯ä»¥å›æ”¶é€™ä¸€ç‰‡MemorySegmentç”¨æ–¼åˆ¥çš„åœ°æ–¹äº†ï¼ˆJVMçš„åƒåœ¾å›æ”¶ç‚ºå•¥ä¸ç”¨å¼•ç”¨è¨ˆæ•¸ï¼Ÿè®€è€…æ€è€ƒä¸€ä¸‹ï¼‰ï¼š</li></ul><pre><code>public abstract class AbstractReferenceCountedByteBuf extends AbstractByteBuf {    private volatile int refCnt = 1;        ......}</code></pre><p>ç‚ºäº†æ–¹ä¾¿ç®¡ç†NetworkBufferï¼ŒFlinkæä¾›äº†BufferPoolFactoryï¼Œä¸¦ä¸”æä¾›äº†å”¯ä¸€å¯¦ç¾NetworkBufferPoolï¼Œé€™æ˜¯å€‹å·¥å» æ¨¡å¼çš„æ‡‰ç”¨ã€‚</p><p>NetworkBufferPoolåœ¨æ¯å€‹TaskManagerä¸Šåªæœ‰ä¸€å€‹ï¼Œè² è²¬æ‰€æœ‰å­taskçš„å…§å­˜ç®¡ç†ã€‚å…¶å¯¦ä¾‹åŒ–æ™‚å°±æœƒå˜—è©¦ç²å–æ‰€æœ‰å¯ç”±å®ƒç®¡ç†çš„å…§å­˜ï¼ˆå°æ–¼å †å…§å­˜ä¾†èªªï¼Œç›´æ¥ç²å–æ‰€æœ‰å…§å­˜ä¸¦æ”¾å…¥è€å¹´ä»£ï¼Œä¸¦ä»¤ç”¨æˆ¶å°è±¡åªåœ¨æ–°ç”Ÿä»£å­˜æ´»ï¼Œå¯ä»¥æ¥µå¤§ç¨‹åº¦çš„æ¸›å°‘Full GCï¼‰ï¼Œæˆ‘å€‘çœ‹çœ‹å…¶æ§‹é€ æ–¹æ³•ï¼š</p><pre><code>public NetworkBufferPool(int numberOfSegmentsToAllocate, int segmentSize) {        ......                try {            this.availableMemorySegments = new ArrayBlockingQueue&lt;&gt;(numberOfSegmentsToAllocate);        }        catch (OutOfMemoryError err) {            throw new OutOfMemoryError("Could not allocate buffer queue of length "                    + numberOfSegmentsToAllocate + " - " + err.getMessage());        }        try {            for (int i = 0; i &lt; numberOfSegmentsToAllocate; i++) {                ByteBuffer memory = ByteBuffer.allocateDirect(segmentSize);                availableMemorySegments.add(MemorySegmentFactory.wrapPooledOffHeapMemory(memory, null));            }        }        ......                long allocatedMb = (sizeInLong * availableMemorySegments.size()) &gt;&gt; 20;        LOG.info("Allocated {} MB for network buffer pool (number of memory segments: {}, bytes per segment: {}).",                allocatedMb, availableMemorySegments.size(), segmentSize);    }</code></pre><p>ç”±æ–¼NetworkBufferPoolåªæ˜¯å€‹å·¥å» ï¼Œå¯¦éš›çš„å…§å­˜æ± æ˜¯LocalBufferPoolã€‚æ¯å€‹TaskManageréƒ½åªæœ‰ä¸€å€‹NetworkBufferPoolå·¥å» ï¼Œä½†æ˜¯ä¸Šé¢é‹è¡Œçš„æ¯å€‹taskéƒ½è¦æœ‰ä¸€å€‹å’Œå…¶ä»–taskéš”é›¢çš„LocalBufferPoolæ± ï¼Œé€™å¾é‚è¼¯ä¸Šå¾ˆå¥½ç†è§£ã€‚å¦å¤–ï¼ŒNetworkBufferPoolæœƒè¨ˆç®—è‡ªå·±æ‰€æ“æœ‰çš„æ‰€æœ‰å…§å­˜åˆ†ç‰‡æ•¸ï¼Œåœ¨åˆ†é…æ–°çš„å…§å­˜æ± æ™‚å°æ¯å€‹å…§å­˜æ± æ‡‰è©²ä½”æœ‰çš„å…§å­˜åˆ†ç‰‡æ•¸é‡åˆ†é…ï¼Œæ­¥é©Ÿæ˜¯ï¼š</p><ul class=list-paddingleft-2><li>é¦–å…ˆï¼Œå¾æ•´å€‹å·¥å» ç®¡ç†çš„å…§å­˜ç‰‡ä¸­æ‹¿å‡ºæ‰€æœ‰çš„å…§å­˜æ± æ‰€éœ€è¦çš„æœ€å°‘Bufferæ•¸ç›®ç¸½å’Œå¦‚æœæ­£å¥½åˆ†é…å®Œï¼Œå°±çµæŸ</li><li>å…¶æ¬¡ï¼ŒæŠŠæ‰€æœ‰çš„å‰©ä¸‹çš„æ²’åˆ†é…çš„å…§å­˜ç‰‡ï¼ŒæŒ‰ç…§æ¯å€‹LocalBufferPoolå…§å­˜æ± çš„å‰©é¤˜æƒ³è¦å®¹é‡å¤§å°é€²è¡ŒæŒ‰æ¯”ä¾‹åˆ†é…</li><li>å‰©é¤˜æƒ³è¦å®¹é‡å¤§å°æ˜¯é€™éº¼å€‹æ±è¥¿ï¼šå¦‚æœè©²å…§å­˜æ± è‡³å°‘éœ€è¦3å€‹bufferï¼Œæœ€å¤§éœ€è¦10å€‹bufferï¼Œé‚£éº¼å®ƒçš„å‰©é¤˜æƒ³è¦å®¹é‡å°±æ˜¯7å¯¦ç¾ä»£ç¢¼å¦‚ä¸‹ï¼š</li></ul><pre><code>private void redistributeBuffers() throws IOException {        assert Thread.holdsLock(factoryLock);        // All buffers, which are not among the required ones        final int numAvailableMemorySegment = totalNumberOfMemorySegments - numTotalRequiredBuffers;        if (numAvailableMemorySegment == 0) {            // in this case, we need to redistribute buffers so that every pool gets its minimum            for (LocalBufferPool bufferPool : allBufferPools) {                bufferPool.setNumBuffers(bufferPool.getNumberOfRequiredMemorySegments());            }            return;        }        long totalCapacity = 0; // long to avoid int overflow        for (LocalBufferPool bufferPool : allBufferPools) {            int excessMax = bufferPool.getMaxNumberOfMemorySegments() -                bufferPool.getNumberOfRequiredMemorySegments();            totalCapacity += Math.min(numAvailableMemorySegment, excessMax);        }        // no capacity to receive additional buffers?        if (totalCapacity == 0) {            return; // necessary to avoid div by zero when nothing to re-distribute        }        final int memorySegmentsToDistribute = MathUtils.checkedDownCast(                Math.min(numAvailableMemorySegment, totalCapacity));        long totalPartsUsed = 0; // of totalCapacity        int numDistributedMemorySegment = 0;        for (LocalBufferPool bufferPool : allBufferPools) {            int excessMax = bufferPool.getMaxNumberOfMemorySegments() -                bufferPool.getNumberOfRequiredMemorySegments();            // shortcut            if (excessMax == 0) {                continue;            }            totalPartsUsed += Math.min(numAvailableMemorySegment, excessMax);            final int mySize = MathUtils.checkedDownCast(                    memorySegmentsToDistribute * totalPartsUsed / totalCapacity - numDistributedMemorySegment);            numDistributedMemorySegment += mySize;            bufferPool.setNumBuffers(bufferPool.getNumberOfRequiredMemorySegments() + mySize);        }        assert (totalPartsUsed == totalCapacity);        assert (numDistributedMemorySegment == memorySegmentsToDistribute);    }</code></pre><p>æ¥ä¸‹ä¾†èªªèªªé€™å€‹LocalBufferPoolå…§å­˜æ± ã€‚<br>LocalBufferPoolçš„é‚è¼¯æƒ³æƒ³ç„¡éæ˜¯å¢åˆªæ”¹æŸ¥ï¼Œå€¼å¾—èªªçš„æ˜¯å…¶fieldsï¼š</p><pre><code>/** è©²å…§å­˜æ± éœ€è¦çš„æœ€å°‘å…§å­˜ç‰‡æ•¸ç›®*/    private final int numberOfRequiredMemorySegments;    /**     * ç•¶å‰å·²ç¶“ç²å¾—çš„å…§å­˜ç‰‡ä¸­ï¼Œé‚„æ²’æœ‰å¯«å…¥æ•¸æ“šçš„ç©ºç™½å…§å­˜ç‰‡     */    private final ArrayDeque&lt;MemorySegment&gt; availableMemorySegments = new ArrayDeque&lt;MemorySegment&gt;();    /**     * è¨»å†Šçš„æ‰€æœ‰ç›£æ§bufferå¯ç”¨æ€§çš„ç›£è½å™¨     */    private final ArrayDeque&lt;BufferListener&gt; registeredListeners = new ArrayDeque&lt;&gt;();    /** èƒ½çµ¦å…§å­˜æ± åˆ†é…çš„æœ€å¤§åˆ†ç‰‡æ•¸*/    private final int maxNumberOfMemorySegments;    /** ç•¶å‰å…§å­˜æ± å¤§å° */    private int currentPoolSize;    /**     * æ‰€æœ‰ç¶“ç”±NetworkBufferPoolåˆ†é…çš„ï¼Œè¢«æœ¬å…§å­˜æ± å¼•ç”¨åˆ°çš„ï¼ˆéç›´æ¥ç²å¾—çš„ï¼‰åˆ†ç‰‡æ•¸     */    private int numberOfRequestedMemorySegments;</code></pre><p>æ‰¿æ¥NetworkBufferPoolçš„é‡åˆ†é…æ–¹æ³•ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹LocalBufferPoolçš„setNumBuffers()æ–¹æ³•ï¼Œä»£ç¢¼å¾ˆçŸ­ï¼Œé‚è¼¯ä¹Ÿç›¸ç•¶ç°¡å–®ï¼Œå°±ä¸å±•é–‹èªªäº†ï¼š</p><pre><code>public void setNumBuffers(int numBuffers) throws IOException {        synchronized (availableMemorySegments) {            checkArgument(numBuffers &gt;= numberOfRequiredMemorySegments,                    "Buffer pool needs at least %s buffers, but tried to set to %s",                    numberOfRequiredMemorySegments, numBuffers);            if (numBuffers &gt; maxNumberOfMemorySegments) {                currentPoolSize = maxNumberOfMemorySegments;            } else {                currentPoolSize = numBuffers;            }            returnExcessMemorySegments();            // If there is a registered owner and we have still requested more buffers than our            // size, trigger a recycle via the owner.            if (owner != null &amp;&amp; numberOfRequestedMemorySegments &gt; currentPoolSize) {                owner.releaseMemory(numberOfRequestedMemorySegments - numBuffers);            }        }    }</code></pre><h1 class=pgc-h-arrow-right><strong>RecordWriterèˆ‡Record</strong></h1><p>æˆ‘å€‘æ¥è‘—å¾€é«˜å±¤æŠ½è±¡èµ°ï¼Œå‰›å‰›æåˆ°äº†æœ€åº•å±¤å…§å­˜æŠ½è±¡æ˜¯MemorySegmentï¼Œç”¨æ–¼æ•¸æ“šå‚³è¼¸çš„æ˜¯Bufferï¼Œé‚£éº¼ï¼Œæ‰¿ä¸Šå•Ÿä¸‹å°æ¥å¾Javaå°è±¡è½‰ç‚ºBufferçš„ä¸­é–“å°è±¡æ˜¯ä»€éº¼å‘¢ï¼Ÿæ˜¯StreamRecordã€‚</p><p>å¾StreamRecord&lt;T>é€™å€‹é¡åå­—å°±å¯ä»¥çœ‹å‡ºä¾†ï¼Œé€™å€‹é¡å°±æ˜¯å€‹wrapï¼Œè£¡é¢ä¿å­˜äº†åŸå§‹çš„Javaå°è±¡ã€‚å¦å¤–ï¼ŒStreamRecordé‚„ä¿å­˜äº†ä¸€å€‹timestampã€‚</p><p>é‚£éº¼é€™å€‹å°è±¡æ˜¯æ€éº¼è®ŠæˆLocalBufferPoolå…§å­˜æ± è£¡çš„ä¸€å€‹å¤§è™Ÿå­—ç¯€æ•¸çµ„çš„å‘¢ï¼Ÿè—‰åŠ©äº†StreamWriteré€™å€‹é¡ã€‚</p><p>æˆ‘å€‘ç›´æ¥ä¾†çœ‹æŠŠæ•¸æ“šåºåˆ—åŒ–äº¤å‡ºå»çš„æ–¹æ³•ï¼š</p><pre><code>private void sendToTarget(T record, int targetChannel) throws IOException, InterruptedException {        RecordSerializer&lt;T&gt; serializer = serializers[targetChannel];        SerializationResult result = serializer.addRecord(record);        while (result.isFullBuffer()) {            if (tryFinishCurrentBufferBuilder(targetChannel, serializer)) {                // If this was a full record, we are done. Not breaking                // out of the loop at this point will lead to another                // buffer request before breaking out (that would not be                // a problem per se, but it can lead to stalls in the                // pipeline).                if (result.isFullRecord()) {                    break;                }            }            BufferBuilder bufferBuilder = requestNewBufferBuilder(targetChannel);            result = serializer.continueWritingWithNextBufferBuilder(bufferBuilder);        }        checkState(!serializer.hasSerializedData(), "All data should be written at once");                                if (flushAlways) {            targetPartition.flush(targetChannel);        }    }</code></pre><p>å…ˆèªªæœ€å¾Œä¸€è¡Œï¼Œå¦‚æœé…ç½®ç‚ºflushAlwaysï¼Œé‚£éº¼æœƒç«‹åˆ»æŠŠå…ƒç´ é«®é€å‡ºå»ï¼Œä½†æ˜¯é€™æ¨£ååé‡æœƒä¸‹é™ï¼›Flinkçš„é»˜èªè¨­ç½®å…¶å¯¦ä¹Ÿä¸æ˜¯ä¸€å€‹å…ƒç´ ä¸€å€‹å…ƒç´ çš„ç™¼é€ï¼Œæ˜¯å–®ç¨èµ·äº†ä¸€å€‹ç·šç¨‹ï¼Œæ¯éš”å›ºå®šæ™‚é–“flushä¸€æ¬¡æ‰€æœ‰channelï¼Œè¼ƒçœŸèµ·ä¾†ä¹Ÿç®—æ˜¯mini batchäº†ã€‚å†èªªåºåˆ—åŒ–é‚£ä¸€å¥:SerializationResult result = serializer.addRecord(record);ã€‚åœ¨é€™è¡Œä»£ç¢¼ä¸­ï¼ŒFlinkæŠŠå°è±¡èª¿ç”¨è©²å°è±¡æ‰€å±¬çš„åºåˆ—åŒ–å™¨åºåˆ—åŒ–ç‚ºå­—ç¯€æ•¸çµ„ã€‚</p><h1 class=pgc-h-arrow-right>æ•¸æ“šæµè½‰éç¨‹</h1><p>ä¸Šä¸€ç¯€è¬›äº†å„å±¤æ•¸æ“šçš„æŠ½è±¡ï¼Œé€™ä¸€ç¯€è¬›è¬›æ•¸æ“šåœ¨å„å€‹taskä¹‹é–“exchangeçš„éç¨‹ã€‚</p><h1 class=pgc-h-arrow-right>æ•´é«”éç¨‹</h1><p>çœ‹é€™å¼µåœ–ï¼š</p><div class=pgc-img><img alt=Flinkä¸­çš„æ•¸æ“šæŠ½è±¡åŠæ•¸æ“šäº¤æ›éç¨‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/867ece4553124fdfb6151b38bb0dbc77><p class=pgc-img-caption></p></div><p>1.ç¬¬ä¸€æ­¥å¿…ç„¶æ˜¯æº–å‚™ä¸€å€‹ResultPartitionï¼›2.é€šçŸ¥JobMasterï¼›3.JobMasteré€šçŸ¥ä¸‹æ¸¸ç¯€é»ï¼›å¦‚æœä¸‹æ¸¸ç¯€é»å°šæœªéƒ¨ç½²ï¼Œå‰‡éƒ¨ç½²ä¹‹ï¼›4.ä¸‹æ¸¸ç¯€é»å‘ä¸ŠéŠè«‹æ±‚æ•¸æ“š5.é–‹å§‹å‚³è¼¸æ•¸æ“š</p><h1 class=pgc-h-arrow-right>æ•¸æ“šè·¨taskå‚³é</h1><p>æœ¬ç¯€è¬›ä¸€ä¸‹ç®—å­ä¹‹é–“å…·é«”çš„æ•¸æ“šå‚³è¼¸éç¨‹ã€‚ä¹Ÿå…ˆä¸Šä¸€å¼µåœ–ï¼š</p><div class=pgc-img><img alt=Flinkä¸­çš„æ•¸æ“šæŠ½è±¡åŠæ•¸æ“šäº¤æ›éç¨‹ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5b5f2986097a4c7b929313895f2cae05><p class=pgc-img-caption></p></div><p>æ•¸æ“šåœ¨taskä¹‹é–“å‚³éæœ‰å¦‚ä¸‹å¹¾æ­¥ï¼š</p><p>1.æ•¸æ“šåœ¨æœ¬operatorè™•ç†å®Œå¾Œï¼Œäº¤çµ¦RecordWriterã€‚æ¯æ¢è¨˜éŒ„éƒ½è¦é¸æ“‡ä¸€å€‹ä¸‹æ¸¸ç¯€é»ï¼Œæ‰€ä»¥è¦ç¶“éChannelSelectorã€‚2.æ¯å€‹channeléƒ½æœ‰ä¸€å€‹serializerï¼ˆæˆ‘èªç‚ºé€™æ‡‰è©²æ˜¯ç‚ºäº†é¿å…å¤šç·šç¨‹å¯«çš„éº»ç…©ï¼‰ï¼ŒæŠŠé€™æ¢Recordåºåˆ—åŒ–ç‚ºByteBuffer3.æ¥ä¸‹ä¾†æ•¸æ“šè¢«å¯«å…¥ResultPartitionä¸‹çš„å„å€‹subPartitionè£¡ï¼Œæ­¤æ™‚è©²æ•¸æ“šå·²ç¶“å­˜å…¥DirectBufferï¼ˆMemorySegmentï¼‰4.å–®ç¨çš„ç·šç¨‹æ§åˆ¶æ•¸æ“šçš„flushé€Ÿåº¦ï¼Œä¸€æ—¦è§¸ç™¼flushï¼Œå‰‡é€šéNettyçš„nioé€šé“å‘å°ç«¯å¯«å…¥5.å°ç«¯çš„netty clientæ¥æ”¶åˆ°æ•¸æ“šï¼Œdecodeå‡ºä¾†ï¼ŒæŠŠæ•¸æ“šæ‹·è²åˆ°bufferè£¡ï¼Œç„¶å¾Œé€šçŸ¥InputChannel6.æœ‰å¯ç”¨çš„æ•¸æ“šæ™‚ï¼Œä¸‹æ¸¸ç®—å­å¾é˜»å¡é†’ä¾†ï¼Œå¾InputChannelå–å‡ºbufferï¼Œå†è§£åºåˆ—åŒ–æˆrecordï¼Œäº¤çµ¦ç®—å­åŸ·è¡Œç”¨æˆ¶ä»£ç¢¼æ•¸æ“šåœ¨ä¸åŒæ©Ÿå™¨çš„ç®—å­ä¹‹é–“å‚³éçš„æ­¥é©Ÿå°±æ˜¯ä»¥ä¸Šé€™äº›ã€‚</p><p>ç­è§£äº†æ­¥é©Ÿä¹‹å¾Œï¼Œå†ä¾†çœ‹ä¸€ä¸‹éƒ¨åˆ†é—œéµä»£ç¢¼ï¼šé¦–å…ˆæ˜¯æŠŠæ•¸æ“šäº¤çµ¦recordwriterã€‚</p><pre><code>//RecordWriterOutput.java    @Override    public void collect(StreamRecord&lt;OUT&gt; record) {        if (this.outputTag != null) {            // we are only responsible for emitting to the main input            return;        }        //é€™è£¡å¯ä»¥çœ‹åˆ°æŠŠè¨˜éŒ„äº¤çµ¦äº†recordwriter        pushToRecordWriter(record);    }</code></pre><p>ç„¶å¾ŒrecordwriteræŠŠæ•¸æ“šç™¼é€åˆ°å°æ‡‰çš„é€šé“ã€‚</p><pre><code>//RecordWriter.java    public void emit(T record) throws IOException, InterruptedException {        //channelselectorç™»å ´äº†        for (int targetChannel : channelSelector.selectChannels(record, numChannels)) {            sendToTarget(record, targetChannel);        }    }            private void sendToTarget(T record, int targetChannel) throws IOException, InterruptedException {                //é¸æ“‡åºåˆ—åŒ–å™¨ä¸¦åºåˆ—åŒ–æ•¸æ“š        RecordSerializer&lt;T&gt; serializer = serializers[targetChannel];        SerializationResult result = serializer.addRecord(record);        while (result.isFullBuffer()) {            if (tryFinishCurrentBufferBuilder(targetChannel, serializer)) {                // If this was a full record, we are done. Not breaking                // out of the loop at this point will lead to another                // buffer request before breaking out (that would not be                // a problem per se, but it can lead to stalls in the                // pipeline).                if (result.isFullRecord()) {                    break;                }            }            BufferBuilder bufferBuilder = requestNewBufferBuilder(targetChannel);            //å¯«å…¥channel            result = serializer.continueWritingWithNextBufferBuilder(bufferBuilder);        }        checkState(!serializer.hasSerializedData(), "All data should be written at once");        if (flushAlways) {            targetPartition.flush(targetChannel);        }    }</code></pre><p>æ¥ä¸‹ä¾†æ˜¯æŠŠæ•¸æ“šæ¨çµ¦åº•å±¤è¨­æ–½ï¼ˆnettyï¼‰çš„éç¨‹ï¼š</p><pre><code>//ResultPartition.java    @Override    public void flushAll() {        for (ResultSubpartition subpartition : subpartitions) {            subpartition.flush();        }    }            //PartitionRequestQueue.java        void notifyReaderNonEmpty(final NetworkSequenceViewReader reader) {        //é€™è£¡äº¤çµ¦äº†netty serverç·šç¨‹å»æ¨        ctx.executor().execute(new Runnable() {            @Override            public void run() {                ctx.pipeline().fireUserEventTriggered(reader);            }        });    }</code></pre><p>nettyç›¸é—œçš„éƒ¨åˆ†ï¼š</p><pre><code>//AbstractChannelHandlerContext.java    public ChannelHandlerContext fireUserEventTriggered(final Object event) {        if (event == null) {            throw new NullPointerException("event");        } else {            final AbstractChannelHandlerContext next = this.findContextInbound();            EventExecutor executor = next.executor();            if (executor.inEventLoop()) {                next.invokeUserEventTriggered(event);            } else {                executor.execute(new OneTimeTask() {                    public void run() {                        next.invokeUserEventTriggered(event);                    }                });            }            return this;        }    }</code></pre><p>æœ€å¾ŒçœŸå¯¦çš„å¯«å…¥ï¼š</p><pre><code>//PartittionRequesetQueue.java    private void enqueueAvailableReader(final NetworkSequenceViewReader reader) throws Exception {        if (reader.isRegisteredAsAvailable() || !reader.isAvailable()) {            return;        }        // Queue an available reader for consumption. If the queue is empty,        // we try trigger the actual write. Otherwise this will be handled by        // the writeAndFlushNextMessageIfPossible calls.        boolean triggerWrite = availableReaders.isEmpty();        registerAvailableReader(reader);        if (triggerWrite) {            writeAndFlushNextMessageIfPossible(ctx.channel());        }    }        private void writeAndFlushNextMessageIfPossible(final Channel channel) throws IOException {                ......                next = reader.getNextBuffer();                if (next == null) {                    if (!reader.isReleased()) {                        continue;                    }                    markAsReleased(reader.getReceiverId());                    Throwable cause = reader.getFailureCause();                    if (cause != null) {                        ErrorResponse msg = new ErrorResponse(                            new ProducerFailedException(cause),                            reader.getReceiverId());                        ctx.writeAndFlush(msg);                    }                } else {                    // This channel was now removed from the available reader queue.                    // We re-add it into the queue if it is still available                    if (next.moreAvailable()) {                        registerAvailableReader(reader);                    }                    BufferResponse msg = new BufferResponse(                        next.buffer(),                        reader.getSequenceNumber(),                        reader.getReceiverId(),                        next.buffersInBacklog());                    if (isEndOfPartitionEvent(next.buffer())) {                        reader.notifySubpartitionConsumed();                        reader.releaseAllResources();                        markAsReleased(reader.getReceiverId());                    }                    // Write and flush and wait until this is done before                    // trying to continue with the next buffer.                    channel.writeAndFlush(msg).addListener(writeListener);                    return;                }                ......            }</code></pre><p>ä¸Šé¢é€™æ®µä»£ç¢¼è£¡ç¬¬äºŒå€‹æ–¹æ³•ä¸­èª¿ç”¨çš„writeAndFlush(msg)å°±æ˜¯çœŸæ­£å¾€nettyçš„nioé€šé“é‡Œå¯«å…¥çš„åœ°æ–¹äº†ã€‚åœ¨é€™è£¡ï¼Œå¯«å…¥çš„æ˜¯ä¸€å€‹RemoteInputChannelï¼Œå°æ‡‰çš„å°±æ˜¯ä¸‹æ¸¸ç¯€é»çš„InputGateçš„channelsã€‚</p><p>æœ‰å¯«å°±æœ‰è®€ï¼Œnioé€šé“çš„å¦ä¸€ç«¯éœ€è¦è®€å…¥bufferï¼Œä»£ç¢¼å¦‚ä¸‹ï¼š</p><pre><code>//CreditBasedPartitionRequestClientHandler.java    private void decodeMsg(Object msg) throws Throwable {        final Class&lt;?&gt; msgClazz = msg.getClass();        // ---- Buffer --------------------------------------------------------        if (msgClazz == NettyMessage.BufferResponse.class) {            NettyMessage.BufferResponse bufferOrEvent = (NettyMessage.BufferResponse) msg;            RemoteInputChannel inputChannel = inputChannels.get(bufferOrEvent.receiverId);            if (inputChannel == null) {                bufferOrEvent.releaseBuffer();                cancelRequestFor(bufferOrEvent.receiverId);                return;            }            decodeBufferOrEvent(inputChannel, bufferOrEvent);        }                ......            }</code></pre><p>æ’ä¸€å¥ï¼ŒFlinkå…¶å¯¦åšé˜»å¡å’Œç²å–æ•¸æ“šçš„æ–¹å¼éå¸¸è‡ªç„¶ï¼Œåˆ©ç”¨äº†ç”Ÿç”¢è€…å’Œæ¶ˆè²»è€…æ¨¡å‹ï¼Œç•¶ç²å–ä¸åˆ°æ•¸æ“šæ™‚ï¼Œæ¶ˆè²»è€…è‡ªç„¶é˜»å¡ï¼›ç•¶æ•¸æ“šè¢«åŠ å…¥éšŠåˆ—ï¼Œæ¶ˆè²»è€…è¢«notifyã€‚Flinkçš„èƒŒå£“æ©Ÿåˆ¶ä¹Ÿæ˜¯è—‰æ­¤å¯¦ç¾ã€‚</p><p>ç„¶å¾Œåœ¨é€™è£¡åˆååºåˆ—åŒ–æˆStreamRecordï¼š</p><pre><code>//StreamElementSerializer.java    public StreamElement deserialize(DataInputView source) throws IOException {        int tag = source.readByte();        if (tag == TAG_REC_WITH_TIMESTAMP) {            long timestamp = source.readLong();            return new StreamRecord&lt;T&gt;(typeSerializer.deserialize(source), timestamp);        }        else if (tag == TAG_REC_WITHOUT_TIMESTAMP) {            return new StreamRecord&lt;T&gt;(typeSerializer.deserialize(source));        }        else if (tag == TAG_WATERMARK) {            return new Watermark(source.readLong());        }        else if (tag == TAG_STREAM_STATUS) {            return new StreamStatus(source.readInt());        }        else if (tag == TAG_LATENCY_MARKER) {            return new LatencyMarker(source.readLong(), new OperatorID(source.readLong(), source.readLong()), source.readInt());        }        else {            throw new IOException("Corrupt stream, found tag: " + tag);        }    }</code></pre><p>ç„¶å¾Œå†æ¬¡åœ¨StreamInputProcessor.processInput()å¾ªç’°ä¸­å¾—åˆ°è™•ç†ã€‚</p><p>è‡³æ­¤ï¼Œæ•¸æ“šåœ¨è·¨jvmçš„ç¯€é»ä¹‹é–“çš„æµè½‰éç¨‹å°±è¬›å®Œäº†ã€‚</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>æ•¸æ“š</a></li><li><a>Flink</a></li><li><a>äº¤æ›</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/611f4508.html alt=BIMæ¨¡å‹æ•¸æ“šä¸»è¦æœ‰å“ªäº›äº¤æ›æ–¹å¼èˆ‡æ–¹æ³• class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/8b3a0009c04f47dba125fac42117633d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/611f4508.html title=BIMæ¨¡å‹æ•¸æ“šä¸»è¦æœ‰å“ªäº›äº¤æ›æ–¹å¼èˆ‡æ–¹æ³•>BIMæ¨¡å‹æ•¸æ“šä¸»è¦æœ‰å“ªäº›äº¤æ›æ–¹å¼èˆ‡æ–¹æ³•</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a44e688d.html alt=å…±å»ºå®‰å…¨é«˜æ•ˆçš„è­‰é€šæ•¸æ“šäº¤æ›å­˜å„²å¹³è‡º class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/6e00e2a126624cd3a04003e09f129836 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a44e688d.html title=å…±å»ºå®‰å…¨é«˜æ•ˆçš„è­‰é€šæ•¸æ“šäº¤æ›å­˜å„²å¹³è‡º>å…±å»ºå®‰å…¨é«˜æ•ˆçš„è­‰é€šæ•¸æ“šäº¤æ›å­˜å„²å¹³è‡º</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5a8ee1e1.html alt=åŠ å¤§æ•¸æ“šäº¤æ›ï¼Œæœå‹™ç¤¾æœƒæ²»ç† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/52356fef840348268d722f9e09041d09 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5a8ee1e1.html title=åŠ å¤§æ•¸æ“šäº¤æ›ï¼Œæœå‹™ç¤¾æœƒæ²»ç†>åŠ å¤§æ•¸æ“šäº¤æ›ï¼Œæœå‹™ç¤¾æœƒæ²»ç†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/aabf6c20.html alt=å¤§å®¹é‡æ•¸æ“šäº¤æ›ï¼Œè©²é¸æ“‡ä»€éº¼ç§»å‹•å­˜å„²è¨­å‚™ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/a0645b75449e4f86b44ec2301e660ac4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/aabf6c20.html title=å¤§å®¹é‡æ•¸æ“šäº¤æ›ï¼Œè©²é¸æ“‡ä»€éº¼ç§»å‹•å­˜å„²è¨­å‚™ï¼Ÿ>å¤§å®¹é‡æ•¸æ“šäº¤æ›ï¼Œè©²é¸æ“‡ä»€éº¼ç§»å‹•å­˜å„²è¨­å‚™ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4abcc1ec.html alt=å®Œå–„å’Œé«˜æ•ˆçš„æ•¸æ“šäº¤æ›ç®¡ç†å¹³è‡º class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/95bd84cca48a4510bdf677846e255dda style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4abcc1ec.html title=å®Œå–„å’Œé«˜æ•ˆçš„æ•¸æ“šäº¤æ›ç®¡ç†å¹³è‡º>å®Œå–„å’Œé«˜æ•ˆçš„æ•¸æ“šäº¤æ›ç®¡ç†å¹³è‡º</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/543694ba.html alt=ä¸€èˆ¬äººä¸çŸ¥é“çš„ç·šç¨‹é–“æ•¸æ“šäº¤æ›Exchanger class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/df26ce3a590f4daba6b29648f36e3ae7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/543694ba.html title=ä¸€èˆ¬äººä¸çŸ¥é“çš„ç·šç¨‹é–“æ•¸æ“šäº¤æ›Exchanger>ä¸€èˆ¬äººä¸çŸ¥é“çš„ç·šç¨‹é–“æ•¸æ“šäº¤æ›Exchanger</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/781bd8ae.html alt="æˆéƒ½æˆè¯ï¼šæ­å»ºæ•¸æ“šäº¤æ›ä¸­å¿ƒ æ¨é€²ç§»å‹•è¾¦å…¬è¾¦æ¡ˆå¹³è‡ºå»ºè¨­_æ­£ç¾©ç¶²" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/781bd8ae.html title="æˆéƒ½æˆè¯ï¼šæ­å»ºæ•¸æ“šäº¤æ›ä¸­å¿ƒ æ¨é€²ç§»å‹•è¾¦å…¬è¾¦æ¡ˆå¹³è‡ºå»ºè¨­_æ­£ç¾©ç¶²">æˆéƒ½æˆè¯ï¼šæ­å»ºæ•¸æ“šäº¤æ›ä¸­å¿ƒ æ¨é€²ç§»å‹•è¾¦å…¬è¾¦æ¡ˆå¹³è‡ºå»ºè¨­_æ­£ç¾©ç¶²</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/89963e6e.html alt=æ•¸æ“šå®‰å…¨äº¤æ›å”è­°ä¾†äº†ï¼Œæˆ–å°‡æ¨å‹•AIå¤§æ­¥é‚å‘3.0æ™‚ä»£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/SErvipbBeWotcr style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/89963e6e.html title=æ•¸æ“šå®‰å…¨äº¤æ›å”è­°ä¾†äº†ï¼Œæˆ–å°‡æ¨å‹•AIå¤§æ­¥é‚å‘3.0æ™‚ä»£>æ•¸æ“šå®‰å…¨äº¤æ›å”è­°ä¾†äº†ï¼Œæˆ–å°‡æ¨å‹•AIå¤§æ­¥é‚å‘3.0æ™‚ä»£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/75154d57.html alt=è©¦é©—æ•¸æ“šäº¤æ›å…±äº«æŠ€è¡“ç ”ç©¶ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1f294f46e217463ca5ba719dfd99dcf3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/75154d57.html title=è©¦é©—æ•¸æ“šäº¤æ›å…±äº«æŠ€è¡“ç ”ç©¶>è©¦é©—æ•¸æ“šäº¤æ›å…±äº«æŠ€è¡“ç ”ç©¶</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/259011ee.html alt=è·¨ç¶²æ•¸æ“šäº¤æ›çš„5ç¨®æ–¹å¼ä»‹ç´¹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/46b9311b886d482780b49bd6285a6eee style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/259011ee.html title=è·¨ç¶²æ•¸æ“šäº¤æ›çš„5ç¨®æ–¹å¼ä»‹ç´¹>è·¨ç¶²æ•¸æ“šäº¤æ›çš„5ç¨®æ–¹å¼ä»‹ç´¹</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/b7000f2a.html alt=æ•¸æ“šä¸­å¿ƒç¶²çµ¡äº¤æ›è¨­å‚™æ¶æ§‹ä¹‹æˆ° class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15209294584692e19f49375 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/b7000f2a.html title=æ•¸æ“šä¸­å¿ƒç¶²çµ¡äº¤æ›è¨­å‚™æ¶æ§‹ä¹‹æˆ°>æ•¸æ“šä¸­å¿ƒç¶²çµ¡äº¤æ›è¨­å‚™æ¶æ§‹ä¹‹æˆ°</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3fdedd1.html alt="'æ•¸æ“šå…±äº«'å’Œ'æ•¸æ“šäº¤æ›'ï¼Œé€™å…©ç¨®æœå‹™å¹³è‡ºåœ¨æ¨å»£ä»æœ‰ä¸‹æ–¹é¢å›°é›£" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/21d8c0770c0944d495e1516d8bcb6c70 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3fdedd1.html title="'æ•¸æ“šå…±äº«'å’Œ'æ•¸æ“šäº¤æ›'ï¼Œé€™å…©ç¨®æœå‹™å¹³è‡ºåœ¨æ¨å»£ä»æœ‰ä¸‹æ–¹é¢å›°é›£">'æ•¸æ“šå…±äº«'å’Œ'æ•¸æ“šäº¤æ›'ï¼Œé€™å…©ç¨®æœå‹™å¹³è‡ºåœ¨æ¨å»£ä»æœ‰ä¸‹æ–¹é¢å›°é›£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/28c16cf.html alt=ä¸­å·´æµ·é—œæ•¸æ“šäº¤æ›å·²å•Ÿå‹•ï¼Œä½åƒ¹å ±é—œå°‡å—åš´æ‡²ï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RDa53wtC87XbSB style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/28c16cf.html title=ä¸­å·´æµ·é—œæ•¸æ“šäº¤æ›å·²å•Ÿå‹•ï¼Œä½åƒ¹å ±é—œå°‡å—åš´æ‡²ï¼>ä¸­å·´æµ·é—œæ•¸æ“šäº¤æ›å·²å•Ÿå‹•ï¼Œä½åƒ¹å ±é—œå°‡å—åš´æ‡²ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6d19a57.html alt="å¦‚ä½•ä½¿ç”¨ Protobuf åšæ•¸æ“šäº¤æ›" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1f3e86b7f46045efaa41d194ae4b0638 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6d19a57.html title="å¦‚ä½•ä½¿ç”¨ Protobuf åšæ•¸æ“šäº¤æ›">å¦‚ä½•ä½¿ç”¨ Protobuf åšæ•¸æ“šäº¤æ›</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1209c08.html alt=å¦‚ä½•æœ‰æ•ˆçš„é€²è¡Œæ•¸æ“šäº¤æ›ç®¡ç† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/fbb3bc2be1e04318bc25ab6d95ff4d03 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1209c08.html title=å¦‚ä½•æœ‰æ•ˆçš„é€²è¡Œæ•¸æ“šäº¤æ›ç®¡ç†>å¦‚ä½•æœ‰æ•ˆçš„é€²è¡Œæ•¸æ“šäº¤æ›ç®¡ç†</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>