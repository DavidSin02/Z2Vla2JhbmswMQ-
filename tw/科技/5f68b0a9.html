<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>到底什麼是分佈式系統？ | 极客快訊</title><meta property="og:title" content="到底什麼是分佈式系統？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/RSW9RN8IBjI8Rq"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5f68b0a9.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5f68b0a9.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5f68b0a9.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5f68b0a9.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5f68b0a9.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5f68b0a9.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/5f68b0a9.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/5f68b0a9.html><meta property="article:published_time" content="2020-11-14T21:04:37+08:00"><meta property="article:modified_time" content="2020-11-14T21:04:37+08:00"><meta name=Keywords content><meta name=description content="到底什麼是分佈式系統？"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/5f68b0a9.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>到底什麼是分佈式系統？</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p></p><h1>微服務倡導將複雜的單體應用拆分為若干個功能簡單、鬆耦合的服務，這樣可以降低開發難度、增強擴展性、便於敏捷開發。當前被越來越多的開發者推崇，系統微服務化後，一個看似簡單的功能，內部可能需要調用多個服務並操作多個數據庫實現，服務調用的分佈式事務問題變的非常突出。分佈式事務已經成為微服務落地最大的阻礙，也是最具挑戰性的一個技術難題。</h1><h1><strong>1. 什麼是微服務化帶來的分佈式事務問題？</strong></h1><p>首先，設想一個傳統的單體應用（Monolithic App），通過 3 個 Module，在同一個數據源上更新數據來完成一項業務。</p><p>很自然的，整個業務過程的數據一致性由本地事務來保證。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RSW9RN8IBjI8Rq><p>隨著業務需求和架構的變化，單體應用被拆分為微服務：原來的 3 個 Module 被拆分為 3 個獨立的服務，分別使用獨立的數據源（Pattern: Database per service）。業務過程將由 3 個服務的調用來完成。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RSW9RNO1vRuNzz><p>此時，每一個服務內部的數據一致性仍有本地事務來保證。而整個業務層面的全局數據一致性要如何保障呢？這就是微服務架構下面臨的，典型的分佈式事務需求：我們需要一個分佈式事務的解決方案保障業務全局的數據一致性。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RSW9RNb3dGyQBP><p></p><h1><strong>2. Fescar 的發展歷程</strong></h1><p>阿里是國內最早一批進行應用分佈式（微服務化）改造的企業，所以很早就遇到微服務架構下的分佈式事務問題。</p><p>2014 年，阿里中間件團隊發佈 TXC（Taobao Transaction Constructor），為集團內應用提供分佈式事務服務。</p><p>2016 年，TXC 經過產品化改造，以 GTS（Global Transaction Service）的身份登陸阿里雲，成為當時業界唯一一款雲上分佈式事務產品，在阿雲裡的公有云、專有云解決方案中，開始服務於眾多外部客戶。</p><p>2019 年起，基於 TXC 和 GTS 的技術積累，阿里中間件團隊發起了開源項目 Fescar（Fast & EaSy Commit And Rollback, FESCAR），和社區一起建設這個分佈式事務解決方案。</p><p>TXC/GTS/Fescar 一脈相承，為解決微服務架構下的分佈式事務問題交出了一份與眾不同的答卷。</p><p></p><h2><strong>2.1 設計初衷</strong></h2><p>高速增長的互聯網時代，快速試錯的能力對業務來說是至關重要的：</p><ul><li><p>一方面，不應該因為技術架構上的微服務化和分佈式事務支持的引入，給業務層面帶來額外的研發負擔。</p></li><li><p>另一方面，引入分佈式事務支持的業務應該基本保持在同一量級上的性能表現，不能因為事務機制顯著拖慢業務。</p></li></ul><p>基於這兩點，我們設計之初的最重要的考量就在於：</p><ul><li><p>對業務無侵入：這裡的“侵入”是指，因為分佈式事務這個技術問題的制約，要求應用在業務層面進行設計和改造。這種設計和改造往往會給應用帶來很高的研發和維護成本。我們希望把分佈式事務問題在 中間件 這個層次解決掉，不要求應用在業務層面做額外的工作。</p></li><li><p>高性能：引入分佈式事務的保障，必然會有額外的開銷，引起性能的下降。我們希望把分佈式事務引入的性能損耗降到非常低的水平，讓應用不因為分佈式事務的引入導致業務的可用性受影響。</p></li></ul><p></p><h2><strong>2.2 既有的解決方案為什麼不滿足？</strong></h2><p>既有的分佈式事務解決方案按照對業務侵入性分為兩類，即：對業務無侵入的和對業務有侵入的。</p><p></p><h3>★業務無侵入的方案</h3><p>既有的主流分佈式事務解決方案中，對業務無侵入的只有基於 XA 的方案，但應用 XA 方案存在 3 個方面的問題：</p><ul><li><p>要求數據庫提供對 XA 的支持。如果遇到不支持 XA（或支持得不好，比如 MySQL 5.7 以前的版本）的數據庫，則不能使用。</p></li><li><p>受協議本身的約束，事務資源的鎖定週期長。長週期的資源鎖定從業務層面來看，往往是不必要的，而因為事務資源的管理器是數據庫本身，應用層無法插手。這樣形成的局面就是，基於 XA 的應用往往性能會比較差，而且很難優化。</p></li><li><p>已經落地的基於 XA 的分佈式解決方案，都依託於重量級的應用服務器（Tuxedo/WebLogic/WebSphere 等)，這是不適用於微服務架構的。</p></li></ul><p></p><h3>★侵入業務的方案</h3><p>實際上，最初分佈式事務只有 XA 這個唯一方案。XA 是完備的，但在實踐過程中，由於種種原因（包含但不限於上面提到的 3 點）往往不得不放棄，轉而從業務層面著手來解決分佈式事務問題。比如：</p><ul><li><p>基於可靠消息的最終一致性方案</p></li><li><p>TCC</p></li><li><p>Saga</p></li></ul><p>都屬於這一類。這些方案的具體機制在這裡不做展開，網上這方面的論述文章非常多。總之，這些方案都要求在應用的業務層面把分佈式事務技術約束考慮到設計中，通常每一個服務都需要設計實現正向和反向的冪等接口。這樣的設計約束，往往會導致很高的研發和維護成本。</p><p></p><h2><strong>2.3 理想的方案應該是什麼樣子？</strong></h2><p>不可否認，侵入業務的分佈式事務方案都經過大量實踐驗證，能有效解決問題，在各種行業的業務應用系統中起著重要作用。但回到原點來思考，這些方案的採用實際上都是迫於無奈。設想，如果基於 XA 的方案能夠不那麼重，並且能保證業務的性能需求，相信不會有人願意把分佈式事務問題拿到業務層面來解決。</p><p>一個理想的分佈式事務解決方案應該：像使用本地事務一樣簡單，業務邏輯只關注業務層面的需求，不需要考慮事務機制上的約束。</p><p></p><h1><strong>3. 原理和設計</strong></h1><p>我們要設計一個對業務無侵入的方案，所以從業務無侵入的 XA 方案來思考：是否可以在 XA 的基礎上演進，解決掉 XA 方案面臨的問題呢？</p><p></p><h3><strong>3.1 如何定義一個分佈式事務？</strong></h3><p>首先，很自然的，我們可以把一個分佈式事務理解成一個包含了若干分支事務的全局事務。全局事務的職責是協調其下管轄的 分支事務 達成一致，要麼一起成功提交，要麼一起失敗回滾。此外，通常分支事務本身就是一個滿足 ACID 的本地事務。這是我們對分佈式事務結構的基本認識，與 XA 是一致的。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RSW9RNn69Wh2Id><p>其次，與 XA 的模型類似，我們定義 3 個組件來協議分佈式事務的處理過程。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RSW9RO0EvVCDwz><ul><li><p>Transaction Coordinator (TC)：事務協調器，維護全局事務的運行狀態，負責協調並驅動全局事務的提交或回滾。</p></li><li><p>Transaction Manager (TM)：控制全局事務的邊界，負責開啟一個全局事務，並最終發起全局提交或全局回滾的決議。</p></li><li><p>Resource Manager (RM)：控制分支事務，負責分支註冊、狀態彙報，並接收事務協調器的指令，驅動分支（本地）事務的提交和回滾。</p></li></ul><p>一個典型的分佈式事務過程：</p><ol><li><p>TM 向 TC 申請開啟一個全局事務，全局事務創建成功並生成一個全局唯一的 XID。</p></li><li><p>XID 在微服務調用鏈路的上下文中傳播。</p></li><li><p>RM 向 TC 註冊分支事務，將其納入 XID 對應全局事務的管轄。</p></li><li><p>TM 向 TC 發起針對 XID 的全局提交或回滾決議。</p></li><li><p>TC 調度 XID 下管轄的全部分支事務完成提交或回滾請求。</p></li></ol><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RSW9RZE4OnEluD><p>至此，Fescar 的協議機制總體上看與 XA 是一致的。</p><p></p><h3><strong>3.2 與 XA 的差別在什麼地方？</strong></h3><h4>★架構層次</h4><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RSW9RZTJXxFXN><p>XA 方案的 RM 實際上是在數據庫層，RM 本質上就是數據庫自身（通過提供支持 XA 的驅動程序來供應用使用）。</p><p>而 Fescar 的 RM 是以二方包的形式作為中間件層部署在應用程序這一側的，不依賴與數據庫本身對協議的支持，當然也不需要數據庫支持 XA 協議。這點對於微服務化的架構來說是非常重要的：應用層不需要為本地事務和分佈式事務兩類不同場景來適配兩套不同的數據庫驅動。</p><p>這個設計，剝離了分佈式事務方案對數據庫在 協議支持 上的要求。</p><p></p><h4>★兩階段提交</h4><p>先來看一下 XA 的 2PC 過程。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RSW9RZeJ4nbWqt><p>無論 Phase2 的決議是 commit 還是 rollback，事務性資源的鎖都要保持到 Phase2 完成才釋放。</p><p>設想一個正常運行的業務，大概率是 90% 以上的事務最終應該是成功提交的，我們是否可以在 Phase1 就將本地事務提交呢？這樣 90% 以上的情況下，可以省去 Phase2 持鎖的時間，整體提高效率。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RSW9RZqEdXFCbY><p>這個設計，在絕大多數場景減少了事務持鎖時間，從而提高了事務的併發度。</p><p>當然，你肯定會問：Phase1 即提交的情況下，Phase2 如何回滾呢？</p><p></p><h2><strong>3.3 分支事務如何提交和回滾？</strong></h2><p>首先，應用需要使用 Fescar 的 JDBC 數據源代理，也就是 Fescar 的 RM。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/RSW9Ra1APC9K1S><p>★Phase1：</p><p>Fescar 的 JDBC 數據源代理通過對業務 SQL 的解析，把業務數據在更新前後的數據鏡像組織成回滾日誌，利用本地事務 的 ACID 特性，將業務數據的更新和回滾日誌的寫入在同一個 本地事務中提交。</p><p>這樣，可以保證：任何提交的業務數據的更新一定有相應的回滾日誌存在。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RSW9RpOE8IlegH><p>基於這樣的機制，分支的本地事務便可以在全局事務的 Phase1 提交，馬上釋放本地事務鎖定的資源。</p><p>★Phase2：</p><p>如果決議是全局提交，此時分支事務此時已經完成提交，不需要同步協調處理（只需要異步清理回滾日誌），Phase2 可以非常快速地完成。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RSW9Rpd5HpiAdt><p>如果決議是全局回滾，RM 收到協調器發來的回滾請求，通過 XID 和 Branch ID 找到相應的回滾日誌記錄，通過回滾記錄生成反向的更新 SQL 並執行，以完成分支的回滾。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RSW9Rpq8zWWqom><p></p><h2><strong>3.4 事務傳播機制</strong></h2><p>XID 是一個全局事務的唯一標識，事務傳播機制要做的就是把 XID 在服務調用鏈路中傳遞下去，並綁定到服務的事務上下文中，這樣，服務鏈路中的數據庫更新操作，就都會向該 XID 代表的全局事務註冊分支，納入同一個全局事務的管轄。</p><p>基於這個機制，Fescar 是可以支持任何微服務 RPC 框架的。只要在特定框架中找到可以透明傳播 XID 的機制即可，比如，Dubbo 的 Filter + RpcContext。</p><p>對應到 Java EE 規範和 Spring 定義的事務傳播屬性，Fescar 的支持如下：</p><ul><li><p>PROPAGATION_REQUIRED：默認支持</p></li><li><p>PROPAGATION_SUPPORTS：默認支持</p></li><li><p>PROPAGATION_MANDATORY：應用通過 API 來實現</p></li><li><p>PROPAGATION_REQUIRES_NEW：應用通過 API 來實現</p></li><li><p>PROPAGATION_NOT_SUPPORTED：應用通過 API 來實現</p></li><li><p>PROPAGATION_NEVER：應用通過 API 來實現</p></li><li><p>PROPAGATION_REQUIRED_NESTED：不支持</p></li></ul><p></p><h2><strong>3.5 隔離性</strong></h2><p>全局事務的隔離性是建立在分支事務的本地隔離級別基礎之上的。</p><p>在數據庫本地隔離級別讀已提交或以上的前提下，Fescar 設計了由事務協調器維護的 全局寫排他鎖，來保證事務間的寫隔離，將全局事務默認定義在讀未提交的隔離級別上。</p><p>我們對隔離級別的共識是：絕大部分應用在 讀已提交 的隔離級別下工作是沒有問題的。而實際上，這當中又有絕大多數的應用場景，實際上工作在讀未提交的隔離級別下同樣沒有問題。</p><p>在極端場景下，應用如果需要達到全局的 讀已提交，Fescar 也提供了相應的機制來達到目的。默認，Fescar 是工作在 讀無提交 的隔離級別下，保證絕大多數場景的高效性。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RSW9Rq28VjZvHX><p>事務的 ACID 屬性在 Fescar 中的體現是一個比較複雜的話題，我們會有專門的文章來深入分析，這裡不做進一步展開。</p><p></p><h1><strong>4. 適用場景分析</strong></h1><p>前文所述的 Fescar 的核心原理中有一個重要前提：分支事務中涉及的資源，必須是支持ACID 事務的 關係型數據庫。分支的提交和回滾機制，都依賴於本地事務的保障。所以，如果應用使用的數據庫是不支持事務的，或根本不是關係型數據庫，就不適用。</p><p>另外，目前 Fescar 的實現還存在一些侷限，比如：事務隔離級別最高支持到讀已提交的水平，SQL 的解析還不能涵蓋全部的語法等。</p><p>為了覆蓋 Fescar 原生機制暫時不能支持應用場景，我們定義了另外一種工作模式。</p><p>上面介紹的 Fescar 原生工作模式稱為 AT（Automatic Transaction）模式，這種模式是對業務無侵入的。與之相應的另外一種工作模式稱為 MT（Manual Transaction）模式，這種模式下，分支事務需要應用自己來定義業務本身及提交和回滾的邏輯。</p><p></p><h2><strong>4.1 分支的基本行為模式</strong></h2><p>作為全局事務一部分的分支事務，除本身的業務邏輯外，都包含 4 個與協調器交互的行為：</p><ul><li><p>分支註冊：在分支事務的數據操作進行之前，需要向協調器註冊，把即將進行的分支事務數據操作，納入一個已經開啟的全局事務的管理中去，在分支註冊成功後，才可以進行數據操作。</p></li><li><p>狀態上報：在分支事務的數據操作完成後，需要向事務協調器上報其執行結果。</p></li><li><p>分支提交：響應協調器發出的分支事務提交的請求，完成分支提交。</p></li><li><p>分支回滾：響應協調器發出的分支事務回滾的請求，完成分支回滾。</p></li></ul><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RSW9RqE2vVVLLg><p></p><h2><strong>4.2 AT 模式分支的行為模式</strong></h2><p>業務邏輯不需要關注事務機制，分支與全局事務的交互過程自動進行。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RSW9S676HCL9pp><p></p><h2><strong>4.3 MT 模式分支的行為模式</strong></h2><p>業務邏輯需要被分解為 Prepare/Commit/Rollback 3 部分，形成一個 MT 分支，加入全局事務。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RSW9S6LEofnft5><p>MT 模式一方面是 AT 模式的補充。另外，更重要的價值在於，通過 MT 模式可以把眾多非事務性資源納入全局事務的管理中。</p><p></p><h2><strong>4.4 混合模式</strong></h2><p>因為 AT 和 MT 模式的分支從根本上行為模式是一致的，所以可以完全兼容，即，一個全局事務中，可以同時存在 AT 和 MT 的分支。這樣就可以達到全面覆蓋業務場景的目的：AT 模式可以支持的，使用 AT 模式；AT 模式暫時支持不了的，用 MT 模式來替代。另外，自然的，MT 模式管理的非事務性資源也可以和支持事務的關係型數據庫資源一起，納入同一個分佈式事務的管理中。</p><p></p><h2><strong>4.5 應用場景的遠景</strong></h2><p>回到我們設計的初衷：一個理想的分佈式事務解決方案是不應該侵入業務的。MT 模式是在 AT 模式暫時不能完全覆蓋所有場景的情況下，一個比較自然的補充方案。我們希望通過 AT 模式的不斷演進增強，逐步擴大所支持的場景，MT 模式逐步收斂。未來，我們會納入對 XA 的原生支持，用 XA 這種無侵入的方式來覆蓋 AT 模式無法觸達的場景。</p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RSW9S6XIPbb0kV><p></p><h1><strong>5. 擴展點</strong></h1><p></p><h2><strong>5.1 微服務框架的支持</strong></h2><p>事務上下文在微服務間的傳播需要根據微服務框架本身的機制，訂製最優的，對應用層透明的解決方案。有興趣在這方面共建的開發者可以參考內置的對 Dubbo 的支持方案，來實現對其他微服務框架的支持。</p><p></p><h2><strong>5.2 所支持的數據庫類型</strong></h2><p>因為 AT 涉及 SQL 的解析，所以在不同類型的數據庫上工作，會有一些特定的適配。有興趣在這方面共建的開發者可以參考內置的對 MySQL 的支持方案，來實現對其他數據庫的支持。</p><p></p><h2><strong>5.3 配置和服務註冊發現</strong></h2><p>支持接入不同的配置和服務註冊發現解決方案。比如：Nacos、Eureka、ZooKeeper 等。</p><p></p><h2><strong>5.4 MT 模式的場景拓展</strong></h2><p>MT 模式的一個重要作用就是，可以把非關係型數據庫的資源，通過 MT 模式分支的包裝，納入到全局事務的管轄中來。比如，Redis、HBase、RocketMQ 的事務消息等。有興趣在這方面共建的開發者可以在這裡貢獻一系列相關生態的適配方案。</p><p></p><h2><strong>5.5 事務協調器的分佈式高可用方案</strong></h2><p>針對不同場景，支持不同的方式作為事務協調器 Server 端的高可用方案。比如，針對事務狀態的持久化，可以是基於文件的實現方案，也可以是基於數據庫的實現方案；集群間的狀態同步，可以是基於 RPC 通信的方案，也可以是基於高可用 KV 存儲的方案。</p><p></p><h1><strong>6. Roadmap</strong></h1><p></p><h2><strong>藍圖</strong></h2><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RSW9S6k8woiqnR><p>綠色部分是已經開源發佈出來的，黃色 部分是將在後續版本中由阿里發佈出來的，藍色部分是我們和社區共建生態部分：</p><ul><li><p>對不同數據庫的支持，開發者可以參考 MySQL 的實現。</p></li><li><p>對不同微服務框架的支持，開發者可以參考 Dubbo 的實現。</p></li><li><p>對 MQ、NoSQL 的支持，開發者可以參考 TCC 的實現。</p></li><li><p>配置和服務註冊發現：開發者通過少量的工作可以接入任何可以提供這類服務的框架。</p></li><li><p>當然，非 藍色 的部分也非常歡迎社區參與進來，貢獻更優的解決方案。</p></li><li><p>另外，XA 作為分佈式事務的標準，是一個完備的分佈式事務解決方案不可或缺的，遠景的規劃中，我們一定需要把 XA 的支持加入進來。</p></li></ul><p></p><h2><strong>初步的版本規劃</strong></h2><p></p><h3>★v0.1.0：</h3><ul><li><p>微服務框架支持: Dubbo</p></li><li><p>數據庫支持: MySQL</p></li><li><p>基於 Spring AOP 的 Annotation</p></li><li><p>事務協調器: 單機版本</p></li></ul><p></p><h3>★v0.5.x：</h3><ul><li><p>微服務框架支持: Spring Cloud</p></li><li><p>MT 模式</p></li><li><p>支持 TCC 模式事務的適配</p></li><li><p>動態配置和服務發現</p></li><li><p>事務協調器: 高可用集群版本</p></li></ul><p></p><h3>★v0.8.x：</h3><ul><li><p>Metrics</p></li><li><p>控制檯: 監控/部署/升級/擴縮容</p></li></ul><p></p><h3>★v1.0.0：</h3><ul><li><p>General Availability: 生產環境適用</p></li></ul><p></p><h3>★v1.5.x：</h3><ul><li><p>數據庫支持: Oracle/PostgreSQL/OceanBase</p></li><li><p>不依賴 Spring AOP 的 Annotation</p></li><li><p>熱點數據的優化處理機制</p></li><li><p>RocketMQ 事務消息納入全局事務管理</p></li><li><p>NoSQL 納入全局事務管理的適配機制</p></li><li><p>支持 HBase</p></li><li><p>支持 Redis</p></li></ul><p></p><h3>★v2.0.0：</h3><ul><li><p>支持 XA</p></li></ul><p>當然，項目迭代演進的過程，我們最重視的是社區的聲音，路線圖會和社區充分交流及時進行調整。</p><p></p><h1>相關鏈接：</h1><p>FESCAR on GitHub：</p><p>https://github.com/alibaba/fescar</p><p>GTS on Aliyun：</p><p>https://help.aliyun.com/product/48444.html</p><p><strong>打卡第五天</strong></p><img alt=到底什麼是分佈式系統？ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RSW9S6wHTD6J9o><p>打卡第五天，大家可以把答案在留言處評論哈，堅持的小夥伴，會有驚喜獎勵。 晚上<strong>十點</strong>公佈答案。</p><p><strong>堅持半個月試一下，回答問題不僅提升了自己，更加幫助更多程序員們，記得堅持來打卡。</strong></p><p><strong>歡迎轉發</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>什麼</a></li><li><a>系統</a></li><li><a>到底</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/c046e453.html alt=到底什麼是光通信？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/3a080000a4e5bcb1f3bc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c046e453.html title=到底什麼是光通信？>到底什麼是光通信？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ed538d9e.html alt=什麼是分佈式操作系統，分佈式操作系統有哪些特點？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/61cfa33b-ac3e-462d-83a2-c6b78757e9fa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ed538d9e.html title=什麼是分佈式操作系統，分佈式操作系統有哪些特點？>什麼是分佈式操作系統，分佈式操作系統有哪些特點？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b52ff792.html alt=什麼是分佈式系統！以及分佈式系統架構的優缺點 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RSbrXx83dpwdLU style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b52ff792.html title=什麼是分佈式系統！以及分佈式系統架構的優缺點>什麼是分佈式系統！以及分佈式系統架構的優缺點</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cd468b3c.html alt=什麼是分佈式系統，如何學習分佈式系統 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/7bd535c5-ee76-4743-a46f-44883c831431 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cd468b3c.html title=什麼是分佈式系統，如何學習分佈式系統>什麼是分佈式系統，如何學習分佈式系統</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fe2fa86e.html alt=什麼是文件系統？嵌入式Linux中的根文件系統？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b34a937fa0ae45708600f114cd0f7e04 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fe2fa86e.html title=什麼是文件系統？嵌入式Linux中的根文件系統？>什麼是文件系統？嵌入式Linux中的根文件系統？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/33b746dd.html alt=纏論到底是個什麼鬼？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e0b2d75ecf5f40b193ae34f41ca96d92 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/33b746dd.html title=纏論到底是個什麼鬼？>纏論到底是個什麼鬼？</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/22f39b5a.html alt=所謂的世界觀到底是什麼？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/052cd3a6-43c1-4e4d-8b16-7b3243e66bc0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/22f39b5a.html title=所謂的世界觀到底是什麼？>所謂的世界觀到底是什麼？</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/72b9f342.html alt=看看你到底為什麼會頭痛 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1531326824270f49cbfb864 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/72b9f342.html title=看看你到底為什麼會頭痛>看看你到底為什麼會頭痛</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/2b2cbc83.html alt=“關關”叫的就是雎鳩嗎？“雎鳩”到底是什麼鳥？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15259412051535a9791d78f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/2b2cbc83.html title=“關關”叫的就是雎鳩嗎？“雎鳩”到底是什麼鳥？>“關關”叫的就是雎鳩嗎？“雎鳩”到底是什麼鳥？</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/c82b0a3b.html alt=心理學：心理諮詢到底是什麼？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ce69f6575d4844edbaca498fcbd09e75 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/c82b0a3b.html title=心理學：心理諮詢到底是什麼？>心理學：心理諮詢到底是什麼？</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/07dd3bc3.html alt=缺口是什麼？到底要不要補？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d4d67273b58c4532a670d00bed9320cf style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/07dd3bc3.html title=缺口是什麼？到底要不要補？>缺口是什麼？到底要不要補？</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/d0734005.html alt=拓撲到底是什麼 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/S9JEVr42dyoASu style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/d0734005.html title=拓撲到底是什麼>拓撲到底是什麼</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/8b45035c.html alt=到底什麼是抑鬱症呢？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/83e742b02af743c19d3ec807f78d5c14 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/8b45035c.html title=到底什麼是抑鬱症呢？>到底什麼是抑鬱症呢？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0e4241fc.html alt=法蘭到底是什麼？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ad3b4c2cbc6f46b1bdbf0e3c2498ddfa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0e4241fc.html title=法蘭到底是什麼？>法蘭到底是什麼？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1ed36c87.html alt=飛機和系統安全性中的“可用性”和“完整性”是什麼意思？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/4ad700031e9c54565454 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1ed36c87.html title=飛機和系統安全性中的“可用性”和“完整性”是什麼意思？>飛機和系統安全性中的“可用性”和“完整性”是什麼意思？</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>