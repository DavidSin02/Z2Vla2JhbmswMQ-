<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>æ·±å…¥ç†è§£ linuxç£ç›¤é †åºå¯«ã€éš¨æ©Ÿå¯« | æå®¢å¿«è¨Š</title><meta property="og:title" content="æ·±å…¥ç†è§£ linuxç£ç›¤é †åºå¯«ã€éš¨æ©Ÿå¯« - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/d61d37bfb36c4fc99438ade5973b99b1"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/620724e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/620724e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/620724e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/620724e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/620724e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/620724e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/620724e.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/620724e.html><meta property="article:published_time" content="2020-10-29T21:01:13+08:00"><meta property="article:modified_time" content="2020-10-29T21:01:13+08:00"><meta name=Keywords content><meta name=description content="æ·±å…¥ç†è§£ linuxç£ç›¤é †åºå¯«ã€éš¨æ©Ÿå¯«"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/620724e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>æ·±å…¥ç†è§£ linuxç£ç›¤é †åºå¯«ã€éš¨æ©Ÿå¯«</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p>ä¸€ã€å‰è¨€<br>éš¨æ©Ÿå¯«æœƒå°è‡´ç£é ­ä¸åœåœ°æ›é“ï¼Œé€ æˆæ•ˆç‡çš„æ¥µå¤§é™ä½ï¼›é †åºå¯«ç£é ­å¹¾ä¹ä¸ç”¨æ›é“ï¼Œæˆ–è€…æ›é“çš„æ™‚é–“å¾ˆçŸ­ã€‚æœ¬æ–‡ä¾†è¨è«–ä¸€ä¸‹å…©è€…å…·é«”çš„å·®åˆ¥ä»¥åŠç›¸æ‡‰çš„å…§æ ¸èª¿ç”¨ã€‚</p><div class=pgc-img><img alt="æ·±å…¥ç†è§£ linuxç£ç›¤é †åºå¯«ã€éš¨æ©Ÿå¯«" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/d61d37bfb36c4fc99438ade5973b99b1><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>äºŒã€ç’°å¢ƒæº–å‚™</h3><p><br></p><div class=pgc-img><img alt="æ·±å…¥ç†è§£ linuxç£ç›¤é †åºå¯«ã€éš¨æ©Ÿå¯«" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/74c24cc7b6fe427fa82f2cfb5185e7ba><p class=pgc-img-caption></p></div><p>ä¸‰ã€fioä»‹ç´¹</p><p>é€šéfioæ¸¬è©¦ï¼Œèƒ½å¤ åæ˜ åœ¨è®€å¯«ä¸­çš„ç‹€æ…‹ï¼Œæˆ‘å€‘éœ€è¦é‡é»é—œæ³¨fioçš„è¼¸å‡ºå ±å‘Šä¸­çš„å¹¾å€‹é—œéµæŒ‡æ¨™ï¼š<br>slat ï¼šæ˜¯æŒ‡å¾ I/O æäº¤åˆ°å¯¦éš›åŸ·è¡Œ I/O çš„æ™‚é•·ï¼ˆSubmission latencyï¼‰<br>clat ï¼šæ˜¯æŒ‡å¾ I/O æäº¤åˆ° I/O å®Œæˆçš„æ™‚é•·ï¼ˆCompletion latencyï¼‰<br>lat ï¼šæŒ‡çš„æ˜¯å¾ fio å‰µå»º I/O åˆ° I/O å®Œæˆçš„ç¸½æ™‚é•·<br>bw ï¼šååé‡<br>iops ï¼šæ¯ç§’ I/O çš„æ¬¡æ•¸</p><p><br></p><h3 class=pgc-h-arrow-right>å››ã€åŒæ­¥å¯«æ¸¬è©¦</h3><h4 class=pgc-h-arrow-right>1ï¼‰åŒæ­¥éš¨æ©Ÿå¯«</h4><p>ä¸»è¦æ¡ç”¨fioä½œç‚ºæ¸¬è©¦å·¥å…·ï¼Œç‚ºäº†èƒ½å¤ çœ‹åˆ°ç³»çµ±èª¿ç”¨ï¼Œä½¿ç”¨straceå·¥å…·ï¼Œå‘½ä»¤çœ‹èµ·ä¾†æ˜¯é€™æ¨£</p><p>å…ˆä¾†æ¸¬è©¦ä¸€å€‹éš¨æ©Ÿå¯«</p><p><br></p><pre><code>straceÂ -fÂ -ttÂ -oÂ /tmp/randwrite.logÂ -DÂ fioÂ -name=randwriteÂ -rw=randwriteÂ \-direct=1Â -bs=4kÂ -size=1GÂ -numjobs=1Â Â -group_reportingÂ -filename=/tmp/test.db</code></pre><p>æå–é—œéµä¿¡æ¯</p><pre><code>root@wilson-ubuntu:~#Â straceÂ -fÂ -ttÂ -oÂ /tmp/randwrite.logÂ -DÂ fioÂ -name=randwriteÂ -rw=randwriteÂ \&gt;Â -direct=1Â -bs=4kÂ -size=1GÂ -numjobs=1Â Â -group_reportingÂ -filename=/tmp/test.dbrandwrite:Â (g=0):Â rw=randwrite,Â bs=4K-4K/4K-4K/4K-4K,Â ioengine=sync,Â iodepth=1fio-2.2.10StartingÂ 1Â process...randwrite:Â (groupid=0,Â jobs=1):Â err=Â 0:Â pid=26882:Â WedÂ AugÂ 14Â 10:39:02Â 2019Â Â write:Â io=1024.0MB,Â bw=52526KB/s,Â iops=13131,Â runt=Â 19963msecÂ Â Â Â clatÂ (usec):Â min=42,Â max=18620,Â avg=56.15,Â stdev=164.79Â Â Â Â Â latÂ (usec):Â min=42,Â max=18620,Â avg=56.39,Â stdev=164.79...Â Â Â Â bwÂ (KBÂ Â /s):Â min=50648,Â max=55208,Â per=99.96%,Â avg=52506.03,Â stdev=1055.83...RunÂ statusÂ groupÂ 0Â (allÂ jobs):Â Â WRITE:Â io=1024.0MB,Â aggrb=52525KB/s,Â minb=52525KB/s,Â maxb=52525KB/s,Â mint=19963msec,Â maxt=19963msecDiskÂ statsÂ (read/write):...Â Â sda:Â ios=0/262177,Â merge=0/25,Â ticks=0/7500,Â in_queue=7476,Â util=36.05%</code></pre><p>åˆ—å‡ºäº†æˆ‘å€‘éœ€è¦é‡é»é—œæ³¨çš„ä¿¡æ¯ï¼š<br>ï¼ˆ1ï¼‰clat ï¼Œå¹³å‡æ™‚é•·56mså·¦å³<br>ï¼ˆ2ï¼‰lat ï¼Œå¹³å‡æ™‚é•·56mså·¦å³<br>ï¼ˆ3ï¼‰bw ï¼Œååé‡ï¼Œå¤§æ¦‚åœ¨52Må·¦å³</p><p>å†ä¾†çœ‹å…§æ ¸èª¿ç”¨ä¿¡æ¯ï¼š</p><pre><code>root@wilson-ubuntu:~#Â moreÂ /tmp/randwrite.log...26882Â 10:38:41.919904Â lseek(3,Â 665198592,Â SEEK_SET)Â =Â 66519859226882Â 10:38:41.919920Â write(3,Â "\220\240@\6\371\341\277&gt;\0\200\36\31\0\0\0\0\202\2\7\320\343\6H\26P\340\277\370\330\30e\30"...,Â 4096)Â =Â 409626882Â 10:38:41.919969Â lseek(3,Â 4313088,Â SEEK_SET)Â =Â 431308826882Â 10:38:41.919985Â write(3,Â "\220\240@\6\371\341\277&gt;\0\200\36\31\0\0\0\0\202\2\7\320\343\6H\26P\340\277\370\330\30e\30"...,Â 4096)Â =Â 409626882Â 10:38:41.920032Â lseek(3,Â 455880704,Â SEEK_SET)Â =Â 45588070426882Â 10:38:41.920048Â write(3,Â "\220\240@\6\371\341\277&gt;\0\200\36\31\0\0\0\0\202\2\7\320\343\6H\26P\340\277\370\330\30e\30"...,Â 4096)Â =Â 409626882Â 10:38:41.920096Â lseek(3,Â 338862080,Â SEEK_SET)Â =Â 33886208026882Â 10:38:41.920112Â write(3,Â "\220\240@\6\371\341\277&gt;\0\2402\24\0\0\0\0\202\2\7\320\343\6H\26P\340\277\370\330\30e\30"...,Â 4096)Â =Â 409626882Â 10:38:41.920161Â lseek(3,Â 739086336,Â SEEK_SET)Â =Â 73908633626882Â 10:38:41.920177Â write(3,Â "\220\240@\6\371\341\277&gt;\0\2402\24\0\0\0\0\202\2\7\320\343\6H\26P\340\277\370\330\30e\30"...,Â 4096)Â =Â 409626882Â 10:38:41.920229Â lseek(3,Â 848175104,Â SEEK_SET)Â =Â 84817510426882Â 10:38:41.920245Â write(3,Â "\220\240@\6\371\341\277&gt;\0\2402\24\0\0\0\0\202\2\7\320\343\6H\26P\340\277\370\330\30e\30"...,Â 4096)Â =Â 409626882Â 10:38:41.920296Â lseek(3,Â 1060147200,Â SEEK_SET)Â =Â 106014720026882Â 10:38:41.920312Â write(3,Â "\220\240@\6\371\341\277&gt;\0\2402\24\0\0\0\0\202\2\7\320\343\6H\26P\340\277\370\330\30e\30"...,Â 4096)Â =Â 409626882Â 10:38:41.920362Â lseek(3,Â 863690752,Â SEEK_SET)Â =Â 86369075226882Â 10:38:41.920377Â write(3,Â "\220\240@\6\371\341\277&gt;\0\2402\24\0\0\0\0\202\2\7\320\343\6H\26P\340\277\370\330\30e\30"...,Â 4096)Â =Â 409626882Â 10:38:41.920428Â lseek(3,Â 279457792,Â SEEK_SET)Â =Â 27945779226882Â 10:38:41.920444Â write(3,Â "\220\240@\6\371\341\277&gt;\0\2402\24\0\0\0\0\202\2\7\320\343\6H\26P\340\277\370\330\30e\30"...,Â 4096)Â =Â 409626882Â 10:38:41.920492Â lseek(3,Â 271794176,Â SEEK_SET)Â =Â 27179417626882Â 10:38:41.920508Â write(3,Â "\220\240@\6\371\341\277&gt;\0\2402\24\0\0\0\0\202\2\7\320\343\6H\26P\340\277\370\330\30e\30"...,Â 4096)Â =Â 409626882Â 10:38:41.920558Â lseek(3,Â 1067864064,Â SEEK_SET)Â =Â 106786406426882Â 10:38:41.920573Â write(3,Â "\220\240@\6\371\341\277&gt;\0\2402\24\0\0\0\0\202\2\7\320\343\6H\26P\340\277\370\330\30e\30"...,Â 4096)Â =Â 4096...</code></pre><p><br>éš¨æ©Ÿè®€æ¯ä¸€æ¬¡å¯«å…¥ä¹‹å‰éƒ½è¦é€šélseekå»å®šä½ç•¶å‰çš„æ–‡ä»¶åç§»é‡</p><p>2ï¼‰<strong>åŒæ­¥é †åºå¯«</strong></p><p>ç”¨å‰›æ‰çš„æ–¹æ³•ä¾†æ¸¬è©¦é †åºå¯«</p><pre><code>root@wilson-ubuntu:~#Â straceÂ -fÂ -ttÂ -oÂ /tmp/write.logÂ -DÂ fioÂ -name=writeÂ -rw=writeÂ \-direct=1Â -bs=4kÂ -size=1GÂ -numjobs=1Â Â -group_reportingÂ -filename=/tmp/test.dbwrite:Â (g=0):Â rw=write,Â bs=4K-4K/4K-4K/4K-4K,Â ioengine=sync,Â iodepth=1fio-2.2.10StartingÂ 1Â processJobs:Â 1Â (f=1):Â [W(1)]Â [100.0%Â done]Â [0KB/70432KB/0KBÂ /s]Â [0/17.7K/0Â iops]Â [etaÂ 00m:00s]write:Â (groupid=0,Â jobs=1):Â err=Â 0:Â pid=27005:Â WedÂ AugÂ 14Â 10:53:02Â 2019Â Â write:Â io=1024.0MB,Â bw=70238KB/s,Â iops=17559,Â runt=Â 14929msecÂ Â Â Â clatÂ (usec):Â min=43,Â max=7464,Â avg=55.95,Â stdev=56.24Â Â Â Â Â latÂ (usec):Â min=43,Â max=7465,Â avg=56.15,Â stdev=56.25...Â Â Â Â bwÂ (KBÂ Â /s):Â min=67304,Â max=72008,Â per=99.98%,Â avg=70225.38,Â stdev=1266.88...RunÂ statusÂ groupÂ 0Â (allÂ jobs):Â Â WRITE:Â io=1024.0MB,Â aggrb=70237KB/s,Â minb=70237KB/s,Â maxb=70237KB/s,Â mint=14929msec,Â maxt=14929msecDiskÂ statsÂ (read/write):...Â Â sda:Â ios=0/262162,Â merge=0/10,Â ticks=0/6948,Â in_queue=6932,Â util=46.49%</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼š<br>ååé‡æå‡è‡³70Må·¦å³</p><p>å†ä¾†çœ‹ä¸€ä¸‹å…§æ ¸èª¿ç”¨ï¼š</p><pre><code>root@wilson-ubuntu:~#Â moreÂ /tmp/write.log...27046Â 10:54:28.194508Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\360\t\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.194568Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.194627Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.194687Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.194747Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.194807Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.194868Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.194928Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.194988Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195049Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195110Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195197Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195262Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195330Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195426Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195497Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195567Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195637Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195704Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195757Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195807Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195859Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195910Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.195961Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.196012Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.196062Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0\220\24\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.196112Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0Â \26\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.196162Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0Â \26\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.196213Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0Â \26\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.196265Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0Â \26\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.196314Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0Â \26\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.196363Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0Â \26\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.196414Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0Â \26\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.196472Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0Â \26\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.196524Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0Â \26\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 409627046Â 10:54:28.196573Â write(3,Â "\0\0\23\0\0\0\0\0\0\300\16\0\0\0\0\0\0Â \26\0\0\0\0\0\0\320\17\0\0\0\0\0"...,Â 4096)Â =Â 4096...</code></pre><p><br>ç”±æ–¼é †åºè®€ï¼Œä¸éœ€è¦åè¦†å®šä½æ–‡ä»¶åç§»é‡ï¼Œæ‰€ä»¥èƒ½å¤ å°ˆæ³¨æ–¼å¯«æ“ä½œ</p><h3 class=pgc-h-arrow-right>äº”ã€slatæŒ‡æ¨™</h3><p>å¾ä¸Šé¢çš„æ¸¬è©¦ï¼Œæˆ‘å€‘åœ¨fioçš„æ¸¬è©¦å ±å‘Šä¸­ï¼Œä¸¦æ²’æœ‰ç™¼ç¾slatçš„èº«å½±ï¼Œé‚£æ˜¯ç”±æ–¼ä¸Šè¿°éƒ½æ˜¯åŒæ­¥æ“ä½œï¼Œå°åŒæ­¥ I/O ä¾†èªªï¼Œç”±æ–¼ I/O æäº¤å’Œ I/O å®Œæˆæ˜¯ä¸€å€‹å‹•ä½œï¼Œæ‰€ä»¥ slat å¯¦éš›ä¸Šå°±æ˜¯ I/O å®Œæˆçš„æ™‚é–“</p><p>ç•°æ­¥é †åºå¯«ï¼Œå°‡åŒæ­¥é †åºå¯«çš„å‘½ä»¤æ·»åŠ -ioengine=libaioï¼š</p><pre><code>root@wilson-ubuntu:~#Â fioÂ -name=writeÂ -rw=writeÂ -ioengine=libaioÂ -direct=1Â -bs=4kÂ -size=1GÂ -numjobs=1Â Â -group_reportingÂ -filename=/tmp/test.dbwrite:Â (g=0):Â rw=write,Â bs=4K-4K/4K-4K/4K-4K,Â ioengine=libaio,Â iodepth=1fio-2.2.10StartingÂ 1Â processJobs:Â 1Â (f=1):Â [W(1)]Â [100.0%Â done]Â [0KB/119.3MB/0KBÂ /s]Â [0/30.6K/0Â iops]Â [etaÂ 00m:00s]write:Â (groupid=0,Â jobs=1):Â err=Â 0:Â pid=27258:Â WedÂ AugÂ 14Â 11:14:36Â 2019Â Â write:Â io=1024.0MB,Â bw=120443KB/s,Â iops=30110,Â runt=Â Â 8706msecÂ Â Â Â slatÂ (usec):Â min=3,Â max=70,Â avg=Â 4.31,Â stdev=Â 1.56Â Â Â Â clatÂ (usec):Â min=0,Â max=8967,Â avg=28.13,Â stdev=55.68Â Â Â Â Â latÂ (usec):Â min=22,Â max=8976,Â avg=32.53,Â stdev=55.72...Â Â Â Â bwÂ (KBÂ Â /s):Â min=118480,Â max=122880,Â per=100.00%,Â avg=120467.29,Â stdev=1525.68...RunÂ statusÂ groupÂ 0Â (allÂ jobs):Â Â WRITE:Â io=1024.0MB,Â aggrb=120442KB/s,Â minb=120442KB/s,Â maxb=120442KB/s,Â mint=8706msec,Â maxt=8706msecDiskÂ statsÂ (read/write):...Â Â sda:Â ios=0/262147,Â merge=0/1,Â ticks=0/6576,Â in_queue=6568,Â util=74.32%</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼ŒslatæŒ‡æ¨™å‡ºç¾ï¼Œlat è¿‘ä¼¼ç­‰æ–¼ slat + clat ä¹‹å’Œï¼ˆavgå¹³å‡å€¼ï¼‰ï¼›ä¸¦ä¸”æ›æˆç•°æ­¥ioä¹‹å¾Œï¼Œååé‡å¾—åˆ°äº†æ¥µå¤§çš„æå‡ï¼Œ120Må·¦å³</p><h3 class=pgc-h-arrow-right>å…­ã€ç¸½çµ</h3><p>â— fioæ‡‰è©²ä½œç‚ºç£ç›¤çš„baselineå·¥å…·ï¼Œæ‹¿åˆ°æ©Ÿå™¨ï¼ˆç‰©ç†æ©Ÿæˆ–è€…é›²æ©Ÿå™¨ï¼‰éƒ½æ‡‰è©²ç¬¬ä¸€æ™‚é–“å°æ©Ÿå™¨çš„ç£ç›¤åšä¸€å€‹åŸºç·šæ¸¬è©¦ï¼Œåšåˆ°å¿ƒä¸­æœ‰æ•¸<br>â— æœ¬æ–‡æ‰€æœ‰çš„æ¸¬è©¦ï¼Œéƒ½æ˜¯ç¹é–‹äº†ç·©å­˜ï¼Œåœ¨å¯¦éš›æ‡‰ç”¨ä¸­éœ€è¦å°‡ç·©å­˜çš„å½±éŸ¿è€ƒæ…®é€²å»</p><h1 class=pgc-h-arrow-right>è€ç”·å­©ITï¼Œè‡´åŠ›æ–¼æœ€æœ‰ç”¨çš„ITä¹¾è²¨åˆ†äº«ã€‚æœŸå¾…èˆ‡æ‚¨ä¸€åŒé€²æ­¥ï¼å¾Œè‡ºç§ä¿¡1å¯ç²å–5000Gçè—å¤§ç¦®åŒ…ï¼ˆåŸ¹è¨“è¦–é »ã€ç²¾é¸è»Ÿä»¶ã€å…§éƒ¨è³‡æ–™ï¼‰~è®“æˆ‘å€‘ä¸€èµ·è®“ITå­¸ç¿’æ›´ç°¡å–®ï¼</h1></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>linux</a></li><li><a>ç£ç›¤</a></li><li><a>é †åº</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/80d6f18.html alt=ç£ç›¤ç³»çµ±åŸºæœ¬æ¦‚å¿µä»¥åŠç£ç›¤çš„é †åºè®€å¯«èˆ‡éš¨æ©Ÿè®€å¯« class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/80d6f18.html title=ç£ç›¤ç³»çµ±åŸºæœ¬æ¦‚å¿µä»¥åŠç£ç›¤çš„é †åºè®€å¯«èˆ‡éš¨æ©Ÿè®€å¯«>ç£ç›¤ç³»çµ±åŸºæœ¬æ¦‚å¿µä»¥åŠç£ç›¤çš„é †åºè®€å¯«èˆ‡éš¨æ©Ÿè®€å¯«</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7589ba24.html alt=å¸¶é›»ä½œæ¥­æ¥ç·šé †åºï¼Œè€é›»å·¥æ¥éŒ¯æ²’ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d99dd76a7b854578a07a0aecc3d99c28 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7589ba24.html title=å¸¶é›»ä½œæ¥­æ¥ç·šé †åºï¼Œè€é›»å·¥æ¥éŒ¯æ²’ï¼Ÿ>å¸¶é›»ä½œæ¥­æ¥ç·šé †åºï¼Œè€é›»å·¥æ¥éŒ¯æ²’ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6c977f11.html alt=æ³¢å³°ç„Šå’Œè¿´æµç„Šé †åº class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/aa3326c98648479f924528754ca607aa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6c977f11.html title=æ³¢å³°ç„Šå’Œè¿´æµç„Šé †åº>æ³¢å³°ç„Šå’Œè¿´æµç„Šé †åº</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fa5f4d06.html alt="linux forkå¤šé€²ç¨‹ä½µç™¼æœå‹™å™¨æ¨¡å‹ä¹‹C/C++ä»£ç¢¼å¯¦æˆ°" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/5794b6eba487410ebcd6838aac6772fc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fa5f4d06.html title="linux forkå¤šé€²ç¨‹ä½µç™¼æœå‹™å™¨æ¨¡å‹ä¹‹C/C++ä»£ç¢¼å¯¦æˆ°">linux forkå¤šé€²ç¨‹ä½µç™¼æœå‹™å™¨æ¨¡å‹ä¹‹C/C++ä»£ç¢¼å¯¦æˆ°</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ec28d5ef.html alt=linuxå…¥é–€ç³»åˆ—15--æ–‡ä»¶å‚³è¼¸ä¹‹vsftpæœå‹™ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/9e58d1dad3534defbca9da18d87ba72b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ec28d5ef.html title=linuxå…¥é–€ç³»åˆ—15--æ–‡ä»¶å‚³è¼¸ä¹‹vsftpæœå‹™>linuxå…¥é–€ç³»åˆ—15--æ–‡ä»¶å‚³è¼¸ä¹‹vsftpæœå‹™</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/289c6e69.html alt=å­—æ¯è¡¨çš„æ’åˆ—é †åºæ€éº¼ä¾†çš„ï¼ŒAç‚ºä»€éº¼åœ¨é¦–ä½ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/f0731cf842604be58731d5b493d7abab style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/289c6e69.html title=å­—æ¯è¡¨çš„æ’åˆ—é †åºæ€éº¼ä¾†çš„ï¼ŒAç‚ºä»€éº¼åœ¨é¦–ä½ï¼Ÿ>å­—æ¯è¡¨çš„æ’åˆ—é †åºæ€éº¼ä¾†çš„ï¼ŒAç‚ºä»€éº¼åœ¨é¦–ä½ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f7d0fccd.html alt=linuxæœå‹™å™¨é–‹ç™¼-ç¶²çµ¡ç·¨ç¨‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/151c99ef-10af-4e27-9913-12b1b86d777a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f7d0fccd.html title=linuxæœå‹™å™¨é–‹ç™¼-ç¶²çµ¡ç·¨ç¨‹>linuxæœå‹™å™¨é–‹ç™¼-ç¶²çµ¡ç·¨ç¨‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4457abd0.html alt="linux shellè…³æœ¬è¼¸å‡ºå­—ç¬¦é¡¯ç¤ºé¡è‰²å’Œç‰¹æ®Šæ•ˆæœ" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/905bf9d0a3134b08ae696d92970e6a6d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4457abd0.html title="linux shellè…³æœ¬è¼¸å‡ºå­—ç¬¦é¡¯ç¤ºé¡è‰²å’Œç‰¹æ®Šæ•ˆæœ">linux shellè…³æœ¬è¼¸å‡ºå­—ç¬¦é¡¯ç¤ºé¡è‰²å’Œç‰¹æ®Šæ•ˆæœ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c61c92f8.html alt=IDEå’Œvirtioç£ç›¤çš„æ€§èƒ½æ¯”è¼ƒ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/616b000170e65dbeba16 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c61c92f8.html title=IDEå’Œvirtioç£ç›¤çš„æ€§èƒ½æ¯”è¼ƒ>IDEå’Œvirtioç£ç›¤çš„æ€§èƒ½æ¯”è¼ƒ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2276e37d.html alt=ç£ç›¤çš„æ§‹é€ ã€å®¹é‡å’Œæ‰‡å€è¨ªå•æ“ä½œ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/6e794377-9f9f-4962-ab0f-f4c7e0903353 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2276e37d.html title=ç£ç›¤çš„æ§‹é€ ã€å®¹é‡å’Œæ‰‡å€è¨ªå•æ“ä½œ>ç£ç›¤çš„æ§‹é€ ã€å®¹é‡å’Œæ‰‡å€è¨ªå•æ“ä½œ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/685ac0fc.html alt="è»Ÿç¶²æ¨è–¦ï¼šæ•ˆç‡æå‡ ç£ç›¤æ•´ç†å„ªåŒ–å€‹æ€§åŒ–" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/0dad720f4fa74b27a4804a706be908fe style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/685ac0fc.html title="è»Ÿç¶²æ¨è–¦ï¼šæ•ˆç‡æå‡ ç£ç›¤æ•´ç†å„ªåŒ–å€‹æ€§åŒ–">è»Ÿç¶²æ¨è–¦ï¼šæ•ˆç‡æå‡ ç£ç›¤æ•´ç†å„ªåŒ–å€‹æ€§åŒ–</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1c2ec269.html alt=æ­£ç¢ºæ¶ˆé™¤çšºç´‹çš„é †åºï¼Œå€¼å¾—æ”¶è— class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/f788b3b2-9dc3-404d-9a0a-a00ada0addb9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1c2ec269.html title=æ­£ç¢ºæ¶ˆé™¤çšºç´‹çš„é †åºï¼Œå€¼å¾—æ”¶è—>æ­£ç¢ºæ¶ˆé™¤çšºç´‹çš„é †åºï¼Œå€¼å¾—æ”¶è—</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d54e187d.html alt="linuxä¸‹å¯«ä¸€å€‹hello worldçš„å½™ç·¨ç¨‹åº" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b2e03fef01cd410c8981406191e4394c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d54e187d.html title="linuxä¸‹å¯«ä¸€å€‹hello worldçš„å½™ç·¨ç¨‹åº">linuxä¸‹å¯«ä¸€å€‹hello worldçš„å½™ç·¨ç¨‹åº</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b7ca5569.html alt=linuxç³»çµ±ä¸­å¦‚ä½•æ·»åŠ è·¯ç”± class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b7ca5569.html title=linuxç³»çµ±ä¸­å¦‚ä½•æ·»åŠ è·¯ç”±>linuxç³»çµ±ä¸­å¦‚ä½•æ·»åŠ è·¯ç”±</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/791b78df.html alt=æ€éº¼èª¿æ•´ç£ç›¤åˆ†å€çš„å¤§å° class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/2d59e11c4fab4a4892dfe984e644e6dd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/791b78df.html title=æ€éº¼èª¿æ•´ç£ç›¤åˆ†å€çš„å¤§å°>æ€éº¼èª¿æ•´ç£ç›¤åˆ†å€çš„å¤§å°</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>