<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>計算機網絡太難了？瞭解這一篇就夠了 | 极客快訊</title><meta property="og:title" content="計算機網絡太難了？瞭解這一篇就夠了 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/a0bf5c9306514f8d922e5b287829d174"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/63902cc0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/63902cc0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/63902cc0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/63902cc0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/63902cc0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/63902cc0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/63902cc0.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/63902cc0.html><meta property="article:published_time" content="2020-11-14T21:01:58+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:58+08:00"><meta name=Keywords content><meta name=description content="計算機網絡太難了？瞭解這一篇就夠了"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/63902cc0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>計算機網絡太難了？瞭解這一篇就夠了</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><blockquote><p>專注於Java領域優質技術，歡迎關注</p></blockquote><p>作者：哆啦A夢的猜想</p><p>計算機網絡、計算機操作系統這兩個“兄弟”是所有開發崗位都需要“結拜”的，不管你是 Java、C++還是測試。對於後端開發的童鞋來說，計算機網絡的重要性不亞於語言基礎，畢竟平時開發經常會和網絡打交道，比如：抓個包等等。所以對這一塊知識點的準備還是要抱著敬畏之心，不要放過任何一個漏網之題。下面分享下我的學習過程：</p><p>1. 看書：對於計算機比較基礎的模塊，我都是比較推薦找一本經典的書籍來好好學習下，不可以只看面經就去面試了。我一共看了兩本書：湯小丹的《計算機操作系統》和《圖解HTTP》。《計算機操作系統》是教科書，所以知識點相對比較基礎，覆蓋範圍也比較廣，非科班的學生還是很有必要看一看的。《圖解HTTP》這本書用很多插圖將一些知識點講的通俗易懂，看起來也很快，還是比較推薦的。</p><p>2. 做筆記：計算機網絡的知識點還是比較多的，需要看書的時候做好筆記，方便複習。而且做筆記的時候可以就這個知識點去百度下，看看有沒有自己遺漏的點，再給補充進來。在這裡說下，我為什麼一直強調做筆記？好處 1：做筆記是第 1 次你對書中的知識點的回顧，加深記憶；好處 2：而且如果你是發表在公關社區的肯定要保證最大限度的正確性，就需要再去看看這個知識點，核對下自己是否有理解偏差和遺漏等，這樣就完成了知識點的深挖；好處3：正在到面試複習的時候，你是不太可能重新看一本書的，那麼筆記就顯得很重要了，自己做的筆記，複習起來很快，而且最好在筆記裡能有一些自己區別於面經的理解。</p><p>3. 看面經：經常刷一刷牛客，看看對於計算機網絡，面試官們都是怎麼問的？很多問題你可能會，但是不懂面試官的問法，也會回答不上來；問到的題目自己是否準備了？而且對於計算機網絡和計算機操作系統會因為公司和崗位的不同而有所側重的，多看看面經就會發現還是有一點規律的，但是這都不是絕對的，最後還要看面你的面試官的喜好。</p><h1>1、談下你對五層網絡協議體系結構的理解？</h1><p>學習計算機網絡時我們一般採用折中的辦法，也就是中和 OSI 和 TCP/IP 的優點，採用一種只有五層協議的體系結構，這樣既簡潔又能將概念闡述清楚。</p><ul><li><strong>1. 應用層</strong></li></ul><p>應用層（application-layer）的任務是通過應用進程間的交互來完成特定網絡應用。應用層協議定義的是應用進程（進程：主機中正在運行的程序）間的通信和交互的規則。對於不同的網絡應用需要不同的應用層協議。在互聯網中應用層協議很多，如域名系統 DNS，支持萬維網應用的 HTTP 協議，支持電子郵件的 SMTP 協議等等。我們把應用層交互的數據單元稱為報文。</p><ul><li><strong>2. 運輸層</strong></li></ul><p>運輸層（transport layer）的主要任務就是負責向兩臺主機進程之間的通信提供通用的數據傳輸服務。應用進程利用該服務傳送應用層報文。“通用的”是指並不針對某一個特定的網絡應用，而是多種應用可以使用同一個運輸層服務。</p><p>由於一臺主機可同時運行多個線程，因此運輸層有複用和分用的功能。所謂複用就是指多個應用層進程可同時使用下面運輸層的服務，分用和複用相反，是運輸層把收到的信息分別交付上面應用層中的相應進程。</p><ul><li><strong>3. 網絡層</strong></li></ul><p>在計算機網絡中進行通信的兩個計算機之間可能會經過很多個數據鏈路，也可能還要經過很多通信子網。網絡層的任務就是選擇合適的網間路由和交換結點， 確保數據及時傳送。在發送數據時，網絡層把運輸層產生的報文段或用戶數據報封裝成分組和包進行傳送。在 TCP / IP 體系結構中，由於網絡層使用 IP 協議，因此分組也叫 IP 數據報，簡稱數據報。</p><ul><li><strong>4. 數據鏈路層</strong></li></ul><p>數據鏈路層（data link layer）通常簡稱為鏈路層。兩臺主機之間的數據傳輸，總是在一段一段的鏈路上傳送的，這就需要使用專門的鏈路層的協議。在兩個相鄰節點之間傳送數據時，數據鏈路層將網絡層交下來的 IP 數據報組裝成幀，在兩個相鄰節點間的鏈路上傳送幀。每一幀包括數據和必要的控制信息（如：同步信息，地址信息，差錯控制等）。</p><p>在接收數據時，控制信息使接收端能夠知道一個幀從哪個比特開始和到哪個比特結束。這樣，數據鏈路層在收到一個幀後，就可從中提出數據部分，上交給網絡層。控制信息還使接收端能夠檢測到所收到的幀中有無差錯。如果發現差錯，數據鏈路層就簡單地丟棄這個出了差錯的幀，以避免繼續在網絡中傳送下去白白浪費網絡資源。如果需要改正數據在鏈路層傳輸時出現差錯（這就是說，數據鏈路層不僅要檢錯，而且還要糾錯），那麼就要採用可靠性傳輸協議來糾正出現的差錯。這種方法會使鏈路層的協議複雜些。</p><ul><li><strong>5. 物理層</strong></li></ul><p>在物理層上所傳送的數據單位是比特。物理層（physical layer）的作用是實現相鄰計算機節點之間比特流的透明傳送，儘可能屏蔽掉具體傳輸介質和物理設備的差異。使其上面的數據鏈路層不必考慮網絡的具體傳輸介質是什麼。“透明傳送比特流”表示經實際電路傳送後的比特流沒有發生變化，對傳送的比特流來說，這個電路好像是看不見的。</p><h1>2、簡單說下每一層對應的網絡協議有哪些？</h1><p>計算機五層網絡體系中涉及的協議非常多，下面就常用的做了列舉：</p><div class=pgc-img><img alt=計算機網絡太難了？瞭解這一篇就夠了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a0bf5c9306514f8d922e5b287829d174></div><h1>3、ARP 協議的工作原理？</h1><p>網絡層的 ARP 協議完成了 IP 地址與物理地址的映射。首先，每臺主機都會在自己的 ARP 緩衝區中建立一個 ARP 列表，以表示 IP 地址和 MAC 地址的對應關係。當源主機需要將一個數據包要發送到目的主機時，會首先檢查自己 ARP 列表中是否存在該 IP 地址對應的 MAC 地址：如果有，就直接將數據包發送到這個 MAC 地址；如果沒有，就向本地網段發起一個 ARP 請求的廣播包，查詢此目的主機對應的 MAC 地址。</p><p>此 ARP 請求數據包裡包括源主機的 IP 地址、硬件地址、以及目的主機的 IP 地址。網絡中所有的主機收到這個 ARP 請求後，會檢查數據包中的目的 IP 是否和自己的 IP 地址一致。如果不相同就忽略此數據包；如果相同，該主機首先將發送端的 MAC 地址和 IP 地址添加到自己的 ARP 列表中，如果 ARP 表中已經存在該 IP 的信息，則將其覆蓋，然後給源主機發送一個 ARP 響應數據包，告訴對方自己是它需要查找的 MAC 地址；源主機收到這個 ARP 響應數據包後，將得到的目的主機的 IP 地址和 MAC 地址添加到自己的 ARP 列表中，並利用此信息開始數據的傳輸。如果源主機一直沒有收到 ARP 響應數據包，表示 ARP 查詢失敗。</p><h1>4、談下你對 IP 地址分類的理解？</h1><p>IP 地址是指互聯網協議地址，是 IP 協議提供的一種統一的地址格式，它為互聯網上的每一個網絡和每一臺主機分配一個邏輯地址，以此來屏蔽物理地址的差異。IP 地址編址方案將 IP 地址空間劃分為 A、B、C、D、E 五類，其中 A、B、C 是基本類，D、E 類作為多播和保留使用，為特殊地址。</p><p>每個 IP 地址包括兩個標識碼（ID），即網絡 ID 和主機 ID。同一個物理網絡上的所有主機都使用同一個網絡 ID，網絡上的一個主機（包括網絡上工作站，服務器和路由器等）有一個主機 ID 與其對應。A~E 類地址的特點如下：</p><p>A 類地址：以 0 開頭，第一個字節範圍：0~127；</p><p>B 類地址：以 10 開頭，第一個字節範圍：128~191；</p><p>C 類地址：以 110 開頭，第一個字節範圍：192~223；</p><p>D 類地址：以 1110 開頭，第一個字節範圍為 224~239；</p><p>E 類地址：以 1111 開頭，保留地址</p><h1>5、TCP 的主要特點是什麼？</h1><p>1. TCP 是面向連接的。（就好像打電話一樣，通話前需要先撥號建立連接，通話結束後要掛機釋放連接）；</p><p>2. 每一條 TCP 連接只能有兩個端點，每一條 TCP 連接只能是點對點的（一對一）；</p><p>3. TCP 提供可靠交付的服務。通過 TCP 連接傳送的數據，無差錯、不丟失、不重複、並且按序到達；</p><p>4. TCP 提供全雙工通信。TCP 允許通信雙方的應用進程在任何時候都能發送數據。TCP 連接的兩端都設有發送緩存和接收緩存，用來臨時存放雙方通信的數據；</p><p>5. 面向字節流。TCP 中的“流”（Stream）指的是流入進程或從進程流出的字節序列。“面向字節流”的含義是：雖然應用程序和 TCP 的交互是一次一個數據塊（大小不等），但 TCP 把應用程序交下來的數據僅僅看成是一連串的無結構的字節流。</p><h1>6、UDP 的主要特點是什麼？</h1><p>1. UDP 是無連接的；</p><p>2. UDP 使用盡最大努力交付，即不保證可靠交付，因此主機不需要維持複雜的鏈接狀態（這裡面有許多參數）；</p><p>3. UDP 是面向報文的；</p><p>4. UDP 沒有擁塞控制，因此網絡出現擁塞不會使源主機的發送速率降低（對實時應用很有用，如 直播，實時視頻會議等）；</p><p>5. UDP 支持一對一、一對多、多對一和多對多的交互通信；</p><p>6. UDP 的首部開銷小，只有 8 個字節，比 TCP 的 20 個字節的首部要短。</p><h1>7、TCP 和 UDP 的區別？</h1><p>TCP 提供面向連接的服務。在傳送數據之前必須先建立連接，數據傳送結束後要釋放連接。TCP 不提供廣播或多播服務。由於 TCP 要提供可靠的，面向連接的運輸服務（TCP 的可靠體現在 TCP 在傳遞數據之前，會有三次握手來建立連接，而且在數據傳遞時，有確認、窗口、重傳、擁塞控制機制，在數據傳完後，還會斷開連接用來節約系統資源），這難以避免增加了許多開銷，如確認，流量控制，計時器以及連接管理等。這不僅使協議數據單元的首部增大很多，還要佔用許多處理機資源。</p><p>UDP 在傳送數據之前不需要先建立連接，遠地主機在收到 UDP 報文後，不需要給出任何確認。雖然 UDP 不提供可靠交付，但在某些情況下 UDP 確是一種最有效的工作方式（一般用於即時通信），比如：QQ 語音、 QQ 視頻 、直播等等。</p><h1>8、TCP 和 UDP 分別對應的常見應用層協議有哪些？</h1><ul><li><strong>1. TCP 對應的應用層協議</strong></li></ul><p>FTP：定義了文件傳輸協議，使用 21 端口。常說某某計算機開了 FTP 服務便是啟動了文件傳輸服務。下載文件，上傳主頁，都要用到 FTP 服務。</p><p>Telnet：它是一種用於遠程登陸的端口，用戶可以以自己的身份遠程連接到計算機上，通過這種端口可以提供一種基於 DOS 模式下的通信服務。如以前的 BBS 是-純字符界面的，支持 BBS 的服務器將 23 端口打開，對外提供服務。</p><p>SMTP：定義了簡單郵件傳送協議，現在很多郵件服務器都用的是這個協議，用於發送郵件。如常見的免費郵件服務中用的就是這個郵件服務端口，所以在電子郵件設置-中常看到有這麼 SMTP 端口設置這個欄，服務器開放的是 25 號端口。</p><p>POP3：它是和 SMTP 對應，POP3 用於接收郵件。通常情況下，POP3 協議所用的是 110 端口。也是說，只要你有相應的使用 POP3 協議的程序（例如 Fo-xmail 或 Outlook），就可以不以 Web 方式登陸進郵箱界面，直接用郵件程序就可以收到郵件（如是163 郵箱就沒有必要先進入網易網站，再進入自己的郵-箱來收信）。</p><p>HTTP：從 Web 服務器傳輸超文本到本地瀏覽器的傳送協議。</p><ul><li><strong>2. UDP 對應的應用層協議</strong></li></ul><p>DNS：用於域名解析服務，將域名地址轉換為 IP 地址。DNS 用的是 53 號端口。</p><p>SNMP：簡單網絡管理協議，使用 161 號端口，是用來管理網絡設備的。由於網絡設備很多，無連接的服務就體現出其優勢。</p><p>TFTP(Trival File Transfer Protocal)：簡單文件傳輸協議，該協議在熟知端口 69 上使用 UDP 服務。</p><p>9、詳細說下 TCP 三次握手的過程？</p><ul><li><strong>1. 三次握手</strong></li></ul><p>TCP 建立連接的過程叫做握手，握手需要在客戶和服務器之間交換三個 TCP 報文段。</p><div class=pgc-img><img alt=計算機網絡太難了？瞭解這一篇就夠了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6bb9376ecfcf41749cbb642eae7ffe7a></div><div class=pgc-img><img alt=計算機網絡太難了？瞭解這一篇就夠了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/72272fe9138c47c5bcf28da08ebbd99f></div><p>最初客戶端和服務端都處於 CLOSED(關閉) 狀態。本例中 A（Client） 主動打開連接，B（Server） 被動打開連接。</p><p>一開始，B 的 TCP 服務器進程首先創建傳輸控制塊TCB，準備接受客戶端進程的連接請求。然後服務端進程就處於 LISTEN(監聽) 狀態，等待客戶端的連接請求。如有，立即作出響應。</p><p>第一次握手：A 的 TCP 客戶端進程也是首先創建傳輸控制塊 TCB。然後，在打算建立 TCP 連接時，向 B 發出連接請求報文段，這時首部中的同步位 SYN=1，同時選擇一個初始序號 seq = x。TCP 規定，SYN 報文段（即 SYN = 1 的報文段）不能攜帶數據，但要消耗掉一個序號。這時，TCP 客戶進程進入 SYN-SENT（同步已發送）狀態。</p><p>第二次握手：B 收到連接請求報文後，如果同意建立連接，則向 A 發送確認。在確認報文段中應把 SYN 位和 ACK 位都置 1，確認號是 ack = x + 1，同時也為自己選擇一個初始序號 seq = y。請注意，這個報文段也不能攜帶數據，但同樣要消耗掉一個序號。這時 TCP 服務端進程進入 SYN-RCVD（同步收到）狀態。</p><p>第三次握手：TCP 客戶進程收到 B 的確認後，還要向 B 給出確認。確認報文段的 ACK 置 1，確認號 ack = y + 1，而自己的序號 seq = x + 1。這時 ACK 報文段可以攜帶數據。但如果不攜帶數據則不消耗序號，這種情況下，下一個數據報文段的序號仍是 seq = x + 1。這時，TCP 連接已經建立，A 進入 ESTABLISHED（已建立連接）狀態。</p><p>10、為什麼兩次握手不可以呢？</p><p>為了防止已經失效的連接請求報文段突然又傳送到了 B，因而產生錯誤。比如下面這種情況：A 發出的第一個連接請求報文段並沒有丟失，而是在網路結點長時間滯留了，以致於延誤到連接釋放以後的某個時間段才到達 B。本來這是一個早已失效的報文段。但是 B 收到此失效的鏈接請求報文段後，就誤認為 A 又發出一次新的連接請求。於是就向 A 發出確認報文段，同意建立連接。</p><p>對於上面這種情況，如果不進行第三次握手，B 發出確認後就認為新的運輸連接已經建立了，並一直等待 A 發來數據。B 的許多資源就這樣白白浪費了。</p><p>如果採用了三次握手，由於 A 實際上並沒有發出建立連接請求，所以不會理睬 B 的確認，也不會向 B 發送數據。B 由於收不到確認，就知道 A 並沒有要求建立連接。</p><p>11、為什麼不需要四次握手？</p><p>有人可能會說 A 發出第三次握手的信息後在沒有接收到 B 的請求就已經進入了連接狀態，那如果 A 的這個確認包丟失或者滯留了怎麼辦？</p><p>我們需要明白一點，完全可靠的通信協議是不存在的。在經過三次握手之後，客戶端和服務端已經可以確認之前的通信狀況，都收到了確認信息。所以即便再增加握手次數也不能保證後面的通信完全可靠，所以是沒有必要的。</p><p>12、Server 端收到 Client 端的 SYN 後，為什麼還要傳回 SYN？</p><p>接收端傳回發送端所發送的 SYN 是為了告訴發送端，我接收到的信息確實就是你所發送的信號了。</p><p>SYN 是 TCP / IP 建立連接時使用的握手信號。在客戶機和服務器之間建立正常的 TCP 網絡連接時，客戶機首先發出一個 SYN 消息，服務器使用 SYN-ACK 應答表示接收到了這個消息，最後客戶機再以 ACK(Acknowledgement[漢譯：確認字符，在數據通信傳輸中，接收站發給發送站的一種傳輸控制字符。它表示確認發來的數據已經接受無誤]）消息響應。這樣在客戶機和服務器之間才能建立起可靠的 TCP 連接，數據才可以在客戶機和服務器之間傳遞。</p><p>13、傳了 SYN，為什麼還要傳 ACK？</p><p>雙方通信無誤必須是兩者互相發送信息都無誤。傳了 SYN，證明發送方到接收方的通道沒有問題，但是接收方到發送方的通道還需要 ACK 信號來進行驗證。</p><p>14、詳細說下 TCP 四次揮手的過程？</p><p>據傳輸結束後，通信的雙方都可以釋放連接。現在 A 和 B 都處於 ESTABLISHED 狀態。</p><div class=pgc-img><img alt=計算機網絡太難了？瞭解這一篇就夠了 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5ad7e2f9c0a4482088829f9eb0af2a90></div><p>第一次揮手：A 的應用進程先向其 TCP 發出連接釋放報文段，並停止再發送數據，主動關閉 TCP 連接。A 把連接釋放報文段首部的終止控制位 FIN 置 1，其序號 seq = u（等於前面已傳送過的數據的最後一個字節的序號加 1），這時 A 進入 FIN-WAIT-1（終止等待1）狀態，等待 B 的確認。請注意：TCP 規定，FIN 報文段即使不攜帶數據，也將消耗掉一個序號。</p><p>第二次揮手：B 收到連接釋放報文段後立即發出確認，確認號是 ack = u + 1，而這個報文段自己的序號是 v（等於 B 前面已經傳送過的數據的最後一個字節的序號加1），然後 B 就進入 CLOSE-WAIT（關閉等待）狀態。TCP 服務端進程這時應通知高層應用進程，因而從 A 到 B 這個方向的連接就釋放了，這時的 TCP 連接處於半關閉（half-close）狀態，即 A 已經沒有數據要發送了，但 B 若發送數據，A 仍要接收。也就是說，從 B 到 A 這個方向的連接並未關閉，這個狀態可能會持續一段時間。A 收到來自 B 的確認後，就進入 FIN-WAIT-2(終止等待2)狀態，等待 B 發出的連接釋放報文段。</p><p>第三次揮手：若 B 已經沒有要向 A 發送的數據，其應用進程就通知 TCP 釋放連接。這時 B 發出的連接釋放報文段必須使 FIN = 1。假定 B 的序號為 w（在半關閉狀態，B 可能又發送了一些數據）。B 還必須重複上次已發送過的確認號 ack = u + 1。這時 B 就進入 LAST-ACK(最後確認)狀態，等待 A 的確認。</p><p>第四次揮手：A 在收到 B 的連接釋放報文後，必須對此發出確認。在確認報文段中把 ACK 置 1，確認號 ack = w + 1，而自己的序號 seq = u + 1（前面發送的 FIN 報文段要消耗一個序號）。然後進入 TIME-WAIT(時間等待) 狀態。請注意，現在 TCP 連接還沒有釋放掉。必須經過時間等待計時器設置的時間 2MSL（MSL：最長報文段壽命）後，A 才能進入到 CLOSED 狀態，然後撤銷傳輸控制塊，結束這次 TCP 連接。當然如果 B 一收到 A 的確認就進入 CLOSED 狀態，然後撤銷傳輸控制塊。所以在釋放連接時，B 結束 TCP 連接的時間要早於 A。</p><p>15、為什麼 TIME-WAIT 狀態必須等待 2MSL 的時間呢？</p><p>1. 為了保證 A 發送的最後一個 ACK 報文段能夠到達 B。這個 ACK 報文段有可能丟失，因而使處在 LAST-ACK 狀態的 B 收不到對已發送的 FIN + ACK 報文段的確認。B 會超時重傳這個 FIN+ACK 報文段，而 A 就能在 2MSL 時間內（超時 + 1MSL 傳輸）收到這個重傳的 FIN+ACK 報文段。接著 A 重傳一次確認，重新啟動 2MSL 計時器。最後，A 和 B 都正常進入到 CLOSED 狀態。如果 A 在 TIME-WAIT 狀態不等待一段時間，而是在發送完 ACK 報文段後立即釋放連接，那麼就無法收到 B 重傳的 FIN + ACK 報文段，因而也不會再發送一次確認報文段，這樣，B 就無法按照正常步驟進入 CLOSED 狀態。</p><p>2. 防止已失效的連接請求報文段出現在本連接中。A 在發送完最後一個 ACK 報文段後，再經過時間 2MSL，就可以使本連接持續的時間內所產生的所有報文段都從網絡中消失。這樣就可以使下一個連接中不會出現這種舊的連接請求報文段。</p><p>16、為什麼第二次跟第三次不能合併, 第二次和第三次之間的等待是什麼?</p><p>當服務器執行第二次揮手之後, 此時證明客戶端不會再向服務端請求任何數據, 但是服務端可能還正在給客戶端發送數據（可能是客戶端上一次請求的資源還沒有發送完畢），所以此時服務端會等待把之前未傳輸完的數據傳輸完畢之後再發送關閉請求。</p><p>17、保活計時器的作用？</p><p>除時間等待計時器外，TCP 還有一個保活計時器（keepalive timer）。設想這樣的場景：客戶已主動與服務器建立了 TCP 連接。但後來客戶端的主機突然發生故障。顯然，服務器以後就不能再收到客戶端發來的數據。因此，應當有措施使服務器不要再白白等待下去。這就需要使用保活計時器了。</p><p>服務器每收到一次客戶的數據，就重新設置保活計時器，時間的設置通常是兩個小時。若兩個小時都沒有收到客戶端的數據，服務端就發送一個探測報文段，以後則每隔 75 秒鐘發送一次。若連續發送 10個 探測報文段後仍然無客戶端的響應，服務端就認為客戶端出了故障，接著就關閉這個連接。</p><p>18、TCP 協議是如何保證可靠傳輸的？</p><p>1. 數據包校驗：目的是檢測數據在傳輸過程中的任何變化，若校驗出包有錯，則丟棄報文段並且不給出響應，這時 TCP 發送數據端超時後會重發數據；</p><p>2. 對失序數據包重排序：既然 TCP 報文段作為 IP 數據報來傳輸，而 IP 數據報的到達可能會失序，因此 TCP 報文段的到達也可能會失序。TCP 將對失序數據進行重新排序，然後才交給應用層；</p><p>3. 丟棄重複數據：對於重複數據，能夠丟棄重複數據；</p><p>4. 應答機制：當 TCP 收到發自 TCP 連接另一端的數據，它將發送一個確認。這個確認不是立即發送，通常將推遲幾分之一秒；</p><p>5. 超時重發：當 TCP 發出一個段後，它啟動一個定時器，等待目的端確認收到這個報文段。如果不能及時收到一個確認，將重發這個報文段；</p><p>6. 流量控制：TCP 連接的每一方都有固定大小的緩衝空間。TCP 的接收端只允許另一端發送接收端緩衝區所能接納的數據，這可以防止較快主機致使較慢主機的緩衝區溢出，這就是流量控制。TCP 使用的流量控制協議是可變大小的滑動窗口協議。</p><p>19、談談你對停止等待協議的理解？</p><p>停止等待協議是為了實現可靠傳輸的，它的基本原理就是每發完一個分組就停止發送，等待對方確認。在收到確認後再發下一個分組；在停止等待協議中，若接收方收到重複分組，就丟棄該分組，但同時還要發送確認。主要包括以下幾種情況：無差錯情況、出現差錯情況（超時重傳）、確認丟失和確認遲到、確認丟失和確認遲到。</p><p>20、談談你對 ARQ 協議的理解？</p><ul><li><strong>自動重傳請求 ARQ 協議</strong></li></ul><p>停止等待協議中超時重傳是指只要超過一段時間仍然沒有收到確認，就重傳前面發送過的分組（認為剛才發送過的分組丟失了）。因此每發送完一個分組需要設置一個超時計時器，其重傳時間應比數據在分組傳輸的平均往返時間更長一些。這種自動重傳方式常稱為自動重傳請求 ARQ。</p><ul><li><strong>連續 ARQ 協議</strong></li></ul><p>連續 ARQ 協議可提高信道利用率。發送方維持一個發送窗口，凡位於發送窗口內的分組可以連續發送出去，而不需要等待對方確認。接收方一般採用累計確認，對按序到達的最後一個分組發送確認，表明到這個分組為止的所有分組都已經正確收到了。</p><p>21、談談你對滑動窗口的瞭解？</p><p>TCP 利用滑動窗口實現流量控制的機制。滑動窗口（Sliding window）是一種流量控制技術。早期的網絡通信中，通信雙方不會考慮網絡的擁擠情況直接發送數據。由於大家不知道網絡擁塞狀況，同時發送數據，導致中間節點阻塞掉包，誰也發不了數據，所以就有了滑動窗口機制來解決此問題。</p><p>TCP 中採用滑動窗口來進行傳輸控制，滑動窗口的大小意味著接收方還有多大的緩衝區可以用於接收數據。發送方可以通過滑動窗口的大小來確定應該發送多少字節的數據。當滑動窗口為 0 時，發送方一般不能再發送數據報，但有兩種情況除外，一種情況是可以發送緊急數據，例如，允許用戶終止在遠端機上的運行進程。另一種情況是發送方可以發送一個 1 字節的數據報來通知接收方重新聲明它希望接收的下一字節及發送方的滑動窗口大小。</p><p>22、談下你對流量控制的理解？</p><p>TCP 利用滑動窗口實現流量控制。流量控制是為了控制發送方發送速率，保證接收方來得及接收。接收方發送的確認報文中的窗口字段可以用來控制發送方窗口大小，從而影響發送方的發送速率。將窗口字段設置為 0，則發送方不能發送數據。</p><p>23、談下你對 TCP 擁塞控制的理解？使用了哪些算法？</p><p>擁塞控制和流量控制不同，前者是一個全局性的過程，而後者指點對點通信量的控制。在某段時間，若對網絡中某一資源的需求超過了該資源所能提供的可用部分，網絡的性能就要變壞。這種情況就叫擁塞。</p><p>擁塞控制就是為了防止過多的數據注入到網絡中，這樣就可以使網絡中的路由器或鏈路不致於過載。擁塞控制所要做的都有一個前提，就是網絡能夠承受現有的網絡負荷。擁塞控制是一個全局性的過程，涉及到所有的主機，所有的路由器，以及與降低網絡傳輸性能有關的所有因素。相反，流量控制往往是點對點通信量的控制，是個端到端的問題。流量控制所要做到的就是抑制發送端發送數據的速率，以便使接收端來得及接收。</p><p>為了進行擁塞控制，TCP 發送方要維持一個擁塞窗口(cwnd) 的狀態變量。擁塞控制窗口的大小取決於網絡的擁塞程度，並且動態變化。發送方讓自己的發送窗口取為擁塞窗口和接收方的接受窗口中較小的一個。</p><p>TCP 的擁塞控制採用了四種算法，即：慢開始、擁塞避免、快重傳和快恢復。在網絡層也可以使路由器採用適當的分組丟棄策略（如：主動隊列管理 AQM），以減少網絡擁塞的發生。</p><ul><li><strong>慢開始：</strong></li></ul><p>慢開始算法的思路是當主機開始發送數據時，如果立即把大量數據字節注入到網絡，那麼可能會引起網絡阻塞，因為現在還不知道網絡的符合情況。經驗表明，較好的方法是先探測一下，即由小到大逐漸增大發送窗口，也就是由小到大逐漸增大擁塞窗口數值。cwnd 初始值為 1，每經過一個傳播輪次，cwnd 加倍。</p><ul><li><strong>擁塞避免：</strong></li></ul><p>擁塞避免算法的思路是讓擁塞窗口 cwnd 緩慢增大，即每經過一個往返時間 RTT 就把發送方的 cwnd 加 1。</p><ul><li><strong>快重傳與快恢復：</strong></li></ul><p>在 TCP/IP 中，快速重傳和快恢復（fast retransmit and recovery，FRR）是一種擁塞控制算法，它能快速恢復丟失的數據包。</p><p>沒有 FRR，如果數據包丟失了，TCP 將會使用定時器來要求傳輸暫停。在暫停的這段時間內，沒有新的或複製的數據包被髮送。有了 FRR，如果接收機接收到一個不按順序的數據段，它會立即給發送機發送一個重複確認。如果發送機接收到三個重複確認，它會假定確認件指出的數據段丟失了，並立即重傳這些丟失的數據段。</p><p>有了 FRR，就不會因為重傳時要求的暫停被耽誤。當有單獨的數據包丟失時，快速重傳和快恢復（FRR）能最有效地工作。當有多個數據信息包在某一段很短的時間內丟失時，它則不能很有效地工作。</p><p>24、什麼是粘包？</p><p>在進行 Java NIO 學習時，可能會發現：如果客戶端連續不斷的向服務端發送數據包時，服務端接收的數據會出現兩個數據包粘在一起的情況。</p><p>1. TCP 是基於字節流的，雖然應用層和 TCP 傳輸層之間的數據交互是大小不等的數據塊，但是 TCP 把這些數據塊僅僅看成一連串無結構的字節流，沒有邊界；</p><p>2. 從 TCP 的幀結構也可以看出，在 TCP 的首部沒有表示數據長度的字段。</p><p>基於上面兩點，在使用 TCP 傳輸數據時，才有粘包或者拆包現象發生的可能。一個數據包中包含了發送端發送的兩個數據包的信息，這種現象即為粘包。</p><p>接收端收到了兩個數據包，但是這兩個數據包要麼是不完整的，要麼就是多出來一塊，這種情況即發生了拆包和粘包。拆包和粘包的問題導致接收端在處理的時候會非常困難，因為無法區分一個完整的數據包。</p><p>25、TCP 黏包是怎麼產生的？</p><ul><li><strong>發送方產生粘包</strong></li></ul><p>採用 TCP 協議傳輸數據的客戶端與服務器經常是保持一個長連接的狀態（一次連接發一次數據不存在粘包），雙方在連接不斷開的情況下，可以一直傳輸數據。但當發送的數據包過於的小時，那麼 TCP 協議默認的會啟用 Nagle 算法，將這些較小的數據包進行合併發送（緩衝區數據發送是一個堆壓的過程）；這個合併過程就是在發送緩衝區中進行的，也就是說數據發送出來它已經是粘包的狀態了。</p><ul><li><strong>接收方產生粘包</strong></li></ul><p>接收方採用 TCP 協議接收數據時的過程是這樣的：數據到接收方，從網絡模型的下方傳遞至傳輸層，傳輸層的 TCP 協議處理是將其放置接收緩衝區，然後由應用層來主動獲取（C 語言用 recv、read 等函數）；這時會出現一個問題，就是我們在程序中調用的讀取數據函數不能及時的把緩衝區中的數據拿出來，而下一個數據又到來並有一部分放入的緩衝區末尾，等我們讀取數據時就是一個粘包。（放數據的速度 > 應用層拿數據速度）</p><p>26、怎麼解決拆包和粘包？</p><p>分包機制一般有兩個通用的解決方法：</p><p>1. 特殊字符控制；</p><p>2. 在包頭首都添加數據包的長度。</p><p>如果使用 netty 的話，就有專門的編碼器和解碼器解決拆包和粘包問題了。</p><p>tips：UDP 沒有粘包問題，但是有丟包和亂序。不完整的包是不會有的，收到的都是完全正確的包。傳送的數據單位協議是 UDP 報文或用戶數據報，發送的時候既不合並，也不拆分。</p><p>27、你對 HTTP 狀態碼有了解嗎？</p><ul><li><strong>1XX 信息</strong></li></ul><p>1. 100 Continue ：表明到目前為止都很正常，客戶端可以繼續發送請求或者忽略這個響應。</p><ul><li><strong>2XX 成功</strong></li></ul><p>1. 200 OK</p><p>2. 204 No Content ：請求已經成功處理，但是返回的響應報文不包含實體的主體部分。一般在只需要從客戶端往服務器發送信息，而不需要返回數據時使用。</p><p>3. 206 Partial Content ：表示客戶端進行了範圍請求，響應報文包含由 Content-Range 指定範圍的實體內容。</p><ul><li><strong>3XX 重定向</strong></li></ul><p>1. 301 Moved Permanently ：永久性重定向；</p><p>2. 302 Found ：臨時性重定向；</p><p>3. 303 See Other ：和 302 有著相同的功能，但是 303 明確要求客戶端應該採用 GET 方法獲取資源。</p><p>4. 304 Not Modified ：如果請求報文首部包含一些條件，例如：If-Match，If-Modified-Since，If-None-Match，If-Range，If-Unmodified-Since，如果不滿足條件，則服務器會返回 304 狀態碼。</p><p>5. 307 Temporary Redirect ：臨時重定向，與 302 的含義類似，但是 307 要求瀏覽器不會把重定向請求的 POST 方法改成 GET 方法。</p><ul><li><strong>4XX 客戶端錯誤</strong></li></ul><p>1. 400 Bad Request ：請求報文中存在語法錯誤。</p><p>2. 401 Unauthorized ：該狀態碼錶示發送的請求需要有認證信息（BASIC 認證、DIGEST 認證）。如果之前已進行過一次請求，則表示用戶認證失敗。</p><p>3. 403 Forbidden ：請求被拒絕。</p><p>4. 404 Not Found</p><ul><li><strong>5XX 服務器錯誤</strong></li></ul><p>1. 500 Internal Server Error ：服務器正在執行請求時發生錯誤；</p><p>2. 503 Service Unavailable ：服務器暫時處於超負載或正在進行停機維護，現在無法處理請求。</p><p>28、HTTP 狀態碼 301 和 302 代表的是什麼？有什麼區別？</p><p>301，302 都是 HTTP 狀態的編碼，都代表著某個 URL 發生了轉移。</p><ul><li><strong>區別：</strong></li></ul><p>301 redirect: 301 代表永久性轉移（Permanently Moved）</p><p>302 redirect: 302 代表暫時性轉移（Temporarily Moved）</p><p>29、forward 和 redirect 的區別？</p><p>Forward 和 Redirect 代表了兩種請求轉發方式：直接轉發和間接轉發。</p><p>直接轉發方式（Forward）：客戶端和瀏覽器只發出一次請求，Servlet、HTML、JSP 或其它信息資源，由第二個信息資源響應該請求，在請求對象 request 中，保存的對象對於每個信息資源是共享的。</p><p>間接轉發方式（Redirect）：實際是兩次 HTTP 請求，服務器端在響應第一次請求的時候，讓瀏覽器再向另外一個 URL 發出請求，從而達到轉發的目的。</p><ul><li>舉個通俗的例子：</li></ul><p>直接轉發就相當於：“A 找 B 借錢，B 說沒有，B 去找 C 借，借到借不到都會把消息傳遞給 A”；</p><p>間接轉發就相當於："A 找 B 借錢，B 說沒有，讓 A 去找 C 借"。</p><p>30、HTTP 方法有哪些？</p><p>客戶端發送的 請求報文 第一行為請求行，包含了方法字段。</p><p>1. GET：獲取資源，當前網絡中絕大部分使用的都是 GET；</p><p>2. HEAD：獲取報文首部，和 GET 方法類似，但是不返回報文實體主體部分；</p><p>3. POST：傳輸實體主體</p><p>4. PUT：上傳文件，由於自身不帶驗證機制，任何人都可以上傳文件，因此存在安全性問題，一般不使用該方法。</p><p>5. PATCH：對資源進行部分修改。PUT 也可以用於修改資源，但是隻能完全替代原始資源，PATCH 允許部分修改。</p><p>6. OPTIONS：查詢指定的 URL 支持的方法；</p><p>7. CONNECT：要求在與代理服務器通信時建立隧道。使用 SSL（Secure Sockets Layer，安全套接層）和 TLS（Transport Layer Security，傳輸層安全）協議把通信內容加密後經網絡隧道傳輸。</p><p>8. TRACE：追蹤路徑。服務器會將通信路徑返回給客戶端。發送請求時，在 Max-Forwards 首部字段中填入數值，每經過一個服務器就會減 1，當數值為 0 時就停止傳輸。通常不會使用 TRACE，並且它容易受到 XST 攻擊（Cross-Site Tracing，跨站追蹤）。</p><p>31、說下 GET 和 POST 的區別？</p><p>GET 和 POST 本質都是 HTTP 請求，只不過對它們的作用做了界定和適配，並且讓他們適應各自的場景。</p><p>本質區別：GET 只是一次 HTTP請求，POST 先發請求頭再發請求體，實際上是兩次請求。</p><p>1. 從功能上講，GET 一般用來從服務器上獲取資源，POST 一般用來更新服務器上的資源；</p><p>2. 從 REST 服務角度上說，GET 是冪等的，即讀取同一個資源，總是得到相同的數據，而 POST 不是冪等的，因為每次請求對資源的改變並不是相同的；進一步地，GET 不會改變服務器上的資源，而 POST 會對服務器資源進行改變；</p><p>3. 從請求參數形式上看，GET 請求的數據會附在 URL 之後，即將請求數據放置在 HTTP 報文的 請求頭 中，以 ? 分割 URL 和傳輸數據，參數之間以 & 相連。特別地，如果數據是英文字母/數字，原樣發送；否則，會將其編碼為 application/x-www-form-urlencoded MIME 字符串(如果是空格，轉換為+，如果是中文/其他字符，則直接把字符串用 BASE64 加密，得出如：%E4%BD%A0%E5%A5%BD，其中 ％XX 中的 XX 為該符號以 16 進製表示的 ASCII)；而 POST 請求會把提交的數據則放置在是 HTTP 請求報文的 請求體 中；</p><p>4. 就安全性而言，POST 的安全性要比 GET 的安全性高，因為 GET 請求提交的數據將明文出現在 URL 上，而且 POST 請求參數則被包裝到請求體中，相對更安全；</p><p>5. 從請求的大小看，GET 請求的長度受限於瀏覽器或服務器對 URL 長度的限制，允許發送的數據量比較小，而 POST 請求則是沒有大小限制的。</p><p>32、在瀏覽器中輸入 URL 地址到顯示主頁的過程？</p><p>1. DNS 解析：瀏覽器查詢 DNS，獲取域名對應的 IP 地址：具體過程包括瀏覽器搜索自身的 DNS 緩存、搜索操作系統的 DNS 緩存、讀取本地的 Host 文件和向本地 DNS 服務器進行查詢等。對於向本地 DNS 服務器進行查詢，如果要查詢的域名包含在本地配置區域資源中，則返回解析結果給客戶機，完成域名解析(此解析具有權威性)；如果要查詢的域名不由本地 DNS 服務器區域解析，但該服務器已緩存了此網址映射關係，則調用這個 IP 地址映射，完成域名解析（此解析不具有權威性）。如果本地域名服務器並未緩存該網址映射關係，那麼將根據其設置發起遞歸查詢或者迭代查詢；</p><p>2. TCP 連接：瀏覽器獲得域名對應的 IP 地址以後，瀏覽器向服務器請求建立鏈接，發起三次握手；</p><p>3. 發送 HTTP 請求：TCP 連接建立起來後，瀏覽器向服務器發送 HTTP 請求；</p><p>4. 服務器處理請求並返回 HTTP 報文：服務器接收到這個請求，並根據路徑參數映射到特定的請求處理器進行處理，並將處理結果及相應的視圖返回給瀏覽器；</p><p>5. 瀏覽器解析渲染頁面：瀏覽器解析並渲染視圖，若遇到對 js 文件、css 文件及圖片等靜態資源的引用，則重複上述步驟並向服務器請求這些資源；瀏覽器根據其請求到的資源、數據渲染頁面，最終向用戶呈現一個完整的頁面。</p><p>6. 連接結束。</p><p>33、DNS 的解析過程？</p><p>1. 主機向本地域名服務器的查詢一般都是採用遞歸查詢。所謂遞歸查詢就是：如果主機所詢問的本地域名服務器不知道被查詢的域名的 IP 地址，那麼本地域名服務器就以 DNS 客戶的身份，向根域名服務器繼續發出查詢請求報文(即替主機繼續查詢)，而不是讓主機自己進行下一步查詢。因此，遞歸查詢返回的查詢結果或者是所要查詢的 IP 地址，或者是報錯，表示無法查詢到所需的 IP 地址。</p><p>2. 本地域名服務器向根域名服務器的查詢的迭代查詢。迭代查詢的特點：當根域名服務器收到本地域名服務器發出的迭代查詢請求報文時，要麼給出所要查詢的 IP 地址，要麼告訴本地服務器：“你下一步應當向哪一個域名服務器進行查詢”。然後讓本地服務器進行後續的查詢。根域名服務器通常是把自己知道的頂級域名服務器的 IP 地址告訴本地域名服務器，讓本地域名服務器再向頂級域名服務器查詢。頂級域名服務器在收到本地域名服務器的查詢請求後，要麼給出所要查詢的 IP 地址，要麼告訴本地服務器下一步應當向哪一個權限域名服務器進行查詢。最後，本地域名服務器得到了所要解析的 IP 地址或報錯，然後把這個結果返回給發起查詢的主機。</p><p>34、談談你對域名緩存的瞭解？</p><p>為了提高 DNS 查詢效率，並減輕服務器的負荷和減少因特網上的 DNS 查詢報文數量，在域名服務器中廣泛使用了高速緩存，用來存放最近查詢過的域名以及從何處獲得域名映射信息的記錄。</p><p>由於名字到地址的綁定並不經常改變，為保持高速緩存中的內容正確，域名服務器應為每項內容設置計時器並處理超過合理時間的項（例如：每個項目兩天）。當域名服務器已從緩存中刪去某項信息後又被請求查詢該項信息，就必須重新到授權管理該項的域名服務器綁定信息。當權限服務器回答一個查詢請求時，在響應中都指明綁定有效存在的時間值。增加此時間值可減少網絡開銷，而減少此時間值可提高域名解析的正確性。</p><p>不僅在本地域名服務器中需要高速緩存，在主機中也需要。許多主機在啟動時從本地服務器下載名字和地址的全部數據庫，維護存放自己最近使用的域名的高速緩存，並且只在從緩存中找不到名字時才使用域名服務器。維護本地域名服務器數據庫的主機應當定期地檢查域名服務器以獲取新的映射信息，而且主機必須從緩存中刪除無效的項。由於域名改動並不頻繁，大多數網點不需花精力就能維護數據庫的一致性。</p><p>35、談下你對 HTTP 長連接和短連接的理解？分別應用於哪些場景？</p><p>在 HTTP/1.0 中默認使用短連接。也就是說，客戶端和服務器每進行一次 HTTP 操作，就建立一次連接，任務結束就中斷連接。當客戶端瀏覽器訪問的某個 HTML 或其他類型的 Web 頁中包含有其他的 Web 資源（如：JavaScript 文件、圖像文件、CSS 文件等），每遇到這樣一個 Web 資源，瀏覽器就會重新建立一個 HTTP 會話。</p><p>而從 HTTP/1.1 起，默認使用長連接，用以保持連接特性。使用長連接的 HTTP 協議，會在響應頭加入這行代碼</p><p>Connection:keep-alive</p><p>在使用長連接的情況下，當一個網頁打開完成後，客戶端和服務器之間用於傳輸 HTTP 數據的 TCP 連接不會關閉，客戶端再次訪問這個服務器時，會繼續使用這一條已經建立的連接。</p><p>Keep-Alive 不會永久保持連接，它有一個保持時間，可以在不同的服務器軟件（如：Apache）中設定這個時間。實現長連接需要客戶端和服務端都支持長連接。</p><p>36、談下 HTTP 1.0 和 1.1、1.2 的主要變化？</p><ul><li><strong>HTTP1.1 的主要變化：</strong></li></ul><p>1. HTTP1.0 經過多年發展，在 1.1 提出了改進。首先是提出了長連接，HTTP 可以在一次 TCP 連接中不斷髮送請求。</p><p>2. 然後 HTTP1.1 支持只發送 header 而不發送 body。原因是先用 header 判斷能否成功，再發數據，節約帶寬，事實上，post 請求默認就是這樣做的。</p><p>3. HTTP1.1 的 host 字段。由於虛擬主機可以支持多個域名，所以一般將域名解析後得到 host。</p><ul><li><strong>HTTP2.0 的主要變化：</strong></li></ul><p>1. HTTP2.0 支持多路複用，同一個連接可以併發處理多個請求，方法是把 HTTP數據包拆為多個幀，併發有序的發送，根據序號在另一端進行重組，而不需要一個個 HTTP請求順序到達；</p><p>2. HTTP2.0 支持服務端推送，就是服務端在 HTTP 請求到達後，除了返回數據之外，還推送了額外的內容給客戶端；</p><p>3. HTTP2.0 壓縮了請求頭，同時基本單位是二進制幀流，這樣的數據佔用空間更少；</p><p>4. HTTP2.0 適用於 HTTPS 場景，因為其在 HTTP和 TCP 中間加了一層 SSL 層。</p><p>37、HTTPS 的工作過程？</p><p>1. 客戶端發送自己支持的加密規則給服務器，代表告訴服務器要進行連接了；</p><p>2. 服務器從中選出一套加密算法和 hash 算法以及自己的身份信息（地址等）以證書的形式發送給瀏覽器，證書中包含服務器信息，加密公鑰，證書的辦法機構；</p><p>3. 客戶端收到網站的證書之後要做下面的事情：</p><ul><li>3.1 驗證證書的合法性；</li><li>3.2 果驗證通過證書，瀏覽器會生成一串隨機數，並用證書中的公鑰進行加密；</li><li>3.3 用約定好的 hash 算法計算握手消息，然後用生成的密鑰進行加密，然後一起發送給服務器。</li></ul><p>4. 服務器接收到客戶端傳送來的信息，要做下面的事情：</p><ul><li>4.1 用私鑰解析出密碼，用密碼解析握手消息，驗證 hash 值是否和瀏覽器發來的一致；</li><li>4.2 使用密鑰加密消息；</li></ul><p>5. 如果計算法 hash 值一致，握手成功。</p><p>38、HTTP 和 HTTPS 的區別？</p><p>1. 開銷：HTTPS 協議需要到 CA 申請證書，一般免費證書很少，需要交費；</p><p>2. 資源消耗：HTTP 是超文本傳輸協議，信息是明文傳輸，HTTPS 則是具有安全性的 ssl 加密傳輸協議，需要消耗更多的 CPU 和內存資源；</p><p>3. 端口不同：HTTP 和 HTTPS 使用的是完全不同的連接方式，用的端口也不一樣，前者是 80，後者是 443；</p><p>4. 安全性：HTTP 的連接很簡單，是無狀態的；HTTPS 協議是由 TSL+HTTP 協議構建的可進行加密傳輸、身份認證的網絡協議，比 HTTP 協議安全。</p><p>39、HTTPS 的優缺點？</p><ul><li><strong>優點：</strong></li></ul><p>1. 使用 HTTPS 協議可認證用戶和服務器，確保數據發送到正確的客戶機和服務器；</p><p>2. HTTPS 協議是由 SSL + HTTP 協議構建的可進行加密傳輸、身份認證的網絡協議，要比 HTTP 協議安全，可防止數據在傳輸過程中不被竊取、改變，確保數據的完整性；</p><p>3. HTTPS 是現行架構下最安全的解決方案，雖然不是絕對安全，但它大幅增加了中間人攻擊的成本。</p><ul><li><strong>缺點：</strong></li></ul><p>1. HTTPS 協議握手階段比較費時，會使頁面的加載時間延長近 50%，增加 10% 到 20% 的耗電；</p><p>2. HTTPS 連接緩存不如 HTTP 高效，會增加數據開銷和功耗，甚至已有的安全措施也會因此而受到影響；</p><p>3. SSL 證書需要錢，功能越強大的證書費用越高，個人網站、小網站沒有必要一般不會用；</p><p>4. SSL 證書通常需要綁定 IP，不能在同一 IP 上綁定多個域名，IPv4 資源不可能支撐這個消耗；</p><p>5. HTTPS 協議的加密範圍也比較有限，在黑客攻擊、拒絕服務攻擊、服務器劫持等方面幾乎起不到什麼作用。最關鍵的，SSL 證書的信用鏈體系並不安全，特別是在某些國家可以控制 CA 根證書的情況下，中間人攻擊一樣可行。</p><p>40、什麼是數字簽名？</p><p>為了避免數據在傳輸過程中被替換，比如黑客修改了你的報文內容，但是你並不知道，所以我們讓發送端做一個數字簽名，把數據的摘要消息進行一個加密，比如 MD5，得到一個簽名，和數據一起發送。然後接收端把數據摘要進行 MD5 加密，如果和簽名一樣，則說明數據確實是真的。</p><p>41、什麼是數字證書？</p><p>對稱加密中，雙方使用公鑰進行解密。雖然數字簽名可以保證數據不被替換，但是數據是由公鑰加密的，如果公鑰也被替換，則仍然可以偽造數據，因為用戶不知道對方提供的公鑰其實是假的。所以為了保證發送方的公鑰是真的，CA 證書機構會負責頒發一個證書，裡面的公鑰保證是真的，用戶請求服務器時，服務器將證書發給用戶，這個證書是經由系統內置證書的備案的。</p><p>42、什麼是對稱加密和非對稱加密？</p><p>對稱密鑰加密是指加密和解密使用同一個密鑰的方式，這種方式存在的最大問題就是密鑰發送問題，即如何安全地將密鑰發給對方。</p><p>非對稱加密指使用一對非對稱密鑰，即：公鑰和私鑰，公鑰可以隨意發佈，但私鑰只有自己知道。發送密文的一方使用對方的公鑰進行加密處理，對方接收到加密信息後，使用自己的私鑰進行解密。</p><p>由於非對稱加密的方式不需要發送用來解密的私鑰，所以可以保證安全性。但是和對稱加密比起來，它非常的慢，所以我們還是要用對稱加密來傳送消息，但對稱加密所使用的密鑰我們可以通過非對稱加密的方式發送出去。</p><blockquote><p>來自掘金，https://juejin.im/entry/5d896edc518825092453674b</p></blockquote></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>計算機</a></li><li><a>網絡</a></li><li><a>太難</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/1267d3e8.html alt=計算機網絡-數據鏈路層 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/125a70d9a286430b8d5aabb35a77904a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1267d3e8.html title=計算機網絡-數據鏈路層>計算機網絡-數據鏈路層</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/09972eef.html alt="計算機網絡: 鏈路層(入門)" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e50e09971c3a4165866d14abf2df9da4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/09972eef.html title="計算機網絡: 鏈路層(入門)">計算機網絡: 鏈路層(入門)</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d469ff43.html alt=計算機網絡之碼分多址技術 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1be327daace445728399d2409f694a17 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d469ff43.html title=計算機網絡之碼分多址技術>計算機網絡之碼分多址技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c624a086.html alt=計算機網絡自學筆記：IP數據報格式與編址 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/7aa7f2180be1441c8bd9393af4355c9b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c624a086.html title=計算機網絡自學筆記：IP數據報格式與編址>計算機網絡自學筆記：IP數據報格式與編址</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/aecf487e.html alt=計算機網絡基礎：局域網協議相關知識 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b843ca1dae9a4662aa8b04d696310359 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/aecf487e.html title=計算機網絡基礎：局域網協議相關知識>計算機網絡基礎：局域網協議相關知識</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6c561f23.html alt=計算機網絡：網絡設備知識筆記 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6813b32307144172939b3aac5d917dce style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6c561f23.html title=計算機網絡：網絡設備知識筆記>計算機網絡：網絡設備知識筆記</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1a983287.html alt=計算機網絡之數據交換技術 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/3303aa6a77b24d84b87fb0dd7df2eb04 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1a983287.html title=計算機網絡之數據交換技術>計算機網絡之數據交換技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fd64cb45.html alt=計算機網絡筆記 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/152964353345380b3db60fd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fd64cb45.html title=計算機網絡筆記>計算機網絡筆記</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7417a507.html alt=計算機網絡和視頻監控組網方式與選擇 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/92c42588-b6ea-4852-9320-2adbe1a30d44 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7417a507.html title=計算機網絡和視頻監控組網方式與選擇>計算機網絡和視頻監控組網方式與選擇</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/13df51b2.html alt=校園計算機網絡系統設計方案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1532871630549af3fac49f9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/13df51b2.html title=校園計算機網絡系統設計方案>校園計算機網絡系統設計方案</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/af4efdc3.html alt=計算機網絡系統圖例 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1528370273066bcd30a8c70 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/af4efdc3.html title=計算機網絡系統圖例>計算機網絡系統圖例</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/9e500aba.html alt=自學網絡工程師-計算機組成原理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/19f1dd76842d4ab7affe5fe525789e06 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/9e500aba.html title=自學網絡工程師-計算機組成原理>自學網絡工程師-計算機組成原理</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/592058ff.html alt=計算機：網絡協議的概念和網絡拓撲結構 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/06f271e3fa2f475c88af210ccce912d5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/592058ff.html title=計算機：網絡協議的概念和網絡拓撲結構>計算機：網絡協議的概念和網絡拓撲結構</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/09ddb291.html alt=計算機網絡基礎知識--日常工作的寶庫，收藏必備 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b25621c28cb24220b71c32b4e2c0d0b9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/09ddb291.html title=計算機網絡基礎知識--日常工作的寶庫，收藏必備>計算機網絡基礎知識--日常工作的寶庫，收藏必備</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/0f4669bf.html alt=計算機網絡基礎：網絡分類和拓撲結構知識筆記 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9e4e39f3d95e4793a789034fa72d6081 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/0f4669bf.html title=計算機網絡基礎：網絡分類和拓撲結構知識筆記>計算機網絡基礎：網絡分類和拓撲結構知識筆記</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>