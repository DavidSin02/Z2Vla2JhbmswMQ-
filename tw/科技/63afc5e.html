<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>超詳細丨完整的推薦系統架構設計 | 极客快訊</title><meta property="og:title" content="超詳細丨完整的推薦系統架構設計 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/e809b803b02b4e03a4d3c4a2bad30a9c"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/63afc5e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/63afc5e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/63afc5e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/63afc5e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/63afc5e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/63afc5e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/63afc5e.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/63afc5e.html><meta property="article:published_time" content="2020-10-29T20:59:27+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:27+08:00"><meta name=Keywords content><meta name=description content="超詳細丨完整的推薦系統架構設計"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/63afc5e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>超詳細丨完整的推薦系統架構設計</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>推薦系統是移動互聯網時代非常成功的人工智能技術落地場景之一。</p><p style=text-align:justify>本文我們將從架構設計的角度回顧和討論推薦系統的一些核心算法模塊，重點從<strong>離</strong><strong>線層</strong><strong>、</strong><strong>近線</strong><strong>層和在線層</strong>三個架構層面討論這些算法。</p><p style=text-align:justify>本文不會講解一些具體推薦模塊的架構設計，但無論什麼推薦模塊，其邏輯經過拆解後都可以映射到本文的架構體系中，做到觸類旁通，舉一反三。</p><p style=text-align:center>-----</p><p style=text-align:justify>本文選自<strong>《從零開始構建企業級推薦系統》</strong>一書，在龐雜的領域知識網格中點亮關鍵節點，為你的商業化落地開闢泛化通道。</p><div class=pgc-img><img alt=超詳細丨完整的推薦系統架構設計 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e809b803b02b4e03a4d3c4a2bad30a9c><p class=pgc-img-caption></p></div><p><br></p><h1 class=pgc-h-arrow-right>1　架構設計概述</h1><p style=text-align:justify>架構設計是一個很大的話題，本文這裡只討論和推薦系統相關的部分。更具體地說，我們主要關注的是算法以及其他相關邏輯在時間和空間上的關係——這樣一種邏輯上的架構關係。</p><p style=text-align:justify>下面介紹的是一些<strong>經過實踐檢驗的架構層面的最佳實踐，以及對這些最佳實踐在不同應用場景下的分析</strong>。除此之外，還希望能夠通過把各種推薦算法放在架構的視角和場景下重新審視，讓讀者大家對算法間的關係有更深入的理解，從全局的角度看待推薦系統，而不是只看到一個個孤立的算法。</p><p style=text-align:justify>架構設計的本質之一是平衡和妥協。一個推薦系統在不同的時期、不同的數據環境、不同的應用場景下會選擇不同的架構，在選擇時本質上是在平衡一些重要的點。下面介紹幾個常用的平衡點。</p><p><strong>▊ 個性化 vs 複雜度</strong></p><p style=text-align:justify>個性化是推薦系統作為一個智能信息過濾系統的安身立命之本，從最早的熱榜，到後來的公式規則，再到著名的協同過濾算法，最後到今天的大量使用機器學習算法，其主線之一就是為用戶提供個性化程度越來越高的體驗，讓每個人看到的東西都儘量差異化，並且符合個人的喜好。為了達到這一目的，系統的整體複雜度越來越高，具體表現為使用的算法越來越多、算法使用的數據量和數據維度越來越多、機器學習模型使用的特徵越來越多，等等。同時，為了更好地支持這些高複雜度算法的開發、迭代和調試，又衍生出了一系列對應的配套系統，進一步增加了整個系統的複雜度。可以說整個推薦邏輯鏈條上的每一步都被不斷地細化分析和優化，這些不同維度的優化橫縱交織，構造出了一個整體複雜度非常高的系統。從機器學習理論的角度來類比，如果把推薦系統整體看作一個巨大的以區分用戶為目標的機器學習模型，則可以認為複雜度的增加對應著模型中特徵維度的增加，這使得模型的VC維不斷升高，對應著可分的用戶數不斷增加，進而提高了整個空間中用戶的個性化程度。這條通過不斷提高系統複雜度來提升用戶個性化體驗的路線，也是近年來推薦系統發展的主線之一。</p><p><strong>▊ 時效性 vs 計算量</strong></p><p style=text-align:justify>推薦系統中的時效性概念體現在實時服務的響應速度、實時數據的處理速度以及離線作業的運行速度等幾個方面。這幾個速度從時效性角度影響著推薦系統的效果，整體上講，運行速度越快，耗時越少，得到的效果越好。這是因為響應速度越快，意味著對用戶行為、物品信息變化的感知越快，感知後的處理速度越快，處理後結果的反饋就越快，最終體現到用戶體驗上，就是系統更懂用戶，更快地對用戶行為做出了反應，從而產生了更好的用戶體驗。但這些時效性的優化，帶來的是更大的計算量，計算量又對應著複雜的實現邏輯和更多的計算資源。在設計得當的前提下，這樣的付出通常是值得的。</p><p style=text-align:justify>時效性優化是推薦系統中非常重要的一類優化方法和優化思路，但由此帶來的計算壓力和系統設計的複雜度也是必須要面對的。</p><p><strong>▊ 時間 vs 空間</strong></p><p style=text-align:justify>時間和空間之間的平衡關係可以說是計算機系統中最為本質的關係之一，在推薦系統中也不例外。時間和空間這一對矛盾關係在推薦系統中的典型表現，主要體現在對緩存的使用上。緩存通常用來存儲一些計算代價較高以及相對靜態變化較少的數據，例如用戶的一些畫像標籤以及離線計算的相關性結果等。但是隨著越來越多的實時計算的引入，緩存的使用也越來越廣泛，常常在生產者和消費者之間起到緩衝的作用，使得二者可以解耦，各自異步進行。例如實時用戶興趣計算這一邏輯，如果沒有將之前計算的興趣緩存起來，那麼在每次需要用戶興趣時都要實時計算一次，並要求在較短的時間內返回結果，這對計算性能提出了較高的要求。但如果中間有一層緩存作為緩衝，則需求方可以直接從緩存中取來結果使用。這在結果的實時性和新鮮度上雖然做了一定的妥協，但卻能給性能提升帶來極大的幫助。這樣就將生產和消費隔離開來，生產者可以根據具體情況選擇生產的方式和速度。當然，仍然可以努力提高生產速度，生產速度越快，緩存給時效性帶來的損失就越小，消費者不做任何改動就可以享受到這一提升效果。所以說，這種利用緩存來解耦系統，帶來性能上的提升以及開發的便利，也是在推薦系統架構設計中需要掌握的一種通用的思路。</p><p style=text-align:justify>上面介紹的一些基本性原則貫穿著推薦系統架構設計的方方面面，是一些具有較高通用性的思路，掌握這些思路，可以產生出很多具體的設計和方法；反過來，每一種設計技巧或方法，也都可以映射到一個或幾個這樣的高層次抽象原則上來。這種自頂向下的思維學習方法對於推薦系統的架構設計是非常重要的，並且可以推廣到很多其他系統的設計中。</p><p><br></p><h1 class=pgc-h-arrow-right>2　系統邊界和外部依賴</h1><p style=text-align:justify>架構設計的第一步是確定系統的<strong>邊界</strong>。</p><p style=text-align:justify>所謂邊界，就是區分什麼是這個系統要負責的，也就是邊界內的部分，以及什麼是這個模型要依賴的，也就是邊界外的部分。劃分清楚邊界，意味著確定了功能的邊界以及團隊的邊界，能夠讓後期的工作都專注於核心功能的設計和實現。反之，如果系統邊界沒有清晰的定義，可能會在開發過程中無意識地侵入其他系統中，形成冗餘甚至矛盾，或者默認某些功能別人會開發而將其忽略掉。無論哪種情況，都會影響系統的開發乃至最終的運轉。</p><p style=text-align:justify>系統邊界的確定，簡單來說，就是<strong>在輸入方面確定需要別人給我提供什麼，而在輸出方面確定我要給別人提供什麼。</strong></p><p style=text-align:justify>在輸入方面，就是判斷什麼輸入是需要別人提供給我的，要把握的主要原則包括：</p><ul><li>這個數據或服務是否與我的業務強相關</li></ul><p>在推薦業務中用到的每個東西，並不是都與推薦業務強相關，例如電商推薦系統中的商品信息，只有與推薦業務強相關的服務才應該被納入推薦系統的邊界中。</p><ul><li>這個數據或服務除了我的業務在使用，是否還有其他業務也在使用</li></ul><p>例如上面說到的商品信息服務，除了推薦系統在使用，其他子系統也在廣泛使用，那麼顯然它應該是一個外部依賴。也有例外情況，例如推薦系統要用到一些其他系統都用不到的商品信息，這時候，雖然理論上應該升級商品信息服務來支持推薦系統，但由於其他地方都用不到這些信息，因此很多時候可能需要推薦系統的負責團隊來實現這樣一個定製化服務。</p><p style=text-align:justify>依照此原則，下圖展示了推薦系統的主要外部依賴。</p><div class=pgc-img><img alt=超詳細丨完整的推薦系統架構設計 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e318fb124fc744a6b4912b0007538747><p class=pgc-img-caption></p></div><p><strong>▊ 1、 數據依賴</strong></p><p style=text-align:justify>推薦系統作為一個典型的數據算法系統，數據是其最重要的依賴。這裡面主要包括用戶行為數據和物品數據兩大類，前面介紹的各種算法幾乎都是以這兩種數據作為輸入進行計算的。這些數據除了為推薦系統所用，它們也是搜索、展示等其他重要系統的輸入數據，所以作為通用的公共數據和服務，顯然不應該在推薦系統的邊界內部，而應該是外部依賴。需要特別指出的是，雖然有專門的團隊負責行為數據的收集，但是收集到的數據是否符合推薦系統的期望卻不是一件可以想當然的事情。例如，對於結果展示的定義，數據收集團隊認為前端請求到了結果就是展示，但對於推薦系統來說，只有用戶真正看見了才是真實的展示。其中的原因在於數據收集團隊並不直接使用數據，那麼他們就無法保證數據的正確性，這時就需要具體使用數據的業務方，在這裡是推薦團隊，來和他們一起確認數據收集的邏輯是正確的。如果數據收集的邏輯不正確，後面的算法邏輯就是在做無用功。花在確保數據正確上的精力和資源，幾乎總是有收益的。</p><p><strong>▊ 2、平臺工具依賴</strong></p><p style=text-align:justify>推薦系統是一個計算密集型的系統，需要對各種形態的數據做各種計算處理，在此過程中，需要一整套計算平臺工具的支持，典型的如機器學習平臺、實時計算平臺、離線計算平臺、其他平臺工具等。在一個較為理想的環境中，這些平臺工具都是由專門的團隊來構建和維護的。而在一些場景下，推薦系統可能是整個組織中最早使用這些技術的系統，推薦業務也還沒有重要和龐大到需要老闆專門配備一個平臺團隊為之服務的程度，在這種情況下，其中的一些平臺工具就需要推薦系統的團隊自己負責來構建和維護了。為了簡化邏輯，下面我們假設這些平臺工具都是獨立於推薦系統存在的，屬於推薦系統的外部依賴。</p><p style=text-align:justify>在對外輸出方面，系統邊界的劃定會根據公司組織的不同有所差異。例如，在一些公司中，推薦團隊負責的是與推薦相關的整個系統，在輸出方面的體現就是從算法邏輯到結果展示，這時候系統的邊界就要延伸到最終的結果展示。而在另外一些公司中，前端展示是由一個大團隊統一負責的，這時候推薦系統只需要給出要展示的物品ID和相關展示信息即可，前端團隊會負責統一展示這些物品信息。這兩種模式沒有絕對的好壞之分，重要的是要與整個技術團隊的規劃和架構相統一。在本書中，為了敘述簡便，我們不討論前端展示涉及的內容，只專注於推薦結果的生產邏輯。</p><p style=text-align:justify>推薦系統的效果和性能在一定程度上取決於這些依賴系統，所以在尋求推薦系統的優化目標時，目光不能只看到推薦系統本身，很多時候這些依賴系統也是重要的效果提升來源。例如，物品信息的變更如果能被更快地通知到推薦系統，那麼推薦系統的時效性就會更好，給到用戶的結果也就會更好；再如，用戶行為數據收集的準確性能有所提高的話，對應的相關性算法的準確性也會隨之提高。在有些情況下，外部系統升級會比優化算法有更大的效果提升。當然，推薦系統的問題也可能來自這些外部的依賴系統。例如，前端渲染展示速度的延遲會導致用戶點擊率的顯著下降，因為這會讓用戶失去耐心。所以，當推薦系統指標出現下降時，不光要從內部找問題，也要把思路拓展到系統外部，從全局的角度去找問題。綜合來講，外部依賴的存在啟發我們要從全鏈條、全系統的角度來看問題，找問題，以及設計優化方法。<br></p><h1 class=pgc-h-arrow-right>3　離線層、在線層和近線層架構</h1><p style=text-align:justify>架構設計有很多不同的切入方式，最簡單也是最常用的一種方式就是先決定某個模塊或邏輯是運行在離線層、在線層還是近線層。這三層的對比如下。</p><div class=pgc-img><img alt=超詳細丨完整的推薦系統架構設計 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/f4a953cb126742dda8dab3fe1b91dbf1><p class=pgc-img-caption></p></div><p>任何使用非實時數據、提供非實時服務的邏輯模塊，都可以被定義為離線模塊。其典型代表是離線的協同過濾算法，以及一些離線的標籤挖掘類算法。離線層通常用來進行大數據量的計算，由於計算是離線進行的，因此用到的數據也都是非實時數據，最終會產出一份非實時的離線數據，供下游進一步處理使用。與離線層相對的是在線層，也常被稱為服務層，這一層的核心功能是對外提供服務，實時處理調用方的請求。這一層的典型代表是推薦系統的對外服務接口，接受實時調用並返回結果。在線層提供的服務是實時的，但用到的數據卻不一定侷限於實時數據，也可以使用離線計算好的各種數據，例如相關性數據或標籤數據等，但前提是這些數據已經以對實時友好的形態被存儲起來。</p><p style=text-align:justify>近線層則處於離線層和在線層的中間位置，是一個比較奇妙的層。這一層的典型特點就是：使用實時數據（也會使用非實時數據），但不提供實時服務，而是提供一種近實時的服務。所謂近實時指的是越快越好，但並不強求像在線層一樣在幾十毫秒內給出結果，因為通常在近線層計算的結果會寫入緩存系統，供在線層讀取，做了一層隔離，因此對時效性無強要求。其典型代表是我們前面講過的實時協同過濾算法，該算法通過用戶的實時行為計算最新的相關性結果，但這些計算結果並不是實時提供給用戶的，而是要等到用戶發起請求時才會把最新的結果提供給他使用。</p><p style=text-align:justify><strong>下面詳細介紹每一層的特點、案例和具體分析。</strong></p><h1 class=pgc-h-arrow-right>4 離線層架構</h1><p style=text-align:justify>離線層是推薦系統中承擔最大計算量的一個部分，很大一部分的相關性計算、標籤挖掘以及用戶畫像挖掘工作都是在這一層進行的。這一層的任務具有的普遍特點是使用大量數據以及較為複雜的算法進行計算和挖掘。所謂大量數據，通常指的是可以使用較長時間段的用戶行為數據和全量的物品數據；而在算法方面，可以使用較為複雜的模型或算法，對性能的壓力相對較小。對應地，離線層的任務也有缺點，就是在時間上存在滯後性。由於離線任務通常是按天級別運行的，用戶行為或物品信息的變更也要等一天甚至更久才能夠被反映到計算結果中。在離線層雖然進行的是離線作業，但其生產出來的數據通常是被實時使用的，因此離線數據在生產出來之後還需要同步到方便在線層讀取的地方，例如數據庫、在線緩存等。</p><p style=text-align:justify>在具體實踐中，經常放在離線層執行的任務主要包括：協同過濾等行為類相關性算法計算、用戶標籤挖掘、物品標籤挖掘、用戶長期興趣挖掘、機器學習模型排序等。仔細分析這些任務，會發現它們都符合上面提到的特點。這些任務的具體流程各不相同，但大體上都遵循一個共同的邏輯流程。</p><div class=pgc-img><img alt=超詳細丨完整的推薦系統架構設計 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1356cf70e55c4ba7955b07c5d37ccf2d><p class=pgc-img-caption>離線層邏輯架構圖</p></div><p style=text-align:justify>在這個邏輯架構圖中，離線算法的數據來源主要有兩大類：一類是HDFS/Hive這樣的分佈式文件系統，通常用來存儲收集到的用戶行為日誌以及其他服務器日誌；另一類是RDBMS這樣的關係數據庫，通常用來存儲商品等物品信息。離線算法會從輸入數據源獲取原始數據並進行預處理，例如，協同過濾算法會先把數據處理成兩個倒排表，LDA算法會先對物品文本做分詞處理，等等，我們將預處理後的數據統一稱為訓練數據（雖然有些離線算法並不是機器學習算法）。預處理這一步值得單獨拿出來講，這是因為很多算法用到的預處理是高度類似的，例如，文本標籤類算法需要先對原始文本進行分詞或詞性標註，行為類相關性算法需要先將行為數據按用戶聚合，點擊率模型需要先將數據按照點擊/展示進行聚合整理，等等。所以在設計離線挖掘的整體架構時，有必要有針對性地將數據預處理流程單獨提煉出來，以方便後面的流程使用，做到更好的可擴展性和可複用性。下一步是各種推薦算法或機器學習模型基於各自的訓練數據進行挖掘計算，得到挖掘結果。離線計算用到的工具通常包括Hadoop、Spark等，結果可能是一份協同過濾相關性數據，可能是物品的文本主題特徵，也可能是結果排序模型。接下來，為了讓挖掘結果能夠被後面的流程所使用，需要將挖掘結果同步到不同的存儲系統中。一般來說，如果挖掘結果要被用作下游離線流程的輸入，是一份中間結果，那麼通常它會被再次同步到Hive或HDFS這樣的分佈式文件系統中；如果挖掘結果要被最終的推薦服務在線實時使用，那麼它就需要被同步到Redis或RDBMS這樣對實時訪問更為友好的存儲系統中。至此，一個完整的離線挖掘流程就完成了。</p><p style=text-align:justify>上面講到離線任務通常以天為單位來執行，但是在很多情況下，提高作業的運行頻率以及對應的數據同步頻率，例如從一天一次提升到一天多次，都會對推薦系統的效果有提升作用，因為這些都可以被理解為在做時效性方面的優化。一種極限的思想是，當我們把作業的運行頻率提高到極致時，例如每分鐘甚至每幾秒鐘運行一次作業，離線任務就變成了近線任務。當然，在這種情況下就需要對離線算法做相應的修改以適應近線計算的要求，例如前面介紹過的實時協同過濾算法就是對原始協同過濾算法的修改，以及將機器學習的模型訓練過程從離線改為在線。</p><p style=text-align:justify>所以，雖然我們會把某些任務放到離線層來執行，但並不代表這些任務就只能是離線任務。我們要深入理解為什麼將這些任務放在離線層來執行，在什麼情況下可以提高其運行頻率，甚至變為近線任務，以及這樣做的好處和代價是什麼。只有做到這一點，才能夠做到融會貫通，不被當前的表象迷住眼睛。一種典型的情況是，當實時計算或流計算平臺資源不足，或者開發人力資源不足時，我們傾向於把更多的任務放到離線層來執行，因為離線計算對時效性要求較低，出錯之後影響也較小。綜合來說，就是容錯度較高，適合在整體資源受限的情況下優先選擇。而隨著平臺的不斷完善，以及人力資源的不斷補充，就可以把一些對時效敏感的任務放到近線層來執行，以獲得更好的收益。</p><h1 class=pgc-h-arrow-right>5　近線層架構</h1><p style=text-align:justify>有了上面的鋪墊，近線層的存在理由和價值就比較明確了，從生產力發展的角度來看，可以認為它是實時計算平臺工具發展到一定程度對離線計算的自然改造；而從推薦系統需求的角度來看，它是各種推薦算法追求實時化效果提升的一種自然選擇。</p><p style=text-align:justify>近線層和離線層最大的差異在於，它可以獲取到實時數據，並有能力對實時數據進行實時或近實時的計算。也正是由於這個特點，近線層適合用來執行對時效比較敏感的計算任務，例如實時的數據統計等，以及實時執行能夠獲得較大效果提升的任務，例如一些實時的相關性算法計算或標籤提取算法計算。近線層在計算時可使用實時數據，也可使用離線生成的數據，在提供服務時，由於無須直接響應用戶請求，因此也不用提供實時服務，而是通常會將數據寫入對實時服務友好的在線緩存中，方便實時服務讀取，同時也會同步到離線端做備份使用。</p><p style=text-align:justify>通常放在近線層執行的任務包括實時指標統計、用戶的實時興趣計算、實時相關性算法計算、物品的實時標籤挖掘、推薦結果的去重、機器學習模型統計類特徵的實時更新、機器學習模型的在線更新等，這些任務通常會以如下兩種方式進行計算。</p><p style=text-align:justify>個體實時：所謂個體實時，指的是每個實時數據點到來時都會觸發一次計算，做到真正意義上的實時。典型的工具代表是Storm和Flink。</p><p style=text-align:justify>批量實時：很多時候並不需要到來一個實時數據點就計算一次，因為這會帶來大量的計算和I/O，而是可以將一定的時間窗口或一定數量的數據收集起來，以小批次為單位進行計算，這可以有效減少I/O量。這種妥協對於很多應用來說，只要時間窗口不太大，就不會帶來效果的顯著下降。典型的工具代表是Spark Streaming。</p><p style=text-align:justify>下面展示了典型的近線層計算架構圖。</p><div class=pgc-img><img alt=超詳細丨完整的推薦系統架構設計 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0ceb8014353e4837859a5dae55669cc9><p class=pgc-img-caption></p></div><p style=text-align:justify>從數據源接入的角度來看，近線層主要使用實時數據進行計算，這就引出了近線層和離線層的一個主要區別：近線層的計算通常是事件觸發的，而離線層的計算通常是時間觸發的。事件觸發意味著對計算擁有更多的主動權和選擇權，但時間觸發則無法主動做出選擇。事件觸發意味著每個事件發生之後都會得到通知，但是否要計算以及計算什麼是可以自己選擇的。例如，可以選擇只捕捉滿足某種條件的事件，或者等事件累積到一定程度時再計算，等等。所以，當某個任務的觸發條件是某個事件發生之後進行計算，那麼這個任務就很適合放在近線層來執行。例如推薦結果的去重，需要在用戶瀏覽過該物品之後將其加入一個去重集合中，這就是一個典型的事件觸發的計算任務。此外，近線層的計算是可以使用離線數據的，但前提是需要提前將這些數據同步到對實時計算友好的存儲系統中。</p><p style=text-align:justify>在近線層中執行的典型任務包括但不限於：</p><ul><li><strong>特徵的實時更新。</strong>例如，根據用戶的實時點擊行為實時更新各維度的點擊率特徵。</li><li><strong>用戶實時興趣的計算。</strong>根據用戶實時的喜歡和不喜歡行為計算其當下實時興趣的變化。</li><li><strong>物品實時標籤的計算。</strong>例如，在第6章用戶畫像系統中介紹過的實時提取標籤的流程。</li><li><strong>算法模型的在線更新。</strong>通過實時消息隊列接收和拼接實時樣本，採用FTRL等在線更新算法來更新模型，並將更新後的模型推送到線上。</li><li><strong>推薦結果的去重。</strong>用戶兩次請求之間是有時間間隔的，所以無須在處理實時請求時進行去重，而是可以將這個信息通過消息隊列發送給一個專門的服務，在近線層中處理。</li><li><strong>實時相關性算法計算。</strong>典型的如實時協同過濾算法，按照其原理，也可以把隨機遊走等行為類算法改寫為實時計算，放到近線層中執行。</li></ul><p style=text-align:justify>總結起來，凡是可以和實時請求解耦，但需要實時或近實時計算結果的任務，都可以放到近線層中執行。</p><p style=text-align:justify>近線層的實時計算雖然沒有響應時間的要求，但卻存在數據堆積的壓力。具體來說，近線層計算用到的數據大部分是通過Kafka這樣的消息隊列實時發送過來的，在接收到每一個消息或消息窗口之後，如果對消息或消息窗口的計算速度不夠快，就會導致後面的消息堆積。這就像大家都在排隊辦理業務，如果一個業務辦理得太慢，那麼排的隊就會越來越長，長到一定程度就會出問題。所以，近線層的計算邏輯不宜過於複雜，而且近線層讀取的外部數據，例如離線同步好的Redis中的數據，也不宜過多，還有I/O次數不宜過多。這就要求近線層的計算邏輯和用到的數據結構都要經過精心的設計，共同保證近線層的計算效率，以免造成數據堆積。</p><p style=text-align:justify>除了純數據統計類型的任務，以及結果去重這樣的無數據產出的任務，近線層的大多數任務在離線層都有對應的部分，二者有著明顯的優勢和劣勢，因此應該結合起來使用。典型的如實時協同過濾算法，由於引入了實時性，使得它在一些新物品和新用戶上的效果比原始的協同過濾算法的效果好；但由於它只使用實時數據，所以在稀疏性和不穩定性方面的問題也是比較大的，要使用離線版本的協同過濾算法作為補充，才能形成更全面的覆蓋。再比如在近線層執行的用戶實時興趣預測，能夠捕捉到用戶最新鮮的興趣，準確率會比較高；但由於短期興趣易受展示等各種因素影響發生較大的波動，如果完全根據短期興趣來進行推薦的話，則很有可能會陷入局部的信息繭房，產生高度同質的結果，影響用戶的整體體驗。而如果將離線計算的長期興趣和短期興趣相結合，就可以有效避免這個問題，既能利用實時數據取得高相關性，又能利用長期數據取得穩定性和多樣性。從這些例子可以看出，離線層和近線層之間並沒有不可逾越的鴻溝，二者更多的是在效率、效果、穩定性、稀疏性等多個因素之間進行權衡得到的不同選擇，一個優秀的工程師應該做到“碼中有層，心中無層”，才算是對算法和架構做到了融會貫通。</p><p style=text-align:justify>上面講到離線層的任務在一定條件下可以放到近線層來執行，那麼類似地，近線層的任務是否可以放到在線層來執行呢？這個問題其實涉及離線層、近線層這兩層作為整體和在線層的關係。如果把推薦系統比作一支打仗的軍隊，那麼在線層就是在前方衝鋒陷陣的士兵，直接面對敵人的攻擊，而離線層和近線層就是提供支持的支援部門，離線層就像是生產糧食和軍火的大後方，近線層就像是搭橋修路的前方支援部門，二者的本質都是讓前線士兵能夠最高效、最猛烈地打擊敵人，但其業務本質導致它們無法到前線去殺敵。離線層和近線層是推薦系統的生產者，在線層是推薦系統的消費者（也會承擔一定的生產責任），它們有著截然不同的分工和定位，是無法互換的。</p><h1 class=pgc-h-arrow-right>6　在線層架構</h1><p style=text-align:justify>在線層與離線層、近線層最大的差異在於，它是直接面對用戶的，所有的用戶請求都會發送到在線層，而在線層需要快速給出結果。如果抽離掉其他所有細節，這就是在線層最本質的東西。在線層最本質的東西並不是在線計算部分，因為在極端情況下，在接收到用戶請求之後，在線層可以直接從緩存或數據庫中取出結果，返回給用戶，而不做任何額外計算。而事實上，早年還沒有引入機器學習等複雜的算法技術時，絕大多數計算都是在離線層進行的，在線層就起到一個數據傳遞的作用，很多推薦系統基本都是這麼做的，甚至時至今日，這種做法仍然是一種極端情況下的降級方案。</p><p style=text-align:justify>推薦系統發展到現在，尤其是各種機器學習算法的引入，使得我們可以使用的信息越來越多，可用的算法也越來越複雜，給用戶的推薦結果通常是融合了多種召回策略，並且又加了重排序之後的結果，而融合和重排序現在通常是在在線層做的。那麼問題來了：這些複雜計算一定要放到在線層做嗎？為了回答這個問題，不妨假設：如果將所有計算都放在離線層做，在線層只負責按照用戶ID查詢返回結果，是否可行？如果將所有計算都放在離線層做，由於不知道明天會有哪些用戶來訪問系統，所以就需要為每個用戶都計算出推薦結果，這要求我們計算出全平臺所有用戶的推薦結果，而對於那些明天沒有來訪問系統的用戶，今天的計算就浪費掉了。但這仍然不夠，因為明天還會有新來的用戶，這些用戶的信息在當前計算時是拿不到的，所以，即使今天離線計算出了所有當前用戶的推薦結果，明天也還會有大量覆蓋不到的用戶。這就是將上面提到的複雜計算一定要放在在線層做的第一個主要原因：只有按需實時計算才能覆蓋到所有用戶，並且不會產生計算的浪費。從另一個角度來看，如果今天就把用戶的推薦結果完全計算出來，若用戶明天的實時行為表達出來的興趣和今天的不相符，或者機器學習模型中一些關鍵特徵的取值發生了變化，那麼推薦結果就會不準確，並且無法及時調整。例如，用戶昨天看的是手機，今天打算買衣服，但我們昨天計算出的推薦結果是以手機為主的，那麼用戶今天的需求是無法滿足的。這就是需要在在線層做複雜計算的第二個主要原因：只有在線實時計算，才能夠充分利用用戶的實時信息，包括實時興趣、實時特徵以及其他近線層計算的結果等。除此以外，還有其他原因，比如實時處理可以快速應對實時發生的業務請求等。以上這些原因共同決定了在線層存在的意義。</p><p style=text-align:justify>從目前的趨勢來看，在線層承擔的工作越來越多，因為大家希望利用的信息越來越多地來自實時計算結果。如果說離線層和近線層是廚房裡的小工，負責一切食材和配料的前期準備工作，那麼在線層就是最後掌勺的大廚，它需要將大家準備好的材料進行組合裝配，最終形成一盤菜。</p><p style=text-align:justify>在線層的典型形態是一個RESTful API，對外提供服務。調用方傳入的參數在不同公司的設計中差異較大，但基本都會包含訪問用戶的ID標識和推薦場景這兩個核心信息，其他信息推薦系統都可以通過這兩個信息從其他地方獲取到。在線層接收到請求後會啟動一套流程，將離線層和近線層生成的數據進行串聯，在毫秒級響應時間內返回給調用方。這套流程的典型步驟包括：</p><ul><li><strong>AB實驗分流</strong></li></ul><p style=text-align:justify>根據用戶ID或請求ID，決定當前用戶要執行的策略版本。</p><ul><li><strong>獲取用戶畫像</strong></li></ul><p style=text-align:justify>根據傳入的用戶ID信息和場景信息，從Redis等緩存中獲取用戶的畫像信息，用在後面的流程中。</p><ul><li><strong>相關性候選集召回</strong></li></ul><p style=text-align:justify>包括行為相關性、內容相關性、上下文相關性、冷啟動物品等多維度候選集的召回。</p><ul><li><strong>候選集融合排序</strong></li></ul><p style=text-align:justify>將上面流程得到的候選集進行融合，再進一步進行機器學習模型排序，最後得到在算法上效果最優的結果列表。在當今推薦系統大量使用機器學習算法的背景下，這一部分的邏輯通常會比較複雜。而為了將機器學習模型預測這一越來越通用的邏輯和推薦主邏輯相剝離，通常也會為機器學習專門搭建一套在線系統，用來提供預測功能，包括對推薦結果的點擊、轉化預測。這樣做的好處是機器學習模型的升級改造不會干擾到推薦系統本身，有利於模塊化維護。</p><ul><li><strong>業務邏輯干預</strong></li></ul><p style=text-align:justify>在完成算法邏輯之前或之後，還需要加入一些業務邏輯，例如去除或減少某些類別的物品，或者出於業務考慮插入一些在算法上非最優的結果，等等。</p><ul><li><strong>拼接展示信息</strong></li></ul><p style=text-align:justify>在一些推薦系統中，推薦服務要負責將展示所需的所有信息集成到一起，這樣調用方拿到結果後就可以直接展示了，而不需要再去獲取其他內容。這看起來是一個負擔，但從某些角度來看也是好事，因為我們可以做一些展示層面的個性化，典型的如根據不同的用戶展示不同的圖片或標題，要知道展示層對於用戶是否對物品感興趣是起著非常重要的作用的，畢竟這是一個處處看臉的時代。Netflix就做過劇集封面個性化的嘗試，相比給所有人展示同樣的封面，個性化封面使得在用戶點擊方面獲得了顯著的提升。</p><p style=text-align:justify>在這套流程中，本書前面介紹過的相關性算法的結果、用戶畫像的結果、用戶興趣模型的結果等都會被串聯起來。</p><p style=text-align:justify>這套流程對應的在線層服務架構圖如下。</p><div class=pgc-img><img alt=超詳細丨完整的推薦系統架構設計 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b12bef0fd99346c1afc94bd66a555ba7><p class=pgc-img-caption></p></div><p style=text-align:justify>在上圖中不僅呈現了在線服務層的流程架構，而且還把它所依賴的數據和服務也一併呈現出來，這樣可以最直接地體現在線層“主廚”的串聯作用。最上面一層在線服務層的流程體現了上面介紹的在線層的典型計算流程。下面所依賴的數據平臺，包含了推薦服務用到的所有數據，如相關性數據、用戶畫像數據、用戶興趣數據，以及與機器學習相關的模型和特徵數據等。這些數據又是通過下面的計算平臺這一層生成的，包括離線層的計算平臺和近線層的計算平臺。這些計算平臺所使用的數據構成了整個推薦系統的數據源，主要包括：物品數據源、行為數據源和外部數據源。</p><p style=text-align:justify>這個架構圖從數據和計算的角度對推薦系統做了分割，跟之前講的離線層和近線層的分割方法是兩種不同的視角，相互正交。經常從不同的視角去抽象、剝離一個系統，有助於我們更全面、更深刻地認識系統。在複雜系統面前，我們的認識過程就像盲人摸象，需要不斷地從新的視角去看待理解它，才能得到更全面的認識。</p><h1 class=pgc-h-arrow-right>7　架構層級對比</h1><p style=text-align:justify>在介紹完離線層、近線層和在線層的架構之後，我們通過下表對它們進行更全面的對比。</p><div class=pgc-img><img alt=超詳細丨完整的推薦系統架構設計 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/52606ff4bbbb45ba985f364d29fa3ea0><p class=pgc-img-caption></p></div><p style=text-align:justify>上表基本上列出了推薦系統的所有主要模塊在架構中的位置，建議讀者從架構的視角對其算法進行回顧，以加深對它們的理解。</p><p style=text-align:center>-------</p><p style=text-align:justify>希望工程師在設計和實現算法時，腦子裡除了有算法和數據，還應多一個架構的維度，能夠從架構工程的角度來考慮算法，做到心中有系統，而不只是一些零散推薦算法的實現，這樣才能構建好一個推薦系統。</p><p style=text-align:center>（完）</p><div class=pgc-img><img alt=超詳細丨完整的推薦系統架構設計 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c0781f9168f74bbbbf6bb60811d1f26e><p class=pgc-img-caption></p></div><p><strong>《從零開始構建企業級推薦系統》</strong>是一本面向實踐的企業級推薦系統開發指南，可以幫助開發者逐步構建一個完整的推薦系統，並提供了持續優化的系統性思路。</p><div class=pgc-img><img alt=超詳細丨完整的推薦系統架構設計 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e809b803b02b4e03a4d3c4a2bad30a9c><p class=pgc-img-caption></p></div><p style=text-align:center><strong>《從零開始構建企業級推薦系統》</strong></p><p style=text-align:center>張相於 著</p><ul><li><strong>舉一綱而萬目張，解一卷而眾篇明</strong></li></ul><p style=text-align:justify>本書旨在與龐雜的領域知識網格中點亮關鍵節點，為讀者的商業化落地開闢泛化通道。</p><ul><li><strong>注重零啟動、全流程、成系統、通用化</strong></li></ul><p style=text-align:justify>用整體、全局思維將商業級推薦系統涉及的算法、模塊、架構與相關性鏈條全線貫通。</p><ul><li><strong>國內首批實踐商業化推薦的老江湖</strong></li></ul><p style=text-align:justify>從噹噹、轉轉到阿里，十年知名電商企業主導推薦系統研發和帶領相關算法團隊經驗。</p><ul><li><strong>產品邏輯、數據、算法、架構四大體系</strong></li></ul><p style=text-align:justify>用真實案例覆蓋電商、新聞、短視頻等主流場景和技術生態，面向工程師與產品經理。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>超詳細</a></li><li><a>推薦</a></li><li><a>系統</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/6a888def.html alt="推薦分佈式文件系統 FastDFS" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ec0369a50bef43748d07ab58f99b6056 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6a888def.html title="推薦分佈式文件系統 FastDFS">推薦分佈式文件系統 FastDFS</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b5647291.html alt="推薦系統經典模型 Wide & Deep 論文剖析" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/SEiBFwO9MhhMOi style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b5647291.html title="推薦系統經典模型 Wide & Deep 論文剖析">推薦系統經典模型 Wide & Deep 論文剖析</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/d23aa19a.html alt=谷歌提出推薦系統模擬平臺RecSim，讓算法與模型開發走上便利的快車道 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RfsnMvFG9vWjJk style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/d23aa19a.html title=谷歌提出推薦系統模擬平臺RecSim，讓算法與模型開發走上便利的快車道>谷歌提出推薦系統模擬平臺RecSim，讓算法與模型開發走上便利的快車道</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1fc3074e.html alt=推薦系統基礎算法系列（一） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ee9ad67647e54ab99dbc4582598d49f2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1fc3074e.html title=推薦系統基礎算法系列（一）>推薦系統基礎算法系列（一）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fad317c.html alt="教程推薦 | 嵌入式系統及應用" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6ebc9a53ee9745cb9658d25e5c1adf57 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fad317c.html title="教程推薦 | 嵌入式系統及應用">教程推薦 | 嵌入式系統及應用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e55aaf9b.html alt="論文推薦 | 袁修孝：航攝影像密集匹配的研究進展與展望" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6Ieh75DBRtmcY style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e55aaf9b.html title="論文推薦 | 袁修孝：航攝影像密集匹配的研究進展與展望">論文推薦 | 袁修孝：航攝影像密集匹配的研究進展與展望</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4653cf8e.html alt=論文推薦｜王濤：國產機載大視場三線陣CCD相機GNSS偏心矢量和IMU視軸偏心角標定技術 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6Ieh75DBRtmcY style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4653cf8e.html title=論文推薦｜王濤：國產機載大視場三線陣CCD相機GNSS偏心矢量和IMU視軸偏心角標定技術>論文推薦｜王濤：國產機載大視場三線陣CCD相機GNSS偏心矢量和IMU視軸偏心角標定技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/031eafc4.html alt=電廠直流系統調試方案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/5e8200036f19e04c25bf style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/031eafc4.html title=電廠直流系統調試方案>電廠直流系統調試方案</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/43600b7e.html alt=推薦10個值得一去的國外神器網站！登錄無需任何手段，實用又有趣 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8716c57443b84bf39d12f7181c19e5d7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/43600b7e.html title=推薦10個值得一去的國外神器網站！登錄無需任何手段，實用又有趣>推薦10個值得一去的國外神器網站！登錄無需任何手段，實用又有趣</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fc3b4b2c.html alt=一文讀懂智能客服：發展歷程、系統搭建、市場推廣 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RbYMTZ55OrJUgU style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fc3b4b2c.html title=一文讀懂智能客服：發展歷程、系統搭建、市場推廣>一文讀懂智能客服：發展歷程、系統搭建、市場推廣</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/51410370.html alt=生活垃圾焚燒發電及蒸汽系統優化改造項目公告 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RcblrbTDBokV23 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/51410370.html title=生活垃圾焚燒發電及蒸汽系統優化改造項目公告>生活垃圾焚燒發電及蒸汽系統優化改造項目公告</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b4913b56.html alt=電驅動橋系統或加快電氣化進程，多個案例共同說明問題 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1539571595921bc5b27eff6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b4913b56.html title=電驅動橋系統或加快電氣化進程，多個案例共同說明問題>電驅動橋系統或加快電氣化進程，多個案例共同說明問題</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c4bdc082.html alt=化學老師推薦：按元素歸類的初中化學方程式集合！考前複習好資料 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e672e532fceb4bde92dc10ca986250ad style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c4bdc082.html title=化學老師推薦：按元素歸類的初中化學方程式集合！考前複習好資料>化學老師推薦：按元素歸類的初中化學方程式集合！考前複習好資料</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5718fd72.html alt="論文推薦 | 閆廣峰：L1範數探測粗差失效的觀測量識別方法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5718fd72.html title="論文推薦 | 閆廣峰：L1範數探測粗差失效的觀測量識別方法">論文推薦 | 閆廣峰：L1範數探測粗差失效的觀測量識別方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9a7b7719.html alt=基於混沌系統的偽隨機數發生器設計 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9a7b7719.html title=基於混沌系統的偽隨機數發生器設計>基於混沌系統的偽隨機數發生器設計</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>