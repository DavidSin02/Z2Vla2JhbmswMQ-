<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Tomcatæ˜¯å¦‚ä½•å¯¦ç¾ç•°æ­¥Servletçš„ï¼Œä½ çŸ¥é“å—ï¼Ÿ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Tomcatæ˜¯å¦‚ä½•å¯¦ç¾ç•°æ­¥Servletçš„ï¼Œä½ çŸ¥é“å—ï¼Ÿ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/0bcf5bea5af74396a75b5443b8557d29"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/64095ff.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/64095ff.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/64095ff.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/64095ff.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/64095ff.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/64095ff.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/64095ff.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/64095ff.html><meta property="article:published_time" content="2020-10-29T20:59:18+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:18+08:00"><meta name=Keywords content><meta name=description content="Tomcatæ˜¯å¦‚ä½•å¯¦ç¾ç•°æ­¥Servletçš„ï¼Œä½ çŸ¥é“å—ï¼Ÿ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/64095ff.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Tomcatæ˜¯å¦‚ä½•å¯¦ç¾ç•°æ­¥Servletçš„ï¼Œä½ çŸ¥é“å—ï¼Ÿ</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><blockquote><p><strong>&lt;æ¨è–¦é–±è®€></strong></p><p><strong><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6747531576701092365/?group_id=6747531576701092365" target=_blank>MySQLè¤‡ç¿’ï¼š20é“å¸¸è¦‹é¢è©¦é¡Œï¼ˆå«ç­”æ¡ˆï¼‰+21æ¢MySQLæ€§èƒ½èª¿å„ªç¶“é©—</a></strong></p><p><strong><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6746159736158159373/?group_id=6746159736158159373" target=_blank>æˆ‘çš„ç¾åœ˜offeræ¶¼æ¶¼äº†ï¼Ÿé–‹ç™¼å·¥ç¨‹å¸«ï¼ˆJavaå´—ï¼‰ä¸‰é¢çµæŸç­‰é€šçŸ¥...</a></strong></p></blockquote><h1>01 å‰è¨€</h1><p>æœ¬ç¯‡æ–‡ç« æˆ‘å€‘ä¾†èŠèŠTomcatæ˜¯å¦‚ä½•å¯¦ç¾ç•°æ­¥Servletçš„ä»¥åŠç•°æ­¥Servletçš„ä½¿ç”¨å ´æ™¯ã€‚</p><div class=pgc-img><img alt=Tomcatæ˜¯å¦‚ä½•å¯¦ç¾ç•°æ­¥Servletçš„ï¼Œä½ çŸ¥é“å—ï¼Ÿ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0bcf5bea5af74396a75b5443b8557d29><p class=pgc-img-caption></p></div><h1>02 æ‰‹æ“¼ä¸€å€‹ç•°æ­¥çš„Servlet</h1><p>æˆ‘å€‘ç›´æ¥è—‰åŠ©SpringBootæ¡†æ¶ä¾†å¯¦ç¾ä¸€å€‹Servlet,é€™è£¡åªå±•ç¤ºServletä»£ç¢¼ï¼š</p><pre>@WebServlet(urlPatterns = "/async",asyncSupported = true)@Slf4jpublic class AsyncServlet extends HttpServlet { ExecutorService executorService =Executors.newSingleThreadExecutor(); @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { //é–‹å•Ÿç•°æ­¥,ç²å–ç•°æ­¥ä¸Šä¸‹æ–‡ final AsyncContext ctx = req.startAsync(); // æäº¤ç·šç¨‹æ± ç•°æ­¥åŸ·è¡Œ executorService.execute(new Runnable() { @Override public void run() { try { log.info("async Service æº–å‚™åŸ·è¡Œäº†"); //æ¨¡æ“¬è€—æ™‚ä»»å‹™ Thread.sleep(10000L); ctx.getResponse().getWriter().print("async servlet"); log.info("async Service åŸ·è¡Œäº†"); } catch (IOException e) { e.printStackTrace(); } catch (InterruptedException e) { e.printStackTrace(); } //æœ€å¾ŒåŸ·è¡Œå®Œæˆå¾Œå®Œæˆå›èª¿ã€‚ ctx.complete(); } }); }</pre><p>ä¸Šé¢çš„ä»£ç¢¼å¯¦ç¾äº†ä¸€å€‹ç•°æ­¥çš„Servlet,å¯¦ç¾äº†doGetæ–¹æ³•æ³¨æ„åœ¨SpringBootä¸­ä½¿ç”¨éœ€è¦å†å•Ÿå‹•é¡åŠ ä¸Š@ServletComponentScanè¨»è§£ä¾†æƒæServletã€‚æ—¢ç„¶ä»£ç¢¼å¯«å¥½äº†ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹å¯¦éš›é‹è¡Œæ•ˆæœã€‚</p><div class=pgc-img><img alt=Tomcatæ˜¯å¦‚ä½•å¯¦ç¾ç•°æ­¥Servletçš„ï¼Œä½ çŸ¥é“å—ï¼Ÿ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d95912ce3b224793a621625516b74f71><p class=pgc-img-caption></p></div><p>æˆ‘å€‘ç™¼é€ä¸€å€‹è«‹æ±‚å¾Œï¼Œçœ‹åˆ°é é¢æœ‰éŸ¿æ‡‰ï¼ŒåŒæ™‚ï¼Œçœ‹åˆ°è«‹æ±‚æ™‚é–“èŠ±è²»äº†10.05s,é‚£éº¼æˆ‘å€‘é€™å€‹Servletç®—æ˜¯èƒ½æ­£å¸¸é‹è¡Œå•¦ã€‚æœ‰åŒå­¸è‚¯å®šæœƒå•ï¼Œé€™ä¸æ˜¯ç•°æ­¥servletå—ï¼Ÿä½ çš„éŸ¿æ‡‰æ™‚é–“ä¸¦æ²’æœ‰åŠ å¿«ï¼Œæœ‰ä»€éº¼ç”¨å‘¢ï¼Ÿå°ï¼Œæˆ‘å€‘çš„éŸ¿æ‡‰æ™‚é–“ä¸¦ä¸èƒ½åŠ å¿«ï¼Œé‚„æ˜¯æœƒå–æ±ºæ–¼æˆ‘å€‘çš„æ¥­å‹™é‚è¼¯ï¼Œä½†æ˜¯æˆ‘å€‘çš„ç•°æ­¥servletè«‹æ±‚å¾Œï¼Œä¾è³´æ–¼æ¥­å‹™çš„ç•°æ­¥åŸ·è¡Œï¼Œæˆ‘å€‘å¯ä»¥ç«‹å³è¿”å›ï¼Œä¹Ÿå°±æ˜¯èªªï¼ŒTomcatçš„ç·šç¨‹å¯ä»¥ç«‹å³å›æ”¶ï¼Œé»˜èªæƒ…æ³ä¸‹ï¼ŒTomcatçš„æ ¸å¿ƒç·šç¨‹æ˜¯<strong>10</strong>ï¼Œæœ€å¤§ç·šç¨‹æ•¸æ˜¯<strong>200</strong>,æˆ‘å€‘èƒ½åŠæ™‚å›æ”¶ç·šç¨‹ï¼Œä¹Ÿå°±æ„å‘³è‘—æˆ‘å€‘èƒ½è™•ç†æ›´å¤šçš„è«‹æ±‚ï¼Œèƒ½å¤ å¢åŠ æˆ‘å€‘çš„ååé‡ï¼Œé€™ä¹Ÿæ˜¯ç•°æ­¥Servletçš„ä¸»è¦ä½œç”¨ã€‚</p><h1>03 ç•°æ­¥Servletçš„å…§éƒ¨åŸç†</h1><p>ç­è§£å®Œç•°æ­¥Servletçš„ä½œç”¨å¾Œï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹ï¼ŒTomcatæ˜¯å¦‚ä½•æ˜¯å…ˆç•°æ­¥Servletçš„ã€‚å…¶å¯¦ä¸Šé¢çš„ä»£ç¢¼ï¼Œä¸»è¦æ ¸å¿ƒé‚è¼¯å°±å…©éƒ¨åˆ†ï¼Œfinal AsyncContext ctx = req.startAsync()å’Œctx.complete()é‚£æˆ‘å€‘ä¾†çœ‹çœ‹ä»–å€‘ç©¶ç«Ÿåšäº†ä»€éº¼ï¼Ÿ</p><pre> public AsyncContext startAsync(ServletRequest request, ServletResponse response) { if (!isAsyncSupported()) { IllegalStateException ise = new IllegalStateException(sm.getString("request.asyncNotSupported")); log.warn(sm.getString("coyoteRequest.noAsync", StringUtils.join(getNonAsyncClassNames())), ise); throw ise; } if (asyncContext == null) { asyncContext = new AsyncContextImpl(this); } asyncContext.setStarted(getContext(), request, response, request==getRequest() &amp;&amp; response==getResponse().getResponse()); asyncContext.setTimeout(getConnector().getAsyncTimeout()); return asyncContext; }</pre><p>æˆ‘å€‘ç™¼ç¾req.startAsync()åªæ˜¯ä¿å­˜äº†ä¸€å€‹ç•°æ­¥ä¸Šä¸‹æ–‡ï¼ŒåŒæ™‚è¨­ç½®ä¸€äº›åŸºç¤ä¿¡æ¯ï¼Œæ¯”å¦‚Timeout,é †ä¾¿æä¸€ä¸‹ï¼Œé€™è£¡è¨­ç½®çš„é»˜èªè¶…æ™‚æ™‚é–“æ˜¯<strong>30S</strong>ï¼Œå¦‚æœä½ çš„ç•°æ­¥è™•ç†é‚è¼¯è¶…é<strong>30S</strong>,æ­¤æ™‚åŸ·è¡Œctx.complete()å°±æœƒæ‹‹å‡ºIllegalStateException ç•°å¸¸ã€‚</p><p>æˆ‘å€‘ä¾†çœ‹çœ‹ctx.complete()çš„é‚è¼¯</p><pre> public void complete() { if (log.isDebugEnabled()) { logDebug("complete "); } check(); request.getCoyoteRequest().action(ActionCode.ASYNC_COMPLETE, null); }//é¡ï¼šAbstractProcessor  public final void action(ActionCode actionCode, Object param) { case ASYNC_COMPLETE: { clearDispatches(); if (asyncStateMachine.asyncComplete()) { processSocketEvent(SocketEvent.OPEN_READ, true); } break; }  } //é¡ï¼šAbstractProcessor protected void processSocketEvent(SocketEvent event, boolean dispatch) { SocketWrapperBase&lt;?&gt; socketWrapper = getSocketWrapper(); if (socketWrapper != null) { socketWrapper.processSocket(event, dispatch); } } //é¡ï¼šAbstractEndpointpublic boolean processSocket(SocketWrapperBase&lt;S&gt; socketWrapper, SocketEvent event, boolean dispatch) { //çœç•¥éƒ¨åˆ†ä»£ç¢¼ SocketProcessorBase&lt;S&gt; sc = null; if (processorCache != null) { sc = processorCache.pop(); } if (sc == null) { sc = createSocketProcessor(socketWrapper, event); } else { sc.reset(socketWrapper, event); } Executor executor = getExecutor(); if (dispatch &amp;&amp; executor != null) { executor.execute(sc); } else { sc.run(); }  return true; }</pre><p>æ‰€ä»¥ï¼Œé€™è£¡æœ€çµ‚æœƒèª¿ç”¨AbstractEndpointçš„processSocketæ–¹æ³•ï¼Œä¹‹å‰çœ‹éæˆ‘å‰é¢åšå®¢çš„åŒå­¸æ‡‰è©²æœ‰å°è±¡ï¼ŒEndPointæ˜¯ç”¨ä¾†æ¥å—å’Œè™•ç†è«‹æ±‚çš„ï¼Œæ¥ä¸‹ä¾†å°±æœƒäº¤çµ¦Processorå»é€²è¡Œå”è­°è™•ç†ã€‚</p><pre>é¡ï¼šAbstractProcessorLightpublic SocketState process(SocketWrapperBase&lt;?&gt; socketWrapper, SocketEvent status) throws IOException { //çœç•¥éƒ¨åˆ†diam SocketState state = SocketState.CLOSED; Iterator&lt;DispatchType&gt; dispatches = null; do { if (dispatches != null) { DispatchType nextDispatch = dispatches.next(); state = dispatch(nextDispatch.getSocketStatus()); } else if (status == SocketEvent.DISCONNECT) {  } else if (isAsync() || isUpgrade() || state == SocketState.ASYNC_END) { state = dispatch(status); if (state == SocketState.OPEN) { state = service(socketWrapper); } } else if (status == SocketEvent.OPEN_WRITE) { state = SocketState.LONG; } else if (status == SocketEvent.OPEN_READ){ state = service(socketWrapper); } else { state = SocketState.CLOSED; } } while (state == SocketState.ASYNC_END || dispatches != null &amp;&amp; state != SocketState.CLOSED); return state; }</pre><p>é€™éƒ¨åˆ†æ˜¯é‡é»ï¼ŒAbstractProcessorLightæœƒæ ¹æ“šSocketEventçš„ç‹€æ…‹ä¾†åˆ¤æ–·æ˜¯ä¸æ˜¯è¦å»èª¿ç”¨service(socketWrapper),è©²æ–¹æ³•æœ€çµ‚æœƒå»èª¿ç”¨åˆ°å®¹å™¨ï¼Œå¾è€Œå®Œæˆæ¥­å‹™é‚è¼¯çš„èª¿ç”¨ï¼Œæˆ‘å€‘é€™å€‹è«‹æ±‚æ˜¯åŸ·è¡Œå®Œæˆå¾Œèª¿ç”¨çš„ï¼Œè‚¯å®šä¸èƒ½é€²å®¹å™¨äº†ï¼Œä¸ç„¶å°±æ˜¯æ­»å¾ªç’°äº†ï¼Œé€™è£¡é€šéisAsync()åˆ¤æ–·ï¼Œå°±æœƒé€²å…¥dispatch(status),æœ€çµ‚æœƒèª¿ç”¨CoyoteAdapterçš„asyncDispatchæ–¹æ³•</p><pre>public boolean asyncDispatch(org.apache.coyote.Request req, org.apache.coyote.Response res, SocketEvent status) throws Exception { //çœç•¥éƒ¨åˆ†ä»£ç¢¼ Request request = (Request) req.getNote(ADAPTER_NOTES); Response response = (Response) res.getNote(ADAPTER_NOTES); boolean success = true; AsyncContextImpl asyncConImpl = request.getAsyncContextInternal(); try { if (!request.isAsync()) { response.setSuspended(false); } if (status==SocketEvent.TIMEOUT) { if (!asyncConImpl.timeout()) { asyncConImpl.setErrorState(null, false); } } else if (status==SocketEvent.ERROR) {  } if (!request.isAsyncDispatching() &amp;&amp; request.isAsync()) { WriteListener writeListener = res.getWriteListener(); ReadListener readListener = req.getReadListener(); if (writeListener != null &amp;&amp; status == SocketEvent.OPEN_WRITE) { ClassLoader oldCL = null; try { oldCL = request.getContext().bind(false, null); res.onWritePossible();//é€™è£¡åŸ·è¡Œç€è¦½å™¨éŸ¿æ‡‰ï¼Œå¯«å…¥æ•¸æ“š if (request.isFinished() &amp;&amp; req.sendAllDataReadEvent() &amp;&amp; readListener != null) { readListener.onAllDataRead(); } } catch (Throwable t) {  } finally { request.getContext().unbind(false, oldCL); } }  } } //é€™è£¡åˆ¤æ–·ç•°æ­¥æ­£åœ¨é€²è¡Œï¼Œèªªæ˜é€™ä¸æ˜¯ä¸€å€‹å®Œæˆæ–¹æ³•çš„å›èª¿ï¼Œæ˜¯ä¸€å€‹æ­£å¸¸ç•°æ­¥è«‹æ±‚ï¼Œç¹¼çºŒèª¿ç”¨å®¹å™¨ã€‚ if (request.isAsyncDispatching()) { connector.getService().getContainer().getPipeline().getFirst().invoke( request, response); Throwable t = (Throwable) request.getAttribute(RequestDispatcher.ERROR_EXCEPTION); if (t != null) { asyncConImpl.setErrorState(t, true); } } //æ³¨æ„ï¼Œé€™è£¡ï¼Œå¦‚æœè¶…æ™‚æˆ–è€…å‡ºéŒ¯ï¼Œrequest.isAsync()æœƒè¿”å›falseï¼Œé€™è£¡æ˜¯ç‚ºäº†å„˜å¿«çš„è¼¸å‡ºéŒ¯èª¤çµ¦å®¢æˆ¶ç«¯ã€‚ if (!request.isAsync()) { //é€™è£¡ä¹Ÿæ˜¯è¼¸å‡ºé‚è¼¯ request.finishRequest(); response.finishResponse(); } //éŠ·ç‡¬requestå’Œresponse if (!success || !request.isAsync()) { updateWrapperErrorCount(request, response); request.recycle(); response.recycle(); } } return success; }</pre><p>ä¸Šé¢çš„ä»£ç¢¼å°±æ˜¯ctx.complete()åŸ·è¡Œæœ€çµ‚çš„æ–¹æ³•äº†ï¼ˆç•¶ç„¶çœç•¥äº†å¾ˆå¤šç´°ç¯€ï¼‰ï¼Œå®Œæˆäº†æ•¸æ“šçš„è¼¸å‡ºï¼Œæœ€çµ‚è¼¸å‡ºåˆ°ç€è¦½å™¨ã€‚</p><p>é€™è£¡æœ‰åŒå­¸å¯èƒ½æœƒèªªï¼Œæˆ‘çŸ¥é“ç•°æ­¥åŸ·è¡Œå®Œå¾Œï¼Œèª¿ç”¨ctx.complete()æœƒè¼¸å‡ºåˆ°ç€è¦½å™¨ï¼Œä½†æ˜¯ï¼Œç¬¬ä¸€æ¬¡doGetè«‹æ±‚åŸ·è¡Œå®Œæˆå¾Œï¼ŒTomcatæ˜¯æ€éº¼çŸ¥é“ä¸ç”¨è¿”å›åˆ°å®¢æˆ¶ç«¯çš„å‘¢ï¼Ÿé—œéµä»£ç¢¼åœ¨CoyoteAdapterä¸­çš„serviceæ–¹æ³•ï¼Œéƒ¨åˆ†ä»£ç¢¼å¦‚ä¸‹ï¼š</p><pre> postParseSuccess = postParseRequest(req, request, res, response); //çœç•¥éƒ¨åˆ†ä»£ç¢¼ if (postParseSuccess) { request.setAsyncSupported( connector.getService().getContainer().getPipeline().isAsyncSupported()); connector.getService().getContainer().getPipeline().getFirst().invoke( request, response); } if (request.isAsync()) { async = true; } else { //è¼¸å‡ºæ•¸æ“šåˆ°å®¢æˆ¶ç«¯ request.finishRequest(); response.finishResponse(); if (!async) { updateWrapperErrorCount(request, response); //éŠ·ç‡¬requestå’Œresponse request.recycle(); response.recycle(); }</pre><p>é€™éƒ¨åˆ†ä»£ç¢¼åœ¨èª¿ç”¨å®ŒServletå¾Œï¼Œæœƒé€šérequest.isAsync()ä¾†åˆ¤æ–·æ˜¯å¦æ˜¯ç•°æ­¥è«‹æ±‚ï¼Œå¦‚æœæ˜¯ç•°æ­¥è«‹æ±‚ï¼Œå°±è¨­ç½®async = trueã€‚å¦‚æœæ˜¯éç•°æ­¥è«‹æ±‚å°±åŸ·è¡Œè¼¸å‡ºæ•¸æ“šåˆ°å®¢æˆ¶ç«¯é‚è¼¯ï¼ŒåŒæ™‚éŠ·ç‡¬requestå’Œresponseã€‚é€™è£¡å°±å®Œæˆäº†è«‹æ±‚çµæŸå¾Œä¸éŸ¿æ‡‰å®¢æˆ¶ç«¯çš„æ“ä½œã€‚</p><h1>04 ç‚ºä»€éº¼èªªSpring Bootçš„@EnableAsyncè¨»è§£ä¸æ˜¯ç•°æ­¥Servlet</h1><p>å› ç‚ºä¹‹å‰æº–å‚™å¯«æœ¬ç¯‡æ–‡ç« çš„æ™‚å€™å°±æŸ¥è©¢éå¾ˆå¤šè³‡æ–™ï¼Œç™¼ç¾å¾ˆå¤šè³‡æ–™å¯«SpringBootç•°æ­¥ç·¨ç¨‹éƒ½æ˜¯ä¾è³´æ–¼@EnableAsyncè¨»è§£ï¼Œç„¶å¾Œåœ¨Controllerç”¨å¤šç·šç¨‹ä¾†å®Œæˆæ¥­å‹™é‚è¼¯ï¼Œæœ€å¾Œå½™ç¸½çµæœï¼Œå®Œæˆè¿”å›è¼¸å‡ºã€‚é€™è£¡æ‹¿ä¸€å€‹å¤§ä½¬çš„æ–‡ç« ä¾†èˆ‰ä¾‹ã€Šæ–°æ‰‹ä¹Ÿèƒ½çœ‹æ‡‚çš„ SpringBoot ç•°æ­¥ç·¨ç¨‹æŒ‡å—ã€‹ï¼Œé€™ç¯‡æ–‡ç« å¯«å¾—å¾ˆé€šä¿—æ˜“æ‡‚ï¼Œéå¸¸ä¸éŒ¯ï¼Œå¾æ¥­å‹™å±¤é¢ä¾†èªªï¼Œç¢ºå¯¦æ˜¯ç•°æ­¥ç·¨ç¨‹ï¼Œä½†æ˜¯æœ‰ä¸€å€‹å•é¡Œï¼Œæ‹‹é–‹æ¥­å‹™çš„ä¸¦è¡Œè™•ç†ä¾†èªªï¼Œé‡å°æ•´å€‹è«‹æ±‚ä¾†èªªï¼Œä¸¦ä¸æ˜¯ç•°æ­¥çš„ï¼Œä¹Ÿå°±æ˜¯èªªä¸èƒ½ç«‹å³é‡‹æ”¾Tomcatçš„ç·šç¨‹ï¼Œå¾è€Œä¸èƒ½é”åˆ°ç•°æ­¥Servletçš„æ•ˆæœã€‚é€™è£¡æˆ‘åƒè€ƒä¸Šæ–‡ä¹Ÿå¯«äº†ä¸€å€‹demoï¼Œæˆ‘å€‘ä¾†é©—è­‰ä¸‹ï¼Œç‚ºä»€éº¼å®ƒä¸æ˜¯ç•°æ­¥çš„ã€‚</p><pre>@RestController@Slf4jpublic class TestController { @Autowired private TestService service; @GetMapping("/hello") public String test() { try { log.info("testAsynch Start"); CompletableFuture&lt;String&gt; test1 = service.test1(); CompletableFuture&lt;String&gt; test2 = service.test2(); CompletableFuture&lt;String&gt; test3 = service.test3(); CompletableFuture.allOf(test1, test2, test3); log.info("test1=====" + test1.get()); log.info("test2=====" + test2.get()); log.info("test3=====" + test3.get()); } catch (InterruptedException e) { e.printStackTrace(); } catch (ExecutionException e) { e.printStackTrace(); } return "hello"; }@Servicepublic class TestService { @Async("asyncExecutor") public CompletableFuture&lt;String&gt; test1() throws InterruptedException { Thread.sleep(3000L); return CompletableFuture.completedFuture("test1"); } @Async("asyncExecutor") public CompletableFuture&lt;String&gt; test2() throws InterruptedException { Thread.sleep(3000L); return CompletableFuture.completedFuture("test2"); } @Async("asyncExecutor") public CompletableFuture&lt;String&gt; test3() throws InterruptedException { Thread.sleep(3000L); return CompletableFuture.completedFuture("test3"); }}@SpringBootApplication@EnableAsyncpublic class TomcatdebugApplication { public static void main(String[] args) { SpringApplication.run(TomcatdebugApplication.class, args); } @Bean(name = "asyncExecutor") public Executor asyncExecutor() { ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor(); executor.setCorePoolSize(3); executor.setMaxPoolSize(3); executor.setQueueCapacity(100); executor.setThreadNamePrefix("AsynchThread-"); executor.initialize(); return executor; }</pre><p>é€™è£¡æˆ‘é‹è¡Œä¸‹ï¼Œçœ‹çœ‹æ•ˆæœ</p><div class=pgc-img><img alt=Tomcatæ˜¯å¦‚ä½•å¯¦ç¾ç•°æ­¥Servletçš„ï¼Œä½ çŸ¥é“å—ï¼Ÿ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4d1b5006dfb54876be61a5df981f87d3><p class=pgc-img-caption></p></div><p>é€™è£¡æˆ‘è«‹æ±‚ä¹‹å¾Œï¼Œåœ¨èª¿ç”¨å®¹å™¨åŸ·è¡Œæ¥­å‹™é‚è¼¯ä¹‹å‰æ‰“äº†ä¸€å€‹æ–·é»ï¼Œç„¶å¾Œåœ¨è¿”å›ä¹‹å¾Œçš„åŒæ¨£æ‰“äº†ä¸€å€‹æ–·é»ï¼Œåœ¨ControlleråŸ·è¡Œå®Œä¹‹å¾Œï¼Œè«‹æ±‚æ‰å›åˆ°äº†CoyoteAdapterä¸­ï¼Œä¸¦ä¸”åˆ¤æ–·request.isAsync(),æ ¹æ“šåœ–ä¸­çœ‹åˆ°ï¼Œæ˜¯ç‚ºfalse,é‚£éº¼æ¥ä¸‹ä¾†å°±æœƒåŸ·è¡Œrequest.finishRequest()å’Œresponse.finishResponse() ä¾†åŸ·è¡ŒéŸ¿æ‡‰çš„çµæŸï¼Œä¸¦éŠ·ç‡¬è«‹æ±‚å’ŒéŸ¿æ‡‰é«”ã€‚å¾ˆæœ‰è¶£çš„äº‹æƒ…æ˜¯ï¼Œæˆ‘å¯¦é©—çš„æ™‚å€™ç™¼ç¾ï¼Œåœ¨åŸ·è¡Œrequest.isAsync()ä¹‹å‰ï¼Œç€è¦½å™¨çš„é é¢ä¸Šå·²ç¶“å‡ºç¾äº†éŸ¿æ‡‰é«”ï¼Œé€™æ˜¯SpringBootæ¡†æ¶å·²ç¶“é€šéStringHttpMessageConverteré¡ä¸­çš„writeInternalæ–¹æ³•å·²ç¶“é€²è¡Œè¼¸å‡ºäº†ã€‚</p><p><strong>ä»¥ä¸Šåˆ†æçš„æ ¸å¿ƒé‚è¼¯å°±æ˜¯</strong>ï¼ŒTomcatçš„ç·šç¨‹åŸ·è¡ŒCoyoteAdapterèª¿ç”¨å®¹å™¨å¾Œï¼Œå¿…é ˆè¦ç­‰åˆ°è«‹æ±‚è¿”å›ï¼Œç„¶å¾Œå†åˆ¤æ–·æ˜¯å¦æ˜¯ç•°æ­¥è«‹æ±‚ï¼Œå†è™•ç†è«‹æ±‚ï¼Œç„¶å¾ŒåŸ·è¡Œå®Œç•¢å¾Œï¼Œç·šç¨‹æ‰èƒ½é€²è¡Œå›æ”¶ã€‚è€Œæˆ‘ä¸€æœ€é–‹å§‹çš„ç•°æ­¥Servletä¾‹å­ï¼ŒåŸ·è¡Œå®ŒdoGetæ–¹æ³•å¾Œï¼Œå°±æœƒç«‹å³è¿”å›ï¼Œä¹Ÿå°±æ˜¯æœƒç›´æ¥åˆ°request.isAsync()çš„é‚è¼¯ï¼Œç„¶å¾Œæ•´å€‹ç·šç¨‹çš„é‚è¼¯åŸ·è¡Œå®Œç•¢ï¼Œç·šç¨‹è¢«å›æ”¶ã€‚</p><h1>05 èŠèŠç•°æ­¥Servletçš„ä½¿ç”¨å ´æ™¯</h1><p>åˆ†æäº†é€™éº¼å¤šï¼Œé‚£éº¼ç•°æ­¥Servletçš„ä½¿ç”¨å ´æ™¯æœ‰å“ªäº›å‘¢ï¼Ÿå…¶å¯¦æˆ‘å€‘åªè¦æŠ“ä½ä¸€é»å°±å¯ä»¥åˆ†æäº†ï¼Œå°±æ˜¯ç•°æ­¥Servletæé«˜äº†ç³»çµ±çš„ååé‡ï¼Œå¯ä»¥æ¥å—æ›´å¤šçš„è«‹æ±‚ã€‚å‡è¨­webç³»çµ±ä¸­Tomcatçš„ç·šç¨‹ä¸å¤ ç”¨äº†ï¼Œå¤§é‡è«‹æ±‚åœ¨ç­‰å¾…ï¼Œè€Œæ­¤æ™‚Webç³»çµ±æ‡‰ç”¨å±¤é¢çš„å„ªåŒ–å·²ç¶“ä¸èƒ½å†å„ªåŒ–äº†ï¼Œä¹Ÿå°±æ˜¯ç„¡æ³•ç¸®çŸ­æ¥­å‹™é‚è¼¯çš„éŸ¿æ‡‰æ™‚é–“äº†ï¼Œé€™å€‹æ™‚å€™ï¼Œå¦‚æœæƒ³è®“æ¸›å°‘ç”¨æˆ¶çš„ç­‰å¾…æ™‚é–“ï¼Œæé«˜ååé‡ï¼Œå¯ä»¥å˜—è©¦ä¸‹ä½¿ç”¨ç•°æ­¥Servletã€‚</p><p><strong>èˆ‰ä¸€å€‹å¯¦éš›çš„ä¾‹å­</strong>ï¼šæ¯”å¦‚åšä¸€å€‹çŸ­ä¿¡ç³»çµ±ï¼ŒçŸ­ä¿¡ç³»çµ±å°å¯¦æ™‚æ€§è¦æ±‚å¾ˆé«˜ï¼Œæ‰€ä»¥è¦æ±‚ç­‰å¾…æ™‚é–“å„˜å¯èƒ½çŸ­ï¼Œè€Œç™¼é€åŠŸèƒ½æˆ‘å€‘å¯¦éš›ä¸Šæ˜¯å§”è¨—é‹ç‡Ÿå•†å»ç™¼é€çš„ï¼Œä¹Ÿå°±æ˜¯èªªæˆ‘å€‘è¦èª¿ç”¨æ¥å£ï¼Œå‡è¨­ä½µç™¼é‡å¾ˆé«˜ï¼Œé‚£éº¼é€™å€‹æ™‚å€™æ¥­å‹™ç³»çµ±èª¿ç”¨æˆ‘å€‘çš„ç™¼é€çŸ­ä¿¡åŠŸèƒ½ï¼Œå°±æœ‰å¯èƒ½æŠŠæˆ‘å€‘çš„Tomcatç·šç¨‹æ± ç”¨å®Œï¼Œå‰©ä¸‹çš„è«‹æ±‚å°±æœƒåœ¨éšŠåˆ—ä¸­ç­‰å¾…ï¼Œé‚£é€™å€‹æ™‚å€™ï¼ŒçŸ­ä¿¡çš„å»¶æ™‚å°±ä¸Šå»äº†ï¼Œç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œæˆ‘å€‘å¯ä»¥å¼•å…¥ç•°æ­¥Servlet,æ¥å—æ›´å¤šçš„çŸ­ä¿¡ç™¼é€è«‹æ±‚ï¼Œå¾è€Œæ¸›å°‘çŸ­ä¿¡çš„å»¶æ™‚ã€‚</p><h1>06 ç¸½çµ</h1><p>é€™ç¯‡æ–‡ç« æˆ‘å¾æ‰‹å¯«ä¸€å€‹ç•°æ­¥Servletä¾†é–‹å§‹ï¼Œåˆ†æäº†ç•°æ­¥Servletçš„ä½œç”¨ï¼Œä»¥åŠTomcatå…§éƒ¨æ˜¯å¦‚ä½•å¯¦ç¾ç•°æ­¥Servletçš„ï¼Œç„¶å¾Œæˆ‘ä¹Ÿæ ¹æ“šäº’è¯ç¶²ä¸Šæµè¡Œçš„SpringBootç•°æ­¥ç·¨ç¨‹ä¾†é€²è¡Œèªªæ˜ï¼Œå…¶åœ¨Tomcatå…§éƒ¨ä¸¦ä¸æ˜¯ä¸€å€‹ç•°æ­¥çš„Servletã€‚æœ€å¾Œï¼Œæˆ‘è«‡åˆ°äº†ç•°æ­¥Servletçš„ä½¿ç”¨å ´æ™¯ï¼Œåˆ†æäº†ä»€éº¼æƒ…æ³ä¸‹å¯ä»¥å˜—è©¦ç•°æ­¥Servletã€‚</p><p>åŸæ–‡éˆæ¥ï¼šhttps://juejin.im/post/5d872a1b6fb9a06ad16fadb0</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Tomcat</a></li><li><a>å¯¦ç¾</a></li><li><a>ç•°æ­¥</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/e2d4cf85.html alt=å¦‚ä½•å¯¦ç¾ç•°æ­¥é›»å‹•æ©Ÿçš„èª¿é€Ÿï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/36b5dc0bd791464d9128da61b2b20f9b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e2d4cf85.html title=å¦‚ä½•å¯¦ç¾ç•°æ­¥é›»å‹•æ©Ÿçš„èª¿é€Ÿï¼Ÿ>å¦‚ä½•å¯¦ç¾ç•°æ­¥é›»å‹•æ©Ÿçš„èª¿é€Ÿï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3fe83a4.html alt=workmanå¦‚ä½•å¯¦ç¾ç•°æ­¥ä»»å‹™ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3fe83a4.html title=workmanå¦‚ä½•å¯¦ç¾ç•°æ­¥ä»»å‹™>workmanå¦‚ä½•å¯¦ç¾ç•°æ­¥ä»»å‹™</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/325007f.html alt="æ•™ä½ å¦‚ä½•ç”¨ Java å¯¦ç¾ç•°æ­¥èª¿ç”¨" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/325007f.html title="æ•™ä½ å¦‚ä½•ç”¨ Java å¯¦ç¾ç•°æ­¥èª¿ç”¨">æ•™ä½ å¦‚ä½•ç”¨ Java å¯¦ç¾ç•°æ­¥èª¿ç”¨</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f09ac34c.html alt=å½©è‰²é›»å­æ›¸åœ¨å»£å·ç‡å…ˆå¯¦ç¾é‡ç”¢ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RkPMb9G6tipobr style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f09ac34c.html title=å½©è‰²é›»å­æ›¸åœ¨å»£å·ç‡å…ˆå¯¦ç¾é‡ç”¢>å½©è‰²é›»å­æ›¸åœ¨å»£å·ç‡å…ˆå¯¦ç¾é‡ç”¢</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2d12804e.html alt=[ç©è½‰MySQLä¹‹ä¹]MySQLå¯¦ç¾ACIDä¹‹åŸå­æ€§ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/bdb044d821f74107a3fd9119fc34c642 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2d12804e.html title=[ç©è½‰MySQLä¹‹ä¹]MySQLå¯¦ç¾ACIDä¹‹åŸå­æ€§>[ç©è½‰MySQLä¹‹ä¹]MySQLå¯¦ç¾ACIDä¹‹åŸå­æ€§</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fb2bc471.html alt="ã€Œè­¯ã€ Spring çš„åˆ†ä½ˆå¼äº‹å‹™å¯¦ç¾â€”ä½¿ç”¨å’Œä¸ä½¿ç”¨ XAâ€”ç¬¬äºŒéƒ¨åˆ†" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fb2bc471.html title="ã€Œè­¯ã€ Spring çš„åˆ†ä½ˆå¼äº‹å‹™å¯¦ç¾â€”ä½¿ç”¨å’Œä¸ä½¿ç”¨ XAâ€”ç¬¬äºŒéƒ¨åˆ†">ã€Œè­¯ã€ Spring çš„åˆ†ä½ˆå¼äº‹å‹™å¯¦ç¾â€”ä½¿ç”¨å’Œä¸ä½¿ç”¨ XAâ€”ç¬¬äºŒéƒ¨åˆ†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e41fd8de.html alt="æ’«é †å„é …é˜²æ±›å·¥ä½œå¯¦ç¾â€œå…­åˆ°ä½â€ ç¢ºä¿å…¨å¸‚å®‰å…¨åº¦æ±›" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e41fd8de.html title="æ’«é †å„é …é˜²æ±›å·¥ä½œå¯¦ç¾â€œå…­åˆ°ä½â€ ç¢ºä¿å…¨å¸‚å®‰å…¨åº¦æ±›">æ’«é †å„é …é˜²æ±›å·¥ä½œå¯¦ç¾â€œå…­åˆ°ä½â€ ç¢ºä¿å…¨å¸‚å®‰å…¨åº¦æ±›</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f22ee5ad.html alt="Redis è¨­è¨ˆèˆ‡å¯¦ç¾ : Lua è…³æœ¬" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f22ee5ad.html title="Redis è¨­è¨ˆèˆ‡å¯¦ç¾ : Lua è…³æœ¬">Redis è¨­è¨ˆèˆ‡å¯¦ç¾ : Lua è…³æœ¬</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/56e2a065.html alt=é€™ä½å¤§å”åœ¨éš¨æ©Ÿçš„å½©ç¥¨ä¸Šå¯¦ç¾äº†90%çš„ä¸­çç‡ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/50ab0003166decded7e4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/56e2a065.html title=é€™ä½å¤§å”åœ¨éš¨æ©Ÿçš„å½©ç¥¨ä¸Šå¯¦ç¾äº†90%çš„ä¸­çç‡>é€™ä½å¤§å”åœ¨éš¨æ©Ÿçš„å½©ç¥¨ä¸Šå¯¦ç¾äº†90%çš„ä¸­çç‡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html alt="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9d3b0e55813d46b4982ae7d9b81d1802 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html title="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½">Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d0662f03.html alt="å»£è¥¿éµè·¯å‡ºæµ·å¤§é€šé“ å…¨é¢å¯¦ç¾é›»æ°£åŒ–é‹ç‡Ÿ" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d0662f03.html title="å»£è¥¿éµè·¯å‡ºæµ·å¤§é€šé“ å…¨é¢å¯¦ç¾é›»æ°£åŒ–é‹ç‡Ÿ">å»£è¥¿éµè·¯å‡ºæµ·å¤§é€šé“ å…¨é¢å¯¦ç¾é›»æ°£åŒ–é‹ç‡Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c78a6fe2.html alt=HashMapçš„åº•å±¤å¯¦ç¾ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/0f9ffe95e10e4ff5804a8fd9cf591cfc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c78a6fe2.html title=HashMapçš„åº•å±¤å¯¦ç¾>HashMapçš„åº•å±¤å¯¦ç¾</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7c3d9f70.html alt=æ–°ç©çš„æ··åˆææ–™æˆ–æœ‰åŠ©æ–¼å¯¦ç¾é«˜æ•ˆçš„ä¸‹ä¸€ä»£é¡¯ç¤ºå™¨ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/47050004da4f36dcec1b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7c3d9f70.html title=æ–°ç©çš„æ··åˆææ–™æˆ–æœ‰åŠ©æ–¼å¯¦ç¾é«˜æ•ˆçš„ä¸‹ä¸€ä»£é¡¯ç¤ºå™¨>æ–°ç©çš„æ··åˆææ–™æˆ–æœ‰åŠ©æ–¼å¯¦ç¾é«˜æ•ˆçš„ä¸‹ä¸€ä»£é¡¯ç¤ºå™¨</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8d93e49d.html alt=æ•™ç¨‹ï¼šæ¡ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•å¯¦ç¾ç·šæ€§è¿´æ­¸ï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1537162000876f4501fb1c4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8d93e49d.html title=æ•™ç¨‹ï¼šæ¡ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•å¯¦ç¾ç·šæ€§è¿´æ­¸ï¼>æ•™ç¨‹ï¼šæ¡ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•å¯¦ç¾ç·šæ€§è¿´æ­¸ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e8e17d90.html alt=é‡è¦çªç ´ï¼ä¸­åœ‹ç§‘å­¸å®¶å¯¦ç¾åŸºåº•ç´°èƒç™Œ4.1ç§’äººå·¥æ™ºèƒ½ç²¾æº–è­˜åˆ¥ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RtbWBYL9koJMmN style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e8e17d90.html title=é‡è¦çªç ´ï¼ä¸­åœ‹ç§‘å­¸å®¶å¯¦ç¾åŸºåº•ç´°èƒç™Œ4.1ç§’äººå·¥æ™ºèƒ½ç²¾æº–è­˜åˆ¥>é‡è¦çªç ´ï¼ä¸­åœ‹ç§‘å­¸å®¶å¯¦ç¾åŸºåº•ç´°èƒç™Œ4.1ç§’äººå·¥æ™ºèƒ½ç²¾æº–è­˜åˆ¥</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>