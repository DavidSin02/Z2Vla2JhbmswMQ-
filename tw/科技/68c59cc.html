<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>服務網格和API網關在微服務架構中的作用 | 极客快訊</title><meta property="og:title" content="服務網格和API網關在微服務架構中的作用 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/e941a0c6bf964f188b892ebfc20d2d5d"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/68c59cc.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/68c59cc.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/68c59cc.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/68c59cc.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/68c59cc.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/68c59cc.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/68c59cc.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/68c59cc.html><meta property="article:published_time" content="2020-10-29T21:05:53+08:00"><meta property="article:modified_time" content="2020-10-29T21:05:53+08:00"><meta name=Keywords content><meta name=description content="服務網格和API網關在微服務架構中的作用"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/68c59cc.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>服務網格和API網關在微服務架構中的作用</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>以及如何充分利用兩者</h1><div class=pgc-img><img alt=服務網格和API網關在微服務架構中的作用 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/e941a0c6bf964f188b892ebfc20d2d5d><p class=pgc-img-caption>> Image credit: Author</p></div><p></p><p>如果您從事微服務，那麼您可能已經多次聽說過這兩個術語。 人們常常在兩者之間感到困惑。 在本文中，我將詳細討論服務網格和API網關，並討論何時使用。</p><h1 class=pgc-h-arrow-right>網絡層刷新</h1><p>在深入研究服務網格和API網關之前，讓我們重新訪問網絡層。 以下是OSI網絡層模型：</p><div class=pgc-img><img alt=服務網格和API網關在微服務架構中的作用 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/3f73a1f3b334480eac6e822fe26c2980><p class=pgc-img-caption>> Image credit: Author</p></div><p></p><p>進行此更新的原因是，我們將在下一部分中討論其中的一些層。</p><h1 class=pgc-h-arrow-right>服務網格</h1><p>服務網格是一種管理分佈式軟件系統中服務到服務通信的技術。 服務網格管理東西向的網絡通信。 東西向流量表示數據中心，Kubernetes集群或分佈式系統內部的流量。</p><p>服務網格包含兩個重要組件：</p><p>· 控制平面</p><p>· 數據平面</p><p>駐留在應用程序旁邊的代理稱為數據平面，而協調代理行為的管理組件稱為控制平面。</p><div class=pgc-img><img alt=服務網格和API網關在微服務架構中的作用 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/9301de63a5384e3fbd192d4f634747d0><p class=pgc-img-caption>> Service Mesh — Image credit: Author</p></div><p></p><p>服務網格使您可以將應用程序的業務邏輯與網絡，可靠性，安全性和可觀察性分開。</p><h1 class=pgc-h-arrow-right>網絡和流量管理</h1><p>服務網格允許您執行動態服務發現。 Sidecar代理可以幫助您進行負載平衡和速率限制。 它可以幫助您進行流量拆分，以執行A / B類型的測試，這對於發佈Canary版本很有幫助。</p><h1 class=pgc-h-arrow-right>可觀察性和可靠性</h1><p>服務網格支持分佈式跟蹤，可幫助您進行高級監視（請求數，成功率和響應延遲）和調試。 它甚至具有利用服務間通信來更好地理解通信的能力。</p><p>由於服務網格提供了運行狀況檢查，重試，超時和電路中斷，因此可以提高應用程序的基準可靠性。</p><h1 class=pgc-h-arrow-right>安全</h1><p>服務網格允許服務之間的相互TLS，這有助於提高服務到服務通信的安全性。 您還可以將訪問控制列表（ACL）實施為安全策略。</p><p>真正的服務網格/邊車代理支持廣泛的服務，並實現L4 / L7流量策略。</p><p>市場上有許多可用的服務網格。 以下是其中一些：</p><p>· Istio</p><p>· Linkerd</p><p>· uma</p><p>· consul</p><p>您可以在互聯網上找到許多比較上面列出的服務網格的文章。</p><h1 class=pgc-h-arrow-right>API網關</h1><p>API網關充當進入集群，數據中心或一組分佈式服務的單個入口點。 在網絡拓撲中，通常稱為南北向流量。 通常，移動客戶端屬於這種類型的網絡流量。</p><p>人們最終很有可能最終會使用API網關在同一數據中心內部署的兩種產品之間進行通信。 在這種情況下，交通類型可以是東西向。</p><p>API網關接收來自客戶端的調用，並將其路由到適當的服務。 在這樣做的同時，它也可以翻譯協議。</p><div class=pgc-img><img alt=服務網格和API網關在微服務架構中的作用 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/70ddc65896fb4a5a8f5dbc85e02b81e6><p class=pgc-img-caption>> Image credit: Author</p></div><p></p><p>使用API網關有很多好處：</p><p>· 抽象：API網關可以抽象其下的微服務的複雜性，併為客戶端創建統一的體驗</p><p>· 身份驗證：API網關可以處理身份驗證並將令牌信息傳遞給服務</p><p>· 流量控制：API網關可以限制入站和出站API流量</p><p>· API監控/獲利：如果您打算通過API獲利，API網關可以通過提供監視客戶端的API請求/響應的功能來幫助您做到這一點</p><p>· 轉換：API網關可以幫助轉換/轉換API請求/響應。 它還可以幫助協議翻譯。</p><p>API網關通常僅關注L7策略。</p><h1 class=pgc-h-arrow-right>API網關的類型</h1><p>從部署的角度來看，可以使用兩種方式使用API網關：</p><p>· 內部API網關：充當一組服務或產品範圍的網關</p><p>· Edge API網關：充當外部組織的消費者或移動客戶端的網關</p><p>市場上有許多API網關。 以下是其中一些：</p><p>· Apigee</p><p>· NGINX的API網關</p><p>· Software AG的API網關</p><h1 class=pgc-h-arrow-right>何時使用什麼</h1><p>現在您已經瞭解了什麼是服務網格和API網關，讓我們嘗試瞭解何時使用什麼。</p><h1 class=pgc-h-arrow-right>何時使用服務網格</h1><p>· 當您需要在同一產品範圍內通過安全性和監視來實現L4 / L7服務通信時</p><p>· 何時可以為每個單個服務實例及其副本部署Sidecar代理</p><p>· 當服務可以共享相同的CA證書以建立安全的通信時（跨各種產品可能無法實現）</p><h1 class=pgc-h-arrow-right>何時使用API網關</h1><p>· 當您需要通過各種產品的安全性和監視來實現L7服務通信時</p><p>· 當您希望通過/不通過貨幣化將API公開為產品時</p><p>· 當您想向開發人員提供完整的API生命週期管理時</p><p>· 當您需要翻譯服務通信協議時</p><h1 class=pgc-h-arrow-right>服務網格和API網關一起</h1><p>服務網格和API網關很可能可以共存。 下圖展示了服務網格和API網關共存的場景：</p><div class=pgc-img><img alt=服務網格和API網關在微服務架構中的作用 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f56646a189c741ceb6cfe681650cf790><p class=pgc-img-caption>> Service meshes and API gateways — Image credit: Author</p></div><p></p><p>上圖展示了對於產品範圍，您可以實現服務網格（東西方流量）。 當需要跨產品進行通信時，可以使用內部API網關（東西方流量）。 當邊緣客戶端需要與服務進行通信時，可以使用邊緣API網關（南北流量）。</p><p>(本文翻譯自Tanmay Deshpande的文章《The Roles of Service Mesh and API Gateways in Microservice Architecture》，參考：https://medium.com/better-programming/the-roles-of-service-mesh-and-api-gateways-in-microservice-architecture-f6e7dfd61043)</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>服務</a></li><li><a>網格</a></li><li><a>API</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/8f50cc3.html alt=什麼是服務網格？程序員為什麼爭相追逐“香饃饃”Istio？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d74ba10746e84e349114035c45f32c13 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8f50cc3.html title=什麼是服務網格？程序員為什麼爭相追逐“香饃饃”Istio？>什麼是服務網格？程序員為什麼爭相追逐“香饃饃”Istio？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/720d6d3b.html alt=北海人民不能錯過的掌上生活服務辦理平臺 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ad2c0c816b5a4c94982e13f61805144f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/720d6d3b.html title=北海人民不能錯過的掌上生活服務辦理平臺>北海人民不能錯過的掌上生活服務辦理平臺</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3c85e990.html alt=“網格阻疫我先行”寧波鄞州扎牢阻擊疫情的“網格籬笆” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/Rp8uEv29syQFYX style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3c85e990.html title=“網格阻疫我先行”寧波鄞州扎牢阻擊疫情的“網格籬笆”>“網格阻疫我先行”寧波鄞州扎牢阻擊疫情的“網格籬笆”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/03d16469.html alt=阿里雲彈性伸縮服務簡介，彈性伸縮服務入門掃盲 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1538214769522e3e469ade5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/03d16469.html title=阿里雲彈性伸縮服務簡介，彈性伸縮服務入門掃盲>阿里雲彈性伸縮服務簡介，彈性伸縮服務入門掃盲</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3998ae89.html alt=服務治理最佳實踐：如何依據參數值進行服務路由、鑑權、限流？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/3f6fb254f0cc4ba390695e1d561d4a5c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3998ae89.html title=服務治理最佳實踐：如何依據參數值進行服務路由、鑑權、限流？>服務治理最佳實踐：如何依據參數值進行服務路由、鑑權、限流？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/47c5c6aa.html alt=白水公安交警文明交通勸導志願服務活動常態化 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/48d1b1a47c7d494f8c8d2d104ec56544 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/47c5c6aa.html title=白水公安交警文明交通勸導志願服務活動常態化>白水公安交警文明交通勸導志願服務活動常態化</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ba2ab10c.html alt=垃圾分類人人做！“站桶”服務我先行 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/SFGevXxI3MRNxJ style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ba2ab10c.html title=垃圾分類人人做！“站桶”服務我先行>垃圾分類人人做！“站桶”服務我先行</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4679df39.html alt=管委會副主任於梅檢查指導政務服務中心工作 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/RG4b9NkIdNjk7v style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4679df39.html title=管委會副主任於梅檢查指導政務服務中心工作>管委會副主任於梅檢查指導政務服務中心工作</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8b2f4f92.html alt="Java - 日期時間API" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8b2f4f92.html title="Java - 日期時間API">Java - 日期時間API</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/da2278e2.html alt="單縣：搶抓水利建設 服務農業生產" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/da2278e2.html title="單縣：搶抓水利建設 服務農業生產">單縣：搶抓水利建設 服務農業生產</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/576365de.html alt="文昌服務窗口節後亮出好狀態 收心聚力忙服務" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/576365de.html title="文昌服務窗口節後亮出好狀態 收心聚力忙服務">文昌服務窗口節後亮出好狀態 收心聚力忙服務</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/374b019f.html alt=海西：行政服務窗口收心歸位狀態佳 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/SCyWPnD81ibeFW style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/374b019f.html title=海西：行政服務窗口收心歸位狀態佳>海西：行政服務窗口收心歸位狀態佳</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/af218e13.html alt=節後第一個工作日，政務服務中心各窗口迅速進入工作狀態 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/SCybbHR1vt3UiX style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/af218e13.html title=節後第一個工作日，政務服務中心各窗口迅速進入工作狀態>節後第一個工作日，政務服務中心各窗口迅速進入工作狀態</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f2b89270.html alt="繼Java API之後谷歌Map API被訴侵權" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/93cccb8ab813488f9355335120e11164 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f2b89270.html title="繼Java API之後谷歌Map API被訴侵權">繼Java API之後谷歌Map API被訴侵權</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/180166ae.html alt="Microsoft 365服務出現全球大規模宕機 Teams等服務均無法使用" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/SBwbaFWH7J1n4s style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/180166ae.html title="Microsoft 365服務出現全球大規模宕機 Teams等服務均無法使用">Microsoft 365服務出現全球大規模宕機 Teams等服務均無法使用</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>