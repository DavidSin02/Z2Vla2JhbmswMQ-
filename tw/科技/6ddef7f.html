<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>OMS：零售電商系統的核心 | 极客快訊</title><meta property="og:title" content="OMS：零售電商系統的核心 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/RyTZ8mFD1K1adq"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6ddef7f.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6ddef7f.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6ddef7f.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6ddef7f.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6ddef7f.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6ddef7f.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6ddef7f.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6ddef7f.html><meta property="article:published_time" content="2020-10-29T21:05:04+08:00"><meta property="article:modified_time" content="2020-10-29T21:05:04+08:00"><meta name=Keywords content><meta name=description content="OMS：零售電商系統的核心"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/6ddef7f.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>OMS：零售電商系統的核心</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><blockquote class=pgc-blockquote-abstract toutiao-origin=blockquote><p>本文講述了OMS概念以及相關服務和功能（包括：信息下發、信息上傳、 訂單分發協同單號生成與拉、拆單發票服務、狀態更新與模板、流水、庫存），與大家分享！</p></blockquote><img alt=OMS：零售電商系統的核心 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RyTZ8mFD1K1adq><p>OMS即：訂單管理中心，是零售電商系統的核心。</p><p>隨著中臺概念的火熱，很多電商公司都開始投入資源開始搭建各種中臺系統。</p><p>幾天前和朋友交流，他們公司成立一個新的中臺項目，項目上線後會取代現在的OMS及一些相關係統。</p><p>本人前公司似乎也在風風火火的搞中臺，但中臺是什麼?搭建完成後解決了什麼問題?能帶來多少效益?上了中臺是否真的能快速響應業務需求呢？</p><p>由於對中臺瞭解的不多，現在也回答不了，這些只能慢慢去學習，所以也只能聊聊我對基礎的一些系統、模塊的理解。</p><p>之前總結過拆單、訂單狀態、退換貨等，這些都似乎都可以歸屬於OMS,本篇接著說下我理解的OMS。</p><p></p><h1 toutiao-origin=h2>一、OMS與中臺</h1><h2 toutiao-origin=h3>1. OMS</h2><img alt=OMS：零售電商系統的核心 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RyTZ8nH8Vlz9Kk><p>OMS主要是承接各種業務單據「入庫與出庫」快速的與上下游系統進行信息的傳遞與處理，訂單是其最核心的數據，也是數量最大、效率要求最高的部分。</p><p>在上圖中，第一層屬於內部相關係統，如商品系統、採購管理、前端購物流程產生的銷售訂單、售後發起的退貨訂單、以及領用等業務單據——這個我們可以稱之為「上游系統」或ERP；當然OMS也應屬於ERP系統的一部分。</p><p>OMS主要是針對訂單的處理，履單包括上游系統的快速流轉；但真正的生產應該是倉儲內作業。所以OMS是與WMS系統交互最為緊密，與WMS系統的信息傳遞是通過倉儲系統的API接口完成的，API接口與WMS可以稱之為「下游系統」。</p><p>OMS就是一箇中間系統服務的組成，在橫向上，它又會與財務進銷存系統進行數據的傳遞，所以它是被很多系統包圍中中間的，稱其為訂單中心確實不為過。</p><img alt=OMS：零售電商系統的核心 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RyTZ8nqHfL23xt><p></p><h2 toutiao-origin=h3>2. 中臺</h2><p>上圖是我在網上看到的一家做OMS產品的系統架構介紹，這裡的<strong>訂單中心</strong>屬於業務中臺。</p><img alt=OMS：零售電商系統的核心 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RyTZ8pVEAge5Cs><p>上圖是根據一位朋友發給我的中臺規劃，做了些簡化；訂單管理也是業務中臺的一部分。</p><p></p><h1 toutiao-origin=h2>二、相關服務與功能</h1><h2 toutiao-origin=h3>1. 信息下發</h2><p><strong>商品信息</strong></p><p>OMS不僅負責銷售訂單的下發與上傳，也包括採購訂單及返廠單數據的傳輸，同時包括基礎的商品信息。</p><p>商品收貨是WMS的初始工作，收貨入庫後才能產生商品庫存。</p><p>WMS在使用前首先要進行數據初始化，即：商品信息、品類和供應商等基礎信息，同時要進行庫存初始化，此外需要在WMS系統中進行庫區、貨位等信息創建與維護。</p><p>如果庫內需要根據原材料進行加工生產，則需要在商品系統中進行配置，如父子商品配置、加工品原料配置，這些都會以BOM單方式提前下發到WMS系統中。</p><p><strong>供應商信息</strong></p><p>供應商信息是在供應商管理模塊進行創建，它包括供應商ID、編號、名稱及狀態，WMS收貨時是要獲取此部分信息，進行數據校驗。</p><p>此外，在上下游系統中都有供應商庫存，且要進行供應商商品成本的計算與統計。</p><p>在WMS系統中有商品批次數據，批次編碼可以根據相關規則進行創建，以保證一品多商時可以進行商品的區分。</p><p><strong>單據</strong></p><p>這裡的單據是指業務創建採購單、返廠單，也包括用戶的銷售訂單、退換貨訂單。</p><p>採購單、返廠單在SCM系統中創建完成後需要通過OMS同步到倉庫，以便供應商到貨後WMS系統中可以根據已經採集的採購單進行數據驗證與統計；同時在此前供應商預約送貨申請時也能夠進行收貨安排。</p><p>銷售訂單經過支付、拆單後要下發到WMS，倉庫接收後可以開始處理，揀貨、打包、發貨單。</p><p>單據的下發一般分為頭和行數據，商品數據則根據下發的單據信息，在WMS系統中根據BOM進行驗證處理。</p><p>這些都是通過API接口完成的，我們原來的系統每次的數據下發與上傳都會保存報文信息，以便出現問題進行查看、分析並解決。</p><p>所以在OMS系統與WMS等系統進行數據同步時，接口下發或回傳的XML信息一定要保存完整。</p><p></p><h2 toutiao-origin=h3>2. 信息上傳</h2><p>來而不往非禮也，數據有去就應該有回。</p><p>這裡的OMS系統中信息上傳是指接收WMS系統回傳的數據和相關狀態，同時在接收完數據和狀態後OMS還會進行一些業務處理。</p><p>以採購單為例，當倉庫完成入庫後，會將實際的入庫數量回傳；此時OMS系統需要根據回傳數據進行入庫單的生成，並更新上游系統的庫存；同時還要進行成本的計算及入庫流水的生成，由於數據流轉到一個節點需要計算，系統一般都是通過MQ來實現異步處理的。</p><p>同信息下發一樣，回傳的信息明細需要保留，有些還需要進行解析並保存在關係數據庫中，便於統計查詢、展示。</p><p></p><h2 toutiao-origin=h3>3. 訂單分發協同</h2><p>在信息下發與上傳時都會應用到規則與策略。</p><p>隨著業務的爆發，單量增長也非常快，所以OMS系統中還應該進行一些規則配置，以便數據快速流轉，加快系統的響應速度，給用戶更好的體現。</p><p>同時有很多狀態有些是倉儲內部的，有些是業務系統的，在訂單處理時要進行一些設置，需要有選擇的屏蔽和轉換。</p><p></p><h2 toutiao-origin=h3>4. 單號生成與拉、拆單</h2><p>這幾個服務大家都比較熟悉，單號生成品就是依賴於定義好的規則生成不能重複的單號，提供給前端購物流程或後臺業務系統調用。</p><p>同時，單號的規則也會與分庫分表服務相關聯，所以單號的規則非常重要，它必須滿足單量的爆發增長，不能重複，可以通過單號進行不同維度的訂單數據保存與查詢。</p><p>拉單就將前端用戶產生的單據拉取到後端生產庫，這是銷售訂單數據的來源，拆單可以查看以前總結的《OMS|訂單拆單》,這裡不重複描述了。</p><p></p><h2 toutiao-origin=h3>5. 發票服務</h2><p>現在紙質發票越來越少了，電子發票的開票信息不需要同步到WMS系統了，但是開票金額的計算必不可少，且需要同步到電子發票稅務平臺。</p><p>對於售後的一些補開、退換貨涉及的重開等也需要經過發票服務進行計算——這些雖然與財務關聯很大，但是與OMS系統密不可分，所以應該是OMS的一部分。</p><p></p><h2 toutiao-origin=h3>6. 狀態更新與模板</h2><p>訂單狀態是根據履單的流程不斷變化的，有在上游系統的變化，有在WMS系統內的更新。訂單的全程跟蹤便是根據狀態的流轉進行的統計與分析，業務部分會根據訂單的生命週期來進行改進。狀態變更時不僅涉及其他業務流程的邏輯處理，同時也需要進行消息通知，如短信、郵件或微信。</p><p>在零售電商系統的基礎服務層中會有對應的網關與SP進行對接，但是與用戶的交互要注意文案與格式，所以模板配置需要提前設置好，以便OMS進行調用。</p><p>只要與用戶有關，那麼就要注重用戶體驗，不能漏發或多發，也不能亂髮，要設置好相關的規則。</p><p></p><h2 toutiao-origin=h3>7. 流水</h2><p>我在這裡將出入庫流水劃分在OMS系統中，因為接收所有的倉儲作業數據，只要有出入庫那麼就涉及到庫存的增或減；但是在WMS提供的API接口或返回的數據中可能不會區分單據類型，需要上游系統進行重新處理。這個幾年前在與LSCM「倉儲對接平臺」進行庫存核對時就需要到這樣的問題。</p><p>WMS雖然有單據類型，但是經過LSCM後就只有出與入兩種大類型，具體的信息都需要根據XML報文解析後，由上游系統進行重新處理。</p><p>流水也是SCM與財務系統交互的基礎，財務根據出入庫流程、庫存進行財務成本的計算、相關報表生成等。</p><p>所以如果你在負責OMS，需要注意這一塊，WMS有些是以調整單方式進行的，單據需要上游進行生成。</p><p></p><h2 toutiao-origin=h3>8. 庫存</h2><p>在零售電商系統中庫存一般分為三部分，內部ERP、WMS和財務。其間關係以前曾說過，先有WMS，ERP根據出入庫單據由OMS進行增或減，財務則根據OMS的出入庫流水進行再次計算生成。</p><p>所以對賬是必須的，WMS和ERP是實時作業的，庫存是實時變化的，會有時間性的差異，財務是根據流水生成的可以有準確的期末庫存。</p><p>接觸過幾個WMS系統都是通過快照方式備份期末庫存的，這個如果WMS系統中沒有，需要進行開發，只要有一筆筆的數據就能夠推算出期末庫存。</p><p>但是當SKU數量和單據量非常非常大時，計算就需要時間，在系統設計上就要進行分倉、分品類等進行分佈式計算，當然我這裡只是提出；在實際生產系統中最多遇到過一天幾十萬單，幾十萬個SKU的場景，與京東等平臺這種設計肯定滿足不了，有興趣的同學可以去考慮，可以私信交流。</p><p></p><h1 toutiao-origin=h2>三、總結</h1><p>OMS名詞我們都知道，但是在不同的公司OMS的功能不同，涵蓋的業務也不同；只要根據業務較為合理的進行規劃，滿足業務的變化就行了，至於它是不是訂單中臺不必過多計較了。</p><p>業務驅動技術發展，在設計時要應用領域模型，這是最近看書瞭解到的，業務、技術、數據、領域，究竟該如何去做，需要不斷的去參照成功企業的應用案例結合實際場景去實踐。</p><p>有朋友說我寫的東西不裝X，其實是想寫高大上的，但是文采和儲備有限，只能寫點基礎的自娛自樂，找點事幹。</p><p>最後，感謝您的閱讀！</p><p>作者：倔強的大蘿蔔；公眾號：倔強的大蘿蔔</p><p>本文由 @倔強的大蘿蔔 原創發佈於人人都是產品經理，未經作者許可，禁止轉載。</p><p>題圖來自Unsplash，基於CC0協議</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>OMS</a></li><li><a>電商系統</a></li><li><a>零售</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/3106c5a7.html alt=如何更好地擁抱新零售？開源！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a38094e444704c6db6b98bdc5a6c20ea style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3106c5a7.html title=如何更好地擁抱新零售？開源！>如何更好地擁抱新零售？開源！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/431b857b.html alt=中後臺搭建難點：電商系統設計（下） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1374f7c5a3d54f54ae0251f595fc3ec0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/431b857b.html title=中後臺搭建難點：電商系統設計（下）>中後臺搭建難點：電商系統設計（下）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f9dff1b.html alt=大型分佈式電商系統核心訂單業務架構實踐 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f9dff1b.html title=大型分佈式電商系統核心訂單業務架構實踐>大型分佈式電商系統核心訂單業務架構實踐</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e27e0f5.html alt=最常用零售商品條碼編制方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8955787d74f34660b2be0014da429ad7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e27e0f5.html title=最常用零售商品條碼編制方法>最常用零售商品條碼編制方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3adddd1.html alt=新零售系統開發：新零售系統開發流程及軟件外包的優勢 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/81ffc7dcb8314e0aa8411734e4a4d42e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3adddd1.html title=新零售系統開發：新零售系統開發流程及軟件外包的優勢>新零售系統開發：新零售系統開發流程及軟件外包的優勢</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/531dc18.html alt=“零售之王”——招商銀行 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b80be3beae8f4fd7b55d8ec3675927de style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/531dc18.html title=“零售之王”——招商銀行>“零售之王”——招商銀行</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/63b1337.html alt=電商系統，商品屬性表和功能設計，可用於各種實體的屬性 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/2a363b2e8c03475b879f52cb8a07dfa9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/63b1337.html title=電商系統，商品屬性表和功能設計，可用於各種實體的屬性>電商系統，商品屬性表和功能設計，可用於各種實體的屬性</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>