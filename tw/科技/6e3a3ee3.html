<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>軟起動控制器通訊設計 | 极客快訊</title><meta property="og:title" content="軟起動控制器通訊設計 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/RphmhrQAzC3fqz"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e3a3ee3.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e3a3ee3.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6e3a3ee3.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e3a3ee3.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e3a3ee3.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6e3a3ee3.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6e3a3ee3.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6e3a3ee3.html><meta property="article:published_time" content="2020-10-29T21:11:31+08:00"><meta property="article:modified_time" content="2020-10-29T21:11:31+08:00"><meta name=Keywords content><meta name=description content="軟起動控制器通訊設計"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/6e3a3ee3.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>軟起動控制器通訊設計</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>1、前言 2 、軟起動控制器中 PROFIBUS-DP 通訊接口的硬件設計</p><p>在軟起動控制器的 PROFIBUS-DP 硬件接口電路設計方案上，採用單片機+ 專用集成芯片SPC3+ RS485 驅動的方案。</p><p><strong>2.1 SPC3 簡述</strong></p><p>SPC3(SIEMENS PROFIBUS CONTROLLER)為優化的智能 PROFIBUS-DP 從站，集成有 PROFIBUS-DP 物理層的數據收發功能，可獨立處理 PROFIBUS-DP 協議。SPC3 的內部有 RAM、方式寄存器、狀態寄存器、中斷寄存器以及各種緩衝器指針和緩衝區等。SPC3 有 8 根數據線和 11 根地址線，其中 8 根數據線與地址線複用，可以接 80C32、80C166、80C196、HC196 等單片機。SPC3 內部集成了 1.5KB 的雙口 RAM 作為 SPC3 與軟件 / 程序的接口，能自動調整 9.6K 到 12M 波特率。</p><p><strong>2.2 PROFIBUS-DP 通信接口硬件設計</strong></p><p>PIC16F877 與 PROFIBUS-DP 網絡的連接通過一個 PROFIBUS-DP 網絡的協議芯片 SPC3 和 RS-485 驅動電路組成。PROFIBUS-DP 接口主要由處理器接口和串行總線接口組成。</p><p>處理器接口電路如圖 1 示：80C32 通過 P0 口和 P2 口擴展外部存儲器，將 SPC3 內部的雙口 RAM 作為自己的外部 RAM，通過對雙口 RAM 的讀寫來完成對 SPC3 的初始化和有關數據的交換。圖中 P1 是指用雙 PIC16F877 設計的軟起動控制器，作為通訊的從站，PIC16F877 集成了 SPI 接口，可以和協議芯片 SPC3 結合，以及 MAX485ESA 完成到 PROFIBUS-DP 總線網絡上的連接。</p><img alt=軟起動控制器通訊設計 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RphmhrQAzC3fqz><p>圖 1 處理器接口電路</p><img alt=軟起動控制器通訊設計 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/Rphmhrx9STKgA6><p>圖 2 串行總線接口電路</p><p>SPC3 芯片通過請求發送信號(RTS)，發送數據信號(TXD)，接收數據信號(RXD)，通過高速光耦 HCPL7720 和總線收發器 ADM1485 相連，構成串行總線接口。如圖 2 所示，儘管 SPC3 已經集成了物理層的數據傳輸功能，但它不具備 RS-485 的驅動接口，因此添置了 RS-485 的驅動電路。目前能滿足 12M 波特率的驅動器芯片為數不多，有 SN65ALS176，SN75ALS176，ADM1485 等，本系統中選用的是 ADM1485。另外為了避免總線上的信號對電路的影響，在 SPC3 與 RS-485 總線驅動電路之間採用光電隔離。TXD、RXD 信號的隔離器件選用 Hewlett Packar 公司的 12M 高速光耦 HCPL7720，RTS 的信號隔離器件選用 HCPL0601。</p><p><strong>3 、通訊接口的軟件設計</strong></p><p>PROFIBUS-DP 的 ASIC 芯片 SPC3 集成了 PROFIBUS-DP 協議，能夠處理 PROFIBUS-DP 狀態機構，因此 80C32 不用參與處理 PROFIBUS-DP 狀態機。80C32 的主要任務是對 SPC3 進行合理的配置、初始化及對各種報文的處理。</p><p>對 SPC3 的軟件操作主要包括兩個部分：SPC3 的初始化和 SPC3 的中斷處理。主程序和中斷程序流程圖分別如圖 3 和圖 4 所示。</p><img alt=軟起動控制器通訊設計 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RphmhsT58jKvd7><p>圖 3 主程序流程圖 圖 4 中斷程序流程圖</p><p>SPC3 的初始化程序應放在主程序的前面，而中斷處理程序完成 CPU 對 SPC3 中斷輸出的響應。 SPC3 上電覆位之後 . 在正常工作之前必須進行初始化，以配置各個寄存器。中斷處理程序用於處理 SPC3 發生的各種事件，這些事件包括新的參數報文事件：全局控制命令報文事件，進入或退出數據交換狀態事件，新的配置報文事件，新的地址設置報文事件，監測到波特率事件和看門狗溢出事件。SPC3 在接收到由 PROFIBUS 主站傳送的不同輸出數據時會產生輸出標誌位，CPU 通過在應用循環中輪詢標誌位來進行接收主站數據。對於特定應用的診斷信息需要實時傳遞到主站。主應用程序在應用循環中判斷是否有可用的診斷 BUF 存在一當有空閒 BUF 時應用程序輸入診斷信息，並請求更新。對於實時性要求嚴格的系統，應採用中斷方式進行輸出數據和診斷數據處理。</p><p>由於用於現場的設備要特別考慮抗干擾能力，因此在設備硬件抗干擾技術的基礎上，軟件方面採用指令冗餘，設置軟件陷阱，系統的自檢及軟硬件相結合的看門狗技術，保證軟件出軌的自動恢復，從而進一步提高系統的抗干擾能力。</p><p><strong>4、 結論</strong></p><p>軟起動器有很多優點，然而，目前國內生產的異步電機的軟起動器大多都不帶通信接口，有一些帶通信接口的，也多為 RS232 或 RS485 串行總線，這些串行總線，由於自身的特點，不適合工業現場控制，有礙於電動機機群的進一步網絡化發展和企業管控一體化及綜合自動化的實現。</p><p>本文介紹的帶 PROFIBUS-DP 總線接口的軟起動控制器，可以解決傳統軟起動器現場通信的不足，實現電動機的群控，促進企業綜合自動化的底層網絡建設，並能帶來顯著經濟效益。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>軟起動</a></li><li><a>通訊</a></li><li><a>設計</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/9bd6b239.html alt=鋼構人福利——鋼結構設計經典問題解讀 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a72bd60ea48d471b8ce03ebf0ce15869 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9bd6b239.html title=鋼構人福利——鋼結構設計經典問題解讀>鋼構人福利——鋼結構設計經典問題解讀</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6bbe6ec4.html alt=鋼管混凝土結構設計原理及在強震區橋樑結構研究成果達國際領先 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/153569494612546362474a9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6bbe6ec4.html title=鋼管混凝土結構設計原理及在強震區橋樑結構研究成果達國際領先>鋼管混凝土結構設計原理及在強震區橋樑結構研究成果達國際領先</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6d006e47.html alt=鋼結構設計基礎知識問答 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/63b48928-d7cd-4346-b80f-4f77015517c1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6d006e47.html title=鋼結構設計基礎知識問答>鋼結構設計基礎知識問答</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0dc64d99.html alt=38個鋼結構設計問題，都很常見 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/f1181ce8-cf01-4194-b9c2-362f43894ddb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0dc64d99.html title=38個鋼結構設計問題，都很常見>38個鋼結構設計問題，都很常見</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b6fd930e.html alt=步步解析橋樑設計計算，不可錯過的一篇乾貨 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d88dd927b4f2474fbe4ea261c2397ba8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b6fd930e.html title=步步解析橋樑設計計算，不可錯過的一篇乾貨>步步解析橋樑設計計算，不可錯過的一篇乾貨</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/97b90000.html alt=結構設計、校對、審核三字經，速速收藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/97b90000.html title=結構設計、校對、審核三字經，速速收藏>結構設計、校對、審核三字經，速速收藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fd0540fa.html alt=解析橋樑設計計算 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/fa4d0bcf2a204a2fac9b37978b1b0713 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fd0540fa.html title=解析橋樑設計計算>解析橋樑設計計算</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/83530974.html alt=解析橋樑設計計算，不可錯過的一篇乾貨 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/af9ca7f120da4e23b0ca589375e05dd2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/83530974.html title=解析橋樑設計計算，不可錯過的一篇乾貨>解析橋樑設計計算，不可錯過的一篇乾貨</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e8b9b44c.html alt=設計師解析橋樑設計計算，錯過了就沒有機會 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e01645937bda4ae7a7f148666ff89117 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e8b9b44c.html title=設計師解析橋樑設計計算，錯過了就沒有機會>設計師解析橋樑設計計算，錯過了就沒有機會</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/15d8539d.html alt=經典設計延續至今的烏尼莫克403萬能卡車 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/132ba54553374c7eb2c0a9c155bba041 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/15d8539d.html title=經典設計延續至今的烏尼莫克403萬能卡車>經典設計延續至今的烏尼莫克403萬能卡車</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/69536588.html alt=線纜設計初級課程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1532759411210988051a0cb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/69536588.html title=線纜設計初級課程>線纜設計初級課程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/219919c3.html alt=梯度效果的創意Logo設計案例分享（1） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15226471428904df67cc724 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/219919c3.html title=梯度效果的創意Logo設計案例分享（1）>梯度效果的創意Logo設計案例分享（1）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/29b61120.html alt=梯度效果的創意Logo設計案例分享（2） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1522647184765cbbd0b4dcd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/29b61120.html title=梯度效果的創意Logo設計案例分享（2）>梯度效果的創意Logo設計案例分享（2）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7b6871ad.html alt=過度設計還是人性化設計，羅技雙模式滾輪拆解，你們怎麼看？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/51d58f282cad467fb9a443fd319a42f2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7b6871ad.html title=過度設計還是人性化設計，羅技雙模式滾輪拆解，你們怎麼看？>過度設計還是人性化設計，羅技雙模式滾輪拆解，你們怎麼看？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7d6c5722.html alt=2020最新網頁設計，入門到精通教程+網頁素材，小白速領 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b1791402c6954e31bde2d2e6686776ce style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7d6c5722.html title=2020最新網頁設計，入門到精通教程+網頁素材，小白速領>2020最新網頁設計，入門到精通教程+網頁素材，小白速領</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>