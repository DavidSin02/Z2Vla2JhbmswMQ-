<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>尋找工具變量 | 极客快訊</title><meta property="og:title" content="尋找工具變量 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/dfic-imagehandler/b8dc350c-aa6e-4b7c-9b2b-81b40ae85149"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6ea6a76.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6ea6a76.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6ea6a76.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6ea6a76.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6ea6a76.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6ea6a76.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/6ea6a76.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/6ea6a76.html><meta property="article:published_time" content="2020-10-29T21:01:05+08:00"><meta property="article:modified_time" content="2020-10-29T21:01:05+08:00"><meta name=Keywords content><meta name=description content="尋找工具變量"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/6ea6a76.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>尋找工具變量</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><br></p><div class=pgc-img><img alt=尋找工具變量 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/b8dc350c-aa6e-4b7c-9b2b-81b40ae85149><p class=pgc-img-caption></p></div><p>尋找到一個好的工具變量可以直接在MIT博士畢業，可見找工具變量是一件有挑戰性的事情。在我看來，找工具變量是一項有趣的智力活動，除了需要一個人有經濟學的素養和邏輯，還需要這個人知識面廣，自然、地理、人文、世俗智慧和經驗等，通常，這跟一個人熟悉的領域，由長期觀察和思考產生的洞見有關。當然還需要一點運氣，學術不是苦思冥想，也許做一個夢，喝一杯下午茶，靈感就閃現了。</p><p style=text-align:justify><br></p><p style=text-align:justify>工具變量的原理最早出現在菲利普·萊特( Philip G． Wright) 1928年寫的書《The Tariff on Animal and Vegetable Oils》裡。</p><p style=text-align:justify><br></p><p style=text-align:justify>為了進一步解釋這個原理，首先給出一個典型的線性迴歸模型:</p><p style=text-align:justify><br></p><p style=text-align:justify>y = β0 + β1x1 + βX + ε (1)</p><p style=text-align:justify><br></p><p style=text-align:justify>這裡y為被解釋變量，x1為自變量，或者解釋變量，也即“因”。大寫的 X 為外生控制項向量( 也即一組假定為外生的其他控制變量，例如年齡、性別等等) ，ε則為誤差項。如果ε與x1不相關，那麼我們可以利用OLS 模型對方程進行無偏估計。然而，如果一個重要變量x2被模型(1) 遺漏了，且x1和x2也相關，那麼對β1的OLS 估計值就必然是有偏的。此時，x1被稱作“內生”的解釋變量，這就是 “內生性”問題。</p><p style=text-align:justify><br></p><p style=text-align:justify>遇到“內生性”問題腫麼辦？有一個方法就是找工具變量Z。</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>工具變量（IV）可以用來解決</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>1 ）遺漏變量偏差</p><p style=text-align:justify><br></p><p style=text-align:justify>2）經典的測量誤差問題</p><p style=text-align:justify><br></p><p style=text-align:justify>3）聯立性（逆向因果）</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>工具變量的條件</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>•變量z可以作為變量x的有效工具變量，當滿足：•工具變量必須外生 •即, Cov(z,u) = 0•工具變量必須與內生變量x相關•即, Cov(z,x) ≠0</p><p style=text-align:justify><br></p><p style=text-align:justify>Cov(z,u) = 0無法驗證，Cov(z,x) ≠0可以驗證</p><p style=text-align:justify></p><p style=text-align:justify>對工具變量的兩個要求之間有一個非常重要的差別。因為Cov(z,u)是z與不可觀測的誤差u的協方差，我們無法對它進行驗證或哪怕是檢驗：我們必須求助於經濟行為或內心感受來維持這一假定。相比之下，給定一個來自總體的隨機樣本，z與x相關（在總體中）的條件則可加以檢驗。做到這一點最容易的方法是估計一個x與z之間的簡單迴歸。</p><p style=text-align:justify><br></p><p style=text-align:justify>就是說，Cov(z,u) = 0無法驗證，我們只能依賴常識和經濟理論，這需要理論修養和積累。</p><p style=text-align:justify><br></p><p style=text-align:justify>但是我們可以檢驗是否Cov(z,x) ≠0，即檢驗</p><p style=text-align:justify><br></p><p style=text-align:justify>H0: p1 = 0 x = p0 + p1z + v</p><p style=text-align:justify><br></p><p style=text-align:justify>這個迴歸有時被稱為第一階段迴歸。</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>我們要什麼樣的IV</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>現在我們來看課上那個講教育回報的經典例子</p><p style=text-align:justify><br></p><p style=text-align:justify>在教育回報率的例子中，假定真實模型將對數工資對教育和能力迴歸：現在能力不可觀測，而且沒有代理變量IQ</p><p style=text-align:justify><br></p><p style=text-align:justify>事實上使用的迴歸：將對數工資對教育迴歸，但由於誤差項包含能力，並且教育水平與能力相關，此時會出現教育的內生性問題。</p><p style=text-align:justify><br></p><p style=text-align:justify>z應當對y無偏效應，也不應當與其它影響y的因素相關。z 必然與內生解釋變量x有著正的或負的關係。就是說Z不能和U有關，而且Z只能通過影響X來間接地影響Y。</p><p style=text-align:justify><br></p><p style=text-align:justify>log(wage)方程，educ的工具變量z必須：（1）與能力（以及其它影響工資的不可觀測的因素）不相關，（2）與教育相關。諸如一個人的社會福利登記號的最後一位數字之類的變量，幾乎一定滿足第一個必需條件：與能力不相關，因為它是隨機決定的。然而，該變量與教育不相關，因而是educ的一個低劣的工具變量。</p><p style=text-align:justify><br></p><p style=text-align:justify>所謂的用於遺漏變量的代理變量因相應的原因也是低劣的IV。例如，在遺漏能力的log(wage)例子中，abil的代理變量應該儘可能地與abil高度相關。而工具變量必須與abil不相關。因此，儘管IQ是abil的一個好的代理變量候選者，它卻不是educ的好的工具變量。</p><p style=text-align:justify><br></p><p style=text-align:justify>對其它可能的工具變量候選者，這些必需條件更加不確定。勞動經濟學家已在工資方程中使用家庭背景變量作為教育的IV。例如，母親的教育（motheduc）與孩子的教育是正相關的，這一點通過收集勞動者數據樣本並做educ對motheduc的簡單迴歸便可以看出來。因此，motheduc滿足方程 Cov(z,x) ≠0。問題是，母親的教育也可能與孩子的能力相關（通過母親的能力和可能通過孩子幼年所受的教養的質量）。</p><p style=text-align:justify><br></p><p style=text-align:justify>（15.1）中educ的另一個IV選擇是成長過程中兄弟姊妹的數目（sibs）。一般地說，較多的兄弟姊妹與較低的平均教育水平相聯繫。這樣，如果兄弟姊妹的數目與能力不相關，它可以 充當educ的工具變量。</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>IV與OLS估計比較</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>IV與OLS的標準差的不同之處僅在於將x對z迴歸得到的Rx,z^2由於Rx,z^2&lt;1,IV的標準差會比較大。就是左老師說的比誰更有效，如果做出來</p><p style=text-align:justify><br></p><p style=text-align:justify>當Cov(x,u) ≠ 0 ，OLS不是一致估計，當(15.4), (15.5) 成立時，IV是一致估計。x和z的相關性越強，IV的標準差越小。</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>舉個例子</strong></p><p style=text-align:justify><br></p><p style=text-align:justify><strong>對已婚女性進行教育的回報估計</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>我們看到，教育回報的IV估計值為5.9%，大約是OLS估計值的一半。這表明OLS 估計值過高，且與遺漏的能力變量的偏誤相一致。但我們應該記住，這些都是僅從一個樣本中得出的估計值：我們根本不知道0.109是否高於真正的教育回報，或者0.059更接近真正的教育回報。其次，IV估計量的標準誤是OLS標準誤的2.5（0.035/0.014）倍。運用OLS得出的β1的95%置信區間比運用IV得出的要窄得多；事實上，IV的置信區間確實包含了OLS估計值。因此，儘管實踐中（15.15）與（15.17）之間的差異很大，我們不能說該差異在統計上顯著。</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>IV的問題</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>值得注意的是 儘管當z與u不相關，而z與x存在著正的或負的相關時，IV是一致性的，但當z與x只是弱相關時IV估計值可能有大的標準誤。z與x之間的弱相關可能產生甚至是更加嚴重的後果：即使z與u只是適度相關，IV估計量也會有大的漸近偏誤。</p><p style=text-align:justify><br></p><p style=text-align:justify>這就是左老師講的弱工具變量問題。</p><p style=text-align:justify><br></p><p style=text-align:justify>理論上說，Z必須是嚴格外生的，但是如果工具變量與內生變量有一點相關，即使很小，仍然可能造成估計的問題。Z和X關係越小，這個工具變量就越有風險，這個叫弱工具變量。</p><p style=text-align:justify><br></p><p style=text-align:justify>後來左老師舉了Angrist那個教育和出生季度的例子。</p><p style=text-align:justify><br></p><p style=text-align:justify>Angrist & Krueger（1991）利用美國的男性人口調查數據，提出了educ的一個巧妙的二值工具變量。如果該男性是在第一季度出生的，令frstqrt等於1，否則為0。（15.14）中的誤差項——特別是能力——似乎應該與出生季度不相關。但是，frstqrt還要與educ相關。事實表明，在基於出生季度的總體中，教育年數確實有系統性差異。Angrist和Krueger認為是緣於在各州實行的義務就學法，這很有說服力。簡單地說，年初出生的學生往往入學較晚。因此，他們在達到義務教育年齡時（大部分州定為16歲），所受的教育略少於入學較早的學生。</p><p style=text-align:justify><br></p><p style=text-align:justify>因為教育年數在各出生季度之間的變化僅僅是微乎其微的——這意味著我們做 對 的迴歸來獲得的 非常小——Angrist和Krueger需要很大的樣本容量來得到一個合理而準確的IV估計值。利用1920至1929年之間出生的247,199位男性的數據，得出教育回報的OLS估計值為.0801（標準誤為.0004），IV估計值為.0715（.0219）；見於Angrist和Krueger的論文中的表III。注意到OLS估計值的t統計量那麼大（約為200），然而IV估計值的t統計量僅為3.26。因而IV估計值在統計上不為0，但其置信區間比基於OLS估計值的置信區間寬得多。</p><p style=text-align:justify><br></p><p style=text-align:justify>Angrist和Krueger有一個有趣的發現：IV估計值與OLS估計值相差並不多。實際上，利用下一個十年中出生的男性的數據，得出IV估計值稍微高於OLS估計值。對此可以這樣解釋：說明在用OLS估計工資方程時不存在遺漏能力的偏誤。可是，Angrist和Krueger的論文在計量經濟學界受到了非難。如同Bound，Jaeger和Baker（1995）討論的那樣，它不能明顯地判斷出生季節與影響工資的諸因素不相關，縱然這些因素沒有被人觀測到。</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>自我選擇（self-selection）的問題</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>舉個例子，Angrist（1990）研究了，參加越南戰爭的老兵，其終身收入因參加越戰而受到的影響。一個簡單模型為：</p><p style=text-align:justify><br></p><p style=text-align:justify>其中veteran是二值變量。疑問在於，用OLS估計該方程時，可能存在一個自我選擇（self-selection）的問題：也許人們因為能從軍隊中得到最多的收入而選擇參軍，或者參軍的決策與其他對收入有影響的特徵相關。這些問題將導致veteran與u相關。</p><p style=text-align:justify><br></p><p style=text-align:justify>Angrist指出，越南戰爭的徵兵抽籤提供了一個自然試驗（natural experiment），從而產生了veteran的一個工具變量。年輕人被分給的徵兵抽籤號決定了他們是否會被徵召去服役於越南戰爭。因為所分給的號碼（畢竟）是隨機分配的，徵兵抽籤號與誤差項u不相關似乎是可信的。而得到號碼足夠小（指號碼小於某個數）的人必須服役於越南戰爭，使得成為老兵的概率與抽籤號相關。如果以上兩點都是正確的，徵兵抽籤號是veteran的一個好的IV候選者。</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>一個讓老師拍案叫絕的工具變量</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>在制度經濟學研究中，我們關心的是制度對一國的人均收入有無影響。但制度往往是內生的，或者說是選擇性的( 例如，好的制度也許總在人均收入高的國家或地區產生) 。只有找到制度的工具變量，才能讓人信服地證明制度的力量。阿西莫格魯等在一項經典研究( Acemogluet al．，2001) 中，把殖民地時代一個國家的自然死亡率作為該國當今制度的工具變量。其理由非常巧妙: 如果該地區當年的死亡率高，那麼歐洲殖民者就相對不願定居下來，從而在當地建立起更具掠奪性的“壞”制度。由於制度的“路徑依賴”，殖民時代的制度顯然和現在的制度關係密切。因此，歷史上的死亡率作為工具變量，應該和當今制度緊密相關，而一百年前的死亡率作為一種自然生理現象，又和目前的人均收入沒有直接關係。</p><p style=text-align:justify><br></p><p style=text-align:justify>雖然後來人們對這個工具變量產生了懷疑，但是左老師說由於這個故事講得太好了，以至於人們不得不信（人們總是相信他們願意相信的事情）。</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>工具變量也要慎用</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>IV帶來的唯一壞處是估計方差的增大，也就是說同時採用OLS和IV估計，則前者的方差小於後者。IV的應用是有前提條件的：1.IV與內生解釋變量相關，2.IV與u不相關。在小樣本情況下，一般用內生解釋變量對IV進行迴歸，如果R－sq值很小的話，一般t值也很小，所以對IV質量的評價沒有大的問題，但是當採用大樣本時，情況則相反，往往是t值很大，而R－sq很小，這時如果採用t值進行評價則可能出現問題。這時IV與內生解釋變量之間的相關程度不是太大，但是如果與u之間有輕微的相關的話，則：1.導致很大的不一致性；2.有偏性，並且這種有偏性隨著R－sq趨於0而趨於OLS的有偏性。</p><p style=text-align:justify><br></p><p style=text-align:justify>所以現在在採用IV時最好採用R－sq或F－sta作為評價標準，另外為了觀測IV與u的關係，可以將IV作為解釋變量放入方程進行迴歸，如果其他的係數沒有大的變化，則說明IV滿足第二個條件。</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>用Stata做 ivreg處理內生性怎麼玩？</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>【問題及方法】</p><p style=text-align:justify><br></p><p style=text-align:justify>內生性，每個實證人的痛。內生性主要的三個來源：測量誤差、遺漏變量和逆向因果。</p><p style=text-align:justify><br></p><p style=text-align:justify>1、變量的內生性。</p><p style=text-align:justify><br></p><p style=text-align:justify>這個是沒有辦法單獨檢驗的。當有合適工具變量時候，是可以檢驗的，就是Hausman檢驗</p><p style=text-align:justify><br></p><p style=text-align:justify>2、工具變量的外生性。</p><p style=text-align:justify><br></p><p style=text-align:justify>這個也是沒辦法檢驗的。當有很多工具變量時候，可以檢驗是否有不是外生的，就是“過度識別”問題</p><p style=text-align:justify><br></p><p style=text-align:justify>3、工具變量的相關性。</p><p style=text-align:justify><br></p><p style=text-align:justify>這個可以說成是“弱工具變量”問題，檢驗可以通過一階段的F值。還可以利用Partial R2。</p><p style=text-align:justify><br></p><p style=text-align:justify>4、估計方法</p><p style=text-align:justify><br></p><p style=text-align:justify>stata裡面有這麼幾個2sls，2sls smal、liml、gmm，各自適用情況：small適合小樣本；liml適合弱工具變量；gmm適合異方差。</p><p style=text-align:justify><br></p><p style=text-align:justify>【例子】</p><p style=text-align:justify><br></p><p style=text-align:justify>webuse hsng2</p><p style=text-align:justify><br></p><p style=text-align:justify>*Fit a regression via 2SLS, requesting small-sample statisticsivregress 2sls rent pcturban (hsngval = faminc iregion), small</p><p style=text-align:justify><br></p><p style=text-align:justify>*Fit a regression using the LIML estimatorivregress liml rent pcturban (hsngval = faminc iregion)</p><p style=text-align:justify><br></p><p style=text-align:justify>*Fit a regression via GMM using the default heteroskedasticity-robust weight matrixivregress gmm rent pcturban (hsngval = faminc iregion)</p><p style=text-align:justify><br></p><p style=text-align:justify>*Fit a regression via GMM using a heteroskedasticity-robust weight matrix, requesting nonrobust standard errorsivregress gmm rent pcturban (hsngval = faminc iregion), vce(unadjusted)</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>*檢驗</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>estata firststage ,all forcenonrobust \\\可以查看第一階段F值，已經partial R2</p><p style=text-align:justify><br></p><p style=text-align:justify>estat overid \\\查看是否過度識別</p><p style=text-align:justify><br></p><p style=text-align:justify>estat endogenous \\\查看是否異方差</p><p style=text-align:justify><br></p><p style=text-align:justify>regress 2sls rent pcturban hsngval</p><p style=text-align:justify><br></p><p style=text-align:justify>est store m1</p><p style=text-align:justify><br></p><p style=text-align:justify>ivregress 2sls rent pcturban (hsngval = faminc iregion)</p><p style=text-align:justify><br></p><p style=text-align:justify>est store m2</p><p style=text-align:justify><br></p><p style=text-align:justify>hausman m1 m2 \\\內生檢驗</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>工具變量的合理性</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>為了加深理解，也為了好玩，我們來看看人大經濟論壇上兩個被繞暈的人的對話：</p><p style=text-align:justify><br></p><p style=text-align:justify>甲：一個計量方程 y =a + bx +u, x如果有內生性，則需要找一個工具變量z。理論上來說，工具變量Z必須與殘差項U不相關，與被工具的變量X相關。但是x與u是相關的。實際上u總是會通過影響x來影響z的（因為u與x相關而x與z相關）。請問，這算不算工具變量z與殘差項u相關，從而導致工具變量z無效？我考慮，這個u與z之間的影響是間接的。是不是隻要不是直接的影響就可以？因為間接地影響好像是必然存在的。</p><p style=text-align:justify><br></p><p style=text-align:justify>比如說，阿西莫格魯（Acemoglu）那篇著名的關於制度與經濟增長的論文，把殖民時代的死亡率作為工具變量，但如果其他影響經濟增長的因素通過影響殖民時代的制度來影響殖民時代的死亡率，那麼死亡率這個工具變量不還是和殘差項相關嗎？</p><p style=text-align:justify><br></p><p style=text-align:justify>乙：我跟你的理解不一樣。X是內生變量，說明在X背後有一個或者多個外生變量可以解釋X，你所謂的那個工具變量Z就是那個主要解釋X的外生變量。如果你可以找到這個解釋X的外生變量，那就可以使得X與Z相關（因為可以建立X=a+bZ這樣的迴歸方程，那肯定相關），另外直接用X解釋Y的話，因為X是內生變量（也就是個二傳手），Z這個外生變量被包含在誤差項裡面了，所以誤差項與X會相關。但是你如果已經把Z給找出來了，並用工具變量法進行二階段迴歸或者GMM的話，那麼內生性問題就被消除了。單方程迴歸分析的解釋變量只能是外生變量，如果存在二傳手（內生變量）那麼就需要多一步建立外生變量（工具變量）與那個內生變量的關係（即工具變量對內生變量的迴歸方程，然後使用方程估計值取代原來的內生變量進行原方程的迴歸）。所以找工具變量是需要很強的理論知識的，工具變量一定是外生變量，如果還是找個內生的變量那就沒有意義了，多了個三轉手罷了。</p><p style=text-align:justify><br></p><p style=text-align:justify>甲：你好像沒回答我的問題，“如果已經把Z給找出來了，並用工具變量法進行二階段迴歸或者GMM的話，那麼內生性問題就被消除了”。可是得先確定z與誤差項不相關，才能找出合適的z啊。我的問題就是，如果誤差項通過影響x來影響z的（因為誤差項與x相關而x與z相關），此時我找出的z還是不是合適的工具變量。</p><p style=text-align:justify><br></p><p style=text-align:justify>乙：誤差項只是包含Z，不是影響Z。誤差項包含了Z，Z與X相關(並且Z是X的原因)，所以從現象上看就變成X與誤差項相關了。你找到的Z跟誤差項無關，跟X相關，而且從理論上解釋得通，那麼就可以當工具變量來用。另外工具變量一定要是外生變量，它只能影響別人不能被別人影響，也就是它只能是原因不能作為結果。（不然內生性問題還是沒有解決）</p><p style=text-align:justify><br></p><p style=text-align:justify>甲：“誤差項只是包含Z，不是影響Z。誤差項包含了Z，Z與X相關(並且Z是X的原因)，所以從現象上看就變成X與誤差項相 ...”可是誤差項完全有可能包含z之外的影響x的因素啊，也就是影響x的因素可能不止z一個啊，那樣的話這個z以外的誤差項包含的因素，不就可以通過與x相關進而與z相關了嗎？這樣工具變量z不就無效了嗎？</p><p style=text-align:justify><br></p><p style=text-align:justify>乙：我個人覺得因為這裡的Z也可以是範指，當然誤差項可能包含多個外生變量。一般不可能100%窮盡所有的可以影響X的外生變量，誤差項與X的相關性小到一定程度就可以收手了。Z變量需要是外生變量，如果誤差項裡面還有其他的因素可以影響Z變量，那就說明Z變量也是內生變量，這就是一個多層次的因果關係了，在因與果之間有多重的中間變量。呵呵~我牛角尖就鑽到這一步了，頭暈了。接下來等待其他高人的見解了！</p><p style=text-align:justify><br></p><p style=text-align:justify>同學們可以想一想，如果你是乙，你會怎麼回答甲的問題。</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>關於工具變量選擇</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>1， IV應該儘量是外生的（如歷史/自然/氣候/地理之類），它應該在理論上對被解釋變量（以下稱Y）沒有直接影響，但應該通過影響被工具的變量（以下稱X）而間接影響被解釋變量Y。</p><p style=text-align:justify><br></p><p style=text-align:justify>2， 如果上述理論邏輯通的話，將內生變量X作為解釋變量，IV和其他變量（X2）作為解釋變量，看IV是否顯著，它應該顯著。如果選了多個IV，就用F TEST看其是否都不顯著。同時，如果在多個IV中，有一個是確定為外生的，那麼，可以用Sargan test of overidentifying restrictions來檢驗其他的IV是不是確實是外生的。</p><p style=text-align:justify><br></p><p style=text-align:justify>3， 如果上述都沒有問題，做一下IV迴歸。完成後，用HAUSMAN檢驗，這個檢驗的原假說是IV迴歸與原迴歸（不用IV的迴歸）的變量的係數並沒有顯著的不同。看一下P值，如果P小於比如說0.1，或者0.05，那麼，說明IV迴歸與原來的迴歸顯著不同，原來的方程的確有內生性問題導致的估計偏誤。反之，如果P很高，超過0.1，或0.05，那說明IV迴歸與原來的迴歸沒有顯著不同，無法拒絕原來的迴歸沒有顯著的內生問題導致的估計偏誤的原假設。</p><p style=text-align:justify><br></p><p style=text-align:justify>4， 如果選擇的IV本身就影響Y，那它就不能被作為IV。例如，Y在左邊，右邊是X（被工具的），X2，IV。當IV被放在方程右邊時，它最好是不顯著影響Y的。在Acemoglu（2001）裡，他就檢驗了他們的IV是否直接影響被解釋變量，結果說明不直接影響，於是這個IV是好的。當然，一個好的IV在前面的迴歸中也可能是顯著的（不過一般如果理論和邏輯上IV是通過被工具的內生解釋變量間接影響被解釋變量的話，一般來說應該是被工具的內生解釋變量使得IV不顯著，或者由於兩者相關性很高，兩者都不顯著），但判斷的標準還只是t值。這個變量顯著完全有可能是因為它影響了其他顯著的變量（比如被工具的變量），如果是這樣，當包括了IV在原方程中以後，其他變量（特別需要注意的是被工具的變量X）的係數可能發生明顯變化。</p><p style=text-align:justify>我司提供服務有：<strong><u>職稱論文</u>、畢業論文 等文章代寫代發服務；健康管理師。教師資格證 ，執業醫師，著作，初，中，高級職稱</strong>辦理業務， 歡迎諮詢！</p><p><strong></strong></p><p><strong>我個人朋友圈會定期分享各省市評職稱論文的最新政策，職稱晉升技巧，如果您需要可加我微信或關注我司公眾號。</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>尋找</a></li><li><a>變量</a></li><li><a>工具</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/fd33cc8b.html alt=產品檢測時這些測量工具你都認識嗎，測量工具分類和常見工具介紹 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/4a32b4de0bc3426193dd29e3cb3abb63 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fd33cc8b.html title=產品檢測時這些測量工具你都認識嗎，測量工具分類和常見工具介紹>產品檢測時這些測量工具你都認識嗎，測量工具分類和常見工具介紹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a198e2d8.html alt="PHP 超級全局變量—教程大全" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/39b600034ed511258ffb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a198e2d8.html title="PHP 超級全局變量—教程大全">PHP 超級全局變量—教程大全</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2489aeed.html alt=PHP教程：PHP變量及實例 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d69779b784ef43d282ebdc9cd1182e32 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2489aeed.html title=PHP教程：PHP變量及實例>PHP教程：PHP變量及實例</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ac172950.html alt=中外精準變量施肥機械對比，國產農機追趕之路艱辛 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/3bd2368c4a0042e694c296f6e3b557dd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ac172950.html title=中外精準變量施肥機械對比，國產農機追趕之路艱辛>中外精準變量施肥機械對比，國產農機追趕之路艱辛</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7689c6d1.html alt=雷海洋：在奉獻中尋找人生價值 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7689c6d1.html title=雷海洋：在奉獻中尋找人生價值>雷海洋：在奉獻中尋找人生價值</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4c455850.html alt=劃線工具使用方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e5646d7fc4304a0a95a24a5381f8b310 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4c455850.html title=劃線工具使用方法>劃線工具使用方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/77cb8dfa.html alt=汽車維修工具-機加工工具 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/501a77b1911e49f38d4d412e901af474 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/77cb8dfa.html title=汽車維修工具-機加工工具>汽車維修工具-機加工工具</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fac7c8bc.html alt=尋找白沙先生在江門潮連島的兩處遺蹟 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5933000404fad0713bc1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fac7c8bc.html title=尋找白沙先生在江門潮連島的兩處遺蹟>尋找白沙先生在江門潮連島的兩處遺蹟</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/944070c4.html alt=知識拓展--尋找圖的強連通分量：tarjan算法簡單理解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ebbec94274514d53b2f5f54346833f43 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/944070c4.html title=知識拓展--尋找圖的強連通分量：tarjan算法簡單理解>知識拓展--尋找圖的強連通分量：tarjan算法簡單理解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7a9e076a.html alt=20個最佳SFTP和FTPS文件傳輸工具，系統管理員的工具清單！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1535358597285e439c80eb1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7a9e076a.html title=20個最佳SFTP和FTPS文件傳輸工具，系統管理員的工具清單！>20個最佳SFTP和FTPS文件傳輸工具，系統管理員的工具清單！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c5b19d12.html alt=C語言之變量 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/93e138a8fcee43bab2c07e8b25cb5ea2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c5b19d12.html title=C語言之變量>C語言之變量</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6554baa6.html alt=易語言靜態局部變量 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/383c758d1936484fabd71898348d5baf style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6554baa6.html title=易語言靜態局部變量>易語言靜態局部變量</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f8aedb41.html alt=如何尋找低估值股票？索羅斯的反射理論塑造經典“黃金時刻” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/RFCTmeAr7quZe style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f8aedb41.html title=如何尋找低估值股票？索羅斯的反射理論塑造經典“黃金時刻”>如何尋找低估值股票？索羅斯的反射理論塑造經典“黃金時刻”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/28150c84.html alt=輕鬆玩轉樂高積木：尋找最好的搭建方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/890143c09b3c43c087a96f436546c394 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/28150c84.html title=輕鬆玩轉樂高積木：尋找最好的搭建方法>輕鬆玩轉樂高積木：尋找最好的搭建方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f8bc2914.html alt=認識網線製作工具 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/71a865df62a541c6b32a7c302fe37e08 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f8bc2914.html title=認識網線製作工具>認識網線製作工具</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>