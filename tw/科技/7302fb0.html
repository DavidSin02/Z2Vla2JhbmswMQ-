<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>TCP/IP協議：傳輸層協議 | 极客快訊</title><meta property="og:title" content="TCP/IP協議：傳輸層協議 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/5bccccba9b1243d3afefcee4cc0d04ed"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7302fb0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7302fb0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7302fb0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7302fb0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7302fb0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7302fb0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/7302fb0.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/7302fb0.html><meta property="article:published_time" content="2020-10-29T20:50:28+08:00"><meta property="article:modified_time" content="2020-10-29T20:50:28+08:00"><meta name=Keywords content><meta name=description content="TCP/IP協議：傳輸層協議"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/7302fb0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>TCP/IP協議：傳輸層協議</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>網絡層是為主機之間提供邏輯通信，而運輸層為應用進程之間（socket：ip+端口）提供端到端的邏輯通信。<img alt=TCP/IP協議：傳輸層協議 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5bccccba9b1243d3afefcee4cc0d04ed></p><h2 id=端口-服務器使用的端口>端口 服務器使用的端口</h2><p>系統端口號/熟知端口號 (0-1023)FTP: 21</p><p>TELNET: 23</p><p>SMPT: 25</p><p>DNS: 53</p><p>TFTP: 69</p><p>HTTP: 80</p><p>SNMP: 161</p><p>SNMP(trap): 162</p><p>登記端口號 (1024-49151)</p><p>客戶端使用的端口號 (49152-65535)</p><p>由於這類端口號僅在客戶進程運行時才動態選擇，因此也叫做短暫端口號</p><p>TCP (面向連接，可靠)</p><p>socket</p><p>socket = (IP地址: 端口號)</p><p>每一條TCP連接唯一地被通信兩端的兩個端點(即兩個套接字)所確定。</p><p>同一個名詞socket卻可以表示多種不同的意思</p><p>允許應用程序訪問連網協議的應用編程接口API，即運輸層和應用層之間的一種接口，稱為socket API，並簡稱為socket。</p><p>socket是在應用層和傳輸層之間的一個抽象層，它把TCP/IP層複雜的操作抽象為幾個簡單的接口供應用層調用已實現進程在網絡中通信。</p><p>更多</p><p>在socket API中使用的一個函數名也叫做socket。</p><p>調用socket函數的端點成為socket，如“創建一個數據報socket”。</p><p>調用socket函數時，其返回值稱為socket描述符，可簡稱為socket。</p><p>在操作系統內核中連網協議的Berkeley實現，稱為socket實現。</p><p>上面的這些socket的意思都和(IP地址: 端口號)不同。</p><p><strong>特點</strong>TCP時面向連接的運輸層協議</p><p>每一條TCP連接只能有兩個端點，每一條TCP連接只能時點對點的。</p><p>TCP提供可靠交付的服務。</p><p>TCP提供全雙工通信。</p><p>面向字節流。TCP中的“流”(stream)指的是流入到進程或從進程流出的字節序列。</p><p>更多</p><p>面向字節流的含義是：</p><p>雖然應用程序和TCP的交互是一次一個數據塊(大小不等),但TCP把應用程序交下來的數據看成僅僅是一連串的無結構的字節流。TCP不保證接收方應用程序所收到的數據塊和發送方應用程序所發出的數據塊具有對應大小的關係（例如，發送方應用程序交給發送方的TCP共10個數據塊，但接收方的TCP可能只用了4個數據塊就把收到的字節流交付上層的應用程序）。TCP並不關心應用進程一次把多長的報文發送到TCP的緩存中，而是根據對方給出的窗口值和當前網絡擁塞的程度來決定一個報文段應包含多少個字節（UDP發送的報文長度是應用進程給出的）。如果應用進程傳送到TCP緩存的數據塊太長，TCP就可以把它劃分短一些再傳送。如果應用進程一次只發來一個字節，TCP也可以等待積累有足夠多的字節後再構成報文段發送出去。可靠傳輸的工作原理</p><p>TCP報文段的首部格式</p><p>TCP可靠傳輸的實現</p><p>TCP的流量控制</p><p>TCP的擁塞控制</p><p>TCP的運輸連接管理（三次握手四次揮手）</p><p><img alt=TCP/IP協議：傳輸層協議 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/03d60a1f79dd4cf48720715cc417c6c3></p><p><img alt=TCP/IP協議：傳輸層協議 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b52eaf36142d4ed1b3f3edc16d44d93b></p><p><strong>UDP (無連接，不可靠)</strong></p><p>用戶數據報協議UDP只在IP的數據報服務之上增加了很少的一點功能，這就是複用和分用的功能以及差錯檢測的功能。</p><p><strong>特點</strong></p><p>UDP是無連接的</p><p>UDP使用盡最大努力交付</p><p>UDP是面向報文的，發送方的UDP對應用程序交下來的報文，在添加首部後就向下交付IP層。</p><p>UDP對應用層交下來的報文，既不合並，也不拆分。因此，應用程序必須選擇合適大小的報文。</p><p>若報文太長，UPD把它交給IP層後，IP層在傳送時可能要進行分片，這會降低IP層的效率。</p><p>若報文太短，UDP把它交給IP層後，會使IP數據報的首部的相對長度太大，這也降低了IP層的效率。</p><p>UDP沒有擁塞控制</p><p>UDP支持一對一/一對多/多對一和多對多的交互通信</p><p>UDP的首部開銷小，只有8個字節，比TCP的20個字節的首部要短</p><p><strong>首部</strong><img alt=TCP/IP協議：傳輸層協議 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/fd52ee33f3234dc3bccd34ef97cbda51></p><p>偽首部(12字節)是用來計算校驗和的。</p><p><strong>檢驗和</strong></p><p>UDP計算檢驗和的方法和計算IP數據報首部檢驗和的方法類似。但不同的是：</p><p>IP數據報的檢驗和只檢驗IP數據報的首部，但UDP的檢驗和是把首部和數據部分一起都檢驗。</p><p>UDP的檢驗和即檢查了UDP用戶數據報的源端口和目的端口以及UDP用戶數據報的數據部分，又檢查了IP數據報的源IP地址和目的地址。</p><p>其他</p><p>如果接收方UDP發現收到的報文中的目的端口不存在對應的應用進程，就丟棄該報文，並由網際控制報文協議ICMP發送“端口不可達”差錯報文給發送方。</p><p>traceroute就是讓發送的UDP用戶數據報故意使用一個非法的UDP端口，結果ICMP就返回“端口不可達”差錯報文，因而達到了測試的目的。</p><blockquote><p>※部分文章來源於網絡，如有侵權請聯繫刪除；更多文章和資料|點擊後方文字直達 ↓↓↓<a href>100GPython自學資料包</a><a href>阿里雲K8s實戰手冊</a> [阿里雲CDN排坑指南]<a href>CDN</a> <a href>ECS運維指南</a> <a href>DevOps實踐手冊</a> <a href>Hadoop大數據實戰手冊</a> <a href>Knative雲原生應用開發指南</a> <a href>OSS 運維實戰手冊</a><a href>雲原生架構白皮書</a><a href>Zabbix企業級分佈式監控系統源碼文檔</a><a href>10G大廠面試題戳領</a></p></blockquote></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>協議</a></li><li><a>TCP</a></li><li><a>IP</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/1bd1e17.html alt=一文讀懂TCP/IP協議工作原理和工作流程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/ea27784370b9441090baaf9c8cf57977 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1bd1e17.html title=一文讀懂TCP/IP協議工作原理和工作流程>一文讀懂TCP/IP協議工作原理和工作流程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/13955a3.html alt="TCP/IP 結構模型/Internet 協議（IP）/傳輸控制協議（TCP）" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/8f291e6a61fa4b45a91b81f2589002c5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/13955a3.html title="TCP/IP 結構模型/Internet 協議（IP）/傳輸控制協議（TCP）">TCP/IP 結構模型/Internet 協議（IP）/傳輸控制協議（TCP）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c8da7b9.html alt=TCP/IP協議分為哪四層，具體作用是什麼？http與tcp區別 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/250b6d508b7a4694baa0371a1f53a17c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c8da7b9.html title=TCP/IP協議分為哪四層，具體作用是什麼？http與tcp區別>TCP/IP協議分為哪四層，具體作用是什麼？http與tcp區別</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3364d34.html alt=TCP/IP協議是網絡協議中的核心協議，含三次握手，四次分手 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/fc06324c0dfc4990bb88bbf41769b159 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3364d34.html title=TCP/IP協議是網絡協議中的核心協議，含三次握手，四次分手>TCP/IP協議是網絡協議中的核心協議，含三次握手，四次分手</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8756f3f.html alt=以太網接口TCP/IP協議介紹，說的很容易懂了 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d073c29b03984e3aa025b70cd50cc493 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8756f3f.html title=以太網接口TCP/IP協議介紹，說的很容易懂了>以太網接口TCP/IP協議介紹，說的很容易懂了</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a660d731.html alt=網絡基本概念-TCP/IP架構及各層網絡協議 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/7f834ac140184ca6a079de4d0d3e515c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a660d731.html title=網絡基本概念-TCP/IP架構及各層網絡協議>網絡基本概念-TCP/IP架構及各層網絡協議</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/024d3fc2.html alt=TCP/IP報文格式，康康就知道了 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/73eecbbd2b0c4f93ad75a83ff43ace41 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/024d3fc2.html title=TCP/IP報文格式，康康就知道了>TCP/IP報文格式，康康就知道了</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ce824d7f.html alt=淺談TCP協議（建立與斷開連接） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/4112ca2d63f04cddae0aadca168ea063 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ce824d7f.html title=淺談TCP協議（建立與斷開連接）>淺談TCP協議（建立與斷開連接）</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/0365df13.html alt=TCP與IP的對比，TCP的報文頭介紹，TCP的三次握手和TCP的安全機制 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/f1fd0df30c1c4366be12eef1be8b593b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/0365df13.html title=TCP與IP的對比，TCP的報文頭介紹，TCP的三次握手和TCP的安全機制>TCP與IP的對比，TCP的報文頭介紹，TCP的三次握手和TCP的安全機制</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/f51b5ddc.html alt=TCP/IP-運輸層-你需要知道的運輸層概念 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/a47a604cc4e34358a5357f9e7af4f2da style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/f51b5ddc.html title=TCP/IP-運輸層-你需要知道的運輸層概念>TCP/IP-運輸層-你需要知道的運輸層概念</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a2afccb6.html alt="TCP/IP 門禁控制器通訊不上故障排查方法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a2afccb6.html title="TCP/IP 門禁控制器通訊不上故障排查方法">TCP/IP 門禁控制器通訊不上故障排查方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2eb6f16c.html alt="一文讀懂 TCP/IP 網絡模型" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c7aa7812af5c4f46b1cfc94a150dc976 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2eb6f16c.html title="一文讀懂 TCP/IP 網絡模型">一文讀懂 TCP/IP 網絡模型</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5351d79a.html alt=學習TCP/IP協議之前，你應該先理解OSI開放式互聯參考模型，功倍 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d7d062cd949b4d148ab7f6a0b6af23b4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5351d79a.html title=學習TCP/IP協議之前，你應該先理解OSI開放式互聯參考模型，功倍>學習TCP/IP協議之前，你應該先理解OSI開放式互聯參考模型，功倍</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d3de5499.html alt=說說TCP/IP參考模型與OSI七層模型的關係 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ac183e86a25c4c249fa89a3bd6cbeeb6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d3de5499.html title=說說TCP/IP參考模型與OSI七層模型的關係>說說TCP/IP參考模型與OSI七層模型的關係</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/48b15feb.html alt=TCP/IP參考模型 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1e7063fc1fad41fdb324668595754ef6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/48b15feb.html title=TCP/IP參考模型>TCP/IP參考模型</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>