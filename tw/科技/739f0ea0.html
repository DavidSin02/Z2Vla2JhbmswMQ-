<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>SPL 的序號思維及定位計算（上） | 极客快訊</title><meta property="og:title" content="SPL 的序號思維及定位計算（上） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/1437e9d2ac5b4a208d1104e11ba96f07"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/739f0ea0.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/739f0ea0.html><meta property="article:published_time" content="2020-11-14T21:07:40+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:40+08:00"><meta name=Keywords content><meta name=description content="SPL 的序號思維及定位計算（上）"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/739f0ea0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>SPL 的序號思維及定位計算（上）</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>SPL中的集合都是有序的，可以用序號來引用成員，靈活運用序號可以使運算更為簡捷高效。</p><h1>1 成員訪問</h1><p>SPL的某些函數中可以使用序號或序號數列作為參數，最簡單的應用是直接用序號訪問成員，這和一般編程語言中的數組類似。</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1437e9d2ac5b4a208d1104e11ba96f07><p class=pgc-img-caption></p></div><p>A2與A3從序列中獲取指定位置的成員，位置序號是從1開始的，結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/53d28b4a7ca84016b62a183df747389e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/06810a3f6a17495f8dc8d1822693564e><p class=pgc-img-caption></p></div><p>A4與A5修改了序列中的某個成員，用分步執行的方式，可以看到A1中序列的變化如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1244a88c230842d3884eb25ac9210b0e><p class=pgc-img-caption></p></div><p>使用<strong>A</strong>.m(<strong>i</strong>) 函數可以從後面倒數取或循環取，這個函數為<strong>A</strong>(<strong>i</strong>) 提供了有效的補充。</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6d2b74fc995145f4b8d5615a9ecb5fb0><p class=pgc-img-caption></p></div><p>A2和A3用<strong>A</strong>.m() 函數從序列中獲取指定序號成員的值，其中-2表示倒數第2個成員。A4和A5中的代碼添加了@r選項，在獲取成員時，如果指定的序號越界則循環取數，如序號12循環A1中的成員2次後，相當於獲取第2個成員。A2~A5結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/06810a3f6a17495f8dc8d1822693564e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/fe119f1076f240aa82ec404af70c2ee5><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/53d28b4a7ca84016b62a183df747389e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4f2725883bf6419c9b674bac4f993a9f><p class=pgc-img-caption></p></div><p>A6中，指定的序號6超過了序列的長度，又沒有使用@r選項，會返回空值。</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5bbffce0a504460d86bb3597bbcc838e><p class=pgc-img-caption></p></div><p>SPL還提供了一組關於位置查找的函數，它們都是以p開頭的，如：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/a3cc40fd34be4ac5b6356d355ada4cc5><p class=pgc-img-caption></p></div><p>A2查找指定成員的位置序號，如果有多個同值成員，只返回第1個序號。A3和A4分別返回最小與最大成員的序號。A5中，找到第1個滿足設定條件的成員的序號，這裡查找第1個5的倍數成員所在位置。計算後，A2~A5結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3c04b61ae80c40a9af81dbaaa1377067><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4f2725883bf6419c9b674bac4f993a9f><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ef3b3160db7944ebbd8a71cc0ed9b3dc><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3c04b61ae80c40a9af81dbaaa1377067><p class=pgc-img-caption></p></div><p>如果無法找到成員，<strong>A</strong>.pos() 函數將返回null，因此可以用<strong>A</strong>.pos()函數來判斷成員是否屬於集合。</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/6a42ebb7b3c7497cbfbc8768ecc304e0><p class=pgc-img-caption></p></div><p>A2與A3計算結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/842dae3da48a4c85b092743458ef509c><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3718d715a7e94e29af5def56bc49a1fc><p class=pgc-img-caption></p></div><h1>2 子集訪問</h1><p>用序號數列作為參數可以訪問集合的子集，如：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e87ba3419c3a433b88a57f97ab51c28d><p class=pgc-img-caption></p></div><p>A2,A3與A4分別從序列中獲取子集，計算後，A2,A3和A4結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3a796d0df038432892cccdba2628bddf><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/17c44f645a5e416c93bd113d8c6b5975><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/26fba534b33d44dfae380039198ff008><p class=pgc-img-caption></p></div><p>A5與A6修改序列中的成員，使用序數數列作為參數，一次修改多個成員。分步執行時可以看到A1中序列的改變如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9a2d41ece87d4183b5e959646e771e61><p class=pgc-img-caption></p></div><p><strong>A</strong>.m() 函數也可以使用數列參數獲得子集：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d0677b2e98794808beb316c12e08ba12><p class=pgc-img-caption></p></div><p>在例子中，參數數列中可以使用負數表示倒數的位置，也可以添加@r選項表示位置越界迴轉。另外還可以使用@0選項，此時如果參數序列中存在越界的序號，則對應的空值不會出現在結果中。A2,A3和A4結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e0525dd7830e44f0b79078c86994db61><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/c553619d3a634072925b8d53f14a8f72><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f0c213739b3748b5902ea93335547f9e><p class=pgc-img-caption></p></div><p>如果在位置查找函數中加上@a選項，將找到所有滿足條件的成員，並用它們的序號構成數列返回：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/e1b967b3149843639e1824ebe65535b5><p class=pgc-img-caption></p></div><p>由於添加了@a選項，此時A2會返回序列A1中所有2的位置，A3會返回值最小的所有成員的序號，A4會返回值最大的所有成員的序號，A5會返回所有2的倍數的成員的序號。使用@a選項時，即使只找到一個成員，也將返回序號的序列，而不是序號本身，如A6查找8所在的所有位置。A2~A6計算結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/708a0dd3534145d488aa7f0c0153885f><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cc197f2a76034ea790eb3fd3f55f993e><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/05385a29dd0a483a82fe5d2f66c7f86a><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/495ff4e51f524fd7b2fa90b26baa5e63><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6d59afefc36f4e79a999803fb6b2c5b2><p class=pgc-img-caption></p></div><p>同時返回多個成員的位置需要用<strong>A</strong>.pos() 函數時，根據需要可能需要添加@i選項，如：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9af9d11f851f492dac61af938c6885d0><p class=pgc-img-caption></p></div><p>使用<strong>A</strong>.pos@i() 在查找參數序列中的成員時，會單向順次進行；而只使用<strong>A</strong>.pos() 時只會簡單判斷序列<strong>A</strong>中是否包含參數序列中的每個成員。A2~A7結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d6482bfa4f8e4d4684f829b1b21ed3c6><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1a793882fe1b488cbeb72541228f3222><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1a793882fe1b488cbeb72541228f3222><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/43398d8453b14bfb9fefaeb23751f4cf><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/5f4226a5ff9f499898634362b140d091><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/72b735a531ef47e9aaddd57e0990b74a><p class=pgc-img-caption></p></div><p>可以看到，A3與A4的結果為空，其中A3計算時找不到序列中的第3個1，A4計算時無法依次找到1,2,3。或者說，<strong>A</strong>.pos@i() 只會返回遞增數列，如果不能找到結果即返回null。</p><p><strong>A</strong>.pos@i() 在有成員找不到時將返回空，但由於次序和可重複成員的因素，並不能簡單地用其判斷子集是否被包含，一般要用交運算：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/562af8fac29c4f6bb8823b8ceb35581a><p class=pgc-img-caption></p></div><p>A2~A4結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3718d715a7e94e29af5def56bc49a1fc><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/842dae3da48a4c85b092743458ef509c><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/842dae3da48a4c85b092743458ef509c><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3718d715a7e94e29af5def56bc49a1fc><p class=pgc-img-caption></p></div><p>其中，用<strong>A</strong>.pos@i(<strong>B</strong>) 查找判斷時，如果結果非空，說明在<strong>A</strong>中可以依次找到<strong>B</strong>中的成員，說明<strong>A</strong>必然包含<strong>B</strong>。但是如果查找結果是null，只能說明在<strong>A</strong>中無法依次找到<strong>B</strong>中的成員，並不能說明<strong>A</strong>必然不包含<strong>B</strong>，比如A3中的情況。</p><p>用<strong>A</strong>.pos(<strong>B</strong>) 查找判斷時，如果結果為空，說明<strong>B</strong>中一定有成員是無法在<strong>A</strong>中找到的，說明<strong>A</strong>必然不包含<strong>B</strong>。但是，如果此時查找的結果不為空，如果<strong>B</strong>中存在重複的成員，那麼是無法保證<strong>A</strong>包含<strong>B</strong>的，如A5中的情況。</p><p>A8與A9結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/842dae3da48a4c85b092743458ef509c><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3718d715a7e94e29af5def56bc49a1fc><p class=pgc-img-caption></p></div><p>用<strong>B</strong>^<strong>A</strong>==<strong>B</strong>來判斷<strong>A</strong>是否包含<strong>B</strong>是可行的，根據A8和A9中的結果，可以確定A1包含A6，但A1不包含A7。使用這種方法時需要注意，交運算的操作數不能反過來，否則計算<strong>A</strong>^<strong>B</strong>得到的結果中成員的順序有可能與<strong>B</strong>不同，就無法正確判斷了。</p><h1>3 循環函數定位</h1><p>類似符號~，在循環函數的參數中，可以用#表示當前成員的序號。</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/da338cec7e7246008ff96e1442f65aad><p class=pgc-img-caption></p></div><p>A2獲得序號構成的數列，A3獲得每個位置成員與序號相加的結果序列。A4用<strong>A</strong>.select()函數在A1的序列中選出每3箇中的第2個成員，即第2,5,8,…位置的成員，並構成序列。A5中將A1每2個成員分為一組。A2~A5結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/850d87834c954fbdad45939d9af2ff8d><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/133338a33f3140c297cc4249519dc938><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/dedb4d094cf54706b5b431e599296aec><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c487eef6397e4fa5abf8524faf9ed5d1><p class=pgc-img-caption></p></div><p>在循環函數中，SPL還提供用[ ]符號以相對方式訪問成員：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/1c18729dc20d498396a1deb5fac1ec9b><p class=pgc-img-caption></p></div><p>A2就是從序列中取出每個成員本身，A3在每個位置取出後面的1個成員，A4計算出序列中每個成員與前一個成員相比較的增長率。A2,A3和A4計算結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/850d87834c954fbdad45939d9af2ff8d><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2bbec8fd15ef42d2b7cf458257290962><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/db3b39411aaa42e0a250cf6943e8f225><p class=pgc-img-caption></p></div><p>A5查詢出指定編號的股票信息。A6計算出每日股價的漲幅，A8進一步計算出這支股票的最大連漲天數。A6和A8的結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/aaa5a1dc053b4952be6d2c28d80f4657><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/091332807d49449fa0709df6c56c0f16><p class=pgc-img-caption></p></div><p>還可以用~[<strong>a</strong>,<strong>b</strong>]在循環運算中訪問子集：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/67182afb2dcd4d4ab7274685f32974cd><p class=pgc-img-caption></p></div><p>A2在每個位置列出了序列中前後3個位置的成員。A3計算每個位置的移動平均值。A4和A5同樣都是累計求和。A6計算反向的累計求和，即剩餘成員的總和。A2~A6結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bb43c980220c4b96a69deb95b390b8c7><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/71053f191896463b9c639c10528a6471><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/aee34ff8cf8441c9b774ab4a473e4229><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/aee34ff8cf8441c9b774ab4a473e4229><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d313b8358c3c4160ace663f62a5e54f8><p class=pgc-img-caption></p></div><h1>4 對位訪問</h1><p>我們知道，循環函數中的符號#用以表示當前成員的序號，事實上它就是個數，和其它數一樣可以參加運算，特別是可以用作序號訪問其它序列的成員。利用這個特點，我們可以在計算中對位訪問其它序列：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/084eb47f1da84e4086e88bc8e43cf8b6><p class=pgc-img-caption></p></div><p>在循環計算中，表達式中的#可以用來表示當前的序號。計算後，A2,A3,A5,A6和A7結果分別如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/850d87834c954fbdad45939d9af2ff8d><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/258bc07b024943e2898a59d44b12f95a><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/133338a33f3140c297cc4249519dc938><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/133338a33f3140c297cc4249519dc938><p class=pgc-img-caption></p></div><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/00874d3900b74b92828147788c9f0390><p class=pgc-img-caption></p></div><p>使用多個等長的序列時，利用對位訪問可以實現出類似記錄字段的效果：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/08992aca0b0546ea9281610c102015fb><p class=pgc-img-caption></p></div><p>A4計算總分的排名，計算總分時按照位置取得成績。A5生成姓名與排名的序表，同樣根據位置將兩個序列中的數據關聯起來。A4和A5結果如下：</p><div class=pgc-img><img alt="SPL 的序號思維及定位計算（上）" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0fa535f12c2b43bbb0959b86793e9cd5><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>SPL</a></li><li><a>序號</a></li><li><a>思維及</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/d461e468.html alt="SPL 的集合思維" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b0cab605feda44bbab62157c98769c56 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d461e468.html title="SPL 的集合思維">SPL 的集合思維</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/57ffad7.html alt=上海那些帶第一至第十序號的鋼鐵廠，儂還記得伐？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e30e0c991e7d44338e6d5a716fd3dc81 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/57ffad7.html title=上海那些帶第一至第十序號的鋼鐵廠，儂還記得伐？>上海那些帶第一至第十序號的鋼鐵廠，儂還記得伐？</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>