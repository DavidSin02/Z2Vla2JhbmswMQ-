<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Dcat Admin v1.6.0ç™¼ä½ˆï¼Œå°å¾Œç«¯é–‹ç™¼è€…å‹å¥½çš„é«˜é¡å€¼å¾Œè‡ºç³»çµ± | æå®¢å¿«è¨Š</title><meta property="og:title" content="Dcat Admin v1.6.0ç™¼ä½ˆï¼Œå°å¾Œç«¯é–‹ç™¼è€…å‹å¥½çš„é«˜é¡å€¼å¾Œè‡ºç³»çµ± - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/9eb5279f0c3f484c8d418644754c6d1d"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/78ee7a41.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/78ee7a41.html><meta property="article:published_time" content="2020-11-14T20:55:23+08:00"><meta property="article:modified_time" content="2020-11-14T20:55:23+08:00"><meta name=Keywords content><meta name=description content="Dcat Admin v1.6.0ç™¼ä½ˆï¼Œå°å¾Œç«¯é–‹ç™¼è€…å‹å¥½çš„é«˜é¡å€¼å¾Œè‡ºç³»çµ±"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/78ee7a41.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Dcat Admin v1.6.0ç™¼ä½ˆï¼Œå°å¾Œç«¯é–‹ç™¼è€…å‹å¥½çš„é«˜é¡å€¼å¾Œè‡ºç³»çµ±</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><blockquote class=pgc-blockquote-abstract><p>ä¾†æºï¼šhttps://www.oschina.net/news/117140/dcat-admin-1-6-0-released</p></blockquote><h1 class=pgc-h-arrow-right>ç°¡ä»‹</h1><p>Dcat Adminæ˜¯ä¸€å€‹åŸºæ–¼laravel-adminäºŒæ¬¡é–‹ç™¼è€Œæˆçš„å¾Œè‡ºç³»çµ±æ§‹å»ºå·¥å…·ï¼Œåªéœ€å¾ˆå°‘çš„ä»£ç¢¼å³å¯å¿«é€Ÿæ§‹å»ºå‡ºä¸€å€‹åŠŸèƒ½å®Œå–„çš„é«˜é¡å€¼å¾Œè‡ºç³»çµ±ã€‚å…§ç½®è±å¯Œçš„å¾Œè‡ºå¸¸ç”¨çµ„ä»¶ï¼Œé–‹ç®±å³ç”¨ï¼Œè®“é–‹ç™¼è€…å‘Šåˆ¥å†—é›œçš„HTMLä»£ç¢¼ï¼Œå°å¾Œç«¯é–‹ç™¼è€…éå¸¸å‹å¥½ã€‚</p><p>Dcat Admin v1.6.0 æ›´æ–°å…§å®¹ï¼š</p><p>æœ¬æ¬¡ç‰ˆæœ¬æ²’æœ‰åŒ…å«ä¸å…¼å®¹æ”¹å‹•ï¼Œé©åˆæ‰€æœ‰ç”¨æˆ¶å‡ç´šã€‚</p><p><strong>å‡ç´šæ–¹æ³•</strong></p><pre><code>composer update dcat/laravel-admin</code></pre><p>æœ¬æ¬¡ç‰ˆæœ¬éœ€è¦é‡æ–°ç™¼å¸ƒ<strong>éœæ…‹è³‡æº</strong>ä»¥åŠ<strong>èªè¨€åŒ…</strong>ï¼Œç„¶å¾ŒæŒ‰Ctrl+F5<strong>æ¸…é™¤ç€è¦½å™¨ç·©å­˜</strong>ï¼</p><pre><code>php artisan admin:publish --assets --forcephp artisan admin:publish --lang --force</code></pre><p></p><p><strong>åŠŸèƒ½æ–°å¢éƒ¨åˆ†</strong></p><p><strong>1.è¡¨æ ¼å›ºå®šåˆ—</strong></p><blockquote class=pgc-blockquote-abstract><p>æ³¨æ„é€™å€‹åŠŸèƒ½æ”¯æŒçµ„åˆè¡¨é ­åŠŸèƒ½ï¼Œä½†ä¸å…¼å®¹åˆ—å­—æ®µéš±è—åŠŸèƒ½ï¼</p></blockquote><p>é€šé fixColumns æ–¹æ³•å¯ä»¥çµ¦è¡¨æ ¼è¨­ç½®å›ºå®šåˆ—ï¼Œç¬¬ä¸€å€‹åƒæ•¸è¡¨ç¤ºå›ºå®šå¾é ­é–‹å§‹çš„å‰ä¸‰åˆ—ï¼Œç¬¬äºŒå€‹åƒæ•¸è¡¨ç¤ºå›ºå®šå¾å¾Œå¾€å‰æ•¸çš„å…©åˆ—ï¼Œï¼ˆç¬¬äºŒå€‹åƒæ•¸å¯ä¸å‚³ï¼Œé»˜èªç‚º-1ï¼‰</p><pre><code>$grid-&gt;fixColumns(2, -2);</code></pre><p>æ•ˆæœ</p><div class=pgc-img><img alt="Dcat Admin v1.6.0ç™¼ä½ˆï¼Œå°å¾Œç«¯é–‹ç™¼è€…å‹å¥½çš„é«˜é¡å€¼å¾Œè‡ºç³»çµ±" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9eb5279f0c3f484c8d418644754c6d1d><p class=pgc-img-caption></p></div><p></p><p><strong>2.è¡¨å–®å­—æ®µå‹•æ…‹é¡¯ç¤º</strong></p><p>æ­¤åŠŸèƒ½åœ¨å·¥å…·è¡¨å–®ä¸­ä¸€æ¨£æœ‰æ•ˆï¼Œæ›´å¤šç”¨æ³•è«‹åƒè€ƒæ–‡æª”è¡¨å–®å­—æ®µå‹•æ…‹é¡¯ç¤º</p><pre><code>$form-&gt;radio('radio')    -&gt;when([1, 4], function (Form $form) {        // å€¼ç‚º1å’Œ4æ™‚é¡¯ç¤ºæ–‡æœ¬æ¡†        $form-&gt;text('text1');        $form-&gt;text('text2');        $form-&gt;text('text3');    })    -&gt;when(2, function (Form $form) {        $form-&gt;editor('editor');    })    -&gt;when(3, function (Form $form) {        $form-&gt;image('image');    })    -&gt;options([        1 =&gt; 'é¡¯ç¤ºæ–‡æœ¬æ¡†',        2 =&gt; 'é¡¯ç¤ºç·¨è¼¯å™¨',        3 =&gt; 'é¡¯ç¤ºæ–‡ä»¶ä¸Šå‚³',        4 =&gt; 'é‚„æ˜¯é¡¯ç¤ºæ–‡æœ¬æ¡†',    ])    -&gt;default(1);</code></pre><p>æ•ˆæœ</p><div class=pgc-img><img alt="Dcat Admin v1.6.0ç™¼ä½ˆï¼Œå°å¾Œç«¯é–‹ç™¼è€…å‹å¥½çš„é«˜é¡å€¼å¾Œè‡ºç³»çµ±" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f091d03f4ae54cdd85d315f05600c5db><p class=pgc-img-caption></p></div><p></p><p><strong>3.è¡¨å–®æ”¯æŒå¤šåˆ—å¸ƒå±€ (column)</strong></p><p>å¤šåˆ—å¸ƒå±€åŠŸèƒ½ä½¿ç”¨äº†bootstrapçš„æŸµæ ¼ä½ˆå±€ç³»çµ±ï¼Œæ‰€æœ‰åˆ—çš„å¯¬åº¦ç¸½å’Œä¸å¾—è¶…å‡º12</p><pre><code>// ç¬¬ä¸€åˆ—ä½”æ“š1/2çš„é é¢å¯¬åº¦$form-&gt;column(6, function (Form $form) {    $form-&gt;text('name')-&gt;required();    $form-&gt;date('born')-&gt;required();    $form-&gt;select('education')-&gt;options([...])-&gt;required();    ...});// ç¬¬äºŒåˆ—ä½”æ“š1/2çš„é é¢å¯¬åº¦$form-&gt;column(6, function (Form $form) {    $form-&gt;image('avatar');    $form-&gt;decimal('wages');    $form-&gt;decimal('fund');    ...});// èª¿æ•´æ‰€æœ‰è¡¨å–®çš„å¯¬åº¦$form-&gt;width(9, 2);</code></pre><p>æ•ˆæœ</p><div class=pgc-img><img alt="Dcat Admin v1.6.0ç™¼ä½ˆï¼Œå°å¾Œç«¯é–‹ç™¼è€…å‹å¥½çš„é«˜é¡å€¼å¾Œè‡ºç³»çµ±" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/30a9b25e31984b448f7f56b713ee3078><p class=pgc-img-caption></p></div><p></p><p><strong>4.å·¥å…·è¡¨å–®æ”¯æŒtabã€columnç­‰ä½ˆå±€åŠŸèƒ½</strong></p><p>æ›´å¤šç”¨æ³•è«‹åƒè€ƒæ–‡æª”å·¥å…·è¡¨å–®ä½ˆå±€</p><pre><code>&lt;?phpuse Dcat\Admin\Widgets\Form;class Setting extends Form{    public function form()    {        $this-&gt;tab('é¸é …1', function () {            $this-&gt;text('text1');            ...        });        $this-&gt;tab('é¸é …2', function () {            $this-&gt;text('text2');            ...        });    }    }</code></pre><p></p><p><strong>5.è¡¨æ ¼åˆ—è½‰åŒ–boolå€¼é¡¯ç¤º</strong></p><p>æ­¤åŠŸèƒ½ç”±å°å¤¥ä¼´@yalksè²¢ç»ï¼Œå°‡é€™ä¸€åˆ—è½‰ç‚ºboolå€¼ä¹‹å¾Œé¡¯ç¤ºç‚ºâœ“å’Œâœ—ã€‚</p><pre><code>$grid-&gt;column('approved')-&gt;bool();</code></pre><p>ä½ ä¹Ÿå¯ä»¥æŒ‰ç…§é€™ä¸€åˆ—çš„å€¼æŒ‡å®šé¡¯ç¤ºï¼Œæ¯”å¦‚å­—æ®µçš„å€¼ç‚ºYå’ŒNè¡¨ç¤ºtrueå’Œfalse</p><pre><code>$grid-&gt;column('approved')-&gt;bool(['Y' =&gt; true, 'N' =&gt; false]);</code></pre><p></p><p><strong>6.è¡¨æ ¼ä½¿ç”¨æ»‘å‹•é¢æ¿æœç´¢æ™‚é¡¯ç¤ºæœç´¢æ¢ä»¶çš„æ•¸é‡</strong></p><p><strong></strong></p><div class=pgc-img><img alt="Dcat Admin v1.6.0ç™¼ä½ˆï¼Œå°å¾Œç«¯é–‹ç™¼è€…å‹å¥½çš„é«˜é¡å€¼å¾Œè‡ºç³»çµ±" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/55438c0f14d846a7b9fe90300d000e87><p class=pgc-img-caption></p></div><p><strong></strong></p><p><strong>7.tagsæ¨™ç±¤è¡¨å–®æ”¯æŒajaxåŠ è¼‰</strong></p><p>æ­¤åŠŸèƒ½ç”±å°å¤¥ä¼´@larvacentè²¢ç»</p><pre><code>$form-&gt;tags('friends')-&gt;options(function ($ids) {    return User::find((array) $ids)-&gt;pluck('name', 'id');})-&gt;ajax('api/users');</code></pre><p>API /admin/api/usersæ¥å£çš„ä»£ç¢¼ï¼š</p><pre><code>public function users(Request $request){    $q = $request-&gt;get('q');    return User::where('name', 'like', "%$q%")-&gt;paginate(null, ['id', 'name as text']);}</code></pre><p><strong></strong></p><p><strong>8.å½ˆçª—é¸æ“‡å™¨å…è¨±å‚³égetåƒæ•¸</strong></p><pre><code>$form-&gt;selectResource('user_id')-&gt;path('auth/users?p1=v1&amp;p2=v2');</code></pre><p><strong></strong></p><p><strong>9.actionç”Ÿæˆå‘½ä»¤ä»¥åŠä»£ç¢¼ç”Ÿæˆå™¨æ”¯æŒè‡ªå®šç¾©PSR4æŒ‡å®šçš„ç›®éŒ„</strong></p><p></p><p><strong>10.ä»£ç¢¼ç”Ÿæˆå™¨æ”¯æŒè‡ªå®šç¾©æ•¸æ“šå€‰åº«åç¨±</strong></p><p></p><p><strong>11.å·¥å…·è¡¨å–®æ”¯æŒEmbedsé¡å‹è¡¨å–®</strong></p><p><strong></strong></p><p><strong>12.è¡¨å–®å¢åŠ locationåˆ·æ–°æ•´å€‹é é¢æ–¹æ³•</strong></p><blockquote class=pgc-blockquote-abstract><p>æ­¤åŠŸèƒ½åœ¨å·¥å…·è¡¨å–®ä¸­ä¹Ÿä¸€æ¨£å¯ä»¥ä½¿ç”¨</p></blockquote><p>æ­¤æ–¹æ³•å¯ä»¥åˆ·æ–°æ•´å€‹é é¢ï¼Œè€Œä¸æ˜¯å±€éƒ¨åˆ·æ–°</p><pre><code>$form-&gt;saved(function (Form $form) {    // ä¸å‚³åƒæ•¸å‰‡åˆ·æ–°ç•¶å‰é é¢    // return $form-&gt;location();    return $form-&gt;location('auth/user', 'ä¿å­˜æˆåŠŸ');});// è·³è½‰ä¸¦æç¤ºéŒ¯èª¤ä¿¡æ¯$form-&gt;saved(function (Form $form) {    return $form-&gt;location('auth/user', [        'message' =&gt; 'ç³»çµ±éŒ¯èª¤',        'status' =&gt; false,    ]);});</code></pre><p><strong></strong></p><p><strong>13.è‡ªå‹•å¿½ç•¥Display ã€Text readonlyä»¥åŠText disableé¡å‹è¡¨å–®</strong></p><p>#310</p><p><strong></strong></p><p><strong>14.Expandä»¥åŠModalå…è¨±åœ¨é–‰åŒ…å…§è¿”å›ç•°æ­¥åŠ è¼‰é¡çš„å¯¦ä¾‹</strong></p><pre><code>$grid-&gt;post-&gt;modal(function ($modal) {    $modal-&gt;title('è‡ªå®šç¾©å½ˆçª—æ¨™é¡Œ');    // å…è¨±åœ¨æ¯”åŒ…å…§è¿”å›ç•°æ­¥åŠ è¼‰é¡çš„å¯¦ä¾‹    return Post::make(['title' =&gt; $this-&gt;&gt;title]);});</code></pre><p><strong></strong></p><p><strong>BUGä¿®å¾©éƒ¨åˆ†</strong></p><ol start=1><li>ä¿®å¾©è¡¨å–®Fieldsetä½ˆå±€é»˜èªé¡¯ç¤ºç‚ºæ”¶èµ·å•é¡Œ</li><li>ä¿®å¾©numberè¡¨å–®çµ„ä»¶ç„¡æ³•ä¿å­˜å°æ•¸å•é¡Œ</li><li>ä¿®å¾©ç•¶ç¦ç”¨ConvertEmptyStringsToNullä¸­é–“ä»¶æ™‚HasManyè¡¨å–®ç„¡æ³•ä¿å­˜æ–°å¢æ•¸æ“šå•é¡Œ</li></ol></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Dcat</a></li><li><a>Admin</a></li><li><a>v1.6</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>