<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Rustèªè¨€å…¥é–€æ•™ç¨‹ ä½¿ç”¨æ³›å‹å®šç¾©å…±äº«çš„è¡Œç‚º | æå®¢å¿«è¨Š</title><meta property="og:title" content="Rustèªè¨€å…¥é–€æ•™ç¨‹ ä½¿ç”¨æ³›å‹å®šç¾©å…±äº«çš„è¡Œç‚º - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/be627f9ffc4d4a6494a39c45c3be5d03"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/802e8f5.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/802e8f5.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/802e8f5.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/802e8f5.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/802e8f5.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/802e8f5.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/802e8f5.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/802e8f5.html><meta property="article:published_time" content="2020-10-29T21:06:07+08:00"><meta property="article:modified_time" content="2020-10-29T21:06:07+08:00"><meta name=Keywords content><meta name=description content="Rustèªè¨€å…¥é–€æ•™ç¨‹ ä½¿ç”¨æ³›å‹å®šç¾©å…±äº«çš„è¡Œç‚º"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/802e8f5.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Rustèªè¨€å…¥é–€æ•™ç¨‹ ä½¿ç”¨æ³›å‹å®šç¾©å…±äº«çš„è¡Œç‚º</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p>trait å‘Šè¨´ Rust ç·¨è­¯å™¨æŸå€‹ç‰¹å®šé¡å‹æ“æœ‰å¯èƒ½èˆ‡å…¶ä»–é¡å‹å…±äº«çš„åŠŸèƒ½ã€‚å¯ä»¥é€šé trait ä»¥ä¸€ç¨®æŠ½è±¡çš„æ–¹å¼å®šç¾©å…±äº«çš„è¡Œç‚ºã€‚å¯ä»¥ä½¿ç”¨ trait bounds æŒ‡å®šæ³›å‹æ˜¯ä»»ä½•æ“æœ‰ç‰¹å®šè¡Œç‚ºçš„é¡å‹ã€‚</p><p><br></p><div class=pgc-img><img alt="Rustèªè¨€å…¥é–€æ•™ç¨‹ ä½¿ç”¨æ³›å‹å®šç¾©å…±äº«çš„è¡Œç‚º" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/be627f9ffc4d4a6494a39c45c3be5d03><p class=pgc-img-caption></p></div><p><br></p><h3 class=pgc-h-arrow-right>å®šç¾© trait</h3><p>ä¸€å€‹é¡å‹çš„è¡Œç‚ºç”±å…¶å¯ä¾›èª¿ç”¨çš„æ–¹æ³•æ§‹æˆã€‚å¦‚æœå¯ä»¥å°ä¸åŒé¡å‹èª¿ç”¨ç›¸åŒçš„æ–¹æ³•çš„è©±ï¼Œé€™äº›é¡å‹å°±å¯ä»¥å…±äº«ç›¸åŒçš„è¡Œç‚ºäº†ã€‚trait å®šç¾©æ˜¯ä¸€ç¨®å°‡æ–¹æ³•ç°½åçµ„åˆèµ·ä¾†çš„æ–¹æ³•ï¼Œç›®çš„æ˜¯å®šç¾©ä¸€å€‹å¯¦ç¾æŸäº›ç›®çš„æ‰€å¿…éœ€çš„è¡Œç‚ºçš„é›†åˆã€‚</p><p>ä¾‹å¦‚ï¼Œé€™è£¡æœ‰å¤šå€‹å­˜æ”¾äº†ä¸åŒé¡å‹å’Œå±¬æ€§æ–‡æœ¬çš„çµæ§‹é«”ï¼šçµæ§‹é«” NewsArticle ç”¨æ–¼å­˜æ”¾ç™¼ç”Ÿæ–¼ä¸–ç•Œå„åœ°çš„æ–°èæ•…äº‹ï¼Œè€Œçµæ§‹é«” Tweet æœ€å¤šéš»èƒ½å­˜æ”¾ 280 å€‹å­—ç¬¦çš„å…§å®¹ï¼Œä»¥åŠåƒæ˜¯å¦è½‰æ¨æˆ–æ˜¯å¦æ˜¯å°æ¨å‹çš„å›è¦†é€™æ¨£çš„å…ƒæ•¸æ“šã€‚</p><p>æˆ‘å€‘æƒ³è¦å‰µå»ºä¸€å€‹å¤šåª’é«”èšåˆåº«ç”¨ä¾†é¡¯ç¤ºå¯èƒ½å„²å­˜åœ¨ NewsArticle æˆ– Tweet å¯¦ä¾‹ä¸­çš„æ•¸æ“šçš„ç¸½çµã€‚æ¯ä¸€å€‹çµæ§‹é«”éƒ½éœ€è¦çš„è¡Œç‚ºæ˜¯ä»–å€‘æ˜¯èƒ½å¤ è¢«ç¸½çµçš„ï¼Œé€™æ¨£çš„è©±å°±å¯ä»¥èª¿ç”¨å¯¦ä¾‹çš„ summarize æ–¹æ³•ä¾†è«‹æ±‚ç¸½çµã€‚ç¤ºä¾‹ 10-12 ä¸­å±•ç¤ºäº†ä¸€å€‹è¡¨ç¾é€™å€‹æ¦‚å¿µçš„ Summary trait çš„å®šç¾©ï¼š</p><p>æ–‡ä»¶å: src/lib.rs</p><pre><code>pub trait Summary {    fn summarize(&amp;self) -&gt; String;}</code></pre><p>ç¤ºä¾‹ 10-12ï¼šSummary trait å®šç¾©ï¼Œå®ƒåŒ…å«ç”± summarize æ–¹æ³•æä¾›çš„è¡Œç‚º</p><p>é€™è£¡ä½¿ç”¨ trait é—œéµå­—ä¾†è²æ˜ä¸€å€‹ traitï¼Œå¾Œé¢æ˜¯ trait çš„åå­—ï¼Œåœ¨é€™å€‹ä¾‹å­ä¸­æ˜¯ Summaryã€‚åœ¨å¤§æ‹¬è™Ÿä¸­è²æ˜æè¿°å¯¦ç¾é€™å€‹ trait çš„é¡å‹æ‰€éœ€è¦çš„è¡Œç‚ºçš„æ–¹æ³•ç°½åï¼Œåœ¨é€™å€‹ä¾‹å­ä¸­æ˜¯ fn summarize(&self) -> Stringã€‚</p><p>åœ¨æ–¹æ³•ç°½åå¾Œè·Ÿåˆ†è™Ÿï¼Œè€Œä¸æ˜¯åœ¨å¤§æ‹¬è™Ÿä¸­æä¾›å…¶å¯¦ç¾ã€‚æ¥è‘—æ¯ä¸€å€‹å¯¦ç¾é€™å€‹ trait çš„é¡å‹éƒ½éœ€è¦æä¾›å…¶è‡ªå®šç¾©è¡Œç‚ºçš„æ–¹æ³•é«”ï¼Œç·¨è­¯å™¨ä¹Ÿæœƒç¢ºä¿ä»»ä½•å¯¦ç¾ Summary trait çš„é¡å‹éƒ½æ“æœ‰èˆ‡é€™å€‹ç°½åçš„å®šç¾©å®Œå…¨ä¸€è‡´çš„ summarize æ–¹æ³•ã€‚</p><p>trait é«”ä¸­å¯ä»¥æœ‰å¤šå€‹æ–¹æ³•ï¼šä¸€è¡Œä¸€å€‹æ–¹æ³•ç°½åä¸”éƒ½ä»¥åˆ†è™Ÿçµå°¾ã€‚</p><p><br></p><div class=pgc-img><img alt="Rustèªè¨€å…¥é–€æ•™ç¨‹ ä½¿ç”¨æ³›å‹å®šç¾©å…±äº«çš„è¡Œç‚º" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/accf6553-478d-4288-a29f-6dd71cd4aa41><p class=pgc-img-caption></p></div><p><br></p><h3 class=pgc-h-arrow-right>ç‚ºé¡å‹å¯¦ç¾ trait</h3><p>ç¾åœ¨æˆ‘å€‘å®šç¾©äº† Summary traitï¼Œæ¥è‘—å°±å¯ä»¥åœ¨å¤šåª’é«”èšåˆåº«ä¸­éœ€è¦æ“æœ‰é€™å€‹è¡Œç‚ºçš„é¡å‹ä¸Šå¯¦ç¾å®ƒäº†ã€‚ç¤ºä¾‹ 10-13 ä¸­å±•ç¤ºäº† NewsArticle çµæ§‹é«”ä¸Š Summary trait çš„ä¸€å€‹å¯¦ç¾ï¼Œå®ƒä½¿ç”¨æ¨™é¡Œã€ä½œè€…å’Œå‰µå»ºçš„ä½ç½®ä½œç‚º summarize çš„è¿”å›å€¼ã€‚å°æ–¼ Tweet çµæ§‹é«”ï¼Œæˆ‘å€‘é¸æ“‡å°‡ summarize å®šç¾©ç‚ºç”¨æˆ¶åå¾Œè·Ÿæ¨æ–‡çš„å…¨éƒ¨æ–‡æœ¬ä½œç‚ºè¿”å›å€¼ï¼Œä¸¦å‡è¨­æ¨æ–‡å…§å®¹å·²ç¶“è¢«é™åˆ¶ç‚º 280 å­—ç¬¦ä»¥å…§ã€‚</p><p>æ–‡ä»¶å: src/lib.rs</p><pre><code>pub struct NewsArticle {    pub headline: String,    pub location: String,    pub author: String,    pub content: String,}impl Summary for NewsArticle {    fn summarize(&amp;self) -&gt; String {        format!("{}, by {} ({})", self.headline, self.author, self.location)    }}pub struct Tweet {    pub username: String,    pub content: String,    pub reply: bool,    pub retweet: bool,}impl Summary for Tweet {    fn summarize(&amp;self) -&gt; String {        format!("{}: {}", self.username, self.content)    }}</code></pre><p>ç¤ºä¾‹ 10-13ï¼šåœ¨ NewsArticle å’Œ Tweet é¡å‹ä¸Šå¯¦ç¾ Summary trait</p><p>åœ¨é¡å‹ä¸Šå¯¦ç¾ trait é¡ä¼¼æ–¼å¯¦ç¾èˆ‡ trait ç„¡é—œçš„æ–¹æ³•ã€‚å€åˆ¥åœ¨æ–¼ impl é—œéµå­—ä¹‹å¾Œï¼Œæˆ‘å€‘æä¾›éœ€è¦å¯¦ç¾ trait çš„åç¨±ï¼Œæ¥è‘—æ˜¯ for å’Œéœ€è¦å¯¦ç¾ trait çš„é¡å‹çš„åç¨±ã€‚åœ¨ impl å¡Šä¸­ï¼Œä½¿ç”¨ trait å®šç¾©ä¸­çš„æ–¹æ³•ç°½åï¼Œä¸éä¸å†å¾Œè·Ÿåˆ†è™Ÿï¼Œè€Œæ˜¯éœ€è¦åœ¨å¤§æ‹¬è™Ÿä¸­ç·¨å¯«å‡½æ•¸é«”ä¾†ç‚ºç‰¹å®šé¡å‹å¯¦ç¾ trait æ–¹æ³•æ‰€æ“æœ‰çš„è¡Œç‚ºã€‚</p><p>ä¸€æ—¦å¯¦ç¾äº† traitï¼Œæˆ‘å€‘å°±å¯ä»¥ç”¨èˆ‡ NewsArticle å’Œ Tweet å¯¦ä¾‹çš„é trait æ–¹æ³•ä¸€æ¨£çš„æ–¹å¼èª¿ç”¨ trait æ–¹æ³•äº†ï¼š</p><pre><code>let tweet = Tweet {    username: String::from("horse_ebooks"),    content: String::from("of course, as you probably already know, people"),    reply: false,    retweet: false,};println!("1 new tweet: {}", tweet.summarize());</code></pre><p>é€™æœƒæ‰“å°å‡º 1 new tweet: horse_ebooks: of course, as you probably already know, peopleã€‚</p><p>æ³¨æ„å› ç‚ºç¤ºä¾‹ 10-13 ä¸­æˆ‘å€‘åœ¨ç›¸åŒçš„ lib.rs è£¡å®šç¾©äº† Summary trait å’Œ NewsArticle èˆ‡ Tweet é¡å‹ï¼Œæ‰€ä»¥ä»–å€‘æ˜¯ä½æ–¼åŒä¸€ä½œç”¨åŸŸçš„ã€‚å¦‚æœé€™å€‹ lib.rs æ˜¯å°æ‡‰ aggregator crate çš„ï¼Œè€Œåˆ¥äººæƒ³è¦åˆ©ç”¨æˆ‘å€‘ crate çš„åŠŸèƒ½ç‚ºå…¶è‡ªå·±çš„åº«ä½œç”¨åŸŸä¸­çš„çµæ§‹é«”å¯¦ç¾ Summary traitã€‚é¦–å…ˆä»–å€‘éœ€è¦å°‡ trait å¼•å…¥ä½œç”¨åŸŸã€‚é€™å¯ä»¥é€šéæŒ‡å®š use aggregator::Summary; å¯¦ç¾ï¼Œé€™æ¨£å°±å¯ä»¥ç‚ºå…¶é¡å‹å¯¦ç¾ Summary trait äº†ã€‚Summary é‚„å¿…é ˆæ˜¯å…¬æœ‰ trait ä½¿å¾—å…¶ä»– crate å¯ä»¥å¯¦ç¾å®ƒï¼Œé€™ä¹Ÿæ˜¯ç‚ºä»€éº¼å¯¦ä¾‹ 10-12 ä¸­å°‡ pub ç½®æ–¼ trait ä¹‹å‰ã€‚</p><p>å¯¦ç¾ trait æ™‚éœ€è¦æ³¨æ„çš„ä¸€å€‹é™åˆ¶æ˜¯ï¼Œåªæœ‰ç•¶ trait æˆ–è€…è¦å¯¦ç¾ trait çš„é¡å‹ä½æ–¼ crate çš„æœ¬åœ°ä½œç”¨åŸŸæ™‚ï¼Œæ‰èƒ½ç‚ºè©²é¡å‹å¯¦ç¾ traitã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç‚º aggregator crate çš„è‡ªå®šç¾©é¡å‹ Tweet å¯¦ç¾å¦‚æ¨™æº–åº«ä¸­çš„ Display traitï¼Œé€™æ˜¯å› ç‚º Tweet é¡å‹ä½æ–¼ aggregator crate æœ¬åœ°çš„ä½œç”¨åŸŸä¸­ã€‚é¡ä¼¼åœ°ï¼Œä¹Ÿå¯ä»¥åœ¨ aggregator crate ä¸­ç‚º Vec&lt;T> å¯¦ç¾ Summaryï¼Œé€™æ˜¯å› ç‚º Summary trait ä½æ–¼ aggregator crate æœ¬åœ°ä½œç”¨åŸŸä¸­ã€‚</p><p>ä½†æ˜¯ä¸èƒ½ç‚ºå¤–éƒ¨é¡å‹å¯¦ç¾å¤–éƒ¨ traitã€‚ä¾‹å¦‚ï¼Œä¸èƒ½åœ¨ aggregator crate ä¸­ç‚º Vec&lt;T> å¯¦ç¾ Display traitã€‚é€™æ˜¯å› ç‚º Display å’Œ Vec&lt;T> éƒ½å®šç¾©æ–¼æ¨™æº–åº«ä¸­ï¼Œå®ƒå€‘ä¸¦ä¸ä½æ–¼ aggregator crate æœ¬åœ°ä½œç”¨åŸŸä¸­ã€‚é€™å€‹é™åˆ¶æ˜¯è¢«ç¨±ç‚º <strong>ç›¸å¹²æ€§</strong>ï¼ˆcoherenceï¼‰ çš„ç¨‹åºå±¬æ€§çš„ä¸€éƒ¨åˆ†ï¼Œæˆ–è€…æ›´å…·é«”çš„èªªæ˜¯ <strong>å­¤å…’è¦å‰‡</strong>ï¼ˆorphan ruleï¼‰ï¼Œå…¶å¾—åæ–¼ä¸å­˜åœ¨çˆ¶é¡å‹ã€‚é€™æ¢è¦å‰‡ç¢ºä¿äº†å…¶ä»–äººç·¨å¯«çš„ä»£ç¢¼ä¸æœƒç ´å£ä½ ä»£ç¢¼ï¼Œåä¹‹äº¦ç„¶ã€‚æ²’æœ‰é€™æ¢è¦å‰‡çš„è©±ï¼Œå…©å€‹ crate å¯ä»¥åˆ†åˆ¥å°ç›¸åŒé¡å‹å¯¦ç¾ç›¸åŒçš„ traitï¼Œè€Œ Rust å°‡ç„¡å¾å¾—çŸ¥æ‡‰è©²ä½¿ç”¨å“ªä¸€å€‹å¯¦ç¾ã€‚</p><p><br></p><div class=pgc-img><img alt="Rustèªè¨€å…¥é–€æ•™ç¨‹ ä½¿ç”¨æ³›å‹å®šç¾©å…±äº«çš„è¡Œç‚º" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/88a70b06-cbeb-448f-bc37-938eb35dc4cd><p class=pgc-img-caption></p></div><p><br></p><h3 class=pgc-h-arrow-right>é»˜èªå¯¦ç¾</h3><p>æœ‰æ™‚ç‚º trait ä¸­çš„æŸäº›æˆ–å…¨éƒ¨æ–¹æ³•æä¾›é»˜èªçš„è¡Œç‚ºï¼Œè€Œä¸æ˜¯åœ¨æ¯å€‹é¡å‹çš„æ¯å€‹å¯¦ç¾ä¸­éƒ½å®šç¾©è‡ªå·±çš„è¡Œç‚ºæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚é€™æ¨£ç•¶ç‚ºæŸå€‹ç‰¹å®šé¡å‹å¯¦ç¾ trait æ™‚ï¼Œå¯ä»¥é¸æ“‡ä¿ç•™æˆ–é‡è¼‰æ¯å€‹æ–¹æ³•çš„é»˜èªè¡Œç‚ºã€‚</p><p>ç¤ºä¾‹ 10-14 ä¸­å±•ç¤ºç­å¦‚ä½•ç‚º Summary trait çš„ summarize æ–¹æ³•æŒ‡å®šä¸€å€‹é»˜èªçš„å­—ç¬¦ä¸²å€¼ï¼Œè€Œä¸æ˜¯åƒç¤ºä¾‹ 10-12 ä¸­é‚£æ¨£åªæ˜¯å®šç¾©æ–¹æ³•ç°½åï¼š</p><p>æ–‡ä»¶å: src/lib.rs</p><pre><code>pub trait Summary {    fn summarize(&amp;self) -&gt; String {        String::from("(Read more...)")    }}</code></pre><p>ç¤ºä¾‹ 10-14ï¼šSummary trait çš„å®šç¾©ï¼Œå¸¶æœ‰ä¸€å€‹ summarize æ–¹æ³•çš„é»˜èªå¯¦ç¾</p><p>å¦‚æœæƒ³è¦å° NewsArticle å¯¦ä¾‹ä½¿ç”¨é€™å€‹é»˜èªå¯¦ç¾ï¼Œè€Œä¸æ˜¯å®šç¾©ä¸€å€‹è‡ªå·±çš„å¯¦ç¾ï¼Œå‰‡å¯ä»¥é€šé impl Summary for NewsArticle {} æŒ‡å®šä¸€å€‹ç©ºçš„ impl å¡Šã€‚</p><p>é›–ç„¶æˆ‘å€‘ä¸å†ç›´æ¥ç‚º NewsArticle å®šç¾© summarize æ–¹æ³•äº†ï¼Œä½†æ˜¯æˆ‘å€‘æä¾›äº†ä¸€å€‹é»˜èªå¯¦ç¾ä¸¦ä¸”æŒ‡å®š NewsArticle å¯¦ç¾ Summary traitã€‚å› æ­¤ï¼Œæˆ‘å€‘ä»ç„¶å¯ä»¥å° NewsArticle å¯¦ä¾‹èª¿ç”¨ summarize æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>let article = NewsArticle {    headline: String::from("Penguins win the Stanley Cup Championship!"),    location: String::from("Pittsburgh, PA, USA"),    author: String::from("Iceburgh"),    content: String::from("The Pittsburgh Penguins once again are the best    hockey team in the NHL."),};println!("New article available! {}", article.summarize());</code></pre><p>é€™æ®µä»£ç¢¼æœƒæ‰“å° New article available! (Read more...)ã€‚</p><p>ç‚º summarize å‰µå»ºé»˜èªå¯¦ç¾ä¸¦ä¸è¦æ±‚å°ç¤ºä¾‹ 10-13 ä¸­ Tweet ä¸Šçš„ Summary å¯¦ç¾åšä»»ä½•æ”¹è®Šã€‚å…¶åŸå› æ˜¯é‡è¼‰ä¸€å€‹é»˜èªå¯¦ç¾çš„èªæ³•èˆ‡å¯¦ç¾æ²’æœ‰é»˜èªå¯¦ç¾çš„ trait æ–¹æ³•çš„èªæ³•ä¸€æ¨£ã€‚</p><p>é»˜èªå¯¦ç¾å…è¨±èª¿ç”¨ç›¸åŒ trait ä¸­çš„å…¶ä»–æ–¹æ³•ï¼Œå“ªæ€•é€™äº›æ–¹æ³•æ²’æœ‰é»˜èªå¯¦ç¾ã€‚å¦‚æ­¤ï¼Œtrait å¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½è€Œåªéœ€è¦å¯¦ç¾æŒ‡å®šä¸€å°éƒ¨åˆ†å…§å®¹ã€‚ä¾‹å¦‚ï¼Œæˆ‘å€‘å¯ä»¥å®šç¾© Summary traitï¼Œä½¿å…¶å…·æœ‰ä¸€å€‹éœ€è¦å¯¦ç¾çš„ summarize_author æ–¹æ³•ï¼Œç„¶å¾Œå®šç¾©ä¸€å€‹ summarize æ–¹æ³•ï¼Œæ­¤æ–¹æ³•çš„é»˜èªå¯¦ç¾èª¿ç”¨ summarize_author æ–¹æ³•ï¼š</p><pre><code>pub trait Summary {    fn summarize_author(&amp;self) -&gt; String;    fn summarize(&amp;self) -&gt; String {        format!("(Read more from {}...)", self.summarize_author())    }}</code></pre><p>ç‚ºäº†ä½¿ç”¨é€™å€‹ç‰ˆæœ¬çš„ Summaryï¼Œåªéœ€åœ¨å¯¦ç¾ trait æ™‚å®šç¾© summarize_author å³å¯ï¼š</p><pre><code>impl Summary for Tweet {    fn summarize_author(&amp;self) -&gt; String {        format!("@{}", self.username)    }}</code></pre><p>ä¸€æ—¦å®šç¾©äº† summarize_authorï¼Œæˆ‘å€‘å°±å¯ä»¥å° Tweet çµæ§‹é«”çš„å¯¦ä¾‹èª¿ç”¨ summarize äº†ï¼Œè€Œ summary çš„é»˜èªå¯¦ç¾æœƒèª¿ç”¨æˆ‘å€‘æä¾›çš„ summarize_author å®šç¾©ã€‚å› ç‚ºå¯¦ç¾äº† summarize_authorï¼ŒSummary trait å°±æä¾›äº† summarize æ–¹æ³•çš„åŠŸèƒ½ï¼Œä¸”ç„¡éœ€ç·¨å¯«æ›´å¤šçš„ä»£ç¢¼ã€‚</p><pre><code>let tweet = Tweet {    username: String::from("horse_ebooks"),    content: String::from("of course, as you probably already know, people"),    reply: false,    retweet: false,};println!("1 new tweet: {}", tweet.summarize());</code></pre><p>é€™æœƒæ‰“å°å‡º 1 new tweet: (Read more from @horse_ebooks...)ã€‚</p><p>æ³¨æ„ç„¡æ³•å¾ç›¸åŒæ–¹æ³•çš„é‡è¼‰å¯¦ç¾ä¸­èª¿ç”¨é»˜èªæ–¹æ³•ã€‚</p><p><br></p><div class=pgc-img><img alt="Rustèªè¨€å…¥é–€æ•™ç¨‹ ä½¿ç”¨æ³›å‹å®šç¾©å…±äº«çš„è¡Œç‚º" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/dfic-imagehandler/7e6c89cb-3f41-4950-80ea-5ec53eebe180><p class=pgc-img-caption></p></div><p><br></p><h3 class=pgc-h-arrow-right>trait ä½œç‚ºåƒæ•¸</h3><p>çŸ¥é“äº†å¦‚ä½•å®šç¾© trait å’Œåœ¨é¡å‹ä¸Šå¯¦ç¾é€™äº› trait ä¹‹å¾Œï¼Œæˆ‘å€‘å¯ä»¥æ¢ç´¢ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ trait ä¾†æ¥å—å¤šç¨®ä¸åŒé¡å‹çš„åƒæ•¸ã€‚</p><p>ä¾‹å¦‚åœ¨ç¤ºä¾‹ 10-13 ä¸­ç‚º NewsArticle å’Œ Tweet é¡å‹å¯¦ç¾äº† Summary traitã€‚æˆ‘å€‘å¯ä»¥å®šç¾©ä¸€å€‹å‡½æ•¸ notify ä¾†èª¿ç”¨å…¶åƒæ•¸ item ä¸Šçš„ summarize æ–¹æ³•ï¼Œè©²åƒæ•¸æ˜¯å¯¦ç¾äº† Summary trait çš„æŸç¨®é¡å‹ã€‚ç‚ºæ­¤å¯ä»¥ä½¿ç”¨ impl Trait èªæ³•ï¼Œåƒé€™æ¨£ï¼š</p><pre><code>pub fn notify(item: impl Summary) {    println!("Breaking news! {}", item.summarize());}</code></pre><p>å°æ–¼ item åƒæ•¸ï¼Œæˆ‘å€‘æŒ‡å®šäº† impl é—œéµå­—å’Œ trait åç¨±ï¼Œè€Œä¸æ˜¯å…·é«”çš„é¡å‹ã€‚è©²åƒæ•¸æ”¯æŒä»»ä½•å¯¦ç¾äº†æŒ‡å®š trait çš„é¡å‹ã€‚åœ¨ notify å‡½æ•¸é«”ä¸­ï¼Œå¯ä»¥èª¿ç”¨ä»»ä½•ä¾†è‡ª Summary trait çš„æ–¹æ³•ï¼Œæ¯”å¦‚ summarizeã€‚æˆ‘å€‘å¯ä»¥å‚³éä»»ä½• NewsArticle æˆ– Tweet çš„å¯¦ä¾‹ä¾†èª¿ç”¨ notifyã€‚ä»»ä½•ç”¨å…¶å®ƒå¦‚ String æˆ– i32 çš„é¡å‹èª¿ç”¨è©²å‡½æ•¸çš„ä»£ç¢¼éƒ½ä¸èƒ½ç·¨è­¯ï¼Œå› ç‚ºå®ƒå€‘æ²’æœ‰å¯¦ç¾ Summaryã€‚</p><h4 class=pgc-h-arrow-right>Trait Bound èªæ³•</h4><p>impl Trait èªæ³•é©ç”¨æ–¼ç›´è§€çš„ä¾‹å­ï¼Œå®ƒä¸éæ˜¯ä¸€å€‹è¼ƒé•·å½¢å¼çš„èªæ³•ç³–ã€‚é€™è¢«ç¨±ç‚º trait boundï¼Œé€™çœ‹èµ·ä¾†åƒï¼š</p><pre><code>pub fn notify&lt;T: Summary&gt;(item: T) {    println!("Breaking news! {}", item.summarize());}</code></pre><p>é€™èˆ‡ä¹‹å‰çš„ä¾‹å­ç›¸åŒï¼Œä¸éç¨å¾®å†—é•·äº†ä¸€äº›ã€‚trait bound èˆ‡æ³›å‹åƒæ•¸è²æ˜åœ¨ä¸€èµ·ï¼Œä½æ–¼å°–æ‹¬è™Ÿä¸­çš„å†’è™Ÿå¾Œé¢ã€‚</p><p>impl Trait å¾ˆæ–¹ä¾¿ï¼Œé©ç”¨æ–¼çŸ­å°çš„ä¾‹å­ã€‚trait bound å‰‡é©ç”¨æ–¼æ›´å¾©é›œçš„å ´æ™¯ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç²å–å…©å€‹å¯¦ç¾äº† Summary çš„åƒæ•¸ã€‚ä½¿ç”¨ impl Trait çš„èªæ³•çœ‹èµ·ä¾†åƒé€™æ¨£ï¼š</p><pre><code>pub fn notify(item1: impl Summary, item2: impl Summary) {</code></pre><p>é€™é©ç”¨æ–¼ item1 å’Œ item2 å…è¨±æ˜¯ä¸åŒé¡å‹çš„æƒ…æ³ï¼ˆåªè¦å®ƒå€‘éƒ½å¯¦ç¾äº† Summaryï¼‰ã€‚ä¸éå¦‚æœä½ å¸Œæœ›å¼·åˆ¶å®ƒå€‘éƒ½æ˜¯ç›¸åŒé¡å‹å‘¢ï¼Ÿé€™åªæœ‰åœ¨ä½¿ç”¨ trait bound æ™‚æ‰æœ‰å¯èƒ½ï¼š</p><pre><code>pub fn notify&lt;T: Summary&gt;(item1: T, item2: T) {</code></pre><p>æ³›å‹ T è¢«æŒ‡å®šç‚º item1 å’Œ item2 çš„åƒæ•¸é™åˆ¶ï¼Œå¦‚æ­¤å‚³éçµ¦åƒæ•¸ item1 å’Œ item2 å€¼çš„å…·é«”é¡å‹å¿…é ˆä¸€è‡´ã€‚</p><h4 class=pgc-h-arrow-right>é€šé + æŒ‡å®šå¤šå€‹ trait bound</h4><p>å¦‚æœ notify éœ€è¦é¡¯ç¤º item çš„æ ¼å¼åŒ–å½¢å¼ï¼ŒåŒæ™‚ä¹Ÿè¦ä½¿ç”¨ summarize æ–¹æ³•ï¼Œé‚£éº¼ item å°±éœ€è¦åŒæ™‚å¯¦ç¾å…©å€‹ä¸åŒçš„ traitï¼šDisplay å’Œ Summaryã€‚é€™å¯ä»¥é€šé + èªæ³•å¯¦ç¾ï¼š</p><pre><code>pub fn notify(item: impl Summary + Display) {</code></pre><p>+ èªæ³•ä¹Ÿé©ç”¨æ–¼æ³›å‹çš„ trait boundï¼š</p><pre><code>pub fn notify&lt;T: Summary + Display&gt;(item: T) {</code></pre><p>é€šéæŒ‡å®šé€™å…©å€‹ trait boundï¼Œnotify çš„å‡½æ•¸é«”å¯ä»¥èª¿ç”¨ summarize ä¸¦ä½¿ç”¨ {} ä¾†æ ¼å¼åŒ– itemã€‚</p><h4 class=pgc-h-arrow-right>é€šé where ç°¡åŒ– trait bound</h4><p>ç„¶è€Œï¼Œä½¿ç”¨éå¤šçš„ trait bound ä¹Ÿæœ‰ç¼ºé»ã€‚æ¯å€‹æ³›å‹æœ‰å…¶è‡ªå·±çš„ trait boundï¼Œæ‰€ä»¥æœ‰å¤šå€‹æ³›å‹åƒæ•¸çš„å‡½æ•¸åœ¨åç¨±å’Œåƒæ•¸åˆ—è¡¨ä¹‹é–“æœƒæœ‰å¾ˆé•·çš„ trait bound ä¿¡æ¯ï¼Œé€™ä½¿å¾—å‡½æ•¸ç°½åé›£ä»¥é–±è®€ã€‚ç‚ºæ­¤ï¼ŒRust æœ‰å¦ä¸€å€‹åœ¨å‡½æ•¸ç°½åä¹‹å¾Œçš„ where å¾å¥ä¸­æŒ‡å®š trait bound çš„èªæ³•ã€‚æ‰€ä»¥é™¤äº†é€™éº¼å¯«ï¼š</p><pre><code>fn some_function&lt;T: Display + Clone, U: Clone + Debug&gt;(t: T, u: U) -&gt; i32 {</code></pre><p>é‚„å¯ä»¥åƒé€™æ¨£ä½¿ç”¨ where å¾å¥ï¼š</p><pre><code>fn some_function&lt;T, U&gt;(t: T, u: U) -&gt; i32    where T: Display + Clone,          U: Clone + Debug{</code></pre><p>é€™å€‹å‡½æ•¸ç°½åå°±é¡¯å¾—ä¸é‚£éº¼é›œäº‚ï¼Œå‡½æ•¸åã€åƒæ•¸åˆ—è¡¨å’Œè¿”å›å€¼é¡å‹éƒ½é›¢å¾—å¾ˆè¿‘ï¼Œçœ‹èµ·ä¾†é¡ä¼¼æ²’æœ‰å¾ˆå¤š trait bounds çš„å‡½æ•¸ã€‚</p><p><br></p><div class=pgc-img><img alt="Rustèªè¨€å…¥é–€æ•™ç¨‹ ä½¿ç”¨æ³›å‹å®šç¾©å…±äº«çš„è¡Œç‚º" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/84de6805-7d2d-4b29-a959-32132eeaaa8d><p class=pgc-img-caption></p></div><p><br></p><h3 class=pgc-h-arrow-right>è¿”å›å¯¦ç¾äº† trait çš„é¡å‹</h3><p>ä¹Ÿå¯ä»¥åœ¨è¿”å›å€¼ä¸­ä½¿ç”¨ impl Trait èªæ³•ï¼Œä¾†è¿”å›å¯¦ç¾äº†æŸå€‹ trait çš„é¡å‹ï¼š</p><pre><code>fn returns_summarizable() -&gt; impl Summary {    Tweet {        username: String::from("horse_ebooks"),        content: String::from("of course, as you probably already know, people"),        reply: false,        retweet: false,    }}</code></pre><p>é€šéä½¿ç”¨ impl Summary ä½œç‚ºè¿”å›å€¼é¡å‹ï¼Œæˆ‘å€‘æŒ‡å®šäº† returns_summarizable å‡½æ•¸è¿”å›æŸå€‹å¯¦ç¾äº† Summary trait çš„é¡å‹ï¼Œä½†æ˜¯ä¸ç¢ºå®šå…¶å…·é«”çš„é¡å‹ã€‚åœ¨é€™å€‹ä¾‹å­ä¸­ returns_summarizable è¿”å›äº†ä¸€å€‹ Tweetï¼Œä¸éèª¿ç”¨æ–¹ä¸¦ä¸çŸ¥æƒ…ã€‚</p><p>è¿”å›ä¸€å€‹åªæ˜¯æŒ‡å®šäº†éœ€è¦å¯¦ç¾çš„ trait çš„é¡å‹çš„èƒ½åŠ›åœ¨é–‰åŒ…å’Œè¿­ä»£å™¨å ´æ™¯ååˆ†çš„æœ‰ç”¨ï¼Œç¬¬åä¸‰ç« æœƒä»‹ç´¹å®ƒå€‘ã€‚é–‰åŒ…å’Œè¿­ä»£å™¨å‰µå»ºåªæœ‰ç·¨è­¯å™¨çŸ¥é“çš„é¡å‹ï¼Œæˆ–è€…æ˜¯éå¸¸éå¸¸é•·çš„é¡å‹ã€‚impl Trait å…è¨±ä½ ç°¡å–®çš„æŒ‡å®šå‡½æ•¸è¿”å›ä¸€å€‹ Iterator è€Œç„¡éœ€å¯«å‡ºå¯¦éš›çš„å†—é•·çš„é¡å‹ã€‚</p><p>ä¸éé€™éš»é©ç”¨æ–¼è¿”å›å–®ä¸€é¡å‹çš„æƒ…æ³ã€‚ä¾‹å¦‚ï¼Œé€™æ®µä»£ç¢¼çš„è¿”å›å€¼é¡å‹æŒ‡å®šç‚ºè¿”å› impl Summaryï¼Œä½†æ˜¯è¿”å›äº† NewsArticle æˆ– Tweet å°±è¡Œä¸é€šï¼š</p><pre><code>fn returns_summarizable(switch: bool) -&gt; impl Summary {    if switch {        NewsArticle {            headline: String::from("Penguins win the Stanley Cup Championship!"),            location: String::from("Pittsburgh, PA, USA"),            author: String::from("Iceburgh"),            content: String::from("The Pittsburgh Penguins once again are the best            hockey team in the NHL."),        }    } else {        Tweet {            username: String::from("horse_ebooks"),            content: String::from("of course, as you probably already know, people"),            reply: false,            retweet: false,        }    }}</code></pre><p>é€™è£¡å˜—è©¦è¿”å› NewsArticle æˆ– Tweetã€‚é€™ä¸èƒ½ç·¨è­¯ï¼Œå› ç‚º impl Trait å·¥ä½œæ–¹å¼çš„é™åˆ¶ã€‚ç¬¬åä¸ƒç« çš„ â€œç‚ºä½¿ç”¨ä¸åŒé¡å‹çš„å€¼è€Œè¨­è¨ˆçš„ trait å°è±¡â€ éƒ¨åˆ†æœƒä»‹ç´¹å¦‚ä½•ç·¨å¯«é€™æ¨£ä¸€å€‹å‡½æ•¸ã€‚</p><p><br></p><div class=pgc-img><img alt="Rustèªè¨€å…¥é–€æ•™ç¨‹ ä½¿ç”¨æ³›å‹å®šç¾©å…±äº«çš„è¡Œç‚º" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/d6f61fd7-1821-4242-bd14-66c7bedb2d18><p class=pgc-img-caption></p></div><p><br></p><h3 class=pgc-h-arrow-right>ä½¿ç”¨ trait bounds ä¾†ä¿®å¾© largest å‡½æ•¸</h3><p>ç¾åœ¨ä½ çŸ¥é“äº†å¦‚ä½•ä½¿ç”¨æ³›å‹åƒæ•¸ trait bound ä¾†æŒ‡å®šæ‰€éœ€çš„è¡Œç‚ºã€‚è®“æˆ‘å€‘å›åˆ°å¯¦ä¾‹ 10-5 ä¿®å¾©ä½¿ç”¨æ³›å‹é¡å‹åƒæ•¸çš„ largest å‡½æ•¸å®šç¾©ï¼å›é¡§ä¸€ä¸‹ï¼Œæœ€å¾Œå˜—è©¦ç·¨è­¯ä»£ç¢¼æ™‚å‡ºç¾çš„éŒ¯èª¤æ˜¯ï¼š</p><pre><code>error[E0369]: binary operation `&gt;` cannot be applied to type `T` --&gt; src/main.rs:5:12  |5 |         if item &gt; largest {  |            ^^^^^^^^^^^^^^  |  = note: an implementation of `std::cmp::PartialOrd` might be missing for `T`</code></pre><p>åœ¨ largest å‡½æ•¸é«”ä¸­æˆ‘å€‘æƒ³è¦ä½¿ç”¨å¤§æ–¼é‹ç®—ç¬¦ï¼ˆ>ï¼‰æ¯”è¼ƒå…©å€‹ T é¡å‹çš„å€¼ã€‚é€™å€‹é‹ç®—ç¬¦è¢«å®šç¾©ç‚ºæ¨™æº–åº«ä¸­ trait std::cmp::PartialOrd çš„ä¸€å€‹é»˜èªæ–¹æ³•ã€‚æ‰€ä»¥éœ€è¦åœ¨ T çš„ trait bound ä¸­æŒ‡å®š PartialOrdï¼Œé€™æ¨£ largest å‡½æ•¸å¯ä»¥ç”¨æ–¼ä»»ä½•å¯ä»¥æ¯”è¼ƒå¤§å°çš„é¡å‹çš„ sliceã€‚å› ç‚º PartialOrd ä½æ–¼ prelude ä¸­æ‰€ä»¥ä¸¦ä¸éœ€è¦æ‰‹å‹•å°‡å…¶å¼•å…¥ä½œç”¨åŸŸã€‚å°‡ largest çš„ç°½åä¿®æ”¹ç‚ºå¦‚ä¸‹ï¼š</p><pre><code>fn largest&lt;T: PartialOrd&gt;(list: &amp;[T]) -&gt; T {</code></pre><p>ä½†æ˜¯å¦‚æœç·¨è­¯ä»£ç¢¼çš„è©±ï¼Œæœƒå‡ºç¾ä¸€äº›ä¸åŒçš„éŒ¯èª¤ï¼š</p><pre><code>error[E0508]: cannot move out of type `[T]`, a non-copy slice --&gt; src/main.rs:2:23  |2 |     let mut largest = list[0];  |                       ^^^^^^^  |                       |  |                       cannot move out of here  |                       help: consider using a reference instead: `&amp;list[0]`error[E0507]: cannot move out of borrowed content --&gt; src/main.rs:4:9  |4 |     for &amp;item in list.iter() {  |         ^----  |         ||  |         |hint: to prevent move, use `ref item` or `ref mut item`  |         cannot move out of borrowed content</code></pre><p>éŒ¯èª¤çš„æ ¸å¿ƒæ˜¯ cannot move out of type [T], a non-copy sliceï¼Œå°æ–¼éæ³›å‹ç‰ˆæœ¬çš„ largest å‡½æ•¸ï¼Œæˆ‘å€‘åªå˜—è©¦äº†å°‹æ‰¾æœ€å¤§çš„ i32 å’Œ charã€‚æ­£å¦‚ç¬¬å››ç«  â€œåªåœ¨æ£§ä¸Šçš„æ•¸æ“šï¼šæ‹·è²â€ éƒ¨åˆ†è¨è«–éçš„ï¼Œåƒ i32 å’Œ char é€™æ¨£çš„é¡å‹æ˜¯å·²çŸ¥å¤§å°çš„ä¸¦å¯ä»¥å„²å­˜åœ¨æ£§ä¸Šï¼Œæ‰€ä»¥ä»–å€‘å¯¦ç¾äº† Copy traitã€‚ç•¶æˆ‘å€‘å°‡ largest å‡½æ•¸æ”¹æˆä½¿ç”¨æ³›å‹å¾Œï¼Œç¾åœ¨ list åƒæ•¸çš„é¡å‹å°±æœ‰å¯èƒ½æ˜¯æ²’æœ‰å¯¦ç¾ Copy trait çš„ã€‚é€™æ„å‘³è‘—æˆ‘å€‘å¯èƒ½ä¸èƒ½å°‡ list[0] çš„å€¼ç§»å‹•åˆ° largest è®Šé‡ä¸­ï¼Œé€™å°è‡´äº†ä¸Šé¢çš„éŒ¯èª¤ã€‚</p><p>ç‚ºäº†åªå°å¯¦ç¾äº† Copy çš„é¡å‹èª¿ç”¨é€™äº›ä»£ç¢¼ï¼Œå¯ä»¥åœ¨ T çš„ trait bounds ä¸­å¢åŠ  Copyï¼ç¤ºä¾‹ 10-15 ä¸­å±•ç¤ºäº†ä¸€å€‹å¯ä»¥ç·¨è­¯çš„æ³›å‹ç‰ˆæœ¬çš„ largest å‡½æ•¸çš„å®Œæ•´ä»£ç¢¼ï¼Œåªè¦å‚³éçµ¦ largest çš„ slice å€¼çš„é¡å‹å¯¦ç¾äº† PartialOrd <strong>å’Œ</strong> Copy é€™å…©å€‹ traitï¼Œä¾‹å¦‚ i32 å’Œ charï¼š</p><p>æ–‡ä»¶å: src/main.rs</p><pre><code>fn largest&lt;T: PartialOrd + Copy&gt;(list: &amp;[T]) -&gt; T {    let mut largest = list[0];    for &amp;item in list.iter() {        if item &gt; largest {            largest = item;        }    }    largest}fn main() {    let number_list = vec![34, 50, 25, 100, 65];    let result = largest(&amp;number_list);    println!("The largest number is {}", result);    let char_list = vec!['y', 'm', 'a', 'q'];    let result = largest(&amp;char_list);    println!("The largest char is {}", result);}</code></pre><p>ç¤ºä¾‹ 10-15ï¼šä¸€å€‹å¯ä»¥ç”¨æ–¼ä»»ä½•å¯¦ç¾äº† PartialOrd å’Œ Copy trait çš„æ³›å‹çš„ largest å‡½æ•¸</p><p>å¦‚æœä¸¦ä¸å¸Œæœ›é™åˆ¶ largest å‡½æ•¸åªèƒ½ç”¨æ–¼å¯¦ç¾äº† Copy trait çš„é¡å‹ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ T çš„ trait bounds ä¸­æŒ‡å®š Clone è€Œä¸æ˜¯ Copyã€‚ä¸¦å…‹éš† slice çš„æ¯ä¸€å€‹å€¼ä½¿å¾— largest å‡½æ•¸æ“æœ‰å…¶æ‰€æœ‰æ¬Šã€‚ä½¿ç”¨ clone å‡½æ•¸æ„å‘³è‘—å°æ–¼é¡ä¼¼ String é€™æ¨£æ“æœ‰å †ä¸Šæ•¸æ“šçš„é¡å‹ï¼Œæœƒæ½›åœ¨çš„åˆ†é…æ›´å¤šå †ä¸Šç©ºé–“ï¼Œè€Œå †åˆ†é…åœ¨æ¶‰åŠå¤§é‡æ•¸æ“šæ™‚å¯èƒ½æœƒç›¸ç•¶ç·©æ…¢ã€‚</p><p>å¦ä¸€ç¨® largest çš„å¯¦ç¾æ–¹å¼æ˜¯è¿”å›åœ¨ slice ä¸­ T å€¼çš„å¼•ç”¨ã€‚å¦‚æœæˆ‘å€‘å°‡å‡½æ•¸è¿”å›å€¼å¾ T æ”¹ç‚º &T ä¸¦æ”¹è®Šå‡½æ•¸é«”ä½¿å…¶èƒ½å¤ è¿”å›ä¸€å€‹å¼•ç”¨ï¼Œæˆ‘å€‘å°‡ä¸éœ€è¦ä»»ä½• Clone æˆ– Copy çš„ trait bounds è€Œä¸”ä¹Ÿä¸æœƒæœ‰ä»»ä½•çš„å †åˆ†é…ã€‚å˜—è©¦è‡ªå·±å¯¦ç¾é€™ç¨®æ›¿ä»£è§£æ±ºæ–¹å¼å§ï¼</p><p><br></p><div class=pgc-img><img alt="Rustèªè¨€å…¥é–€æ•™ç¨‹ ä½¿ç”¨æ³›å‹å®šç¾©å…±äº«çš„è¡Œç‚º" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/0d841429-62b4-48c8-b939-e79c003a2507><p class=pgc-img-caption></p></div><p><br></p><h3 class=pgc-h-arrow-right>ä½¿ç”¨ trait bound æœ‰æ¢ä»¶åœ°å¯¦ç¾æ–¹æ³•</h3><p>é€šéä½¿ç”¨å¸¶æœ‰ trait bound çš„æ³›å‹åƒæ•¸çš„ impl å¡Šï¼Œå¯ä»¥æœ‰æ¢ä»¶åœ°åªç‚ºé‚£äº›å¯¦ç¾äº†ç‰¹å®š trait çš„é¡å‹å¯¦ç¾æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œç¤ºä¾‹ 10-16 ä¸­çš„é¡å‹ Pair&lt;T> ç¸½æ˜¯å¯¦ç¾äº† new æ–¹æ³•ï¼Œä¸éåªæœ‰é‚£äº›ç‚º T é¡å‹å¯¦ç¾äº† PartialOrd trait ï¼ˆä¾†å…è¨±æ¯”è¼ƒï¼‰ <strong>å’Œ</strong> Display trait ï¼ˆä¾†å•Ÿç”¨æ‰“å°ï¼‰çš„ Pair&lt;T> æ‰æœƒå¯¦ç¾ cmp_display æ–¹æ³•ï¼š</p><pre><code>use std::fmt::Display;struct Pair&lt;T&gt; {    x: T,    y: T,}impl&lt;T&gt; Pair&lt;T&gt; {    fn new(x: T, y: T) -&gt; Self {        Self {            x,            y,        }    }}impl&lt;T: Display + PartialOrd&gt; Pair&lt;T&gt; {    fn cmp_display(&amp;self) {        if self.x &gt;= self.y {            println!("The largest member is x = {}", self.x);        } else {            println!("The largest member is y = {}", self.y);        }    }}</code></pre><p>ç¤ºä¾‹ 10-16ï¼šæ ¹æ“š trait bound åœ¨æ³›å‹ä¸Šæœ‰æ¢ä»¶çš„å¯¦ç¾æ–¹æ³•</p><p>ä¹Ÿå¯ä»¥å°ä»»ä½•å¯¦ç¾äº†ç‰¹å®š trait çš„é¡å‹æœ‰æ¢ä»¶åœ°å¯¦ç¾ traitã€‚å°ä»»ä½•æ»¿è¶³ç‰¹å®š trait bound çš„é¡å‹å¯¦ç¾ trait è¢«ç¨±ç‚º blanket implementationsï¼Œä»–å€‘è¢«å»£æ³›çš„ç”¨æ–¼ Rust æ¨™æº–åº«ä¸­ã€‚ä¾‹å¦‚ï¼Œæ¨™æº–åº«ç‚ºä»»ä½•å¯¦ç¾äº† Display trait çš„é¡å‹å¯¦ç¾äº† ToString traitã€‚é€™å€‹ impl å¡Šçœ‹èµ·ä¾†åƒé€™æ¨£ï¼š</p><pre><code>impl&lt;T: Display&gt; ToString for T {    // --snip--}</code></pre><p>å› ç‚ºæ¨™æº–åº«æœ‰äº†é€™äº› blanket implementationï¼Œæˆ‘å€‘å¯ä»¥å°ä»»ä½•å¯¦ç¾äº† Display trait çš„é¡å‹èª¿ç”¨ç”± ToString å®šç¾©çš„ to_string æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°‡æ•´å‹è½‰æ›ç‚ºå°æ‡‰çš„ String å€¼ï¼Œå› ç‚ºæ•´å‹å¯¦ç¾äº† Displayï¼š</p><pre><code>let s = 3.to_string();</code></pre><p>blanket implementation æœƒå‡ºç¾åœ¨ trait æ–‡æª”çš„ â€œImplementersâ€ éƒ¨åˆ†ã€‚</p><p>trait å’Œ trait bound è®“æˆ‘å€‘ä½¿ç”¨æ³›å‹é¡å‹åƒæ•¸ä¾†æ¸›å°‘é‡è¤‡ï¼Œä¸¦ä»ç„¶èƒ½å¤ å‘ç·¨è­¯å™¨æ˜ç¢ºæŒ‡å®šæ³›å‹é¡å‹éœ€è¦æ“æœ‰å“ªäº›è¡Œç‚ºã€‚å› ç‚ºæˆ‘å€‘å‘ç·¨è­¯å™¨æä¾›äº† trait bound ä¿¡æ¯ï¼Œå®ƒå°±å¯ä»¥æª¢æŸ¥ä»£ç¢¼ä¸­æ‰€ç”¨åˆ°çš„å…·é«”é¡å‹æ˜¯å¦æä¾›äº†æ­£ç¢ºçš„è¡Œç‚ºã€‚åœ¨å‹•æ…‹é¡å‹èªè¨€ä¸­ï¼Œå¦‚æœæˆ‘å€‘å˜—è©¦èª¿ç”¨ä¸€å€‹é¡å‹ä¸¦æ²’æœ‰å¯¦ç¾çš„æ–¹æ³•ï¼Œæœƒåœ¨é‹è¡Œæ™‚å‡ºç¾éŒ¯èª¤ã€‚Rust å°‡é€™äº›éŒ¯èª¤ç§»å‹•åˆ°äº†ç·¨è­¯æ™‚ï¼Œç”šè‡³åœ¨ä»£ç¢¼èƒ½å¤ é‹è¡Œä¹‹å‰å°±å¼·è¿«æˆ‘å€‘ä¿®å¾©éŒ¯èª¤ã€‚å¦å¤–ï¼Œæˆ‘å€‘ä¹Ÿç„¡éœ€ç·¨å¯«é‹è¡Œæ™‚æª¢æŸ¥è¡Œç‚ºçš„ä»£ç¢¼ï¼Œå› ç‚ºåœ¨ç·¨è­¯æ™‚å°±å·²ç¶“æª¢æŸ¥éäº†ï¼Œé€™æ¨£ç›¸æ¯”å…¶ä»–é‚£äº›ä¸é¡˜æ”¾æ£„æ³›å‹éˆæ´»æ€§çš„èªè¨€æœ‰æ›´å¥½çš„æ€§èƒ½ã€‚</p><p>é€™è£¡é‚„æœ‰ä¸€ç¨®æ³›å‹ï¼Œæˆ‘å€‘ä¸€ç›´åœ¨ä½¿ç”¨å®ƒç”šè‡³éƒ½æ²’æœ‰å¯Ÿè¦ºå®ƒçš„å­˜åœ¨ï¼Œé€™å°±æ˜¯ <strong>ç”Ÿå‘½é€±æœŸ</strong>ï¼ˆlifetimesï¼‰ã€‚ä¸åŒæ–¼å…¶ä»–æ³›å‹å¹«åŠ©æˆ‘å€‘ç¢ºä¿é¡å‹æ“æœ‰æœŸæœ›çš„è¡Œç‚ºï¼Œç”Ÿå‘½é€±æœŸå‰‡æœ‰åŠ©æ–¼ç¢ºä¿å¼•ç”¨åœ¨æˆ‘å€‘éœ€è¦ä»–å€‘çš„æ™‚å€™ä¸€ç›´æœ‰æ•ˆã€‚è®“æˆ‘å€‘å­¸ç¿’ç”Ÿå‘½é€±æœŸæ˜¯å¦‚ä½•åšåˆ°é€™äº›çš„ã€‚</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Rust</a></li><li><a>èªè¨€å…¥é–€</a></li><li><a>æ³›å‹</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/b67d5879.html alt="æ·±å…¥è§£æKotlin æ³›å‹" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b67d5879.html title="æ·±å…¥è§£æKotlin æ³›å‹">æ·±å…¥è§£æKotlin æ³›å‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6ed397a4.html alt=Cèªè¨€å…¥é–€æ•™ç¨‹ï¼ˆäºŒï¼‰æ•¸æ“šé¡å‹åŠæ¨™æº–å‡½æ•¸ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/244f95dddbbb47a29b312d3800957ea7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6ed397a4.html title=Cèªè¨€å…¥é–€æ•™ç¨‹ï¼ˆäºŒï¼‰æ•¸æ“šé¡å‹åŠæ¨™æº–å‡½æ•¸>Cèªè¨€å…¥é–€æ•™ç¨‹ï¼ˆäºŒï¼‰æ•¸æ“šé¡å‹åŠæ¨™æº–å‡½æ•¸</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4602875d.html alt=Rust-Oleumæ„›éº—æŠ—èŒé˜²é»´ä¹³è† æ¼†ï¼Œç‚ºå¥åº·ä¿é§•è­·èˆª class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a26fb112d8c647a0aa5df8a46a1dbb67 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4602875d.html title=Rust-Oleumæ„›éº—æŠ—èŒé˜²é»´ä¹³è† æ¼†ï¼Œç‚ºå¥åº·ä¿é§•è­·èˆª>Rust-Oleumæ„›éº—æŠ—èŒé˜²é»´ä¹³è† æ¼†ï¼Œç‚ºå¥åº·ä¿é§•è­·èˆª</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0b4149eb.html alt=ç©Rustè…è•åŠ é€Ÿå™¨å“ªå€‹å¥½ç”¨ï¼Ÿé›»ç‹åŠ é€Ÿå™¨ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d5769bcbce9d41e9af7c9b3785813421 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0b4149eb.html title=ç©Rustè…è•åŠ é€Ÿå™¨å“ªå€‹å¥½ç”¨ï¼Ÿé›»ç‹åŠ é€Ÿå™¨>ç©Rustè…è•åŠ é€Ÿå™¨å“ªå€‹å¥½ç”¨ï¼Ÿé›»ç‹åŠ é€Ÿå™¨</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/163c9721.html alt=Cèªè¨€å…¥é–€ç­†è¨˜ã€Œæ”¶è—ç´°ç´°å“ç³»åˆ—ã€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/cc593870bcc34577a3691d5d21e8bc62 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/163c9721.html title=Cèªè¨€å…¥é–€ç­†è¨˜ã€Œæ”¶è—ç´°ç´°å“ç³»åˆ—ã€>Cèªè¨€å…¥é–€ç­†è¨˜ã€Œæ”¶è—ç´°ç´°å“ç³»åˆ—ã€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c7ec1e24.html alt=cèªè¨€å…¥é–€4ï¼Œè£½ä½œå¯ä»¥è®Šå½¢çš„ç©æœ¨ï¼Œå‡½æ•¸çš„å½¢åƒå’Œå¯¦åƒ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/aaf93fde61684e8c9dcd0154aead096c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c7ec1e24.html title=cèªè¨€å…¥é–€4ï¼Œè£½ä½œå¯ä»¥è®Šå½¢çš„ç©æœ¨ï¼Œå‡½æ•¸çš„å½¢åƒå’Œå¯¦åƒ>cèªè¨€å…¥é–€4ï¼Œè£½ä½œå¯ä»¥è®Šå½¢çš„ç©æœ¨ï¼Œå‡½æ•¸çš„å½¢åƒå’Œå¯¦åƒ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/24dd085e.html alt=cèªè¨€å…¥é–€5ï¼Œä¸€æ–‡å¾¹åº•å¼„æ‡‚å‡½æ•¸çš„å½¢åƒå’Œå¯¦åƒï¼Œå†ä¹Ÿä¸æšˆäº† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/5ca9bc0f2ab34919b9d63302180690a5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/24dd085e.html title=cèªè¨€å…¥é–€5ï¼Œä¸€æ–‡å¾¹åº•å¼„æ‡‚å‡½æ•¸çš„å½¢åƒå’Œå¯¦åƒï¼Œå†ä¹Ÿä¸æšˆäº†>cèªè¨€å…¥é–€5ï¼Œä¸€æ–‡å¾¹åº•å¼„æ‡‚å‡½æ•¸çš„å½¢åƒå’Œå¯¦åƒï¼Œå†ä¹Ÿä¸æšˆäº†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9155df6f.html alt="ç¬¬åå…­ç«  æ³›å‹" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9155df6f.html title="ç¬¬åå…­ç«  æ³›å‹">ç¬¬åå…­ç«  æ³›å‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/293e60e3.html alt=Rustç·¨ç¨‹èªè¨€åˆæ¢ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/b47797c4e0b5476e86050d174aea893c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/293e60e3.html title=Rustç·¨ç¨‹èªè¨€åˆæ¢>Rustç·¨ç¨‹èªè¨€åˆæ¢</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/af585148.html alt=cèªè¨€å…¥é–€24ï¼Œä¸‰åˆ†é˜å¼„æ¸…å‡½æ•¸æŒ‡é‡å’ŒæŒ‡é‡å‡½æ•¸ï¼ŒCé€™éº¼æ„›å’¬æ–‡åš¼å­—å— class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/d924a8844bbe46859fae929f1cc64e22 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/af585148.html title=cèªè¨€å…¥é–€24ï¼Œä¸‰åˆ†é˜å¼„æ¸…å‡½æ•¸æŒ‡é‡å’ŒæŒ‡é‡å‡½æ•¸ï¼ŒCé€™éº¼æ„›å’¬æ–‡åš¼å­—å—>cèªè¨€å…¥é–€24ï¼Œä¸‰åˆ†é˜å¼„æ¸…å‡½æ•¸æŒ‡é‡å’ŒæŒ‡é‡å‡½æ•¸ï¼ŒCé€™éº¼æ„›å’¬æ–‡åš¼å­—å—</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/2ff02fda.html alt=Rustæ¨™æº–è¼¸å…¥å’Œè¼¸å‡º class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/eb1d879738cd46c4a0cb134ac8604886 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/2ff02fda.html title=Rustæ¨™æº–è¼¸å…¥å’Œè¼¸å‡º>Rustæ¨™æº–è¼¸å…¥å’Œè¼¸å‡º</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/00e6ef3e.html alt=Rèªè¨€å…¥é–€ä¹‹ä½¿ç”¨å‡½æ•¸sampleé€²è¡ŒæŠ½æ¨£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/5759e22b072d430b8aa7aa521dacd3a6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/00e6ef3e.html title=Rèªè¨€å…¥é–€ä¹‹ä½¿ç”¨å‡½æ•¸sampleé€²è¡ŒæŠ½æ¨£>Rèªè¨€å…¥é–€ä¹‹ä½¿ç”¨å‡½æ•¸sampleé€²è¡ŒæŠ½æ¨£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4dd5afe.html alt="JAVA æ³›å‹ä¸­çš„é€šé…ç¬¦ Tï¼ŒEï¼ŒKï¼ŒVï¼Œï¼Ÿ" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/497a769b3d2c4fdea60f43caa717c764 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4dd5afe.html title="JAVA æ³›å‹ä¸­çš„é€šé…ç¬¦ Tï¼ŒEï¼ŒKï¼ŒVï¼Œï¼Ÿ">JAVA æ³›å‹ä¸­çš„é€šé…ç¬¦ Tï¼ŒEï¼ŒKï¼ŒVï¼Œï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3c17329.html alt="äººäººå­¸ç·¨ç¨‹ Cèªè¨€å…¥é–€ å­¸æœƒé€™äº›ï¼Œè®“ä½ å¯«çš„ç¨‹åºæ›´æœ‰é‚è¼¯æ€§" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/37ce0004a6ef68febf67 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3c17329.html title="äººäººå­¸ç·¨ç¨‹ Cèªè¨€å…¥é–€ å­¸æœƒé€™äº›ï¼Œè®“ä½ å¯«çš„ç¨‹åºæ›´æœ‰é‚è¼¯æ€§">äººäººå­¸ç·¨ç¨‹ Cèªè¨€å…¥é–€ å­¸æœƒé€™äº›ï¼Œè®“ä½ å¯«çš„ç¨‹åºæ›´æœ‰é‚è¼¯æ€§</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5b85962.html alt="Rustç·¨ç¨‹çŸ¥è­˜æ‹¾éºï¼šRust é€šéå±¬æ€§è¨­ç½® crate åç¨±ã€ç‰ˆæœ¬å’Œé¡å‹" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5b85962.html title="Rustç·¨ç¨‹çŸ¥è­˜æ‹¾éºï¼šRust é€šéå±¬æ€§è¨­ç½® crate åç¨±ã€ç‰ˆæœ¬å’Œé¡å‹">Rustç·¨ç¨‹çŸ¥è­˜æ‹¾éºï¼šRust é€šéå±¬æ€§è¨­ç½® crate åç¨±ã€ç‰ˆæœ¬å’Œé¡å‹</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>