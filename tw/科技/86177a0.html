<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ã€Œè¨­è¨ˆæ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ï¼šä½ å‰µå»ºå°è±¡çš„æ–¹å¼æœ‰å®ƒçµ²æ»‘å—ï¼Ÿ | æå®¢å¿«è¨Š</title><meta property="og:title" content="ã€Œè¨­è¨ˆæ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ï¼šä½ å‰µå»ºå°è±¡çš„æ–¹å¼æœ‰å®ƒçµ²æ»‘å—ï¼Ÿ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/24bf1fc955de499183243bc4f9fb6120"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86177a0.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86177a0.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/86177a0.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86177a0.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86177a0.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/86177a0.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/86177a0.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86177a0.html><meta property="article:published_time" content="2020-10-29T20:58:42+08:00"><meta property="article:modified_time" content="2020-10-29T20:58:42+08:00"><meta name=Keywords content><meta name=description content="ã€Œè¨­è¨ˆæ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ï¼šä½ å‰µå»ºå°è±¡çš„æ–¹å¼æœ‰å®ƒçµ²æ»‘å—ï¼Ÿ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/86177a0.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ã€Œè¨­è¨ˆæ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ï¼šä½ å‰µå»ºå°è±¡çš„æ–¹å¼æœ‰å®ƒçµ²æ»‘å—ï¼Ÿ</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h3 class=pgc-h-arrow-right>ç›®éŒ„</h3><ul><li>ä»€éº¼æ˜¯å»ºé€ è€…æ¨¡å¼</li><li>ç‚ºä»€éº¼è¦ä½¿ç”¨å»ºé€ è€…æ¨¡å¼</li><li>æ§‹é€ å‡½æ•¸å‰µå»ºå°è±¡</li><li>setæ–¹å¼æ§‹å»ºå°è±¡</li><li>javaå¯¦ç¾å»ºé€ è€…æ¨¡å¼</li><ul><li>ç¬¬ä¸€ç¨®å¯¦ç¾æ–¹å¼</li><li>ç¬¬äºŒç¨®æ–¹å¼</li></ul><li>å»ºé€ è€…æ¨¡å¼èˆ‡æ§‹é€ å‡½æ•¸çš„å°æ¯”</li><li>å»ºé€ è€…æ¨¡å¼èˆ‡å·¥å» æ¨¡å¼çš„å°æ¯”</li><li>ç¸½çµ</li></ul><p><br></p><h1 class=pgc-h-arrow-right>ä»€éº¼æ˜¯å»ºé€ è€…æ¨¡å¼</h1><p>å»ºé€ è€…æ¨¡å¼æ˜¯è¨­è¨ˆæ¨¡å¼çš„ä¸€ç¨®ï¼Œå°‡ä¸€å€‹è¤‡é›œå°è±¡çš„æ§‹å»ºèˆ‡å®ƒçš„è¡¨ç¤ºåˆ†é›¢ï¼Œä½¿å¾—åŒæ¨£çš„æ§‹å»ºéç¨‹å¯ä»¥å‰µå»ºä¸åŒçš„è¡¨ç¤ºã€‚</p><p>å…¶å¯¦å»ºé€ è€…æ¨¡å¼æ˜¯è¢«ç¿»è­¯éä¾†çš„ï¼Œä»–åŸåå«builderæ¨¡å¼ï¼Œä¹Ÿè¢«ç¨±ç‚ºç”Ÿæˆå™¨æ¨¡å¼ï¼Œé€™ç¨®æ¨¡å¼çš„å¯¦ç¾éå¸¸çš„ç°¡å–®ï¼Œåªæ˜¯åœ¨ä½¿ç”¨æ–¹é¢å¯èƒ½æœƒæœ‰é»æ‘¸ä¸è‘—æ–¹å‘ï¼Œå®ƒä¸»è¦è§£æ±ºè¤‡é›œçš„å°è±¡å‰µå»ºï¼Œæ¯”å¦‚åƒæ•¸éé•·ã€æ ¡é©—éå¤šç­‰ç­‰ã€‚</p><h1 class=pgc-h-arrow-right>ç‚ºä»€éº¼è¦ä½¿ç”¨å»ºé€ è€…æ¨¡å¼</h1><p>æˆ‘å€‘éƒ½çŸ¥é“ï¼Œå‰µå»ºå°è±¡çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œnewæ˜¯æˆ‘å€‘æœ€å¸¸è¦‹ä¹Ÿæ˜¯æœ€ç†Ÿæ‚‰çš„ä¸€ç¨®ï¼Œæˆ‘å€‘ç‚ºä»€éº¼ä¸ä½¿ç”¨æˆ‘å€‘æœ€ç†Ÿæ‚‰çš„è€Œé¸ç”¨å»ºé€ è€…æ¨¡å¼å‘¢ï¼Ÿé›–ç„¶newæ˜¯æˆ‘å€‘æœ€ç†Ÿæ‚‰çš„ï¼Œä½†ä¸ä¸€å®šæ˜¯æœ€åˆé©çš„ï¼Œç‚ºä»€éº¼é€™éº¼èªªå‘¢ï¼Ÿæˆ‘å€‘èˆ‰å€‹ä¾‹å­ä¾†èªªæ˜ä¸€ä¸‹ã€‚</p><p>æˆ‘å€‘ç¾åœ¨å®šç¾©ä¸€å€‹å°è±¡ï¼šThreadConfigï¼ŒThreadConfigæœ‰5å€‹å±¬æ€§ï¼šæ ¸å¿ƒç·šç¨‹æ•¸ï¼ˆcorePoolSizeï¼‰ã€æœ€å¤§ç·šç¨‹æ•¸ï¼ˆmaxPoolSizeï¼‰ã€éšŠåˆ—æ•¸ï¼ˆqueueCapacityï¼‰ã€ç©ºé–’æ™‚é–“é€€å‡ºï¼ˆkeepAliveTimeï¼‰ã€æ˜¯å¦å…è¨±ç·šç¨‹é€€å‡ºï¼ˆallowCoreThreadTimeoutï¼‰ã€‚å±¬æ€§æœ‰å¿…å¡«ã€æœ‰é¸å¡«ã€‚</p><p>å±¬æ€§åå¿…å¡«é»˜èªå€¼è¨»é‡‹threadNameæ˜¯ç·šç¨‹åcorePoolSizeå¦4æ ¸å¿ƒç·šç¨‹æ•¸maxPoolSizeæ˜¯æ ¸å¿ƒç·šç¨‹æ•¸queueCapacityæ˜¯æœ€å¤§ç·šç¨‹æ•¸keepAliveTimeæ˜¯ç•¶ç·šç¨‹ç©ºé–’æ™‚é–“é”åˆ°keepAliveTimeï¼Œè©²ç·šç¨‹æœƒé€€å‡ºallowCoreThreadTimeoutæ˜¯æ˜¯å¦å…è¨±æ ¸å¿ƒç·šç¨‹æ•¸ç©ºé–’æ™‚é€€å‡º</p><p>å‰µå»ºå°è±¡çš„æ™‚å€™è¦æ»¿è¶³ä»¥ä¸‹è¦æ±‚ï¼š1.æœ€å¤§ç·šç¨‹æ•¸ä¸å‚³ï¼Œé»˜èªç‚ºæ ¸å¿ƒç·šç¨‹æ•¸çš„å¤§å°ã€‚2.æœ€å¤§ç·šç¨‹æ•¸ä¸èƒ½å°æ–¼æ ¸å¿ƒç·šç¨‹æ•¸ã€‚3.å¦‚æœå¡«å¯«éšŠåˆ—æ•¸ï¼ŒéšŠåˆ—æ›¸ä¸èƒ½å°æ–¼ç­‰æ–¼0ã€‚4.å¦‚æœå¡«å¯«keepAliveTimeï¼Œä¸èƒ½å°æ–¼ç­‰æ–¼0ã€‚</p><p>çœ‹åˆ°é€™æ¨£çš„ä¸€å€‹å°è±¡ï¼Œå¦‚æœæ˜¯ä½ ï¼Œä½ æœƒæ€éº¼è¨­è¨ˆä»–çš„å°è±¡å‰µå»ºå‘¢ï¼Ÿ</p><h1 class=pgc-h-arrow-right>æ§‹é€ å‡½æ•¸å‰µå»ºå°è±¡</h1><p>å¤§å®¶æƒ³åˆ°çš„ç¬¬ä¸€ç¨®å‰µå»ºæ–¹å¼å¯èƒ½å°±æ˜¯æ§‹é€ å‡½æ•¸ï¼Œé‚£æˆ‘å€‘å…ˆä½¿ç”¨æ§‹é€ å‡½æ•¸å¯¦ç¾ä¸€ä¸‹é€™å€‹å°è±¡çš„å‰µå»º</p><pre><code>package com.ymy.builder;import lombok.ToString;import org.springframework.util.StringUtils;@ToStringpublic class ThreadConfig {    /** * æ ¸å¿ƒç·šç¨‹é»˜èªå€¼ */    private static final   Integer CORE_POOL_SIZE = 4;    private String threadName;    /** * æ ¸å¿ƒç·šç¨‹æ•¸ */    private Integer corePoolSize = CORE_POOL_SIZE;    /** * æœ€å¤§ç·šç¨‹æ•¸ */    private Integer maxPoolSize;    /** * éšŠåˆ—æ•¸ */    private Integer queueCapacity;    /** * ç•¶ç·šç¨‹ç©ºé–’æ™‚é–“é”åˆ°keepAliveTimeï¼Œè©²ç·šç¨‹æœƒé€€å‡º */    private Integer keepAliveTime;    /** * æ˜¯å¦å…è¨±æ ¸å¿ƒç·šç¨‹æ•¸ç©ºé–’æ™‚é€€å‡º */    private boolean allowCoreThreadTimeout;    public ThreadConfig(String threadName,Integer corePoolSize,Integer maxPoolSize,Integer queueCapacity,Integer keepAliveTime) throws IllegalAccessException {        if(StringUtils.isEmpty(threadName)){            throw  new IllegalAccessException("ç·šç¨‹åä¸èƒ½ç‚ºç©ºï¼");        }        this.threadName = threadName;        if(null != corePoolSize ){            if( corePoolSize &lt;= 0){                throw  new IllegalAccessException("æ ¸å¿ƒç·šç¨‹æ•¸ä¸èƒ½å°æ–¼ç­‰æ–¼0ï¼");            }            this.corePoolSize = corePoolSize;        }        if(null != maxPoolSize  ){            if(maxPoolSize &lt; this.corePoolSize){                throw  new IllegalAccessException("æœ€å¤§ç·šç¨‹æ•¸ä¸èƒ½å°æ–¼æ ¸å¿ƒç·šç¨‹æ•¸ï¼");            }            this.maxPoolSize = corePoolSize;        }        if(null != queueCapacity ){            if( queueCapacity &lt;= 0 ){                throw  new IllegalAccessException("éšŠåˆ—æ›¸ä¸èƒ½å°æ–¼ç­‰æ–¼0ï¼");            }            this.queueCapacity = queueCapacity;        }        if(null != keepAliveTime  ){            if( keepAliveTime &lt;= 0 ){                throw  new IllegalAccessException("ç©ºé–’æ™‚é–“ä¸èƒ½å°æ–¼ç­‰æ–¼0ï¼");            }            this.keepAliveTime = keepAliveTime;        }    }}</code></pre><p>@ToStringè¨»è§£æ˜¯lombokä¾è³´æä¾›çš„</p><pre><code>&lt;dependency&gt;            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;            &lt;artifactId&gt;lombok&lt;/artifactId&gt;            &lt;optional&gt;true&lt;/optional&gt;        &lt;/dependency&gt;</code></pre><p>å‰µå»ºå°è±¡</p><pre><code>package com.ymy.builder;public class Test {    public static void main(String[] args) throws IllegalAccessException {        ThreadConfig config = new ThreadConfig("thread-1",5,2,5,10);        System.out.println(config);    }}</code></pre><p>è¼¸å‡ºçµæœï¼š</p><pre><code>Exception in thread "main" java.lang.IllegalAccessException: æœ€å¤§ç·šç¨‹æ•¸ä¸èƒ½å°æ–¼æ ¸å¿ƒç·šç¨‹æ•¸ï¼	at com.ymy.builder.ThreadConfig.&lt;init&gt;(ThreadConfig.java:56)	at com.ymy.builder.Test.main(Test.java:6)</code></pre><p>æˆ‘é€™è£¡çµ¦å‡ºçš„æ ¸å¿ƒç·šç¨‹æ•¸ï¼š5ï¼Œä½†æ˜¯æœ€å¤§ç·šç¨‹æ•¸çµ¦çš„2ï¼Œæ‰€ä»¥æœƒæ‹‹å‡ºæœ€å¤§ç·šç¨‹æ•¸ä¸èƒ½å°æ–¼æ ¸å¿ƒç·šç¨‹æ•¸ï¼é€™ç¨®æ–¹å¼çœ‹è‘—å¾ˆå®Œç¾ï¼Œä½†æœ‰ä¸€é»å¾ˆä¸å‹å¥½ï¼Œç•¶åƒæ•¸éå¤šçš„æ™‚å€™å®¹æ˜“å‡ºéŒ¯ï¼Œç‚ºä»€éº¼é€™éº¼èªªå‘¢ï¼Ÿä½ ä»”ç´°çœ‹é€™è¡Œä»£ç¢¼</p><pre><code>ThreadConfig config = new ThreadConfig("thread-1",5,2,5,10);</code></pre><p>é™¤äº†ç¬¬ä¸€å€‹åƒæ•¸ï¼Œå…¶ä»–åƒæ•¸éƒ½æ˜¯inté¡å‹ï¼Œçœ‹è‘—å¥½åƒæ²’å•¥å¤§æ¯›ç—…ï¼Œé€™æ˜¯å› ç‚ºæˆ‘çš„åƒæ•¸é‚„ä¸å¤ å¤šï¼Œå¦‚æœæˆ‘é€™è£¡æœ‰10å€‹åƒæ•¸éœ€è¦å‚³éï¼Œä¸¦ä¸”éƒ½æ˜¯inté¡å‹ï¼Œé€™æ™‚å€™å°±æœƒå­˜åœ¨ä¸€å€‹å•é¡Œï¼Œåƒæ•¸å¾ˆå¯èƒ½æœƒè¢«å¯«éŒ¯ï¼Œæ¯”å¦‚æœ€å¤§ç·šç¨‹æ•¸å¯«åˆ°äº†éšŠåˆ—æ•¸ä¸­ï¼Œè€Œä¸”æœ‰æ™‚å€™é‚„ä¸æœƒå ±éŒ¯ï¼Œåªæœ‰åœ¨é …ç›®é‹è¡Œçš„æ™‚å€™æ‰æœƒå‡ºç¾æŸç¨®è®“äººæ‘¸ä¸è‘—é ­è…¦çš„bugï¼Œæ‰€ä»¥ä½¿ç”¨æ§‹é€ å‡½æ•¸å‰µå»ºå°è±¡çš„æ™‚å€™ä¸å¤ªé©åˆåƒæ•¸éé•·ï¼Œä¸ä½†å®¹æ˜“å‡ºéŒ¯ï¼Œè€Œä¸”è®“æ¥æ‰‹ä»£ç¢¼çš„äººä¹Ÿé ­ç—›ï¼Œä»£ç¢¼å¯è®€æ€§æ¯”è¼ƒå·®ï¼Œç•¶ç„¶ç•¶åƒæ•¸åªæœ‰ä¸€å…©å€‹çš„æ™‚å€™ï¼Œæ§‹é€ å‡½æ•¸çš„å‰µå»ºæ–¹å¼é‚„æ˜¯å¾ˆä¸éŒ¯çš„ã€‚</p><h1 class=pgc-h-arrow-right>setæ–¹å¼æ§‹å»ºå°è±¡</h1><p>æ—¢ç„¶æ§‹é€ å‡½æ•¸æœƒå°è‡´åƒæ•¸éŒ¯èª¤ä»¥åŠå¯è®€æ€§è¼ƒå·®ï¼Œé‚£æˆ‘å€‘èƒ½ä¸èƒ½ä½¿ç”¨æ§‹é€ å‡½æ•¸+setæ–¹æ³•ä¾†å‰µå»ºå°è±¡å‘¢ï¼Ÿæˆ‘å€‘å¯ä»¥å˜—è©¦ä¸€ä¸‹ï¼Œç”±æ–¼åªæœ‰ç·šç¨‹åæ˜¯å¿…å‚³ï¼Œæ‰€ä»¥æ§‹é€ å‡½æ•¸åªçµ¦å®šç·šç¨‹åï¼Œå…¶ä»–å±¬æ€§éƒ½é€šésetè³¦å€¼ï¼Œæ”¹é€ ä¸€ä¸‹ä»£ç¢¼ã€‚</p><pre><code>package com.ymy.builder;import lombok.ToString;import org.springframework.util.StringUtils;@ToStringpublic class ThreadConfig {    /** * æ ¸å¿ƒç·šç¨‹é»˜èªå€¼ */    private static final   Integer CORE_POOL_SIZE = 4;    private String threadName;    /** * æ ¸å¿ƒç·šç¨‹æ•¸ */    private Integer corePoolSize = CORE_POOL_SIZE;    /** * æœ€å¤§ç·šç¨‹æ•¸ */    private Integer maxPoolSize;    /** * éšŠåˆ—æ•¸ */    private Integer queueCapacity;    /** * ç•¶ç·šç¨‹ç©ºé–’æ™‚é–“é”åˆ°keepAliveTimeï¼Œè©²ç·šç¨‹æœƒé€€å‡º */    private Integer keepAliveTime;    /** * æ˜¯å¦å…è¨±æ ¸å¿ƒç·šç¨‹æ•¸ç©ºé–’æ™‚é€€å‡º */    private boolean allowCoreThreadTimeout;        public ThreadConfig(String threadName) throws IllegalAccessException {        if(StringUtils.isEmpty(threadName)){            throw  new IllegalAccessException("ç·šç¨‹åä¸èƒ½ç‚ºç©ºï¼");        }        this.threadName = threadName;    }    public void setCorePoolSize(Integer corePoolSize) throws IllegalAccessException {        if(null != corePoolSize ){            if( corePoolSize &lt;= 0){                throw  new IllegalAccessException("æ ¸å¿ƒç·šç¨‹æ•¸ä¸èƒ½å°æ–¼ç­‰æ–¼0ï¼");            }            this.corePoolSize = corePoolSize;        }    }    public void setMaxPoolSize(Integer maxPoolSize) throws IllegalAccessException {        if(null != maxPoolSize  ){            if(maxPoolSize &lt; this.corePoolSize){                throw  new IllegalAccessException("æœ€å¤§ç·šç¨‹æ•¸ä¸èƒ½å°æ–¼æ ¸å¿ƒç·šç¨‹æ•¸ï¼");            }            this.maxPoolSize = corePoolSize;        }    }    public void setQueueCapacity(Integer queueCapacity) throws IllegalAccessException {        if(null != queueCapacity ){            if( queueCapacity &lt;= 0 ){                throw  new IllegalAccessException("éšŠåˆ—æ›¸ä¸èƒ½å°æ–¼ç­‰æ–¼0ï¼");            }            this.queueCapacity = queueCapacity;        }    }    public void setKeepAliveTime(Integer keepAliveTime) throws IllegalAccessException {        if(null != keepAliveTime  ){            if( keepAliveTime &lt;= 0 ){                throw  new IllegalAccessException("ç©ºé–’æ™‚é–“ä¸èƒ½å°æ–¼ç­‰æ–¼0ï¼");            }            this.keepAliveTime = keepAliveTime;        }    }    public void setAllowCoreThreadTimeout(boolean allowCoreThreadTimeout) {        this.allowCoreThreadTimeout = allowCoreThreadTimeout;    }}</code></pre><p>æ”¹é€ å®ŒThreadConfigä¹‹å¾Œæˆ‘å€‘å‰µå»ºå°è±¡çš„æ–¹å¼ä¹Ÿæœƒç™¼ç”Ÿç´°å¾®çš„è®ŠåŒ–ï¼Œç”±ä¹‹å‰æ§‹é€ å‡½æ•¸å‚³éä¸€å †åƒæ•¸è®Šæˆäº†ä¸€å€‹åƒæ•¸ï¼ŒåŠ ä¸Šäº†setæ–¹æ³•ï¼Œåˆå§‹å€¼ç”±setçµ¦å®šã€‚</p><pre><code>package com.ymy.builder;public class Test {    public static void main(String[] args) throws IllegalAccessException {        ThreadConfig config = new ThreadConfig("thread-1");        config.setCorePoolSize(5);        config.setMaxPoolSize(10);        config.setQueueCapacity(2);        config.setKeepAliveTime(100);        config.setAllowCoreThreadTimeout(false);        System.out.println(config);    }}</code></pre><p>é€™ç¨®å°è±¡çš„å‰µå»ºæ–¹å¼å¯ä»¥æœ‰æ•ˆçš„é˜²æ­¢è³¦å€¼å±¬æ€§éŒ¯äº‚çš„å•é¡Œï¼Œå› ç‚ºçœ‹ä¸Šå»ä¸€ç›®ç­ç„¶ï¼ŒåŸºæœ¬ä¸Šä¸æœƒå‡ºéŒ¯ï¼Œä»£ç¢¼å¯è®€æ€§ä¹Ÿå¾ˆå¼·ï¼Œå®Œç¾çš„è§£æ±ºäº†å°‡æ‰€æœ‰åƒæ•¸éƒ½æ”¾åœ¨æ§‹é€ å‡½æ•¸çš„ç¼ºé™·ï¼Œé‚£ç‚ºä»€éº¼é‚„æœƒå‡ºç¾å»ºé€ è€…æ¨¡å¼å‘¢ï¼Ÿå¯ä»¥ä»”ç´°æƒ³ä¸€ä¸‹ï¼Œsetæ–¹æ³•é€™éº¼å®Œç¾ï¼Œå»ºé€ è€…æ¨¡å¼é‚„æœ‰å¿…è¦å—ï¼Ÿæˆ‘è¦ºå¾—å»ºé€ è€…æ¨¡å¼çš„å‡ºç¾ä¸¦ä¸æ˜¯å¶ç„¶ã€‚</p><p>æˆ‘å€‘ç¾åœ¨ç¨å¾®ä¿®æ”¹ä¸€ä¸‹éœ€æ±‚ï¼šç•¶corePoolSizeï¼ˆæ ¸å¿ƒç·šç¨‹æ•¸ï¼‰è¢«è³¦å€¼çš„æ™‚å€™ï¼Œæœ€å¤§ç·šç¨‹æ•¸ä¹Ÿå¿…é ˆè¦è³¦å€¼ï¼Œé€™å€‹æ™‚å€™ä½ è¦ºå¾—setæ–¹æ³•é‚„èƒ½æ»¿è¶³å—ï¼Ÿæˆ‘è¦ºå¾—æ‡‰è©²æ˜¯æ»¿è¶³ä¸äº†äº†å§ï¼Œé€™æ˜¯ä¸€ç¨®æƒ…æ³ï¼Œé‚„æœ‰ä¸€ç¨®æƒ…æ³setä¹Ÿæ˜¯æ»¿è¶³ä¸äº†çš„ï¼Œé‚£å°±æ˜¯æˆ‘å¸Œæœ›å°è±¡åˆå§‹åŒ–çš„æ™‚å€™ä¸€æ¬¡æ€§å°‡æ‰€æœ‰çš„å±¬æ€§éƒ½è³¦å€¼ï¼Œä¹‹å¾Œå°‡ä¸èƒ½è¢«ä¿®æ”¹ï¼Œé€™ä¸€é»ä¹Ÿæ˜¯setåšä¸åˆ°çš„ï¼Œsetæ–¹æ³•å°±æ˜¯æä¾›çµ¦èª¿ç”¨è€…çš„ï¼Œæ‰€ä»¥èª¿ç”¨è€…å¯ä»¥é€šésetéš¨æ™‚ä¿®æ”¹ThreadConfigçš„å±¬æ€§ï¼Œå¦‚æœè™•ç†ä¸ç•¶ï¼Œå¯èƒ½æœƒé€ æˆæŸç¨®å®‰å…¨éš±æ‚£ï¼Œé€™å€‹æ™‚å€™ä½ å¯èƒ½åˆæƒ³åˆ°ï¼ŒæŠŠcorePoolSizeã€maxPoolSizeä¹Ÿæ”¾åˆ°æ§‹é€ å‡½æ•¸ä¸­ä¸å°±è§£æ±ºäº†corePoolSizeè³¦å€¼çš„æ™‚å€™maxPoolSizeä¹Ÿä¸€å®šè¦è³¦å€¼çš„è¦æ±‚å—ï¼Œç¢ºå¯¦æ˜¯èƒ½è§£æ±ºé€™å€‹å•é¡Œï¼Œå¦‚æœåƒé€™æ¨£çš„åƒæ•¸å¾ˆå¤šå‘¢ï¼Ÿç„¶å¾Œåˆæœ‰å¯èƒ½å‡ºç¾åƒæ•¸å‚³éŒ¯å°è‡´è©­ç•°bugï¼Œæ‰€é€™æ™‚å€™å»ºé€ è€…æ¨¡å¼å°±é–ƒäº®ç™»å ´äº†ã€‚</p><h1 class=pgc-h-arrow-right>javaå¯¦ç¾å»ºé€ è€…æ¨¡å¼</h1><h2 class=pgc-h-arrow-right>ç¬¬ä¸€ç¨®å¯¦ç¾æ–¹å¼</h2><p>æ—¢ç„¶æ§‹é€ å‡½æ•¸å’Œsetæ–¹æ³•ç„¡æ³•æ»¿è¶³æˆ‘å€‘çš„éœ€æ±‚ï¼Œé‚£è‡ªç„¶æœƒæœ‰æ»¿è¶³æˆ‘å€‘éœ€æ±‚çš„æ–°æŠ€è¡“å‡ºç¾ï¼ŒæŒ‰ç…§ä¹‹å‰çš„éœ€æ±‚ï¼Œç·šç¨‹åå¿…å¡«ã€corePoolSizeï¼ˆæ ¸å¿ƒç·šç¨‹æ•¸ï¼‰è¢«è³¦å€¼çš„æ™‚å€™ï¼Œæœ€å¤§ç·šç¨‹æ•¸ä¹Ÿå¿…é ˆè¦è³¦å€¼ï¼Œæˆ‘å€‘ä¸€èµ·ä½¿ç”¨å»ºé€ æ¨¡å¼ä¾†å¯¦ç¾ä¸€ä¸‹é€™å€‹å°è±¡çš„å‰µå»ºã€‚</p><pre><code>package com.ymy.builder;import lombok.ToString;import org.springframework.util.StringUtils;@ToStringpublic class ThreadConfig {    /** * æ ¸å¿ƒç·šç¨‹é»˜èªå€¼ */    private static final   Integer CORE_POOL_SIZE = 4;    /** * ç·šç¨‹å */    private String threadName;    /** * æ ¸å¿ƒç·šç¨‹æ•¸ */    private Integer corePoolSize = CORE_POOL_SIZE;    /** * æœ€å¤§ç·šç¨‹æ•¸ */    private Integer maxPoolSize;    /** * éšŠåˆ—æ•¸ */    private Integer queueCapacity;    /** * ç•¶ç·šç¨‹ç©ºé–’æ™‚é–“é”åˆ°keepAliveTimeï¼Œè©²ç·šç¨‹æœƒé€€å‡º */    private Integer keepAliveTime;    /** * æ˜¯å¦å…è¨±æ ¸å¿ƒç·šç¨‹æ•¸ç©ºé–’æ™‚é€€å‡º */    private boolean allowCoreThreadTimeout;        private ThreadConfig(ThreadConfig.Builder builder) {        this.threadName = builder.threadName;        if(null != builder.corePoolSize){            this.corePoolSize = builder.corePoolSize;        }        this.maxPoolSize = builder.maxPoolSize;        this.queueCapacity = builder.queueCapacity;        this.keepAliveTime = builder.keepAliveTime;        this.allowCoreThreadTimeout = builder.allowCoreThreadTimeout;    }    public static class Builder {        /** * ç·šç¨‹å */        private String threadName;        /** * æ ¸å¿ƒç·šç¨‹æ•¸ */        private Integer corePoolSize ;        /** * æœ€å¤§ç·šç¨‹æ•¸ */        private Integer maxPoolSize;        /** * éšŠåˆ—æ•¸ */        private Integer queueCapacity;        /** * ç•¶ç·šç¨‹ç©ºé–’æ™‚é–“é”åˆ°keepAliveTimeï¼Œè©²ç·šç¨‹æœƒé€€å‡º */        private Integer keepAliveTime;        /** * æ˜¯å¦å…è¨±æ ¸å¿ƒç·šç¨‹æ•¸ç©ºé–’æ™‚é€€å‡º */        private boolean allowCoreThreadTimeout;        public ThreadConfig build() throws IllegalAccessException { // æ ¡é©—é‚è¼¯æ”¾åˆ°é€™è£¡ä¾†åšï¼ŒåŒ…æ‹¬å¿…å¡«é …æ ¡é©—ã€ä¾è³´é—œä¿‚æ ¡é©—ã€ç´„æŸæ¢ä»¶æ ¡é©—ç­‰            if (StringUtils.isEmpty(threadName)) {                throw new IllegalAccessException("ç·šç¨‹åä¸èƒ½ç‚ºç©º");            }           if(corePoolSize != null &amp;&amp; maxPoolSize == null){               throw new IllegalAccessException("æœ€å¤§ç·šç¨‹æ•¸å¿…å‚³");           }            return new ThreadConfig(this);        }        public ThreadConfig.Builder corePoolSize(int corePoolSize) {            if (corePoolSize &lt;= 0) {                throw new IllegalArgumentException("æ ¸å¿ƒç·šç¨‹æ•¸ä¸èƒ½å°æ–¼ç­‰æ–¼0");            }            this.corePoolSize = corePoolSize;            return this;        }        public ThreadConfig.Builder threadName(String threadName) {            this.threadName = threadName;            return this;        }        public ThreadConfig.Builder maxPoolSize(int maxPoolSize) {            if (maxPoolSize &lt; this.corePoolSize) {                throw new IllegalArgumentException("æœ€å¤§ç·šç¨‹æ•¸ä¸èƒ½å°æ–¼æ ¸å¿ƒç·šç¨‹æ•¸");            }            this.maxPoolSize = maxPoolSize;            return this;        }        public ThreadConfig.Builder queueCapacity(int queueCapacity) {            if (queueCapacity &lt;= 0) {                throw new IllegalArgumentException("éšŠåˆ—ä¸èƒ½å°æ–¼ç­‰æ–¼0");            }            this.queueCapacity = queueCapacity;            return this;        }        public ThreadConfig.Builder keepAliveTime(int keepAliveTime) {            if (keepAliveTime &lt;= 0) {                throw new IllegalArgumentException("ä¿æŒç©ºé–’ç·šç¨‹å¯ç”¨çš„æ™‚é–“ä¸èƒ½å°æ–¼ç­‰æ–¼0");            }            this.keepAliveTime = keepAliveTime;            return this;        }        public ThreadConfig.Builder allowCoreThreadTimeout(boolean allowCoreThreadTimeout) {            this.allowCoreThreadTimeout = allowCoreThreadTimeout;            return this;        }    }}</code></pre><p>æˆ‘å€‘ä¾†æ¸¬è©¦ï¼Œå‚³å…¥æ ¸å¿ƒç·šç¨‹æ•¸ä¸å‚³æœ€å…ˆç·šç¨‹æ•¸</p><pre><code>package com.ymy.builder;public class Test {    public static void main(String[] args) throws IllegalAccessException {        ThreadConfig config = new ThreadConfig.Builder()                .threadName("hello")                .corePoolSize(3)                .keepAliveTime(100)                .queueCapacity(2)                .allowCoreThreadTimeout(true)                .build();        System.out.println(config);    }}</code></pre><p>æ‰“å°çµæœ</p><pre><code>Exception in thread "main" java.lang.IllegalAccessException: æœ€å¤§ç·šç¨‹æ•¸å¿…å‚³	at com.ymy.builder.ThreadConfig$Builder.build(ThreadConfig.java:89)	at com.ymy.builder.Test.main(Test.java:12)</code></pre><p>æ ¸å¿ƒç·šç¨‹æ•¸ä¸å‚³</p><pre><code> ThreadConfig config = new ThreadConfig.Builder()                .threadName("hello")                //.corePoolSize(3)                .keepAliveTime(100)                .queueCapacity(2)                .allowCoreThreadTimeout(true)                .build();        System.out.println(config);</code></pre><p>çµæœ</p><pre><code>ThreadConfig(threadName=hello, corePoolSize=4, maxPoolSize=null, queueCapacity=2, keepAliveTime=100, allowCoreThreadTimeout=true)Process finished with exit code 0</code></pre><p>é€™å°±èªªæ˜å·²ç¶“é”åˆ°äº†æˆ‘å€‘çš„é æœŸæ•ˆæœï¼Œä¸¦ä¸”è³¦å€¼æ¸…æ™°ï¼Œä¸å®¹æ˜“å‡ºéŒ¯ï¼Œä»£ç¢¼çš„å¯è®€æ€§ä¹Ÿæ¯”è¼ƒé«˜ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€é»æ˜¯ä¸è¶³çš„ï¼Œé‚£å°±æ˜¯ThreadConfigé¡ä¸­æœƒå‡ºç¾å†—é¤˜çš„æ•¸æ“šBuilderã€‚</p><p>å»ºé€ è€…æ¨¡å¼çš„åƒæ•¸æ ¡é©—æ”¾åœ¨äº†build()æ–¹æ³•ä¸­ï¼Œé€™æ¨£åšæ³•çš„å¥½è™•åœ¨æ–¼buildæ˜¯é›†ä¸­çš„è™•ç†åƒæ•¸å•é¡Œï¼Œåªæœ‰æ ¡é©—é€šéä¹‹å¾Œæ‰æœƒçµ¦ThreadConfigå°è±¡å¯¦ä¾‹åŒ–ï¼Œç‚ºäº†å°è±¡çš„å®‰å…¨æ€§ï¼Œæˆ‘å€‘å¯ä»¥å°‡ThreadConfigçš„æ§‹é€ å‡½æ•¸è¨­ç½®æˆprivateï¼ŒåŒæ™‚å–æ¶ˆsetæ–¹æ³•ï¼Œå¼·åˆ¶ä½¿ç”¨builderæ–¹å¼å‰µå»ºå°è±¡ï¼Œé€™æ¨£å°±å¤§å¤§çš„ä¿è­‰äº†å°è±¡çš„å®‰å…¨æ€§ã€‚</p><h2 class=pgc-h-arrow-right>ç¬¬äºŒç¨®æ–¹å¼</h2><p>ä¸Šé¢é‚£ç¨®æ–¹å¼çœ‹è‘—æ˜¯ä¸æ˜¯å¾ˆçˆ½ï¼Œä½†æ˜¯å‰µå»ºå°è±¡çš„æ™‚å€™é‚„æ˜¯éœ€è¦new ThreadConfig.Builder()ï¼Œæˆ‘ç¾åœ¨æƒ³ç›´æ¥ThreadConfig.Builder()å°±èƒ½å‰µå»ºå°è±¡ï¼Œæˆ‘ä¸æƒ³çœ‹åˆ°newï¼Œèƒ½ä¸èƒ½å¯¦ç¾å‘¢ï¼Ÿç›¸ä¿¡javaï¼Œä»–èƒ½ï¼Œæˆ‘å€‘ä¸€èµ·ä¾†æ”¹é€ ä¸€ä¸‹ä»£ç¢¼</p><pre><code>package com.ymy.builder;import lombok.ToString;import org.springframework.util.StringUtils;@ToStringpublic class ThreadConfig {    /** * æ ¸å¿ƒç·šç¨‹é»˜èªå€¼ */    private static final   Integer CORE_POOL_SIZE = 4;    /** * ç·šç¨‹å */    private String threadName;    /** * æ ¸å¿ƒç·šç¨‹æ•¸ */    private Integer corePoolSize = CORE_POOL_SIZE;    /** * æœ€å¤§ç·šç¨‹æ•¸ */    private Integer maxPoolSize;    /** * éšŠåˆ—æ•¸ */    private Integer queueCapacity;    /** * ç•¶ç·šç¨‹ç©ºé–’æ™‚é–“é”åˆ°keepAliveTimeï¼Œè©²ç·šç¨‹æœƒé€€å‡º */    private Integer keepAliveTime;    /** * æ˜¯å¦å…è¨±æ ¸å¿ƒç·šç¨‹æ•¸ç©ºé–’æ™‚é€€å‡º */    private boolean allowCoreThreadTimeout;    private ThreadConfig(ThreadConfig.Builder builder) {        this.threadName = builder.threadName;        if(null != builder.corePoolSize){            this.corePoolSize = builder.corePoolSize;        }        this.maxPoolSize = builder.maxPoolSize;        this.queueCapacity = builder.queueCapacity;        this.keepAliveTime = builder.keepAliveTime;        this.allowCoreThreadTimeout = builder.allowCoreThreadTimeout;    }    /** * ä½¿ç”¨éœæ…‹æ–¹æ³•æ›¿ä»£new * @return */    public static Builder builder() {        return new Builder();    }    public static class Builder {        /** * æ§‹é€ å‡½æ•¸ï¼Œå¯ä»¥ä¸å¯« */        Builder(){        }        /** * ç·šç¨‹å */        private String threadName;        /** * æ ¸å¿ƒç·šç¨‹æ•¸ */        private Integer corePoolSize ;        /** * æœ€å¤§ç·šç¨‹æ•¸ */        private Integer maxPoolSize;        /** * éšŠåˆ—æ•¸ */        private Integer queueCapacity;        /** * ç•¶ç·šç¨‹ç©ºé–’æ™‚é–“é”åˆ°keepAliveTimeï¼Œè©²ç·šç¨‹æœƒé€€å‡º */        private Integer keepAliveTime;        /** * æ˜¯å¦å…è¨±æ ¸å¿ƒç·šç¨‹æ•¸ç©ºé–’æ™‚é€€å‡º */        private boolean allowCoreThreadTimeout;        public ThreadConfig build() throws IllegalAccessException { // æ ¡é©—é‚è¼¯æ”¾åˆ°é€™è£¡ä¾†åšï¼ŒåŒ…æ‹¬å¿…å¡«é …æ ¡é©—ã€ä¾è³´é—œä¿‚æ ¡é©—ã€ç´„æŸæ¢ä»¶æ ¡é©—ç­‰            if (StringUtils.isEmpty(threadName)) {                throw new IllegalAccessException("ç·šç¨‹åä¸èƒ½ç‚ºç©º");            }           if(corePoolSize != null &amp;&amp; maxPoolSize == null){               throw new IllegalAccessException("æœ€å¤§ç·šç¨‹æ•¸å¿…å‚³");           }            return new ThreadConfig(this);        }        public ThreadConfig.Builder corePoolSize(int corePoolSize) {            if (corePoolSize &lt;= 0) {                throw new IllegalArgumentException("æ ¸å¿ƒç·šç¨‹æ•¸ä¸èƒ½å°æ–¼ç­‰æ–¼0");            }            this.corePoolSize = corePoolSize;            return this;        }        public ThreadConfig.Builder threadName(String threadName) {            this.threadName = threadName;            return this;        }        public ThreadConfig.Builder maxPoolSize(int maxPoolSize) {            if (maxPoolSize &lt; this.corePoolSize) {                throw new IllegalArgumentException("æœ€å¤§ç·šç¨‹æ•¸ä¸èƒ½å°æ–¼æ ¸å¿ƒç·šç¨‹æ•¸");            }            this.maxPoolSize = maxPoolSize;            return this;        }        public ThreadConfig.Builder queueCapacity(int queueCapacity) {            if (queueCapacity &lt;= 0) {                throw new IllegalArgumentException("éšŠåˆ—ä¸èƒ½å°æ–¼ç­‰æ–¼0");            }            this.queueCapacity = queueCapacity;            return this;        }        public ThreadConfig.Builder keepAliveTime(int keepAliveTime) {            if (keepAliveTime &lt;= 0) {                throw new IllegalArgumentException("ä¿æŒç©ºé–’ç·šç¨‹å¯ç”¨çš„æ™‚é–“ä¸èƒ½å°æ–¼ç­‰æ–¼0");            }            this.keepAliveTime = keepAliveTime;            return this;        }        public ThreadConfig.Builder allowCoreThreadTimeout(boolean allowCoreThreadTimeout) {            this.allowCoreThreadTimeout = allowCoreThreadTimeout;            return this;        }    }}</code></pre><p>å…¶å¯¦æ”¹å‹•å¾ˆå°åƒ…åƒ…åªæ˜¯åŠ äº†ä¸€å€‹static Builder builder()ï¼Œä½¿ç”¨éœæ…‹æ–¹æ³•æ›¿ä»£newå°è±¡ï¼Œé€™æ¨£æˆ‘å€‘å‰µå»ºå°è±¡çš„æ™‚å€™å°±ä¸éœ€è¦newäº†ï¼Œè«‹çœ‹å‰µå»ºå°è±¡ä»£ç¢¼</p><pre><code>ThreadConfig config =ThreadConfig.builder()                .threadName("hello")               // .corePoolSize(3)                .keepAliveTime(100)                .queueCapacity(2)                .allowCoreThreadTimeout(true)                .build();        System.out.println(config);</code></pre><p>æ˜¯ä¸æ˜¯çˆ½å¤šäº†ï¼Œçœ‹è‘—çœŸèˆ’æœï¼Œä¸éè©±èªªå›ä¾†ï¼Œä½ å€‘çœ‹é€™ç¨®å‰µå»ºæ–¹å¼æƒ³ä¸æƒ³lombokä¸­çµ¦å°è±¡åŠ äº†@Builderè¨»è§£ä¹‹å¾Œçš„å‰µå»ºæ–¹å¼ï¼Ÿæ²’éŒ¯ï¼Œå°±æ˜¯ä¸€æ¨£çš„ï¼Œå› ç‚ºlombokä¸­çš„@Builderå°±æ˜¯å»ºé€ è€…æ¨¡å¼ï¼Œåªä¸éä»–çš„buildä¸¦æ²’æœ‰æˆ‘å€‘é€™è£¡çš„æ¢ä»¶åˆ¤æ–·ï¼Œä»–æ˜¯ç›´æ¥å°‡å±¬æ€§è¿”å›äº†ã€‚</p><h1 class=pgc-h-arrow-right>å»ºé€ è€…æ¨¡å¼èˆ‡æ§‹é€ å‡½æ•¸çš„å°æ¯”</h1><p>**æ§‹é€ å‡½æ•¸ï¼š**é©ç”¨æ–¼åƒæ•¸è¼ƒå°‘ï¼Œé‚è¼¯ç°¡å–®çš„å°è±¡å‰µå»ºï¼Œå°æ–¼åƒæ•¸éå¤šçš„å°è±¡å‰µå»ºå¯èƒ½æœƒé€ æˆåƒæ•¸éŒ¯äº‚çš„å•é¡Œè€Œå°è‡´è©­ç•°bugã€‚</p><p>**å»ºé€ è€…æ¨¡å¼ï¼š**é©ç”¨æ–¼åƒæ•¸è¼ƒå¤šï¼Œé‚è¼¯åˆ¤æ–·è¼ƒè¤‡é›œçš„å°è±¡å‰µå»ºï¼Œå¯ä»¥è®“ä»£ç¢¼ç°¡æ½”æ˜ç­ï¼Œä½†æ˜¯å°è±¡çš„ä»£ç¢¼å¢åŠ äº†ï¼Œä¸ä½†å¢åŠ äº†å¾ˆå¤šå†—é¤˜å­—æ®µï¼Œæ‰€ä»¥æœ‰æ™‚å€™è¡¨é¢çœ‹èµ·ä¾†å…‰é®®äº®éº—ï¼Œå…§å¿ƒå»æ˜¯ç„¡æ¯”é†œé™‹ã€‚</p><h1 class=pgc-h-arrow-right>å»ºé€ è€…æ¨¡å¼èˆ‡å·¥å» æ¨¡å¼çš„å°æ¯”</h1><p>å°å·¥å» æ¨¡å¼é‚„ä¸å¤ªæ˜ç™½çš„æœ‹å‹å¯ä»¥åƒè€ƒä¸€ä¸‹ï¼šå·¥å» æ¨¡å¼ï¼šä½ é‚„åœ¨ä½¿ç”¨ä¸€å †çš„if/elseå‰µå»ºå°è±¡å—ï¼Ÿæˆ‘å€‘çŸ¥é“å·¥å» æ¨¡å¼ä¸»è¦æ˜¯å‰µå»ºä¸€å€‹é¡å‹å¤šå€‹å¯¦ç¾çš„å°è±¡ï¼Œæ¯”å¦‚ç™¼é€çŸ­ä¿¡é©—è­‰ç¢¼çš„è™•ç†æ–¹å¼æœ‰å¾ˆå¤šç¨®æƒ…æ³ï¼Œæ¯ç¨®æƒ…æ³çš„è™•ç†æ–¹å¼éƒ½ä¸ç›¸åŒï¼Œé‚„æœ‰å°±æ˜¯å‰µå»ºå°è±¡çš„æ™‚å€™éœ€è¦ç¶“éå¾ˆå¤šçš„åˆ¤æ–·ï¼Œé€™ç¨®æƒ…æ³ä¸‹æˆ‘å€‘å°±å¯ä»¥è€ƒæ…®ä½¿ç”¨å·¥å» æ¨¡å¼ä¾†å‰µå»ºå°è±¡ã€‚</p><p>å¦‚æœå°è±¡çš„è·è²¬æ¯”è¼ƒå–®ä¸€ï¼Œæ²’æœ‰å¤šå±¤å«ç¾©ï¼Œåƒ…åƒ…åªæ˜¯å‰µå»ºæ¢ä»¶è¤‡é›œï¼Œåƒæ•¸éå¤šç­‰ç­‰ï¼Œä½¿ç”¨å»ºé€ è€…æ¨¡å¼å‰µå»ºå°è±¡æ˜¯é¦–é¸ï¼Œé›–ç„¶å°è±¡ä¸­å«æœ‰å†—é¤˜ä»£ç¢¼ï¼Œä½†æ˜¯å°è±¡çš„å‰µå»ºçœŸçš„å¾ˆçµ²æ»‘ã€‚</p><h1 class=pgc-h-arrow-right>ç¸½çµ</h1><p>å¦‚æœä¸€å€‹é¡ä¸­åŒ…å«è‘—å¤§é‡çš„å±¬æ€§ï¼Œæˆ‘å€‘å¯ä»¥é€šéæ§‹é€ å‡½æ•¸+setæ–¹æ³•ä¾†é€²è¡Œå°è±¡å‰µå»ºï¼Œä½†å°è±¡å¦‚æœåŒ…å«ä¸€ä¸‹å¹¾é»ç‰¹æ€§ï¼Œé‚£éº¼æˆ‘æ¨è–¦ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ã€‚1.å¿…å¡«çš„å­—æ®µå¾ˆå¤šï¼Œé€™æ¨£æœƒå°è‡´æ§‹é€ å‡½æ•¸åƒæ•¸éé•·çš„å•é¡Œã€‚<br>2.å¦‚æœå±¬æ€§èˆ‡å±¬æ€§ä¹‹é–“é—œè¯æ€§å¾ˆå¼·ï¼Œæ¯”å¦‚è¨­ç½®äº†æ ¸å¿ƒç·šç¨‹æ•¸å°±å¿…é ˆè¦è¨­ç½®æœ€å¤§ç·šç¨‹æ•¸ï¼Œé€™ç¨®æƒ…æ³ä¸‹setæ–¹æ³•æ˜¯ç„¡æ³•åšåˆ°æ ¡é©—çš„ã€‚<br>3.å¦‚æœç•¶å‰å°è±¡æ¯”è¼ƒé‡è¦ï¼Œæˆ‘å€‘å¸Œæœ›å°è±¡è¢«å‰µå»ºä¹‹å¾Œå°±ä¸èƒ½è¢«ä¿®æ”¹ï¼Œæ‰€ä»¥é€™æ™‚å€™setæ–¹æ³•å°±æœƒè¢«å±è”½ï¼Œå¦‚æœåˆ©ç”¨æ§‹é€ å‡½æ•¸ï¼Œåˆæœƒå‡ºç¾å­—æ®µéå¤šå•é¡Œã€‚</p><p>ç•¶ç„¶äº†ï¼Œæˆ‘å€‘ä¸èƒ½ç‚ºäº†ç”¨è¨­è¨ˆæ¨¡å¼è€Œç”¨è¨­è¨ˆæ¨¡å¼ï¼Œå°è±¡ä¸€å…±å°±å…©å€‹å±¬æ€§ï¼Œæˆ‘å€‘ä¹Ÿçµ¦ä»–å¼„æˆå»ºé€ è€…æ¨¡å¼ï¼Œé€™å°±æœ‰é»å¤§æå°ç”¨ï¼Œé©å¾—å…¶åï¼Œä¸€å®šè¦çµåˆçš„å¯¦éš›çš„é …ç›®éœ€æ±‚ï¼Œä¸èƒ½ç›²ç›®ä½¿ç”¨ã€‚</p><div class=pgc-img><img alt=ã€Œè¨­è¨ˆæ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ï¼šä½ å‰µå»ºå°è±¡çš„æ–¹å¼æœ‰å®ƒçµ²æ»‘å—ï¼Ÿ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/24bf1fc955de499183243bc4f9fb6120><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>æ¨¡å¼</a></li><li><a>è¨­è¨ˆ</a></li><li><a>å‰µå»º</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/210ccbc7.html alt=è¨­è¨ˆæ¨¡å¼å°ˆé¡Œ07-é©é…æ¨¡å¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/61e5bbbccefd445ca47e5ac95ad5c655 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/210ccbc7.html title=è¨­è¨ˆæ¨¡å¼å°ˆé¡Œ07-é©é…æ¨¡å¼>è¨­è¨ˆæ¨¡å¼å°ˆé¡Œ07-é©é…æ¨¡å¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/48a6b6a.html alt="5 PHP è¨­è¨ˆæ¨¡å¼ç³»åˆ—ã€Œå°è±¡æ± æ¨¡å¼ï¼ˆObject Poolï¼‰ã€" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/29c712d86aa04c48ad6b0d262ed8026e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/48a6b6a.html title="5 PHP è¨­è¨ˆæ¨¡å¼ç³»åˆ—ã€Œå°è±¡æ± æ¨¡å¼ï¼ˆObject Poolï¼‰ã€">5 PHP è¨­è¨ˆæ¨¡å¼ç³»åˆ—ã€Œå°è±¡æ± æ¨¡å¼ï¼ˆObject Poolï¼‰ã€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/738616e.html alt=ç°¡èªªè¨­è¨ˆæ¨¡å¼ä¹‹è¨­è¨ˆæ¨¡å¼æ¦‚è¿° class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1b30f3e2a7f142c0b14470e6e23fa214 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/738616e.html title=ç°¡èªªè¨­è¨ˆæ¨¡å¼ä¹‹è¨­è¨ˆæ¨¡å¼æ¦‚è¿°>ç°¡èªªè¨­è¨ˆæ¨¡å¼ä¹‹è¨­è¨ˆæ¨¡å¼æ¦‚è¿°</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2463a2a.html alt=é¢å‘å°è±¡çš„å¯è¤‡ç”¨è¨­è¨ˆæ¨¡å¼-è£é£¾æ¨¡å¼ï¼ˆjavaä»£ç¢¼å¯¦ç¾ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b27d2e0e6d6347d5aa5a0633d8867ea4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2463a2a.html title=é¢å‘å°è±¡çš„å¯è¤‡ç”¨è¨­è¨ˆæ¨¡å¼-è£é£¾æ¨¡å¼ï¼ˆjavaä»£ç¢¼å¯¦ç¾ï¼‰>é¢å‘å°è±¡çš„å¯è¤‡ç”¨è¨­è¨ˆæ¨¡å¼-è£é£¾æ¨¡å¼ï¼ˆjavaä»£ç¢¼å¯¦ç¾ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1059237.html alt=é¢å‘å°è±¡çš„å¯è¤‡ç”¨è¨­è¨ˆæ¨¡å¼ä¹‹ä¸­ä»‹è€…æ¨¡å¼ï¼ˆ18/24ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/4afbebaa300046e6be67c5085faaf5ac style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1059237.html title=é¢å‘å°è±¡çš„å¯è¤‡ç”¨è¨­è¨ˆæ¨¡å¼ä¹‹ä¸­ä»‹è€…æ¨¡å¼ï¼ˆ18/24ï¼‰>é¢å‘å°è±¡çš„å¯è¤‡ç”¨è¨­è¨ˆæ¨¡å¼ä¹‹ä¸­ä»‹è€…æ¨¡å¼ï¼ˆ18/24ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9a3ab9c.html alt=è¨­è¨ˆæ¨¡å¼ä¹‹å°è±¡æ± æ¨¡å¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/153421232504357f6330f7f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9a3ab9c.html title=è¨­è¨ˆæ¨¡å¼ä¹‹å°è±¡æ± æ¨¡å¼>è¨­è¨ˆæ¨¡å¼ä¹‹å°è±¡æ± æ¨¡å¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3756335.html alt=è¨­è¨ˆæ¨¡å¼ä¹‹ç©ºå°è±¡è¨­è¨ˆæ¨¡å¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/6ea14e17fa9b49ccaa5079bd6d256f1f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3756335.html title=è¨­è¨ˆæ¨¡å¼ä¹‹ç©ºå°è±¡è¨­è¨ˆæ¨¡å¼>è¨­è¨ˆæ¨¡å¼ä¹‹ç©ºå°è±¡è¨­è¨ˆæ¨¡å¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5d69059.html alt=è¨­è¨ˆæ¨¡å¼å¯¦è¸ç³»åˆ—ï¼šé¢å‘å°è±¡ç¶“å…¸çš„è¨­è¨ˆåŸå‰‡åŠè¨­è¨ˆæ¨¡å¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5d69059.html title=è¨­è¨ˆæ¨¡å¼å¯¦è¸ç³»åˆ—ï¼šé¢å‘å°è±¡ç¶“å…¸çš„è¨­è¨ˆåŸå‰‡åŠè¨­è¨ˆæ¨¡å¼>è¨­è¨ˆæ¨¡å¼å¯¦è¸ç³»åˆ—ï¼šé¢å‘å°è±¡ç¶“å…¸çš„è¨­è¨ˆåŸå‰‡åŠè¨­è¨ˆæ¨¡å¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a9b14d6.html alt=é¢å‘å°è±¡çš„å¯è¤‡ç”¨è¨­è¨ˆæ¨¡å¼ä¹‹è£é£¾æ¨¡å¼ï¼ˆ10/24ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/55017ba25c1a44e1a73201f0542b0858 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a9b14d6.html title=é¢å‘å°è±¡çš„å¯è¤‡ç”¨è¨­è¨ˆæ¨¡å¼ä¹‹è£é£¾æ¨¡å¼ï¼ˆ10/24ï¼‰>é¢å‘å°è±¡çš„å¯è¤‡ç”¨è¨­è¨ˆæ¨¡å¼ä¹‹è£é£¾æ¨¡å¼ï¼ˆ10/24ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/298dfd0.html alt="JavaScriptè¨­è¨ˆæ¨¡å¼ä¹‹é©é…å™¨æ¨¡å¼ï¼ˆAdaptor Patternï¼‰" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/eb26d1ff-cac4-452b-bd03-089b79157a6a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/298dfd0.html title="JavaScriptè¨­è¨ˆæ¨¡å¼ä¹‹é©é…å™¨æ¨¡å¼ï¼ˆAdaptor Patternï¼‰">JavaScriptè¨­è¨ˆæ¨¡å¼ä¹‹é©é…å™¨æ¨¡å¼ï¼ˆAdaptor Patternï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c5ca3c1.html alt=Javaæè¿°è¨­è¨ˆæ¨¡å¼(07)ï¼šé©é…å™¨æ¨¡å¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/3d0d9f42897848478e118ef916ba1624 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c5ca3c1.html title=Javaæè¿°è¨­è¨ˆæ¨¡å¼(07)ï¼šé©é…å™¨æ¨¡å¼>Javaæè¿°è¨­è¨ˆæ¨¡å¼(07)ï¼šé©é…å™¨æ¨¡å¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bc8c270.html alt=Javaè¨­è¨ˆæ¨¡å¼7ï¼šé©é…å™¨æ¨¡å¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/4fb24e6568784c2bbc8b86a9a6f7027d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bc8c270.html title=Javaè¨­è¨ˆæ¨¡å¼7ï¼šé©é…å™¨æ¨¡å¼>Javaè¨­è¨ˆæ¨¡å¼7ï¼šé©é…å™¨æ¨¡å¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3bed020.html alt=Javaè¨­è¨ˆæ¨¡å¼ä¹‹é©é…å™¨æ¨¡å¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a1a3bb08006b4da3b69b1e1c7fcee9fe style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3bed020.html title=Javaè¨­è¨ˆæ¨¡å¼ä¹‹é©é…å™¨æ¨¡å¼>Javaè¨­è¨ˆæ¨¡å¼ä¹‹é©é…å™¨æ¨¡å¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/46f4759.html alt=Javaè¨­è¨ˆæ¨¡å¼ï¼ˆåå››ï¼‰ï¼šé©é…å™¨æ¨¡å¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5941000582d4f8ab6030 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/46f4759.html title=Javaè¨­è¨ˆæ¨¡å¼ï¼ˆåå››ï¼‰ï¼šé©é…å™¨æ¨¡å¼>Javaè¨­è¨ˆæ¨¡å¼ï¼ˆåå››ï¼‰ï¼šé©é…å™¨æ¨¡å¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cd56204.html alt=Javaè¨­è¨ˆæ¨¡å¼ï¼šé©é…å™¨æ¨¡å¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/15403119502118dec1fd1d0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cd56204.html title=Javaè¨­è¨ˆæ¨¡å¼ï¼šé©é…å™¨æ¨¡å¼>Javaè¨­è¨ˆæ¨¡å¼ï¼šé©é…å™¨æ¨¡å¼</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>