<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>èœå–®(Menu) | æå®¢å¿«è¨Š</title><meta property="og:title" content="èœå–®(Menu) - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/153103288271065b8e4e44c"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86ff6f1c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86ff6f1c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/86ff6f1c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86ff6f1c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86ff6f1c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/86ff6f1c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/86ff6f1c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/86ff6f1c.html><meta property="article:published_time" content="2020-11-14T21:05:16+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:16+08:00"><meta name=Keywords content><meta name=description content="èœå–®(Menu)"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/86ff6f1c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>èœå–®(Menu)</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>1.OptionMenu(é¸é …èœå–®)</p><hr><p><strong>1ï¼‰å¦‚ä½•ä½¿ç”¨OptionMenuï¼Ÿ</strong></p><blockquote><p>ç­”ï¼šéå¸¸ç°¡å–®ï¼Œé‡å¯«å…©å€‹æ–¹æ³•å°±å¥½ï¼Œå…¶å¯¦é€™å…©å€‹æ–¹æ³•æˆ‘å€‘åœ¨å‰µå»ºé …ç›®çš„æ™‚å€™å°±æœƒè‡ªå‹•ç”Ÿæˆ~ ä»–å€‘åˆ†åˆ¥æ˜¯ï¼š</p></blockquote><ul><li>public boolean <strong>onCreateOptionsMenu</strong>(Menu menu)ï¼šèª¿ç”¨OptionMenuï¼Œåœ¨é€™è£¡å®Œæˆèœå–®åˆå§‹åŒ–</li><li>public boolean <strong>onOptionsItemSelected</strong>(MenuItem item)ï¼šèœå–®é …è¢«é¸ä¸­æ™‚è§¸ç™¼ï¼Œé€™è£¡å®Œæˆäº‹ä»¶è™•ç†</li></ul><blockquote><p>ç•¶ç„¶é™¤äº†ä¸Šé¢é€™å…©å€‹æ–¹æ³•æˆ‘å€‘å¯ä»¥é‡å¯«å¤–æˆ‘å€‘é‚„å¯ä»¥é‡å¯«é€™ä¸‰å€‹æ–¹æ³•ï¼š</p></blockquote><ul><li>public void <strong>onOptionsMenuClosed</strong>(Menu menu)ï¼šèœå–®é—œé–‰æœƒèª¿ç”¨è©²æ–¹æ³•</li><li>public boolean <strong>onPrepareOptionsMenu</strong>(Menu menu)ï¼šé¸é …èœå–®é¡¯ç¤ºå‰æœƒèª¿ç”¨è©²æ–¹æ³•ï¼Œ å¯åœ¨é€™è£¡é€²è¡Œèœå–®çš„èª¿æ•´(å‹•æ…‹åŠ è¼‰èœå–®åˆ—è¡¨)</li><li>public boolean <strong>onMenuOpened</strong>(int featureId, Menu menu)ï¼šé¸é …èœå–®æ‰“é–‹ä»¥å¾Œæœƒèª¿ç”¨é€™å€‹æ–¹æ³•</li></ul><p>è€ŒåŠ è¼‰èœå–®çš„æ–¹å¼æœ‰å…©ç¨®ï¼Œä¸€ç¨®æ˜¯ç›´æ¥é€šéç·¨å¯«èœå–®XMLæ–‡ä»¶ï¼Œç„¶å¾Œèª¿ç”¨ï¼š <strong>getMenuInflater().inflate(R.menu.menu_main, menu);</strong>åŠ è¼‰èœå–® æˆ–è€…é€šéä»£ç¢¼å‹•æ…‹æ·»åŠ ï¼ŒonCreateOptionsMenuçš„åƒæ•¸menuï¼Œèª¿ç”¨addæ–¹æ³•æ·»åŠ  èœå–®ï¼Œadd(èœå–®é …çš„çµ„è™Ÿï¼ŒIDï¼Œæ’åºè™Ÿï¼Œæ¨™é¡Œ)ï¼Œå¦å¤–å¦‚æœæ’åºè™Ÿæ˜¯æŒ‰æ·»åŠ é †åºæ’åºçš„è©±éƒ½å¡«0å³å¯ï¼</p><hr><p><strong>2ï¼‰ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p><p><strong>é‹è¡Œæ•ˆæœåœ–</strong>ï¼š</p><div class=pgc-img><img alt=èœå–®(Menu) onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/153103288271065b8e4e44c><p class=pgc-img-caption></p></div><p><strong>ä»£ç¢¼å¯¦ç¾</strong>ï¼š</p><p><strong>MainActivity.java</strong>ï¼š</p><p>public class MainActivity extends AppCompatActivity {</p><p>//1.å®šç¾©ä¸åŒé¡è‰²çš„èœå–®é …çš„æ¨™è­˜:</p><p>final private int RED = 110;</p><p>final private int GREEN = 111;</p><p>final private int BLUE = 112;</p><p>final private int YELLOW = 113;</p><p>final private int GRAY= 114;</p><p>final private int CYAN= 115;</p><p>final private int BLACK= 116;</p><p>private TextView tv_test;</p><p>@Override</p><p>protected void onCreate(Bundle savedInstanceState) {</p><p>super.onCreate(savedInstanceState);</p><p>setContentView(R.layout.activity_main);</p><p>tv_test = (TextView) findViewById(R.id.tv_test);</p><p>}</p><p>@Override</p><p>public boolean onCreateOptionsMenu(Menu menu) {</p><p>// Inflate the menu; this adds items to the action bar if it is present.</p><p>menu.add(1,RED,4,"ç´…è‰²");</p><p>menu.add(1,GREEN,2,"ç¶ è‰²");</p><p>menu.add(1,BLUE,3,"è—è‰²");</p><p>menu.add(1,YELLOW,1,"é»ƒè‰²");</p><p>menu.add(1,GRAY,5,"ç°è‰²");</p><p>menu.add(1,CYAN,6,"è—ç¶ è‰²");</p><p>menu.add(1,BLACK,7,"é»‘è‰²");</p><p>return true;</p><p>}</p><p>@Override</p><p>public boolean onOptionsItemSelected(MenuItem item) {</p><p>// Handle action bar item clicks here. The action bar will</p><p>// automatically handle clicks on the Home/Up button, so long</p><p>// as you specify a parent activity in AndroidManifest.xml.</p><p>int id = item.getItemId();</p><p>switch (id){</p><p>case RED:</p><p>tv_test.setTextColor(Color.RED);</p><p>break;</p><p>case GREEN:</p><p>tv_test.setTextColor(Color.GREEN);</p><p>break;</p><p>case BLUE:</p><p>tv_test.setTextColor(Color.BLUE);</p><p>break;</p><p>case YELLOW:</p><p>tv_test.setTextColor(Color.YELLOW);</p><p>break;</p><p>case GRAY:</p><p>tv_test.setTextColor(Color.GRAY);</p><p>break;</p><p>case CYAN:</p><p>tv_test.setTextColor(Color.CYAN);</p><p>break;</p><p>case BLACK:</p><p>tv_test.setTextColor(Color.BLACK);</p><p>break;</p><p>}</p><p>return super.onOptionsItemSelected(item);</p><p>}</p><p>}</p><p><strong>ä»£ç¢¼åˆ†æ</strong>ï¼š</p><p>ä¸Šè¿°çš„ä»£ç¢¼éå¸¸ç°¡å–®ï¼Œçµ¦å¤§å®¶æ¼”ç¤ºäº†Android 5.0çš„ä¸­OptionMenu(é¸é …èœå–®)ä¸­å‹•æ…‹æ·»åŠ èœå–®ï¼Œ ä»¥åŠäº‹ä»¶è™•ç†ï¼Œæ ¹æ“šidåˆ¤æ–·ç”¨æˆ¶é»æ“Šçš„æ˜¯å“ªä¸€é …ï¼Œç„¶å¾ŒåŸ·è¡Œå°æ‡‰çš„æ“ä½œï¼ å¦å¤–ï¼Œæœ‰ä¸€é»è¦æ³¨æ„çš„æ˜¯ï¼Œé¸é …èœå–®ç¶“éäº†ä¸‰å€‹éšæ®µçš„éæ¸¡ï¼š åœ¨Android 2.3.xæˆ–è€…æ›´ä½ç‰ˆæœ¬ï¼Œå› ç‚ºè©²éšæ®µå¤§éƒ¨åˆ†çš„æ©Ÿå‹éƒ½æ˜¯å¸¶æœ‰Menuéµçš„ï¼Œ æ­¤éšæ®µé€šéé»æ“ŠMenuéµå½ˆå‡ºèœå–®ï¼š</p><div class=pgc-img><img alt=èœå–®(Menu) onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/153103288265509e0cc1395><p class=pgc-img-caption></p></div><p>è€Œåœ¨Android 3.0æˆ–è€…æ›´é«˜çš„ç‰ˆæœ¬ï¼Œå‰‡æ˜¯é€šé3.0å¼•å…¥çš„ActionBarä¸­çš„settingèœå–®ï¼š</p><div class=pgc-img><img alt=èœå–®(Menu) onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1531032882669cf6f68a745><p class=pgc-img-caption></p></div><p>è€Œåœ¨5.0ä»¥ä¸Šçš„ç‰ˆæœ¬å‰‡æ˜¯åœ¨ToolBarä¸­çš„ï¼Œé»æ“Šå¾Œå‡ºä¸€å€‹æº¢å‡ºå¼çš„èœå–®æ¨£å¼</p><div class=pgc-img><img alt=èœå–®(Menu) onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1531032882630c6cdb18d06><p class=pgc-img-caption></p></div><p>å¦å¤–é€šéXMLæ–¹å¼å®šç¾©Menuçš„æ–¹å¼ï¼Œæˆ‘å€‘è²¼å€‹ç°¡å–®çš„åƒè€ƒä»£ç¢¼ï¼š</p><p>&lt;?xml version="1.0" encoding="utf-8"?></p><p>&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"></p><p>&lt;item android:id="@+id/new_game"</p><p>android:icon="@drawable/ic_new_game"</p><p>android:title="@string/new_game"</p><p>android:showAsAction="ifRoom"/></p><p>&lt;item android:id="@+id/help"</p><p>android:icon="@drawable/ic_help"</p><p>android:title="@string/help" /></p><p>&lt;/menu></p><p>å…¶ä»–çš„è‡ªè¡ŒæŸ¥é–±æ–‡æª”å“ˆ~</p><hr><p>2.ContextMenu(ä¸Šä¸‹æ–‡èœå–®)</p><blockquote><p>ä¸€é–‹å§‹æˆ‘å€‘å°±èªªäº†ï¼Œé•·æŒ‰æŸå€‹Viewå¾Œå‡ºç¾çš„èœå–®ï¼Œæˆ‘å€‘éœ€è¦ç‚ºé€™å€‹Viewè¨»å†Šä¸Šä¸‹æ–‡èœå–®ï¼</p></blockquote><hr><p><strong>1ï¼‰å¦‚ä½•ä½¿ç”¨ContextMenuï¼Ÿ</strong></p><blockquote><p>ç­”ï¼šä½¿ç”¨çš„æµç¨‹å¦‚ä¸‹ï¼š</p></blockquote><ul><li><strong>Step 1</strong>ï¼šé‡å¯«onCreateContextMenu()æ–¹æ³•</li><li><strong>Step 2</strong>ï¼šç‚ºviewçµ„ä»¶è¨»å†Šä¸Šä¸‹æ–‡èœå–®ï¼Œä½¿ç”¨registerForContextMenu()æ–¹æ³•,åƒæ•¸æ˜¯View</li><li><strong>Step 3</strong>ï¼šé‡å¯«onContextItemSelected()æ–¹æ³•ç‚ºèœå–®é …æŒ‡å®šäº‹ä»¶ç›£è½å™¨</li></ul><p>ä¸Šé¢çš„OptionMenuæˆ‘å€‘ä½¿ç”¨äº†Javaä»£ç¢¼çš„æ–¹æ³•ä¾†å®Œæˆèœå–®é …çš„æ·»åŠ ï¼Œé€™è£¡æˆ‘å€‘å°±ç”¨XMLæ–‡ä»¶çš„ æ–¹å¼ä¾†ç”Ÿæˆæˆ‘å€‘çš„CotnextMenuå§ï¼Œå¦å¤–é—œæ–¼ä½¿ç”¨Javaä»£ç¢¼ä¾†ç”Ÿæˆèœå–®é‚„æ˜¯ä½¿ç”¨XMLä¾†ç”Ÿæˆèœå–®ï¼Œ å»ºè­°ä½¿ç”¨å¾Œè€…ä¾†å®šç¾©èœå–®ï¼Œé€™æ¨£å¯ä»¥æ¸›å°‘Javaä»£ç¢¼çš„ä»£ç¢¼è‡ƒè…«ï¼Œè€Œä¸”ä¸ç”¨æ¯æ¬¡éƒ½ç”¨ä»£ç¢¼åˆ†é… idï¼Œåªéœ€ä¿®æ”¹XMLæ–‡ä»¶å³å¯ä¿®æ”¹èœå–®çš„å…§å®¹ï¼Œé€™æ¨£åœ¨ä¸€å®šç¨‹åº¦ä¸Šä½ç¨‹åºæä¾›çš„äº†æ›´å¥½çš„è§£è€¦ï¼Œ ä½è€¦åˆï¼Œé«˜å…§èšï¼Œæ˜¯å§~</p><hr><p><strong>2ï¼‰ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p><p><strong>é‹è¡Œæ•ˆæœåœ–</strong>ï¼š</p><div class=pgc-img><img alt=èœå–®(Menu) onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1531032882812374c969fe9><p class=pgc-img-caption></p></div><p><strong>å¯¦ç¾ä»£ç¢¼</strong>ï¼š</p><p>æˆ‘å€‘å…ˆä¾†ç·¨å¯«é¸é …èœå–®çš„èœå–®XMLæ–‡ä»¶ï¼š</p><p><strong>menu_context.xml</strong>ï¼š</p><p>&lt;?xml version="1.0" encoding="utf-8"?></p><p>&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"></p><p>&lt;!-- å®šç¾©ä¸€çµ„å–®é¸æŒ‰éˆ• --></p><p>&lt;!-- checkableBehaviorçš„å¯é¸å€¼ç”±ä¸‰å€‹ï¼šsingleè¨­ç½®ç‚ºå–®é¸ï¼Œallç‚ºå¤šé¸ï¼Œnoneç‚ºæ™®é€šé¸é … --></p><p>&lt;group android:checkableBehavior="none"></p><p>&lt;item android:id="@+id/blue" android:title="@string/font_blue"/></p><p>&lt;item android:id="@+id/green" android:title="@string/font_green"/></p><p>&lt;item android:id="@+id/red" android:title="@string/font_red"/></p><p>&lt;/group></p><p>&lt;/menu></p><p>æ¥è‘—æˆ‘å€‘åœ¨é¸é …èœå–®çš„é‚£å€‹åŸºç¤ä¸Šï¼Œæ·»åŠ ä¸€å€‹TextViewï¼Œç„¶å¾ŒåŠ ä¸Šä¸‹é¢ä¸€äº›æ±è¥¿ï¼š</p><p>private TextView tv_context;</p><p>tv_context = (TextView) findViewById(R.id.tv_context);</p><p>registerForContextMenu(tv_context);</p><p>//é‡å¯«èˆ‡ContextMenuç›¸é—œæ–¹æ³•</p><p>@Override</p><p>//é‡å¯«ä¸Šä¸‹æ–‡èœå–®çš„å‰µå»ºæ–¹æ³•</p><p>public void onCreateContextMenu(ContextMenu menu, View v,</p><p>ContextMenu.ContextMenuInfo menuInfo) {</p><p>MenuInflater inflator = new MenuInflater(this);</p><p>inflator.inflate(R.menu.menu_context, menu);</p><p>super.onCreateContextMenu(menu, v, menuInfo);</p><p>}</p><p>//ä¸Šä¸‹æ–‡èœå–®è¢«é»æ“Šæ˜¯è§¸ç™¼è©²æ–¹æ³•</p><p>@Override</p><p>public boolean onContextItemSelected(MenuItem item) {</p><p>switch (item.getItemId()) {</p><p>case R.id.blue:</p><p>tv_context.setTextColor(Color.BLUE);</p><p>break;</p><p>case R.id.green:</p><p>tv_context.setTextColor(Color.GREEN);</p><p>break;</p><p>case R.id.red:</p><p>tv_context.setTextColor(Color.RED);</p><p>break;</p><p>}</p><p>return true;</p><p>}</p><p>å¥½çš„ï¼Œå°±æ˜¯é‚£éº¼ç°¡å–®~å¯ä»¥ç‚ºå¤šå€‹Viewè¨­ç½®ä¸Šä¸‹æ–‡ï¼Œswitch(v.getId)ä½ æ‡‚çš„~ å¦å¤–ï¼Œå’Œç­‰ä¸‹è¦è¬›çš„å­èœå–®ä¸€æ¨£ï¼Œä¸Šä¸‹æ–‡èœå–®éƒ½ç„¡æ³•é¡¯ç¤ºåœ–æ¨™ï¼</p><hr><p>3.SubMenu(å­èœå–®)</p><p>æ‰€è¬‚çš„å­èœå–®åªæ˜¯åœ¨&lt;**item**>ä¸­åˆåµŒå¥—äº†ä¸€å±¤&lt;**menu**>è€Œå·²</p><p><strong>ä»£ç¢¼ç¤ºä¾‹ï¼š</strong></p><p><strong>é‹è¡Œæ•ˆæœåœ–</strong></p><p>ï¼š</p><div class=pgc-img><img alt=èœå–®(Menu) onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/15310328826502e2251a920><p class=pgc-img-caption></p></div><p><strong>å¯¦ç¾ä»£ç¢¼:</strong></p><p>ç·¨å¯«å­èœå–®çš„Menuæ–‡ä»¶ï¼šmenu_sub.xmlï¼š</p><p>&lt;?xml version="1.0" encoding="utf-8"?></p><p>&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"></p><p>&lt;item android:id="@+id/submenu" android:title="å­èœå–®ä½¿ç”¨æ¼”ç¤º~"></p><p>&lt;menu></p><p>&lt;group android:checkableBehavior = "none"></p><p>&lt;item android:id="@+id/one" android:title = "å­èœå–®ä¸€"/></p><p>&lt;item android:id="@+id/two" android:title = "å­èœå–®äºŒ"/></p><p>&lt;item android:id="@+id/three" android:title = "å­èœå–®ä¸‰"/></p><p>&lt;/group></p><p>&lt;/menu></p><p>&lt;/item></p><p>&lt;/menu></p><p>æ¥è‘—æˆ‘å€‘æ”¹ä¸‹ä¸Šé¢ä¸Šä¸‹æ–‡èœå–®çš„å…©å€‹æ–¹æ³•çš„å…§å®¹ï¼Œæ›ä¸Šä¸‹é¢çš„ä»£ç¢¼ï¼š</p><p>public void onCreateContextMenu(ContextMenu menu, View v,</p><p>ContextMenu.ContextMenuInfo menuInfo) {</p><p>//å­èœå–®éƒ¨åˆ†ï¼š</p><p>MenuInflater inflator = new MenuInflater(this);</p><p>inflator.inflate(R.menu.menu_sub, menu);</p><p>super.onCreateContextMenu(menu, v, menuInfo);</p><p>}</p><p>public boolean onContextItemSelected(MenuItem item) {</p><p>switch (item.getItemId()) {</p><p>case R.id.one:</p><p>Toast.makeText(MainActivity.this,"ä½ é»æ“Šäº†å­èœå–®ä¸€",Toast.LENGTH_SHORT).show();</p><p>break;</p><p>case R.id.two:</p><p>item.setCheckable(true);</p><p>Toast.makeText(MainActivity.this,"ä½ é»æ“Šäº†å­èœå–®äºŒ",Toast.LENGTH_SHORT).show();</p><p>break;</p><p>case R.id.three:</p><p>Toast.makeText(MainActivity.this,"ä½ é»æ“Šäº†å­èœå–®ä¸‰",Toast.LENGTH_SHORT).show();</p><p>item.setCheckable(true);</p><p>break;</p><p>}</p><p>return true;</p><p>}</p><p>å¥½çš„ï¼Œç°å¸¸ç°¡å–®æ˜¯å§ï¼Œå¦å¤–ï¼Œå¦‚æœä½ æƒ³åœ¨Javaä»£ç¢¼ä¸­æ·»åŠ å­èœå–®çš„è©±ï¼Œå¯ä»¥èª¿ç”¨addSubMenu()</p><p>æ¯”å¦‚ï¼šSubMenu file = menu.addSubMenu("æ–‡ä»¶");fileé‚„éœ€è¦addItemæ·»åŠ èœå–®é …å“¦ï¼</p><hr><p>4.PopupMenu(å½ˆå‡ºå¼èœå–®)</p><p>ä¸€å€‹é¡ä¼¼æ–¼PopupWindowçš„æ±æ±ï¼Œä»–å¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨æŒ‡å®šViewä¸‹é¡¯ç¤ºä¸€å€‹å½ˆå‡ºèœå–®ï¼Œè€Œä¸” ä»–çš„èœå–®é¸é …å¯ä»¥ä¾†è‡ªæ–¼Menuè³‡æºï¼Œä¸‹é¢æˆ‘å€‘å¯«å€‹ç°¡å–®çš„ä¾‹å­ä¾†ä½¿ç”¨ä¸‹é€™å€‹æ±æ±~</p><p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p><p><strong>é‹è¡Œæ•ˆæœåœ–ï¼š</strong></p><div class=pgc-img><img alt=èœå–®(Menu) onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/153103288269759e560f8f4><p class=pgc-img-caption></p></div><p><strong>å¯¦ç¾ä»£ç¢¼ï¼š</strong></p><p>èœå–®è³‡æºæ–‡ä»¶ï¼šmenu_pop.xmlï¼š</p><p>&lt;?xml version="1.0" encoding="utf-8"?></p><p>&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"></p><p>&lt;item android:id="@+id/lpig" android:title="å°è±¬" /></p><p>&lt;item android:id="@+id/bpig" android:title="å¤§è±¬" /></p><p>&lt;/menu></p><p>åœ¨ä½ˆå±€ä¸­æ·»åŠ ä¸€å€‹æŒ‰éˆ•ï¼Œç„¶å¾Œæ·»åŠ é»æ“Šäº‹ä»¶ï¼š</p><p><strong>MainActivity.java</strong>:</p><p>btn_show_menu.setOnClickListener(new View.OnClickListener() {</p><p>@Override</p><p>public void onClick(View v) {</p><p>PopupMenu popup = new PopupMenu(MainActivity.this,btn_show_menu);</p><p>popup.getMenuInflater().inflate(R.menu.menu_pop, popup.getMenu());</p><p>popup.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {</p><p>@Override</p><p>public boolean onMenuItemClick(MenuItem item) {</p><p>switch (item.getItemId()){</p><p>case R.id.lpig:</p><p>Toast.makeText(MainActivity.this,"ä½ é»äº†å°è±¬~",</p><p>Toast.LENGTH_SHORT).show();</p><p>break;</p><p>case R.id.bpig:</p><p>Toast.makeText(MainActivity.this,"ä½ é»äº†å¤§è±¬~",</p><p>Toast.LENGTH_SHORT).show();</p><p>break;</p><p>}</p><p>return true;</p><p>}</p><p>});</p><p>popup.show();</p><p>}</p><p>});</p><p>éå¸¸ç°¡å–®ï¼Œæ–°æŠ€èƒ½getäº†æ²’ï¼Ÿ</p><hr><p>5.ç¤ºä¾‹ä»£ç¢¼ä¸‹è¼‰</p><p>MenuDemo1.zip</p><hr><p>æœ¬ç¯€å°çµï¼š</p><blockquote><p>å¥½çš„ï¼Œæœ¬ç¯€çµ¦å¤§å®¶ä»‹ç´¹äº†Androidä¸­çš„ä¸‰ç¨®èœå–®ï¼Œé¸é …èœå–®ï¼Œä¸Šä¸‹æ–‡èœå–®ä»¥åŠå­èœå–®ï¼Œæœ€å¾Œ é‚„è¬›è§£äº†ä¸€å€‹PopupMenuçš„æ§ä»¶ï¼Œé€™è£¡åªæ¼”ç¤ºäº†åŸºæœ¬çš„ç”¨æ³•ï¼Œå…¶ä»–å±¬æ€§å¯è‡ªè¡ŒæŸ¥é–±æ–‡æª”ï¼Œ æ–‡æª”æ‰æ˜¯æœ€å¥½çš„è€å¸«~å—¯ï¼Œå°±èªªé€™éº¼å¤š</p></blockquote><div class=pgc-img><img alt=èœå–®(Menu) onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1531032887274f2aa98a8c1><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>èœå–®</a></li><li><a>Menu</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/743229f6.html alt=ExcelåŸºç¤â€”æ–‡ä»¶èœå–®ä¹‹è¨­ç½®ä¿¡æ¯ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/64dba61a9f294ecfb90846be19887039 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/743229f6.html title=ExcelåŸºç¤â€”æ–‡ä»¶èœå–®ä¹‹è¨­ç½®ä¿¡æ¯>ExcelåŸºç¤â€”æ–‡ä»¶èœå–®ä¹‹è¨­ç½®ä¿¡æ¯</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7eb4cbc1.html alt=1289å¥—ç¾é£Ÿèœå–®æ¨¡æ¿é€çµ¦å¤§å®¶ï¼psdæ–‡ä»¶ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/95536bec89c646029d36a3eb6973ba24 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7eb4cbc1.html title=1289å¥—ç¾é£Ÿèœå–®æ¨¡æ¿é€çµ¦å¤§å®¶ï¼psdæ–‡ä»¶>1289å¥—ç¾é£Ÿèœå–®æ¨¡æ¿é€çµ¦å¤§å®¶ï¼psdæ–‡ä»¶</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/63475194.html alt=5æ­¥è¨­ç½®å¥½å¤–è³£èœå–®ï¼Œè®“å®ƒå¹«ä½ æé«˜éŠ·é‡ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1535340601891568bf2067c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/63475194.html title=5æ­¥è¨­ç½®å¥½å¤–è³£èœå–®ï¼Œè®“å®ƒå¹«ä½ æé«˜éŠ·é‡>5æ­¥è¨­ç½®å¥½å¤–è³£èœå–®ï¼Œè®“å®ƒå¹«ä½ æé«˜éŠ·é‡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/284a5e8f.html alt=ExcelåŸºç¤â€”æ–‡ä»¶èœå–®ä¹‹è¨­ç½®é¸é … class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1a7efa0d477e41edb0d3198b4cdad872 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/284a5e8f.html title=ExcelåŸºç¤â€”æ–‡ä»¶èœå–®ä¹‹è¨­ç½®é¸é …>ExcelåŸºç¤â€”æ–‡ä»¶èœå–®ä¹‹è¨­ç½®é¸é …</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/53fdfa30.html alt=WordPressä¸»é¡Œæ·»åŠ èœå–®åœ–æ¨™åœ–æ–‡æ•™ç¨‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/5f5865b6e87a47ccb9581e87a8469dda style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/53fdfa30.html title=WordPressä¸»é¡Œæ·»åŠ èœå–®åœ–æ¨™åœ–æ–‡æ•™ç¨‹>WordPressä¸»é¡Œæ·»åŠ èœå–®åœ–æ¨™åœ–æ–‡æ•™ç¨‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/20951214.html alt=ä½ ä¸çŸ¥é“çš„é—œæ–¼Excelèœå–®çš„ä½¿ç”¨æŠ€å·§ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/e2a6a25b2e2d46eda9a3b2a2331fb573 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/20951214.html title=ä½ ä¸çŸ¥é“çš„é—œæ–¼Excelèœå–®çš„ä½¿ç”¨æŠ€å·§>ä½ ä¸çŸ¥é“çš„é—œæ–¼Excelèœå–®çš„ä½¿ç”¨æŠ€å·§</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/355ed5a4.html alt=åœ¨Androidä¸­çš„å·¥å…·æ¬„ä¸­æ·»åŠ èœå–® class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a3572ad9d9fb487d8927f703f18179a0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/355ed5a4.html title=åœ¨Androidä¸­çš„å·¥å…·æ¬„ä¸­æ·»åŠ èœå–®>åœ¨Androidä¸­çš„å·¥å…·æ¬„ä¸­æ·»åŠ èœå–®</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/01079cac.html alt=å¦‚ä½•è£½ä½œé¤å»³èœå–®ï¼Ÿç¬¬ä¸€æ­¥ï¼Œå…ˆè¨­è¨ˆå¥½èœå–®çš„ä½ˆå±€ï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ba147cddb4f24136ae3ca16e6acaf848 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/01079cac.html title=å¦‚ä½•è£½ä½œé¤å»³èœå–®ï¼Ÿç¬¬ä¸€æ­¥ï¼Œå…ˆè¨­è¨ˆå¥½èœå–®çš„ä½ˆå±€ï¼>å¦‚ä½•è£½ä½œé¤å»³èœå–®ï¼Ÿç¬¬ä¸€æ­¥ï¼Œå…ˆè¨­è¨ˆå¥½èœå–®çš„ä½ˆå±€ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0d849d2f.html alt=å®´æœƒèœå–®å¦‚ä½•åˆ¶å®šæ‰èƒ½è®“é¡§å®¢æ»¿æ„ï¼Œè®“é¤å»³ç›ˆåˆ©ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1537278327699a066f4a3ca style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0d849d2f.html title=å®´æœƒèœå–®å¦‚ä½•åˆ¶å®šæ‰èƒ½è®“é¡§å®¢æ»¿æ„ï¼Œè®“é¤å»³ç›ˆåˆ©ï¼Ÿ>å®´æœƒèœå–®å¦‚ä½•åˆ¶å®šæ‰èƒ½è®“é¡§å®¢æ»¿æ„ï¼Œè®“é¤å»³ç›ˆåˆ©ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a7e3dc79.html alt=å¸¸ç”¨æ¨“æ¢¯å±¤å°èˆªå®šä½èœå–® class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/3229000388f7cf6a9281 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a7e3dc79.html title=å¸¸ç”¨æ¨“æ¢¯å±¤å°èˆªå®šä½èœå–®>å¸¸ç”¨æ¨“æ¢¯å±¤å°èˆªå®šä½èœå–®</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/dad52ef5.html alt=ç”¨é€™7å€‹æ–¹æ³•è¨­è¨ˆèœå–®ï¼Œè®“é¤å»³çš„åˆ©æ½¤æš´æ¼² class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f3da5cd4001345f484c2881bbf86228c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/dad52ef5.html title=ç”¨é€™7å€‹æ–¹æ³•è¨­è¨ˆèœå–®ï¼Œè®“é¤å»³çš„åˆ©æ½¤æš´æ¼²>ç”¨é€™7å€‹æ–¹æ³•è¨­è¨ˆèœå–®ï¼Œè®“é¤å»³çš„åˆ©æ½¤æš´æ¼²</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ee0d062a.html alt=èœå–®æ‹ç…§åœ–ç‰‡ï¼Œå–œæ­¡åšèœçš„æœ‹å‹å¯ä»¥å€Ÿé‘‘ä¸€ä¸‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/61590003fcb6a5641208 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ee0d062a.html title=èœå–®æ‹ç…§åœ–ç‰‡ï¼Œå–œæ­¡åšèœçš„æœ‹å‹å¯ä»¥å€Ÿé‘‘ä¸€ä¸‹>èœå–®æ‹ç…§åœ–ç‰‡ï¼Œå–œæ­¡åšèœçš„æœ‹å‹å¯ä»¥å€Ÿé‘‘ä¸€ä¸‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fc73a632.html alt=é€™äº›èœå–®è¨­è¨ˆï¼Œäº®çæˆ‘çš„çœ¼ï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1536756490882944fca8934 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fc73a632.html title=é€™äº›èœå–®è¨­è¨ˆï¼Œäº®çæˆ‘çš„çœ¼ï¼>é€™äº›èœå–®è¨­è¨ˆï¼Œäº®çæˆ‘çš„çœ¼ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/42de49ac.html alt=é¤å»³è€é—†å¦‚ä½•è£½ä½œä¸€ä»½å„ªç§€çš„é¤å»³èœå–®ï¼Ÿèœå–®å­—é«”å’Œé…è‰²çš„é¸æ“‡ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/fc3c6dcd8fba4c08b735059847147ef0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/42de49ac.html title=é¤å»³è€é—†å¦‚ä½•è£½ä½œä¸€ä»½å„ªç§€çš„é¤å»³èœå–®ï¼Ÿèœå–®å­—é«”å’Œé…è‰²çš„é¸æ“‡>é¤å»³è€é—†å¦‚ä½•è£½ä½œä¸€ä»½å„ªç§€çš„é¤å»³èœå–®ï¼Ÿèœå–®å­—é«”å’Œé…è‰²çš„é¸æ“‡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/78fa6696.html alt=Win10æ–°â€œé–‹å§‹èœå–®â€ä¸Šç·šï¼é é¢è¨­è¨ˆæ›´ç‚ºç°¡åŒ–æµæš¢ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/S3YqlHbDFHi2rd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/78fa6696.html title=Win10æ–°â€œé–‹å§‹èœå–®â€ä¸Šç·šï¼é é¢è¨­è¨ˆæ›´ç‚ºç°¡åŒ–æµæš¢>Win10æ–°â€œé–‹å§‹èœå–®â€ä¸Šç·šï¼é é¢è¨­è¨ˆæ›´ç‚ºç°¡åŒ–æµæš¢</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>