<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>大黑客必學神器sqlmap，sql注入輕而易舉 | 极客快訊</title><meta property="og:title" content="大黑客必學神器sqlmap，sql注入輕而易舉 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/0178a19c91304d8f9f691b492434117b"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8a2d463.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8a2d463.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/8a2d463.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8a2d463.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8a2d463.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/8a2d463.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/8a2d463.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8a2d463.html><meta property="article:published_time" content="2020-10-29T20:54:43+08:00"><meta property="article:modified_time" content="2020-10-29T20:54:43+08:00"><meta name=Keywords content><meta name=description content="大黑客必學神器sqlmap，sql注入輕而易舉"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/8a2d463.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>大黑客必學神器sqlmap，sql注入輕而易舉</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>1、 sqlmap介紹</p><p>sqlmap是一款支持MySQL, Oracle,PostgreSQL, Microsoft SQL Server, Microsoft Access, IBM DB2, SQLite, Firebird,Sybase和SAP MaxDB等數據庫的各種安全漏洞檢測工具。</p><p>2、 sqlmap的下載以及安裝</p><p>（1）linux下git直接安裝</p><p>Kali系統自帶的sqlmap</p><p>gitclone –depth 1 https://github.com/sqlmapproject/sqlmap.git sqlmap-dev</p><p>（2）windows下安裝</p><p>windows下下載sqlmap的壓縮包，解壓後即可使用。但需要一些組件包的支持，需要有python2.7.x或者2.6.x環境支持</p><p>D:\一些工具分類\Python27</p><p>（3）kali及PentestBox默認安裝sqlmap</p><p>(4) sqlmap支持的檢測模式</p><p>sqlmap支持五種不同的注入模式：</p><p>l 基於布爾的盲注，即可以根據返回頁面判斷條件真假的注入；</p><p>l 基於時間的盲注，即不能根據頁面返回內容判斷任何信息，用條件語句查看時間延遲語句是否執行（即頁面返回時間是否增加）來判斷；</p><p>l 基於報錯注入，即頁面會返回錯誤信息，或者把注入的語句的結果直接返回在頁面中；</p><p>l 聯合查詢注入，可以使用union的情況下的注入；</p><p>l 堆查詢注入，可以同時執行多條語句的執行時的注入。</p><p>(5)sqlmap不同的等級</p><p>1、同時顯示基本信息和警告信息。（默認）</p><p>2、同時顯示debug信息。</p><p>3、同時顯示注入的payload。</p><p>4、同時顯示HTTP請求。</p><p>5、同時顯示HTTP響應頭。</p><p>6、同時顯示HTTP響應頁面。</p><p>--level</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0178a19c91304d8f9f691b492434117b><p class=pgc-img-caption></p></div><p>除此之外，也可以用-v代替level，因為-v就是level的縮寫，因此這樣也是可以的</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/02b5e81a8e0c43a7963aeb86ad4e0ac0><p class=pgc-img-caption></p></div><p>如果你想看到sqlmap發送的測試payload最好的等級就是3</p><p>如下圖，我這裡選擇了-v3，它這裡顯示了注入的payload，那麼這個工具注入的代碼就顯示出來了，因此我們也可以照著這個去學習和研究</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/616459206fd24ac68bd7e0ffcb8be439><p class=pgc-img-caption></p></div><p>3、 數據庫注入的使用</p><p>Access數據庫注入sqlmap.py -u "網站" 我們先檢測這個網站是否存在注入點</p><p>-u "網站"--tables 列出數據庫中所有表的名字。</p><p>-u "網站"-T "表名" --columns 針對某個表的列名</p><p>-u "網站"-dump T "表名" -  C "列名"針對某個表裡的某個列。列出該列中的字段內容（注意-dump可以放在後面，不用擔心麻煩注意看清楚大小寫）</p><p>因為access數據庫只有一個獨立的數據庫，所以它這裡不需要去猜數據庫名</p><p>mssql數據庫注入 -u "網站"</p><p>-u "網站"--dbs</p><p>-u "網站"--is-dba 查看當前用戶是否是數據庫管理員</p><p>-u "網站" --current -db</p><p>-u "網站"-D "數據庫名" --tables</p><p>-u "網站"-D "數據庫名" -T "表名" --columns</p><p>-u "網站"--dump -D "數據庫名" -T "表名"-C "列名"</p><p>mysql數據庫同上</p><p>一般注入的時候，我們可以先查看它的權限 --privileges</p><p>由於mysql和mssql數據庫有多個數據庫和多個網站，那麼這個時候sqlmap默認跑的注入方式是顯錯注入。</p><p>1) mysql注入演示</p><p>首先簡單的測試是否存在sql注入漏洞</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/bc548b04e3ca43a983a3b96834bf302a><p class=pgc-img-caption></p></div><p>可以看見它這裡顯示了對方網站的操作系統為Windows，然後當前的php版本為5.4以及web服務器Apache的版本，還有當前的數據庫為mysql5.0版本，上面的就是sqlmap注入時候攻擊代碼。</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/48c263b9b8564323882840a44d518fef><p class=pgc-img-caption></p></div><p>跑完的數據都將會保存在output目錄下生成一個以網站域名命名的文件夾。</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/3b390c9a8619490dbd876f7495107844><p class=pgc-img-caption></p></div><p>由於我是本地環境，所以它這裡就是127.0.0.1</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4fe8c28be40a4fb092187a6b14031229><p class=pgc-img-caption></p></div><p>那麼簡單的檢測就這樣演示完了，接下來就是跑數據庫名，為什麼要跑數據庫？因為mysql和mssql跟access數據庫不一樣，mysql有多個數據庫，那麼我們就需要跑出當前網站的數據庫名，就跟我們進行顯錯注入一樣，都需要數據庫名來進一步來弄出表名和表裡面的數據。</p><p>這個要用到--current-db這個參數，這個參數是用來顯示當前數據庫名的參數</p><p>那麼結果如下，可以看見它這裡顯示出當前的數據庫名為security，那麼我們知道了數據庫名，我們就可以去跑當前數據庫名的所有數據</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/97167334225548c4aff68fed4c9e8d3d><p class=pgc-img-caption></p></div><p>用-D大寫的D代替databases，那麼這個就是指定對應的數據庫名，然後再用--tables去跑出當前數據庫的所有表名</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4925cbf2481e4c2886b74415fd981701><p class=pgc-img-caption></p></div><p>跑出來的結果如下，跑出了security數據庫的4個表名，分別為emails、referrs、uagents、users。</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/2653dcaac4c247f2b92c43159f299f38><p class=pgc-img-caption></p></div><p>那既然都跑出表名了，我們想看哪個表名最有價值，一般作為滲透者，都會對user、username、pass、password、admin等表名進行猜解，因為這些關鍵詞的表名一般都存在重要的信息。</p><p>那我們就直接猜users表名的數據，當然，猜完表也要猜列名。猜列表要使用到--columns參數，這裡還是一樣，用-D和-T分別代表數據庫名和表名，-T是tables的縮寫，那麼後面就是猜列名的參數--columns</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d96be8bf047b47f1a7b712add9b10276><p class=pgc-img-caption></p></div><p>然後就是這裡猜出三個列名。分別是id、password、username等等，那麼我們要猜出所有的數據，那我們就要用到--dump，--dump是全部拖下來的意思(可以這樣理解)</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/98ba4e1c75b14fb08f541bb1bc2724c6><p class=pgc-img-caption></p></div><p>因為這裡有三個列名，那麼用-C全部指定的時候，要用到逗號隔開，再使用--dump全部脫褲。</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b60edc23e93a48489b411906ffd8a4cc><p class=pgc-img-caption></p></div><p>那麼對應的數據就這麼簡單的顯示出來了</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/06a8387e7c3b49cb9cc78f162e240b94><p class=pgc-img-caption></p></div><h1>4、注入的選擇</h1><p>參數：--technique</p><p>這個參數可以指定sqlmap使用的探測技術，默認情況下會測試所有的方式</p><p>· 測試注入點：sqlmap.py -u url -p id</p><p>· sqlmap注入方式techniquesqlmap.py -u url --technique T</p><p>支持探測的方式如下</p><p>B：Boolean-based blind sql injection(布爾型注入)</p><p>E：Error-based SQL injection (報錯型注入)</p><p>U：UNION query SQL injection (可聯合查詢注入)</p><p>S：Stacked queries SQL injection(可語句查詢注入)</p><p>T: Time-based blind SQL injecgtion(基於多時間延遲注入)</p><p>比如說我想進行一個時間盲注，再用-v3顯示出當前注入的攻擊代碼。那麼可以對比一下上面默認注入的代碼和這裡選擇注入方式的代碼。是完全不一樣的</p><div class=pgc-img><img alt=大黑客必學神器sqlmap，sql注入輕而易舉 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0991ab56207b4417bef6b340a0568724><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>必學</a></li><li><a>sqlmap</a></li><li><a>sql</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/a74ee82.html alt=黑客必學sql注入類型，你真的懂嗎？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/9f686beffa3140fc9b815d4dbefe899d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a74ee82.html title=黑客必學sql注入類型，你真的懂嗎？>黑客必學sql注入類型，你真的懂嗎？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ee425c7b.html alt=鋼結構必學的32大知識點，抓緊收藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e20d67bd31d047c782d311a0109442bb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ee425c7b.html title=鋼結構必學的32大知識點，抓緊收藏>鋼結構必學的32大知識點，抓緊收藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7d9f5a32.html alt=網管必學基礎知識概念介紹 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/754cb1ebc764493ea3d16fc9283d6bbc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7d9f5a32.html title=網管必學基礎知識概念介紹>網管必學基礎知識概念介紹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3b09d7ea.html alt=Excel必學技巧之—條件格式，全自動添加你需要的格式，效率翻倍 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/c72e191c2f124bac8f8f82fb7156afc6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3b09d7ea.html title=Excel必學技巧之—條件格式，全自動添加你需要的格式，效率翻倍>Excel必學技巧之—條件格式，全自動添加你需要的格式，效率翻倍</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/acae6787.html alt=分享一個有趣的sql--獲取一個表的所有字段名並用逗號分割 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/8f0992a747ac43e588b4b650aecf66b8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/acae6787.html title=分享一個有趣的sql--獲取一個表的所有字段名並用逗號分割>分享一個有趣的sql--獲取一個表的所有字段名並用逗號分割</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fcfef6ea.html alt=產品經理必學UML（二）：用例圖 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RWXs3qRANozueo style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fcfef6ea.html title=產品經理必學UML（二）：用例圖>產品經理必學UML（二）：用例圖</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a1c6aa19.html alt="sql server複製技術，本地發佈和本地訂閱數據庫實時同步" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/461e076113c740a9815aa1609d522354 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a1c6aa19.html title="sql server複製技術，本地發佈和本地訂閱數據庫實時同步">sql server複製技術，本地發佈和本地訂閱數據庫實時同步</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/71ec4028.html alt=電工必學知識 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15298107433082f614d7941 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/71ec4028.html title=電工必學知識>電工必學知識</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/44475845.html alt=網頁製作與網站建設實戰大全，小白入門必學，200多個實例 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ca129479476440adb7ded0ba84c82e51 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/44475845.html title=網頁製作與網站建設實戰大全，小白入門必學，200多個實例>網頁製作與網站建設實戰大全，小白入門必學，200多個實例</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b34ab02d.html alt=sql查詢重複記錄、刪除重複記錄方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b34ab02d.html title=sql查詢重複記錄、刪除重複記錄方法>sql查詢重複記錄、刪除重複記錄方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/d6248bf0.html alt=技術分析必學的工具怎麼去畫趨勢線 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/448f6f9b920a4cf0bc97aae1eb0210a5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/d6248bf0.html title=技術分析必學的工具怎麼去畫趨勢線>技術分析必學的工具怎麼去畫趨勢線</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/dfb934cf.html alt=中藥知識必學：蠶砂 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/65c1000215156d409cb3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/dfb934cf.html title=中藥知識必學：蠶砂>中藥知識必學：蠶砂</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/3563d92e.html alt=經典！股票新手入門必學基礎—“缺口形態”！簡單易懂！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RKbI7wc6N7tYBi style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/3563d92e.html title=經典！股票新手入門必學基礎—“缺口形態”！簡單易懂！>經典！股票新手入門必學基礎—“缺口形態”！簡單易懂！</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/4303c36f.html alt="用sql寫迭代算法-用spark sql劃分連通圖" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/5d1eb1a757ad4146b8c82cbe81bd9c67 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/4303c36f.html title="用sql寫迭代算法-用spark sql劃分連通圖">用sql寫迭代算法-用spark sql劃分連通圖</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/03759fd9.html alt=執業西藥師必學考點：解熱、鎮痛、抗炎藥 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/31fa0002e4a006aa7b98 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/03759fd9.html title=執業西藥師必學考點：解熱、鎮痛、抗炎藥>執業西藥師必學考點：解熱、鎮痛、抗炎藥</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>