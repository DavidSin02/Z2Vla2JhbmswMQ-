<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>超級好用的代碼格式化工具AStyle(附帶腳本) | 极客快訊</title><meta property="og:title" content="超級好用的代碼格式化工具AStyle(附帶腳本) - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8d542a0d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8d542a0d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/8d542a0d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8d542a0d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8d542a0d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/8d542a0d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/8d542a0d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8d542a0d.html><meta property="article:published_time" content="2020-11-14T21:00:59+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:59+08:00"><meta name=Keywords content><meta name=description content="超級好用的代碼格式化工具AStyle(附帶腳本)"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/8d542a0d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>超級好用的代碼格式化工具AStyle(附帶腳本)</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>代碼格式化工具AStyle</h1><p>專業程序員與業餘程序員之分主要在於一種態度，什麼態度？<strong>專業態度。</strong>作為程序員，每當寫下一行代時，要記得程序首先是給人讀的，其次才是給機器讀的。在日常的編碼當中，大家經常要遵照一些設計規範，如命名規則、代碼格式規範等等。每個人都有自己的代碼書寫風格，這對於團隊來說是一件糟糕的事，不便於規範代碼和閱讀，所以一個合適的代碼格式規範是必須的。今天介紹一款名為AStyle的代碼格式化工具，Astyle是一個開源代碼格式化工具，可以使大家在日常開發中非常方便的調整代碼格式。AStyle是一款適用於C，C、C＃、Java和Objective‑C源代碼的免費，快速，小型自動格式化程序。</p><h1 class=pgc-h-arrow-right>AStyle工具主要參數介紹</h1><p>命令行格式：</p><pre><code>astyle [選項]   SourceFilePath1 SourceFilePath2 SourceFilePath3 [。。。]</code></pre><p>不指定任何選項將導致默認的花括號樣式，每個縮進4個空格以及格式無變化。AStyle程序遵循通常的GNU命令行語法。選項可以用兩種不同的方式編寫。</p><p><strong>長選項</strong></p><p>這些選項以“ <strong>-</strong> ” 開頭，並且必須一次寫入一個（例如：'-style=allman --indent=spaces = 4'）。</p><p><strong>短選項</strong></p><p>這些選項以單個“ <strong>-</strong> ” 開頭，並且可以串聯在一起（例如：“-bps4”與編寫“ -b -p -s4”相同。）。</p><p><strong>--indent-switches/-S 縮進case標籤</strong></p><pre><code>switch (foo){case 1:    a += 1;    break;case 2:{    a += 2;    break;}}becomes:switch (foo){    case 1:        a += 1;        break;    case 2:    {        a += 2;        break;    }}</code></pre><p><strong>--indent=spaces=4/-s4 縮進4個空格</strong></p><pre><code>void Foo() {....if (isBar1............&amp;&amp; isBar2) ........bar();}</code></pre><p><strong>--indent-namespaces/-N 縮進命名空間塊</strong></p><pre><code>namespace foospace{class Foo{    public:        Foo();        virtual ~Foo();};}becomes:namespace foospace{    class Foo    {        public:            Foo();            virtual ~Foo();    };}</code></pre><p><strong>--style=ansi 大括號獨佔一行,上下對齊</strong></p><pre><code>int Foo(bool isBar){    if (isBar) {        bar();        return 1;    } else        return 0;}becomes:int Foo(bool isBar){    if (isBar)    {        bar();        return 1;    }    else        return 0;}</code></pre><p><strong>--attach-closing-while/-xV (while緊貼)</strong></p><pre><code>do{    bar();    ++x;}while x == 1;becomes:do{    bar();    ++x;} while x == 1</code></pre><p><strong>--indent-preproc-block/-xW 縮進#開頭的處理語句</strong></p><pre><code>#ifdef _WIN32#include &lt;windows.h&gt;#ifndef NO_EXPORT#define EXPORT#endif#endifbecomes:#ifdef _WIN32    #include &lt;windows.h&gt;    #ifndef NO_EXPORT        #define EXPORT    #endif#endif</code></pre><p><strong>--indent-preproc-cond/-xw 將預處理器條件語句縮進到與源代碼相同的級別</strong></p><p><br></p><pre><code>        isFoo = true;#ifdef UNICODE        text = wideBuff;#else        text = buff;#endifbecomes:				isFoo = true;        #ifdef UNICODE        text = wideBuff;        #else        text = buff;        #endif</code></pre><p><strong>--indent-col1-comments/-Y 註釋也縮進</strong></p><pre><code>void Foo()\n&#34;{// comment    if (isFoo)        bar();}becomes:void Foo()\n&#34;{    // comment    if (isFoo)        bar();}</code></pre><p><strong>--pad-oper/-p 運算符周圍插入空格</strong></p><pre><code>if (foo==2)    a=bar((b-c)*a,d--);becomes:if (foo == 2)    a = bar((b - c) * a, d--);</code></pre><p><strong>--pad-paren-out/-d 僅在外部的括號周圍插入空格填充</strong></p><pre><code>if (isFoo((a+2), b))    bar(a, b);becomes:if (isFoo ( (a+2), b) )    bar (a, b);</code></pre><p><strong>--pad-header/-H 在標頭（例如“ if”，“ for”，“ while” ...）和後面的括號之間插入空格</strong></p><pre><code>if(isFoo((a+2), b))    bar(a, b);becomes:if (isFoo((a+2), b))    bar(a, b);</code></pre><p>-<strong>-unpad-paren/-U 除去內部和外部的括號周圍的多餘空間。</strong></p><pre><code>if ( isFoo( ( a+2 ), b ) )    bar ( a, b );becomes:if(isFoo((a+2), b))    bar(a, b);</code></pre><p><strong>--align-pointer=name/-k3 指針符號緊貼名字</strong></p><pre><code>char* foo1;char &amp; foo2;string ^s1;becomes (with align-pointer=name):char *foo1;char &amp;foo2;string ^s1;</code></pre><p><strong>--max-code-length=#/-xC# 代碼行最大長度</strong></p><p><strong>--break-after-logical/-xL 默認情況下，邏輯條件將放在新行的第一位。選項“ 邏輯後中斷”將使邏輯條件置於最後一行的最後。沒有最大代碼長度，此選項無效。</strong></p><pre><code>if (thisVariable1 == thatVariable1 || thisVariable2 == thatVariable2 || thisVariable3 == thatVariable3)    bar();becomes:if (thisVariable1 == thatVariable1        || thisVariable2 == thatVariable2        || thisVariable3 == thatVariable3)    bar();becomes (with break‑after‑logical):if (thisVariable1 == thatVariable1 ||        thisVariable2 == thatVariable2 ||        thisVariable3 == thatVariable3)    bar();</code></pre><p><strong>--attach-return-type/-xf 返回類型緊貼符號名</strong></p><p><strong>--attach-return-type-decl/-xh 返回類型緊貼符號名(函數聲明)</strong></p><pre><code>voidFoo(bool isFoo);becomes:void Foo(bool isFoo);</code></pre><p><strong>--add-braces/-j 在'if', 'for', 'while'等句塊中只有一行也加入大括號</strong></p><pre><code>if (isFoo)    isFoo = false;becomes:if (isFoo) {    isFoo = false;}</code></pre><p><strong>--break-blocks/-f 在標題塊周圍填充空白行（例如“ if”，“ for”，“ while” ...）</strong></p><pre><code>isFoo = true;if (isFoo) {    bar();} else {    anotherBar();}isBar = false;becomes:isFoo = true;if (isFoo) {    bar();} else {    anotherBar();}isBar = false;</code></pre><p><strong>--convert-tabs/-c 將TAB符轉化成空格,由轉化參數指定,引號內的不轉化</strong></p><p><strong>--recursive/-r 對於命令行中的每個目錄，請遞歸處理所有子目錄</strong></p><p><strong>--suffix=none / -n 不要保留原始文件的備份。格式化後將清除原始文件</strong></p><p><strong>--exclude=#### 指定要從處理中排除的文件或子目錄####。</strong></p><h1 class=pgc-h-arrow-right>AStyle腳本工具</h1><p>把下面腳本放到源代碼根目錄即可格式化該目錄以及子目錄所有源文件。</p><pre><code>REM 批量將本目錄中的所有C文件用Astyle進行代碼美化操作REM 設置Astyle命令位置和參數@echo offset astyle=&#34;D:\AStyle_3.1_windows\AStyle\bin\AStyle.exe&#34;REM --indent-switches/-S 縮進case標籤REM --indent=spaces=4/-s4 縮進4個空格REM --indent-namespaces/-N 縮進命名空間塊REM --indent-continuation=4/-xt4 結尾後續本語句符號插入空格,默認為1,可取1~4REM --style=ansi 大括號獨佔一行,上下對齊REM --attach-closing-while/-xV (while緊貼)REM --indent-preproc-block/-xW 縮進#開頭的處理語句REM --indent-preproc-cond/-xw  將預處理器條件語句縮進到與源代碼相同的級別REM --indent-col1-comments/-Y 註釋也縮進REM --pad-oper/-p 運算符周圍插入空格REM --pad-comma/-xg 逗號間插入空格(--pad-oper中已有此效果)REM --pad-paren/-P 在內部和外部的括號周圍插入空格REM --pad-paren-out/-d 僅在外部的括號周圍插入空格填充REM --pad-paren-in/-D 括號裡內插入空格REM --pad-header/-H 在標頭（例如“ if”，“ for”，“ while” ...）和後面的括號之間插入空格REM --unpad-paren/-U 除去內部和外部的括號周圍的多餘空間。此選項可以與paren填充選項，pad-paren，pad-paren-out，pad-paren-in和pad-header一起使用REM --align-pointer=name/-k3 指針符號緊貼名字REM --max-code-length=#/-xC#  代碼行最大長度REM --break-after-logical/-xL 默認情況下，邏輯條件將放在新行的第一位。選項“ 邏輯後中斷”將使邏輯條件置於最後一行的最後。沒有最大代碼長度，此選項無效REM --attach-return-type/-xf 返回類型緊貼符號名REM --attach-return-type-decl/-xh 返回類型緊貼符號名(函數聲明)REM --add-braces/-j 在&#39;if&#39;, &#39;for&#39;, &#39;while&#39;等句塊中只有一行也加入大括號REM --convert-tabs/-c 將TAB符轉化成空格,由轉化參數指定,引號內的不轉化REM --recursive/-r 對於命令行中的每個目錄，請遞歸處理所有子目錄REM --break-blocks/-f 在標題塊周圍填充空白行（例如“ if”，“ for”，“ while” ...）REM --suffix=none / -n 不要保留原始文件的備份。格式化後將清除原始文件REM --exclude=#### 指定要從處理中排除的文件或子目錄####。REM 循環遍歷目錄for /r . %%a in (*.cpp;*.c) do %astyle% --style=ansi -S -s4 -xV -xW  -xw -Y -p -xg -d -H -U -k3  -xC80 -xL -xf -xh -j -c -f &#34;%%a&#34;for /r . %%a in (*.hpp;*.h) do %astyle% --style=ansi -S -s4 -xV -xW  -xw -Y -p -xg -d -H -U -k3  -xC80 -xL -xf -xh -j -c -f &#34;%%a&#34;REM 刪除所有的astyle生成文件for /r . %%a in (*.orig) do del &#34;%%a&#34;pause</code></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>超級</a></li><li><a>代碼</a></li><li><a>AStyle</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/ae8dced8.html alt="斯太爾血脈 超級少見的黃河牌JN3261公鐵兩用卡車" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/eb60f860b63f4e16aa990d212839dbbc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ae8dced8.html title="斯太爾血脈 超級少見的黃河牌JN3261公鐵兩用卡車">斯太爾血脈 超級少見的黃河牌JN3261公鐵兩用卡車</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c35e516a.html alt=教你get素描五官的新技巧，超級良心的教程了！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/67aeb3600a46403fb07810fe82e4762e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c35e516a.html title=教你get素描五官的新技巧，超級良心的教程了！>教你get素描五官的新技巧，超級良心的教程了！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9692432a.html alt=中國這些超級鹽湖，實力與魅力並存 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15379278320496657273e6c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9692432a.html title=中國這些超級鹽湖，實力與魅力並存>中國這些超級鹽湖，實力與魅力並存</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6075a0af.html alt=超級經典資料：模擬集成電路講義（1008頁PPT） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/S1sOE6zHDuOWHZ style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6075a0af.html title=超級經典資料：模擬集成電路講義（1008頁PPT）>超級經典資料：模擬集成電路講義（1008頁PPT）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bc7e7742.html alt="Kikusui PFX2400 超級電容測試儀" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/5168ddacc8684b749dbc007012bcbdfc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bc7e7742.html title="Kikusui PFX2400 超級電容測試儀">Kikusui PFX2400 超級電容測試儀</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e955e516.html alt="費思Faith 超級電容測試儀系統FT8300 品牌" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/105c9e15b1b44aad9f74c52f0ac81c53 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e955e516.html title="費思Faith 超級電容測試儀系統FT8300 品牌">費思Faith 超級電容測試儀系統FT8300 品牌</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d54b5112.html alt=美國“頂點”超級計算機只能領先6個月，中國還有更快的，年底見 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/15286360580526a05e553b3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d54b5112.html title=美國“頂點”超級計算機只能領先6個月，中國還有更快的，年底見>美國“頂點”超級計算機只能領先6個月，中國還有更快的，年底見</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bf5448aa.html alt=美媒揭祕最新世界最快超級計算機“頂點” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bf5448aa.html title=美媒揭祕最新世界最快超級計算機“頂點”>美媒揭祕最新世界最快超級計算機“頂點”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a198e2d8.html alt="PHP 超級全局變量—教程大全" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/39b600034ed511258ffb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a198e2d8.html title="PHP 超級全局變量—教程大全">PHP 超級全局變量—教程大全</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c9ad6a3e.html alt=（1-2我們的第一段PHP代碼）php基礎php學習基礎實例代碼操作教程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b707f4e4acce41bda439262a966603f8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c9ad6a3e.html title=（1-2我們的第一段PHP代碼）php基礎php學習基礎實例代碼操作教程>（1-2我們的第一段PHP代碼）php基礎php學習基礎實例代碼操作教程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/389d4437.html alt="Python常用算法學習(5) 樹二叉樹（原理+代碼）-最全總結" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d3d5fd4ef98c4a8e8dc9095eeef052a6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/389d4437.html title="Python常用算法學習(5) 樹二叉樹（原理+代碼）-最全總結">Python常用算法學習(5) 樹二叉樹（原理+代碼）-最全總結</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f4e78a26.html alt=二叉樹的算法代碼，一篇文章全搞定！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f4e78a26.html title=二叉樹的算法代碼，一篇文章全搞定！>二叉樹的算法代碼，一篇文章全搞定！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/20a35629.html alt=超級記憶法18個小時快速掌握記憶真諦第11小時 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/5eea9dc8adc44232abc53855535bfc46 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/20a35629.html title=超級記憶法18個小時快速掌握記憶真諦第11小時>超級記憶法18個小時快速掌握記憶真諦第11小時</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/873415c9.html alt=錯誤代碼大全2，時刻掌握計算機的故障原因！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/152937668211718b8850640 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/873415c9.html title=錯誤代碼大全2，時刻掌握計算機的故障原因！>錯誤代碼大全2，時刻掌握計算機的故障原因！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/45c8b4b0.html alt=關於“神祕代碼”的含義 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c040bb33daee4d30bc48cb70d5bf8ee1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/45c8b4b0.html title=關於“神祕代碼”的含義>關於“神祕代碼”的含義</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>