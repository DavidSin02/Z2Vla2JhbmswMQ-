<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Android Viewç¹ªè£½åŸç†ï¼šç¹ªè£½æµç¨‹èª¿åº¦ã€æ¸¬ç®—ç­‰ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Android Viewç¹ªè£½åŸç†ï¼šç¹ªè£½æµç¨‹èª¿åº¦ã€æ¸¬ç®—ç­‰ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8f1d8806.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8f1d8806.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/8f1d8806.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8f1d8806.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8f1d8806.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/8f1d8806.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/8f1d8806.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/8f1d8806.html><meta property="article:published_time" content="2020-10-29T21:08:52+08:00"><meta property="article:modified_time" content="2020-10-29T21:08:52+08:00"><meta name=Keywords content><meta name=description content="Android Viewç¹ªè£½åŸç†ï¼šç¹ªè£½æµç¨‹èª¿åº¦ã€æ¸¬ç®—ç­‰"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/8f1d8806.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Android Viewç¹ªè£½åŸç†ï¼šç¹ªè£½æµç¨‹èª¿åº¦ã€æ¸¬ç®—ç­‰</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>æœ¬æ–‡ä¸»è¦é—œæ³¨Viewçš„æ¸¬é‡ã€ä½ˆå±€ã€ç¹ªè£½ä¸‰å€‹æ­¥é©Ÿï¼Œè¨è«–é€™ä¸‰å€‹æ­¥é©Ÿçš„åŸ·è¡Œæµç¨‹ã€‚æœ¬æ–‡æš«ä¸æ¶‰åŠViewå’ŒWindowä¹‹é–“çš„äº¤äº’ä»¥åŠWindowçš„ç®¡ç†ã€‚å†è«–è¿°å®Œé€™ä¸‰å€‹æ­¥é©Ÿä¹‹å¾Œï¼Œæ–‡æœ«ä»¥è‡ªå®šç¾©TagGroupç‚ºä¾‹ï¼Œè¬›è¿°å¦‚ä½•è‡ªå®šç¾©ViewGroupã€‚</p><p>View æ¨¹çš„ç¹ªåœ–æµç¨‹</p><p>Viewæ¨¹çš„ç¹ªåœ–æµç¨‹æ˜¯ç”±æ ¸å¿ƒé¡ï¼šViewRootImpl ä¾†è™•ç†çš„ï¼ŒViewRootImplä½œç‚ºæ•´å€‹æ§ä»¶æ¨¹çš„æ ¹éƒ¨ï¼Œå®ƒæ˜¯æ§ä»¶æ¨¹æ­£å¸¸é‹ä½œçš„å‹•åŠ›æ‰€åœ¨ï¼Œæ§ä»¶çš„æ¸¬é‡ã€ä½ˆå±€ã€ç¹ªè£½ä»¥åŠè¼¸å…¥äº‹ä»¶çš„æ´¾ç™¼è™•ç†éƒ½ç”±ViewRootImplè§¸ç™¼ã€‚</p><p>æ ¸å¿ƒæˆå“¡è®Šé‡</p><p>é€™è£¡æˆ‘ä¸»è¦è¬›å¹¾å€‹Handler</p><p>ViewRootHandler</p><p>é€™æ˜¯ViewRootImplèª¿åº¦çš„æ ¸å¿ƒï¼Œå…¶è™•ç†çš„æ¶ˆæ¯äº‹ä»¶ä¸»è¦æœ‰ï¼š MSG_INVALIDATEã€MSG_INVALIDATE_RECTã€MSG_RESIZEDã€MSG_DISPATCH_INPUT_EVENTã€MSG_CHECK_FOCUSã€MSG_DISPATCH_DRAG_EVENTã€MSG_CLOSE_SYSTEM_DIALOGSã€MSG_UPDATE_CONFIGURATIONç­‰</p><p>ä¸»è¦æœ‰ä»¥ä¸‹å¹¾é¡ï¼šViewç¹ªè£½ç›¸é—œã€è¼¸å…¥ç„¦é»ç­‰ç”¨æˆ¶äº¤äº’ç›¸é—œã€ç³»çµ±é€šçŸ¥ç›¸é—œã€‚</p><p>æœ‰ç¶“é©—çš„åŒå­¸è‚¯å®šé‡åˆ°éé€™æ¨£çš„å ´æ™¯ï¼šå‹•æ…‹å‰µå»ºä¸€å€‹Viewä¹‹å¾Œï¼Œæƒ³è¦ç›´æ¥ç²å–measureWidth å’Œ measureHeightå¾€å¾€å–ä¸åˆ°ï¼Œé€™å€‹æ™‚å€™æˆ‘å€‘æœƒé€šéview.postDelayed()æ–¹æ³•å»ç²å–ã€‚é‚£éº¼ï¼Œå•é¡Œä¾†äº†ï¼Œç‚ºä»€éº¼é€™æ¨£å°±èƒ½å–åˆ°å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆå°±åœ¨ViewRootImplä¸­çš„ViewRootHandlerï¼Œview.post--> attachInfo.mHandler.post --> ViewRootImpl ViewRootHandler. é€™å€‹Handlerä¿è­‰äº†ç•¶ä½ postçš„runableè¢«åŸ·è¡Œåˆ°æ™‚ï¼Œviewæ—©å°±æ¸¬é‡å¥½äº†ã€‚</p><pre>public boolean post(Runnable action) { final AttachInfo attachInfo = mAttachInfo; if (attachInfo != null) { return attachInfo.mHandler.post(action); }  // Postpone the runnable until we know on which thread it needs to run. // Assume that the runnable will be successfully placed after attach. getRunQueue().post(action); return true;}è¤‡è£½ä»£ç¢¼</pre><p>Choreographer.FrameHandler</p><p>Choreographeré€™å€‹é¡ä¾†æ§åˆ¶åŒæ­¥è™•ç†è¼¸å…¥(Input)ã€å‹•ç•«(Animation)ã€ç¹ªè£½(Draw)ä¸‰å€‹UIæ“ä½œï¼Œé€™è£¡ä¸å¾—ä¸æä¸€ä¸‹Choreographer.FrameHandlerç›®çš„å°±åœ¨æ–¼ViewRootImplä¸­æ¶‰åŠåˆ°åˆ°çš„Viewç¹ªè£½æµç¨‹ï¼Œæ˜¯é€šéChoreographer.FrameHandlerä¾†é€²è¡Œèª¿åº¦çš„ã€‚å…·é«”çš„èª¿åº¦éç¨‹å¦‚ä¸‹</p><p>ä¸€ ã€‚ViewRootImpl.scheduleTraversals</p><p>é€™å€‹æ–¹æ³•æœƒå¾€Choreographerè¨»å†Šé¡å‹ç‚ºChoreographer.CALLBACK_TRAVERSALçš„Callbackã€‚</p><pre>// ViewRootImpl.scheduleTraversals è¨»å†ŠcallbackmChoreographer.postCallback( Choreographer.CALLBACK_TRAVERSAL, mTraversalRunnable, null);è¤‡è£½ä»£ç¢¼ äºŒã€ Choreographer.FrameHandler</pre><p>Choreographer.FrameHandleræºç¢¼å¦‚ä¸‹ï¼Œä¸»è¦è™•ç†ä¸‰å€‹ä¿¡è™Ÿï¼š MSG_DO_FRAMEï¼šé–‹å§‹æ¸²æŸ“ä¸‹ä¸€å¹€çš„æ“ä½œ MSG_DO_SCHEDULE_VSYNCï¼šè«‹æ±‚Vsyncä¿¡è™Ÿ MSG_DO_SCHEDULE_CALLBACKï¼šè«‹æ±‚åŸ·è¡Œcallback</p><p>å°æ–¼é€™ä¸‰å€‹ä¿¡è™Ÿï¼ŒChoreographeræ˜¯æœ‰ä¸€å€‹èª¿åº¦éç¨‹çš„ï¼Œæœ€çµ‚callbackçš„å›èª¿åŸ·è¡Œéƒ½æ˜¯è½å¯¦åˆ°doFrame()æ–¹æ³•ä¸Šé¢çš„ã€‚</p><pre>private final class FrameHandler extends Handler { public FrameHandler(Looper looper) { super(looper); }  @Override public void handleMessage(Message msg) { switch (msg.what) { case MSG_DO_FRAME: doFrame(System.nanoTime(), 0); break; case MSG_DO_SCHEDULE_VSYNC: doScheduleVsync(); break; case MSG_DO_SCHEDULE_CALLBACK: doScheduleCallback(msg.arg1); break; } }}è¤‡è£½ä»£ç¢¼</pre><p>doFrameåŸ·è¡Œå›èª¿æœ‰ä¸€å€‹é †åºçš„ï¼Œé †åºä¾æ¬¡å¦‚ä¸‹ï¼š Choreographer.CALLBACK_INPUT Choreographer.CALLBACK_ANIMATION Choreographer.CALLBACK_TRAVERSAL Choreographer.CALLBACK_COMMIT</p><pre>Trace.traceBegin(Trace.TRACE_TAG_VIEW, "Choreographer#doFrame"); mFrameInfo.markInputHandlingStart(); doCallbacks(Choreographer.CALLBACK_INPUT, frameTimeNanos); mFrameInfo.markAnimationsStart(); doCallbacks(Choreographer.CALLBACK_ANIMATION, frameTimeNanos); mFrameInfo.markPerformTraversalsStart(); doCallbacks(Choreographer.CALLBACK_TRAVERSAL, frameTimeNanos); doCallbacks(Choreographer.CALLBACK_COMMIT, frameTimeNanos);è¤‡è£½ä»£ç¢¼</pre><p>é—œæ–¼Choreographerï¼Œè®€è€…å¯ä»¥åƒè€ƒä¸‹é€™ç¯‡æ–‡ç« ï¼Œè¬›çš„éå¸¸è©³ç´°ï¼šAndroid Choreographer æºç¢¼åˆ†æ</p><p>å¦‚ä½•å‹•æ…‹å»æª¢æ¸¬APPå¡é “</p><p>é€™è£¡ç°¡å–®èªªä¸€å€‹å°ç«…é–€ï¼Œé€šéChoreographer.getInstance().postFrameCallback() è¨»å†Šå›èª¿ï¼Œä¸¦è¨ˆç®—å‰å¾Œå…©å¹€çš„æ™‚é–“å·®ï¼Œæˆ‘å€‘å¯ä»¥æ¸¬ç®—å‡ºAPPçš„æ‰å¹€æ•¸ï¼Œå¾è€Œå‹•æ…‹æª¢æ¸¬APP å¡é “ã€‚</p><pre>Choreographer.getInstance().postFrameCallback(new Choreographer.FrameCallback() {  long lastFrameTimeNanos = 0; long currentFrameTimeNanos = 0;  @Override public void doFrame(long frameTimeNanos) { if (lastFrameTimeNanos == 0) { lastFrameTimeNanos = frameTimeNanos; } currentFrameTimeNanos = frameTimeNanos; long diffMs = TimeUnit.MILLISECONDS.convert(currentFrameTimeNanos - lastFrameTimeNanos, TimeUnit.NANOSECONDS); long droppedCount = 0; if (diffMs &gt; 100) { droppedCount = (int) (diffMs / 16.6); String anrLog = collectAnrLog(applicationContext); DjLog.e("Block occur, droppedCount: " + droppedCount + ", anrLog: " + anrLog); } lastFrameTimeNanos = frameTimeNanos; Choreographer.getInstance().postFrameCallback(this); } });è¤‡è£½ä»£ç¢¼</pre><p>Viewæ¨¹æµç¨‹æ§åˆ¶ï¼šperformTraversals</p><p>æ•´å€‹ View æ¨¹çš„ç¹ªåœ–æµç¨‹åœ¨ViewRoot.javaé¡çš„performTraversals()å‡½æ•¸å±•é–‹ï¼Œè©²å‡½æ•¸æ‰€åš çš„å·¥ä½œå¯ç°¡å–®æ¦‚æ³ç‚ºæ˜¯å¦éœ€è¦é‡æ–°è¨ˆç®—è¦–åœ–å¤§å°(measure)ã€æ˜¯å¦éœ€è¦é‡æ–°å®‰ç½®è¦–åœ–çš„ä½ç½®(layout)ã€ä»¥åŠæ˜¯å¦éœ€è¦é‡ç¹ª(draw)ï¼Œæµç¨‹åœ–å¦‚ä¸‹ï¼š</p><p>æ›´è©³ç´°çš„åœ–ç¤ºå¦‚ä¸‹ï¼š</p><p>performTraversals æ–¹æ³•éå¸¸é¾å¤§ï¼Œæ•´å€‹æºç¢¼åœ¨800è¡Œå·¦å³ï¼Œçœ‹èµ·ä¾†æœƒè®“äººåè¡€ã€‚é€™å€‹æ–¹æ³•ä¸»è¦çš„éç¨‹æœ‰å››å€‹ï¼š</p><p><strong>é æ¸¬é‡éšæ®µ</strong> é€™æ˜¯é€²å…¥performTraversals()æ–¹æ³•å¾Œçš„ç¬¬ä¸€å€‹éšæ®µï¼Œå®ƒæœƒå°æ§ä»¶æ¨¹é€²è¡Œç¬¬ä¸€æ¬¡æ¸¬é‡ã€‚æ¸¬é‡çµæœå¯ä»¥é€šémView. getMeasuredWidth()/Height()ç²å¾—ã€‚åœ¨æ­¤éšæ®µä¸­å°‡æœƒè¨ˆç®—å‡ºæ§ä»¶æ¨¹ç‚ºé¡¯ç¤ºå…¶å…§å®¹æ‰€éœ€çš„å°ºå¯¸ï¼Œå³æœŸæœ›çš„çª—å£å°ºå¯¸ã€‚åœ¨é€™å€‹éšæ®µä¸­ï¼ŒViewåŠå…¶å­é¡çš„onMeasure()æ–¹æ³•å°‡æœƒæ²¿è‘—æ§ä»¶æ¨¹ä¾æ¬¡å¾—åˆ°å›èª¿ã€‚</p><p><strong>ä½ˆå±€çª—å£éšæ®µ</strong> æ ¹æ“šé æ¸¬é‡çš„çµæœï¼Œé€šéIWindowSession.relayout()æ–¹æ³•å‘WMSè«‹æ±‚èª¿æ•´çª—å£çš„å°ºå¯¸ç­‰å±¬æ€§ï¼Œé€™å°‡å¼•ç™¼WMSå°çª—å£é€²è¡Œé‡æ–°ä½ˆå±€ï¼Œä¸¦å°‡ä½ˆå±€çµæœè¿”å›çµ¦ViewRootImplã€‚</p><p><strong>æœ€çµ‚æ¸¬é‡éšæ®µ</strong> é æ¸¬é‡çš„çµæœæ˜¯æ§ä»¶æ¨¹æ‰€æœŸæœ›çš„çª—å£å°ºå¯¸ã€‚ç„¶è€Œç”±æ–¼åœ¨WMSä¸­å½±éŸ¿çª—å£å¸ƒå±€çš„å› ç´ å¾ˆå¤š(åƒè€ƒç¬¬4ç« )ï¼ŒWMSä¸ä¸€å®šæœƒå°‡çª—å£æº–ç¢ºåœ°ä½ˆå±€ç‚ºæ§ä»¶æ¨¹æ‰€è¦æ±‚çš„å°ºå¯¸ï¼Œè€Œè¿«æ–¼WMSä½œç‚ºç³»çµ±æœå‹™çš„å¼·å‹¢åœ°ä½ï¼Œæ§ä»¶æ¨¹ä¸å¾—ä¸æ¥å—WMSçš„ä½ˆå±€çµæœã€‚å› æ­¤åœ¨é€™ä¸€éšæ®µï¼ŒperformTraversals()å°‡ä»¥çª—å£çš„å¯¦éš›å°ºå¯¸å°æ§ä»¶é€²è¡Œæœ€çµ‚æ¸¬é‡ã€‚åœ¨é€™å€‹éšæ®µä¸­ï¼ŒViewåŠå…¶å­é¡çš„onMeasure()æ–¹æ³•å°‡æœƒæ²¿è‘—æ§ä»¶æ¨¹ä¾æ¬¡è¢«å›èª¿ã€‚</p><p><strong>ä½ˆå±€æ§ä»¶æ¨¹éšæ®µ</strong> å®Œæˆæœ€çµ‚æ¸¬é‡ä¹‹å¾Œä¾¿å¯ä»¥å°æ§ä»¶æ¨¹é€²è¡Œä½ˆå±€äº†ã€‚æ¸¬é‡ç¢ºå®šçš„æ˜¯æ§ä»¶çš„å°ºå¯¸ï¼Œè€Œä½ˆå±€å‰‡æ˜¯ç¢ºå®šæ§ä»¶çš„ä½ç½®ã€‚åœ¨é€™å€‹éšæ®µä¸­ï¼ŒViewåŠå…¶å­é¡çš„onLayout()æ–¹æ³•å°‡æœƒè¢«å›èª¿ã€‚</p><p><strong>ç¹ªè£½éšæ®µ</strong> é€™æ˜¯performTraversals()çš„æœ€çµ‚éšæ®µã€‚ç¢ºå®šäº†æ§ä»¶çš„ä½ç½®èˆ‡å°ºå¯¸å¾Œï¼Œä¾¿å¯ä»¥å°æ§ä»¶æ¨¹é€²è¡Œç¹ªè£½äº†ã€‚åœ¨é€™å€‹éšæ®µä¸­ï¼ŒViewåŠå…¶å­é¡çš„onDraw()æ–¹æ³•å°‡æœƒè¢«å›èª¿ã€‚</p><p>é‚£å•é¡Œä¾†äº†ï¼Œé€™å€‹æ–¹æ³•ä»€éº¼æ™‚å€™æœƒè¢«è§¸ç™¼ï¼Œæˆ–è€…èªªAndroidç³»çµ±ä»€éº¼æ™‚å€™æœƒå°æ•´å€‹Viewæ¨¹é€²è¡Œä¸€æ¬¡å…¨é‡çš„æ“ä½œå‘¢ï¼Ÿå¾æºç¢¼ä¸­ï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°ä»¥ä¸‹å¹¾å€‹æ ¸å¿ƒçš„æ–¹æ³•æœƒè§¸ç™¼ï¼š</p><p>ä¸€ã€requestLayout: æ³¨æ„åœ¨Viewä¸­ä¹Ÿæœ‰åŒæ¨£çš„ä¸€å€‹requestLayoutæ–¹æ³•ï¼Œviewä¸­çš„requestLayoutæ–¹æ³•èª¿ç”¨çš„å°±æ˜¯ViewRootImplä¸­çš„requestLayoutï¼Œæœ€çµ‚è§¸ç™¼Viewæ¨¹çš„ç¹ªè£½æµç¨‹ï¼Œå³ measure-layout-drawï¼›</p><p>äºŒã€invalidateï¼šåŒæ¨£çš„Viewä¸­ä¹Ÿæœ‰ä¸€å€‹invalidateæ–¹æ³•ï¼ŒViewä¸­è©²æ–¹æ³•çš„èª¿ç”¨æœ€çµ‚èª¿ç”¨çš„ä¹Ÿæ˜¯ViewRootImplä¸­çš„æ–¹æ³•ã€‚æœ‰ç¶“é©—çš„åŒå­¸è‚¯å®šçŸ¥é“ï¼Œinvalidateåªæœƒè§¸ç™¼drawï¼Œä¸æœƒè§¸ç™¼measureå’Œ layoutã€‚å…·é«”çš„ViewRootImplæœƒé€šéè®Šé‡mLayoutRequestedæ§åˆ¶æ˜¯å¦è¦é€²è¡Œmeasureå’Œlayoutï¼Œinvalidateæ“ä½œæ™‚é€™å€‹è®Šé‡ç‚ºfalse</p><p>åŠ è£™ æŸ’é›¶182ç•™ä¹…60ä¸å®šæ™‚ç™¼è³‡æ–™å¯ä»¥è£™è£¡ä¸€èµ·äº¤æµå­¸ç¿’</p><pre>@Overridepublic void requestLayout() { if (!mHandlingLayoutInLayoutRequest) { checkThread(); mLayoutRequested = true; scheduleTraversals(); }} void invalidate() {  ...  if (!mWillDrawSoon) { scheduleTraversals(); }}è¤‡è£½ä»£ç¢¼</pre><p>View ç¹ªè£½æµç¨‹å‡½æ•¸èª¿ç”¨éˆ</p><p>æœ‰å¹¾é»æ³¨æ„ï¼š â€¢ invalidate/postInvalidate åªæœƒè§¸ç™¼ drawï¼› â€¢ requestLayoutï¼Œæœƒè§¸ç™¼ measureã€layout å’Œ draw çš„éç¨‹ï¼› â€¢ å®ƒå€‘éƒ½æ˜¯èµ°çš„ scheduleTraversals -> performTraversalsï¼Œç”¨ä¸åŒçš„æ¨™è¨˜ä½ä¾†é€²è¡Œå€åˆ†ï¼› â€¢ resume æœƒè§¸ç™¼ invalidateï¼› â€¢ dispatchDraw æ˜¯ç”¨ä¾†ç¹ªè£½ child çš„ï¼Œç™¼ç”Ÿåœ¨è‡ªå·±çš„ onDraw ä¹‹å¾Œï¼Œchild çš„ draw ä¹‹å‰ Measure å’Œ Layout çš„å…·é«”éç¨‹</p><p>Measure å’Œ Layout çš„å…·é«”éç¨‹</p><p>é—œæ–¼Measureéç¨‹ï¼Œä¸å¾—ä¸è©³ç´°æä¸€ä¸‹MeasureSpecã€‚MeasureSpecæ˜¯ä¸€å€‹è¤‡åˆæ•´å‹è®Šé‡ï¼ˆ32bitï¼‰ï¼Œç”¨æ–¼æŒ‡å°æ§ä»¶å°è‡ªèº«é€²è¡Œæ¸¬é‡ï¼Œå®ƒæœ‰å…©å€‹åˆ†é‡ï¼šå‰å…©ä½è¡¨ç¤ºSPEC_MODEï¼Œå¾Œ30ä½è¡¨ç¤ºSPEC_SIZEã€‚SPEC_MODEçš„å–å€¼å–æ±ºæ–¼æ­¤æ§ä»¶çš„LayoutParams.width/heightçš„è¨­ç½®ï¼ŒSPEC_SIZEå‰‡æ˜¯çˆ¶è¦–åœ–çµ¦å®šçš„æŒ‡å°å¤§å°ã€‚</p><p>SPEC_MODEæœ‰ä¸‰ç¨®æ¨¡å¼ï¼Œå…·é«”çš„è¨ˆç®—å¦‚ä¸‹ï¼š</p><p>MeasureSpec.UNSPECIFIEDï¼š è¡¨ç¤ºæ§ä»¶åœ¨é€²è¡Œæ¸¬é‡æ™‚ï¼Œå¯ä»¥ç„¡è¦–SPEC_SIZEçš„å€¼ã€‚æ§ä»¶å¯ä»¥æ˜¯å®ƒæ‰€æœŸæœ›çš„ä»»æ„å°ºå¯¸ã€‚</p><p>MeasureSpec.EXACTLY: è¡¨ç¤ºå­æ§ä»¶å¿…é ˆç‚ºSPEC_SIZEæ‰€åˆ¶å®šçš„å°ºå¯¸ã€‚ç•¶æ§ä»¶çš„LayoutParams.width/heightç‚ºä¸€ç¢ºå®šå€¼ï¼Œæˆ–è€…æ˜¯MATCH_PARENTæ™‚ï¼Œå°æ‡‰çš„MeasureSpecåƒæ•¸æœƒä½¿ç”¨é€™å€‹SPEC_MODEã€‚</p><p>MeasureSpec.AT_MOST: è¡¨ç¤ºå­æ§ä»¶å¯ä»¥æ˜¯å®ƒæ‰€æœŸæœ›çš„å°ºå¯¸ï¼Œä½†æ˜¯ä¸å¾—å¤§æ–¼SPEC_SIZEã€‚ç•¶æ§ä»¶çš„LayoutParams.width/heightç‚ºWRAP_CONTENTæ™‚ï¼Œå°æ‡‰çš„MeasureSpecåƒæ•¸æœƒä½¿ç”¨é€™å€‹SPEC_MODEã€‚</p><p>è‡ªå®šç¾©ä¸€å€‹TagGroup</p><p>è¬›äº†é€™éº¼å¤šï¼Œä¸‹é¢æˆ‘å€‘ä¾†å¯¦æ“ä¸€ä¸‹ã€‚</p><p>éœ€æ±‚ï¼šè‡ªå®šç¾©ä¸€å€‹TagGroupï¼Œç”¨ä¾†é¡¯ç¤ºä¸€ç³»åˆ—æ¨™ç±¤å…ƒç´ ã€‚è¦æ±‚æ¨™ç±¤æ¨£å¼å®Œå…¨å¯ä»¥è‡ªå®šç¾©ï¼Œæ¨™ç±¤é–“è·å¯åœ¨xmlä¸­æŒ‡å®šï¼Œè¦æœ‰æœ€å¤šé¡¯ç¤ºå¤šå°‘è¡Œçš„æ§åˆ¶ï¼Œé¡¯ç¤ºä¸å…¨æ™‚è¦å±•ç¤ºâ€œæ›´å¤š ...â€</p><p>æ¨£å¼å”å®š</p><p>åœ¨attrs.xmlä¸­å”å®šæ¨£å¼ï¼š</p><pre>&lt;declare-styleable name="DjTagGroup"&gt; &lt;attr name="tag_horizontalSpacing" format="dimension" /&gt; &lt;attr name="tag_verticalSpacing" format="dimension" /&gt; &lt;attr name="max_row" format="integer"/&gt;&lt;/declare-styleable&gt;è¤‡è£½ä»£ç¢¼</pre><p>å”å®šæ¥å£ï¼Œç”¨ä¾†æä¾›å…·é«”çš„æ¨™ç±¤å…ƒç´ ï¼š</p><pre>public interface TagViewHolder { View getView();}è¤‡è£½ä»£ç¢¼</pre><p>è‡ªå®šç¾©Measureéç¨‹</p><pre>@Overrideprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) { final int widthMode = MeasureSpec.getMode(widthMeasureSpec); final int heightMode = MeasureSpec.getMode(heightMeasureSpec); final int widthSize = MeasureSpec.getSize(widthMeasureSpec); final int heightSize = MeasureSpec.getSize(heightMeasureSpec);  measureChildren(widthMeasureSpec, heightMeasureSpec);  int width = 0; int height = 0;  int row = 0; // The row counter. int rowWidth = 0; // Calc the current row width. int rowMaxHeight = 0; // Calc the max tag height, in current row.  if (moreTagHolder != null) { moreTagMeasureWidth = moreTagHolder.getView().getMeasuredWidth(); moreTagMeasureHeight = moreTagHolder.getView().getMeasuredHeight(); }  final int count = getChildCount(); for (int i = 0; i &lt; count; i++) { final View child = getChildAt(i); final int childWidth = child.getMeasuredWidth(); final int childHeight = child.getMeasuredHeight();  if (child.getVisibility() != GONE) { // judge the max_row if (row + 1 &gt;= maxRow &amp;&amp; rowWidth + childWidth &gt; widthSize) { break; } rowWidth += childWidth; if (rowWidth &gt; widthSize) { // Next line. rowWidth = childWidth; // The next row width. height += rowMaxHeight + verticalSpacing; rowMaxHeight = childHeight; // The next row max height. row++; } else { // This line. rowMaxHeight = Math.max(rowMaxHeight, childHeight); } rowWidth += horizontalSpacing; } }  // Account for the last row height. height += rowMaxHeight;  // Account for the padding too. height += getPaddingTop() + getPaddingBottom();  // If the tags grouped in one row, set the width to wrap the tags. if (row == 0) { width = rowWidth; width += getPaddingLeft() + getPaddingRight(); } else {// If the tags grouped exceed one line, set the width to match the parent. width = widthSize; }  setMeasuredDimension(widthMode == MeasureSpec.EXACTLY ? widthSize : width, heightMode == MeasureSpec.EXACTLY ? heightSize : height);}è¤‡è£½ä»£ç¢¼</pre><p>è‡ªå®šç¾©layoutéç¨‹</p><pre>@Overrideprotected void onLayout(boolean changed, int l, int t, int r, int b) { final int parentLeft = getPaddingLeft(); final int parentRight = r - l - getPaddingRight(); final int parentTop = getPaddingTop(); final int parentBottom = b - t - getPaddingBottom();  int childLeft = parentLeft; int childTop = parentTop;  int row = 0; int rowMaxHeight = 0;  boolean showMoreTag = false;  final int count = getChildCount(); int unTagCount = count; if (moreTagHolder != null) { unTagCount--; } for (int i = 0; i &lt; unTagCount; i++) { final View child = getChildAt(i); final int width = child.getMeasuredWidth(); final int height = child.getMeasuredHeight();  if (child.getVisibility() != GONE) { if (row + 1 &gt;= maxRow &amp;&amp; childLeft + width + (horizontalSpacing + moreTagMeasureWidth) &gt; parentRight) { // é ç•™ä¸€å€‹ç©ºä½æ”¾ç½®moreTag showMoreTag = true; break; } if (childLeft + width &gt; parentRight) { // Next line childLeft = parentLeft; childTop += rowMaxHeight + verticalSpacing; rowMaxHeight = height; row++; } else { rowMaxHeight = Math.max(rowMaxHeight, height); }  // this is point child.layout(childLeft, childTop, childLeft + width, childTop + height);  childLeft += width + horizontalSpacing; } }  if (showMoreTag) { final View child = getChildAt(count - 1); final int width = child.getMeasuredWidth(); final int height = child.getMeasuredHeight(); child.layout(childLeft, childTop, childLeft + width, childTop + height); }}è¤‡è£½ä»£ç¢¼</pre><p>ä½¿ç”¨</p><p>åœ¨xmlä¸­ç›´æ¥å¼•ç”¨</p><pre>&lt;com.xud.tag.DjTagGroup android:id="@+id/dj_tag_group" android:layout_width="match_parent" android:layout_height="wrap_content" android:padding="16dp" app:tag_horizontalSpacing="8dp" app:tag_verticalSpacing="8dp" app:max_row="4"/&gt;è¤‡è£½ä»£ç¢¼</pre><p>å®šç¾©è‡ªå·±çš„TagViewHolder</p><pre>public class DjTagViewHolder implements DjTagGroup.TagViewHolder {  public String content;  public View rootView;  public TextView tagView;  public DjTagViewHolder(View itemView, String content) { this.rootView = itemView; tagView = itemView.findViewById(R.id.tag); tagView.setText(content);  tagView.setOnClickListener(v -&gt; Toast.makeText(context, "é»æ“Šäº†ï¼š" + content, Toast.LENGTH_SHORT).show()); }  @Override public View getView() { return rootView; }}è¤‡è£½ä»£ç¢¼</pre><p>å¾€DjTagGroupç›´æ¥è¨­ç½®tags</p><pre>private void initDjTags() { String[] tags = TagGenarator.generate(10, 6); List&lt;DjTagGroup.TagViewHolder&gt; viewHolders = new ArrayList&lt;&gt;(); for (String tag: tags) { DjTagViewHolder viewHolder = new DjTagViewHolder(LayoutInflater.from(context).inflate(R.layout.view_tag, djTagGroup, false), tag); viewHolders.add(viewHolder); } DjTagViewHolder moreHolder = new DjTagViewHolder(LayoutInflater.from(context).inflate(R.layout.view_tag, djTagGroup, false), "æ›´å¤š ..."); djTagGroup.setTags(viewHolders, moreHolder);}è¤‡è£½ä»£ç¢¼</pre><p>å¯¦éš›çš„æ•ˆæœ</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Android</a></li><li><a>View</a></li><li><a>èª¿åº¦</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/c018dddf.html alt="Android View ç¹ªè£½æµç¨‹è©³è§£" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/63c43360ea7c492e9eccf90add48d9c1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c018dddf.html title="Android View ç¹ªè£½æµç¨‹è©³è§£">Android View ç¹ªè£½æµç¨‹è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c1058aa2.html alt="Android Qä¸‹ANGLEåœ–å½¢å¼•æ“æ€§èƒ½æ¸¬è©¦  ã€Œè¾²æ­¥ç¥¥ã€" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RXTy8D7HmsBWr1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c1058aa2.html title="Android Qä¸‹ANGLEåœ–å½¢å¼•æ“æ€§èƒ½æ¸¬è©¦  ã€Œè¾²æ­¥ç¥¥ã€">Android Qä¸‹ANGLEåœ–å½¢å¼•æ“æ€§èƒ½æ¸¬è©¦ ã€Œè¾²æ­¥ç¥¥ã€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/159a0373.html alt=å¸¸å¾·å¸‚ä½å»ºå±€ï¼ˆäººé˜²è¾¦ï¼‰èª¿åº¦æ±ŸåŒ—åŸå€é“è·¯æª¢æŸ¥äº•è“‹ç¶­ç®¡å·¥ä½œ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/159a0373.html title=å¸¸å¾·å¸‚ä½å»ºå±€ï¼ˆäººé˜²è¾¦ï¼‰èª¿åº¦æ±ŸåŒ—åŸå€é“è·¯æª¢æŸ¥äº•è“‹ç¶­ç®¡å·¥ä½œ>å¸¸å¾·å¸‚ä½å»ºå±€ï¼ˆäººé˜²è¾¦ï¼‰èª¿åº¦æ±ŸåŒ—åŸå€é“è·¯æª¢æŸ¥äº•è“‹ç¶­ç®¡å·¥ä½œ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0ac13623.html alt="Android 11åŠ å…¥æ–°åŠŸèƒ½ï¼šé•·æœŸä¸ç”¨çš„APPè‡ªå‹•é—œé–‰æ•æ„Ÿæ¬Šé™" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/Rx4J9h84rlZBze style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0ac13623.html title="Android 11åŠ å…¥æ–°åŠŸèƒ½ï¼šé•·æœŸä¸ç”¨çš„APPè‡ªå‹•é—œé–‰æ•æ„Ÿæ¬Šé™">Android 11åŠ å…¥æ–°åŠŸèƒ½ï¼šé•·æœŸä¸ç”¨çš„APPè‡ªå‹•é—œé–‰æ•æ„Ÿæ¬Šé™</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/192b9f57.html alt="Androidç‰ˆFirefox 81å°‡å¼•å…¥å¯è‡ªå‹•é—œé–‰èˆŠæ¨™ç±¤é çš„é¸é …" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/SA9N6CXIS75NYa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/192b9f57.html title="Androidç‰ˆFirefox 81å°‡å¼•å…¥å¯è‡ªå‹•é—œé–‰èˆŠæ¨™ç±¤é çš„é¸é …">Androidç‰ˆFirefox 81å°‡å¼•å…¥å¯è‡ªå‹•é—œé–‰èˆŠæ¨™ç±¤é çš„é¸é …</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e3073c3d.html alt="Androidç«¯Firefox 81å¯å®šæ™‚é—œé–‰ä¸ä½¿ç”¨çš„æ¨™ç±¤é " class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/S9x6jJb18axAim style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e3073c3d.html title="Androidç«¯Firefox 81å¯å®šæ™‚é—œé–‰ä¸ä½¿ç”¨çš„æ¨™ç±¤é ">Androidç«¯Firefox 81å¯å®šæ™‚é—œé–‰ä¸ä½¿ç”¨çš„æ¨™ç±¤é </a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b6ef11c5.html alt=éƒ­ä¿å­˜åˆ°å‘‚é™µé®ç£å°èª¿åº¦æ²³é•·åˆ¶å·¥ä½œ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RBRsrhV97waCZW style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b6ef11c5.html title=éƒ­ä¿å­˜åˆ°å‘‚é™µé®ç£å°èª¿åº¦æ²³é•·åˆ¶å·¥ä½œ>éƒ­ä¿å­˜åˆ°å‘‚é™µé®ç£å°èª¿åº¦æ²³é•·åˆ¶å·¥ä½œ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/355ed5a4.html alt=åœ¨Androidä¸­çš„å·¥å…·æ¬„ä¸­æ·»åŠ èœå–® class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a3572ad9d9fb487d8927f703f18179a0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/355ed5a4.html title=åœ¨Androidä¸­çš„å·¥å…·æ¬„ä¸­æ·»åŠ èœå–®>åœ¨Androidä¸­çš„å·¥å…·æ¬„ä¸­æ·»åŠ èœå–®</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b37aac89.html alt=ã€å­¸ç¿’ç­†è¨˜ã€‘Androidé–‹ç™¼ä¹‹kotlinèªè¨€ï¼ˆä¸€ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ee3f9c8348ae4de58a5f62922d2042e1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b37aac89.html title=ã€å­¸ç¿’ç­†è¨˜ã€‘Androidé–‹ç™¼ä¹‹kotlinèªè¨€ï¼ˆä¸€ï¼‰>ã€å­¸ç¿’ç­†è¨˜ã€‘Androidé–‹ç™¼ä¹‹kotlinèªè¨€ï¼ˆä¸€ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/514f2fe0.html alt=Androidé€²éšä¹‹è·¯ä¹‹ç¶²çµ¡ç·¨ç¨‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/R6GseWQ6pTbxvr style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/514f2fe0.html title=Androidé€²éšä¹‹è·¯ä¹‹ç¶²çµ¡ç·¨ç¨‹>Androidé€²éšä¹‹è·¯ä¹‹ç¶²çµ¡ç·¨ç¨‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d258b9eb.html alt="å¾¹åº•å‡çµAndroid æ‡‰ç”¨å¾Œè‡ºæ´»å‹• è®“ä»–å€‘ä¸è€—é›»ã€ä¸è¯ç¶²ã€ä¸å•Ÿå‹•" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/e4fd87bc-b2e5-40e2-841d-2e3dc5f9a2b9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d258b9eb.html title="å¾¹åº•å‡çµAndroid æ‡‰ç”¨å¾Œè‡ºæ´»å‹• è®“ä»–å€‘ä¸è€—é›»ã€ä¸è¯ç¶²ã€ä¸å•Ÿå‹•">å¾¹åº•å‡çµAndroid æ‡‰ç”¨å¾Œè‡ºæ´»å‹• è®“ä»–å€‘ä¸è€—é›»ã€ä¸è¯ç¶²ã€ä¸å•Ÿå‹•</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/68b758a4.html alt="è¨Šé£›è¼¸å…¥æ³•Android V9.1.9465 é‡ç£…å‡ç´šæ‹¼éŸ³æ‰‹å¯«A.I.å¼•æ“" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/RiF18Oh9i8jWPd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/68b758a4.html title="è¨Šé£›è¼¸å…¥æ³•Android V9.1.9465 é‡ç£…å‡ç´šæ‹¼éŸ³æ‰‹å¯«A.I.å¼•æ“">è¨Šé£›è¼¸å…¥æ³•Android V9.1.9465 é‡ç£…å‡ç´šæ‹¼éŸ³æ‰‹å¯«A.I.å¼•æ“</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bd368e6b.html alt=Linuxæ“ä½œç³»çµ±çš„ä½œæ¥­èª¿åº¦å’Œé€²ç¨‹èª¿åº¦ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/21f942105461464ba8e2d78490725e0c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bd368e6b.html title=Linuxæ“ä½œç³»çµ±çš„ä½œæ¥­èª¿åº¦å’Œé€²ç¨‹èª¿åº¦>Linuxæ“ä½œç³»çµ±çš„ä½œæ¥­èª¿åº¦å’Œé€²ç¨‹èª¿åº¦</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/03a7881d.html alt="Android 11å…¬é–‹æ¸¬è©¦ç‰ˆæ­£å¼ç™¼ä½ˆï¼Œæ–°å¢äº†å¯¦ç”¨åŠŸèƒ½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/76a9b5ad-e27f-4cea-b8b9-2134bc133e5d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/03a7881d.html title="Android 11å…¬é–‹æ¸¬è©¦ç‰ˆæ­£å¼ç™¼ä½ˆï¼Œæ–°å¢äº†å¯¦ç”¨åŠŸèƒ½">Android 11å…¬é–‹æ¸¬è©¦ç‰ˆæ­£å¼ç™¼ä½ˆï¼Œæ–°å¢äº†å¯¦ç”¨åŠŸèƒ½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/036cb180.html alt="é¦–æ‰¹é©é…ï¼ColorOSæ­£å¼ç™¼ä½ˆAndroid 11é–‹ç™¼è€…æ¸¬è©¦ç‰ˆï¼šæš—è‰²å®šæ™‚ã€è¶…ç´šçœé›»" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/S2cySEvGM5dtxu style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/036cb180.html title="é¦–æ‰¹é©é…ï¼ColorOSæ­£å¼ç™¼ä½ˆAndroid 11é–‹ç™¼è€…æ¸¬è©¦ç‰ˆï¼šæš—è‰²å®šæ™‚ã€è¶…ç´šçœé›»">é¦–æ‰¹é©é…ï¼ColorOSæ­£å¼ç™¼ä½ˆAndroid 11é–‹ç™¼è€…æ¸¬è©¦ç‰ˆï¼šæš—è‰²å®šæ™‚ã€è¶…ç´šçœé›»</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>