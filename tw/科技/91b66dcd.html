<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>å¤§é“è‡³ç°¡ï¼šJava ä»£ç¢¼11å€‹æ–¹é¢çš„ç²¾ç°¡ä¹‹é“ï¼ˆç¤ºä¾‹å“é‘‘ï¼‰ | æå®¢å¿«è¨Š</title><meta property="og:title" content="å¤§é“è‡³ç°¡ï¼šJava ä»£ç¢¼11å€‹æ–¹é¢çš„ç²¾ç°¡ä¹‹é“ï¼ˆç¤ºä¾‹å“é‘‘ï¼‰ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/30747658a7ff4b3a8fc8989c80252571"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/91b66dcd.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/91b66dcd.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/91b66dcd.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/91b66dcd.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/91b66dcd.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/91b66dcd.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/91b66dcd.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/91b66dcd.html><meta property="article:published_time" content="2020-11-14T21:00:09+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:09+08:00"><meta name=Keywords content><meta name=description content="å¤§é“è‡³ç°¡ï¼šJava ä»£ç¢¼11å€‹æ–¹é¢çš„ç²¾ç°¡ä¹‹é“ï¼ˆç¤ºä¾‹å“é‘‘ï¼‰"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/91b66dcd.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>å¤§é“è‡³ç°¡ï¼šJava ä»£ç¢¼11å€‹æ–¹é¢çš„ç²¾ç°¡ä¹‹é“ï¼ˆç¤ºä¾‹å“é‘‘ï¼‰</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><blockquote><p>ä½œè€…ï¼š å¸¸æ„(åŸåé™³æ˜Œæ¯…ï¼Œåœ°åœ–æŠ€è¡“å°ˆå®¶)</p><p>éˆæ¥ï¼šhttps://mp.weixin.qq.com/s/A1Z8YZyqQsFqK1TA1dTl2Q</p></blockquote><h2 class=pgc-h-arrow-right><strong>å‰è¨€</strong></h2><hr><p>å¤èªæœ‰äº‘ï¼š</p><blockquote><p>é“ç‚ºè¡“ä¹‹éˆï¼Œè¡“ç‚ºé“ä¹‹é«”ï¼›ä»¥é“çµ±è¡“ï¼Œä»¥è¡“å¾—é“ã€‚</p></blockquote><p>å…¶ä¸­ï¼šâ€œé“â€æŒ‡â€œè¦å¾‹ã€é“ç†ã€ç†è«–â€ï¼Œâ€œè¡“â€æŒ‡â€œæ–¹æ³•ã€æŠ€å·§ã€æŠ€è¡“â€ã€‚æ„æ€æ˜¯ï¼šâ€œé“â€æ˜¯â€œè¡“â€çš„éˆé­‚ï¼Œâ€œè¡“â€æ˜¯â€œé“â€çš„è‚‰é«”ï¼›å¯ä»¥ç”¨â€œé“â€ä¾†çµ±ç®¡â€œè¡“â€ï¼Œä¹Ÿå¯ä»¥å¾â€œè¡“â€ä¸­ç²å¾—â€œé“â€ã€‚</p><p><br></p><p>åœ¨æ‹œè®€å¤§ä½¬â€œå­¤ç›¡â€çš„æ–‡ç« ã€ŠCode Reviewæ˜¯è‹¦æ¾€ä½†æœ‰æ„æ€çš„ä¿®è¡Œã€‹æ™‚ï¼Œæ„Ÿå—æœ€æ·±çš„ä¸€å¥è©±å°±æ˜¯ï¼šâ€œå„ªè³ªçš„ä»£ç¢¼ä¸€å®šæ˜¯å°‘å³æ˜¯å¤šçš„ç²¾å…µåŸå‰‡â€ï¼Œé€™å°±æ˜¯å¤§ä½¬çš„ä»£ç¢¼ç²¾ç°¡ä¹‹â€œé“â€ã€‚</p><p><br></p><p>å·¥åŒ è¿½æ±‚â€œè¡“â€åˆ°æ¥µè‡´ï¼Œå…¶å¯¦å°±æ˜¯åœ¨å°‹â€œé“â€ï¼Œä¸”é›¢æ‚Ÿâ€œé“â€ä¹Ÿå°±ä¸é äº†ï¼Œäº¦æˆ–æ˜¯å·²ç¶“å¾—é“ï¼Œé€™å°±æ˜¯â€œå·¥åŒ ç²¾ç¥â€â€”â€”ä¸€ç¨®è¿½æ±‚â€œä»¥è¡“å¾—é“â€çš„ç²¾ç¥ã€‚å¦‚æœä¸€å€‹å·¥åŒ åªæ»¿è¶³æ–¼â€œè¡“â€ï¼Œä¸èƒ½è¿½æ±‚â€œè¡“â€åˆ°æ¥µè‡´å»æ‚Ÿâ€œé“â€ï¼Œé‚£åªæ˜¯ä¸€å€‹é â€œè¡“â€é¤Šå®¶é¤¬å£çš„å·¥åŒ è€Œå·²ã€‚ä½œè€…æ ¹æ“šå¤šå¹´ä¾†çš„å¯¦è¸æ¢ç´¢ï¼Œç¸½çµäº†å¤§é‡çš„ Java ä»£ç¢¼ç²¾ç°¡ä¹‹â€œè¡“â€ï¼Œè©¦åœ–é—¡è¿°å‡ºå¿ƒä¸­çš„ Java ä»£ç¢¼ç²¾ç°¡ä¹‹â€œé“â€ã€‚</p><p><br></p><div class=pgc-img><img alt="å¤§é“è‡³ç°¡ï¼šJava ä»£ç¢¼11å€‹æ–¹é¢çš„ç²¾ç°¡ä¹‹é“ï¼ˆç¤ºä¾‹å“é‘‘ï¼‰" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/30747658a7ff4b3a8fc8989c80252571><p class=pgc-img-caption></p></div><p><br></p><h2 class=pgc-h-arrow-right><strong>1.åˆ©ç”¨èªæ³•</strong></h2><hr><h3 class=pgc-h-arrow-right><strong>1.1.åˆ©ç”¨ä¸‰å…ƒè¡¨é”å¼</strong></h3><p><strong>æ™®é€šï¼š</strong></p><pre><code>String title;if (isMember(phone)) {  title = "æœƒå“¡";} else {   title = "éŠå®¢";}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>String title = isMember(phone) ? "æœƒå“¡" : "éŠå®¢";</code></pre><p>æ³¨æ„ï¼šå°æ–¼åŒ…è£é¡å‹çš„ç®—è¡“è¨ˆç®—ï¼Œéœ€è¦æ³¨æ„é¿å…æ‹†åŒ…æ™‚çš„ç©ºæŒ‡é‡å•é¡Œã€‚</p><h3 class=pgc-h-arrow-right><strong>1.2.åˆ©ç”¨ for-each èªå¥</strong></h3><p>å¾ Java 5 èµ·ï¼Œæä¾›äº† for-each å¾ªç’°ï¼Œç°¡åŒ–äº†æ•¸çµ„å’Œé›†åˆçš„å¾ªç’°éæ­·ã€‚ for-each å¾ªç’°å…è¨±ä½ ç„¡éœ€ä¿æŒå‚³çµ± for å¾ªç’°ä¸­çš„ç´¢å¼•å°±å¯ä»¥éæ­·æ•¸çµ„ï¼Œæˆ–åœ¨ä½¿ç”¨è¿­ä»£å™¨æ™‚ç„¡éœ€åœ¨ while å¾ªç’°ä¸­èª¿ç”¨ hasNext æ–¹æ³•å’Œ next æ–¹æ³•å°±å¯ä»¥éæ­·é›†åˆã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>double[] values = ...;for(int i = 0; i &lt; values.length; i++) {  double value = values[i];  // TODO: è™•ç†value}List&lt;Double&gt; valueList = ...;Iterator&lt;Double&gt; iterator = valueList.iterator();while (iterator.hasNext()) {  Double value = iterator.next();   // TODO: è™•ç†value}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>double[] values = ...;for(double value : values) {  // TODO: è™•ç†value}List&lt;Double&gt; valueList = ...;for(Double value : valueList) {  // TODO: è™•ç†value}</code></pre><h3 class=pgc-h-arrow-right><strong>1.3.åˆ©ç”¨ try-with-resource èªå¥</strong></h3><p>æ‰€æœ‰å¯¦ç¾ Closeable æ¥å£çš„â€œè³‡æºâ€ï¼Œå‡å¯æ¡ç”¨ try-with-resource é€²è¡Œç°¡åŒ–ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>BufferedReader reader = null;try {  reader = new BufferedReader(new FileReader("cities.csv"));   String line;  while ((line = reader.readLine()) != null) {    // TODO: è™•ç†line   }} catch (IOException e) {  log.error("è®€å–æ–‡ä»¶ç•°å¸¸", e);} finally {   if (reader != null) {     try {      reader.close();    } catch (IOException e) {      log.error("é—œé–‰æ–‡ä»¶ç•°å¸¸", e);    }  }}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>try (BufferedReader reader = new BufferedReader(new FileReader("test.txt"))) {  String line;  while ((line = reader.readLine()) != null) {    // TODO: è™•ç†line  }} catch (IOException e) {  log.error("è®€å–æ–‡ä»¶ç•°å¸¸", e);}</code></pre><h3 class=pgc-h-arrow-right><strong>1.4.åˆ©ç”¨ return é—œéµå­—</strong></h3><p>åˆ©ç”¨ return é—œéµå­—ï¼Œå¯ä»¥æå‰å‡½æ•¸è¿”å›ï¼Œé¿å…å®šç¾©ä¸­é–“è®Šé‡ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public static boolean hasSuper(@NonNull List&lt;UserDO&gt; userList) {  boolean hasSuper = false;   for (UserDO user : userList) {    if (Boolean.TRUE.equals(user.getIsSuper())) {      hasSuper = true;       break;    }  }   return hasSuper;}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public static boolean hasSuper(@NonNull List&lt;UserDO&gt; userList) {  for (UserDO user : userList) {    if (Boolean.TRUE.equals(user.getIsSuper())) {      return true;     }    }    return false;}</code></pre><h3 class=pgc-h-arrow-right><strong>1.5.åˆ©ç”¨ static é—œéµå­—</strong></h3><p>åˆ©ç”¨ static é—œéµå­—ï¼Œå¯ä»¥æŠŠå­—æ®µè®Šæˆéœæ…‹å­—æ®µï¼Œä¹Ÿå¯ä»¥æŠŠå‡½æ•¸è®Šç‚ºéœæ…‹å‡½æ•¸ï¼Œèª¿ç”¨æ™‚å°±ç„¡éœ€åˆå§‹åŒ–é¡å°è±¡ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public final class GisHelper {   public double distance(double lng1, double lat1, double lng2, double lat2) {    // æ–¹æ³•å¯¦ç¾ä»£ç¢¼   }}GisHelper gisHelper = new GisHelper();double distance = gisHelper.distance(116.178692D, 39.967115D, 116.410778D, 39.899721D);</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public final class GisHelper {  public static double distance(double lng1, double lat1, double lng2, double lat2) {    // æ–¹æ³•å¯¦ç¾ä»£ç¢¼  }}double distance = GisHelper.distance(116.178692D, 39.967115D, 116.410778D, 39.899721D);</code></pre><h3 class=pgc-h-arrow-right><br></h3><h3 class=pgc-h-arrow-right><strong>1.6.åˆ©ç”¨ lambda è¡¨é”å¼</strong></h3><p>Java 8 ç™¼ä½ˆä»¥å¾Œï¼Œlambda è¡¨é”å¼å¤§é‡æ›¿ä»£åŒ¿åå…§éƒ¨é¡çš„ä½¿ç”¨ï¼Œåœ¨ç°¡åŒ–äº†ä»£ç¢¼çš„åŒæ™‚ï¼Œæ›´çªå‡ºäº†åŸæœ‰åŒ¿åå…§éƒ¨é¡ä¸­çœŸæ­£æœ‰ç”¨çš„é‚£éƒ¨åˆ†ä»£ç¢¼ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>new Thread(new Runnable() {            public void run() {  // ç·šç¨‹è™•ç†ä»£ç¢¼}}).start();</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>new Thread(() -&gt; {   // ç·šç¨‹è™•ç†ä»£ç¢¼}).start();</code></pre><h3 class=pgc-h-arrow-right><strong>1.7.åˆ©ç”¨æ–¹æ³•å¼•ç”¨</strong></h3><p>æ–¹æ³•å¼•ç”¨ï¼ˆ::ï¼‰ï¼Œå¯ä»¥ç°¡åŒ– lambda è¡¨é”å¼ï¼Œçœç•¥è®Šé‡è²æ˜å’Œå‡½æ•¸èª¿ç”¨ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>Arrays.sort(nameArray, (a, b) -&gt; a.compareToIgnoreCase(b));List&lt;Long&gt; userIdList = userList.stream()  .map(user -&gt; user.getId())   .collect(Collectors.toList());</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>Arrays.sort(nameArray, String::compareToIgnoreCase);List&lt;Long&gt; userIdList = userList.stream()  .map(UserDO::getId)  .collect(Collectors.toList());</code></pre><p><br></p><h3 class=pgc-h-arrow-right><strong>1.8.åˆ©ç”¨éœæ…‹å°å…¥</strong></h3><p>éœæ…‹å°å…¥ï¼ˆimport staticï¼‰ï¼Œç•¶ç¨‹åºä¸­å¤§é‡ä½¿ç”¨åŒä¸€éœæ…‹å¸¸é‡å’Œå‡½æ•¸æ™‚ï¼Œå¯ä»¥ç°¡åŒ–éœæ…‹å¸¸é‡å’Œå‡½æ•¸çš„å¼•ç”¨ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>List&lt;Double&gt; areaList = radiusList.stream().map(r -&gt; Math.PI * Math.pow(r, 2)).collect(Collectors.toList());...</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>import static java.lang.Math.PI;import static java.lang.Math.pow;import static java.util.stream.Collectors.toList;List&lt;Double&gt; areaList = radiusList.stream().map(r -&gt; PI * pow(r, 2)).collect(toList());...</code></pre><p>æ³¨æ„ï¼šéœæ…‹å¼•å…¥å®¹æ˜“é€ æˆä»£ç¢¼é–±è®€å›°é›£ï¼Œæ‰€ä»¥åœ¨å¯¦éš›é …ç›®ä¸­æ‡‰è©²è­¦æ…ä½¿ç”¨ã€‚</p><p><br></p><h3 class=pgc-h-arrow-right><strong>1.9.åˆ©ç”¨ unchecked ç•°å¸¸</strong></h3><p>Java çš„ç•°å¸¸åˆ†ç‚ºå…©é¡ï¼šChecked ç•°å¸¸å’Œ Unchecked ç•°å¸¸ã€‚Unchecked ç•°å¸¸ç¹¼æ‰¿äº†RuntimeException ï¼Œç‰¹é»æ˜¯ä»£ç¢¼ä¸éœ€è¦è™•ç†å®ƒå€‘ä¹Ÿèƒ½é€šéç·¨è­¯ï¼Œæ‰€ä»¥å®ƒå€‘ç¨±ä½œ Unchecked ç•°å¸¸ã€‚åˆ©ç”¨ Unchecked ç•°å¸¸ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„ try-catch å’Œ throws ç•°å¸¸è™•ç†ã€‚</p><p><br></p><p><strong>æ™®é€šï¼š</strong></p><pre><code>@Servicepublic class UserService {  public void createUser(UserCreateVO create, OpUserVO user) throws BusinessException {    checkOperatorUser(user);     ...  }    private void checkOperatorUser(OpUserVO user) throws BusinessException {      if (!hasPermission(user)) {         throw new BusinessException("ç”¨æˆ¶ç„¡æ“ä½œæ¬Šé™");       }       ...      }      ...    }           @RestController      @RequestMapping("/user")      public class UserController {         @Autowired    private UserService userService;                @PostMapping("/createUser")         public Result&lt;Void&gt; createUser(@RequestBody @Valid UserCreateVO create, OpUserVO user) throws BusinessException {          userService.createUser(create, user);          return Result.success();        }       ...    }</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>@Servicepublic class UserService {   public void createUser(UserCreateVO create, OpUserVO user) {    checkOperatorUser(user);     ...  }    private void checkOperatorUser(OpUserVO user) {      if (!hasPermission(user)) {        throw new BusinessRuntimeException("ç”¨æˆ¶ç„¡æ“ä½œæ¬Šé™");      }       ...     }         ... }              @RestController@RequestMapping("/user")      public class UserController {         @Autowired        private UserService userService;         @PostMapping("/createUser")         public Result&lt;Void&gt; createUser(@RequestBody @Valid UserCreateVO create, OpUserVO user) {          userService.createUser(create, user);          return Result.success();        }      ...    }</code></pre><p><br></p><h2 class=pgc-h-arrow-right><strong>2.åˆ©ç”¨è¨»è§£</strong></h2><hr><p><strong>2.1.åˆ©ç”¨ Lombok è¨»è§£</strong></p><p>Lombok æä¾›äº†ä¸€çµ„æœ‰ç”¨çš„è¨»è§£ï¼Œå¯ä»¥ç”¨ä¾†æ¶ˆé™¤Javaé¡ä¸­çš„å¤§é‡æ¨£æ¿ä»£ç¢¼ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public class UserVO {  private Long id;  private String name;  public Long getId() {     return this.id;   }  public void setId(Long id) {    this.id = id;  }   public String getName() {     return this.name;   }  public void setName(String name) {     this.name = name;   }   ...}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>@Getter@Setter@ToStringpublic class UserVO {  private Long id;  private String name;   ...}</code></pre><h3 class=pgc-h-arrow-right><strong>2.2.åˆ©ç”¨ Validation è¨»è§£</strong></h3><p><strong>æ™®é€šï¼š</strong></p><pre><code>  @Getter@Setter@ToStringpublic class UserCreateVO {  @NotBlank(message = "ç”¨æˆ¶åç¨±ä¸èƒ½ç‚ºç©º")  private String name;   @NotNull(message = "å…¬å¸æ¨™è­˜ä¸èƒ½ç‚ºç©º")  private Long companyId;   ...}@Service@Validatedpublicclass UserService {  public Long createUser(@Valid UserCreateVO create) {    // TODO: å‰µå»ºç”¨æˆ¶    return null;  }}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>@Getter@Setter@ToStringpublic class UserCreateVO {  @NotBlank(message = "ç”¨æˆ¶åç¨±ä¸èƒ½ç‚ºç©º")  private String name;   @NotNull(message = "å…¬å¸æ¨™è­˜ä¸èƒ½ç‚ºç©º")  private Long companyId;   ...}@Service@Validatedpublic class UserService {    public Long createUser(@Valid UserCreateVO create) {        // TODO: å‰µå»ºç”¨æˆ¶        return null;    }}</code></pre><h3 class=pgc-h-arrow-right><br></h3><h3 class=pgc-h-arrow-right><strong>2.3.åˆ©ç”¨ @NonNull è¨»è§£</strong></h3><p><br></p><p>Spring çš„ @NonNull è¨»è§£ï¼Œç”¨æ–¼æ¨™è¨»åƒæ•¸æˆ–è¿”å›å€¼éç©ºï¼Œé©ç”¨æ–¼é …ç›®å…§éƒ¨åœ˜éšŠå”ä½œã€‚åªè¦å¯¦ç¾æ–¹å’Œèª¿ç”¨æ–¹éµå¾ªè¦ç¯„ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„ç©ºå€¼åˆ¤æ–·ï¼Œé€™å……åˆ†é«”ç¾äº†é˜¿é‡Œçš„â€œæ–°å…­è„ˆç¥åŠâ€æå€¡çš„â€œå› ç‚ºä¿¡ä»»ï¼Œæ‰€ä»¥ç°¡å–®â€ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public List&lt;UserVO&gt; queryCompanyUser(Long companyId) {  // æª¢æŸ¥å…¬å¸æ¨™è­˜  if (companyId == null) {    return null;  }   // æŸ¥è©¢è¿”å›ç”¨æˆ¶  List&lt;UserDO&gt; userList = userDAO.queryByCompanyId(companyId);   return userList.stream().map(this::transUser).collect(Collectors.toList());}Long companyId = 1L;List&lt;UserVO&gt; userList = queryCompanyUser(companyId);if (CollectionUtils.isNotEmpty(userList)) {  for (UserVO user : userList) {    // TODO: è™•ç†å…¬å¸ç”¨æˆ¶  }}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public @NonNull List&lt;UserVO&gt; queryCompanyUser(@NonNull Long companyId) {  List&lt;UserDO&gt; userList = userDAO.queryByCompanyId(companyId);  return userList.stream().map(this::transUser).collect(Collectors.toList());}Long companyId = 1L;List&lt;UserVO&gt; userList = queryCompanyUser(companyId);for (UserVO user : userList) {  // TODO: è™•ç†å…¬å¸ç”¨æˆ¶}</code></pre><h3 class=pgc-h-arrow-right><br></h3><h3 class=pgc-h-arrow-right><strong>2.4.åˆ©ç”¨è¨»è§£ç‰¹æ€§</strong></h3><p>è¨»è§£æœ‰ä»¥ä¸‹ç‰¹æ€§å¯ç”¨æ–¼ç²¾ç°¡è¨»è§£è²æ˜ï¼š</p><p>1ã€ç•¶è¨»è§£å±¬æ€§å€¼è·Ÿé»˜èªå€¼ä¸€è‡´æ™‚ï¼Œå¯ä»¥åˆªé™¤è©²å±¬æ€§è³¦å€¼ï¼›</p><p>2ã€ç•¶è¨»è§£åªæœ‰valueå±¬æ€§æ™‚ï¼Œå¯ä»¥å»æ‰valueé€²è¡Œç°¡å¯«ï¼›</p><p>3ã€ç•¶è¨»è§£å±¬æ€§çµ„åˆç­‰æ–¼å¦ä¸€å€‹ç‰¹å®šè¨»è§£æ™‚ï¼Œç›´æ¥æ¡ç”¨è©²ç‰¹å®šè¨»è§£ã€‚</p><p><br></p><p><strong>æ™®é€šï¼š</strong></p><pre><code>@Lazy(true);@Service(value = "userService")@RequestMapping(path = "/getUser", method = RequestMethod.GET)</code></pre><pre><code></code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>@Lazy@Service("userService")@GetMapping("/getUser")</code></pre><h2 class=pgc-h-arrow-right><strong>3.åˆ©ç”¨æ³›å‹</strong></h2><hr><p><strong>3.1.æ³›å‹æ¥å£</strong></p><p>åœ¨ Java æ²’æœ‰å¼•å…¥æ³›å‹å‰ï¼Œéƒ½æ˜¯æ¡ç”¨ Object è¡¨ç¤ºé€šç”¨å°è±¡ï¼Œæœ€å¤§çš„å•é¡Œå°±æ˜¯é¡å‹ç„¡æ³•å¼·æ ¡é©—ä¸¦ä¸”éœ€è¦å¼·åˆ¶é¡å‹è½‰æ›ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public interface Comparable {  public int compareTo(Object other);}@Getter@Setter@ToStringpublic class UserVO implements Comparable {  private Long id;   @Override    public int compareTo(Object other) {    UserVO user = (UserVO)other;    return Long.compare(this.id, user.id);  }}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public interface Comparable&lt;T&gt; {  public int compareTo(T other);}@Getter@Setter@ToStringpublic class UserVO implements Comparable&lt;UserVO&gt; {  private Long id;  @Override  public int compareTo(UserVO other) {    return Long.compare(this.id, other.id);  }}</code></pre><p><br></p><h3 class=pgc-h-arrow-right><strong>3.2.æ³›å‹é¡</strong></h3><p><strong>æ™®é€šï¼š</strong></p><pre><code>@Getter@Setter@ToStringpublic class IntPoint {  private Integer x;  private Integer y;}@Getter@Setter@ToStringpublic class DoublePoint {  private Double x;  private Double y;}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>@Getter@Setter@ToStringpublic class Point&lt;T extends Number&gt; {  private T x;  private T y;}</code></pre><h3 class=pgc-h-arrow-right><br></h3><h3 class=pgc-h-arrow-right><strong>3.3.æ³›å‹æ–¹æ³•</strong></h3><p><strong>æ™®é€šï¼š</strong></p><pre><code>public static Map&lt;String, Integer&gt; newHashMap(String[] keys, Integer[] values) {  // æª¢æŸ¥åƒæ•¸éç©º   if (ArrayUtils.isEmpty(keys) || ArrayUtils.isEmpty(values)) {    return Collections.emptyMap();   }     // è½‰åŒ–å“ˆå¸Œæ˜ å°„   Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();   int length = Math.min(keys.length, values.length);   for (int i = 0; i &lt; length; i++) {     map.put(keys[i], values[i]);  }  return map;}...</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; newHashMap(K[] keys, V[] values) {   // æª¢æŸ¥åƒæ•¸éç©º   if (ArrayUtils.isEmpty(keys) || ArrayUtils.isEmpty(values)) {    return Collections.emptyMap();  }     // è½‰åŒ–å“ˆå¸Œæ˜ å°„  Map&lt;K, V&gt; map = new HashMap&lt;&gt;();  int length = Math.min(keys.length, values.length);   for (int i = 0; i &lt; length; i++) {    map.put(keys[i], values[i]);  }   return map;}</code></pre><h2 class=pgc-h-arrow-right><strong>4.åˆ©ç”¨è‡ªèº«æ–¹æ³•</strong></h2><hr><p><strong>4.1.åˆ©ç”¨æ§‹é€ æ–¹æ³•</strong></p><p>æ§‹é€ æ–¹æ³•ï¼Œå¯ä»¥ç°¡åŒ–å°è±¡çš„åˆå§‹åŒ–å’Œè¨­ç½®å±¬æ€§æ“ä½œã€‚å°æ–¼å±¬æ€§å­—æ®µè¼ƒå°‘çš„é¡ï¼Œå¯ä»¥è‡ªå®šç¾©æ§‹é€ æ–¹æ³•ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>@Getter@Setter@ToStringpublic class PageDataVO&lt;T&gt; {  private Long totalCount;  private List&lt;T&gt; dataList;}PageDataVO&lt;UserVO&gt; pageData = new PageDataVO&lt;&gt;();pageData.setTotalCount(totalCount);pageData.setDataList(userList);return pageData;</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>@Getter@Setter@ToString@NoArgsConstructor@AllArgsConstructorpublic class PageDataVO&lt;T&gt; {  private Long totalCount;  private List&lt;T&gt; dataList;}return new PageDataVO&lt;&gt;(totalCount, userList);</code></pre><p>æ³¨æ„ï¼šå¦‚æœå±¬æ€§å­—æ®µè¢«æ›¿æ›æ™‚ï¼Œå­˜åœ¨æ§‹é€ å‡½æ•¸åˆå§‹åŒ–è³¦å€¼å•é¡Œã€‚æ¯”å¦‚æŠŠå±¬æ€§å­—æ®µtitleæ›¿æ›ç‚º nickname ï¼Œç”±æ–¼æ§‹é€ å‡½æ•¸çš„åƒæ•¸å€‹æ•¸å’Œé¡å‹ä¸è®Šï¼ŒåŸæœ‰æ§‹é€ å‡½æ•¸åˆå§‹åŒ–èªå¥ä¸æœƒå ±éŒ¯ï¼Œå°è‡´æŠŠåŸtitleå€¼è³¦å€¼çµ¦ nickname ã€‚å¦‚æœæ¡ç”¨ Setter æ–¹æ³•è³¦å€¼ï¼Œç·¨è­¯å™¨æœƒæç¤ºéŒ¯èª¤ä¸¦è¦æ±‚ä¿®å¾©ã€‚</p><p><br></p><h3 class=pgc-h-arrow-right><strong>4.2.åˆ©ç”¨ Set çš„ add æ–¹æ³•</strong></h3><p>åˆ©ç”¨ Set çš„ add æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¯ä»¥ç›´æ¥çŸ¥é“è©²å€¼æ˜¯å¦å·²ç¶“å­˜åœ¨ï¼Œå¯ä»¥é¿å…èª¿ç”¨ contains æ–¹æ³•åˆ¤æ–·å­˜åœ¨ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><p>ä»¥ä¸‹æ¡ˆä¾‹æ˜¯é€²è¡Œç”¨æˆ¶å»é‡è½‰åŒ–æ“ä½œï¼Œéœ€è¦å…ˆèª¿ç”¨ contains æ–¹æ³•åˆ¤æ–·å­˜åœ¨ï¼Œå¾Œèª¿ç”¨addæ–¹æ³•é€²è¡Œæ·»åŠ ã€‚</p><pre><code>Set&lt;Long&gt; userIdSet = new HashSet&lt;&gt;();List&lt;UserVO&gt; userVOList = new ArrayList&lt;&gt;();for (UserDO userDO : userDOList) {   if (!userIdSet.contains(userDO.getId())) {    userIdSet.add(userDO.getId());    userVOList.add(transUser(userDO));  }}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>SSet&lt;Long&gt; userIdSet = new HashSet&lt;&gt;();List&lt;UserVO&gt; userVOList = new ArrayList&lt;&gt;();for (UserDO userDO : userDOList) {  if (userIdSet.add(userDO.getId())) {    userVOList.add(transUser(userDO));  }}</code></pre><h3 class=pgc-h-arrow-right><strong>4.3.åˆ©ç”¨ Map çš„ computeIfAbsent æ–¹æ³•</strong></h3><p>åˆ©ç”¨ Map çš„ computeIfAbsent æ–¹æ³•ï¼Œå¯ä»¥ä¿è­‰ç²å–åˆ°çš„å°è±¡éç©ºï¼Œå¾è€Œé¿å…äº†ä¸å¿…è¦çš„ç©ºåˆ¤æ–·å’Œé‡æ–°è¨­ç½®å€¼ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>Map&lt;Long, List&lt;UserDO&gt;&gt; roleUserMap = new HashMap&lt;&gt;();for (UserDO userDO : userDOList) {  Long roleId = userDO.getRoleId();  List&lt;UserDO&gt; userList = roleUserMap.get(roleId);  if (Objects.isNull(userList)) {     userList = new ArrayList&lt;&gt;();    roleUserMap.put(roleId, userList);  }   userList.add(userDO);}</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>Map&lt;Long, List&lt;UserDO&gt;&gt; roleUserMap = new HashMap&lt;&gt;();for (UserDO userDO : userDOList) {   roleUserMap.computeIfAbsent(userDO.getRoleId(), key -&gt; new ArrayList&lt;&gt;())    .add(userDO);}</code></pre><h3 class=pgc-h-arrow-right><br></h3><h3 class=pgc-h-arrow-right><strong>4.4.åˆ©ç”¨éˆå¼ç·¨ç¨‹</strong></h3><p>éˆå¼ç·¨ç¨‹ï¼Œä¹Ÿå«ç´šè¯å¼ç·¨ç¨‹ï¼Œèª¿ç”¨å°è±¡çš„å‡½æ•¸æ™‚è¿”å›ä¸€å€‹thiså°è±¡æŒ‡å‘å°è±¡æœ¬èº«ï¼Œé”åˆ°éˆå¼æ•ˆæœï¼Œå¯ä»¥ç´šè¯èª¿ç”¨ã€‚éˆå¼ç·¨ç¨‹çš„å„ªé»æ˜¯ï¼šç·¨ç¨‹æ€§å¼·ã€å¯è®€æ€§å¼·ã€ä»£ç¢¼ç°¡æ½”ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>StringBuilder builder = new StringBuilder(96);builder.append("select id, name from ");builder.append(T_USER);builder.append(" where id = ");builder.append(userId);builder.append(";");</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>StringBuilder builder = new StringBuilder(96);builder.append("select id, name from ")  .append(T_USER)  .append(" where id = ")  .append(userId)  .append(";");</code></pre><h2 class=pgc-h-arrow-right><strong>5.åˆ©ç”¨å·¥å…·æ–¹æ³•</strong></h2><hr><p><strong>5.1.é¿å…ç©ºå€¼åˆ¤æ–·</strong></p><p><br></p><p><strong>æ™®é€šï¼š</strong></p><pre><code>if (userList != null &amp;&amp; !userList.isEmpty()) {  // TODO: è™•ç†ä»£ç¢¼}</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>if (CollectionUtils.isNotEmpty(userList)) {    // TODO: è™•ç†ä»£ç¢¼}</code></pre><h3 class=pgc-h-arrow-right><br></h3><h3 class=pgc-h-arrow-right><strong>5.2.é¿å…æ¢ä»¶åˆ¤æ–·</strong></h3><p><strong>æ™®é€šï¼š</strong></p><pre><code>double result;if (value &lt;= MIN_LIMIT) {  result = MIN_LIMIT;} else {  result = value;}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>double result = Math.max(MIN_LIMIT, value);</code></pre><h3 class=pgc-h-arrow-right><br></h3><h3 class=pgc-h-arrow-right><strong>5.3.ç°¡åŒ–è³¦å€¼èªå¥</strong></h3><p><strong>æ™®é€šï¼š</strong></p><pre><code>public static final List&lt;String&gt; ANIMAL_LIST;static {  List&lt;String&gt; animalList = new ArrayList&lt;&gt;();  animalList.add("dog");  animalList.add("cat");  animalList.add("tiger");  ANIMAL_LIST = Collections.unmodifiableList(animalList);}</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>// JDKæµæ´¾public static final List&lt;String&gt; ANIMAL_LIST = Arrays.asList("dog", "cat", "tiger");// Guavaæµæ´¾public static final List&lt;String&gt; ANIMAL_LIST = ImmutableList.of("dog", "cat", "tiger");</code></pre><p>æ³¨æ„ï¼šArrays.asList è¿”å›çš„ List ä¸¦ä¸æ˜¯ ArrayList ï¼Œä¸æ”¯æŒ add ç­‰è®Šæ›´æ“ä½œã€‚</p><h3 class=pgc-h-arrow-right><strong>5.4.ç°¡åŒ–æ•¸æ“šæ‹·è²</strong></h3><p><strong>æ™®é€šï¼š</strong></p><pre><code>UserVO userVO = new UserVO();userVO.setId(userDO.getId());userVO.setName(userDO.getName());...userVO.setDescription(userDO.getDescription());userVOList.add(userVO);</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>UserVO userVO = new UserVO();BeanUtils.copyProperties(userDO, userVO);userVOList.add(userVO);</code></pre><p><br></p><p><strong>åä¾‹ï¼š</strong></p><pre><code>List&lt;UserVO&gt; userVOList = JSON.parseArray(JSON.toJSONString(userDOList), UserVO.class);</code></pre><p>ç²¾ç°¡ä»£ç¢¼ï¼Œä½†ä¸èƒ½ä»¥éå¤§çš„æ€§èƒ½æå¤±ç‚ºä»£åƒ¹ã€‚ä¾‹å­æ˜¯æ·ºå±¤æ‹·è²ï¼Œç”¨ä¸è‘— JSON é€™æ¨£é‡é‡ç´šçš„æ­¦å™¨ã€‚</p><p><br></p><h2 class=pgc-h-arrow-right>5.5.ç°¡åŒ–ç•°å¸¸æ–·è¨€</h2><p><br></p><p><strong>æ™®é€šï¼š</strong></p><pre><code>if (Objects.isNull(userId)) {    throw new IllegalArgumentException("ç”¨æˆ¶æ¨™è­˜ä¸èƒ½ç‚ºç©º");}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>Assert.notNull(userId, "ç”¨æˆ¶æ¨™è­˜ä¸èƒ½ç‚ºç©º");</code></pre><p>æ³¨æ„ï¼šå¯èƒ½æœ‰äº›æ’ä»¶ä¸èªåŒé€™ç¨®åˆ¤æ–·ï¼Œå°è‡´ä½¿ç”¨è©²å°è±¡æ™‚æœƒæœ‰ç©ºæŒ‡é‡è­¦å‘Šã€‚</p><h3 class=pgc-h-arrow-right><strong>5.6.ç°¡åŒ–æ¸¬è©¦ç”¨ä¾‹</strong></h3><p>æŠŠæ¸¬è©¦ç”¨ä¾‹æ•¸æ“šä»¥ JSON æ ¼å¼å­˜å…¥æ–‡ä»¶ä¸­ï¼Œé€šé JSON çš„ parseObject å’Œ parseArray æ–¹æ³•è§£ææˆå°è±¡ã€‚é›–ç„¶åŸ·è¡Œæ•ˆç‡ä¸Šæœ‰æ‰€ä¸‹é™ï¼Œä½†å¯ä»¥æ¸›å°‘å¤§é‡çš„è³¦å€¼èªå¥ï¼Œå¾è€Œç²¾ç°¡äº†æ¸¬è©¦ä»£ç¢¼ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>@Testpublic void testCreateUser() {  UserCreateVO userCreate = new UserCreateVO();   userCreate.setName("Changyi");  userCreate.setTitle("Developer");  userCreate.setCompany("AMAP");   ...      Long userId  = userService.createUser(OPERATOR, userCreate);   Assert.assertNotNull(userId, "å‰µå»ºç”¨æˆ¶å¤±æ•—");}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>@Testpublic void testCreateUser() {  String jsonText = ResourceHelper.getResourceAsString(getClass(), "createUser.json");   UserCreateVO userCreate = JSON.parseObject(jsonText, UserCreateVO.class);   Long userId  = userService.createUser(OPERATOR, userCreate);  Assert.assertNotNull(userId, "å‰µå»ºç”¨æˆ¶å¤±æ•—");}</code></pre><p>å»ºè­°ï¼šJSON æ–‡ä»¶åæœ€å¥½ä»¥è¢«æ¸¬è©¦çš„æ–¹æ³•å‘½åï¼Œå¦‚æœæœ‰å¤šå€‹ç‰ˆæœ¬å¯ä»¥ç”¨æ•¸å­—å¾Œç¶´è¡¨ç¤ºã€‚</p><p><br></p><h3 class=pgc-h-arrow-right><strong>5.7.ç°¡åŒ–ç®—æ³•å¯¦ç¾</strong></h3><p>ä¸€äº›å¸¸è¦ç®—æ³•ï¼Œå·²æœ‰ç¾æˆçš„å·¥å…·æ–¹æ³•ï¼Œæˆ‘å€‘å°±æ²’æœ‰å¿…è¦è‡ªå·±å¯¦ç¾äº†ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>int totalSize = valueList.size();List&lt;List&lt;Integer&gt;&gt; partitionList = new ArrayList&lt;&gt;();for (int i = 0; i &lt; totalSize; i += PARTITION_SIZE) {  partitionList.add(valueList.subList(i, Math.min(i + PARTITION_SIZE, totalSize)));}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>List&lt;List&lt;Integer&gt;&gt; partitionList = ListUtils.partition(valueList, PARTITION_SIZE);</code></pre><p><br></p><h2 class=pgc-h-arrow-right>5.8.å°è£å·¥å…·æ–¹æ³•</h2><p><br></p><p>ä¸€äº›ç‰¹æ®Šç®—æ³•ï¼Œæ²’æœ‰ç¾æˆçš„å·¥å…·æ–¹æ³•ï¼Œæˆ‘å€‘å°±åªå¥½è‡ªå·±è¦ªè‡ªå¯¦ç¾äº†ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><p>æ¯”å¦‚ï¼ŒSQL è¨­ç½®åƒæ•¸å€¼çš„æ–¹æ³•å°±æ¯”è¼ƒé›£ç”¨ï¼ŒsetLong æ–¹æ³•ä¸èƒ½è¨­ç½®åƒæ•¸å€¼ç‚º null ã€‚</p><pre><code> // è¨­ç½®åƒæ•¸å€¼if (Objects.nonNull(user.getId())) {  statement.setLong(1, user.getId());} else {  statement.setNull(1, Types.BIGINT);}...</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><p>æˆ‘å€‘å¯ä»¥å°è£ç‚ºä¸€å€‹å·¥å…·é¡ SqlHelper ï¼Œç°¡åŒ–è¨­ç½®åƒæ•¸å€¼çš„ä»£ç¢¼ã€‚</p><pre><code>/** SQLè¼”åŠ©é¡ */public final class SqlHelper {    /** è¨­ç½®é•·æ•´æ•¸å€¼ */    public static void setLong(PreparedStatement statement, int index, Long value) throws SQLException {        if (Objects.nonNull(value)) {            statement.setLong(index, value.longValue());        } else {            statement.setNull(index, Types.BIGINT);        }    }    ...} // è¨­ç½®åƒæ•¸å€¼SqlHelper.setLong(statement, 1, user.getId());</code></pre><p><br></p><h2 class=pgc-h-arrow-right><strong>6.åˆ©ç”¨æ•¸æ“šçµæ§‹</strong></h2><hr><p><strong>6.1.åˆ©ç”¨æ•¸çµ„ç°¡åŒ–</strong></p><p>å°æ–¼å›ºå®šä¸Šä¸‹é™ç¯„åœçš„ if-else èªå¥ï¼Œå¯ä»¥ç”¨æ•¸çµ„+å¾ªç’°ä¾†ç°¡åŒ–ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public static int getGrade(double score) {  if (score &gt;= 90.0D) {    return 1;  }  if (score &gt;= 80.0D) {    return 2;  }   if (score &gt;= 60.0D) {    return 3;   }  if (score &gt;= 30.0D) {    return 4;  }  return 5;}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>private static final double[] SCORE_RANGES = new double[] {90.0D, 80.0D, 60.0D, 30.0D};public static int getGrade(double score) {  for (int i = 0; i &lt; SCORE_RANGES.length; i++) {    if (score &gt;= SCORE_RANGES[i]) {      return i + 1;     }   }  return SCORE_RANGES.length + 1;}</code></pre><p><br></p><p>æ€è€ƒï¼šä¸Šé¢çš„æ¡ˆä¾‹è¿”å›å€¼æ˜¯éå¢çš„ï¼Œæ‰€ä»¥ç”¨æ•¸çµ„ç°¡åŒ–æ˜¯æ²’æœ‰å•é¡Œçš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœè¿”å›å€¼ä¸æ˜¯éå¢çš„ï¼Œèƒ½å¦ç”¨æ•¸çµ„é€²è¡Œç°¡åŒ–å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œè«‹è‡ªè¡Œæ€è€ƒè§£æ±ºã€‚</p><p><br></p><h3 class=pgc-h-arrow-right><strong>6.2.åˆ©ç”¨ Map ç°¡åŒ–</strong></h3><p>å°æ–¼æ˜ å°„é—œä¿‚çš„ if-else èªå¥ï¼Œå¯ä»¥ç”¨Mapä¾†ç°¡åŒ–ã€‚æ­¤å¤–ï¼Œæ­¤è¦å‰‡åŒæ¨£é©ç”¨æ–¼ç°¡åŒ–æ˜ å°„é—œä¿‚çš„ switch èªå¥ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public static String getBiologyClass(String name) {  switch (name) {    case "dog" :       return "animal";     case "cat" :        return "animal";      case "lavender" :       return "plant";       ...       default :       return null;  }}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>private static final Map&lt;String, String&gt; BIOLOGY_CLASS_MAP  = ImmutableMap.&lt;String, String&gt;builder()   .put("dog", "animal")  .put("cat", "animal")  .put("lavender", "plant")   ...     .build();public static String getBiologyClass(String name) {  return BIOLOGY_CLASS_MAP.get(name);}</code></pre><p>å·²ç¶“æŠŠæ–¹æ³•ç°¡åŒ–ç‚ºä¸€è¡Œä»£ç¢¼ï¼Œå…¶å¯¦éƒ½æ²’æœ‰å°è£æ–¹æ³•çš„å¿…è¦äº†ã€‚</p><p><br></p><h3 class=pgc-h-arrow-right><strong>6.3.åˆ©ç”¨å®¹å™¨é¡ç°¡åŒ–</strong></h3><p>Java ä¸åƒ Python å’Œ Go ï¼Œæ–¹æ³•ä¸æ”¯æŒè¿”å›å¤šå€‹å°è±¡ã€‚å¦‚æœéœ€è¦è¿”å›å¤šå€‹å°è±¡ï¼Œå°±å¿…é ˆè‡ªå®šç¾©é¡ï¼Œæˆ–è€…åˆ©ç”¨å®¹å™¨é¡ã€‚å¸¸è¦‹çš„å®¹å™¨é¡æœ‰ Apache çš„ Pair é¡å’Œ Triple é¡ï¼Œ Pair é¡æ”¯æŒè¿”å› 2 å€‹å°è±¡ï¼Œ Triple é¡æ”¯æŒè¿”å› 3 å€‹å°è±¡ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>@Setter@Getter@ToString@AllArgsConstructorpublic static class PointAndDistance {  private Point point;  private Double distance;}public static PointAndDistance getNearest(Point point, Point[] points) {  // è¨ˆç®—æœ€è¿‘é»å’Œè·é›¢  ...    // è¿”å›æœ€è¿‘é»å’Œè·é›¢  return new PointAndDistance(nearestPoint, nearestDistance);}</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public static Pair&lt;Point, Double&gt; getNearest(Point point, Point[] points) {  // è¨ˆç®—æœ€è¿‘é»å’Œè·é›¢  ...   // è¿”å›æœ€è¿‘é»å’Œè·é›¢  return ImmutablePair.of(nearestPoint, nearestDistance);}</code></pre><h3 class=pgc-h-arrow-right><br></h3><h3 class=pgc-h-arrow-right><strong>6.4.åˆ©ç”¨ ThreadLocal ç°¡åŒ–</strong></h3><p>ThreadLocal æä¾›äº†ç·šç¨‹å°ˆæœ‰å°è±¡ï¼Œå¯ä»¥åœ¨æ•´å€‹ç·šç¨‹ç”Ÿå‘½é€±æœŸä¸­éš¨æ™‚å–ç”¨ï¼Œæ¥µå¤§åœ°æ–¹ä¾¿äº†ä¸€äº›é‚è¼¯çš„å¯¦ç¾ã€‚ç”¨ ThreadLocal ä¿å­˜ç·šç¨‹ä¸Šä¸‹æ–‡å°è±¡ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„åƒæ•¸å‚³éã€‚</p><p><strong>æ™®é€šï¼š</strong></p><p>ç”±æ–¼ DateFormat çš„ format æ–¹æ³•ç·šç¨‹éå®‰å…¨ï¼ˆå»ºè­°ä½¿ç”¨æ›¿ä»£æ–¹æ³•ï¼‰ï¼Œåœ¨ç·šç¨‹ä¸­é »ç¹åˆå§‹åŒ– DateFormat æ€§èƒ½å¤ªä½ï¼Œå¦‚æœè€ƒæ…®é‡ç”¨åªèƒ½ç”¨åƒæ•¸å‚³å…¥ DateFormat ã€‚ä¾‹å­å¦‚ä¸‹ï¼š</p><pre><code>public static String formatDate(Date date, DateFormat format) {  return format.format(date);}public static List&lt;String&gt; getDateList(Date minDate, Date maxDate, DateFormat format) {  List&lt;String&gt; dateList = new ArrayList&lt;&gt;();  Calendar calendar = Calendar.getInstance();  calendar.setTime(minDate);  String currDate = formatDate(calendar.getTime(), format);  String maxsDate = formatDate(maxDate, format);  while (currDate.compareTo(maxsDate) &lt;= 0) {    dateList.add(currDate);    calendar.add(Calendar.DATE, 1);    currDate = formatDate(calendar.getTime(), format);   }  return dateList;}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><p>å¯èƒ½ä½ æœƒè¦ºå¾—ä»¥ä¸‹çš„ä»£ç¢¼é‡åè€Œå¤šäº†ï¼Œå¦‚æœèª¿ç”¨å·¥å…·æ–¹æ³•çš„åœ°æ–¹æ¯”è¼ƒå¤šï¼Œå°±å¯ä»¥çœä¸‹ä¸€å¤§å † DateFormat åˆå§‹åŒ–å’Œå‚³å…¥åƒæ•¸çš„ä»£ç¢¼ã€‚</p><pre><code>private static final ThreadLocal&lt;DateFormat&gt; LOCAL_DATE_FORMAT = new ThreadLocal&lt;DateFormat&gt;() {  @Override  protected DateFormat initialValue() {     return new SimpleDateFormat("yyyyMMdd");  }};public static String formatDate(Date date) {    return LOCAL_DATE_FORMAT.get().format(date);}public static List&lt;String&gt; getDateList(Date minDate, Date maxDate) {    List&lt;String&gt; dateList = new ArrayList&lt;&gt;();    Calendar calendar = Calendar.getInstance();    calendar.setTime(minDate);    String currDate = formatDate(calendar.getTime());    String maxsDate = formatDate(maxDate);    while (currDate.compareTo(maxsDate) &lt;= 0) {        dateList.add(currDate);        calendar.add(Calendar.DATE, 1);        currDate = formatDate(calendar.getTime());    }    return dateList;}</code></pre><p>æ³¨æ„ï¼šThreadLocal æœ‰ä¸€å®šçš„å…§å­˜æ´©éœ²çš„é¢¨éšªï¼Œå„˜é‡åœ¨æ¥­å‹™ä»£ç¢¼çµæŸå‰èª¿ç”¨ remove æ–¹æ³•é€²è¡Œæ•¸æ“šæ¸…é™¤ã€‚</p><p><br></p><h2 class=pgc-h-arrow-right><strong>7.åˆ©ç”¨ Optional</strong></h2><hr><p>åœ¨ Java 8 è£¡ï¼Œå¼•å…¥äº†ä¸€å€‹ Optional é¡ï¼Œè©²é¡æ˜¯ä¸€å€‹å¯ä»¥ç‚º null çš„å®¹å™¨å°è±¡ã€‚</p><h3 class=pgc-h-arrow-right><strong>7.1.ä¿è­‰å€¼å­˜åœ¨</strong></h3><p><br></p><p><strong>æ™®é€šï¼š</strong></p><pre><code>Integer thisValue;if (Objects.nonNull(value)) {  thisValue = value;} else {  thisValue = DEFAULT_VALUE;}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>Integer thisValue = Optional.ofNullable(value).orElse(DEFAULT_VALUE);</code></pre><p><br></p><h3 class=pgc-h-arrow-right><strong>7.2.ä¿è­‰å€¼åˆæ³•</strong></h3><p><strong>æ™®é€šï¼š</strong></p><pre><code>Integer thisValue;if (Objects.nonNull(value) &amp;&amp; value.compareTo(MAX_VALUE) &lt;= 0) {  thisValue = value;} else {  thisValue = MAX_VALUE;}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>Integer thisValue = Optional.ofNullable(value)  .filter(tempValue -&gt; tempValue.compareTo(MAX_VALUE) &lt;= 0).orElse(MAX_VALUE);</code></pre><p>7.3.é¿å…ç©ºåˆ¤æ–·</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>String zipcode = null;if (Objects.nonNull(user)) {  Address address = user.getAddress();  if (Objects.nonNull(address)) {    Country country = address.getCountry();    if (Objects.nonNull(country)) {      zipcode = country.getZipcode();     }  }}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>tring zipcode = Optional.ofNullable(user).map(User::getAddress)  .map(Address::getCountry).map(Country::getZipcode).orElse(null);</code></pre><h2 class=pgc-h-arrow-right><strong>8.åˆ©ç”¨ Stream</strong></h2><hr><p>æµï¼ˆStreamï¼‰æ˜¯Java 8çš„æ–°æˆå“¡ï¼Œå…è¨±ä½ ä»¥è²æ˜å¼è™•ç†æ•¸æ“šé›†åˆï¼Œå¯ä»¥çœ‹æˆç‚ºä¸€å€‹éæ­·æ•¸æ“šé›†çš„é«˜ç´šè¿­ä»£å™¨ã€‚æµä¸»è¦æœ‰ä¸‰éƒ¨åˆ†æ§‹æˆï¼šç²å–ä¸€å€‹æ•¸æ“šæºâ†’æ•¸æ“šè½‰æ›â†’åŸ·è¡Œæ“ä½œç²å–æƒ³è¦çš„çµæœã€‚æ¯æ¬¡è½‰æ›åŸæœ‰ Stream å°è±¡ä¸æ”¹è®Šï¼Œè¿”å›ä¸€å€‹æ–°çš„ Stream å°è±¡ï¼Œé€™å°±å…è¨±å°å…¶æ“ä½œå¯ä»¥åƒéˆæ¢ä¸€æ¨£æ’åˆ—ï¼Œå½¢æˆäº†ä¸€å€‹ç®¡é“ã€‚æµï¼ˆStreamï¼‰æä¾›çš„åŠŸèƒ½éå¸¸æœ‰ç”¨ï¼Œä¸»è¦åŒ…æ‹¬åŒ¹é…ã€éæ¿¾ã€å½™ç¸½ã€è½‰åŒ–ã€åˆ†çµ„ã€åˆ†çµ„å½™ç¸½ç­‰åŠŸèƒ½ã€‚</p><h3 class=pgc-h-arrow-right><strong>8.1.åŒ¹é…é›†åˆæ•¸æ“š</strong></h3><p><strong>æ™®é€šï¼š</strong></p><pre><code>boolean isFound = false;for (UserDO user : userList) {   if (Objects.equals(user.getId(), userId)) {    isFound = true;    break;  }}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>boolean isFound = userList.stream()  .anyMatch(user -&gt; Objects.equals(user.getId(), userId));</code></pre><h2 class=pgc-h-arrow-right><br>8.2.éæ¿¾é›†åˆæ•¸æ“š</h2><p><strong>æ™®é€šï¼š</strong></p><pre><code>List&lt;UserDO&gt; resultList = new ArrayList&lt;&gt;();for (UserDO user : userList) {  if (Boolean.TRUE.equals(user.getIsSuper())) {    resultList.add(user);  }}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>List&lt;UserDO&gt; resultList = userList.stream()   .filter(user -&gt; Boolean.TRUE.equals(user.getIsSuper()))  .collect(Collectors.toList());</code></pre><h2 class=pgc-h-arrow-right><br>8.3.å½™ç¸½é›†åˆæ•¸æ“š</h2><p><strong>æ™®é€šï¼š</strong></p><pre><code>double total = 0.0D;for (Account account : accountList) {  total += account.getBalance();}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>double total = accountList.stream().mapToDouble(Account::getBalance).sum();</code></pre><p><br></p><h2 class=pgc-h-arrow-right>8.4.è½‰åŒ–é›†åˆæ•¸æ“š</h2><p><br></p><p><strong>æ™®é€šï¼š</strong></p><pre><code>List&lt;UserVO&gt; userVOList = new ArrayList&lt;&gt;();for (UserDO userDO : userDOList) {  userVOList.add(transUser(userDO));}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>List&lt;UserVO&gt; userVOList = userDOList.stream()  .map(this::transUser).collect(Collectors.toList());</code></pre><h3 class=pgc-h-arrow-right><strong>8.5.åˆ†çµ„é›†åˆæ•¸æ“š</strong></h3><p><strong>æ™®é€šï¼š</strong></p><pre><code>Map&lt;Long, List&lt;UserDO&gt;&gt; roleUserMap = new HashMap&lt;&gt;();for (UserDO userDO : userDOList) {  roleUserMap.computeIfAbsent(userDO.getRoleId(), key -&gt; new ArrayList&lt;&gt;())    .add(userDO);}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><p>Map&lt;Long, List&lt;UserDO>> roleUserMap = userDOList.stream()<br>.collect(Collectors.groupingBy(UserDO::getRoleId));</p><h2 class=pgc-h-arrow-right><br>8.6.åˆ†çµ„å½™ç¸½é›†åˆ</h2><p><strong>æ™®é€šï¼š</strong></p><pre><code>Map&lt;Long, Double&gt; roleTotalMap = new HashMap&lt;&gt;();for (Account account : accountList) {  Long roleId = account.getRoleId();   Double total = Optional.ofNullable(roleTotalMap.get(roleId)).orElse(0.0D);  roleTotalMap.put(roleId, total + account.getBalance());}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>roleTotalMap = accountList.stream()  .collect(Collectors.groupingBy(Account::getRoleId, Collectors.summingDouble(Account::getBalance)));</code></pre><p><br></p><h2 class=pgc-h-arrow-right>8.7.ç”Ÿæˆç¯„åœé›†åˆ</h2><p><br></p><p>Python çš„ range éå¸¸æ–¹ä¾¿ï¼ŒStream ä¹Ÿæä¾›äº†é¡ä¼¼çš„æ–¹æ³•ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>int[] array1 = new int[N];for (int i = 0; i &lt; N; i++) {  array1[i] = i + 1;}int[] array2 = new int[N];array2[0] = 1;for (int i = 1; i &lt; N; i++) {  array2[i] = array2[i - 1] * 2;}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>int[] array1 = IntStream.rangeClosed(1, N).toArray();int[] array2 = IntStream.iterate(1, n -&gt; n * 2).limit(N).toArray();</code></pre><h2 class=pgc-h-arrow-right><strong>9.åˆ©ç”¨ç¨‹åºçµæ§‹</strong></h2><hr><h3 class=pgc-h-arrow-right><strong>9.1.è¿”å›æ¢ä»¶è¡¨é”å¼</strong></h3><p>æ¢ä»¶è¡¨é”å¼åˆ¤æ–·è¿”å›å¸ƒçˆ¾å€¼ï¼Œæ¢ä»¶è¡¨é”å¼æœ¬èº«å°±æ˜¯çµæœã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public boolean isSuper(Long userId)    UserDO user = userDAO.get(userId);if (Objects.nonNull(user) &amp;&amp; Boolean.TRUE.equals(user.getIsSuper())) {  return true; } return false;}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public boolean isSuper(Long userId){  UserDO user = userDAO.get(userId);   return Objects.nonNull(user) &amp;&amp; Boolean.TRUE.equals(user.getIsSuper());}</code></pre><h2 class=pgc-h-arrow-right><br>9.2.æœ€å°åŒ–æ¢ä»¶ä½œç”¨åŸŸ</h2><p>æœ€å°åŒ–æ¢ä»¶ä½œç”¨åŸŸï¼Œå„˜é‡æå‡ºå…¬å…±è™•ç†ä»£ç¢¼ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>Result result = summaryService.reportWorkDaily(workDaily);if (result.isSuccess()) {  String message = "ä¸Šå ±å·¥ä½œæ—¥å ±æˆåŠŸ";   dingtalkService.sendMessage(user.getPhone(), message);} else {  String message = "ä¸Šå ±å·¥ä½œæ—¥å ±å¤±æ•—:" + result.getMessage();  log.warn(message);  dingtalkService.sendMessage(user.getPhone(), message);}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>String message;Result result = summaryService.reportWorkDaily(workDaily);if (result.isSuccess()) {  message = "ä¸Šå ±å·¥ä½œæ—¥å ±æˆåŠŸ";} else {  message = "ä¸Šå ±å·¥ä½œæ—¥å ±å¤±æ•—:" + result.getMessage();  log.warn(message);}dingtalkService.sendMessage(user.getPhone(), message);}</code></pre><h3 class=pgc-h-arrow-right><strong>9.3.èª¿æ•´è¡¨é”å¼ä½ç½®</strong></h3><p>èª¿æ•´è¡¨é”å¼ä½ç½®ï¼Œåœ¨é‚è¼¯ä¸è®Šçš„å‰æä¸‹ï¼Œè®“ä»£ç¢¼è®Šå¾—æ›´ç°¡æ½”ã€‚</p><p><strong>æ™®é€š1ï¼š</strong></p><pre><code>String line = readLine();while (Objects.nonNull(line)) {    ... // è™•ç†é‚è¼¯ä»£ç¢¼    line = readLine();}</code></pre><p><strong>æ™®é€š2ï¼š</strong></p><pre><code>for (String line = readLine(); Objects.nonNull(line); line = readLine()) {    ... // è™•ç†é‚è¼¯ä»£ç¢¼}</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>String line;while (Objects.nonNull(line = readLine())) {    ... // è™•ç†é‚è¼¯ä»£ç¢¼}</code></pre><p>æ³¨æ„ï¼šæœ‰äº›è¦ç¯„å¯èƒ½ä¸å»ºè­°é€™ç¨®ç²¾ç°¡å¯«æ³•ã€‚</p><h3 class=pgc-h-arrow-right><strong>9.4.åˆ©ç”¨éç©ºå°è±¡</strong></h3><p>åœ¨æ¯”è¼ƒå°è±¡æ™‚ï¼Œäº¤æ›å°è±¡ä½ç½®ï¼Œåˆ©ç”¨éç©ºå°è±¡ï¼Œå¯ä»¥é¿å…ç©ºæŒ‡é‡åˆ¤æ–·ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>private static final int MAX_VALUE = 1000;boolean isMax = (value != null &amp;&amp; value.equals(MAX_VALUE));boolean isTrue = (result != null &amp;&amp; result.equals(Boolean.TRUE));</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>private static final Integer MAX_VALUE = 1000;boolean isMax = MAX_VALUE.equals(value);boolean isTrue = Boolean.TRUE.equals(result);</code></pre><h2 class=pgc-h-arrow-right><strong>10.åˆ©ç”¨è¨­è¨ˆæ¨¡å¼</strong></h2><hr><p><strong>10.1.æ¨¡æ¿æ–¹æ³•æ¨¡å¼</strong></p><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Method Patternï¼‰å®šç¾©ä¸€å€‹å›ºå®šçš„ç®—æ³•æ¡†æ¶ï¼Œè€Œå°‡ç®—æ³•çš„ä¸€äº›æ­¥é©Ÿæ”¾åˆ°å­é¡ä¸­å¯¦ç¾ï¼Œä½¿å¾—å­é¡å¯ä»¥åœ¨ä¸æ”¹è®Šç®—æ³•æ¡†æ¶çš„æƒ…æ³ä¸‹é‡å®šç¾©è©²ç®—æ³•çš„æŸäº›æ­¥é©Ÿã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>@Repositorypublic class UserValue {  /** å€¼æ“ä½œ */  @Resource(name = "stringRedisTemplate")   private ValueOperations&lt;String, String&gt; valueOperations;/** å€¼æ¨¡å¼ */private static final String KEY_FORMAT = "Value:User:%s";/** è¨­ç½®å€¼ */public void set(Long id, UserDO value) {  String key = String.format(KEY_FORMAT, id);  valueOperations.set(key, JSON.toJSONString(value));} /** ç²å–å€¼ */ public UserDO get(Long id) {   String key = String.format(KEY_FORMAT, id);  String value = valueOperations.get(key);  return JSON.parseObject(value, UserDO.class); } ...}@Repositorypublic class RoleValue {  /** å€¼æ“ä½œ */  @Resource(name = "stringRedisTemplate")  private ValueOperations&lt;String, String&gt; valueOperations;/** å€¼æ¨¡å¼ */private static final String KEY_FORMAT = "Value:Role:%s";/** è¨­ç½®å€¼ */ public void set(Long id, RoleDO value) {  String key = String.format(KEY_FORMAT, id);  valueOperations.set(key, JSON.toJSONString(value));} /** ç²å–å€¼ */ public RoleDO get(Long id) {  String key = String.format(KEY_FORMAT, id);   String value = valueOperations.get(key);  return JSON.parseObject(value, RoleDO.class);}...}</code></pre><p><br><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public abstract class AbstractDynamicValue&lt;I, V&gt; {  /** å€¼æ“ä½œ */  @Resource(name = "stringRedisTemplate")  private ValueOperations&lt;String, String&gt; valueOperations; /** è¨­ç½®å€¼ */ public void set(I id, V value) {  valueOperations.set(getKey(id), JSON.toJSONString(value));}/** ç²å–å€¼ */public V get(I id) {  return JSON.parseObject(valueOperations.get(getKey(id)), getValueClass());}... /** ç²å–ä¸»éµ */ protected abstract String getKey(I id);/** ç²å–å€¼é¡ */protected abstract Class&lt;V&gt; getValueClass();}@Repositorypublic class UserValue extends AbstractValue&lt;Long, UserDO&gt; {    /** ç²å–ä¸»éµ */    @Override    protected String getKey(Long id) {        return String.format("Value:User:%s", id);    }    /** ç²å–å€¼é¡ */    @Override    protected Class&lt;UserDO&gt; getValueClass() {        return UserDO.class;    }}@Repositorypublic class RoleValue extends AbstractValue&lt;Long, RoleDO&gt; {    /** ç²å–ä¸»éµ */    @Override    protected String getKey(Long id) {        return String.format("Value:Role:%s", id);    }    /** ç²å–å€¼é¡ */    @Override    protected Class&lt;RoleDO&gt; getValueClass() {        return RoleDO.class;    }}</code></pre><h3 class=pgc-h-arrow-right><strong>10.2.å»ºé€ è€…æ¨¡å¼</strong></h3><p>å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰å°‡ä¸€å€‹è¤‡é›œå°è±¡çš„æ§‹é€ èˆ‡å®ƒçš„è¡¨ç¤ºåˆ†é›¢ï¼Œä½¿åŒæ¨£çš„æ§‹å»ºéç¨‹å¯ä»¥å‰µå»ºä¸åŒçš„è¡¨ç¤ºï¼Œé€™æ¨£çš„è¨­è¨ˆæ¨¡å¼è¢«ç¨±ç‚ºå»ºé€ è€…æ¨¡å¼ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public interface DataHandler&lt;T&gt; {   /** è§£ææ•¸æ“š */  public T parseData(Record record); /** å­˜å„²æ•¸æ“š */public boolean storeData(List&lt;T&gt; dataList);}public &lt;T&gt; long executeFetch(String tableName, int batchSize, DataHandler&lt;T&gt; dataHandler) throws Exception {  // æ§‹å»ºä¸‹è¼‰æœƒè©±  DownloadSession session = buildSession(tableName);  // ç²å–æ•¸æ“šæ•¸é‡  long recordCount = session.getRecordCount();  if (recordCount == 0) {    return 0;  }  // é€²è¡Œæ•¸æ“šè®€å–  long fetchCount = 0L;   try (RecordReader reader = session.openRecordReader(0L, recordCount, true)) {    // ä¾æ¬¡è®€å–æ•¸æ“š    Record record;     List&lt;T&gt; dataList = new ArrayList&lt;&gt;(batchSize);     while ((record = reader.read()) != null) {      // è§£ææ·»åŠ æ•¸æ“š      T data = dataHandler.parseData(record);      if (Objects.nonNull(data)) {         dataList.add(data);        }       // æ‰¹é‡å­˜å„²æ•¸æ“š        if (dataList.size() == batchSize) {        boolean isContinue = dataHandler.storeData(dataList);         fetchCount += batchSize;         dataList.clear();          if (!isContinue) {          break;         }        }     }     // å­˜å„²å‰©é¤˜æ•¸æ“š    if (CollectionUtils.isNotEmpty(dataList)) {      dataHandler.storeData(dataList);      fetchCount += dataList.size();       dataList.clear();    }  }   // è¿”å›ç²å–æ•¸é‡  return fetchCount;}// ä½¿ç”¨æ¡ˆä¾‹long fetchCount = odpsService.executeFetch("user", 5000, new DataHandler() {                                           /** è§£ææ•¸æ“š */                    @Override                   public T parseData(Record record) {                      UserDO user = new UserDO();                      user.setId(record.getBigint("id"));                      user.setName(record.getString("name"));                      return user;                    }                    /** å­˜å„²æ•¸æ“š */                    @Override                    public boolean storeData(List&lt;T&gt; dataList) {                        userDAO.batchInsert(dataList);                        return true;                    }});</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public &lt;T&gt; long executeFetch(String tableName, int batchSize, Function&lt;Record, T&gt; dataParser, Function&lt;List&lt;T&gt;, Boolean&gt; dataStorage) throws Exception {    // æ§‹å»ºä¸‹è¼‰æœƒè©±    DownloadSession session = buildSession(tableName);    // ç²å–æ•¸æ“šæ•¸é‡    long recordCount = session.getRecordCount();    if (recordCount == 0) {        return 0;    }    // é€²è¡Œæ•¸æ“šè®€å–    long fetchCount = 0L;    try (RecordReader reader = session.openRecordReader(0L, recordCount, true)) {        // ä¾æ¬¡è®€å–æ•¸æ“š        Record record;        List&lt;T&gt; dataList = new ArrayList&lt;&gt;(batchSize);        while ((record = reader.read()) != null) {            // è§£ææ·»åŠ æ•¸æ“š            T data = dataParser.apply(record);            if (Objects.nonNull(data)) {                dataList.add(data);            }            // æ‰¹é‡å­˜å„²æ•¸æ“š            if (dataList.size() == batchSize) {                Boolean isContinue = dataStorage.apply(dataList);                fetchCount += batchSize;                dataList.clear();                if (!Boolean.TRUE.equals(isContinue)) {                    break;                }            }        }        // å­˜å„²å‰©é¤˜æ•¸æ“š        if (CollectionUtils.isNotEmpty(dataList)) {            dataStorage.apply(dataList);            fetchCount += dataList.size();            dataList.clear();        }    }    // è¿”å›ç²å–æ•¸é‡    return fetchCount;} // ä½¿ç”¨æ¡ˆä¾‹long fetchCount = odpsService.executeFetch("user", 5000, record -&gt; {        UserDO user = new UserDO();        user.setId(record.getBigint("id"));        user.setName(record.getString("name"));        return user;    }, dataList -&gt; {        userDAO.batchInsert(dataList);        return true;    });</code></pre><p><br></p><p>æ™®é€šçš„å»ºé€ è€…æ¨¡å¼ï¼Œå¯¦ç¾æ™‚éœ€è¦å®šç¾© DataHandler æ¥å£ï¼Œèª¿ç”¨æ™‚éœ€è¦å¯¦ç¾ DataHandler åŒ¿åå…§éƒ¨é¡ï¼Œä»£ç¢¼è¼ƒå¤šè¼ƒç¹ç‘£ã€‚è€Œç²¾ç°¡å¾Œçš„å»ºé€ è€…æ¨¡å¼ï¼Œå……åˆ†åˆ©ç”¨äº†å‡½æ•¸å¼ç·¨ç¨‹ï¼Œå¯¦ç¾æ™‚ç„¡éœ€å®šç¾©æ¥å£ï¼Œç›´æ¥ä½¿ç”¨ Function æ¥å£ï¼›èª¿ç”¨æ™‚ç„¡éœ€å¯¦ç¾åŒ¿åå…§éƒ¨é¡ï¼Œç›´æ¥æ¡ç”¨ lambda è¡¨é”å¼ï¼Œä»£ç¢¼è¼ƒå°‘è¼ƒç°¡æ½”ã€‚</p><h3 class=pgc-h-arrow-right><strong>10.3.ä»£ç†æ¨¡å¼</strong></h3><p>Spring ä¸­æœ€é‡è¦çš„ä»£ç†æ¨¡å¼å°±æ˜¯ AOP (Aspect-Oriented Programmingï¼Œé¢å‘åˆ‡é¢çš„ç·¨ç¨‹)ï¼Œæ˜¯ä½¿ç”¨ JDK å‹•æ…‹ä»£ç†å’Œ CGLIB å‹•æ…‹ä»£ç†æŠ€è¡“ä¾†å¯¦ç¾çš„ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>@Slf4j@RestController@RequestMapping("/user")public class UserController {    /** ç”¨æˆ¶æœå‹™ */    @Autowired    private UserService userService;    /** æŸ¥è©¢ç”¨æˆ¶ */    @PostMapping("/queryUser")    public Result&lt;?&gt; queryUser(@RequestBody @Valid UserQueryVO query) {        try {            PageDataVO&lt;UserVO&gt; pageData = userService.queryUser(query);            return Result.success(pageData);        } catch (Exception e) {            log.error(e.getMessage(), e);            return Result.failure(e.getMessage());        }    }    ...}</code></pre><p><br></p><p><strong>ç²¾ç°¡1ï¼š</strong></p><p><br></p><p>åŸºæ–¼ @ControllerAdvice çš„ç•°å¸¸è™•ç†ï¼š</p><pre><code>@RestController@RequestMapping("/user")public class UserController {    /** ç”¨æˆ¶æœå‹™ */    @Autowired    private UserService userService;    /** æŸ¥è©¢ç”¨æˆ¶ */    @PostMapping("/queryUser")    public Result&lt;PageDataVO&lt;UserVO&gt;&gt; queryUser(@RequestBody @Valid UserQueryVO query) {        PageDataVO&lt;UserVO&gt; pageData = userService.queryUser(query);        return Result.success(pageData);    }    ...}@Slf4j@ControllerAdvicepublic class GlobalControllerAdvice {    /** è™•ç†ç•°å¸¸ */    @ResponseBody    @ExceptionHandler(Exception.class)    public Result&lt;Void&gt; handleException(Exception e) {        log.error(e.getMessage(), e);        return Result.failure(e.getMessage());    }}</code></pre><p><br></p><p><strong>ç²¾ç°¡2ï¼š</strong></p><p><br></p><p>åŸºæ–¼ AOP çš„ç•°å¸¸è™•ç†ï¼š</p><pre><code>// UserControllerä»£ç¢¼åŒ"ç²¾ç°¡1"@Slf4j@Aspectpublic class WebExceptionAspect {    /** é»åˆ‡é¢ */    @Pointcut("@annotation(org.springframework.web.bind.annotation.RequestMapping)")    private void webPointcut() {}    /** è™•ç†ç•°å¸¸ */    @AfterThrowing(pointcut = "webPointcut()", throwing = "e")    public void handleException(Exception e) {        Result&lt;Void&gt; result = Result.failure(e.getMessage());        writeContent(JSON.toJSONString(result));    }    ...}</code></pre><p><br></p><h2 class=pgc-h-arrow-right><strong>11.åˆ©ç”¨åˆªé™¤ä»£ç¢¼</strong></h2><hr><p>â€œå°‘å³æ˜¯å¤šâ€ï¼Œâ€œå°‘â€ä¸æ˜¯ç©ºç™½è€Œæ˜¯ç²¾ç°¡ï¼Œâ€œå¤šâ€ä¸æ˜¯æ“æ“ è€Œæ˜¯å®Œç¾ã€‚åˆªé™¤å¤šé¤˜çš„ä»£ç¢¼ï¼Œæ‰èƒ½ä½¿ä»£ç¢¼æ›´ç²¾ç°¡æ›´å®Œç¾ã€‚</p><h3 class=pgc-h-arrow-right><strong>11.1.åˆªé™¤å·²å»¢æ£„çš„ä»£ç¢¼</strong></h3><p>åˆªé™¤é …ç›®ä¸­çš„å·²å»¢æ£„çš„åŒ…ã€é¡ã€å­—æ®µã€æ–¹æ³•ã€è®Šé‡ã€å¸¸é‡ã€å°å…¥ã€è¨»è§£ã€è¨»é‡‹ã€å·²è¨»é‡‹ä»£ç¢¼ã€MavenåŒ…å°å…¥ã€MyBatisçš„SQLèªå¥ã€å±¬æ€§é…ç½®å­—æ®µç­‰ï¼Œå¯ä»¥ç²¾ç°¡é …ç›®ä»£ç¢¼ä¾¿æ–¼ç¶­è­·ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>import lombok.extern.slf4j.Slf4j;@Slf4j@Servicepublic class ProductService {    @Value("discardRate")    private double discardRate;    ...    private ProductVO transProductDO(ProductDO productDO) {        ProductVO productVO = new ProductVO();        BeanUtils.copyProperties(productDO, productVO);        // productVO.setPrice(getDiscardPrice(productDO.getPrice()));        return productVO;    }    private BigDecimal getDiscardPrice(BigDecimal originalPrice) {        ...    }}</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>@Servicepublic class ProductService {    ...    private ProductVO transProductDO(ProductDO productDO) {        ProductVO productVO = new ProductVO();        BeanUtils.copyProperties(productDO, productVO);        return productVO;    }}11.2.åˆªé™¤æ¥å£æ–¹æ³•çš„publicå°æ–¼æ¥å£(interface)ï¼Œæ‰€æœ‰çš„å­—æ®µå’Œæ–¹æ³•éƒ½æ˜¯publicçš„ï¼Œå¯ä»¥ä¸ç”¨é¡¯å¼è²æ˜ç‚ºpublicã€‚æ™®é€šï¼špublic interface UserDAO {    public Long countUser(@Param("query") UserQuery query);    public List&lt;UserDO&gt; queryUser(@Param("query") UserQuery query);}</code></pre><pre><code></code></pre><h3 class=pgc-h-arrow-right><strong>11.2.åˆªé™¤æ¥å£æ–¹æ³•çš„public</strong></h3><p>å°æ–¼æ¥å£(interface)ï¼Œæ‰€æœ‰çš„å­—æ®µå’Œæ–¹æ³•éƒ½æ˜¯ public çš„ï¼Œå¯ä»¥ä¸ç”¨é¡¯å¼è²æ˜ç‚º public ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public interface UserDAO {    public Long countUser(@Param("query") UserQuery query);    public List&lt;UserDO&gt; queryUser(@Param("query") UserQuery query);}</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public interface UserDAO {    Long countUser(@Param("query") UserQuery query);    List&lt;UserDO&gt; queryUser(@Param("query") UserQuery query);}</code></pre><h3 class=pgc-h-arrow-right><br></h3><h3 class=pgc-h-arrow-right><strong>11.3.åˆªé™¤æšèˆ‰æ§‹é€ æ–¹æ³•çš„ private</strong></h3><p>å°æ–¼æšèˆ‰(menu)ï¼Œæ§‹é€ æ–¹æ³•éƒ½æ˜¯ private çš„ï¼Œå¯ä»¥ä¸ç”¨é¡¯å¼è²æ˜ç‚º private ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public enum UserStatus {    DISABLED(0, "ç¦ç”¨"),    ENABLED(1, "å•Ÿç”¨");  private final Integer value;    private final String desc;    private UserStatus(Integer value, String desc) {        this.value = value;        this.desc = desc;    }    ...}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public enum UserStatus {    DISABLED(0, "ç¦ç”¨"),    ENABLED(1, "å•Ÿç”¨");    private final Integer value;    private final String desc;    UserStatus(Integer value, String desc) {        this.value = value;        this.desc = desc;    }    ...}</code></pre><h3 class=pgc-h-arrow-right><br></h3><h3 class=pgc-h-arrow-right><strong>11.4.åˆªé™¤ final é¡æ–¹æ³•çš„ final</strong></h3><p>å°æ–¼ final é¡ï¼Œä¸èƒ½è¢«å­é¡ç¹¼æ‰¿ï¼Œæ‰€ä»¥å…¶æ–¹æ³•ä¸æœƒè¢«è¦†è“‹ï¼Œæ²’æœ‰å¿…è¦æ·»åŠ  final ä¿®é£¾ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public final Rectangle implements Shape {    ...    @Override    public final double getArea() {        return width * height;    }}</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public final Rectangle implements Shape {    ...    @Override    public double getArea() {        return width * height;    }}</code></pre><h3 class=pgc-h-arrow-right><br></h3><h3 class=pgc-h-arrow-right><strong>11.5.åˆªé™¤åŸºé¡ implements çš„æ¥å£</strong></h3><p>å¦‚æœåŸºé¡å·² implements æŸæ¥å£ï¼Œå­é¡æ²’æœ‰å¿…è¦å† implements è©²æ¥å£ï¼Œåªéœ€è¦ç›´æ¥å¯¦ç¾æ¥å£æ–¹æ³•å³å¯ã€‚</p><p><br></p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public interface Shape {    ...    double getArea();}public abstract AbstractShape implements Shape {    ...}public final Rectangle extends AbstractShape implements Shape {    ...    @Override    public double getArea() {        return width * height;    }}</code></pre><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>...public final Rectangle extends AbstractShape {    ...    @Override    public double getArea() {        return width * height;    }}</code></pre><h3 class=pgc-h-arrow-right><br></h3><h3 class=pgc-h-arrow-right><strong>11.6.åˆªé™¤ä¸å¿…è¦çš„è®Šé‡</strong></h3><p>ä¸å¿…è¦çš„è®Šé‡ï¼Œåªæœƒè®“ä»£ç¢¼çœ‹èµ·ä¾†æ›´ç¹ç‘£ã€‚</p><p><strong>æ™®é€šï¼š</strong></p><pre><code>public Boolean existsUser(Long userId) {    Boolean exists = userDAO.exists(userId);    return exists;}</code></pre><p><br></p><p><strong>ç²¾ç°¡ï¼š</strong></p><pre><code>public Boolean existsUser(Long userId) {    return userDAO.exists(userId);}</code></pre><h2 class=pgc-h-arrow-right><strong>å¾Œè¨˜</strong></h2><hr><p><br></p><p>å¤èªåˆäº‘ï¼š</p><blockquote><p>æœ‰é“ç„¡è¡“ï¼Œè¡“å°šå¯æ±‚ä¹Ÿï¼›æœ‰è¡“ç„¡é“ï¼Œæ­¢æ–¼è¡“ã€‚</p></blockquote><p>æ„æ€æ˜¯ï¼šæœ‰â€œé“â€è€Œç„¡â€œè¡“â€ï¼Œâ€œè¡“â€é‚„å¯ä»¥é€æ¼¸ç²å¾—ï¼›æœ‰â€œè¡“â€è€Œç„¡â€œé“â€ï¼Œå°±å¯èƒ½æ­¢æ­¥æ–¼â€œè¡“â€äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘å€‘ä¸è¦åƒ…æ»¿è¶³æ–¼å¾å¯¦è¸ä¸­ç¸½çµâ€œè¡“â€ï¼Œå› ç‚ºâ€œé“â€çš„è¡¨ç¾å½¢å¼æ˜¯å¤šè®Šçš„ï¼›è€Œæ‡‰è©²ä¸Šå‡åˆ°â€œé“â€çš„é«˜åº¦ï¼Œå› ç‚ºâ€œè¡“â€èƒŒå¾Œçš„é“ç†æ˜¯ç›¸é€šçš„ã€‚ç•¶é‡åˆ°æ–°çš„äº‹ç‰©æ™‚ï¼Œæˆ‘å€‘å¯ä»¥å¾ç†è«–ä¸­æ‰¾åˆ°â€œé“â€ã€å¾å¯¦è¸ä¸­æ‰¾å‡ºâ€œè¡“â€ï¼Œå˜—è©¦è‘—å»èªçŸ¥æ–°çš„äº‹ç‰©ã€‚</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>ç¤ºä¾‹</a></li><li><a>è‡³ç°¡</a></li><li><a>Java</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/48f7c5e6.html alt=Javaå·¥å…·é¡æ•™ç¨‹ï¼šè©³è§£æ­£å‰‡è¡¨é”å¼åŠæ‡‰ç”¨ç¤ºä¾‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/4002000140fde581089b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/48f7c5e6.html title=Javaå·¥å…·é¡æ•™ç¨‹ï¼šè©³è§£æ­£å‰‡è¡¨é”å¼åŠæ‡‰ç”¨ç¤ºä¾‹>Javaå·¥å…·é¡æ•™ç¨‹ï¼šè©³è§£æ­£å‰‡è¡¨é”å¼åŠæ‡‰ç”¨ç¤ºä¾‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/115806c0.html alt=Javaæ­£å‰‡è¡¨é”å¼æ•™ç¨‹åŠç¤ºä¾‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/07559bf8adcd496d8267aad619be8a94 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/115806c0.html title=Javaæ­£å‰‡è¡¨é”å¼æ•™ç¨‹åŠç¤ºä¾‹>Javaæ­£å‰‡è¡¨é”å¼æ•™ç¨‹åŠç¤ºä¾‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/971dc36b.html alt="Javaé›†åˆ - TreeSetè©³è§£å’Œä½¿ç”¨ç¤ºä¾‹" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/f01f6ccf89994943be8d054a21c1a3fe style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/971dc36b.html title="Javaé›†åˆ - TreeSetè©³è§£å’Œä½¿ç”¨ç¤ºä¾‹">Javaé›†åˆ - TreeSetè©³è§£å’Œä½¿ç”¨ç¤ºä¾‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/48ba24d7.html alt=æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/3c5e0002a8059c1311aa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/48ba24d7.html title=æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£>æ·±å…¥æ·ºå‡ºï¼šJavaäº‹å‹™åŸç†å’Œæ‡‰ç”¨å…¼JDBCäº‹å‹™è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b8bda645.html alt=ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b471807e699b44c2b1dedc580ea3f3af style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b8bda645.html title=ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£>ã€ŒJavaã€éš¨æ©Ÿæ•¸è©³è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/816b04b7.html alt=å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/816b04b7.html title=å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ†>å¾JVMå±¤é¢å¸¶ä½ åˆ†æJavaçš„Objecté¡æºç¢¼ç¬¬ä¸€éƒ¨åˆ†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html alt="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9d3b0e55813d46b4982ae7d9b81d1802 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cf633068.html title="Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½">Java å¤šæ…‹çš„å¯¦ç¾æ©Ÿåˆ¶ï¼Œçœ‹äº†éƒ½èªªå¥½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/12498348.html alt="Java ç·¨è­¯æ™‚å¤šæ…‹å’Œé‹è¡Œæ™‚å¤šæ…‹" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1531535784468c357213ffe style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/12498348.html title="Java ç·¨è­¯æ™‚å¤šæ…‹å’Œé‹è¡Œæ™‚å¤šæ…‹">Java ç·¨è­¯æ™‚å¤šæ…‹å’Œé‹è¡Œæ™‚å¤šæ…‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d60e504d.html alt=JavaåŸºç¤ä¹‹å¤šæ…‹ï¼Œå‹•æ…‹ç¶å®šå¤šæ…‹çš„ä»£ç¢¼æ¡ˆä¾‹ï¼Œç°¡å–®å»å¾ˆé‡è¦ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ab338c7287fe4649a96227987579c844 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d60e504d.html title=JavaåŸºç¤ä¹‹å¤šæ…‹ï¼Œå‹•æ…‹ç¶å®šå¤šæ…‹çš„ä»£ç¢¼æ¡ˆä¾‹ï¼Œç°¡å–®å»å¾ˆé‡è¦>JavaåŸºç¤ä¹‹å¤šæ…‹ï¼Œå‹•æ…‹ç¶å®šå¤šæ…‹çš„ä»£ç¢¼æ¡ˆä¾‹ï¼Œç°¡å–®å»å¾ˆé‡è¦</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bb876e43.html alt=Javaç‰¹æ€§ä¹‹ä¸€ï¼šå¤šæ…‹è©³è§£ï¼Œå­¸javaä¸æ±‚äºº class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/39a700034bab2e1401a3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bb876e43.html title=Javaç‰¹æ€§ä¹‹ä¸€ï¼šå¤šæ…‹è©³è§£ï¼Œå­¸javaä¸æ±‚äºº>Javaç‰¹æ€§ä¹‹ä¸€ï¼šå¤šæ…‹è©³è§£ï¼Œå­¸javaä¸æ±‚äºº</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/234d55fa.html alt=Javaé–‹ç™¼èª²ç¨‹ï¼ˆåï¼‰â€”â€”é¢å‘å°è±¡5ã€å¤šæ…‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/df3621e51e4242fd90731dd013472f12 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/234d55fa.html title=Javaé–‹ç™¼èª²ç¨‹ï¼ˆåï¼‰â€”â€”é¢å‘å°è±¡5ã€å¤šæ…‹>Javaé–‹ç™¼èª²ç¨‹ï¼ˆåï¼‰â€”â€”é¢å‘å°è±¡5ã€å¤šæ…‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/96d2083b.html alt=ã€ŒJavaä¸‰åˆ†é˜ã€Javaä¸‰å¤§ç‰¹æ€§â€”â€”å¤šæ…‹ç†è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/6a9b8965-0a4c-4cb4-9389-6cbbda0e9d93 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/96d2083b.html title=ã€ŒJavaä¸‰åˆ†é˜ã€Javaä¸‰å¤§ç‰¹æ€§â€”â€”å¤šæ…‹ç†è§£>ã€ŒJavaä¸‰åˆ†é˜ã€Javaä¸‰å¤§ç‰¹æ€§â€”â€”å¤šæ…‹ç†è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b96b5bf9.html alt=å¦‚ä½•æ­£ç¢ºèªè­˜Javaå¤šæ…‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d2896b2f39694d39957b901a62cfe7fb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b96b5bf9.html title=å¦‚ä½•æ­£ç¢ºèªè­˜Javaå¤šæ…‹>å¦‚ä½•æ­£ç¢ºèªè­˜Javaå¤šæ…‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8a7023ee.html alt="Java å¸¸è¦‹çš„49å€‹éŒ¯èª¤åŠé¿å…æ–¹æ³•ï¼ç¿»è­¯ä½œæ¥­ï¼šç¢¼è¾²ç¶²-å°å³°" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/3c5a0001a9e3fd1b8a13 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8a7023ee.html title="Java å¸¸è¦‹çš„49å€‹éŒ¯èª¤åŠé¿å…æ–¹æ³•ï¼ç¿»è­¯ä½œæ¥­ï¼šç¢¼è¾²ç¶²-å°å³°">Java å¸¸è¦‹çš„49å€‹éŒ¯èª¤åŠé¿å…æ–¹æ³•ï¼ç¿»è­¯ä½œæ¥­ï¼šç¢¼è¾²ç¶²-å°å³°</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/adc31f83.html alt=Javaé¢è©¦çŸ¥è­˜é»ç¸½çµâ‘¥â€”â€”ç®—æ³•èˆ‡æ•¸æ“šçµæ§‹_ä¸€é»èª²å ‚ï¼ˆå¤šå²¸å­¸é™¢ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/68ac43b98fa343f2874d08bacae73ee8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/adc31f83.html title=Javaé¢è©¦çŸ¥è­˜é»ç¸½çµâ‘¥â€”â€”ç®—æ³•èˆ‡æ•¸æ“šçµæ§‹_ä¸€é»èª²å ‚ï¼ˆå¤šå²¸å­¸é™¢ï¼‰>Javaé¢è©¦çŸ¥è­˜é»ç¸½çµâ‘¥â€”â€”ç®—æ³•èˆ‡æ•¸æ“šçµæ§‹_ä¸€é»èª²å ‚ï¼ˆå¤šå²¸å­¸é™¢ï¼‰</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>