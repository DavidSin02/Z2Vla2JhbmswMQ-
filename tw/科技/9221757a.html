<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Android矢量圖Vector Drawable使用及適配 | 极客快訊</title><meta property="og:title" content="Android矢量圖Vector Drawable使用及適配 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9221757a.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9221757a.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9221757a.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9221757a.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9221757a.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9221757a.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9221757a.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9221757a.html><meta property="article:published_time" content="2020-10-29T21:08:52+08:00"><meta property="article:modified_time" content="2020-10-29T21:08:52+08:00"><meta name=Keywords content><meta name=description content="Android矢量圖Vector Drawable使用及適配"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/9221757a.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Android矢量圖Vector Drawable使用及適配</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>在開發Android應用時，開發者免不了會使用各種圖標資源，而對於那些想自己寫點東西而又不會切圖的開發者來說就很困難了。今天我要說的Vector Drawable就可以解決這個問題，即使你不會切圖，一樣可以使用漂亮的圖標。</p><hr><p>Vector Drawable矢量圖是Android 5.X中增加的對SVG矢量圖形支持的API，有了這些API的支持，我們就可以在Android輕鬆的使用SVG圖形。<br></p><h1>Vector Drawable優點</h1><p>可能有人覺得在工作中反正有UX給我們切圖，我們幹嘛還要去用矢量圖呢，其實矢量圖相對普通的位圖來說還是有很多優點的：</p><ol class=list-paddingleft-2><li><p>矢量圖是以點和和線來描述圖像，適合直接打印輸出，因此它的圖像文件比較小。而我們平時使用的png，jpg等位圖則是由每一點上存儲的像素值組成，因此位圖圖像文件相對來說比較大。所以在APP中使用矢量圖圖標代替位圖圖標可以減小APP的體積。（其實細心的朋友應該可以發現在AS中新建一個內置的Activity模板時應該可以看到google使用的就是svg矢量圖標）</p></li><li><p>在第一點中我已經說過了矢量圖是點和線來描述圖像，也就是說是根據圖形座標位置實時畫出來的，所以它可以自行適配各種分辨率的手機而不會失真。</p></li><li><p>即使是讓UX直接給我們切SVG矢量圖對他們來說也沒有增加任何難度和工作量，因為現在的設計功能都支持直接導出為SVG矢量圖，所以對他們來說還是很方便的。</p></li><li><p>Android中還支持矢量圖動畫，我們不用寫太多的代碼就可以實現很多複雜的動畫效果</p></li></ol><h1>Vector Drawable創建</h1><p>通常創建一個Vector Drawable有兩種方式：<br></p><ol class=list-paddingleft-2><li><p>通過AS右鍵New一個Vector Asset(AS默認提供了一些矢量圖)，當然我們也可以選擇本地的SVG圖進行轉換得到Vector Drawable，這裡給大家推薦一個圖標網址，裡面可以搜索到各種圖標，既可以生成PNG格式的也可以生成SVG格式http://www.iconfont.cn/</p></li><li><p>自己通過數學方式計算自己想要的圖標各個關鍵點的座標位置，然後自己構造Vector Drawable的pathData數據從而創建一個Vector Drawable</p></li></ol><p>我們來看看創建的Vector Drawable：</p><blockquote><pre>&lt;vector xmlns:android="http://schemas.android.com/apk/res/android"android:width="24dp"android:height="24dp"android:viewportHeight="1024.0"android:viewportWidth="1024.0"&gt; &lt;pathandroid:fillColor="#ffffff"android:pathData="M926.86 484.66H176.19l292.29-270.87a30 30 0 1 0-40.78-44L81.93 490.21a30.17 30.17 0 0 0-5.83 5.43 30 30 0 0 0 1 43.77l351 314.65a30 30 0 0 0 40-44.68L172.81 544.66h754.05a30 30 0 1 0 0-60z"/&gt;&lt;/vector&gt;</pre></blockquote><p>上面是一個返回效果的圖標，如上面代碼所示，創建的Vector Drawable都是以&lt;Vector>標籤開頭的xml文件，下面我說下這裡面各個屬性代表什麼意思：</p><ol class=list-paddingleft-2><li><p>width和height就代表了這個圖形的大小</p></li><li><p>viewportWidth和viewportHeight表示將這個圖形橫縱方向均等分為1024份，每份代表一個座標點位，下面的pathData中的軌跡數據座標就是以這個來進行定位</p></li><li><p>&lt;path>元素代表了這個圖形中的一條點線軌跡</p></li><li><p>fillColor表示這個圖形顯示出來的顏色</p></li><li><p>pathData就是表示圖形的點線軌跡</p></li></ol><p>pathData中的數據格式基本與SVG圖形中的數據軌跡格式是一致的，下面再說下SVG-Path的指令所代表的意思：</p><ul class=list-paddingleft-2><li><p>M = moveto(M X,Y) ：將畫筆移動到指定的座標位置(還沒開始繪製)</p></li><li><p>L = lineto(L X,Y) ：畫直線到指定的座標位置</p></li><li><p>H = horizontal lineto(H X)：畫水平線到指定的X座標位置</p></li><li><p>V = vertical lineto(V Y)：畫垂直線到指定的Y座標位置</p></li><li><p>C = curveto(C X1,Y1,X2,Y2,ENDX,ENDY)：三次貝賽曲線</p></li><li><p>S = smooth curveto(S X2,Y2,ENDX,ENDY)：三次貝賽曲線</p></li><li><p>Q = quadratic Belzier curve(Q X,Y,ENDX,ENDY)：二次貝賽曲線</p></li><li><p>T = smooth quadratic Belzier curveto(T ENDX,ENDY)：映射</p></li><li><p>A = elliptical Arc(A RX,RY,XROTATION,FLAG1,FLAG2,X,Y)：弧線</p></li><li><p>Z = closepath()：關閉路徑</p></li></ul><h1>Android中Vector Drawable的使用</h1><p>前面說了這麼多，那麼在Android中Vector到底該怎麼用，5.0系統以下又該怎麼辦呢？<br></p><p>前面說過Android5.X才開始支持Vector Drawable，但是Android同時也為我們提供了兼容包，使用起來也是很方便的，但是也有些問題需要注意：<br></p><ol class=list-paddingleft-2><li><p>必須使用appcompat-v7:23.2.0及以上版本</p></li><li><p>gradle:2.0.0</p></li><li><p>在主Moudul的的build.gradle文件的defaultConfig中添加vectorDrawables.useSupportLibrary = true配置</p></li><li><p>所使用的Activity必須繼承AppCompatActivity</p></li><li><p>在ImageView中使用app:srcCompat屬性代替src屬性設置Vector資源</p></li></ol><blockquote><p>&lt;ImageView</p><p>android:layout_width="100dp“</p><p>android:layout_height="100dp"</p><p>app:srcCompat="@drawable/five_star"/></p></blockquote><p>另外還有一個特別需要注意的問題就是在Button，RadiaoGroup或compound drawable之類的View設置background為Vector Drawable時必須將Vector Drawable進行selector包裝後再進行設置，另外還要在這些View所在的Activity裡設置如下代碼才能生效，否則會出現crash</p><blockquote><p>AppCompatDelegate.setCompatVectorFromResourcesEnabled(true)</p></blockquote><h1>Android中Vector Animation的使用<br></h1><p>上面說完了Vector的使用，下面接下來說說Vector Animation的使用。<br></p><p>其實使用Vector Animation也比較簡單，首先在res/drawable目錄下創建一個&lt;animated-vector>文件，然後使用AnimatedVectorDrawableCompat加載上述drawable即可，示例代碼如下：</p><blockquote><p>//R.drawable.five_star_animate文件代碼</p><p>&lt;animated-vector</p><p>xmlns:android="http://schemas.android.com/apk/res/android"</p><p>android:drawable="@drawable/five_star"></p><p>&lt;target android:animation="@animator/animator_five_star"</p><p>android:name="five_star"/></p><p>&lt;/animated-vector></p><p>//Java代碼</p><p>AnimatedVectorDrawableCompat starDrawable =</p><p>AnimatedVectorDrawableCompat.create(this, R.drawable.five_star_animate);</p><p>starImageView.setImageDrawable(starDrawable);</p><p>starDrawable.start();</p><p>//動畫文件animator_five_star，下面這個文件大家比較熟悉了</p><p>&lt;objectAnimator</p><p>xmlns:android="http://schemas.android.com/apk/res/android"</p><p>android:propertyName="trimPathEnd"</p><p>android:interpolator="@android:interpolator/linear"</p><p>android:repeatCount="infinite"</p><p>android:repeatMode="restart"</p><p>android:valueType="floatType"</p><p>android:valueFrom="0"</p><p>android:valueTo="1"</p><p>android:duration="3000"></p><p>&lt;/objectAnimator></p></blockquote><p>上面的動畫是針對Vector的trimPathEnd屬性來操作的，Vector具有哪些屬性代價可以去Android API裡面查查，這裡就不列舉了。</p><hr><p>以上這些就是我使用android矢量圖過程中的一些心得記錄</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Android</a></li><li><a>Vector</a></li><li><a>Drawable</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/c1058aa2.html alt="Android Q下ANGLE圖形引擎性能測試  「農步祥」" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RXTy8D7HmsBWr1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c1058aa2.html title="Android Q下ANGLE圖形引擎性能測試  「農步祥」">Android Q下ANGLE圖形引擎性能測試 「農步祥」</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0ac13623.html alt="Android 11加入新功能：長期不用的APP自動關閉敏感權限" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/Rx4J9h84rlZBze style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0ac13623.html title="Android 11加入新功能：長期不用的APP自動關閉敏感權限">Android 11加入新功能：長期不用的APP自動關閉敏感權限</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/192b9f57.html alt="Android版Firefox 81將引入可自動關閉舊標籤頁的選項" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/SA9N6CXIS75NYa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/192b9f57.html title="Android版Firefox 81將引入可自動關閉舊標籤頁的選項">Android版Firefox 81將引入可自動關閉舊標籤頁的選項</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e3073c3d.html alt="Android端Firefox 81可定時關閉不使用的標籤頁" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/S9x6jJb18axAim style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e3073c3d.html title="Android端Firefox 81可定時關閉不使用的標籤頁">Android端Firefox 81可定時關閉不使用的標籤頁</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/355ed5a4.html alt=在Android中的工具欄中添加菜單 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a3572ad9d9fb487d8927f703f18179a0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/355ed5a4.html title=在Android中的工具欄中添加菜單>在Android中的工具欄中添加菜單</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b37aac89.html alt=【學習筆記】Android開發之kotlin語言（一） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ee3f9c8348ae4de58a5f62922d2042e1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b37aac89.html title=【學習筆記】Android開發之kotlin語言（一）>【學習筆記】Android開發之kotlin語言（一）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/514f2fe0.html alt=Android進階之路之網絡編程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/R6GseWQ6pTbxvr style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/514f2fe0.html title=Android進階之路之網絡編程>Android進階之路之網絡編程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d258b9eb.html alt="徹底凍結Android 應用後臺活動 讓他們不耗電、不聯網、不啟動" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/e4fd87bc-b2e5-40e2-841d-2e3dc5f9a2b9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d258b9eb.html title="徹底凍結Android 應用後臺活動 讓他們不耗電、不聯網、不啟動">徹底凍結Android 應用後臺活動 讓他們不耗電、不聯網、不啟動</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/68b758a4.html alt="訊飛輸入法Android V9.1.9465 重磅升級拼音手寫A.I.引擎" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/RiF18Oh9i8jWPd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/68b758a4.html title="訊飛輸入法Android V9.1.9465 重磅升級拼音手寫A.I.引擎">訊飛輸入法Android V9.1.9465 重磅升級拼音手寫A.I.引擎</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/03a7881d.html alt="Android 11公開測試版正式發佈，新增了實用功能" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/76a9b5ad-e27f-4cea-b8b9-2134bc133e5d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/03a7881d.html title="Android 11公開測試版正式發佈，新增了實用功能">Android 11公開測試版正式發佈，新增了實用功能</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/036cb180.html alt="首批適配！ColorOS正式發佈Android 11開發者測試版：暗色定時、超級省電" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/S2cySEvGM5dtxu style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/036cb180.html title="首批適配！ColorOS正式發佈Android 11開發者測試版：暗色定時、超級省電">首批適配！ColorOS正式發佈Android 11開發者測試版：暗色定時、超級省電</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c9e496dd.html alt="Android 11 beta升級方法，如何申請測試版更新？" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ba850edc544843cab07cecf061a1ffde style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c9e496dd.html title="Android 11 beta升級方法，如何申請測試版更新？">Android 11 beta升級方法，如何申請測試版更新？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c2b5d261.html alt="三星已開始Android 11測試：Galaxy S10+首個嚐鮮" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RrbBJ1a9L1lUev style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c2b5d261.html title="三星已開始Android 11測試：Galaxy S10+首個嚐鮮">三星已開始Android 11測試：Galaxy S10+首個嚐鮮</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0b177ec2.html alt="Android 11更新媒體存儲API 第三方App也可用上回收站" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/S1fN75RGiuayvJ style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0b177ec2.html title="Android 11更新媒體存儲API 第三方App也可用上回收站">Android 11更新媒體存儲API 第三方App也可用上回收站</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f62039ae.html alt="最全的 Android 技術棧" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/7ba93cad11c848e68c6ad42693acf335 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f62039ae.html title="最全的 Android 技術棧">最全的 Android 技術棧</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>