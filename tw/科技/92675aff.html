<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>關於哈希表，你該瞭解這些 | 极客快訊</title><meta property="og:title" content="關於哈希表，你該瞭解這些 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/8d18861a74ac4577abd03b0064a1016b"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/92675aff.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/92675aff.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/92675aff.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/92675aff.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/92675aff.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/92675aff.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/92675aff.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/92675aff.html><meta property="article:published_time" content="2020-11-14T21:07:43+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:43+08:00"><meta name=Keywords content><meta name=description content="關於哈希表，你該瞭解這些"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/92675aff.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>關於哈希表，你該瞭解這些</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h1 class=pgc-h-arrow-right>哈希表</h1><p>首先什麼是 哈希表，哈希表（英文名字為Hash table，國內也有一些算法書籍翻譯為散列表，大家看到這兩個名稱知道都是指hash table就可以了）。</p><blockquote><p>哈希表是根據關鍵碼的值而直接進行訪問的數據結構。</p></blockquote><p>這麼這官方的解釋可能有點懵，其實直白來講其實數組就是一張哈希表。</p><p>哈希表中關鍵碼就是數組的索引下表，然後通過下表直接訪問數組中的元素，如下圖所示：</p><p><br></p><div class=pgc-img><img alt=關於哈希表，你該瞭解這些 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8d18861a74ac4577abd03b0064a1016b><p class=pgc-img-caption></p></div><p><br></p><p>那麼哈希表能解決什麼問題呢，<strong>一般哈希表都是用來快速判斷一個元素是否出現集合裡。</strong></p><p>例如要查詢一個名字是否在這所學校裡。</p><p>要枚舉的話時間複雜度是O(n)，但如果使用哈希表的話， 只需要O(1) 就可以做到。</p><p>我們只需要初始化把這所學校裡學生的名字都存在哈希表裡，在查詢的時候通過索引直接就可以知道這位同學在不在這所學校裡了。</p><p>將學生姓名映射到哈希表上就涉及到了<strong>hash function ，也就是哈希函數</strong>。</p><h1 class=pgc-h-arrow-right>哈希函數</h1><p>哈希函數，把學生的姓名直接映射為哈希表上的索引，然後就可以通過查詢索引下表快速知道這位同學是否在這所學校裡了。</p><p>哈希函數如下圖所示，通過hashCode把名字轉化為數值，一般hashcode是通過特定編碼方式，可以將其他數據格式轉化為不同的數值，這樣就把學生名字映射為哈希表上的索引數字了。</p><div class=pgc-img><img alt=關於哈希表，你該瞭解這些 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9fd6bc9f6d6744eabb0016df496f985f><p class=pgc-img-caption></p></div><p>如果hashCode得到的數值大於 哈希表的大小了，也就是大於tableSize了，怎麼辦呢？</p><p>此時為了保證映射出來的索引數值都落在哈希表上，我們會在再次對數值做一個取模的操作，就要我們就保證了學生姓名一定可以映射到哈希表上了。</p><p>此時問題又來了，哈希表我們剛剛說過，就是一個數組。</p><p>如果學生的數量大於哈希表的大小怎麼辦，此時就算哈希函數計算的再均勻，也避免不了會有幾位學生的名字同時映射到哈希表 同一個索引下表的位置。</p><p>接下來<strong>哈希碰撞</strong>登場</p><h1 class=pgc-h-arrow-right>哈希碰撞</h1><p>如圖所示，小李和小王都映射到了索引下表 1的位置，<strong>這一現象叫做哈希碰撞</strong>。</p><div class=pgc-img><img alt=關於哈希表，你該瞭解這些 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/94014160a99c42b492596af60d7bd206><p class=pgc-img-caption></p></div><p>一般哈希碰撞有兩種解決方法， 拉鍊法和線性探測法。</p><h1 class=pgc-h-arrow-right>拉鍊法</h1><p>剛剛小李和小王在索引1的位置發生了衝突，發生衝突的元素都被存儲在鏈表中。 這樣我們就可以通過索引找到小李和小王了</p><div class=pgc-img><img alt=關於哈希表，你該瞭解這些 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8a3d2186a038485c96015d6b3a4300c5><p class=pgc-img-caption></p></div><p>（數據規模是dataSize， 哈希表的大小為tableSize）</p><p>其實拉鍊法就是要選擇適當的哈希表的大小，這樣既不會因為數組空值而浪費大量內存，也不會因為鏈表太長而在查找上浪費太多時間。</p><h1 class=pgc-h-arrow-right>線性探測法</h1><p>使用線性探測法，一定要保證tableSize大於dataSize。 我們需要依靠哈希表中的空位來解決碰撞問題。</p><p>例如衝突的位置，放了小李，那麼就向下找一個空位放置小王的信息。所以要求tableSize一定要大於dataSize ，要不然哈希表上就沒有空置的位置來存放 衝突的數據了。如圖所示：</p><div class=pgc-img><img alt=關於哈希表，你該瞭解這些 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/337d5633f07e4eafb6bc93976d430dd3><p class=pgc-img-caption></p></div><p>其實關於哈希碰撞還有非常多的細節，感興趣的同學可以再好好研究一下，這裡我就不再贅述了。</p><h1 class=pgc-h-arrow-right>常見的三種哈希結構</h1><p>當我們想使用哈希法來解決問題的時候，我們一般會選擇如下三種數據結構。</p><ul><li>數組</li><li>set （集合）</li><li>map(映射)</li></ul><p>在C++中，set 和 map 分別提供了一下三種數據結構，起底層實現已經優劣如下表所示：</p><div class=pgc-img><img alt=關於哈希表，你該瞭解這些 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7ff71e648faf440dbb6d367291fdf88d><p class=pgc-img-caption></p></div><p>std::unordered_set底層實現為哈希表，std::set 和std::multiset 的底層實現是紅黑樹，紅黑樹是一種平衡二叉搜索樹，所以key值是有序的，但key不可以修改，改動key值會導致整棵樹的錯亂，所以只能刪除和增加。</p><div class=pgc-img><img alt=關於哈希表，你該瞭解這些 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c914a931d1894c2fa5e9318f88487371><p class=pgc-img-caption></p></div><p>std::unordered_map 底層實現為哈希表，std::map 和std::multimap 的底層實現是紅黑樹。同理，std::map 和std::multimap 的key也是有序的（這個問題也經常作為面試題，考察對語言容器底層的理解）。</p><p>當我們要使用集合來解決哈希問題的時候，優先使用unordered_set，因為它的查詢和增刪效率是最優的，如果需要集合是有序的，那麼就用set，如果要求不僅有序還要有重複數據的話，那麼就用multiset。</p><p>那麼再來看一下map ，在map 是一個key value 的數據結構，map中，對key是有限制，對value沒有限制的，因為key的存儲方式使用紅黑樹實現的。</p><p>其他語言例如：java裡的 HashMap ，TreeMap 都是一樣的原理。可以靈活貫通。</p><p>雖然set、multiset 的底層實現是紅黑樹，不是哈希表，但是set、multiset 依然使用哈希函數來做映射，只不過底層的符號表使用了紅黑樹來存儲數據，所以使用這些數據結構來解決映射問題的方法，我們依然稱之為哈希法。 map也是一樣的道理。</p><p>這裡在說一下，一些C++的經典書籍上 例如STL源碼剖析，說到了hash_set hash_map，這個與unordered_set，unordered_map又有什麼關係呢？</p><p>實際上功能都是一樣一樣的， 但是unordered_set在C++11的時候被引入標準庫了，而hash_set並沒有，所以建議還是使用unordered_set比較好，這就好比一個是官方認證的，hash_set，hash_map 是C++11標準之前民間高手自發造的輪子。</p><div class=pgc-img><img alt=關於哈希表，你該瞭解這些 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/95de7ef06e3b4510b78d87c3328b648b><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>總結</h1><p>總結一下，<strong>當我們遇到了要快速判斷一個元素是否出現集合裡的時候，就要考慮哈希法</strong>。</p><p>但是哈希法也是<strong>犧牲了空間換取了時間</strong>，因為我們要使用額外的數組，set或者是map來存放數據，才能實現快速的查找。</p><p>如果在做面試題目的時候遇到需要判斷一個元素是否出現過的場景也應該第一時間想到哈希法。</p><p>都看到這了，還有sei！sei沒讀懂單獨找我！</p><p>預告下篇講解一波哈希表面試題的解題套路，我們下期見！</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>關於</a></li><li><a>哈希</a></li><li><a>瞭解</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/52e8abe1.html alt=關於工程造價，你瞭解嗎？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/52e8abe1.html title=關於工程造價，你瞭解嗎？>關於工程造價，你瞭解嗎？</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/80c88abf.html alt=關於女人的白帶，你瞭解多少？這7種異常變化，提示婦科病來臨 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/d3b1f599-033f-4237-961d-c74a47eef9df style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/80c88abf.html title=關於女人的白帶，你瞭解多少？這7種異常變化，提示婦科病來臨>關於女人的白帶，你瞭解多少？這7種異常變化，提示婦科病來臨</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/7575058f.html alt=關於宇宙中的太陽系和航天器，你需要多瞭解一些它們的事情 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/fcefd7ca52ee4094b411f7bd66e8e95e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/7575058f.html title=關於宇宙中的太陽系和航天器，你需要多瞭解一些它們的事情>關於宇宙中的太陽系和航天器，你需要多瞭解一些它們的事情</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/055594cf.html alt=關於“黑熱病”，你瞭解多少？陽泉市疾控中心專家為你解答 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/cac60f7052544c17a82151ff5ae816bd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/055594cf.html title=關於“黑熱病”，你瞭解多少？陽泉市疾控中心專家為你解答>關於“黑熱病”，你瞭解多少？陽泉市疾控中心專家為你解答</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/f1e17e8e.html alt="風溼亭 | 關於生物製劑，你瞭解多少？" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/R69ibW1E2xu9Xd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/f1e17e8e.html title="風溼亭 | 關於生物製劑，你瞭解多少？">風溼亭 | 關於生物製劑，你瞭解多少？</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/70a394b1.html alt="關於鱷魚皮錶帶 你瞭解多少？" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a583c16ce5c9482bab052f70e4d7001d style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/70a394b1.html title="關於鱷魚皮錶帶 你瞭解多少？">關於鱷魚皮錶帶 你瞭解多少？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2b55b8e0.html alt=關於印刷材質你瞭解多少？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1528873862032a39a7d51a6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2b55b8e0.html title=關於印刷材質你瞭解多少？>關於印刷材質你瞭解多少？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a093986.html alt=關於混響，你瞭解多少？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a093986.html title=關於混響，你瞭解多少？>關於混響，你瞭解多少？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f2dd504.html alt=關於光圈你瞭解多少？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/8f1cfd43550e4e40ba736a9c13f05e24 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f2dd504.html title=關於光圈你瞭解多少？>關於光圈你瞭解多少？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3967b14.html alt=關於“防爆胎”，你瞭解多少？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/83b168ea0af24af1b30a2c710a56de9c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3967b14.html title=關於“防爆胎”，你瞭解多少？>關於“防爆胎”，你瞭解多少？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/59040d7.html alt=關於地球你知道但不真正瞭解的一些事情 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/6c3e00007a48c2557df4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/59040d7.html title=關於地球你知道但不真正瞭解的一些事情>關於地球你知道但不真正瞭解的一些事情</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/55ebaa9.html alt=關於地震波，你瞭解多少？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1538066498239ebcd098df8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/55ebaa9.html title=關於地震波，你瞭解多少？>關於地震波，你瞭解多少？</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/cdd3d8f.html alt=關於聽證，你瞭解多少？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/72da43b3-a62a-4be9-9f08-98cfc3deefb4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/cdd3d8f.html title=關於聽證，你瞭解多少？>關於聽證，你瞭解多少？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5010a4b6.html alt=兩分鐘瞭解低損耗電纜結構 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9af84f52bbed4ee39f3825e0f43e619b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5010a4b6.html title=兩分鐘瞭解低損耗電纜結構>兩分鐘瞭解低損耗電纜結構</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cae5a51a.html alt=「施工技巧」詳細瞭解光纜、終端盒、尾纖的接法和光纖各種接口 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/decf8edb02a34404b92b86681378575f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cae5a51a.html title=「施工技巧」詳細瞭解光纜、終端盒、尾纖的接法和光纖各種接口>「施工技巧」詳細瞭解光纜、終端盒、尾纖的接法和光纖各種接口</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>