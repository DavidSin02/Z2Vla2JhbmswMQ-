<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>python：5分鐘，教你使用內置函數open來操作文件 | 极客快訊</title><meta property="og:title" content="python：5分鐘，教你使用內置函數open來操作文件 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/f7b3f95f851a4f76bff8dc828b3088c1"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9302f7a1.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9302f7a1.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9302f7a1.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9302f7a1.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9302f7a1.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9302f7a1.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9302f7a1.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9302f7a1.html><meta property="article:published_time" content="2020-11-14T21:00:21+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:21+08:00"><meta name=Keywords content><meta name=description content="python：5分鐘，教你使用內置函數open來操作文件"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/9302f7a1.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>python：5分鐘，教你使用內置函數open來操作文件</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>使用內置函數open來操作文件有三步：打開文件，操作文件，關閉文件。</p><p>open(file, mode='r', buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)</p><div class=pgc-img><img alt=python：5分鐘，教你使用內置函數open來操作文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f7b3f95f851a4f76bff8dc828b3088c1><p class=pgc-img-caption></p></div><p>3.1. <strong>file如果只寫文件名，比如'file1.txt'，則默認是當前路徑，如果當前路徑沒有這個名字的文件，則報錯，如果是其他目錄的文件，則需要加上文件路徑。</strong></p><p>3.2. mode有4種模式：<strong>'r'表示只讀模式，'w'代表只寫入模式(如果文件存在，則覆蓋掉，不存在則創建)，'x'表示新創建一個文件，並進入寫入模式(如果文件存在，則報錯)，'a'表示追加寫入模式，所有寫入內容都在文件末尾。打開file有三種模式，'b'代表二進制模式，'t'代表文本模式，'+'表示讀寫模式。</strong>默認文件打開是'rt'模式。</p><p>3.3. encoding如果沒傳入，則默認是平臺當前的編碼方式。只在文本模式中需要編碼。二進制模式不需要encoding。</p><p>3.4. buttering,指緩衝，默認是-1，代表</p><p><strong>讀時是按照指針的順序，從前往後讀，寫時，都是寫到最後,指針也到了最後。</strong></p><div class=pgc-img><img alt=python：5分鐘，教你使用內置函數open來操作文件 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/198ed2a6f77c40aeaa1159ec22abb918><p class=pgc-img-caption></p></div><pre>help(open)f1 = open('hello.txt', 'w', encoding='utf-8')f1.write('hello,lanxing') #將字符串寫入文件。f1.close() #關閉文件f2 = open('hello.txt', 'rb')data = f2.read() #read表示讀取多少個字符，如果不加參數，則默認讀取全部內容。print(data)data2 = str(data,encoding='utf-8')print(data2)f2.close()f3 = open('test1.txt', 'wb')# 以二進制模式進行寫入操作，write的參數必須是字節形式，所以用bytes將字符串轉換成字節。f3.write(bytes('中國人', encoding='utf-8'))f3.close()f4 = open('test1.txt', 'rb+')data4 = f4.read(3) #只讀取3個字節print(data4)str_data4 = str(data4,encoding='utf-8')print(str_data4)f4.close()# 一,以下是讀寫模式，先讀再寫。f5 = open('test1.txt', 'r+', encoding='utf-8')# tell告訴當前指針(或叫光標)在哪個位置，一個字節就是一個指針位print(f5.tell()) # telldata5 = f5.read(1) # 讀取1個字符，utf-8編碼中，一箇中文字符是3個字節。print(f5.tell()) # 所以現在是3個指針位print(data5)data6 = f5.read(1) # 再讀1個字符位。print(data6)print(f5.tell()) # 現在指針在第6個字節位處了f5.seek(0) # 將指針重新調整到起始位置。f5.write('日本人') # 寫入操作，會在末尾追加，指針調整到最後。f5.close()# 二，以下是寫讀模式，先寫再讀，即先清空再讀。寫入的同時，指針就在最後了。f6 = open('test1.txt', 'w+', encoding='utf-8')data6 = f6.read()print(data6) #空值，因為先寫，已經清空整個文件了。f6.write('中國人')print(f6.tell()) #是9，因為3個漢字是9個字節。data7 = f6.read() #還是空值，因為現在指針在9，9後面沒有數據了。f6.seek(0) #將指針調到到開始。data8 = f6.read()print(data8)f6.close()# 三，a+模式，打開時，指針已經在最後了。</pre><p><strong>打開文件一定要記得關閉文件，最好使用with來打開文件，with打開文件會自動關閉文件</strong>。</p><pre>with open('test1.txt','w+',encoding='utf-8') as f: f.write('中國人')with open('test1.txt','r+',encoding='utf-8') as f1, open('test2.txt','w+',encoding='utf-8') as f2:#with可以同時打開多個文件。 for line in f1: #將f1的每一行都寫入到f2文件中去。 f2.write(line)</pre><p><strong>文件的基本操作還有：</strong></p><p>flush(), 即時刷新，可以在文件未關閉之前看到文件更新內容，不接參數。</p><p>readline()，讀取當前指針處的一行內容。</p><p>readlines(n)，讀取當前指針處的n個字符，如果n不寫，則默認全讀完，如果n小於當前行的字符長度，則讀取當前行內容，包括換行符\n，如果n大於當前行的字符長度，則一直到第從當前指針處的第n個字符所在的行，每一行的內容包括換行符作為一個列表的元素，最終返回該列表。</p><p>close(),關閉文件</p><p>seek(n),調整指針位置</p><p>tell()，返回當前指針位置。</p><p>truncate(),截取當前指針處之前的字節內容。文件關閉時，就只有截取的內容了。</p><p>read(n),讀取從當前指針處的多少個字符。返回的是字符串。</p><p>write()，寫入字符串或字節。</p><p>覺得文章還不錯的話不妨收藏起來慢慢看，有任何建議或看法歡迎大家在評論區分享討論！</p><p><strong>我是一名python開發工程師，整理了一套python的學習資料，如果你想提升自己，對編程感興趣，關注我並在後臺私信小編：“08”即可免費領取資料！希望對你能有所幫助！</strong></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>python</a></li><li><a>分鐘</a></li><li><a>內置</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/93727dba.html alt="技術帖 | 3分鐘搞定各種測試分析技術" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/f055e0a4477240088de2abb7cd696cfa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/93727dba.html title="技術帖 | 3分鐘搞定各種測試分析技術">技術帖 | 3分鐘搞定各種測試分析技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ac25d2d0.html alt=30分鐘教你搭建一個網站（一）：購買和配置服務器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/5f26f1582a564e93bde33a7dd9448c3b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ac25d2d0.html title=30分鐘教你搭建一個網站（一）：購買和配置服務器>30分鐘教你搭建一個網站（一）：購買和配置服務器</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/50218ed7.html alt=5分鐘教你搭建自己的服務器和解析域名 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/733737e9f0714b50b7164eb128f72341 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/50218ed7.html title=5分鐘教你搭建自己的服務器和解析域名>5分鐘教你搭建自己的服務器和解析域名</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/602bcbcd.html alt="每天這樣陪玩 10 分鐘，勝過上萬元早教班" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RlIqLlfA7COpuB style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/602bcbcd.html title="每天這樣陪玩 10 分鐘，勝過上萬元早教班">每天這樣陪玩 10 分鐘，勝過上萬元早教班</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f8c3b92d.html alt=python安全開發軍規之四：使用安全的隨機數生成器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/bbda123b84db44148aca9d3e26ddf119 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f8c3b92d.html title=python安全開發軍規之四：使用安全的隨機數生成器>python安全開發軍規之四：使用安全的隨機數生成器</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e27caade.html alt=python基礎知識，多態實例講解以及多態的作用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/2506d9fe7f6641a6a12c35a35a9335db style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e27caade.html title=python基礎知識，多態實例講解以及多態的作用>python基礎知識，多態實例講解以及多態的作用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9cfcdd6f.html alt=《JAVA編程思想》5分鐘速成：第8章（多態） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/399a29d93fde48fca4bae44dffbced07 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9cfcdd6f.html title=《JAVA編程思想》5分鐘速成：第8章（多態）>《JAVA編程思想》5分鐘速成：第8章（多態）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c56ee116.html alt=小猿圈python學習-三大特性之多態 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ad0e8e3777854337abeb7c779ad79a04 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c56ee116.html title=小猿圈python學習-三大特性之多態>小猿圈python學習-三大特性之多態</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6b3d06cd.html alt=電路圖怎麼畫？3分鐘學會繪製使用電路圖 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b7d91ea53bd443738a807ff758b6bbb9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6b3d06cd.html title=電路圖怎麼畫？3分鐘學會繪製使用電路圖>電路圖怎麼畫？3分鐘學會繪製使用電路圖</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d40ae47a.html alt=馬桶該怎麼選好？5分鐘教會你，如何選對馬桶 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1527872947249cdcf81fc46 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d40ae47a.html title=馬桶該怎麼選好？5分鐘教會你，如何選對馬桶>馬桶該怎麼選好？5分鐘教會你，如何選對馬桶</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/43a11efd.html alt=Excel如何隔列求和？3分鐘就能夠學會的超簡單方法教給你 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f5f148e9f2664611a438c6444c0a65ae style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/43a11efd.html title=Excel如何隔列求和？3分鐘就能夠學會的超簡單方法教給你>Excel如何隔列求和？3分鐘就能夠學會的超簡單方法教給你</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2a403db5.html alt=教你用python爬取自己加入的QQ群成員名單，它們竟然是這樣的人 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f99591661318437ca58c24bce4d3c5bb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2a403db5.html title=教你用python爬取自己加入的QQ群成員名單，它們竟然是這樣的人>教你用python爬取自己加入的QQ群成員名單，它們竟然是這樣的人</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/17cb0041.html alt=10分鐘的時間，學習一套企業人員數量差距分析方案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/dfic-imagehandler/a2efe19b-b6ea-4af6-a8c9-b467e2fc69a1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/17cb0041.html title=10分鐘的時間，學習一套企業人員數量差距分析方案>10分鐘的時間，學習一套企業人員數量差距分析方案</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/daca7806.html alt=大連一男子遭和麵機“咬手”，消防5分鐘成功救援 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/7d32fb1ef1ab4b80b72157153b4dd9d9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/daca7806.html title=大連一男子遭和麵機“咬手”，消防5分鐘成功救援>大連一男子遭和麵機“咬手”，消防5分鐘成功救援</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/807a2d37.html alt=長髮捲入和麵機，女工掙扎近3分鐘當場被絞死，愛美也要牢記安全 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/7f7d8803a5c8452a81b7022ab836996c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/807a2d37.html title=長髮捲入和麵機，女工掙扎近3分鐘當場被絞死，愛美也要牢記安全>長髮捲入和麵機，女工掙扎近3分鐘當場被絞死，愛美也要牢記安全</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>