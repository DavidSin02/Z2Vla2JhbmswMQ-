<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>CC++語言5｜控制檯和文件的輸入、輸出 | 极客快訊</title><meta property="og:title" content="CC++語言5｜控制檯和文件的輸入、輸出 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/727f098418fe48e99a1a53ebe74aab7e"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/96a2a610.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/96a2a610.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/96a2a610.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/96a2a610.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/96a2a610.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/96a2a610.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/96a2a610.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/96a2a610.html><meta property="article:published_time" content="2020-10-29T21:09:47+08:00"><meta property="article:modified_time" content="2020-10-29T21:09:47+08:00"><meta name=Keywords content><meta name=description content="CC++語言5｜控制檯和文件的輸入、輸出"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/96a2a610.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>CC++語言5｜控制檯和文件的輸入、輸出</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>首先看一下一般程序的組成：</p><p>1 庫文件包含，為可能需要調用的庫函數或類定義包含庫文件。</p><p>2 類型定義，包括結構體類型、類類型；</p><p>3 函數聲明；</p><p>4 其他文件中的全局變量的extern聲明；</p><p>5 變量定義：為一些在程序編寫時值未知的數據預約他們的存放處 ；</p><p>6 輸入階段 ：獲取執行時才能確定的用戶數據。輸入過程一般包括兩步 ：</p><pre>6.1 顯示提示信息；6.2 讀取數據；</pre><p>7 計算階段 ：由輸入推導出輸出的過程。通常通過各種計算得到。</p><p>8 輸出階段：顯示程序執行的結果。</p><p>由上可知，輸入、輸出是程序很重要的組成部分。</p><p>通常，輸入輸出的方向性問題是站在內存的角度去看的：</p><div class=pgc-img><img alt=C\C++語言5｜控制檯和文件的輸入、輸出 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/727f098418fe48e99a1a53ebe74aab7e><p class=pgc-img-caption></p></div><p>輸入輸出作為庫載入，也是為了空間效率的考量，當你不需要時，就可以不載入，讓程序更輕量級。</p><h1><strong>一、C語言的輸入輸出</strong></h1><p>程序輸入源和輸出目標統稱為設備(device)。無論什麼設備，是用於輸入還是輸出，C語言都通過流進行輸入和輸出操作。</p><p>流與文件息息相關。這裡的文件指的不是磁盤文件，而是程序待處理的流和實際物理設備之間的媒介。大多數情況下，C語言的初學者無需瞭解這些文件，因為流、文件、設備之間的交互都由C庫函數和操作系統自動完成。</p><p>C語言的流有兩種模式：文本模式和二進制模式。文本流只由字符組成，如發送至屏幕的文本數據。文本流被組織成行，每行最多可255個字符，且以行結束符或換行符結尾。文本流中的某些字符（如換行符）有特殊的含義。</p><p>ASCII文件是將存儲在文件中的每個字節解釋成一個ASCII字符，二進制文件是將文件內容解釋成一個二進制的比特流，由程序解釋這些比特流的意義。</p><p><strong>1 C語言控制檯的輸入輸出</strong></p><p>可以用printf()、scanf()等函數直接讀取和寫入控制檯或文件。控制檯I/O函數自動寫入stdout(標準輸出，輸入緩衝區)或讀取stdin（標準輸入，輸出緩衝區），這些是預定義的文件指針。</p><p>1.1 輸出</p><p>printf("格式控制串","輸出項列表")</p><pre>格式控制串包括：① 普通字符：原樣輸出；② 轉義字符，以"\"開頭； ③ 格式說明符，以"%"開頭，控制數據輸出格式以及作為變量的佔位符。輸出項列表：是與“格式控制串”中以“%”開頭的佔位符對應的變量；</pre><p>1.2 輸入</p><p>在用scanf()函數傳參時，數值和字符類型變量之前要使用取地址符&，而字符串變量則不需要，因為其變量名本身就代表內存地址。</p><pre>scanf("%d %d",&amp;a,&amp;b);	函數返回值為int型。如果a和b都被成功讀入，那麼scanf的返回值就是2；	如果只有a被成功讀入，返回值為1；	如果a和b都未被成功讀入，返回值為0；	如果遇到錯誤或遇到end of file，返回值為EOF。end of file為Ctrl+z 或者Ctrl+d。</pre><p><strong>2 C語言文件的輸入輸出</strong></p><p>對文件操作的順序：打開文件→讀寫文件→關閉文件。打開文件是指將文件從磁盤調入內存，並與文件操作指針建立關聯。文件使用結束應及時關閉，以免丟失信息，關閉文件的同時也是存盤的過程。</p><p>一旦建立了一個流，將它與文件相關聯的一種方法是使用函數fopen()。</p><p>fopen()打開一個文件並且創建一個用於存儲文件和緩衝區信息的結果，返回指向該結構的指針。</p><p>fclose()關閉文件並刷新緩衝區。</p><p>c語言在文件中存取數據有兩種方式：順序讀寫和隨機讀寫，即可以通過一般的讀寫操作函數進行順序存取，又可以通過函數fseek(fp,位移量,起始點)對文件中的位置指針進行定位，再用讀寫操作函數進行存取，即實現隨機存取。</p><p>文本文件在讀入內存時先轉換為二進制文件，並直接在屏幕上顯示字符，因此便於閱讀和逐個字符打印。</p><p>二進制文件在讀寫數據時不需要轉換，但顯示在屏幕上時需要先轉換為ASCII碼再顯示。</p><p>fgets(str,n,fp)的功能是：從fp所指向的文件中讀取長度不超過n-1的字符串存入str開始的內存。</p><p>fputs(p1,p2)從p1開始的內存中讀取一個字符串存入p2指向的文件。</p><p>若在取字符過程中遇到行結束標誌\n或文件結束標誌EOF（-1），則讀取操作自動結束。取出的字符數可以少於n-1個。取字符結束後自動在末尾加上字符串結束標誌\0。</p><p>feof(fp)測試文件是否結束，返回1或0。</p><p>fread(buffer,size,cout,fp)從文件指針fp指向的文件中讀取count個size大小的數據存入內存buffer開始的單元</p><pre>	FILE* file=fopen("test.txt","r");	int iSize=filelength(fileno(file));	fclose(file);</pre><p>filelength函數用於獲取文件的長度，但是最大隻能獲取2g的文件大小，因為返回值類型long使用4個字節大小來表示，最大為2的31次方也就是2G的大小。</p><pre>	long filelength(int _FileHandle);	_FileHandle：文件的句柄。	返回值：文件的大小，單位為字節。</pre><p>緩衝輸入，將若干內容先存儲到稱為緩衝區（buffer）的臨時存儲區域，等待適當時機將緩衝區內的內容變得對程序可用，非緩衝輸入是不使用緩衝區，直接讓輸入對程序可用。<strong>緩衝輸入對於頻繁讀寫有更高的效率，而非緩衝輸入是即時交互程序所需要的</strong>。</p><p>fwrite() 向指定的文件中寫入若干數據塊，如成功執行則返回實際寫入的數據塊數目。該函數以二進制形式對文件進行操作，不侷限於文本文件。</p><pre>	size_t fwrite(const void* buffer, size_t size, size_t count, FILE* stream);	返回值：返回實際寫入的數據塊數目	（1）buffer：是一個指針，對fwrite來說，是要獲取數據的地址；	（2）size：要寫入內容的單字節數；	（3）count:要進行寫入size字節的數據項的個數；	（4）stream:目標文件指針；	（5）返回實際寫入的數據項個數count。 FILE * pFile; char buffer[] = { 'x' , 'y' , 'z' }; pFile = fopen ( "myfile.bin" , "wb" ); fwrite (buffer , sizeof(char), sizeof(buffer) , pFile ); fclose (pFile);</pre><p>文件指針FILE *fp，FILE是一個結構：</p><pre>typedef struct { short level; /* fill/empty level of buffer */ unsigned flags; /* File status flags */ char fd; /* File descriptor */ unsigned char hold; /* Ungetc char if no buffer */ short bsize; /* Buffer size */ unsigned char *buffer; /* Data transfer buffer */ unsigned char *curp; /* Current active pointer */ unsigned istemp; /* Temporary file indicator */ short token; /* Used for validity checking */} FILE; /* This is the FILE object */</pre><h1><strong>二、C++語言的輸入輸出</strong></h1><p><strong>1 C++控制檯的輸入輸出</strong></p><p>輸入是數據從輸入設備（如鍵盤、磁盤和鼠標等）到內存的過程，輸出是內存中的數據輸出到輸出設備（如顯示屏幕、打印機和磁盤等）的過程。輸入輸出過程中，數據像流水一樣從一處流到另外一處，C++形象地描述該過程為流。流的內容可以是ASCII碼字符、二進制形式的數據、圖形圖像、數字音頻視頻或者其他形式的信息。</p><p>C++語言本身是不提供輸入輸出操作的，它的輸入/輸出（input/output）由標準庫提供。標準庫定義了一組類型，支持對文件和控制窗口等設備的讀寫（I\O）。還定義了其他一些類型，使string 對象能夠像文件一樣操作，從而使編程者無須I\O 就能實現數據與字符之間的轉換。這些I\O 類型都定義瞭如何讀寫內置數據類型的值。此外，類的設計者還可以很方便地使用I\O 標準庫設施讀寫自定義類的對象。類類型通常使用IO 標準庫為內置類型定義的操作符和規則來進行讀寫。</p><pre>printf()、scanf()不能“智能”地處理類型，這個任務交給程序員去完成。同時，也無法直接用預定義的庫函數來完成類類型的輸入輸出。這使得程序員不得不用更多的代碼來完成新類型數據的輸入輸出。作為比C更好的語言，C++當然會提出解決問題的方式，這就是流（Stream）。流(stream)是由字符(或其他類型的數據)構成的“流”(flow)。流向程序，稱為輸入流(inputstream)。流出程序，則稱為輸出流(output stream)。如輸入流來自鍵盤，表明程序要從鍵盤獲取輸入。如輸入流來自文件，表明程序要從文件獲取輸入。類似地，輸出流可發送給屏幕或文件可將流連接到的文件視為這個流的值。可以將流與文件斷開，再連接到另一個文件，換言之，可以更改流變量的值。然而，必須使用專門處理流的函數才能完成這些更改。不能像使用int 或char 類型的變量那樣在賦值語句中使用流變量。雖然流是變量，但它們是特殊的變量。</pre><p>C++標準庫的輸入輸出功能就涉及了流的使用。C++的輸入輸出流是指由若干字節組成的字節序列，這些字節中的數據按順序從一個對象傳送到另一個對象。流實際上是程序中輸入或者輸出設備的一種抽象表示，它表示了信息從源端到目的端的運動。在輸入操作時， 字節流從輸入設備（如鍵盤、磁盤）流向內存；在輸出操作時，字節流從內存流向輸出設備（例如屏幕、打印機、磁盤等）。流中的內容可以是ASCII 字符、二進制形式的數據、圖形圖像、數字音頻視頻或其他形式的信息。</p><p>實際上，在內存中為每個數據流開闢一個內存緩衝區，是用來存放流中的數據。流是與內存緩衝區相對應的，或者可以說，緩衝區中的數據就是流。</p><p>C++採用繼承的方法建立了比較實用的流庫。</p><p>輸入輸出流被定義為類，C++的I/O庫中的類稱為流類，用流類定義的對象稱為流對象。</p><p>C++預定義了四個流對象：cin、cout、cerr和clog，分別對應於標準輸入流、標準輸出流、無緩衝的標準錯誤流以及有緩衝的標準錯誤流。</p><p>C++流庫中的所有流、對象和函數都定義在標準名字空間std中，因此，使用I/O流需要用到以下名字限定語法。</p><pre>std::cin、std::cout、std::endl</pre><p>endl插入一個新行並刷新流；flush刷新流。</p><p>cin對象的默認輸入設備是鍵盤；cout對象的默認輸出設備是屏幕。不同數據類型的輸入和輸出是對插入操作符和抽取操作符的重載。操作後的返回結果仍然是輸入輸出流的對象，便於連續輸入或輸出。</p><p>當開始執行C++程序時，C++會有幾個自動打開的預定義流，分別是：cin（相當於C的stdin）、cout（相當於C的stdout）、cerr和clog（相當於C的stderr）。</p><p>cerr沒有被緩衝，而clog有被緩衝。</p><p>默認情況下，C++標準流cin和cout被連到控制檯上，但它也可以被重新定向。cerr和clog與標準錯誤設備相關連，它不能被重新定向，因此，輸出到cerr和clog的信息總是能在屏幕上顯示。</p><p>istream流類將運算符>>重載為輸入運算符。重載運算符函數operator>>的第二個參數必須是一個引用。</p><p>ostream流類將運算符&lt;&lt;重載為輸出運算符。重載運算符函數operator&lt;&lt;的第二個參數必須是一個引用。</p><p>istream和ostream兩個類提供了流庫的主要輸入輸出界面。</p><p>輸出運算符&lt;&lt;也稱為插入（Inserting）運算符，通過輸出運算符傳送到輸出設備。輸出運算符有兩個操作數，左操作數為ostream類類型的對象，右操作數是存儲輸出數據的變量，可以是一個預定義類型的變量，也可以是重載了該運算符（&lt;&lt;）的類的對象。輸出運算符采用左結合方式，允許多個輸出操作組合到一個語句中。</p><p>輸入出運算符>>也稱為提取（Extraction）運算符，通過輸入運算符傳送到輸入設備。輸入運算符有兩個操作數，左操作數為istream類類型的對象，右操作數是存儲輸出數據的變量，可以是一個預定義類型的變量，也可以是重載了該運算符（>>）的類的對象。輸出運算符采用左結合方式，允許多個輸出操作組合到一個語句中。</p><p>在默認情況下，運算符>>跳過空白符，然後讀入對應於輸入變量類型的值。對於類型char*（作為串看待），運算符>>的作用也是跳過空白，讀入以下非空白字符，直到發現另一個空白字符為止，並在串尾放一個字符'\0'，要小心避免串溢出。</p><p>C++預定義的流對象也可以使用操縱符進行格式化輸出：操縱符算子manipulator是一系列特殊的函數，它不屬於任何類的成員，主要用來格式化輸入輸出，定義在iostream.h和iomanip.h兩個頭文件中。</p><p>如width，setf 和precision可用於格式化輸出。這些輸出函數同時適用於連接到屏幕的cout 流和連接到文件的輸出流。</p><pre>cout&lt;&lt;a;cout是對象，&lt;&lt;是操作符，a是操作數。輸出a的16進制：cout&lt;&lt;hex&lt;&lt;a&lt;&lt;endl;//表明浮點數用科學表示法輸出cout.setf(ios::scientific,ios::floatfield);cout.setf(ios::fixed,ios::floatfield);</pre><p>cin以空格作為字符串的結束依據，不會被讀入。</p><p>用cin輸入時是以空格、回車或Tab鍵作為結束符。因此無法輸入包含空白字符的字符串</p><p>在用cin輸入時，要注意輸入的字符串的長度不能超過數組的長度。因此，最好在輸出的提示信息中告知允許的最長字符串長度。</p><p>成員函數getline可以將空格一起讀入；</p><p>istream& getline(char *, int, char = '\n');</p><pre>第一個參數用於指定字符數組的首地址；第二個參數用於指定允許詩篇的最多字符個數；第三個參數用於指定表示輸入結束的字符，默認為回車</pre><p>操作實例：</p><pre>a．使用流操縱符輸出整數100的八進制、十進制和十六進制的表示。cout &lt;&lt; oct &lt;&lt; 100 &lt;&lt; ‘\t’ &lt;&lt; dec &lt;&lt; 100 &lt;&lt; ‘\t’ &lt;&lt; hex &lt;&lt; 100 &lt;&lt; endl;b．以科學計數法顯示實型數123.4567。cout &lt;&lt; scientific &lt;&lt; 123.456 &lt;&lt; endl;c．將整型數a輸出到一個寬度為6的區域，空餘部分用’$’填空。cout &lt;&lt; setw(6) &lt;&lt; setfill(‘$’) &lt;&lt; a &lt;&lt; endl ;d．輸出char *類型的變量ptr中保存的地址。cout &lt;&lt; (void *)ptr &lt;&lt; endl;</pre><p><strong>2 C++文件的輸入輸出</strong></p><p>文件和程序變量都可存儲值，而且都可從中檢索(獲取)值。程序變量只存在於程序運行期間，而文件在程序運行前就可能存在，而且在程序終止之後可繼續存在。簡單地說，文件可以是永久性的，變量則不然。文件能存儲大量數據，變量則不能提供如此大的存儲量。</p><p>如直接處理而不需顯示的數據一般以二進制形式存儲文件，字符串顯示數據通常以文本形式存儲。</p><p>如何對文件進行讀寫操作？</p><p>實例化一個流對象，利用流對象方法open打開一個文件（參數是路徑+打開方式），這樣就可以對文件進行讀寫了。如果某些文件因為某些原因不能打開（如欲寫文件的磁盤已滿，或想寫到U盤，但U盤沿未插好等），流對象的值為0。在對文件進行操作前，必須確保文件已打開，否則要進行相應的處理。為確認打開文件是否成功，通常固定採用好下程序段。</p><pre>ifstream ifile("test.txt");if(!ifile){  cout&lt;"Can't open the file!\n"; exit(1); //標準庫函數，在stdlib.h中，程序結束，並返回1作為錯誤代碼}</pre><p>在C++中有ifstream和ofstream類，它們的默認輸入/輸出設備都是磁盤文件。</p><p>在C++中，要進行文件I/O，首先必須創建一個流，然後將這個流與文件相關聯（稱為打開文件），這時才能進行讀寫操作。使用完後，需要關閉文件。</p><p>ofstream ofile("test.txt");</p><p>ofstream類自動打開文件的構造函數，該構造函數的參數和默認值與open()函數相同。</p><p>可用文件保存程序輸入或接收程序輸出。用於程序I/O 的“文件”和用於保存程序的“文件”沒有區別。利用“流”，程序可以採用統一的方式處理文件輸入與鍵盤輸入，並可採用統一的方式處理文件輸出與屏幕輸出。</p><pre>fstream file("test.txt",ios::out);file&lt;"2 sex:"&lt;endl;</pre><p>cin 和cout 流是系統已經為你聲明好的。要將流連接到文件，必須像聲明其他任何變量那樣聲明流。“輸入文件流”(input-file stream)變量的類型名稱是ifstream；“輸出文件流”(output-file stream)變量的類型名稱是ofstream。所以，要將inStream 聲明為用於文件的輸入流，將outStream 聲明為用於另一個文件的輸出流。</p><p>ifstream 類型的流可通過調用成員函數open 連接到文件。之後就可從文件讀取輸入。</p><p>ofstream 類型的流可通過調用成員函數open 連接到文件。之後就可將輸出發送到文件。</p><p>需要使用如下所示的語句：</p><pre>ifstream inStream;ofstream outStream;</pre><p>流變量(例如前面聲明的inStream 和outStream)必須連接到一個文件。這稱為打開文件，用open 函數完成該操作。例如，假定希望輸入流inStream 連接到infile.dat 文件，程序首先執行以下語句，然後才能從該文件讀取輸入：</p><pre>inStream.open("infile.dat");</pre><p>程序使用的每個輸入和輸出文件都有兩個名稱。外部文件名是文件真實名稱，但只在open函數調用中使用一次，該函數將文件連接到一個流。一旦調用了open，就必須將流名稱作為文件名使用。</p><p>程序完成從文件輸入或者向文件輸出之後，應該將文件關閉。關閉文件導致流與文件斷開。調用close 函數關閉文件。：inStream.close();</p><p>如程序正常終止，但沒有關閉文件，系統會自動為你關閉。但最好養成主動關閉文件的好習慣，原因有二。</p><p>其一，只有在程序正常終止的前提下，系統才會為你關閉文件。假如程序因為錯誤而異常終止，文件就不會關閉，並可能損壞。程序在結束文件處理後立即關閉文件，文件損壞的機率就大大降低。</p><p>其二，你可能希望程序將輸出發送給一個文件，以後又將那些輸出讀回程序。為此，程序應該在完成向文件的寫入之後立即關閉文件，再用open 函數將文件連接到一個輸入流(也可以打開一個文件，並同時進行輸入和輸出，但方式稍有區別)。</p><p>操作符>>和&lt;&lt;可像應用於cin 和cout 那樣應用於連接到文件的流。但文件I/O 的編程風格有別於屏幕和鍵盤I/O。（讀取鍵盤輸入應提示並回顯用戶輸入）</p><p>可同時打開多個流進行輸入輸出。因此，一個程序可以既從鍵盤獲取輸入，也從一個或多個文件獲取輸入。同一個程序可以既向屏幕發送輸出，也向一個或多個文件發送輸出。另外，還可從鍵盤獲取所有輸入，並將輸出同時發送到屏幕和文件。輸入流和輸出流可任意組合。</p><p>流可作為函數實參使用。唯一限制就是形參必須傳引用。</p><p>每個輸入文件流都有名為eof 的成員函數，用於判斷何時讀完文件的全部內容，沒有更多的輸入。</p><p>C++讀寫文件實例：</p><pre>#include&lt;iostream&gt;#include&lt;fstream&gt;using namespace std;int main(){ fstream file("test.txt",ios::out); if(!file.fail()) { cout&lt;&lt;"star write"&lt;&lt;endl; file&lt;&lt;"1 name:"&lt;&lt;"\r\n"; file&lt;&lt;"2 sex:"&lt;&lt;endl; cout&lt;&lt;"successfully writed!"&lt;&lt;endl; } else cout&lt;&lt;"can not open"&lt;&lt;endl; file.close(); system("pause"); return 0;}// reading a text file#include&lt;iostream.h&gt;#include&lt;fstream.h&gt;#include&lt;stdlib.h&gt;int main () { char buffer[256]; ifstream in("test.txt"); if (! in.is_open()) { cout &lt;&lt; "Error opening file";  exit (1);  } while (!in.eof() ) { in.getline (buffer,100); cout &lt;&lt; buffer &lt;&lt; endl; } system("pause"); return 0;}</pre><h1><strong>三、有關輸入輸出的常用函數</strong></h1><pre>putc(); 字符fscanf(); 字詞，遇到空格和換行時結束puts(); 串、行fputs(); 串、行，比puts()安全，是puts()的替代函數printf()與puts()，前者不只是字符串，scanf()與gets()也是一樣；</pre><div class=pgc-img><img alt=C\C++語言5｜控制檯和文件的輸入、輸出 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8e1281e334d24c1c9126ccfb6bc637ed><p class=pgc-img-caption></p></div><p>－End－</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>C++</a></li><li><a>語言</a></li><li><a>輸入</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/00674040.html alt=CC++語言16｜通過繼承、虛函數、指針來實現動態多態 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/00674040.html title=CC++語言16｜通過繼承、虛函數、指針來實現動態多態>CC++語言16｜通過繼承、虛函數、指針來實現動態多態</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7267cf45.html alt=CC++語言19｜靜態成員（對象共享數據成員及其成員函數） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7267cf45.html title=CC++語言19｜靜態成員（對象共享數據成員及其成員函數）>CC++語言19｜靜態成員（對象共享數據成員及其成員函數）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a5a90058.html alt=C語言C++中assert的用法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/800dbdf4-3783-4992-8b82-525f32e81100 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a5a90058.html title=C語言C++中assert的用法>C語言C++中assert的用法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0e7c6ad4.html alt=CC++語言15｜類的繼承和派生實現代碼重用、擴充 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/4983def52247451589ab482f2921c1aa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0e7c6ad4.html title=CC++語言15｜類的繼承和派生實現代碼重用、擴充>CC++語言15｜類的繼承和派生實現代碼重用、擴充</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8b84bf7a.html alt=CC++語言21｜函數模板與類模板 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8b84bf7a.html title=CC++語言21｜函數模板與類模板>CC++語言21｜函數模板與類模板</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/35303b23.html alt=C語言/C++程序員內存基礎知識 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/c0f5c3aa694341fba131408a23e133b1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/35303b23.html title=C語言/C++程序員內存基礎知識>C語言/C++程序員內存基礎知識</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/24f10cec.html alt=C/C++常用輸入函數總結，哪裡不會看哪裡，學習編程值得收藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/5e1faf21db934e349bed996f19db4de8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/24f10cec.html title=C/C++常用輸入函數總結，哪裡不會看哪裡，學習編程值得收藏>C/C++常用輸入函數總結，哪裡不會看哪裡，學習編程值得收藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/82646fb0.html alt=C/C++編程筆記：C語言編程知識要點總結！大一C語言知識點（全） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d208ccdc7f074f67a257d52df74e4f48 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/82646fb0.html title=C/C++編程筆記：C語言編程知識要點總結！大一C語言知識點（全）>C/C++編程筆記：C語言編程知識要點總結！大一C語言知識點（全）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/69fc84d9.html alt=一些經典的C/C++語言基礎算法及代碼 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/69fc84d9.html title=一些經典的C/C++語言基礎算法及代碼>一些經典的C/C++語言基礎算法及代碼</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/61020d00.html alt=CC++｜輸入輸出與內存、緩存、設備文件 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/7ea116098ce24015a0e7b3e0d2c7bf33 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/61020d00.html title=CC++｜輸入輸出與內存、緩存、設備文件>CC++｜輸入輸出與內存、緩存、設備文件</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a76b6a9f.html alt=年薪百萬的程序員C++/C語言實現了MFC窗口的自動縮放 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/826bd92ea024450a85fa65541d1a3eeb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a76b6a9f.html title=年薪百萬的程序員C++/C語言實現了MFC窗口的自動縮放>年薪百萬的程序員C++/C語言實現了MFC窗口的自動縮放</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/82c29328.html alt=C語言I/O輸入輸出專題——開篇 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/44f68a822ffc4c19a1629c1a2d58618a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/82c29328.html title=C語言I/O輸入輸出專題——開篇>C語言I/O輸入輸出專題——開篇</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/06aa1dc3.html alt=初識C++輸入輸出 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/06aa1dc3.html title=初識C++輸入輸出>初識C++輸入輸出</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e8dcf9a4.html alt=C++中的基本輸入/輸出 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/af21467ecf9e42cebb90f716b9dc9471 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e8dcf9a4.html title=C++中的基本輸入/輸出>C++中的基本輸入/輸出</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/984a7feb.html alt="C語言 技能提升 系列文章（七）格式化輸入/輸出" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/9f18e409833c433fb71fd72e9b3f9307 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/984a7feb.html title="C語言 技能提升 系列文章（七）格式化輸入/輸出">C語言 技能提升 系列文章（七）格式化輸入/輸出</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>