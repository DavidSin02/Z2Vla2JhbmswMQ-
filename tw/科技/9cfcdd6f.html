<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>《JAVA編程思想》5分鐘速成：第8章（多態） | 极客快訊</title><meta property="og:title" content="《JAVA編程思想》5分鐘速成：第8章（多態） - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/399a29d93fde48fca4bae44dffbced07"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9cfcdd6f.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9cfcdd6f.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9cfcdd6f.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9cfcdd6f.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9cfcdd6f.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9cfcdd6f.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9cfcdd6f.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9cfcdd6f.html><meta property="article:published_time" content="2020-11-14T21:08:07+08:00"><meta property="article:modified_time" content="2020-11-14T21:08:07+08:00"><meta name=Keywords content><meta name=description content="《JAVA編程思想》5分鐘速成：第8章（多態）"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/9cfcdd6f.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>《JAVA編程思想》5分鐘速成：第8章（多態）</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>第8章 多態（Polymorphism）</strong></p><p>多態：也稱作動態綁定、後期綁定或運行時綁定。</p><p>OOP編程的三個基本特徵：數據抽象、繼承（複用）、多態。</p><p><br></p><p><strong>8.1 方法調用綁定（Method-call binding）</strong></p><p>將一個方法調用與一個方法主體關聯起來稱作綁定。Connecting a mehtod call to a mehtod body is called binding.</p><ul><li><strong>方法重載（overload）實現的是編譯時的多態性（也稱為前綁定）；</strong></li><li><strong>方法重寫（override）實現的是運行時的多態性（也稱為後綁定）。</strong></li></ul><p><strong>前期綁定：</strong>在程序執行前進行綁定（如果有的話，由編譯器和連接程序實現）。</p><p>它是面向過程語言中不需要選擇就默認的綁定方式。例如，C只有一種方法調用，那就是前期綁定。</p><p>When binding is performed before the program is run (by the compiler and linker, if there is one), it’s called early binding. You might not have heared the term before because it has never been an option with procedural language. C compilers have only one kind of method call, and that’s early binding.</p><p><br></p><p><strong>後期綁定：</strong>就是在運行時根據對象的類型進行綁定。後期綁定也叫做動態綁定或運行時綁定。</p><p>如果一種語言想實現後期綁定，就必須具有某種機制，以便在運行時能判斷對象的類型，從而調用恰當的方法。也就是說，編譯器一直不知道對象的類型，但是方法調用機制能找到正確的方法體，並加以調用。</p><p>The solution is called late binding, which means that the binding occurs at run time, based on the type of object. Late binding is also called dynamic binding or runtime binding. When a language implements late binding, there must be some mechanism to determine the type of the object at run time and to call the appropriate method. That is, the compiler still doesn’t know the object type, but the mehtod-callmechanism finds out and calls the correct method body. The late-binding mechanism varies from language to language, but you can imagine that some sort of type information must be installd in the objects.</p><p><br></p><p><strong>再談final方法（非多態）：</strong></p><p>如Chapter7所說，final方法可以防止其他人覆蓋該方法。但更重要的一點是：這樣做可以有效地“關閉”動態綁定，或者說，告訴編譯器不需要對其進行動態綁定。</p><p>Why would you declare a method final? As noted in the last chapter, it prevents anyone from overriding that method. Perhaps more important, it effectively “turns off” dynamic binding, or rather it tells the compiler that dynamic binding isn’t necessary.This allows the compiler to generate slightly more efficient code for final method calls. However, in most cases it won’t make any overall performance diffeence in your program, so it’s best to only use final as a design decision, and not as an attempt to improve performance.</p><p><br></p><p><strong>8.2 域與靜態方法（非多態）</strong></p><p><strong>域是不具有多態性的，只有普通的方法調用是多態的。</strong></p><p>如果直接訪問某個域，這個訪問就將在編譯期進行解析，即域是靜態解析的。</p><p>eg: 當Sub對象轉型為Super引用時，任何域訪問操作都將由編譯器解析，因此不是多態的。Super.field和Sub.field分配了不同的存儲空間。這樣，Sub實際上包含兩個稱為field的域：它自己的和它從Super處得到的。</p><p><strong>靜態方法也不具有多態性的</strong>。</p><p>如前文所述，靜態方法是與類，而非與單個的對象相關聯的。</p><p><br></p><p><strong>8.3 構造器內部的多態方法的行為（慎用！）</strong></p><p>如果在構造器內部調用正在構造的對象的某個動態綁定方法，由於動態綁定是在運行時才決定的，而此時，該對象還正在構造中，所以它不知道自己屬於哪個類（父類還是自己），並且方法所操縱的成員可能還未進行初始化，這可能會產生一引起難於發現的隱藏錯誤。</p><p><strong>8.3.1 構造器編碼原則：</strong></p><p>1. 儘可能的簡單的方法，慎用重載方法；</p><p>2. 安全調用：使用final或private方法；</p><p><br></p><p><strong>8.3.2 協變返回類型（Java SE5新增）：</strong></p><p><strong>允許@override的重寫方法，可以返回super.method()的return類型的派生類型。</strong></p><p><br></p><p><strong>8.4 初始化的實際順序（由內到外&遞歸方式執行構造！）</strong></p><p>step1: 在其他任何事物發生之前，將分配給對象的存儲空間初始化成二進制的零。</p><p>step2: 調用父類的構造過程（<strong>遞歸方式：同派生類的step1&2&3&4</strong>）。</p><p>step3: 按照聲明的順序調用成員變量的初始化。</p><p>step4: 調用導出類（派生類）的構造器主體。</p><p><br></p><p><strong>8.5 繼承和清理的順序</strong></p><p><strong>8.5.1 構造&普通方法的區別：</strong></p><p>構造方法：可不主動調用super.構造()，如顯式調用，需要放在構造方法第一行；</p><p>普通方法：需自行主動調用super.method()，否則不會自動執行！</p><p><br></p><p><strong>8.5.1 構造&清理順序的區別：</strong></p><p>構造初始化：先執行super.構造()，再執行派生類的構造方法；</p><p>清理（相反）：先執行派生類的清理方法，再執行基類的清理方法；（WHY？？？）</p><p><br></p><p><strong>8.6 用繼承進行設計</strong></p><p>繼承：編譯時，已確定具體類型；</p><p><strong>組合：更靈活的編碼設計（建議優先選擇），非寫死的代碼層次結構；</strong></p><p><br></p><p><strong>8.6.1 純繼承&擴展</strong></p><p><strong>方式1：純繼承（is-a）：</strong></p><p>特徵：只@override 基類已有的方法：super.method()，不新增其他方法；</p><p>優點：向上轉型是安全的（子類不含額外信息）。</p><p><br></p><p><strong>方式2：擴展繼承（is-like-a）：</strong></p><p>特徵：派生類 新增其他方法；</p><p>優點：向上轉型時會丟失子類信息（子類含額外信息）。</p><p><br></p><p><strong>8.6.2 向下&向上轉型和RTTI：</strong></p><p><strong>向上轉型（downcasting）：</strong>安全的，類似於基本數據類型的窄向轉換；</p><p><strong>向下轉型（upcasting）：</strong>不安全的，類似於基本數據類型的寬向轉換（可能會調用到super中並不存在的方法）；</p><p><strong>RTTI: Runtime type indentification（運行時類型識別）</strong>，Java中所有的類型轉換（casting）都會執行，異常時throws ClassCastException.</p><p><br></p><div class=pgc-img><img alt=《JAVA編程思想》5分鐘速成：第8章（多態） onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/399a29d93fde48fca4bae44dffbced07><p class=pgc-img-caption></p></div><p>相關文章：</p><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6789864124068135435/?group_id=6789864124068135435" target=_blank>《JAVA編程思想》5分鐘速成：第9章（接口）</a></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>JAVA</a></li><li><a>編程</a></li><li><a>分鐘</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/e6ca1e5b.html alt=JAVA：面向對象編程的底層邏輯，深度剖析 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f7362955cbfb4eb0bb89b09491c5d9a0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e6ca1e5b.html title=JAVA：面向對象編程的底層邏輯，深度剖析>JAVA：面向對象編程的底層邏輯，深度剖析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/93727dba.html alt="技術帖 | 3分鐘搞定各種測試分析技術" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/f055e0a4477240088de2abb7cd696cfa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/93727dba.html title="技術帖 | 3分鐘搞定各種測試分析技術">技術帖 | 3分鐘搞定各種測試分析技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ac25d2d0.html alt=30分鐘教你搭建一個網站（一）：購買和配置服務器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/5f26f1582a564e93bde33a7dd9448c3b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ac25d2d0.html title=30分鐘教你搭建一個網站（一）：購買和配置服務器>30分鐘教你搭建一個網站（一）：購買和配置服務器</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/50218ed7.html alt=5分鐘教你搭建自己的服務器和解析域名 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/733737e9f0714b50b7164eb128f72341 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/50218ed7.html title=5分鐘教你搭建自己的服務器和解析域名>5分鐘教你搭建自己的服務器和解析域名</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/602bcbcd.html alt="每天這樣陪玩 10 分鐘，勝過上萬元早教班" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RlIqLlfA7COpuB style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/602bcbcd.html title="每天這樣陪玩 10 分鐘，勝過上萬元早教班">每天這樣陪玩 10 分鐘，勝過上萬元早教班</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a90a489a.html alt=JAVA中多態的概念和應用，通過案例分析成員變量、方法的訪問特點 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15310942260931dda577a75 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a90a489a.html title=JAVA中多態的概念和應用，通過案例分析成員變量、方法的訪問特點>JAVA中多態的概念和應用，通過案例分析成員變量、方法的訪問特點</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6b3d06cd.html alt=電路圖怎麼畫？3分鐘學會繪製使用電路圖 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b7d91ea53bd443738a807ff758b6bbb9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6b3d06cd.html title=電路圖怎麼畫？3分鐘學會繪製使用電路圖>電路圖怎麼畫？3分鐘學會繪製使用電路圖</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d40ae47a.html alt=馬桶該怎麼選好？5分鐘教會你，如何選對馬桶 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1527872947249cdcf81fc46 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d40ae47a.html title=馬桶該怎麼選好？5分鐘教會你，如何選對馬桶>馬桶該怎麼選好？5分鐘教會你，如何選對馬桶</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/43a11efd.html alt=Excel如何隔列求和？3分鐘就能夠學會的超簡單方法教給你 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f5f148e9f2664611a438c6444c0a65ae style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/43a11efd.html title=Excel如何隔列求和？3分鐘就能夠學會的超簡單方法教給你>Excel如何隔列求和？3分鐘就能夠學會的超簡單方法教給你</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/17cb0041.html alt=10分鐘的時間，學習一套企業人員數量差距分析方案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/dfic-imagehandler/a2efe19b-b6ea-4af6-a8c9-b467e2fc69a1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/17cb0041.html title=10分鐘的時間，學習一套企業人員數量差距分析方案>10分鐘的時間，學習一套企業人員數量差距分析方案</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/daca7806.html alt=大連一男子遭和麵機“咬手”，消防5分鐘成功救援 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/7d32fb1ef1ab4b80b72157153b4dd9d9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/daca7806.html title=大連一男子遭和麵機“咬手”，消防5分鐘成功救援>大連一男子遭和麵機“咬手”，消防5分鐘成功救援</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/807a2d37.html alt=長髮捲入和麵機，女工掙扎近3分鐘當場被絞死，愛美也要牢記安全 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/7f7d8803a5c8452a81b7022ab836996c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/807a2d37.html title=長髮捲入和麵機，女工掙扎近3分鐘當場被絞死，愛美也要牢記安全>長髮捲入和麵機，女工掙扎近3分鐘當場被絞死，愛美也要牢記安全</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ede16bf9.html alt=「編程基礎」PHP基礎教程（二） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/17685aad04c54d02928724fb99fea026 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ede16bf9.html title=「編程基礎」PHP基礎教程（二）>「編程基礎」PHP基礎教程（二）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/69e45bf9.html alt=「編程基礎」PHP基礎教程（一） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/355d0f0c0f274bdfaeb90747dbd918fb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/69e45bf9.html title=「編程基礎」PHP基礎教程（一）>「編程基礎」PHP基礎教程（一）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b96f9421.html alt=零基礎如何學PHP編程語言？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b96f9421.html title=零基礎如何學PHP編程語言？>零基礎如何學PHP編程語言？</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>