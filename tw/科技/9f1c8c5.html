<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>python的web框架django--視圖view的設計 | 极客快訊</title><meta property="og:title" content="python的web框架django--視圖view的設計 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/f6d99f691fb24cd5b95011ea0257f217"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9f1c8c5.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9f1c8c5.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9f1c8c5.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9f1c8c5.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9f1c8c5.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9f1c8c5.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/9f1c8c5.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/9f1c8c5.html><meta property="article:published_time" content="2020-10-29T20:54:48+08:00"><meta property="article:modified_time" content="2020-10-29T20:54:48+08:00"><meta name=Keywords content><meta name=description content="python的web框架django--視圖view的設計"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/9f1c8c5.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>python的web框架django--視圖view的設計</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>一、前言</p><p>沒有基礎的請看我之前發佈的入門文章和相關文章，它們是有關聯的。</p><p>寫Python框架的初衷是由於我使用Python分析出來的數據和機器學習訓練出來的模型結果展現原來只能使用圖表展現，由於web展現大行其道，所以寫Python的MVC框架Flask和Django。</p><p>關注《大數據和人工智能交流》頭條號，看高科技新動態，我是頭條天涯雨科技作者，請大家多多支持、關注、點贊，謝謝！</p><p>聲明：本文章的截圖具有 本作者獨特的數據，不可隨意複製侵權！</p><p>二、Django的後臺管理</p><p>1、在setting.py設置本地化</p><p><br></p><p>#LANGUAGE_CODE = 'en-us'</p><p>LANGUAGE_CODE = ‘zh-hans’ #設置中文</p><p>#TIME_ZONE = 'UTC'</p><p>TIME_ZONE = 'Asia/shanghai' #設置時區</p><p><br></p><p>2、 創建管理員</p><p>命令：python manage.py createsuperuser</p><p>3、輸入127.0.0.1:8000/admin，進入後臺管理</p><p><br></p><div class=pgc-img><img alt=python的web框架django--視圖view的設計 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f6d99f691fb24cd5b95011ea0257f217><p class=pgc-img-caption></p></div><p>4、註冊實體類</p><p>在應用下的admin.py中註冊實體類：</p><p>from django.contrib import admin</p><p>from goods.models import GoodsInfo</p><p># Register your models here.</p><p>#註冊實體類</p><p>admin.site.register(GoodsInfo)</p><p><br></p><div class=pgc-img><img alt=python的web框架django--視圖view的設計 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c506b0e40d6a4f7ab7b47c5f886b97c5><p class=pgc-img-caption></p></div><p>三、Django的View視圖設計</p><p>1、在項目的goods應用gviews.py下定義視圖方法：</p><p>from django.shortcuts import render</p><p>from django.http import HttpResponse</p><p># Create your views here.</p><p>#http://127.0.0.1:8000/index</p><p>def index(request):</p><p>return HttpResponse('This is index page')</p><p>2、在應用goods下新建立urls.py，內容如下：</p><p>from django.conf.urls import url</p><p>from goods import views</p><p>urlpatterns = [</p><p>#建立/index和視圖index方法之間的關係</p><p>url(r'^index',views.index),</p><p>]</p><p><br></p><div class=pgc-img><img alt=python的web框架django--視圖view的設計 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/835d21b12ba34d07996375453d4e9595><p class=pgc-img-caption></p></div><p>3、在項目demo下引用應用goods的urls</p><p>urlpatterns = [</p><p>url(r'^admin/', include(admin.site.urls)),</p><p>#包含goods應用中的 urls文件</p><p>url(r'^',include('goods.urls')),</p><p>]</p><p><br></p><div class=pgc-img><img alt=python的web框架django--視圖view的設計 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/29e6b3f43a564374909c50f9201a5671><p class=pgc-img-caption></p></div><p>啟動瀏覽器輸入http://127.0.0.1:8000/index運行：</p><p><br></p><div class=pgc-img><img alt=python的web框架django--視圖view的設計 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/fc112a2ef7bb4e4dbf10a95c82194cc8><p class=pgc-img-caption></p></div><p>配置url時，有兩種語法格式：</p><p>a) url(正則表達式，視圖函數名)</p><p>b) url(正則表達式，include(應用中的urls文件))</p><p>工作中在配置url時，首先在項目的urls.py文件中添加配置項時，並不寫具體的url和視圖函數之間的對應關係，而是包含具體應用的urls.py文件，在應用的urls.py文件中寫url和視圖函數的對應關係。</p><p><br></p><p>4、模板的使用</p><p>（1）在項目demo目錄下創建個模板文件夾templates/goods並建立個html文件：</p><p>&lt;!DOCTYPE html></p><p>&lt;html lang="en"></p><p>&lt;head></p><p>&lt;meta charset="UTF-8"></p><p>&lt;title>Title&lt;/title></p><p>&lt;/head></p><p>&lt;body></p><p>&lt;h1>This is index page!&lt;/h1></p><p>&lt;/body></p><p>&lt;/html></p><p><br></p><div class=pgc-img><img alt=python的web框架django--視圖view的設計 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/0e2418f9d8254743a8da1e7d668abdda><p class=pgc-img-caption></p></div><p>（2）在setting.py配置路徑</p><p><br></p><div class=pgc-img><img alt=python的web框架django--視圖view的設計 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/935eab12a58140c7a8a8156e1e662699><p class=pgc-img-caption></p></div><p>（3）在views.py中調用模板文件</p><p><br></p><p>from django.shortcuts import render</p><p>from django.http import HttpResponse</p><p>from django.template import loader,RequestContext</p><p># Create your views here.</p><p>#http://127.0.0.1:8000/index</p><p>def index(request):</p><p># return HttpResponse('This is index page')</p><p>#1、加載模板文件</p><p>t = loader.get_template('goods/index.html')</p><p>#2、給模板傳遞數據對象</p><p>ctx = RequestContext(request,{})</p><p>#3、模板渲染</p><p>result_html = t.render(ctx)</p><p>return HttpResponse(result_html)</p><p><br></p><p>運行結果：</p><p><br></p><div class=pgc-img><img alt=python的web框架django--視圖view的設計 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/376ad252c1ba47cd9d5cd3fa21bcafa9><p class=pgc-img-caption></p></div><p>上述函數還可以再簡單點：</p><p>def index(request):</p><p></p><p>return render(request,'goods/index.html')</p><p><br></p><p>4、通過模板向頁面傳遞數據對象</p><p>在views.py中，使用字典向頁面傳遞數據對象：</p><p><br></p><p>from django.shortcuts import render</p><p>#http://127.0.0.1:8000/index</p><p>def index(request):</p><p>dict = {"sid":"s001","sname":"lily",'list':list(range(1,8))}</p><p>return render(request,'goods/index.html',dict)</p><p><br></p><p>頁面index.html接收數據的過程如下代碼所示：</p><p>&lt;!DOCTYPE html></p><p>&lt;html lang="en"></p><p>&lt;head></p><p>&lt;meta charset="UTF-8"></p><p>&lt;title>Title&lt;/title></p><p>&lt;/head></p><p>&lt;body></p><p>&lt;h1>This is index page!&lt;/h1>&lt;br></p><p>學號：{{sid }}&lt;br></p><p>姓名：{{sname }}&lt;br></p><p>{{ list }}&lt;br></p><p>&lt;ul></p><p>{% for i in list %}</p><p>&lt;li>{{ i }}&lt;/li></p><p>{% endfor %}</p><p>&lt;/ul></p><p>&lt;/body></p><p>&lt;/html></p><p><br></p><div class=pgc-img><img alt=python的web框架django--視圖view的設計 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a1bb6ae56f1f44bf8a4812562b3fbf33><p class=pgc-img-caption></p></div><p><br></p><p>《大數據和人工智能交流》的宗旨</p><p>1、將大數據和人工智能的專業數學：概率數理統計、線性代數、決策論、優化論、博弈論等數學模型變得通俗易懂。</p><p>2、將大數據和人工智能的專業涉及到的數據結構和算法：分類、聚類 、迴歸算法、概率等算法變得通俗易懂。</p><p>3、最新的高科技動態：數據採集方面的智能傳感器技術；醫療大數據智能決策分析；物聯網智慧城市等等。</p><p>根據初學者需要會有C語言、Java語言、Python語言、Scala函數式等目前主流計算機語言。</p><p><br></p><div class=pgc-img><img alt=python的web框架django--視圖view的設計 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/57dbd2a2dd954d9196d3cb4110f4ea3d><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>python</a></li><li><a>web</a></li><li><a>django</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/152b26f.html alt=python的web服務器：django的視圖與網址的對應關係 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5b5600059c6d27801a19 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/152b26f.html title=python的web服務器：django的視圖與網址的對應關係>python的web服務器：django的視圖與網址的對應關係</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/97886d06.html alt="web前端（從零開始），每天更新學習筆記 HTML5元素分類" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/46d70004fcd55e1ddad3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/97886d06.html title="web前端（從零開始），每天更新學習筆記 HTML5元素分類">web前端（從零開始），每天更新學習筆記 HTML5元素分類</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f8c3b92d.html alt=python安全開發軍規之四：使用安全的隨機數生成器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/bbda123b84db44148aca9d3e26ddf119 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f8c3b92d.html title=python安全開發軍規之四：使用安全的隨機數生成器>python安全開發軍規之四：使用安全的隨機數生成器</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e27caade.html alt=python基礎知識，多態實例講解以及多態的作用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/2506d9fe7f6641a6a12c35a35a9335db style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e27caade.html title=python基礎知識，多態實例講解以及多態的作用>python基礎知識，多態實例講解以及多態的作用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c56ee116.html alt=小猿圈python學習-三大特性之多態 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ad0e8e3777854337abeb7c779ad79a04 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c56ee116.html title=小猿圈python學習-三大特性之多態>小猿圈python學習-三大特性之多態</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2a403db5.html alt=教你用python爬取自己加入的QQ群成員名單，它們竟然是這樣的人 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f99591661318437ca58c24bce4d3c5bb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2a403db5.html title=教你用python爬取自己加入的QQ群成員名單，它們竟然是這樣的人>教你用python爬取自己加入的QQ群成員名單，它們竟然是這樣的人</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/01920188.html alt=python乾貨｜python多進程併發 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/153075082008107d9bdbb84 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/01920188.html title=python乾貨｜python多進程併發>python乾貨｜python多進程併發</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d7504b3a.html alt=python併發編程：進程的創建和結束 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d7504b3a.html title=python併發編程：進程的創建和結束>python併發編程：進程的創建和結束</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6221fc43.html alt=python入門技能：併發編程之多進程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/876b9b75cb7d413cab99ea1cc2303b75 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6221fc43.html title=python入門技能：併發編程之多進程>python入門技能：併發編程之多進程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6a6bffe7.html alt=簡單使用python多進程併發下載大量圖片 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1539696513135d6d300d7f0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6a6bffe7.html title=簡單使用python多進程併發下載大量圖片>簡單使用python多進程併發下載大量圖片</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/589021d3.html alt=python之函數的參數詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/589021d3.html title=python之函數的參數詳解>python之函數的參數詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0ea4180c.html alt=百度、有贊、阿里web前端開發工程師面試總結 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/cfdc348831e745308ac815c8a192adaf style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0ea4180c.html title=百度、有贊、阿里web前端開發工程師面試總結>百度、有贊、阿里web前端開發工程師面試總結</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0ab2e80b.html alt=python一些常見的文件操作 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0ab2e80b.html title=python一些常見的文件操作>python一些常見的文件操作</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b0f5ec7e.html alt=小猿圈python學習-字符編碼之文字是如何顯示的 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1251374d9bbe4e5689cfac50c0a5dab4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b0f5ec7e.html title=小猿圈python學習-字符編碼之文字是如何顯示的>小猿圈python學習-字符編碼之文字是如何顯示的</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/521bc355.html alt=最近很火的文章自動生成器，python源碼公開了（內附python代碼） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/ad825257-b4c7-4ade-881e-1137b0ed08bd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/521bc355.html title=最近很火的文章自動生成器，python源碼公開了（內附python代碼）>最近很火的文章自動生成器，python源碼公開了（內附python代碼）</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>