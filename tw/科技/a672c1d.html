<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“ï¼Œæ­£æµè¡Œçš„æ¥å£æ¸¬è©¦å·¥å…·requestsåº«åŸä¾†é€™éº¼å¥½ç”¨ | æå®¢å¿«è¨Š</title><meta property="og:title" content="æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“ï¼Œæ­£æµè¡Œçš„æ¥å£æ¸¬è©¦å·¥å…·requestsåº«åŸä¾†é€™éº¼å¥½ç”¨ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/23f7750cba654d2087c132af3fbd6836"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a672c1d.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a672c1d.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a672c1d.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a672c1d.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a672c1d.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a672c1d.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/a672c1d.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/a672c1d.html><meta property="article:published_time" content="2020-10-29T21:04:30+08:00"><meta property="article:modified_time" content="2020-10-29T21:04:30+08:00"><meta name=Keywords content><meta name=description content="æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“ï¼Œæ­£æµè¡Œçš„æ¥å£æ¸¬è©¦å·¥å…·requestsåº«åŸä¾†é€™éº¼å¥½ç”¨"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/a672c1d.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“ï¼Œæ­£æµè¡Œçš„æ¥å£æ¸¬è©¦å·¥å…·requestsåº«åŸä¾†é€™éº¼å¥½ç”¨</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>èªªåˆ°pythonç™¼é€HTTPè«‹æ±‚é€²è¡Œæ¥å£è‡ªå‹•åŒ–æ¸¬è©¦ï¼Œè…¦å­è£¡ç¬¬ä¸€å€‹é–ƒéçš„å¯èƒ½å°±æ˜¯requestsåº«äº†ï¼Œç•¶ç„¶pythonæœ‰å¾ˆå¤šæ¨¡å¡Šå¯ä»¥ç™¼é€HTTPè«‹æ±‚ï¼ŒåŒ…æ‹¬åŸç”Ÿçš„æ¨¡å¡Šhttp.client,urllib2ç­‰ï¼Œä½†ç”±æ–¼åŸç”Ÿçš„æ¨¡å¡Šéæ–¼è¤‡é›œï¼Œä½¿ç”¨ç¹ç‘£ï¼Œé‚£éº¼requestsåº«å°±èª•ç”Ÿäº†ï¼Œå®ƒä¹Ÿæ˜¯ç¾éšæ®µæ¯”è¼ƒæµè¡Œçš„æ¥å£è‡ªå‹•åŒ–æ¸¬è©¦å·¥å…·ä¹‹ä¸€ã€‚</p><div class=pgc-img><img alt=æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“ï¼Œæ­£æµè¡Œçš„æ¥å£æ¸¬è©¦å·¥å…·requestsåº«åŸä¾†é€™éº¼å¥½ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/23f7750cba654d2087c132af3fbd6836><p class=pgc-img-caption></p></div><p>requestsæ˜¯å€‹ç¬¬ä¸‰æ–¹åº«ï¼Œå°è£äº†HTTPè«‹æ±‚çš„æ‰€æœ‰æ–¹æ³•ï¼Œä½¿ç”¨æ–¹ä¾¿ç°¡å–®ï¼Œåªéœ€è¦æ ¹æ“šä¸åŒçš„è«‹æ±‚æ–¹å¼èª¿ç”¨ç›¸å°æ‡‰çš„æ–¹æ³•å°±å¯ä»¥å®Œæˆç™¼é€ç¶²çµ¡è«‹æ±‚çš„æ•´å€‹éç¨‹ï¼Œé‚£éº¼ä»Šå¤©æˆ‘å€‘å°±ä¾†èªªèªªrequestsåº«æ˜¯å¦‚ä½•ä½¿ç”¨çš„ï¼Œ<strong>é‚£éº¼åœ¨é–‹å§‹ä¹‹å‰æˆ‘å€‘å¤§è‡´èªªä¸€ä¸‹ä»Šå¤©çš„ä¸»è¦å…§å®¹ï¼š</strong></p><p>1. requetså¦‚ä½•ç™¼é€getè«‹æ±‚</p><p>2. requestså¦‚ä½•ç™¼é€postè«‹æ±‚</p><p>3. paramsåƒæ•¸å’Œdataåƒæ•¸çš„å€åˆ¥</p><p>4. requestsåº«ä¸­Sessioné¡çš„çš„å¦™ç”¨</p><p>5. é‡å°getè«‹æ±‚å’Œpostè«‹æ±‚ï¼Œå°requestsé€²è¡Œç°¡å–®å°è£</p><div class=pgc-img><img alt=æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“ï¼Œæ­£æµè¡Œçš„æ¥å£æ¸¬è©¦å·¥å…·requestsåº«åŸä¾†é€™éº¼å¥½ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/2b98d589-8a88-4218-8c2d-14480adab91e><p class=pgc-img-caption></p></div><p><strong>ç™¼é€getè«‹æ±‚</strong></p><p>requestsæ˜¯é€šéèª¿ç”¨get()æ–¹æ³•ä¾†å®Œæˆç™¼é€getè«‹æ±‚çš„ï¼Œé‚£éº¼ï¼Œåœ¨æŒæ¡requestsåº«å¦‚ä½•ç™¼é€getè«‹æ±‚ä¹‹å‰ï¼Œä½ é‚„æ‡‰è©²ç°¡å–®ç­è§£ä¸€ä¸‹ä»€éº¼æ˜¯getè«‹æ±‚ï¼Ÿ</p><p>é€šå¸¸åœ¨æˆ‘å€‘å­¸ç¿’ä¸€å€‹æ–¹æ³•å¦‚ä½•ä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘å€‘éœ€å…ˆçŸ¥é“é€™å€‹æ–¹æ³•éœ€è¦å“ªäº›åƒæ•¸ï¼Ÿåƒæ•¸é¡å‹æ˜¯ä»€éº¼ï¼Ÿ é‚£éº¼æˆ‘å€‘å°±å…ˆåˆ†æä¸€ä¸‹get()æ–¹æ³•çš„æºç¢¼ï¼š</p><p>def get(url, params=None, **kwargs):</p><p>r"""Sends a GET request.</p><p>:param url: URL for the new :class:`Request` object.</p><p>:param params: (optional) Dictionary, list of tuples or bytes to send</p><p>in the body of the :class:`Request`.</p><p>:param \*\*kwargs: Optional arguments that ``request`` takes.</p><p>:return: :class:`Response &lt;Response>` object</p><p>:rtype: requests.Response</p><p>"""</p><p>kwargs.setdefault('allow_redirects', True)</p><p>return request('get', url, params=params, **kwargs)</p><p>é€™å°±æ˜¯getæ–¹æ³•çš„æºç¢¼äº†ï¼Œä½ æ‡‰è©²èƒ½å¤ ç™¼ç¾ï¼Œget()æ–¹æ³•åªæœ‰ä¸€å€‹å¿…å‚³çš„åƒæ•¸urlï¼Œå…¶ä»–åƒæ•¸éƒ½æ˜¯éå¿…å‚³çš„ï¼Œé‚£éº¼å…¶ä»–çš„åƒæ•¸æœ‰ä»€éº¼ä½œç”¨å‘¢ï¼Ÿ</p><p><strong>params</strong></p><p>å°æ–¼é€™å€‹åƒæ•¸ï¼Œå¯ä»¥æ˜¯å­—å…¸ï¼Œä¹Ÿå¯ä»¥æ˜¯åµŒå¥—å…ƒçµ„çš„åˆ—è¡¨ï¼ŒåŸºæ–¼getè«‹æ±‚çš„ç‰¹é»ï¼Œè«‹æ±‚åƒæ•¸æ˜¯å¯ä»¥ç›´æ¥è·Ÿåœ¨URLä¹‹å¾Œçš„ï¼Œä»¥ï¼Ÿè™Ÿé–‹å§‹ä»¥key=valueçš„å½¢å¼å‚³é(å¤šå€‹åƒæ•¸ä½¿ç”¨&ç¬¦è™Ÿé€²è¡Œåˆ†å‰²)ï¼Œä½†æ˜¯ç‚ºäº†æ˜ç¢ºå€åˆ†URLå’Œåƒæ•¸ï¼Œå°±éœ€è¦ä½¿ç”¨paramsåƒæ•¸å‚³éã€‚</p><p>**kwargsï¼šå…¶ä»–ä¸€äº›é—œéµå­—åƒæ•¸ï¼Œæš«æ™‚ä¸åšä»‹ç´¹ã€‚</p><p>æ¥ä¸‹ä¾†æˆ‘å€‘ä¾†çœ‹2å€‹ç°¡å–®çš„å¯¦ä¾‹ï¼Œé«”æœƒä¸€ä¸‹reauetsé€šéget()æ–¹æ³•ç™¼é€ä¸€å€‹ä¸å¸¶åƒæ•¸çš„getè«‹æ±‚å’Œå¸¶åƒæ•¸çš„è«‹æ±‚çš„éç¨‹ã€‚</p><p>é€šéget()æ–¹æ³•ç™¼é€getè«‹æ±‚è¨ªå•åšå®¢åœ’é¦–é </p><p>"""</p><p>------------------------------------</p><p>@Time : 2019/7/11 20:34</p><p>@Auth : linuxè¶…</p><p>@File : requests_blog.py</p><p>@IDE : PyCharm</p><p>@Motto: Real warriors,dare to face the bleak warning,dare to face the incisive error!</p><p>------------------------------------</p><p>"""</p><p>import requests # å°å…¥requestsæ¨¡å¡Š</p><p>response = requests.get('https://www.cnblogs.com/') # ç™¼é€getè«‹æ±‚</p><p>print(response.text) # ç²å–éŸ¿æ‡‰æ•¸æ“š</p><p>éŸ¿æ‡‰æ•¸æ“š</p><p>&lt;!DOCTYPE html></p><p>&lt;html></p><p>&lt;head></p><p>&lt;meta charset="utf-8" /></p><p>&lt;meta name="viewport" content="width=device-width, initial-scale=1" /></p><p>&lt;meta name="referrer" content="always" /></p><p>&lt;title>åšå®¢åœ’ - ä»£ç¢¼æ”¹è®Šä¸–ç•Œ&lt;/title></p><p>&lt;meta name="keywords" content="é–‹ç™¼è€…,åšå®¢åœ’,é–‹ç™¼è€…,ç¨‹åºçŒ¿,ç¨‹åºåª›,æ¥µå®¢,ç·¨ç¨‹,ä»£ç¢¼,é–‹æº,ITç¶²ç«™,Developer,Programmer,Coder,Geek,æŠ€è¡“ç¤¾å€" /></p><p>&lt;meta name="description" content="åšå®¢åœ’æ˜¯ä¸€å€‹é¢å‘é–‹ç™¼è€…çš„çŸ¥è­˜åˆ†äº«ç¤¾å€ã€‚è‡ªå‰µå»ºä»¥ä¾†ï¼Œåšå®¢åœ’ä¸€ç›´è‡´åŠ›ä¸¦å°ˆæ³¨æ–¼ç‚ºé–‹ç™¼è€…æ‰“é€ ä¸€å€‹ç´”æ·¨çš„æŠ€è¡“äº¤æµç¤¾å€ï¼Œæ¨å‹•ä¸¦å¹«åŠ©é–‹ç™¼è€…é€šéäº’è¯ç¶²åˆ†äº«çŸ¥è­˜ï¼Œå¾è€Œè®“æ›´å¤šé–‹ç™¼è€…å¾ä¸­å—ç›Šã€‚åšå®¢åœ’çš„ä½¿å‘½æ˜¯å¹«åŠ©é–‹ç™¼è€…ç”¨ä»£ç¢¼æ”¹è®Šä¸–ç•Œã€‚" /></p><p>&lt;link rel="shortcut icon" href="//common.cnblogs.com/favicon.ico" type="image/x-icon" /></p><p>&lt;link rel="Stylesheet" type="text/css" href="../../bundles/aggsite.css?v=IlEZk4Ic2eCzcO6r0s4bGm62FAo8VZI-US_0EqUe2Bk1" /></p><p>&lt;link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="http://feed.cnblogs.com/blog/sitehome/rss" /></p><p>&lt;script src="//common.cnblogs.com/scripts/jquery-2.2.0.min.js" type="text/javascript">&lt;/script></p><p>&lt;script src="../../bundles/aggsite.js?v=cE0bqImLWsEG3gZXOupKxj5tj_ukK7pLeSd73DHZOT81" type="text/javascript">&lt;/script></p><p>&lt;script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'>&lt;/script></p><p>&lt;script></p><p>var googletag = googletag || {};</p><p>googletag.cmd = googletag.cmd || [];</p><p>&lt;/script></p><p>é€™è£¡æˆ‘åªæˆªå–äº†ä¸€éƒ¨åˆ†éŸ¿æ‡‰æ•¸æ“šï¼ŒéŸ¿æ‡‰æ•¸æ“šå…¶å¯¦æ˜¯åšå®¢åœ’çš„é¦–é HTMLæºç¢¼ã€‚</p><p>å¯ä»¥çœ‹åˆ°åªéœ€è¦ä¸€è¡Œä»£ç¢¼å³å¯å®Œæˆæ•´å€‹è«‹æ±‚éç¨‹ï¼Œé€šéresponse.textå¾—åˆ°éŸ¿æ‡‰æ•¸æ“š(å…¶å¯¦é€™å€‹éç¨‹å’Œæˆ‘å€‘åœ¨ç€è¦½å™¨ä¸­è¼¸å…¥åšå®¢åœ’åœ°å€è¨ªå•æ˜¯ä¸€æ¨£çš„)ï¼Œç•¶ç„¶ä½ é‚„å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„æ–¹æ³•ç²å–ä¸åŒçš„éŸ¿æ‡‰æ•¸æ“šã€‚</p><p>response.headers # ç²å–éŸ¿æ‡‰é ­ä¿¡æ¯</p><p>response.cookies # ç²å–è¿”å›çš„cookie</p><p>response.status_code # ç²å–ç‹€æ…‹ç¢¼</p><p>ç™¼é€å¸¶paramsåƒæ•¸çš„getè«‹æ±‚</p><p>"""</p><p>------------------------------------</p><p>@Time : 2019/7/11 20:34</p><p>@Auth : linuxè¶…</p><p>@File : requests_blog.py</p><p>@IDE : PyCharm</p><p>@Motto: Real warriors,dare to face the bleak warning,dare to face the incisive error!</p><p>------------------------------------</p><p>"""</p><p>import requests</p><p>login_url = r'http://***:8080/futureloan/mvc/api/member/login' # æ¥å£åœ°å€</p><p>login_data = {"mobilephone": "13691579841", "pwd": 123456} # æ¥å£æ‰€éœ€åƒæ•¸</p><p>response = requests.get(url=login_url, params=login_data) # ç™¼é€getè«‹æ±‚</p><p>print(response.text) # ç²å–éŸ¿æ‡‰æ•¸æ“š</p><p>print(response.url)</p><p>éŸ¿æ‡‰æ•¸æ“š</p><p>{"status":1,"code":"10001","data":null,"msg":"ç™»éŒ„æˆåŠŸ"}</p><p>http://***:8080/futureloan/mvc/api/member/login?mobilephone=13691579841&pwd=123456</p><p>Process finished with exit code 0</p><p>æˆ‘å€‘é€šéå‚³éä¸€å€‹å­—å…¸çµ¦paramsåƒæ•¸ï¼Œå³å¯å®Œæˆå¸¶åƒæ•¸çš„getè«‹æ±‚ï¼Œä¸¦ç²å–éŸ¿æ‡‰æ•¸æ“šã€‚</p><div class=pgc-img><img alt=æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“ï¼Œæ­£æµè¡Œçš„æ¥å£æ¸¬è©¦å·¥å…·requestsåº«åŸä¾†é€™éº¼å¥½ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/9fa5f185-0ff4-48d4-806f-e38c2fa6accb><p class=pgc-img-caption></p></div><p><strong>æ³¨æ„</strong></p><p>1. æˆ‘å€‘æ—¥å¸¸å·¥ä½œä¸­ä¹Ÿæœ€å¥½å‚³éå­—å…¸ä½œç‚ºæ¥å£æ•¸æ“šï¼Œå¦‚æœæ•¸æ“šé¡å‹æ˜¯jsonå‰‡åœ¨ç™¼é€è«‹æ±‚çš„æ™‚å€™éœ€è¦å…ˆè½‰æˆå­—å…¸ã€‚</p><p>2. åªè¦ä½ ç™¼é€çš„æ˜¯getè«‹æ±‚ï¼Œä¸”ä¸æƒ³é€šéurlæ‹¼æ¥çš„æ–¹å¼ç›´æ¥å‚³éæ¥å£åƒæ•¸ï¼Œé‚£éº¼åªèƒ½ä½¿ç”¨paramsåƒæ•¸ä¾†å‚³é(å¦‚æœä½ ä½¿ç”¨dataï¼Œjsonç­‰åƒæ•¸æ™‚ä½ æœƒç™¼ç¾ï¼Œè«‹æ±‚ä¸¦ä¸æœƒæˆåŠŸ)ï¼Œå› ç‚ºé€šéparamså‚³éçš„åƒæ•¸æœƒé™„åŠ åˆ°urlå¾Œï¼Œé€™ä¹Ÿæ˜¯getè«‹æ±‚çš„ç‰¹é»ï¼Œå› æ­¤ä½ éœ€è¨˜ä½ï¼šç™¼é€getè«‹æ±‚æ™‚åƒæ•¸åªèƒ½ä½¿ç”¨paramså³å¯ã€‚</p><p>ä»¥ä¸Šåªæ˜¯ç°¡å–®çš„ç™¼é€getè«‹æ±‚çš„æ–¹æ³•ï¼Œè‡³æ–¼å¦‚ä½•ç™¼é€å¸¶å…¶ä»–åƒæ•¸çš„getè«‹æ±‚(æ¯”å¦‚headersï¼Œcookiesç­‰)ï¼Œé‚„éœ€å°get()é€²ä¸€æ­¥çš„ç ”ç©¶å’Œå¯¦è¸ã€‚</p><p><strong>ç™¼é€postè«‹æ±‚</strong></p><p>åŒæ¨£ï¼Œåœ¨é–‹å§‹å­¸ç¿’ä¸‹é¢çš„å…§å®¹ä¹‹å‰ï¼Œä»å»ºè­°ä½ å…ˆäº†è§£ä»€éº¼æ˜¯postè«‹æ±‚åŠå…¶ç‰¹é»ï¼Œå°ä½ å­¸ç¿’æ¥ä¸‹ä¾†çš„å…§å®¹ä¹Ÿæœƒæ›´å¥½ç†è§£ã€‚</p><p>requestsç™¼é€postè«‹æ±‚æ˜¯é€šépost()æ–¹æ³•ä¾†å¯¦ç¾çš„ï¼Œé‚£éº¼æˆ‘å€‘é‚„æ˜¯å…ˆçœ‹ä¸€ä¸‹å®ƒçš„æºç¢¼ï¼š</p><p>def post(url, data=None, json=None, **kwargs):</p><p>r"""Sends a POST request.</p><p>:param url: URL for the new :class:`Request` object.</p><p>:param data: (optional) Dictionary (will be form-encoded), bytes, or file-like object to send in the body of the :class:`Request`.</p><p>:param json: (optional) json data to send in the body of the :class:`Request`.</p><p>:param \*\*kwargs: Optional arguments that ``request`` takes.</p><p>:return: :class:`Response &lt;Response>` object</p><p>:rtype: requests.Response</p><p>"""</p><p>return request('post', url, data=data, json=json, **kwargs)</p><p>é€šéæºç¢¼æˆ‘å€‘å¯ä»¥ç™¼ç¾ï¼Œpost()å’Œget()ä¸€æ¨£ï¼Œåƒ…æœ‰ä¸€å€‹urlåƒæ•¸æ˜¯å¿…å‚³çš„ï¼Œå…¶ä»–ä»ç„¶å¯ä»¥ä¸å‚³éï¼Œä½†æ˜¯å…¶ä¸­dataå’Œjsonåƒæ•¸å»æ˜¯post()æ–¹æ³•ä¸­æœ€é‡è¦çš„åƒæ•¸ï¼Œä¸‹é¢å°±èªªä¸€ä¸‹ä½•æ™‚ä½¿ç”¨dataï¼Œä½•æ™‚ä½¿ç”¨jsonã€‚</p><div class=pgc-img><img alt=æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“ï¼Œæ­£æµè¡Œçš„æ¥å£æ¸¬è©¦å·¥å…·requestsåº«åŸä¾†é€™éº¼å¥½ç”¨ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/dfic-imagehandler/6b3a72e9-6116-499e-972a-32d0d4614798><p class=pgc-img-caption></p></div><p><strong>data</strong></p><p>å¤§å¤šæ•¸postè«‹æ±‚çš„æ¥å£é»˜èªæ”¯æŒåƒæ•¸é¡å‹Content-Typeç‚ºapplication/x-www-form-urlencoded, å®ƒå‘Šè¨´æˆ‘å€‘è«‹æ±‚çš„æ¥å£åƒæ•¸éœ€è¦å‚³éä¸€å€‹formè¡¨å–®ï¼Œé‚£éº¼æˆ‘å€‘å¾€å¾€æ˜¯é€šéæ§‹é€ ä¸€å€‹å­—å…¸ä¾†å‚³éformè¡¨å–®çš„ï¼Œ</p><p>æ‰€ä»¥ç•¶æˆ‘å€‘å‘æœå‹™å™¨æäº¤formè¡¨å–®æ™‚å°±å¯ä»¥ä½¿ç”¨dataåƒæ•¸ï¼Œå®ƒæœƒæ¥æ”¶ä¸€å€‹å­—å…¸é¡å‹çš„æ•¸æ“šï¼Œå­˜æ”¾åˆ°è«‹æ±‚é«”ä¸­ï¼Œç„¶å¾Œç™¼é€çµ¦æœå‹™å™¨(åƒæ•¸éœ€æ˜¯å­—å…¸é¡å‹)ã€‚</p><p><strong>Json</strong></p><p>é¦–å…ˆä½ è¨ªå•çš„æ¥å£éœ€è¦æ”¯æŒcontent_typeç‚ºapplication/jsonæ ¼å¼çš„æ•¸æ“šé¡å‹ï¼Œé‚£éº¼ä½ å°±å¯ä»¥é€šéjsoné€™å€‹åƒæ•¸ä¾†å‚³éæ¥å£åƒæ•¸ï¼ˆåƒæ•¸å¯ä»¥æ˜¯å­—å…¸ä¹Ÿå¯ä»¥æ˜¯jsoné¡å‹ï¼‰ã€‚</p><p>ä¸‹é¢æˆ‘å€‘ä¾†çœ‹ä¸€å€‹ç™¼é€postè«‹æ±‚ï¼Œä½¿ç”¨dataåƒæ•¸çš„å¯¦ä¾‹ï¼š</p><p>"""</p><p>------------------------------------</p><p>@Time : 2019/7/12 10:22</p><p>@Auth : linuxè¶…</p><p>@File : requests_blog.py</p><p>@IDE : PyCharm</p><p>@Motto: Real warriors,dare to face the bleak warning,dare to face the incisive error!</p><p>------------------------------------</p><p>"""</p><p>import requests</p><p>login_url = r'http://***.com:8080/futureloan/mvc/api/member/login' # æ¥å£åœ°å€</p><p>login_data = {"mobilephone": "13691579841", "pwd": 123456} # æ¥å£æ‰€éœ€åƒæ•¸</p><p>response = requests.post(url=login_url, data=login_data) # ç™¼é€postè«‹æ±‚</p><p>print(response.text) # ç²å–éŸ¿æ‡‰æ•¸æ“š</p><p>print(response.url)</p><p>print(response.status_code)</p><p><strong>éŸ¿æ‡‰æ•¸æ“š</strong></p><p>{"status":1,"code":"10001","data":null,"msg":"ç™»éŒ„æˆåŠŸ"}</p><p>http://***:8080/futureloan/mvc/api/member/login</p><p>200</p><p>Process finished with exit code 0</p><p>ä½¿ç”¨jsonåƒæ•¸å¯¦ä¾‹</p><p>"""</p><p>------------------------------------</p><p>@Time : 2019/7/12 10:22</p><p>@Auth : linuxè¶…</p><p>@File : requests_blog.py</p><p>@IDE : PyCharm</p><p>@Motto: Real warriors,dare to face the bleak warning,dare to face the incisive error!</p><p>------------------------------------</p><p>"""</p><p>import requests</p><p>login_url = r'http://***monban.com:8080/futureloan/mvc/api/member/login' # æ¥å£åœ°å€</p><p>login_data = {"mobilephone": "13691579841", "pwd": 123456} # æ¥å£æ‰€éœ€åƒæ•¸</p><p>response = requests.post(url=login_url, json=login_data) # ç™¼é€postè«‹æ±‚</p><p>print(response.text) # ç²å–éŸ¿æ‡‰æ•¸æ“š</p><p>print(response.url)</p><p>print(response.status_code)</p><p><strong>éŸ¿æ‡‰æ•¸æ“š</strong></p><p>{"status":0,"code":"20103","data":null,"msg":"æ‰‹æ©Ÿè™Ÿä¸èƒ½ç‚ºç©º"}</p><p>http://***/futureloan/mvc/api/member/login</p><p>200</p><p>Process finished with exit code 0</p><p>å¯ä»¥çœ‹åˆ°ä½¿ç”¨dataåƒæ•¸å’Œjsonåƒæ•¸ï¼Œç²å–åˆ°çš„è¿”å›çµæœæ˜¯ä¸ä¸€æ¨£çš„ï¼Œå› ç‚ºæˆ‘é€™è£¡ä½¿ç”¨çš„æ¥å£ä¸æ”¯æŒapplication/jsonæ•¸æ“šæ ¼å¼ï¼Œæ‰€ä»¥ç•¶ä½ ä½¿ç”¨jsonåƒæ•¸å‚³éåƒæ•¸æ™‚ï¼Œæœå‹™å™¨æ˜¯ç„¡æ³•è§£ææ•¸æ“šçš„ï¼Œä¹Ÿå°±ä¸æœƒè¿”å›æ­£ç¢ºçš„çµæœäº†ã€‚</p><p>æ‰€ä»¥å°æ–¼ä½•æ™‚ä½¿ç”¨dataåƒæ•¸ï¼Œä½•æ™‚ä½¿ç”¨jsonåƒæ•¸ï¼Œé‚„éœ€è¦æ ¹æ“šå¯¦éš›çš„æ¥å£æ‰€æ”¯æŒçš„æ•¸æ“šé¡å‹é€²è¡Œé¸æ“‡ã€‚</p><p><strong>paramså’Œdataå€åˆ¥</strong></p><p>ä¸Šé¢å·²ç¶“èªªégetè«‹æ±‚ä¸­çš„paramsåƒæ•¸å’Œpostè«‹æ±‚ä¸­çš„dataåƒæ•¸ï¼Œé‚£éº¼é€™å…©å€‹åƒæ•¸åˆ°åº•æœ‰ä»€éº¼å€åˆ¥å‘¢ï¼Ÿ</p><p>1. ç™¼é€getè«‹æ±‚æ™‚ï¼Œç”±æ–¼getè«‹æ±‚æ²’æœ‰è«‹æ±‚é«”ï¼Œè«‹æ±‚åƒæ•¸åªèƒ½è·Ÿåœ¨urlåœ°å€å¾Œçš„ï¼Œè€Œä¸”æœå‹™å™¨ä¹Ÿåªèƒ½é€šéè§£æurlç²å¾—è«‹æ±‚çš„åƒæ•¸ï¼Œå› æ­¤get()æ–¹æ³•ç™¼é€getè«‹æ±‚æ™‚åªèƒ½ä½¿ç”¨paramsåƒæ•¸ï¼Œå®ƒæœƒæŠŠè«‹æ±‚çš„åƒæ•¸é»˜èªè¿½åŠ åˆ°urlåœ°å€å¾Œé¢ã€‚</p><p>2. é€šå¸¸æƒ…æ³ä¸‹ç”¨æˆ¶éœ€è¦æäº¤æŸäº›æ•¸æ“šæ™‚ï¼Œç™¼é€çš„è«‹æ±‚ä¸€èˆ¬éƒ½ç‚ºpostè«‹æ±‚ï¼Œpostè«‹æ±‚æœƒæäº¤ä¸€å€‹formè¡¨å–®ï¼Œé‚£éº¼æˆ‘å€‘å°±å¯ä»¥æ§‹é€ ä¸€å€‹å­—å…¸æ ¼å¼çš„æ•¸æ“šï¼Œä½¿ç”¨dataåƒæ•¸å‚³éï¼Œç”±æ–¼postè«‹æ±‚æ˜¯æœ‰è«‹æ±‚é«”çš„ï¼Œè€Œä¸”è«‹æ±‚åƒæ•¸å°±å­˜æ”¾åœ¨è«‹æ±‚é«”ä¸­ï¼Œæœå‹™å™¨ä¹Ÿåªèƒ½é€šéè§£æè«‹æ±‚é«”ä¸­å…§å®¹è€Œç²å¾—è«‹æ±‚çš„åƒæ•¸ï¼Œæ‰€ä»¥postè«‹æ±‚ä¸èƒ½ä½¿ç”¨paramså‚³éæ¥å£åƒæ•¸ï¼Œåªèƒ½ä½¿ç”¨dataï¼Œjsonï¼Œfileç­‰, dataåƒæ•¸æœƒæŠŠè«‹æ±‚åƒæ•¸æ”¾åˆ°è«‹æ±‚é«”ä¸­ã€‚</p><p><strong>Sessioné¡çš„å¦™ç”¨</strong></p><p>å¯¦éš›å·¥ä½œä¸­ï¼Œæˆ‘å€‘æœƒç¶“å¸¸é‡åˆ°éœ€è¦ä¿æŒæŸä¸€å€‹ç‹€æ…‹ï¼Œæ‰èƒ½æ¸¬è©¦å¾ŒçºŒçš„æ¥å£ï¼Œæ¯”å¦‚èªªï¼šå……å€¼æ¥å£ï¼Œé‚£éº¼éœ€è¦ç”¨æˆ¶å…ˆç™»éŒ„ï¼Œä¸”ä¸€ç›´ä¿æŒç™»éŒ„ç‹€æ…‹æ‰èƒ½é€²è¡Œå……å€¼ï¼Œé‚£éº¼å°æ–¼é€™ç¨®æƒ…æ³è©²æ€éº¼è§£æ±ºå‘¢ï¼Ÿé€™å°±è¦ç”¨åˆ°requestsåº«ä¸­çš„Sessioné¡äº†ï¼ŒSessionå¯ä»¥ä¿æŒè«‹æ±‚çš„ç‹€æ…‹ï¼Œåƒæˆ‘å€‘è¨ªå•æŸå€‹ç¶²ç«™ä¸€æ¨£ï¼Œæˆ‘å€‘åªè¦ç™»éŒ„å¾Œå°±å¯ä»¥ç€è¦½è©²ç¶²ç«™ä¸Šçš„ä»»æ„é é¢ï¼Œå…ˆçœ‹ä¸‹é¢å¯¦ä¾‹ï¼š</p><p>"""</p><p>------------------------------------</p><p>@Time : 2019/7/12 10:22</p><p>@Auth : linuxè¶…</p><p>@File : requests_blog.py</p><p>@IDE : PyCharm</p><p>@Motto: Real warriors,dare to face the bleak warning,dare to face the incisive error!</p><p>------------------------------------</p><p>"""</p><p>import requests</p><p>login_url = r'http://***:8080/futureloan/mvc/api/member/login' # ç™»éŒ„æ¥å£åœ°å€</p><p>login_data = {"mobilephone": "13691579841", "pwd": 123456} # æ¥å£æ‰€éœ€åƒæ•¸</p><p>response_login = requests.post(url=login_url, data=login_data) # ç™¼é€postè«‹æ±‚ ç™»éŒ„</p><p>print(response_login.text)</p><p>recharge_url = r'http://***:8080/futureloan/mvc/api/member/recharge' # å……å€¼æ¥å£åœ°å€</p><p>recharge_data = {"mobilephone": "13691579841", "amount": 10000.00} # æ¥å£æ‰€éœ€åƒæ•¸</p><p>response_recharge = requests.post(url=recharge_url, data=recharge_data) # ç™¼é€è«‹æ±‚ï¼Œé–‹å§‹å……å€¼</p><p>print(response_recharge.text)</p><p>åŸ·è¡Œçµæœ</p><p>{"status":1,"code":"10001","data":null,"msg":"ç™»éŒ„æˆåŠŸ"}</p><p>{"status":0,"code":null,"data":null,"msg":"æŠ±æ­‰ï¼Œè«‹å…ˆç™»éŒ„ã€‚"}</p><p>Process finished with exit code 0</p><p>å¯ä»¥ç™¼ç¾ï¼Œæˆ‘å€‘ä¹‹å‰éƒ½å·²ç¶“ç™»éŒ„éäº†ï¼Œä½†æ˜¯å……å€¼æ™‚å»å¤±æ•—äº†ï¼ŒåŸå› å°±æ˜¯ç›´æ¥ä½¿ç”¨reauestsä¾†ç™¼é€è«‹æ±‚æ™‚ï¼Œä¸¦ä¸æœƒä¿æŒç•¶å‰çš„ç‹€æ…‹(é€™ä¹Ÿæ˜¯HTTPè«‹æ±‚çš„ç¼ºé™·)ï¼Œç¾åœ¨æˆ‘å€‘ä½¿ç”¨Sessionå°åƒå†æ¬¡ç™¼é€å……å€¼è«‹æ±‚ï¼Œä¿®æ”¹ä»£ç¢¼ã€‚</p><p>"""</p><p>------------------------------------</p><p>@Time : 2019/7/12 10:22</p><p>@Auth : linuxè¶…</p><p>@File : requests_blog.py</p><p>@IDE : PyCharm</p><p>@Motto: Real warriors,dare to face the bleak warning,dare to face the incisive error!</p><p>------------------------------------</p><p>"""</p><p>import requests</p><p>request = requests.Session() # åˆå§‹åŒ–Session</p><p>login_url = r'http://***:8080/futureloan/mvc/api/member/login' # ç™»éŒ„æ¥å£åœ°å€</p><p>login_data = {"mobilephone": "13691579841", "pwd": 123456} # æ¥å£æ‰€éœ€åƒæ•¸</p><p>response_login = request.request(method='post', url=login_url, data=login_data) # ç™¼é€postè«‹æ±‚ ç™»éŒ„</p><p>print(response_login.text)</p><p>recharge_url = r'http://***:8080/futureloan/mvc/api/member/recharge' # å……å€¼æ¥å£åœ°å€</p><p>recharge_data = {"mobilephone": "13691579841", "amount": 10000.00} # æ¥å£æ‰€éœ€åƒæ•¸</p><p>response_recharge = request.request(method='post', url=recharge_url, data=recharge_data) # ç™¼é€è«‹æ±‚ï¼Œé–‹å§‹å……å€¼</p><p>print(response_recharge.text)</p><p>åŸ·è¡Œçµæœ</p><p>{"status":1,"code":"10001","data":null,"msg":"ç™»éŒ„æˆåŠŸ"}</p><p>{"status":1,"code":"10001","data":</p><p>{"id":5451,"regname":"test","pwd":"E10ADC3949BA59ABBE56E057F20F883E","mobilephone":"13691579841","leaveamount":"15000.00","type":"1","regtime":"2019-05-26 19:08:44.0"},</p><p>"msg":"å……å€¼æˆåŠŸ"}</p><p>Process finished with exit code 0</p><p>å¯ä»¥ç™¼ç¾ï¼Œæˆ‘å€‘æ”¹ç”¨Sessionå°è±¡ä¾†ç™¼é€å……å€¼è«‹æ±‚å°±æˆåŠŸäº†ã€‚é‚£é€™æ˜¯ä»€éº¼åŸå› å‘¢ï¼Ÿ</p><p>ç°¡å–®ä¾†èªªï¼Œç•¶æˆ‘å€‘ç¬¬ä¸€æ¬¡è«‹æ±‚æœå‹™å™¨æ™‚ï¼Œç²å–çš„éŸ¿æ‡‰ä¿¡æ¯æœƒåŒ…å«ä¸€å€‹set-cookieçš„å­—æ®µï¼Œä¿å­˜äº†æˆ‘å€‘ç™»éŒ„çš„cookiesä¿¡æ¯ï¼Œå¦‚æœæˆ‘å€‘æƒ³ä¿æŒé€™å€‹ç‹€æ…‹ï¼Œé‚£éº¼å†æ¬¡è¨ªå•æœå‹™å™¨æ™‚å°±éœ€è¦å¸¶ä¸Šé€™å€‹cookieså‚³éçµ¦æœå‹™å™¨ï¼Œæ‰èƒ½ä¿æŒé€™å€‹ç‹€æ…‹ã€‚</p><p>é‚£éº¼æˆ‘å€‘ä½¿ç”¨Sessionå°è±¡ç™¼é€è«‹æ±‚æ™‚ï¼ŒSessionæœƒè‡ªå‹•å¹«æˆ‘å€‘å®Œæˆä¸Šè¿°çš„éç¨‹ï¼ŒSessionæœƒè‡ªå‹•æŠŠcookiesçš„ä¿¡æ¯å‚³éçµ¦æœå‹™å™¨ï¼Œè€Œç„¡éœ€æˆ‘å€‘åœ¨è«‹æ±‚åƒæ•¸ä¸­æ‰‹å‹•æ·»åŠ cookiesï¼Œé€™æ¨£å°±ä¿æŒäº†ç™»éŒ„çš„ç‹€æ…‹ï¼Œå¾ŒçºŒçš„ä¾è³´æ“ä½œéƒ½å¯ä»¥æ­£å¸¸åŸ·è¡Œäº†ã€‚</p><p><strong>reqestsç°¡å–®å°è£</strong></p><p>æœ‰äººæœƒå•ï¼Œrequestsåº«å·²ç¶“å°è£çš„å¾ˆå¥½äº†ï¼Œç›´æ¥ç”¨å°±è¡Œäº†ï¼Œç‚ºå•¥é‚„è¦è‡ªå·±å°è£ä¸€æ¬¡ï¼Ÿ</p><p><strong>ç¬¬ä¸€.</strong>é€šéå°è£ï¼Œæˆ‘å¯ä»¥ç›´æ¥æŠŠæ‰€æœ‰çš„è«‹æ±‚åƒæ•¸çµ±ä¸€ä½¿ç”¨å­—å…¸ä¾†å‚³éã€€<strong>ã€€</strong></p><p>æ¯”å¦‚ï¼Œæˆ‘å€‘æ¥å£è«‹æ±‚éœ€è¦çš„æ•¸æ“šä¹Ÿå°±æ˜¯æ¸¬è©¦æ•¸æ“šå¾€å¾€æœƒä¿å­˜åœ¨excelè¡¨è£¡é¢ï¼Œé‚£éº¼æˆ‘å€‘å–åˆ°å¾Œæ˜¯å­—ç¬¦ä¸²é¡å‹ï¼Œå­—ç¬¦ä¸²æ˜¯ç„¡æ³•ä½œç‚ºè«‹æ±‚åƒæ•¸å‚³éçš„ï¼Œæ‰€ä»¥æˆ‘æ¯æ¬¡éƒ½è¦åšæ•¸æ“šè½‰æ›ï¼Œå†å‚³éçµ¦æ¥å£ï¼Œç‚ºäº†ç¯€çœé€™å€‹éç¨‹ï¼Œæˆ‘åªéœ€è¦æŠŠé€™å€‹éç¨‹å°è£åˆ°æˆ‘çš„requestsè£¡å³å¯ï¼Œæ¯æ¬¡å–æ•¸æ“šå¾Œè‡ªå‹•çµ¦æˆ‘è™•ç†ã€‚</p><p><strong>ç¬¬äºŒ.</strong>ç•¶æˆ‘æƒ³ä¿æŒæŸå€‹ç‹€æ…‹æ™‚ï¼Œä¸æƒ³æ¯æ¬¡éƒ½åˆå§‹åŒ–ä¸€å€‹Sessionå°è±¡ï¼Œé‚£éº¼æˆ‘å¯ä»¥æŠŠå®ƒå°è£åˆ°æˆ‘çš„requestsè£¡é¢ï¼Œä»¥å¾Œç›´æ¥èª¿ç”¨å³å¯ã€‚</p><p>ä¸‹é¢ä¾†çœ‹å°è£çš„ä»£ç¢¼</p><p>"""</p><p>------------------------------------</p><p>@Time : 2019/7/12 16:14</p><p>@Auth : linuxè¶…</p><p>@File : sendrequests.py</p><p>@IDE : PyCharm</p><p>@Motto: Real warriors,dare to face the bleak warning,dare to face the incisive error!</p><p>------------------------------------</p><p>"""</p><p>import json</p><p>import requests</p><p>class HttpRequests(object):</p><p>"""</p><p>eg: request = HttpRequests()</p><p>response = request(method, url, data)</p><p>or</p><p>response = request.send_request(method, url, data)</p><p>print(response.text)</p><p>"""</p><p>def __init__(self):</p><p>self.session = requests.Session()</p><p>def send_request(self, method, url, params_type='form', data=None, **kwargs):</p><p>method = method.upper()</p><p>params_type = params_type.upper()</p><p>if isinstance(data, str):</p><p>try:</p><p>data = json.loads(data)</p><p>except Exception:</p><p>data = eval(data)</p><p>if 'GET' == method:</p><p>response = self.session.request(method=method, url=url, params=data, **kwargs)</p><p>elif 'POST' == method:</p><p>if params_type == 'FORM': # ç™¼é€è¡¨å–®æ•¸æ“šï¼Œä½¿ç”¨dataåƒæ•¸å‚³é</p><p>response = self.session.request(method=method, url=url, data=data, **kwargs)</p><p>elif params_type == 'JSON': # å¦‚æœæ¥å£æ”¯æŒapplication/jsoné¡å‹ï¼Œå‰‡ä½¿ç”¨jsonåƒæ•¸å‚³é</p><p>response = self.session.request(method=method, url=url, json=data, **kwargs)</p><p>else: # å¦‚æœæ¥å£éœ€è¦å‚³éå…¶ä»–é¡å‹çš„æ•¸æ“šæ¯”å¦‚ ä¸Šå‚³æ–‡ä»¶ï¼Œèª¿ç”¨ä¸‹é¢çš„è«‹æ±‚æ–¹æ³•</p><p>response = self.session.request(method=method, url=url, **kwargs)</p><p># å¦‚æœè«‹æ±‚æ–¹å¼é get å’Œpost æœƒå ±éŒ¯ï¼Œç•¶ç„¶ä½ ä¹Ÿå¯ä»¥ç¹¼çºŒæ·»åŠ å…¶ä»–çš„è«‹æ±‚æ–¹æ³•</p><p>else:</p><p>raise ValueError('request method "{}" error ! please check'.format(method))</p><p>return response</p><p>def __call__(self, method, url, params_type='form', data=None, **kwargs):</p><p>return self.send_request(method, url,</p><p>params_type=params_type,</p><p>data=data,</p><p>**kwargs)</p><p>def close_session(self):</p><p>self.session.close()</p><p>try:</p><p>del self.session.cookies['JSESSIONID']</p><p>except:</p><p>Pass</p><p>request = HttpRequests()</p><p>if __name__ == '__main__':</p><p>pass</p><p>é€™å€‹å°è£åªé‡å°äº†getè«‹æ±‚å’Œpostè«‹æ±‚ï¼Œç•¶ç„¶ä½ ä¹Ÿå¯ä»¥æŠŠputï¼Œdeleteç­‰è«‹æ±‚æ·»åŠ åœ¨32è¡Œä»£ç¢¼å¾Œé¢ï¼Œå¯¦ç¾æ›´å¤šçš„è«‹æ±‚æ–¹å¼ã€‚</p><p>è§£é‡‹ä¸€ä¸‹30-34è¡Œä»£ç¢¼ï¼š é€™å¹¾è¡Œæ•¸æ“šæ˜¯ç‚ºäº†æŠŠjsonå’Œå­—ç¬¦ä¸²é¡å‹çš„æ•¸æ“šè½‰æ›ç‚ºå­—å…¸çš„æ ¼å¼(é€šéä½¿ç”¨å­—å…¸å‚³éæ¥å£åƒæ•¸)ä¸”å¯ä»¥è™•ç†ä¸€äº›ç‰¹æ®Šçš„å½¢å¼ï¼Œæ¯”å¦‚ä¸‹é¢é€™æ¨£çš„æ ¼å¼ã€‚</p><p>'{"mobilephone": None, "pwd": null}' # å­—ç¬¦ä¸²é¡å‹çš„ï¼Œä½†æ˜¯å³ä¸æ˜¯jsonå½¢å¼çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸æ˜¯å­—å…¸é¡å‹çš„å­—ç¬¦ä¸²ï¼Œå› ç‚ºå­—å…¸è£¡é¢æ²’æœ‰nullã€‚</p><p><strong>å°è£æ¸¬è©¦</strong></p><p>ç¾åœ¨æˆ‘å€‘ä½¿ç”¨å°è£å¥½çš„æ–¹æ³•ä¾†æ¸¬è©¦ä¸€ä¸‹ç™¼é€ç™»éŒ„å’Œå……å€¼æ¥å£çš„è«‹æ±‚</p><p>"""</p><p>------------------------------------</p><p>@Time : 2019/7/12 16:16</p><p>@Auth : linuxè¶…</p><p>@File : test_requests.py</p><p>@IDE : PyCharm</p><p>@Motto: Real warriors,dare to face the bleak warning,dare to face the incisive error!</p><p>------------------------------------</p><p>"""</p><p>from sendrequests import request</p><p>import unittest</p><p>class TestRequests(unittest.TestCase):</p><p># ç™»éŒ„æ¥å£åœ°å€</p><p>login_url = r'http://***:8080/futureloan/mvc/api/member/login'</p><p># ç™»éŒ„æ¥å£æ¸¬è©¦æ•¸æ“š</p><p>login_test_value = '{"mobilephone": "13691579841", "pwd": 123456}'</p><p># å……å€¼æ¥å£åœ°å€</p><p>recharge_url = r'http://***:8080/futureloan/mvc/api/member/recharge'</p><p># å……å€¼æ¥å£æ¸¬è©¦æ•¸æ“š</p><p>recharge_test_value = {"mobilephone": "13691579841", "amount": 10000.00}</p><p>def test_login_api(self):</p><p>"""ç™»éŒ„æ¥å£æ¸¬è©¦ç”¨ä¾‹"""</p><p>response = request('get', url=self.login_url, data=self.login_test_value)</p><p>self.assertTrue(response.json()["code"] == "10001")</p><p>print("ç™»éŒ„æ¥å£æ¸¬è©¦é€šé")</p><p>def test_recharge_api(self):</p><p>"""å……å€¼æ¥å£æ¸¬è©¦ç”¨ä¾‹"""</p><p>response = request('get', url=self.login_url, data=self.login_test_value)</p><p>try:</p><p># å……å€¼æ¥å£éœ€è¦å…ˆç™»éŒ„ï¼Œæ‰èƒ½å……å€¼</p><p>self.assertTrue(response.json()["code"] == '10001')</p><p>except AssertionError as e:</p><p>print('ç™»éŒ„å¤±æ•—!')</p><p>raise e</p><p>else:</p><p>response = request('post', url=self.recharge_url, data=self.recharge_test_value)</p><p>self.assertTrue(response.json()["code"] == "10001")</p><p>print("å……å€¼æ¥å£æ¸¬è©¦é€šé")</p><p>if __name__ == '__main__':</p><p>unittest.main()</p><p>æ¸¬è©¦çµæœ</p><p>ç™»éŒ„æ¥å£æ¸¬è©¦é€šé</p><p>..</p><p>å……å€¼æ¥å£æ¸¬è©¦é€šé</p><p>----------------------------------------------------------------------</p><p>Ran 2 tests in 0.570s</p><p>OK</p><p>Process finished with exit code 0</p><p>okï¼Œæ¸¬è©¦ä»£ç¢¼åŸ·è¡Œé€šéï¼Œèªªæ˜æˆ‘å€‘çš„å°è£æ²’æœ‰å•¥å•é¡Œï¼Œ ä¸”å¯ä»¥æ­£å¸¸ç™¼é€getå’Œpostè«‹æ±‚ï¼Œä¹Ÿå¯ä»¥è§£æ±ºæ¸¬è©¦æ•¸æ“šå•é¡Œå’Œéœ€è¦æ¥å£ä¾è³´çš„å•é¡Œã€‚</p><div class=pgc-img><img alt=æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“ï¼Œæ­£æµè¡Œçš„æ¥å£æ¸¬è©¦å·¥å…·requestsåº«åŸä¾†é€™éº¼å¥½ç”¨ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/cc576679-30ca-477e-b874-61909607c2c5><p class=pgc-img-caption></p></div><p><strong>ç¸½çµ</strong></p><p>æœ€å¾Œæˆ‘å€‘å†ä¾†ç¸½çµä¸€ä¸‹æœ¬æ–‡æ¶‰åŠåˆ°çš„æ‰€æœ‰çš„çŸ¥è­˜é»å’Œä½ éœ€è¦æŒæ¡çš„ã€‚</p><p>1.requestsç™¼é€getè«‹æ±‚å’Œpostè«‹æ±‚çš„æ–¹æ³•</p><p>get(url, params=None, **kwargs)</p><p>post(url, data=None, json=None, **kwargs)</p><p>2.parmasåƒæ•¸å’Œdataåƒæ•¸çš„å€åˆ¥</p><p>ç”±æ–¼getè«‹æ±‚ç„¡è«‹æ±‚é«”ï¼Œpostè«‹æ±‚æœ‰è«‹æ±‚é«”ã€‚</p><p>ä½¿ç”¨paramsåƒæ•¸æ™‚ï¼Œé»˜èªæœƒæŠŠåƒæ•¸é™„åŠ åˆ°urlå¾Œé¢ï¼Œæ‰€ä»¥ç™¼é€getè«‹æ±‚æ™‚æ‡‰ä½¿ç”¨paramsåƒæ•¸ã€‚</p><p>ä½¿ç”¨dataåƒæ•¸æ™‚ï¼Œåƒæ•¸æœƒå­˜æ”¾åˆ°è«‹æ±‚é«”ä¸­ï¼Œæ‰€ä»¥ç™¼é€postè«‹æ±‚æ™‚ä¸èƒ½ä½¿ç”¨paramsï¼Œæ‡‰ä½¿ç”¨dataï¼Œé™¤éæ¥å£åŠæ”¯æŒgetåˆæ”¯æŒpostï¼ŒåŒæ¨£getè«‹æ±‚ä¹Ÿä¸èƒ½ä½¿ç”¨dataåƒæ•¸ã€‚</p><p>3.å¦‚ä½•ä½¿ç”¨Seesionè§£æ±ºæ¥å£ä¿æŒç‹€æ…‹çš„å•é¡Œ</p><p>åˆå§‹åŒ–Sessionå¯¦ä¾‹ï¼Œé€šéé€™å€‹å¯¦ä¾‹èª¿ç”¨request()æ–¹æ³•ç™¼é€è«‹æ±‚ã€‚</p><p>4.æœ€é‡è¦çš„ä¸€å€‹å°è£æ–¹æ³•ï¼Œä¸¦æŒæ¡é€™å€‹å°è£è©²å¦‚ä½•ä½¿ç”¨</p><p>ä¸»è¦é‡å°getå’Œpostè«‹æ±‚çš„æ¥å£ã€‚</p><p><strong>è«‹é—œæ³¨+ç§ä¿¡å›è¦†ï¼šâ€œå­¸ç¿’â€å°±å¯ä»¥å…è²»æ‹¿åˆ°è»Ÿä»¶æ¸¬è©¦å­¸ç¿’è³‡æ–™</strong></p><div class=pgc-img><img alt=æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“ï¼Œæ­£æµè¡Œçš„æ¥å£æ¸¬è©¦å·¥å…·requestsåº«åŸä¾†é€™éº¼å¥½ç”¨ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/6a8aceadda87417cb7fc23b33e78c89f><p class=pgc-img-caption></p></div></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>æ¸¬è©¦</a></li><li><a>requests</a></li><li><a>åº«åŸä¾†</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/6d1c2a0c.html alt=å¡‘æ–™æ‰¯æ–·ä¼¸é•·ç‡çš„æ¦‚å¿µåŠæ¸¬è©¦è¦é» class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/6fe0ba07-c929-4046-9216-7f6d5eaa1716 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6d1c2a0c.html title=å¡‘æ–™æ‰¯æ–·ä¼¸é•·ç‡çš„æ¦‚å¿µåŠæ¸¬è©¦è¦é»>å¡‘æ–™æ‰¯æ–·ä¼¸é•·ç‡çš„æ¦‚å¿µåŠæ¸¬è©¦è¦é»</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ebbbc375.html alt=æ™‚é–“ç¹¼é›»å™¨æ¸¬è©¦å„€çš„ä½¿ç”¨æ–¹æ³• class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1205bf787f1f4de6a5f1e73e7737887b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ebbbc375.html title=æ™‚é–“ç¹¼é›»å™¨æ¸¬è©¦å„€çš„ä½¿ç”¨æ–¹æ³•>æ™‚é–“ç¹¼é›»å™¨æ¸¬è©¦å„€çš„ä½¿ç”¨æ–¹æ³•</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bee6be40.html alt=æ²³åŒ—çœé‚¯é„²å¸‚è¨ˆé‡æ¸¬è©¦æ‰€å¤§åŠ›å¯¦æ–½å°ˆæ¥­æŠ€èƒ½æå‡è¡Œå‹• class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bee6be40.html title=æ²³åŒ—çœé‚¯é„²å¸‚è¨ˆé‡æ¸¬è©¦æ‰€å¤§åŠ›å¯¦æ–½å°ˆæ¥­æŠ€èƒ½æå‡è¡Œå‹•>æ²³åŒ—çœé‚¯é„²å¸‚è¨ˆé‡æ¸¬è©¦æ‰€å¤§åŠ›å¯¦æ–½å°ˆæ¥­æŠ€èƒ½æå‡è¡Œå‹•</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9b084990.html alt=ä»‹è³ªæè€—æ¸¬è©¦å„€çš„æ“ä½œæ–¹æ³•èˆ‡æ³¨æ„äº‹é … class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/1a746168-e5df-4643-9117-3f1fb4faf100 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9b084990.html title=ä»‹è³ªæè€—æ¸¬è©¦å„€çš„æ“ä½œæ–¹æ³•èˆ‡æ³¨æ„äº‹é …>ä»‹è³ªæè€—æ¸¬è©¦å„€çš„æ“ä½œæ–¹æ³•èˆ‡æ³¨æ„äº‹é …</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d38b572e.html alt=æœ‰é—œæ–¼å°„é »æ¸¬è©¦è¨­å‚™ï¼šé›»çºœ/å¤©ç·šåˆ†æå„€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/0e79c2e668d84f09be994180e66f90c8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d38b572e.html title=æœ‰é—œæ–¼å°„é »æ¸¬è©¦è¨­å‚™ï¼šé›»çºœ/å¤©ç·šåˆ†æå„€>æœ‰é—œæ–¼å°„é »æ¸¬è©¦è¨­å‚™ï¼šé›»çºœ/å¤©ç·šåˆ†æå„€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e0f90fbd.html alt=é€æ°£æ€§ã€é€æ°£åº¦æ¸¬è©¦çŸ¥å¤šå°‘ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/dfic-imagehandler/45ac8fb9-3365-4327-901d-b21b7cd9cbbf style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e0f90fbd.html title=é€æ°£æ€§ã€é€æ°£åº¦æ¸¬è©¦çŸ¥å¤šå°‘ï¼Ÿ>é€æ°£æ€§ã€é€æ°£åº¦æ¸¬è©¦çŸ¥å¤šå°‘ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/26e2bf51.html alt=æŒ¯å‹•æ¸¬è©¦ä¸­éœ€è¦äº†è§£çš„27å€‹å¸¸è­˜ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/523bd012e455466f857587d9314c3084 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/26e2bf51.html title=æŒ¯å‹•æ¸¬è©¦ä¸­éœ€è¦äº†è§£çš„27å€‹å¸¸è­˜>æŒ¯å‹•æ¸¬è©¦ä¸­éœ€è¦äº†è§£çš„27å€‹å¸¸è­˜</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/72951256.html alt=ç¾å ´å¯†åº¦æ¸¬è©¦æ–¹æ³•â€”â€”çŒç ‚æ³• class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/4e780002be67a3fa5bad style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/72951256.html title=ç¾å ´å¯†åº¦æ¸¬è©¦æ–¹æ³•â€”â€”çŒç ‚æ³•>ç¾å ´å¯†åº¦æ¸¬è©¦æ–¹æ³•â€”â€”çŒç ‚æ³•</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d260a748.html alt=æ¸¬è©¦é–‹ç™¼å°ˆé¡Œï¼šspring-bootçµ±ä¸€ç•°å¸¸æ•ç² class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/135918e30e2f4a2ea248b539eb383688 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d260a748.html title=æ¸¬è©¦é–‹ç™¼å°ˆé¡Œï¼šspring-bootçµ±ä¸€ç•°å¸¸æ•ç²>æ¸¬è©¦é–‹ç™¼å°ˆé¡Œï¼šspring-bootçµ±ä¸€ç•°å¸¸æ•ç²</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/01e5dc8b.html alt=æ±½è»Šåˆ¥å†æ¸¬è©¦æ²¹ç®±è­¦ç¤ºå¾Œè·‘å¤šé ï¼Œæ²¹ç®±çƒé–¥æ•…éšœå¾ˆå±éšª class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1527412810099aa43fbd71b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/01e5dc8b.html title=æ±½è»Šåˆ¥å†æ¸¬è©¦æ²¹ç®±è­¦ç¤ºå¾Œè·‘å¤šé ï¼Œæ²¹ç®±çƒé–¥æ•…éšœå¾ˆå±éšª>æ±½è»Šåˆ¥å†æ¸¬è©¦æ²¹ç®±è­¦ç¤ºå¾Œè·‘å¤šé ï¼Œæ²¹ç®±çƒé–¥æ•…éšœå¾ˆå±éšª</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c6a66288.html alt=æ€§èƒ½æ¸¬è©¦çš„åˆ†é¡ã€æµç¨‹åŠå·¥å…·ä»‹ç´¹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c6a66288.html title=æ€§èƒ½æ¸¬è©¦çš„åˆ†é¡ã€æµç¨‹åŠå·¥å…·ä»‹ç´¹>æ€§èƒ½æ¸¬è©¦çš„åˆ†é¡ã€æµç¨‹åŠå·¥å…·ä»‹ç´¹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3eeb035b.html alt=æ‡¸ç´¢æ©‹çš„â€œåŸå§‹æŒ‡ç´‹æ¸¬è©¦â€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/2157b4b13e4b4f42820eb641677f2c23 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3eeb035b.html title=æ‡¸ç´¢æ©‹çš„â€œåŸå§‹æŒ‡ç´‹æ¸¬è©¦â€>æ‡¸ç´¢æ©‹çš„â€œåŸå§‹æŒ‡ç´‹æ¸¬è©¦â€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cffb680d.html alt=è»Ÿä»¶æ¸¬è©¦å¿…å‚™ä¹‹æ•¸æ“šåº«çŸ¥è­˜ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1adc8d8adfcd4b239442f447cebf7731 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cffb680d.html title=è»Ÿä»¶æ¸¬è©¦å¿…å‚™ä¹‹æ•¸æ“šåº«çŸ¥è­˜>è»Ÿä»¶æ¸¬è©¦å¿…å‚™ä¹‹æ•¸æ“šåº«çŸ¥è­˜</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/63a90cc1.html alt=é‡è¦æé†’ï¼šåˆ¥è®“ä½ çš„UIè‡ªå‹•åŒ–æ¸¬è©¦æŠ€è¡“è½å¾Œåˆ¥äººä¸€å€‹æ™‚ä»£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/c9173ecb95284123b89717ae657af26d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/63a90cc1.html title=é‡è¦æé†’ï¼šåˆ¥è®“ä½ çš„UIè‡ªå‹•åŒ–æ¸¬è©¦æŠ€è¡“è½å¾Œåˆ¥äººä¸€å€‹æ™‚ä»£>é‡è¦æé†’ï¼šåˆ¥è®“ä½ çš„UIè‡ªå‹•åŒ–æ¸¬è©¦æŠ€è¡“è½å¾Œåˆ¥äººä¸€å€‹æ™‚ä»£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7e539424.html alt=æ™‚é˜æ¸¬è©¦å„€æ˜¯å¦‚ä½•æ ¡æº–çš„ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/fadd9ef687ec4d4f9df7047e1c255709 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7e539424.html title=æ™‚é˜æ¸¬è©¦å„€æ˜¯å¦‚ä½•æ ¡æº–çš„>æ™‚é˜æ¸¬è©¦å„€æ˜¯å¦‚ä½•æ ¡æº–çš„</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>