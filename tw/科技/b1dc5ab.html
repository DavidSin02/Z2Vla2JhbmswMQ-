<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>滴滴七層接入平臺實踐和探索 | 极客快訊</title><meta property="og:title" content="滴滴七層接入平臺實踐和探索 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/9068eb9b30b145f28c5548b5970cefba"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b1dc5ab.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b1dc5ab.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b1dc5ab.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b1dc5ab.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b1dc5ab.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b1dc5ab.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b1dc5ab.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b1dc5ab.html><meta property="article:published_time" content="2020-10-29T20:52:47+08:00"><meta property="article:modified_time" content="2020-10-29T20:52:47+08:00"><meta name=Keywords content><meta name=description content="滴滴七層接入平臺實踐和探索"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/b1dc5ab.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>滴滴七層接入平臺實踐和探索</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>滴滴七層接入平臺負責滴滴全公司http東西向和南北向流量的接入，其請求峰值qps數百萬，日請求量數千億，接入域名數千個、接入服務數千個、轉發規則數萬個，其穩定高效的運行對於保障滴滴業務至關重要。本文將主要介紹七層接入平臺在服務治理和穩定性建設上的實踐，同時也分享其在雲原生領域一些探索和規劃。</p><p style=text-align:justify><br></p><p style=text-align:justify><em><strong>1.</strong></em></p><p><strong>概況</strong></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9068eb9b30b145f28c5548b5970cefba><p class=pgc-img-caption></p></div><p>從2014年底誕生至今，滴滴七層接入平臺服務規模如下：<br></p><p><br></p><ul><li>負責全公司http請求東西向和南北向的流量接入和治理，涉及多個事業部。</li><li>請求峰值qps數百萬，日請求量數千億，接入域名數千個、接入服務數千個、轉發規則數萬個。</li></ul><p><br></p><p>千億級的流量轉發規模不僅對系統自身的穩定性和性能提出了極大的挑戰，業務對接入平臺也提出了更高的期望：除了自身穩定性和性能外，平臺要進一步賦能和助力業務穩定性和效能的提升，具體體現在：</p><p><br></p><ul><li><strong>自身穩定性</strong>可用性99.99%</li><li><strong>自身性能</strong>平均轉發延時&lt;1ms</li><li><strong>穩定性賦能</strong>作為http服務統一的技術底座和穩定性能力規模化重要抓手，輸出各種穩定性基礎能力賦能到業務穩定性的建設和提升。</li><li><strong>效能賦能</strong>挖掘痛點，提高研發/運維/測試全生命週期的效能。</li></ul><p><br></p><p>經過5年的持續迭代和演進，滴滴7層接入平臺整體架構如下：整體上分為數據面和控制面兩部分：</p><p>﻿</p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/98316e6750aa402fa230d29197272b18><p class=pgc-img-caption></p></div><p>圖1. 七層接入平臺整體架構<br></p><p><br></p><p><strong>數據面：</strong></p><p>基於開源nginx建設，提供高穩定、高性能、多協議、安全的流量接入和服務治理。</p><p><br></p><p style=text-align:justify><strong>控制面：</strong></p><ul><li><strong>接入和配置變更：</strong>自研配置變更平臺，用戶可以通過配置變更完成域名或服務的接入，並配置豐富的規則和策略。</li><li><strong>可觀察性：</strong>請求數據聯動滴滴監控體系，提供面向全公司的http服務細粒度和多維度監控以及監控大盤。</li><li><strong>服務治理：</strong>服務治理聯動滴滴公司級別911預案平臺、放火平臺，提供體驗統一的預案管理和故障注入操作能力。</li><li><strong>服務發現：</strong>服務發現聯動滴滴統一名字服務DSI（Didi Service Information），提供穩定、實時的服務發現能力。</li><li><strong>安全防控：</strong>安全防控聯動公司WAF系統，對滴滴全公司應用層安全進行保駕護航。</li></ul><p><br></p><p>本文將從以下三個方面進行滴滴七層接入平臺的實踐和探索介紹：「服務治理能力建設」、「穩定性建設」和「雲原生時代接入平臺探索」。</p><p><br></p><p style=text-align:justify><em><strong>2.</strong></em></p><p><strong>服務治理能力建設</strong></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9068eb9b30b145f28c5548b5970cefba><p class=pgc-img-caption></p></div><p>我們將從以下幾個方面進行服務治理能力介紹：「服務發現」、「預案能力」和「可觀察性」。<br></p><p><br></p><p style=text-align:justify><strong>▍服務發現</strong></p><p><br></p><p>經過調研，社區常用的upstream動態更新方案有4個：</p><p><br></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/d65e3c205315464d8eb3bc90876a41d3><p class=pgc-img-caption></p></div><p><br></p><p>表1. 社區upstream服務發現方案調研</p><p><br></p><p>以上方案均不能完全滿足我們的需求，參考方案3和方案4，我們重新設計了nginx upstream動態更新模塊，兼顧了穩定性、性能和可維護性，支持全公司http服務的服務發現，涉及數千個服務，特點如下：</p><p><br></p><ul><li>採用增量更新upstream server機制</li><li>提供基於HTTP Restful API的輕量upstream reload接口，實現對upstream的動態變更</li><li>完全兼容現有配置方式</li><li>對配置進行持久化</li></ul><p><br></p><p>同時通過接入平臺的服務發現實踐，我們抽象出公司級名字服務DSI（Didi Service Information），DSI通過open api，除了接入平臺外，公司服務發現SDK DiSF、四層代理DGW、容器平臺、部署系統等系統也已經全部和DSI進行了打通聯動，形成了公司基於DSI的統一服務發現體系，同時基於這套服務發現體系，也陸續孵化出一些穩定性工作的平臺和能力，比如自動哨兵壓測平臺進行子系統容量精確評估和預警，比如對業務透明的無損發佈機制等。</p><p><br></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d7e8dc92a79b46f0b79c58ea660193ae><p class=pgc-img-caption></p></div><p><br></p><p>圖2. 滴滴服務發現體系</p><p><br></p><p><strong>▍預案能力</strong></p><p><strong><br></strong></p><p>我們基於接入引擎建設了http服務統一的限流、切流、故障注入等底層服務治理能力，並且和公司級911預案平臺、放火平臺打通聯動，提供統一和易用的操作界面供用戶使用，具體包括：</p><p style=text-align:justify><br></p><ul><li>多維度限流能力、限流閾值自動推薦能力、限流閾值自適應能力，目前已經成為公司穩定性保障的重要抓手</li><li>多維度切流能力，在滴滴專快異地多活、子系統切流和業務上雲灰度中起到了重要的作用</li><li>基於接口粒度的錯誤率和延時故障注入能力，已經開始陸續在強弱依賴驗證、預案有效性驗證等場景中發揮作用。</li></ul><p><br></p><p><strong>▍可觀察性</strong></p><p><br></p><p>作為流量門戶，接入平臺通過輸出請求標準數據並打通SRM服務可觀察性系統，對公司http流量的可觀察性起到了重要作用。</p><p><br></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/34dbf1ee4746437cb5a8c381fca982e3><p class=pgc-img-caption></p></div><p>圖3. 多維度監控示例-接口監控</p><p><br></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/feb7218c9176442188c87f0120729b84><p class=pgc-img-caption></p></div><p>圖4. 服務監控大盤</p><p><br></p><p style=text-align:justify><em><strong>3.</strong></em></p><p><strong>穩定性建設</strong></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9068eb9b30b145f28c5548b5970cefba><p class=pgc-img-caption></p></div><p>七層接入平臺作為公司的超一級服務，對穩定性有著極高的要求，如果接入平臺出現穩定性故障，很有可能導致滴滴全平臺業務不可用，對公司帶來巨大的經濟和品牌損失。除了建設穩定性基礎能力外，我們還從以下3個方面重點進行七層接入平臺的穩定性建設：「歸零風險防控」、「接入引擎架構升級」和「配置變更風險防控」。</p><p><br></p><p><strong>▍歸零風險防控</strong></p><p><br>我們總結接入平臺主要的歸零風險為：代碼變更異常、容量不足、外網高可用能力欠缺、運維誤操作4類，相關應對措施分別為：</p><p><br></p><p><strong>代碼變更：</strong>技術上全部採用公司代碼變更風險防控機制的最嚴標準強制控制，流程上要求變更必須要跨天完成，至少經歷早晚兩個高峰。</p><p><br></p><p><strong>容量不足：</strong>制定了快速擴容技術方案，目前正在嘗試通過對接入引擎容器化提高彈性伸縮能力。</p><p><br></p><p><strong>外網高可用能力</strong>：通過httpdns進行流量切換和自建/非自建出口調度能力進行外網止損能力建設。</p><p><br></p><p><strong>運維誤操作</strong>：所有高風險運維操作必須double check和分級、運維操作隔離域功能的應用。</p><p><br></p><p style=text-align:justify><strong>▍接入引擎升級</strong></p><p><strong><br></strong></p><p>最開始我們使用的接入引擎是tengine，版本為2.1.0，發佈於2014年12月，tengine基於的nginx版本是1.6.2，2014年4月發佈，到2018年，我們陸續發現一些接入引擎的穩定性問題，主要體現在以下3方面：</p><p><br></p><ul><li>一些隱藏較深的bug不時在接入引擎上出現，修復成本和風險都較高，而最新的nginx已經全部修復。</li><li>一些新的需求在tengine1.6.2的架構下已經很難繼續演進和發展，比如動態upstream支持、一致性hash算法支持服務發現等，團隊的研發效率和系統的可擴展性都無法得到更好的滿足，最終也會體現在穩定性風險上。</li><li>一些穩定性能力提升的功能在最新nginx版本下已經得到了支持，比如worker_shutdown_timeout 和reuseport指令等，而我們還沒有辦法直接使用。</li></ul><p><br>為了徹底解決這3個方面的穩定性風險，我們將接入引擎從2014年的tengine成功升級到2018年的nginx，同時進行了很多優化工作，主要收益如下：</p><p style=text-align:justify><br></p><ul><li>修復了8個重要功能性能bug，其中5個在線上已經發生</li><li>進行了15項重要功能改進和優化，其中5個已經在線上觸發問題。</li><li>解決了發佈更新時部分實例流量抖動，嚴重時甚至cpu掉底的問題</li><li>解決了一致性hash算法在實例調權時全部接入引擎吞吐下降，業務劇烈抖動和報警的問題</li><li>創新性解決了srww算法在有哨兵場景下進行壓測或者發佈更新時服務劇烈抖動，嚴重時甚至cpu掉底的問題，相關patch正在整理中，計劃提交給nginx官方社區，後續也會整理文章對外分享。</li></ul><p style=text-align:justify><br></p><p>除了穩定性收益外，引擎升級新增了6個業務強需求的功能和5個業務有預期的功能，長遠看對接入引擎長期演進也奠定了良好的穩定性和擴展性基礎。</p><p><br></p><p style=text-align:justify><strong>▍配置變更風險防控</strong></p><p><br></p><p>接入平臺在2016和2017年分別有兩次導致全平臺故障的p1、p2（公司事故等級，最高p1）事故，原因全部為配置變更引起，接入平臺的配置描述能力過於強大和靈活，在提供豐富靈活能力的同時不可避免會帶來穩定性的隱患，因此配置變更的風險防控能力就作為穩定性保障的重中之重，我們設計實現了接入平臺配置變更平臺海姆，平臺抽象和約束了接入引擎配置模型，同時將代碼部署的風險防控能力全部複用到配置變更系統上，配置變更風險得到了較好的防控，再也沒有出現過因為配置變更導致的p2+故障。</p><p><br></p><p>海姆平臺的主要風險防控特點如下：</p><p><br></p><ul><li><strong>預防能力：</strong>配置模型的抽象和約束配置語法檢查和語義檢查能力配置強制review功能配置分級發佈功能（支持不同服務配置並行發佈）</li><li>配置強制double check功能</li></ul><p><br></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/39ec3e0676eb47ba85fb3ed0dda2b9d1><p class=pgc-img-caption></p></div><p>圖5. 轉發規則抽象示例</p><p><br></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/3287e7eb40c745c5b5f1faf336fcccc0><p class=pgc-img-caption></p></div><p>圖6. 配置變更風險防控能力</p><p><br></p><ul><li><strong>發現能力：</strong>配置變更系統打通風險防控體系，服務有異常會自動進行風險提示和變更攔截。</li></ul><p><br></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2bbc25fabd344bc7ab2c33409e563cc8><p class=pgc-img-caption></p></div><p>圖7.配置變更風險提示和攔截</p><p><br></p><ul><li><strong>止損能力：</strong>配置常態回滾和快速回滾能力</li></ul><p><br></p><p style=text-align:justify><em><strong>4.</strong></em></p><p><strong>雲原生時代接入平臺探索</strong></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9068eb9b30b145f28c5548b5970cefba><p class=pgc-img-caption></p></div><p style=text-align:justify><strong>▍多協議支持</strong></p><p><br></p><p style=text-align:justify>多協議支持是雲原生接入平臺非常重要的一個能力，業內主流的數據面sidecar envoy/linkerd2-proxy/mosn等都具備多協議支持的能力，而滴滴東西向流量最廣泛使用的協議就是http和thrift。</p><p style=text-align:justify><br></p><p style=text-align:justify>2019年隨著接入平臺對http協議流量管理和服務治理實踐的成熟和thrift協議統一高效服務治理的迫切性，我們啟動了接入引擎支持thrift協議的專項研發攻堅工作，目前已經在金融業務線進行了多個模塊的落地，幫助業務解決了服務優雅發佈、可觀察性等痛點，<strong>最近Nginx官方社區也已經認可接受我們的代碼作為第三方模塊，目前正在開源籌備中，</strong>thrift接入引擎具備如下的特點：</p><p style=text-align:justify><br></p><ul><li><strong>通用thrift編解碼器</strong></li></ul><ul><ul><li>支持多種序列化協議，包括TBinaryProtocol、TcompactProtocol</li><li>支持多種傳輸層協議，包括Tsocket、TFramedTransport</li><li>協議編解碼無需IDL</li><li>模塊化設計，很好的可擴展性</li><li>編解碼器提供通用接口，非nginx綁定，可以集成到其它代理中使用</li><li>基於樹的靈活高效IDL字段Setter和Getter（Doing）</li></ul></ul><ul><li><strong>模塊化設計：</strong>轉發能力模塊化，可作為獨立的第三方模塊集成到nginx。</li><li><strong>簡單易用：</strong>配置模型基本同http，簡單易上手</li><li><strong>功能強大：</strong>和http打平的服務治理能力，包括可觀察性、限流、路由等</li><li><strong>高性能：</strong>多進程異步無阻塞的編解碼和請求轉發模型</li></ul><p style=text-align:justify><br></p><p style=text-align:justify><strong>▍接入引擎mesh化</strong></p><p><br></p><p style=text-align:justify>在集中式接入引擎誕生的5年多時間內，其持續在流量管理和服務治理上對業務穩定性保障進行賦能，隨著雲原生時代的到來和服務治理逐步進入深水區，集中式接入平臺面臨著新的挑戰：</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>1. 極致的穩定性要求</strong></p><p style=text-align:justify>集中式接入引擎始終有3個無法迴避的穩定性隱患</p><p style=text-align:justify><br></p><p style=text-align:justify>① 多業務共享集群：</p><p style=text-align:justify>相互可能有影響：雖然通過穩定性機制建設的完善，近3年來沒有因此帶來穩定性事故，但共享集群的風險始終沒有徹底根除，尤其在一些新功能開發和應用實踐時始終如履薄冰，比如針對某個服務請求進行故障注入時理論上仍然可能對其它業務線帶來影響。</p><p style=text-align:justify><br></p><p>② 魯棒性較弱：</p><p style=text-align:justify>業務對接入引擎延時非常敏感（毫秒級要求），數萬qps下接入引擎有時單機甚至單進程延時抖動就會對敏感業務帶來較大影響，甚至觸發業務線一級報警，運維同學承擔著巨大的心理壓力。</p><p style=text-align:justify><br></p><p style=text-align:justify>③ 容量邊界的不確定性：</p><p style=text-align:justify>七層接入平臺前往往還有一個四層接入代理，通過vip提供給業務方使用，二者對容量的精準評估和快速的彈性伸縮能力都有很高的要求，否則很有可能存在雪崩的歸零風險。</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>2. 極致的運維效率</strong></p><p style=text-align:justify>①<strong> </strong>接入引擎和業務服務生命週期不同，整個接入體驗不好，效率較低。</p><p style=text-align:justify>② 轉發規則的維護成本很高</p><p style=text-align:justify><br></p><p style=text-align:justify>以上2點導致服務治理能難以較低的成本進行規模化落地，我們正在聯合業務團隊、彈性雲和研發雲團隊做接入引擎mesh化的探索工作，mesh化後以上的挑戰將會得到很大程度的化解，目前正在仿真環境將接入引擎mesh化到客戶端側解決流量閉環的問題。</p><p style=text-align:justify><br></p><p style=text-align:justify><br></p><p><em><strong>5.</strong></em></p><p><strong>總結</strong></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9068eb9b30b145f28c5548b5970cefba><p class=pgc-img-caption></p></div><p>經過5年多的發展和演進，滴滴七層接入平臺在穩定性能力建設、服務治理能力建設、雲原生接入的探索取得了一些進展：</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>▍規模化的服務治理能力</strong></p><ul><li>支持公司全公司http服務限流預案400+、限流接口2400+、切流預案400+。</li><li>持全公司http服務的服務發現，涉及數千個服務。</li><li>支持全公司http服務可觀察性能力建設，包括標準監控和細粒度多維度監控。</li></ul><p><br></p><p style=text-align:justify><strong>▍一級的穩定性保障能力</strong></p><p>系統可用性>99.99%，轉發延時&lt;1ms，連續3年沒有對業務可用性帶來影響。</p><p style=text-align:justify><br></p><p><strong>▍雲原生接入引擎探索</strong></p><ul><li>完成接入引擎多協議的支持。</li><li>完成接入引擎mesh化探索，並打通相關控制面，即將在業務試點上線。</li></ul><p style=text-align:justify><br></p><p style=text-align:justify><em><strong>6.</strong></em></p><p><strong>未來展望</strong></p><div class=pgc-img><img alt=滴滴七層接入平臺實踐和探索 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9068eb9b30b145f28c5548b5970cefba><p class=pgc-img-caption></p></div><p style=text-align:justify><strong>▍雲原生接入引擎</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>雲原生時代已經來臨，我們相信在可見的未來，就像TCP/IP協議棧或者SDN一樣，接入引擎一定會抽象出更通用的應用層流量管理和服務治理能力，作為sidecar下沉並固化在整個基礎設施中，在屏蔽滴滴異構架構、異構技術棧、多語言、多協議業務特點進行規模化服務治理和將業務邏輯和基礎施設解耦中發揮重大作用。</p><p style=text-align:justify><br></p><p><strong>▍多模微服務治理</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>由於多BU、歷史包袱、業務技術棧傾向的特點，未來的應用架構必然不可避免異構化，即便如此，接入引擎mesh化也不是銀彈，它在很長時間內會需要和傳統基於SDK的服務治理和基於集中式接入平臺的服務治理形成合力、組合補位，以一套組合拳的方式共同保障滴滴全平臺的穩定性，提升運維/研發/測試的效能。</p><p style=text-align:justify><br></p><p style=text-align:justify><strong>▍一站式七層接入平臺</strong></p><p style=text-align:justify><br></p><p style=text-align:justify>從用戶角度看，七層接入平臺目前的定位仍然是一個專家系統，服務的用戶主要是有著豐富運維經驗的SRE，不管是接入引擎例行變更需求、問題分析定位還是服務治理能力賦能，業務RD更多情況下仍然需要尋求SRE的支持和幫助，這帶來大量的溝通成本，進一步降低了整體業務交付效率，我們期望打造一個體驗友好的一站式七層接入平臺，業務RD和SRE都可以自助在平臺上完成所有接入引擎相關工作，提高研發和運維的生產力。</p><p>作者：李炳毅 滴滴高級專家工程師，滴滴服務中間件團隊負責人，多年高併發、高吞吐系統設計研發經歷，在微服務治理和穩定性建設領域有較豐富的經驗，對雲原生技術感興趣，曾就職於百度，從事統一接入系統研發和運維工作。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>七層</a></li><li><a>實踐</a></li><li><a>滴滴</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/b6acbddb.html alt=「壓鑄實踐」大截面ZA27鋅合金蝸輪的雙重擠壓鑄造應用案例 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/972374c8b24644389e188cb290249f17 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b6acbddb.html title=「壓鑄實踐」大截面ZA27鋅合金蝸輪的雙重擠壓鑄造應用案例>「壓鑄實踐」大截面ZA27鋅合金蝸輪的雙重擠壓鑄造應用案例</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b096e432.html alt=餐飲業的共益實踐案例：是什麼留住了海底撈的員工？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/3253c0fd3b54497282e5ebfb67cc350c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b096e432.html title=餐飲業的共益實踐案例：是什麼留住了海底撈的員工？>餐飲業的共益實踐案例：是什麼留住了海底撈的員工？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8ece3d8b.html alt=溼法鋅冶煉氟、氯現在走向及生產實踐 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/c6ec0692-63fe-42f8-8df3-b0a6226ca1a5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8ece3d8b.html title=溼法鋅冶煉氟、氯現在走向及生產實踐>溼法鋅冶煉氟、氯現在走向及生產實踐</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/130bed32.html alt=「理論實踐」地方人大常委會研究室工作的實踐與思考 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/R9AiF6fHzZIbrG style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/130bed32.html title=「理論實踐」地方人大常委會研究室工作的實踐與思考>「理論實踐」地方人大常委會研究室工作的實踐與思考</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3998ae89.html alt=服務治理最佳實踐：如何依據參數值進行服務路由、鑑權、限流？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/3f6fb254f0cc4ba390695e1d561d4a5c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3998ae89.html title=服務治理最佳實踐：如何依據參數值進行服務路由、鑑權、限流？>服務治理最佳實踐：如何依據參數值進行服務路由、鑑權、限流？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/46150125.html alt=一文看懂什麼是OSI七層協議 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1ef13a7b89a14ae3868b9e9d390d7893 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/46150125.html title=一文看懂什麼是OSI七層協議>一文看懂什麼是OSI七層協議</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7e0ac3ea.html alt=七層坡小學：舉行迎新年廣播體操比賽 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5300000eb9c98890495a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7e0ac3ea.html title=七層坡小學：舉行迎新年廣播體操比賽>七層坡小學：舉行迎新年廣播體操比賽</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/05586e70.html alt=通信基礎（一）：OSI七層模型詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8ab00d4287b347afb8ebd3a50157b634 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/05586e70.html title=通信基礎（一）：OSI七層模型詳解>通信基礎（一）：OSI七層模型詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8654883c.html alt=項目實踐中的一些性能優化指南 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/8c9ad977831f4b6bbaaf2e1b4651b667 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8654883c.html title=項目實踐中的一些性能優化指南>項目實踐中的一些性能優化指南</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/231d1667.html alt=數據倉庫實踐之如何設計可執行表命名規範 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/43bcbccdb0084c158129e23d3bce3b31 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/231d1667.html title=數據倉庫實踐之如何設計可執行表命名規範>數據倉庫實踐之如何設計可執行表命名規範</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c6860eb9.html alt=疫情期間做好職工思想政治工作的探索與實踐 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/SAiPd9B1uasVed style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c6860eb9.html title=疫情期間做好職工思想政治工作的探索與實踐>疫情期間做好職工思想政治工作的探索與實踐</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/80ae7e84.html alt=數據治理分析項目最佳實踐 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/67ed2ac0609b4877ae82c58a9507432d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/80ae7e84.html title=數據治理分析項目最佳實踐>數據治理分析項目最佳實踐</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d323acd6.html alt="一文搞定 REST Assured 實踐(二)：斷言實現" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/2d017d59689b467b93d6e1a4bcb3a13c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d323acd6.html title="一文搞定 REST Assured 實踐(二)：斷言實現">一文搞定 REST Assured 實踐(二)：斷言實現</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c70cc169.html alt=數據標準管理實踐白皮書 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f9700cf0c5d846deba0644a21ed93f80 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c70cc169.html title=數據標準管理實踐白皮書>數據標準管理實踐白皮書</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a775bff0.html alt="「文明實踐 情滿沂水」蒙陰縣婦聯黨組成員、婦兒工委服務中心主任類秀雲一行到四十里堡鎮調研督導美在農家工作" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/SEvz4Jw8VTojqM style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a775bff0.html title="「文明實踐 情滿沂水」蒙陰縣婦聯黨組成員、婦兒工委服務中心主任類秀雲一行到四十里堡鎮調研督導美在農家工作">「文明實踐 情滿沂水」蒙陰縣婦聯黨組成員、婦兒工委服務中心主任類秀雲一行到四十里堡鎮調研督導美在農家工作</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>