<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>åŒæ­¥ç•°æ­¥å¤šç·šç¨‹é€™ä¸‰è€…é—œä¿‚ï¼Œä½ èƒ½çµ¦é¢è©¦å®˜ä¸€å€‹æ»¿æ„çš„å›ç­”å—ï¼Ÿ | æå®¢å¿«è¨Š</title><meta property="og:title" content="åŒæ­¥ç•°æ­¥å¤šç·šç¨‹é€™ä¸‰è€…é—œä¿‚ï¼Œä½ èƒ½çµ¦é¢è©¦å®˜ä¸€å€‹æ»¿æ„çš„å›ç­”å—ï¼Ÿ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/b8da183a17c5492d8a18aae38d212d0d"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b52ccce.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b52ccce.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b52ccce.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b52ccce.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b52ccce.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b52ccce.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b52ccce.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b52ccce.html><meta property="article:published_time" content="2020-10-29T20:59:17+08:00"><meta property="article:modified_time" content="2020-10-29T20:59:17+08:00"><meta name=Keywords content><meta name=description content="åŒæ­¥ç•°æ­¥å¤šç·šç¨‹é€™ä¸‰è€…é—œä¿‚ï¼Œä½ èƒ½çµ¦é¢è©¦å®˜ä¸€å€‹æ»¿æ„çš„å›ç­”å—ï¼Ÿ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/b52ccce.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>åŒæ­¥ç•°æ­¥å¤šç·šç¨‹é€™ä¸‰è€…é—œä¿‚ï¼Œä½ èƒ½çµ¦é¢è©¦å®˜ä¸€å€‹æ»¿æ„çš„å›ç­”å—ï¼Ÿ</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p>å‰å¹¾å¤©ä¸€ä½æœ‹å‹å»é¢è©¦ï¼Œé¢è©¦å®˜å•äº†ä»–åŒæ­¥ï¼Œç•°æ­¥ï¼Œå¤šç·šç¨‹ä¹‹é–“æ˜¯ä»€éº¼é—œä¿‚ï¼Œç•°æ­¥æ¯”åŒæ­¥é«˜æ•ˆåœ¨å“ªï¼Ÿå¤šç·šç¨‹æ¯”å–®ç·šç¨‹é«˜æ•ˆåœ¨å“ªï¼Ÿç”±æ–¼å›ç­”çš„ä¸å¥½ï¼Œè®“æˆ‘å¹«ä»–æ‹ä¸€ä¸‹ï¼Œå…¶å¯¦å›ç­”é€™å€‹å•é¡Œä¸é›£ï¼Œé›£å°±é›£åœ¨åªå°åˆ¥äººèªªç†è«–ï¼Œè€Œæ²’æœ‰ç¾æ®ºçš„ä¾‹å­ã€‚</p><h1 class=pgc-h-arrow-right>ä¸€ï¼šç•°æ­¥</h1><h1 class=pgc-h-arrow-right>1. åˆ°åº•è§£æ”¾äº†èª°ï¼Ÿ</h1><h1 class=pgc-h-arrow-right>&lt;1> å¾åŸºç¤çš„åŒæ­¥èªªèµ·</h1><p>è¦èªªè§£æ”¾äº†èª°ï¼Œä¸€å®šå¾—æœ‰å¹¾å€‹åƒèˆ‡è€…ï¼Œèˆ‰å€‹ä¾‹å­ï¼šç•¶ä½ çš„ä¸»ç·šç¨‹è®€å–ä¸€å€‹æ‡‰ç”¨ç¨‹åºä¹‹å¤–çš„è³‡æºæ™‚ï¼Œå®ƒæœ‰å¯èƒ½æ˜¯ä¸€å€‹æ–‡ä»¶ï¼Œåˆæœ‰å¯èƒ½æ˜¯ä¸€å€‹å¤–éƒ¨æœå‹™ï¼Œç•¶ç”¨åŒæ­¥æ–¹å¼è®€å–å¤–éƒ¨æœå‹™æ™‚ï¼Œé¦–å…ˆä¸»ç·šç¨‹æœƒå¾ç”¨æˆ¶æ¨¡å¼é€²å…¥åˆ°å…§æ ¸æ¨¡å¼ï¼Œåœ¨å…§æ ¸æ¨¡å¼ä¸­windowsæœƒå°‡ä½ çš„è«‹æ±‚æ•¸æ“šäº¤çµ¦å°æ‡‰çš„ç¶²çµ¡é©…å‹•ç¨‹åºï¼Œç¹¼å¾Œæœƒè®“é€™å€‹ç·šç¨‹é€²å…¥ä¼‘çœ ç‹€æ…‹ï¼Œç•¶ç¶²çµ¡é©…å‹•ç¨‹åºå’Œå¤–éƒ¨æœå‹™ä¸€é™£ç—™æ”£ä¹‹å¾Œï¼Œç¶²çµ¡é©…å‹•ç¨‹åºæœƒå°‡ç²å–åˆ°çš„çµæœäº¤çµ¦ç•¶åˆä¼‘çœ çš„ç·šç¨‹ï¼Œwindowså–šé†’ä¼‘çœ ç·šç¨‹ç¹¼è€ŒåŸ·è¡Œå¾ŒçºŒçš„C#ä»£ç¢¼ï¼Œç•«å€‹ç°¡åœ–ç†è§£ä¸€ä¸‹ï¼Œä¸ä¸€å®šå…¨å°ã€‚</p><div class=pgc-img><img alt=åŒæ­¥ç•°æ­¥å¤šç·šç¨‹é€™ä¸‰è€…é—œä¿‚ï¼Œä½ èƒ½çµ¦é¢è©¦å®˜ä¸€å€‹æ»¿æ„çš„å›ç­”å—ï¼Ÿ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b8da183a17c5492d8a18aae38d212d0d><p class=pgc-img-caption></p></div><p>é€™è£¡å°±å­˜åœ¨è‘—ä¸€å€‹éå¸¸å¤§çš„å•é¡Œï¼Œæ­¥é©Ÿ4-æ­¥é©Ÿ7ä¹‹é–“ï¼Œä½ çš„ä¸»ç·šç¨‹ä¸€ç›´éƒ½æ˜¯ä¼‘çœ ç‹€æ…‹ï¼Œæ¯”å¦‚åœ¨GUIç·¨ç¨‹ä¸­ï¼Œæœ‰ä¸€å€‹é‡è¦çš„åŸå‰‡å°±æ˜¯è§£æ”¾ä½ çš„UIç·šç¨‹ï¼ˆä¸»ç·šç¨‹ï¼‰ï¼Œæ‰€ä»¥è§£æ±ºé€™å€‹å•é¡Œå°±è¿«åœ¨çœ‰ç«ã€‚</p><h1 class=pgc-h-arrow-right>&lt;2> ç•°æ­¥æ–¹å¼ä¸‹çš„è™•ç†æ–¹æ¡ˆ</h1><p>èªªåˆ°é€™è£¡ï¼Œå¤§å®¶æ‡‰è©²çŸ¥é“äº†ç•°æ­¥æ–¹å¼å°±æ˜¯ç‚ºäº†è§£æ”¾ä¸»ç·šç¨‹ï¼Œåˆå¯ä»¥å«èª¿ç”¨ç·šç¨‹ï¼Œæ²’éŒ¯ï¼Œæ¥ä¸‹ä¾†çœ‹ä¸€ä¸‹åŒæ¨£çš„å ´æ™¯åœ¨ç•°æ­¥ä¸­å¦‚ä½•è™•ç†çš„ã€‚</p><div class=pgc-img><img alt=åŒæ­¥ç•°æ­¥å¤šç·šç¨‹é€™ä¸‰è€…é—œä¿‚ï¼Œä½ èƒ½çµ¦é¢è©¦å®˜ä¸€å€‹æ»¿æ„çš„å›ç­”å—ï¼Ÿ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/63595f278b914e2eac812b882ba91fae><p class=pgc-img-caption></p></div><p>å¾åœ–ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ­¥é©Ÿä¸‰ä¸­å°‡threadæ•¸æ“šäº¤çµ¦ç¶²çµ¡é©…å‹•ç¨‹åºä¹‹å¾Œï¼Œè©²threadå°±ç›´æ¥è¿”å›ä¸ç®¡äº†ï¼Œç•¶å¾ŒçºŒç¶²çµ¡é©…å‹•ç¨‹åºç²å–æ•¸æ“šå¾Œï¼Œå°‡æ•¸æ“šä¸Ÿçµ¦CLRç·šç¨‹æ± ä¸­çš„IOç·šç¨‹å†ç”±å®ƒè§¸ç™¼ä½ çš„å›èª¿å‡½æ•¸ã€‚</p><h1 class=pgc-h-arrow-right>&lt;3> ç¸½çµ</h1><blockquote><p>ç•°æ­¥ç›¸æ¯”åŒæ­¥æ•ˆç‡é«˜å°±é«˜åœ¨è§£æ”¾äº†èª¿ç”¨ç·šç¨‹ï¼Œåœ¨é©…å‹•ç¨‹åºå’Œé ç¨‹æœå‹™RoundTripæœŸé–“ï¼Œèª¿ç”¨ç·šç¨‹é‚„å¯ä»¥åŸ·è¡Œå…¶ä»–å·¥ä½œï¼Œæ”¾åœ¨GUIä¸Šå°±æ˜¯ä¸»ç·šç¨‹å¯ä»¥ç¹¼çºŒéŸ¿æ‡‰ç”¨æˆ¶çš„è¶…æ•æ“ä½œã€‚</p></blockquote><blockquote><p>ç”±æ–¼æ²’æœ‰ç©ºè½‰çš„ç·šç¨‹ï¼ŒCPUå¯ä»¥å¾—åˆ°æœ€æ»¿è¼‰çš„é‹è½‰ï¼Œæ›´å°‘çš„ç·šç¨‹å°±æœ‰æ›´å°‘çš„ç·šç¨‹æ£§ç©ºé–“ï¼Œæ›´å°‘çš„GCå›æ”¶æ™‚é–“å’Œä¸Šä¸‹æ–‡åˆ‡æ›ã€‚</p></blockquote><h1 class=pgc-h-arrow-right>2. ä»£ç¢¼æ¼”ç¤º</h1><p>é‚„æ˜¯é‚£å¥è©±ï¼Œå…‰èªªå¯ä¸è¡Œï¼Œä½ å¾—ä¸Šä¸€é»ä»£ç¢¼çœ‹çœ‹ï¼Œæœ‰äº†ä¸Šé¢çš„ç†è«–åŸºç¤ï¼Œé€™è£¡æˆ‘å°±æ¨¡æ“¬çˆ¬å–ä¸‹åšå®¢åœ’é¦–é çš„æ‰€æœ‰æ–‡ç« çš„ç”¨æˆ¶é ­åƒã€‚</p><h1 class=pgc-h-arrow-right>&lt;1> åŒæ­¥ä»£ç¢¼</h1><pre><code>        public static void Main(string[] args)        {            SingleThreadDownloadImages();            Console.WriteLine("ä¸»ç·šç¨‹ç¹¼çºŒåŸ·è¡Œå…¶ä»–çš„å’¯~~~");            Console.Read();        }        public static void SingleThreadDownloadImages()        {            using (var client = new HttpClient())            {                //èª¿ç”¨ç·šç¨‹ ç©ºè½‰ç­‰å¾…ã€‚ã€‚ã€‚                var content = client.GetStringAsync("http://cnblogs.com").Result;                var html = new HtmlDocument();                html.LoadHtml(content);                var imgsrcList = html.DocumentNode.QuerySelectorAll("img.pfs").Select(m =&gt; m.Attributes["src"].Value)                                                  .ToList();                Console.WriteLine($"æº–å‚™ä¸‹è¼‰:{imgsrcList.Count}å€‹...");                for (int i = 0; i &lt; imgsrcList.Count; i++)                {                    //èª¿ç”¨ç·šç¨‹ ç©ºè½‰ç­‰å¾…ã€‚ã€‚ã€‚                    var stream = client.GetStreamAsync(imgsrcList[i]).Result;                    Image.FromStream(stream).Save($@"C:\2\{i}.jpg");                }            }            Console.WriteLine("SingleThreadDownloadImages åŸ·è¡ŒçµæŸ");        }------ output ------æº–å‚™ä¸‹è¼‰:19å€‹...SingleThreadDownloadImages åŸ·è¡ŒçµæŸä¸»ç·šç¨‹ç¹¼çºŒåŸ·è¡Œå…¶ä»–çš„å’¯~~~</code></pre><h1 class=pgc-h-arrow-right>&lt;2> ç•°æ­¥ä»£ç¢¼</h1><pre><code>        public static void Main(string[] args)        {            AsyncDownloadImages();            Console.WriteLine("ä¸»ç·šç¨‹ç¹¼çºŒåŸ·è¡Œå…¶ä»–çš„å’¯~~~");            Console.Read();        }        public static async void AsyncDownloadImages()        {            using (var client = new HttpClient())            {                var content = await client.GetStringAsync("http://cnblogs.com");                var html = new HtmlDocument();                html.LoadHtml(content);                var imgsrcList = html.DocumentNode.QuerySelectorAll("img.pfs").Select(m =&gt; m.Attributes["src"].Value)                                                  .ToList();                Console.WriteLine($"æº–å‚™ä¸‹è¼‰:{imgsrcList.Count}å€‹...");                for (int i = 0; i &lt; imgsrcList.Count; i++)                {                    var stream = await client.GetStreamAsync(imgsrcList[i]);                    Image.FromStream(stream).Save($@"C:\2\{i}.jpg");                }                Console.WriteLine("AsyncDownloadImages åŸ·è¡ŒçµæŸ");            }        }------ output ------ä¸»ç·šç¨‹ç¹¼çºŒåŸ·è¡Œå…¶ä»–çš„å’¯~~~æº–å‚™ä¸‹è¼‰:19å€‹...AsyncDownloadImages åŸ·è¡ŒçµæŸ</code></pre><p>å¾çµæœå¯ä»¥çœ‹å‡ºï¼Œç•°æ­¥åœ¨ç²å–åœ–ç‰‡æœŸé–“ï¼Œä¸»ç·šç¨‹é‚„å¯ä»¥åšå…¶ä»–äº‹æƒ…ï¼Œé€™å°±æ˜¯ç•°æ­¥æœ€å¤§çš„ç‰¹é»ã€‚</p><h1 class=pgc-h-arrow-right>3. windbg æå–æ˜¯å¦çœŸç‚ºç·šç¨‹æ± ioç·šç¨‹</h1><p>å…¶å¯¦åœ¨åœ–2ä¸­æˆ‘å£å£è²è²çš„èªªæ˜¯ç·šç¨‹æ± ä¸­çš„IOç·šç¨‹å›èª¿äº†ä½ çš„å‡½æ•¸ï¼Œå¤§å®¶å…ˆè¦æ˜ç™½ä¸€å€‹æ¦‚å¿µï¼Œç·šç¨‹æ± ä¸­æœ‰å…©ç¨®é¡åˆ¥çš„ç·šç¨‹ï¼Œä¸€å€‹æ˜¯å·¥ä½œç·šç¨‹ï¼Œä¸€å€‹æ˜¯IOç·šç¨‹ï¼Œè€Œå·¥ä½œç·šç¨‹å¸¸å¸¸å°±æ˜¯æˆ‘å€‘é€šéä»£ç¢¼é€²è¡Œæ“æ§ï¼ŒIOç·šç¨‹é€šå¸¸ç”±åº•å±¤CLRæ¥ç®¡ï¼Œå¸¸å¸¸ç”¨æ–¼è™•ç†å¤–éƒ¨è³‡æºçš„æ“ä½œï¼Œå¦‚ä¸‹ThreadPoolçš„GetMaxThreadsæ–¹æ³•ã€‚</p><pre><code>    public static void GetMaxThreads(out int workerThreads, out int completionPortThreads);</code></pre><p>æœ‰äº†é€™å€‹åŸºç¤ï¼Œå†å°‡ AsyncDownloadImagesæ–¹æ³•ä¿®æ”¹å¦‚ä¸‹ï¼ŒæŠ“å–ä¸€ä¸‹dumpæ–‡ä»¶</p><pre><code>                var content = await client.GetStringAsync("http://cnblogs.com");                Console.WriteLine($"å·²ç²å–åˆ°:{content.Length}å€‹å­—ç¬¦");                Console.ReadLine();</code></pre><blockquote><p>~*e !clrstack æŸ¥çœ‹æ‰€æœ‰è¨—ç®¡ç·šç¨‹çš„èª¿ç”¨å †æ£§</p></blockquote><pre><code>0:000&gt;  ~*e    !clrstackOS Thread Id: 0x62d8 (13)        Child SP               IP Call Site000000da9b1fd1e8 00007ff9fc7bb4f4 [GCFrame: 000000da9b1fd1e8] 000000da9b1fd308 00007ff9fc7bb4f4 [GCFrame: 000000da9b1fd308] 000000da9b1fd368 00007ff9fc7bb4f4 [HelperMethodFrame_1OBJ: 000000da9b1fd368] System.Threading.Monitor.Enter(System.Object)000000da9b1fd460 00007ff9e42f8aff System.IO.TextReader+SyncTextReader.ReadLine()000000da9b1fd4c0 00007ff9e40f0d98 System.Console.ReadLine()000000da9b1fd4f0 00007ff985c81559 ConsoleApp2.Program+d__3.MoveNext() [C:\dream\Csharp\ConsoleApp1\ConsoleApp2\Program.cs @ 93]000000da9b1fd690 00007ff9e388cef2 System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean)000000da9b1fd760 00007ff9e388cd75 System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean)000000da9b1fd790 00007ff9e38fbe2f System.Runtime.CompilerServices.AsyncMethodBuilderCore+MoveNextRunner.Run()000000da9b1fd7e0 00007ff9e3901343 System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(System.Action, Boolean, System.Threading.Tasks.Task ByRef)000000da9b1fd830 00007ff9e3865f40 System.Threading.Tasks.Task.FinishContinuations()000000da9b1fd8c0 00007ff9e3865a88 System.Threading.Tasks.Task`1[[System.__Canon, mscorlib]].TrySetResult(System.__Canon)000000da9b1fd900 00007ff9e3865a05 System.Threading.Tasks.TaskCompletionSource`1[[System.__Canon, mscorlib]].TrySetResult(System.__Canon)000000da9b1fd940 00007ff9c88311a3 System.Net.Http.HttpClient+c__DisplayClass31_0`1[[System.__Canon, mscorlib]].b__1(System.Threading.Tasks.Task`1)000000da9b1fd990 00007ff9e38f9d47 System.Threading.Tasks.Task.Execute()000000da9b1fd9d0 00007ff9e388cef2 System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean)000000da9b1fdaa0 00007ff9e388cd75 System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean)000000da9b1fdad0 00007ff9e38fa001 System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)000000da9b1fdb80 00007ff9e38f96e1 System.Threading.Tasks.Task.ExecuteEntry(Boolean)</code></pre><blockquote><p>!threads æŸ¥çœ‹ç·¨è™Ÿ13çš„ç·šç¨‹é¡å‹</p></blockquote><pre><code>0:013&gt; !threadsThreadCount:      8UnstartedThread:  0BackgroundThread: 5PendingThread:    0DeadThread:       2Hosted Runtime:   no                                                                                                        Lock         ID OSID ThreadOBJ           State GC Mode     GC Alloc Context                  Domain           Count Apt Exception   0    1 5754 000001e2be060f80    2a020 Preemptive  000001E2BFD19868:000001E2BFD19FD0 000001e2be053bb0 1     MTA    6    2 65e0 000001e2be08bd00    2b220 Preemptive  0000000000000000:0000000000000000 000001e2be053bb0 0     MTA (Finalizer)    9    3  25c 000001e2d8435ef0  102a220 Preemptive  0000000000000000:0000000000000000 000001e2be053bb0 0     MTA (Threadpool Worker) XXXX    4    0 000001e2d845ea30  1039820 Preemptive  0000000000000000:0000000000000000 000001e2be053bb0 0     Ukn (Threadpool Worker)   12    6 23fc 000001e2d8469ea0  202b220 Preemptive  000001E2BFD1E188:000001E2BFD1FFD0 000001e2be053bb0 1     MTA   13    7 62d8 000001e2d8475e20  a029220 Preemptive  000001E2BFD9D588:000001E2BFD9F250 000001e2be053bb0 0     MTA (Threadpool Completion Port) XXXX    8    0 000001e2d847a0b0  8039820 Preemptive  0000000000000000:0000000000000000 000001e2be053bb0 0     Ukn (Threadpool Completion Port)   14    9  6e4 000001e2d847de70  8029220 Preemptive  000001E2BFD80D88:000001E2BFD81F10 000001e2be053bb0 0     MTA (Threadpool Completion Port) </code></pre><p>å…¶ä¸­çš„ 13 7 62d8 000001e2d8475e20 a029220 Preemptive 000001E2BFD9D588:000001E2BFD9F250 000001e2be053bb0 0 MTA (Threadpool Completion Port) å¯ä»¥æ˜é¡¯çš„çœ‹åˆ°æ˜¯ Threadpool Completion Portï¼Œæ²’æœ‰é¨™ä½ å§ï¼Œã€‚</p><h1 class=pgc-h-arrow-right>äºŒï¼šå¤šç·šç¨‹</h1><p>ç›¸æ¯”å–®ç·šç¨‹ï¼Œå¤šç·šç¨‹ç”¨æ›´å¤šçš„CPUå’Œæ›´å¤šçš„ç·šç¨‹è³‡æºæ›å–æ›´å¿«çš„è¨ˆç®—æ™‚é–“ï¼Œæ˜¯ä¸€ç¨®ç¶“å…¸çš„ç©ºé–“æ›æ™‚é–“ç­–ç•¥ï¼Œä»£ç¢¼å°±ä¸ä¸Šäº†ï¼Œç›¸ä¿¡å¤šç·šç¨‹å¤§å®¶éƒ½å¿«ç”¨çˆ›äº†ã€‚</p><h1 class=pgc-h-arrow-right>ä¸‰ï¼šç¸½çµ</h1><h1 class=pgc-h-arrow-right>1. å¤šç·šç¨‹æ¯”å–®ç·šç¨‹é«˜æ•ˆçš„åŸå› å°±æ˜¯åˆ©ç”¨äº†CPUçš„å¤šæ ¸è¨ˆç®—æŠŠä¸€å€‹å¤§çš„ä»»å‹™åˆ†è€Œæ²»ä¹‹å¾è€ŒåŠ é€Ÿä»»å‹™è¨ˆç®—ã€‚</h1><h1 class=pgc-h-arrow-right>2. ç•°æ­¥æ¯”åŒæ­¥é«˜æ•ˆçš„åŸå› æ˜¯å‰è€…é‡‹æ”¾äº†èª¿ç”¨ç·šç¨‹ï¼Œè®“èª¿ç”¨ç·šç¨‹å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…è€Œä¸è‡³æ–¼è¢«windowså¼·åˆ¶ä¼‘çœ æµªè²»ç·šç¨‹è³‡æºã€‚</h1></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>ç•°æ­¥</a></li><li><a>å¤šç·šç¨‹</a></li><li><a>çµ¦é¢</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/a915e749.html alt=å¤šç·šç¨‹ä¹‹ThreadLocalçš„é‚£äº›äº‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/58bb67505b204eef816b6e3b75935246 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a915e749.html title=å¤šç·šç¨‹ä¹‹ThreadLocalçš„é‚£äº›äº‹>å¤šç·šç¨‹ä¹‹ThreadLocalçš„é‚£äº›äº‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cd56e2f3.html alt=PHPé€²éšæ•™ç¨‹-PHPé‚„èƒ½ç©å¤šç·šç¨‹ï¼Ÿçœ‹æˆ‘æ€éº¼ç”¨å¤šç·šç¨‹å¯¦ç¾CCæ”»æ“Šå™¨ã€‚ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/cce9b3fb23ce41b88311823510e419da style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cd56e2f3.html title=PHPé€²éšæ•™ç¨‹-PHPé‚„èƒ½ç©å¤šç·šç¨‹ï¼Ÿçœ‹æˆ‘æ€éº¼ç”¨å¤šç·šç¨‹å¯¦ç¾CCæ”»æ“Šå™¨ã€‚>PHPé€²éšæ•™ç¨‹-PHPé‚„èƒ½ç©å¤šç·šç¨‹ï¼Ÿçœ‹æˆ‘æ€éº¼ç”¨å¤šç·šç¨‹å¯¦ç¾CCæ”»æ“Šå™¨ã€‚</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f9db061d.html alt=ä¸‰ç›¸ç•°æ­¥é›»å‹•æ©Ÿçµ•ç·£è™•ç†çš„ç›®çš„åŠæ–¹æ³• class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/3c439a15bdf64f1f975914c96a2c66e7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f9db061d.html title=ä¸‰ç›¸ç•°æ­¥é›»å‹•æ©Ÿçµ•ç·£è™•ç†çš„ç›®çš„åŠæ–¹æ³•>ä¸‰ç›¸ç•°æ­¥é›»å‹•æ©Ÿçµ•ç·£è™•ç†çš„ç›®çš„åŠæ–¹æ³•</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b44410f0.html alt=ç•°æ­¥é›»æ©Ÿå…¸å‹çµæ§‹ç°¡è¿° class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/15349080656472f5dd62512 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b44410f0.html title=ç•°æ­¥é›»æ©Ÿå…¸å‹çµæ§‹ç°¡è¿°>ç•°æ­¥é›»æ©Ÿå…¸å‹çµæ§‹ç°¡è¿°</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c2cb8d92.html alt=ç¹çµ„5å¤§åŸºæœ¬åè©è§£æèˆ‡ä¸‰ç›¸ç•°æ­¥é›»å‹•æ©Ÿç¹çµ„åŠå…¶è¯æ¥æ–¹æ³•ä»‹ç´¹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/56930005e593537411b9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c2cb8d92.html title=ç¹çµ„5å¤§åŸºæœ¬åè©è§£æèˆ‡ä¸‰ç›¸ç•°æ­¥é›»å‹•æ©Ÿç¹çµ„åŠå…¶è¯æ¥æ–¹æ³•ä»‹ç´¹>ç¹çµ„5å¤§åŸºæœ¬åè©è§£æèˆ‡ä¸‰ç›¸ç•°æ­¥é›»å‹•æ©Ÿç¹çµ„åŠå…¶è¯æ¥æ–¹æ³•ä»‹ç´¹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b3e098cc.html alt=å–®ç›¸ç•°æ­¥é›»æ©Ÿå¦‚ä½•è½‰èµ·ä¾†ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/66c6000099c8d7f13f98 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b3e098cc.html title=å–®ç›¸ç•°æ­¥é›»æ©Ÿå¦‚ä½•è½‰èµ·ä¾†ï¼Ÿ>å–®ç›¸ç•°æ­¥é›»æ©Ÿå¦‚ä½•è½‰èµ·ä¾†ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ee2728c4.html alt="Javaæ ¸å¿ƒçŸ¥è­˜ å¤šç·šç¨‹ä½µç™¼ é€²ç¨‹èª¿åº¦ç®—æ³• ï¼ˆä¸‰åäºŒï¼‰" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ee53d84c407e492494d103a3f7a9481c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ee2728c4.html title="Javaæ ¸å¿ƒçŸ¥è­˜ å¤šç·šç¨‹ä½µç™¼ é€²ç¨‹èª¿åº¦ç®—æ³• ï¼ˆä¸‰åäºŒï¼‰">Javaæ ¸å¿ƒçŸ¥è­˜ å¤šç·šç¨‹ä½µç™¼ é€²ç¨‹èª¿åº¦ç®—æ³• ï¼ˆä¸‰åäºŒï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d0d960f5.html alt=ç•¶æˆ‘å€‘åœ¨èªªâ€œä½µç™¼ã€å¤šç·šç¨‹â€ï¼Œèªªçš„æ˜¯ä»€éº¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d0d960f5.html title=ç•¶æˆ‘å€‘åœ¨èªªâ€œä½µç™¼ã€å¤šç·šç¨‹â€ï¼Œèªªçš„æ˜¯ä»€éº¼>ç•¶æˆ‘å€‘åœ¨èªªâ€œä½µç™¼ã€å¤šç·šç¨‹â€ï¼Œèªªçš„æ˜¯ä»€éº¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/24e8bf5d.html alt=é‚£äº›å¹´è®“ä½ è¿·æƒ‘çš„ä¸¦è¡Œã€ä½µç™¼ã€å¤šç·šç¨‹ã€å¤šé€²ç¨‹ã€å”ç¨‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a92ab724f71b4c36a8fdefd01f9e087a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/24e8bf5d.html title=é‚£äº›å¹´è®“ä½ è¿·æƒ‘çš„ä¸¦è¡Œã€ä½µç™¼ã€å¤šç·šç¨‹ã€å¤šé€²ç¨‹ã€å”ç¨‹>é‚£äº›å¹´è®“ä½ è¿·æƒ‘çš„ä¸¦è¡Œã€ä½µç™¼ã€å¤šç·šç¨‹ã€å¤šé€²ç¨‹ã€å”ç¨‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/48c90bcc.html alt=ç†¬äº†å…©å€‹é€šå®µå¯«çš„ï¼çµ‚æ–¼æŠŠå¤šç·šç¨‹å’Œå¤šé€²ç¨‹å¾¹åº•è¬›æ˜ç™½äº†ï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8e306d12189741e4a3b8a74c64dec558 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/48c90bcc.html title=ç†¬äº†å…©å€‹é€šå®µå¯«çš„ï¼çµ‚æ–¼æŠŠå¤šç·šç¨‹å’Œå¤šé€²ç¨‹å¾¹åº•è¬›æ˜ç™½äº†ï¼>ç†¬äº†å…©å€‹é€šå®µå¯«çš„ï¼çµ‚æ–¼æŠŠå¤šç·šç¨‹å’Œå¤šé€²ç¨‹å¾¹åº•è¬›æ˜ç™½äº†ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1ad88931.html alt=å¸¶ä½ æå®šå¤šç·šç¨‹ï¼Œä½µç™¼ç·¨ç¨‹é—œéµå­—Javaå¤šç·šç¨‹ä¹‹volatile class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/79e01a43526949a3b1ce35f41d4f0d5e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1ad88931.html title=å¸¶ä½ æå®šå¤šç·šç¨‹ï¼Œä½µç™¼ç·¨ç¨‹é—œéµå­—Javaå¤šç·šç¨‹ä¹‹volatile>å¸¶ä½ æå®šå¤šç·šç¨‹ï¼Œä½µç™¼ç·¨ç¨‹é—œéµå­—Javaå¤šç·šç¨‹ä¹‹volatile</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/51fefa66.html alt=è¿„ä»Šç‚ºæ­¢æŠŠåŒæ­¥/ç•°æ­¥/é˜»å¡/éé˜»å¡è¬›çš„é€™éº¼æ¸…æ¥šçš„å¥½æ–‡ç«  class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/28ca13300b9f4d55bd5af3f9156f8874 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/51fefa66.html title=è¿„ä»Šç‚ºæ­¢æŠŠåŒæ­¥/ç•°æ­¥/é˜»å¡/éé˜»å¡è¬›çš„é€™éº¼æ¸…æ¥šçš„å¥½æ–‡ç« >è¿„ä»Šç‚ºæ­¢æŠŠåŒæ­¥/ç•°æ­¥/é˜»å¡/éé˜»å¡è¬›çš„é€™éº¼æ¸…æ¥šçš„å¥½æ–‡ç« </a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/53471e9b.html alt=mysqlç•°æ­¥è¤‡è£½èˆ‡åŠåŒæ­¥è¤‡è£½çš„æ¶æ§‹åŸç† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/4e7b00019c175cf0ab61 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/53471e9b.html title=mysqlç•°æ­¥è¤‡è£½èˆ‡åŠåŒæ­¥è¤‡è£½çš„æ¶æ§‹åŸç†>mysqlç•°æ­¥è¤‡è£½èˆ‡åŠåŒæ­¥è¤‡è£½çš„æ¶æ§‹åŸç†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/48620c40.html alt=ä¸‰ç›¸ç•°æ­¥é›»å‹•æ©Ÿæ˜¯ä»€éº¼æ¨£çš„ï¼Œä¾†çœ‹çœ‹åˆ†è§£åœ– class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/754c280526be4ac3924cb14ab78a9583 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/48620c40.html title=ä¸‰ç›¸ç•°æ­¥é›»å‹•æ©Ÿæ˜¯ä»€éº¼æ¨£çš„ï¼Œä¾†çœ‹çœ‹åˆ†è§£åœ–>ä¸‰ç›¸ç•°æ­¥é›»å‹•æ©Ÿæ˜¯ä»€éº¼æ¨£çš„ï¼Œä¾†çœ‹çœ‹åˆ†è§£åœ–</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/639037be.html alt=å¦‚ä½•é¸æ“‡åˆé©çš„ä¸‰ç›¸ç•°æ­¥é›»å‹•æ©Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c221d4d29d8c40bc9afbad0800693a88 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/639037be.html title=å¦‚ä½•é¸æ“‡åˆé©çš„ä¸‰ç›¸ç•°æ­¥é›»å‹•æ©Ÿ>å¦‚ä½•é¸æ“‡åˆé©çš„ä¸‰ç›¸ç•°æ­¥é›»å‹•æ©Ÿ</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>