<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術 | 极客快訊</title><meta property="og:title" content="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5a90f38.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5a90f38.html><meta property="article:published_time" content="2020-11-14T21:07:34+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:34+08:00"><meta name=Keywords content><meta name=description content="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/b5a90f38.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>《測繪學報》</p><p>構建與學術的橋樑 拉近與權威的距離</p><p><strong>SLAM激光點雲整體精配準位姿圖技術</strong></p><p>閆利<sup>1,2</sup>, 戴集成<sup>1</sup>, 譚駿祥<sup>1</sup>, 劉華<sup>1</sup>, 陳長軍<sup>1</sup><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb></p><p>1. 武漢大學測繪學院, 湖北 武漢 430079; 2. 武漢大學測繪遙感信息工程國家重點實驗室, 湖北 武漢 430079</p><p>收稿日期：2017-12-19；修回日期：2018-10-12</p><p>基金項目：國家自然科學基金（41771486）</p><p>第一作者簡介：閆利(1966-), 男, 教授, 博士生導師, 研究方向為攝影測量、遙感和三維激光掃描技術。E-mail:lyan@sgg.whu.edu.cn</p><p>通信作者：陳長軍, E-mail：chencj@whu.edu.cn</p><p><strong>摘要</strong>：基於同步定位與製圖（simultaneous localization and mapping，SLAM）技術的激光掃描系統具有成本低、效率高的優點，近年來在測繪領域得到了廣泛關注。雖然基於SLAM技術的激光掃描系統能夠實現實時數據獲取，但該數據獲取方式難以保證點雲精度，不同位置獲取的同一地物的點雲存在位置不一致。為了提高該類系統所獲點雲精度，本文提出一種分層次點雲全局優化方法。該方法首先通過“點-切平面”迭代最近鄰算法對重疊點雲進行配準，形成掃描系統軌跡間的約束；然後構建位姿圖對軌跡進行優化，利用優化後的軌跡對點雲進行修正。算法通過將優化過程分解為局部和整體兩個層次以提高計算效率。試驗結果表明，優化後點雲同名點對間的距離中誤差減小約50%，內部不一致現象得到有效消除。</p><p>關鍵詞：點雲修正 同步定位與製圖 全局優化 圖優化 迭代最近點法</p><p><strong>Global fine registration of point cloud in LiDAR SLAM based on pose graph</strong></p><p>YAN Li<sup>1,2</sup>, DAI Jicheng<sup>1</sup>, TAN Junxiang<sup>1</sup>, LIU Hua<sup>1</sup>, CHEN Changjun<sup>1</sup></p><p>1. School of Geodesy and Geomatics, Wuhan University, Wuhan 430079, China;2. State Key Laboratory of Information Engineering in Surveying, Wuhan University, Wuhan 430079, China</p><p>Foundation support: The National Natural Science Foundation of China (No. 41771486)</p><p>First author: YAN Li(1966—), male, professor, PhD supervisor, majors in photogrammetry, remote sensing and LiDAR. E-mail:lyan@sgg.whu.edu.cn</p><p>Corresponding author: CHEN Changjun, E-mail: chencj@whu.edu.cn</p><p><strong>Abstract</strong>: The laser scanning system based on simultaneous localization and mapping(SLAM) technology has the advantages of low cost and high efficiency. It has drawn wide attention in the field of surveying and mapping in recent years.Although real-time data acquisition can be achieved using SLAM technology, the precision of the data can't be ensured, and inconsistency exists in the acquired point cloud. In order to improve the precision of the point cloud obtained by this kind of system, this paper presents a hierarchical point cloud global optimization algorithm. Firstly, the "point-to-plane" Iterative closest point algorithm (ICP) is used to match the overlapping point clouds to form constraints between the trajectories of the scanning system.Then a pose graph is constructed to optimize the trajectory. Finally, the optimized trajectory is used to refine the point cloud. The computational efficiency is improved by decomposing the optimization process into two levels, i.e. local level and global level. The experimental results show that the RMSE of the distance between the corresponding points in overlapping areas is reduced by about 50% after optimization, and the internal inconsistency is effectively eliminated.</p><p>Key words: point cloud refine simultaneous localization and mapping global optimization graph optimization iterative closest point</p><p>激光掃描(light detection and ranging, LiDAR)技術作為一種重要的三維空間數據獲取技術，可以直接快速地獲取物體表面三維信息<sup>[1</sup><sup>]</sup>，廣泛應用於測繪<sup>[2</sup><sup>]</sup>、機器人<sup>[3</sup><sup>]</sup>和無人駕駛<sup>[4</sup><sup>]</sup>等領域。SLAM技術源於機器人領域，中文譯為同步定位與製圖技術<sup>[5</sup><sup>]</sup>。將LiDAR與SLAM相結合，通過集成LiDAR掃描儀、IMU(inertial measurement unit)等傳感器可在掃描平臺移動過程中實時獲取位置、姿態信息以及場景的空間信息。基於SLAM技術的激光掃描可以高效完成室內空間或室外小場景的三維點雲數據獲取，近年來在測繪領域得到了廣泛的關注和應用<sup>[6</sup><sup>]</sup>。</p><p>由於SLAM定位對實時性的要求，無法充分利用多餘觀測信息對位姿信息和點雲數據進行優化，致使激光點雲數據中存在內部不一致問題，影響點雲後續處理與應用。實時SLAM點雲優化，通常先對點雲進行分段處理，然後通過閉環檢測找出重疊點雲構成的閉合環，以此構建位姿圖進行優化<sup>[7</sup><sup>-10</sup><sup>]</sup>。這類算法存在閉合環檢測錯誤的可能，且無法處理局部區域內部的誤差<sup>[11</sup><sup>]</sup>。測繪領域對三維激光點雲數據精度要求高，對數據實時性要求較低，可以對點雲進行離線的全局優化，從而改善點雲內部不一致，提高點雲的相對精度。目前的點雲全局優化主要針對地面靜態式掃描激光掃描點雲，方法是將一站點雲視為一個視圖，利用閉合環條件約束對多視點雲進行配準和優化。文獻[12-13]提出一種基於光束法區域網平差進行點雲整體配準方法，但需要利用靶標；文獻[14]提出了一種嚴密的閉合條件約束配準方法，使用點雲間的座標轉換參數構建誤差方程，進行優化；文獻[15-16]提出一種通過將點雲分為兩份分別配準，比較轉換參數的點雲配準質量的評價方式；文獻[17]提出了一種利用所有重疊點雲對應點作為觀測值同時解算配準結果的全局優化的算法。</p><p>SLAM點云為移動式實時掃描點雲，每一幀點云為一個視圖，點雲視圖數多，重疊關係複雜。為了充分利用重疊點雲中的冗餘信息對SLAM點雲進行精度優化，本文提出一種基於位姿圖優化理論<sup>[18</sup><sup>-19</sup><sup>]</sup>的離線整體精配準方法。該方法以實時獲取的平臺軌跡的位姿信息為初始條件，通過迭代最近點算法(iterative closest point, ICP)<sup>[20</sup><sup>]</sup>對在不同時刻掃描的重疊點雲進行配準，形成對掃描平臺軌跡的約束並對其進行優化，利用優化後的軌跡對點雲進行修正。為提高計算效率，本文采用分層優化策略，即將優化分解為局部區域優化和整體優化兩個層次。</p><p>1 位姿圖優化理論基礎1.1 位姿圖表達</p><p>圖優化理論是一種將圖論和非線性優化相結合的理論，通過將優化問題轉化為圖形式進行表達，從而直觀地反映出優化變量與約束條件之間的關係，便於拓撲結構操作和構造目標函數<sup>[21</sup><sup>]</sup>。用<em>G</em>={<em>V</em>,<em>E</em>}表示圖結構，<em>V</em>代表圖的頂點，<em>E</em>表示邊。針對優化問題，圖的頂點代表待優化參數，邊代表參數之間的約束條件。圖優化的目標是最小化所有約束代價，進而通過優化解法獲得最佳待求參數。位姿圖(見圖 1)是優化圖的一種具體形式，本文將其用於解決具有複雜點雲視圖結構的軌跡優化問題。</p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5lue3NUUG5x><p>圖 1 位姿圖示例Fig. 1 Pose graph</p><p>圖 1為一個典型的位姿圖示例，<strong>v</strong><sub>i</sub>表示一個頂點，<strong>e</strong><em>i</em>,<em>j</em>表示一條邊。其中，頂點代表掃描平臺的位置和姿態，頂點之間的邊代表位姿的約束條件。在SLAM激光點雲的全局優化中，位姿圖的每一個頂點<strong>v</strong><sub>i</sub>都對應於掃描系統的一個軌跡點<strong>x</strong><sub>i</sub>，軌跡點信息包含位置和姿態參數。其中，位置參數使用向量<strong>t</strong><sub>i</sub>=[x<sub>i</sub>y<sub>i</sub>z<sub>i</sub>]<sup>T</sup>表示，即掃描系統在全局座標系中的平移位置；姿態參數使用四元數q<sub>i</sub>=[qw<sub>i</sub>qx<sub>i</sub>qy<sub>i</sub>qz<sub>i</sub>]<sup>T</sup>表示，即掃描系統在全局座標系中的旋轉姿態，則頂點<strong>v</strong><sub>i</sub>=[<strong>t</strong><sub>i</sub><sup>T</sup><strong>q</strong><sub>i</sub><sup>T</sup>]<sup>T</sup>。位姿圖的每一條邊<strong>e</strong><em>i</em>,<em>j</em>表示觀測值對連接的頂點<strong>v</strong><sub>i</sub>、<strong>v</strong><sub>j</sub>之間相對位姿關係的約束，本文通過對重疊點雲進行配準形成約束。由於存在誤差，頂點<strong>v</strong><sub>i</sub>、<strong>v</strong><sub>j</sub>無法完全符合邊<strong>e</strong><em>i</em>,<em>j</em>代表的約束，產生的殘差為<em>r</em>(<strong>v</strong><sub>i</sub>,<strong>v</strong><sub>j</sub>,<strong>e</strong><em>i</em>,<em>j</em>)。</p><p>1.2 優化求解</p><p>根據最小化位姿圖的殘差總和的優化準則，獲得最優位姿參數<img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5luu4yrxEvg></p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/ROc5lv5IdZSFvA><p>(1)</p><p>式中，<em>n</em>為軌跡中的位姿總數。如果頂點<strong>v</strong><sub>i</sub>、<strong>v</strong><sub>j</sub>間不存在邊<strong>e</strong><em>i</em>,<em>j</em>作為約束時，則殘差<strong>r</strong>(<strong>v</strong><sub>i</sub>,<strong>v</strong><sub>j</sub>,<strong>e</strong><em>i</em>,<em>j</em>)=0。</p><p>位姿圖優化作為一種全局優化方法，其中每一條邊都會直接或間接對所有頂點的估計值產生影響，一個錯誤的約束就足以導致優化質量的下降，同時降低識別粗差的能力<sup>[22</sup><sup>]</sup>。在構建位姿圖的邊時，需要對大量點雲進行配準，周圍環境中存在的對稱、重複結構，噪聲，點雲重疊度低等因素，都會造成配準失敗。為提高解算的穩健性，減小異常值對結果的影響，本文通過附加損失函數對式(1)進行改進</p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5lvHDuxsbgn><p>(2)</p><p>式中，ρ<sub>H</sub>為Huber損失函數<sup>[23</sup><sup>]</sup>。</p><p>由於目標函數為非線性函數，可使用L-M(Levenberg-Marquardt)優化方法<sup>[24</sup><sup>]</sup>進行解算，獲得掃描平臺軌跡的最優位姿參數，進而根據優化後的軌跡對點雲進行修正，達到改善點雲質量的目的。</p><p>2 基於位姿圖的點雲優化</p><p>本文所使用的點雲優化方法是通過對掃描平臺的軌跡進行全局優化以提高點雲精度，方法流程如圖 2所示。過程包括數據預處理、局部區域點雲優化和整體點雲優化3部分。預處理的目的是去除對點雲配準貢獻小的點，如離群點，並估計點雲配準所需的法向量。預處理後按一定的時間間隔將點雲和軌跡分為若干小段，每一小段視為一個局部區域，其含有若干幀點雲。為了處理局部區域內點雲誤差，以單幀點云為配準單元，通過外包盒尋找點雲之間的重疊關係，對重疊點雲進行配準。SLAM激光點雲經過實時算法的處理，點雲間可認為已經完成粗配準，可以直接使用ICP算法進行配準。利用配準結果對軌跡進行約束，構建位姿圖對軌跡進行優化，完成局部區域內點雲優化。最後將優化後的局部區域點雲合併，合併後的每一段點雲視為配準單元，採用類似局部區域優化的方式完成整體點雲的全局優化。</p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ROc5lvUBtzdHaE><p>圖 2 SLAM點雲整體精配準方法Fig. 2 Global fine registration method of SLAM point</p><p>2.1 預處理</p><p>為了提高配準的可靠性和效率，首先採用距離濾波和統計距離閾值濾波對點雲數據進行預處理，剔除掃描距離過大點和孤立點。隨著掃描距離的增大，點雲的精度和密度都會下降，同時噪聲增多，根據掃描儀的有效掃描距離和掃描環境，設置距離閾值<em>D</em><sub>max</sub>，去除掃描距離大於<em>D</em><sub>max</sub>的點。為了去除孤立點，避免其對之後的法向量計算造成影響，對點雲進行統計距離閾值濾波<sup>[25</sup><sup>]</sup>。該方法計算每個點到最鄰近點的距離的平均值<em>μ</em>和標準差<em>σ</em>，去除距離最鄰近點距離超出<em>μ</em>±<em>σ</em>的點。最後，在預處理中計算每個點的法向量，通過對各點鄰域內座標的協方差矩陣進行特徵值分解，其中最小的特徵值對應的特徵向量為該點的法向量<sup>[26</sup><sup>]</sup>。</p><p>2.2 位姿圖構建</p><p>由於SLAM激光點雲在獲取時存在定位誤差，導致對同一區域掃描時獲取的不同幀點雲之間無法完全重合，通過對這些點雲進行配準可以構建對軌跡中位姿的約束。針對室內環境高度結構化的特點，本文選擇使用點-切平面ICP算法對點雲進行配準<sup>[27</sup><sup>]</sup>，通過採用最小化點到目標點雲對應點切平面的距離完成配準。作為一種兩視點雲精配準的方法，相比於普通ICP算法，點-切平面ICP能夠建立更精確的同名點，收斂速度較快、精度更高<sup>[28</sup><sup>]</sup>，其算法模型為<sup>[29</sup><sup>]</sup></p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5lzu303oqHJ><p>(3)</p><p>式中，<strong>s</strong><sub>i</sub>=[s<sub>ix</sub>s<sub>iy</sub>s<sub>iz</sub>]<sup>T</sup>是待配準點雲中的點；<strong>d</strong><sub>i</sub>=[d<sub>ix</sub>d<sub>iy</sub>d<sub>iz</sub>]<sup>T</sup>是目標點雲中的對應點；<strong>R</strong>代表旋轉矩陣；<strong>t</strong>代表平移參數；<strong>n</strong><sub>i</sub>=[n<sub>ix</sub>n<sub>iy</sub>n<sub>iz</sub>]<sup>T</sup>為點<strong>s</strong><sub>i</sub>的法向量。</p><p>若以點雲c<sub>i</sub>為基準，配準點雲c<sub>j</sub>後獲得的轉換參數為<strong>R</strong><em>i</em>,<em>j</em>、<strong>t</strong><em>i</em>,<em>j</em>，將旋轉部分轉化四元數的形式與頂點表示形式統一後，轉換參數表示為[<strong>t</strong><em>i</em>,<em>j</em><sup>T</sup><strong>q</strong><em>i</em>,<em>j</em><sup>T</sup>]<sup>T</sup>，轉化方法見文獻[30]，則約束對應頂點<strong>v</strong><sub>i</sub>、<strong>v</strong><sub>j</sub>的邊<strong>e</strong><em>i</em>,<em>j</em>為</p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5m09VTY3PA><p>(4)</p><p>式中，<strong>R</strong>(<strong>q</strong>)表示四元數<strong>q</strong>對應的旋轉矩陣；邊<strong>e</strong><em>i</em>,<em>j</em>的實際意義為在點雲c<sub>i</sub>對應的局部座標系下，兩視配準後的點雲c<sub>j</sub>與點雲c<sub>i</sub>的掃描中心的相對位姿關係。</p><p>對於頂點<strong>v</strong><sub>i</sub>、<strong>v</strong><sub>j</sub>和邊<strong>e</strong><em>i</em>,<em>j</em>=[<strong>p</strong><em>e</em>i,<em>j</em><sup>T</sup><strong>q</strong><em>e</em><em>i</em>,<em>j</em><sup>T</sup>]<sup>T</sup>，殘差可以分為平移和旋轉兩部分</p><p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ROc5m0L9HFU107>(5)</p><p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ROc5m0W7hlK2is>(6)</p><p>式中，<strong>r</strong><sub>tran</sub>(<strong>v</strong><sub>i</sub>,<strong>v</strong><sub>j</sub>,<strong>e</strong><em>i</em>,<em>j</em>)、<em>r</em><sub>rota</sub>(<strong>v</strong><sub>i</sub>,<strong>v</strong><sub>j</sub>,<strong>e</strong><em>i</em>,<em>j</em>)分別為平移和旋轉對應的殘差；<strong>p</strong><em>e</em><em>i</em>,<em>j</em>和<strong>q</strong><em>e</em><em>i</em>,<em>j</em>分別為邊<strong>e</strong><em>i</em>,<em>j</em>的平移和旋轉部分；vec(<em>q</em>)為四元數的虛數部分[<em>qx qy qz</em>]。</p><p>結合平移和旋轉殘差的總體殘差為</p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5m0i7qPbr16><p>(7)</p><p>式中，w<sub>t</sub>和w<sub>r</sub>分別為平移和旋轉的權重。</p><p>2.3 分層次優化</p><p>由於SLAM激光點雲包含大量的掃描幀數，且相互之間存在大量重疊，若要一次性構建整體點雲的位姿圖，需要在各幀點雲間進行大量配準，導致優化計算耗時過長。因此，通過將點雲優化分解為局部區域和整體兩個層次進行，以減小構建位姿圖時的計算量，提高算法效率，過程如圖 3所示。</p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5m3WAAiSHyl><p>圖 3 分層次配準過程(每種顏色代表一個分段區域內的點雲)Fig. 3 The process of hierarchical registration(each color represents the point cloud in one segmentation</p><p>預處理後，將點雲和軌跡按時間間隔t<sub>s</sub>分段，每一小段視為一個局部區域，其中含有若干幀點雲。在局部區域層次上進行點雲優化時，首先使用分段後的軌跡構建局部區域內的位姿圖頂點。然後，在每個分段區域內通過對每幀點雲的外包盒進行相交檢測，找出具有重疊關係的點雲，使用點到切平面ICP對重疊點雲進行配準，每次成功進行重疊點雲的配準後，使用2.2節中描述的方法構建位姿圖中對應頂點間的一條邊。局部區域內的位姿圖構建完成後，對位姿圖進行解算，獲得優化後的分段軌跡，對分段內點雲進行修正。</p><p>完成局部層次的優化後，對每個分段內的點雲進行合併，結果如圖 3(b)所示。以合併後的點云為配準單元進行配準，計算配準時建立的同名點對數與目標點雲點數的比值<em>α</em>作為有效重疊度，在整體點雲位姿圖構建時通過閾值<em>α</em><sub>min</sub>去除有效重疊度低的點雲間的不可靠配準結果。位姿圖解算後，根據優化後的整體軌跡對點雲進行修正，完成對整體點雲的優化。</p><p>3 試驗與分析</p><p>為了驗證本文算法的有效性，本文采用Google公司的Cartographer算法<sup>[9</sup><sup>]</sup>示例數據作為試驗數據對本文算法的效果進行驗證。該數據包含數據1和數據2兩部分，由裝備了兩個VelodyneVLP-16LiDAR掃描儀和IMU的3D LiDAR揹包獲取，掃描地點為德意志科技博物館，圖 4為所用試驗數據的俯視圖。數據1為單個樓層掃描結果，數據2為3個樓層掃描結果，幷包含一個大型展廳，數據具體參數如表 1所示。試驗的計算機環境為IntelXeonE5-2660 v3 @2.60 GHz，128 GB內存。</p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ROc5m3qAIzmeov><p>圖 4 Google Cartographer算法德意志博物館示例數據Fig. 4 Google Cartographer sample data set in Deutsches Museum</p><p>表 1 試驗數據說明Tab. 1 Experimental data characteristics</p><table><thead><tr><td>數據</td><td>掃描時長/s</td><td>軌跡長度/m</td><td>包含點雲幀數</td></tr></thead><tbody><tr><td>數據1</td><td>382</td><td>291.2</td><td>7559</td></tr><tr><td>數據2</td><td>1466</td><td>1 300.5</td><td>21 718</td></tr></tbody></table><p>在預處理階段，根據掃描儀的性能和室內環境的尺度，將點雲的最大有效距離閾值<em>D</em><sub>max</sub>設為20 m，去除超出距離閾值的點。局部區域優化時，按時間間隔t<sub>s</sub>對預處理後的點雲和軌跡進行分段，分別在每段點雲內部通過ICP配準構建局部區域的位姿圖。在位姿圖殘差計算時，參考Cartographer算法<sup>[9</sup><sup>]</sup>中的設置，將平移和旋轉代價的權值w<sub>t</sub>、w<sub>r</sub>分別設為1、100，將每段點雲中第1幀點雲對應的頂點設為基準，使用L-M算法進行解算。整體點雲優化時，對局部區域內優化後的點雲進行合併，在整體點雲範圍內搜索重疊點雲進行配準，為了保證配準的可靠性，將最小有效重疊度<em>α</em><sub>min</sub>的值設為0.05，進行整體點雲的全局位姿圖構建。</p><p>根據優化後獲得的軌跡對點雲進行修正，得到整體精配準後的點雲。以時間間隔t<sub>s</sub>=3 s時的點雲優化結果為例，圖 5、圖 6為點雲數據優化前後場景的定性對比。從圖 5(a)、(b)中1，(c)、(d)中5，圖 6(c)、(d)中5、6，(e)、(f)中8、9的對比可知，優化後點雲中的物體輪廓更加清晰；從圖 5(a)、(b)中3、4，(c)、(d)中6，圖 6(c)、(d)中7，(e)、(f)中10、11的對比可知，點雲中的牆面的厚度變薄；從圖 5(a)、(b)中2，圖 6(a)、(b)中1、2、3、4的對比可知，同一物體存在多個掃描結果的現象也得到了消除。</p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5m433ulSjGV><p>圖 5 數據1優化前後對比Fig. 5 Data 1 scenes before and after optimization</p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ROc5m4GA9YW0BZ><p>圖 6 數據2優化前後對比Fig. 6 Data 2 scenes before and after optimization</p><p>本文采用重疊點雲間的對應點對的距離中誤差(root mean square error, RMSE)作為評價標準來定量地分析優化前後點雲的相對精度變化。通過優化後的軌跡<img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ROc5m4SFAtrh><em>X</em>={<strong>x</strong><sub>1</sub>,<em>x</em><sub>2</sub>, …,<strong>x</strong><sub>i</sub>}可以計算任意兩幀點雲c<sub>i</sub>、c<sub>j</sub>對應點對距離在局部優化後的RMSE。計算公式如下</p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5mBP2VYDu4z><p>(8)</p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5mBdJAOcctc><p>(9)</p><p>式中，<strong>q</strong>與<strong>t</strong>分別表示優化前掃描系統位姿的旋轉和位移；<img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5mBq9xL1s5R><strong>q</strong><sup>opt</sup>與<strong>t</strong><sup>opt</sup>是優化前掃描系統位姿到優化後掃描系統位姿的變換參數；<strong>d</strong><sub>m</sub>、<strong>s</strong><sub>m</sub>是點雲c<sub>i</sub>、c<sub>j</sub>進行ICP時獲得的對應點對；<em>m</em>為對應點對的編號；<em>M</em>是對應點對數量。</p><p>為了分析不同的分段時間間隔t<sub>s</sub>取值對點雲優化的用時和優化精度的影響，以1 s為間隔對t<sub>s</sub>取值進行點雲全局優化，統計優化用時，並計算優化前後整體點雲所有重疊幀間的對應點對距離RMSE，結果如圖 7和表 2所示。</p><img alt="論文推薦| 閆利：SLAM激光點雲整體精配準位姿圖技術" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ROc5mC4EeEavf5><p>圖 7 不同時間間隔t<sub>s</sub>取值下優化用時Fig. 7 The time cost before and after optimization in different values of t<sub>s</sub></p><p>表 2 不同時間間隔t<sub>s</sub>取值下優化前後RMSETab. 2 The RMSE before and after optimization in different values of t<sub>s</sub></p><table><thead><tr><td rowspan=2>分段時間間隔t<sub>s</sub>/s</td><td colspan=2>數據1的RMSE/cm</td><br><td colspan=2>數據2的RMSE/cm</td></tr><tr><td>優化前</td><td>優化後</td><td>優化前</td><td>優化後</td></tr></thead><tbody><tr><td>1</td><td>10.5</td><td>4.8</td><br><td>14.2</td><td>6.6</td></tr><tr><td>2</td><td>10.5</td><td>4.5</td><td>14.3</td><td>6.7</td></tr><tr><td>3</td><td>10.7</td><td>4.3</td><td>14.4</td><td>6.7</td></tr><tr><td>4</td><td>10.9</td><td>4.4</td><td>14.4</td><td>6.8</td></tr><tr><td>5</td><td>11.0</td><td>4.5</td><td>14.5</td><td>7.0</td></tr><tr><td>平均值</td><td>10.7</td><td>4.5</td><td>14.4</td><td>6.8</td></tr></tbody></table><p>由圖 7(a)、(b)可以看出，局部優化用時隨分段時間間隔t<sub>s</sub>的增大近似線性增長，而整體優化用時則隨著時間間隔t<sub>s</sub>的增大，開始時快速減小，之後減小速度逐漸減慢。在時間間隔t<sub>s</sub>等於2 s時，數據1和數據2優化總用時最少。從表 2中可以看出，在不同的時間間隔t<sub>s</sub>下，點雲的精度計算結果沒有明顯變化，說明了本文方法的優化效果受不同時間間隔t<sub>s</sub>的影較小。其中，優化前的RMSE的變化，是由於時間間隔t<sub>s</sub>的改變，計算得到的分段點雲不同，導致獲取的同名點對不同造成的。數據1優化後，不同時間間隔下平均點雲RMSE從10.7 cm變為4.5 cm，減小了58%，在t<sub>s</sub>=3 s時優化後RMSE最小為4.3 cm；數據2優化後，不同時間間隔下平均點雲RMSE從14.4 cm變為6.8 cm，減小了53%，在t<sub>s</sub>=1 s時，優化後RMSE最小為6.6 cm，說明優化後點雲精度明顯提高，驗證了本文方法的有效性。</p><p>4 結論</p><p>基於SLAM技術的激光掃描可以高效地獲取目標場景的三維信息，但精度受限，可通過全局優化的方法提高SLAM激光點雲的精度。由於SLAM激光點雲具有重疊度高，幀數多的特點，導致配準關係複雜，計算量大，傳統的點雲優化方法不適用於SLAM激光點雲的全局優化。本文針對SLAM激光點雲相對精度優化問題，提出了一種分層次的點雲整體精配准算法。通過對獲取的點雲進行分段將全局位姿圖的構建分為兩個層次。首先在分段內部使用點-切平面ICP進行配準，構建局部位姿圖對點雲進行優化，保證分段內部點雲的一致性，再對分段點雲進行配準，構建全局位姿圖，對整體點雲進行優化。通過試驗，對算法的可行性和有效性進行了驗證。試驗結果表明，優化後點雲同名點對間的距離中誤差減小了約50%，點雲中重複掃描間的差異減小，物體輪廓更加清晰，說明點雲的內部一致性得以改善。</p><p><strong>【引文格式】閆利, 戴集成, 譚駿祥, 等. SLAM激光點雲整體精配準位姿圖技術. 測繪學報，2019，48(3)：</strong><strong>313-321. DOI: 10.11947/j.AGCS.2019.20170716</strong></p><p>精</p><p>彩</p><p>回</p><p>顧</p><p>《測繪學報》<strong>2019年第3期網刊發佈</strong></p><p><strong>關於人類歷史上首張黑洞照片，你想知道的都在這裡</strong></p><p><strong>開放報名！</strong><strong>首屆DataEarth《測繪學報》杯開發者大賽萬元獎金等你來拿</strong></p><p><strong>今年的碩士、博士確定能畢業麼？</strong><strong>教育部今年擬抽檢6000篇學位論文</strong></p><p><strong>2019年QS世界大學學科排名出爐</strong></p><p>楊必勝、張小紅、趙齊樂等測繪信息領域專家入選第四批國家“萬人計劃”入選人員</p><p>關於召開“測繪前沿科技大講堂與科技期刊論文寫作理論與方法高級研修班”的（一號）通知</p><p>權威 | 專業 | 學術 | 前沿</p><p>微信投稿郵箱 | song_qi_fan@163.com</p><p>微信公眾號中搜索「測繪學報」，<strong>關注我們</strong>，長按上圖二維碼，關注學術前沿動態。</p><p>歡加入《測繪學報》作者QQ群：<strong> 297834524</strong></p><p>進群請備註：姓名+單位+稿件編號</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>論文</a></li><li><a>推薦</a></li><li><a>閆利</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/e55aaf9b.html alt="論文推薦 | 袁修孝：航攝影像密集匹配的研究進展與展望" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6Ieh75DBRtmcY style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e55aaf9b.html title="論文推薦 | 袁修孝：航攝影像密集匹配的研究進展與展望">論文推薦 | 袁修孝：航攝影像密集匹配的研究進展與展望</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4653cf8e.html alt=論文推薦｜王濤：國產機載大視場三線陣CCD相機GNSS偏心矢量和IMU視軸偏心角標定技術 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6Ieh75DBRtmcY style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4653cf8e.html title=論文推薦｜王濤：國產機載大視場三線陣CCD相機GNSS偏心矢量和IMU視軸偏心角標定技術>論文推薦｜王濤：國產機載大視場三線陣CCD相機GNSS偏心矢量和IMU視軸偏心角標定技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5718fd72.html alt="論文推薦 | 閆廣峰：L1範數探測粗差失效的觀測量識別方法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5718fd72.html title="論文推薦 | 閆廣峰：L1範數探測粗差失效的觀測量識別方法">論文推薦 | 閆廣峰：L1範數探測粗差失效的觀測量識別方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d2c7df1e.html alt=「論文推薦」左建平教授談岩層移動研究進展及重點 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RmTmvrAHAwNOUb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d2c7df1e.html title=「論文推薦」左建平教授談岩層移動研究進展及重點>「論文推薦」左建平教授談岩層移動研究進展及重點</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6d77a0e0.html alt=「論文推薦」郭廣禮等：無井式煤炭地下氣化岩層及地表移動與控制 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ReafrDd7EHXniF style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6d77a0e0.html title=「論文推薦」郭廣禮等：無井式煤炭地下氣化岩層及地表移動與控制>「論文推薦」郭廣禮等：無井式煤炭地下氣化岩層及地表移動與控制</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c63c80c1.html alt="論文推薦 | 劉照欣：高光譜亞像元定位的線特徵探測法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c63c80c1.html title="論文推薦 | 劉照欣：高光譜亞像元定位的線特徵探測法">論文推薦 | 劉照欣：高光譜亞像元定位的線特徵探測法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/be8eee7a.html alt=「論文推薦」狄軍貞​等：粒徑對煤矸石汙染物溶解釋放規律影響研究 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/S0q6oVj53DcDnj style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/be8eee7a.html title=「論文推薦」狄軍貞​等：粒徑對煤矸石汙染物溶解釋放規律影響研究>「論文推薦」狄軍貞​等：粒徑對煤矸石汙染物溶解釋放規律影響研究</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7f16a422.html alt="論文推薦| 李宗春：一種顧及現勢指向的上行天線陣相位中心精確標校方法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6Ieh75DBRtmcY style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7f16a422.html title="論文推薦| 李宗春：一種顧及現勢指向的上行天線陣相位中心精確標校方法">論文推薦| 李宗春：一種顧及現勢指向的上行天線陣相位中心精確標校方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6f4959cd.html alt="論文推薦| 林秀秀:極區慣導編排中地球近似模型的適用性分析" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6f4959cd.html title="論文推薦| 林秀秀:極區慣導編排中地球近似模型的適用性分析">論文推薦| 林秀秀:極區慣導編排中地球近似模型的適用性分析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a6b0d6e2.html alt="論文推薦| 皮英冬:利用稀少控制點的線陣推掃式光學衛星在軌幾何定標方法" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a6b0d6e2.html title="論文推薦| 皮英冬:利用稀少控制點的線陣推掃式光學衛星在軌幾何定標方法">論文推薦| 皮英冬:利用稀少控制點的線陣推掃式光學衛星在軌幾何定標方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c7555ef5.html alt=論文推薦｜姚宜斌：顧及設計矩陣誤差的AR模型新解法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/53410004acf9b032d928 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c7555ef5.html title=論文推薦｜姚宜斌：顧及設計矩陣誤差的AR模型新解法>論文推薦｜姚宜斌：顧及設計矩陣誤差的AR模型新解法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f22ea791.html alt=論文推薦｜楊幸彬：高分辨率遙感影像DSM的改進半全局匹配生成方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f22ea791.html title=論文推薦｜楊幸彬：高分辨率遙感影像DSM的改進半全局匹配生成方法>論文推薦｜楊幸彬：高分辨率遙感影像DSM的改進半全局匹配生成方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7c51035d.html alt=論文推薦｜邢志斌：我國陸海統一似大地水準面構建的三維重力矢量法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/15294875207731e288b7418 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7c51035d.html title=論文推薦｜邢志斌：我國陸海統一似大地水準面構建的三維重力矢量法>論文推薦｜邢志斌：我國陸海統一似大地水準面構建的三維重力矢量法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d07bf9bc.html alt=論文推薦｜馬下平：ITRF中GNSS/SLR並址站歸心基線的“一步解” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/53350006726e50ef72f9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d07bf9bc.html title=論文推薦｜馬下平：ITRF中GNSS/SLR並址站歸心基線的“一步解”>論文推薦｜馬下平：ITRF中GNSS/SLR並址站歸心基線的“一步解”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b44462ad.html alt="論文推薦 | 劉洋：MF多源測深數據融合方法及大洋水深模型構建" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/R6W0QpMHySg0Qb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b44462ad.html title="論文推薦 | 劉洋：MF多源測深數據融合方法及大洋水深模型構建">論文推薦 | 劉洋：MF多源測深數據融合方法及大洋水深模型構建</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>