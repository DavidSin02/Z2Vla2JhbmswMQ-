<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Android ä¸Šå“ªå€‹æ›´å¥½ï¼šé™¤ä»¥ 2 é‚„æ˜¯ä½ç§» 1ï¼Ÿ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Android ä¸Šå“ªå€‹æ›´å¥½ï¼šé™¤ä»¥ 2 é‚„æ˜¯ä½ç§» 1ï¼Ÿ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/RzDApJ2446C0Cb"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5d9acd.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5d9acd.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5d9acd.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5d9acd.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5d9acd.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5d9acd.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/b5d9acd.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/b5d9acd.html><meta property="article:published_time" content="2020-10-29T21:00:27+08:00"><meta property="article:modified_time" content="2020-10-29T21:00:27+08:00"><meta name=Keywords content><meta name=description content="Android ä¸Šå“ªå€‹æ›´å¥½ï¼šé™¤ä»¥ 2 é‚„æ˜¯ä½ç§» 1ï¼Ÿ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/b5d9acd.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Android ä¸Šå“ªå€‹æ›´å¥½ï¼šé™¤ä»¥ 2 é‚„æ˜¯ä½ç§» 1ï¼Ÿ</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><img alt="Android ä¸Šå“ªå€‹æ›´å¥½ï¼šé™¤ä»¥ 2 é‚„æ˜¯ä½ç§» 1ï¼Ÿ" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/RzDApJ2446C0Cb><p>ä½œè€… | Jake Wharton</p><p>è­¯è€… | å­«è–‡ï¼Œè²¬ç·¨ | å¤•é¡</p><p>é ­åœ– | CSDNä¸‹è¼‰è‡ªè¦–è¦ºä¸­åœ‹</p><p>å‡ºå“ | CSDNï¼ˆID:CSDNnewsï¼‰</p><p><strong>ä»¥ä¸‹ç‚ºè­¯æ–‡ï¼š</strong></p><p>æˆ‘ä¸€ç›´åœ¨å°‡AndroidXé›†åˆåº«ç§»æ¤åˆ°Kotlin multiplatformä¸Šï¼Œä»¥è©¦é©—äºŒé€²åˆ¶å…¼å®¹æ€§ã€æ€§èƒ½ã€å·¥å…·ä»¥åŠä¸åŒçš„å…§å­˜æ¨¡å‹ã€‚åº«ä¸­çš„æŸäº›æ•¸æ“šçµæ§‹ä½¿ç”¨äº†åŸºæ–¼æ•¸çµ„çš„äºŒå‰æ¨¹ä¾†å­˜å„²å…ƒç´ ã€‚Javaä»£ç¢¼ä¸­æœ‰å¤§é‡ä½ç§»ä¾†æ›¿ä»£2çš„å†ªçš„ä¹˜é™¤æ³•ã€‚ç•¶ç§»æ¤åˆ°Kotlinä¹‹å¾Œï¼Œé€™äº›å°±æˆäº†ç•¥å¾®æœ‰é»å½†æ‰­çš„ä¸­ç¶´é‹ç®—ç¬¦ï¼Œå°è‡´ä»£ç¢¼æ„åœ–é€²ä¸€æ­¥è¢«æ··æ·†ã€‚</p><p>æˆ‘æ‰¾äº†äº›äººä¾†èª¿æŸ¥å°æŒ‰ä½ç§»ä½ï¼ˆbitwise shiftsï¼‰èˆ‡ä¹˜é™¤æ³•çš„çœ‹æ³•ï¼Œå¾ˆå¤šäººè½èªªéç§»ä½æ€§èƒ½æ›´å¥½çš„å‚³èï¼Œä½†æ¯å€‹äººå°å…¶çœŸå¯¦æ€§ä»æŒæ‡·ç–‘æ…‹åº¦ã€‚ä¸€äº›äººèªç‚ºï¼Œä»£ç¢¼åœ¨CPUä¸Šé‹è¡Œä¹‹å‰æ‰€è¦‹éçš„ä¸€å€‹ç·¨è­¯å™¨å¯ç”¨ä¾†å„ªåŒ–é€™å€‹æ¡ˆä¾‹ã€‚</p><p>ç‚ºäº†æ»¿è¶³æˆ‘çš„å¥½å¥‡å¿ƒï¼ˆéƒ¨åˆ†ä¹Ÿæ˜¯ç‚ºäº†é¿å…Kotlinçš„ä¸­ç¶´æŒ‰ä½é‹ç®—ç¬¦ï¼‰ï¼Œæˆ‘æ‰“ç®—å›ç­”å“ªå€‹æ›´å„ªçš„å•é¡Œï¼Œä»¥åŠä¸€äº›ç›¸é—œçš„å•é¡Œã€‚é‚£éº¼é€™å°±é–‹å§‹å§ã€‚</p><img alt="Android ä¸Šå“ªå€‹æ›´å¥½ï¼šé™¤ä»¥ 2 é‚„æ˜¯ä½ç§» 1ï¼Ÿ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RT4Gwk56bt5iOJ><p></p><h1 toutiao-origin=h3>æœ‰äººå„ªåŒ–å—ï¼Ÿ</h1><p>åœ¨ä»£ç¢¼é€²å…¥CPUä¹‹å‰ï¼Œä¸»è¦ç¶“éä¸‰å€‹ç·¨è­¯å™¨ï¼š`javac`/`kotlinc`ï¼ŒD8/R8ï¼Œä»¥åŠARTã€‚</p><img alt="Android ä¸Šå“ªå€‹æ›´å¥½ï¼šé™¤ä»¥ 2 é‚„æ˜¯ä½ç§» 1ï¼Ÿ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/RzEPVHu8hK92pI><p>å®ƒå€‘éƒ½æœ‰æ©Ÿæœƒå°ä»£ç¢¼é€²è¡Œå„ªåŒ–ï¼Œä½†å®ƒå€‘æœƒé€™æ¨£åšå—ï¼Ÿ</p><p></p><h1 toutiao-origin=h3>javac</h1><pre><code>class Example {</code><code> static int multiply(int value) {</code><code> return value * 2;</code><code> }</code><code> static int divide(int value) {</code><code> return value / 2;</code><code> }</code><code> static int shiftLeft(int value) {</code><code> return value &lt;&lt; 1;</code><code> }</code><code> static int shiftRight(int value) {</code><code> return value &gt;&gt; 1;</code><code> }</code><code>}</code></pre><p>å¯ä»¥ä½¿ç”¨JDK14ä¸­çš„javacä¾†ç·¨è­¯é€™æ®µJavaä»£ç¢¼ï¼Œä¸¦é€šéjavapä¾†é¡¯ç¤ºç”Ÿæˆçš„å­—ç¯€ç¢¼ã€‚</p><pre><code>$ javac Example.java</code><code>$ javap -c Example</code><code>Compiled from "Example.java"</code><code>class Example {</code><code> static int multiply(int);</code><code> Code:</code><code> 0: iload_0</code><code> 1: iconst_2</code><code> 2: imul</code><code> 3: ireturn</code><br><br><code> static int divide(int);</code><code> Code:</code><code> 0: iload_0</code><code> 1: iconst_2</code><code> 2: idiv</code><code> 3: ireturn</code><br><br><code> static int shiftLeft(int);</code><code> Code:</code><code> 0: iload_0</code><code> 1: iconst_1</code><code> 2: ishl</code><code> 3: ireturn</code><br><br><code> static int shiftRight(int);</code><code> Code:</code><code> 0: iload_0</code><code> 1: iconst_1</code><code> 2: ishr</code><code> 3: ireturn</code></pre><p>ä»¥ `iload_0` é–‹é ­çš„æ¯å€‹æ–¹æ³•æœƒåŠ è¼‰ç¬¬ä¸€å€‹å¯¦åƒå€¼ï¼Œä¹‹å¾Œä¹˜æ³•å’Œé™¤æ³•éƒ½åŒ…å« `iconst_2` ï¼Œå®ƒå€‘åŠ è¼‰å¸¸é‡2ï¼Œç„¶å¾Œåˆ†åˆ¥é‹è¡Œ `imul` æˆ–è€… `idiv` ï¼Œä»¥åŸ·è¡Œæ•´æ•¸ä¹˜æ³•æˆ–æ•´æ•¸é™¤æ³•ã€‚ç§»ä½æ–¹æ³•åœ¨`ishl`æˆ–`ishr`ä¹‹å‰åŠ è¼‰å¸¸é‡1ï¼Œåˆ†åˆ¥åŸ·è¡Œæ•´æ•¸å‘å·¦ç§»ä½å’Œæ•´æ•¸å‘å³ç§»ä½ã€‚</p><p>é€™è£¡æ²’æœ‰å„ªåŒ–ï¼Œä½†å¦‚æœä½ æœ‰å°Javaæœ‰æ‰€ç­è§£ï¼Œå°±çŸ¥é“é€™ä¸¦ä¸æ„å¤–ã€‚`javac`ä¸¦ä¸æ˜¯ä¸€å€‹å„ªåŒ–ç·¨è­¯å™¨ï¼Œå®ƒå°‡å¤§éƒ¨åˆ†å·¥ä½œç•™çµ¦äº†JVMä¸Šçš„é‹è¡Œæ™‚ç·¨è­¯å™¨æˆ–è€…æå‰ç·¨è­¯å™¨ã€‚</p><p></p><h1 toutiao-origin=h3>kotlinc</h1><pre><code>fun multiply(value: Int) = value * 2</code><code>fun divide(value: Int) = value / 2</code><code>fun shiftLeft(value: Int) = value shl 1</code><code>fun shiftRight(value: Int) = value shr 1</code></pre><p>ä½¿ç”¨Kotlin 1.4-M1ä¸­çš„`Kotlinc`å°‡Kotlinç·¨è­¯ç‚ºJavaå­—ç¯€ç¢¼ï¼Œé€™æ¨£`javap`å·¥å…·å°±èƒ½å†æ¬¡ä½¿ç”¨ã€‚</p><pre><code>$ kotlinc Example.kt</code><code>$ javap -c ExampleKt</code><code>Compiled from "Example.kt"</code><code>public final class ExampleKt {</code><code> public static final int multiply(int);</code><code> Code:</code><code> 0: iload_0</code><code> 1: iconst_2</code><code> 2: imul</code><code> 3: ireturn</code><br><br><code> public static final int divide(int);</code><code> Code:</code><code> 0: iload_0</code><code> 1: iconst_2</code><code> 2: idiv</code><code> 3: ireturn</code><br><br><code> public static final int shiftLeft(int);</code><code> Code:</code><code> 0: iload_0</code><code> 1: iconst_1</code><code> 2: ishl</code><code> 3: ireturn</code><br><br><code> public static final int shiftRight(int);</code><code> Code:</code><code> 0: iload_0</code><code> 1: iconst_1</code><code> 2: ishr</code><code> 3: ireturn</code></pre><p>èˆ‡Javaçš„è¼¸å‡ºçµæœå®Œå…¨ä¸€è‡´ã€‚é€™æ˜¯é‹ç”¨äº†KotlinåŸå§‹çš„JVMå¾Œç«¯ï¼Œä½†ä½¿ç”¨åŸºæ–¼IRçš„å¾Œç«¯ï¼ˆé€šé`-Xuse-ir`ï¼‰ä¹Ÿèƒ½ç”¢ç”ŸåŒæ¨£çš„è¼¸å‡ºã€‚</p><p></p><h1 toutiao-origin=h3>D8</h1><p>æˆ‘å€‘ä½¿ç”¨Kotlinç¤ºä¾‹ä¸­çš„Javaå­—ç¯€ç¢¼è¼¸å‡ºä½œç‚ºç”± `master`ï¼ˆåœ¨æ–‡æœ¬æ’°å¯«æ™‚æ˜¯SHA `2a2bf622d`ï¼‰æ‰€æ§‹å»ºçš„æœ€æ–°D8çš„è¼¸å…¥ã€‚</p><pre><code>$ java -jar $R8_HOME/build/libs/d8.jar \</code><code> --release \</code><code> --output . \</code><code> ExampleKt.class</code><code>$ dexdump -d classes.dex</code><code>Opened 'classes.dex', DEX version '035'</code><code>Class #0 -</code><code> Class descriptor : 'LExampleKt;'</code><code> Access flags : 0x0011 (PUBLIC FINAL)</code><code> Superclass : 'Ljava/lang/Object;'</code><code> Direct methods -</code><code> #0 : (in LExampleKt;)</code><code> name : 'divide'</code><code> type : '(I)I'</code><code> access : 0x0019 (PUBLIC STATIC FINAL)</code><code> code -</code><code>000118: |[000118] ExampleKt.divide:(I)I</code><code>000128: db00 0102 |0000: div-int/lit8 v0, v1, #int 2 // #02</code><code>00012c: 0f00 |0002: return v0</code><br><br><code> #1 : (in LExampleKt;)</code><code> name : 'multiply'</code><code> type : '(I)I'</code><code> access : 0x0019 (PUBLIC STATIC FINAL)</code><code> code -</code><code>000130: |[000130] ExampleKt.multiply:(I)I</code><code>000140: da00 0102 |0000: mul-int/lit8 v0, v1, #int 2 // #02</code><code>000144: 0f00 |0002: return v0</code><br><br><code> #2 : (in LExampleKt;)</code><code> name : 'shiftLeft'</code><code> type : '(I)I'</code><code> access : 0x0019 (PUBLIC STATIC FINAL)</code><code> code -</code><code>000148: |[000148] ExampleKt.shiftLeft:(I)I</code><code>000158: e000 0101 |0000: shl-int/lit8 v0, v1, #int 1 // #01</code><code>00015c: 0f00 |0002: return v0</code><br><br><code> #3 : (in LExampleKt;)</code><code> name : 'shiftRight'</code><code> type : '(I)I'</code><code> access : 0x0019 (PUBLIC STATIC FINAL)</code><code> code -</code><code>000160: |[000160] ExampleKt.shiftRight:(I)I</code><code>000170: e100 0101 |0000: shr-int/lit8 v0, v1, #int 1 // #01</code><code>000174: 0f00 |0002: return </code><br></pre><p>(æ³¨ï¼šè¼¸å‡ºç•¥å¾®ä¿®å‰ª)</p><p>Dalvikå­—ç¯€ç¢¼æ˜¯åŸºæ–¼å¯„å­˜å™¨çš„ï¼Œè€Œä¸æ˜¯åƒJavaå­—ç¯€ç¢¼é‚£æ¨£åŸºæ–¼å †æ£§ã€‚å› æ­¤ï¼Œæ¯ç¨®æ–¹æ³•åªæœ‰ä¸€å€‹å¯¦å­—ç¯€ç¢¼ä¾†åŸ·è¡Œç›¸é—œçš„æ•´æ•¸é‹ç®—ã€‚æ¯å€‹å¯„å­˜å™¨éƒ½ä½¿ç”¨v1å¯„å­˜å™¨ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€å€‹å¯¦åƒå€¼ï¼Œä»¥åŠ2æˆ–1çš„æ•´å‹å¸¸é‡ã€‚</p><p>å› æ­¤æ²’æœ‰æ›´æ”¹è¡Œç‚ºï¼Œä½†D8ä¹Ÿä¸æ˜¯ä¸€å€‹å„ªåŒ–ç·¨è¼¯å™¨ï¼ˆå„˜ç®¡å®ƒå¯ä»¥åŸ·è¡Œå±€éƒ¨æ–¹æ³•çš„å„ªåŒ–ï¼‰ã€‚</p><p></p><h1 toutiao-origin=h3>R8</h1><p>è¦é‹è¡ŒR8ï¼Œæˆ‘å€‘éœ€è¦å®šç¾©ä¸€é …è¦å‰‡ï¼Œä»¥é˜²æ­¢æˆ‘å€‘çš„æ–¹æ³•è¢«åˆªé™¤ã€‚</p><pre><code>-keep,allowoptimization class ExampleKt {</code><code> &lt;methods&gt;;</code><code>}</code></pre><p>é€™äº›è¦å‰‡é€šé `--pg-conf` ä¾†å‚³éï¼Œæˆ‘å€‘é‚„æä¾›äº†Android APIä¾†éˆæ¥ä½¿ç”¨ `--lib`ã€‚</p><pre><code>$ java -jar $R8_HOME/build/libs/r8.jar \</code><code> --lib $ANDROID_HOME/platforms/android-29/android.jar \</code><code> --release \</code><code> --pg-conf rules.txt \</code><code> --output . \</code><code> ExampleKt.class</code><code>$ dexdump -d classes.dex</code><code>Opened 'classes.dex', DEX version '035'</code><code>Class #0 -</code><code> Class descriptor : 'LExampleKt;'</code><code> Access flags : 0x0011 (PUBLIC FINAL)</code><code> Superclass : 'Ljava/lang/Object;'</code><code> Direct methods -</code><code> #0 : (in LExampleKt;)</code><code> name : 'divide'</code><code> type : '(I)I'</code><code> access : 0x0019 (PUBLIC STATIC FINAL)</code><code> code -</code><code>000118: |[000118] ExampleKt.divide:(I)I</code><code>000128: db00 0102 |0000: div-int/lit8 v0, v1, #int 2 // #02</code><code>00012c: 0f00 |0002: return v0</code><br><br><code> #1 : (in LExampleKt;)</code><code> name : 'multiply'</code><code> type : '(I)I'</code><code> access : 0x0019 (PUBLIC STATIC FINAL)</code><code> code -</code><code>000130: |[000130] ExampleKt.multiply:(I)I</code><code>000140: da00 0102 |0000: mul-int/lit8 v0, v1, #int 2 // #02</code><code>000144: 0f00 |0002: return v0</code><br><br><code> #2 : (in LExampleKt;)</code><code> name : 'shiftLeft'</code><code> type : '(I)I'</code><code> access : 0x0019 (PUBLIC STATIC FINAL)</code><code> code -</code><code>000148: |[000148] ExampleKt.shiftLeft:(I)I</code><code>000158: e000 0101 |0000: shl-int/lit8 v0, v1, #int 1 // #01</code><code>00015c: 0f00 |0002: return v0</code><br><br><code> #3 : (in LExampleKt;)</code><code> name : 'shiftRight'</code><code> type : '(I)I'</code><code> access : 0x0019 (PUBLIC STATIC FINAL)</code><code> code -</code><code>000160: |[000160] ExampleKt.shiftRight:(I)I</code><code>000170: e100 0101 |0000: shr-int/lit8 v0, v1, #int 1 // #01</code><code>000174: 0f00 |0002: return </code></pre><p>èˆ‡D8çš„è¼¸å‡ºå®Œå…¨ç›¸åŒã€‚</p><p></p><h1 toutiao-origin=h3>ART</h1><p>æˆ‘å€‘ä½¿ç”¨R8ç¤ºä¾‹ä¸­çš„Dalvikå­—ç¯€ç¢¼è¼¸å‡ºï¼Œä½œç‚ºåœ¨x86æ¨¡æ“¬å™¨ä¸Šçš„Android 10ç³»çµ±é‹è¡Œçš„ARTçš„è¼¸å…¥ã€‚</p><pre><code>$ adb push classes.dex /sdcard/classes.dex</code><code>$ adb shell</code><code>generic_x86:/ $ su</code><code>generic_x86:/ # dex2oat --dex-file=/sdcard/classes.dex --oat-file=/sdcard/classes.oat</code><code>generic_x86:/ # oatdump --oat-file=/sdcard/classes.oat</code><code>OatDexFile:</code><code>0: LExampleKt; (offset=0x000003c0) (type_idx=1) (Initialized) (OatClassAllCompiled)</code><code> 0: int ExampleKt.divide(int) (dex_method_idx=0)</code><code> CODE: (code_offset=0x00001010 size_offset=0x0000100c size=15)...</code><code> 0x00001010: 89C8 mov eax, ecx</code><code> 0x00001012: 8D5001 lea edx, [eax + 1]</code><code> 0x00001015: 85C0 test eax, eax</code><code> 0x00001017: 0F4DD0 cmovnl/ge edx, eax</code><code> 0x0000101a: D1FA sar edx</code><code> 0x0000101c: 89D0 mov eax, edx</code><code> 0x0000101e: C3 ret</code><code> 1: int ExampleKt.multiply(int) (dex_method_idx=1)</code><code> CODE: (code_offset=0x00001030 size_offset=0x0000102c size=5)...</code><code> 0x00001030: D1E1 shl ecx</code><code> 0x00001032: 89C8 mov eax, ecx</code><code> 0x00001034: C3 ret</code><code> 2: int ExampleKt.shiftLeft(int) (dex_method_idx=2)</code><code> CODE: (code_offset=0x00001030 size_offset=0x0000102c size=5)...</code><code> 0x00001030: D1E1 shl ecx</code><code> 0x00001032: 89C8 mov eax, ecx</code><code> 0x00001034: C3 ret</code><code> 3: int ExampleKt.shiftRight(int) (dex_method_idx=3)</code><code> CODE: (code_offset=0x00001040 size_offset=0x0000103c size=5)...</code><code> 0x00001040: D1F9 sar ecx</code><code> 0x00001042: 89C8 mov eax, ecx</code><code> 0x00001044: C3 ret</code></pre><pre> (æ³¨æ„ï¼šè¼¸å‡ºæœ‰å¤§å¹…ä¿®å‰ª)</pre><p>x86å½™ç·¨é¡¯ç¤ºï¼ŒARTç¢ºå¯¦ä»‹å…¥ä¸¦è¦ç¯„åŒ–äº†ç®—è¡“é‹ç®—ç¬¦ä»¥ä½¿ç”¨ç§»ä½ã€‚</p><p>é¦–å…ˆï¼Œç¾åœ¨`multiply`å’Œ`shiftLeftçš„`å¯¦ç¾å®Œå…¨ä¸€è‡´ã€‚å®ƒå€‘éƒ½ä½¿ç”¨`shl`ä¾†åŸ·è¡Œå‘å·¦æŒ‰ä½ç§»ä½1ï¼Œæ­¤å¤–å¦‚æœæŸ¥çœ‹æ–‡ä»¶å¤¾ä¸­çš„åç§»é‡ï¼ˆæœ€å·¦é‚Šçš„åˆ—ï¼‰ï¼Œæœƒç™¼ç¾å®ƒå€‘æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚ARTèªè­˜åˆ°é€™äº›å‡½æ•¸åœ¨ç·¨è­¯åˆ°x86å½™ç·¨æ™‚å…·æœ‰ç›¸åŒçš„ä¸»é«”ï¼Œä¸¦å·²ç¶“åˆªé™¤äº†é‡è¤‡çš„æ•¸æ“šã€‚</p><p>ä¸‹ä¸€æ­¥ï¼Œå„˜ç®¡`divide`å’Œ`shiftRight`ä¸ä¸€æ¨£ï¼Œå…¶å°`sar`çš„ç”¨æ³•æ˜¯ä¸€æ¨£çš„ï¼Œéƒ½æ˜¯å‘å³æŒ‰ä½ç§»ä½1ï¼Œåœ¨`divide`ä¸­çš„å››æ¢é™„åŠ æŒ‡ä»¤é€šéçµ¦å€¼åŠ 1ï¼Œå…ˆæ–¼`sar`è™•ç†è¼¸å…¥ç‚ºè² çš„æƒ…æ³ï¼ˆè¨»é‡‹1ï¼‰ã€‚</p><p>åœ¨Android 10ç³»çµ±çš„Pixel 4ä¸Šé‹è¡Œç›¸åŒçš„å‘½ä»¤ï¼Œæœƒé¡¯ç¤ºARTå¦‚ä½•å°‡æ­¤ä»£ç¢¼ç·¨è­¯åˆ°ARMå½™ç·¨ä¸­ï¼ˆè¨»é‡‹2ï¼‰ã€‚</p><pre><code>OatDexFile:</code><code>0: LExampleKt; (offset=0x000005a4) (type_idx=1) (Verified) (OatClassAllCompiled)</code><code> 0: int ExampleKt.divide(int) (dex_method_idx=0)</code><code> CODE: (code_offset=0x00001009 size_offset=0x00001004 size=10)...</code><code> 0x00001008: 0fc8 lsrs r0, r1, #31</code><code> 0x0000100a: 1841 adds r1, r0, r1</code><code> 0x0000100c: 1049 asrs r1, #1</code><code> 0x0000100e: 4608 mov r0, r1</code><code> 0x00001010: 4770 bx lr</code><code> 1: int ExampleKt.multiply(int) (dex_method_idx=1)</code><code> CODE: (code_offset=0x00001021 size_offset=0x0000101c size=4)...</code><code> 0x00001020: 0048 lsls r0, r1, #1</code><code> 0x00001022: 4770 bx lr</code><code> 2: int ExampleKt.shiftLeft(int) (dex_method_idx=2)</code><code> CODE: (code_offset=0x00001021 size_offset=0x0000101c size=4)...</code><code> 0x00001020: 0048 lsls r0, r1, #1</code><code> 0x00001022: 4770 bx lr</code><code> 3: int ExampleKt.shiftRight(int) (dex_method_idx=3)</code><code> CODE: (code_offset=0x00001031 size_offset=0x0000102c size=4)...</code><code> 0x00001030: 1048 asrs r0, r1, #1</code><code> 0x00001032: 4770 bx lr</code></pre><p>åŒæ¨£ï¼Œ`multiply`å’Œ`shiftLeft`éƒ½ä½¿ç”¨`lsls`ä¾†åŸ·è¡Œå‘å·¦ä½ç§»ï¼Œå› æ­¤è¢«å»é‡äº†ã€‚`shiftRight`ç”¨`asrs`ä¾†åŸ·è¡Œå‘å³ä½ç§»ã€‚`divide`ä¹Ÿä½¿ç”¨`asrs`ä¾†åŸ·è¡Œå‘å³ä½ç§»ï¼Œä½†å®ƒä½¿ç”¨å¦ä¸€å€‹å‘å³ä½ç§»`lsrs`ä¾†è™•ç†è² å€¼åŠ ä¸€çš„æ“ä½œï¼ˆè¨»é‡‹3ï¼‰ã€‚</p><p>é€™æ¨£ä¸€ä¾†ï¼Œæˆ‘å€‘ç¾åœ¨å¯ä»¥è‚¯å®šåœ°èªªï¼Œç”¨`value &lt;&lt; 1`ä¾†æ›¿ä»£`value * 2`æ²’æœ‰ä»»ä½•å¥½è™•ï¼Œä¸è¦å†ç‚ºäº†ç®—è¡“é‹ç®—è€Œé€™éº¼åšäº†ï¼Œåƒ…ä¿ç•™ç”¨æ–¼åš´æ ¼çš„æŒ‰ä½é‹ç®—ã€‚</p><p>ç„¶è€Œï¼Œ`value / 2` å’Œ`value >> 1`ä»æœƒç”¢ç”Ÿä¸åŒçš„å½™ç·¨æŒ‡ä»¤ï¼Œå› è€Œå¯èƒ½å…·æœ‰ä¸åŒçš„æ€§èƒ½ç‰¹å¾µã€‚å¹¸é‹çš„æ˜¯ï¼Œä½¿ç”¨`value / 2`å¯é¿å…ä½¿ç”¨é€šç”¨é™¤æ³•ï¼Œä¸¦ä¸”ä»èˆŠä¸»è¦åŸºæ–¼å‘å³ä½ç§»ï¼Œå› æ­¤å®ƒå€‘åœ¨æ€§èƒ½æ–¹é¢å·®ç•°å¯èƒ½ä¸å¤§ã€‚</p><p></p><h1 toutiao-origin=h3>ä½ç§»æœƒæ¯”é™¤æ³•å¿«ä¸€äº›å—ï¼Ÿ</h1><p>ç‚ºäº†ç¢ºå®šé™¤æ³•å¿«é‚„æ˜¯ä½ç§»æ›´å¿«ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨Jetpack benchmarkåº«ã€‚</p><pre><code>class DivideOrShiftTest {</code><code> @JvmField @Rule val benchmark = BenchmarkRule</code><br><br><code> @Test fun divide {</code><code> val value = "4".toInt // Ensure not a constant.</code><code> var result = 0</code><code> benchmark.measureRepeated {</code><code> result = value / 2</code><code> }</code><code> println(result) // Ensure D8 keeps computation.</code><code> }</code><br><br><code> @Test fun shift {</code><code> val value = "4".toInt // Ensure not a constant.</code><code> var result = 0</code><code> benchmark.measureRepeated {</code><code> result = value shr 1</code><code> }</code><code> println(result) // Ensure D8 keeps computation.</code><code> }</code></pre><p>æˆ‘æ²’æœ‰x86è¨­å‚™ï¼Œä½†æœ‰ä¸€è‡ºé‹è¡ŒAndroid 10ç³»çµ±çš„åŸºæ–¼ARMçš„Pixel 3ï¼Œçµæœå¦‚ä¸‹ï¼š</p><pre><code>android.studio.display.benchmark=4 ns DivideOrShiftTest.divide</code><code>count=4006</code><code>mean=4</code><code>median=4</code><code>min=4</code><code>standardDeviation=0</code><br><br><code>android.studio.display.benchmark=3 ns DivideOrShiftTest.shift</code><code>count=3943</code><code>mean=3</code><code>median=3</code><code>min=3</code><code>standardDeviation=0</code></pre><p>å°å¦‚æ­¤å°çš„æ•¸å­—ä½¿ç”¨é™¤æ³•æˆ–ä½ç§»ä¹‹é–“çš„å€åˆ¥å¹¾è¿‘æ–¼ç„¡ï¼Œç•¢ç«Ÿå·®ç•°å¤ªå°äº†ã€‚ä½¿ç”¨è² æ•¸é¡¯ç¤ºçµæœä¸¦ç„¡å·®ç•°ã€‚</p><p>é€™æ¨£ä¸€ä¾†ï¼Œæˆ‘å€‘ç¾åœ¨å¯ä»¥è‚¯å®šï¼Œç”¨`value >> 1`ä»£æ›¿`value / 2`ä¸¦ç„¡å¥½è™•ï¼Œä¸è¦å†ç‚ºç®—è¡“é‹ç®—é€™éº¼åšäº†ï¼Œåƒ…ä¿ç•™ç”¨æ–¼åš´æ ¼çš„æŒ‰ä½é‹ç®—ã€‚</p><p></p><h1 toutiao-origin=h3>D8/R8èƒ½ç”¨é€™äº›ä¿¡æ¯ä¾†ä¿å­˜APKå¤§å°å—ï¼Ÿ</h1><p>é‡å°å…©å€‹æ“ä½œç›¸åŒçš„è¡¨é”æ–¹å¼ï¼Œæˆ‘å€‘æ‡‰è©²é¸æ“‡æ€§èƒ½æ›´ä½³çš„ã€‚ä½†å¦‚æœå…©è€…æ€§èƒ½ç›¸åŒçš„è©±ï¼Œå‰‡æ‡‰é¸æ“‡APKæ›´å°çš„ã€‚</p><p>æˆ‘å€‘çŸ¥é“ï¼ŒARTä¸­`value * 2`å’Œ`value &lt;&lt; 1`æœƒç”¢ç”Ÿç›¸åŒçš„å½™ç·¨ï¼Œå› æ­¤å¦‚æœåœ¨Dalvikå­—ç¯€ç¢¼ä¸­ï¼Œä¸€å€‹æ¯”å¦ä¸€å€‹æ›´çœç©ºé–“ï¼Œæˆ‘å€‘æ‡‰è©²ç„¡æ¢ä»¶åœ°ä»¥æ›´å°çš„å½¢å¼å°‡å…¶é‡å¯«ã€‚æŸ¥çœ‹D8ä¸­çš„è¼¸å‡ºï¼Œå®ƒå€‘ç”¢ç”Ÿçš„å­—ç¯€ç¢¼å¤§å°ç›¸åŒï¼š</p><pre><code> #1 : (in LExampleKt;) name : 'multiply'</code><code> â‹®</code><code>000140: da00 0102 |0000: mul-int/lit8 v0, v1, #int 2 // #02</code><br><br><code> #2 : (in LExampleKt;)</code><code> name : 'shiftLeft'</code><code> â‹®</code><code>000158: e000 0101 |0000: shl-int/lit8 v0, v1, #int 1 // #01</code></pre><p>å„˜ç®¡ä½¿ç”¨2çš„å†ªæ²’æœ‰æ”¶ç›Šï¼Œä½†åœ¨ç§»ä½ä»¥å­˜å„²å¸¸é‡å€¼ä¹‹å‰ï¼Œä¹˜æ³•ç”¨å®Œäº†å­—ç¯€ç¢¼ç©ºé–“ï¼Œä¸‹é¢æ˜¯`value * 32_768`èˆ‡`value &lt;&lt; 15`çš„å°æ¯”ï¼š</p><pre><code> #1 : (in LExampleKt;) name : 'multiply'</code><code> â‹®</code><code>000128: 1400 0080 0000 |0000: const v0, #float 0.000000 // #00008000</code><code>00012e: 9201 0100 |0003: mul-int v1, v1, v0</code><br><br><code> #2 : (in LExampleKt;)</code><code> name : 'shiftLeft'</code><code> â‹®</code><code>00015c: e000 000f |0000: shl-int/lit8 v0, v0, #int 15 // #0f</code></pre><p>æˆ‘åœ¨D8ä¸Šæäº†å€‹å•é¡Œä»¥èª¿æŸ¥å¦‚ä½•è‡ªå‹•å„ªåŒ–æ­¤å•é¡Œï¼Œä½†æˆ‘å¼·çƒˆæ‡·ç–‘é€™ç¨®é©ç”¨æƒ…æ³æ¥è¿‘æ–¼é›¶ï¼Œå› æ­¤å¾ˆå¯èƒ½ä¸¦ä¸å€¼å¾—ã€‚</p><p>D8å’ŒR8çš„è¼¸å‡ºä¹Ÿå‘Šè¨´æˆ‘å€‘ï¼Œåœ¨Dalvikå­—ç¯€ç¢¼æ–¹é¢ï¼Œ`value / 2`å’Œ`value >> 1`çš„ä»£åƒ¹æ˜¯ç›¸åŒçš„ã€‚</p><pre><code> #0 : (in LExampleKt;) name : 'divide'</code><code> â‹®</code><code>000128: db00 0102 |0000: div-int/lit8 v0, v1, #int 2 // #02</code><br><br><code> #2 : (in LExampleKt;)</code><code> name : 'shiftLeft'</code><code> â‹®</code><code>000158: e000 0101 |0000: shl-int/lit8 v0, v1,#int 1 // #01</code></pre><p>ç•¶å¸¸é‡é”åˆ°32768æ™‚ï¼Œå…¶å­—ç¯€ç¢¼å¤§å°ä¹Ÿæœƒæœ‰æ‰€ä¸åŒã€‚ç„¡æ¢ä»¶åœ°å°‡2çš„å†ªé™¤æ³•æ›æˆå‘å³ä½ç§»æ°¸é ä¸æ˜¯å®‰å…¨çš„é¸é …ï¼Œé€™æ˜¯å› ç‚ºè² æ•¸çš„å­˜åœ¨ã€‚å¦‚æœèƒ½ä¿è­‰å…¶å€¼éè² ï¼Œé‚£æˆ‘å€‘å¯ä»¥é€™æ¨£æ›¿æ›ï¼Œä½†æ­¤æ™‚D8å’ŒR8ä¸¦ä¸æœƒè¿½è¹¤å¯èƒ½çš„æ•´æ•¸å€¼ç¯„åœã€‚</p><p></p><h1 toutiao-origin=h3>ç„¡ç¬¦è™Ÿçš„â€œ2çš„å†ªé™¤æ³•â€ä½¿ç”¨ä½ç§»å—ï¼Ÿ</h1><p>Javaå­—ç¯€ç¢¼ç¼ºå°‘ç„¡ç¬¦è™Ÿçš„æ•¸å­—ï¼Œä½†ä½¿ç”¨ç¬¦è™Ÿçš„å°æ‡‰éƒ¨åˆ†æ˜¯å¯ä»¥æ¨¡æ“¬çš„ã€‚åœ¨Javaä¸­ï¼Œæœ‰ä¸€äº›å°‡ç¬¦è™Ÿé¡å‹ç•¶ä½œç„¡ç¬¦è™Ÿå€¼é‹ç®—çš„éœæ…‹è¼”åŠ©æ–¹æ³•ã€‚Kotlinæä¾›äº†é¡ä¼¼ `UInt` é€™æ¨£çš„é¡å‹å®Œæˆé¡ä¼¼çš„åŠŸèƒ½ï¼Œä½†åœ¨é¡å‹å¾Œå®Œå…¨æŠ½è±¡äº†ã€‚å¯ä»¥æƒ³è±¡çš„æ˜¯ï¼Œç•¶ä½¿ç”¨é™¤ä»¥2çš„å†ªæ™‚ï¼Œæ‡‰ç•¶ä»¥ç§»ä½æ–¹å¼é‡å¯«ã€‚</p><p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨Kotlinä¾†ç‚ºå…©ç¨®æƒ…æ³å»ºæ¨¡ã€‚</p><pre><code>fun javaLike(value: Int) = Integer.divideUnsigned(value, 2)</code><code>fun kotlinLike(value: UInt) = value / 2U</code></pre><p>åœ¨æŸäº›æƒ…æ³ä¸‹ï¼Œåƒ…éœ€è€ƒæ…®ä»£ç¢¼çš„ç·¨è­¯æ–¹å¼ã€‚æˆ‘å€‘å¾æ™®é€šçš„ `kotlinc`é–‹å§‹ï¼ˆé‚„æ˜¯å¾Kotlin 1.4-M1é–‹å§‹ï¼‰ã€‚</p><pre><code>$ kotlinc Example.kt</code><code>$ javap -c ExampleKt</code><code>Compiled from "Example.kt"</code><code>public final class ExampleKt {</code><code> public static final int javaLike(int);</code><code> Code:</code><code> 0: iload_0</code><code> 1: iconst_2</code><code> 2: invokestatic #12 // Method java/lang/Integer.divideUnsigned:(II)I</code><code> 5: ireturn</code><br><br><code> public static final int kotlinLike-WZ4Q5Ns(int);</code><code> Code:</code><code> 0: iload_0</code><code> 1: istore_1</code><code> 2: iconst_2</code><code> 3: istore_2</code><code> 4: iconst_0</code><code> 5: istore_3</code><code> 6: iload_1</code><code> 7: iload_2</code><code> 8: invokestatic #20 // Method kotlin/UnsignedKt."uintDivide-J1ME1BU":(II)I</code><code> 11: ireturn</code><code>}</code></pre><p>Kotlinç„¡æ³•å°‡å…¶è­˜åˆ¥ç‚ºå¯ä½¿ç”¨`iushr`å­—ç¯€ç¢¼çš„â€œ2çš„å†ªé™¤æ³•â€ï¼Œæˆ‘æäº¤äº†KT-38493ä»¥è¿½è¹¤æ­¤è¡Œç‚ºçš„æ·»åŠ ã€‚</p><p>ä½¿ç”¨`-Xuse-ir`ä¸æœƒæœ‰ä»»ä½•æ”¹è®Šï¼ˆé™¤éç§»é™¤æŸäº›è² è¼‰/å­˜å„²å™ªéŸ³ï¼‰ï¼Œç„¶è€Œä»¥Java 8ç‚ºç›®æ¨™å‰‡æœƒæœ‰è®ŠåŒ–ã€‚</p><pre><code>$ kotlinc -jvm-target 1.8 Example.kt</code><code>$ javap -c ExampleKt</code><code>Compiled from "Example.kt"</code><code>public final class ExampleKt {</code><code> public static final int javaLike(int);</code><code> Code:</code><code> 0: iload_0</code><code> 1: iconst_2</code><code> 2: invokestatic #12 // Method java/lang/Integer.divideUnsigned:(II)I</code><code> 5: ireturn</code><br><br><code> public static final int kotlinLike-WZ4Q5Ns(int);</code><code> Code:</code><code> 0: iload_0</code><code> 1: iconst_2</code><code> 2: invokestatic #12 // Method java/lang/Integer.divideUnsigned:(II)I</code><code> 5: ireturn</code><code>}</code></pre><p>`Integer.divideUnsigned`æ–¹æ³•åœ¨Java 8ä¸­å¯ä»¥ä½¿ç”¨ï¼Œå› æ­¤åœ¨1.8æˆ–æ›´é«˜ç‰ˆæœ¬ä¸­è¼ƒå¤šä½¿ç”¨ï¼Œç”±æ–¼é€™æœƒä½¿å¾—å…©å€‹å‡½æ•¸é«”å®Œå…¨ç›¸åŒï¼Œæˆ‘å€‘é‚„æ˜¯è¿”å›èˆŠè¼¸å‡ºï¼Œå°æ¯”çœ‹çœ‹æœƒç™¼ç”Ÿä»€éº¼ã€‚</p><p>æ¥ä¸‹ä¾†æ˜¯R8ï¼Œèˆ‡ä¸Šé¢èª¿ç”¨æ˜é¡¯ä¸åŒï¼Œæˆ‘å€‘å°‡Kotlin stdlibä½œç‚ºè¼¸å…¥å¼•å…¥ï¼ŒåŒæ™‚ç”±æ–¼ `Integer.divideUnsigned` åƒ…åœ¨API 24å’Œæ›´é«˜ç‰ˆæœ¬ä¸­å¯ç”¨ï¼Œä¹Ÿå‚³éäº†`--min-api 24`ã€‚</p><pre><code>$ java -jar $R8_HOME/build/libs/r8.jar \</code><code> --lib $ANDROID_HOME/platforms/android-29/android.jar \</code><code> --min-api 24 \</code><code> --release \</code><code> --pg-conf rules.txt \</code><code> --output . \</code><code> ExampleKt.class kotlin-stdlib.jar</code><code>$ dexdump -d classes.dex</code><code>Opened 'classes.dex', DEX version '039'</code><code>Class #0 -</code><code> Class descriptor : 'LExampleKt;'</code><code> Access flags : 0x0011 (PUBLIC FINAL)</code><code> Superclass : 'Ljava/lang/Object;'</code><code> Direct methods -</code><code> #0 : (in LExampleKt;)</code><code> name : 'javaLike'</code><code> type : '(I)I'</code><code> access : 0x0019 (PUBLIC STATIC FINAL)</code><code> code -</code><code>0000f8: |[0000f8] ExampleKt.javaLike:(I)I</code><code>000108: 1220 |0000: const/4 v0, #int 2 // #2</code><code>00010a: 7120 0200 0100 |0001: invoke-static {v1, v0}, Ljava/lang/Integer;.divideUnsigned:(II)I // method@0002</code><code>000110: 0a01 |0004: move-result v1</code><code>000112: 0f01 |0005: return v1</code><br><br><code> #1 : (in LExampleKt;)</code><code> name : 'kotlinLike-WZ4Q5Ns'</code><code> type : '(I)I'</code><code> access : 0x0019 (PUBLIC STATIC FINAL)</code><code> code -</code><code>000114: |[000114] ExampleKt.kotlinLike-WZ4Q5Ns:(I)I</code><code>000124: 8160 |0000: int-to-long v0, v6</code><code>000126: 1802 ffff ffff 0000 0000 |0001: const-wide v2, #double 0.000000 // #00000000ffffffff</code><code>000130: c020 |0006: and-long/2addr v0, v2</code><code>000132: 1226 |0007: const/4 v6, #int 2 // #2</code><code>000134: 8164 |0008: int-to-long v4, v6</code><code>000136: c042 |0009: and-long/2addr v2, v4</code><code>000138: be20 |000a: div-long/2addr v0, v2</code><code>00013a: 8406 |000b: long-to-int v6, v0</code><code>00013c: 0f06 |000c: return v6</code></pre><p>Kotlinæœ‰è‡ªå·±çš„ç„¡ç¬¦è™Ÿæ•´æ•¸é™¤æ³•çš„å¯¦ç¾æ–¹å¼ï¼Œå·²ç¶“èˆ‡æˆ‘å€‘çš„å‡½æ•¸å…§è¯ã€‚å®ƒæœƒå°‡è¼¸å…¥å¯¦åƒå’Œå¸¸é‡è½‰åŒ–ç‚ºlongsï¼ŒåŸ·è¡Œlongsé™¤æ³•ï¼Œç„¶å¾Œå†è½‰å›æ•´æ•¸ã€‚ç•¶æˆ‘å€‘æœ€çµ‚é€šéARTä¾†é‹è¡Œæ™‚ï¼Œå®ƒå€‘æœƒè½‰æˆç­‰æ•ˆçš„x86ï¼Œå› æ­¤æˆ‘å€‘å°‡ä¿ç•™æ­¤å‡½æ•¸ï¼Œé€™è£¡å„ªåŒ–çš„æ©Ÿæœƒå·²ç¶“å¤±å»äº†ã€‚</p><p>å°æ–¼Javaç‰ˆæœ¬ï¼ŒR8ç„¡æ³•å°‡`divideUnsigned`èª¿ç”¨æ›¿æ›æˆä½ç§»ï¼Œæˆ‘é‡å°D8å’ŒR8æäº¤äº†issue 154712996ä¾†è·Ÿè¹¤é€™å€‹å•é¡Œã€‚</p><p>æœ€å¾Œä¸€å€‹å„ªåŒ–çš„æ©Ÿæœƒæ˜¯ARTã€‚</p><pre><code>$ adb push classes.dex /sdcard/classes.dex</code><code>$ adb shell</code><code>generic_x86:/ $ su</code><code>generic_x86:/ # dex2oat --dex-file=/sdcard/classes.dex --oat-file=/sdcard/classes.oat</code><code>generic_x86:/ # oatdump --oat-file=/sdcard/classes.oat</code><code>OatDexFile:</code><code>0: LExampleKt; (offset=0x000003c0) (type_idx=1) (Initialized) (OatClassAllCompiled)</code><code> 0: int ExampleKt.javaLike(int) (dex_method_idx=0)</code><code> CODE: (code_offset=0x00001010 size_offset=0x0000100c size=63)...</code><code> 0x00001010: 85842400E0FFFF test eax, [esp + -8192]</code><code> StackMap[0] (native_pc=0x1017, dex_pc=0x0, register_mask=0x0, stack_mask=0b)</code><code> 0x00001017: 55 push ebp</code><code> 0x00001018: 83EC18 sub esp, 24</code><code> 0x0000101b: 890424 mov [esp], eax</code><code> 0x0000101e: 6466833D0000000000 cmpw fs:[0x0], 0 ; state_and_flags</code><code> 0x00001027: 0F8519000000 jnz/ne +25 (0x00001046)</code><code> 0x0000102d: E800000000 call +0 (0x00001032)</code><code> 0x00001032: 5D pop ebp</code><code> 0x00001033: BA02000000 mov edx, 2</code><code> 0x00001038: 8B85CE0F0000 mov eax, [ebp + 4046]</code><code> 0x0000103e: FF5018 call [eax + 24]</code><code> StackMap[1] (native_pc=0x1041, dex_pc=0x1, register_mask=0x0, stack_mask=0b)</code><code> 0x00001041: 83C418 add esp, 24</code><code> 0x00001044: 5D pop ebp</code><code> 0x00001045: C3 ret</code><code> 0x00001046: 64FF15E0020000 call fs:[0x2e0] ; pTestSuspend</code><code> StackMap[2] (native_pc=0x104d, dex_pc=0x0, register_mask=0x0, stack_mask=0b)</code><code> 0x0000104d: EBDE jmp -34 (0x0000102d)</code><code> 1: int ExampleKt.kotlinLike-WZ4Q5Ns(int) (dex_method_idx=1)</code><code> CODE: (code_offset=0x00001060 size_offset=0x0000105c size=67)...</code><code> â‹®</code></pre><p>ARTå…§åŒ–èª¿ç”¨ `divideUnsigned`ï¼Œå› æ­¤æˆ‘å€‘è®“æ©Ÿå™¨è·³è‡³å¸¸è¦æ–¹æ³•çš„å¯¦ç¾ã€‚æˆ‘æäº¤äº†issue 154693569ä»¥è·Ÿè¹¤ç‚ºç„¡ç¬¦è™Ÿé™¤æ³•æ·»åŠ ARTå…§åŒ–çš„å•é¡Œã€‚</p><p>å¥½å§ï¼Œé€™ç¢ºå¯¦è²»äº†ä¸å°‘å‹ã€‚æ­å–œä½ åˆ°é”æ­¤æ­¥ï¼ˆæˆ–åªæ˜¯å¿«é€Ÿç¿»åˆ°é€™è£¡ï¼‰ï¼Œæˆ‘å€‘ç¸½çµä¸€ä¸‹ï¼š</p><ol><li><p>ARTå°‡2çš„å†ªä¹˜æ³•é‡å¯«ç‚ºå‘å·¦ä½ç§»ï¼Œå°‡2çš„å†ªé™¤æ³•é‡å¯«ç‚ºå‘å³ä½ç§»ï¼ˆé€šéä¸€äº›é¡å¤–çš„æŒ‡ä»¤ä¾†è™•ç†è² æ•¸ï¼‰ï¼›</p></li><li><p>å‘å³ä½ç§»å’Œ2çš„å†ªé™¤æ³•ä¹‹é–“æ²’æœ‰æ˜é¡¯çš„æ€§èƒ½å·®ç•°ï¼›</p></li><li><p>Dalvikå­—ç¯€ç¢¼ä¸­ï¼Œä½ç§»å’Œä¹˜æ³•/é™¤æ³•ä¹‹é–“æ²’æœ‰å¤§å°å·®ç•°ï¼›</p></li><li><p>æˆªè‡³ç›®å‰é‚„æ²’æœ‰äººå„ªåŒ–ç„¡ç°½åé™¤æ³•ï¼Œä½†ä¹Ÿè¨±ä½ ä¹Ÿä¸æœƒç”¨åˆ°ã€‚</p></li></ol><p>é€šéä»¥ä¸Šäº‹å¯¦ï¼Œæˆ‘å€‘å¯ä»¥å›ç­”æœ¬æ–‡é¡Œç›®ä¸­æå‡ºçš„å•é¡Œäº†ï¼š</p><blockquote><p>Androidä¸Šå“ªå€‹æ›´å¥½ï¼šé™¤ä»¥2é‚„æ˜¯ä½ç§»1ï¼Ÿ</p></blockquote><p>éƒ½ä¸å¥½ï¼å› æ­¤å°‡é™¤æ³•ç”¨æ–¼ç®—è¡“é‹ç®—ä¸­ï¼Œå°æ–¼çœŸå¯¦çš„æŒ‰ä½æ“ä½œåªä½¿ç”¨ä½ç§»ï¼Œæˆ‘æœƒå°‡AndroidXé›†åˆç«¯å£å¾ä½ç§»åˆ‡æ›åˆ°ä¹˜é™¤æ³•ã€‚ä¸‹æ¬¡è¦‹ï¼</p><p>è¨»é‡‹ï¼š</p><p>1. äºŒé€²åˆ¶ä¸­çš„-3ç‚º0b11111101ï¼Œå¦‚æœæˆ‘å€‘å˜—è©¦åƒ…å‘å³ä½ç§»ä¾†å¯¦ç¾é™¤ä»¥2ï¼Œçµæœæ˜¯0b11111110ï¼Œå³-2ï¼Œé€™æ˜¯éŒ¯èª¤çš„çµæœã€‚é€šéçµ¦-3åŠ 1ï¼Œé¦–å…ˆæˆ‘å€‘æœƒå¾—åˆ°-2ï¼ŒäºŒé€²åˆ¶è¡¨é”æ˜¯0b11111110ï¼Œå‘å³ä½ç§»å‰‡å¾—å‡º0b11111111ï¼Œä¹Ÿå°±æ˜¯-1ï¼Œé€™æ˜¯æ­£ç¢ºçš„çµæœã€‚</p><p>æ ¹æ“šå¯¦éš›ä¸­çš„æŒ‡ä»¤ï¼š</p><ul><li><p>`mov eax, ecx` å°‡åŸå§‹è¼¸å…¥å¯¦åƒå€¼ä¿å­˜åœ¨`eax`ä¸­ï¼›</p></li><li><p>`lea edx, [eax + 1]` çµ¦è¼¸å…¥å¯¦åƒåŠ 1ï¼Œä¸¦å°‡çµæœå­˜å„²åœ¨`edx`ä¸­ï¼Œå³æˆ‘å€‘è¦ä½ç§»çš„å¯„å­˜å™¨ï¼›</p></li><li><p>`test eax, eax`å°è‡ªèº«çš„è¼¸å…¥å¯¦åƒé€²è¡ŒæŒ‰ä½æ“ä½œï¼Œå°è‡´ä¸€äº›å¯„å­˜å™¨æœƒæ ¹æ“šè¼¸å…¥å¯¦åƒçš„å±¬æ€§ä¾†è¨­ç½®ï¼›</p></li><li><p>ä¹‹å¾Œ`cmovnl/ge edx, eax`å¯èƒ½æœƒåŸºæ–¼`test`çš„çµæœï¼Œä»¥`eax` (å€¼)é‡å¯«`edx` (å€¼+1)ã€‚</p></li></ul><p>ä¹‹å¾ŒæŒ‡ä»¤æœƒåŸ·è¡Œæ™®é€šçš„å‘å³ä½ç§»ï¼Œèˆ‡ `(value &lt; 0 ? value + 1 : value) >> 1`. â†©åŸºæœ¬ç›¸åŒã€‚</p><p>2. æ„Ÿè¬Sergey Vasilinetsæä¾›çš„ç›¸é—œå…§å®¹ï¼Œ`dex2oat`åªèƒ½åœ¨ç¾ä»£Androidç‰ˆæœ¬ä¸­ä»¥rootèº«ä»½ä¾†é‹è¡Œï¼Œå› æ­¤æ™®é€šçš„Androidï¼ˆå¦‚åœ¨Pixel3ä¸Šçš„ï¼‰å°±ç„¡æ³•é‹è¡Œã€‚â†©</p><p>3. å°±å¯¦éš›æŒ‡ä»¤è€Œè¨€ï¼š</p><ul><li><p>`lsrs r0, r1, #31` å°è¼¸å…¥å¯¦åƒé€²è¡Œé‚è¼¯ï¼ˆå³ä¸å°ç¬¦è™Ÿé€²è¡Œæ“´å±•ï¼‰31ä½çš„ä½ç§»åˆ°`r0`ï¼Œå°è‡´è² æ•¸çµæœç‚º1ï¼Œæ­£æ•¸çµæœç‚º0ã€‚</p></li><li><p>`adds r1, r0, r1` æœƒå°‡å‰ä¸€æ¢æŒ‡ä»¤çš„çµæœèˆ‡è¼¸å…¥å¯¦åƒç›¸åŠ ï¼Œå¯¦éš›ä¸Šæ˜¯çµ¦è² å€¼è¼¸å…¥åŠ 1ã€‚</p></li></ul><p>è‡ªæ­¤æŒ‡ä»¤æœƒåŸ·è¡Œæ™®é€šçš„å‘å³ä½ç§»ï¼ŒåŸºæœ¬ä¸Šç­‰åŒæ–¼`(value + (value >>> 31)) >> 1`ã€‚</p><p>åŸæ–‡éˆæ¥ï¼š</p><p>https://jakewharton.com/which-is-better-on-android-divide-by-two-or-shift-by-one/</p><p>æœ¬æ–‡ç‚ºCSDNç¿»è­¯æ–‡ç« ï¼Œè½‰è¼‰è«‹è¨»æ˜å‡ºè™•ã€‚</p><img alt="Android ä¸Šå“ªå€‹æ›´å¥½ï¼šé™¤ä»¥ 2 é‚„æ˜¯ä½ç§» 1ï¼Ÿ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/R69FpRH4d90a7d><img alt="Android ä¸Šå“ªå€‹æ›´å¥½ï¼šé™¤ä»¥ 2 é‚„æ˜¯ä½ç§» 1ï¼Ÿ" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/Rz2ij7Q6pwhZWh><pre><p>â˜æ½˜çŸ³å±¹ Python è€ƒè©¦æˆç¸¾ 99 åˆ†ï¼Œç¶²å‹ï¼šé‚„æœ‰ä¸€åˆ†æ€•ä½ é©•å‚²</p><pre><p>â˜è´ˆæ›¸ | ç¨‹åºå“¡ä¿®ç…‰çš„å‹™å¯¦å“²å­¸</p><p>â˜JavaScript æµè¡Œåº¦æœ€é«˜ï¼ŒJava å±ˆå±…ç¬¬ä¸‰ï¼| 2020 æœ€æ–°è»Ÿä»¶é–‹ç™¼ç‹€æ³å ±å‘Š</p><p>â˜æ·±åº¦å­¸ç¿’åŸºç¤ç¸½çµï¼Œç„¡ä¸€å¥å»¢è©±ï¼ˆé™„å®Œæ•´æ€ç¶­å°åœ–ï¼‰</p><p>â˜éœ‡é©šï¼é˜¿é‡Œçš„ç¨‹åºå“¡ç«Ÿè¢«ä¸€å€‹ç°¡å–®çš„ SQL æŸ¥è©¢é›£ä½äº†ï¼</p><p>â˜å¤§å­¸ç”Ÿç¨‹åºå“¡è¢«å‹’ç´¢æ¯”ç‰¹å¹£å¾Œï¼Œçµ•åœ°åæ“Šï¼</p></pre></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Android</a></li><li><a>å“ªå€‹</a></li><li><a>é‚„æ˜¯</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/7697e301.html alt=é€€ä¼‘å¤«å¦»åŒæ™‚æ‚£ç™Œï¼Œé‚„æ˜¯ä¸­æ™šæœŸï¼å…©äººæ¯å¤©éƒ½è¦åƒä¸€æ–¤é€™ç¨®é›¶é£Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/SB5GydOIYBAOWk style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7697e301.html title=é€€ä¼‘å¤«å¦»åŒæ™‚æ‚£ç™Œï¼Œé‚„æ˜¯ä¸­æ™šæœŸï¼å…©äººæ¯å¤©éƒ½è¦åƒä¸€æ–¤é€™ç¨®é›¶é£Ÿ>é€€ä¼‘å¤«å¦»åŒæ™‚æ‚£ç™Œï¼Œé‚„æ˜¯ä¸­æ™šæœŸï¼å…©äººæ¯å¤©éƒ½è¦åƒä¸€æ–¤é€™ç¨®é›¶é£Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7b6871ad.html alt=éåº¦è¨­è¨ˆé‚„æ˜¯äººæ€§åŒ–è¨­è¨ˆï¼Œç¾…æŠ€é›™æ¨¡å¼æ»¾è¼ªæ‹†è§£ï¼Œä½ å€‘æ€éº¼çœ‹ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/51d58f282cad467fb9a443fd319a42f2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7b6871ad.html title=éåº¦è¨­è¨ˆé‚„æ˜¯äººæ€§åŒ–è¨­è¨ˆï¼Œç¾…æŠ€é›™æ¨¡å¼æ»¾è¼ªæ‹†è§£ï¼Œä½ å€‘æ€éº¼çœ‹ï¼Ÿ>éåº¦è¨­è¨ˆé‚„æ˜¯äººæ€§åŒ–è¨­è¨ˆï¼Œç¾…æŠ€é›™æ¨¡å¼æ»¾è¼ªæ‹†è§£ï¼Œä½ å€‘æ€éº¼çœ‹ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/957be695.html alt=è—ç‰™éŸ³é »ç·¨ç¢¼å“ªå€‹éŸ³è³ªå¥½ï¼Ÿä»Šå¤©æˆ‘å€‘ä¾†é€ä¸€è§£è®€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/4fb112ff23ef4c6091f6479a6d296bd4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/957be695.html title=è—ç‰™éŸ³é »ç·¨ç¢¼å“ªå€‹éŸ³è³ªå¥½ï¼Ÿä»Šå¤©æˆ‘å€‘ä¾†é€ä¸€è§£è®€>è—ç‰™éŸ³é »ç·¨ç¢¼å“ªå€‹éŸ³è³ªå¥½ï¼Ÿä»Šå¤©æˆ‘å€‘ä¾†é€ä¸€è§£è®€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/58db1e44.html alt=æ°£å€™å®œäººï¼Œç¾å¥³å¦‚é›²ï¼Œå»ä¸å—ç¾åœ‹å¾…è¦‹ã€‚å¤©å ‚é‚„æ˜¯åœ°ç„ï¼Ÿæ³¢å¤šé»å„ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/90d01391696c491e990431b04ad16fd0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/58db1e44.html title=æ°£å€™å®œäººï¼Œç¾å¥³å¦‚é›²ï¼Œå»ä¸å—ç¾åœ‹å¾…è¦‹ã€‚å¤©å ‚é‚„æ˜¯åœ°ç„ï¼Ÿæ³¢å¤šé»å„>æ°£å€™å®œäººï¼Œç¾å¥³å¦‚é›²ï¼Œå»ä¸å—ç¾åœ‹å¾…è¦‹ã€‚å¤©å ‚é‚„æ˜¯åœ°ç„ï¼Ÿæ³¢å¤šé»å„</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/17311768.html alt=ç¨ç«‹ï¼Œé‚„æ˜¯æˆç‚ºç¾åœ‹çš„ç¬¬51å€‹å·ï¼Ÿç¾åœ‹æµ·å¤–é ˜åœ°æ³¢å¤šé»å„ç™¾å¹´æ‚²æ­Œ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/cc0c9b3ba3e8432399f778c9a84127cc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/17311768.html title=ç¨ç«‹ï¼Œé‚„æ˜¯æˆç‚ºç¾åœ‹çš„ç¬¬51å€‹å·ï¼Ÿç¾åœ‹æµ·å¤–é ˜åœ°æ³¢å¤šé»å„ç™¾å¹´æ‚²æ­Œ>ç¨ç«‹ï¼Œé‚„æ˜¯æˆç‚ºç¾åœ‹çš„ç¬¬51å€‹å·ï¼Ÿç¾åœ‹æµ·å¤–é ˜åœ°æ³¢å¤šé»å„ç™¾å¹´æ‚²æ­Œ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ca3b7208.html alt=å¦‚ä½•åˆ¤æ–·å½ˆæ€§å·¥ä½œåˆ¶å°ä¸€å®¶å…¬å¸æœ‰å®³é‚„æ˜¯æœ‰åˆ©ï¼Ÿæ‹¿æˆç¸¾èªªè©± class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/novel-images/130c80fb8dd039e1d0b1ec8e32d03fea style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ca3b7208.html title=å¦‚ä½•åˆ¤æ–·å½ˆæ€§å·¥ä½œåˆ¶å°ä¸€å®¶å…¬å¸æœ‰å®³é‚„æ˜¯æœ‰åˆ©ï¼Ÿæ‹¿æˆç¸¾èªªè©±>å¦‚ä½•åˆ¤æ–·å½ˆæ€§å·¥ä½œåˆ¶å°ä¸€å®¶å…¬å¸æœ‰å®³é‚„æ˜¯æœ‰åˆ©ï¼Ÿæ‹¿æˆç¸¾èªªè©±</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c8f5463c.html alt=å“ªå€‹å“ç¨®çš„å€‰é¼ æœ€é©åˆå­©å­é¤Šï¼Ÿæœ‰äº›å€‰é¼ åƒè¬åˆ¥è®“å­©å­ç¢° class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/3305a7878bb44c5985c44e51315d5eff style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c8f5463c.html title=å“ªå€‹å“ç¨®çš„å€‰é¼ æœ€é©åˆå­©å­é¤Šï¼Ÿæœ‰äº›å€‰é¼ åƒè¬åˆ¥è®“å­©å­ç¢°>å“ªå€‹å“ç¨®çš„å€‰é¼ æœ€é©åˆå­©å­é¤Šï¼Ÿæœ‰äº›å€‰é¼ åƒè¬åˆ¥è®“å­©å­ç¢°</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/eb2ea94b.html alt=å–®æ‹ï¼Œæ‹„æ‚£å´é‚„æ˜¯å¥å´ï¼Ÿå¯åˆ¥å†ç¹¼çºŒéŒ¯ä¸‹å»äº† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/ca67e96a62534c49b681ef25750bd068 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/eb2ea94b.html title=å–®æ‹ï¼Œæ‹„æ‚£å´é‚„æ˜¯å¥å´ï¼Ÿå¯åˆ¥å†ç¹¼çºŒéŒ¯ä¸‹å»äº†>å–®æ‹ï¼Œæ‹„æ‚£å´é‚„æ˜¯å¥å´ï¼Ÿå¯åˆ¥å†ç¹¼çºŒéŒ¯ä¸‹å»äº†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bbf6eecc.html alt=ä½ çš„æˆ¶å‹æ˜¯ã€Œç¡¬é€šè²¨ã€é‚„æ˜¯ã€Œé¬¼è¦‹æ„ã€ä¸€ç¯‡çœ‹æ‡‚å»ˆé–€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/bbb3c88bb1a741b08b5b5ddf9bfa0f0e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bbf6eecc.html title=ä½ çš„æˆ¶å‹æ˜¯ã€Œç¡¬é€šè²¨ã€é‚„æ˜¯ã€Œé¬¼è¦‹æ„ã€ä¸€ç¯‡çœ‹æ‡‚å»ˆé–€>ä½ çš„æˆ¶å‹æ˜¯ã€Œç¡¬é€šè²¨ã€é‚„æ˜¯ã€Œé¬¼è¦‹æ„ã€ä¸€ç¯‡çœ‹æ‡‚å»ˆé–€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/81fc3180.html alt=è¡€ç®¡ç˜¤æ˜¯å¹³çš„é‚„æ˜¯å‡¸çš„ï¼Ÿæ¿Ÿå—è¡€ç®¡ç˜¤é†«é™¢å°ˆå®¶å°ˆæ¥­è§£ç­” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RUgLHx99M99zBd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/81fc3180.html title=è¡€ç®¡ç˜¤æ˜¯å¹³çš„é‚„æ˜¯å‡¸çš„ï¼Ÿæ¿Ÿå—è¡€ç®¡ç˜¤é†«é™¢å°ˆå®¶å°ˆæ¥­è§£ç­”>è¡€ç®¡ç˜¤æ˜¯å¹³çš„é‚„æ˜¯å‡¸çš„ï¼Ÿæ¿Ÿå—è¡€ç®¡ç˜¤é†«é™¢å°ˆå®¶å°ˆæ¥­è§£ç­”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e25c8879.html alt=è³£å‡ºé‚„æ˜¯è²·å…¥ï¼Œé…è‚¡è¦æ€éº¼æ“ä½œï¼Œæ­¡è¿æœ‹å‹å€‘ä¾†è¨è«–ï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/04e633e44210494b85fbd87da1acc8a3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e25c8879.html title=è³£å‡ºé‚„æ˜¯è²·å…¥ï¼Œé…è‚¡è¦æ€éº¼æ“ä½œï¼Œæ­¡è¿æœ‹å‹å€‘ä¾†è¨è«–ï¼>è³£å‡ºé‚„æ˜¯è²·å…¥ï¼Œé…è‚¡è¦æ€éº¼æ“ä½œï¼Œæ­¡è¿æœ‹å‹å€‘ä¾†è¨è«–ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3ead682f.html alt=è™¹å¸å¼é¦¬æ¡¶å¥½ç”¨é‚„æ˜¯ç›´è¡å¼é¦¬æ¡¶å¥½ç”¨ï¼Ÿè½è€å¸«å‚…çš„è©±ï¼Œä¸å†ç³¾çµï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/4128279b33c74517975ff7bcd7678baa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3ead682f.html title=è™¹å¸å¼é¦¬æ¡¶å¥½ç”¨é‚„æ˜¯ç›´è¡å¼é¦¬æ¡¶å¥½ç”¨ï¼Ÿè½è€å¸«å‚…çš„è©±ï¼Œä¸å†ç³¾çµï¼>è™¹å¸å¼é¦¬æ¡¶å¥½ç”¨é‚„æ˜¯ç›´è¡å¼é¦¬æ¡¶å¥½ç”¨ï¼Ÿè½è€å¸«å‚…çš„è©±ï¼Œä¸å†ç³¾çµï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/00e69a4c.html alt=å¡”åŠé›»æ¢¯æ¨™æº–ç¯€èºæ “èºæ¯åœ¨ä¸Šé‚„æ˜¯ä¸‹ï¼Ÿå•ä½ ç‚ºä»€éº¼ä½ çŸ¥é“å—ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/0fb29da5-8754-4e03-803f-8e1a563d4a54 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/00e69a4c.html title=å¡”åŠé›»æ¢¯æ¨™æº–ç¯€èºæ “èºæ¯åœ¨ä¸Šé‚„æ˜¯ä¸‹ï¼Ÿå•ä½ ç‚ºä»€éº¼ä½ çŸ¥é“å—ï¼Ÿ>å¡”åŠé›»æ¢¯æ¨™æº–ç¯€èºæ “èºæ¯åœ¨ä¸Šé‚„æ˜¯ä¸‹ï¼Ÿå•ä½ ç‚ºä»€éº¼ä½ çŸ¥é“å—ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8ff03bda.html alt=å¸¸ç”¨çš„è¾¦å…¬å®¤æ–‡ä»¶æ«ƒæœ‰å“ªäº›ï¼Ÿå“ªå€‹å» å®¶ç”Ÿç”¢çš„å¥½ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1f7bbe97de154edcb49c7a20806bf845 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8ff03bda.html title=å¸¸ç”¨çš„è¾¦å…¬å®¤æ–‡ä»¶æ«ƒæœ‰å“ªäº›ï¼Ÿå“ªå€‹å» å®¶ç”Ÿç”¢çš„å¥½ï¼Ÿ>å¸¸ç”¨çš„è¾¦å…¬å®¤æ–‡ä»¶æ«ƒæœ‰å“ªäº›ï¼Ÿå“ªå€‹å» å®¶ç”Ÿç”¢çš„å¥½ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/56ae192f.html alt=åœ¨ç›¸å°è«–ä¸­ï¼Œé•·åº¦æ˜¯ä»¥è·é›¢é‚„æ˜¯ç©ºé–“åœ¨é«˜é€Ÿæ”¶ç¸®çš„ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d723c4e1f92143ad9b1912d4cec970fc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/56ae192f.html title=åœ¨ç›¸å°è«–ä¸­ï¼Œé•·åº¦æ˜¯ä»¥è·é›¢é‚„æ˜¯ç©ºé–“åœ¨é«˜é€Ÿæ”¶ç¸®çš„ï¼Ÿ>åœ¨ç›¸å°è«–ä¸­ï¼Œé•·åº¦æ˜¯ä»¥è·é›¢é‚„æ˜¯ç©ºé–“åœ¨é«˜é€Ÿæ”¶ç¸®çš„ï¼Ÿ</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>