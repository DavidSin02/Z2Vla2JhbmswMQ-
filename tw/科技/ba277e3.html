<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>如何在IoT平臺註冊私有CA證書，實現X.509方式設備身份認證(一) | 极客快訊</title><meta property="og:title" content="如何在IoT平臺註冊私有CA證書，實現X.509方式設備身份認證(一) - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/c9963fa2b16840c78269dfa5a2d2b1f4"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ba277e3.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ba277e3.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ba277e3.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ba277e3.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ba277e3.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ba277e3.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ba277e3.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ba277e3.html><meta property="article:published_time" content="2020-10-29T21:04:14+08:00"><meta property="article:modified_time" content="2020-10-29T21:04:14+08:00"><meta name=Keywords content><meta name=description content="如何在IoT平臺註冊私有CA證書，實現X.509方式設備身份認證(一)"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/ba277e3.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>如何在IoT平臺註冊私有CA證書，實現X.509方式設備身份認證(一)</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><h2 class=pgc-h-arrow-right>1.前言</h2><p>IoT物聯網平臺支持使用私有數字證書進行設備接入身份認證。使用私有數字證書，需要完成如下操作：①在物聯網平臺註冊CA證書，②將數字設備證書與設備身份相綁定。</p><p>本文介紹如何在物聯網平臺註冊私有CA證書並給設備綁定設備證書。</p><p><br></p><h2 class=pgc-h-arrow-right>限制說明</h2><ul><li>僅<strong>MQTT協議</strong>直連的設備可使用私有CA證書。</li><li>目前僅<strong>華東2（上海）</strong>地域支持使用私有CA證書。</li><li>使用私有CA證書時，只支持<strong>RSA算法</strong>簽名的設備證書。</li><li>一個阿里雲賬號最多可註冊<strong>10個私有CA證書</strong>。</li></ul><h2 class=pgc-h-arrow-right>2.註冊私有CA證書</h2><p><br></p><h3 class=pgc-h-arrow-right>2.1 製作私有CA證書</h3><p>我們在Mac電腦上使用OpenSSL工具製作私有CA證書。命令如下：</p><pre><code># 生成私有CA和key ，有效期10年openssl req -new -x509 -days 3650 -keyout myIoTCARoot.key -out myIoTCARoot.crt# 查看CA證書openssl x509 -noout -text -in myIoTCARoot.crt</code></pre><p>私有CA證書內容：</p><div class=pgc-img><img alt=如何在IoT平臺註冊私有CA證書，實現X.509方式設備身份認證(一) onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/c9963fa2b16840c78269dfa5a2d2b1f4><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>2.2 製作驗證證書</h3><p>當我們註冊私有CA證書時，IoT物聯網平臺要求我們同時上傳使用私有CA證書對應的私鑰創建的驗證證書，用來證明我們擁有該私有CA證書。</p><p><br></p><h4 class=pgc-h-arrow-right>查看私有證書註冊碼</h4><ul><li>登錄IoT物聯網平臺控制檯。</li><li>在左側導航欄，選擇<strong>設備管理 > CA證書</strong>。</li><li>在CA證書管理頁，單擊<strong>註冊CA證書</strong>。</li><li>在註冊CA證書對話框中，獲取<strong>註冊碼</strong>。</li></ul><div class=pgc-img><img alt=如何在IoT平臺註冊私有CA證書，實現X.509方式設備身份認證(一) onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/8333072e575c445088f461124a4d3a6e><p class=pgc-img-caption></p></div><h4 class=pgc-h-arrow-right>驗證證書製作</h4><p>我們同樣以OpenSSL為例，製作驗證證書，操作步驟如下：</p><ul><li>生成驗證證書Key</li></ul><pre><code># 生成驗證證書openssl genrsa -out verificationCert.key 2048</code></pre><ul><li>生成驗證證書CSR，其中Common Name 需填入IoT控制檯獲取的私有CA證書<strong>註冊碼</strong></li></ul><pre><code># 生成驗證證書CSRopenssl req -new -key verificationCert.key -out verificationCert.csr……Common Name (e.g. server FQDN or YOUR name) []: *****7dc9a483ebbf7e6997b7b****……</code></pre><ul><li>使用由私有CA證書私鑰簽名的CSR創建驗證證書</li></ul><pre><code># 用私有CA和key簽發驗證證書openssl x509 -req -in verificationCert.csr -CA myIoTCARoot.crt -CAkey myIoTCARoot.key -CAcreateserial -out verificationCert.crt -days 300 -sha512# 查看驗證證書內容openssl x509 -noout -text -in verificationCert.crt</code></pre><p>查看驗證證書：</p><div class=pgc-img><img alt=如何在IoT平臺註冊私有CA證書，實現X.509方式設備身份認證(一) onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/4e661ae593d64dbeb2a57f2add4af817><p class=pgc-img-caption></p></div><h3 class=pgc-h-arrow-right>2.3 上傳並驗證私有CA證書</h3><p>當我們準備完成私有CA證書和對應驗證證書，就可以在IoT物聯網平臺的控制檯上傳證書了。上傳證書頁面如下：</p><div class=pgc-img><img alt=如何在IoT平臺註冊私有CA證書，實現X.509方式設備身份認證(一) onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a0abe90538214550a44e93c8f0765520><p class=pgc-img-caption></p></div><p>驗證通過後，在私有CA證書詳情頁面，可以查看證書信息，參考如下：</p><div class=pgc-img><img alt=如何在IoT平臺註冊私有CA證書，實現X.509方式設備身份認證(一) onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bf851498d4884b38900c00910c71be74><p class=pgc-img-caption></p></div><p>至此，我們完成了私有CA證書的製作和在IoT物聯網平臺的註冊。後續，就可以用此CA證書來簽發設備證書了。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>IoT</a></li><li><a>CA</a></li><li><a>證書</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/247b61a.html alt=CA證書！星巴克項目按下“快進鍵” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RvVDYHlCyt0EXu style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/247b61a.html title=CA證書！星巴克項目按下“快進鍵”>CA證書！星巴克項目按下“快進鍵”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/96161c8.html alt=宣城：“標證通”將CA證書融入手機客戶端 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/96161c8.html title=宣城：“標證通”將CA證書融入手機客戶端>宣城：“標證通”將CA證書融入手機客戶端</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3c219dc.html alt=CA證書丟了，到期了，用不了了怎麼辦？快來看這裡！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3c219dc.html title=CA證書丟了，到期了，用不了了怎麼辦？快來看這裡！>CA證書丟了，到期了，用不了了怎麼辦？快來看這裡！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/454670a.html alt=CA證書認證過程詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c6f2119aa2ce48c99f2bd189928d0fe0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/454670a.html title=CA證書認證過程詳解>CA證書認證過程詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9dfcaf4.html alt=公司註冊後金稅盤和CA證書被鎖怎麼辦 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/40bea58f0f9747fc881500d065771197 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9dfcaf4.html title=公司註冊後金稅盤和CA證書被鎖怎麼辦>公司註冊後金稅盤和CA證書被鎖怎麼辦</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a694dfd.html alt=好消息！四川CA公司：數字證書辦理“三免費”！請您把經辦大廳帶回家！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/S0v9GUfFhi3Oj1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a694dfd.html title=好消息！四川CA公司：數字證書辦理“三免費”！請您把經辦大廳帶回家！>好消息！四川CA公司：數字證書辦理“三免費”！請您把經辦大廳帶回家！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a6a45bd.html alt=江蘇電力交易中心：原江蘇CA證書升級或換髮江蘇國信CA證書 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/S0uuDo31hFOj4i style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a6a45bd.html title=江蘇電力交易中心：原江蘇CA證書升級或換髮江蘇國信CA證書>江蘇電力交易中心：原江蘇CA證書升級或換髮江蘇國信CA證書</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f34d6ad.html alt=深圳CA個人數字證書不會申請？小艾圖文並茂的教程，一看就會 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/09db895754cf4aed950422e1aeafb0ce style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f34d6ad.html title=深圳CA個人數字證書不會申請？小艾圖文並茂的教程，一看就會>深圳CA個人數字證書不會申請？小艾圖文並茂的教程，一看就會</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9ddee53.html alt=改革CA數字證書，滿洲裡市交易中心深化“放管服”顯成效 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9ddee53.html title=改革CA數字證書，滿洲裡市交易中心深化“放管服”顯成效>改革CA數字證書，滿洲裡市交易中心深化“放管服”顯成效</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b1fb1e65.html alt=基於NB-IoT的LWM2M協議淺析 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/704fa7d3036f4e02a02a589a132c1156 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b1fb1e65.html title=基於NB-IoT的LWM2M協議淺析>基於NB-IoT的LWM2M協議淺析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8fadefb0.html alt=物聯網+安防，IoT合作伙伴計劃聯盟發佈智能門鎖標準 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/R8gki5K3z032xk style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8fadefb0.html title=物聯網+安防，IoT合作伙伴計劃聯盟發佈智能門鎖標準>物聯網+安防，IoT合作伙伴計劃聯盟發佈智能門鎖標準</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d6f8e08a.html alt=移動與無線IoT設備的低壓電機控制系統設計 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/SElVgn6FsEUfPG style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d6f8e08a.html title=移動與無線IoT設備的低壓電機控制系統設計>移動與無線IoT設備的低壓電機控制系統設計</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ca963ad3.html alt=NB-IoT技術在智能門鎖應用潛力巨大 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RDUdfAkFqMJy7v style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ca963ad3.html title=NB-IoT技術在智能門鎖應用潛力巨大>NB-IoT技術在智能門鎖應用潛力巨大</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/26ae765d.html alt=9個流行的開發IoT項目的開源物聯網平臺 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/96f4a393-c7d3-4012-9f75-b8dd584dc12d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/26ae765d.html title=9個流行的開發IoT項目的開源物聯網平臺>9個流行的開發IoT項目的開源物聯網平臺</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/559820b0.html alt=試驗檢測證書第三批639人初始登記公佈…… class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/5411eeb3-7686-4252-af4d-8bbe4dfcc7d3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/559820b0.html title=試驗檢測證書第三批639人初始登記公佈……>試驗檢測證書第三批639人初始登記公佈……</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>