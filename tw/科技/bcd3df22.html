<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>華為交換機學習筆記-純乾貨 | 极客快訊</title><meta property="og:title" content="華為交換機學習筆記-純乾貨 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/0fc392fce7c04792886d096cd8339928"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bcd3df22.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bcd3df22.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bcd3df22.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bcd3df22.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bcd3df22.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bcd3df22.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bcd3df22.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bcd3df22.html><meta property="article:published_time" content="2020-11-14T20:59:30+08:00"><meta property="article:modified_time" content="2020-11-14T20:59:30+08:00"><meta name=Keywords content><meta name=description content="華為交換機學習筆記-純乾貨"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/bcd3df22.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>華為交換機學習筆記-純乾貨</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><strong>請問什麼是衝突域，什麼是廣播域。</strong></p><p>衝突域是在同一個網絡上兩個比特同時進行傳輸則會產生衝突；在網路內部數據分組所產生與發生衝突的這樣一個區域稱為衝突域，所有的共享介質環境都是一個衝突域，在共享介質環境中一定類型的衝突域是正常行為。</p><p>廣播域就是說如果站點發出一個廣播信號後能接收到這個信號的範圍。通常來說一個局域網就是一個廣播域。</p><p><strong>一．在現代局域網技術當中，為什麼不採用HUB組網，而是交換機。</strong></p><p>1: HUB是把接收到的數據轉發到除了發送數據外的其他所有口，如16口的HUB一個口發數據會把數據發到其他的15個口。</p><p>交換機只把數據發到需要接收這個數據的口，如一個口發送的數據只發到需要它的那一個口。</p><p>2: 交換機通過運用生成樹等成熟算法，更加提高了效率，總的說來，HUB是同一個衝突域，而交換機則是不同衝突域，不過二者都是一個廣播域。</p><p>1：VLAN劃分的標準和對報文的處理機制？</p><p>VLAN是一種將局域網（LAN）設備從邏輯上劃分成一個個網段，從而實現虛擬工作組（單元）的數據交換技術。</p><p>VLAN的好處主要有四個：</p><p>(1) 端口的分隔</p><p>(2) 網絡的安全</p><p>(3) 靈活的管理</p><p>(4) 控制廣播風暴</p><p>VLAN劃分標準：</p><p>1. 基於端口的VLAN 2. 基於MAC地址的VLAN 3. 基於網絡層協議的VLAN</p><p>4. 根據IP組播的VLAN 5. 按策略劃分的VLAN <strong></strong>6. 按用戶定義、非用戶授權劃分的VLAN</p><p><strong>問交換機是通過什麼來判斷端口是否在同一VLAN。</strong></p><p>端口是否在同一個VLAN是通過TAG標記字段來判斷的。比如：發送VLAN10的數據出去時會在TAG標記字段中打上VLAN10的標記，這樣對方收 到這個數據時就會查看裡面的這個字段的TAG標記與自己的VLAN號進行比較看是否在同一個VLAN。</p><p><strong>TRUNK的作用。</strong></p><p>1．在網絡的分層結構和寬帶的合理分配方面，TRUNK被解釋為"端口匯聚"，是帶寬擴展和鏈路備份的一個重要途徑。TRUNK把多個物理端口捆綁在一起當作一個邏輯端口使用，可以把多組端口的寬帶疊加起來使用。TRU NK技術可以實現TRUNK內部多條鏈路互為備份的功能，即當一條鏈路出現故障時，不影響其他鏈路的工作，同時多鏈路之間還能實現流量均衡，就像我們熟悉的打印機池和MODEM池一樣。</p><p>2．在電信網絡的語音級的線路中，Trunk指"主幹網絡、電話幹線"，即兩個交換局或交換機之間的連接電路或信道，它能夠在兩端之間進行轉接，並提供必要的信令和終端設備。</p><p>3、 但是在最普遍的路由與交換領域，VLAN的端口聚合也有的叫TRUNK,不過大多數都叫TRUNKING ,如CISCO公司。所謂的TRUNKING是用來在不同的交換機之間進行連接，以保證在跨越多個交換機上建立的同一個VLAN的成員能夠相互通訊。</p><p><strong>TRUNK的實現。</strong></p><p>有兩種：</p><p>一種是ISL的TRUNK，這是CISCO私有的一個VLAN標籤格式。</p><p>二種是802.1Q的TRUNK，這是IEEE標準的VLAN標籤格式。它比ISL包含更少的域。</p><p><strong>TRUNK接口和ACCESS接口比較。</strong></p><p>1、 Trunk口，Trunk口上可以同時傳送多個VLAN的包，一般用於交換機之間的鏈接。</p><p>2、Access口，Access口只能屬於1個VLAN，一般用於連接計算機的端口</p><p><strong>請你談談nativeVLAN。</strong></p><p>nativeVLAN也叫自然VLAN，是802.1Q封裝下的一種特殊VLAN，來自該VLAN的流量在穿越TRUNK接口時不被Tag。缺省是VLAN1為nativeVLAN。</p><p><strong>什麼是VLAN 間路由。</strong></p><p>VLAN間路由的就是解決不同網段之間數據通信的問題。解決不同VLAN間路由。</p><p><strong>在轉發數據包時為什麼三層交換機比傳統的路由器要快。</strong></p><p>1傳統的路由器是通過CPU控制的路由處理器來完成的，也就是軟轉發。</p><p>過程：當一個IP包在經過路由器時，它主要做的事情就是查路由表和ARP表獲得轉發信息以便進行二層幀的重寫。當IP包特別多時，路由器就要頻繁進行路由表和ARP表的查找以及二層幀的重寫工作。</p><p>2三層交換機則是通過ASIC來完成的，也就是通過硬件來轉發的。</p><p>過程：ASIC提供了一張緩存表，表中保存了二層幀的重寫算法以及二層幀重寫所需信息。當三層交換機收到一個過路IP包時，直接匹配ASIC緩存信息。</p><p><strong>什麼是STP.。</strong></p><p>就是交換機通過某種特定算法來邏輯地阻塞物理冗餘網絡中某些接口，以達到避免數據轉發循環，生成無環路拓撲的一種二層協議。</p><p><strong>STP是如何防止循環的。</strong></p><p>交換機之間通過對交互的BPDU中所包含的參數進行比較選出根網橋、根端口、指定端口，最後即不是根端口，也不是指定端口的接口則為阻塞端口，阻塞端口就是用來防止循環的。</p><p><strong>STP工作模式有哪幾種，各自有什麼特點。</strong></p><p>PVST：基於VLAN的STP模式，一個VLAN對應一個STP實例。CISCO私有，ISL封裝。</p><p>CST：公共STP模式，所有VLAN對應一個實例。IEEE802.1Q封裝，STP實例的BPDU中在VLAN1中承載。CST與PVST之間不能直接互操作，必須藉助PVST+。</p><p>PVST+：基於VLAN的STP模式，一個VLAN對應一個STP實例。IEEE802.1Q封裝，PVST與PVST+之間的互操作是STP實例一一對應。而PVST+是隻有其VLAN1的STP才可以與CST互操作，其他VLAN的STP的BPDU在穿越CST區域時是被洪泛的。</p><p><strong>STP端口狀態和端口角色有哪些，STP進行配置的關鍵參數有哪些。</strong></p><p>STP端口狀態：</p><p>1、 Disabled(禁用)：不收發任何報文。</p><p>2、 Blocking(阻塞)：不接收、轉發數據，接收BPDU但不發送，不進行地址學習。</p><p>3、 Lisening(偵聽)：不接收、轉發數據，接收BPDU併發送，不進行地址學習。</p><p>4、 Learning(學習)：不接收、轉發數據，接收BPDU併發送，開始地址學習。</p><p>5、 Forwarding(轉發)：接收、轉發數據，接收BPDU併發送，進行地址學習。</p><p>STP端口角色：</p><p>1、 根端口：非根網橋上的具有到根網橋最小路徑開銷的接口，每個非根網橋上至少有一個根端口，處於轉發狀態。</p><p>2、 指定端口：每個交換網段中具有最短根路徑開銷的接口，每個交換網段中必有一個指定端口，處於轉發狀態。</p><p>STP進行配置的關鍵參數：</p><p>1、 根網橋ID（網橋優先級、MAC）</p><p>2、 路徑開銷：衡量網橋之間距離的，以網橋之間的接口鏈路帶寬為參考。</p><p>3、 發送方網橋ID（發送方網橋優先級，MAC）</p><p>4、 端口ID（端口優先級、端口號）</p><p><strong>STP時間參數有哪些，這些時間參數對STP收斂的影響是什麼。</strong></p><p>1、 Hello time：BPDU定期發送的間隔時間，默認2秒。</p><p>2、 Max age time：BPDU最大老化時間，交換機感知網絡拓撲變更的時間，默認20秒。</p><p>3、 Forwarding delay：轉發延遲。偵聽——學習 15秒 學習——轉發 15秒，一起30秒。</p><p>這些時間參數直接影響STP收斂的速度，30——50秒的時間對於要求實施響應的業務數據而言是無法忍受的，因為這麼長時間的收斂會導致大量關鍵業務的中斷，從而給客戶造成不可估量的損失。</p><p><strong>加快STP收斂的方法有哪些。</strong></p><p>1、 調整STP時間參數</p><p>2、 使用CISCO私有的特性：</p><p>（1）Portfast特性：用來加快交換機上連接終端設備的邊界端口收斂速度的一種STP特性。</p><p>（2）Uplinkfast特性：用來加快接入層交換機上聯主備鏈路切換時間。</p><p>（3）Backbonefast：用來加快間接鏈路故障的STP收斂的一種特性。</p><p><strong>保證STP穩定的機制有哪些，各自有哪些特點。</strong></p><p>1、 Root guard：配置了該特性的端口不會成為根端口。</p><p>2、 BPDU guard：使用該特性的端口當收到BPDU後立刻進入errdisable狀態。</p><p>3、 BPDU filter：一種用來阻止portfast端口接收和發送配置BPDU的機制。</p><p>4、 Loopguard：跟蹤非指定端口的BPDU活動，它認為某端口連BPDU協議包都收不到了，該端口也不能被使用，否則可能會出現循環。</p><p><strong>網關冗餘</strong></p><p><strong>HSRP,VRRP,GBLP的中文名稱分別是什麼。</strong></p><p>1、 HSRP：熱備份路由器冗餘協議，是CISCO私有的一種解決主備網關備份冗餘的協議。</p><p>2、 VRRP：虛擬路由器冗餘協議，是一種國際標準的，多廠商設備均支持的網關冗餘協議。</p><p>3、 GBLP：負載均衡協議，是CISCO私有的，能自動檢測活動網關故障並切換到冗餘路徑，可充分利用資源，同時無需配置多個組和管理多個默認網關配置。</p><p><strong>HSRP/VRRP起什麼樣的作用。</strong></p><p>作用：HSRP/VRRP協議可以確保當主備網關由於某些原因導致主備切換時，用戶終端不會受到任何的影響，真正做到了底層網絡的變化對上層業務的透明。</p><p><strong>主備網關如何切換的（如何實現網關冗餘）</strong></p><p>通常以帶有串行接口鏈路的路由器作為某個VLAN到達其他網絡的路徑，如果此路由器的串口由於某種原因狀態變為非活動，HSRP會自動通過將當前活動路由器的優先級減少為比其他HSRP夥伴更小的值來改變活動路由器。這可以保證，無論出現什麼問題，總有可靠的活動路由器能將數據流發往外部網絡。搶佔和跟蹤功能也使得通常的首選路由器在串行口的連接恢復時，能重新成為活動HSRP。</p><p><strong>HSRP/VRRP組的作用。</strong></p><p>作用：就是讓用戶終端認為HSRP/VRRP組就是一臺虛擬路由設備，用戶終端將數據發往虛擬路由器，而實際數據包的轉發工作卻由當前活動路由器來完成的。</p><p><strong>HSRP/VRRP的比較。</strong></p><p>1.在功能上,VRRP和HSRP非常相似,但是就安全而言,VRRP對HSRP的一個主要優勢:它允許參與VRRP組的設備間建立認證機制.並且,不像HSRP那樣要求虛擬路由器不能是其中一個路由器的ip地址,但是VRRP允許這種情況發生(如果"擁有"虛擬路由器地址的路由器被建立並且正在運行,那麼應該總是由這個虛擬路由器管理—等價於HSRP中的活動路由器),但是為了確保萬一失效發生的時候終端主機不必重新學習MAC地址,它指定使用的MAC地址00-00-5e-00-01-VRID,這裡的VRID是虛擬路由器的ID(等價於一個HSRP的組標識符).</p><p>2.另外一個不同是VRRP不使用HSRP中的政變或者一個等價消息,VRRP的狀態機比HSRP的要簡單,HSRP有6個狀態(初始(Initial)狀態，學習(Learn)狀態，監聽(Listen)狀態，對話(Speak)狀態，備份(Standby)狀態，活動(Active)狀態)和8個事件, VRRP只有3個狀態(初始狀態(Initialize)、主狀態(Master)、備份狀態(Backup))和5個事件.</p><p>3. HSRP有三種報文，而且有三種狀態可以發送報文：呼叫(Hello)報文、告辭(Resign)報文、突變(Coup)報文.</p><p>VRRP有一種報文</p><p>VRRP廣播報文：由主路由器定時發出來通告它的存在，使用這些報文可以檢測虛擬路由器各種參數，還可以用於主路由器的選舉.</p><p>4. HSRP將報文承載在UDP報文上，而VRRP承載在TCP報文上(HSRP 使用UDP 1985端口，向組播地址224.0.0.2 發送hello消息.)</p><p>5.VRRP的安全:VRRP協議包括三種主要的認證方式:無認證,簡單的明文密碼和使用 MD5 HMAC ip認證的強認證.</p><p>強認證方法使用IP認證頭(AH)協議.AH是與用在IPSEC中相同的協議,AH為認證VRRP分組中的內容和分組頭提供了一個方法. MD5 HMAC 的使用表明使用一個共享的密鑰用於產生hash值.路由器發送一個VRRP分組產生MD5 hash值,並將它置於要發送的通告中,在接收時,接受方使用相同的密鑰和MD5值,重新計算分組內容和分組頭的hash值,如果結果相同,這個消息就是真正來自於一個可信賴的主機,如果不相同,它必須丟棄,這可以防止攻擊者通過訪問LAN而發出能影響選擇過程的通告消息或者其他一些方法中斷網絡.</p><p>另外,VRRP包括一個保護VRRP分組不會被另外一個遠程網絡添加內容的機制(設置TTL值=255,並在接受時檢查),這限制了可以進行本地攻擊的大部分缺陷.而另一方面,HSRP在它的消息中使用的TTL值是1.</p><p>6.VRRP的崩潰間隔時間:3*通告間隔+時滯時間(skew-time) .</p><p><strong>HSRP/VRRP上游接口跟蹤的概念。</strong></p><p>HSRP/VRRP跟蹤：使得你可以指定HSRP監控路由器的另一個接口，如果被跟蹤的接口狀態變為DOWN，別的路由器就接替成為活動路由器。</p><p><strong>HSRP/VRRP搶佔的概念。</strong></p><p>HSRP/VRRP搶佔：使得最高優先級的路由器立刻成為活動路由器。</p><p><strong>配置DHCP服務器時哪些參數是必須要配置的，</strong></p><p>1、 DHCP服務器的配置：WINDOWS平臺DHCP服務器的配置</p><p>IOS平臺DHCP服務器的配置</p><p>2、 DHCP中繼的配置：</p><p><strong>DHCP工作的幾個關鍵報文是什麼。</strong></p><p>1、 Discover 發現</p><p>2、 Offer 通知</p><p>3、 Request 請求</p><p>4、 Ack 確認</p><p><strong>實現DHCP中繼的核心思想是什麼。</strong></p><p>DHCP廣播報文在哪裡被終結就在哪裡做中繼。</p><p>總結RIPv1和RIPv2的區別：</p><p>1.RIPv1是有類路由協議，RIPv2是無類路由協議</p><p>2.RIPv1不能支持VLSM，RIPv2可以支持VLSM</p><p>3.RIPv1沒有認證的功能，RIPv2可以支持認證，並且有明文和MD5兩種認證</p><p>4.RIPv1沒有手工彙總的功能，RIPv2可以在關閉自動彙總的前提下，進行手工彙總</p><p>5.RIPv1是廣播更新，RIPv2是組播更新，</p><p>6.RIPv1對路由沒有標記的功能，RIPv2可以對路由打標記（tag），用於過濾和做策略</p><p>7.RIPv1發送的updata最多可以攜帶25條路由條目，RIPv2在有認證的情況下最多隻能攜帶24條路由</p><p>8.RIPv1發送的updata包裡面沒有next-hop屬性，RIPv2有next-hop屬性，可以用與路由更新的重定</p><p><strong>比較RIP與OSPF</strong></p><p>1、 RIP是距離矢量路由協議：OSPF是鏈路狀態路由協議。</p><p>2、 RIP：將自己的路由表週期地發給相鄰的路由器，並使用距離矢量算法計算路由。</p><p>OSPF：使用Hello包來發現和維護鄰居關係，使用LSA發起和洪泛來傳播網絡拓撲信息，使用SPF算法計算路由。</p><p>3、 RIP路由度量值基於跳數；OSPF路由度量值基於帶寬的。</p><p>4、 RIP有15跳限制，超過15跳的路由被認為不可達：而OSPF沒有跳數限制。</p><p>5、 RIP可能存在路由環路：OSPF是一種無路由自環的協議。</p><p>6、 RIP使用計時器收斂路由，收斂速度慢：OSPF使用LSA洪泛收斂，收斂速度快。</p><p>7、 RIP用於小網絡；OSPF能劃分多區域，且能做區域路由彙總，能用於大規模網絡。</p><p><strong>說說各種路由協議是如何防止循環的。</strong></p><p>RIP防止循環的機制：</p><p>1、 水平分割：從該接口收到的路由不能再從該接口發出。默認開啟</p><p>2、 毒性逆轉：路由器向外宣告無效路由時，將跳數設為最大值。它不遵循水平分割原則。</p><p>3、 抑制計時器：路由器把發生變化的路由表項保持在路由表中，並置位"Possibly down"的狀態，使其它路由器有時間知道網絡拓撲發生了變化，重新計算路由表。</p><p>4、 最大16跳數限制，0-15</p><p>5、 觸發更新：</p><p>（1） 重發更新：第一時間發出路由更新信息。</p><p>（2） 異步更新：獨立計時，更新30秒，防止同步更新。</p><p>OSPF防止環路的機制：</p><p>1、 發起LSA的路由器將其直連網絡拓撲信息描述在LSA中，而其他路由器只負責洪泛，故區域內的所有路由器都能拿到完整的始髮網絡拓撲信息。</p><p>2、 使用SPF算法計算路由，計算結果是一棵樹，路由是樹的葉子節點，從根節點到葉子節點是單向不可回覆的路徑。</p><p>3、 非骨幹區域必須和骨幹區域相連，骨幹區域必須是連續的，非骨幹區域之間的路由交換必須通過骨幹區域進行，從而使OSPF多區域網絡成為一個以Area0為根的樹結構，保證區域間無路由環路。</p><p>BGP防止環路的機制：</p><p>1、 AS-Path：BGP路由協議可以通過AS-Path來檢測路由是否存在環路。</p><p>2、 反射器Cluster-ID：通過Cluster-ID來防止路由可能產生的環路。</p><p><strong>說說OSPF有幾種協議包和各自的作用。</strong></p><p>1、 Hello：建立和維持鄰居關係。</p><p>2、 DD（數據厙描述）：描述拓撲結構數據厙的內容。</p><p>3、 LSR（鏈路狀態請求）：向相鄰路由器請求其拓撲結構數據厙的部分內容。</p><p>4、 LSU（鏈路狀態更新）：對鏈路狀態請求數據包的迴應。可以包含多個LSA。</p><p>5、 LSAck（鏈路狀態確認）：對鏈路狀態更新數據包的確認。</p><p><strong>導致OSPF無法形成鄰居有哪些因素。</strong></p><p>1、 AreaID不一致：Router-id重複</p><p>2、 Stub、NSSA配置不一致。</p><p>3、 子網掩碼不一致。</p><p>4、 網絡類型不一致。</p><p>5、 Hello時間、Down時間不一致。</p><p>6、 OSPF鄰居認證問題</p><p>7、 DR選舉問題、非廣播網絡類型沒有手動配置鄰居。</p><p>8、 MTU不一致。</p><p><strong>OSPF有哪幾種鄰居狀態。</strong></p><p>1、 Init：此狀態指定路由器從其相鄰收到了一個hello信息包，但接受路由器ID在hello 信息包未包括。</p><p>2、 2Way（雙向）：此狀態選定雙向通信建立了在二個路由器之間。雙向意味著每 個路由器看見了其他hello信息包。</p><p>3、 Exstart：此狀態路由器和他們的DR和BDR 建立一個主從關係並且選擇初始序號為鄰接關係形成。</p><p>4、 Exchange：在交換狀態，OSPF路由器交換數據庫描述符(DBD)信息包。數據庫描述符包含鏈路狀態廣播(LSA)頭並且描述整個鏈路狀態數據庫的內容。</p><p>5、 Loading：在loading狀態，OSPF路由器會就其發現的相鄰路由器的新的鏈路狀態數據及自身的已經過期的數據向相鄰路由器提出請求，並等待相鄰路由器的回答。</p><p>6、 FULL：這是兩個OSPF路由器建立交互關係的最後一個狀態，在這時，建立起交互關係的路由器之間已經完成了數據庫同步的工作，它們的鏈路狀態數據庫已經一致。</p><p>說說OSPF的工作過程。</p><p><strong>說說OSPF路由選擇順序。</strong></p><p>1、 直連路由：本路由器發起的LSA1、2</p><p>2、 區域內路由：O LSA 1、2</p><p>3、 區域間路由：O IA LSA 3</p><p>4、 1類外部路由：O E1 LSA5類型1</p><p>5、 2類外部路由；O E2 LSA5類型2</p><p>6、 1類NSSA路由：O N1 LSA7類型1</p><p>7、 2類NSSA路由：O N2 LSA7類型2</p><p><strong>OSPF有那些網絡類型，其中哪些網絡類型會進行DR和BDR選舉。</strong></p><p>1、 點對點：鄰居自動,Hello時間10秒，DOWN時間40秒，無DR。</p><p>2、 點對多點：鄰居自動,Hello時間30秒，DOWN時間120秒，無DR。</p><p>3、 廣播：鄰居自動,Hello時間10秒，DOWN時間40秒，有DR，等待時間40秒。</p><p>4、 非廣播：鄰居手動配置，Hello時間30秒，DOWN時間120秒，有DR，等待時間120秒。</p><p><strong>OSPF為什麼要劃分區域，劃分區域要注意什麼？如何劃分區域。</strong></p><p>1、 可以減少LSDB的大小，降低了路由器的內存消耗，減輕了CPU SPF計算的負擔。</p><p>2、 可以減少LSA洪泛範圍，有效地把拓撲變化控制在區域內，提高了網絡的穩定性。</p><p>3、 在區域邊界可以做路由彙總，減少了路由表、減輕了設備的數據轉發負擔。</p><p>4、 多區域提高了網絡的擴展性，有利於組建大規模的網絡。</p><p><strong>說說ABR和ASBR</strong></p><p>ABR（區域邊界路由器）：連接多個OSPF區域且有一個UP的A rea0的接口。</p><p>ASBR（自治系統邊界路由器）：重發布了其他路由器協議路由的OSPF路由器。</p><p><strong>OSPF有哪些LSA,每種LSA分別是哪些路由器產生的。</strong></p><p>Router LSA：所有OSPF路由器發起，區域內，描述路由器的直連拓撲信息。</p><p>Network LSA：DR，區域內，描述多路訪問網絡DR鄰接的一組路由器。</p><p>Summary LSA；ABR，區域內，描述區域間的路由信息。</p><p>ASBR LSA：ABR，區域內，描述區域間ASBR的可達性。</p><p>External LSA：ASBR，整個OSPF路由域，描述OSPF外部路由。</p><p>NSSA LSA：NSSA ASBR，區域內，描述NSSA區域的OSPF外部路由。</p><p><strong>OSPF有哪些特殊區域，說說你對特殊區域的理解，各自有哪些LSA.</strong></p><p>1、 Stub區域：不能發起外部路由，不接收外部路由，接收區域內，區域間的路由。</p><p>2、 完全Stub區域：不能發起外部路由，不接收外部路由，不接收區域間的路由，接收區域內路由。</p><p>3、 NSSA區域：能發起外部路由，不接收外部路由，接收區域間路由，接收區域內路由。</p><p>4、 完全NSSA區域：能發起外部路由，不接收外部路由，不接收區域間路由，接收區域內路由。</p><p><strong>BGP部分</strong></p><p><strong>BGP有哪些協議包，各自的作用是什麼，BGP的協議包被誰封裝，源和目標端口號分別是多少。</strong></p><p>BGP協議類型：</p><p>1、 Open：協商BGP參數，建立鄰居關係。</p><p>2、 Keepalive：維持鄰居關係，定時發送Keepalive報文維持BGP鄰居關係。</p><p>3、 Update：傳播BGP路由。</p><p>4、 Notification：報告錯誤，中止鄰居關係。</p><p>BGP的協議包被TCP封裝，源和目標端口號分別是179。</p><p><strong>IGP和BGP得關係是什麼，什麼情況下用BGP。</strong></p><p>IGP承載BGP！</p><p>IGP：這種路由選擇協議用於在自主系統內部交換路由選擇信息。包括RIP、IGRP、OSPF、IS-IS、EIGRP。</p><p>BGP：這種路由選擇協議用於連接Internet上自主系統。</p><p><strong>何時用到BGP</strong>：</p><p>1、 當網絡規模大，IGP路由協議不足發支持時，將網絡拆分成一個個獨立的AS，在AS間使用BGP傳遞路由。</p><p>2、 在與其他單位/企業/運營商的網絡對接，靜態路由不能滿足組網需求時，各單位/企業/運營商管理好自己的網絡，在單位/企業/運營商之間通過BGP來學習路由。</p><p>3、 BGP路由協議具有豐富的選路策略，當選路需求非常複雜時，可選用BGP協議。</p><p>4、 用戶或業務組網需求必須使用BGP時。</p><p><strong>什麼是IBGP,什麼是EBGP,他們如何防止循環。</strong></p><p>IBGP：同一AS內建立IBGP鄰居，用於AS內的BGP路由器互相學習BGP路由。</p><p>IBGP鄰居一般採用Loopback地址來建，IBGP協議包的IP TLL默認為255，採用Loopback保證了IBGP鄰居的穩定性。</p><p>EBGP：不同AS間建立EBGP鄰居，用於在AS之間傳播路由。</p><p>EBGP鄰居一般採用直連接口來建，EBGP協議包的IP TTL默認為1，如果使用其他接口或跨越路由器建EBGP鄰居，需要使用ebgp-multihop。</p><p><strong>請你談談什麼是BGP同步，為什麼會有同步，什麼情況下可以關閉同步。</strong></p><p>BGP同步是指IBGP和IGP之間的同步。</p><p>BGP同步的目的是為了避免不必要的BGP路由黑洞。</p><p>什麼情況下可以關閉同步<strong>：</strong></p><p>1、 本AS不是TransitAS。</p><p>2、 本AS內的所有提供轉發服務的路由器都能從BGP學到其他AS的路由。</p><p>3、 本AS內運行MPLS。</p><p><strong>簡單介紹下BGP選路原則。</strong></p><p>1、 丟棄下一跳不可達的路由：</p><p>2、 在同步狀態下，丟棄沒有達到同步的路由：</p><p>3、 選擇weight值最高的路由，weight是CISCO私有：</p><p>4、 選擇LP最大的路由：</p><p>5、 選擇本地始發的路由：</p><p>6、 選擇AS-Path最短的路由：</p><p>7、 選擇Origin最小的路由：（IGP&lt;EGP&lt;Incomplete）</p><p>8、 選擇MED最小的路由：</p><p>9、 EBGP路由優於IBGP路由：</p><p>10、選擇下一跳IGP開銷最小的路由：</p><p>11、選擇RouterID最小的BGP鄰居通告的路由：</p><p>12、如果OriginatorID和RouterID都相同，選擇Cluster_list最短的路由：</p><p>13、選擇鄰居地址最小的BGP鄰居通告過來的路由。</p><p><strong>BGP路由反射器的作用是什麼，路由反射器如何防止循環。</strong></p><p>1、 是將從客戶端收到的路由反射給它的客戶端和非客戶端。</p><p>2、 從非客戶端收到的路由只反射給它的客戶端。</p><p>3、 在進行路由反射之前，RR會進行路由選擇，RR只把最優的路由反射出去。</p><p>4、 RR進行路由反射時，不會改變路由的屬性。（包括下一跳、LP、MED等）</p><p>路由反射器如何防止循環：</p><p>每個路由反射器都有一個Cluster_id，BGP路由攜帶一個Cluster_list屬性，每反射一次，BGP路由反射器會將自己的Cluster_id附加到路由的Cluster_list中，BGP路由反射不接收Cluster_list中含有自己Cluster_id的路由，這樣就防止了路由循環。</p><p><strong>BGP狀態</strong>1、Idle：查找路由表，路由器執行資源初始化，發起一個TCP連接，並且傾聽遠程BGP</p><p>2、Connect：找到路由表進行TCP的三次握手，TCP連接成功轉到Open sent狀態，如果失敗，轉到idle重新連接；</p><p>3、Open sent：打開信息發送報文；</p><p>4、Open confirm：收到對方發來的open消息，鄰居關係協商完成；</p><p>5、Established：最終狀態。</p><p><strong>BGP能不能實現負載均衡。如果可以，有哪些方法。</strong></p><p>BGP能實現負載均衡！</p><p>BGP不執行負載均衡，路徑是根據策略而不是帶寬選擇的,BGP只選擇一條最佳路徑，neibhgor ebgp-multihop，可以在自主系統之間的兩條路徑上進行負載均衡，並提供了冗餘性；</p><p>IS-IS是個路由 無連接網絡服務（CLNS，Connectless Network Services)的ISO協議，這是OSI協議組中的網絡層協議。隨TCP/IP的發展，ISIS擴展可以同時支持IP和CLNS，即是集成的IS-IS。MPLS通信工程流中可以用的路由協議只有ISIS和OSPF。</p><p>IS-IS和OSPF的不同之處</p><p>A，OSPF區域定義在接口所以一OSPF路由可以是多個區域，而ISIS區域定義在鏈路上，ISO地址分配給系統而不是接口，ISIS路由只能屬於一個區域中；</p><p>B，ISIS可以搶佔DIS，而OSPF選定DR後不會搶佔也不變除非意外DR變DOWN；並且ISIS沒有備用IS，而OSPF有備用ROUTER；</p><p>C，ISIS的主幹由路由器的類型指定，而OSPF的主幹由區域定義；ISIS中在同一介質上任何兩臺路由之間都將建立鄰接關係，但只有DIS代表偽節點發送LSP；</p><p>D，ISIS獨立於協議在數據鏈路層上不受IP網絡層協議限制，利用CLNS協議數據單元PDU發送信息，在廣播網上用組播地址0180.c200.0014和0180.c200.0015。ISIS對協議改進時非常簡單，而OSPF很難改進且受IP協議限制；</p><p>E，ISIS中忽略並泛洪無效的LSP，而在OSPF中忽略但丟棄無效的LSA；</p><p>F，ISIS佔CPU資源更少，定時器調節更細，添加新協議時較容易通過LSP尾部的TLV改變協議。</p><p>3，IS-IS的相關術 語</p><p>ES，end system是指非路由設備，比如主機；</p><p>IS，intermidiate system是指路由設備；</p><p>ES-IS，端系 統到中間系統，是被OSI的ES和IS用來通信以動態發現第二層鄰接關係的協議；</p><p>CSNP，完整序 列號分組，在廣播網上由DIS每十秒發送以同步鏈路狀態；</p><p>LSNP，部分序 列號分組，在點到點鏈路上發送用以確認LSP，在廣播網上PSNP用來請求LSP；</p><p>ENPA，附屬子 網點，是提供子網服務的點；</p><p>CLNP，無連接網絡協議，是網絡層傳輸數據和錯誤消息的OSI協議；它類似IP協議；CLNS，無連接網絡服務是不可靠連接不要求在傳輸數據前建立電路；</p><p>DIS，指定中間 系統，類似OSPF的DR，由它向LAN其他機擴散LSP；與OSPF不同的是，DIS與其他機建立鄰居關係外其他機之間也還建立著鄰居關係；</p><p>Hello,該分組用於建立和維護鄰居關係，包括有ESH、ISH、IIH；</p><p>LSP，鏈路狀態PDU，描述鏈路狀態類似OSPF的LSA，只是LSP不依附TCP/IP協議信息；對不同類型路由有不同對應的LSP，如L1 LSP和L2 LSP；</p><p>L1 路由，是指 區域內路由，只接收其區域內的相關信息。要到達其他區域時，必在L1 保存一條到最近L2的默認路由；</p><p>L2路由，是指區域與區域之間的主幹路由；L1不能和L2直接相連；</p><p>L1/L2路由， 是用於連接L1和L2路由的邊界路由，它包含有兩面個數據庫即L1的和L2的。它類似OSPF中的ABR；</p><p>NET網絡實體，OSI地址的一部分，描述了區域和系統ID，但沒定義NSEL，NSEL是指定系統NSAP地址的；</p><p>NSEL，網絡選 擇器有時也稱SEL，指定到那一個網絡層協議服務，類似IP協議上層服務的TCP/UDP端口，在ISIS中常設SEL為00表示路由器；</p><p>NSAP，網絡服 務訪問點，是CLNS完整地址，包含OSI地址和高層進程，結構有區域ID、系統ID和SEL，SEL為00是NSAP地址就是NET實體；類似IP址加協議號；</p><p>SNPA，子網服 務點，提供物理連接和網絡層服務。它類似於IP中的MAC地址、FR的DLCI、WAN的HDLC;</p><p>pseudonode,偽節點，廣播子網LAN的標識符，偽節點使得廣播介質就像是一個虛擬路由器，而每臺路由 就象是它的接口，由DIS管理路由和偽節點的關係。</p><p>4，OSI編址規則</p><p>NSAP地址結 構：末段兩位為SEL，倒數三段十二位為系統ID（有時是MAC或IP地址），其他往前面的為區域及域ID，最前兩位為AFI符其中49是私有；</p><p>OSI地址分配給 系統而不是接口；通常路由器有一個NSAP地址，但也 可以最多配置為三個地址；多個NET地址時系統ID必是相同的；同一個區域的路由區域ID必是相同的；所有路由在整個區域中系統ID是唯一的；同一域中，所有系統ID 長度相同。</p><p>Level 1/Level 2路由器相當於OSPF中的ABR，他必須維護兩個不同區域的鏈路狀態表。但是他又不像ABR，他不會把Level 2 的路由信息傳到Level 1的區域中去。而Level 1區域就相當於OSPF中的完全存根區域，需要把L1/L2 路由器作為一個網關，去請求一個去往外區域的路由，L1/L2 路由器通過發送LSP報文到L1區域，設置ATT bit讓L1區域的路由器知道，發送這個LSP的路由器知道如何去往外區域的路由。</p><p>二、集成IS-IS的原理</p><p>1，建立鄰居關係</p><p>A，成為鄰居的條件：它們支持的最大長度MTU相同；建立鄰居關係的路由類型相同，比如L1和L1、L2與L2分別對應路由器系統ID不能相同；兩臺路由器身份驗證相同；兩臺路由的HELLO定時器和保持時間HOLD TIME間隔要相同，否則鏈路翻滾不停計算SPF。</p><p>B，ISIS利用HELLO建立和維護鄰居關係，默認每十秒就發送HELLO PDU來維護鄰居關係。根據不同網絡類型和路由類型，發送的數據分組類 型各不同。</p><p>2，IS-IS只定義兩種網絡：點到點和廣播子網；網絡類型不能手動配置，都是 默認的。</p><p>A，廣播網絡，CISCO對LAN和多點WAN鏈路自動使用廣播模式，在這種網絡中指定DIS，為偽節點泛洪LSP，用於廣播鏈路的HELLO分組稱為LAN分組；</p><p>B，點到點鏈路， 定期的點到點HELLO分組維持鄰居關係；</p><p>C，NBMA網絡，NBMA既不是廣播也不是點到點而是兩者合一的，比如FR、ATM、X. 25。它們使用PVC提供連接，IS-IS認為連接到NBMA的接口是多點子接口，所以也為它們分派成廣播網絡類型， 使用相同LAN hello分組，並選舉DIS，但沒這麼簡單；CISCO的ISIS模式下，假定NBMA環境以PVC全互聯、創建靜態映射，用關鍵字broadcast，在幀中繼中將遠程IP地址映射到本地DLCI，命令frame-relay map clns [dlci-number] broadcast。強烈建議將NBMA環境實現為點對點鏈路而不是多點。</p><p>3，選舉DIS，在廣播網絡中應用，點到點鏈路不用DIS。不同類型路由對應有各自DIS，比如L1 DIS、L2 DIS即一臺路由有可能成為兩個DIS；DIS可以搶佔且沒有備用DIS；DIS選舉分別依據優先級、SNPA地址(系統ID），大者優先被選，CISCO默認優先級是64，優先級是0時永不被選取；手動指定優先級：</p><p>router(config-if)#isis priority value [level-1/level-2/level-1-2]</p><p>4,SPF算法生成SPF樹，選擇路徑決策順序：</p><p>第一，如果有多條度量最小路徑時，CISCO設備最多可支持6條成本相等的路徑默認為4條；</p><p>第二，可選度量優先於默認度量，但CISCO只支持默認度量，這點沒有意義；</p><p>第 三，內部路徑優於外部，即L1路徑優於L2；</p><p>第四，最長匹配路由，最具體路由即子網掩碼最長；</p><p>第五，配置了ToS的優先於沒有配置 的路由；</p><p>第六，如果沒有路徑，則將分組發到最近的L2路由上----默認路由</p><p>IS-IS的度量值為：default、delay、 expense、 error（可靠性）。前者是所有ISIS路由必支持的度量，CISCO也只支持這個默認度量--cost成本且默認為10。</p><p>VPLS是一種層2 MPLS VPN技術。允許客戶LANs如同連接到相同LAN網段一樣跨越同共享IP骨幹網。同BGP MPLS VPN技術一樣。該技術依靠MPLS穿過骨幹網。兩者之間的主要區別在於CE和PE之間的通信方式。對於VPLS而言。CE不需要是一個路由器。同樣PE也不必和CE建立對等關係。這樣PE就不必為每個CE維護不同的路由表。相反。它簡單將輸入層2流量影射到適當的MPLS LSP上。顯然這種VPN實現方式是一種重疊模型</p><p>優缺點：</p><p>城域連接</p><p>價廉物美</p><p>並不特別需要PE</p><p>支持多協議</p><p>私有路由域</p><p>簡單的CE設備</p><p>分界點清晰</p><p>動態信令</p><p>管理簡單</p><p>缺點：</p><p>沒有自動發現能力：可通過BGP解決</p><p>擴展性差：可通過層次VPLS技術解決</p><p>VPLS與BGP MPLS VPNs的解決</p><p>VPLS適合城域應用，BGP MPLS VPNS適合骨幹環境</p><p><strong>BFD簡介</strong></p><p>為了減小設備故障對業務的影響、提高網絡的可用性，設備需要能夠儘快檢測到與相鄰設備間的通信故障，以便能夠及時採取措施，從而保證業務繼續進行。</p><p>現有的故障檢測方法主要包括以下幾種：</p><p> 硬件檢測：例如通過SDH（Synchronous Digital Hierarchy，同步數字體系）告警檢測鏈路故障。硬件檢測的優點是可以很快發現故障，但並不是所有介質都能提供硬件檢測。</p><p> 慢Hello機制：通常採用路由協議中的Hello報文機制。這種機制檢測到故障所需時間為秒級。對於高速數據傳輸，例如吉比特速率級，超過1秒的檢測時間將導致大量數據丟失；對於時延敏感的業務，例如語音業務，超過1秒的延遲也是不能接受的。並且，這種機制依賴於路由協議。</p><p> 其他檢測機制：不同的協議有時會提供專用的檢測機制，但在系統間互聯互通時，這樣的專用檢測機制通常難以部署。</p><p>BFD（Bidirectional Forwarding Detection，雙向轉發檢測）就是為了解決上述檢測機制的不足而產生的，它是一套全網統一的檢測機制，用於快速檢測、監控網絡中鏈路或者IP路由的轉發連通狀況，保證鄰居之間能夠快速檢測到通信故障，從而快速建立起備用通道恢復通信。</p><p><strong>工作機制</strong></p><p>BFD提供了一個通用的、標準化的、介質無關、協議無關的快速故障檢測機制，可以為各上層協議如路由協議、MPLS等統一地快速檢測兩臺路由器間雙向轉發路徑的故障。</p><p>BFD在兩臺路由器或路由交換機上建立會話，用來監測兩臺路由器間的雙向轉發路徑，為上層協議服務。BFD本身並沒有發現機制，而是靠被服務的上層協議通知其該與誰建立會話，會話建立後如果在檢測時間內沒有收到對端的BFD控制報文則認為發生故障，通知被服務的上層協議，上層協議進行相應的處理。</p><p><strong>1. 工作流程</strong></p><p><br></p><p>圖1 BFD會話建立流程圖（以OSPF為例）</p><p></p><p>BFD會話建立過程：</p><p>(1) 上層協議通過自己的Hello機制發現鄰居並建立連接；</p><p>(2) 上層協議在建立了新的鄰居關係時，將鄰居的參數及檢測參數都（包括目的地址和源地址等）通告給BFD；</p><p>(3) BFD根據收到的參數進行計算並建立鄰居。</p><p></p><div class=pgc-img><img alt=華為交換機學習筆記-純乾貨 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/0fc392fce7c04792886d096cd8339928><p class=pgc-img-caption></p></div><p>圖2 BFD處理網絡故障流程圖（以OSPF為例）</p><p></p><p>當網絡出現故障時：</p><p>(1) BFD檢測到鏈路/網絡故障；</p><p>(2) 拆除BFD鄰居會話；</p><p>(3) BFD通知本地上層協議進程BFD鄰居不可達；</p><p>(4) 本地上層協議中止上層協議鄰居關係；</p><p>(5) 如果網絡中存在備用路徑，路由器將選擇備用路徑。</p><p><strong>2. 檢測方式</strong></p><p> 單跳檢測：BFD單跳檢測是指對兩個直連繫統進行IP連通性檢測，這裡所說的"單跳"是IP的一跳。</p><p> 多跳檢測：BFD可以檢測兩個系統間的任意路徑，這些路徑可能跨越很多跳，也可能在某些部分發生重疊。</p><p> 雙向檢測：BFD通過在雙向鏈路兩端同時發送檢測報文，檢測兩個方向上的鏈路狀態，實現毫秒級的鏈路故障檢測。（BFD檢測LSP是一種特殊情況，只需在一個方向發送BFD控制報文，對端通過其他路徑報告鏈路狀況。）</p><p><strong>3. BFD會話工作方式</strong></p><p>BFD會話工作方式：</p><p> 控制報文方式：鏈路兩端會話通過控制報文交互監測鏈路狀態。</p><p> Echo報文方式：鏈路某一端通過發送Echo報文由另一端轉發回來，實現對鏈路的雙向監測。</p><p><strong>4. 運行模式</strong></p><p>BFD會話建立前模式：主動模式和被動模式。</p><p> 主動模式：在建立對話前不管是否收到對端發來的BFD控制報文，都會主動發送BFD控制報文；</p><p> 被動模式：在建立對話前不會主動發送BFD控制報文，直到收到對端發送來的控制報文；</p><p>在會話初始化過程中，通信雙方至少要有一個運行在主動模式才能成功建立起會話。</p><p>BFD會話建立後模式：異步模式和查詢模式。</p><p> 異步模式：以異步模式運行的路由器週期性地發送BFD控制報文，如果在檢測時間內沒有收到BFD控制報文則將會話down。</p><p> 查詢模式：假定每個系統都有一個獨立的方法，確認自己連接到其他系統。這樣，只要有一個BFD會話建立，系統停止發送BFD控制報文，除非某個系統需要顯式地驗證連接性。</p><p><strong>BFD報文格式</strong></p><p>BFD控制報文封裝在UDP報文中傳送，對於單跳檢測其UDP目的端口號為3784，對於多跳檢測其UDP目的端口號為4784（也可配置為3784，具體參見配置任務）。BFD echo報文與BFD控制報文格式類似（區別在於字段Desired Min TX Interval和Required Min RX Interval為空），其UDP目的端口號為3785。報文格式如圖3所示。</p><div class=pgc-img><img alt=華為交換機學習筆記-純乾貨 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/9e2528604d074bca913969efca854ebc><p class=pgc-img-caption></p></div><p>圖3 BFD報文格式圖</p><p></p><p> Vers：協議的版本號，協議版本為1。</p><p> Diag：本地會話最後一次從up狀態轉換到其他狀態的原因。</p><p> State（Sta）：BFD會話當前狀態，取值為：0代表AdminDown，1代表Down，2代表Init，3代表Up。</p><p> Poll（P）：設置為1，表示發送方請求進行連接確認，或者發送請求參數改變的確認；設置為0，表示發送方不請求確認。</p><p> Final（F）：設置為1，表示發送方響應一個接收到P比特為1的BFD控制報文；設置為0，表示發送方不響應一個接收到P比特為1的BFD控制報文。</p><p> Control Plane Independent（C）：設置為1，表示發送方的BFD實現不依賴於它的控制平面（即，BFD報文在轉發平面傳輸，即使控制平面失效，BFD仍然能夠起作用）；設置為0，表示BFD報文在控制平面傳輸。</p><p> Authentication Present（A）：如果設置為1，則表示控制報文包含認證字段，並且會話是被認證的。</p><p> Demand（D）：設置為1，表示發送方希望操作在查詢模式；設置為0，表示發送方不區分是否操作在查詢模式，或者表示發送方不能操作在查詢模式。</p><p> Reserved（R）：在發送時設置為0，在接收時忽略。</p><p> Detect Mult：檢測時間倍數。即接收方允許發送方發送報文的最大連續丟包數，用來檢測鏈路是否正常。</p><p> Length：BFD控制報文的長度，單位字節。</p><p> My Discriminator：發送方產生的一個唯一的、非0鑑別值，用來區分兩個協議之間的多個BFD會話。</p><p> Your Discriminator：接收方收到的鑑別值"My Discriminator"，如果沒有收到這個值就返回0。</p><p> Desired Min Tx Interval：發送方發送BFD控制報文時想要採用的最小間隔，單位毫秒。</p><p> Required Min Rx Interval：發送方能夠支持的接收兩個BFD控制報文之間的間隔，單位毫秒。</p><p> Required Min Echo Rx Interval：發送方能夠支持的接收兩個BFD回聲報文之間的間隔，單位毫秒。如果這個值設置為0，則發送不支持接收BFD回聲報文。</p><p> Auth Type：BFD控制報文使用的認證類型。</p><p> Auth Len：認證字段的長度，包括認證類型與認證長度字段。</p><p><strong>BFD支持的應用</strong></p><p> OSPF與BFD聯動</p><p> OSPFv3與BFD聯動</p><p> IS-IS與BFD聯動</p><p> IPv6 IS-IS與BFD聯動</p><p> RIP與BFD聯動</p><p> 靜態路由與BFD聯動</p><p> BGP與BFD聯動</p><p> IPv6 BGP與BFD聯動</p><p> MPLS與BFD聯動</p><p> Track與BFD聯動</p><p> IP快速重路由</p><p>以下封面配圖</p><div class=pgc-img><img alt=華為交換機學習筆記-純乾貨 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/32ff7e61fdb8432a980832b67b21f6a2><p class=pgc-img-caption></p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>華為</a></li><li><a>交換</a></li><li><a>機學習</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/7716935e.html alt="華為 FreeBuds Pro 體驗" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/d875ba12de174368bd8d1546d44dc699 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7716935e.html title="華為 FreeBuds Pro 體驗">華為 FreeBuds Pro 體驗</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cd4cfe46.html alt=華為P40手機5200萬像素像素，能打敗小米1億像素鏡頭嗎？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/fc9919cf92c34784beed41e142f20503 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cd4cfe46.html title=華為P40手機5200萬像素像素，能打敗小米1億像素鏡頭嗎？>華為P40手機5200萬像素像素，能打敗小米1億像素鏡頭嗎？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/51c6dcb7.html alt=經典分享：華為模擬集成電路設計講義 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ReTMiwsAymTebE style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/51c6dcb7.html title=經典分享：華為模擬集成電路設計講義>經典分享：華為模擬集成電路設計講義</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b690d039.html alt=「專利解密」“多穿一堵牆”——華為Wifi6+如何提升功率譜密度 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/4ae57316ed024517a9bf8396c80de9f0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b690d039.html title=「專利解密」“多穿一堵牆”——華為Wifi6+如何提升功率譜密度>「專利解密」“多穿一堵牆”——華為Wifi6+如何提升功率譜密度</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2dc2b98b.html alt=和華為合作有望落地，股價又將翻倍的風華高科，要注意些什麼？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c3776da5ae4a453eacb21a7b4ac70cb3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2dc2b98b.html title=和華為合作有望落地，股價又將翻倍的風華高科，要注意些什麼？>和華為合作有望落地，股價又將翻倍的風華高科，要注意些什麼？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d21477ec.html alt="Huawei/華為麥芒9新機發布，感覺很實在 參數配置指南" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/c28c82ca-8b9f-4b9a-bb4c-299630be7546 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d21477ec.html title="Huawei/華為麥芒9新機發布，感覺很實在 參數配置指南">Huawei/華為麥芒9新機發布，感覺很實在 參數配置指南</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ba7a4e76.html alt="華為P40系列旗艦影像實力的背後，XD Fusion圖像引擎功不可沒！" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/0cf20266b951477cb87fdb5a7ce20f32 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ba7a4e76.html title="華為P40系列旗艦影像實力的背後，XD Fusion圖像引擎功不可沒！">華為P40系列旗艦影像實力的背後，XD Fusion圖像引擎功不可沒！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c6b2a07d.html alt=華為Phoenix引擎：定義圖形之美 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/0999d0958a034618a5ebb844544e3c5b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c6b2a07d.html title=華為Phoenix引擎：定義圖形之美>華為Phoenix引擎：定義圖形之美</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9856fe2d.html alt=華為推進CloudOptiX技術創新，引領全光網新時代 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/15299385055354e5a2775aa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9856fe2d.html title=華為推進CloudOptiX技術創新，引領全光網新時代>華為推進CloudOptiX技術創新，引領全光網新時代</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fed0e97d.html alt=華為、騰訊、阿里被評亞洲品牌前10強；聯通電信將聯手共建5G網絡 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f254f371b68a426eb3b1dadaa6992676 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fed0e97d.html title=華為、騰訊、阿里被評亞洲品牌前10強；聯通電信將聯手共建5G網絡>華為、騰訊、阿里被評亞洲品牌前10強；聯通電信將聯手共建5G網絡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3f613aa4.html alt=再次確認！華為Mate40或將採用雙處理器，麒麟1020供貨數量曝光 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e9406472c66b47699bc63e74bfbfcf65 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3f613aa4.html title=再次確認！華為Mate40或將採用雙處理器，麒麟1020供貨數量曝光>再次確認！華為Mate40或將採用雙處理器，麒麟1020供貨數量曝光</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2c87dfe4.html alt=效仿三星？華為Mate40或採用雙處理器，國行版5nm麒麟心不變 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/276067e9f547421bbc8b038cc31c2b4c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2c87dfe4.html title=效仿三星？華為Mate40或採用雙處理器，國行版5nm麒麟心不變>效仿三星？華為Mate40或採用雙處理器，國行版5nm麒麟心不變</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c84bbce6.html alt=海思芯片被加碼制裁，華為Mate40或用雙處理器，國行搭載麒麟1020 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/76e9a6e897dc44658958306ae732e34f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c84bbce6.html title=海思芯片被加碼制裁，華為Mate40或用雙處理器，國行搭載麒麟1020>海思芯片被加碼制裁，華為Mate40或用雙處理器，國行搭載麒麟1020</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2fc85558.html alt="花粉放心了！華為Mate 40或將採用雙處理器，國行版仍為麒麟1020" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6f56018b96d842e78444de13f9785822 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2fc85558.html title="花粉放心了！華為Mate 40或將採用雙處理器，國行版仍為麒麟1020">花粉放心了！華為Mate 40或將採用雙處理器，國行版仍為麒麟1020</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/43c4986a.html alt="華為Mate 40 Pro渲染圖曝光：居中藥丸挖孔，採用雙處理器方案" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/bde812fe7ed3402d8ac003d0bba523a4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/43c4986a.html title="華為Mate 40 Pro渲染圖曝光：居中藥丸挖孔，採用雙處理器方案">華為Mate 40 Pro渲染圖曝光：居中藥丸挖孔，採用雙處理器方案</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>