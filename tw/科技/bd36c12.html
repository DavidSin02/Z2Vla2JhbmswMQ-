<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Android BroadcastReceiverçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ’¥è™Ÿï¼ŒçŸ­ä¿¡ï¼ŒSDå¡ï¼Œé–‹æ©Ÿ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Android BroadcastReceiverçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ’¥è™Ÿï¼ŒçŸ­ä¿¡ï¼ŒSDå¡ï¼Œé–‹æ©Ÿ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/f82b07ea2c934d218d1c1af44d9cc2ed"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bd36c12.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bd36c12.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bd36c12.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bd36c12.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bd36c12.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bd36c12.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/bd36c12.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/bd36c12.html><meta property="article:published_time" content="2020-10-29T20:50:29+08:00"><meta property="article:modified_time" content="2020-10-29T20:50:29+08:00"><meta name=Keywords content><meta name=description content="Android BroadcastReceiverçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ’¥è™Ÿï¼ŒçŸ­ä¿¡ï¼ŒSDå¡ï¼Œé–‹æ©Ÿ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/bd36c12.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Android BroadcastReceiverçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ’¥è™Ÿï¼ŒçŸ­ä¿¡ï¼ŒSDå¡ï¼Œé–‹æ©Ÿ</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><div><p>Androidä¸­å››å¤§çµ„ä»¶çš„ä½¿ç”¨æ™‚é‡ä¸­ä¹‹é‡ï¼Œæˆ‘é€™å€‹éšæ®µä¹Ÿä¸å¥¢æœ›èƒ½æŠŠä»–æ‰€æœ‰çš„åŸç†ææ‡‚ï¼Œä½†æ˜¯æœ€èµ·ç¢¼çš„ï¼Œæˆ‘è¦æŠŠä»–çš„å„ç¨®ä½¿ç”¨æ–¹æ³•ç­å¦‚æŒ‡æŒæ‰è¡Œ</p><p>BroadcastReceiver</p><p>æ¥æ”¶ç³»çµ±çš„å»£æ’­ï¼Œæ¯”å¦‚é›»è©±ï¼ŒçŸ­ä¿¡ä¹‹é¡çš„</p><h1>IPæ’¥è™Ÿå™¨</h1><p>æˆ‘å€‘åœ¨æ’¥æ‰“é›»è©±çš„æ™‚å€™ï¼Œæˆ‘å€‘ç³»çµ±ä¹Ÿæœƒäº‹å…ˆç™¼é€ä¸€å€‹å»£æ’­ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥ç”¨å»£æ’­æ¥æ”¶è€…ä¾†æ¥æ”¶åˆ°é€™å€‹å»£æ’­æ’¥æ‰“é›»è©±çš„æ™‚å€™åœ¨é›»è©±è™Ÿç¢¼å‰é¢åŠ ä¸Šä¸€äº›å„ªæƒ çš„é•·é€”çŸ­è™Ÿï¼Œå…¶é‚è¼¯å°±æ˜¯å…¥é–€ä½¿ç”¨å»£æ’­çš„ä¸€å€‹å°æ¡ˆä¾‹ï¼Œé‚£æˆ‘å€‘æ–°å»ºä¸€å€‹IPCallé …ç›®</p><div class=pgc-img><img alt="Android BroadcastReceiverçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ’¥è™Ÿï¼ŒçŸ­ä¿¡ï¼ŒSDå¡ï¼Œé–‹æ©Ÿ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f82b07ea2c934d218d1c1af44d9cc2ed><p class=pgc-img-caption></p></div><p>æˆ‘å€‘æ’¥æ‰“é›»è©±çš„æ™‚å€™ç³»çµ±ç™¼ä¸€å€‹å»£æ’­ï¼Œæˆ‘å€‘æ¥å—åˆ°é€™å€‹å»£æ’­æ‹¿åˆ°è™Ÿç¢¼ä¿®æ”¹ä¹‹å¾Œå†æ”¾å›å»ï¼Œå°±é”åˆ°äº†æˆ‘å€‘IPæ’¥è™Ÿçš„ç›®çš„ï¼Œæˆ‘å€‘éœ€è¦æ–°å»ºä¸€å€‹Receiver</p><p><strong>CallReceiver</strong></p><p>package com.lgl.ipcall;</p><p>import android.content.BroadcastReceiver;</p><p>import android.content.Context;</p><p>import android.content.Intent;</p><p>import android.util.Log;</p><p>/**</p><p>* é›»è©±å»£æ’­</p><p>* Created by lgl on 16/4/10.</p><p>*/</p><p>public class CallReceiver extends BroadcastReceiver {</p><p>//æ¥æ”¶åˆ°å»£æ’­æ™‚èª¿ç”¨</p><p>@Override</p><p>public void onReceive(Context context, Intent intent) {</p><p>Log.i("CallReceiver", "æ‰“é›»è©±");</p><p>}</p><p>}</p><p>é€™å€‹é¡æš«æ™‚ä¸éœ€è¦åšä»€éº¼ã€‚æœ€é‡è¦çš„é‚„æ˜¯è¨»å†Šï¼Œä½œç‚ºå››å¤§çµ„å»ºï¼Œä»–æ˜¯éœ€è¦åœ¨æ¸…å–®æ–‡ä»¶è£¡è¨»å†Šçš„</p><p>&lt;!--è¨»å†Šå»£æ’­--></p><p>&lt;receiver android:name=".CallReceiver"></p><p>&lt;intent-filter></p><p>&lt;!--å®šç¾©æ¥æ”¶çš„å»£æ’­--></p><p>&lt;action android:name="android.intent.action.NEW_OUTGOING_CALL" /></p><p>&lt;/intent-filter></p><p>&lt;/receiver></p><p>åˆ¥å¿˜äº†ï¼Œä½ ç›£è½äº†ç”¨æˆ¶çš„éš±ç§ï¼Œæ˜¯éœ€è¦æ¬Šé™çš„</p><p>```</p><p>&lt;uses-permission android:name="android.permission.PROCESS_OUTGOING_CALLS" /></p><p>æˆ‘å€‘å…ˆé‹è¡Œä¸€ä¸‹ï¼Œæ‰“å€‹é›»è©±</p><div class=pgc-img><img alt="Android BroadcastReceiverçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ’¥è™Ÿï¼ŒçŸ­ä¿¡ï¼ŒSDå¡ï¼Œé–‹æ©Ÿ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bf2ece73df034cefb3bc113a3e2f5eed><p class=pgc-img-caption></p></div><p>å¥½çš„ï¼Œå»£æ’­æˆ‘å€‘å·²ç¶“æŠ“ä½äº†ï¼Œé‚£æˆ‘å€‘å¯ä»¥é¦–å…ˆç²å–æ‰“å‡ºå»çš„è™Ÿç¢¼</p><p>String iphone = getResultData();</p><p>Log.i("CallReceiver", "é›»è©±è™Ÿç¢¼ï¼š"+iphone);</p><p>é€™æ¨£æˆ‘å€‘å°±å¯ä»¥æ‹¿åˆ°Stringé¡å‹çš„é›»è©±è™Ÿç¢¼äº†</p><div class=pgc-img><img alt="Android BroadcastReceiverçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ’¥è™Ÿï¼ŒçŸ­ä¿¡ï¼ŒSDå¡ï¼Œé–‹æ©Ÿ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/650a5faa792046e0af5df7757bd7aebb><p class=pgc-img-caption></p></div><p>æˆ‘å€‘ç¾åœ¨å¯ä»¥ä¿®æ”¹è™Ÿç¢¼é‡æ–°è¨­ç½®IPæ®µäº†</p><p>//æ·»åŠ IPæ®µ</p><p>String newPhone = "+86" + iphone;</p><p>//æŠŠä¿®æ”¹å¾Œçš„è™Ÿç¢¼æ”¾å›å»</p><p>setResultData(newPhone);</p><p>é€™æ¨£æˆ‘å€‘æ¯æ¬¡æ‰“é›»è©±ä»–éƒ½æœƒè‡ªå‹•å¹«æˆ‘å€‘æ·»åŠ ä¸€å€‹å­—æ®µäº†</p><div class=pgc-img><img alt="Android BroadcastReceiverçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ’¥è™Ÿï¼ŒçŸ­ä¿¡ï¼ŒSDå¡ï¼Œé–‹æ©Ÿ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7b2bc8a8f88c409e9ff01ddd3ea30ce7><p class=pgc-img-caption></p></div><p>å®Œæ•´ä»£ç¢¼</p><p>package com.lgl.ipcall;</p><p>import android.content.BroadcastReceiver;</p><p>import android.content.Context;</p><p>import android.content.Intent;</p><p>import android.util.Log;</p><p>/**</p><p>* é›»è©±å»£æ’­</p><p>* Created by lgl on 16/4/10.</p><p>*/</p><p>public class CallReceiver extends BroadcastReceiver {</p><p>//æ¥æ”¶åˆ°å»£æ’­æ™‚èª¿ç”¨</p><p>@Override</p><p>public void onReceive(Context context, Intent intent) {</p><p>Log.i("CallReceiver", "æ‰“é›»è©±");</p><p>String iphone = getResultData();</p><p>Log.i("CallReceiver", "é›»è©±è™Ÿç¢¼ï¼š" + iphone);</p><p>//æ·»åŠ IPæ®µ</p><p>String newPhone = "+86" + iphone;</p><p>//æŠŠä¿®æ”¹å¾Œçš„è™Ÿç¢¼æ”¾å›å»</p><p>setResultData(newPhone);</p><p>}</p><p>}</p><h1>2.çŸ­ä¿¡æ””æˆªå™¨</h1><p>ç³»çµ±å—åˆ°äº†ä¸€æ¢çŸ­ä¿¡å¾Œï¼Œä¹Ÿæ˜¯æœƒç™¼ä¸€æ¢å»£æ’­çš„ï¼Œæ‰€æœ‰æˆ‘å€‘å¯ä»¥åœ¨ä¸­é–“å¯«ä¸€å€‹å»£æ’­æ¥å—è€…å»é€²è¡Œæˆ‘å€‘çš„æ“ä½œï¼Œé€™è£¡ï¼Œæˆ‘å€‘ç¹¼çºŒåœ¨IPæ’¥è™Ÿå™¨é€™å€‹é …ç›®ä¸­å¯«å§ï¼Œå°±ä¸æ–°å»ºé …ç›®äº†ï¼Œä¸ç„¶ç­‰ä¸‹ä¸Šå‚³ä¹Ÿéº»ç…©</p><p>æˆ‘å€‘æ–°å»ºä¸€å€‹Classâ€”â€”SMSReceiverï¼Œé‡å¯«ä»–çš„onReceiveæ–¹æ³•ï¼Œç„¶å¾Œæˆ‘å€‘å…ˆè¨»å†Š</p><p>&lt;!--è¨»å†Šå»£æ’­--></p><p>&lt;receiver android:name=".SMSReceiver"></p><p>&lt;intent-filter></p><p>&lt;!--å®šç¾©æ¥æ”¶çš„å»£æ’­,è¢«Googleéš±è—çš„æ¬Šé™æ“ä½œ--></p><p>&lt;action android:name="android.provider.Telephony.SMS_RECEIVED" /></p><p>&lt;/intent-filter></p><p>&lt;/receiver></p><p>åˆ‡è¨˜,æ¬Šé™</p><p>&lt;uses-permission android:name="android.permission.RECEIVE_SMS" /></p><p><strong>SMSReceiver</strong></p><p>package com.lgl.ipcall;</p><p>import android.content.BroadcastReceiver;</p><p>import android.content.Context;</p><p>import android.content.Intent;</p><p>import android.os.Bundle;</p><p>import android.telephony.SmsMessage;</p><p>import android.util.Log;</p><p>/**</p><p>* çŸ­ä¿¡æ””æˆªå™¨</p><p>* Created by lgl on 16/4/10.</p><p>*/</p><p>public class SMSReceiver extends BroadcastReceiver {</p><p>@Override</p><p>public void onReceive(Context context, Intent intent) {</p><p>System.out.println("æ”¶åˆ°çŸ­ä¿¡");</p><p>//ç²å–çŸ­ä¿¡å…§å®¹</p><p>Bundle bundle = intent.getExtras();</p><p>//è¿”å›çš„æ˜¯ä¸€å€‹Objectæ•¸çµ„</p><p>Object[] objects = (Object[]) bundle.get("pdus");</p><p>//éæ­·æ•¸çµ„å¾—åˆ°çŸ­ä¿¡å…§å®¹</p><p>for (Object object : objects) {</p><p>//æŠŠæ•¸çµ„å…ƒç´ è½‰æ›æˆçŸ­ä¿¡å°è±¡</p><p>SmsMessage sms = SmsMessage.createFromPdu((byte[]) object);</p><p>//ç²å–ç™¼ä»¶äººè™Ÿç¢¼</p><p>String toPhone = sms.getOriginatingAddress();</p><p>//ç²å–çŸ­ä¿¡å…§å®¹</p><p>String smsContent = sms.getMessageBody();</p><p>Log.i("SMSReceiver", "ç™¼ä»¶äººè™Ÿç¢¼:" + toPhone + "çŸ­ä¿¡å…§å®¹" + smsContent);</p><p>//åˆ¤æ–·æ˜¯å¦æ˜¯æ””æˆªçš„è™Ÿç¢¼</p><p>if (toPhone.equals("12345678910")) {</p><p>//æ””æˆªå»£æ’­</p><p>abortBroadcast();</p><p>}</p><p>}</p><p>}</p><p>}</p><p>é€™æ¨£æˆ‘å€‘é‹è¡Œä¹‹ä¸‹ï¼Œä½ æœƒç™¼ç¾ï¼Œé›–ç„¶èµ°åˆ°æ””æˆªé€™ä¸€æ­¥ï¼Œä½†æ˜¯ä¸¦æ²’æœ‰é˜»æ­¢é¡¯ç¤ºåœ¨çŸ­ä¿¡æ”¶ä»¶ç®±è£¡ï¼Œé€™è£¡ï¼Œæˆ‘å€‘è¦æ³¨æ„ä¸€å€‹å„ªå‹¢ï¼Œå°±æ˜¯å»£æ’­æ¥æ”¶è€…æ˜¯æœ‰å„ªå…ˆç´šå®šç¾©çš„ï¼Œæˆ‘å€‘åªéœ€è¦åœ¨æ¸…å–®è¨»å†Šæ ¹ç¯€é»çš„intent-filteræ¨™ç±¤è£¡å®šç¾©ä¸€å€‹</p><p>android:priority="1000"</p><p>å®˜æ–¹æ–‡æª”æ˜¯èªªæ•¸å€¼åœ¨-1000åˆ°1000ä¹‹é–“ï¼Œä½†æ˜¯æœ€é«˜æ”¯æŒintçš„æœ€å¤§å€¼çš„æ¬Šé™ï¼Œintæœ€å¤§å€¼æ˜¯å¤šå°‘ï¼Ÿè‡ªå·±å»çœ‹API</p><h1>3.ç›£è½SDå¡</h1><p>>æˆ‘å€‘åœ¨å°SDå¡é€²è¡Œè®€å¯«çš„æ™‚å€™æœƒç”¨åˆ°ï¼Œå…¶å¯¦ä¹Ÿå°±æ˜¯éå›ºä¸€ä¸‹å°å»£æ’­çš„ä½¿ç”¨ï¼Œåšé‚£ç¨®èªéŸ³åŠ©æ‰‹ä¹‹é¡çš„è¼”åŠ©è»Ÿä»¶ï¼Œå»£æ’­å’Œæœå‹™é‚„æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œæˆ‘å€‘é‚„æ˜¯å®šç¾©ä¸€å€‹SDReceiverä¸¦ä¸”åœ¨æ¸…å–®æ–‡ä»¶è¨»å†Š</p><p>&lt;!--è¨»å†Šå»£æ’­--></p><p>&lt;receiver android:name=".SDReceiver"></p><p>&lt;intent-filter></p><p>&lt;!--SDå¡å°±ç·’å»£æ’­--></p><p>&lt;action android:name="android.intent.action.MEDIA_MOUNTED" /></p><p>&lt;!--SDå¡æ‹”å‡ºå»£æ’­--></p><p>&lt;action android:name="android.intent.action.MEDIA_REMOVED" /></p><p>&lt;!--SDå¡å¸è¼‰å»£æ’­--></p><p>&lt;action android:name="android.intent.action.MEDIA_UNMOUNTABLE" /></p><p>&lt;data android:scheme="file"/></p><p>&lt;/intent-filter></p><p>&lt;/receiver></p><p>æˆ‘å€‘ç¾åœ¨å¯ä»¥ç›£è½äº†</p><p><strong>SDReceiver</strong></p><p>package com.lgl.ipcall;</p><p>import android.content.BroadcastReceiver;</p><p>import android.content.Context;</p><p>import android.content.Intent;</p><p>import android.util.Log;</p><p>/**</p><p>* ç›£è½SDå¡</p><p>* Created by lgl on 16/4/10.</p><p>*/</p><p>public class SDReceiver extends BroadcastReceiver {</p><p>@Override</p><p>public void onReceive(Context context, Intent intent) {</p><p>//åˆ¤æ–·å»£æ’­</p><p>String action = intent.getAction();</p><p>if (action.equals(Intent.ACTION_MEDIA_MOUNTED)) {</p><p>Log.i("SDReceiver", "SDå¡å°±ç·’");</p><p>} else if (action.equals(Intent.ACTION_MEDIA_REMOVED)) {</p><p>Log.i("SDReceiver", "SDå¡æ‹”å‡º");</p><p>} else if (action.equals(Intent.ACTION_MEDIA_UNMOUNTABLE)) {</p><p>Log.i("SDReceiver", "SDå¡å¸è¼‰");</p><p>}</p><p>}</p><p>}</p><p><strong>4.æµæ°“è»Ÿä»¶</strong></p><p>æˆ‘å€‘ç›£è½åˆ°é–‹æ©Ÿå°±å•Ÿå‹•é€™å€‹è»Ÿä»¶ï¼Œè€Œä¸”ä¸è®“å…¶é€€å‡ºï¼Œé”åˆ°æµæ°“çš„æ•ˆæœ</p><div class=pgc-img><img alt="Android BroadcastReceiverçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ’¥è™Ÿï¼ŒçŸ­ä¿¡ï¼ŒSDå¡ï¼Œé–‹æ©Ÿ" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/9fce07e7f798481baaa1da53a1a1b7a7><p class=pgc-img-caption></p></div><p>å…ˆä¸è®“ä»–é€€å‡ºï¼Œæˆ‘å€‘åœ¨MainActivityä¸­</p><p>@Override</p><p>public void onBackPressed() {</p><p>//ç¦æ­¢è¿”å›éµ</p><p>// super.onBackPressed();</p><p>}</p><p>åªè¦ä½ ä¸€å®‰è£ï¼Œå°±é€€å‡ºä¸äº†äº†ï¼Œæˆ‘å€‘å†è¨­ç½®ä¸€ä¸‹é–‹æ©Ÿå•Ÿå‹•ï¼Œå¯«ä¸€å€‹ç›£è½å™¨å‹•çš„å»£æ’­ç½·äº†ï¼Œæˆ‘å€‘æ–°å»ºä¸€å€‹RebootReceiver,å…ˆè¨»å†Šå§</p><p>&lt;!--è¨»å†Šå»£æ’­--></p><p>&lt;receiver android:name=".RebootReceiver"></p><p>&lt;intent-filter></p><p>&lt;!--å®šç¾©æ¥æ”¶çš„å»£æ’­--></p><p>&lt;action android:name="android.intent.action.BOOT_COMPLETED" /></p><p>&lt;/intent-filter></p><p>&lt;/receiver></p><p>é€™å€‹ä¹Ÿæ˜¯éœ€è¦æ¬Šé™çš„</p><p>&lt;uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/></p><p><strong>RebootReceiver</strong></p><p>package com.lgl.ipcall;</p><p>import android.content.BroadcastReceiver;</p><p>import android.content.Context;</p><p>import android.content.Intent;</p><p>import android.util.Log;</p><p>/**</p><p>* é–‹æ©Ÿå•Ÿå‹•</p><p>* Created by lgl on 16/4/10.</p><p>*/</p><p>public class RebootReceiver extends BroadcastReceiver {</p><p>@Override</p><p>public void onReceive(Context context, Intent intent) {</p><p>Log.i("RebootReceiver", "é–‹æ©Ÿ");</p><p>//å•Ÿå‹•</p><p>Intent i = new Intent(context, MainActivity.class);</p><p>//åœ¨Activityä¹‹å¤–å•Ÿå‹•éœ€è¦è¨­ç½®Flags</p><p>i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</p><p>context.startActivity(i);</p><p>}</p><p>}</p><h1>5.æ‡‰ç”¨å®‰è£å¸è¼‰ç›£è½</h1><p>æˆ‘å€‘å¦‚æœåšæ‰‹æ©ŸåŠ©æ‰‹æˆ–è€…æ‡‰ç”¨çš„æ™‚å€™æˆ–è¨±å¯ä»¥ç”¨å¾—ä¸Šé€™ç©æ„ï¼Œæ–°å»ºä¸€å€‹APPReceiverï¼Œç„¶å¾Œå»è¨»å†Š</p><p>&lt;!--è¨»å†Šå»£æ’­--></p><p>&lt;receiver android:name=".APPReceiver"></p><p>&lt;intent-filter></p><p>&lt;!--å®‰è£æ‡‰ç”¨--></p><p>&lt;action android:name="android.intent.action.PACKAGE_ADDED" /></p><p>&lt;!--æ›´æ–°æ‡‰ç”¨--></p><p>&lt;action android:name="android.intent.action.PACKAGE_REPLACED" /></p><p>&lt;!--å¸è¼‰æ‡‰ç”¨--></p><p>&lt;action android:name="android.intent.action.PACKAGE_REMOVED" /></p><p>&lt;!--æ”œå¸¶åŒ…å--></p><p>&lt;data android:scheme="package"/></p><p>&lt;/intent-filter></p><p>&lt;/receiver></p><p>ç„¶å¾Œæˆ‘å€‘ä¾†åˆ¤æ–·</p><p>package com.lgl.ipcall;</p><p>import android.content.BroadcastReceiver;</p><p>import android.content.Context;</p><p>import android.content.Intent;</p><p>import android.net.Uri;</p><p>import android.util.Log;</p><p>/**</p><p>* Created by lgl on 16/4/10.</p><p>*/</p><p>public class APPReceiver extends BroadcastReceiver {</p><p>@Override</p><p>public void onReceive(Context context, Intent intent) {</p><p>//åˆ¤æ–·å»£æ’­é¡å‹</p><p>String action = intent.getAction();</p><p>//ç²å–åŒ…å</p><p>Uri appName = intent.getData();</p><p>if (Intent.ACTION_PACKAGE_ADDED.equals(action)) {</p><p>Log.i("APPReceiver", "å®‰è£" + appName);</p><p>} else if (Intent.ACTION_PACKAGE_REPLACED.equals(action)) {</p><p>Log.i("APPReceiver", "æ›´æ–°" + appName);</p><p>} else if (Intent.ACTION_PACKAGE_REMOVED.equals(action)) {</p><p>Log.i("APPReceiver", "å¸è¼‰" + appName);</p><p>}</p><p>}</p><p>}</p><p>é€™æ¨£æˆ‘å€‘å®Œå…¨å°±å¯ä»¥ç›£è½ç‹€æ…‹äº†ï¼Œæˆ‘å€‘ä»¥ä¸‹è¼‰ä¸€å€‹è±Œè±†è¢ç‚ºä¾‹</p><div class=pgc-img><img alt="Android BroadcastReceiverçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ’¥è™Ÿï¼ŒçŸ­ä¿¡ï¼ŒSDå¡ï¼Œé–‹æ©Ÿ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d03c5e3fa04c4803a99db2dcbab2d423><p class=pgc-img-caption></p></div><h1>6.è‡ªå®šç¾©å»£æ’­</h1><p>é€™è£¡ï¼Œæˆ‘å€‘æœ‰ç‰¹å®šéœ€æ±‚çš„æ™‚å€™æœƒç”¨ï¼Œæˆ‘å€‘å…ˆå®šç¾©ä¸€å€‹Button</p><p>&lt;Button</p><p>android:id="@+id/btn_myreceiver"</p><p>android:layout_width="wrap_content"</p><p>android:layout_height="wrap_content"</p><p>android:text="ç™¼é€è‡ªå®šç¾©å»£æ’­" /></p><p>ä»–çš„é»æ“Šäº‹ä»¶å°±æ˜¯ç™¼é€ä¸€å€‹å»£æ’­ï¼Œæˆ‘é€™è£¡è‡ªå®šç¾©ä¸€å€‹å»£æ’­åå­—liuguilin</p><p>case R.id.btn_myreceiver:</p><p>Intent i = new Intent();</p><p>i.setAction("liuguilin");</p><p>sendBroadcast(i);</p><p>break;</p><p>ç„¶å¾Œæˆ‘å€‘æ–°å»ºä¸€å€‹MyReceiver,è¨»å†Š</p><p>&lt;receiver android:name=".MyReceiver"></p><p>&lt;intent-filter></p><p>&lt;!--è‡ªå®šç¾©å»£æ’­--></p><p>&lt;action android:name="liuguilin" /></p><p>&lt;/intent-filter></p><p>&lt;/receiver></p><p>æˆ‘å€‘å¯«å€‹æ‰“å°èªå¥</p><div class=pgc-img><img alt="Android BroadcastReceiverçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ’¥è™Ÿï¼ŒçŸ­ä¿¡ï¼ŒSDå¡ï¼Œé–‹æ©Ÿ" onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/2aae9314daf947b7a2fae463af8cb01f><p class=pgc-img-caption></p></div><h1>7.æœ‰åºå»£æ’­å’Œç„¡åºå»£æ’­</h1><p>é€™å…©ç¨®å»£æ’­çš„å€åˆ¥</p><p>- æœ‰åºå»£æ’­ï¼šæ¥æ”¶é€™æ¢å»£æ’­æ˜¯æŒ‰å„ªå…ˆç´šä¾†çš„</p><p>- ç„¡åºå»£æ’­ï¼šç„¡æ¢ä»¶ç›´æ¥æ¥æ”¶</p><p>-1.ç™¼é€æœ‰åºå»£æ’­</p><p>>æˆ‘å€‘å®šç¾©ä¸€å€‹Button</p><p>&lt;Button</p><p>android:id="@+id/btn_haveorder"</p><p>android:layout_width="wrap_content"</p><p>android:layout_height="wrap_content"</p><p>android:text="ç™¼é€æœ‰åºå»£æ’­" /></p><p>ç„¶å¾Œç™¼é€ä¸€å€‹å»£æ’­</p><p>case R.id.btn_haveorder:</p><p>Intent intent = new Intent();</p><p>intent.setAction("com.lgl.good");</p><p>//æœ‰åºå»£æ’­ä¸¦ä¸”æ”œå¸¶æ•¸æ“š</p><p>sendOrderedBroadcast(intent, null, null, null, 0, "è‡ªå®šç¾©å»£æ’­å…§å®¹", null);</p><p>break;</p><p>é€™è£¡æˆ‘å®šç¾©äº†ä¸‰å€‹å»£æ’­ï¼Œç„¶å¾Œä»–å€‘çš„å„ªå…ˆç´šåˆ†è¾¨æ˜¯1000ï¼Œ600ï¼Œ300</p><p>&lt;!--æœ‰åºå»£æ’­--></p><p>&lt;receiver android:name=".OrderReceiver"></p><p>&lt;intent-filter android:priority="1000"></p><p>&lt;action android:name="com.lgl.good"/></p><p>&lt;/intent-filter></p><p>&lt;/receiver></p><p>&lt;!--æœ‰åºå»£æ’­--></p><p>&lt;receiver android:name=".OrderReceiverTwo"></p><p>&lt;intent-filter android:priority="600"></p><p>&lt;action android:name="com.lgl.good"/></p><p>&lt;/intent-filter></p><p>&lt;/receiver></p><p>&lt;!--æœ‰åºå»£æ’­--></p><p>&lt;receiver android:name=".OrderReceiverThree"></p><p>&lt;intent-filter android:priority="300"></p><p>&lt;action android:name="com.lgl.good"/></p><p>&lt;/intent-filter></p><p>&lt;/receiver></p><p>æœ€å¾Œé‹è¡Œçš„çµæœ</p><div class=pgc-img><img alt="Android BroadcastReceiverçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ’¥è™Ÿï¼ŒçŸ­ä¿¡ï¼ŒSDå¡ï¼Œé–‹æ©Ÿ" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f28fb221fe0848af8d05075df6eebfba><p class=pgc-img-caption></p></div><p>Demoä¸‹è¼‰ï¼šhttp://download.csdn.net/detail/qq_26787115/9486705</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Android</a></li><li><a>BroadcastReceiver</a></li><li><a>æ’¥è™Ÿ</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/c1058aa2.html alt="Android Qä¸‹ANGLEåœ–å½¢å¼•æ“æ€§èƒ½æ¸¬è©¦  ã€Œè¾²æ­¥ç¥¥ã€" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RXTy8D7HmsBWr1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c1058aa2.html title="Android Qä¸‹ANGLEåœ–å½¢å¼•æ“æ€§èƒ½æ¸¬è©¦  ã€Œè¾²æ­¥ç¥¥ã€">Android Qä¸‹ANGLEåœ–å½¢å¼•æ“æ€§èƒ½æ¸¬è©¦ ã€Œè¾²æ­¥ç¥¥ã€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0ac13623.html alt="Android 11åŠ å…¥æ–°åŠŸèƒ½ï¼šé•·æœŸä¸ç”¨çš„APPè‡ªå‹•é—œé–‰æ•æ„Ÿæ¬Šé™" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/Rx4J9h84rlZBze style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0ac13623.html title="Android 11åŠ å…¥æ–°åŠŸèƒ½ï¼šé•·æœŸä¸ç”¨çš„APPè‡ªå‹•é—œé–‰æ•æ„Ÿæ¬Šé™">Android 11åŠ å…¥æ–°åŠŸèƒ½ï¼šé•·æœŸä¸ç”¨çš„APPè‡ªå‹•é—œé–‰æ•æ„Ÿæ¬Šé™</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/192b9f57.html alt="Androidç‰ˆFirefox 81å°‡å¼•å…¥å¯è‡ªå‹•é—œé–‰èˆŠæ¨™ç±¤é çš„é¸é …" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/SA9N6CXIS75NYa style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/192b9f57.html title="Androidç‰ˆFirefox 81å°‡å¼•å…¥å¯è‡ªå‹•é—œé–‰èˆŠæ¨™ç±¤é çš„é¸é …">Androidç‰ˆFirefox 81å°‡å¼•å…¥å¯è‡ªå‹•é—œé–‰èˆŠæ¨™ç±¤é çš„é¸é …</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e3073c3d.html alt="Androidç«¯Firefox 81å¯å®šæ™‚é—œé–‰ä¸ä½¿ç”¨çš„æ¨™ç±¤é " class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/S9x6jJb18axAim style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e3073c3d.html title="Androidç«¯Firefox 81å¯å®šæ™‚é—œé–‰ä¸ä½¿ç”¨çš„æ¨™ç±¤é ">Androidç«¯Firefox 81å¯å®šæ™‚é—œé–‰ä¸ä½¿ç”¨çš„æ¨™ç±¤é </a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/355ed5a4.html alt=åœ¨Androidä¸­çš„å·¥å…·æ¬„ä¸­æ·»åŠ èœå–® class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a3572ad9d9fb487d8927f703f18179a0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/355ed5a4.html title=åœ¨Androidä¸­çš„å·¥å…·æ¬„ä¸­æ·»åŠ èœå–®>åœ¨Androidä¸­çš„å·¥å…·æ¬„ä¸­æ·»åŠ èœå–®</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b37aac89.html alt=ã€å­¸ç¿’ç­†è¨˜ã€‘Androidé–‹ç™¼ä¹‹kotlinèªè¨€ï¼ˆä¸€ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ee3f9c8348ae4de58a5f62922d2042e1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b37aac89.html title=ã€å­¸ç¿’ç­†è¨˜ã€‘Androidé–‹ç™¼ä¹‹kotlinèªè¨€ï¼ˆä¸€ï¼‰>ã€å­¸ç¿’ç­†è¨˜ã€‘Androidé–‹ç™¼ä¹‹kotlinèªè¨€ï¼ˆä¸€ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/514f2fe0.html alt=Androidé€²éšä¹‹è·¯ä¹‹ç¶²çµ¡ç·¨ç¨‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/R6GseWQ6pTbxvr style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/514f2fe0.html title=Androidé€²éšä¹‹è·¯ä¹‹ç¶²çµ¡ç·¨ç¨‹>Androidé€²éšä¹‹è·¯ä¹‹ç¶²çµ¡ç·¨ç¨‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d258b9eb.html alt="å¾¹åº•å‡çµAndroid æ‡‰ç”¨å¾Œè‡ºæ´»å‹• è®“ä»–å€‘ä¸è€—é›»ã€ä¸è¯ç¶²ã€ä¸å•Ÿå‹•" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/e4fd87bc-b2e5-40e2-841d-2e3dc5f9a2b9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d258b9eb.html title="å¾¹åº•å‡çµAndroid æ‡‰ç”¨å¾Œè‡ºæ´»å‹• è®“ä»–å€‘ä¸è€—é›»ã€ä¸è¯ç¶²ã€ä¸å•Ÿå‹•">å¾¹åº•å‡çµAndroid æ‡‰ç”¨å¾Œè‡ºæ´»å‹• è®“ä»–å€‘ä¸è€—é›»ã€ä¸è¯ç¶²ã€ä¸å•Ÿå‹•</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/68b758a4.html alt="è¨Šé£›è¼¸å…¥æ³•Android V9.1.9465 é‡ç£…å‡ç´šæ‹¼éŸ³æ‰‹å¯«A.I.å¼•æ“" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/RiF18Oh9i8jWPd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/68b758a4.html title="è¨Šé£›è¼¸å…¥æ³•Android V9.1.9465 é‡ç£…å‡ç´šæ‹¼éŸ³æ‰‹å¯«A.I.å¼•æ“">è¨Šé£›è¼¸å…¥æ³•Android V9.1.9465 é‡ç£…å‡ç´šæ‹¼éŸ³æ‰‹å¯«A.I.å¼•æ“</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/03a7881d.html alt="Android 11å…¬é–‹æ¸¬è©¦ç‰ˆæ­£å¼ç™¼ä½ˆï¼Œæ–°å¢äº†å¯¦ç”¨åŠŸèƒ½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/76a9b5ad-e27f-4cea-b8b9-2134bc133e5d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/03a7881d.html title="Android 11å…¬é–‹æ¸¬è©¦ç‰ˆæ­£å¼ç™¼ä½ˆï¼Œæ–°å¢äº†å¯¦ç”¨åŠŸèƒ½">Android 11å…¬é–‹æ¸¬è©¦ç‰ˆæ­£å¼ç™¼ä½ˆï¼Œæ–°å¢äº†å¯¦ç”¨åŠŸèƒ½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/036cb180.html alt="é¦–æ‰¹é©é…ï¼ColorOSæ­£å¼ç™¼ä½ˆAndroid 11é–‹ç™¼è€…æ¸¬è©¦ç‰ˆï¼šæš—è‰²å®šæ™‚ã€è¶…ç´šçœé›»" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/S2cySEvGM5dtxu style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/036cb180.html title="é¦–æ‰¹é©é…ï¼ColorOSæ­£å¼ç™¼ä½ˆAndroid 11é–‹ç™¼è€…æ¸¬è©¦ç‰ˆï¼šæš—è‰²å®šæ™‚ã€è¶…ç´šçœé›»">é¦–æ‰¹é©é…ï¼ColorOSæ­£å¼ç™¼ä½ˆAndroid 11é–‹ç™¼è€…æ¸¬è©¦ç‰ˆï¼šæš—è‰²å®šæ™‚ã€è¶…ç´šçœé›»</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c9e496dd.html alt="Android 11 betaå‡ç´šæ–¹æ³•ï¼Œå¦‚ä½•ç”³è«‹æ¸¬è©¦ç‰ˆæ›´æ–°ï¼Ÿ" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ba850edc544843cab07cecf061a1ffde style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c9e496dd.html title="Android 11 betaå‡ç´šæ–¹æ³•ï¼Œå¦‚ä½•ç”³è«‹æ¸¬è©¦ç‰ˆæ›´æ–°ï¼Ÿ">Android 11 betaå‡ç´šæ–¹æ³•ï¼Œå¦‚ä½•ç”³è«‹æ¸¬è©¦ç‰ˆæ›´æ–°ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c2b5d261.html alt="ä¸‰æ˜Ÿå·²é–‹å§‹Android 11æ¸¬è©¦ï¼šGalaxy S10+é¦–å€‹åšé®®" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RrbBJ1a9L1lUev style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c2b5d261.html title="ä¸‰æ˜Ÿå·²é–‹å§‹Android 11æ¸¬è©¦ï¼šGalaxy S10+é¦–å€‹åšé®®">ä¸‰æ˜Ÿå·²é–‹å§‹Android 11æ¸¬è©¦ï¼šGalaxy S10+é¦–å€‹åšé®®</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0b177ec2.html alt="Android 11æ›´æ–°åª’é«”å­˜å„²API ç¬¬ä¸‰æ–¹Appä¹Ÿå¯ç”¨ä¸Šå›æ”¶ç«™" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/S1fN75RGiuayvJ style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0b177ec2.html title="Android 11æ›´æ–°åª’é«”å­˜å„²API ç¬¬ä¸‰æ–¹Appä¹Ÿå¯ç”¨ä¸Šå›æ”¶ç«™">Android 11æ›´æ–°åª’é«”å­˜å„²API ç¬¬ä¸‰æ–¹Appä¹Ÿå¯ç”¨ä¸Šå›æ”¶ç«™</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f62039ae.html alt="æœ€å…¨çš„ Android æŠ€è¡“æ£§" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/7ba93cad11c848e68c6ad42693acf335 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f62039ae.html title="æœ€å…¨çš„ Android æŠ€è¡“æ£§">æœ€å…¨çš„ Android æŠ€è¡“æ£§</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>