<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>變頻器的MODBUS-RTU模式通訊控制，採用RS指令發送命令內容說明 | 极客快訊</title><meta property="og:title" content="變頻器的MODBUS-RTU模式通訊控制，採用RS指令發送命令內容說明 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/152556864240116cd8a13a7"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c6c73a03.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c6c73a03.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c6c73a03.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c6c73a03.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c6c73a03.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c6c73a03.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c6c73a03.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c6c73a03.html><meta property="article:published_time" content="2020-10-29T21:11:31+08:00"><meta property="article:modified_time" content="2020-10-29T21:11:31+08:00"><meta name=Keywords content><meta name=description content="變頻器的MODBUS-RTU模式通訊控制，採用RS指令發送命令內容說明"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/c6c73a03.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>變頻器的MODBUS-RTU模式通訊控制，採用RS指令發送命令內容說明</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>在前幾篇文章中我們說到了MODBUS的ASCII碼數據模式通訊去控制變頻器，以及RTU模式的CRC校驗碼的PLC計算程序，今天就說下采用RTU數據模式控制變頻器，包括變頻器的調頻、正轉、反轉、停止命令的寫入及運行頻率的讀取。</p><p><strong>先了解下RTU幀的結構：</strong></p><p><strong>幀頭 3.5個字節的通訊時間</strong></p><p><strong>從機地址： 通訊地址0~247, 0代表廣播</strong></p><p><strong>功能碼： 01H、02H、03H等</strong></p><p><strong>數據： 2*N個字節的數據，為通訊的主要內容，包括數據地址、數據內容等。</strong></p><p><strong>CRC 低位： CRC校驗碼</strong></p><p><strong>CRC 高位： CRC校驗碼</strong></p><p><strong>幀尾： 3.5個字節的通訊時間</strong></p><p>在變頻器的控制器，功能碼主要用到兩個03H和06H。</p><p>03H表示主機向變頻器讀取數據，要讀取多少個數據由命令中“數據個數”而定，最多可以讀取 16 個數據。讀取的參數地址必須是連續的。每個數據佔用的字節長度為 2 字節，也即一個字（word）。以下命令格式均以 16 進製表示（數字後跟一個“H”表示 16 進制數字），一個 16 進制佔用一個字節,主要作用是讀取變頻器的參數及工作狀態，比如變頻器的頻率、電壓、電流以及運行狀態(正轉、反轉、停機、故障狀態的監視等)</p><p>06H的命令表示主機向變頻器寫數據，一條命令只能寫一個數據，不能寫多個數據。它的作用是改變變</p><p>頻器的參數及工作方式，比如控制變頻器正反轉、停機，設定頻率、轉矩、加減速時間等。</p><p>我們從主機往從機發送命令後，如果發送成功，從機會返回一個迴應信息，從這個返回信息中可以看出我們想要得到的東西，<strong>這裡說下發送寫命令06H,它的返回信息與發送命令是一樣的，所以我們只有在讀命令03H才用到返回信息。下面我們舉個例子說明發送信息與返回信息。</strong></p><p><strong>03H,從通訊地址為01的變頻器，以地址0004H開始，連續讀取兩個數據內容就是去讀0004H和0005H地址的內容。</strong></p><p><img alt=變頻器的MODBUS-RTU模式通訊控制，採用RS指令發送命令內容說明 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/152556864240116cd8a13a7></p><p class=pgc-img-caption>03H</p><p>從上表看出主機向從機發送命令需要知道從機的地址、功能碼(命令)、數據地址、數據個數、CRC校驗碼，以上例子中我們知道從機的地址是01H，功能碼是讀03H，地址是0004H，拆分成高低位，數據個數是倆個0002H，同樣拆分，最後的CRC校驗碼是根據以上數據計算出來的，數據發送到從機後，從機也根據信息計算一個CRC校驗碼，如果與主機計算的校驗碼一致，則通訊成功，會向從機發送一組返回信號，我們就知道了從變頻器中讀取的信號，例如0004H和0005H地址的數據是5000，0， 那麼返回信息除了地址與命令碼不變， 後面的數據就變成了字節個數、 數據內容了，5000的16進制是1388H， 因此數據內容是高位13H， 低位88H。</p><p>接下來我們舉例子說下英威騰變頻器的相關控制(電機正反轉停止、頻率設定、頻率讀取)</p><p><strong>我們知道正反轉停止、頻率設定是寫指令06H，頻率讀取是讀指令03H，這大家應該清楚。</strong></p><p>由變頻器手冊知道通訊控制的地址為2000H， 正轉數據位0001H， 反轉是0002H， 停機是0005H。</p><p>通訊頻率設定值的地址是2001H， 變頻器運行頻率地址是3000H。</p><p>設置變頻器的站號是01H。</p><p>1、 正轉指令，<strong>01 06 20 00 00 01 67 90</strong></p><p>2、 反轉指令，<strong>01 06 20 00 00 02 81 A7</strong></p><p>3、 停機指令，<strong>01 06 20 00 00 02 C0 65</strong></p><p>4、 設定頻率，<strong>01 06 20 01 0B B8 56 E4</strong> <strong>(設置變頻器30.00Hz運行)</strong></p><p>5、 運行頻率，<strong>01 03 30 00 00 01 8B 0A (返回信息，01 03 02 0B B8 BF 06)</strong></p><p><strong>以上指令是否明白？</strong></p><p><strong>那麼上面的清楚後，</strong> 如何在PLC發送這些指令呢， 這裡我們採用RS指令完成。</p><p>RS指令在以前的MODBUS-ASCII碼通訊文章也說過， 指令格式是RS S m D n， 發送以S為開始的m個數據， 接受以D為開始的n個數據。 比如發送正轉指令，RS D0 K8 D20 K8，D0 D1 D2 D3 D4 D5 D6 D7是發送數據，D20 D21 D22 D23 D24 D25 D26 D27是接受數據，D0的內容是01，D1是06 ， 依此論推下去，接受信息與發送數據一致。</p><p>下面看下實際例子：</p><p><img alt=變頻器的MODBUS-RTU模式通訊控制，採用RS指令發送命令內容說明 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15255736884614a9050fb9e></p><p class=pgc-img-caption>系統連接</p><p><img alt=變頻器的MODBUS-RTU模式通訊控制，採用RS指令發送命令內容說明 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/1525573912831a7eceebe0f></p><p class=pgc-img-caption>正轉指令</p><p><img alt=變頻器的MODBUS-RTU模式通訊控制，採用RS指令發送命令內容說明 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/1525573998426299a87e602></p><p class=pgc-img-caption>反轉指</p><p><img alt=變頻器的MODBUS-RTU模式通訊控制，採用RS指令發送命令內容說明 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/15255740773672f9cac6c1f></p><p class=pgc-img-caption>停止指令</p><p><img alt=變頻器的MODBUS-RTU模式通訊控制，採用RS指令發送命令內容說明 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/15255741110418842f31c0b></p><p class=pgc-img-caption>頻率讀取指令</p><p>從以上的圖中看出， 寫入指令的發送和接受都是一樣的， 讀取指令的接受數據就不一樣了， 就比如頻率讀取指令返回的信息中就沒有地址數據， 它的返回數據就是字節個數2， 數據內容07 D0， 轉換成十進制就是2000， 也就是20.00Hz， 這在PLC編程時候需要注意。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>變頻器</a></li><li><a>MODBUS</a></li><li><a>RTU</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/5bfbc1d2.html alt=變頻器的接線方法最新最全解析，這篇文章讓你一目瞭然-民熔 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/2dc15d22cc2447e9ab896c91f41bf33b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5bfbc1d2.html title=變頻器的接線方法最新最全解析，這篇文章讓你一目瞭然-民熔>變頻器的接線方法最新最全解析，這篇文章讓你一目瞭然-民熔</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/413979ef.html alt=變頻器沒有被髮明前，電機是如何進行調速的？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1c8d748fd0004a95bb48f2a33bab5360 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/413979ef.html title=變頻器沒有被髮明前，電機是如何進行調速的？>變頻器沒有被髮明前，電機是如何進行調速的？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a2a98827.html alt=PLC怎麼控制變頻器由變頻到工頻的自動切換，老電工提出2個方案！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1530707100445198ff8a761 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a2a98827.html title=PLC怎麼控制變頻器由變頻到工頻的自動切換，老電工提出2個方案！>PLC怎麼控制變頻器由變頻到工頻的自動切換，老電工提出2個方案！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b505e16c.html alt=VM1000系列變頻器在鋼絲壓扁機上的應用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/0cc7f2021f7544648daeb0b1f37ac543 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b505e16c.html title=VM1000系列變頻器在鋼絲壓扁機上的應用>VM1000系列變頻器在鋼絲壓扁機上的應用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/988e8e8a.html alt=高性能大功率變頻器在熱軋領域的應用及思考 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/RqMPmEn3BDkOIC style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/988e8e8a.html title=高性能大功率變頻器在熱軋領域的應用及思考>高性能大功率變頻器在熱軋領域的應用及思考</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2748ce2d.html alt=變頻器、減速機、電機、負載、轉矩、轉速之間的負載關係 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/97585cade4264c29bd4f4a51dab32fc6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2748ce2d.html title=變頻器、減速機、電機、負載、轉矩、轉速之間的負載關係>變頻器、減速機、電機、負載、轉矩、轉速之間的負載關係</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f93368d8.html alt=變頻器及電機應用關鍵技術講解（下） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/85509724cb3f4a47a98582bc2fef70c3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f93368d8.html title=變頻器及電機應用關鍵技術講解（下）>變頻器及電機應用關鍵技術講解（下）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/eedcaca0.html alt=變頻器和電機軟起動器不懂？民熔大牛總結帶你走進變頻器世界 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9a1abb6265bb4398b765e78e300748a5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/eedcaca0.html title=變頻器和電機軟起動器不懂？民熔大牛總結帶你走進變頻器世界>變頻器和電機軟起動器不懂？民熔大牛總結帶你走進變頻器世界</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/096ec329.html alt=變頻器和電機軟起動器知識，變頻器和電機匹配關係確定 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1540365605171517f7c4c08 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/096ec329.html title=變頻器和電機軟起動器知識，變頻器和電機匹配關係確定>變頻器和電機軟起動器知識，變頻器和電機匹配關係確定</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/62db0992.html alt=變頻器選型，如何根據負載特性選擇合適的變頻器？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/90b87c06a5f34b70a6bf3563c2bc5625 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/62db0992.html title=變頻器選型，如何根據負載特性選擇合適的變頻器？>變頻器選型，如何根據負載特性選擇合適的變頻器？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/99922865.html alt=防止變頻器干擾-變頻器專用電纜是有必要的 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1536502163082afede4579a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/99922865.html title=防止變頻器干擾-變頻器專用電纜是有必要的>防止變頻器干擾-變頻器專用電纜是有必要的</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4db0bf42.html alt=西門子G120變頻器在我們工作中常常會遇到的故障處理方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4db0bf42.html title=西門子G120變頻器在我們工作中常常會遇到的故障處理方法>西門子G120變頻器在我們工作中常常會遇到的故障處理方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/dc49b72f.html alt=變頻器對交流感應電機的速度和頻率控制 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/802c9e28bfc142c19a9bf8f5a6bf2336 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/dc49b72f.html title=變頻器對交流感應電機的速度和頻率控制>變頻器對交流感應電機的速度和頻率控制</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ff8b4986.html alt=變頻器的安裝維護及故障處理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/284911a901c14726ae19f37a1552f4c9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ff8b4986.html title=變頻器的安裝維護及故障處理>變頻器的安裝維護及故障處理</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/deb01cbd.html alt=變頻器的故障檢測及維修 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f0c8b9309292495a9ab22e84de51b96f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/deb01cbd.html title=變頻器的故障檢測及維修>變頻器的故障檢測及維修</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>