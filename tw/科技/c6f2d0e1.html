<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>進階Python，從編寫Python函數開始 | 极客快訊</title><meta property="og:title" content="進階Python，從編寫Python函數開始 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/51b384b607d04e45b26f4204be770617"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c6f2d0e1.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c6f2d0e1.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c6f2d0e1.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c6f2d0e1.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c6f2d0e1.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c6f2d0e1.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c6f2d0e1.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c6f2d0e1.html><meta property="article:published_time" content="2020-11-14T21:00:48+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:48+08:00"><meta name=Keywords content><meta name=description content="進階Python，從編寫Python函數開始"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/c6f2d0e1.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>進階Python，從編寫Python函數開始</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>好多同學都有這樣的疑惑，我學習了python的基礎語法，那麼具體應用該從哪裡入手呢？首先大家要確定，代碼必須用起來才能越來越熟練！讀懂十行代碼不如自己親自上手編寫一行！代碼想熟練最好的方法就是能夠通過代碼解決工作中的實際問題，例如完成UI自動化測試、接口測試、創建測試數據、構建測試環境、清理數據環境等等。上述這些場景我們都可以從把要解決的問題封裝成函數開始，例如我用ui自動化進行登陸，可以把登陸的幾行代碼封裝成函數login(p_user,p_pwd)，做接口測試可以把常用的get和post方法封裝成 get（p_url）和post（p_url，p_data）。在這裡我會詳細的講解python中關於函數的基礎知識，最後以selenium 進行百度搜索為例來講解自動化測試中如何把具體業務封裝成方法實現代碼複用，相信大家一定會有所收穫！​</p><div class=pgc-img><img alt=進階Python，從編寫Python函數開始 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/51b384b607d04e45b26f4204be770617><p class=pgc-img-caption></p></div><h1 class=pgc-h-arrow-right>函數基礎知識</h1><p>函數的本質就是代碼複用，在面向對象中把函數稱為方法。Python提供了許多內建函數，比如</p><p>print()。我們也可以自己創建函數，這被叫做用戶自定義函數。以下是函數定義的簡單規則：</p><ul><li>函數代碼塊以def關鍵詞開頭，後接函數標識符名稱和圓括號()。</li><li>圓括號之間用於定義參數。</li><li>函數內容以冒號起始，並且縮進。</li><li>return [表達式] 結束函數，選擇性地返回一個值給調用方。不帶表達式的return相當於返回None</li></ul><p>例如：</p><pre><code>def func():       print("函數實例")func()</code></pre><p>輸出結果是：</p><p>函數實例</p><h1 class=pgc-h-arrow-right>函數的參數</h1><p>形參和實參</p><p>定義一個帶參數的函數，如下：</p><pre><code>def func_para(p_str):       print(p_str)</code></pre><p>在函數func_para中，p_str就是一個形參，也就是形式參數，是用來接收調用函數時傳入的參數，你傳的是什麼它就是什麼。實參就是實際參數，在調用函數的時候，傳遞是Kevin，那麼Kevin就是實參，傳遞的是Mike，那麼Mike也是實參，實參傳遞給函數後，會賦值給函數中的形參</p><p>把實參Kevin，賦值給函數，即func_para(“Kevin”)，輸出結果是Kevin</p><p>把實參Mike，賦值給函數，即func_para(“Mike”)，輸出結果是Mike</p><h1 class=pgc-h-arrow-right>函數的返回值</h1><p>調用方運行函數會得到一個值。首先說明，所有的函數都是有返回值的，如果編程人員沒有指定返回值，那默認會返回None。</p><p>例如：</p><pre><code>def func_return(p_str):    return p_strstr=func_return (“Kevin”)print(str)</code></pre><p>運行結果</p><p>Kevin</p><h1 class=pgc-h-arrow-right>函數高級用法</h1><p>以上是python中函數最基礎的定義，相信絕大多數同學都知道，接下來我會給大家介紹一些在python中函數的高級用法</p><h1 class=pgc-h-arrow-right>參數的默認值</h1><p>python允許我們給函數的形參設置一個默認值，不傳參數調用的話，就統一默認是這個值。</p><pre><code>def func_default(name='kevin'):      print("名字是"+name)func_default()func_default("mike")</code></pre><p>輸出：</p><p>名字是kevin</p><p>名字是mike</p><h1 class=pgc-h-arrow-right>關鍵字參數</h1><p>關鍵字參數讓你可以不用考慮函數的參數位置，你需以鍵值對的形式指定參數的對應形參。</p><pre><code>def func_key(name,age):       print("你好"+ name+", 你的年齡是"+age+" !")func_key(age='38',name='kevin')</code></pre><p>輸出：</p><p>你好kevin, 你的年齡是38 !</p><h1 class=pgc-h-arrow-right>不固定長度參數</h1><p>有時候我們需要允許用戶提供任意數量的參數，函數的形參可以帶個星號來接收，不管調用函數的時候傳遞了多少實參，都將被收集到形參這個變量當中，形參的類型是元組。例如：</p><pre><code>def fun_unfixedlength_1 (*args):        print(args)fun_unfixedlength_1 ('kevin','38','67674297')</code></pre><p>輸出</p><p>('kevin', '38', '67674297')</p><p>還有一種是帶兩個星號的形參，用於接收鍵值對形式的實參，導入到函數中的類型是字典。</p><pre><code>def fun_unfixedlength_2 (**args):      print(args)fun_unfixedlength_2(name='kevin',age='38',qq='67674297')</code></pre><p>輸出</p><p>{'name': 'kevin', 'age':'38', 'qq': '67674297'}</p><h1 class=pgc-h-arrow-right>匿名函數</h1><p>匿名函數就是不用走正常函數定義的流程，可以直接定義一個簡單的函數並把函數本身賦值給一個變量，使得這個變量可以像函數一樣被調用，在python中可以用lambda關鍵字來申明定義一個匿名函數。例如</p><pre><code>lambda_demo = lambda first_name,last_name : first_name + " "+last_namename = lambda_demo('kevin','li')print(name)</code></pre><p>輸出kevin li</p><h1 class=pgc-h-arrow-right>函數實際應用</h1><p>最後我結合ui自動化測試給大家舉一個函數在測試工作中的實際應用。我們以selenium 進行百度搜索為例，selenium的核心代碼如下：</p><pre><code>driver.get("https://www.baidu.com/")driver.find_element_by_id("kw").clear()driver.find_element_by_id("kw").send_keys("selenium")  #輸入框輸入seleniumdriver.find_element_by_id("su").click()  #點擊搜索按鈕</code></pre><p>備註：我的頭條中有很多文章講解了關於selenium應用的具體方法，在這裡就不再贅述了。可以參考：</p><p><a class=pgc-link data-content=mp data-source=innerLink href="https://www.toutiao.com/i6814273245932421646/?group_id=6814273245932421646" rel="noopener noreferrer" target=_blank>一文搞定Java和Python在Selenium3中的應用</a></p><p><a class=pgc-link data-content=mp data-source=innerLink href="https://www.toutiao.com/i6753428544564494862/?group_id=6753428544564494862" rel="noopener noreferrer" target=_blank>Selenium原理精講</a></p><p>場景分析：由於搜索的關鍵字是千變萬化的，而進行搜索的動作是固定的，即：打開百度網頁>在輸入框輸入關鍵字>點擊百度一下搜索按鈕。所以我們可以把該場景編寫為函數，用一個函數來處理進行各種關鍵字搜索的需求。核心代碼實現如下：</p><pre><code>def baidu_search(p_key):    driver.get("https://www.baidu.com/")    driver.find_element_by_id("kw").clear()    driver.find_element_by_id("kw").send_keys(p_key)  # 輸入框輸入selenium    driver.find_element_by_id("su").click()  # 點擊搜索按鈕</code></pre><p>如果大家想通過函數來檢查是否找到了需要搜索的關鍵字，那麼可以對函數進行改進，如果在搜索結果頁面中出現了“百度為您找到相關結果約*個”的文字證明搜索到了關鍵字返回True，否則返回</p><p>False，如下圖所示：</p><div class=pgc-img><img alt=進階Python，從編寫Python函數開始 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/9cf10c2435254728a12f7dd3a8301728><p class=pgc-img-caption></p></div><p>改進後的代碼方法如下：</p><pre><code>def baidu_search(p_key):    driver.get("https://www.baidu.com/")    driver.find_element_by_id("kw").clear()    driver.find_element_by_id("kw").send_keys(p_key)  # 輸入框輸入selenium    driver.find_element_by_id("su").click()  # 點擊搜索按鈕    time.sleep(3)try:       result=driver.find_elements_by_class_name("nums_text").get_attribute('value') #獲取搜索結果的統計個數值,默認是:百度為您找到相關結果約...個       if re.match('百度為您找到相關結果約.*個', result)is None:  #通過正則進行匹配，沒匹配到正則返回None           return False       else:           return True    exceptNoSuchElementException as e:           return False    return True</code></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Python</a></li><li><a>進階</a></li><li><a>編寫</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/386c38d6.html alt=Python進階：深入探討指針與引用問題 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/340d19c89b85490b9cbac4197a178ba8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/386c38d6.html title=Python進階：深入探討指針與引用問題>Python進階：深入探討指針與引用問題</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ddd5b99.html alt=Python模塊進階、標準庫、擴展庫 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/13e8cacbcb05440c90f4c572f244763d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ddd5b99.html title=Python模塊進階、標準庫、擴展庫>Python模塊進階、標準庫、擴展庫</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4c39410.html alt="帶你用 Python 編寫滅霸腳本！一鍵隨機消滅硬盤的一半文件！" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/be31db9d3bac4c49968095df073b831d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4c39410.html title="帶你用 Python 編寫滅霸腳本！一鍵隨機消滅硬盤的一半文件！">帶你用 Python 編寫滅霸腳本！一鍵隨機消滅硬盤的一半文件！</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/388a5f0.html alt=Python編寫遺傳算法實戰，整數編碼，啟發式搜索解決旅行商問題 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p3.pstatp.com/large/dfic-imagehandler/f1d21356-1ef5-4ec5-a4a5-c5699b12bee1 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/388a5f0.html title=Python編寫遺傳算法實戰，整數編碼，啟發式搜索解決旅行商問題>Python編寫遺傳算法實戰，整數編碼，啟發式搜索解決旅行商問題</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/91eece92.html alt="只需 45 秒，Python 給故宮畫一組手繪圖！" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/df1bd890ffee4a439e9f5142ae42c102 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/91eece92.html title="只需 45 秒，Python 給故宮畫一組手繪圖！">只需 45 秒，Python 給故宮畫一組手繪圖！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8aab963e.html alt=Python手繪圖瞭解一下！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/746c9e6e214b48b2a0215fc9e151cdc8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8aab963e.html title=Python手繪圖瞭解一下！>Python手繪圖瞭解一下！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cfd854c6.html alt=故宮下雪了！我用Python給它畫了一組手繪圖，僅用45秒（附代碼） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/774d2f0a372f48c589ec84dd3a164dd9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cfd854c6.html title=故宮下雪了！我用Python給它畫了一組手繪圖，僅用45秒（附代碼）>故宮下雪了！我用Python給它畫了一組手繪圖，僅用45秒（附代碼）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b433c17e.html alt="四十、Python模塊random: 偽隨機數據生成與隨機元素抽取" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/25f231d6-c1ce-4cf8-8988-5da509a0c26a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b433c17e.html title="四十、Python模塊random: 偽隨機數據生成與隨機元素抽取">四十、Python模塊random: 偽隨機數據生成與隨機元素抽取</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/04486eba.html alt=Python爬蟲使用selenium爬取群成員信息（全自動實現自動登陸） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/e11e69f643584941aaa2b71ee6ed3d7f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/04486eba.html title=Python爬蟲使用selenium爬取群成員信息（全自動實現自動登陸）>Python爬蟲使用selenium爬取群成員信息（全自動實現自動登陸）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/86b46e6d.html alt=Python爬蟲教程，利用Python採集QQ群成員信息 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6d6cce76ad48405c9dbb960d4617bcef style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/86b46e6d.html title=Python爬蟲教程，利用Python採集QQ群成員信息>Python爬蟲教程，利用Python採集QQ群成員信息</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7739dc7a.html alt=Python數據可視化Matplotlib，如何在一副圖像中顯示多組柱形圖？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5d4a0000046e1bea8b90 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7739dc7a.html title=Python數據可視化Matplotlib，如何在一副圖像中顯示多組柱形圖？>Python數據可視化Matplotlib，如何在一副圖像中顯示多組柱形圖？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4e632b6e.html alt=PHP進階教程-PHP的協程怎麼玩？這一篇帶你搞定swoole協程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a646cf102cf74b4a953855ebedbc7d29 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4e632b6e.html title=PHP進階教程-PHP的協程怎麼玩？這一篇帶你搞定swoole協程>PHP進階教程-PHP的協程怎麼玩？這一篇帶你搞定swoole協程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cd56e2f3.html alt=PHP進階教程-PHP還能玩多線程？看我怎麼用多線程實現CC攻擊器。 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/cce9b3fb23ce41b88311823510e419da style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cd56e2f3.html title=PHP進階教程-PHP還能玩多線程？看我怎麼用多線程實現CC攻擊器。>PHP進階教程-PHP還能玩多線程？看我怎麼用多線程實現CC攻擊器。</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/637cf111.html alt=PHP進階教程-phper需要知道常駐內存中的上下文是什麼東西 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/bc66832213514f2996f2e48c9e9cc747 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/637cf111.html title=PHP進階教程-phper需要知道常駐內存中的上下文是什麼東西>PHP進階教程-phper需要知道常駐內存中的上下文是什麼東西</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e3b6719c.html alt=PHP進階教程-一文理解和實現現代PHP框架裡的IOC容器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/423ce7eefc5d433f86a14589b1ba0043 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e3b6719c.html title=PHP進階教程-一文理解和實現現代PHP框架裡的IOC容器>PHP進階教程-一文理解和實現現代PHP框架裡的IOC容器</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>