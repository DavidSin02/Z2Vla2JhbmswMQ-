<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>寫給你的金融時間序列分析：基礎篇 | 极客快訊</title><meta property="og:title" content="寫給你的金融時間序列分析：基礎篇 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p9.pstatp.com/large/pgc-image/0cb516de32a54736b3bdad53a02a48e9"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c97edfa.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c97edfa.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c97edfa.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c97edfa.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c97edfa.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c97edfa.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/c97edfa.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/c97edfa.html><meta property="article:published_time" content="2020-10-29T21:01:04+08:00"><meta property="article:modified_time" content="2020-10-29T21:01:04+08:00"><meta name=Keywords content><meta name=description content="寫給你的金融時間序列分析：基礎篇"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/c97edfa.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>寫給你的金融時間序列分析：基礎篇</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><h1 class=ql-align-center><strong>1 前言</strong></h1><p><strong>時間序列分析（time series analysis）是量化投資中的一門基本技術。時間序列是指在一定時間內按時間順序測量的某個變量的取值序列。</strong>比如變量是股票價格，那麼它隨時間的變化就是一個時間序列；同樣的，如果變量是股票的收益率，則它隨時間的變化也是一個時間序列。<strong>時間序列分析就是使用統計的手段對這個序列的過去進行分析，以此對該變量的變化特性建模、並對未來進行預測。</strong></p><p><strong>時間序列分析試圖通過研究過去來預測未來。</strong></p><p>時間序列分析在工程學、經濟學、氣象學、金融學等眾多領域有著廣泛的應用。在金融學領域，介紹時間序列分析的優秀書籍層出不窮。其中最家喻戶曉之一的要數美國芝加哥大學商學院 Ruey S. Tsay 教授撰寫的金融時間序列分析——Analysis of Financial Time Series（下圖，該書也同時有中文版）。</p><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/0cb516de32a54736b3bdad53a02a48e9><p class=pgc-img-caption></p></div><p>金融時間序列分析要求使用者具備一定的高等數學知識。特別是其中一些高級的模型，如分析波動率的 ARCH/GARCH 模型、極值理論、連續隨機過程、狀態空間模型等都對使用者的數學水平有著極高的要求。因此，在很多人眼中，金融時間序列分析無疑帶著厚厚的面紗，令人望而卻步。</p><p>然而，如果學習的目的是為<strong>瞭解金融時間序列的特點、熟悉金融時間序列分析的目的、並使用線性但非常實用的模型（比如 ARMA 模型）對金融時間序列進行預測並以此制定量化策略</strong>，那麼只要具備簡單的統計學基礎，就完全能夠實現這些目標。</p><p>出於這個目的，從本週開始，量化核武研究這個專題下將推出四篇文章，深入淺出的介紹金融時間序列分析的相關知識。該系列不會涉及上面提到的那些高級模型；相反的，<strong>本系列以對股票收益率建模並構建投資策略為目標，按部就班的把實現這個目標所需要的每一塊“積木”清晰地呈獻給讀者</strong>。這四篇文章的結構為：</p><ul><li><strong>基礎篇（本文）：</strong>介紹金融時間序列的特性和進行金融時間序列分析的目的；解釋時間序列分析中的核心概念：序列相關性（又稱自相關性）。</li><li><strong>初級篇：</strong>說明時間序列建模的過程；介紹時間序列分析中的最基本模型：白噪聲和隨機遊走。</li><li><strong>進階篇：</strong>介紹時間序列分析中常用的線性模型：AR、MA、ARMA等。</li><li><strong>應用篇：</strong>利用 ARMA 對上證指數收益率序列建模，並以此產生交易信號、構建投資策略，以此展示時間序列分析在量化投資領域的應用。</li></ul><p><strong>本系列文章會避免過多羅列晦澀難懂的大數學（但會涉及必要的數學知識），希望帶你走入金融時間序列分析的大門，為你今後學習更高級的模型奠定一些基礎。</strong></p><p>這是寫給你的金融時間序列分析。</p><h1 class=ql-align-center><strong>2 金融時間序列分析</strong></h1><p>為了避免下文中涉及的概念過於抽象，我們假設本文討論的金融時間序列為<strong>投資品的收益率序列</strong>。</p><p>金融時間序列分析考慮的是金融變量（比如投資品收益率）隨時間演變的理論和實踐。任何金融時間序列都包含不確定因素，因此統計學的理論和方法在金融時間序列分析中至關重要。金融資產的時間序列常被看作是未知隨機變量序列隨時間變化的一個實現。通常假設該隨機變量序列僅在時間軸上的離散點有定義，則該隨機變量序列就是一個離散隨機過程。比如股票的日收益率就是離散的時間序列。</p><p><strong>在量化投資領域，我們的目標是通過統計手段對投資品的收益率這個時間序列建模，以此推斷序列中不同交易日的收益率之間有無任何特徵，以此來預測未來的收益率併產生交易信號。</strong></p><p>一個時間序列可能存在的特徵包括以下幾種：</p><ul><li><strong>趨勢：</strong>趨勢是時間序列在某一方向上持續運動（比如牛市時股市每天都在上漲，股票收益率持續為正；熊市時股市每天都在下跌，股票收益率持續為負）。趨勢經常出現在金融時間序列中，特別是大宗商品價格；許多商品交易顧問（CTA）基金在他們的交易算法中都使用了複雜的趨勢識別模型。</li><li><strong>季節變化：</strong>許多時間序列中包含季節變化。在金融領域，我們經常看到商品價格的季節性變化，特別是那些與生長季節或溫度變化有關的商品，比如天然氣。</li><li><strong>序列相關性：金融時間序列的一個最重要特徵是序列相關性（serial correlation），又稱為自相關性（autocorrelation）。</strong>以投資品的收益率序列為例，我們會經常觀察到一段時間內的收益率之間存在正相關或者負相關。此外，波動聚類（volatility clustering）也是一種序列相關性，它意味著高波動的階段往往伴隨著高波動的階段出現、低波動的階段往往伴隨著低波動的階段出現，這在量化投資中尤為重要。比如下圖為 2001 年到 2017 年上證指數日收益率的標準差，從中可以清晰的看到波動聚類。</li></ul><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d9b601c4cbd14e7586c4479748588eee><p class=pgc-img-caption></p></div><ul><li><strong>隨機噪聲：</strong>它是時間序列中除去趨勢、季節變化和自相關性之後的剩餘隨機擾動。由於時間序列存在不確定性，隨機噪聲總是夾雜在時間序列中，致使時間序列表現出某種震盪式的無規律運動。</li></ul><p><strong>量化投資的交易者的目標是利用統計建模來識別金融時間序列中潛在的趨勢、季節變化和序列相關性。</strong>利用一個好的模型，金融時間序列分析的主要應用包括：</p><ul><li><strong>預測未來：</strong>為了成功交易，我們需要在<strong>統計上</strong>“準確”預測未來的投資品價格或者收益率。</li><li><strong>序列模擬：</strong>一旦發現了金融時間序列的統計特徵，我們可以使用它們來模擬時間序列並進行場景分析。這對於估計交易次數、期望交易成本、期望收益率至關重要，從而最終定量的計算一個策略或者投資組合的風險分佈和盈利水平。</li></ul><p>上文說到，金融時間序列的關係中，最重要的當屬自相關性。這是因為我們很容易從一個時間序列中識別出趨勢以及季節變換。當除去這些關係後，剩下的時間序列往往看來十分隨機。然而對於金融時間序列，比如投資品的收益率，看似隨機的時間序列中往往存在著驚人的自相關。<strong>對自相關建模並加以利用能夠大幅提高交易信號的準確性。</strong>配對交易的均值回覆策略就是這麼一個例子。均值回覆策略利用一對投資品價差序列的<strong>負相關性</strong>進行投資，產生做多或者做空的交易信號，實現盈利。</p><p><strong>金融時間序列分析的核心就是挖掘該時間序列中的自相關性。</strong></p><p>本文的下面幾節就來介紹如何計算時間序列的自相關性。為此，首先來看兩個基礎概念：協方差和相關係數。之後會談及時間序列的穩定性，它是時間序列分析的一個必要前提。最後介紹時間序列的自相關性。</p><h1 class=ql-align-center><strong>3 協方差和相關係數</strong></h1><p>本節介紹概率論中的基礎概念：協方差和相關係數。熟悉它們的讀者可跳過。</p><p>假設兩個隨機變量 X 和 Y 滿足未知的概率分佈（可以是同分布也可以是不同的分佈）。E[] 為求解數學期望的運算符。X 和 Y 的<strong>總體協方差（population covariance）</strong>為：</p><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/22e2128e50084f1b9f52418d616fa551><p class=pgc-img-caption></p></div><p>其中，μ_X 和 μ_Y 分別為 X 和 Y 的<strong>總體均值（population mean）</strong>。</p><p><strong>協方差告訴我們兩個隨機變量是如何一起移動的。</strong></p><p>在實際中，由於總體的概率分佈未知，我們只能通過 X 和 Y 的觀測值來計算<strong>樣本均值（sample mean）</strong>。假設我們各有 X 和 Y 的觀測值 n 個，則它們的<strong>樣本協方差（sample covariance）</strong>為：</p><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9d903d902bf841f4a646e1144d8ce4ca><p class=pgc-img-caption></p></div><p>其中，\bar X 和 \bar Y 為 X 和 Y 的樣本均值。上面公式中右側之所以除以 n - 1 而非 n 的原因是，這麼做可以保證樣本協方差是（未知）總體協方差的一個<strong>無偏估計（unbiased estimator）</strong>。</p><p>假設我們隨機生成兩個隨機變量 X 和 Y 的序列，它們的散點圖如下。</p><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/cfdbd93a5dee4546affeb83310b64980><p class=pgc-img-caption></p></div><p>按照上面的公式，X 和 Y 的樣本協方差為 893.215203。它有什麼意義呢？在回答這個問題之前，讓我們再來看另外兩個變量，我們稱之為 X100 和 Y100。它們分別定義為 X100 = 100 * X 和 Y100 = 100 * Y。可見，它們僅僅是 X 和 Y 各乘以 100 得到的。X100 和 Y100 的樣本協方差為 8932152.03，這是 X 和 Y 的協方差的 10000 倍。<strong>然而，如果僅僅因此就得出 X100 和 Y100 的相關性高於 X 和 Y 的相關性就大錯特錯了。</strong>事實上，由於 X100 和 Y100 是由 X 和 Y 分別乘以 100 得到的，因此它們之間的相關性顯然和 X 與 Y 的相關性相同。</p><p>上面這個例子說明使用協方差衡量變量相關性的<strong>致命缺點：協方差是有量綱的，因此它的大小受隨機變量本身波動範圍的影響</strong>。在上個例子中，當兩個隨機變量的波動範圍擴大 100 倍後，它們的協方差擴大了 10000 倍。因此，人們希望使用某個和協方差有關，但是又是<strong>無量綱</strong>的測量來描述兩個隨機變量的相關性。<strong>最簡單的做法就是用變量自身的波動對協方差進行標準化。相關係數（correlation 或者 correlation coefficient）便由此得來。</strong></p><p>令 ρ 表示 X 和 Y 的<strong>總體相關係數（population correlation）</strong>，它的定義為：</p><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/80878d5d11ae4184931e8051318b8a19><p class=pgc-img-caption></p></div><p>其中 σ_X 和 σ_Y 分別為 X 和 Y 的<strong>總體標準差（population standard deviation）</strong>。通過使用 X 和 Y 的標準差對它們的協方差歸一化，ρ 的取值範圍在 -1 到 +1 之間，即 [-1, +1]：</p><ul><li><strong>ρ(X, Y) = 1 表示 X 和 Y 之間存在確切的線性正相關；</strong></li><li><strong>ρ(X, Y) = 0 表示 X 和 Y 之間不存在任何線性相關性；</strong></li><li><strong>ρ(X, Y) = -1 表示 X 和 Y 之間存在確切的線性負相關。</strong></li></ul><p>值得一提的是，<strong>相關係數僅僅刻畫 X 和 Y 之間的線性相關性；它不描述它們之間的（任何）非線性關係</strong>。在實際中，由於總體的概率分佈未知，我們只能通過 X 和 Y 的觀測值來計算 X 和 Y 的<strong>樣本相關係數（sample correlation）</strong>：</p><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/6694ccab519d4e59a4caec349dffb1cc><p class=pgc-img-caption></p></div><p>其中，sd(X) 和 sd(Y) 分別為 X 和 Y 的<strong>樣本標準差（sample standard deviation）</strong>。在上面的例子中，無論考慮 X 和 Y 還是 X100 和 Y100（即無論如何縮放 X 和 Y），它們的相關係數都是 0.894655，這和我們的預期相符。由於這個數值非常接近 1，它意味著 X 和 Y 之間存在很強的線性正相關。</p><h1 class=ql-align-center><strong>4 時間序列的平穩性</strong></h1><p><strong>平穩性（stationarity）是時間序列分析的基礎。</strong></p><p>為了通俗的理解平穩性，來看下面這個類比（這是我能想到的最好的例子）。假如某股票的日收益率由轉輪盤賭決定：轉到不同數字就對應不同的收益率。在每個時刻 t，我們都轉同一個輪盤賭並確定收益率 r_t。只要這個輪盤不變，那麼對於所有的 t，r_t 的概率分佈都是一樣的、不隨時間變化。這樣的時間序列 ｛r_t｝ 就是（嚴格）平穩的。如果從某個時刻 t’ 開始，輪盤發生了變化（比如輪盤上面的數字變多了），那麼顯然從 t ≥ t’ 開始，r_t 的分佈就便隨之發生變化，因此時間序列 ｛r_t｝ 就不是平穩的。</p><p>在數學上，時間序列的<strong>嚴平穩（strictly stationary）</strong>有著更精確的定義：它要求時間序列中任意給定長度的兩段子序列都滿足相同的聯合分佈。<strong>這是一個很強的條件，在實際中幾乎不可能被滿足。</strong>因此我們還有<strong>弱平穩（weakly stationary）</strong>的定義<strong>，它要求時間序列滿足均值平穩性（stationary in mean）和二階平穩性（secondary order stationary）</strong>。</p><p>如果一個時間序列 ｛r_t｝ 滿足以下兩個條件，則它是弱平穩的：</p><ol><li>對於所有的時刻 t，有 E[r_t] = μ，其中 μ 是一個常數。</li><li>對於所有的時刻 t 和任意的間隔 k，r_t 和 r_(t-k) 的協方差 σ(r_t, r_(t-k)) = γ_k，其中 γ_k 與時間 t 無關，它僅僅依賴於間隔 k。特別的，當 k = 0 時，這個特性意味著 σ(r_t, r_t) —— r_t 的方差——不隨時間變化，等於一個與時間 t 無關的常數 γ_0，這稱為<strong>方差平穩性（stationary in variance）</strong>。</li></ol><p><strong>弱平穩假設對於分析投資品收益率至關重要。</strong></p><p>為了解釋這一點，來看一個例子。假設我們想知道 2017 年 5 月 16 日這天上證指數收益率的均值是多少，而我們的猜想是它來自一個未知的分佈。也許你會馬上說“查一下 Wind 不就知道了？上證指數那天的收益率是 0.74%”。注意，<strong>0.74% 這個數值僅僅是那天上證指數未知收益率分佈的一個實現（realization）</strong>！它不是均值，因此從時間序列分析的角度來說僅僅知道 0.74% 遠遠不夠。</p><p><strong>對於一般的未知概率分佈，只要通過進行大量重複性實驗，就可以有足夠多的獨立觀測點來進行統計推斷（計算均值和方差這些統計量）。</strong>按照這個思路，我們必須把 2017 年 5 月 16 日這一天經歷許多遍，得到許多個那天的收益率觀測值，然後用這些觀測值計算出收益率的均值。<strong>不幸的是，歷史只發生一次，時間也一去不復返，我們只能實實在在的經歷一遍 2017 年 5 月 16 日，只能得到一個收益率的觀測點，即 0.74%。因此這個方法對於金融數據是行不通的。</strong></p><p><strong>然而，如果我們假設上證指數的收益率序列滿足弱平穩，就柳暗花明了。根據弱平穩假設，上證指數的日收益率序列 ｛r_t｝ 的均值是一個與時間無關的常數，即 E[r_t] = μ。這樣便可以利用一段時間的歷史數據來計算出日收益率的均值。</strong>比如我們可以對上證指數在 2017 年交易日的日收益率序列取平均，把它作為對總體均值 μ 的一個估計。根據弱平穩性，該平均值也正是 2017 年 5 月 16 日的收益率均值。</p><p>同樣的道理，在弱平穩的假設下，可以根據歷史數據方便的對時間序列的諸多統計量進行推斷。<strong>在金融文獻中，也通常假定投資品收益率序列是弱平穩的。只要有足夠多的歷史數據，這個假定可以用實證方法驗證。比如，我們可以把數據分成若干個子集，並分別計算每個子集的統計量，然後通過統計的手段檢驗這些來自不同子集的統計量的一致性。</strong></p><p>需要說明的是，即便是弱平穩性，有時金融數據也無法滿足。回想第二節中那個上證指數日收益率標準差的圖，它清晰的說明，在 2001 到 2017 年之間，標準差是隨時間變化的。這意味著在這段時間內，收益率序列不滿足二階平穩性。對於此，我們可以通過更復雜的非線性模型對波動率建模（比如 GARCH），又或者可以把時間段細分為更短的區間，使得在每個小區間內的收益率序列儘量滿足弱平穩性。</p><p>有了上一節和本節的內容做鋪墊，下面我們就可以聊聊時間序列的自相關性了。</p><h1 class=ql-align-center><strong>5 自相關性和自相關函數</strong></h1><p>假設我們有弱平穩的投資品收益率序列 ｛r_t｝。自相關性考察的是 t 時刻的收益率 r_t 和距當前任意間隔 k 時刻的收益率 r_(t-k) 之間的線性相依關係（k 的取值是所有 ≥ 0 的整數）。由於 r_t 和 r_(t-k) 來自同一個時間序列，因此我們將第三節中的相關係數的概念應用到 r_t 和 r_(t-k) 上，便推廣出自相關係數（autocorrelation）。</p><p><strong>定義：r_t 和 r_(t-k) 的相關係數稱為 r_t 的間隔為 k 的自相關係數。</strong></p><p>在弱平穩假設下，這個間隔為 k 的自相關係數與時間 t 無關，而僅僅與間隔 k 有關，由 ρ_k 表示。由第三節中介紹的相關係數的定義可知：</p><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/8f2eef0a68c141efa09eed4a915ce991><p class=pgc-img-caption></p></div><p>上面的推導中用到了弱平穩的性質，即協方差和方差平穩性（換句話說，二階平穩性）。從這個定義不難看出，當 k = 0 時有：</p><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/fba480596e7945cf8af6445c5c08423a><p class=pgc-img-caption></p></div><p>這表示 r_t 的間隔為 0 的自相關係數恆定為 1。此外，ρ_k 還有如下的性質：</p><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5cc88b2e2eb6439dbf4724074370cdd4><p class=pgc-img-caption></p></div><p>和第三節一樣，上面定義的 ρ_k 是總體的統計特性。實際中，我們仍然只能通過有限的樣本數據來計算樣本的統計特性。令 ζ_k 為與 ρ_k 對應的樣本統計量，則有：</p><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/65f9d10c9e4544b9beca15b12a768a1b><p class=pgc-img-caption></p></div><p>上式中，c_k 是 r_t 的<strong>間隔為 k 的樣本自協方差（sample autocovariance of lag k）</strong>；ζ_k 為 r_t 的<strong>間隔為 k 的樣本自相關係數（sample autocorrelation of lag k）</strong>。</p><p><strong>如果把 ζ_k 看作是 k 的方程，則它通常被稱為樣本自相關方程（sample autocorrelation function；同樣的，ρ_k 為總體自相關方程），它刻畫了時間序列的重要特性。利用相關圖（correlogram）可以清晰地看到 ζ_k 是如何隨間隔 k 變化的。</strong></p><p>下圖為兩個假想時間序列的相關圖。它們呈現出完全不同結構的自相關性。事實上，第一個相關圖的時間序列存在明顯的趨勢；而第二個相關圖的時間序列存在明顯的週期性。這兩個例子說明相關圖可以告訴我們很多時間序列的內在特性。</p><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2fede00c1eea4a0aab2f9cd49c5be3e7><p class=pgc-img-caption></p></div><p>金融時間序列的相關圖雖然遠沒有這兩個假象序列的相關圖這麼有結構，<strong>但相關圖在我們對時間序列建模時至關重要</strong>。之前已經說過，金融時間序列，特別是收益率序列，最重要的特性是一些不容易被發現的自相關性。（通常股票的收益率序列沒有季節性或者明顯的趨勢性；即便是弱趨勢也可以由自相關性反應。）因此，拿來一個收益率序列，<strong>只要畫出相關圖，就可以檢測該序列在任何間隔 k 有無統計上顯著的自相關性。</strong></p><p><strong>對金融時間序列建模，最重要的就是挖掘出該序列中的不同間隔 k 的自相關性。相關圖可以幫助我們判斷模型是否合適。</strong>這是因為金融時間序列的特徵中往往包括相關性和隨機噪聲。<strong>如果模型很好的捕捉了自相關性，那麼原始時間序列與模型擬合的時間序列之間的殘差應該近似的等於隨機噪聲。</strong>殘差序列自然也是一個時間序列，因此可以對它畫出相關圖。<strong>一個標準隨機噪聲的自相關滿足 ρ_0 = 1 以及 ρ_k = 0, k = 1, 2, 3, …，即對於任意不為 0 的間隔，隨機噪聲的自相關均為 0。</strong>下圖為一個隨機噪聲的相關圖（我們是用標準正態分佈構造了有 500 個點的隨機噪聲序列）：</p><div class=pgc-img><img alt=寫給你的金融時間序列分析：基礎篇 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b472c904e0b34d02a720d598ae70894b><p class=pgc-img-caption></p></div><p>關於這個圖：</p><ol><li>顯然，間隔為 0 的自相關係數為 1；</li><li>對於任意的 k ≥ 1，藍色的陰影區域為 95% 的置信區間。因此，自相關係數只要沒有超過藍色陰影區域，我們就無法在 5% 的顯著性水平下拒絕原假設（原假設為間隔為 k 的自相關係數為 0）。上圖的結果說明當 k 不為 0 時，隨機噪聲的自相關係數為 0。</li></ol><p>因此，在評價對金融時間序列的建模是否合適時，我們首先找到原始時間序列和它的擬合序列之間的殘差序列；然後只要畫出這個<strong>殘差序列</strong>的相關圖就可以看到它是否含有任何模型未考慮的額外自相關性：</p><p><strong>如果殘差的相關圖和上面這個圖相似，則可以認為殘差是一個隨機噪聲，而模型已經很好的捕捉了原始時間序列中的自相關性；</strong></p><p><strong>如果殘差的相關圖體現了額外的自相關性，它們將為我們改進已有的模型提供依據，因為這些額外的自相關說明已有模型沒有考慮原始時間序列在某些特定間隔上的自相關。</strong></p><h1 class=ql-align-center><strong>6 下文預告</strong></h1><p>作為金融時間序列分析系列的開篇，本文介紹金融時間序列的特性和進行金融時間序列分析的目的；並解釋時間序列分析中的核心概念：自相關性。對金融時間序列建模的核心就是捕捉該序列中不同間隔上的自相關性。相關圖可以清晰地刻畫任何一個時間序列在不同間隔的自相關性。</p><p>在下一篇中，我們將會從最簡單的白噪聲和隨機遊走出發，說明它們無法有效刻畫投資品收益率序列中體現出來的自相關性。這會促使我們提出更高級的模型，包括 AR，MA，以及 ARMA。這些模型背後的理論是什麼？如何正確的挑選模型的參數以構建最適當的模型？這些將會在本系列後面幾篇文章中探討。</p><p>原創不易，請保護版權。如需轉載，請聯繫獲得授權，並註明出處，謝謝。已委託“維權騎士”(http://rightknights.com) 為進行維權行動。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>寫給</a></li><li><a>時間</a></li><li><a>基礎</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/6d006e47.html alt=鋼結構設計基礎知識問答 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/63b48928-d7cd-4346-b80f-4f77015517c1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6d006e47.html title=鋼結構設計基礎知識問答>鋼結構設計基礎知識問答</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/775df7fb.html alt=素描五官基礎知識，學素描的同學可參考 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/99b7762898d34e2f9a667c431fc7da6b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/775df7fb.html title=素描五官基礎知識，學素描的同學可參考>素描五官基礎知識，學素描的同學可參考</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c480db6b.html alt=梯度，散度，旋度的重要基礎：對向量場的詮釋 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/c8ce2cc3bb0f4a5da0dcbc0a881f9617 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c480db6b.html title=梯度，散度，旋度的重要基礎：對向量場的詮釋>梯度，散度，旋度的重要基礎：對向量場的詮釋</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6fe27eab.html alt="前端 | HTML入門基礎知識-網頁" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e7a0b61194f445b8b9e5ae330961d2ea style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6fe27eab.html title="前端 | HTML入門基礎知識-網頁">前端 | HTML入門基礎知識-網頁</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/40b3969a.html alt=專業音頻基礎概念｜數字音頻是如何工作的？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/3684bfc4e93447a5bdfd6d573beec22c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/40b3969a.html title=專業音頻基礎概念｜數字音頻是如何工作的？>專業音頻基礎概念｜數字音頻是如何工作的？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ad3faa79.html alt=立體聲系統基礎篇 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/15288739589536026ad6bae style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ad3faa79.html title=立體聲系統基礎篇>立體聲系統基礎篇</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/65709773.html alt=幹海帶泡軟太浪費時間了，這個小妙招處理後，三分鐘就變軟 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/66b80001068b5f6c9893 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/65709773.html title=幹海帶泡軟太浪費時間了，這個小妙招處理後，三分鐘就變軟>幹海帶泡軟太浪費時間了，這個小妙招處理後，三分鐘就變軟</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/18bd39d8.html alt=齒輪基礎知識 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b8e178319e2c4b88a1865f903306a26b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/18bd39d8.html title=齒輪基礎知識>齒輪基礎知識</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3555f615.html alt=流體粘度傳感器的基礎知識與應用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/7f6d9f85a08146e5a84877ef92c212d7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3555f615.html title=流體粘度傳感器的基礎知識與應用>流體粘度傳感器的基礎知識與應用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/000afa08.html alt="Spring Boot 2.x基礎教程：Swagger接口分類與各元素排序問題詳解" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/daa2cfd29ec34306a4be6f3f257b824b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/000afa08.html title="Spring Boot 2.x基礎教程：Swagger接口分類與各元素排序問題詳解">Spring Boot 2.x基礎教程：Swagger接口分類與各元素排序問題詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c6e14bc6.html alt=SQL基礎知識——事務 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/773e21df09dc4e3e8403a0a62994039d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c6e14bc6.html title=SQL基礎知識——事務>SQL基礎知識——事務</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9552c1b8.html alt="軟件開發中數據庫必備基礎01 - 圖解事務基礎" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e4e00ac778db451792b955bde23add02 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9552c1b8.html title="軟件開發中數據庫必備基礎01 - 圖解事務基礎">軟件開發中數據庫必備基礎01 - 圖解事務基礎</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c4961ebc.html alt=監控攝像頭基礎知識，學會自己也知道如何選擇 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/98be6b1a1ad6410ea61d5fc243b44939 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c4961ebc.html title=監控攝像頭基礎知識，學會自己也知道如何選擇>監控攝像頭基礎知識，學會自己也知道如何選擇</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a12da43e.html alt="金屬材料學 一些基礎知識" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/50ac00002279849cb698 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a12da43e.html title="金屬材料學 一些基礎知識">金屬材料學 一些基礎知識</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ebbbc375.html alt=時間繼電器測試儀的使用方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1205bf787f1f4de6a5f1e73e7737887b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ebbbc375.html title=時間繼電器測試儀的使用方法>時間繼電器測試儀的使用方法</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>