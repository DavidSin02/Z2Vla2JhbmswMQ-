<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>PKI的最後一公里——數字證書和CA | 极客快訊</title><meta property="og:title" content="PKI的最後一公里——數字證書和CA - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/700489e0c5864634bfe4eaa5625a5fdc"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d13d88b.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d13d88b.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d13d88b.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d13d88b.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d13d88b.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d13d88b.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d13d88b.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d13d88b.html><meta property="article:published_time" content="2020-10-29T21:04:14+08:00"><meta property="article:modified_time" content="2020-10-29T21:04:14+08:00"><meta name=Keywords content><meta name=description content="PKI的最後一公里——數字證書和CA"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/d13d88b.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>PKI的最後一公里——數字證書和CA</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>對於一直看我發佈的密碼學系列文章的朋友，應該知道這些文章都是有順序關聯的，基本上每一篇的技術主題都是以前一篇的主題作為基礎，整體上也契合密碼技術發展的過程。今天介紹的數字證書，就是在數字簽名基礎上發展起來的。</p><p>對於數字證書這個概念，相信做開發的朋友或多或少都接觸過。最熟悉的應用場景可能就是SSL登錄和網銀證書應用了。從字面上看很好懂：就是數字化的證書。但要真正理解它，還得從數字簽名說起。上一篇介紹數字簽名時說過，驗證簽名時使用簽名者的公鑰解密數據，以確定簽名者行為的不可否認性，所以在這裡公鑰就等同於身份標識。就像上一篇例子裡，小麗用小明的公鑰驗證成功，就表示了簽名行為確實是小明做的。但這裡其實還缺少重要的一環：如何認定公鑰持有者身份的真實性？。上文例子隱藏了一個前提，即由於小麗認識小明，事先確認了用來驗證的公鑰就是小明本人的。但在實際的應用中，互聯網上簽名者和驗證者往往都不認識對方，驗證者沒有辦法僅憑公鑰來判斷網絡那一頭簽名者的真實身份，因為公鑰只是一段數字，誰都可以擁有，它無法自證持有者的身份。因此，迫切需要一個機制實現通過公鑰確認持有者身份......於是一聲驚雷，數字證書應運而生了。</p><div class=pgc-img><img alt=PKI的最後一公里——數字證書和CA onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/700489e0c5864634bfe4eaa5625a5fdc><p class=pgc-img-caption></p></div><p>數字證書就是網絡世界的身份證明。它把用戶的公鑰和用戶的身份捆綁在一起，實現了"見鑰即見人"。用戶的身份真實性是經過認證的，由於身份不能用戶自證，只能通過第三方來認證，因此數字證書都是第三方公信機構頒發的，這個第三方機構中文大名叫"電子認證服務機構"或"證書頒發機構"，它更為人所熟悉名字就是CA（英文全稱Certificate Authority）。CA對用戶身份進行認證，並頒發數字證書證明其身份。而社會公眾信任CA，也就信任CA頒發的證書，最終信任了證書持有用戶的身份，完整的信任鏈就這樣建立起來。</p><p>從技術上講，數字證書的申請頒發過程大體如下：</p><p>· 準備申請證書的用戶將身份信息提交給CA機構；</p><p>· CA機構對用戶的身份信息進行認證。認證可以線下也可以線上。線下為傳統方式，用戶需要當面提交個人身份證、企業機構代碼證等材料，CA機構根據材料審核認證用戶身份；線上則是用戶通過網絡提供相關資料電子版，CA機構與公安、銀行、電信運營商等第三方合作，採用面部活體識別、銀行卡信息驗證、手機號碼驗證等方式完成身份認證；</p><p>· 申請程序在用戶端生成公私鑰對，公鑰提交給CA，私鑰用戶自己保留；</p><p>· CA機構將用戶公鑰和身份信息封裝在一起，並用自己的私鑰對封裝的數據簽名；</p><p>· CA機構將公鑰、身份信息、簽名結果封裝，生成了最終的數字證書，並返回給用戶。</p><p>從上面的過程可以看出，CA機構對它所頒發證書的背書也是通過數字簽名實現的。用戶通過對簽名的驗證，可以確認證書來源的真實性和完整性。</p><p>在實際應用中，大部分CA機構不會直接簽發證書，而是建立下屬CA機構，併為其簽發證書，再由下屬機構為用戶簽發證書。有時，下屬機構又有自己的下屬機構，依次類推，最終建立起一條CA的證書鏈，在鏈條上的每一級CA的都有自己的證書，其可信賴性來源於上級CA（通過數字簽名實現），通過逐級向上，最後都可以溯源到處於頂級的CA機構。而頂級CA機構的證書是自簽發的，因為沒有上級CA再給它簽發證書。它的可信賴性都來源於社會公信力，這也就是為什麼第三方CA都是由商譽好的大型公司、國有企業或政府部門投資建立的。目前我國持有工信部頒發的電子認證服務許可證的CA機構一共有37家，它們可以向社會提供合法有效的第三方電子認證服務。從此之外，還有很多企業（比如幾大國有銀行）、單位內部建立的CA機構，服務其內部業務應用。</p><p>證書一般是以USB Key為載體形式，即證書及其私鑰都存儲在USB Key中。USB Key中自帶芯片和COS，因此凡是使用私鑰進行的運算，都是在USB Key中完成，密碼界裡有句俗話"私鑰永遠不出Key"，就是這個意思。我們在使用USB Key裡的證書時，先得將Key插入電腦，還需要輸入口令，進行驗證。這就是所謂的"雙因素認證"，和用銀行卡取錢一樣，同時需要卡和密碼。由於USB Key的這些安全措施，再加上外形小巧，便於攜帶，成本低廉，在PC時代是佔統治地位的密碼安全工具。當然，隨著移動應用的興起和身份驗證技術的進步，USB Key不再是證書載體的唯一選擇，但仍然是主流工具之一。</p><div class=pgc-img><img alt=PKI的最後一公里——數字證書和CA onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ecc68140ad0647e28b7c0008834a9586><p class=pgc-img-caption></p></div><p>根據證書密鑰算法的不同，可以將證書分為RSA證書和SM2證書。打開IE瀏覽器，通過選擇"工具"——"Internet選項"——"內容"——"證書"，可以看到Windows裡證書的情況。其中，"個人"選項卡里的證書就是你自己的證書，有對應的私鑰，可以用來解密和簽名。要說明的是，如果使用的是SM2證書，因為Windows平臺還沒有提供相關原生接口，所以可能顯示不出來；"其他人"是別人的證書，只有公鑰，可以用來加密和驗證；"受信任的根證書頒發機構"裡就是Windows信任CA的證書。如果你信任一個CA，你可以把它的證書安裝在這裡面，這樣由以這個CA證書為頂級的證書鏈的所有證書，在這臺Windows上都是被信任的。可以看到，微軟在這裡面已經裡預裝了很多CA機構的證書。所以，如果你的軟件或控件是用這些CA機構或其分支機構簽發的證書籤過名，那在Windows裡使用這些軟和控件就比較方便，被攔截的可能性大幅度降低。 "中級證書頒發機構"就是非頂級CA機構的證書。其他操作系統平臺的證書信任機制也與此類似。</p><div class=pgc-img><img alt=PKI的最後一公里——數字證書和CA onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/aa377b1984af49948da0511921b311a0><p class=pgc-img-caption></p></div><p>CA機構和數字證書出現，補齊了公鑰基礎設施體系（PKI）的最後一塊短板。其意義不僅是解決了公鑰用戶身份認證的問題，而且為加密與簽名提供了一種更加容易、更加方便的方法。比起單純的公私鑰對，數字證書更易理解和接受，與用戶的交互界面更加友好。從此，在實際中一般都是使用證書而不是密鑰。這一點，對於業務系統結合開發尤其關鍵。</p><p>關於CA和數字證書的知識點是很龐雜的，今天只是介紹一些主要方面，在後面的文章中會討論更多相關內容。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>PKI</a></li><li><a>最後一</a></li><li><a>數字</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/3c5292d6.html alt="2019年度數字孿生城市之無人機 航攝應用及真三維建模技術培訓班" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3c5292d6.html title="2019年度數字孿生城市之無人機 航攝應用及真三維建模技術培訓班">2019年度數字孿生城市之無人機 航攝應用及真三維建模技術培訓班</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bc3f7e61.html alt="「新制造 新格局」數字孿生引領虛擬製造" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bc3f7e61.html title="「新制造 新格局」數字孿生引領虛擬製造">「新制造 新格局」數字孿生引領虛擬製造</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/489352f0.html alt=強氧配合中傳動畫與數字藝術學院組織的虛擬製作技術交流會結束 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/f4d699a353d746088b22598027faced3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/489352f0.html title=強氧配合中傳動畫與數字藝術學院組織的虛擬製作技術交流會結束>強氧配合中傳動畫與數字藝術學院組織的虛擬製作技術交流會結束</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/25707bf3.html alt="海克斯康增材製造設計仿真方案 聚焦虛擬製造仿真數字孿生" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ccecc8a705b74016a0d67974abf3b156 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/25707bf3.html title="海克斯康增材製造設計仿真方案 聚焦虛擬製造仿真數字孿生">海克斯康增材製造設計仿真方案 聚焦虛擬製造仿真數字孿生</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4e49d1f3.html alt=信息編碼：數字和文字是如何誕生的？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1f3d0677443e48bfbb2435b71f6da199 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4e49d1f3.html title=信息編碼：數字和文字是如何誕生的？>信息編碼：數字和文字是如何誕生的？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/17a36096.html alt=傳統廣播與數字廣播的區別 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e39a9b4cac0347d8829c87ee93f86af4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/17a36096.html title=傳統廣播與數字廣播的區別>傳統廣播與數字廣播的區別</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b021af7a.html alt=你聽到的“槍聲”，是數字模式的怒吼！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/101c00004f8ca9f754d2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b021af7a.html title=你聽到的“槍聲”，是數字模式的怒吼！>你聽到的“槍聲”，是數字模式的怒吼！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0994626b.html alt=模擬電路，數字電路，電子工程師經驗筆記！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/a02e9fe5-2b6f-489f-b57f-78ac8ebb8f65 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0994626b.html title=模擬電路，數字電路，電子工程師經驗筆記！>模擬電路，數字電路，電子工程師經驗筆記！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/52304dd7.html alt=三毛生前最後一組公開照片：之後，就在醫院自殺！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/75b187ca784d4aa98239b72e07263931 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/52304dd7.html title=三毛生前最後一組公開照片：之後，就在醫院自殺！>三毛生前最後一組公開照片：之後，就在醫院自殺！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a9c0ca20.html alt=民航局：三舉措提高空地聯運“最後一公里”的效率 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a9c0ca20.html title=民航局：三舉措提高空地聯運“最後一公里”的效率>民航局：三舉措提高空地聯運“最後一公里”的效率</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c71c3ec5.html alt=最後一臺帕加尼Huayra下線，下一代終極超跑明年登場 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/7bf78951bfdc406fb3929c88c860b9a6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c71c3ec5.html title=最後一臺帕加尼Huayra下線，下一代終極超跑明年登場>最後一臺帕加尼Huayra下線，下一代終極超跑明年登場</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bdbcafac.html alt=全世界最神奇的15個噴泉，最後一箇中國的噴泉最有味道 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1539740313214b15fa89ba5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bdbcafac.html title=全世界最神奇的15個噴泉，最後一箇中國的噴泉最有味道>全世界最神奇的15個噴泉，最後一箇中國的噴泉最有味道</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fb57a216.html alt=螺栓頭上的數字代表什麼含義？螺栓強度等級劃分 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/84f6e6d1ea3145c0a756c8b68a88623d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fb57a216.html title=螺栓頭上的數字代表什麼含義？螺栓強度等級劃分>螺栓頭上的數字代表什麼含義？螺栓強度等級劃分</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ec40b9ff.html alt=HT2565數字雙顯絕緣電阻測試儀八大特性 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/470c00024671e0357f68 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ec40b9ff.html title=HT2565數字雙顯絕緣電阻測試儀八大特性>HT2565數字雙顯絕緣電阻測試儀八大特性</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c8362ae1.html alt=簡易基礎數字集成電路小製作——電容測試儀 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a736c74d1f1d48c887afe14db1bf1c48 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c8362ae1.html title=簡易基礎數字集成電路小製作——電容測試儀>簡易基礎數字集成電路小製作——電容測試儀</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>