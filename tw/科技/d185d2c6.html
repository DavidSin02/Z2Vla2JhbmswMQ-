<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>JavaScript——作用域 | 极客快訊</title><meta property="og:title" content="JavaScript——作用域 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d185d2c6.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d185d2c6.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d185d2c6.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d185d2c6.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d185d2c6.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d185d2c6.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d185d2c6.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d185d2c6.html><meta property="article:published_time" content="2020-11-14T21:00:35+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:35+08:00"><meta name=Keywords content><meta name=description content="JavaScript——作用域"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/d185d2c6.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>JavaScript——作用域</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p><strong>作用域：</strong>域表示的就是範圍，即作用範圍，就是一個名字在什麼地方可以被使用，什麼時候不能使用；</p><pre>在c，java 等語言中 採用塊級的作用範圍{ var num=123; { console.log(num);// 123 }}console.log(num); //報錯</pre><p>在js中採用詞法作用域：</p><p>所謂詞法（代碼）作用域，就是代碼在編寫過程中體現出來的作用範圍，代碼一旦寫好，不用執行，作用範圍就已經確定好了，這個就是所謂詞法作用域</p><p>在js中詞法作用域規則：</p><ol><li>函數允許訪問函數外的數據</li><li>整個代碼結構中只有函數可以限定作用域</li><li>作用規則首先使用提升規則分析</li><li>如果當前作用規則中有名字了，就不考慮外面的名字</li></ol><pre>var num=123;function foo(){ console.log(num);}foo(); //123分析：預解析 num 和foo()，foo函數體和函數名綁定，執行代碼：num=123；打印num的值 ，輸出123；</pre><pre>if(false){ var num=123;}console.log(num); //undefined分析：預解析一個num，執行代碼：內存中已經存在num了，所以if體不執行，也就不賦值，所以打印為undefined</pre><pre>var num=123;function foo(){ var num=456; function func(){ console.log(num); } func();}foo(); //456console.log(num);//123 分析：外部的num沒有被修改，內部的作用域的foo的num是456，又因為func裡沒有num 只能去他的第一個外層找，所以是456</pre><hr><h1><strong>作用域鏈</strong></h1><p>*可以發現只有函數可以製造作用域結構，那麼只要有代碼，至少有一個作用域，即全局作用域</p><p>*凡是代碼中有函數，那麼這個函數就構成另一個作用域，如果函數中還有函數，那麼在這個作用域中就又可以誕生一個作用域，那麼將這樣的所有的作用域列出來，可以有一個結構：函數內指向函數外的鏈式結構</p><h1><strong>繪製作用域鏈的步驟：</strong></h1><ol><li>看整個全局是一條鏈，即頂級鏈，記為0級鏈</li><li>看全局作用域中有什麼成員聲明，就以方格的形式繪製到0級鏈上</li><li>再找函數，只有函數可以限制作用域，因此從函數中引出新鏈，標記為1級鏈</li><li>然後在每一個1級鏈中再次往復剛才的行為</li></ol><h1><strong>變量的訪問規則</strong></h1><ol><li>首先看變量在第幾條鏈上，在該鏈上看是否有變量的定義與賦值，如果有直接使用，</li><li>如果沒有到上一級鏈上找(n-1級鏈)，如果有直接找，停止繼續查找</li><li>如果還沒有 再次往上找....，直到全局鏈（0 級），還沒有就是報錯 is not defined</li><li>注意，切記同級的鏈不可混合查找</li></ol><h1><strong>作用域鏈上如何分析代碼</strong></h1><ol><li>在分析代碼的時候切記從代碼的運行進度上來分析，如果代碼給變量賦值了，一定要標記到圖中，</li><li>如果代碼比較複雜，可以在圖中描述代碼的內容，有時甚至需要將原型圖與作用圖合併分析</li></ol></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>作用域</a></li><li><a>JavaScript</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/29faabe7.html alt=JavaScript函數其它補充，作用域、預解析 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/0c8b90c7ff81423f9dade3f949b546a4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/29faabe7.html title=JavaScript函數其它補充，作用域、預解析>JavaScript函數其它補充，作用域、預解析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4bc9bf7b.html alt=深究JavaScript作用域（鏈）知識點和閉包 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/72a91b88f90b4c83989cf32a74e6af2b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4bc9bf7b.html title=深究JavaScript作用域（鏈）知識點和閉包>深究JavaScript作用域（鏈）知識點和閉包</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a2847433.html alt=常用JavaScript正則表達式彙編與示例詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/dca255e6-9611-4395-afc6-7e9fa5ac5e38 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a2847433.html title=常用JavaScript正則表達式彙編與示例詳解>常用JavaScript正則表達式彙編與示例詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/47bf383c.html alt="JavaScript 正則表達式理論學習和案例分析" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/23450277ff8a4edb976123f0d7b823d0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/47bf383c.html title="JavaScript 正則表達式理論學習和案例分析">JavaScript 正則表達式理論學習和案例分析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/de5a6f15.html alt=JavaScript正則表達式詳細總結 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/6cd0893b009045c794771d55a21a19a6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/de5a6f15.html title=JavaScript正則表達式詳細總結>JavaScript正則表達式詳細總結</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/79da6281.html alt=玩透JavaScript正則表達式一 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/71659719aeb045fb850e61cb749198d2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/79da6281.html title=玩透JavaScript正則表達式一>玩透JavaScript正則表達式一</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3dc85d2e.html alt=JavaScript二叉樹（二叉搜索樹）的詳細介紹 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9f01674b907b45c390bbc94168d16a71 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3dc85d2e.html title=JavaScript二叉樹（二叉搜索樹）的詳細介紹>JavaScript二叉樹（二叉搜索樹）的詳細介紹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/09fe16de.html alt="JavaScript 之 宏任務，微任務" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/164237e0297c4f8697eccedecb547980 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/09fe16de.html title="JavaScript 之 宏任務，微任務">JavaScript 之 宏任務，微任務</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0701c85a.html alt=JavaScript的宏任務和微任務 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/73a5badff31b42da8f8c62a9761be636 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0701c85a.html title=JavaScript的宏任務和微任務>JavaScript的宏任務和微任務</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5f24f86b.html alt=一文讀懂JavaScript位的與、或、異或、取反及左移右移操作 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/916bb38f066f47f192ae06cc60210ae0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5f24f86b.html title=一文讀懂JavaScript位的與、或、異或、取反及左移右移操作>一文讀懂JavaScript位的與、或、異或、取反及左移右移操作</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4859a1a5.html alt="前端開發：JavaScript 斷言工具" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/321f0004850785fbebd5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4859a1a5.html title="前端開發：JavaScript 斷言工具">前端開發：JavaScript 斷言工具</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bb530714.html alt=每天學點JavaScript--ES6(ECMAScript5)@擴展運算符 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ef546b6d771e45d2a53ec10cf9c0b0ac style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bb530714.html title=每天學點JavaScript--ES6(ECMAScript5)@擴展運算符>每天學點JavaScript--ES6(ECMAScript5)@擴展運算符</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/df244acf.html alt="瞭解 JavaScript 的 rest參數與擴展運算符 (ES6)" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/96f6a301-9c86-48d2-8018-7e600bb152c9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/df244acf.html title="瞭解 JavaScript 的 rest參數與擴展運算符 (ES6)">瞭解 JavaScript 的 rest參數與擴展運算符 (ES6)</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fc6ce4ae.html alt=web前端入門到實戰：JS作用域-執行上下文-變量對象-作用域鏈 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/3e07e2156d524e85a089cd0f56fd99c6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fc6ce4ae.html title=web前端入門到實戰：JS作用域-執行上下文-變量對象-作用域鏈>web前端入門到實戰：JS作用域-執行上下文-變量對象-作用域鏈</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6607267c.html alt=幾張圖讓你徹底理解作用域鏈與閉包（值得收藏） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/463861313a264ff6a1daecbfea4de48a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6607267c.html title=幾張圖讓你徹底理解作用域鏈與閉包（值得收藏）>幾張圖讓你徹底理解作用域鏈與閉包（值得收藏）</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>