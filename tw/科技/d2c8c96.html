<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>輸入輸出的上升沿和下降沿是怎麼來的，一起看看 | 极客快訊</title><meta property="og:title" content="輸入輸出的上升沿和下降沿是怎麼來的，一起看看 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/f7b6921508c949ffbaa5275b85ee26c1"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d2c8c96.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d2c8c96.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d2c8c96.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d2c8c96.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d2c8c96.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d2c8c96.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d2c8c96.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d2c8c96.html><meta property="article:published_time" content="2020-10-29T21:05:00+08:00"><meta property="article:modified_time" content="2020-10-29T21:05:00+08:00"><meta name=Keywords content><meta name=description content="輸入輸出的上升沿和下降沿是怎麼來的，一起看看"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/d2c8c96.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>輸入輸出的上升沿和下降沿是怎麼來的，一起看看</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div class=pgc-img><img alt=輸入輸出的上升沿和下降沿是怎麼來的，一起看看 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/f7b6921508c949ffbaa5275b85ee26c1><p class=pgc-img-caption>高電平、低電平、上升沿和下降沿的區別</p></div><p>數字電路中，電平從低電平（邏輯信號為0）變為高電平（邏輯信號為1）的那一瞬間叫作上升沿，電平從高電平（邏輯信號為1）變為低電平（邏輯信號為0）的那一瞬間叫作下降沿。</p><p>高電平觸發，是指I/O口電平為高電平時相應的功能或執行程序一直有效，直到電平被拉為低電平才失效。上升沿觸發是當信號從低電平變為高電平時的瞬間有效，不管後面再變為高電平或低電平都無效。</p><p>低電平觸發，是指I/O口電平為低電平時相應的功能或執行程序一直有效，直到電平被拉為高電平才失效。下升沿觸發是當信號從高電平變為低電平時的瞬間有效，不管後面再變為低電平或高電平都無效。</p><div class=pgc-img><img alt=輸入輸出的上升沿和下降沿是怎麼來的，一起看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/dfic-imagehandler/41445d72-e723-43bd-8463-e12e0a84fdb3><p class=pgc-img-caption>數字電路中的“1”和“0”指的就是電平的高低</p></div><p>這種電平觸發方式在數字電路的應用上最為常見，在工業自動化應用的控制程序上也很常見。我們最為熟悉的就是PLC在編寫程序時用到的上升沿和下降沿指令，這些指令是集成在PLC內部的程序塊。如果我們不選擇PLC作為控制部件，而是要用單片機來控制，那麼上升沿和下降沿的功能我們該如何實現？單片機內部是沒有這些編輯好的程序塊的，要實現這個功能就必須自己編寫程序。程序該如何編寫，下面我們結合程序深入地來講一講這個問題。</p><div class=pgc-img><img alt=輸入輸出的上升沿和下降沿是怎麼來的，一起看看 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/2931e2bc6228436ea8788914406f2997><p class=pgc-img-caption>圖1</p></div><p>首先，程序中使用的變量定義如圖1。</p><div class=pgc-img><img alt=輸入輸出的上升沿和下降沿是怎麼來的，一起看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bda8c7b983f04cd8b93f60ccc05c4e7d><p class=pgc-img-caption>圖2</p></div><p>主程序如圖2。</p><div class=pgc-img><img alt=輸入輸出的上升沿和下降沿是怎麼來的，一起看看 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/62e47b555ded41b4a538ced9ff5473ba><p class=pgc-img-caption>圖3</p></div><p>輸入上升沿、輸入下降沿是如何通過程序產生的，如圖3。</p><div class=pgc-img><img alt=輸入輸出的上升沿和下降沿是怎麼來的，一起看看 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/73b50e29b0d14f8f9b29b2af910dda9d><p class=pgc-img-caption>圖4</p></div><p>輸出上升沿、輸出下降沿是如何通過程序產生的，如圖4。</p><p>以上只演示了輸入、輸出IO口的上升沿和下降沿產生的過程。如果我們需要用到其他"位變量"的上升沿或下降沿，同樣可以用這種方式實現。</p><h1><strong>下面我把完整的程序附在後面，有需要的老鐵們可以複製出來使用</strong></h1><p>/***********************實現上升沿下降沿的程序源代碼*************************/</p><p>#include &lt;STC15F2K60S2.H></p><p>#define FOSC 24000000L</p><p>void get_input(); //輸入函數</p><p>void out_output(); //輸出函數</p><p>char underedge, uperedge; //輸入上升沿、下降沿變量</p><p>char out_underedge, out_uperedge; //輸出上升沿、下降沿變量</p><p>char inputimg = 0, outputimg = 0; //輸入、輸出映像變量</p><p>char inputimgtmp = 0, outputimgtmp = 0; //輸入、輸出臨時映像變量</p><p>void main()</p><p>{</p><p>while(1)</p><p>{</p><p>underedge = 0; uperedge = 0; //輸入上升沿清除。因為每掃描一次上升沿都</p><p>//會被複位，所以上升沿的持續時間是一個掃</p><p>//描週期。</p><p>get_input();</p><p>if(uperedge & 0x1) //檢測是否有輸入上升沿出現，有則執行流程程序。</p><p>{</p><p>//此處編寫流程處理程序</p><p>}</p><p>if(underedge & 0x1) //檢測是否有輸入下降沿出現，有則執行流程程序。</p><p>{</p><p>//此處編寫流程處理程序</p><p>}</p><p>outputimg |= 0x1; //IO口第一位輸出</p><p>out_underedge = 0; out_uperedge = 0; //輸出上升沿清除。下降沿的持續時間</p><p>//與上升沿相同。</p><p>out_output();</p><p>}</p><p>}</p><p>void get_input()</p><p>{</p><p>int i;</p><p>bit a, b;</p><p>if(P20) //P20 = 1，表示輸入口為高電平，無輸入。</p><p>inputimgtmp &= 0xfe; //無輸入，清除臨時映像的相應位。</p><p>else</p><p>inputimgtmp |= 0x1; //有輸入，置位臨時映像的相應位。</p><p>for(i = 1; i &lt; 256; i = i * 2)</p><p>{</p><p>a = inputimg & i; //取出輸入映像和臨時映像的值</p><p>b = inputimgtmp & i; //在下面比較。</p><p>if(a != b) //輸入映像和臨時映像的值出現變化，</p><p>//說明有上升沿或下降沿出現。</p><p>{</p><p>if(a) //輸入映像相應位為1,置位下降沿位標誌。</p><p>underedge |= i;</p><p>else //輸入映像相應位為0,置位上升沿位標誌。</p><p>uperedge |= i;</p><p>}</p><p>}</p><p>inputimg = inputimgtmp; //臨時映像轉存入輸入映像</p><p>}</p><p>void out_output()</p><p>{</p><p>int i;</p><p>bit a, b;</p><p>for(i = 1; i &lt; 256; i = i * 2)</p><p>{</p><p>a = outputimgtmp & i; //取出輸出映像和臨時映像的值</p><p>b = outputimg & i; //在下面比較。</p><p>if(a != b) //輸出映像和臨時映像的值出現變化，</p><p>//說明有上升沿或下降沿出現。</p><p>{</p><p>if(a) //輸出映像相應位為1,置位下降沿位標誌。</p><p>out_underedge |= i;</p><p>else //輸出映像相應位為1,置位下降沿位標誌。</p><p>out_uperedge |= i;</p><p>}</p><p>}</p><p>outputimgtmp = outputimg; //輸出映像轉存入臨時映像</p><p>P10 = outputimg & 0x1; //IO口第1位輸出</p><p>P11 = outputimg & 0x2; //IO口第2位輸出</p><p>}</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>輸入</a></li><li><a>輸出</a></li><li><a>沿是</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/a8fbe992.html alt=把輸入/輸出接口視為存儲單元，與存儲器統一編址 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1526536447865be6f7e7065 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a8fbe992.html title=把輸入/輸出接口視為存儲單元，與存儲器統一編址>把輸入/輸出接口視為存儲單元，與存儲器統一編址</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bab183da.html alt=輸入輸出接口電路是主機與外部設備連接的邏輯控制部件 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/6b97626a4ebe4e599e78b0933f04b785 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bab183da.html title=輸入輸出接口電路是主機與外部設備連接的邏輯控制部件>輸入輸出接口電路是主機與外部設備連接的邏輯控制部件</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/423e1f95.html alt=不能輸出的時候，就輸入吧，開本新書讀一讀 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e1dec93b26884b76bea9d15b507d411c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/423e1f95.html title=不能輸出的時候，就輸入吧，開本新書讀一讀>不能輸出的時候，就輸入吧，開本新書讀一讀</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/61020d00.html alt=CC++｜輸入輸出與內存、緩存、設備文件 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/7ea116098ce24015a0e7b3e0d2c7bf33 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/61020d00.html title=CC++｜輸入輸出與內存、緩存、設備文件>CC++｜輸入輸出與內存、緩存、設備文件</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/82c29328.html alt=C語言I/O輸入輸出專題——開篇 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/44f68a822ffc4c19a1629c1a2d58618a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/82c29328.html title=C語言I/O輸入輸出專題——開篇>C語言I/O輸入輸出專題——開篇</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b18f52fd.html alt=Java輸入/輸出流基礎（IO流） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/fe9b96733a614a15bbb33683620b2596 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b18f52fd.html title=Java輸入/輸出流基礎（IO流）>Java輸入/輸出流基礎（IO流）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a2fdf026.html alt=Java輸入輸出流知識總結 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a0f864db4f6e4b278ae6ed120d6be149 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a2fdf026.html title=Java輸入輸出流知識總結>Java輸入輸出流知識總結</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7a98bd89.html alt=PLC的輸入與輸出，你懂得怎麼連接麼？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/a8d80f02-a9a1-4588-8de3-6cac17bfd3e1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7a98bd89.html title=PLC的輸入與輸出，你懂得怎麼連接麼？>PLC的輸入與輸出，你懂得怎麼連接麼？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cddb942c.html alt="Python3 輸入和輸出(完成版)" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/31d469d2102d4dedbba5567a3cabd798 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cddb942c.html title="Python3 輸入和輸出(完成版)">Python3 輸入和輸出(完成版)</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f671704b.html alt="Python第七課7. 輸入輸出" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f671704b.html title="Python第七課7. 輸入輸出">Python第七課7. 輸入輸出</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/64c521f0.html alt=字節流的輸入輸出，JAVA基礎知識筆記 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/d02211d1d832407aa203b9f4ab524f18 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/64c521f0.html title=字節流的輸入輸出，JAVA基礎知識筆記>字節流的輸入輸出，JAVA基礎知識筆記</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/56b809a1.html alt=最好的輸入是輸出！輸出的三個方式與持續輸出的三個方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/0de87132bc4f4b6fb9f67d264c1d174b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/56b809a1.html title=最好的輸入是輸出！輸出的三個方式與持續輸出的三個方法>最好的輸入是輸出！輸出的三個方式與持續輸出的三個方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/94a37759.html alt=輸出與輸入函數使用方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/94a37759.html title=輸出與輸入函數使用方法>輸出與輸入函數使用方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e8dcf9a4.html alt=C++中的基本輸入/輸出 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/af21467ecf9e42cebb90f716b9dc9471 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e8dcf9a4.html title=C++中的基本輸入/輸出>C++中的基本輸入/輸出</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/984a7feb.html alt="C語言 技能提升 系列文章（七）格式化輸入/輸出" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/9f18e409833c433fb71fd72e9b3f9307 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/984a7feb.html title="C語言 技能提升 系列文章（七）格式化輸入/輸出">C語言 技能提升 系列文章（七）格式化輸入/輸出</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>