<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>一文讀懂密碼學中的證書 | 极客快訊</title><meta property="og:title" content="一文讀懂密碼學中的證書 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/e75f6d45da8243de803e35eeee100a5a"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d47dcf9.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d47dcf9.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d47dcf9.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d47dcf9.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d47dcf9.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d47dcf9.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d47dcf9.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d47dcf9.html><meta property="article:published_time" content="2020-10-29T21:04:14+08:00"><meta property="article:modified_time" content="2020-10-29T21:04:14+08:00"><meta name=Keywords content><meta name=description content="一文讀懂密碼學中的證書"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/d47dcf9.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>一文讀懂密碼學中的證書</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>之前的文章中，我們講到了數字簽名，數字簽名的作用就是防止篡改和偽裝，並且能夠防止否認。但是要正確運用數字簽名技術還有一個非常大的前提，那就是用來驗證簽名的公鑰必須真正的屬於發送者。</p><p>如果你獲取到的公鑰是偽造的，那麼不管你的簽名算法多完美，也是會得到錯誤的結果。</p><p>那麼我們怎麼才能安全的獲得發送者的公鑰呢？這裡就需要使用到證書了。所謂證書就是通過第三方的可信機構對發送者的公鑰進行簽名而得到的。</p><p>這裡有兩個概念：公鑰證書（Public-Key Certificate, PKC）和認證機構(Certification Authority, CA)。熟悉區塊鏈的朋友應該經常會聽到CA這個名詞，CA就是這裡的認證機構。</p><h2 class=pgc-h-arrow-right>證書的例子</h2><p>我們看一個實際中可能會遇到的例子：</p><p>假如A要向B發送一條消息，這條消息希望使用B的公鑰來加密，但是A事先無法知道B的公鑰到底是什麼，那麼可以使用下面的證書架構：</p><div class=pgc-img><img alt=一文讀懂密碼學中的證書 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/e75f6d45da8243de803e35eeee100a5a><p class=pgc-img-caption></p></div><ol start=1><li>在第一步，B需要生成自己的密鑰對，然後將公鑰註冊到CA中。這裡CA就是一個第三方的可信賴的機構。</li><li>CA獲得到了B的公鑰之後，使用自己的私鑰對B的公鑰進行簽名，得到證書。</li><li>A從CA獲得到證書和CA的公鑰（CA是個可信賴機構，可以從公共站點中獲取），並使用CA的公鑰來驗證證書籤名的合法性。</li><li>A獲得了B的公鑰，使用B的公鑰加密消息。</li><li>B用自己的私鑰解密消息，得到明文。</li></ol><p>好了，這就是一個最簡單的證書使用的例子。</p><h2 class=pgc-h-arrow-right>證書的標準和生成</h2><p>因為證書是由認證機構頒發的，使用者需要對其進行驗證，那麼就需要一個標準的證書格式來方便使用者使用。最廣泛的一個證書標準格式是由ITU（International Telecommunication Union）和ISO(International Organization for Standardization)制定的X.509規範。</p><p>x.509有很多擴展格式包括：DER、CRT、CER、PEM等。他們在不同的環境中有不同的用處。</p><p>那麼怎麼生成證書呢？可以藉助第三方工具，也可以使用命令行命令比如：openssl來生成。具體的生成命令這裡就不細講了。</p><h2 class=pgc-h-arrow-right>PKI</h2><p>有了證書的格式，是不是就可以實際使用證書了呢？</p><p>其實這還是不夠的，我們還需要定義證書該由誰來頒發，如何頒發，如果作廢證書等。而PKI(Public-Key Infrastructure)公鑰基礎設施就是為了有效的使用證書而制定的一系列規範和協議。</p><p>PKI的組成主要有三部分：</p><ol start=1><li>用戶</li></ol><p>用戶是使用PKI的人，也就是需要藉助CA來發布自己的公鑰和獲取別人公鑰的人。</p><ol start=2><li>認證機構</li></ol><p>認證機構就是CA了，它是對證書進行管理的人。CA除了生成證書之外，還有一個非常重要的工作就是作廢證書。</p><p>因為用戶有可能會丟失密鑰，或者出於特殊的原因，廢棄掉某些證書。那麼就可以向CA發起一個作廢請求。而作廢的證書會被保存在CRL中。CRL就是對外的證書廢棄列表。用戶在使用證書的時候必須首先查看該證書是否在CRL列表中。如果在則該證書不能夠被使用。</p><ol start=3><li>倉庫</li></ol><p>倉庫是一個保存證書的數據庫，用戶註冊之後生成的證書都存在倉庫中，以供其他的用戶獲取使用。</p><h2 class=pgc-h-arrow-right>CA的層級結構</h2><p>我們在Fabric中有瞭解到有個root CA的概念，這是什麼意思呢？</p><p>我們從上面的介紹可以知道，其實CA不僅僅可以由機構來擔任，任何人只要會對公鑰進行簽名都可以構建CA。</p><p>如果是一個很大的機構要構建CA，比如一個總公司要構建CA，那麼它可以先構建一個root CA，然後再在root CA之下構建子CA，這些子CA來負責底層具體用戶的證書頒發。</p><h2 class=pgc-h-arrow-right>對證書的攻擊</h2><p>因為證書是基於數字簽名技術，所以所有基於數字簽名技術的攻擊都適用於證書。</p><p>這裡主要針對於PKI體系的攻擊做個介紹：</p><ol start=1><li>在公鑰註冊之前替換公鑰。</li></ol><p>用戶B如果想生成證書的話，需要在CA註冊，並且將自己的公鑰提交到CA。那麼在公鑰提交之前，可能會被惡意替換。</p><ol start=2><li>竊取認證機構的私鑰</li></ol><p>所有的用戶公鑰都是由CA的私鑰做簽名的，如果CA的私鑰被盜的話，那麼所有的證書都是不安全的。</p><p>CA其實是一箇中心化的機構，中心化的機構往往都會出現這樣的問題。攻破一個就攻破了所有。</p><ol start=3><li>偽裝成認證機構</li></ol><p>攻擊者可以偽裝成認證機構讓用戶上當。所以用戶在註冊的時候一定要小心。</p><ol start=4><li>CRL時間差攻擊</li></ol><p>如果B的密鑰丟了，那麼他會向CA提交一個廢棄申請，但是在提交申請到申請生效，到CRL生成直接有一個時間差，這段時間內廢棄的密鑰仍然可以合法使用。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>密碼</a></li><li><a>學中</a></li><li><a>證書</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/ecc07c69.html alt=密碼學基礎——偽隨機數生成器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/REjHSN258CdIig style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ecc07c69.html title=密碼學基礎——偽隨機數生成器>密碼學基礎——偽隨機數生成器</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9eb90942.html alt="Excel2016 如何對工作簿和表設置密碼，並設置只讀權限？" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/153397512017106e9ffbd78 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9eb90942.html title="Excel2016 如何對工作簿和表設置密碼，並設置只讀權限？">Excel2016 如何對工作簿和表設置密碼，並設置只讀權限？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/59e13ccf.html alt=王格：孟子學中的“端”喻詮釋 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/dfic-imagehandler/72a1bb5f-07f8-413a-9c83-9cdd9922688a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/59e13ccf.html title=王格：孟子學中的“端”喻詮釋>王格：孟子學中的“端”喻詮釋</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/35d1d959.html alt=WiFi密碼被破解？攻擊方法離不開這四種 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/97202ff0b7bc4449bf383e67c70aba27 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/35d1d959.html title=WiFi密碼被破解？攻擊方法離不開這四種>WiFi密碼被破解？攻擊方法離不開這四種</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6ca2762d.html alt=密碼學基礎：AES加密算法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/deb209a70991491a8637d3fbe44268b7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6ca2762d.html title=密碼學基礎：AES加密算法>密碼學基礎：AES加密算法</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/787c6421.html alt=心理學中的4大氣質類型 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9af1983ebac84725bd02462b6b5f1d37 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/787c6421.html title=心理學中的4大氣質類型>心理學中的4大氣質類型</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/eb6d3e47.html alt=學中醫必備的基礎（下） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e6c2823e6c58472c85ce447ea2563aa0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/eb6d3e47.html title=學中醫必備的基礎（下）>學中醫必備的基礎（下）</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/3f857cc1.html alt=解密數學的密碼-代數思想篇 （附初中代數總結以及常見考點） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/c9265d98-4fcd-4627-adb7-dfcadab94e80 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/3f857cc1.html title=解密數學的密碼-代數思想篇 （附初中代數總結以及常見考點）>解密數學的密碼-代數思想篇 （附初中代數總結以及常見考點）</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/559820b0.html alt=試驗檢測證書第三批639人初始登記公佈…… class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/5411eeb3-7686-4252-af4d-8bbe4dfcc7d3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/559820b0.html title=試驗檢測證書第三批639人初始登記公佈……>試驗檢測證書第三批639人初始登記公佈……</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/11daaf51.html alt=探索天賦密碼——皮紋測試 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/57e14adace6e4c7da40bbcf38b347dd2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/11daaf51.html title=探索天賦密碼——皮紋測試>探索天賦密碼——皮紋測試</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/ef46af08.html alt=中國臨床研究找到危重型胰腺炎致死“密碼” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/ef46af08.html title=中國臨床研究找到危重型胰腺炎致死“密碼”>中國臨床研究找到危重型胰腺炎致死“密碼”</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/d6603f86.html alt="自然| 解密紅樹林的“生態密碼”" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/514fe68bf44548ddb7793deb3188d117 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/d6603f86.html title="自然| 解密紅樹林的“生態密碼”">自然| 解密紅樹林的“生態密碼”</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/1d5cc11a.html alt=對公工行證書收入會計分錄 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1534384143814c12ab5adf5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/1d5cc11a.html title=對公工行證書收入會計分錄>對公工行證書收入會計分錄</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/e08e8324.html alt=銅川市保密和密碼知識有獎競賽題 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RqALLGVINNInKI style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/e08e8324.html title=銅川市保密和密碼知識有獎競賽題>銅川市保密和密碼知識有獎競賽題</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/0291123c.html alt=心理學中的心理障礙與心理諮詢 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e1cdf91785e241788826f2187377ab32 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/0291123c.html title=心理學中的心理障礙與心理諮詢>心理學中的心理障礙與心理諮詢</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>