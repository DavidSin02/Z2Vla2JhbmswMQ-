<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>CAN總線協議，CAN總線案例 | 极客快訊</title><meta property="og:title" content="CAN總線協議，CAN總線案例 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/bcd5f6bcf7a943d79c5ff1d03287bf6b"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/d65f394c.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/d65f394c.html><meta property="article:published_time" content="2020-10-29T21:09:31+08:00"><meta property="article:modified_time" content="2020-10-29T21:09:31+08:00"><meta name=Keywords content><meta name=description content="CAN總線協議，CAN總線案例"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/d65f394c.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>CAN總線協議，CAN總線案例</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>對於 CAN總線在汽車上的應用，具有很多行業標準或者是國際標準，比如國際標準化組織的ISO11992、ISO11783以及汽車工程協會的SAE J1939。CAN總線已經作為汽車的一種標準設備列入汽車的整體設計中。一提到總線，就很容易讓我們聯想到複雜錯亂的計算機電線。但這些總線卻起著十分重要的作用。以下就這個CAN總線協議的發展歷程、特點、基本規則以及傳輸和結構來總結介紹一下。</p><p>CAN總線發展</p><p>控制器局域網CAN是由德國博世公司在20世紀80年代專門為汽車行業開發的一種串行通信總線。由於其高性能、高可靠性以及獨特的設計而越來越受到人們的重視，被廣泛應用於諸多領域。而且能夠檢測出產生的任何錯誤。當信號傳輸距離達到10km時，CAN仍可提供高達50kbit/s的數據傳輸速率。由於CAN總線具有很高的實時性能和應用範圍，從位速率最高可達1Mbps的高速網絡<span>到低</span>成本多線路的50Kbps網絡都可以任意搭配。因此，CAN<span>己經</span>在汽車業、航空業、工業控制、安全防護等領域中得到了廣泛應用。</p><p>CAN總線基本規則：</p><p>（1）總線訪問:<strong>採用載波監聽多路訪問</strong>，CAN控制器總能夠在總線空閒時，<strong>就是節點偵聽到網絡上至少存在3個空閒位（隱性位）時開始發送，採用硬同步，所有的控制器同步都為與幀的起始的前沿。</strong>過了一定時間，並在一定條件後，重同步。</p><p>（2）<strong>仲裁</strong>：各節點向總線發電平時，也<strong>對總線上電平進行讀取，並於自身發送的電平進行比較，相同則發下一位</strong>，直至全部發完。不同則說明網絡上有更高優先級的信息幀正在發送，即停止發送，退出競爭。</p><p>（3）<strong>編碼/解碼</strong>：幀起始域，仲裁域，控制域，數據域和CRC序列均使用<strong>位填充技術</strong>進行編碼，<strong>就是5個連續的同狀態電平插入一位與它相補的電平</strong>，還原時每5個同狀態的電平後的相補電平被刪除。</p><p>（4）出錯標註：當檢測到位錯誤，填充錯誤，形式錯誤或應答錯誤時，<strong>檢測出錯條件的CAN控制器將發送一個出錯標誌</strong>。</p><p>（5）超載標註，一些控制器會發送一個或多個超載幀以延遲下一個數據幀或遠程幀的發送</p><p>CAN的特點</p><p>（1）通信方式靈活。<strong>多主從方式工作，網絡上任何節點均可以在任何時刻主動的向其他節點發送信息，不分主從</strong>。無需站地址等節點信息。可以構成多機備份系統。</p><p>（2）CAN網絡上的節點信息分成<strong>不同的優先級</strong>，可以滿足不同的實時要求。</p><p>（3）CAN採取非破壞性的總線仲裁技術，多個節點同時發送信息時，<strong>優先級低的節點會主動退出發送</strong>。</p><p>（4）CAN只需通過報文濾波就可以實現點對點，1點對多點及全局廣播等幾種方式傳送接收，無需調度。</p><p>（5）CAN的<strong>直接通信距離最遠可達10KM（5Kb/s）</strong>，通信速率最高可達1Mb/s（40M）。</p><p>（6）CAN上的<strong>節點數目前可達110個</strong>；<strong>報文標示符可達2032種</strong>（CAN2.0A ），而CAN2.0B報文<span>標示符</span>幾乎不受限制。</p><p>（7）CAN通信採用短幀格式，<strong>傳輸時間短，抗干擾強，極好的驗錯效果</strong>，每幀最多8B足以滿足控制要求，不會佔用過長總線時間，實時性強。</p><p>（8）CAN每幀都有CRC校驗及其他驗錯措施。</p><p>（9）接口中集成了CAN協議的物理層和數據鏈路層。</p><p>（10）CAN的<strong>通信介質可為雙絞線或同軸電纜，光纖</strong>。</p><p>（11）CAN節點在錯誤嚴重情況下具有自動關閉輸出功能。</p><p>CAN總線的報文傳輸和結構</p><p>報文類型</p><p>在CAN2．0B的版本協議中有兩種不同的幀格式，不同之處為標識符域的長度不同，含有ll位標識符的幀稱之為標準幀，而含有29位標識符的幀稱為擴展幀。如CAN1．2版本協議所描述，兩個版本的標準數據幀格式和遠程幀格式分別是等效的，而擴展格式是CAN2．0B協議新增加的特性。為使控制器設計相對簡單，並不要求執行完全的擴展格式，對於新型控制器而言，必須不加任何限制的支持標準格式。</p><p>幀類型</p><p>(1)數據幀(Data ) 數據幀將數據從發送器傳輸到接收器。</p><p>(2)遠程幀(Remote ) 總線單元發出遠程幀，請求發送具有同一標識符的數據幀。</p><p>(3)錯誤幀(Error ) 任何單元檢測到總線錯誤就發出錯誤幀。</p><p>(4)過載幀(Overload ) 過載幀用在相鄰數據幀或遠程幀之間提供附加的延時。</p><p>數據幀或遠程幀與前一個幀之間都會有一個隔離域，即幀間間隔。數據幀和遠程幀可以使用標準幀及擴展幀兩種格式。</p><div class=pgc-img><img alt=CAN總線協議，CAN總線案例 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bcd5f6bcf7a943d79c5ff1d03287bf6b><p class=pgc-img-caption></p></div><p>對此，很多世界級的半導體廠商專門針對CAN總線在汽車上的應用，提出了自己的全套解決方案。上圖是某半導體公司的汽車網絡解決方案。</p><p>通過上圖可以看到，藍色較粗線代表CAN總線，它連接了傳動裝置控制單元、燈控單元、門控單元、座椅控制單元以及儀表盤控制單元等等。紅色較細線代表LIN總線，由LIN總線構成的LIN網絡作為CAN網絡的輔助網絡，連接了車窗控制單元、雨刷控制單元、天窗控制單元等低速設備。</p><p>LIN網絡（Local Interconnect Network），由汽車廠商為汽車開發，作為CAN網絡的輔助網絡，目標應用在低端系統，不需要CAN的性能、帶寬以及複雜性。LIN的工作方式是一主多從，單線雙向低速傳送數據（最高20K位/秒），與CAN相比具有更低的成本，且基於 UART接口，無需硬件協議控制器，使系統成本更低。</p><p>在未來的汽車中，由汽車廠商和半導體廠商共同組成的團體FlexRay Consortium，致力於發展更高速的、具有容錯性的、支持分佈式控制系統的總線“X-by-Wire，X-by-Wire的通信速率將達到10M。屆時，X-by-Wire將和CAN、LIN一起組成整個汽車的通信控制網絡。</p><p>若從事CAN總線在汽車中的應用上的開發，就必須有一套高效的開發工具，包括軟件產品和硬件產品。德國PEAK公司致力於CAN總線開發產品的研發，提供了一系列產品，是世界上知名的CAN設備提供商。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>總線</a></li><li><a>協議</a></li><li><a>案例</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/d1a9e79e.html alt=CAN總線協議詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/72c49427aae34856b73a5f367c1f2c28 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d1a9e79e.html title=CAN總線協議詳解>CAN總線協議詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/03a7fbb0.html alt="[ 案例分析 ] 汽車總線故障檢修案例（3個）" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/03a7fbb0.html title="[ 案例分析 ] 汽車總線故障檢修案例（3個）">[ 案例分析 ] 汽車總線故障檢修案例（3個）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2a286add.html alt=KNX-EIB通信協議的基本原理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/0eb231dd55b34ebcbbd7ac0328fd48a9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2a286add.html title=KNX-EIB通信協議的基本原理>KNX-EIB通信協議的基本原理</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/decdc747.html alt=PPP協議（點對點協議）詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/888a1b78159844579e62e13ed788ff33 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/decdc747.html title=PPP協議（點對點協議）詳解>PPP協議（點對點協議）詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/69d23a45.html alt=工業控制常用的接口協議大全 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/2fb460305abe4cbaa0210943132dca15 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/69d23a45.html title=工業控制常用的接口協議大全>工業控制常用的接口協議大全</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4ea884f1.html alt=達成執行和解協議，執行處於一種暫停狀態 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/5f266a9654cd4baea7b6bfe99f1e6fad style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4ea884f1.html title=達成執行和解協議，執行處於一種暫停狀態>達成執行和解協議，執行處於一種暫停狀態</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3844d7f0.html alt=幹熄焦事故處理及案例分析 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/4f2463465a6a4c5fb2e8f708400ba596 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3844d7f0.html title=幹熄焦事故處理及案例分析>幹熄焦事故處理及案例分析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/10860117.html alt=幹熄焦開工事故——案例分析 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/843fd40980ef46f09b2e95d37843402d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/10860117.html title=幹熄焦開工事故——案例分析>幹熄焦開工事故——案例分析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9042868e.html alt=以案為鑑｜七月份部分典型事故案例 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/S3vFp7p6LnjJ1A style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9042868e.html title=以案為鑑｜七月份部分典型事故案例>以案為鑑｜七月份部分典型事故案例</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1a3ee55d.html alt=臺達PLC、伺服、總線在多線切割機排線應用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/81b4f47eaf02436d85835d3a63750236 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1a3ee55d.html title=臺達PLC、伺服、總線在多線切割機排線應用>臺達PLC、伺服、總線在多線切割機排線應用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/51319a1a.html alt=創析材料研究院失效分析案例分享（一） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/3e580000a16f2d22b8c5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/51319a1a.html title=創析材料研究院失效分析案例分享（一）>創析材料研究院失效分析案例分享（一）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9f8ef1f4.html alt="一文帶你看網絡協議之因特網中的轉發和編址！| 原力計劃" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/S0IOdi2GF5Q4RI style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9f8ef1f4.html title="一文帶你看網絡協議之因特網中的轉發和編址！| 原力計劃">一文帶你看網絡協議之因特網中的轉發和編址！| 原力計劃</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/90f48362.html alt=帶你看網絡協議之因特網中的轉發和編址 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/a00aa25e7b3c40dc9f1dfedcc73b804b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/90f48362.html title=帶你看網絡協議之因特網中的轉發和編址>帶你看網絡協議之因特網中的轉發和編址</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/79ca353a.html alt=「案例實戰」案例解析（24）自噴系統 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/c8b46117-9cc6-4c33-be2f-ca4e35b8431f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/79ca353a.html title=「案例實戰」案例解析（24）自噴系統>「案例實戰」案例解析（24）自噴系統</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/db5ee11c.html alt=「案例實戰」案例解析（39）自噴系統 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/db5ee11c.html title=「案例實戰」案例解析（39）自噴系統>「案例實戰」案例解析（39）自噴系統</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>