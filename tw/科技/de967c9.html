<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>用 R 收集和映射推特數據的初學者嚮導 | 极客快訊</title><meta property="og:title" content="用 R 收集和映射推特數據的初學者嚮導 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/3216000129d93faaa188"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/de967c9.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/de967c9.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/de967c9.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/de967c9.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/de967c9.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/de967c9.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/de967c9.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/de967c9.html><meta property="article:published_time" content="2020-10-29T21:07:00+08:00"><meta property="article:modified_time" content="2020-10-29T21:07:00+08:00"><meta name=Keywords content><meta name=description content="用 R 收集和映射推特數據的初學者嚮導"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/de967c9.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>用 R 收集和映射推特數據的初學者嚮導</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p><img alt="用 R 收集和映射推特數據的初學者嚮導" onerror=errorimg.call(this); src=https://p3.pstatp.com/large/3216000129d93faaa188></p><blockquote><p>學習使用 R 的 twitteR 和 leaflet 包, 你就可以把任何話題的推文定位畫在地圖上。 -- Dorris Scott</p></blockquote><blockquote>本文導航<ul class=list-paddingleft-2><li><p>-創建應用程序 …… 09%</p></li><li><p>-收集推特數據 …… 23%</p></li><li><p>-生成地圖 …… 50%</p></li><li><p>-總結 …… 81%</p></li></ul></blockquote><blockquote>編譯自： https://opensource.com/article/17/6/collecting-and-mapping-twitter-data-using-r<p>作者： Dorris Scott</p><p>譯者： XYenChi</p></blockquote><blockquote><p>學習使用 R 的 twitteR 和 leaflet 包, 你就可以把任何話題的推文定位畫在地圖上。</p></blockquote><p>當我開始學習 R ，我也需要學習如何出於研究的目的地收集推特數據並對其進行映射。儘管網上關於這個話題的信息很多，但我發覺難以理解什麼與收集並映射推特數據相關。我不僅是個 R 新手，而且對各種教程中技術名詞不熟悉。但儘管困難重重，我成功了！在這個教程裡，我將以一種新手程序員都能看懂的方式來攻略如何收集推特數據並將至展現在地圖中。</p><h1>創建應用程序</h1><p>如果你沒有推特帳號，首先你需要 註冊一個[1]。然後，到 apps.twitter.com[2] 創建一個允許你收集推特數據的應用程序。別擔心，創建應用程序極其簡單。你創建的應用程序會與推特應用程序接口（API）相連。 想象 API 是一個多功能電子個人助手。你可以使用 API 讓其它程序幫你做事。這樣一來，你可以接入推特 API 令其收集數據。只需確保不要請求太多，因為推特數據請求次數是有限制[3] 的。</p><p>收集推文有兩個可用的 API 。你若想做一次性的推文收集，那麼使用 REST API. 若是想在特定時間內持續收集，可以用 streaming API。教程中我主要使用 REST API。</p><p>創建應用程序之後，前往 Keys and Access Tokens 標籤。你需要 Consumer Key (API key)、 Consumer Secret (API secret)、 Access Token 和 Access Token Secret 才能在 R 中訪問你的應用程序。</p><h1>收集推特數據</h1><p>下一步是打開 R 準備寫代碼。對於初學者，我推薦使用 RStudio[4]，這是 R 的集成開發環境 (IDE) 。我發現 RStudio 在解決問題和測試代碼時很實用。 R 有訪問該 REST API 的包叫 twitteR[5]。</p><p>打開 RStudio 並新建 RScript。做好這些之後，你需要安裝和加載 twitteR 包:</p><blockquote>install.packages("twitteR")<p>#安裝 TwitteR</p><p>library (twitteR)</p><p>#載入 TwitteR</p></blockquote><p>安裝並載入 twitteR 包之後，你得輸入上文提及的應用程序的 API 信息：</p><blockquote>api_key &lt;- ""<p>#在引號內放入你的 API key</p><p>api_secret &lt;- ""</p><p>#在引號內放入你的 API secret token</p><p>token &lt;- ""</p><p>#在引號內放入你的 token</p><p>token_secret &lt;- ""</p><p>#在引號內放入你的 token secret</p></blockquote><p>接下來，連接推特訪問 API：</p><blockquote>setup_twitter_oauth(api_key, api_secret, token, token_secret)</blockquote><p>我們來試試讓推特搜索有關社區花園和農夫市場：</p><blockquote>tweets &lt;- searchTwitter("community garden OR #communitygarden OR farmers market OR #farmersmarket", n = 200, lang = "en")</blockquote><p>這個代碼意思是搜索前 200 篇 (n = 200) 英文 (lang = "en") 的推文, 包括關鍵詞 community garden 或 farmers market 或任何提及這些關鍵詞的話題標籤。</p><p>推特搜索完成之後，在數據框中保存你的結果：</p><blockquote>tweets.df &lt;-twListToDF(tweets)</blockquote><p>為了用推文創建地圖，你需要收集的導出為 .csv 文件:</p><blockquote>write.csv(tweets.df, "C:\Users\YourName\Documents\ApptoMap\tweets.csv")<p>#an example of a file extension of the folder in which you want to save the .csv file.</p></blockquote><p>運行前確保 R 代碼已保存然後繼續進行下一步。.</p><h1>生成地圖</h1><p>現在你有了可以展示在地圖上的數據。在此教程中，我們將用一個 R 包 Leaflet[6] 做一個基本的應用程序，這是一個生成交互式地圖的熱門 JavaScript 庫。 Leaflet 使用 magrittr[7] 管道運算符 (%>%)， 因為其語法自然，易於寫代碼。剛接觸可能有點奇怪，但它確實降低了寫代碼的工作量。</p><p>為了清晰起見，在 RStudio 打開一個新的 R 腳本安裝這些包：</p><blockquote>install.packages("leaflet")<p>install.packages("maps")</p><p>library(leaflet)</p><p>library(maps)</p></blockquote><p>現在需要一個路徑讓 Leaflet 訪問你的數據：</p><blockquote>read.csv("C:\Users\YourName\Documents\ApptoMap\tweets.csv", stringsAsFactors = FALSE)</blockquote><p>stringAsFactors = FALSE 意思是保留信息，不將它轉化成 factors。 (想了解 factors，讀這篇文章"stringsAsFactors: An unauthorized biography"[8]， 作者 Roger Peng）</p><p>是時候製作你的 Leaflet 地圖了。我們將使用 OpenStreetMap基本地圖來做你的地圖：</p><blockquote>m &lt;- leaflet(mymap) %>% addTiles()</blockquote><p>我們在基本地圖上加個圈。對於 lng 和 lat，輸入包含推文的經緯度的列名，並在前面加個~。 ~longitude 和 ~latitude 指向你的 .csv 文件中與列名：</p><blockquote>m %>% addCircles(lng = ~longitude, lat = ~latitude, popup = mymap$type, weight = 8, radius = 40, color = "#fb3004", stroke = TRUE, fillOpacity = 0.8)</blockquote><p>運行你的代碼。會彈出網頁瀏覽器並展示你的地圖。這是我前面收集的推文的地圖：</p><p><img alt="用 R 收集和映射推特數據的初學者嚮導" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/322400029b8bdde3350c></p><p>推文定位地圖</p><p>帶定位的推文地圖，使用了 Leaflet 和 OpenStreetMap CC-BY-SA[9]</p><p>雖然你可能會對地圖上的圖文數量如此之小感到驚奇，通常只有 1% 的推文記錄了地理編碼。我收集了總數為 366 的推文，但只有 10（大概總推文的 3%）是記錄了地理編碼的。如果你為得到記錄了地理編碼的推文而困擾，改變搜索關鍵詞看看能不能得到更好的結果。</p><h1>總結</h1><p>對於初學者，把以上所有碎片結合起來，從推特數據生成一個 Leaflet 地圖可能很艱難。 這個教程基於我完成這個任務的經驗，我希望它能讓你的學習過程變得更輕鬆。</p><p>（題圖：瓊斯·貝克[10]. CC BY-SA 4.0[11]. 來源: Cloud[12], Globe[13]. Both CC0[14].）</p><hr><p>作者簡介：</p><p>Dorris Scott - Dorris Scott 是佐治亞大學的地理學博士生。她的研究重心是地理信息系統（GIS）、 地理數據科學、可視化和公共衛生。她的論文是在一個 GIS 系統接口將退伍軍人福利醫院的傳統和非傳統數據結合起來，幫助病人為他們的健康狀況作出更為明朗的決定。</p><hr><p>via: https://opensource.com/article/17/6/collecting-and-mapping-twitter-data-using-r</p><p>作者：Dorris Scott[15] 譯者：XYenChi 校對：wxy</p><p>本文由 LCTT 原創編譯，Linux中國 榮譽推出</p><ul class=list-paddingleft-2><li><p>[1]: 註冊一個 - https://twitter.com/signup</p></li><li><p>[2]: apps.twitter.com - https://apps.twitter.com/</p></li><li><p>[3]: 限制 - https://dev.twitter.com/rest/public/rate-limiting</p></li><li><p>[4]: RStudio - https://www.rstudio.com/</p></li><li><p>[5]: twitteR - https://cran.r-project.org/web/packages/twitteR/twitteR.pdf</p></li><li><p>[6]: Leaflet - https://rstudio.github.io/leaflet</p></li><li><p>[7]: magrittr - https://github.com/smbache/magrittr</p></li><li><p>[8]: "stringsAsFactors: An unauthorized biography" - http://simplystatistics.org/2015/07/24/stringsasfactors-an-unauthorized-biography/</p></li><li><p>[9]: CC-BY-SA - https://creativecommons.org/licenses/by-sa/2.0/</p></li><li><p>[10]: 瓊斯·貝克 - https://opensource.com/users/jason-baker</p></li><li><p>[11]: CC BY-SA 4.0 - https://creativecommons.org/licenses/by-sa/4.0/</p></li><li><p>[12]: Cloud - https://pixabay.com/en/clouds-sky-cloud-dark-clouds-1473311/</p></li><li><p>[13]: Globe - https://pixabay.com/en/globe-planet-earth-world-1015311/</p></li><li><p>[14]: CC0 - https://creativecommons.org/publicdomain/zero/1.0/</p></li><li><p>[15]: Dorris Scott - https://opensource.com/users/dorrisscott</p></li></ul></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>推特數</a></li><li><a>初學者</a></li><li><a>映射</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/064a5e20.html alt=菜鳥攻略（初學者玩轉多態與接口） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/3e6500019eb9d4b4a4ed style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/064a5e20.html title=菜鳥攻略（初學者玩轉多態與接口）>菜鳥攻略（初學者玩轉多態與接口）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5400247a.html alt=C#對於初學者來講，數據類型的種類是一把必備的利刃 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/f421e70dc2e6402f99afdc234d1e2e30 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5400247a.html title=C#對於初學者來講，數據類型的種類是一把必備的利刃>C#對於初學者來講，數據類型的種類是一把必備的利刃</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/858761c9.html alt=線纜設計初學者（小白篇） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/2fb0231d819444a18f93ec7252ff85ba style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/858761c9.html title=線纜設計初學者（小白篇）>線纜設計初學者（小白篇）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/23bb988c.html alt=彙編語言源程序結構，初學者收藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/952d3d471d5348dca7cca7c9a5e24df0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/23bb988c.html title=彙編語言源程序結構，初學者收藏>彙編語言源程序結構，初學者收藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/69032ff5.html alt=電子初學者之歐姆定律 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6ba2949f388b47e28ace9b9560de9a06 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/69032ff5.html title=電子初學者之歐姆定律>電子初學者之歐姆定律</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d738a055.html alt=PLC初學者的福音，教你如何把ST語言程序轉換為梯形圖 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/dfic-imagehandler/e1beb657-56d4-4275-9a38-56f57e3aff36 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d738a055.html title=PLC初學者的福音，教你如何把ST語言程序轉換為梯形圖>PLC初學者的福音，教你如何把ST語言程序轉換為梯形圖</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1f68839b.html alt=Vray教程：初學者的基本室內日光照明 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/75f3b4b874ee4c009838bfca2a717ead style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1f68839b.html title=Vray教程：初學者的基本室內日光照明>Vray教程：初學者的基本室內日光照明</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2f04658b.html alt=彩鉛初學者練習線條，風鳳尾花繪畫教程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/153828898154045fde04ce1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2f04658b.html title=彩鉛初學者練習線條，風鳳尾花繪畫教程>彩鉛初學者練習線條，風鳳尾花繪畫教程</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/ae49a0de.html alt=適合初學者飼養的熱帶魚TOP10 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/3203000484478ef9c453 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/ae49a0de.html title=適合初學者飼養的熱帶魚TOP10>適合初學者飼養的熱帶魚TOP10</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/a8073e7f.html alt=初學者練習氣息最重要的技巧都在這裡 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/786d535f3e1042a19bd6a10e8ac72f92 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/a8073e7f.html title=初學者練習氣息最重要的技巧都在這裡>初學者練習氣息最重要的技巧都在這裡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/28a585f4.html alt=清朝朱星源奇門占卜祕籍手抄本，初學者不要錯過哦 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/28a585f4.html title=清朝朱星源奇門占卜祕籍手抄本，初學者不要錯過哦>清朝朱星源奇門占卜祕籍手抄本，初學者不要錯過哦</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a0026b8c.html alt="咖啡初學者指南- 如何做拿鐵藝術" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e19fc7b04164402cb427301d19b06467 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a0026b8c.html title="咖啡初學者指南- 如何做拿鐵藝術">咖啡初學者指南- 如何做拿鐵藝術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/19269038.html alt=初學者瑜伽，提升髖部靈活性的下半身循環瑜伽體式，能通暢下行氣 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/411e45558da247d7a1c8840bb3258523 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/19269038.html title=初學者瑜伽，提升髖部靈活性的下半身循環瑜伽體式，能通暢下行氣>初學者瑜伽，提升髖部靈活性的下半身循環瑜伽體式，能通暢下行氣</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e0517355.html alt=篆刻初學者入門技法：衝刀法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ee9258781847497bbe325fbe0f4a07cc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e0517355.html title=篆刻初學者入門技法：衝刀法>篆刻初學者入門技法：衝刀法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0bfee199.html alt=前端初學者必須記住的8個css選擇器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c2ef61ebcdb74c6a9801e4fdf8a7d0f0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0bfee199.html title=前端初學者必須記住的8個css選擇器>前端初學者必須記住的8個css選擇器</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>