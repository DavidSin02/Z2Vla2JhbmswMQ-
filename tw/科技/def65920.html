<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>「收藏」linux快速查找文件的技巧 | 极客快訊</title><meta property="og:title" content="「收藏」linux快速查找文件的技巧 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/d6af97df73924bb98a0b251d44ea4826"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/def65920.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/def65920.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/def65920.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/def65920.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/def65920.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/def65920.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/def65920.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/def65920.html><meta property="article:published_time" content="2020-11-14T20:59:46+08:00"><meta property="article:modified_time" content="2020-11-14T20:59:46+08:00"><meta name=Keywords content><meta name=description content="「收藏」linux快速查找文件的技巧"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/def65920.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>「收藏」linux快速查找文件的技巧</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>有時候，我們需要在系統中查找文件，<strong>Linux有一個非常優秀的搜尋系統</strong>。</p><p>一般提到搜尋文件的時候，很多人第一反應是find命令，但其實find不是常用的，因為速度慢，而且毀硬盤。一般我們都先用whereis/locate來查找，找不到了會用find找，<strong>前兩個命令是利用數據庫來搜尋數據，沒有實際的搜尋硬盤，所以效率比較高。</strong></p><p><strong>which</strong></p><p>which 可以根據[PATH]這個環境變量所規範的路徑，去搜尋執行檔，which的<strong>侷限性比較高</strong>，只能用來<strong>搜尋執行檔</strong>。</p><div class=pgc-img><img alt=「收藏」linux快速查找文件的技巧 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/d6af97df73924bb98a0b251d44ea4826><p class=pgc-img-caption></p></div><p><strong>whereis</strong></p><p><strong>whereis 用來尋找特定文件</strong></p><p>-b：只查找binary文件</p><p>-m：只找在說明文件manual路徑下的文件</p><p>-s：只找source來源文件</p><p>-u：沒有說明檔的文件</p><div class=pgc-img><img alt=「收藏」linux快速查找文件的技巧 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/bd84e2863b3f430c8f4977fcfa058edd><p class=pgc-img-caption></p></div><p><strong>linux</strong>系統會將系統內的所有檔案都記錄在一個數據庫文檔裡，當<strong>使用whereis或者是locate時</strong>，都會以此數據庫文檔為準，所以，有時候當使用這兩個命令時，<strong>會找到一些已被刪除的文件，而且有時候也找不到最新的文件</strong>。</p><p><strong>linux每天會針對linxu主機上所有文件的所在進行搜尋數據庫的更新</strong>，更新的程序就是updatedb。</p><p><strong>locate</strong></p><p><strong>locate是一個使用方法非常簡單的命令</strong>，當我們使用locatefilename進行搜索的時候，只要在完整文件名（包含路徑名）中包含filename，就會被顯示出來。</p><p><strong>find</strong></p><p><strong>find是一個非常有效的工具，它可以遍歷當前目錄甚至整個文件系統來查找某些文件或者目錄。</strong></p><p><strong>find命令的一般形式為</strong>：</p><p>find pathname –options [-print –exec -ok]</p><p><strong>pathname</strong>：查找的目錄路徑，比如用.表示當前目錄，用/表示系統根目錄。</p><p><strong>-print</strong>：將匹配的文件輸出到標準輸出。</p><p><strong>-exec</strong>：對匹配的文件執行該參數所給出的shell命令 exec後跟隨要執行的命令，然後是一對{}，一個空格和一個，然後是一個;。<strong>當你使用這一個選項查找文件並刪除之前，強烈建議先用ls查看一下，再執行。</strong>例如find . –type f –exec ls–l {} ;</p><p><strong>-ok</strong>：與-exec作用相同，只不過以一種更為安全的模式來執行該參數所給出的shell命令，在執行每一個命令之前，都會給出提示，讓用戶來確定是否執行。<strong>當我們需要執行mv或者rm的命令時，可以用ok，這樣可以對每個匹配到的文件進行操作之前提示你，並讓你確認是否確認操作。</strong>find . –name “*.log” –mtime+5 –ok rm {} ;</p><p>find命令的選項或表達式</p><p><strong>-name</strong>：按照文件名查找文件 find . –name xxx</p><p><strong>-perm</strong>：按照文件權限來查找文件 find . –perm 755</p><p><strong>-prune</strong>：可以<strong>使find命令不在當前指定的目錄中查找</strong>，如果同時使用了-depth選項，那麼-prune選項將會被find命令忽略</p><p><strong>-user</strong>：按照文件屬主來查找文件。</p><p><strong>-group</strong>：按照文件所屬的組來查找文件</p><p>-<strong>mtime –n +n：按照文件的更改時間來查找，-n表示文件更改時間距現在n天內，+n表示更改時間距現在n天以前。</strong>類似的還有-atime和-ctime find / -mtime -5</p><p><strong>-nogroup</strong>：查找五有效所屬組的文件，即該文件所屬的組在/etc/groups中不存在</p><p><strong>-nouser</strong>：查找無有效屬主的文件，該文件的屬主在/etc/passwd中不存在</p><p><strong>-newer file1 ! file2</strong>：查找更改時間比文件file1新單比文件file2舊的文件</p><p><strong>-type：查找某種特定類型的文件，比如</strong></p><p>b – 塊設備文件</p><p>d – 目錄</p><p>c – 字符設備文件</p><p>p – 管道文件</p><p>l – 符號鏈接文件</p><p>f – 普通文件</p><p><strong>-size n[c]</strong>：查找文件長度為n塊的文件，帶有c時表示文件長度以字節計算</p><p><strong>-depth</strong>：首先查找當前目錄中的文件，然後再在其子目錄中查找</p><p><strong>-fstype</strong>：查找位與某一類型文件系統中的文件，這些文件系統類型通常可以在/etc/fstab中找到</p><p><strong>-mount</strong>：查找文件時不跨越文件系統mount點</p><p><strong>-follow</strong>：如果find命令遇到符號鏈接文件，就跟蹤到鏈接所指向的文件</p><p><strong>-cpio</strong>：對匹配的文件使用cpio命令，將這些文件備份到磁帶設備中</p><p><strong>xargs</strong></p><p>最後我們再看一個命令，在用find的-exec選項處理匹配到的文件時，會將所有匹配到的文件一起傳遞給exec執行，但有些系統會對能夠傳遞給exec的命令長度有限制，這樣在find命令運行幾分鐘之後，會出現溢出錯誤，錯誤信息一般是“參數列太長”或“參數列溢出”。這時候我們需要使用xargs，xargs每次只獲取一部分文件而不是全部，它會先處理最先獲取的一部分文件，然後是下一批，如此往復。</p><p>例如在整個系統中查找內存信息轉儲文件，然後把結果保存到另一個文件中：</p><p><strong>find . –name “core” –print | xargs echo “” > /tmp/core.log<br></strong><br></p><p><strong>作　　者：Testfan Chris<br></strong><br></p><p>出　　處：微信公眾號：自動化軟件測試平臺</p><p>版權說明：歡迎轉載，但必須註明出處，並在文章頁面明顯位置給出文章鏈接</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>查找文件</a></li><li><a>linux</a></li><li><a>收藏</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/3d6d5661.html alt=多收藏一個，就少求一次人—哪些日常必備神級網站，真正值得收藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/833949926ebf49b89c5fb4075a9cffdd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3d6d5661.html title=多收藏一個，就少求一次人—哪些日常必備神級網站，真正值得收藏>多收藏一個，就少求一次人—哪些日常必備神級網站，真正值得收藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/163498b3.html alt=導管固定有技巧，趕緊收藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/7092993e0b7c4b7abb4b90641a7100bc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/163498b3.html title=導管固定有技巧，趕緊收藏>導管固定有技巧，趕緊收藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b96594f0.html alt=淺談通信基本概念，收藏了 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e1bea466fcaa45bbbe91877c2c083ebe style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b96594f0.html title=淺談通信基本概念，收藏了>淺談通信基本概念，收藏了</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4c93cfa8.html alt=硬分幣的“平”版和“凸”版的區別——硬分幣收藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1523801533449b674a76943 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4c93cfa8.html title=硬分幣的“平”版和“凸”版的區別——硬分幣收藏>硬分幣的“平”版和“凸”版的區別——硬分幣收藏</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3a3acd02.html alt=收藏-水處理常用計算公式彙總 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c4733b279b994389b8d95831dbfa98d0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3a3acd02.html title=收藏-水處理常用計算公式彙總>收藏-水處理常用計算公式彙總</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1cb29714.html alt=常用家電功率大全！（值得收藏） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/152048995268229827a4e5b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1cb29714.html title=常用家電功率大全！（值得收藏）>常用家電功率大全！（值得收藏）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fbf17366.html alt=《弟子規》全文註釋（值得一生收藏） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/258158ac951540129e5e999c73beb9eb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fbf17366.html title=《弟子規》全文註釋（值得一生收藏）>《弟子規》全文註釋（值得一生收藏）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/03ed0d86.html alt=值的收藏的在線服務大起底 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/95e09df4-5138-40d8-8c15-f0c852efc10f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/03ed0d86.html title=值的收藏的在線服務大起底>值的收藏的在線服務大起底</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a086ea14.html alt="想收就收 永不丟失 收藏夾APP跨平臺收藏工具" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/3daeaf8c95bb422792202247a0b68fce style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a086ea14.html title="想收就收 永不丟失 收藏夾APP跨平臺收藏工具">想收就收 永不丟失 收藏夾APP跨平臺收藏工具</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/413e39b0.html alt=數據收藏管理 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/8c8faf89aad5455ab56928ec227db226 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/413e39b0.html title=數據收藏管理>數據收藏管理</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c23926da.html alt=“線上收藏館”為收藏愛好者服務 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/RZxKkNJ6Q7bdsr style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c23926da.html title=“線上收藏館”為收藏愛好者服務>“線上收藏館”為收藏愛好者服務</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/01f497f5.html alt=你缺的不是收藏而是藏經閣——那些好用的收藏夾整理插件/網站 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/e67aba1a12e74d4597176dba6e2bc387 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/01f497f5.html title=你缺的不是收藏而是藏經閣——那些好用的收藏夾整理插件/網站>你缺的不是收藏而是藏經閣——那些好用的收藏夾整理插件/網站</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6dd6fc04.html alt=超實用，電纜常用材料密度彙總，值得收藏！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/153792703510659652030f1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6dd6fc04.html title=超實用，電纜常用材料密度彙總，值得收藏！>超實用，電纜常用材料密度彙總，值得收藏！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8b655376.html alt=各類肥料的作用及使用方法！值得你收藏！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15354613618739d91d7ebc6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8b655376.html title=各類肥料的作用及使用方法！值得你收藏！>各類肥料的作用及使用方法！值得你收藏！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9b97f53d.html alt=一文讀懂電機控制，收藏 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/a38d90926a724277a62b56ef7970faab style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9b97f53d.html title=一文讀懂電機控制，收藏>一文讀懂電機控制，收藏</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>