<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Java正則表達式介紹 | 极客快訊</title><meta property="og:title" content="Java正則表達式介紹 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e0c20e1e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e0c20e1e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e0c20e1e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e0c20e1e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e0c20e1e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e0c20e1e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e0c20e1e.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e0c20e1e.html><meta property="article:published_time" content="2020-11-14T21:07:14+08:00"><meta property="article:modified_time" content="2020-11-14T21:07:14+08:00"><meta name=Keywords content><meta name=description content="Java正則表達式介紹"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/e0c20e1e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Java正則表達式介紹</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><p>正則表達式（regular expression）就是用一個“字符串”來描述一個特徵，然後去驗證另一個“字符串”是否符合這個特徵。比如 表達式“ab+” 描述的特徵是“一個 'a' 和 任意個 'b' ”，那麼 'ab', 'abb', 'abbbbbbbbbb' 都符合這個特徵。</p><p>正則表達式可以用來：（1）驗證字符串是否符合指定特徵，比如驗證是否是合法的郵件地址。（2）用來查找字符串，從一個長的文本中查找符合指定特徵的字符串，比查找固定字符串更加靈活方便。（3）用來替換，比普通的替換更強大。</p><p>正則表達式學習起來其實是很簡單的，不多的幾個較為抽象的概念也很容易理解。之所以很多人感覺正則表達式比較複雜，一方面是因為大多數的文檔沒有做到由淺入深地講解，概念上沒有注意先後順序，給讀者的理解帶來困難；另一方面，各種引擎自帶的文檔一般都要介紹它特有的功能，然而這部分特有的功能並不是我們首先要理解的。</p><p>文章中的每一個舉例，都可以點擊進入到測試頁面進行測試。閒話少說，開始。</p><p class=ql-align-center></p><p class=ql-align-center></p><p>1. 正則表達式規則</p><p>1.1 普通字符</p><p>字母、數字、漢字、下劃線、以及後邊章節中沒有特殊定義的標點符號，都是"普通字符"。表達式中的普通字符，在匹配一個字符串的時候，匹配與之相同的一個字符。</p><p><u>舉例1：表達式 "c"，在匹配字符串 "abcde" 時</u>，匹配結果是：成功；匹配到的內容是："c"；匹配到的位置是：開始於2，結束於3。（注：下標從0開始還是從1開始，因當前編程語言的不同而可能不同）</p><p><u>舉例2：表達式 "bcd"，在匹配字符串 "abcde" 時</u>，匹配結果是：成功；匹配到的內容是："bcd"；匹配到的位置是：開始於1，結束於4。</p><p class=ql-align-center></p><p class=ql-align-center></p><p>1.2 簡單的轉義字符</p><p>一些不便書寫的字符，採用在前面加 "\" 的方法。這些字符其實我們都已經熟知了。</p><p>表達式</p><p>可匹配</p><p>\r, \n</p><p>代表回車和換行符</p><p>\t</p><p>製表符</p><p>\\</p><p>代表 "\" 本身</p><p>還有其他一些在後邊章節中有特殊用處的標點符號，在前面加 "\" 後，就代表該符號本身。比如：^, $ 都有特殊意義，如果要想匹配字符串中 "^" 和 "$" 字符，則表達式就需要寫成 "\^" 和 "\$"。</p><p>表達式</p><p>可匹配</p><p>\^</p><p>匹配 ^ 符號本身</p><p>\$</p><p>匹配 $ 符號本身</p><p>\.</p><p>匹配小數點（.）本身</p><p>這些轉義字符的匹配方法與 "普通字符" 是類似的。也是匹配與之相同的一個字符。</p><p><u>舉例1：表達式 "\$d"，在匹配字符串 "abc$de" 時</u>，匹配結果是：成功；匹配到的內容是："$d"；匹配到的位置是：開始於3，結束於5。</p><p class=ql-align-center></p><p class=ql-align-center></p><p>1.3 能夠與 '多種字符' 匹配的表達式</p><p>正則表達式中的一些表示方法，可以匹配 '多種字符' 其中的任意一個字符。比如，表達式 "\d" 可以匹配任意一個數字。雖然可以匹配其中任意字符，但是隻能是一個，不是多個。這就好比玩撲克牌時候，大小王可以代替任意一張牌，但是隻能代替一張牌。</p><p>表達式</p><p>可匹配</p><p>\d</p><p>任意一個數字，0~9 中的任意一個</p><p>\w</p><p>任意一個字母或數字或下劃線，也就是 A~Z,a~z,0~9,_ 中任意一個</p><p>\s</p><p>包括空格、製表符、換頁符等空白字符的其中任意一個</p><p>.</p><p>小數點可以匹配除了換行符（\n）以外的任意一個字符</p><p><u>舉例1：表達式 "\d\d"，在匹配 "abc123" 時</u>，匹配的結果是：成功；匹配到的內容是："12"；匹配到的位置是：開始於3，結束於5。</p><p><u>舉例2：表達式 "a.\d"，在匹配 "aaa100" 時</u>，匹配的結果是：成功；匹配到的內容是："aa1"；匹配到的位置是：開始於1，結束於4。</p><p class=ql-align-center></p><p class=ql-align-center></p><p>1.4 自定義能夠匹配 '多種字符' 的表達式</p><p>使用方括號 [ ] 包含一系列字符，能夠匹配其中任意一個字符。用 [^ ] 包含一系列字符，則能夠匹配其中字符之外的任意一個字符。同樣的道理，雖然可以匹配其中任意一個，但是隻能是一個，不是多個。</p><p>表達式</p><p>可匹配</p><p>[ab5@]</p><p>匹配 "a" 或 "b" 或 "5" 或 "@"</p><p>[^abc]</p><p>匹配 "a","b","c" 之外的任意一個字符</p><p>[f-k]</p><p>匹配 "f"~"k" 之間的任意一個字母</p><p>[^A-F0-3]</p><p>匹配 "A"~"F","0"~"3" 之外的任意一個字符</p><p><u>舉例1：表達式 "[bcd][bcd]" 匹配 "abc123" 時</u>，匹配的結果是：成功；匹配到的內容是："bc"；匹配到的位置是：開始於1，結束於3。</p><p><u>舉例2：表達式 "[^abc]" 匹配 "abc123" 時</u>，匹配的結果是：成功；匹配到的內容是："1"；匹配到的位置是：開始於3，結束於4。</p><p class=ql-align-center></p><p class=ql-align-center></p><p>1.5 修飾匹配次數的特殊符號</p><p>前面章節中講到的表達式，無論是隻能匹配一種字符的表達式，還是可以匹配多種字符其中任意一個的表達式，都只能匹配一次。如果使用表達式再加上修飾匹配次數的特殊符號，那麼不用重複書寫表達式就可以重複匹配。</p><p>使用方法是："次數修飾"放在"被修飾的表達式"後邊。比如："[bcd][bcd]" 可以寫成 "[bcd]{2}"。</p><p>表達式</p><p>作用</p><p>{n}</p><p>表達式重複n次，比如：<u>"\w{2}" 相當於 "\w\w"</u>；<u>"a{5}" 相當於 "aaaaa"</u></p><p>{m,n}</p><p>表達式至少重複m次，最多重複n次，比如：<u>"ba{1,3}"可以匹配 "ba"或"baa"或"baaa"</u></p><p>{m,}</p><p>表達式至少重複m次，比如：<u>"\w\d{2,}"可以匹配 "a12","_456","M12344"...</u></p><p>?</p><p>匹配表達式0次或者1次，相當於 {0,1}，比如：<u>"a[cd]?"可以匹配 "a","ac","ad"</u></p><p>+</p><p>表達式至少出現1次，相當於 {1,}，比如：<u>"a+b"可以匹配 "ab","aab","aaab"...</u></p><p>*</p><p>表達式不出現或出現任意次，相當於 {0,}，比如：<u>"\^*b"可以匹配 "b","^^^b"...</u></p><p><u>舉例1：表達式 "\d+\.?\d*" 在匹配 "It costs $12.5" 時</u>，匹配的結果是：成功；匹配到的內容是："12.5"；匹配到的位置是：開始於10，結束於14。</p><p><u>舉例2：表達式 "go{2,8}gle" 在匹配 "Ads by goooooogle" 時</u>，匹配的結果是：成功；匹配到的內容是："goooooogle"；匹配到的位置是：開始於7，結束於17。</p><p class=ql-align-center></p><p class=ql-align-center></p><p>1.6 其他一些代表抽象意義的特殊符號</p><p>一些符號在表達式中代表抽象的特殊意義：</p><p>表達式</p><p>作用</p><p>^</p><p>與字符串開始的地方匹配，不匹配任何字符</p><p>$</p><p>與字符串結束的地方匹配，不匹配任何字符</p><p>\b</p><p>匹配一個單詞邊界，也就是單詞和空格之間的位置，不匹配任何字符</p><p>進一步的文字說明仍然比較抽象，因此，舉例幫助大家理解。</p><p><u>舉例1：表達式 "^aaa" 在匹配 "xxx aaa xxx" 時</u>，匹配結果是：失敗。因為 "^" 要求與字符串開始的地方匹配，因此，只有當 "aaa" 位於字符串的開頭的時候，"^aaa" 才能匹配，<u>比如："aaa xxx xxx"</u>。</p><p><u>舉例2：表達式 "aaa$" 在匹配 "xxx aaa xxx" 時</u>，匹配結果是：失敗。因為 "$" 要求與字符串結束的地方匹配，因此，只有當 "aaa" 位於字符串的結尾的時候，"aaa$" 才能匹配，<u>比如："xxx xxx aaa"</u>。</p><p><u>舉例3：表達式 ".\b." 在匹配 "@@@abc" 時</u>，匹配結果是：成功；匹配到的內容是："@a"；匹配到的位置是：開始於2，結束於4。</p><p>進一步說明："\b" 與 "^" 和 "$" 類似，本身不匹配任何字符，但是它要求它在匹配結果中所處位置的左右兩邊，其中一邊是 "\w" 範圍，另一邊是 非"\w" 的範圍。</p><p><u>舉例4：表達式 "\bend\b" 在匹配 "weekend,endfor,end" 時</u>，匹配結果是：成功；匹配到的內容是："end"；匹配到的位置是：開始於15，結束於18。</p><p>一些符號可以影響表達式內部的子表達式之間的關係：</p><p>表達式</p><p>作用</p><p>|</p><p>左右兩邊表達式之間 "或" 關係，匹配左邊或者右邊</p><p>( )</p><p>(1). 在被修飾匹配次數的時候，括號中的表達式可以作為整體被修飾</p><p>(2). 取匹配結果的時候，括號中的表達式匹配到的內容可以被單獨得到</p><p><u>舉例5：表達式 "Tom|Jack" 在匹配字符串 "I'm Tom, he is Jack" 時</u>，匹配結果是：成功；匹配到的內容是："Tom"；匹配到的位置是：開始於4，結束於7。匹配下一個時，匹配結果是：成功；匹配到的內容是："Jack"；匹配到的位置時：開始於15，結束於19。</p><p><u>舉例6：表達式 "(go\s*)+" 在匹配 "Let's go go go!" 時</u>，匹配結果是：成功；匹配到內容是："go go go"；匹配到的位置是：開始於6，結束於14。</p><p><u>舉例7：表達式 "￥(\d+\.?\d*)" 在匹配 "＄10.9,￥20.5" 時</u>，匹配的結果是：成功；匹配到的內容是："￥20.5"；匹配到的位置是：開始於6，結束於10。單獨獲取括號範圍匹配到的內容是："20.5"。</p><p class=ql-align-center></p><p class=ql-align-center></p><p>2. 正則表達式中的一些高級規則</p><p>2.1 匹配次數中的貪婪與非貪婪</p><p>在使用修飾匹配次數的特殊符號時，有幾種表示方法可以使同一個表達式能夠匹配不同的次數，比如："{m,n}", "{m,}", "?", "*", "+"，具體匹配的次數隨被匹配的字符串而定。這種重複匹配不定次數的表達式在匹配過程中，總是儘可能多的匹配。比如，針對文本 "dxxxdxxxd"，舉例如下：</p><p>表達式</p><p>匹配結果</p><p><u>(d)(\w+)</u></p><p>"\w+" 將匹配第一個 "d" 之後的所有字符 "xxxdxxxd"</p><p><u>(d)(\w+)(d)</u></p><p>"\w+" 將匹配第一個 "d" 和最後一個 "d" 之間的所有字符 "xxxdxxx"。雖然 "\w+" 也能夠匹配上最後一個 "d"，但是為了使整個表達式匹配成功，"\w+" 可以 "讓出" 它本來能夠匹配的最後一個 "d"</p><p>由此可見，"\w+" 在匹配的時候，總是儘可能多的匹配符合它規則的字符。雖然第二個舉例中，它沒有匹配最後一個 "d"，但那也是為了讓整個表達式能夠匹配成功。同理，帶 "*" 和 "{m,n}" 的表達式都是儘可能地多匹配，帶 "?" 的表達式在可匹配可不匹配的時候，也是儘可能的 "要匹配"。這 種匹配原則就叫作 "貪婪" 模式 。</p><p>非貪婪模式：</p><p>在修飾匹配次數的特殊符號後再加上一個 "?" 號，則可以使匹配次數不定的表達式儘可能少的匹配，使可匹配可不匹配的表達式，儘可能的 "不匹配"。這種匹配原則叫作 "非貪婪" 模式，也叫作 "勉強" 模式。如果少匹配就會導致整個表達式匹配失敗的時候，與貪婪模式類似，非貪婪模式會最小限度的再匹配一些，以使整個表達式匹配成功。舉例如下，針對文本 "dxxxdxxxd" 舉例：</p><p>表達式</p><p>匹配結果</p><p><u>(d)(\w+?)</u></p><p>"\w+?" 將儘可能少的匹配第一個 "d" 之後的字符，結果是："\w+?" 只匹配了一個 "x"</p><p><u>(d)(\w+?)(d)</u></p><p>為了讓整個表達式匹配成功，"\w+?" 不得不匹配 "xxx" 才可以讓後邊的 "d" 匹配，從而使整個表達式匹配成功。因此，結果是："\w+?" 匹配 "xxx"</p><p>更多的情況，舉例如下：</p><p><u>舉例1：表達式 "&lt;td>(.*)&lt;/td>" 與字符串 "&lt;td>&lt;p>aa&lt;/p>&lt;/td> &lt;td>&lt;p>bb&lt;/p>&lt;/td>" 匹配時</u>，匹配的結果是：成功；匹配到的內容是 "&lt;td>&lt;p>aa&lt;/p>&lt;/td> &lt;td>&lt;p>bb&lt;/p>&lt;/td>" 整個字符串， 表達式中的 "&lt;/td>" 將與字符串中最後一個 "&lt;/td>" 匹配。</p><p><u>舉例2：相比之下，表達式 "&lt;td>(.*?)&lt;/td>" 匹配舉例1中同樣的字符串時</u>，將只得到 "&lt;td>&lt;p>aa&lt;/p>&lt;/td>"， 再次匹配下一個時，可以得到第二個 "&lt;td>&lt;p>bb&lt;/p>&lt;/td>"。</p><p class=ql-align-center></p><p class=ql-align-center></p><p>2.2 反向引用 \1, \2...</p><p>表達式在匹配時，表達式引擎會將小括號 "( )" 包含的表達式所匹配到的字符串記錄下來。在獲取匹配結果的時候，小括號包含的表達式所匹配到的字符串可以單獨獲取。這一點，在前面的舉例中，已經多次展示了。在實際應用場合中，當用某種邊界來查找，而所要獲取的內容又不包含邊界時，必須使用小括號來指定所要的範圍。比如前面的 "&lt;td>(.*?)&lt;/td>"。</p><p>其實，"小括號包含的表達式所匹配到的字符串" 不僅是在匹配結束後才可以使用，在匹配過程中也可以使用。表達式後邊的部分，可以引用前面 "括號內的子匹配已經匹配到的字符串"。引用方法是 "\" 加上一個數字。"\1" 引用第1對括號內匹配到的字符串，"\2" 引用第2對括號內匹配到的字符串……以此類推，如果一對括號內包含另一對括號，則外層的括號先排序號。換句話說，哪一對的左括號 "(" 在前，那這一對就先排序號。</p><p>舉例如下：</p><p><u>舉例1：表達式 "('|")(.*?)(\1)" 在匹配 " 'Hello', "World" " 時</u>，匹配結果是：成功；匹配到的內容是：" 'Hello' "。再次匹配下一個時，可以匹配到 " "World" "。</p><p><u>舉例2：表達式 "(\w)\1{4,}" 在匹配 "aa bbbb abcdefg ccccc 111121111 999999999" 時</u>，匹配結果是：成功；匹配到的內容是 "ccccc"。再次匹配下一個時，將得到 999999999。這個表達式要求 "\w" 範圍的字符至少重複5次，<u>注意與 "\w{5,}" 之間的區別</u>。</p><p><u>舉例3：表達式 "&lt;(\w+)\s*(\w+(=('|").*?\4)?\s*)*>.*?&lt;/\1>" 在匹配 "&lt;td id='td1' style="bgcolor:white">&lt;/td>" 時</u>，匹配結果是成功。如果 "&lt;td>" 與 "&lt;/td>" 不配對，則會匹配失敗；如果改成其他配對，也可以匹配成功。</p><p class=ql-align-center></p><p class=ql-align-center></p><p>2.3 預搜索，不匹配；反向預搜索，不匹配</p><p>前面的章節中，我講到了幾個代表抽象意義的特殊符號："^"，"$"，"\b"。它們都有一個共同點，那就是：它們本身不匹配任何字符，只是對 "字符串的兩頭" 或者 "字符之間的縫隙" 附加了一個條件。理解到這個概念以後，本節將繼續介紹另外一種對 "兩頭" 或者 "縫隙" 附加條件的，更加靈活的表示方法。</p><p>正向預搜索："(?=xxxxx)"，"(?!xxxxx)"</p><p>格式："(?=xxxxx)"，在被匹配的字符串中，它對所處的 "縫隙" 或者 "兩頭" 附加的條件是：所在縫隙的右側，必須能夠匹配上 xxxxx 這部分的表達式。因為它只是在此作為這個縫隙上附加的條件，所以它並不影響後邊的表達式去真正匹配這個縫隙之後的字符。這就類似 "\b"，本身不匹配任何字符。"\b" 只是將所在縫隙之前、之後的字符取來進行了一下判斷，不會影響後邊的表達式來真正的匹配。</p><p><u>舉例1：表達式 "Windows (?=NT|XP)" 在匹配 "Windows 98, Windows NT, Windows 2000" 時</u>，將只匹配 "Windows NT" 中的 "Windows "，其他的 "Windows " 字樣則不被匹配。</p><p><u>舉例2：表達式 "(\w)((?=\1\1\1)(\1))+" 在匹配字符串 "aaa ffffff 999999999" 時</u>，將可以匹配6個"f"的前4個，可以匹配9個"9"的前7個。這個表達式可以讀解成：重複4次以上的字母數字，則匹配其剩下最後2位之前的部分。當然，這個表達式可以不這樣寫，在此的目的是作為演示之用。</p><p>格式："(?!xxxxx)"，所在縫隙的右側，必須不能匹配 xxxxx 這部分表達式。</p><p><u>舉例3：表達式 "((?!\bstop\b).)+" 在匹配 "fdjka ljfdl stop fjdsla fdj" 時</u>，將從頭一直匹配到 "stop" 之前的位置，如果字符串中沒有 "stop"，則匹配整個字符串。</p><p><u>舉例4：表達式 "do(?!\w)" 在匹配字符串 "done, do, dog" 時</u>，只能匹配 "do"。在本條舉例中，"do" 後邊使用 "(?!\w)" 和使用 "\b" 效果是一樣的。</p><p>反向預搜索："(?&lt;=xxxxx)"，"(?&lt;!xxxxx)"</p><p>這兩種格式的概念和正向預搜索是類似的，反向預搜索要求的條件是：所在縫隙的 "左側"，兩種格式分別要求必須能夠匹配和必須不能夠匹配指定表達式，而不是去判斷右側。與 "正向預搜索" 一樣的是：它們都是對所在縫隙的一種附加條件，本身都不匹配任何字符。</p><p>舉例5：表達式 "(?&lt;=\d{4})\d+(?=\d{4})" 在匹配 "1234567890123456" 時，將匹配除了前4個數字和後4個數字之外的中間8個數字。由於 JScript.RegExp 不支持反向預搜索，因此，本條舉例不能夠進行演示。很多其他的引擎可以支持反向預搜索，比如：Java 1.4 以上的 java.util.regex 包，.NET 中System.Text.RegularExpressions 命名空間，以及本站推薦的<u>最簡單易用的 DEELX 正則引擎</u>。</p><p class=ql-align-center></p><p class=ql-align-center></p><p>3. 其他通用規則</p><p>還有一些在各個正則表達式引擎之間比較通用的規則，在前面的講解過程中沒有提到。</p><p>3.1 表達式中，可以使用 "XX" 和 "\uXXXX" 表示一個字符（"X" 表示一個十六進制數）</p><p>形式</p><p>字符範圍</p><p>XX</p><p>編號在 0 ~ 255 範圍的字符，比如：<u>空格可以使用 "20" 表示</u></p><p>\uXXXX</p><p>任何字符可以使用 "\u" 再加上其編號的4位十六進制數表示，比如：<u>"\u4E2D"</u></p><p>3.2 在表達式 "\s"，"\d"，"\w"，"\b" 表示特殊意義的同時，對應的大寫字母表示相反的意義</p><p>表達式</p><p>可匹配</p><p>\S</p><p><u>匹配所有非空白字符（"\s" 可匹配各個空白字符）</u></p><p>\D</p><p><u>匹配所有的非數字字符</u></p><p>\W</p><p><u>匹配所有的字母、數字、下劃線以外的字符</u></p><p>\B</p><p><u>匹配非單詞邊界，即左右兩邊都是 "\w" 範圍或者左右兩邊都不是 "\w" 範圍時的字符縫隙</u></p><p>3.3 在表達式中有特殊意義，需要添加 "\" 才能匹配該字符本身的字符彙總</p><p>字符</p><p>說明</p><p>^</p><p>匹配輸入字符串的開始位置。要匹配 "^" 字符本身，請使用 "\^"</p><p>$</p><p>匹配輸入字符串的結尾位置。要匹配 "$" 字符本身，請使用 "\$"</p><p>( )</p><p>標記一個子表達式的開始和結束位置。要匹配小括號，請使用 "\(" 和 "\)"</p><p>[ ]</p><p>用來自定義能夠匹配 '多種字符' 的表達式。要匹配中括號，請使用 "\[" 和 "\]"</p><p>{ }</p><p>修飾匹配次數的符號。要匹配大括號，請使用 "\{" 和 "\}"</p><p>.</p><p>匹配除了換行符（\n）以外的任意一個字符。要匹配小數點本身，請使用 "\."</p><p>?</p><p>修飾匹配次數為 0 次或 1 次。要匹配 "?" 字符本身，請使用 "\?"</p><p>+</p><p>修飾匹配次數為至少 1 次。要匹配 "+" 字符本身，請使用 "\+"</p><p>*</p><p>修飾匹配次數為 0 次或任意次。要匹配 "*" 字符本身，請使用 "\*"</p><p>|</p><p>左右兩邊表達式之間 "或" 關係。匹配 "|" 本身，請使用 "\|"</p><p>3.4 括號 "( )" 內的子表達式，如果希望匹配結果不進行記錄供以後使用，可以使用 "(?:xxxxx)" 格式</p><p><u>舉例1：表達式 "(?:(\w)\1)+" 匹配 "a bbccdd efg" 時</u>，結果是 "bbccdd"。括號 "(?:)" 範圍的匹配結果不進行記錄，因此 "(\w)" 使用 "\1" 來引用。</p><p>3.5 常用的表達式屬性設置簡介：Ignorecase，Singleline，Multiline，Global</p><p>表達式屬性</p><p>說明</p><p>Ignorecase</p><p>默認情況下，表達式中的字母是要區分大小寫的。配置為 Ignorecase 可使匹配時不區分大小寫。有的表達式引擎，把 "大小寫" 概念延伸至 UNICODE 範圍的大小寫。</p><p>Singleline</p><p>默認情況下，小數點 "." 匹配除了換行符（\n）以外的字符。配置為 Singleline 可使小數點可匹配包括換行符在內的所有字符。</p><p>Multiline</p><p>默認情況下，表達式 "^" 和 "$" 只匹配字符串的開始 ① 和結尾 ④ 位置。如：</p><p>①xxxxxxxxx②\n</p><p>③xxxxxxxxx④</p><p>配置為 Multiline 可以使 "^" 匹配 ① 外，還可以匹配換行符之後，下一行開始前 ③ 的位置，使 "$" 匹配 ④ 外，還可以匹配換行符之前，一行結束 ② 的位置。</p><p>Global</p><p>主要在將表達式用來替換時起作用，配置為 Global 表示替換所有的匹配。</p><p class=ql-align-center></p><p class=ql-align-center></p><p>4. 其他提示</p><p>4.1 如果想要了解高級的正則引擎還支持那些複雜的正則語法，可參見<u>本站 DEELX 正則引擎的說明文檔</u>。</p><p>4.2 如果要要求表達式所匹配的內容是整個字符串，而不是從字符串中找一部分，那麼可以在表達式的首尾使用 "^" 和 "$"，比如："^\d+$" 要求整個字符串只有數字。</p><p>4.3 如果要求匹配的內容是一個完整的單詞，而不會是單詞的一部分，那麼在表達式首尾使用 "\b"，比如：<u>使用 "\b(if|while|else|void|int……)\b" 來匹配程序中的關鍵字</u>。</p><p>4.4 表達式不要匹配空字符串。否則會一直得到匹配成功，而結果什麼都沒有匹配到。比如：準備寫一個匹配 "123"、"123."、"123.5"、".5" 這幾種形式的表達式時，整數、小數點、小數數字都可以省略，但是不要將表達式寫成："\d*\.?\d*"，因為如果什麼都沒有，這個表達式也可以匹配成功。<u>更好的寫法是："\d+\.?\d*|\.\d+"</u>。</p><p>4.5 能匹配空字符串的子匹配不要循環無限次。如果括號內的子表達式中的每一部分都可以匹配 0 次，而這個括號整體又可以匹配無限次，那麼情況可能比上一條所說的更嚴重，匹配過程中可能死循環。雖然現在有些正則表達式引擎已經通過辦法避免了這種情況出現死循環了，比如 .NET 的正則表達式，但是我們仍然應該儘量避免出現這種情況。如果我們在寫表達式時遇到了死循環，也可以從這一點入手，查找一下是否是本條所說的原因。</p><p>4.6 合理選擇貪婪模式與非貪婪模式，參見<u>話題討論</u>。</p><p>4.7 或 "|" 的左右兩邊，對某個字符最好只有一邊可以匹配，這樣，不會因為 "|" 兩邊的表達式因為交換位置而有所不同。</p><p>可以近群的加一起交流學習我會在群不定時更視頻資料供大家學習，有什麼問題也可以群裡交流行內大佬也會每天分享經驗給大家640:I"35832W2</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Java</a></li><li><a>正則</a></li><li><a>表達式</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/d2dd7ebf.html alt="Java 正則表達式" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d2dd7ebf.html title="Java 正則表達式">Java 正則表達式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/22c24c31.html alt="Java 正則表達式 StackOverflowError 問題及其優化" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/28110ae7b0fc46f1a5ad2e6bcf0e40c1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/22c24c31.html title="Java 正則表達式 StackOverflowError 問題及其優化">Java 正則表達式 StackOverflowError 問題及其優化</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/53f942fa.html alt=Java正則表達式 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1531051821759d2705acacc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/53f942fa.html title=Java正則表達式>Java正則表達式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5c2f2cd7.html alt=Java正則表達式模式 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6d9eaa59ae704773aef9e0851d9625fd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5c2f2cd7.html title=Java正則表達式模式>Java正則表達式模式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/38a1ca5a.html alt=Java正則表達式組 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/cb895437221f4629a7a4f697a8ac9f7a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/38a1ca5a.html title=Java正則表達式組>Java正則表達式組</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3836e27c.html alt=Java正則表達式Pattern和Matcher類詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1535620668920d4515bfc5b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3836e27c.html title=Java正則表達式Pattern和Matcher類詳解>Java正則表達式Pattern和Matcher類詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6a6bedf3.html alt=Java正則表達式中的貪婪型、勉強型和佔有性 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/a3606c2e85b340e0bfa6b63a26ededff style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6a6bedf3.html title=Java正則表達式中的貪婪型、勉強型和佔有性>Java正則表達式中的貪婪型、勉強型和佔有性</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d02df1d6.html alt=Java正則表達式入坑指南：正則表達式使用的類有哪些嗎？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/00407db6c5d544f8aeb61c83d3f974eb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d02df1d6.html title=Java正則表達式入坑指南：正則表達式使用的類有哪些嗎？>Java正則表達式入坑指南：正則表達式使用的類有哪些嗎？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b27edec9.html alt=Java正則表達式大全詳解「收藏起來以後你一定會用的到的」 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1537156478131e5dd12e2a4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b27edec9.html title=Java正則表達式大全詳解「收藏起來以後你一定會用的到的」>Java正則表達式大全詳解「收藏起來以後你一定會用的到的」</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d1e56bcc.html alt=Java正則表達式詳細解析 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/78591e5cc20e4b2197c16978c08ea890 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d1e56bcc.html title=Java正則表達式詳細解析>Java正則表達式詳細解析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2405cdf4.html alt=Java正則表達式詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/bd26939e3f8248709b624e7cd38ac594 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2405cdf4.html title=Java正則表達式詳解>Java正則表達式詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9c005517.html alt=Java程序員：一刻鐘精通正則表達式 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9c005517.html title=Java程序員：一刻鐘精通正則表達式>Java程序員：一刻鐘精通正則表達式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/aae5ff48.html alt=正則表達式在Java中的使用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/aae5ff48.html title=正則表達式在Java中的使用>正則表達式在Java中的使用</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/806b0846.html alt=Java入門教程-日期和正則表達式入門 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/15352845316194ba375faa7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/806b0846.html title=Java入門教程-日期和正則表達式入門>Java入門教程-日期和正則表達式入門</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/19cbd4c3.html alt="java 常用的正則表達式" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1540129072390e6c4c05126 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/19cbd4c3.html title="java 常用的正則表達式">java 常用的正則表達式</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>