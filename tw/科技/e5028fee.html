<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>一種具有後臺校正功能的電流舵DAC | 极客快訊</title><meta property="og:title" content="一種具有後臺校正功能的電流舵DAC - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/613a0016e3c552418e68"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e5028fee.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e5028fee.html><meta property="article:published_time" content="2020-11-14T21:06:51+08:00"><meta property="article:modified_time" content="2020-11-14T21:06:51+08:00"><meta name=Keywords content><meta name=description content="一種具有後臺校正功能的電流舵DAC"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/e5028fee.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>一種具有後臺校正功能的電流舵DAC</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>隨著工藝水平的提高，MOSFET(Metal-Oxide-Semiconductor Field-Effect Transistor，即金屬-氧化物半導體場效應晶體管)閾值電壓的失配常數Avt越來越小，電流源之間的匹配程度越來越高，然而隨著DAC(Digital to Analog Converter，即數模轉換器)分辨率的提高， DAC對電流源誤差的要求越來越高[1]。其中閾值電壓失配不僅與Avt有關，由於閾值電壓的溫度係數存在，DAC工作時片上不同位置的溫度變化會導致閾值電壓和遷移率隨著溫度發生改變，因而引入新的閾值電壓失配，進而導致了新的電流源失配問題。</p><p>現有的文獻[2]提出了基於幅值誤差和動態誤差的前臺校正算法，解決了由於工藝失配引起的誤差，但是並沒有解決DAC工作過程中引入的新的電流源失配誤差。針對上述存在的問題，為解決DAC工作時候引入的新的電流源失配誤差問題，本文提供了一種具有校正功能的分段式電流舵型DAC及其後臺校正方法。</p><p><strong>2校正原理</strong></p><p>與傳統校正算法在DAC工作前對每一個MSB電流源校正不同，後臺校正算法在DAC工作時將持續對MSB電流源校正。</p><p>如圖1所示為本文提出的算法結構示意圖，其中包括開關選擇器電路，譯碼器電路。延時單元電路，比較器電路，鎖存器電路，移位寄存器電路。傳統12位電流舵DAC的高位電流源陣列包括63個MSB電流源，後臺校正則共有64個MSB電流源，多餘的一個電流源是為了在不影響DAC正常工作的前提下用於校正。校正核心電路為104開關選擇電路以及107開關選擇地電路，選擇電路每隔一個週期選擇一個空閒的電流源校正，校正為自校正[3]，即每個電流源均配置一個校正陣列，用逐次逼近的方法將每個電流源的電流大小校正到1/8LSB之內。</p><img alt=一種具有後臺校正功能的電流舵DAC onerror=errorimg.call(this); src=https://p1.pstatp.com/large/613a0016e3c552418e68><p>圖1 DAC電路結構圖</p><p>本文提供的校正算法為後臺實時校正，其校正原理為：利用第一開關選擇電路104控制高位電流源陣列中的高位數據開關陣列，利用第二開關選擇電路107控制高位電流源陣列中的選擇開關陣列，選擇出一個電流源單元進行校正，其餘電流源單元繼續工作;一個校正週期後選擇另一個電流源校正，原被校正電流源切換到工作狀態，每次校正過程校正一個電流源，在所有電流源校正一次後，從第一個電流源開始進行第二次校正。第一開關選擇電路104和第二開關選擇電路107的選擇輸入端輸入的選擇信號SEL是由移位寄存器106產生，移位寄存器106每移位一次便依次選擇出一個不同的電流源單元進行校正，選擇出來的電流源單元通過校正端接到電流比較器112的第一輸入端和電流比較器112第二輸入端連接的參考電流源比較後通過逐次逼近的方法[4]校正。</p><img alt=一種具有後臺校正功能的電流舵DAC onerror=errorimg.call(this); src=https://p3.pstatp.com/large/613a0016e3c686b3232a><p>圖2 開關選擇電路結構圖</p><p>開關選擇器電路圖如圖2，其電路結構由二選一電路，反相器，或非門組成。開關選擇器電路107的IN&lt;62:0>接高電平，在校正開始之前第二開關選擇電路107的選擇輸入端輸入的信號SEL&lt;62:0>全部置為高電平，此時二選一電路單元的OUTB=IN，OUTA=0;此時OUT&lt;0>=0，OUT&lt;1>=IN&lt;0>，OUT&lt;2>=IN&lt;1>，……，OUT&lt;63>=IN&lt;62>，下一個校正時鐘沿到來時SEL&lt;0>置低電平，此時OUT&lt;0>=IN&lt;0>，OUT&lt;1>=0，其餘輸出不變，又在下一個時鐘沿到來時SEL&lt;1>置低電平，SEL&lt;0>保持低電平不變，此時，OUT&lt;1>=IN&lt;1>，OUT&lt;2>=0，依次類推在經過63次切換後SEL&lt;0:62>都為低電平，此時OUT&lt;0>=IN&lt;0>，OUT&lt;1>=IN&lt;1>，……，OUT&lt;62>=IN&lt;62>，OUT&lt;63>=0。</p><p>第一開關選擇電路104的數據輸入端的信號IN&lt;62:0>為譯碼器103的輸出，其選擇輸.入端的信號SEL&lt;0:62>的切換過程跟第二開關選擇電路107相同。</p><p>第二開關選擇電路107和第一開關選擇電路104的輸出同步，第二開關選擇電路107的輸出用於賦予高位電流源陣列110的SEL_OUT&lt;63:0>信號值，當SEL_OUT的值為低電平時第N個電流源切換到校正狀態，其餘正常工作。在一次完整的校正過程中，從第一個到最後一個依次校正，當SEL&lt;62:0>全部切換到低電平時所有電流源完成一次校正，SEL&lt;62:0>置為高電平，在下一個校正時鐘沿到來時進行第二次校正。在工作過程中進行校正可以校正工作環境改變引入的失配誤差[5]。</p><p>具體校正步驟：</p><p>步驟201：譯碼器103對DAC高位輸入碼進行溫度計譯碼並輸入到第一開關選擇電路104的數據輸入端;第二開關選擇電路107的數據輸入端置高電平。</p><p>步驟202：移位寄存器106的輸出控制第一開關選擇電路104和第二開關選擇電路107的選擇輸入端，兩個開關選擇電路分別通過兩個鎖存器控制高位電流源陣列的高位數據開關陣列和選擇開關陣列，選擇一個電流源單元進行校正，其餘電流源單元繼續工作，其中被校正電流源單元接到校正端連接電流比較器的第一輸入端，其餘電流源單元接到輸出端。</p><p>步驟203：將被校正電流源單元中的高位電流源與參考電流源比較，其中參考電流源大小為低位電流源電流值大小的256倍。</p><p>步驟204：判斷被校正電流源單元的高位電流源與參考電流源的電流之差是否在預定精度內，如果在預定精度內則在下一個校正週期返回步驟202選擇下一個被校正電流源單元;如果沒有則繼續步驟205。</p><p>步驟205 當被校正電流源單元中的高位電流源電流大於參考電流源電流時，通過被校正電流源單元中的校正電流源抽取被校正電流源單元中高位電流源的一部分電流，當被校正電流源單元中高位電流源的電流小於參考電流源時，通過被校正電流源單元中校正電流源給被校正電流源單元中的高位電流源補電流。</p><p>步驟206：將經過步驟205增減電流的被校正電流源單元中的高位電流源與參考電流源比較，判斷其電流之差是否在預定精度內，如果在預定精度內則在下一個校正週期返回步驟202選擇下一個被校正電流源單元;如果沒有則返回步驟205對被校正電流源單元中的高位電流源再進行加減電流操作。</p><p>校正過程與傳統的前臺校正不同的是，校正是在DAC工作過程中持續的，這樣可以把DAC工作中產生的誤差校正回來。因此，在這種校正算法下，電流舵DAC的性能可以得到顯著提高。</p><p><strong>3建模結果驗證</strong></p><p>在matlab中將所有開關的動作逐一分解，將每個電流源的工作模式一一畫出，最後將所有的結果相加。其中當譯碼的結果從0變成1時，該電流源開始建立，從1變成0則立刻關斷降為0，碼值不變時輸出保持不變。電流源建立過程的電流值如下列公式給出[6]：</p><p>(3.1)</p><p>每一個電流源的電流大小與時間的關係如上，其中加入的非理想因素包括：與時間相關的幅度誤差;時序誤差;以及時間常數。最後得到的DAC輸出為所有LSB電流以及MSB電流之和。將DAC輸出結果做FFT分析得到DAC的動態性能。</p><p>通過matlab驗證得到校正前和校正後12位DAC動態性能分別為圖3和圖4。</p><img alt=一種具有後臺校正功能的電流舵DAC onerror=errorimg.call(this); src=https://p9.pstatp.com/large/613a0016e3c8151ac14d><p>圖3 校正前SFDR 圖4 校正後SFDR</p><p>從結果可以看出12位200MHz電流舵DAC在輸入信號頻率為20.3125MHz的條件下，校正後的SFDR比校正前提高了12dB。</p><p><strong>4 結論</strong></p><p>利用現有的DAC模型，並加入一個與時間相關的幅度誤差變量，通過matlab建模驗證，本文提出的校正算法可以有效的提高12位電流舵DAC的SFDR。</p><p><strong>參 考 文 獻</strong></p><p>[1] 薛曉博，何樂年，高速高精度電流舵數模轉換器關鍵設計技術的研究與實現 2014 34-40</p><p>[2] 韓軍明 帶數字校正的12bit 200MHz DAC研究與設計 2015 57-65</p><p>[3] Yonghua Cong Randall L. Geiger .A 1.5-V 14-Bit 100-MS/s Self-Calibrated DAC [J]. IEEE Journal of Solid-State Circuits, 2013:1-10</p><p>[4] 楊海峰，程龍，一種用於高速高精度DAC的數字校準方法[J].復旦學報(自然科學版)，51(1)，2012</p><p>[5] C.B. Maruthi, Dr. S. Dasgupta. A 1.2 Volt, 90nm, 16-Bit Three Way Segmented Digital to Analog Converter (DAC) for Low Power Applications [C]. ISQED, San Jose, 2009: 447-450</p><p>[6] Tao Chen, Student Member, IEEE, and Georges Gielen, Fellow, IEEE. The Analysis and Improvement of a Current-Steering DAC’s Dynamic SFDR—II: The Output-Dependent Delay Differences</p><p>作者：何廣 子科技大學微電子與固體電子學院(四川 成都610054)</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>一種</a></li><li><a>電流</a></li><li><a>DAC</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/f4df1c1a.html alt="有一種音頻編碼技術叫MQA，聲音質感優於TIDAL HiFi（CD等級）" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/6383bc881ccf4674aa3074a767f7f743 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f4df1c1a.html title="有一種音頻編碼技術叫MQA，聲音質感優於TIDAL HiFi（CD等級）">有一種音頻編碼技術叫MQA，聲音質感優於TIDAL HiFi（CD等級）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2161eb1b.html alt=一種可以除去砷的綠色方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2161eb1b.html title=一種可以除去砷的綠色方法>一種可以除去砷的綠色方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/30ef85ba.html alt=「今日賓川」有一種青春叫軍訓，那些年我們一起軍訓的日子 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1534765722006c4a614cbda style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/30ef85ba.html title=「今日賓川」有一種青春叫軍訓，那些年我們一起軍訓的日子>「今日賓川」有一種青春叫軍訓，那些年我們一起軍訓的日子</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6facd8bb.html alt=一種限滑可鎖的差速器總成-託森差速器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/377c51f9d3b3443796bd2aeacc50bf97 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6facd8bb.html title=一種限滑可鎖的差速器總成-託森差速器>一種限滑可鎖的差速器總成-託森差速器</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5ec4d0cb.html alt="上海光機所提出一種基於濾波PRBS信號相位調製的線寬展寬方法，實現光纖激光<5GHz線寬1.27kW輸出" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ea110b92b2c84fa8bbf54234ec0e1ee3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5ec4d0cb.html title="上海光機所提出一種基於濾波PRBS信號相位調製的線寬展寬方法，實現光纖激光<5GHz線寬1.27kW輸出">上海光機所提出一種基於濾波PRBS信號相位調製的線寬展寬方法，實現光纖激光&lt;5GHz線寬1.27kW輸出</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0e7787ae.html alt="陳邕  素描既是一種獨立的藝術表現形式" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/0967d56ed7a845338717c864fefa6729 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0e7787ae.html title="陳邕  素描既是一種獨立的藝術表現形式">陳邕  素描既是一種獨立的藝術表現形式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bf1b008b.html alt=世界上有一種動物的耙耙是方形的 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/6823/2478391326 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bf1b008b.html title=世界上有一種動物的耙耙是方形的>世界上有一種動物的耙耙是方形的</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e9b5e60d.html alt=承認錯誤也是一種勇敢 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1523331859560d5a2bd44e6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e9b5e60d.html title=承認錯誤也是一種勇敢>承認錯誤也是一種勇敢</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1875bfc7.html alt=生活中，敢於承認自己的錯誤，是一種成熟的表現 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/614f4c5c-9032-4849-91af-41b95d34c617 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1875bfc7.html title=生活中，敢於承認自己的錯誤，是一種成熟的表現>生活中，敢於承認自己的錯誤，是一種成熟的表現</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5a3b6b4a.html alt=一種電纜在線檢測技術 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RNJA92g7bwUBB3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5a3b6b4a.html title=一種電纜在線檢測技術>一種電纜在線檢測技術</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a2237f28.html alt=合併多列的好幾種方法，至少得學會一種吧 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/7355bd523d6541009351ae8e42abe179 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a2237f28.html title=合併多列的好幾種方法，至少得學會一種吧>合併多列的好幾種方法，至少得學會一種吧</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bdcc4e56.html alt=一種高級的DoS攻擊-Hash碰撞攻擊 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/c1c0537cde484d3daea887e3ef059355 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bdcc4e56.html title=一種高級的DoS攻擊-Hash碰撞攻擊>一種高級的DoS攻擊-Hash碰撞攻擊</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f9e5d67b.html alt=獬豸，一種明辨是非的神獸，古代的法官都想擁有一頭 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1524523867698b4fdfe7cbc style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f9e5d67b.html title=獬豸，一種明辨是非的神獸，古代的法官都想擁有一頭>獬豸，一種明辨是非的神獸，古代的法官都想擁有一頭</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f8b10366.html alt=吉林大學：一種新型倒置器件結構，顯著提高量子點效率 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/e1b88d3bb4404ac7a6e3b01dc126a066 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f8b10366.html title=吉林大學：一種新型倒置器件結構，顯著提高量子點效率>吉林大學：一種新型倒置器件結構，顯著提高量子點效率</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/56ec1efe.html alt=「乾貨」電機功率與電流對照表 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1534026515349afc46bd876 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/56ec1efe.html title=「乾貨」電機功率與電流對照表>「乾貨」電機功率與電流對照表</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>