<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>「案例」網絡丟包怎麼辦？常見故障分析及處理方式 | 极客快訊</title><meta property="og:title" content="「案例」網絡丟包怎麼辦？常見故障分析及處理方式 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/d1562ac7bc6a4e9bafbc0b70d0bf2fdb"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e594598.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e594598.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e594598.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e594598.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e594598.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e594598.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e594598.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e594598.html><meta property="article:published_time" content="2020-10-29T21:06:15+08:00"><meta property="article:modified_time" content="2020-10-29T21:06:15+08:00"><meta name=Keywords content><meta name=description content="「案例」網絡丟包怎麼辦？常見故障分析及處理方式"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/e594598.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>「案例」網絡丟包怎麼辦？常見故障分析及處理方式</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>所謂網絡丟包是我們在使用ping命令（檢測某個系統能否正常運行）對目的站進行詢問時，數據包由於各種原因在信道中丟失的現象。</p><div class=pgc-img><img alt=「案例」網絡丟包怎麼辦？常見故障分析及處理方式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d1562ac7bc6a4e9bafbc0b70d0bf2fdb><p class=pgc-img-caption></p></div><p>Ping命令使用了ICMP回送請求與回送回答報文。ICMP回送請求報文是主機或路由器向一個特定的目的主機發出的詢問，收到此報文的機器必須給源主機發送ICMP回送回答報文。</p><p>這種詢問報文用來測試目的站是否可到達以及瞭解其狀態。需要指出的是，ping命令是直接使用網絡層ICMP協議的一個例子，它沒有通過運輸層的UDP或TCP協議。</p><p>網絡丟包是網絡中常見的故障之一，它會引起網速降低甚至造成網絡中斷。發生網絡故障在所難免，但是如何快速隔離和排除故障是網絡管理人員應該具備的基本素質。</p><p><strong>以下列舉幾種常見的網絡丟包故障現象及處理方法。<br></strong><br></p><p><strong>網絡數據包發送時通時斷</strong></p><p><strong>丟包嚴重</strong></p><p><strong>故障現象：</strong></p><p>通常故障發生時，該方向網絡出現震盪性中斷。使用Ping命令測試，發現在一段時間內數據包發送延時比正常值略高，間隔一小段時間數據包又全部丟失，丟包率超過60%，丟包曲線成規則狀，網絡服務基本不可用。</p><p><strong>故障分析：</strong></p><p>在局域網中引起網絡發生振盪性時斷時通，一般可能是由於互連的交換機中的某兩個交換機間出現了環路，或者某個交換機的兩個端口直接相連。</p><p>這樣就會造成局域網的生成樹協議構建失敗，不斷重複檢查並試圖構建新的生成樹網絡，從而導致網絡振盪性通斷，同時伴隨著交換機間不斷重複地發送廣播包，就會形成“廣播風暴”，使交換機負擔過重，網絡傳輸通道嚴重被堵塞，無法正常的處理通信數據。</p><p>環路雖然可能出現在某個接入交換機上，但會影響整個以三層交換機為核心的局域網的穩定運行。</p><p><strong>故障處理：</strong></p><p>當發現網絡數據包發送時通時斷，丟包嚴重，特別是整個單位或整個樓層出現振盪性中斷現象時，則可以判定應該是該單位的某個交換機上出現了環路所致。</p><p>作為網絡管理人員應首先查看各接入交換機的指示燈閃爍狀態，通常出現環路狀況會指示燈會急速閃爍，次數每秒4次以上，所環交換機更為突出。</p><p>逐個撥出交換機級聯接入網線，同時實時監控交換機狀態，在撥下某端口網線後，交換機指示燈恢復正常狀態，再進一步查找，會發現該連接線的末端有線路形成環路，清理該網線後，網絡恢復暢通。</p><p><strong>網絡數據包發送超時現象嚴重</strong></p><p><strong>時有不規則丟包</strong></p><p><strong>故障現象：</strong></p><p>網絡突然出現嚴重堵塞，日常辦公程序不能正常運行，打開網頁速度緩慢，有時會因超時而中斷。未發現網絡設備有任何問題，該網絡中有幾臺計算機在入網後速度明顯變慢，在禁用網卡或者中斷網絡後恢復正常。</p><p><strong>故障分析：</strong></p><p>首先，在一臺用戶終端上ping網關測試，結果可以ping通網關，但是數據包發送超時現象嚴重，丟包率30%左右，丟包不規律。</p><p>其次，登陸用戶交換機，運行arp -a命令，發現網關IP和網關MAC地址指向正確。</p><p>通過上面的測試基本排除網絡設置錯誤以及ARP欺騙，丟包表現了一定的隨機性而沒有連續性和振盪性的通斷，基本排除網絡環路問題，初步判斷這種現象可能是病毒攻擊等引起的。</p><p>為此，需要進一步獲取ARP信息、網絡中傳輸的原始數據包等信息。</p><p>再次，部署抓包分析。在該交換機上配置鏡像端口，並將維護終端接到此端口上，啟動網絡協議分析工具（sniffer）捕獲分析網絡的數據通信，約10分鐘後停止。</p><p>在網絡分析系統主界面左邊的節點瀏覽器中發現，網絡中可能存在偽造IP地址攻擊或自動掃描攻擊。選擇連接視圖，發現在10分鐘內，網絡中共發起了12000多個連接，且狀態大多都是客戶端請求同步。</p><p>據此，斷定網絡中存在自動掃描攻擊。</p><p>最後，詳細查看連接信息，發現這些連接大多都是由同一主機發起，選中任意一個連接，選擇數據包視圖，查看傳輸數據的原始解碼信息，發現這臺計算機正在主動對網絡中其它主機的TCP 445端口進行掃描攻擊，可能是主機感染病毒程序，或者有人正使用掃描軟件。通過分析圖表視圖，進一步確定主機肯定存在自動掃描攻擊。</p><p><strong>故障處理：</strong></p><p>找到問題根源後，對主機進行隔離，經過一段時間的測試，網絡丟包現象有所緩解，但沒有從根本上解決問題。</p><p>於是再次啟動網絡協議分析系統捕獲並分析，又發現了1臺相似情況的主機。據此基本可以斷定兩臺主機都是感染了病毒，且該病毒會主動掃描網絡中其他主機是否打開TCP 445端口，如果某主機打開該端口，就攻擊並感染這臺主機。</p><p>如此循環，即引發了上述的網絡故障。立即對新發現感染病毒的兩臺主機進行物理隔離，網絡通信立刻恢復正常，再對該終端進行殺毒處理。</p><p><strong>網絡數據包發生嚴重延時現象</strong></p><p><strong>下載、瀏覽等服務不能正常使用</strong></p><p><strong>故障現象：</strong></p><p>局域網內部日常數據共享正常，但是出局瀏覽外網和下載數據時速度明顯降低，使用Ping命令發現到某個方向網絡時延特別大，甚至有少量丟包現象。</p><p><strong>故障分析：</strong></p><p>一般通過telnet遠程登陸到該方向的交換機，以<strong>華為系列交換機</strong>為例，輸入下列命令：</p><p><strong>#Display cpu</strong> 查看交換機CPU利用率</p><p><strong>#Display memory</strong> 查看內存利用率</p><p>發現兩者都非常高，再通過輸入命令 <strong>#Display interface</strong>端口號，檢查各端口下的數據流。</p><p>對其數據流進行抓包分析，發現多線程指向某網站電影欄目，為避免影響整個網絡的暢通，對所接入交換機進行處理。</p><p>發現其中的兩個端口數據流量特別大，遠高於正常使用的網絡流量。對其數據流進行抓包分析，發現多線程指向某網站電影欄目，為避免影響整個網絡的暢通，對所接入交換機進行處理。</p><p><strong>故障處理：</strong></p><p>進入該端口配置界面下，輸入Shutdown命令，強制關閉該端口使其斷網，聯繫該終端使用人員，令其終止下載進程後，再恢復其網絡。</p><p><strong>歡迎關注我的頭條號，私信交流，學習更多網絡技術！</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>網絡</a></li><li><a>丟包</a></li><li><a>怎麼</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/50910477.html alt=你根本就不知道網絡是怎麼回事！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/3f2c00030312d760ab87 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/50910477.html title=你根本就不知道網絡是怎麼回事！>你根本就不知道網絡是怎麼回事！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2ab76cd7.html alt=突然間沒有網絡了，又沒有認識網絡的人，怎麼辦！今天帶你玩轉它 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/30fb519de039474aac909965973765a9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2ab76cd7.html title=突然間沒有網絡了，又沒有認識網絡的人，怎麼辦！今天帶你玩轉它>突然間沒有網絡了，又沒有認識網絡的人，怎麼辦！今天帶你玩轉它</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/911f7970.html alt=網絡驅動刪了怎麼恢復 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/674629b4609c44df8e1975d537752951 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/911f7970.html title=網絡驅動刪了怎麼恢復>網絡驅動刪了怎麼恢復</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/d6900b98.html alt=網絡不穩定老是掉線是怎麼回事？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/a12d7314b6a044d88982343ede50d723 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/d6900b98.html title=網絡不穩定老是掉線是怎麼回事？>網絡不穩定老是掉線是怎麼回事？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4403c24.html alt=網絡延遲高怎麼辦？網絡有延遲怎麼解決 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b1307ca0c0e44784b12d79279ba65d16 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4403c24.html title=網絡延遲高怎麼辦？網絡有延遲怎麼解決>網絡延遲高怎麼辦？網絡有延遲怎麼解決</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5f0e20a.html alt=網速太慢怎麼辦？手把手教你家庭網絡解決方案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/S3K1pUpIMBMxFN style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5f0e20a.html title=網速太慢怎麼辦？手把手教你家庭網絡解決方案>網速太慢怎麼辦？手把手教你家庭網絡解決方案</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f9f5a9f.html alt=怎麼利用網絡賺錢？教你待在家裡輕鬆在網上賺錢的幾種方法！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/78155e4f984b4d368a4508ae40122847 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f9f5a9f.html title=怎麼利用網絡賺錢？教你待在家裡輕鬆在網上賺錢的幾種方法！>怎麼利用網絡賺錢？教你待在家裡輕鬆在網上賺錢的幾種方法！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0319913.html alt=怎麼用網絡賺錢，怎樣可以通過網絡賺錢，學3個方法讓你少走彎路 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/a2d23a794d5343378742cfe9516aba9b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0319913.html title=怎麼用網絡賺錢，怎樣可以通過網絡賺錢，學3個方法讓你少走彎路>怎麼用網絡賺錢，怎樣可以通過網絡賺錢，學3個方法讓你少走彎路</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/403ef72.html alt=怎麼通過網絡快速賺錢，無非是這4種方式 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/16a04c99b36540068a8cffa76bbef90c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/403ef72.html title=怎麼通過網絡快速賺錢，無非是這4種方式>怎麼通過網絡快速賺錢，無非是這4種方式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2a77e98.html alt=怎麼利用網絡賺錢？三步賺錢法分享給你 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/95235411fc3b4f88a29ecd921a10bb7e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2a77e98.html title=怎麼利用網絡賺錢？三步賺錢法分享給你>怎麼利用網絡賺錢？三步賺錢法分享給你</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3ee3217.html alt=網絡上班賺錢，互聯網怎麼賺錢，4個如何利用互聯網賺錢的技巧！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e2d4f8d5cd4a4ee5a349869ea0be5cad style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3ee3217.html title=網絡上班賺錢，互聯網怎麼賺錢，4個如何利用互聯網賺錢的技巧！>網絡上班賺錢，互聯網怎麼賺錢，4個如何利用互聯網賺錢的技巧！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/facf1ff.html alt=網絡連接中沒有本地連接怎麼辦 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/617500049ba4f913829a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/facf1ff.html title=網絡連接中沒有本地連接怎麼辦>網絡連接中沒有本地連接怎麼辦</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/05d2085.html alt=連接不到網絡該怎麼辦？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1531214522323d2058e53c2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/05d2085.html title=連接不到網絡該怎麼辦？>連接不到網絡該怎麼辦？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2146c4b1.html alt=露天樓梯雨棚怎麼做 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/R6XWzD87AaIs0W style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2146c4b1.html title=露天樓梯雨棚怎麼做>露天樓梯雨棚怎麼做</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3a2e003a.html alt=你是怎麼認識曼恩的？在老路說車互動平臺感受曼恩魅力 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/cc30aa4b32114cb7aa98314ba1519473 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3a2e003a.html title=你是怎麼認識曼恩的？在老路說車互動平臺感受曼恩魅力>你是怎麼認識曼恩的？在老路說車互動平臺感受曼恩魅力</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>