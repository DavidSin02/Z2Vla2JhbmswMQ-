<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>做好接口測試的每一步，不來查漏補缺嗎 | 极客快訊</title><meta property="og:title" content="做好接口測試的每一步，不來查漏補缺嗎 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/bd3127d3ca534690b0676de4c9cb4d74"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e6e12dfe.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e6e12dfe.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e6e12dfe.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e6e12dfe.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e6e12dfe.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e6e12dfe.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/e6e12dfe.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/e6e12dfe.html><meta property="article:published_time" content="2020-11-14T21:03:15+08:00"><meta property="article:modified_time" content="2020-11-14T21:03:15+08:00"><meta name=Keywords content><meta name=description content="做好接口測試的每一步，不來查漏補缺嗎"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/e6e12dfe.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>做好接口測試的每一步，不來查漏補缺嗎</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>一個軟件的開發，<strong>接口一定是必不可少的</strong>，最後階段怎麼也會做到接口上，那麼接口測試自然成了每個測試人員都需要掌握的技能，本文將從<strong>服務級的接口</strong>帶大家瞭解並簡單地實操怎麼做好接口測試</p><h1 class=pgc-h-arrow-right>1.接口是什麼</h1><p>在討論為什麼要做接口測試之前，我們可以先稍微瞭解一下接口是什麼？</p><p>接口可以很不準確的理解成是與資源打交道，這個資源可能是本系統的，也可能是其他系統的。</p><p>舉個例子，假如我們在開發1個bug管理系統，該系統需要拿到公司的所有開發和測試人員的信息，這樣開發和測試人員不用註冊都可以登錄進去了，這應該很好理解。</p><p>那麼這些人員的信息儲存在哪裡呢？一般存儲在hr系統裡。現在的需求更加明確了，我們要到hr系統中去拿到人員信息，獲取hr系統中的人員資源。</p><p>怎麼拿呢？很多種方式，可以直接把hr系統的數據庫拷貝一份放到bug管理系統裡，不過這樣不好，因為數據的同步會有點麻煩；還可以直接連hr系統的數據庫去查，這樣也不太好，這樣我們就需要了解hr系統的數據存儲結構和邏輯，一旦hr系統的數據字段發生改變，bug管理系統也要去改，以便同步。</p><p>比較好的做法是，hr系統暴露一些接口，通過這些接口去獲取人員信息資源，這樣bug系統就不需要關心hr系統的數據存儲實現了。</p><p>這些接口可能是這樣的：</p><ul><li>登錄的接口，提供人員的用戶名和密碼，去hr系統中判斷該人員是否存在，如果存在驗證用戶名和密碼，如果驗證通過就返回1個token，該token就是這個人員的通行證，通過token可以登錄到bug管理系統中去；</li><li>獲取人員信息的接口，返回該人員的職位：測試還是開發，以及用戶名，暱稱等信息；</li></ul><p>綜上：接口可以理解成是不同系統或模塊之間資源交流方式；</p><p><strong>接口測試實際上是黑盒測試</strong></p><p>作為黑盒測試，基本的測試思路是通過輸入和輸出判斷被測系統或者對象的邏輯。</p><p>獲取人員的信息，我需要把人員的用戶名傳給hr系統接口，這樣hr系統的接口會返回給我用戶的一些更加具體的信息。這裡的輸入是用戶名，輸出是用戶的詳細信息。</p><p><strong>為什麼要做接口測試</strong></p><p>既然是接口獲取和操作資源的方式，而大部分系統和產品中，資源一般都是產品的核心，比如微信核心資源就是通訊錄關係鏈和聊天記錄等，因此資源是必測的。</p><p>另外接口中大部分的內容是數據，通過數據的對比我們能推測到系統和產品的邏輯，測接口就是測邏輯。</p><p>最後接口中的返回相對單純，不像web頁面，html代碼中有太多ui的東西，ui最不穩定，變化太快，接口相對穩定一點點，但是裡面的干擾信息更少，斷言相對容易很多。</p><p><strong>接口測試用例怎麼寫</strong></p><p>還是3a原則，這個我以前的回答裡有。</p><ul><li>A: arrange 初始化測試數據，就是造數據，這裡的數據有我們輸入的數據，也有目標接口所涉及的資源，比如hr系統中的用戶信息，我們必須先有幾條人員的詳細信息才能去測獲取人員信息的接口（當然只是正常的流程，我們有時候還需要清掉數據以便測試資源為空的情況）；</li><li>A: act 調用接口，傳入輸入數據；</li><li>A: assert 斷言， 對返回的資源信息進行斷言，比如獲取用戶信息的接口返回了用戶信息之後，我們要判斷返回的用戶是不是我們想要的那個用戶，我們獲取的是李雷的信息，接口如果返回韓梅梅，那麼接口的邏輯就是不對的；</li></ul><p><strong>有哪些常見的接口</strong></p><ul><li>攜程訂飛機票，飛機票的信息一般都是通過各大航空公司的接口拿到的；</li><li>淘寶的物流信息，一般淘寶的物流信息都是通過各個物流公司的接口拿到的；</li><li>第三方微博客戶端，個人用戶的微博等信息都是通過微博的接口拿到的；</li></ul><p><strong>常見的接口測試工具</strong></p><ul><li>postman：推薦。基本功能免費。最簡單的基於http接口的調試和測試工具;</li><li>jmeter：後置處理器配合斷言基本上可以滿足接口測試需求，就是測試報告要做二次開發</li><li>自己擼代碼：推薦。配合類似xunit測試框架，基本可以滿足一切需求；</li><li>soapui: 收費的；</li><li>insomnia：強力推薦。postman的弱化版，基本功能免費，重要的是工具代碼開源，可以自己改；</li><li>paw: 強力推薦。mac上最強，淘寶買個授權好像就百把塊錢；</li></ul><hr><h1 class=pgc-h-arrow-right>2.最簡單的接口長什麼樣</h1><p>接口測試由淺入深的學習才可以儘量減少挫敗感，避免從入門到放棄的悲劇。</p><p>從入門到放棄其實最可惜，畢竟花了那麼多時間去學習，最後放棄掉，花費掉的青春就一去不復返了。</p><p><strong>獲取資源的接口</strong></p><p>我們先來看一下獲取資源的接口。</p><p>v2ex是一個討論區，也就是大家常說的論壇，這是一個小眾的討論區，基本上只有程序員光顧。</p><p>v2ex裡有很多的節點，節點可以理解成是討論板塊，比如這個板塊就是討論python技術的。</p><p>v2ex提供了一些接口，可以讓我們去獲取v2ex站點的一些資源，比如討論區的信息，熱門帖子等，這很符合互聯網的分享精神。</p><p>v2ex的api描述頁面在這裡, 文檔相對簡潔，基本上是給看得懂的人看的。</p><p>我們仔細研究一下獲取節點信息的接口。這個接口可以獲取指定節點的名字，簡介，URL 及頭像圖片的地址。</p><p>下面是這個接口的具體描述</p><pre><code>1 獲得指定節點的名字，簡介，URL 及頭像圖片的地址。2 3 https://www.v2ex.com/api/nodes/show.json4 5 Method: GET6 Authentication: None7 接受參數：8 9 name: 節點名（V2EX 的節點名全是半角英文或者數字）10 例如：11 12 https://www.v2ex.com/api/nodes/show.json?name=python</code></pre><p>我們從這個接口文檔裡可以獲得哪些信息呢？換一句話說，我們能不能通過接口文檔去了解這個接口是做什麼的呢？</p><p><strong>接口分析</strong></p><p>從上面的描述裡，我們可以得到下面一些信息</p><ul><li>接口的協議：https協議，也就是更安全版本的http協議；</li><li>請求的方法：http協議裡定義了一些請求的方法或者叫動詞，這些方法和動詞可以進一步定義請求的目的，比如是獲取資源還是創建資源等；上面的例子裡，請求方法是GET;</li><li>請求參數：http協議裡規定了請求的時候可以傳遞一些參數給服務端，這些參數可以更加具體的描述資源，比如獲取多少個資源，這個資源的名字是什麼。上面的例子裡，我們可以傳遞name參數指定資源的名稱，比如獲取名字叫python的資源，這裡資源就是節點；</li><li>鑑權：簡單來說，就是要不要登錄，很顯然，上面的接口是不需要登錄的</li></ul><p>合起來，我們應該可以得到這樣的信息：</p><p>當我們發送:https://www.v2ex.com/api/nodes/show.json?name=python，這個http的get請求給服務器之後，服務器應該返回相應的資源，那麼這時候就需要探討一下</p><p><strong>如何查看接口的返回</strong></p><p>我們現在已經知道了這個接口的情況了，如何查看接口的返回呢？</p><p>我們可以使用一些輔助工具幫助我們進行接口的調用，查看接口返回，最簡單的跨平臺調試工具推薦使用postman 3.入門級接口測試工具:</p><h1 class=pgc-h-arrow-right>postman的安裝</h1><p><strong>關於postman</strong></p><p>postman是跨平臺的接口調試及測試工具，非常適合初學者使用。</p><p><strong>安裝postman</strong></p><p>下載地址</p><p>請選擇相應的版本下載，windows版下載完成後雙擊安裝就好了。</p><p><strong>postman的界面</strong></p><div class=pgc-img><img alt=做好接口測試的每一步，不來查漏補缺嗎 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/bd3127d3ca534690b0676de4c9cb4d74><p class=pgc-img-caption></p></div><p><strong>發送第一個請求</strong></p><p>我們發送上一節裡提到的獲取v2ex節點信息的api。</p><pre><code>https://www.v2ex.com/api/nodes/show.json?name=python</code></pre><p>具體步驟如下</p><div class=pgc-img><img alt=做好接口測試的每一步，不來查漏補缺嗎 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9620e3f235c746c1955df40e6b7a35ab><p class=pgc-img-caption></p></div><p><strong>postman是如何工作的</strong></p><div class=pgc-img><img alt=做好接口測試的每一步，不來查漏補缺嗎 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/142ba3967f0341df99d2b0794469184d><p class=pgc-img-caption></p></div><p>從原理圖上可以看出，postman發送請求給服務器，然後從服務器接受響應，最後在postman中展示出來。</p><p><strong>服務器響應</strong></p><p>上圖就是服務器的響應詳情，這裡包含了一些重要信息</p><ul><li>狀態碼: 200，表示響應是ok的</li><li>Body: 返回的主體</li><li>Headers: 可以簡單的理解為一些鍵值對，對請求的主體起到了補充的作用</li><li>Time: 響應時間</li><li>Size: 響應的大小</li></ul><p><strong>json字符串</strong></p><p>有基礎的同學可以看出來，響應的主體是json格式的字符串，那麼什麼是json格式字符串呢？</p><p>這個問題我會在下次再詳細給大家解答，有需求的可以關注我，或者加入我的Q群一起交流自動化測試知識</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>測試</a></li><li><a>不來</a></li><li><a>查漏</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/6d1c2a0c.html alt=塑料扯斷伸長率的概念及測試要點 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/6fe0ba07-c929-4046-9216-7f6d5eaa1716 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6d1c2a0c.html title=塑料扯斷伸長率的概念及測試要點>塑料扯斷伸長率的概念及測試要點</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ebbbc375.html alt=時間繼電器測試儀的使用方法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1205bf787f1f4de6a5f1e73e7737887b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ebbbc375.html title=時間繼電器測試儀的使用方法>時間繼電器測試儀的使用方法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bee6be40.html alt=河北省邯鄲市計量測試所大力實施專業技能提升行動 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bee6be40.html title=河北省邯鄲市計量測試所大力實施專業技能提升行動>河北省邯鄲市計量測試所大力實施專業技能提升行動</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/9b084990.html alt=介質損耗測試儀的操作方法與注意事項 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/1a746168-e5df-4643-9117-3f1fb4faf100 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/9b084990.html title=介質損耗測試儀的操作方法與注意事項>介質損耗測試儀的操作方法與注意事項</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d38b572e.html alt=有關於射頻測試設備：電纜/天線分析儀 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/0e79c2e668d84f09be994180e66f90c8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d38b572e.html title=有關於射頻測試設備：電纜/天線分析儀>有關於射頻測試設備：電纜/天線分析儀</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e0f90fbd.html alt=透氣性、透氣度測試知多少？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/dfic-imagehandler/45ac8fb9-3365-4327-901d-b21b7cd9cbbf style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e0f90fbd.html title=透氣性、透氣度測試知多少？>透氣性、透氣度測試知多少？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/26e2bf51.html alt=振動測試中需要了解的27個常識 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/523bd012e455466f857587d9314c3084 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/26e2bf51.html title=振動測試中需要了解的27個常識>振動測試中需要了解的27個常識</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/72951256.html alt=現場密度測試方法——灌砂法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/4e780002be67a3fa5bad style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/72951256.html title=現場密度測試方法——灌砂法>現場密度測試方法——灌砂法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d260a748.html alt=測試開發專題：spring-boot統一異常捕獲 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/135918e30e2f4a2ea248b539eb383688 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d260a748.html title=測試開發專題：spring-boot統一異常捕獲>測試開發專題：spring-boot統一異常捕獲</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/01e5dc8b.html alt=汽車別再測試油箱警示後跑多遠，油箱球閥故障很危險 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1527412810099aa43fbd71b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/01e5dc8b.html title=汽車別再測試油箱警示後跑多遠，油箱球閥故障很危險>汽車別再測試油箱警示後跑多遠，油箱球閥故障很危險</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c6a66288.html alt=性能測試的分類、流程及工具介紹 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c6a66288.html title=性能測試的分類、流程及工具介紹>性能測試的分類、流程及工具介紹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3eeb035b.html alt=懸索橋的“原始指紋測試” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/2157b4b13e4b4f42820eb641677f2c23 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3eeb035b.html title=懸索橋的“原始指紋測試”>懸索橋的“原始指紋測試”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cffb680d.html alt=軟件測試必備之數據庫知識 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/1adc8d8adfcd4b239442f447cebf7731 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cffb680d.html title=軟件測試必備之數據庫知識>軟件測試必備之數據庫知識</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/63a90cc1.html alt=重要提醒：別讓你的UI自動化測試技術落後別人一個時代 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/c9173ecb95284123b89717ae657af26d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/63a90cc1.html title=重要提醒：別讓你的UI自動化測試技術落後別人一個時代>重要提醒：別讓你的UI自動化測試技術落後別人一個時代</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7e539424.html alt=時鐘測試儀是如何校準的 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/fadd9ef687ec4d4f9df7047e1c255709 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7e539424.html title=時鐘測試儀是如何校準的>時鐘測試儀是如何校準的</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>