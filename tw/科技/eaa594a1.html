<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Code Review,有用嗎？ | 极客快訊</title><meta property="og:title" content="Code Review,有用嗎？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/6174000147ebf24904b2"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eaa594a1.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eaa594a1.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/eaa594a1.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eaa594a1.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eaa594a1.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/eaa594a1.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/eaa594a1.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eaa594a1.html><meta property="article:published_time" content="2020-11-14T21:05:50+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:50+08:00"><meta name=Keywords content><meta name=description content="Code Review,有用嗎？"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/eaa594a1.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Code Review,有用嗎？</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div><blockquote><p>或許應該說，Code Review, 達到了它的目的了嗎？</p></blockquote><p><img alt="Code Review,有用嗎？" onerror=errorimg.call(this); src=https://p1.pstatp.com/large/6174000147ebf24904b2></p><p class=pgc-img-caption>Code Review</p><p>最近在讀一本比較牛逼的書，Desiginning Data-Intensive Applications: The Big Ideas Behind Reliable, Scalable, and Maintainable Systems. 正如書的題目，一個牛逼的軟件，需要有3個重要元素：Reliability, Scalability, Maintainability. 今天所說Code Review與Maintainability。</p><p>可維護性，主要指，可操作性，簡潔性，可擴展性。程序設計的最重要的目的，就是降低複雜度，還有易於擴展。如何降低複雜度？如何編寫易於擴展的代碼？在複雜的工程中如何保證程序設計的優雅？</p><p>簡潔，依賴於良好的分層和抽象；可擴展，依賴於對需求和可能變化的深入理解和重構。如題目所說，code review，是很多公司在充分實踐的一種方法。</p><p>在往常經驗裡，無論是review別人的代碼，還是自己提的review，都會有一些共有的問題：</p><ol class=list-paddingleft-2><li><p>code review的工具不一定能夠像我們在IDE裡面讀代碼一樣支持語義上的跳轉去幫助理解，導致review的碎片化，對於reviewer，無法形成一個處理流和整體。</p></li><li><p>難以對代碼涉及到的架構設計、對整個系統的性能影響有全局的思考和審視，review忽視系統，陷入細節。</p></li><li><p>過多的業務細節和實現細節無法理解。</p></li></ol><p>Code Review很多時候退化成了靜態代碼分析和自動化測試能夠做到的：代碼風格檢查，局部bug的發現….，比如：函數名/變量名命名較差，更好的算法實現，數據結構實現…代碼bug… 。距離在正確達到意圖的前提下保證降低複雜度和提高代碼可擴展性的目標有一些距離，</p><p>在我剛來到頭條的時候，我也驚訝於一個工程師的自由度很高，獨當一面，測試後上線，開發、迭代非常快。也曾一度向我的主管討論過code review的必要性。 到了今天，我反而覺得，code review重要，但是被overrated了。</p><p>雖然有code review，代碼仍然可能走向一團糟，熵增大，難以維護。</p><p>一個不夠好的架構與設計下，再多的review和修補也無法降低系統的熵…</p><p>需求迭代加快的情形下，在一個不以技術驅動的團隊，難免會走在破窗效應的路上，即使有了review，缺乏系統思考的時候，破壞設計原則的修改可能被通過…</p><p>甚至，我覺得，你周圍最優秀工程師的水平上限就是你的上限。</p><p>一個有經驗的工程師都知道，程序設計最耗費腦細胞和時間的可能不是編寫代碼，而是設計，去在思維的palace裡構建出解決問題的模型和思路。對於構建系統來說，也是一樣的。</p><p>花費一個團隊最多時間的不應該是對test-ready的成品的審查，而是對系統的架構設計、實現/重構方案的討論與Interface Review。</p><p>在技術驅動的團隊裡，即使需求很緊急，對於關鍵的功能，核心成員也會耐心地審視架構設計和實現方案，如何控制熵，如何用更合理的方式實現，如何考慮到未來的變化。</p><p>技術驅動的團隊裡，應該持續進行對設計的調整和代碼的微小重構與改良，時刻在整個系統的設計和表現（performance）角度審視自己的工作。這也是“系統思考”的核心。</p><p>大部分的代碼的熵增大難以控制，並不是因為沒有好的架構，而是因為迭代中忽略了系統性的思考和審視，而是用局部的解決方案解決問題，在反覆迭代後，複雜度過高導致控制熵變得異常困難。這是code review比較難解決的。</p><p>除了團隊增加對Architecture Design和Interface Review的重視外，保證團隊成員的優秀也是非常重要的。一個優秀的工程師需要能夠獨當一面，能夠在系統角度實現局部的良好設計，通過合理的測試方法論驗證結果。能夠用合理的數據結構、算法實現功能。我想，是一個優秀工程師的基本功。</p><p>以上的實踐，在我們的團隊很常見，我只是其中一員。</p><p>也是我司招人的原則：與優秀的人共事。招人，就招優秀的人。</p><p>另外了，大部分的代碼風格問題，實現bug問題，性能問題，不一定要通過code review，而是有其他思路的：</p><ol class=list-paddingleft-2><li><p>CI中集成靜態代碼檢查工具，發現潛在的bug和較差的代碼風格問題。</p></li><li><p>工程師具備設計測試case，考慮全面細緻的能力。</p></li><li><p>系統的可操作性，也就是說，具備足夠的監控和手段去觀察它的健康狀態，性能，通過積累的性能分析數據去針對性優化。（切忌過早優化）</p></li><li><p>自動化集成測試，避免人類的錯誤（很常見）</p></li></ol><p>另外，Facebook經常發佈Bug很多的代碼，卻並沒有產出很多的線上事故的一個重要原因是，具備非常完備的灰度系統和監控設施，在能夠精確控制影響範圍的前提下，及時發現問題，在更多人被影響之前修復問題。這也是一種很好的思路。</p><p>技術驅動的團隊切忌把方法固定成流程，最後趨於表面的形式，忘記了初心，忘記了最重要的東西：降低複雜度（簡潔性），易於擴展。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Code</a></li><li><a>Review</a></li><li><a>有用</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/14af3d4a.html alt="Code Review 中的5個常見錯誤模式" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/4db15b6fa7874bbf9ca5f8e1c6f8fcf9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/14af3d4a.html title="Code Review 中的5個常見錯誤模式">Code Review 中的5個常見錯誤模式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5b38b2e2.html alt="Code Review 常見的5個錯誤模式" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5b38b2e2.html title="Code Review 常見的5個錯誤模式">Code Review 常見的5個錯誤模式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c58a762d.html alt="什麼是擴展型Code 39碼" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ba4127a444154cb78523006d51f3a9bf style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c58a762d.html title="什麼是擴展型Code 39碼">什麼是擴展型Code 39碼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6ac48bd0.html alt="如何編寫 VS Code 擴展 | Linux 中國" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/699af8d9882b4ec69cdb3ca651b1871b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6ac48bd0.html title="如何編寫 VS Code 擴展 | Linux 中國">如何編寫 VS Code 擴展 | Linux 中國</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3ecc53e7.html alt=AI-Code代碼生成器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/def5b5db0bc14cd994b74f035d643b16 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3ecc53e7.html title=AI-Code代碼生成器>AI-Code代碼生成器</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1e04c121.html alt=太有用了，自己有電腦的必看常識 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/77cfe0ac4567463885584a2e4de8d3d0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1e04c121.html title=太有用了，自己有電腦的必看常識>太有用了，自己有電腦的必看常識</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/6632605a.html alt=中專畢業證沒有用？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6d9ad7c5d28d46e09fa08a59f8aaccae style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/6632605a.html title=中專畢業證沒有用？>中專畢業證沒有用？</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/cb8a40bc.html alt=讀中專有沒有用？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/cb8a40bc.html title=讀中專有沒有用？>讀中專有沒有用？</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/90d507e2.html alt=腮紅你肯定有用過，那麼腮黃呢，你會用嗎？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/dac5606438824e82a0c9f9cbe7f00cd7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/90d507e2.html title=腮紅你肯定有用過，那麼腮黃呢，你會用嗎？>腮紅你肯定有用過，那麼腮黃呢，你會用嗎？</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/ccc11925.html alt="磁療床墊有用嗎 磁療床墊的品牌推薦" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/R6naHcADK8cV06 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/ccc11925.html title="磁療床墊有用嗎 磁療床墊的品牌推薦">磁療床墊有用嗎 磁療床墊的品牌推薦</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ef92dc10.html alt=公司管理流程（絕對有用） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1533194172999dc4b8709af style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ef92dc10.html title=公司管理流程（絕對有用）>公司管理流程（絕對有用）</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/4351f5e.html alt=一些常用的安全距離常識送給大家，希望對你有用 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/f80183477b81433c8d9705cd58bb4ead style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/4351f5e.html title=一些常用的安全距離常識送給大家，希望對你有用>一些常用的安全距離常識送給大家，希望對你有用</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>