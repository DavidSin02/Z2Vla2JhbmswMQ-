<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>如何在Linux中使用Pigz工具更快地壓縮文件 | 极客快訊</title><meta property="og:title" content="如何在Linux中使用Pigz工具更快地壓縮文件 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/220d02c6b1dc404388d5bb9040f0958d"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/eba491bd.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/eba491bd.html><meta property="article:published_time" content="2020-11-14T21:01:36+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:36+08:00"><meta name=Keywords content><meta name=description content="如何在Linux中使用Pigz工具更快地壓縮文件"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/eba491bd.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>如何在Linux中使用Pigz工具更快地壓縮文件</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p><br></p><blockquote><p>請關注本頭條號，每天堅持更新原創乾貨技術文章。</p><p>如需學習視頻，請在微信搜索公眾號<strong>“智傳網優”</strong>直接開始自助<strong>視頻學習</strong></p></blockquote><h2 class=pgc-h-arrow-right>1. 前言</h2><p>本文主要介紹如何在Linux中使用Pigz工具更快地壓縮文件。</p><p>Pigz是GZip並行實現的首字母縮寫，由Mark Adler編寫。它是一個極好的壓縮工具，可以幫助您以驚人的速度壓縮文件。作為對舊的gzip實用程序的改進，它利用多核心和多處理器來壓縮數據。</p><p>本指南將更多地介紹Pigz，並介紹如何使用該實用程序在Linux系統中壓縮文件。</p><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地壓縮文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/220d02c6b1dc404388d5bb9040f0958d><p class=pgc-img-caption>如何在Linux中使用Pigz工具更快地壓縮文件</p></div><p><br></p><h2 class=pgc-h-arrow-right>2. 在Linux系統上安裝Pigz</h2><p>安裝Pigz是一件很容易的事情，因為Pigz軟件安裝包包含在主要發行版(如Debian和CentOS)的官方軟件倉庫中。</p><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地壓縮文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cffc8ee91713445391e8ca9f9ff5b828><p class=pgc-img-caption>在Linux系統上安裝Pigz</p></div><p><br></p><p><br>可以使用各自的包管理器在不同發行版的單個命令中安裝Pigz，如下所示。</p><p><br></p><p>基於Debian/Ubuntu</p><pre><code>sudo apt install pigz -y</code></pre><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地壓縮文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/eec7c7e53da74afa959bcb070d09c4f4><p class=pgc-img-caption>Debian/Ubuntu安裝Pigz</p></div><p><br></p><p>基於CentOS/RHEL/Fedora</p><pre><code>sudo dnf install pigz</code></pre><p>基於Arch/Manjaro Linux</p><pre><code>sudo pacman -S pigz</code></pre><p>或者</p><pre><code>yay -S pigz</code></pre><h2 class=pgc-h-arrow-right>3. 如何用Pigz壓縮文件</h2><p>若要將單個文件壓縮為zip格式，請使用以下語法。</p><pre><code>pigz filename</code></pre><p>在本指南中，我們將使用文件linuxqq_2.0.0-b2-1082_amd64.deb用於演示目的。要壓縮文件，請執行:</p><pre><code>pigz linuxqq_2.0.0-b2-1082_amd64.deb</code></pre><p>檢查：</p><pre><code>ll linuxqq_2.0.0-b2-1082_amd64*</code></pre><p>輸出</p><pre><code>-rw-rw-r-- 1 zcwyou zcwyou 12415395 4月   9 15:50 linuxqq_2.0.0-b2-1082_amd64.deb.gz</code></pre><p>但是，正如您看到的，該命令在壓縮時刪除原始文件。要在壓縮後保留原始文件，請運行如下所示的-k選項。</p><pre><code>pigz -k zoom_amd64.deb</code></pre><p>這樣，既保留了源文件，也創建了相應的壓縮文件。</p><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地壓縮文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f7f30045b6a44c24a270a82af0ec150f><p class=pgc-img-caption>如何用Pigz壓縮文件</p></div><p><br></p><p><br>從輸出結果中，我們可以清楚地看到，壓縮後的原始文件仍然保留了下來。</p><p><br></p><h2 class=pgc-h-arrow-right>4. 檢查Linux中壓縮文件的內容</h2><p>使用-l選項和pigz命令檢查壓縮文件的內容，包括壓縮比的統計:</p><pre><code>pigz -l zoom_amd64.deb.gz</code></pre><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地壓縮文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/cfa50584adf84dcf80ba089070e827f0><p class=pgc-img-caption>檢查Linux中壓縮文件的內容</p></div><p><br></p><p><br>從輸出結果中，您不僅可以看到壓縮後的文件的內容，還可以看到壓縮百分比(在本例中為0.0%)。</p><p><br></p><p>此外，您可以使用從1到9的各種壓縮級別。支持以下壓縮級別:</p><ul><li>6 -默認壓縮。</li><li>1 -最快，但提供最少的壓縮。</li><li>9 -最慢但最好的壓縮。</li><li>0 -沒有壓縮。</li></ul><p>例如，要將文件壓縮到最佳壓縮級別，執行:</p><pre><code>pigz -9 Tenvideo_universal_1.0.10_amd64.deb</code></pre><h2 class=pgc-h-arrow-right>5. 如何使用Pigz壓縮一個目錄</h2><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地壓縮文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/32cd3bd2487b462f8fe3a5c65271db32><p class=pgc-img-caption>如何使用Pigz壓縮一個目錄</p></div><p><br></p><p><br>Pigz本身沒有壓縮目錄的選項，它只壓縮單個文件。作為一種解決方案，pigz與tar命令一起用於壓縮目錄。</p><p><br></p><p>如果要使用壓縮目錄功能，請使用參數--use-compress-program：</p><pre><code>tar --use-compress-program="pigz -k " -cf dir1.tar.gz dir1</code></pre><p>壓縮目錄snap</p><pre><code>tar --use-compress-program="pigz -k " -cf snap.tar.gz snap</code></pre><pre><code>zcwyou@linuxrumen:~$ du -sh ./snap</code></pre><p>40M ./snap</p><pre><code>pigz -l snap.tar.gz</code></pre><pre><code>compressed   original reduced  name   9454725   43950080   78.5%  snap.tar</code></pre><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地壓縮文件 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/d90374dc70b745f49227c2db295f5093><p class=pgc-img-caption>如何使用Pigz壓縮一個目錄</p></div><p><br></p><h2 class=pgc-h-arrow-right>6. 壓縮時如何限制處理器的數量</h2><p>我們之前提到過pigz工具在壓縮文件時使用多個核心和多處理器。可以使用-p選項指定要使用的核心數量。</p><p>在下面的這個示例中，我們使用了4個處理器(-p4)的最佳壓縮(用-9表示)，同時保留原始文件(-k)。</p><pre><code>pigz -9 -k -p4 Tenvideo_universal_1.0.10_amd64.deb</code></pre><h2 class=pgc-h-arrow-right>7. 如何使用Pigz解壓文件</h2><p>要使用pigz解壓縮文件或目錄，請使用-d選項或unpigz命令。</p><div class=pgc-img><img alt=如何在Linux中使用Pigz工具更快地壓縮文件 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/afec256d61d448e79f32adfb63396e77><p class=pgc-img-caption>如何使用Pigz解壓文件</p></div><p><br></p><p>使用我們的壓縮文件，命令將是:</p><pre><code>pigz -d snap.tar.gz</code></pre><pre><code>unpigz dir1.tar.gz</code></pre><h2 class=pgc-h-arrow-right>8. Pigz和Gzip的比較</h2><p>以下是測試思路:</p><p>Gzip壓縮</p><pre><code>time gzip file</code></pre><p>Pigz壓縮</p><pre><code>time pigz file</code></pre><p>Gzip</p><pre><code>time gzip -d file.gz</code></pre><p>Pigz解壓縮</p><pre><code>time unpigz file.gz</code></pre><p>通過比較，我們可以清楚地發現Pigz的壓縮和解壓時間比Gzip短得多。這意味著Pigz命令行工具比Gzip工具快得多</p><h2 class=pgc-h-arrow-right>9. 總結</h2><p>我們在本文中介紹了pigz命令行工具，並向您展示瞭如何壓縮和解壓文件。我們進一步比較了Pigz和Gzip，發現Pigz在壓縮和解壓速度上都比Gzip好。</p><p>本文已同步至博客站，尊重原創，轉載時請在正文中附帶以下鏈接：https://www.linuxrumen.com/cyml/1765.html</p><p><strong>點擊瞭解更多，快速查看更多的技術文章列表。</strong></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Linux</a></li><li><a>Pigz</a></li><li><a>壓縮</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/5bd75600.html alt=你不知道的Linux壓縮解壓命令-rar class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/15309360853288f1001d48d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5bd75600.html title=你不知道的Linux壓縮解壓命令-rar>你不知道的Linux壓縮解壓命令-rar</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8775ee99.html alt=音頻壓縮編碼的基本原理詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1d62465bab4542babd5647386c272c82 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8775ee99.html title=音頻壓縮編碼的基本原理詳解>音頻壓縮編碼的基本原理詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/22525cee.html alt=數字音視頻壓縮編碼標準及H.265的編碼優勢 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/558a023201a84604894ebc359d178ed2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/22525cee.html title=數字音視頻壓縮編碼標準及H.265的編碼優勢>數字音視頻壓縮編碼標準及H.265的編碼優勢</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/286d1d05.html alt=Linux怎麼樣編譯c程序文件(編譯最新版ffmpeg為例) class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/67e5890abdc3408c9e6e28c61ce6c847 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/286d1d05.html title=Linux怎麼樣編譯c程序文件(編譯最新版ffmpeg為例)>Linux怎麼樣編譯c程序文件(編譯最新版ffmpeg為例)</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7e4b1039.html alt=Linux用戶、用戶組與文檔屬性 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/54f39d7a23d64846b3fee43d438f13bb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7e4b1039.html title=Linux用戶、用戶組與文檔屬性>Linux用戶、用戶組與文檔屬性</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bcacd8fd.html alt=Linux系統——用戶、用戶組、權限和文件屬性 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bcacd8fd.html title=Linux系統——用戶、用戶組、權限和文件屬性>Linux系統——用戶、用戶組、權限和文件屬性</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/dad48786.html alt=Linux併發服務器模型一、多進程 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/dad48786.html title=Linux併發服務器模型一、多進程>Linux併發服務器模型一、多進程</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e1360dd4.html alt=「Linux」高併發服務器模型（多進程和多線程實例模型） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/170e1596c32348f39d6ace1f327e45d5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e1360dd4.html title=「Linux」高併發服務器模型（多進程和多線程實例模型）>「Linux」高併發服務器模型（多進程和多線程實例模型）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2806cf4d.html alt=嵌入式Linux編程——程序員小白不懂的進程、信號量、併發、互斥 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6fea5f2744614de3884ab26fa09e5a40 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2806cf4d.html title=嵌入式Linux編程——程序員小白不懂的進程、信號量、併發、互斥>嵌入式Linux編程——程序員小白不懂的進程、信號量、併發、互斥</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d3d9f3d8.html alt=搞懂Linux內存管理，僅此一篇 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/0ae3e7cee0234c4cb9cdef0039d2c4d0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d3d9f3d8.html title=搞懂Linux內存管理，僅此一篇>搞懂Linux內存管理，僅此一篇</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/838d476c.html alt=Linux內核的整體架構 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a7aaf296a7c14809b8c0ce535a02205d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/838d476c.html title=Linux內核的整體架構>Linux內核的整體架構</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7102c077.html alt=什麼Linux，Linux內核及Linux操作系統，整體架構介紹 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/af09f220163b49399261735b49fe1790 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7102c077.html title=什麼Linux，Linux內核及Linux操作系統，整體架構介紹>什麼Linux，Linux內核及Linux操作系統，整體架構介紹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7e66a0e7.html alt=Linux網絡編程——UDP廣播詳解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/a2667182b3d34b2e98e8503a00af90fd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7e66a0e7.html title=Linux網絡編程——UDP廣播詳解>Linux網絡編程——UDP廣播詳解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7a41e30c.html alt="乾貨 | 離心壓縮機幹氣密封原理與典型故障分析" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/90500f6b56a14817916f16ef0ed2fd63 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7a41e30c.html title="乾貨 | 離心壓縮機幹氣密封原理與典型故障分析">乾貨 | 離心壓縮機幹氣密封原理與典型故障分析</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1ad89f6a.html alt=大慶石化壓縮機幹氣密封實現國產化 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1ad89f6a.html title=大慶石化壓縮機幹氣密封實現國產化>大慶石化壓縮機幹氣密封實現國產化</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>