<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>linux入門系列15--文件傳輸之vsftp服務 | 极客快訊</title><meta property="og:title" content="linux入門系列15--文件傳輸之vsftp服務 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/9e58d1dad3534defbca9da18d87ba72b"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ec28d5ef.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ec28d5ef.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ec28d5ef.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ec28d5ef.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ec28d5ef.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ec28d5ef.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ec28d5ef.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ec28d5ef.html><meta property="article:published_time" content="2020-11-14T21:05:13+08:00"><meta property="article:modified_time" content="2020-11-14T21:05:13+08:00"><meta name=Keywords content><meta name=description content="linux入門系列15--文件傳輸之vsftp服務"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/ec28d5ef.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>linux入門系列15--文件傳輸之vsftp服務</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><p>前面的系列文章基本講完了linux管理相關的基礎知識，從本篇開始講解centos7中服務程序的部署和配置，以便為外部提供各種服務。</p><p>日常工作和娛樂中，我們所需的各種資源都離不開網絡以及各種服務，我們通過網絡獲取部署在其他服務器上的各種服務資源，這些服務包括文件服務、郵件服務、媒體服務等等。</p><p>一般情況下，我們使用計算機上網的一個重要目的就是為了獲取資料，而文件傳輸則是獲取資料的方式。因此，我們首先來了解下linux中文件傳輸相關的知識。</p><h3 class=pgc-h-arrow-right>一、文件傳輸協議FTP</h3><p><br></p><h4 class=pgc-h-arrow-right>1.1 FTP產生背景</h4><p>“無規矩不成方圓”，這說明了規則的重要性。同樣，當今的互聯網由成千上萬臺機器組成，這些機器包括個人計算機、工作站、服務器、巨型機等各種形形色色的設備，並且這些設備中使用的操作系統還不一樣，有的可能是用的windows，而有的則是Linux或其他系統。</p><p>要在這麼紛繁複雜的設備之間傳輸文件，那就必須要有一定的規則，大家都按規則辦事，傳輸的文件才能相互識別，達到正確傳遞信息的目的。在這種背景下，為了解決文件傳輸的問題，文件傳輸協議應運而生。</p><h4 class=pgc-h-arrow-right>1.2 FTP相關概念</h4><p>文件傳輸協議（File Transfer Protocol，FTP），是一種在互聯網中進行文件傳輸的協議，基於客戶端/服務器模式，默認使用 20、21 號端口，其中20端口是數據端口用於進行數據傳輸，21端口為命令端口，用於接收客戶端發出的相關FTP命令和參數。</p><p>本系列文章第三篇提到的所有工具都可以實現在Windows中遠程到Linux主機並上傳下載文件，並且在Linux主機之間也可以通過scp命令上傳文件，那為什麼還需要FTP呢？個人認為應該是因為FTP一般搭建與內網之中，有具有容易搭建、方便管理的特點，並且一些FTP客戶端工具還具有文件多點下載以及斷點續傳等功能，這些是scp做不到的。</p><p>FTP是C/S架構，也就是基於客戶端/服務器的模式，FTP服務器是按照FTP協議在互聯網上提供文件存儲和訪問服務的主機，FTP客戶端則是向服務器發送連接請求，以建立數據傳輸鏈路的主機。</p><p>FTP協議的傳輸拓撲結構如下：</p><div class=pgc-img><img alt=linux入門系列15--文件傳輸之vsftp服務 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/9e58d1dad3534defbca9da18d87ba72b><p class=pgc-img-caption></p></div><p>FTP協議工作模式有兩種：<strong>*主動模式和被動模式，其中被動模式是默認的工作模式</strong>*。</p><ul><li>主動模式：FTP 服務器主動向客戶端發起連接請求。</li><li>被動模式：FTP 服務器等待客戶端發起連接請求。</li></ul><p>由於FTP一般部署在企業內網，如果開啟並配置了防火牆，有時候需要將FTP的工作模式設置為主動模式，才可以傳輸數據。</p><h3 class=pgc-h-arrow-right>二、Linux下基於FTP協議工具</h3><p><br></p><h4 class=pgc-h-arrow-right>2.1 vsftpd服務安裝</h4><p>vsftpd（very secure ftp daemon）非常安全的FTP守護進程，是一款運行在Linux系統上的免費開源的FTP服務端程序。其主要特點是：安全性高、傳輸速度快、支持虛擬用戶驗證。</p><p>默認情況Centos7中是沒有安裝vsftpd的，因此需要手動通過yum倉庫安裝，根據前文的講解可以用光盤資源自帶的yum源，也可以直接配置外網源。本例採用默認的外網yum源進行安裝。</p><p>~~~[root@origin ~]# rpm -q vsftpdpackage vsftpd is not installed[root@origin ~]# yum install vsftpdLoaded plugins: fastestmirror, langpacks...省略部分內容Installed size: 353 kIs this ok [y/d/N]: yDownloading packages:vsftpd-3.0.2-25.el7.x86_64.rpm | 171 kB 00:00<br>Running transaction checkRunning transaction testTransaction test succeededRunning transactionInstalling : vsftpd-3.0.2-25.el7.x86_64 1/1Verifying : vsftpd-3.0.2-25.el7.x86_64 1/1Installed:vsftpd.x86_64 0:3.0.2-25.el7<br>Complete![root@origin ~]# rpm -q vsftpd<br>vsftpd-3.0.2-25.el7.x86_64[root@origin ~]#~~~</p><p>通過rpm命令查看是否已經安裝過vsftpd，如果沒有安裝則通過yum install命令安裝即可，安裝過程中需要按提示輸入y繼續下載並安裝。</p><blockquote><p>注意：從現在開始，凡是涉及到服務的配置，就要考慮防火牆和SELinux的因素，很多教程和書籍上都是直接關閉防火牆和selinux，雖然這樣在學習階段可以避免干擾，但是這樣非常不安全。另外凡是配置了服務，都要加入開機啟動中，讓其每次重啟自動生效。</p></blockquote><p>安裝vsftpd服務後，會在/etc下自動生成配置文件</p><p>~~~[root@ftpserver ~]# ll /etc/vsftpd/total 20-rw-------. 1 root root 125 Oct 31 2018 ftpusers-rw-------. 1 root root 361 Oct 31 2018 user_list-rw-------. 1 root root 5116 Oct 31 2018 vsftpd.conf-rwxr--r--. 1 root root 338 Oct 31 2018 vsftpdconfmigrate.sh~~~</p><p>各個文件的解釋</p><p>文件名<br>作用<br>vsftpd.conf<br>主配置文件<br>ftpusers<br>黑名單<br>vsftpdconfmigrate.sh 遷移腳本<br>user_list<br>用戶列表，與userlistenbale和userlistdeny選項密切相關</p><p>查看主配置文件vsftpd.conf內容可以看到各項配置信息，需要根據實際情況來進行配置，其中主要的參數和作用如下：</p><p>不用完全記住這些參數，需要時再來查看即可。</p><h4 class=pgc-h-arrow-right>2.2 ftp客戶端安裝</h4><p>ftp是Linux系統中以命令行界面的方式來管理FTP傳輸服務的客戶端工具。默認也是沒有安裝的，需要手動安裝。</p><p>~~~[root@origin ~]# rpm -q ftppackage ftp is not installed[root@origin ~]# yum install ftpLoaded plugins: fastestmirror, langpacksLoading mirror speeds from cached hostfile...省略部分內容Total download size: 61 kInstalled size: 96 kIs this ok [y/d/N]: yDownloading packages:ftp-0.17-67.el7.x86_64.rpm | 61 kB 00:00<br>Running transaction checkRunning transaction testTransaction test succeededRunning transactionInstalling : ftp-0.17-67.el7.x86_64 1/1Verifying : ftp-0.17-67.el7.x86_64 1/1Installed:ftp.x86_64 0:0.17-67.el7<br>Complete![root@origin ~]# rpm -q ftp<br>ftp-0.17-67.el7.x86_64[root@origin ~]#~~~</p><p>通過yum install命令即可安裝成功，ftp客戶端工具安裝成功後，接下來就是及操作下文件傳輸的功能。</p><h4 class=pgc-h-arrow-right>2.3 vsftpd三種認證模式</h4><p>vsftpd作為更加安全的文件傳輸的服務程序，允許用戶以三種認證模式登錄到FTP服務器上：<strong>*匿名開放模式、本地用戶模式、虛擬用戶模式</strong>*。實際生產環境中虛擬用戶模式用的較多。</p><ul><li>匿名開放模式：任何人都可以無需密碼驗證而直接登錄到FTP服務器，是一種最不安全的認證模式。</li><li>本地用戶模式：是通過Linux系統本地的賬戶密碼信息進行認證的模式。如果被黑客破解了賬戶信息，就可以暢通無阻地登錄FTP服務器，從而完全控制整臺服務器。</li><li>虛擬用戶模式：需要為FTP服務單獨 建立用戶數據庫文件，虛擬出用來進行口令驗證的賬戶信息，而這些賬戶信息在 服務器系統中實際上是不存在的，僅供 FTP 服務程序進行認證使用。這樣，即使 黑客破解了賬戶信息也無法登錄服務器，從而有效降低了破壞範圍和影響。<strong>*是三種模式中最安全的一種認證模式</strong>*。</li></ul><h4 class=pgc-h-arrow-right>2.4 匿名開放模式</h4><p>匿名開放模式是最不安全的一種認證模式，任何人都可以無需密碼驗證而直接登錄到FTP服務器。針對匿名用戶放開這些權限會帶來潛在危險，生產環境不建議這樣做，因此一般不會用匿名模式，儘管如此，但本節還是實際演示一下。</p><p>按之前的方法克隆準備2臺虛擬機：一臺主機名為：ftpserver ，用於安裝vsftpd服務；另外一臺主機名為：ftp，用於安裝ftp客戶端。</p><p>vsftpd 服務程序默認開啟了匿名開放模式，我們需要做的就是開放匿名用戶的上傳、下 載文件的權限，以及讓匿名用戶創建、刪除、更名文件的權限。</p><p>針對匿名模式的配置主要有如下幾個參數：</p><p>參數<br>作用<br>anonymous_enable=YES<br>允許匿名訪問模式<br>anon_umask=022<br>匿名用戶上傳文件的umask值<br>anonuploadenable=YES<br>允許匿名用戶上傳文件<br>anonmkdirwrite_enable=YES 允許匿名用戶創建目錄<br>anonotherwrite_enable=YES 允許匿名用戶修改目錄名稱或刪除目錄</p><p>配置匿名模式主要步驟如下：</p><h5 class=pgc-h-arrow-right>2.4.1 服務器配置vsftp服務，開啟匿名模式</h5><p>只需要按照上表查找主配置文件中對應的參數，如果是注射掉的就把注射去掉，如果是沒有的就新加即可。</p><p>但是考慮到該配置文件裡邊的註釋信息是在是太多了，影響配置，乾脆我們把與配置無關的注射直接去掉。</p><p>~~~[root@ftpserver ~]# mv /etc/vsftpd/vsftpd.conf /etc/vsftpd/vsftpd.conf.bak[root@origin ~]# grep -v "#" /etc/vsftpd/vsftpd.conf.bak >/etc/vsftpd/vsftpd.conf[root@ftpserver ~]# cat /etc/vsftpd/vsftpd.confanonymous_enable=YESlocal_enable=YESwrite_enable=YESlocal_umask=022dirmessage_enable=YESxferlog_enable=YESconnectfromport_20=YESxferlogstdformat=YESlisten=NOlisten_ipv6=YESpamservicename=vsftpduserlist_enable=YEStcp_wrappers=YES[root@ftpserver ~]#~~~</p><p>上邊示例中，我們先把主配置文件備份，然後通過grep命令匹配出非註釋的參數，然後再重定向將其寫入到主配置文件。這樣配置文件看起來內容就簡潔多了。</p><p>然後我們將上表的參數配置到主配置文件即可：</p><p>~~~[root@origin ~]# vi /etc/vsftpd/vsftpd.confanonymous_enable=YESanon_umask=022anonuploadenable=YESanonmkdirwrite_enable=YESanonotherwrite_enable=YESlocal_enable=YESwrite_enable=YESlocal_umask=022dirmessage_enable=YESxferlog_enable=YESconnectfromport_20=YESxferlogstdformat=YESlisten=NOlisten_ipv6=YESpamservicename=vsftpduserlist_enable=YEStcp_wrappers=YES~~~</p><p>實際上第一行已經默認開啟了，等於是添加第二到第五行即可。保存並退出，這樣就完成了vsftpd服務的配置。</p><p>配置完成後重啟服務，並添加到開機啟動。配置並開啟vsftp服務後，就可以在客戶端執行ftp命令連接到遠程的FTP服務器了。</p><p>~~~[root@ftpserver ~]# systemctl restart vsftpd[root@ftpserver ~]# systemctl enable vsftpdln -s '/usr/lib/systemd/system/vsftpd.service' '/etc/systemd/system/multi-user.target.wants/vsftpd.service'[root@ftpserver ~]#[root@ftpserver ~]# ll /var/ftp/pub/total 0[root@ftpserver ~]# echo "ftp server content">/var/ftp/pub/ftpserver.txt[root@ftpserver ~]# ll /var/ftp/pub/total 4-rw-r--r--. 1 root root 19 Jan 13 23:09 ftpserver.txt[root@ftpserver ~]#~~~</p><p>在/var/ftp/pub目錄下準備文件，供ftp客戶端下載。因為客戶端連接到FTP服務器後，默認訪問的是服務器的/var/ftp目錄（該目錄下還有一個pub目錄）。</p><h5 class=pgc-h-arrow-right>2.4.2 客戶機使用ftp服務下載文件</h5><p>在vsftpd服務程序的匿名開放認證模式下，其賬戶統一為 anonymous，密碼為空</p><p>~~~[root@ftp ~]# ftp 192.168.78.101ftp: connect: No route to hostftp>~~~</p><p>發現報錯了，此時我們首先應該想到的就是ftpserver服務器的防火牆，因此我們關閉防火牆來驗證一下</p><p>~~~[root@ftpserver ~]# firewall-cmd --staterunning[root@ftpserver ~]# systemctl stop firewalld.service[root@ftpserver ~]# firewall-cmd --statenot running[root@ftpserver ~]#~~~</p><p>在ftpserver服務器關閉防火牆後，在嘗試連接就可以正常連接並下載服務器上的ftpserver.txt文件了。</p><p>~~~[root@ftp ~]# ftp 192.168.78.101Connected to 192.168.78.101 (192.168.78.101).220 (vsFTPd 3.0.2)Name (192.168.78.101:root): anonymous331 Please specify the password.Password:230 Login successful.Remote system type is UNIX.Using binary mode to transfer files.ftp> cd pub250 Directory successfully changed.ftp> ls227 Entering Passive Mode (192,168,78,101,132,61).150 Here comes the directory listing.-rw-r--r-- 1 0 0 19 Jan 13 15:09 ftpserver.txt226 Directory send OK.ftp> get ftpserver.txtlocal: ftpserver.txt remote: ftpserver.txt227 Entering Passive Mode (192,168,78,101,115,121).150 Opening BINARY mode data connection for ftpserver.txt (19 bytes).226 Transfer complete.19 bytes received in 7e-05 secs (271.43 Kbytes/sec)ftp>~~~</p><p>這樣就把ftpserver服務器上的ftpserver.txt文件下載到了當前用戶的家目錄下</p><p>~~~[root@ftp ~]# ll-rw-r--r--. 1 root root 19 Jan 13 23:20 ftpserver.txt...省略部分無關的文件[root@ftp ~]# cat ftpserver.txtftp server content[root@ftp ~]#~~~</p><p>到此我們就可以使用ftp下載服務器上的文件了。但是有個問題必須的說明一下，前邊遇到ftp連接問題時，我們直接關閉了服務器上的防火牆。但這是非常不安全的，生產環境中一般都是要求開啟防火牆。</p><p>那麼防火牆是如何阻止了ftp客戶端連接呢？其實就是因為firewall防火牆默認禁止了ftp傳輸的端口號，因此可以清除防火牆的默認策略</p><p>~~~[root@ftpserver ~]# systemctl start firewalld.service[root@ftpserver ~]# firewall-cmd --state<br>running[root@ftpserver ~]# iptables -F[root@ftpserver ~]# service iptables saveiptables: Saving firewall rules to /etc/sysconfig/iptables:[ OK ][root@ftpserver ~]#~~~</p><p>清除防火牆默認策略並保存，這樣即使服務器不關閉防火牆也可以正常使用功能ftp功能下載文件了。</p><h5 class=pgc-h-arrow-right>2.4.3 通過ftp客戶端在服務器上創建目錄</h5><p>接下來我們切換到pub目錄，並嘗試創建一個目錄test</p><p>~~~ftp> cd pub250 Directory successfully changed.ftp> mkdir test550 Create directory operation failed.ftp>~~~</p><p>好神奇，居然報錯了。大家不用擔心，學習階段要的就是這種效果，遇到的錯誤越多，越能快速積累經驗，並建立一套分析問題和解決問題的邏輯思維套路。</p><p>分析一下，我們第一步時已經在主配置文件中添加了運行匿名用戶創建目錄和寫入文件的權限，但為何還是會報錯呢？既然排除了是用戶權限的問題，那麼是不是/var/ftp這個目錄的權限問題呢？</p><p>~~~[root@ftpserver ~]# ll -d /var/ftp/pubdrwxr-xr-x. 2 root root 26 Jan 13 23:09 /var/ftp/pub[root@ftpserver ~]# chown -Rf ftp /var/ftp/pub[root@ftpserver ~]# ll -d /var/ftp/pub<br>drwxr-xr-x. 2 ftp root 26 Jan 13 23:09 /var/ftp/pub[root@ftpserver ~]# ll -d /var/ftp/drwxr-xr-x. 3 root root 16 Jan 13 22:59 /var/ftp/~~~</p><p>通過查看，果然發現/var/ftp目錄只有root用戶才有寫入的權限，因此我們直接把pub目錄所有者改為ftp用戶，讓ftp用戶擁有寫入的權限，我們再次來試下看能否創建文件夾</p><p>~~~ftp> mkdir test550 Create directory operation failed.ftp>~~~</p><p>奇怪，依然報錯。前面排除了用戶權限、目錄權限之外，我們應該想到很有可能是SELinux造成的，因此我們關閉SELinux再來驗證一下</p><p>~~~[root@ftpserver ~]# setenforce 0[root@ftpserver ~]#~~~</p><p>關閉SeLinux後後，再去創建目錄，發現創建成功</p><p>~~~ftp> mkdir test257 "/pub/test" createdftp>~~~</p><p>因此，說明不僅要讓pub目錄的屬主擁有寫入權限，並且同時還要關閉SELinux才能創建目錄。</p><p>但是實際生產環境中不建議關閉SELinux，所以我們要弄清楚究竟SELinux哪個配置影響了</p><p>~~~[root@ftpserver ~]# setenforce 1[root@origin ~]# getenforceEnforcing[root@origin ~]# getsebool -a | grep ftpftphomedir --> offftpdanonwrite --> offftpdconnectall_unreserved --> offftpdconnectdb --> offftpdfullaccess --> offftpdusecifs --> offftpdusefusefs --> offftpdusenfs --> offftpdusepassive_mode --> offhttpdcanconnect_ftp --> offhttpdenableftp_server --> offsftpdanonwrite --> offsftpdenablehomedirs --> offsftpdfullaccess --> offsftpdwritessh_home --> offtftpanonwrite --> offtftphomedir --> off[root@origin ~]#~~~</p><p>我們查看下SELinux狀態為開啟，查看與ftp域相關的策略，其中有一條ftpdfullaccess --> off其實就是這條規則導致了操作失敗。</p><p>修改該策略，並使用-P參數使其永久生效。</p><p>~~~[root@origin ~]# setsebool -P ftpd_full_access=on~~~</p><p>再次登錄創建目錄，發現成功了</p><p>~~~ftp> mkdir test2257 "/pub/test2" createdftp>~~~</p><p>因此遇到問題，從用戶權限、目錄權限、網絡防火牆、SELinux服務幾個方面去逐個排查。</p><h4 class=pgc-h-arrow-right>2.5 本地用戶模式</h4><p>本地模式比匿名模式更加安全，現在繼續在前面的虛擬機中做實驗，開始之前先關閉上一實驗中開啟的匿名模式。</p><p>~~~[root@ftpserver ~]# vim /etc/vsftpd/vsftpd.conf[root@ftpserver ~]# cat /etc/vsftpd/vsftpd.confanonymous_enable=NO</p><h1 class=pgc-h-arrow-right>anon_umask=022</h1><h1 class=pgc-h-arrow-right>anonuploadenable=YES</h1><h1 class=pgc-h-arrow-right>anonmkdirwrite_enable=YES</h1><h1 class=pgc-h-arrow-right>anonotherwrite_enable=YES</h1><p>local_enable=YESwrite_enable=YESlocal_umask=022dirmessage_enable=YESxferlog_enable=YESconnectfromport_20=YESxferlogstdformat=YESlisten=NOlisten_ipv6=YESpamservicename=vsftpduserlist_enable=YEStcp_wrappers=YES[root@ftpserver ~]#~~~</p><p>將anonymous_enable=YES改為NO，即關閉了本地模式，此時就不能在使用匿名模式登陸了。</p><p>另外前面新加的與匿名配置參數可以保留，也可以直接刪除，只要總開關anonymous_enable關閉了就禁用了匿名登錄。</p><p>現在開始演示本地用戶模式操作ftp。</p><p>其實從前面的配置文件可以看出，vsfftpd服務默認既開啟了匿名模式也開啟了本地用戶模式（local_enable=YES）。以下幾個參數是本地用戶模式相關的配置</p><p>參數<br>作用<br>local_enable=YES<br>允許本地用戶模式<br>write_enable=YES<br>設置可寫權限<br>local_umask=022<br>本地用戶模式創建文件的 umask 值<br>userlist_enable=YES 啟用“禁止用戶名單”，名單文件為 ftpusers 和 user_list userlist_deny=YES<br>開啟用戶作用名單文件功能</p><p><br></p><h5 class=pgc-h-arrow-right>2.5.1 配置本地用戶模式</h5><p>其實vsftpd默認已經開啟了本地用戶模式，因此沒什麼可以配置的，查看下配置文件：</p><p>~~~[root@ftpserver ~]# cat /etc/vsftpd/vsftpd.confanonymous_enable=NO</p><h1 class=pgc-h-arrow-right>anon_umask=022</h1><h1 class=pgc-h-arrow-right>anonuploadenable=YES</h1><h1 class=pgc-h-arrow-right>anonmkdirwrite_enable=YES</h1><h1 class=pgc-h-arrow-right>anonotherwrite_enable=YES</h1><p>local_enable=YESwrite_enable=YESlocal_umask=022dirmessage_enable=YESxferlog_enable=YESconnectfromport_20=YESxferlogstdformat=YESlisten=NOlisten_ipv6=YESpamservicename=vsftpduserlist_enable=YEStcp_wrappers=YES[root@ftpserver ~]#~~~</p><p>參考上表，與本地用戶配置相關的主要參數為：localenable=YES，writeenable=YES，local_umask=022。如果你的配置文件默認沒配置這幾個項則手動配置一下即可。</p><p>注意，如果修改了配置需要從新啟動下vsftpd服務</p><p>~~~[root@ftpserver ~]# systemctl restart vsftpd[root@ftpserver ~]# systemctl enable vsftpd[root@ftpserver ~]#~~~</p><p>另外再創建一個普通用戶ftptest並設置密碼，用於客戶端登錄</p><p>~~~[root@ftpserver home]# useradd ftptest[root@ftpserver home]# passwd ftptestChanging password for user ftptest.New password:BAD PASSWORD: The password is shorter than 8 charactersRetype new password:passwd: all authentication tokens updated successfully.[root@ftpserver home]#~~~</p><p>這樣ftp服務器就準備好了。</p><blockquote><p>特別說明：根據前文的經驗，需要按前文方法設置防火牆和SELinux策略客戶端才能使用，由於我們是沿用之前的配置，之前已經配置好了，所以這裡不用配置。默認情況下防火牆將限制登錄、SELinux則限制創建目錄等操作。</p></blockquote><h5 class=pgc-h-arrow-right>2.5.2 ftp客戶端操作服務器</h5><p>現在就可以直接採用ftpserver服務器上的普通賬戶ftptest進行文件操作了。</p><p>[root@ftp ~]# ftp 192.168.78.101Connected to 192.168.78.101 (192.168.78.101).220 (vsFTPd 3.0.2)Name (192.168.78.101:root): ftptest331 Please specify the password.Password:230 Login successful.Remote system type is UNIX.Using binary mode to transfer files.ftp> mkdir test257 "/home/ftptest/test" createdftp> rename test test1350 Ready for RNTO.250 Rename successful.ftp> ls227 Entering Passive Mode (192,168,78,101,106,178).150 Here comes the directory listing.drwxr-xr-x 2 1001 1001 6 Jan 14 09:01 test1226 Directory send OK.ftp> rmdir test1250 Remove directory operation successful.ftp> exit221 Goodbye.[root@ftp ~]#</p><p>案例中成功通過ftp服務器中的ftptest用戶對目錄進行創建、重命名、刪除等操作。並且ftp客戶端創建的目錄，在ftpserver服務器對應的用戶目錄下也可以查到新建的目錄。</p><p>因此可以看到，本地用戶模式相對匿名模式，配置更簡單一些。但是大家想過為啥ftptest用戶登錄後就可以對目錄進行創建、刪除等操作嗎？<strong>*那是因為本地用戶模式登錄FTP服務器後，默認訪問的是該用戶的家目錄</strong>*，即/home/ftptest目錄，它的默認所有者、所屬組都是該用戶自己，因此不存在寫入權限不足的情況。</p><h5 class=pgc-h-arrow-right>2.5.3 本地用戶登錄模式之填坑</h5><p>如果你是按照我的文章步驟操作，一定會很順暢，但是如果一開始並不是新建ftptest用戶來登錄，而是直接使用root用戶來進行遠程登錄，那就有個坑需要注意一下。</p><p>在客戶端用root登錄試試看</p><p>~~~[root@ftp ~]# ftp 192.168.78.101Connected to 192.168.78.101 (192.168.78.101).220 (vsFTPd 3.0.2)Name (192.168.78.101:root): root530 Permission denied.Login failed.ftp>~~~</p><p>哦豁，目前的系統root是擁有最高權限的，居然被拒了，而前邊創建的普通用戶ftptest用戶居然可以正常使用ftp功能！我就遇到過，哈哈哈哈，百思不得解。</p><p>如果是初次接觸真可能懷疑是自己哪個步驟操作錯了，其實這裡有一個規則：</p><p>vsftpd服務程序配置目錄存放著兩個“用戶名單”的文件：ftpusers、user_list。原因就在這2個文件，只要這2個文件中存在的用戶，就不允許登錄FTP服務器上。</p><p>來看看這2個文件內容：</p><p>~~~[root@ftpserver ~]# cat /etc/vsftpd/user_listrootbindaemonadmlpsyncshutdownhaltmailnewsuucpoperatorgamesnobody[root@ftpserver ~]# cat /etc/vsftpd/ftpusersrootbindaemonadmlpsyncshutdownhaltmailnewsuucpoperatorgamesnobody[root@ftpserver ~]#~~~</p><p>果然裡邊存在root用戶，這正是vsftpd服務為了保證服務器安全默認就禁止了root和大部分系統用戶登錄ftp。這樣做的好處是避免黑客通過FTP服務器對root密碼進行暴力破解。</p><p>而為啥之前創建的ftptest用戶可以登錄ftp呢，那是因為創建的用戶並沒有被默認寫入這2個文件。如果確保在生產環境中直接使用root用戶對安全性沒有影響，則直接在這2個文件中把root刪除即可，否則請使用這2個文件中不存在的普通用戶來登錄ftp服務器。</p><p>刪除這2個文件中的root用戶，然後重啟vsftpd服務，再次使用root登錄ftp即可成功操作。</p><h4 class=pgc-h-arrow-right>2.6 虛擬用戶模式</h4><p>再來看一種更加安全的認證模式即虛擬用戶模式，因為更加安全所以配置起來稍微要麻煩一些。</p><p>我們仍然在之前的機器上繼續操作，步驟步驟如下：</p><h5 class=pgc-h-arrow-right>2.6.1 創建用戶數據庫文件</h5><p>在ftpserver服務器中的vsftpd配置目錄下創建包含用戶信息的文件vuser.list（文件名字任意取）</p><p>~~~[root@ftpserver ~]# cd /etc/vsftpd/[root@ftpserver vsftpd]# lsftpusers userlist vsftpd.conf vsftpd.conf.bak vsftpdconf_migrate.sh[root@ftpserver vsftpd]# vim vuser.listvuser1123456vuser2123456~~~</p><p>vuser.list文件中包含vuser1和vuser2兩個用戶，密碼均為123456。文件中奇數行表示賬號名，偶數行表示密碼。</p><p>接下來要將vuser.list文件轉換為vsftpd服務程序能直接加載的格式，轉換格式使用db_load命令，該命令用哈希算法將原始的明文信息文件轉換為數據庫文件。</p><p>在使用db_load命令前，查看該命令是否安裝</p><p>~~~[root@ftpserver vsftpd]# db_loadusage: db_load [-nTV] [-c name=value] [-f file][-h home] [-P password] [-t btree | hash | recno | queue] db_fileusage: dbload -r lsn | fileid [-h home] [-P password] dbfile[root@ftpserver vsftpd]#~~~</p><p>出現該命令的用法，說明默認已經安裝了。</p><p>如果未安裝需要手動安裝，該命令包含在db4包中，使用命令yum -y install db4安裝即可。</p><p>既然安裝了db_load命令，那就使用它來轉換用戶文件格式</p><p>~~~[root@ftpserver vsftpd]# db_load -T -t hash -f vuser.list vuser.db[root@ftpserver vsftpd]# file vuser.dbvuser.db: Berkeley DB (Hash, version 9, native byte-order)[root@ftpserver vsftpd]# ll vuser.db-rw-r--r--. 1 root root 12288 Jan 14 21:16 vuser.db[root@ftpserver vsftpd]# chmod 600 vuser.db-rw-------. 1 root root 12288 Jan 14 21:16 vuser.db[root@ftpserver vsftpd]# rm -rf vuser.list[root@ftpserver vsftpd]#~~~</p><p>通過db_load命令就把明文的vuser.list文件轉換為了vuser.db格式的文件，並通過chmod命令降低該文件的權限，從而避免其他人查看到該數據庫文件的內容，最後直接把明文的vuser.list文件刪除。</p><h5 class=pgc-h-arrow-right>2.6.2 創建PAM文件</h5><p>PAM（Pluggable Authentication Module）是一種認證機制，它將服務與認證方式分開，使得系統管理員可以輕易的調整服務程序的認證方式，而不必對應用程序進行任何修改。它涉及的內容挺多的，此處僅僅先了解概念即可。</p><p>在ftpserver服務器上新建一個PAM文件vsftpd.vu（文件名可以任意）用於虛擬用戶認證，文件內的db參數為上一步使用功能db_load命令生成的數據庫文件的路徑，但不用寫後綴名</p><p>~~~[root@ftpserver vsftpd]# vim /etc/pam.d/vsftpd.vuauth required pam_userdb.so db=/etc/vsftpd/vuseraccount required pam_userdb.so db=/etc/vsftpd/vuser~~~</p><h5 class=pgc-h-arrow-right>2.6.3 創建本地用戶</h5><p>既然是虛擬用戶認證，為啥還需要建立本地用戶呢？可以簡單理解為虛擬指定一個ftp文件存儲的根目錄，當虛擬用戶登錄ftp服務器後默認訪問的就是這個目錄。</p><p>由於Linux中一切文件都有所有者和所屬組，假設前文創建的虛擬用戶vuser1創建了一個文件，但是系統中卻沒有vuser1這個用戶，就會導致文件的權限出現錯誤。因此需要創建一個本地用戶來映射虛擬用戶，讓虛擬用戶默認登錄到與之有映射關係的這個系統本地用戶的家目錄中，虛擬用戶創建的文件的屬性也都歸屬於這個系統本地用戶，從而避免 Linux 系統無法處理虛擬用戶所創建文件的屬性權限。</p><p>由於ftp目錄中的文件可能經常變化，因此我們新建一個本地用戶virtual並指定其家目錄為/var/ftpdir目錄。同時我們禁用此本地用戶登錄FTP服務器，從而避免黑客利用該本地用戶登錄系統。禁止與虛擬用戶關聯的本地用戶並不會影響虛擬用戶的登錄。</p><p>~~~[root@ftpserver vsftpd]# useradd -d /var/ftpdir -s /sbin/nologin virtual[root@ftpserver vsftpd]# ll -d /var/ftpdir/drwx------. 3 virtual virtual 74 Jan 14 21:46 /var/ftpdir/[root@ftpserver vsftpd]# chmod -Rf 755 /var/ftpdir/[root@ftpserver vsftpd]# ll -d /var/ftpdir/<br>drwxr-xr-x. 3 virtual virtual 74 Jan 14 21:46 /var/ftpdir/[root@ftpserver vsftpd]#~~~</p><p>修改目錄權限，讓其他人可讀。</p><h5 class=pgc-h-arrow-right>2.6.4 vsftpd主配置文件配置</h5><p>配置vsftpd主配置文件，指定之前創建的PAM認證文件以及與虛擬用戶關聯的本地用戶。</p><p>~~~[root@ftpserver vsftpd]# vim /etc/vsftpd/vsftpd.confanonymous_enable=NO</p><h1 class=pgc-h-arrow-right>anon_umask=022</h1><h1 class=pgc-h-arrow-right>anonuploadenable=YES</h1><h1 class=pgc-h-arrow-right>anonmkdirwrite_enable=YES</h1><h1 class=pgc-h-arrow-right>anonotherwrite_enable=YES</h1><p>local_enable=YESguest_enable=YESguest_username=virtualallowwriteablechroot=YESwrite_enable=YESlocal_umask=022dirmessage_enable=YESxferlog_enable=YESconnectfromport_20=YESxferlogstdformat=YESlisten=NOlisten_ipv6=YESpamservicename=vsftpd.vuuserlist_enable=YEStcp_wrappers=YES~~~</p><p>實際就是在原有基礎上添加：guestenable=YES、guestusername=virtual、allowwriteablechroot=YES，並修改pamservicename=vsftpd.vu為之前創建的pam認證文件。另外注意，必須開啟本地模式（local_enable=YES）。</p><p>虛擬用戶認證相關參數及作用如下：</p><p>參數<br>作用<br>anonymous_enable=NO<br>禁止匿名開放模式<br>local_enable=YES<br>允許本地用戶模式<br>guest_enable=YES<br>開啟虛擬用戶模式<br>guest_username=virtual<br>指定虛擬用戶賬戶<br>pamservicename=vsftpd.vu 指定PAM文件，存放於/etc/pam.d/目錄下，默認是vsftpd文件<br>allowwriteablechroot=YES 允許對禁錮的FTP根目錄執行寫入操作，而且不拒絕用戶的登錄請求</p><p><br></p><h5 class=pgc-h-arrow-right>2.6.5 虛擬用戶權限設置</h5><p>假設我們要區別對待vuser1和vuser2，只允許vuser1查看文件，而允許vuser2上傳、創建、修改、查看、刪除文件。這種需求在企業真實環境中是常見的，我們可以通過vsftpd服務器程序來實現。</p><p>~~~[root@ftpserver vsftpd]# mkdir /etc/vsftpd/vusers_dir[root@ftpserver vsftpd]# cd vusers_dir/[root@ftpserver vusers_dir]# touch vuser1[root@ftpserver vusers_dir]# vim vuser2anonuploadenable=YESanonmkdirwrite_enable=YESanonotherwrite_enable=YES~~~</p><p>只需要在vsftpd配置目錄下新建vusers_dir目錄（名字可以任意取）,在目錄中分別對應這2個用戶創建文件並寫入權限即可。</p><p>同時修改vsftpd主配置文件，過添加 userconfigdir參數來定義這兩個虛擬用戶不同權限的配置文件所存放的路徑。</p><p>~~~[root@ftpserver vsftpd]# vim /etc/vsftpd/vsftpd.conf...省略原有內容userconfigdir=/etc/vsftpd/vusers_dir~~~</p><p>配置完成之後重啟vsftpd服務。</p><h5 class=pgc-h-arrow-right>2.6.6 驗證不同虛擬用戶設置的權限是否生效</h5><p>此時我們就可以使用虛擬用戶vuser1和vuser2登錄ftp進行測試了</p><blockquote><p>由於我們按照之前的基礎上進行演示，之前已經配置好了防火牆和SELinux相關策略，因此這裡無需配置（實際操作時要根據實際情況進行，防火牆和SELinux會對ftp客戶端的操作造成影響）。</p></blockquote><p>使用vuser1登錄測試驗證是否有創建目錄權限</p><p>~~~[root@ftp ~]# ftp 192.168.78.101Connected to 192.168.78.101 (192.168.78.101).220 (vsFTPd 3.0.2)Name (192.168.78.101:root): vuser1331 Please specify the password.Password:230 Login successful.Remote system type is UNIX.Using binary mode to transfer files.ftp> mkdir test550 Permission denied.ftp> exit221 Goodbye.[root@ftp ~]#~~~</p><p>正如之前設置一樣，vuser1只有查看權限，沒有創建目錄的權限。</p><p>再來看看vuser2</p><p>~~~[root@ftp ~]# ftp 192.168.78.101Connected to 192.168.78.101 (192.168.78.101).220 (vsFTPd 3.0.2)Name (192.168.78.101:root): vuser2331 Please specify the password.Password:230 Login successful.Remote system type is UNIX.Using binary mode to transfer files.ftp> mkdir vuser2257 "/vuser2" createdftp> rmdir vuser2250 Remove directory operation successful.ftp> exit221 Goodbye.[root@ftp ~]#~~~</p><p>正如需求一致，vuser2具備創建和刪除目錄的權限。這樣就可以根據實際需要靈活配置不同用戶的權限。</p><h5 class=pgc-h-arrow-right>2.6.7 其他注意事項及常見錯誤</h5><p>（1）配置了虛擬用戶登錄後，本地用戶登錄就會失效</p><p>~~~[root@ftp ~]# ftp 192.168.78.101Connected to 192.168.78.101 (192.168.78.101).220 (vsFTPd 3.0.2)Name (192.168.78.101:root): root331 Please specify the password.Password:530 Login incorrect.Login failed.ftp> exit221 Goodbye.[root@ftp ~]#~~~</p><p>（2）2.6.4節中的vsftpd主配置文件中必須要開啟本地登錄模式</p><p>如果不開，將報錯，提示本地模式和匿名模式必須開啟一個，顯然虛擬用戶模式就是為了提高安全，因此我們不開匿名模式而開啟本地模式。</p><p>~~~[root@ftp ~]# ftp 192.168.78.101Connected to 192.168.78.101 (192.168.78.101).500 OOPS: vsftpd: both local and anonymous access disabled!ftp> exit[root@ftp ~]#~~~</p><p>（3）2.6.4節中的主配置文件參數allowwriteablechroot=YES必須開啟</p><p>如果不開將報錯</p><p>~~~[root@ftp ~]# ftp 192.168.78.101Connected to 192.168.78.101 (192.168.78.101).220 (vsFTPd 3.0.2)Name (192.168.78.101:root): vuser1331 Please specify the password.Password:500 OOPS: vsftpd: refusing to run with writable root inside chroot()Login failed.421 Service not available, remote server has closed connectionftp> exit[root@ftp ~]#~~~</p><p>（3）防火牆影響ftp登錄不了</p><p>默認情況防火牆策略阻止了ftp端口，ftp客戶端登錄將得到如下錯誤</p><p>~~~[root@ftp ~]# ftp 192.168.78.101ftp: connect: No route to hostftp> exit~~~</p><p>此時需要在ftp服務器上執行：iptables -F</p><p>（4）SELinux阻止文件創建</p><p>本來vuser2是有創建文件權限的，但是由於受到默認SELinux策略影響，將不能創建文件</p><p>~~~[root@ftp ~]# ftp 192.168.78.101Connected to 192.168.78.101 (192.168.78.101).220 (vsFTPd 3.0.2)Name (192.168.78.101:root): vuser2331 Please specify the password.Password:230 Login successful.Remote system type is UNIX.Using binary mode to transfer files.ftp> mkdir vuser2550 Create directory operation failed.ftp> exit221 Goodbye.[root@ftp ~]#~~~</p><p>此時需要在ftp服務器執行：setsebool -P ftpdfullaccess=off命令即可。</p><h3 class=pgc-h-arrow-right>三、簡單文件傳輸協議TFTP</h3><p><br></p><h4 class=pgc-h-arrow-right>3.1 TFTP概述</h4><p>TFTP(Trivial File Transfer Protocol)簡單文件傳輸協議，是一種基於UDP協議在客戶端和服務器之間進行簡單文件傳輸的協議。可以認為它是FTP協議的簡化版本。</p><h5 class=pgc-h-arrow-right>3.2.1 TFTP缺點</h5><p>TFTP的命令功能不如FTP服務強大，不能遍歷目錄，在安全性方比FTP差。傳輸文件採用 UDP 協議，端口號為 69，文件傳輸過程不如FTP協議可靠。</p><h5 class=pgc-h-arrow-right>3.2.2 TFTP優點</h5><p>TFTP不需要客戶端的權限認證， 減少了無謂的系統和網絡帶寬消耗，因此在傳輸瑣碎（trivial）不大的文件時，效率更高。</p><h4 class=pgc-h-arrow-right>3.2 TFTP操作案例</h4><p><br></p><h5 class=pgc-h-arrow-right>3.2.1 TFTP安裝並啟動</h5><p>我們還是繼續使用之前的兩臺虛擬機，在主機ftpserver上安裝tftpsever服務，在主機ftp上安裝tftp服務。</p><p>（1）tftp服務器安裝</p><p>~~~[root@ftpserver ~]# rpm -q tftp-serverpackage tftp-server is not installed[root@ftpserver ~]# yum install tftp-server...省略中間內容Installed:tftp-server.x86_64 0:5.2-22.el7<br>Complete![root@ftpserver ~]~~~</p><p>在RHEL7系統中，TFTP服務是使用 xinetd 服務程序來管理的，在安裝TFTP軟件包後，還需要在 xinetd服務程序中將其開啟。</p><p>配置之前先看tftp服務器是否安裝xinetd服務</p><p>~~~[root@ftpserver ~]# systemctl restart xinetdFailed to issue method call: Unit xinetd.service failed to load: No such file or directory.~~~</p><p>出現這個結果表示為安裝xinetd，需要手動進行安裝。</p><p>~~~[root@ftpserver ~]# yum install xinetd~~~</p><p>在tftp服務器中，修改/etc/xinetd.d/tftp配置文件，將disable=yes改為no</p><p>~~~[root@ftpserver ~]# vim /etc/xinetd.d/tftpservice tftp{socket_type = dgramprotocol = udpwait = yesuser = rootserver = /usr/sbin/in.tftpdserver_args = -s /var/lib/tftpbootdisable = noper_source = 11cps = 100 2flags = IPv4}[root@ftpserver ~]#~~~</p><p>修改後重啟xinetd服務並添加到開機啟動。</p><p>~~~[root@ftpserver ~]# systemctl restart xinetd[root@ftpserver ~]# systemctl enable xinetd~~~</p><p>考慮到有些系統的防火牆默認沒有允許 UDP 協議的 69 端口，因此 需要手動將該端口號加入到防火牆的允許策略中。</p><p>~~~[root@ftpserver ~]# firewall-cmd --permanent --add-port=69/udpsuccess[root@ftpserver ~]# firewall-cmd --reloadsuccess[root@ftpserver ~]#~~~</p><p>TFTP 的根目錄為/var/lib/tftpboot。</p><p>在tftp服務器上，創建文件tftptest.txt以供tftp下載</p><p>~~~[root@ftpserver ~]# echo "test tftp">/var/lib/tftpboot/tftptest.txt[root@ftpserver ~]# ll /var/lib/tftpboot/<br>total 4-rw-r--r--. 1 root root 10 Jan 14 23:05 tftptest.txt[root@ftpserver ~]#~~~</p><p>（2）fttp客戶端安裝</p><p>~~~[root@ftp ~]# rpm -q tftppackage tftp is not installed[root@ftp ~]# yum install tftp...省略中間內容Installed:tftp.x86_64 0:5.2-22.el7<br>Complete![root@ftp ~]#~~~</p><h5 class=pgc-h-arrow-right>3.2.2 使用TFTP</h5><p>在tftp客戶端連接到tftpserver並下載文件</p><p>~~~[root@ftp ~]# tftp 192.168.78.101tftp> get tftptest.txttftp> quit[root@ftp ~]# ll tftptest.txt-rw-r--r--. 1 root root 10 Jan 14 23:09 tftptest.txt[root@ftp ~]# cat tftptest.txttest tftp[root@ftp ~]#~~~</p><p>可以看到已經成功把文件下載到本地了。</p><h5 class=pgc-h-arrow-right>3.2.3 TFTP相關的命令</h5><p>列舉幾個tftp相關的命令和參數</p><p>命令<br>作用<br>?<br>幫助信息<br>put<br>上傳文件<br>get<br>下載文件<br>verbose 顯示詳細的處理信息<br>status<br>顯示當前的狀態信息<br>binary<br>使用二進制進行傳輸<br>ascii<br>使用 ASCII 碼進行傳輸 timeout 設置重傳的超時時間<br>quit<br>退出</p><p>當然TFTP還有很多其他用戶，以後有機會在深入討論。</p><p>下一篇文章將講解Linux下文件共享的方法。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>linux</a></li><li><a>入門</a></li><li><a>15</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/538551d.html alt=linux入門系列3--常見的linux遠程登陸管理工具 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/6a0d75b0e75c4e6f87296147abac451b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/538551d.html title=linux入門系列3--常見的linux遠程登陸管理工具>linux入門系列3--常見的linux遠程登陸管理工具</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/04631c51.html alt="別光跑步了！每天跟著練 15 分鐘，身材越來越好" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/S4nGMc13BaNneO style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/04631c51.html title="別光跑步了！每天跟著練 15 分鐘，身材越來越好">別光跑步了！每天跟著練 15 分鐘，身材越來越好</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6fe27eab.html alt="前端 | HTML入門基礎知識-網頁" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e7a0b61194f445b8b9e5ae330961d2ea style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6fe27eab.html title="前端 | HTML入門基礎知識-網頁">前端 | HTML入門基礎知識-網頁</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/55831163.html alt=24歲犧牲的女作家，在生命最後15天經歷了什麼？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/SGCGthoBZp3eTE style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/55831163.html title=24歲犧牲的女作家，在生命最後15天經歷了什麼？>24歲犧牲的女作家，在生命最後15天經歷了什麼？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/49f2e380.html alt=優美人生隨筆作家馬德，15條經典名言智慧啟迪餘生之路 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/15270809998529bc35390b3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/49f2e380.html title=優美人生隨筆作家馬德，15條經典名言智慧啟迪餘生之路>優美人生隨筆作家馬德，15條經典名言智慧啟迪餘生之路</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bdbcafac.html alt=全世界最神奇的15個噴泉，最後一箇中國的噴泉最有味道 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1539740313214b15fa89ba5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bdbcafac.html title=全世界最神奇的15個噴泉，最後一箇中國的噴泉最有味道>全世界最神奇的15個噴泉，最後一箇中國的噴泉最有味道</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/46be7596.html alt=跟15年老馬桶說拜拜！體驗希箭HOROW噴射虹吸式座便器 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/09c4773848d2454881a8bb574ba3b0fb style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/46be7596.html title=跟15年老馬桶說拜拜！體驗希箭HOROW噴射虹吸式座便器>跟15年老馬桶說拜拜！體驗希箭HOROW噴射虹吸式座便器</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/19664ba8.html alt=EXCEL入門基礎：對行和列選定數據求和 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1f03f82096d240dd92410709f3e19eb9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/19664ba8.html title=EXCEL入門基礎：對行和列選定數據求和>EXCEL入門基礎：對行和列選定數據求和</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ef5a06c0.html alt=配電房離樓15米對人還有影響嗎 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/R6W33kBGDsUjSi style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ef5a06c0.html title=配電房離樓15米對人還有影響嗎>配電房離樓15米對人還有影響嗎</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5abb53a8.html alt=工程造價從入門到精通：造價員全能圖解+工程算量表，限時分享！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/49834ccb43ed42cb9a54c9827c3ab134 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5abb53a8.html title=工程造價從入門到精通：造價員全能圖解+工程算量表，限時分享！>工程造價從入門到精通：造價員全能圖解+工程算量表，限時分享！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1a5f8d5f.html alt=工程造價：入門知識全套講義，30章600頁，精通造價首選之作 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9e1b335c343a455f8777dd3144fc1c35 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1a5f8d5f.html title=工程造價：入門知識全套講義，30章600頁，精通造價首選之作>工程造價：入門知識全套講義，30章600頁，精通造價首選之作</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2d4007c7.html alt=“黑客”入門學習之“Windows組策略” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ea21244d5f5c420ebef29650f3fafd1c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2d4007c7.html title=“黑客”入門學習之“Windows組策略”>“黑客”入門學習之“Windows組策略”</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b6ccfe22.html alt=第15期能源輿情一週大事記 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/bdb4d5fcb37e4abea4b968c868d0b816 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b6ccfe22.html title=第15期能源輿情一週大事記>第15期能源輿情一週大事記</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/727b86f0.html alt=七星彩20037期5月15日預測圖規 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/513cf55cfe3a45fbb084d1ef3f325b01 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/727b86f0.html title=七星彩20037期5月15日預測圖規>七星彩20037期5月15日預測圖規</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f882bb79.html alt=分享5月15日七星彩規律分析預測圖規給大家參考 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/0f24154c13af4e87ae863f3c65a5e9f2 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f882bb79.html title=分享5月15日七星彩規律分析預測圖規給大家參考>分享5月15日七星彩規律分析預測圖規給大家參考</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>