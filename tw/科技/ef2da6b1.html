<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>ç‚ºä½ æ­ç¥•ç¥ç¥•çš„springç›£è½æ©Ÿåˆ¶ | æå®¢å¿«è¨Š</title><meta property="og:title" content="ç‚ºä½ æ­ç¥•ç¥ç¥•çš„springç›£è½æ©Ÿåˆ¶ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/43b29f26fb3f49e7ae0835951adf5999"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ef2da6b1.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ef2da6b1.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ef2da6b1.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ef2da6b1.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ef2da6b1.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ef2da6b1.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ef2da6b1.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ef2da6b1.html><meta property="article:published_time" content="2020-11-14T21:01:42+08:00"><meta property="article:modified_time" content="2020-11-14T21:01:42+08:00"><meta name=Keywords content><meta name=description content="ç‚ºä½ æ­ç¥•ç¥ç¥•çš„springç›£è½æ©Ÿåˆ¶"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/ef2da6b1.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>ç‚ºä½ æ­ç¥•ç¥ç¥•çš„springç›£è½æ©Ÿåˆ¶</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><h2 class=pgc-h-arrow-right>å¾è§€å¯Ÿè€…æ¨¡å¼èªªèµ·</h2><p>è§€å¯Ÿè€…æ¨¡å¼æ˜¯è»Ÿä»¶è¨­è¨ˆçš„å¸¸ç”¨æ¨¡å¼ä¹‹ä¸€ï¼Œæ˜¯ä¸€ç¨®ä¸€å°å¤šçš„çµ„åˆé—œä¿‚ï¼Œå­˜åœ¨è§€å¯Ÿè€…å’Œè¢«è§€å¯Ÿè€…å…©ç¨®è§’è‰²ã€‚åœ¨è§€å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œè§€å¯Ÿè€…èˆ‡è¢«è§€å¯Ÿè€…æ²’æœ‰ç›´æ¥çš„é¡èª¿ç”¨é—œä¿‚ï¼Œæœ‰è‘—æ¸…æ™°çš„æ¨¡å¡ŠåŠƒåˆ†ç•Œé™ï¼Œå¾è€Œæé«˜äº†è»Ÿä»¶çš„å¯ç¶­è­·æ€§ã€‚</p><p><br></p><div class=pgc-img><img alt=ç‚ºä½ æ­ç¥•ç¥ç¥•çš„springç›£è½æ©Ÿåˆ¶ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/43b29f26fb3f49e7ae0835951adf5999><p class=pgc-img-caption></p></div><p><br></p><p><strong>è¢«è§€å¯Ÿè€…</strong></p><p>è¢«è§€å¯Ÿè€…å°±æ˜¯æˆ‘å€‘æ„Ÿèˆˆè¶£çš„å°è±¡ï¼Œæ¯”å¦‚ç”¨æˆ¶ã€å•†å“ã€æ–‡ä»¶ã€ä¸€å€‹è®Šé‡ï¼Œæˆ‘å€‘å¸Œæœ›ç­è§£è¢«è§€å¯Ÿè€…çš„ç‹€æ…‹è®ŠåŒ–ï¼Œä¸¦ä¸”è¢«å‹•æ¥å—è®ŠåŒ–æ¶ˆæ¯ã€‚ç•¶è¢«è§€å¯Ÿè€…ç‹€æ…‹è®ŠåŒ–æ™‚ï¼Œç™¼é€æ¶ˆæ¯é€šçŸ¥è§€å¯Ÿè€…ã€‚</p><p><strong>è§€å¯Ÿè€…</strong></p><p>è§€å¯Ÿè€…å¯ä»¥æœ‰å¤šå€‹ï¼Œäº’ç›¸ä¹‹é–“ä¸€èˆ¬æ²’æœ‰ä¾è³´ï¼Œä¹Ÿä¸éœ€è¦ç¢ºä¿è§€å¯Ÿè€…æ¥æ”¶æ¶ˆæ¯çš„å…ˆå¾Œé †åºã€‚è§€å¯Ÿè€…å…¶å¯¦æ˜¯ç¾å¯¦ä¸–ç•Œåœ¨ç¨‹åºä¸­çš„ä¸€å€‹ç¸®å½±ï¼Œæ¯”å¦‚æˆ‘å€‘ä¸ç”¨ä¸€ç›´ç›¯è‘—æ‰‹æ©Ÿï¼Œåªéœ€è¦è½åˆ°éˆ´è²å°±çŸ¥é“æœ‰é›»è©±é€²ä¾†ã€‚</p><p><strong>Java ä¸­çš„è§€å¯Ÿè€…æ¨¡å¼</strong></p><p>åœ¨ Java ä¸­ï¼Œå…§ç½®äº† Observable é¡å’Œ Observer æ¥å£ä¾†å¯¦ç¾è§€å¯Ÿè€…æ¨¡å¼ã€‚ä½¿ç”¨æ™‚ï¼ŒObservable ä½œç‚ºè¢«è§€å¯Ÿå°è±¡ï¼Œé€šéèª¿ç”¨ addObserver æ–¹æ³•ä¾†å¢åŠ è§€å¯Ÿè€…ï¼Œç•¶ç‹€æ…‹è®ŠåŒ–æ™‚ï¼Œè¢«è§€å¯Ÿè€…èª¿ç”¨ setChanged æ–¹æ³•ä¾†æ¨™è­˜ç‹€æ…‹è®ŠåŒ–ï¼Œç„¶å¾Œèª¿ç”¨ notifyObservers æ–¹æ³•ä¾†é€šçŸ¥è§€å¯Ÿè€…ã€‚Observer æ¥å£ç”¨æ–¼å¯¦ç¾è§€å¯Ÿè€…ï¼Œåªæœ‰ä¸€å€‹æ–¹æ³• updateï¼Œç•¶ç‹€æ…‹è®ŠåŒ–æ™‚ï¼Œè§€å¯Ÿè€…çš„ update æ–¹æ³•è¢«èª¿ç”¨ï¼Œå¾è€Œç²çŸ¥ç‹€æ…‹è®ŠåŒ–ã€‚</p><pre><code>public class MyObservable extends Observable {    public static void main(String[] args){        MyObservable myObservable = new MyObservable();        myObservable.addObserver(new Observer() {            @Override            public void update(Observable o, Object arg) {                System.out.println(arg);            }        });        myObservable.setChanged();        myObservable.notifyObservers("hello");    }}</code></pre><h2 class=pgc-h-arrow-right>Spring ä¸­çš„äº‹ä»¶</h2><p>Spring ä¸­çš„äº‹ä»¶é€šçŸ¥æ©Ÿåˆ¶å°±æ˜¯è§€å¯Ÿè€…æ¨¡å¼çš„ä¸€ç¨®å¯¦ç¾ã€‚è§€å¯Ÿè€…æ˜¯ ApplicationListenerï¼Œå¯ä»¥å¯¦ç¾æ¥å£å®šç¾©è§€å¯Ÿè€…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¨»è§£å®šç¾©è§€å¯Ÿè€…ã€‚è§€å¯Ÿè€…æ„Ÿèˆˆè¶£çš„æ˜¯æŸç¨®ç‹€æ…‹çš„è®ŠåŒ–ï¼Œé€™ç¨®ç‹€æ…‹è®ŠåŒ–ä½¿ç”¨ ApplicationEvent ä¾†å‚³é”ï¼Œä¹Ÿå°±æ˜¯äº‹ä»¶å°è±¡ã€‚æˆ‘å€‘èªªçš„ Spring ä¸­çš„äº‹ä»¶ï¼Œå°±æ˜¯ ApplicationEventã€‚åœ¨äº‹ä»¶ä¸­ï¼Œè¢«è§€å¯Ÿè€…å¯ä»¥èªç‚ºæ˜¯ç™¼å‡ºäº‹ä»¶çš„ä¸€æ–¹ï¼Œåªæœ‰åœ¨ç‹€æ…‹è®ŠåŒ–æ™‚æ‰ç™¼ä½ˆäº‹ä»¶ã€‚</p><p>ç•¶æœ‰ç‹€æ…‹ç™¼ç”Ÿè®ŠåŒ–æ™‚ï¼Œç™¼ä½ˆè€…èª¿ç”¨ ApplicationEventPublisher çš„ publishEvent æ–¹æ³•ç™¼ä½ˆä¸€å€‹äº‹ä»¶ï¼ŒSpring å®¹å™¨å»£æ’­äº‹ä»¶çµ¦æ‰€æœ‰è§€å¯Ÿè€…ï¼Œèª¿ç”¨è§€å¯Ÿè€…çš„ onApplicationEvent æ–¹æ³•æŠŠäº‹ä»¶å°è±¡å‚³éçµ¦è§€å¯Ÿè€…ã€‚èª¿ç”¨ publishEvent æ–¹æ³•æœ‰å…©ç¨®é€”å¾‘ï¼Œä¸€ç¨®æ˜¯å¯¦ç¾æ¥å£ç”±å®¹å™¨æ³¨å…¥ ApplicationEventPublisher å°è±¡ç„¶å¾Œèª¿ç”¨å…¶æ–¹æ³•ï¼Œå¦ä¸€ç¨®æ˜¯ç›´æ¥èª¿ç”¨å®¹å™¨çš„æ–¹æ³•ï¼Œå…©ç¨®æ–¹æ³•ç™¼ä½ˆäº‹ä»¶æ²’æœ‰å¤ªå¤§å€åˆ¥ã€‚</p><p>ç›¸é—œé¡å‹ç¸½çµå¦‚ä¸‹ï¼š</p><ul><li>ApplicationListenerï¼šäº‹ä»¶ç›£è½è€…ï¼Œè§€å¯Ÿè€…ï¼›</li><li>ApplicationEventï¼šSpring äº‹ä»¶ï¼Œè¨˜éŒ„äº‹ä»¶æºã€æ™‚é–“å’Œæ•¸æ“šï¼›</li><li>ApplicationEventPublisherï¼šç™¼ä½ˆäº‹ä»¶ï¼›</li></ul><p><strong>å„ªå‹¢</strong></p><p>ä½¿ç”¨äº‹ä»¶å¯ä»¥è§£è€¦ä»£ç¢¼ï¼Œè§€å¯Ÿè€…èˆ‡è¢«è§€å¯Ÿè€…å¯ä»¥åˆ†é–‹é–‹ç™¼ï¼Œä¸­é–“åªæœ‰äº‹ä»¶ä½œç‚ºè¯ç¹«ï¼Œä¸ç”¨é—œå¿ƒå¦ä¸€æ–¹å¦‚ä½•å¯¦ç¾ã€‚è§€å¯Ÿè€…å¯ä»¥æœ‰å¤šå€‹ï¼Œæ‰€ä»¥å°æ–¼åŒä¸€å€‹äº‹ä»¶å¯ä»¥æœ‰å¤šç¨®ä¸åŒçš„è™•ç†æ–¹å¼ï¼Œä¸éè¦ç¢ºä¿ä¸ä¾è³´è™•ç†çš„é †åºã€‚ä½¿ç”¨äº‹ä»¶å¾Œï¼Œè§€å¯Ÿè€…å¯ä»¥å–®ç¨é–‹ç™¼ï¼Œå°ä¸»æµç¨‹æ²’æœ‰ä»»ä½•å½±éŸ¿ï¼Œå¯ä»¥ç°¡åŒ–ä¸»æµç¨‹çš„é–‹ç™¼ã€‚</p><p>äº‹ä»¶å¯ä»¥ç”¨æ–¼å„ç¨®å ´æ™¯çš„æ¶ˆæ¯é€šçŸ¥ï¼Œæ¯”å¦‚ç³»çµ±æ”¶åˆ°åœæ©ŸæŒ‡ä»¤å¾Œï¼Œå¯ä»¥ç™¼å‡ºåœæ©Ÿäº‹ä»¶ï¼Œé€™æ¨£ç›¸é—œçš„å­ç³»çµ±å°±å¯ä»¥é€²è¡Œåœæ©Ÿå‰çš„å„ç¨®è™•ç†ã€‚é‚£éº¼ Spring ä¸­çš„äº‹ä»¶æ˜¯å¦‚ä½•å¯¦ç¾çš„å‘¢ï¼Ÿ</p><p>Spring æ¡†æ¶æä¾›äº†å››ç¨®å®¹å™¨äº‹ä»¶ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥è§€å¯Ÿï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>ContextStartedEventï¼šApplicationContext å•Ÿå‹•äº‹ä»¶ï¼›</li><li>ContextRefreshedEventï¼šApplicationContext æ›´æ–°äº‹ä»¶ï¼›</li><li>ContextStoppedEventï¼šApplicationContext åœæ­¢äº‹ä»¶ï¼›</li><li>ContextClosedEventï¼šApplicationContext é—œé–‰äº‹ä»¶ã€‚</li></ul><div class=pgc-img><img alt=ç‚ºä½ æ­ç¥•ç¥ç¥•çš„springç›£è½æ©Ÿåˆ¶ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7a1c71a050ad43f79039b8df90bffa60><p class=pgc-img-caption></p></div><p><br></p><p>Spring 4.2 ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œäº‹ä»¶å¿…é ˆç¹¼æ‰¿ ApplicationEventï¼Œå¾ Spring 4.2 ç‰ˆé–‹å§‹ï¼Œæ¡†æ¶æä¾›äº† PayloadApplicationEvent ç”¨æ–¼åŒ…è£ä»»æ„é¡å‹ï¼Œä¸å¼·åˆ¶äº‹ä»¶å°è±¡ç¹¼æ‰¿ ApplicationEventã€‚ç•¶æˆ‘å€‘ç™¼é€ä¸€å€‹ä»»æ„é¡å‹çš„äº‹ä»¶å°è±¡æ™‚ï¼Œæ¡†æ¶å…§éƒ¨è‡ªå‹•åŒ…è£ç‚º PayloadApplicationEvent äº‹ä»¶å°è±¡ã€‚</p><h2 class=pgc-h-arrow-right>äº‹ä»¶ç›£è½è€…</h2><p>äº‹ä»¶ç›£è½è€… ApplicationListener ç¹¼æ‰¿è‡ª JDK çš„ EventListener ï¼ŒJDK è¦æ±‚æ‰€æœ‰ç›£è½è€…ç¹¼æ‰¿å®ƒã€‚ç›£è½è€…åªæœ‰ä¸€å€‹æ–¹æ³• onApplicationEventï¼Œç”¨ä¾†è™•ç†äº‹ä»¶ ApplicationEventã€‚</p><pre><code>@FunctionalInterfacepublic interface ApplicationListener&lt;E extends ApplicationEvent&gt;     extends EventListener {    void onApplicationEvent(E event);}</code></pre><p>åœ¨å®¹å™¨å•Ÿå‹•çš„æ™‚å€™æª¢æ¸¬æ‡‰ç”¨ä¸­çš„ç›£è½è€…ä¸¦æŠŠç”¨æˆ¶å¯¦ç¾çš„ç›£è½è€…è¨»å†Šåˆ° SimpleApplicationEventMulticaster é›†åˆä¸­ã€‚</p><p>Spring ä¹Ÿæ”¯æŒç›´æ¥è¨»è§£çš„å½¢å¼é€²è¡Œäº‹ä»¶ç›£è½ï¼Œä½¿ç”¨è¨»è§£ @EventListener å³å¯ã€‚ä½¿ç”¨è¨»è§£æ™‚ï¼Œæ–¹æ³•å¯ä»¥è¿”å›ä»»æ„é¡å‹ï¼Œå¦‚æœè¿”å›å€¼ä¸ç‚º null å‰‡ç•¶åšä¸€å€‹æ–°äº‹ä»¶å†æ¬¡ç™¼ä½ˆã€‚</p><pre><code>@Servicepublic class AnnoEventListener {    @EventListener    public void listen(MyEvent myEvent){        System.out.println("receive " + myEvent.getSource());    }}</code></pre><p>è¨»è§£å½¢å¼çš„ç›£è½è€…æ˜¯é€šé EventListenerMethodProcessor è¨»å†Šåˆ°å®¹å™¨ä¸­çš„ã€‚è©²é¡å®šç¾©äº†ä¸€å€‹ Beanï¼Œåœ¨åˆå§‹åŒ–å®Œæˆå¾Œï¼Œèª¿ç”¨å®ƒçš„å¾Œç½®å›èª¿æ–¹æ³• afterSingletonsInstantiatedï¼Œåœ¨æ–¹æ³•ä¸­éæ­·å®¹å™¨ä¸­æ‰€æœ‰çš„ beanï¼Œæå–å‡º EventListener è¨»è§£ä¿®é£¾çš„æ–¹æ³•ä¸¦æ ¹æ“šè¨»è§£çš„åƒæ•¸å‰µå»º ApplicationListener å°è±¡åŠ å…¥åˆ° ApplicationContext ç›£è½åˆ—è¡¨ä¸­ã€‚</p><h2 class=pgc-h-arrow-right>ç™¼ä½ˆäº‹ä»¶</h2><p>ApplicationEventPublisher æ¥å£å®šç¾©äº†äº‹ä»¶ç™¼ä½ˆæ–¹æ³•ï¼Œä»£ç¢¼å¦‚ä¸‹ï¼š</p><pre><code>@FunctionalInterfacepublic interface ApplicationEventPublisher {    default void publishEvent(ApplicationEvent event) {        publishEvent((Object) event);    }    void publishEvent(Object event);}</code></pre><p>ApplicationContext æ¥å£ç¹¼æ‰¿äº† ApplicationEventPublisher ï¼Œä¸¦åœ¨ AbstractApplicationContext å¯¦ç¾äº†å…·é«”ä»£ç¢¼ï¼Œå¯¦éš›åŸ·è¡Œæ˜¯å§”è¨—çµ¦ ApplicationEventMulticasterã€‚</p><div class=pgc-img><img alt=ç‚ºä½ æ­ç¥•ç¥ç¥•çš„springç›£è½æ©Ÿåˆ¶ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/bfbb5a34b4104d81b5edab6158a994e7><p class=pgc-img-caption></p></div><p><br></p><p>ApplicationEventMulticaster æ¥å£å®šç¾©äº†å°ç›£è½è€…çš„æ“ä½œï¼Œå¦‚å¢åŠ ç›£è½è€…ã€ç§»é™¤ç›£è½è€…ï¼Œä»¥åŠç™¼ä½ˆäº‹ä»¶çš„æ–¹æ³•ã€‚æ¡†æ¶æä¾›äº† ApplicationEventMulticaster æ¥å£çš„é»˜èªå¯¦ç¾ SimpleApplicationEventMulticasterï¼Œå¦‚æœæœ¬åœ°å®¹å™¨ä¸­æ²’æœ‰ ApplicationEventMulticaster çš„å¯¦ç¾å°±æœƒä½¿ç”¨é€™å€‹é»˜èªå¯¦ç¾ã€‚</p><pre><code>public interface ApplicationEventMulticaster {    void addApplicationListener(ApplicationListener&lt;?&gt; listener);    void addApplicationListenerBean(String listenerBeanName);    void removeApplicationListener(ApplicationListener&lt;?&gt; listener);    void removeApplicationListenerBean(String listenerBeanName);    void removeAllListeners();    void multicastEvent(ApplicationEvent event);    void multicastEvent(ApplicationEvent event, @Nullable ResolvableType eventType);}</code></pre><p>åœ¨ SimpleApplicationEventMulticaster ä¸­ï¼Œå¯ä»¥çœ‹åˆ° multicastEvent æ–¹æ³•ä¸­éæ­·äº†æ‰€æœ‰çš„ Listenerï¼Œä¸¦ä¾æ¬¡èª¿ç”¨ Listener çš„ onApplicationEvent æ–¹æ³•ç™¼ä½ˆäº‹ä»¶ã€‚Spring é‚„æä¾›äº†ç•°æ­¥ç™¼ä½ˆäº‹ä»¶çš„èƒ½åŠ›ï¼ŒtaskExecutor ä¸ç‚º null æ™‚å³ç•°æ­¥åŸ·è¡Œã€‚</p><pre><code>public class SimpleApplicationEventMulticaster extends AbstractApplicationEventMulticaster {    @Nullable    private Executor taskExecutor;    @Override    public void multicastEvent(final ApplicationEvent event,                                @Nullable ResolvableType eventType) {        ResolvableType type =         (eventType != null ? eventType : resolveDefaultEventType(event));        for (final ApplicationListener&lt;?&gt; listener : getApplicationListeners(event, type)) {            Executor executor = getTaskExecutor();            if (executor != null) {                executor.execute(() -&gt; invokeListener(listener, event));            }            else {                invokeListener(listener, event);            }        }    }}</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼ŒSpring è™•ç†äº‹ä»¶æ˜¯åŒæ­¥çš„ï¼Œç›£è½è€…çš„åŸ·è¡Œæ™‚é–“æœ€å¥½ä¸è¦å¤ªé•·ï¼Œä»¥å…å½±éŸ¿ä¸»æµç¨‹ã€‚å¦‚æœäº‹ä»¶çš„è™•ç†ä¸€å®šè¦è€—è²»æ¯”è¼ƒé•·çš„æ™‚é–“ï¼Œè«‹ä½¿ç”¨ç•°æ­¥æ–¹å¼é€²è¡Œè™•ç†ã€‚</p><h2 class=pgc-h-arrow-right>é«˜ç´šç›£è½è€…</h2><p><strong>SmartApplicationListener</strong></p><p>SmartApplicationListener æ¥å£æ˜¯ ApplicationListener çš„å­æ¥å£ï¼Œé‚„ç¹¼æ‰¿äº† Ordered æ¥å£ã€‚SmartApplicationListener å®šç¾©äº†å…©å€‹ support æ–¹æ³•ç”¨æ–¼åˆ¤æ–·äº‹ä»¶é¡å‹ã€ä¾†æºé¡å‹æ˜¯å¦å’Œç•¶å‰ç›£è½è€…åŒ¹é…ï¼Œé€™æ¨£ç›£è½è€…å¯ä»¥ç¯©é¸è‡ªå·±æ„Ÿèˆˆè¶£çš„äº‹ä»¶å’Œä¾†æºã€‚ç¹¼æ‰¿ Ordered æ¥å£å¾Œï¼Œè©²ç›£è½è€…å…·å‚™äº†æ’åºçš„åŠŸèƒ½ï¼Œå¯ä»¥æŒ‰ç…§ order å¾å°åˆ°å¤§çš„é †åºçµ¦ç›£è½è€…ç¢ºå®šä¸€å€‹å„ªå…ˆç´šï¼Œå¾è€Œç¢ºä¿åŸ·è¡Œé †åºã€‚</p><pre><code>public interface Ordered {    int HIGHEST_PRECEDENCE = Integer.MIN_VALUE;    int LOWEST_PRECEDENCE = Integer.MAX_VALUE;    int getOrder();}public interface SmartApplicationListener     extends ApplicationListener&lt;ApplicationEvent&gt;, Ordered {    boolean supportsEventType(Class&lt;? extends ApplicationEvent&gt; eventType);    boolean supportsSourceType(Class&lt;?&gt; sourceType);}</code></pre><p><strong>GenericApplicationListener</strong></p><p>GenericApplicationListener æ¥å£æ˜¯ ApplicationListener çš„å­æ¥å£ï¼Œä¹Ÿç¹¼æ‰¿äº† Ordered æ¥å£ï¼ŒåŒ SmartApplicationListener ä¸€æ¨£å…·æœ‰äº‹ä»¶ç¯©é¸èƒ½åŠ›å’Œæ’åºèƒ½åŠ›ã€‚ä½†ç¯©é¸äº‹ä»¶ä½¿ç”¨çš„æ˜¯ ResolvableType é¡å‹ï¼Œè€Œä¸æ˜¯ ApplicationEvent é¡å‹ã€‚</p><h2 class=pgc-h-arrow-right>ç¸½çµ</h2><p>æœ¬æ–‡æ¢è¨äº† Spring ä¸­äº‹ä»¶çš„å¯¦ç¾åŸç†ï¼ŒåŸºæ–¼äº‹ä»¶å¯ä»¥å¾ˆå¥½åœ°è§£è€¦ä»£ç¢¼ï¼Œç­è§£äº†èƒŒå¾Œçš„å¯¦ç¾åŸç†å¯ä»¥æ›´å¥½åœ°ä½¿ç”¨äº‹ä»¶ã€‚</p><p><br></p><p>åŸæ–‡éˆæ¥ï¼šhttps://zhuanlan.zhihu.com/p/40071652</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>spring</a></li><li><a>ç›£è½</a></li><li><a>æ©Ÿåˆ¶</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/aee2cfd1.html alt=Springäº‹ä»¶ç›£è½æ©Ÿåˆ¶åŸç† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/217264042932461b810f06a25805a819 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/aee2cfd1.html title=Springäº‹ä»¶ç›£è½æ©Ÿåˆ¶åŸç†>Springäº‹ä»¶ç›£è½æ©Ÿåˆ¶åŸç†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bb071e7e.html alt="SQL äº‹å‹™æ©Ÿåˆ¶-transaction" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/3231427d97bf4a04b148360fea032241 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bb071e7e.html title="SQL äº‹å‹™æ©Ÿåˆ¶-transaction">SQL äº‹å‹™æ©Ÿåˆ¶-transaction</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5f4c6dc1.html alt=äº‹å‹™æ©Ÿåˆ¶å’Œé–æ©Ÿåˆ¶ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/5a547c8c402142cca7ed81d05fe0e3e3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5f4c6dc1.html title=äº‹å‹™æ©Ÿåˆ¶å’Œé–æ©Ÿåˆ¶>äº‹å‹™æ©Ÿåˆ¶å’Œé–æ©Ÿåˆ¶</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6e8f3f2e.html alt=é€£mysqlé–çš„æ©Ÿåˆ¶éƒ½ä¸ç­è§£ï¼Œæ€éº¼åšæ¶æ§‹å¸« class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1533476323070887266574f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6e8f3f2e.html title=é€£mysqlé–çš„æ©Ÿåˆ¶éƒ½ä¸ç­è§£ï¼Œæ€éº¼åšæ¶æ§‹å¸«>é€£mysqlé–çš„æ©Ÿåˆ¶éƒ½ä¸ç­è§£ï¼Œæ€éº¼åšæ¶æ§‹å¸«</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3ad79c04.html alt=ä»€éº¼æ˜¯å¤šæ…‹æ©Ÿåˆ¶ï¼ŸJavaèªè¨€æ˜¯å¦‚ä½•å¯¦ç¾å¤šæ…‹çš„ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/d61f4356-80bf-4d14-8d12-f4a6fdca887c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3ad79c04.html title=ä»€éº¼æ˜¯å¤šæ…‹æ©Ÿåˆ¶ï¼ŸJavaèªè¨€æ˜¯å¦‚ä½•å¯¦ç¾å¤šæ…‹çš„ï¼Ÿ>ä»€éº¼æ˜¯å¤šæ…‹æ©Ÿåˆ¶ï¼ŸJavaèªè¨€æ˜¯å¦‚ä½•å¯¦ç¾å¤šæ…‹çš„ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/34b07b6f.html alt=å¤©æ´¥ç–«æƒ…é˜²æ§è½å¯¦â€œæˆ°æ™‚æ©Ÿåˆ¶â€å„å€é»¨æ”¿ä¸»è¦è² è²¬åŒå¿—åœæ­¢å‡æœŸç‹€æ…‹ï¼Œç«‹å³åˆ°å´—å°±ä½ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/34b07b6f.html title=å¤©æ´¥ç–«æƒ…é˜²æ§è½å¯¦â€œæˆ°æ™‚æ©Ÿåˆ¶â€å„å€é»¨æ”¿ä¸»è¦è² è²¬åŒå¿—åœæ­¢å‡æœŸç‹€æ…‹ï¼Œç«‹å³åˆ°å´—å°±ä½>å¤©æ´¥ç–«æƒ…é˜²æ§è½å¯¦â€œæˆ°æ™‚æ©Ÿåˆ¶â€å„å€é»¨æ”¿ä¸»è¦è² è²¬åŒå¿—åœæ­¢å‡æœŸç‹€æ…‹ï¼Œç«‹å³åˆ°å´—å°±ä½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8c21d419.html alt="æ·±å…¥ç†è§£ Java ä½µç™¼æ ¸å¿ƒæ©Ÿåˆ¶ï¼Œçœ‹å®Œå¾Œå¥½çˆ½" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/832db421a3364a20a62c93127ea6e862 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8c21d419.html title="æ·±å…¥ç†è§£ Java ä½µç™¼æ ¸å¿ƒæ©Ÿåˆ¶ï¼Œçœ‹å®Œå¾Œå¥½çˆ½">æ·±å…¥ç†è§£ Java ä½µç™¼æ ¸å¿ƒæ©Ÿåˆ¶ï¼Œçœ‹å®Œå¾Œå¥½çˆ½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/297117d9.html alt=å¸‚ç¨…å‹™å±€å‰µæ–°åˆ¶åº¦æ©Ÿåˆ¶çˆ­å‰µâ€œæ¨¡ç¯„æ©Ÿé—œâ€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/d879650a7d06416c90fb7286175f1f59 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/297117d9.html title=å¸‚ç¨…å‹™å±€å‰µæ–°åˆ¶åº¦æ©Ÿåˆ¶çˆ­å‰µâ€œæ¨¡ç¯„æ©Ÿé—œâ€>å¸‚ç¨…å‹™å±€å‰µæ–°åˆ¶åº¦æ©Ÿåˆ¶çˆ­å‰µâ€œæ¨¡ç¯„æ©Ÿé—œâ€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ce33eab5.html alt="æ©Ÿåˆ¶ç ‚ | å¤§å®¶çŸ¥å¤šå°‘ï¼Ÿ" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/54b1eea319b842bcb8483f4056798bec style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ce33eab5.html title="æ©Ÿåˆ¶ç ‚ | å¤§å®¶çŸ¥å¤šå°‘ï¼Ÿ">æ©Ÿåˆ¶ç ‚ | å¤§å®¶çŸ¥å¤šå°‘ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/095e0499.html alt=æ©Ÿåˆ¶ç ‚å¸‚åƒ¹å¤šå°‘éŒ¢ä¸€å™¸ï¼Ÿä¸€æ–¹æ©Ÿåˆ¶ç ‚æŠ˜ç®—æˆå™¸å¤§æ¦‚å¤šå°‘ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/2b6d9a5dccf246aeaba80b2a1ecb9f0a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/095e0499.html title=æ©Ÿåˆ¶ç ‚å¸‚åƒ¹å¤šå°‘éŒ¢ä¸€å™¸ï¼Ÿä¸€æ–¹æ©Ÿåˆ¶ç ‚æŠ˜ç®—æˆå™¸å¤§æ¦‚å¤šå°‘ï¼Ÿ>æ©Ÿåˆ¶ç ‚å¸‚åƒ¹å¤šå°‘éŒ¢ä¸€å™¸ï¼Ÿä¸€æ–¹æ©Ÿåˆ¶ç ‚æŠ˜ç®—æˆå™¸å¤§æ¦‚å¤šå°‘ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5dcd6724.html alt=å¹¾ç¨®åŸºæ–¼å¯é æ€§æŒ‡æ¨™çš„å®¹é‡æ”¯æŒæ©Ÿåˆ¶åˆ†æ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RZYfwddDNSSyQW style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5dcd6724.html title=å¹¾ç¨®åŸºæ–¼å¯é æ€§æŒ‡æ¨™çš„å®¹é‡æ”¯æŒæ©Ÿåˆ¶åˆ†æ>å¹¾ç¨®åŸºæ–¼å¯é æ€§æŒ‡æ¨™çš„å®¹é‡æ”¯æŒæ©Ÿåˆ¶åˆ†æ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c67e6cfe.html alt=javaåå°„æ©Ÿåˆ¶çš„è¬›è§£ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9ad2c92f100a4d2e8213dcf70d4781c0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c67e6cfe.html title=javaåå°„æ©Ÿåˆ¶çš„è¬›è§£>javaåå°„æ©Ÿåˆ¶çš„è¬›è§£</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/496f3f6a.html alt=åŠ£è³ªæ©Ÿåˆ¶ç ‚ç”¢ç”Ÿçš„4é¡åŸå› åˆ†æï¼å·¥è—è¨­è¨ˆå’Œè¨­å‚™é¸å‹éå¸¸é‡è¦ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/7737ac36f58f40a98a798a5cbf5d5295 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/496f3f6a.html title=åŠ£è³ªæ©Ÿåˆ¶ç ‚ç”¢ç”Ÿçš„4é¡åŸå› åˆ†æï¼å·¥è—è¨­è¨ˆå’Œè¨­å‚™é¸å‹éå¸¸é‡è¦>åŠ£è³ªæ©Ÿåˆ¶ç ‚ç”¢ç”Ÿçš„4é¡åŸå› åˆ†æï¼å·¥è—è¨­è¨ˆå’Œè¨­å‚™é¸å‹éå¸¸é‡è¦</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ff1f42a9.html alt=å¤šé€²ç¨‹é«˜ä½µç™¼ã€ä½æ™‚å»¶ã€é«˜å¯é æ©Ÿåˆ¶åœ¨ç·©å­˜twemproxyä»£ç†ä¸­çš„æ‡‰ç”¨ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/f31195000b32401b8a5173b87a78fb6f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ff1f42a9.html title=å¤šé€²ç¨‹é«˜ä½µç™¼ã€ä½æ™‚å»¶ã€é«˜å¯é æ©Ÿåˆ¶åœ¨ç·©å­˜twemproxyä»£ç†ä¸­çš„æ‡‰ç”¨>å¤šé€²ç¨‹é«˜ä½µç™¼ã€ä½æ™‚å»¶ã€é«˜å¯é æ©Ÿåˆ¶åœ¨ç·©å­˜twemproxyä»£ç†ä¸­çš„æ‡‰ç”¨</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e96854f9.html alt="spring & mybatisåƒæ•¸å€¼æ³¨å…¥" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/90d335c5a41b4021a42ac229bb17fec5 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e96854f9.html title="spring & mybatisåƒæ•¸å€¼æ³¨å…¥">spring & mybatisåƒæ•¸å€¼æ³¨å…¥</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>