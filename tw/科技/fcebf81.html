<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>å¦‚ä½•æ‰¹é‡è™•ç†åœ–åƒè‡ªå‹•ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç¢¼ï¼‰ | æå®¢å¿«è¨Š</title><meta property="og:title" content="å¦‚ä½•æ‰¹é‡è™•ç†åœ–åƒè‡ªå‹•ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç¢¼ï¼‰ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p1.pstatp.com/large/pgc-image/7b888490916a44b4ac1cde73500ed1af"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/fcebf81.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/fcebf81.html><meta property="article:published_time" content="2020-10-29T20:54:10+08:00"><meta property="article:modified_time" content="2020-10-29T20:54:10+08:00"><meta name=Keywords content><meta name=description content="å¦‚ä½•æ‰¹é‡è™•ç†åœ–åƒè‡ªå‹•ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç¢¼ï¼‰"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/fcebf81.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>å¦‚ä½•æ‰¹é‡è™•ç†åœ–åƒè‡ªå‹•ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç¢¼ï¼‰</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>ç§‘æŠ€</a></span></div><div class=post-content><p>æ–‡/ITå¯é”é´¨</p><p>åœ–/ITå¯é”é´¨ã€ç¶²çµ¡</p><p></p><h1 class=pgc-h-arrow-right>å‰è¨€</h1><p></p><p>äº‹æƒ…çš„ç¶“éæ˜¯é€™æ¨£å­çš„ï¼Œå°ç·¨åœ¨å¾ˆä¹…ä»¥å‰å¯«éä¸€ç¯‡ã€Š<a class=pgc-link data-content=mp href="https://www.toutiao.com/i6810654859126112772/?group_id=6810654859126112772" rel="noopener noreferrer" target=_blank>å¦‚ä½•çµ¦ä¸€åƒå¼µåœ–ç‰‡å»æ°´å°ï¼Ÿé‚„å¥½æˆ‘æœƒpythonï¼Œ100è¡Œä»£ç¢¼è¼•é¬†æå®š</a>ã€‹çš„æ–‡ç« ã€‚æœ€è¿‘æ”¶åˆ°ç¶²å‹è©•è«–ï¼šâ€œ<strong>æœ‰ç„¡æ‰¹é‡è™•ç†åœ–åƒè‡ªå‹•ç™½å¹³è¡¡çš„ä¾‹å­ï¼Ÿ</strong>â€œ</p><p></p><div class=pgc-img><img alt=å¦‚ä½•æ‰¹é‡è™•ç†åœ–åƒè‡ªå‹•ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç¢¼ï¼‰ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7b888490916a44b4ac1cde73500ed1af><p class=pgc-img-caption></p></div><p></p><p>å¯é”é´¨è¡¨ç¤ºï¼š<strong>å®‰æ’ï¼</strong></p><p></p><h1 class=pgc-h-arrow-right>ä»€éº¼æ˜¯åœ–åƒç™½å¹³è¡¡ï¼Ÿ</h1><p></p><p>è‚¯å®šæœ‰äººæœƒå•ä»€éº¼æ˜¯ç™½å¹³è¡¡ï¼Œé€™è£¡çµ¦å¤§å®¶ç°¡å–®èªªä¸€ä¸‹ã€‚<strong>ç™½å¹³è¡¡æ”¹è®Šçš„æ˜¯ç•«é¢çš„è‰²æº«å†·æš–è®ŠåŒ–ï¼Œè¦éº¼è®“ç•«é¢åè—ï¼ˆå†·ï¼‰ï¼Œè¦éº¼è®“ç•«é¢åé»ƒï¼ˆæš–ï¼‰ã€‚</strong></p><p></p><div class=pgc-img><img alt=å¦‚ä½•æ‰¹é‡è™•ç†åœ–åƒè‡ªå‹•ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç¢¼ï¼‰ onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/9a0d3ab047834841bbf491fd348a4951><p class=pgc-img-caption>åŸåœ–</p></div><div class=pgc-img><img alt=å¦‚ä½•æ‰¹é‡è™•ç†åœ–åƒè‡ªå‹•ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç¢¼ï¼‰ onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/5c4d71252ff84a8e8678b49608612f3e><p class=pgc-img-caption>ç™½å¹³è¡¡è™•ç†å¾Œï¼ˆç•«é¢åå†·ï¼‰</p></div><p></p><h1 class=pgc-h-arrow-right>æ¶‰åŠé›£é»</h1><p></p><p><strong class=highlight-text>ç­–ç•¥æ¨¡å¼</strong>ï¼šåœ¨æœ‰å¤šç¨®ç®—æ³•ç›¸ä¼¼çš„æƒ…æ³ä¸‹ï¼Œä½¿ç”¨â€œif...else...â€æœƒå¸¶ä¾†çš„é›£ä»¥ç¶­è­·çš„å•é¡Œã€‚ç‚ºäº†é¿å…éå¤šä½¿ç”¨å¤šé‡æ¢ä»¶çš„åˆ¤æ–·ï¼Œè€Œä¸”ç‚ºäº†æ“´å±•æ€§è‰¯å¥½ï¼Œå°±å¾—é¸æ“‡ç­–ç•¥æ¨¡å¼ã€‚</p><p></p><p><strong class=highlight-text>éæ­¸è¨ªå•æ–‡ä»¶</strong>ï¼šè€ƒæ…®åˆ°ç”¨æˆ¶çµ¦å‡ºçš„å¾…è™•ç†çš„åœ–ç‰‡å¯èƒ½æœ‰å«æœ‰å¤šç´šç›®éŒ„ï¼Œéæ­¸è¨ªå•èƒ½ç¢ºä¿è™•ç†å¥½æ‰€æœ‰çš„åœ–ç‰‡ã€‚</p><p></p><p><strong class=highlight-text>numpyçš„é‹ç”¨</strong>ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨æ•¸çµ„ä»£æ›¿ï¼Œç„¶å¾Œç”¨forå¾ªç’°é€å€‹åƒç´ å€¼é€²è¡Œè¨ˆç®—ã€‚ä¸éï¼Œè€ƒæ…®çš„é‹è¡Œæ•ˆç‡å•é¡Œï¼Œæœ€å¥½é¸æ“‡numpyæˆ–pandasã€‚</p><p></p><p><strong class=highlight-text>pythoné­”è¡“æ–¹æ³•</strong>ï¼šå¯ä»¥é€™éº¼èªªï¼Œå°±æ˜¯å‡½æ•¸çš„è²æ˜å’Œèª¿ç”¨æ‰€ä½¿ç”¨çš„åç¨±ä¸åŒï¼Œè€Œä¸”èª¿ç”¨çš„æ–¹å¼éå¸¸æ–¹ä¾¿ã€‚</p><p></p><h1 class=pgc-h-arrow-right>é …ç›®è¨­è¨ˆ</h1><p></p><p>é¦–å…ˆç”³æ˜ï¼Œæœ¬ä»£ç¢¼æ˜¯æ ¹æ“šç¶²ä¸Šé–‹æºçš„ä»£ç¢¼é€²è¡Œä¿®æ”¹çš„ã€‚åŠ å…¥äº†pythonçš„è¨­è¨ˆç†å¿µå’Œæ‰¹é‡è™•ç†çš„æ€è·¯ã€‚ä¸»è¦åˆ†ç‚ºä¸ƒæ­¥ï¼Œå¤§æ¦‚æœ‰200è¡Œpythonä»£ç¢¼ï¼Œå¤§å®¶å¯ä»¥ç ”è®€ä¸€ä¸‹ã€‚</p><p></p><ul><li><strong>ç¬¬ä¸€æ­¥ï¼šå°å…¥éœ€è¦çš„åŒ…å’Œéœæ…‹è®Šé‡çš„è¨­ç½®ã€‚</strong></li></ul><pre><code>import cv2import numpy as npimport osclass CONF:    input_path = 'input'    # å¾…è™•ç†çš„åœ–ç‰‡ï¼ˆè·¯å¾‘ä¸èƒ½æœ‰ä¸­æ–‡ï¼‰    output_path = 'output'  # è™•ç†çš„çµæœï¼ˆè·¯å¾‘ä¸èƒ½æœ‰ä¸­æ–‡ï¼‰    white_balance_mode = 5  # ç™½å¹³è¡¡çš„æ¨¡å¼ï¼ˆä¸€å…±æœ‰äº”ç¨®æ¨¡å¼ï¼Œ1~5ï¼‰    is_log = True           # æ˜¯å¦æ‰“å°æ—¥èªŒ</code></pre><p></p><ul><li><strong>ç¬¬äºŒæ­¥ï¼šé¡çš„åˆå§‹åŒ–</strong></li></ul><pre><code>def __init__(self, input_path, output_path, white_balance_mode, is_log):    # ç­–ç•¥çš„é¸æ“‡    self.white_balance_mode = white_balance_mode if white_balance_mode in [1,2,3,4,5] else 1    self.name_dict = {1:'_mode_1', 2:'_mode_2', 3:'_mode_3', 4:'_mode_4', 5:'_mode_5'}    self.input_path = input_path    self.output_path = output_path + self.name_dict[self.white_balance_mode]    # ç­–ç•¥æ¨¡å¼    self.white_balance_process = {1: self.__balance_mode_1, # å‡å€¼                                  2: self.__balance_mode_2, # å®Œç¾åå°„                                  3: self.__balance_mode_3, # ç°åº¦ä¸–ç•Œ                                  4: self.__balance_mode_4, # é¡è‰²æ ¡æ­£                                  5: self.__balance_mode_5} # å‹•æ…‹é–¾å€¼    self.is_log = is_log"""åˆå§‹åŒ–"""@classmethoddef initialize(cls, config):    input_path = config.input_path    output_path = config.output_path    white_balance_mode = config.white_balance_mode    is_log = config.is_log    return cls(input_path, output_path, white_balance_mode, is_lo</code></pre><p></p><ul><li><strong>ç¬¬ä¸‰æ­¥ï¼šäº”ç¨®ç­–ç•¥ç®—æ³•çš„ç·¨å¯«ã€‚</strong></li></ul><p></p><p>ç­–ç•¥ä¸€ï¼šå‡å€¼</p><pre><code>"""ç­–ç•¥ä¸€ï¼š å‡å€¼"""def __balance_mode_1(self, img, b, g, r, h, w, c):    # ç°¡å–®çš„æ±‚å‡å€¼ç™½å¹³è¡¡æ³•    b_avg, g_avg, r_avg = cv2.mean(b)[0], cv2.mean(g)[0], cv2.mean(r)[0]    # æ±‚å„å€‹é€šé“æ‰€ä½”å¢ç›Š    k = (b_avg + g_avg + r_avg) / 3    kb, kg, kr = k / b_avg, k / g_avg, k / r_avg    b = cv2.addWeighted(src1=b, alpha=kb, src2=0, beta=0, gamma=0)    g = cv2.addWeighted(src1=g, alpha=kg, src2=0, beta=0, gamma=0)    r = cv2.addWeighted(src1=r, alpha=kr, src2=0, beta=0, gamma=0)    output_img = cv2.merge([b, g, r])    return output_img</code></pre><p></p><p>ç­–ç•¥äºŒï¼šå®Œç¾åå°„</p><pre><code>"""ç­–ç•¥äºŒï¼š å®Œç¾åå°„"""def __balance_mode_2(self, img, b, g, r, h, w, c):    # å®Œç¾åå°„ç™½å¹³è¡¡ ---- ä¾è³´ratioå€¼é¸å–è€Œä¸”å°äº®åº¦æœ€å¤§å€åŸŸä¸æ˜¯ç™½è‰²çš„åœ–åƒæ•ˆæœä¸ä½³ã€‚    output_img = img.copy()    sum_ = np.double() + b + g + r    hists, bins = np.histogram(sum_.flatten(), 766, [0, 766])    Y = 765    num, key = 0, 0    ratio = 0.01    while Y &gt;= 0:        num += hists[Y]        if num &gt; h * w * ratio / 100:            key = Y            break        Y = Y - 1    sumkey = np.where(sum_ &gt;= key)    sum_b, sum_g, sum_r = np.sum(b[sumkey]), np.sum(g[sumkey]), np.sum(r[sumkey])    times = len(sumkey[0])    avg_b, avg_g, avg_r = sum_b / times, sum_g / times, sum_r / times    maxvalue = float(np.max(output_img))    output_img[:, :, 0] = output_img[:, :, 0] * maxvalue / int(avg_b)    output_img[:, :, 1] = output_img[:, :, 1] * maxvalue / int(avg_g)    output_img[:, :, 2] = output_img[:, :, 2] * maxvalue / int(avg_r)    return output_im</code></pre><p></p><p>ç­–ç•¥ä¸‰ï¼šç°åº¦ä¸–ç•Œ</p><pre><code>"""ç­–ç•¥ä¸‰ï¼š ç°åº¦ä¸–ç•Œ"""def __balance_mode_3(self, img, b, g, r, h, w, c):    # ç°åº¦ä¸–ç•Œå‡è¨­    b_avg, g_avg, r_avg = cv2.mean(b)[0], cv2.mean(g)[0], cv2.mean(r)[0]    # éœ€è¦èª¿æ•´çš„RGBåˆ†é‡çš„å¢ç›Š    k = (b_avg + g_avg + r_avg) / 3    kb, kg, kr = k / b_avg, k / g_avg, k / r_avg    ba, ga, ra = b * kb, g * kg, r * kr    output_img = cv2.merge([ba, ga, ra])    return output_img</code></pre><p></p><p>ç­–ç•¥å››ï¼šé¡è‰²æ ¡æ­£</p><pre><code>"""ç­–ç•¥å››ï¼š é¡è‰²æ ¡æ­£"""def __balance_mode_4(self, img, b, g, r, h, w, c):    # åŸºæ–¼åœ–åƒåˆ†æçš„åè‰²æª¢æ¸¬åŠé¡è‰²æ ¡æ­£    I_b_2, I_r_2 = np.double(b) ** 2, np.double(r) ** 2    sum_I_b_2, sum_I_r_2 = np.sum(I_b_2), np.sum(I_r_2)    sum_I_b, sum_I_g, sum_I_r = np.sum(b), np.sum(g), np.sum(r)    max_I_b, max_I_g, max_I_r = np.max(b), np.max(g), np.max(r)    max_I_b_2, max_I_r_2 = np.max(I_b_2), np.max(I_r_2)    [u_b, v_b] = np.matmul(np.linalg.inv([[sum_I_b_2, sum_I_b], [max_I_b_2, max_I_b]]), [sum_I_g, max_I_g])    [u_r, v_r] = np.matmul(np.linalg.inv([[sum_I_r_2, sum_I_r], [max_I_r_2, max_I_r]]), [sum_I_g, max_I_g])    b0 = np.uint8(u_b * (np.double(b) ** 2) + v_b * b)    r0 = np.uint8(u_r * (np.double(r) ** 2) + v_r * r)    output_img = cv2.merge([b0, g, r0])    return output_img</code></pre><p></p><p>ç­–ç•¥äº”ï¼šå‹•æ…‹é–¾å€¼</p><pre><code>"""ç­–ç•¥äº”ï¼š å‹•æ…‹é–¾å€¼"""def __balance_mode_5(self, img, b, g, r, h, w, c):    # å‹•æ…‹é–¾å€¼ç®—æ³• ---- ç™½é»æª¢æ¸¬å’Œç™½é»èª¿æ•´    # åªæ˜¯ç™½é»æª¢æ¸¬ä¸æ˜¯èˆ‡å®Œç¾åå°„ç®—æ³•ç›¸åŒçš„èªç‚ºæœ€äº®çš„é»ç‚ºç™½é»ï¼Œè€Œæ˜¯é€šéå¦å¤–çš„è¦å‰‡ç¢ºå®š    def con_num(x):        if x &gt; 0:            return 1        if x &lt; 0:            return -1        if x == 0:            return 0    yuv_img = cv2.cvtColor(img, cv2.COLOR_BGR2YCrCb)    # YUVç©ºé–“    (y, u, v) = cv2.split(yuv_img)    max_y = np.max(y.flatten())    sum_u, sum_v = np.sum(u), np.sum(v)    avl_u, avl_v = sum_u / (h * w), sum_v / (h * w)    du, dv = np.sum(np.abs(u - avl_u)), np.sum(np.abs(v - avl_v))    avl_du, avl_dv = du / (h * w), dv / (h * w)    radio = 0.5  # å¦‚æœè©²å€¼éå¤§éå°ï¼Œè‰²æº«å‘å…©æ¥µç«¯ç™¼å±•    valuekey = np.where((np.abs(u - (avl_u + avl_du * con_num(avl_u))) &lt; radio * avl_du)                        | (np.abs(v - (avl_v + avl_dv * con_num(avl_v))) &lt; radio * avl_dv))    num_y, yhistogram = np.zeros((h, w)), np.zeros(256)    num_y[valuekey] = np.uint8(y[valuekey])    yhistogram = np.bincount(np.uint8(num_y[valuekey].flatten()), minlength=256)    ysum = len(valuekey[0])    Y = 255    num, key = 0, 0    while Y &gt;= 0:        num += yhistogram[Y]        if num &gt; 0.1 * ysum:  # å–å‰10%çš„äº®é»ç‚ºè¨ˆç®—å€¼ï¼Œå¦‚æœè©²å€¼éå¤§æ˜“éæ›å…‰ï¼Œè©²å€¼éå°èª¿æ•´å¹…åº¦å°            key = Y            break        Y = Y - 1    sumkey = np.where(num_y &gt; key)    sum_b, sum_g, sum_r = np.sum(b[sumkey]), np.sum(g[sumkey]), np.sum(r[sumkey])    num_rgb = len(sumkey[0])    b0 = np.double(b) * int(max_y) / (sum_b / num_rgb)    g0 = np.double(g) * int(max_y) / (sum_g / num_rgb)    r0 = np.double(r) * int(max_y) / (sum_r / num_rgb)    output_img = cv2.merge([b0, g0, r0])    return output</code></pre><p></p><ul><li><strong>ç¬¬å››æ­¥ï¼š å–®å¼µåœ–ç‰‡çš„è™•ç†</strong></li></ul><pre><code>"""å–®å¼µåœ–ç‰‡çš„è™•ç†"""def img_process(self, in_img_path, out_img_path):    in_img = cv2.imread(in_img_path)    b, g, r = cv2.split(in_img)    h, w, c = in_img.shape  # å‡å€¼è®Šç‚ºä¸‰é€šé“    # æ ¹æ“šç”¨æˆ¶é¸æ“‡çš„ä¸åŒç­–ç•¥é€²è¡Œèª¿ç”¨    output_img = self.white_balance_process[self.white_balance_mode](in_img, b, g, r, h, w, c)    output_img = np.uint8(np.clip(output_img, 0, 255))    # ä¿å­˜åœ–ç‰‡    cv2.imwrite(out_img_path, output_i</code></pre><p></p><ul><li><strong>ç¬¬äº”æ­¥ï¼šéæ­¸è¨ªå•æ–‡ä»¶</strong></li></ul><pre><code>""" å‰µå»ºæ–‡ä»¶å¤¾ """def mkdir(self, path):    path = path.strip().rstrip("\\")    is_exists = os.path.exists(path)    if not is_exists:        os.makedirs(path)        return True    else:        return False""" éæ­¸è¨ªå•æ–‡ä»¶/æ–‡ä»¶å¤¾ """def visit_dir_files(self, org_input_dir, org_output_dir, recursion_dir):    single_file = False    if os.path.isdir(recursion_dir):        dir_list = os.listdir(recursion_dir)    else:        dir_list = [recursion_dir]        single_file = True    for i in range(0, len(dir_list)):        path = os.path.join(recursion_dir, dir_list[i])        if os.path.isdir(path):            self.visit_dir_files(org_input_dir, org_output_dir, path)        else:            abs_output_dir = org_output_dir + recursion_dir[len(org_input_dir):]            target_path = os.path.join(abs_output_dir, dir_list[i])            if single_file:                target_path = os.path.join(org_output_dir, os.path.basename(dir_list[i]))            target_dir_name = os.path.dirname(target_path)            if not os.path.exists(target_dir_name):                self.mkdir(target_dir_name)            self.img_process(path, target_path</code></pre><p></p><ul><li><strong>ç¬¬å…­æ­¥ï¼šä¸»ç·šç¨‹ï¼Œé€™è£¡ä½¿ç”¨é­”è¡“æ–¹æ³•è²æ˜ã€‚</strong></li></ul><pre><code># ä¸»ç·šç¨‹(æ¡ç”¨pythoné­”è¡“æ–¹æ³•å¯¦ç¾)# å…è¨±ä¸€å€‹é¡çš„å¯¦ä¾‹åƒå‡½æ•¸ä¸€æ¨£è¢«èª¿ç”¨ï¼šx(key)# å‡å¦‚å°è±¡å¯¦ä¾‹æ˜¯x, ä½¿ç”¨x(key), å°±åƒèª¿ç”¨ x.__call__(a, b)ä¸€æ¨£def __call__(self,):    if os.path.exists(self.input_path):        # éæ­¸è¨ªå•åœ–ç‰‡ï¼Œé€å¼µåœ–ç‰‡é€²è¡Œè™•ç†        self.visit_dir_files(self.input_path, self.output_path, self.input_path)        if self.is_log:            print(u'å®Œæˆï¼æ‰€æœ‰åœ–ç‰‡å·²ä¿å­˜è‡³è·¯å¾‘' + self.output_path)    else:        print(u'å¾…è™•ç†çš„åœ–ç‰‡å­˜æ”¾çš„ä½ç½® %s, å¦‚æœæ²’æœ‰è«‹æ–°å»ºç›®éŒ„ %s' % (self.input_path, self.input_path))</code></pre><p></p><ul><li><strong>ç¬¬ä¸ƒæ­¥ï¼šmainå‡½æ•¸é€²è¡Œèª¿ç”¨</strong></li></ul><pre><code>if __name__ == '__main__':    white_balance = WhiteBalanceHelper.initialize(config=CONF)    white_balance()</code></pre><p></p><h1 class=pgc-h-arrow-right>è¼¸å‡ºçµæœ</h1><p>ç¬¬ä¸€å¼µæ˜¯åŸåœ–ï¼Œé¤˜ä¸‹äº”å¼µæ˜¯ä¸åŒç™½å¹³è¡¡ç®—æ³•çš„è™•ç†çµæœã€‚</p><div class=pgc-img><img alt=å¦‚ä½•æ‰¹é‡è™•ç†åœ–åƒè‡ªå‹•ç™½å¹³è¡¡ï¼Ÿï¼ˆé™„æºç¢¼ï¼‰ onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b3f69724e2754c69af7b7088f2f8eb9a><p class=pgc-img-caption></p></div><p></p><h1 class=pgc-h-arrow-right>å¾ŒçºŒæ”¹é€²</h1><p></p><p>é …ç›®æ¡ç”¨äº†äº”ç¨®ç™½å¹³è¡¡çš„ç®—æ³•ï¼Œä¸¦ç”¨ç­–ç•¥æ¨¡å¼è¦ç¯„èµ·ä¾†ï¼Œç›®çš„å°±æ˜¯ç‚ºäº†å¾ŒçºŒæ–¹ä¾¿æ“´å±•å…¶ä»–ç®—æ³•ã€‚å¦‚æœæœ‰å…¶ä»–æ–°çš„ç™½å¹³è¡¡ç®—æ³•ï¼Œå¯ä»¥é€æ­¥åŠ å…¥ï¼Œå¢åŠ è®Šé‡ modeçš„å–å€¼ä»¥åŠç­–ç•¥å­—å…¸çš„å‡½æ•¸å€¼å³å¯ã€‚</p><p></p><h1 class=pgc-h-arrow-right>çµèª</h1><p></p><p>å¦‚æœæœ‰ç–‘å•æƒ³ç²å–æºç¢¼ï¼Œå¯ä»¥é—œæ³¨å¾Œï¼Œåœ¨å¾Œè‡ºç§ä¿¡æˆ‘ï¼Œå›è¦†ï¼š<strong class=highlight-text>pythonç™½å¹³è¡¡ï¼Œ</strong> æˆ‘æŠŠæºç¢¼ç™¼ä½ ã€‚</p><p><br></p><p><strong>å­¸ç¿’pythonï¼Œä¸éœ€è¦ä¸€æ¯å¥¶èŒ¶éŒ¢ï¼Œåªéœ€è¦ä½ é»å€‹é—œæ³¨ã€‚</strong>å¦‚æœè¦ºå¾—å°ç·¨çš„æ–‡ç« å°ä½ æœ‰å¹«åŠ©ï¼Œè¨˜å¾—é»å€‹è´Šï¼Œé †ä¾¿å¹«æˆ‘åˆ†äº«å‡ºå»ã€‚æœ‰ä»€éº¼ä¸æ˜ç™½çš„åœ°æ–¹ï¼Œæ­¡è¿åœ¨ä¸‹æ–¹è©•è«–ï¼Œæˆ–ç§ä¿¡å°ç·¨ã€‚æœ€å¾Œï¼Œæ„Ÿè¬å¤§å®¶çš„é–±è®€ï¼Œç¥å¤§å®¶ç”Ÿæ´»æ„‰å¿«ã€‚</p><p></p><p>æœ¬æ–‡ç”± <strong>ITå¯é”é´¨ </strong>åŸå‰µï¼Œæ­¡è¿é—œæ³¨ï¼Œå¸¶ä½ ä¸€èµ·é•·çŸ¥è­˜ï¼</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>è™•ç†åœ–</a></li><li><a>è‡ªå‹•</a></li><li><a>ç™½å¹³è¡¡</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/31adec60.html alt=æ–¹å¤§ä¹é‹¼æª¢æ¸¬éƒ¨æ¨å‡ºç”ŸçŸ³ç°è‡ªå‹•å–æ¨£å™¨ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/31adec60.html title=æ–¹å¤§ä¹é‹¼æª¢æ¸¬éƒ¨æ¨å‡ºç”ŸçŸ³ç°è‡ªå‹•å–æ¨£å™¨>æ–¹å¤§ä¹é‹¼æª¢æ¸¬éƒ¨æ¨å‡ºç”ŸçŸ³ç°è‡ªå‹•å–æ¨£å™¨</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/74f03106.html alt=æ–¹å¤§ä¹é‹¼ï¼šçµ¦çŸ³ç°ç²‰è‡ªå‹•å–æ¨£å™¨è…”é«”æ´—â€œé¹½é…¸æµ´â€æ•ˆæœå¥½ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/74f03106.html title=æ–¹å¤§ä¹é‹¼ï¼šçµ¦çŸ³ç°ç²‰è‡ªå‹•å–æ¨£å™¨è…”é«”æ´—â€œé¹½é…¸æµ´â€æ•ˆæœå¥½>æ–¹å¤§ä¹é‹¼ï¼šçµ¦çŸ³ç°ç²‰è‡ªå‹•å–æ¨£å™¨è…”é«”æ´—â€œé¹½é…¸æµ´â€æ•ˆæœå¥½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/06708c4c.html alt=excelå°æŠ€å·§ï¼šè‡ªå‹•æ±‚å’Œï¼Œç•¶æ–°å¢æ•¸æ“šæ™‚è‡ªå‹•æ±‚å’Œ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1523970520159b755ba89ba style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/06708c4c.html title=excelå°æŠ€å·§ï¼šè‡ªå‹•æ±‚å’Œï¼Œç•¶æ–°å¢æ•¸æ“šæ™‚è‡ªå‹•æ±‚å’Œ>excelå°æŠ€å·§ï¼šè‡ªå‹•æ±‚å’Œï¼Œç•¶æ–°å¢æ•¸æ“šæ™‚è‡ªå‹•æ±‚å’Œ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f65108b5.html alt=37.3åº¦ä»¥ä¸Šè‡ªå‹•å ±è­¦ï¼å¯¦æ™‚é«”æº«ç›£æ¸¬ï¼Œæ­ç¥•â€œæŠ—ç–«ç¥å™¨â€ç´…å¤–ç†±åƒå„€ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/4e8a4e07bff64e6db5dcef502221fa45 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f65108b5.html title=37.3åº¦ä»¥ä¸Šè‡ªå‹•å ±è­¦ï¼å¯¦æ™‚é«”æº«ç›£æ¸¬ï¼Œæ­ç¥•â€œæŠ—ç–«ç¥å™¨â€ç´…å¤–ç†±åƒå„€>37.3åº¦ä»¥ä¸Šè‡ªå‹•å ±è­¦ï¼å¯¦æ™‚é«”æº«ç›£æ¸¬ï¼Œæ­ç¥•â€œæŠ—ç–«ç¥å™¨â€ç´…å¤–ç†±åƒå„€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ede488a4.html alt=ã€Œä¹¾è²¨ã€è‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±ä¸‰å¤§å ±è­¦é–¥çµ„åŸç†æ¢ç´¢ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/46846030db1d42069626e2365af33521 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ede488a4.html title=ã€Œä¹¾è²¨ã€è‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±ä¸‰å¤§å ±è­¦é–¥çµ„åŸç†æ¢ç´¢>ã€Œä¹¾è²¨ã€è‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±ä¸‰å¤§å ±è­¦é–¥çµ„åŸç†æ¢ç´¢</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/49a393b8.html alt=ã€Œæ³¨æ¶ˆæ¯æ—¥è€ƒé»ã€è‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±â€œå ±è­¦é–¥çµ„â€çš„ç¾å ´æª¢æŸ¥è¦æ±‚ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/49a393b8.html title=ã€Œæ³¨æ¶ˆæ¯æ—¥è€ƒé»ã€è‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±â€œå ±è­¦é–¥çµ„â€çš„ç¾å ´æª¢æŸ¥è¦æ±‚>ã€Œæ³¨æ¶ˆæ¯æ—¥è€ƒé»ã€è‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±â€œå ±è­¦é–¥çµ„â€çš„ç¾å ´æª¢æŸ¥è¦æ±‚</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2699be3e.html alt=æ–°ç‰ˆè‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±è¦ç¯„ï¼šç¬¬å…­ç« -å ±è­¦é–¥çµ„ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/15251639042140ad0c55a7b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2699be3e.html title=æ–°ç‰ˆè‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±è¦ç¯„ï¼šç¬¬å…­ç« -å ±è­¦é–¥çµ„>æ–°ç‰ˆè‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±è¦ç¯„ï¼šç¬¬å…­ç« -å ±è­¦é–¥çµ„</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0634c992.html alt=æ¶ˆé˜²è‡ªå‹•å™´æ·‹ç³¸çµ±çš„æº¼å¼å¼å ±è­¦é–¥çµ„çš„å·¥ä½œåŸç† class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/2f728f8c921f4740983ffec87a508565 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0634c992.html title=æ¶ˆé˜²è‡ªå‹•å™´æ·‹ç³¸çµ±çš„æº¼å¼å¼å ±è­¦é–¥çµ„çš„å·¥ä½œåŸç†>æ¶ˆé˜²è‡ªå‹•å™´æ·‹ç³¸çµ±çš„æº¼å¼å¼å ±è­¦é–¥çµ„çš„å·¥ä½œåŸç†</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/830c83f4.html alt=æº¼å¼å ±è­¦é–¥å½™ç¸½ï¼Œè‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±æœ€é‡è¦çš„éƒ¨ä»¶ï¼Œæ¶ˆé˜²å¿…æœƒçŸ¥è­˜ï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/526e34ac258043fe92a9f2f078ea5a6c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/830c83f4.html title=æº¼å¼å ±è­¦é–¥å½™ç¸½ï¼Œè‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±æœ€é‡è¦çš„éƒ¨ä»¶ï¼Œæ¶ˆé˜²å¿…æœƒçŸ¥è­˜ï¼>æº¼å¼å ±è­¦é–¥å½™ç¸½ï¼Œè‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±æœ€é‡è¦çš„éƒ¨ä»¶ï¼Œæ¶ˆé˜²å¿…æœƒçŸ¥è­˜ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c73c40a0.html alt=è‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±æº¼å¼å ±è­¦é–¥çµ„æˆåŠåŸç†åœ– class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9ba360b558964895b7024e2057d4d331 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c73c40a0.html title=è‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±æº¼å¼å ±è­¦é–¥çµ„æˆåŠåŸç†åœ–>è‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±æº¼å¼å ±è­¦é–¥çµ„æˆåŠåŸç†åœ–</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8caf26ac.html alt=è‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±ï¼ˆ8ï¼‰å ±è­¦é–¥çµ„çš„è¨­ç½® class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/616c3e2a-0421-408e-b7b3-e74d6bcf420f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8caf26ac.html title=è‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±ï¼ˆ8ï¼‰å ±è­¦é–¥çµ„çš„è¨­ç½®>è‡ªå‹•å™´æ°´æ»…ç«ç³»çµ±ï¼ˆ8ï¼‰å ±è­¦é–¥çµ„çš„è¨­ç½®</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a4446818.html alt=PLCè‡ªå‹•æ§åˆ¶ç³»çµ±çš„å¯é æ€§åˆ†æ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/d4269003-f30a-4f2d-8344-2d22662baa75 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a4446818.html title=PLCè‡ªå‹•æ§åˆ¶ç³»çµ±çš„å¯é æ€§åˆ†æ>PLCè‡ªå‹•æ§åˆ¶ç³»çµ±çš„å¯é æ€§åˆ†æ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f6e3ed1e.html alt=çƒé–¥å·¥ä½œå¯†å°è‡ªå‹•é€€å‡ºçš„æ•…éšœåˆ†æåŠæ”¹é€² class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5e8b000510040f13bd40 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f6e3ed1e.html title=çƒé–¥å·¥ä½œå¯†å°è‡ªå‹•é€€å‡ºçš„æ•…éšœåˆ†æåŠæ”¹é€²>çƒé–¥å·¥ä½œå¯†å°è‡ªå‹•é€€å‡ºçš„æ•…éšœåˆ†æåŠæ”¹é€²</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0d4103f5.html alt=æé«˜æ‰“æ¨æ•ˆç‡çš„åˆ©å™¨â€”â€”PLDè‡ªå‹•ææ¨å™¨æœå‹™æ–¼éæ´²å¤§åœ° class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/15368088647768a7f6f372d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0d4103f5.html title=æé«˜æ‰“æ¨æ•ˆç‡çš„åˆ©å™¨â€”â€”PLDè‡ªå‹•ææ¨å™¨æœå‹™æ–¼éæ´²å¤§åœ°>æé«˜æ‰“æ¨æ•ˆç‡çš„åˆ©å™¨â€”â€”PLDè‡ªå‹•ææ¨å™¨æœå‹™æ–¼éæ´²å¤§åœ°</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/628e440e.html alt=è“„ç†±å™¨è‡ªå‹•æ§åˆ¶æ–¹æ¡ˆ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/437300042faa0ca9c84f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/628e440e.html title=è“„ç†±å™¨è‡ªå‹•æ§åˆ¶æ–¹æ¡ˆ>è“„ç†±å™¨è‡ªå‹•æ§åˆ¶æ–¹æ¡ˆ</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>