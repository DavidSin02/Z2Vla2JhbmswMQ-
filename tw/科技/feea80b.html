<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>如何在微信中使用支付寶支付？ | 极客快訊</title><meta property="og:title" content="如何在微信中使用支付寶支付？ - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="http://p3.pstatp.com/large/pgc-image/RiAbKrC3dnP0vu"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/feea80b.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/feea80b.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/feea80b.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/feea80b.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/feea80b.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/feea80b.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/feea80b.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/feea80b.html><meta property="article:published_time" content="2020-10-29T20:48:28+08:00"><meta property="article:modified_time" content="2020-10-29T20:48:28+08:00"><meta name=Keywords content><meta name=description content="如何在微信中使用支付寶支付？"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/feea80b.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>如何在微信中使用支付寶支付？</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><blockquote class=pgc-blockquote-abstract toutiao-origin=blockquote><p>任何看似完全不合理的需求，對於客戶而言，必然存在他的合理性。產品經理要基於對產品的瞭解程度，去展開推理和想象。</p></blockquote><img alt=如何在微信中使用支付寶支付？ onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/RiAbKrC3dnP0vu><p>看到標題，也會你會認為這是一個笑話，但是很不幸的是，今天遇到了一個案例，由於一些不能說明白的原因，公司領導真的提了這個需求，至於具體原因後文會再細說。</p><p></p><h1 toutiao-origin=h2>01 需求說明</h1><p>領導要求把我們產品中所有用到的微信支付直接去掉，首先是APP裡屏蔽掉微信支付選項，去掉後，APP就只能使用支付寶支付。</p><img alt=如何在微信中使用支付寶支付？ onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/RxL5gds97Y3QQx><p>但是考慮到我們的產品通過微信公眾號宣傳效果一直不錯，如果去掉了微信支付，公眾號/小程序裡用戶場景就不能實現閉環了，但領導又不想放棄這塊大的蛋糕，於是提出了這個“大膽”的需求，希望以最低的成本看看還能保留多少的訂單，且儘量把微信上的用戶引導去下載APP。</p><p></p><h1 toutiao-origin=h2>02 方案探索</h1><p>首先我們有微信H5、微信小程序兩種產品形式，通過與技術大大們溝通，總結得到幾點思路：</p><p></p><h2 toutiao-origin=h3>1. 微信中直接打開支付寶是不可能的了</h2><p>現在大家看到的微信裡不能打開阿里一系列產品的頁面，其實最早起源於2013年底，是淘寶頁面首先屏蔽了微信來源的訪問。啊……這個問題也不宜多說，大家自行百度吧。</p><p>總之現在的結果就是，微信打開支付寶、淘寶等鏈接時，就會見到如下界面：</p><img alt=如何在微信中使用支付寶支付？ onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/RxL5geK11tjjlv><p></p><h2 toutiao-origin=h3>2. 只能通過一個微信可以打開的產品作中轉打開支付寶</h2><p>經過一輪頭腦風暴，大家想到了幾個似乎可行的方案：</p><img alt=如何在微信中使用支付寶支付？ onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/RxL5gej3Tyuei2><ul><li>微信瀏覽器中，點擊界面右上角，安卓用戶可以看到一個“在瀏覽器中打開”，蘋果手機用戶可以看到一個“在Safari中打開”的功能，可以將鏈接在系統默認的瀏覽器中打開。當我們的網站被微信屏蔽了，或者需要的某些功能微信裡面無法直接調用時，這是一種常用的離開微信環境的方法。</li></ul><img alt=如何在微信中使用支付寶支付？ onerror=errorimg.call(this); src=http://p9.pstatp.com/large/pgc-image/RxL5gfF9lwNPqJ><ul><li>微信官方給出了微信小程序喚起APP的方法</li></ul><blockquote><p>微信小程序開發文檔，從微信小程序中打開APP：</p><p>https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/launchApp.html</p></blockquote><p></p><h2 toutiao-origin=h3>3. 逐個方案驗證</h2><p><strong>第一個方案：通過應用商店作為跳板打開我們的APP</strong></p><p>經過與技術溝通和一頓百度，只有APP上架到了騰訊應用寶，然後用戶訪問應用寶對應的鏈接或二維碼時，微信會根據系統判斷，iOS自動打開蘋果的APP Store，安卓打開騰訊應用寶。</p><p>我們APP本來就上架了騰訊應用寶，這點可以接受，但是這就帶來二個額外的問題：安卓用戶不是都裝了騰訊應用寶；蘋果App Store和騰訊應用寶是否能接受我們的傳參，然後打開特定的頁面呢？</p><blockquote><p>騰訊應用寶的開發文檔，提供了一項功能叫做“Applink能力”：</p><p>微下載能力不僅能夠幫助開發者在微信等場景進行一鍵下載安裝，目前已支持直接拉起應用的指定內容頁，幫助開發者縮短內容觸達路徑，提升產品活躍和用戶體驗；</p><p>https://wiki.open.qq.com/index.php?title=mobile/%E5%BA%94%E7%94%A8%E5%AE%9D%E5%BE%AE%E4%B8%8B%E8%BD%BD#3.3_Applink.E8.83.BD.E5.8A.9B</p><p>但是該功能使用需要申請，不是公開的。</p></blockquote><p>首先，為了讓用戶能用支付寶支付，我們還得讓用戶裝上騰訊應用寶，還要去申請他們的內測功能……能這麼折騰我們為什麼不讓用戶直接微信支付呢真是的。所以讓我們去推廣他的應用寶，現行情況下自然是不可能的。</p><blockquote><p>在蘋果iOS9以上的系統中，蘋果提供了Universal Links功能，實現用戶若未安裝APP則跳到應用商店下載頁，否則直接喚起APP的功能。</p><p>蘋果對應開發文檔（英文）：</p><p>https://developer.apple.com/library/archive/documentation/General/Conceptual/AppSearch/UniversalLinks.html#//apple_ref/doc/uid/TP40016308-CH12-SW1</p><p>蘋果做這個功能的初衷就是為了讓大家APP間能愉快的互相跳轉，但不幸的是，微信對外屏蔽了該功能。</p></blockquote><p><strong>第二個方案：引導用戶首先用瀏覽器打開我們的頁面，我們再通過瀏覽器“為所欲為”。</strong></p><p>目前看來是最可行的，首先微信瀏覽器內提供了在瀏覽器中打開的功能，其次在瀏覽器中喚起支付寶，這個支付寶已經有現成的接口了，在瀏覽器中打開自家APP或打開應用市場引導用戶下載，這也是可以的。</p><p>但是有個用戶體驗不好的問題，根據支付寶的開發文檔，在iOS系統中，喚起支付寶App支付完成後，不會自動回到瀏覽器或商戶App。用戶可手工切回到瀏覽器或商戶App。</p><blockquote><p>在手機瀏覽器上使用支付寶支付開發文檔：</p><p>https://opendocs.alipay.com/open/203</p></blockquote><p><strong>第三個方案：微信小程序中直接喚起我方APP，再由我方APP喚起支付寶支付。</strong></p><p>這裡又有兩個問題，一個是用戶未必裝了我們的APP，另外一個就是微信小程序喚起我方APP是有限制的：</p><p>當小程序從 APP 分享消息卡片的場景打開或從 APP 打開的場景打開微信小程序時時，小程序會獲得打開 APP 的能力，此時用戶點擊按鈕可以打開分享該小程序卡片/拉起該小程序的 APP。即小程序不能打開任意 APP，只能“跳回”APP。</p><p>所以方案三也無法實現。但是結合方案二的思路，可以考慮在小程序中引導用戶複製鏈接，然後去瀏覽器中打開，然後進行後面的步驟。</p><blockquote><p>微信小程序開發文檔：</p><p>https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/launchApp.html</p></blockquote><p></p><h1 toutiao-origin=h2>03 方案設計</h1><p>通過對各種方案進行驗證後，我們決定了將用戶引導到瀏覽器，然後再進行下一步的流程。如果用戶回到微信的頁面裡，則自動檢查用戶是否已完成支付，然後再繼續後面的流程。</p><img alt=如何在微信中使用支付寶支付？ onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/RxL5hNC4ntfZp9><ol><li>用戶在微信瀏覽器內，支付方式選擇支付寶後，提示用戶選擇在瀏覽器中打開頁面；如果是微信小程序內，則只能用戶複製鏈接後自行去瀏覽器中粘貼打開。</li><li>在瀏覽器中檢查用戶是否已安裝APP，如果是則提示打開APP，否則直接喚起支付寶支付；</li><li>iOS系統下，支付寶支付完，可以回瀏覽器頁面或者回微信頁面，都會自動檢測支付結果，然後跳到對應的成功或者失敗頁面；安卓則支付寶支付完能跳回瀏覽器，然後提示可以下載APP查看更多內容（或其他的宣傳）。</li></ol><p>與技術及領導溝通後，第二點中，本來還想打開APP的，但是考慮到打開APP後還要再幫用戶打開支付寶支付，流程太長容易出錯，且用戶看著頁面不斷的切換甚至可能以為自己手機中毒了，所以就不檢測是否已安裝了APP。</p><p>至此，我們就完成了微信中進行支付寶支付的通路，尤其是在微信瀏覽器中，用戶只需要多點擊兩步：</p><p>點擊更多->用瀏覽器打開，然後就能解決問題，整體體驗習慣了還是可以的，只是誰會去習慣這玩意兒呀，所以我們還要配合微信公眾號、小程序大量宣傳，引導用戶去APP或支付寶生活號中進行購買，能享受一定優惠或參與活動抽獎等，逐漸引流。</p><p></p><h1 toutiao-origin=h2>04 補充方案</h1><p>我們之所以設計微信使用支付寶支付，其實還是捨不得微信的用戶量，但是每次都這麼折騰，用戶就可能在這樣折騰中流失了。所以我們還要考慮其他補充方案：</p><img alt=如何在微信中使用支付寶支付？ onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/RxL5hOCGoXKWD9><ul><li>錢包支付：允許用戶儲值付款，儲值可以享受一定優惠</li><li>銀行卡支付：與銀聯合作（我們只是說不用微信支付而已），實現綁卡支付</li><li>基於錢包、銀行卡支付實現進一步的小額免密支付：進一步為熟客降低支付的門檻，最大程度的留住用戶</li><li>其他：例如電子購物卡之類的，還有引入一些其他支付方式，如雲閃付、翼支付或別的</li></ul><p>通過對用戶支付方式的補充，其實只能很小程度的降低用戶的門檻，不過能留存住一部分老客戶，也算是挽回一些損失。</p><p></p><h2 toutiao-origin=h3>為什麼要去掉微信支付</h2><p>這時候如果你還在閱讀文章，那請仔細回憶一下那些觸手可及的APP：</p><img alt=如何在微信中使用支付寶支付？ onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/RxL5hOZ2ADKZW1><p>京東能用支付寶支付麼？</p><p>美團外賣能用支付寶支付麼？</p><p>為你手上的小米手環充嶺南通/羊城通時，小米運動APP支持支付寶支付麼？</p><p>拼多多APP上付款的時候，如果要用支付寶支付，得把摺疊展開……</p><p>當仔細回想一下，為什麼你接觸的APP都是隻支持微信支付呢，憑啥就不能支持支付寶支付呢是吧。</p><p>如果一家公司就是阿里控股或阿里承擔支付業務的，或者他們的支付業務由阿里控制下的公司負責的時候，只能用支付寶那是再正常不過了。</p><p>另外接到這個需求後，我們也調研了一些處境和自己類似的公司，同時找了幾家支付公司溝通，確實發現了有公司就是用類似的方案繼續在微信上宣傳自己的產品，所以才進一步踏實了我們這麼做的信心。所以，大家未來要是真有幸遇到了這種產品，請不要驚訝，這都是有原有的。</p><p>本文由 @iCheer 原創發佈於人人都是產品經理。未經許可，禁止轉載</p><p>題圖來自Unsplash，基於CC0協議</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>支付</a></li><li><a>微信</a></li><li><a>如何</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/01f6ae4.html alt=教您如何使用微信「附近的人」 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/97748c94-644a-4d56-95cd-507134d2dc59 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/01f6ae4.html title=教您如何使用微信「附近的人」>教您如何使用微信「附近的人」</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bbee85dc.html alt=掌上生活App還信用卡秒殺微信 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bbee85dc.html title=掌上生活App還信用卡秒殺微信>掌上生活App還信用卡秒殺微信</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bda6b3fd.html alt=如何做一個屬於自己的網站？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/f547dc1aea0847028c710039aab58386 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bda6b3fd.html title=如何做一個屬於自己的網站？>如何做一個屬於自己的網站？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5b58e1ad.html alt=網頁如何製作？這幾點要知道 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1f3b235c266644a69d1eef5e4baae955 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5b58e1ad.html title=網頁如何製作？這幾點要知道>網頁如何製作？這幾點要知道</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2a23a9bd.html alt="如何“讀懂'模擬電路圖？" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/9e82fdaee2dc459db363b02d94a2ed78 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2a23a9bd.html title="如何“讀懂'模擬電路圖？">如何“讀懂'模擬電路圖？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2ed242bb.html alt=牆厚如何識別 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2ed242bb.html title=牆厚如何識別>牆厚如何識別</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/eccb2e83.html alt=如何正確賣出股票 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/eccb2e83.html title=如何正確賣出股票>如何正確賣出股票</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/aad0ebdb.html alt=如何正確賣出股票？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/01a2a013-f9b1-4526-9ae1-116444959bf1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/aad0ebdb.html title=如何正確賣出股票？>如何正確賣出股票？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a1a7cced.html alt=如何自己就把主軸給修了 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/4240f87451ff48ce92db4c43732f0819 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a1a7cced.html title=如何自己就把主軸給修了>如何自己就把主軸給修了</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7b5beaea.html alt=鋼製文件櫃如何檢查好壞呢 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/b57b5acd6b81406d8aefd619a1e8424e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7b5beaea.html title=鋼製文件櫃如何檢查好壞呢>鋼製文件櫃如何檢查好壞呢</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/36d7a60b.html alt=在多地工作過，社保如何轉移？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/8093f6d2ecb141ec8ed813694f6b4e71 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/36d7a60b.html title=在多地工作過，社保如何轉移？>在多地工作過，社保如何轉移？</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/afcda8f6.html alt=如何判斷砂石的好壞 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/5fa5da0dbe64456aa44eca095062bdc7 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/afcda8f6.html title=如何判斷砂石的好壞>如何判斷砂石的好壞</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4915ffaa.html alt=如何判斷承重牆和非承重牆? class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/da5e2fb2f0134c559f4deceb56feddae style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4915ffaa.html title=如何判斷承重牆和非承重牆?>如何判斷承重牆和非承重牆?</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c4f1c37a.html alt=如何理解位置度 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1522905438382bf82a83d58 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c4f1c37a.html title=如何理解位置度>如何理解位置度</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/356476ce.html alt=如何理解位置度？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1522905438382bf82a83d58 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/356476ce.html title=如何理解位置度？>如何理解位置度？</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>