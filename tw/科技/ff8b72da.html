<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 | 极客快訊</title><meta property="og:title" content="從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/7527c8c63e214dfdbc6f2a8ef58f54c8"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ff8b72da.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ff8b72da.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ff8b72da.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ff8b72da.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ff8b72da.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ff8b72da.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e7%a7%91%e6%8a%80/ff8b72da.html><link rel=canonical href=https://geekbank.cf/tw/%e7%a7%91%e6%8a%80/ff8b72da.html><meta property="article:published_time" content="2020-11-14T21:00:29+08:00"><meta property="article:modified_time" content="2020-11-14T21:00:29+08:00"><meta name=Keywords content><meta name=description content="從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E7%A7%91%E6%8A%80/ff8b72da.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據</h1></header><date class="post-meta meta-date">2020-11-14</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E7%A7%91%E6%8A%80.html>科技</a></span></div><div class=post-content><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/7527c8c63e214dfdbc6f2a8ef58f54c8><p class=pgc-img-caption></p></div><p>作者| Alexey Ledenev</p><p>翻譯 | 天道酬勤，責編 | Carol</p><p>出品 | CSDN雲計算（ID：CSDNcloud）</p><p><br></p><p>隨著企業與各種雲提供商合作，多雲場景已經變得十分常見。</p><p><br></p><p>在谷歌Kubernetes引擎（GKE）上運行的應用程序需要訪問亞馬遜網絡服務（AWS）API時，這種情況也會出現。任何應用程序都有需求，也許它需要在AmazonRedshift上運行分析查詢，訪問存儲在Amazon S3存儲桶中的數據，使用Amazon Polly將文本轉換為語音或使用任何其他AWS服務。</p><p><br></p><p>跨雲訪問帶來了新挑戰：<strong>如何管理雲</strong><strong>憑據</strong><strong>。</strong>這是從一個雲提供商訪問另一個提供商運行的服務所必需解決的問題。如果用不成熟的方法來分發和保存雲提供商的機密是非常不安全的。<strong>將長期憑證分配給需要訪問AWS服務的每個服務管理起來具有挑戰性，並且存在潛在的安全風險。</strong></p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/a408ac2240d94017ab0fe084c450421d><p class=pgc-img-caption></p></div><p><strong>當前解決方案</strong></p><p><br></p><p>實際上，每個雲服務商都提供了自己獨特的解決方案來克服這一挑戰，和其中一個雲服務商合作就可以解決。</p><p><br></p><p>谷歌雲（Google Cloud）推出了<strong>Workload Identity</strong>，這是GKE應用程序認證和使用其他谷歌雲服務的推薦方式。<strong>Workload Identity</strong> 通過綁定Kubernetes服務帳戶和Cloud IAM服務帳戶來工作，因此你可以使用本地Kubernetes概念來定義哪些工作負載以哪些身份運行，並允許你的工作負載自動訪問其他谷歌雲服務，而無需管理Kubernetes祕密或IAM服務帳戶密鑰。</p><p><br></p><p>AWS通過“ IAM服務帳戶角色”功能支持類似的功能。使用Amazon EKS集群上服務帳戶的IAM角色，可以將IAM角色與Kubernetes服務帳戶關聯。然後該服務帳戶可以向使用該服務帳戶任何Pod中的容器提供AWS權限。<strong>使用此功能不再需要為工作節點IAM角色提供擴展權限，以便該節點上的Pod可以調用AWS API。</strong></p><p><br></p><p>但是，如果你在GKE集群上運行應用程序工作負載，並且希望在不影響安全性的情況下訪問AWS服務該怎麼辦？</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/82859ac1561749c5861c0e137a54e7e7><p class=pgc-img-caption></p></div><p><strong>定義一個使用案例</strong></p><p><br></p><p>假設你已經有一個AWS賬戶和一個GKE集群，並且你的公司已決定在GKE集群上運行基於微服務的應用程序，但仍想使用AWS賬戶中的資源（Amazon S3和SNS服務）與在AWS上部署的其他系統。</p><p><br></p><p>例如，在GKE集群中運行業務流程作業（部署為Kubernetes Job），需要將數據文件上傳到S3存儲桶中並向Amazon SNS主題發送消息。<strong>等效的命令行如下：</strong></p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ef84199c5a6147879880fafdbe7a2434><p class=pgc-img-caption></p></div><p><br></p><p>這是一個很簡單的例子。為了能使這些命令成功執行，業務流程作業必須具有可用的AWS憑證，並且這些憑證必須能夠進行相關的API調用。</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/16a5c181934a4c5cbd1899afff31f4ca><p class=pgc-img-caption></p></div><p><strong>不成熟的（非安全的）方法：IAM的長期憑據</strong></p><p><br></p><p>導出某些AWS IAM用戶的AWS訪問密鑰和保密密鑰，並將AWS憑證作為憑證文件或環境變量注入到業務流程作業中。<strong>可能不是直接執行此操作，而是使用RBAC授權策略保護的Kubernetes Secrets資源。</strong></p><p><br></p><p>這裡的風險是這些憑據永遠不會過期。必須將它們從AWS環境轉移到GCP環境，並且在大多數情況下，人們希望將它們存儲在某個位置，以便在以後需要時可用於重新創建業務流程作業。</p><p><br></p><p><strong>使用長期AWS憑證時，可以通過多種方式來破壞你的AWS賬戶。</strong>無意中將AWS憑證提交到GitHub存儲庫中、將其保存在Wiki系統中、針對不同的服務和應用程序重複使用憑證和允許無限制訪問等等。</p><p><br></p><p><strong>儘管可以為已發佈的IAM用戶憑據設計適當的憑據管理解決方案，但是如果你永遠不會一開始就創建這些長期憑據，則不需要此解決方案。</strong></p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/39ce5779561542bf86eb2a90f4378bfd><p class=pgc-img-caption></p></div><p><strong>作者提出的方法</strong></p><p><br></p><p>基本思想是將AWS IAM角色分配給GKE Pod，類似於針對服務帳戶雲特定功能的工作負載身份和EKS IAM角色。</p><p><br></p><p>對我們來說很幸運的是，<strong>AWS允許為開放ID連接聯盟（OpenID Connect Federation，OIDC）身份提供者而不是IAM用戶創建IAM角色。</strong>另一方面，谷歌實現了OIDC提供程序，並通過工作負載身份功能將其與GKE緊密集成。為GKE Pod提供有效的OIDC令牌，該令牌在鏈接到谷歌雲服務帳戶的Kubernetes服務帳戶下運行。<strong>所有這些都可以有助於實現GKE-to-AWS的安全訪問。</strong></p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/49f464d0a45c4684bc8aacd9c8dbcad4><p class=pgc-img-caption></p></div><p><strong>將OIDC訪問令牌轉換為ID令牌</strong></p><p><br></p><p>需要完成該方法還缺少一點東西。通過正確設置工作負載身份，GKE Pod會獲得OIDC訪問令牌，該令牌允許訪問谷歌雲服務。為了從AWS安全令牌服務（STS）獲取臨時AWS憑證，你需要提供有效的OIDC ID令牌。</p><p><br></p><p>正確設置以下環境變量後，AWS開發工具包（和aws-cli工具）將自動從STS服務請求臨時AWS憑證：</p><ul class=list-paddingleft-2><li>AWS_WEB_IDENTITY_TOKEN_FILE——Web身份令牌文件的路徑（OIDCID令牌）；</li><li>AWS_ROLE_ARN——Pod容器承擔的角色的ARN；</li><li>AWS_ROLE_SESSION_NAME——應用於此假定角色會話的名稱。</li></ul><p><br></p><p>聽起來可能有點複雜，但是作者將提供分步指南並支持開源項目dointl / gtoken來簡化該設置。</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/35906ed7af784e75aad4592436c1336b><p class=pgc-img-caption></p></div><p><strong>gtoken-webhook可變流</strong></p><p><br></p><p>gtoken-webhook將gtoken initContainer注入目標Pod和一個附加的gtoken sidekick容器（以在到期前刷新OIDC ID令牌），安裝令牌量並注入三個AWS特定的環境變量。gtoken容器會生成有效的GCP OIDC ID令牌，並將其寫入令牌卷。它還會注入必需的AWS環境變量。</p><p><br></p><p>AWS SDK將代表你自動對AWS STS進行相應的AssumeRoleWithWebIdentity調用。它將處理內存中的緩存以及根據需要刷新憑據。</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/57a652d8403a467bbca30da8ebb0fdfc><p class=pgc-img-caption></p></div><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/ac7afd55b3cd426f9482748d0424c4f8><p class=pgc-img-caption></p></div><p><strong>配置流程指南</strong></p><p><br></p><p><strong>1）部署gtoken-webhook</strong></p><p><br></p><p>要部署gtoken-webhook服務器，我們需要在Kubernetes集群中創建一個webhook服務和部署。這很簡單，只需配置服務器的TLS。如果你想檢查deploy.yaml文件，則會發現從命令行參數中讀取了證書和相應的私鑰文件，並且這些文件的路徑來自指向Kubernetes機密的卷安裝：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/6c3ce51d6d6d4e0f9e3240000677c040><p class=pgc-img-caption></p></div><p>要記住的最重要的事情是稍後在webhook配置中設置相應的CA證書，因此apiserver將知道應接受該證書。現在，我們將重用Istio團隊最初編寫的腳本來生成證書籤名請求。然後，我們會將請求發送到KubernetesAPI，獲取證書，然後從結果中創建所需的祕密。</p><p>首先，運行webhook-create-signed-cert.sh腳本，並檢查是否已創建包含證書和密鑰的機密：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/b83c571104544b65b98aeae002bffb74><p class=pgc-img-caption></p></div><p>一旦創建了祕密，我們就可以創建部署和服務。這些是標準的Kubernetes部署和服務資源。到目前為止，我們只生成了HTTP服務器，該服務器通過端口443上的服務接受請求：</p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/a79071772716428b9bb88475b7750508><p class=pgc-img-caption></p></div><p><strong>2）配置可變的webhook</strong></p><p><br></p><p>現在我們的webhook服務器正在運行，它可以接受來自apiserver的請求。但是，我們應該首先在Kubernetes中創建一些配置資源。讓我們從驗證webhook開始，然後再配置可變的webhook。如果查看一下webhook配置，你會注意到它包含CA_BUNDLE的佔位符：</p><p>有一個小的腳本用此CA替換配置中的CA_BUNDLE佔位符。在創建驗證webhook配置之前運行以下命令：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/da026bb048394b84bab0aba7e3e00649><p class=pgc-img-caption></p></div><p>創建一個可變的webhook配置：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/9f52dc87e0f84423b6d6ec107b70a2a8><p class=pgc-img-caption></p></div><p>3）為gtoken-webhook配置RBAC</p><p>創建與gtoken-webhook一起使用的Kubernetes服務帳戶：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/f1b948f33f794d22b5aa829a367ba3ee><p class=pgc-img-caption></p></div><p>定義webhook服務帳戶的RBAC權限：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/92ece436be634738af5e08ca11d8d880><p class=pgc-img-caption></p></div><p><strong>4）配置流程變量</strong></p><p><br></p><p>用戶應提供以下某些變量，其他變量將自動生成並在以下步驟中重複使用。</p><p><br></p><ul class=list-paddingleft-2><li>PROJECT_ID——GCP項目ID（由用戶提供）</li><li>CLUSTER_NAME——GKE群集名稱（由用戶提供）</li><li>GSA_NAME——谷歌雲帳戶名（由用戶提供）</li><li>GSA_ID——谷歌雲服務帳戶的唯一ID（由谷歌生成）</li><li>KSA_NAME——Kubernetes服務帳戶名（由用戶提供）</li><li>KSA_NAMESPACE——Kubernetes命名空間（由用戶提供）</li><li>AWS_ROLE_NAME——AWS IAM角色名稱（由用戶提供）</li><li>AWS_POLICY_NAME——分配給IAM角色的AWS IAM策略（由用戶提供）</li><li>AWS_ROLE_ARN——AWS IAM角色ARN標識符（由AWS生成）</li></ul><p><br></p><p><strong>5）谷歌雲：啟用GKE工作負載身份</strong></p><p><br></p><p>創建一個啟用了工作負載標識的新GKE集群：</p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/baf63c77737b4cc9844438141c717faf><p class=pgc-img-caption></p></div><p>或更新現有集群：</p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b4a2c02dbc044f35ad93477d45c23f0f><p class=pgc-img-caption></p></div><p><strong>6）谷歌雲：創建一個谷歌雲服務賬戶</strong></p><p>創建一個谷歌雲服務帳戶：</p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/79ea980991f94228bd56465334609953><p class=pgc-img-caption></p></div><p>使用以下角色更新GSA_NAME谷歌服務帳戶：</p><ul class=list-paddingleft-2><li>role / iam.workloadIdentityUser——模擬來自GKE 工作負載的服務帳戶</li><li>role / iam.serviceAccountTokenCreator——模擬服務帳戶以創建OAuth2訪問令牌，簽署Blob或簽署JWT令牌</li></ul><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/f1678aba29874c089ea8d28cccf0fd78><p class=pgc-img-caption></p></div><p>7）AWS：使用谷歌OIDC聯盟創建AWSIAM角色</p><p>為谷歌 OIDC提供者準備角色信任策略文檔：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/2e5c2a32efca417d9029216b5ee17f33><p class=pgc-img-caption></p></div><p>使用谷歌網絡身份創建AWSIAM角色：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7abf103df46a4e17879f6cf20e913983><p class=pgc-img-caption></p></div><p>分配所需的AWS角色策略：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/d52752dbf9b0455a838c08269a85a8fb><p class=pgc-img-caption></p></div><p>獲取要在K8s SA註釋中使用的AWS Role ARN：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/468704d027964babbcc478a8d9716f1f><p class=pgc-img-caption></p></div><p><strong>8）GKE：創建一個Kubernetes服務帳戶</strong></p><p><br></p><p>創建K8s命名空間：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7c1a6dd9a5894cca8b20e53d084c2b25><p class=pgc-img-caption></p></div><p>創建K8s服務帳戶：</p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/b81d5380f12d45fcae220d18e2ef6328><p class=pgc-img-caption></p></div><p>使用GKE工作負載身份（GCP服務帳戶電子郵件）註釋K8s服務帳戶：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/4b1d398e40ac4701ace9f8216c1a96a3><p class=pgc-img-caption></p></div><p>使用AWS Role ARN註釋K8s服務帳戶：</p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p9.pstatp.com/large/pgc-image/c2afab57b46a47fc98b1c61c8aaf9b38><p class=pgc-img-caption></p></div><p><strong>9）運行一個演示樣例</strong></p><p>使用K8s ${KSA_NAME}服務帳戶運行新的K8s Pod：</p><p><br></p><div class=pgc-img><img alt=從Kubernetes安全訪問AWS服務，多雲場景下如何管理雲憑據 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/7529186c684746e4ad86479a6985c451><p class=pgc-img-caption></p></div><p>好啦，希望這篇文章對你有用，如果你對此有意見和任何問題，歡迎在評論區和我們交流。</p><p><br></p><p>參考文獻</p><p>l GitHub: Securely access AWS services from GKE cluster with doitintl/gtoken</p><p>l AWS Docs: Creating aRole for Web Identity or OpenID Connect Federation</p><p>l Blog: Kubernetes GKE Workload Identity link</p><p>l AWS Blog: Introducing fine-grained IAM roles for service accounts link</p><p>l GitHub: AWS Auth using Web IdentityFederation from Google Cloud shrikant0013/gcp-aws-webidentityfederation GitHubproject</p><p>l Blog: Using GCP Service Accounts to access AWS IAM Roles blog post byColin Panisset</p><p></p><p>原文：https://hackernoon.com/access-aws-services-from-google-kubernetes-engine-securely-a-how-to-guide-x8an3b5y</p><p>本文為 CSDN 雲計算翻譯，轉載請經授權。</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Kubernetes</a></li><li><a>訪問</a></li><li><a>AWS</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/e46b4ccb.html alt=Npm程序漏洞曝光，允許黑客訪問用戶文件 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/07a4bc313620451d9ca8d505a893206f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e46b4ccb.html title=Npm程序漏洞曝光，允許黑客訪問用戶文件>Npm程序漏洞曝光，允許黑客訪問用戶文件</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/76de484d.html alt=訪問美國航空材料和鍛件生產公司記實及點滴感想 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/ff4f21acbc444e9bbbaf237b2c7dab89 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/76de484d.html title=訪問美國航空材料和鍛件生產公司記實及點滴感想>訪問美國航空材料和鍛件生產公司記實及點滴感想</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c54baff1.html alt=Windows訪問令牌竊取攻防技術研究 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/21e6fbbee849410aaee7391add369084 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c54baff1.html title=Windows訪問令牌竊取攻防技術研究>Windows訪問令牌竊取攻防技術研究</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/37f6c6e3.html alt="使用 Refit 框架訪問 REST 接口" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/5ec2341f607b4b9e86391a5b41edd175 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/37f6c6e3.html title="使用 Refit 框架訪問 REST 接口">使用 Refit 框架訪問 REST 接口</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/989ea117.html alt=管理API訪問令牌的安全最佳實踐 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/288f721723b1489c81d62de6aa6cfd33 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/989ea117.html title=管理API訪問令牌的安全最佳實踐>管理API訪問令牌的安全最佳實踐</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2b3d1e19.html alt=關於JDBC訪問數據庫，學JAVA的都來看看吧！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/436e0002836d89f78c59 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2b3d1e19.html title=關於JDBC訪問數據庫，學JAVA的都來看看吧！>關於JDBC訪問數據庫，學JAVA的都來看看吧！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f75421fa.html alt="訪問 2020廣州汽車用品展覽會 展會新聞" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/a1b77359c18244fba14c2b30b7272b29 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f75421fa.html title="訪問 2020廣州汽車用品展覽會 展會新聞">訪問 2020廣州汽車用品展覽會 展會新聞</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/3ec86da1.html alt="Kubernetes 之 Nginx 動靜態 PV 持久存儲 下篇" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e3c3401f319c433f96f72c092a33c83d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/3ec86da1.html title="Kubernetes 之 Nginx 動靜態 PV 持久存儲 下篇">Kubernetes 之 Nginx 動靜態 PV 持久存儲 下篇</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/881a5beb.html alt=Kubernetes共享存儲之Glusterfs+Heketi class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/99fae0316a954b669b420bf79dd56645 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/881a5beb.html title=Kubernetes共享存儲之Glusterfs+Heketi>Kubernetes共享存儲之Glusterfs+Heketi</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/031959cd.html alt=Kubernetes中的存儲資源使用為何如此之難？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/7a4168bdd3bc41359cef01fb4fe3792d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/031959cd.html title=Kubernetes中的存儲資源使用為何如此之難？>Kubernetes中的存儲資源使用為何如此之難？</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/5f5d08d3.html alt=基於AWS構建SAP系統：科倫藥業的數字化醫療實踐 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/61996ea915a348089887cefe92be917c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/5f5d08d3.html title=基於AWS構建SAP系統：科倫藥業的數字化醫療實踐>基於AWS構建SAP系統：科倫藥業的數字化醫療實踐</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/c8bf78de.html alt="國是訪問 | 中國平安總經理謝永林：在這個特殊之地，我們沒理由停步" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/b6cec7f9a1784a25bcd56c21958478a4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/c8bf78de.html title="國是訪問 | 中國平安總經理謝永林：在這個特殊之地，我們沒理由停步">國是訪問 | 中國平安總經理謝永林：在這個特殊之地，我們沒理由停步</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/808d08df.html alt=jquery訪問json文件中的數據 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1537273569736739b54a17f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/808d08df.html title=jquery訪問json文件中的數據>jquery訪問json文件中的數據</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c4007f5c.html alt=基於芯片仿真器的程序訪問權限配置方案 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RfcQ7YoHQMBFqo style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c4007f5c.html title=基於芯片仿真器的程序訪問權限配置方案>基於芯片仿真器的程序訪問權限配置方案</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/61029fb0.html alt=計算機是如何訪問一個網頁的？vlan間如何實現通信？ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a71aca8f6f2a4c6280b82d47a2a48532 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/61029fb0.html title=計算機是如何訪問一個網頁的？vlan間如何實現通信？>計算機是如何訪問一個網頁的？vlan間如何實現通信？</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>