<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>Pythonä¸­çš„éºå‚³ç®—æ³•å®Œæ•´å¯¦ç¾ | æå®¢å¿«è¨Š</title><meta property="og:title" content="Pythonä¸­çš„éºå‚³ç®—æ³•å®Œæ•´å¯¦ç¾ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="http://p1.pstatp.com/large/pgc-image/1531731137721602bd9c18c"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/1c10283.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/1c10283.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/1c10283.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/1c10283.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/1c10283.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/1c10283.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/1c10283.html><link rel=canonical href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/1c10283.html><meta property="article:published_time" content="2020-10-29T20:46:33+08:00"><meta property="article:modified_time" content="2020-10-29T20:46:33+08:00"><meta name=Keywords content><meta name=description content="Pythonä¸­çš„éºå‚³ç®—æ³•å®Œæ•´å¯¦ç¾"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E9%81%8A%E6%88%B2/1c10283.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>Pythonä¸­çš„éºå‚³ç®—æ³•å®Œæ•´å¯¦ç¾</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E9%81%8A%E6%88%B2.html>éŠæˆ²</a></span></div><div class=post-content><div><p>æœ¬æ•™ç¨‹å°‡åŸºæ–¼ä¸€å€‹ç°¡å–®çš„ç¤ºä¾‹åœ¨Pythonä¸­å¯¦ç¾éºå‚³ç®—æ³•å„ªåŒ–æŠ€è¡“ï¼Œåœ¨é€™å€‹ç¤ºä¾‹ä¸­ï¼Œæˆ‘å€‘è©¦åœ–æœ€å¤§åŒ–ä¸€å€‹æ–¹ç¨‹çš„è¼¸å‡ºã€‚æœ¬æ•™ç¨‹ä½¿ç”¨åé€²åˆ¶è¡¨ç¤ºçš„åŸºå› ï¼Œå–®é»äº¤å‰ï¼Œå’Œå‡å‹»è®Šç•°ã€‚</p><div class=pgc-img><img alt=Pythonä¸­çš„éºå‚³ç®—æ³•å®Œæ•´å¯¦ç¾ onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/1531731137721602bd9c18c><p class=pgc-img-caption></p></div><h1>éºå‚³ç®—æ³•æ¦‚è¿°</h1><p>éºå‚³ç®—æ³•ï¼ˆGAï¼‰çš„æµç¨‹åœ–å¦‚åœ–1æ‰€ç¤ºã€‚éºå‚³ç®—æ³•ä¸­æ¶‰åŠçš„æ¯å€‹æ­¥é©Ÿéƒ½æœ‰ä¸€äº›è®ŠåŒ–ã€‚</p><div class=pgc-img><img alt=Pythonä¸­çš„éºå‚³ç®—æ³•å®Œæ•´å¯¦ç¾ onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/1531731168330b5dc664bad><p class=pgc-img-caption>åœ–1.éºå‚³ç®—æ³•æµç¨‹åœ–</p></div><p>ä¾‹å¦‚ï¼ŒåŸºå› çš„è¡¨ç¤ºæœ‰ä¸åŒé¡å‹ï¼Œä¾‹å¦‚äºŒé€²åˆ¶ï¼Œåé€²åˆ¶ï¼Œæ•´æ•¸ç­‰ã€‚æ¯ç¨®é¡å‹éƒ½æœ‰ä¸åŒçš„å°å¾…ã€‚å­˜åœ¨ä¸åŒé¡å‹çš„çªè®Šï¼Œä¾‹å¦‚ä½ç¿»è½‰ï¼Œäº¤æ›ï¼Œåè½‰ï¼Œå‡å‹»ï¼Œéå‡å‹»ï¼Œé«˜æ–¯ï¼Œæ”¶ç¸®ç­‰ã€‚æ­¤å¤–ï¼Œäº¤å‰å…·æœ‰ä¸åŒçš„é¡å‹ï¼Œä¾‹å¦‚æ··åˆï¼Œå–®é»ï¼Œå…©é»ï¼Œå‡å‹»ç­‰ã€‚æœ¬æ•™ç¨‹ä¸æœƒå¯¦ç¾æ‰€æœ‰é€™äº›ï¼Œåªæ˜¯å¯¦ç¾äº†GAä¸­æ¶‰åŠçš„æ¯å€‹æ­¥é©Ÿçš„ä¸€ç¨®é¡å‹ã€‚æœ¬æ•™ç¨‹ä½¿ç”¨åŸºå› çš„åé€²åˆ¶è¡¨ç¤ºï¼Œå–®é»äº¤å‰å’Œå‡å‹»è®Šç•°ã€‚</p><h1>ç¤ºä¾‹</h1><p>æœ¬æ•™ç¨‹é¦–å…ˆä»‹ç´¹æˆ‘å€‘å°‡è¦å¯¦ç¾çš„ç­‰å¼ã€‚ç­‰å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>Y = w1x1 + w2x2 + w3x3 + w4x4 + w5x5 + w6x6</p><p>è©²æ–¹ç¨‹æœ‰6å€‹è¼¸å…¥ï¼ˆx1åˆ°x6ï¼‰å’Œ6å€‹æ¬Šé‡ï¼ˆw1åˆ°w6ï¼‰ï¼Œå¦‚åœ–æ‰€ç¤ºï¼Œè¼¸å…¥å€¼ç‚ºï¼ˆx1ï¼Œx2ï¼Œx3ï¼Œx4ï¼Œx5ï¼Œx6ï¼‰=ï¼ˆ4ï¼Œ-2,7,5,11ï¼Œ 1ï¼‰ã€‚æˆ‘å€‘æ­£åœ¨å°‹æ‰¾æœ€å¤§åŒ–é€™ç¨®æ–¹ç¨‹çš„åƒæ•¸ï¼ˆæ¬Šé‡ï¼‰ã€‚æœ€å¤§åŒ–é€™ç¨®æ–¹ç¨‹çš„æƒ³æ³•ä¼¼ä¹å¾ˆç°¡å–®ã€‚æ­£è¼¸å…¥ä¹˜ä»¥æœ€å¤§å¯èƒ½çš„æ­£æ•¸ï¼Œè² æ•¸ä¹˜ä»¥æœ€å°å¯èƒ½çš„è² æ•¸ã€‚ä½†æˆ‘å€‘å¸Œæœ›å¯¦ç¾çš„æƒ³æ³•æ˜¯å¦‚ä½•è®“GAåšåˆ°é€™ä¸€é»ï¼Œä»¥ä¾¿çŸ¥é“ä½¿ç”¨æ­£è¼¸å…¥å’Œè² è¼¸å…¥çš„è² æ¬Šé‡æ›´å¥½ã€‚è®“æˆ‘å€‘é–‹å§‹å¯¦æ–½GAã€‚</p><p>é¦–å…ˆï¼Œè®“æˆ‘å€‘å‰µå»ºä¸€å€‹åŒ…å«6å€‹è¼¸å…¥çš„åˆ—è¡¨å’Œä¸€å€‹ç”¨æ–¼ä¿å­˜æ¬Šé‡æ•¸é‡çš„è®Šé‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote><p># Inputs of the equation.</p><p>equation_inputs = [4,-2,3.5,5,-11,-4.7]</p><p># Number of the weights we are looking to optimize.</p><p>num_weights = 6</p></blockquote><p>ä¸‹ä¸€æ­¥æ˜¯å®šç¾©åˆå§‹ç¸½é«”ã€‚æ ¹æ“šæ¬Šé‡çš„æ•¸é‡ï¼Œæ¯å€‹æŸ“è‰²é«”(æº¶æ¶²æˆ–å€‹é«”)è‚¯å®šæœ‰6å€‹åŸºå› ï¼Œæ¯å€‹æ¬Šé‡å°æ‡‰ä¸€å€‹åŸºå› ã€‚ä½†æ˜¯å•é¡Œæ˜¯æ¯å€‹ç¾¤é«”æœ‰å¤šå°‘å€‹è§£æ±ºæ–¹æ¡ˆ?æ²’æœ‰å›ºå®šçš„å€¼ï¼Œæˆ‘å€‘å¯ä»¥é¸æ“‡é©åˆæˆ‘å€‘å•é¡Œçš„å€¼ã€‚ä½†æ˜¯æˆ‘å€‘å¯ä»¥ä¿ç•™å®ƒçš„é€šç”¨æ€§ï¼Œä»¥ä¾¿åœ¨ä»£ç¢¼ä¸­ä¿®æ”¹å®ƒã€‚æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘å‰µå»ºä¸€å€‹è®Šé‡ä¾†è¡¨ç¤ºæ¯å€‹ç¾¤é«”çš„è§£æ±ºæ–¹æ¡ˆæ•¸é‡ï¼Œå¦ä¸€å€‹è®Šé‡ä¾†è¡¨ç¤ºç¾¤é«”çš„å¤§å°ï¼Œæœ€å¾Œï¼Œä¸€å€‹è®Šé‡ä¾†è¡¨ç¤ºå¯¦éš›çš„åˆå§‹ç¾¤é«”æ•¸é‡:</p><blockquote><p>import numpy</p><p>sol_per_pop = 8</p><p># Defining the population size.</p><p>pop_size = (sol_per_pop,num_weights) # The population will have sol_per_pop chromosome where each chromosome has num_weights genes.</p><p>#Creating the initial population.</p><p>new_population = numpy.random.uniform(low=-4.0, high=4.0, size=pop_size)</p></blockquote><p>å°å…¥numpyåº«å¾Œï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨numpy.random.uniformå‡½æ•¸éš¨æ©Ÿå‰µå»ºåˆå§‹ç¨®ç¾¤ã€‚æ ¹æ“šæ‰€é¸åƒæ•¸ï¼Œå®ƒå°‡å…·æœ‰å½¢ç‹€ï¼ˆ8,6ï¼‰ã€‚é€™æ˜¯8æ¢æŸ“è‰²é«”ï¼Œæ¯æ¢æŸ“è‰²é«”æœ‰6å€‹åŸºå› ï¼Œæ¯å€‹æ¬Šé‡ä¸€å€‹ã€‚é‹è¡Œæ­¤ä»£ç¢¼å¾Œï¼Œç¾¤é«”å¦‚ä¸‹ï¼š</p><blockquote><p>[[-2.19134006 -2.88907857 2.02365737 -3.97346034 3.45160502 2.05773249]</p><p>[ 2.12480298 2.97122243 3.60375452 3.78571392 0.28776565 3.5170347 ]</p><p>[ 1.81098962 0.35130155 1.03049548 -0.33163294 3.52586421 2.53845644]</p><p>[-0.63698911 -2.8638447 2.93392615 -1.40103767 -1.20313655 0.30567304]</p><p>[-1.48998583 -1.53845766 1.11905299 -3.67541087 1.33225142 2.86073836]</p><p>[ 1.14159503 2.88160332 1.74877772 -3.45854293 0.96125878 2.99178241]</p><p>[ 1.96561297 0.51030292 0.52852716 -1.56909315 -2.35855588 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -0.72163167 0.7516408 0.00677938]]</p></blockquote><p>è«‹æ³¨æ„ï¼Œå®ƒæ˜¯éš¨æ©Ÿç”Ÿæˆçš„ï¼Œå› æ­¤åœ¨å†æ¬¡é‹è¡Œæ™‚è‚¯å®šæœƒç™¼ç”Ÿè®ŠåŒ–ã€‚</p><p>åœ¨æº–å‚™ç¾¤é«”ä¹‹å¾Œï¼Œæ¥ä¸‹ä¾†å°‡éµå¾ªåœ–1ä¸­çš„æµç¨‹åœ–ã€‚åŸºæ–¼é©æ‡‰åº¦å‡½æ•¸ï¼Œæˆ‘å€‘å°‡é¸æ“‡ç•¶å‰ç¾¤é«”ä¸­çš„æœ€ä½³å€‹é«”ä½œç‚ºäº¤é…çš„çˆ¶æ¯ã€‚æ¥ä¸‹ä¾†æ˜¯æ‡‰ç”¨GAè®Šé«”ï¼ˆäº¤å‰å’Œè®Šç•°ï¼‰ä¾†ç”¢ç”Ÿä¸‹ä¸€ä»£çš„å¾Œä»£ï¼Œé€šéé™„åŠ çˆ¶æ¯å’Œå¾Œä»£ä¾†å‰µå»ºæ–°çš„ç¾¤é«”ï¼Œä¸¦ä¸”é‡è¤‡é€™äº›æ­¥é©Ÿé€²è¡Œå¤šæ¬¡è¿­ä»£/ç”Ÿæˆã€‚ä¸‹ä¸€å€‹Pythonä»£ç¢¼æ‡‰ç”¨ä»¥ä¸‹æ­¥é©Ÿï¼š</p><blockquote><p>import GA</p><p>num_generations = 5</p><p>num_parents_mating = 4</p><p>for generation in range(num_generations):</p><p># Measuring the fitness of each chromosome in the population.</p><p>fitness = GA.cal_pop_fitness(equation_inputs, new_population)</p><p># Selecting the best parents in the population for mating.</p><p>parents = GA.select_mating_pool(new_population, fitness,</p><p>num_parents_mating)</p><p># Generating next generation using crossover.</p><p>offspring_crossover = GA.crossover(parents,</p><p>offspring_size=(pop_size[0]-parents.shape[0], num_weights))</p><p># Adding some variations to the offsrping using mutation.</p><p>offspring_mutation = GA.mutation(offspring_crossover)</p><p># Creating the new population based on the parents and offspring.</p><p>new_population[0:parents.shape[0], :] = parents</p><p>new_population[parents.shape[0]:, :] = offspring_mutation</p></blockquote><p>ç¾åœ¨çš„ä»£æ•¸æ˜¯5ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œå®ƒè¢«é¸ç‚ºå°ä»¥é¡¯ç¤ºæ‰€æœ‰ä»£çš„çµæœã€‚</p><p>ç¬¬ä¸€æ­¥æ˜¯ä½¿ç”¨GAæ±‚ç¸½é«”ä¸­çš„æ¯å€‹è§£çš„é©æ‡‰åº¦å€¼ã€‚cal_pop_fitnesså‡½æ•¸ã€‚è©²å‡½æ•¸åœ¨GAæ¨¡å¡Šå…§çš„å¯¦ç¾å¦‚ä¸‹:</p><blockquote><p>def cal_pop_fitness(equation_inputs, pop):</p><p># Calculating the fitness value of each solution in the current population.</p><p># The fitness function calculates the sum of products between each input and its corresponding weight.</p><p>fitness = numpy.sum(pop*equation_inputs, axis=1)</p><p>return fitness</p></blockquote><p>é™¤äº†ç¸½é«”ä¹‹å¤–ï¼Œé©æ‡‰åº¦å‡½æ•¸é‚„æ¥å—æ–¹ç¨‹è¼¸å…¥å€¼ï¼ˆx1åˆ°x6ï¼‰ã€‚æ ¹æ“šæˆ‘å€‘çš„å‡½æ•¸ï¼Œå°‡é©æ‡‰åº¦å€¼è¨ˆç®—ç‚ºæ¯å€‹è¼¸å…¥èˆ‡å…¶å°æ‡‰åŸºå› ï¼ˆæ¬Šé‡ï¼‰ä¹‹é–“çš„ä¹˜ç©ï¼ˆSOPï¼‰ä¹‹å’Œã€‚æ ¹æ“šæ¯å€‹ç¾¤é«”çš„è§£æ±ºæ–¹æ¡ˆæ•¸é‡ï¼Œå°‡æœ‰ä¸€äº›SOPã€‚æ­£å¦‚æˆ‘å€‘ä¹‹å‰åœ¨è®Šé‡å‘½åsol_per_popä¸­å°‡è§£æ±ºæ–¹æ¡ˆçš„æ•¸é‡è¨­ç½®ç‚º8 ï¼Œå°‡æœ‰8å€‹SOPï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote><p>[-63.41070188 14.40299221 -42.22532674 18.24112489 -45.44363278 -37.00404311 15.99527402 17.0688537 ]</p></blockquote><p>æ³¨æ„ï¼Œé©æ‡‰åº¦å€¼è¶Šé«˜ï¼Œè§£æ±ºæ–¹æ¡ˆå°±è¶Šå¥½ã€‚</p><p>åœ¨è¨ˆç®—æ‰€æœ‰è§£æ±ºæ–¹æ¡ˆçš„é©æ‡‰åº¦å€¼ä¹‹å¾Œï¼Œä¸‹ä¸€æ­¥æ˜¯æ ¹æ“šä¸‹ä¸€å€‹å‡½æ•¸GA.select_mating_poolï¼Œåœ¨åŒ¹é…æ± ä¸­é¸æ“‡å…¶ä¸­æœ€å¥½çš„ä½œç‚ºçˆ¶é¡ã€‚è©²å‡½æ•¸æ¥å—ç¾¤é«”ã€é©åˆåº¦å€¼å’Œæ‰€éœ€çš„çˆ¶æ¯æ•¸é‡ã€‚å®ƒè¿”å›æ‰€é¸çš„çˆ¶é¡ã€‚å…¶åœ¨GAæ¨¡å¡Šå…§çš„å¯¦ç¾å¦‚ä¸‹:</p><blockquote><p>def select_mating_pool(pop, fitness, num_parents):</p><p># Selecting the best individuals in the current generation as parents for producing the offspring of the next generation.</p><p>parents = numpy.empty((num_parents, pop.shape[1]))</p><p>for parent_num in range(num_parents):</p><p>max_fitness_idx = numpy.where(fitness == numpy.max(fitness))</p><p>max_fitness_idx = max_fitness_idx[0][0]</p><p>parents[parent_num, :] = pop[max_fitness_idx, :]</p><p>fitness[max_fitness_idx] = -99999999999</p><p>return parents</p></blockquote><p>æ ¹æ“šè®Šé‡num_parents_matchä¸­å®šç¾©çš„çˆ¶é¡çš„æ•¸é‡ï¼Œè©²å‡½æ•¸å‰µå»ºä¸€å€‹ç©ºæ•¸çµ„ä¾†ä¿å­˜å®ƒå€‘ï¼Œå°±åƒåœ¨é€™ä¸€è¡Œä¸­ä¸€æ¨£:</p><blockquote><p>parents = numpy.emptyï¼ˆï¼ˆnum_parentsï¼Œpop.shape [1]ï¼‰ï¼‰</p></blockquote><p>å¾ªç’°éæ­·ç•¶å‰ç¾¤é«”ï¼Œè©²å‡½æ•¸ç²å¾—æœ€é«˜é©æ‡‰åº¦å€¼çš„ç´¢å¼•ï¼Œå› ç‚ºå®ƒæ˜¯æ ¹æ“šæ­¤è¡Œé¸æ“‡çš„æœ€ä½³è§£æ±ºæ–¹æ¡ˆï¼š</p><blockquote><p>max_fitness_idx = numpy.whereï¼ˆfitness == numpy.maxï¼ˆfitnessï¼‰ï¼‰</p></blockquote><p>æ­¤ç´¢å¼•ç”¨æ–¼ä½¿ç”¨ä»¥ä¸‹è¡Œæª¢ç´¢èˆ‡æ­¤é©åˆåº¦å€¼å°æ‡‰çš„è§£æ±ºæ–¹æ¡ˆï¼š</p><blockquote><p>parent [parent_numï¼Œï¼š] = pop [max_fitness_idxï¼Œï¼š]</p></blockquote><p>ç‚ºäº†é¿å…å†æ¬¡é¸æ“‡é€™ç¨®è§£æ±ºæ–¹æ¡ˆï¼Œå®ƒçš„é©æ‡‰åº¦å€¼è¢«è¨­ç½®ç‚ºä¸€å€‹éå¸¸å°çš„å€¼ï¼Œé€™å€‹å€¼å¾ˆå¯èƒ½ä¸æœƒè¢«å†æ¬¡é¸ä¸­ï¼Œå³- 99999999999999999ã€‚æœ€å¾Œè¿”å›çˆ¶æ•¸çµ„ï¼Œæ ¹æ“šæˆ‘å€‘çš„ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤º:</p><blockquote><p>[[-0.63698911 -2.8638447 2.93392615 -1.40103767 -1.20313655 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -0.72163167 0.7516408 0.00677938]</p><p>[ 1.96561297 0.51030292 0.52852716 -1.56909315 -2.35855588 2.29682254]</p><p>[ 2.12480298 2.97122243 3.60375452 3.78571392 0.28776565 3.5170347 ]]</p></blockquote><p>æ³¨æ„ï¼Œé€™ä¸‰å€‹çˆ¶é¡æ˜¯ç•¶å‰ç¾¤é«”ä¸­æœ€å¥½çš„å€‹é«”ï¼ŒåŸºæ–¼ä»–å€‘çš„é©åˆåº¦å€¼åˆ†åˆ¥ç‚º18.24112489,17.0688537,15.99527402å’Œ14.40299221ã€‚</p><p>ä¸‹ä¸€æ­¥æ˜¯ä½¿ç”¨é€™æ¨£é¸æ“‡çš„è¦ªæœ¬é€²è¡Œäº¤é…ä»¥ç”¢ç”Ÿå¾Œä»£ã€‚æ ¹æ“šåŠŸèƒ½ï¼Œäº¤é…å¾äº¤å‰æ“ä½œé–‹å§‹GA.crossoverã€‚æ­¤å‡½æ•¸æ¥å—çˆ¶æ¯å’Œå¾Œä»£çš„å¤§å°ã€‚å®ƒä½¿ç”¨å¾Œä»£å¤§å°ä¾†äº†è§£å¾é€™äº›çˆ¶æ¯é‚£è£¡ç”Ÿç”¢çš„å¾Œä»£çš„æ•¸é‡ã€‚é€™æ¨£çš„åŠŸèƒ½åœ¨GAæ¨¡å¡Šå…§éƒ¨å¯¦ç¾å¦‚ä¸‹ï¼š</p><blockquote><p>def crossover(parents, offspring_size):</p><p>offspring = numpy.empty(offspring_size)</p><p># The point at which crossover takes place between two parents. Usually, it is at the center.</p><p>crossover_point = numpy.uint8(offspring_size[1]/2)</p><p>for k in range(offspring_size[0]):</p><p># Index of the first parent to mate.</p><p>parent1_idx = k%parents.shape[0]</p><p># Index of the second parent to mate.</p><p>parent2_idx = (k+1)%parents.shape[0]</p><p># The new offspring will have its first half of its genes taken from the first parent.</p><p>offspring[k, 0:crossover_point] = parents[parent1_idx, 0:crossover_point]</p><p># The new offspring will have its second half of its genes taken from the second parent.</p><p>offspring[k, crossover_point:] = parents[parent2_idx, crossover_point:]</p><p>return offspring</p></blockquote><p>è©²å‡½æ•¸é¦–å…ˆæ ¹æ“šå¾Œä»£å¤§å°å‰µå»ºä¸€å€‹ç©ºæ•¸çµ„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote><p>offspring = numpy.emptyï¼ˆoffspring_sizeï¼‰</p></blockquote><p>å› ç‚ºæˆ‘å€‘ä½¿ç”¨å–®é»äº¤å‰ï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦æŒ‡å®šäº¤å‰ç™¼ç”Ÿçš„é»ã€‚é¸æ“‡è©²é»ä»¥æ ¹æ“šæ­¤è¡Œå°‡è§£æ±ºæ–¹æ¡ˆåŠƒåˆ†ç‚ºå…©å€‹ç›¸ç­‰çš„ä¸€åŠï¼š</p><blockquote><p>crossover_point = numpy.uint8ï¼ˆoffspring_size [1] / 2ï¼‰</p></blockquote><p>ç„¶å¾Œæˆ‘å€‘éœ€è¦é¸æ“‡å…©å€‹çˆ¶æ¯é€²è¡Œäº¤å‰ã€‚æ ¹æ“šé€™å…©è¡Œé¸æ“‡é€™äº›çˆ¶æ¯çš„æŒ‡æ•¸ï¼š</p><blockquote><p>parent1_idx = kï¼…parents.shape [0]</p><p>parent2_idx =ï¼ˆk + 1ï¼‰ï¼…parents.shape [0]</p></blockquote><p>çˆ¶æ¯çš„é¸æ“‡æ–¹å¼é¡ä¼¼æ–¼æˆ’æŒ‡ã€‚ç¬¬ä¸€å€‹æŒ‡æ¨™ç‚º0å’Œ1çš„ç‰©ç¨®é¦–å…ˆè¢«é¸æ“‡ç”¢ç”Ÿå…©å€‹å¾Œä»£ã€‚å¦‚æœä»æœ‰å‰©é¤˜çš„å¾Œä»£è¦ç¹æ®–ï¼Œé‚£éº¼æˆ‘å€‘é¸æ“‡é›™è¦ª1å’Œé›™è¦ª2çš„å¾Œä»£ã€‚å¦‚æœæˆ‘å€‘éœ€è¦æ›´å¤šçš„å¾Œä»£ï¼Œé‚£éº¼æˆ‘å€‘é¸æ“‡ç¬¬äºŒå€‹æœ‰ç´¢å¼•2å’Œ3çš„çˆ¶æ¯ã€‚é€šéç´¢å¼•3ï¼Œæˆ‘å€‘åˆ°é”äº†æœ€å¾Œä¸€å€‹çˆ¶å…ƒç´ ã€‚å¦‚æœæˆ‘å€‘éœ€è¦ç”Ÿæˆæ›´å¤šçš„å¾Œä»£ï¼Œé‚£éº¼æˆ‘å€‘é¸æ“‡å¸¶æœ‰ç´¢å¼•3çš„çˆ¶ç¯€é»ï¼Œç„¶å¾Œè¿”å›ç´¢å¼•0çš„çˆ¶ç¯€é»ï¼Œä»¥æ­¤é¡æ¨ã€‚</p><p>å°‡äº¤å‰æ“ä½œæ‡‰ç”¨æ–¼çˆ¶é …å¾Œçš„è§£æ±ºæ–¹æ¡ˆå­˜å„²åœ¨offspring è®Šé‡ä¸­ï¼Œå®ƒå€‘å¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote><p>[[-0.63698911 -2.8638447 2.93392615 -0.72163167 0.7516408 0.00677938]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.35855588 2.29682254]</p><p>[ 1.96561297 0.51030292 0.52852716 3.78571392 0.28776565 3.5170347 ]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.40103767 -1.20313655 0.30567304]]</p></blockquote><p>æ¥ä¸‹ä¾†æ˜¯offspring ä½¿ç”¨GA.mutationGAæ¨¡å¡Šå…§éƒ¨çš„å‡½æ•¸å°‡ç¬¬äºŒå€‹GAè®Šé«”mutè®Šé‡æ‡‰ç”¨æ–¼å­˜å„²åœ¨è®Šé‡ä¸­çš„äº¤å‰çµæœã€‚é€™ç¨®å‡½æ•¸æ¥å—äº¤å‰å¾Œä»£ä¸¦åœ¨æ‡‰ç”¨å‡å‹»çªè®Šå¾Œè¿”å›å®ƒå€‘ã€‚è©²åŠŸèƒ½å¯¦ç¾å¦‚ä¸‹ï¼š</p><blockquote><p>def mutation(offspring_crossover):</p><p># Mutation changes a single gene in each offspring randomly.</p><p>for idx in range(offspring_crossover.shape[0]):</p><p># The random value to be added to the gene.</p><p>random_value = numpy.random.uniform(-1.0, 1.0, 1)</p><p>offspring_crossover[idx, 4] = offspring_crossover[idx, 4] + random_value</p><p>return offspring_crossover</p></blockquote><p>å®ƒå¾ªç’°éæ­·æ¯å€‹å¾Œä»£ï¼Œä¸¦æ ¹æ“šä»¥ä¸‹è¡Œæ·»åŠ ä¸€å€‹å‡å‹»ç”Ÿæˆçš„éš¨æ©Ÿæ•¸ï¼Œç¯„åœå¾-1åˆ°1ï¼š</p><blockquote><p>random_value = numpy.random.uniformï¼ˆ-1.0,1.0,1ï¼‰</p></blockquote><p>ç„¶å¾Œæ ¹æ“šæ­¤è¡Œå°‡é€™æ¨£çš„éš¨æ©Ÿæ•¸æ·»åŠ åˆ°å¾Œä»£çš„ç´¢å¼•4çš„åŸºå› ä¸­ï¼š</p><blockquote><p>offspring_crossover [idxï¼Œ4] = offspring_crossover [idxï¼Œ4] + random_value</p></blockquote><p>è«‹æ³¨æ„ï¼Œç´¢å¼•å¯ä»¥æ›´æ”¹ç‚ºä»»ä½•å…¶ä»–ç´¢å¼•ã€‚æ‡‰ç”¨çªè®Šå¾Œçš„å¾Œä»£å¦‚ä¸‹ï¼š</p><blockquote><p>[[-0.63698911 -2.8638447 2.93392615 -0.72163167 1.66083721 0.00677938]</p><p>[3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]</p><p>[1.96561297 0.51030292 0.52852716 3.78571392 0.45337472 3.5170347]</p><p>[2.12480298 2.97122243 3.60375452 -1.40103767 -1.5781162 0.30567304]]</p></blockquote><p>é€™äº›çµæœè¢«æ·»åŠ åˆ°è®Šé‡ä¸­offspring_crossoverä¸¦ç”±å‡½æ•¸è¿”å›ã€‚</p><p>åœ¨é€™ä¸€é»ä¸Šï¼Œæˆ‘å€‘æˆåŠŸåœ°å¾4å€‹é¸å®šçš„çˆ¶æ¯ä¸­ç”¢ç”Ÿäº†4å€‹å¾Œä»£ï¼Œæˆ‘å€‘æº–å‚™å‰µé€ ä¸‹ä¸€ä»£çš„æ–°ç¨®ç¾¤ã€‚</p><p>è«‹æ³¨æ„ï¼ŒGAæ˜¯ä¸€ç¨®åŸºæ–¼éš¨æ©Ÿçš„å„ªåŒ–æŠ€è¡“ã€‚å®ƒè©¦åœ–é€šéå°å®ƒå€‘æ‡‰ç”¨ä¸€äº›éš¨æ©Ÿè®ŠåŒ–ä¾†å¢å¼·ç•¶å‰çš„è§£æ±ºæ–¹æ¡ˆã€‚å› ç‚ºé€™äº›è®ŠåŒ–æ˜¯éš¨æ©Ÿçš„ï¼Œæˆ‘å€‘ä¸ç¢ºå®šå®ƒå€‘æœƒç”¢ç”Ÿæ›´å¥½çš„è§£æ±ºæ–¹æ¡ˆã€‚å‡ºæ–¼é€™å€‹åŸå› ï¼Œå„ªé¸åœ¨æ–°çš„ç¾¤é«”ä¸­ä¿ç•™å…ˆå‰çš„æœ€ä½³è§£æ±ºæ–¹æ¡ˆï¼ˆçˆ¶æ¯ï¼‰ã€‚åœ¨æœ€ç³Ÿç³•çš„æƒ…æ³ä¸‹ï¼Œç•¶æ‰€æœ‰æ–°çš„å¾Œä»£éƒ½æ¯”é€™æ¨£çš„çˆ¶æ¯æ›´ç³Ÿç³•æ™‚ï¼Œæˆ‘å€‘å°‡ç¹¼çºŒä½¿ç”¨é€™æ¨£çš„çˆ¶æ¯ã€‚å› æ­¤ï¼Œæˆ‘å€‘ä¿è­‰æ–°ä¸€ä»£å°‡è‡³å°‘ä¿ç•™ä»¥å‰çš„è‰¯å¥½çµæœï¼Œä¸¦ä¸”ä¸æœƒè®Šå¾—æ›´ç³Ÿã€‚æ–°äººå£å°‡æ“æœ‰å‰çˆ¶æ¯çš„å‰4å€‹è§£æ±ºæ–¹æ¡ˆã€‚æœ€å¾Œ4å€‹è§£æ±ºæ–¹æ¡ˆä¾†è‡ªæ‡‰ç”¨äº¤å‰å’Œè®Šç•°å¾Œå‰µå»ºçš„å¾Œä»£ï¼š</p><blockquote><p>new_population [0ï¼šparents.shape [0]</p><p>ï¼Œï¼š] = parent new_population [parents.shape [0]ï¼šï¼Œï¼š] = offspring_mutation</p></blockquote><p>é€šéè¨ˆç®—ç¬¬ä¸€ä»£æ‰€æœ‰è§£æ±ºæ–¹æ¡ˆï¼ˆçˆ¶æ¯å’Œå¾Œä»£ï¼‰çš„é©æ‡‰åº¦ï¼Œä»–å€‘çš„é©æ‡‰åº¦å¦‚ä¸‹ï¼š</p><blockquote><p>[18.24112489 17.0688537 15.99527402 14.40299221 -8.46075629 31.73289712 6.10307563 24.08733441]</p></blockquote><p>ä¹‹å‰çš„æœ€é«˜é©æ‡‰åº¦æ˜¯18.24112489ï¼Œä½†ç¾åœ¨æ˜¯31.7328971158ã€‚é€™æ„å‘³è‘—éš¨æ©Ÿè®ŠåŒ–è¶¨å‘æ–¼æ›´å¥½çš„è§£æ±ºæ–¹æ¡ˆã€‚é€™å¾ˆæ£’ã€‚ä½†é€™ç¨®çµæœå¯ä»¥é€šéæ›´å¤šä»£ä¾†å¢å¼·ã€‚ä»¥ä¸‹æ˜¯å¦å¤–4ä»£çš„æ¯å€‹æ­¥é©Ÿçš„çµæœï¼š</p><blockquote><p>Generation : 1</p><p>Fitness values:</p><p>[ 18.24112489 17.0688537 15.99527402 14.40299221 -8.46075629 31.73289712 6.10307563 24.08733441]</p><p>Selected parents:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.40103767 -1.5781162 0.30567304]</p><p>[-0.63698911 -2.8638447 2.93392615 -1.40103767 -1.20313655 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -0.72163167 0.7516408 0.00677938]]</p><p>Crossover result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.5781162 0.30567304]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.40103767 -1.20313655 0.30567304]</p><p>[-0.63698911 -2.8638447 2.93392615 -0.72163167 0.7516408 0.00677938]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]]</p><p>Mutation result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.2392086 0.30567304]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.40103767 -0.38610586 0.30567304]</p><p>[-0.63698911 -2.8638447 2.93392615 -0.72163167 1.33639943 0.00677938]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.13941727 2.29682254]]</p><p>Best result after generation 1 : 34.1663669207</p><p>Generation : 2</p><p>Fitness values:</p><p>[ 31.73289712 24.08733441 18.24112489 17.0688537 34.16636692 10.97522073 -4.89194068 22.86998223]</p><p>Selected Parents:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.2392086 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.40103767 -1.5781162 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.13941727 2.29682254]]</p><p>Crossover result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.5781162 0.30567304]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.56909315 -1.13941727 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.2392086 0.30567304]]</p><p>Mutation result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.20515009 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -0.73543721 0.30567304]</p><p>[ 2.12480298 2.97122243 3.60375452 -1.56909315 -0.50581509 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.20089639 0.30567304]]</p><p>Best result after generation 2: 34.5930432629</p><p>Generation : 3</p><p>Fitness values:</p><p>[ 34.16636692 31.73289712 24.08733441 22.86998223 34.59304326 28.6248816 2.09334217 33.7449326 ]</p><p>Selected parents:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.20515009 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.2392086 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.20089639 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]]</p><p>Crossover result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.2392086 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.20089639 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -1.94513681 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.20515009 2.29682254]]</p><p>Mutation result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.40103767 -2.20744102 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.16589294 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.37553107 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.44124005 2.29682254]]</p><p>Best result after generation 3: 44.8169235189</p><p>Generation : 4</p><p>Fitness values</p><p>[ 34.59304326 34.16636692 33.7449326 31.73289712 44.81692352</p><p>33.35989464 36.46723397 37.19003273]</p><p>Selected parents:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.40103767 -2.20744102 0.30567304]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.44124005 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.37553107 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.20515009 2.29682254]]</p><p>Crossover result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.37553107 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.20515009 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -2.20744102 0.30567304]]</p><p>Mutation result:</p><p>[[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.13382082 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.98105233 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.56909315 -2.27638584 2.29682254]</p><p>[ 3.00912373 -2.745417 3.27131287 -1.40103767 -1.70558545 0.30567304]]</p><p>Best result after generation 4: 44.8169235189</p></blockquote><p>åœ¨ä¸Šè¿°5ä»£ä¹‹å¾Œï¼Œæœ€ä½³çµæœç¾åœ¨å…·æœ‰ç­‰æ–¼44.8169235189çš„é©æ‡‰å€¼ï¼Œè€Œç¬¬ä¸€ä»£ä¹‹å¾Œçš„æœ€ä½³çµæœæ˜¯18.24112489ã€‚</p><p>æœ€ä½³è§£æ±ºæ–¹æ¡ˆå…·æœ‰ä»¥ä¸‹æ¬Šé‡ï¼š</p><p>[3.00912373 -2.745417 3.27131287 -1.40103767 -2.20744102 0.30567304]</p><h1>å®Œæ•´çš„Pythonå¯¦ç¾</h1><p>å¯¦ç¾GAçš„å®Œæ•´ä»£ç¢¼å¦‚ä¸‹ï¼š</p><blockquote><p>import numpy</p><p>import GA</p><p>"""</p><p>The y=target is to maximize this equation ASAP:</p><p>y = w1x1+w2x2+w3x3+w4x4+w5x5+6wx6</p><p>where (x1,x2,x3,x4,x5,x6)=(4,-2,3.5,5,-11,-4.7)</p><p>What are the best values for the 6 weights w1 to w6?</p><p>We are going to use the genetic algorithm for the best possible values after a number of generations.</p><p>"""</p><p># Inputs of the equation.</p><p>equation_inputs = [4,-2,3.5,5,-11,-4.7]</p><p># Number of the weights we are looking to optimize.</p><p>num_weights = 6</p><p>"""</p><p>Genetic algorithm parameters:</p><p>Mating pool size</p><p>Population size</p><p>"""</p><p>sol_per_pop = 8</p><p>num_parents_mating = 4</p><p># Defining the population size.</p><p>pop_size = (sol_per_pop,num_weights) # The population will have sol_per_pop chromosome where each chromosome has num_weights genes.</p><p>#Creating the initial population.</p><p>new_population = numpy.random.uniform(low=-4.0, high=4.0, size=pop_size)</p><p>print(new_population)</p><p>num_generations = 5</p><p>for generation in range(num_generations):</p><p>print("Generation : ", generation)</p><p># Measing the fitness of each chromosome in the population.</p><p>fitness = GA.cal_pop_fitness(equation_inputs, new_population)</p><p># Selecting the best parents in the population for mating.</p><p>parents = GA.select_mating_pool(new_population, fitness,</p><p>num_parents_mating)</p><p># Generating next generation using crossover.</p><p>offspring_crossover = GA.crossover(parents,</p><p>offspring_size=(pop_size[0]-parents.shape[0], num_weights))</p><p># Adding some variations to the offsrping using mutation.</p><p>offspring_mutation = GA.mutation(offspring_crossover)</p><p># Creating the new population based on the parents and offspring.</p><p>new_population[0:parents.shape[0], :] = parents</p><p>new_population[parents.shape[0]:, :] = offspring_mutation</p><p># The best result in the current iteration.</p><p>print("Best result : ", numpy.max(numpy.sum(new_population*equation_inputs, axis=1)))</p><p># Getting the best solution after iterating finishing all generations.</p><p>#At first, the fitness is calculated for each solution in the final generation.</p><p>fitness = GA.cal_pop_fitness(equation_inputs, new_population)</p><p># Then return the index of that solution corresponding to the best fitness.</p><p>best_match_idx = numpy.where(fitness == numpy.max(fitness))</p><p>print("Best solution : ", new_population[best_match_idx, :])</p><p>print("Best solution fitness : ", fitness[best_match_idx])</p></blockquote><p><strong>GAæ¨¡å¡Šå¦‚ä¸‹ï¼š</strong></p><blockquote><p>import numpy</p><p>def cal_pop_fitness(equation_inputs, pop):</p><p># Calculating the fitness value of each solution in the current population.</p><p># The fitness function caulcuates the sum of products between each input and its corresponding weight.</p><p>fitness = numpy.sum(pop*equation_inputs, axis=1)</p><p>return fitness</p><p>def select_mating_pool(pop, fitness, num_parents):</p><p># Selecting the best individuals in the current generation as parents for producing the offspring of the next generation.</p><p>parents = numpy.empty((num_parents, pop.shape[1]))</p><p>for parent_num in range(num_parents):</p><p>max_fitness_idx = numpy.where(fitness == numpy.max(fitness))</p><p>max_fitness_idx = max_fitness_idx[0][0]</p><p>parents[parent_num, :] = pop[max_fitness_idx, :]</p><p>fitness[max_fitness_idx] = -99999999999</p><p>return parents</p><p>def crossover(parents, offspring_size):</p><p>offspring = numpy.empty(offspring_size)</p><p># The point at which crossover takes place between two parents. Usually it is at the center.</p><p>crossover_point = numpy.uint8(offspring_size[1]/2)</p><p>for k in range(offspring_size[0]):</p><p># Index of the first parent to mate.</p><p>parent1_idx = k%parents.shape[0]</p><p># Index of the second parent to mate.</p><p>parent2_idx = (k+1)%parents.shape[0]</p><p># The new offspring will have its first half of its genes taken from the first parent.</p><p>offspring[k, 0:crossover_point] = parents[parent1_idx, 0:crossover_point]</p><p># The new offspring will have its second half of its genes taken from the second parent.</p><p>offspring[k, crossover_point:] = parents[parent2_idx, crossover_point:]</p><p>return offspring</p><p>def mutation(offspring_crossover):</p><p># Mutation changes a single gene in each offspring randomly.</p><p>for idx in range(offspring_crossover.shape[0]):</p><p># The random value to be added to the gene.</p><p>random_value = numpy.random.uniform(-1.0, 1.0, 1)</p><p>offspring_crossover[idx, 4] = offspring_crossover[idx, 4] + random_value</p><p>return offspring_crossover</p></blockquote></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>Python</a></li><li><a>éºå‚³</a></li><li><a>å¯¦ç¾</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E9%81%8A%E6%88%B2/b5f265c.html alt=ä¸€æ–‡è®€æ‡‚éºå‚³ç®—æ³•å·¥ä½œåŸç†ï¼é™„Pythonå¯¦ç¾ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/fde5cfc48c5a45d4891d621c7b4cc5e4 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/b5f265c.html title=ä¸€æ–‡è®€æ‡‚éºå‚³ç®—æ³•å·¥ä½œåŸç†ï¼é™„Pythonå¯¦ç¾>ä¸€æ–‡è®€æ‡‚éºå‚³ç®—æ³•å·¥ä½œåŸç†ï¼é™„Pythonå¯¦ç¾</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/4f88802b.html alt=Pythonå¯¦ç¾æ–‡ç« è‡ªå‹•ç”Ÿæˆ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/4f88802b.html title=Pythonå¯¦ç¾æ–‡ç« è‡ªå‹•ç”Ÿæˆ>Pythonå¯¦ç¾æ–‡ç« è‡ªå‹•ç”Ÿæˆ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e8f304b3.html alt=åˆ©ç”¨Pythonå¯¦ç¾è²¡å‹™å ±è¡¨ä¸‹è¼‰å°åŠ©æ‰‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/eccf200c-28b1-4270-a7be-3ff719f3d4f6 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e8f304b3.html title=åˆ©ç”¨Pythonå¯¦ç¾è²¡å‹™å ±è¡¨ä¸‹è¼‰å°åŠ©æ‰‹>åˆ©ç”¨Pythonå¯¦ç¾è²¡å‹™å ±è¡¨ä¸‹è¼‰å°åŠ©æ‰‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/db784eae.html alt=ä½¿ç”¨Pythonå¯¦ç¾æ–‡ä»¶çš„ç²¾ç¢ºæŸ¥æ‰¾ã€æ¨¡ç³ŠæŸ¥æ‰¾ã€ç¯„åœæŸ¥æ‰¾ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ea247283ffd149a3bc2a1a4498569298 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/db784eae.html title=ä½¿ç”¨Pythonå¯¦ç¾æ–‡ä»¶çš„ç²¾ç¢ºæŸ¥æ‰¾ã€æ¨¡ç³ŠæŸ¥æ‰¾ã€ç¯„åœæŸ¥æ‰¾>ä½¿ç”¨Pythonå¯¦ç¾æ–‡ä»¶çš„ç²¾ç¢ºæŸ¥æ‰¾ã€æ¨¡ç³ŠæŸ¥æ‰¾ã€ç¯„åœæŸ¥æ‰¾</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/834ba338.html alt="Python å¯¦ç¾ç”Ÿå‘½éŠæˆ²" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/ef717db639fa4cd196ebe68fdbac71e4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/834ba338.html title="Python å¯¦ç¾ç”Ÿå‘½éŠæˆ²">Python å¯¦ç¾ç”Ÿå‘½éŠæˆ²</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bdad3e1a.html alt=Pythonå¯¦ç¾è©é »åˆ†æå™¨ï¼ŒæŸ¥çœ‹æ–‡ç« å„ç¨®è©èªçš„ä½¿ç”¨æ¬¡æ•¸ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/eb3e9379e45b437190986372fd452276 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bdad3e1a.html title=Pythonå¯¦ç¾è©é »åˆ†æå™¨ï¼ŒæŸ¥çœ‹æ–‡ç« å„ç¨®è©èªçš„ä½¿ç”¨æ¬¡æ•¸>Pythonå¯¦ç¾è©é »åˆ†æå™¨ï¼ŒæŸ¥çœ‹æ–‡ç« å„ç¨®è©èªçš„ä½¿ç”¨æ¬¡æ•¸</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c782b4f.html alt=Pythonå¯¦ç¾é€£çºŒè®Šé‡GHMMé«˜æ–¯éš±é¦¬çˆ¾å¯å¤«æ¨¡å‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1b32a7d6eec44094a2f173b6555856ba style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c782b4f.html title=Pythonå¯¦ç¾é€£çºŒè®Šé‡GHMMé«˜æ–¯éš±é¦¬çˆ¾å¯å¤«æ¨¡å‹>Pythonå¯¦ç¾é€£çºŒè®Šé‡GHMMé«˜æ–¯éš±é¦¬çˆ¾å¯å¤«æ¨¡å‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/fc520d9.html alt=ç”¨Pythonå¯¦ç¾æ‰¹é‡é«˜æ•ˆæ–‡ä»¶è™•ç†ï¼Œè§£æ”¾ä½ çš„é›™æ‰‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6a8aade78d34491189c3149331390715 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/fc520d9.html title=ç”¨Pythonå¯¦ç¾æ‰¹é‡é«˜æ•ˆæ–‡ä»¶è™•ç†ï¼Œè§£æ”¾ä½ çš„é›™æ‰‹>ç”¨Pythonå¯¦ç¾æ‰¹é‡é«˜æ•ˆæ–‡ä»¶è™•ç†ï¼Œè§£æ”¾ä½ çš„é›™æ‰‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b4af47b.html alt="æ€§èƒ½åˆ©å™¨ï¼ŒPython Flashtext å¯¦ç¾æŸ¥æ‰¾æˆ–æ›¿æ›æ–‡æœ¬ä¸­é—œéµè©" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/5377cc554f4d45d3a268141141ad00c0 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b4af47b.html title="æ€§èƒ½åˆ©å™¨ï¼ŒPython Flashtext å¯¦ç¾æŸ¥æ‰¾æˆ–æ›¿æ›æ–‡æœ¬ä¸­é—œéµè©">æ€§èƒ½åˆ©å™¨ï¼ŒPython Flashtext å¯¦ç¾æŸ¥æ‰¾æˆ–æ›¿æ›æ–‡æœ¬ä¸­é—œéµè©</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/388a5f0.html alt=Pythonç·¨å¯«éºå‚³ç®—æ³•å¯¦æˆ°ï¼Œæ•´æ•¸ç·¨ç¢¼ï¼Œå•Ÿç™¼å¼æœç´¢è§£æ±ºæ—…è¡Œå•†å•é¡Œ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p3.pstatp.com/large/dfic-imagehandler/f1d21356-1ef5-4ec5-a4a5-c5699b12bee1 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/388a5f0.html title=Pythonç·¨å¯«éºå‚³ç®—æ³•å¯¦æˆ°ï¼Œæ•´æ•¸ç·¨ç¢¼ï¼Œå•Ÿç™¼å¼æœç´¢è§£æ±ºæ—…è¡Œå•†å•é¡Œ>Pythonç·¨å¯«éºå‚³ç®—æ³•å¯¦æˆ°ï¼Œæ•´æ•¸ç·¨ç¢¼ï¼Œå•Ÿç™¼å¼æœç´¢è§£æ±ºæ—…è¡Œå•†å•é¡Œ</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/e8e338f.html alt=åŸºæ–¼Pythonçš„éºå‚³ç®—æ³•ç‰¹å¾µç´„ç°¡ï¼ˆé™„ä»£ç¢¼ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p3.pstatp.com/large/pgc-image/4cf33c81f091401a93c3d1b5db2213de style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/e8e338f.html title=åŸºæ–¼Pythonçš„éºå‚³ç®—æ³•ç‰¹å¾µç´„ç°¡ï¼ˆé™„ä»£ç¢¼ï¼‰>åŸºæ–¼Pythonçš„éºå‚³ç®—æ³•ç‰¹å¾µç´„ç°¡ï¼ˆé™„ä»£ç¢¼ï¼‰</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/60f30bd.html alt="éºå‚³ç®—æ³•(Python) #2 åŸºæœ¬é‹ç®—æ–¹æ³•è©³è§£" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/c3dcdafb8df8476dbc472615f3131b59 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/60f30bd.html title="éºå‚³ç®—æ³•(Python) #2 åŸºæœ¬é‹ç®—æ–¹æ³•è©³è§£">éºå‚³ç®—æ³•(Python) #2 åŸºæœ¬é‹ç®—æ–¹æ³•è©³è§£</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/2c5f63f.html alt="éºå‚³ç®—æ³•(Python) #3 å¾é›¶é–‹å§‹è§£æ±ºOneMaxå•é¡Œ" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/5d69e28f41a44f81b8dd0bbe9f2f2b6f style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/2c5f63f.html title="éºå‚³ç®—æ³•(Python) #3 å¾é›¶é–‹å§‹è§£æ±ºOneMaxå•é¡Œ">éºå‚³ç®—æ³•(Python) #3 å¾é›¶é–‹å§‹è§£æ±ºOneMaxå•é¡Œ</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/4a7d591.html alt="éºå‚³ç®—æ³•(Python) #5 ç”¨DEAPæ¡†æ¶è§£æ±ºOneMaxå•é¡Œ" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/3279ffb8082c491a967c683ae24bdfcb style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/4a7d591.html title="éºå‚³ç®—æ³•(Python) #5 ç”¨DEAPæ¡†æ¶è§£æ±ºOneMaxå•é¡Œ">éºå‚³ç®—æ³•(Python) #5 ç”¨DEAPæ¡†æ¶è§£æ±ºOneMaxå•é¡Œ</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/00fec97.html alt=éºå‚³ç®—æ³•ç¶œåˆæŒ‡å—ï¼ˆä»¥åŠå¦‚ä½•Pythonç·¨ç¢¼ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/15354276244373403483b2e style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/00fec97.html title=éºå‚³ç®—æ³•ç¶œåˆæŒ‡å—ï¼ˆä»¥åŠå¦‚ä½•Pythonç·¨ç¢¼ï¼‰>éºå‚³ç®—æ³•ç¶œåˆæŒ‡å—ï¼ˆä»¥åŠå¦‚ä½•Pythonç·¨ç¢¼ï¼‰</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>