<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>éºå‚³ç®—æ³•(Python) #3 å¾é›¶é–‹å§‹è§£æ±ºOneMaxå•é¡Œ | æå®¢å¿«è¨Š</title><meta property="og:title" content="éºå‚³ç®—æ³•(Python) #3 å¾é›¶é–‹å§‹è§£æ±ºOneMaxå•é¡Œ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="http://p1.pstatp.com/large/pgc-image/5d69e28f41a44f81b8dd0bbe9f2f2b6f"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/2c5f63f.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/2c5f63f.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/2c5f63f.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/2c5f63f.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/2c5f63f.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/2c5f63f.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/2c5f63f.html><link rel=canonical href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/2c5f63f.html><meta property="article:published_time" content="2020-10-29T20:46:33+08:00"><meta property="article:modified_time" content="2020-10-29T20:46:33+08:00"><meta name=Keywords content><meta name=description content="éºå‚³ç®—æ³•(Python) #3 å¾é›¶é–‹å§‹è§£æ±ºOneMaxå•é¡Œ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E9%81%8A%E6%88%B2/2c5f63f.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>éºå‚³ç®—æ³•(Python) #3 å¾é›¶é–‹å§‹è§£æ±ºOneMaxå•é¡Œ</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E9%81%8A%E6%88%B2.html>éŠæˆ²</a></span></div><div class=post-content><p><a class=pgc-link data-content=mp href="https://www.toutiao.com/i6822898083571958286/?group_id=6822898083571958286" rel="noopener noreferrer" target=_blank>ä¸Šä¸€æœŸ</a></p><h2 class=pgc-h-arrow-right>1. OneMaxå•é¡Œ(OneMax Problem)</h2><p>OneMaxå•é¡Œæ˜¯éºå‚³ç®—æ³•çš„å…¥é–€å•é¡Œï¼Œå…¶å…§å®¹æ˜¯ï¼šå¦‚ä½•ä½¿ä¸€æ®µé•·åº¦å›ºå®šçš„äºŒé€²åˆ¶å­—ç¬¦ä¸²æ‰€æœ‰ä½ç½®ä¸Šæ•¸å­—ä¹‹å’Œæœ€å¤§ã€‚</p><p>è®“æˆ‘å€‘ç”¨ä¸€å€‹é•·åº¦ç‚º5çš„äºŒé€²åˆ¶å­—ç¬¦ä¸²ç‚ºä¾‹ï¼š</p><ul><li>10010 -> å’Œç‚º2</li><li>00111 -> å’Œç‚º3</li><li>11111 -> å’Œç‚º5(æœ€å¤§å€¼)</li></ul><p>å°ä¸€èˆ¬äººï¼Œé¡¯è€Œæ˜“è¦‹ï¼Œç•¶æ‰€æœ‰ä½æ•¸éƒ½ç‚º1æ™‚ï¼Œè©²å­—ç¬¦ä¸²çš„å’Œæœ€å¤§ï¼Œä½†åœ¨æˆ‘å€‘ç”¨éºå‚³ç®—æ³•è§£æ±ºè©²å•é¡Œæ™‚ï¼Œéºå‚³ç®—æ³•æœ¬èº«ä¸¦æ²’æœ‰é€™æ¨£çš„çŸ¥è­˜ã€‚æ¥ä¸‹ä¾†æˆ‘å€‘å°‡ä¸ä¾é ä»»ä½•éºå‚³ç®—æ³•çš„åŒ…ï¼Œå¾é ­é–‹å§‹ç”¨éºå‚³ç®—æ³•è§£æ±ºOneMaxå•é¡Œã€‚</p><h2 class=pgc-h-arrow-right>2.å•é¡Œçš„è§£æ±ºæ€è·¯</h2><p>é¦–å…ˆï¼Œæˆ‘å€‘å¾—æŠŠé€™å€‹å•é¡Œè½‰æ›æˆä¸€å€‹éºå‚³ç®—æ³•å•é¡Œï¼Œå³ï¼šæˆ‘å€‘å¾—å®šç¾©å€‹é«”ã€ç¨®ç¾¤ï¼Œé¸æ“‡ã€é›œäº¤ã€çªè®Šæ–¹æ³•ã€é©æ‡‰åº¦å‡½æ•¸ç­‰ã€‚å‡è¨­æœ‰ä¸€å€‹é•·åº¦ç‚º100çš„å­—ç¬¦ä¸²ï¼Œæˆ‘å€‘å¯ä»¥åšå‡ºä»¥ä¸‹å®šç¾©ï¼š</p><ul><li>å€‹é«”ï¼šå€‹é«”å³ç‚ºå•é¡Œçš„è§£ï¼Œé€™å€‹å•é¡Œä¸­å€‹é«”å¯ä»¥ç›´è§€çš„å®šç¾©ç‚ºä¸€å€‹é•·åº¦ç‚º100åˆ—è¡¨ï¼ˆListï¼‰ï¼Œåˆ—è¡¨ä¸Šæ¯å€‹å…ƒç´ ç‚º0æˆ–1.</li><li>ç¨®ç¾¤ï¼šç¨®ç¾¤å³æ‰€æœ‰å€‹é«”çš„åˆé›†ï¼Œæˆ‘å€‘å¯ä»¥æŠŠç¨®ç¾¤å®šç¾©ç‚ºæ‰€æœ‰å€‹é«”çµ„æˆçš„åˆ—è¡¨ã€‚</li><li>é¸æ“‡ï¼šä½¿ç”¨éŒ¦æ¨™è³½æ³•(Tournament Selection)</li><li>é›œäº¤ï¼šä½¿ç”¨å–®é»é›œäº¤æ³•(Singe-Point Crossover)</li><li>çªè®Šï¼šä½¿ç”¨ä½ç¿»è½‰çªè®Šæ³•(Flip Bit Mutation)</li><li>é©æ‡‰åº¦å‡½æ•¸ï¼š æˆ‘å€‘çš„ç›®æ¨™æ˜¯ä½¿å­—ç¬¦ä¸²ä¸Šæ‰€æœ‰æ•¸å­—ä¹‹å’Œæœ€å¤§ï¼Œé©æ‡‰åº¦å‡½æ•¸å¯ä»¥ç›´è§€çš„å®šç¾©ç‚ºåˆ—è¡¨ä¸­æ‰€æœ‰æ•¸å­—ä¹‹å’Œã€‚</li></ul><p>è‹¥å°ä¸Šè¿°å®šç¾©ä¸å¤ªç­è§£çš„ï¼Œå¯ä»¥å›çœ‹éºå‚³ç®—æ³•ç³»åˆ—çš„ç¬¬äºŒæœŸã€‚</p><h2 class=pgc-h-arrow-right>3.ç”¨Pythonå¯¦ç¾éºå‚³ç®—æ³•</h2><p>ä»¥ä¸‹å°‡åˆ†æ­¥é©Ÿè§£é‡‹æ¯ä¸€éƒ¨åˆ†çš„ä»£ç¢¼ï¼Œå®Œæ•´ä»£ç¢¼åœ¨æœ¬æ–‡çš„æœ€å¾Œå¯è¦‹ã€‚</p><h3 class=pgc-h-arrow-right>3.0.æº–å‚™å·¥ä½œ</h3><pre><code>import randomimport matplotlib.pyplot as pltrandom.seed(39)</code></pre><p>å°å…¥æ‰€æœ‰éœ€è¦çš„åŒ…ï¼š</p><ul><li>randomï¼š ç”¨æ–¼ç”Ÿæˆéš¨æ©Ÿæ•¸</li><li>matplotlibï¼š ç”¨æ–¼ç•«åœ–</li><li>random.seed: ç¢ºå®šç¨®å­ï¼ˆå³éš¨æ©Ÿç‹€æ…‹ï¼‰ï¼Œé€™æ¨£æ¯æ¬¡é‹ç®—æˆ‘å€‘éƒ½èƒ½å¾—åˆ°åŒæ¨£çš„çµæœ</li></ul><h3 class=pgc-h-arrow-right>3.1.å®šç¾©å€‹é«”å’Œç¨®ç¾¤</h3><pre><code># 1. define individual and populationdef CreateIndividual():    return([random.randint(0,1) for _ in range(100)])def CreatePopulation(size):    return([CreateIndividual() for _ in range(size)])</code></pre><ul><li>CreateIndividualï¼šå€‹é«”å³ç‚ºä¸€å€‹é•·åº¦ç‚º100çš„åˆ—è¡¨ï¼Œæ¯å€‹å…ƒç´ ï¼ˆåŸºå› ï¼‰ç‚º0æˆ–1ã€‚</li><li>CreatePopulationï¼š ç¨®ç¾¤å³å¤šå€‹å€‹é«”çµ„æˆçš„åˆ—è¡¨ã€‚</li></ul><h3 class=pgc-h-arrow-right>3.2.å®šç¾©é¸æ“‡ã€é›œäº¤ã€çªè®Šæ–¹æ³•å’Œé©æ‡‰åº¦å‡½æ•¸</h3><h4 class=pgc-h-arrow-right>3.2.1.é¸æ“‡</h4><pre><code># 2.1. define select functiondef tournament(population,size):    participants = random.sample(population,size)    # evaluate function is defined in 3.4    winner = max(participants,key=lambda ind:evaluate(ind))    return(winner.copy())def select(population,size):    return([tournament(population,size) for _ in range(len(population))])</code></pre><ul><li>tournamentï¼šå¾ç¨®ç¾¤ä¸­éš¨æ©ŸæŠ½å–sizeå€‹å€‹é«”ï¼Œå¾ä¸­é¸å–é©æ‡‰åº¦æœ€é«˜çš„å€‹é«”ã€‚æ³¨æ„ä½¿ç”¨.copyä»¥é˜²åŒä¸€å€‹åˆ—è¡¨è¢«å¤šæ¬¡å¼•ç”¨ã€‚</li><li>selectï¼šç‚ºäº†ä¿æŒç¨®ç¾¤çš„å¤§å°ä¸è®Šï¼ŒéŒ¦æ¨™è³½çš„æ¬¡æ•¸æ‡‰èˆ‡ç¨®ç¾¤ä¸­å€‹é«”çš„æ•¸é‡ç›¸åŒ</li></ul><h4 class=pgc-h-arrow-right>3.2.2.é›œäº¤</h4><pre><code># 2.2. define mate functiondef SinglePointCrossover(ind1,ind2):    loc = random.randint(0,len(ind1)-1)    genes1 = ind1[loc:]    genes2 = ind2[loc:]    ind1[loc:] = genes2    ind2[loc:] = genes1    return([ind1.copy(),ind2.copy()])def mate(population,probability):    new_population = []    for i in range(0,len(population),2):        ind1 = population[i].copy()        ind2 = population[i+1].copy()        if random.random() &lt; probability:            new_population.extend(SinglePointCrossover(ind1,ind2))        else:            new_population.extend([ind1,ind2])    return(new_population)</code></pre><ul><li>SinglePointCrossoverï¼šå–®é»é›œäº¤æ³•çš„å¯¦ç¾ï¼Œå…©å€‹å€‹é«”äº¤æ›éš¨æ©Ÿä½ç½®åŠå…¶å¾Œé¢çš„åŸºå› </li><li>mateï¼šå°ç¨®ç¾¤é€²è¡Œé›œäº¤ï¼ŒæŒ‰ä¸€å®šæ¦‚ç‡æ¯å…©å€‹ç›¸é„°çš„å€‹é«”é€²è¡Œé›œäº¤probabilityåƒæ•¸ï¼šæ¯æ¬¡ç”Ÿæˆä¸€å€‹0è‡³1ä¹‹é–“çš„éš¨æ©Ÿæ•¸ï¼Œè‹¥éš¨æ©Ÿæ•¸å°æ–¼è©²æ¦‚ç‡ï¼Œå‰‡é€²è¡Œé›œäº¤ï¼Œå¦å‰‡å°æ‡‰çš„å…©å€‹å€‹é«”è¢«å…‹éš†ã€‚</li></ul><h4 class=pgc-h-arrow-right>3.2.3.çªè®Š</h4><pre><code># 2.3. define mutate functiondef flipOneGene(ind):    loc = random.randint(0,len(ind)-1)    ind[loc] = 1 - ind[loc] # 0-&gt;1 or 1-&gt;0    return(ind.copy())def mutate(population,probability):    new_population = []    for ind in population:        if random.random() &lt; probability:            new_population.append(flipOneGene(ind))        else:            new_population.append(ind.copy())    return(new_population)</code></pre><ul><li>flipOneGene:ä½ç¿»è½‰çªè®Šï¼Œå€‹é«”ä¸Šçš„ä¸€å€‹éš¨æ©ŸåŸºå› é€²è¡Œçªè®Šã€‚</li><li>mutate: æ¯å€‹å€‹é«”éƒ½ä»¥ä¸€å®šæ¦‚ç‡çªè®Šï¼Œè‹¥ä¸çªè®Šï¼Œå‰‡è©²å€‹é«”è¢«å…‹éš†ã€‚</li></ul><h4 class=pgc-h-arrow-right>3.2.4.é©æ‡‰åº¦å‡½æ•¸</h4><pre><code># 2.4. define evaluate functiondef evaluate(individual):    return(sum(individual))</code></pre><p>OneMaxçš„é©æ‡‰åº¦å‡½æ•¸å°±æ˜¯åˆ—è¡¨ä¸­æ‰€æœ‰æ•¸å­—ä¹‹å’Œã€‚</p><h4 class=pgc-h-arrow-right>3.2.5.çµ±è¨ˆç¨®ç¾¤æ•¸æ“š</h4><pre><code># 2.5. define statistical metrics to monitor algorithm performancedef population_score_max(population):    return(max([evaluate(ind) for ind in population]))def population_score_mean(population):    return(sum([evaluate(ind) for ind in population])/len(population))</code></pre><p>ç‚ºäº†è¿½è¹¤ç®—æ³•çš„é€²åº¦å’Œç™¼ç¾ç®—æ³•ä¸­å¯èƒ½å‡ºç¾çš„éŒ¯èª¤ï¼Œæˆ‘å€‘å¯ä»¥çµ±è¨ˆæ¯æ¬¡è¿­ä»£ä¸­ç¨®ç¾¤é©æ‡‰åº¦çš„æœ€å¤§å€¼èˆ‡å‡å€¼ã€‚</p><h3 class=pgc-h-arrow-right>3.3.é‹è¡Œéºå‚³ç®—æ³•</h3><pre><code># 3. Run genetic algorithmdef main(    POPULATION_SIZE = 100,    TOURNAMENT_SIZE = 3,    CROSSOVER_PROB = 0.9,    MUTATE_PROB = 0.1,    MAX_GENERATIONS = 100):    generation = 0    population = CreatePopulation(POPULATION_SIZE)    max_scores = [population_score_max(population)]    mean_scores = [population_score_mean(population)]    best_individual = []    while generation &lt; MAX_GENERATIONS:        population = select(population,TOURNAMENT_SIZE)        population = mate(population,CROSSOVER_PROB)        population = mutate(population,MUTATE_PROB)        # collect statistics        max_scores.append(population_score_max(population))        mean_scores.append(population_score_mean(population))        best_individual = max(            best_individual,            max(population,key=lambda ind: evaluate(ind))        ).copy()        generation += 1        print("Best Solution:")    print(best_individual)    plt.plot(max_scores, color='red',label="Max Score")    plt.plot(mean_scores, color='green',label="Mean Score")    plt.legend()    plt.xlabel("Generations")    plt.ylabel("Fitness Score")    plt.grid()    plt.show()   if __name__ == "__main__":    main()</code></pre><p>åœ¨é‹è¡Œç®—æ³•å‰ï¼Œæˆ‘å€‘é¦–å…ˆå¾—å®šç¾©ä¸€äº›åƒæ•¸ï¼š</p><ul><li>ç¨®ç¾¤å¤§å°(Population Size):ä¸€èˆ¬è€Œè¨€ç¨®ç¾¤è¶Šå¤§ï¼Œè¶Šå®¹æ˜“åœ¨è¼ƒå°çš„ä»£æ•¸å…§ç²å¾—æœ€å„ªè§£ï¼Œä½†ä»£åƒ¹æ˜¯æ¯ä¸€ä»£çš„é‹ç®—é‡æœƒè®Šå¤§ã€‚</li><li>éŒ¦æ¨™è³½å¤§å°ï¼ˆTournament Sizeï¼‰: éŒ¦æ¨™è³½çš„å¤§å°ä¸€èˆ¬ä¸è¦å–çš„å¤ªå¤§ï¼Œå¦å‰‡ç¨®ç¾¤å®¹æ˜“å› éæ—©åœ°å¤±å»å¤šæ¨£æ€§è€Œéæ—©æ”¶æ–‚ã€‚èˆ‰ä¸€å€‹æ¥µç«¯ä¾‹å­ï¼Œç•¶ç¨®ç¾¤å¤§å°ç‚º100ä¸”éŒ¦æ¨™è³½å¤§å°ä¹Ÿç‚º100æ™‚ï¼Œç¬¬ä¸€æ¬¡é¸æ“‡å¾Œæ‰€æœ‰çš„å€‹é«”éƒ½æœƒè®ŠæˆåŒä¸€å€‹å€‹é«”ï¼Œç®—æ³•ä¾¿å¾ˆé›£å†æœ‰æ”¹å–„çš„ç©ºé–“ã€‚</li><li>é›œäº¤æ¦‚ç‡ï¼ˆCrossover Probabilityï¼‰ï¼šé›œäº¤çš„æ¦‚ç‡æ‡‰å–ä¸€å€‹è¼ƒå¤§çš„å€¼ï¼Œæ¯”å¦‚0.7,0.8,0.9ç­‰ï¼Œå…·é«”æ•¸å€¼æ‡‰è¦–å…·é«”æƒ…æ³è€Œå®šã€‚</li><li>çªè®Šæ¦‚ç‡ï¼ˆMutate Probabilityï¼‰ï¼šçªè®Šæ¦‚ç‡æ‡‰å–ä¸€å€‹è¼ƒå°çš„å€¼ï¼Œå¦‚0.05ï¼Œ0.1ï¼Œ0.2ç­‰ï¼Œè‹¥å–å€¼å¤ªå¤§ï¼Œå‰‡ç¨®ç¾¤çš„éš¨æ©Ÿæ€§å¤ªå¼·ï¼Œä¸åˆ©æ–¼ä¿å­˜é©æ‡‰åº¦é«˜çš„å€‹é«”ï¼Œå¾è€Œä½¿éºå‚³ç®—æ³•è®Šæˆå®Œå…¨éš¨æ©Ÿçš„æœç´¢ã€‚</li><li>æœ€å¤§ä»£æ•¸(Max Generation):éºå‚³ç®—æ³•ä¸å¯èƒ½ç„¡æ­¢ç›¡çš„é‹è¡Œä¸‹å»ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘å€‘éƒ½æœƒè¨­ç½®çµ‚æ­¢æ¢ä»¶ï¼Œé€™å€‹å•é¡Œä¸­ï¼Œæˆ‘å€‘ä»¥æœ€å¤§ä»£æ•¸ç‚ºçµ‚æ­¢æ¢ä»¶ï¼Œç•¶è¿­ä»£é€²è¡Œåˆ°ä¸€å®šæ¬¡æ•¸æ™‚ç®—æ³•çµ‚æ­¢ã€‚</li></ul><p>åœ¨è¿­ä»£éç¨‹ä¸­ï¼Œæ¯ä¸€ä»£è£¡æˆ‘å€‘éƒ½é€²è¡Œé¸æ“‡(select),é›œäº¤(mate)ï¼Œçªè®Š(mate)é‹ç®—ï¼Œä¸¦æ”¶é›†ç¨®ç¾¤çš„æœ€å¤§å’Œå¹³å‡é©æ‡‰åº¦æ•¸æ“šï¼Œç”¨ä»¥è¿½è¹¤ç®—æ³•çš„é€²åº¦ï¼Œæˆ–ç™¼ç¾ç®—æ³•ä¸­å­˜åœ¨çš„å•é¡Œã€‚è¦–å•é¡Œè€Œå®šï¼Œæˆ‘å€‘é‚„å¯ä»¥è¨˜éŒ„ä¸‹æ¯ä»£ä¸­é©æ‡‰åº¦æœ€é«˜çš„å€‹é«”(best individual)ï¼Œä»¥é˜²æ­¢å…¶å› é›œäº¤å’Œçªè®Šè€Œæ¶ˆå¤±ã€‚</p><p>æœ€å¾Œï¼Œæˆ‘å€‘è§€å¯Ÿæœ€å„ªè§£èˆ‡ç¨®ç¾¤çš„æ•¸æ“šã€‚</p><h3 class=pgc-h-arrow-right>4.ç®—æ³•çµæœ</h3><p>æˆ‘å€‘æˆåŠŸç²å¾—äº†OneMaxçš„æœ€å„ªè§£(æ‰€æœ‰ä½ç½®ä¸Šéƒ½æ˜¯1)ï¼š[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]</p><p>ç¨®ç¾¤çš„é€²åŒ–éç¨‹å¦‚ä¸‹åœ–æ‰€ç¤ºï¼Œæˆ‘å€‘å¯ä»¥è§€å¯Ÿåˆ°ç¨®ç¾¤çš„é€²åŒ–é€Ÿåº¦ç”±å¿«åˆ°æ…¢ï¼Œä¸”åœ¨61ä»£å·¦å³åœæ­¢é€²åŒ–ï¼Œä¸”åœ¨ç¬¬58ä»£æ™‚å·²ç¶“ç”¢ç”Ÿäº†æœ€å„ªè§£ã€‚</p><p><br></p><div class=pgc-img><img alt="éºå‚³ç®—æ³•(Python) #3 å¾é›¶é–‹å§‹è§£æ±ºOneMaxå•é¡Œ" onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/5d69e28f41a44f81b8dd0bbe9f2f2b6f><p class=pgc-img-caption></p></div><p><br></p><h3 class=pgc-h-arrow-right>5. å®Œæ•´ä»£ç¢¼</h3><pre><code>import randomimport matplotlib.pyplot as pltrandom.seed(39)# 1. define individual and populationdef CreateIndividual():    return([random.randint(0,1) for _ in range(100)])def CreatePopulation(size):    return([CreateIndividual() for _ in range(size)])# 2. define select, mate, mutate, evaluate function ----# 2.1. define select functiondef tournament(population,size):    participants = random.sample(population,size)    # evaluate function is defined in 3.4    winner = max(participants,key=lambda ind:evaluate(ind))    return(winner.copy())def select(population,size):    return([tournament(population,size) for _ in range(len(population))])# 2.2. define mate functiondef SinglePointCrossover(ind1,ind2):    loc = random.randint(0,len(ind1)-1)    genes1 = ind1[loc:]    genes2 = ind2[loc:]    ind1[loc:] = genes2    ind2[loc:] = genes1    return([ind1.copy(),ind2.copy()])def mate(population,probability):    new_population = []    for i in range(0,len(population),2):        ind1 = population[i].copy()        ind2 = population[i+1].copy()        if random.random() &lt; probability:            new_population.extend(SinglePointCrossover(ind1,ind2))        else:            new_population.extend([ind1,ind2])    return(new_population)# 2.3. define mutate functiondef flipOneGene(ind):    loc = random.randint(0,len(ind)-1)    ind[loc] = 1 - ind[loc] # 0-&gt;1 or 1-&gt;0    return(ind.copy())def mutate(population,probability):    new_population = []    for ind in population:        if random.random() &lt; probability:            new_population.append(flipOneGene(ind))        else:            new_population.append(ind.copy())    return(new_population)# 2.4. define evaluate functiondef evaluate(individual):    return(sum(individual))# 2.5. define statistical metrics to monitor algorithm performancedef population_score_max(population):    return(max([evaluate(ind) for ind in population]))def population_score_mean(population):    return(sum([evaluate(ind) for ind in population])/len(population))# 3. Run genetic algorithmdef main(    POPULATION_SIZE = 100,    TOURNAMENT_SIZE = 3,    CROSSOVER_PROB = 0.9,    MUTATE_PROB = 0.1,    MAX_GENERATIONS = 100):    generation = 0    population = CreatePopulation(POPULATION_SIZE)    max_scores = [population_score_max(population)]    mean_scores = [population_score_mean(population)]    best_individual = []    while generation &lt; MAX_GENERATIONS:        population = select(population,TOURNAMENT_SIZE)        population = mate(population,CROSSOVER_PROB)        population = mutate(population,MUTATE_PROB)        # collect statistics        max_scores.append(population_score_max(population))        mean_scores.append(population_score_mean(population))        best_individual = max(            best_individual,            max(population,key=lambda ind: evaluate(ind))        ).copy()        generation += 1        print("Best Solution:")    print(best_individual)    plt.plot(max_scores, color='red',label="Max Score")    plt.plot(mean_scores, color='green',label="Mean Score")    plt.legend()    plt.xlabel("Generations")    plt.ylabel("Fitness Score")    plt.grid()    plt.show()   if __name__ == "__main__":    main()</code></pre><h2 class=pgc-h-arrow-right>4.å°çµ</h2><p>ç‚ºäº†æ·±å…¥çš„è§£é‡‹éºå‚³ç®—æ³•ï¼Œæœ¬æ–‡ä¸­æ²’æœ‰ä½¿ç”¨ä»»ä½•çš„éºå‚³ç®—æ³•åŒ…ä¾†è§£æ±ºOneMaxå•é¡Œã€‚è€Œä¸‹ä¸€æœŸï¼Œæˆ‘å€‘æœƒä»‹ç´¹DEAP(Distributed Evolutionary Algorithm in Python)åŒ…,ä¸¦åœ¨ä¹‹å¾Œçš„æ–‡ç« è£¡ç”¨DEAPæ¡†æ¶ä¾†è§£æ±ºéºå‚³ç®—æ³•å•é¡Œã€‚</p><p>æœ¬äººè¿‘æœŸå‰›é–‹å§‹å¯«æ–‡ç« ï¼Œæ­¡è¿äº¤æµå­¸ç¿’ï¼</p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>éºå‚³</a></li><li><a>Python</a></li><li><a>é›¶é–‹å§‹</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E9%81%8A%E6%88%B2/388a5f0.html alt=Pythonç·¨å¯«éºå‚³ç®—æ³•å¯¦æˆ°ï¼Œæ•´æ•¸ç·¨ç¢¼ï¼Œå•Ÿç™¼å¼æœç´¢è§£æ±ºæ—…è¡Œå•†å•é¡Œ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p3.pstatp.com/large/dfic-imagehandler/f1d21356-1ef5-4ec5-a4a5-c5699b12bee1 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/388a5f0.html title=Pythonç·¨å¯«éºå‚³ç®—æ³•å¯¦æˆ°ï¼Œæ•´æ•¸ç·¨ç¢¼ï¼Œå•Ÿç™¼å¼æœç´¢è§£æ±ºæ—…è¡Œå•†å•é¡Œ>Pythonç·¨å¯«éºå‚³ç®—æ³•å¯¦æˆ°ï¼Œæ•´æ•¸ç·¨ç¢¼ï¼Œå•Ÿç™¼å¼æœç´¢è§£æ±ºæ—…è¡Œå•†å•é¡Œ</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/1c10283.html alt=Pythonä¸­çš„éºå‚³ç®—æ³•å®Œæ•´å¯¦ç¾ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/1531731137721602bd9c18c style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/1c10283.html title=Pythonä¸­çš„éºå‚³ç®—æ³•å®Œæ•´å¯¦ç¾>Pythonä¸­çš„éºå‚³ç®—æ³•å®Œæ•´å¯¦ç¾</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/b5f265c.html alt=ä¸€æ–‡è®€æ‡‚éºå‚³ç®—æ³•å·¥ä½œåŸç†ï¼é™„Pythonå¯¦ç¾ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/fde5cfc48c5a45d4891d621c7b4cc5e4 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/b5f265c.html title=ä¸€æ–‡è®€æ‡‚éºå‚³ç®—æ³•å·¥ä½œåŸç†ï¼é™„Pythonå¯¦ç¾>ä¸€æ–‡è®€æ‡‚éºå‚³ç®—æ³•å·¥ä½œåŸç†ï¼é™„Pythonå¯¦ç¾</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/e8e338f.html alt=åŸºæ–¼Pythonçš„éºå‚³ç®—æ³•ç‰¹å¾µç´„ç°¡ï¼ˆé™„ä»£ç¢¼ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p3.pstatp.com/large/pgc-image/4cf33c81f091401a93c3d1b5db2213de style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/e8e338f.html title=åŸºæ–¼Pythonçš„éºå‚³ç®—æ³•ç‰¹å¾µç´„ç°¡ï¼ˆé™„ä»£ç¢¼ï¼‰>åŸºæ–¼Pythonçš„éºå‚³ç®—æ³•ç‰¹å¾µç´„ç°¡ï¼ˆé™„ä»£ç¢¼ï¼‰</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/60f30bd.html alt="éºå‚³ç®—æ³•(Python) #2 åŸºæœ¬é‹ç®—æ–¹æ³•è©³è§£" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/c3dcdafb8df8476dbc472615f3131b59 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/60f30bd.html title="éºå‚³ç®—æ³•(Python) #2 åŸºæœ¬é‹ç®—æ–¹æ³•è©³è§£">éºå‚³ç®—æ³•(Python) #2 åŸºæœ¬é‹ç®—æ–¹æ³•è©³è§£</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/4a7d591.html alt="éºå‚³ç®—æ³•(Python) #5 ç”¨DEAPæ¡†æ¶è§£æ±ºOneMaxå•é¡Œ" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/3279ffb8082c491a967c683ae24bdfcb style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/4a7d591.html title="éºå‚³ç®—æ³•(Python) #5 ç”¨DEAPæ¡†æ¶è§£æ±ºOneMaxå•é¡Œ">éºå‚³ç®—æ³•(Python) #5 ç”¨DEAPæ¡†æ¶è§£æ±ºOneMaxå•é¡Œ</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/00fec97.html alt=éºå‚³ç®—æ³•ç¶œåˆæŒ‡å—ï¼ˆä»¥åŠå¦‚ä½•Pythonç·¨ç¢¼ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/15354276244373403483b2e style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/00fec97.html title=éºå‚³ç®—æ³•ç¶œåˆæŒ‡å—ï¼ˆä»¥åŠå¦‚ä½•Pythonç·¨ç¢¼ï¼‰>éºå‚³ç®—æ³•ç¶œåˆæŒ‡å—ï¼ˆä»¥åŠå¦‚ä½•Pythonç·¨ç¢¼ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/f74c4fe8.html alt=å¾é›¶é–‹å§‹æœå‹™å™¨æ­å»ºwordpressç¶²ç«™è©³ç´°å»ºç«™æ•™ç¨‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/991db5d6ab1c4209bc6bb9fb185a69b3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/f74c4fe8.html title=å¾é›¶é–‹å§‹æœå‹™å™¨æ­å»ºwordpressç¶²ç«™è©³ç´°å»ºç«™æ•™ç¨‹>å¾é›¶é–‹å§‹æœå‹™å™¨æ­å»ºwordpressç¶²ç«™è©³ç´°å»ºç«™æ•™ç¨‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/91eece92.html alt="åªéœ€ 45 ç§’ï¼ŒPython çµ¦æ•…å®®ç•«ä¸€çµ„æ‰‹ç¹ªåœ–ï¼" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/df1bd890ffee4a439e9f5142ae42c102 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/91eece92.html title="åªéœ€ 45 ç§’ï¼ŒPython çµ¦æ•…å®®ç•«ä¸€çµ„æ‰‹ç¹ªåœ–ï¼">åªéœ€ 45 ç§’ï¼ŒPython çµ¦æ•…å®®ç•«ä¸€çµ„æ‰‹ç¹ªåœ–ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8aab963e.html alt=Pythonæ‰‹ç¹ªåœ–ç­è§£ä¸€ä¸‹ï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/746c9e6e214b48b2a0215fc9e151cdc8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8aab963e.html title=Pythonæ‰‹ç¹ªåœ–ç­è§£ä¸€ä¸‹ï¼>Pythonæ‰‹ç¹ªåœ–ç­è§£ä¸€ä¸‹ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cfd854c6.html alt=æ•…å®®ä¸‹é›ªäº†ï¼æˆ‘ç”¨Pythonçµ¦å®ƒç•«äº†ä¸€çµ„æ‰‹ç¹ªåœ–ï¼Œåƒ…ç”¨45ç§’ï¼ˆé™„ä»£ç¢¼ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/774d2f0a372f48c589ec84dd3a164dd9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cfd854c6.html title=æ•…å®®ä¸‹é›ªäº†ï¼æˆ‘ç”¨Pythonçµ¦å®ƒç•«äº†ä¸€çµ„æ‰‹ç¹ªåœ–ï¼Œåƒ…ç”¨45ç§’ï¼ˆé™„ä»£ç¢¼ï¼‰>æ•…å®®ä¸‹é›ªäº†ï¼æˆ‘ç”¨Pythonçµ¦å®ƒç•«äº†ä¸€çµ„æ‰‹ç¹ªåœ–ï¼Œåƒ…ç”¨45ç§’ï¼ˆé™„ä»£ç¢¼ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/97886d06.html alt="webå‰ç«¯ï¼ˆå¾é›¶é–‹å§‹ï¼‰ï¼Œæ¯å¤©æ›´æ–°å­¸ç¿’ç­†è¨˜ HTML5å…ƒç´ åˆ†é¡" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/46d70004fcd55e1ddad3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/97886d06.html title="webå‰ç«¯ï¼ˆå¾é›¶é–‹å§‹ï¼‰ï¼Œæ¯å¤©æ›´æ–°å­¸ç¿’ç­†è¨˜ HTML5å…ƒç´ åˆ†é¡">webå‰ç«¯ï¼ˆå¾é›¶é–‹å§‹ï¼‰ï¼Œæ¯å¤©æ›´æ–°å­¸ç¿’ç­†è¨˜ HTML5å…ƒç´ åˆ†é¡</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b433c17e.html alt="å››åã€Pythonæ¨¡å¡Šrandom: å½éš¨æ©Ÿæ•¸æ“šç”Ÿæˆèˆ‡éš¨æ©Ÿå…ƒç´ æŠ½å–" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/25f231d6-c1ce-4cf8-8988-5da509a0c26a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b433c17e.html title="å››åã€Pythonæ¨¡å¡Šrandom: å½éš¨æ©Ÿæ•¸æ“šç”Ÿæˆèˆ‡éš¨æ©Ÿå…ƒç´ æŠ½å–">å››åã€Pythonæ¨¡å¡Šrandom: å½éš¨æ©Ÿæ•¸æ“šç”Ÿæˆèˆ‡éš¨æ©Ÿå…ƒç´ æŠ½å–</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/04486eba.html alt=Pythonçˆ¬èŸ²ä½¿ç”¨seleniumçˆ¬å–ç¾¤æˆå“¡ä¿¡æ¯ï¼ˆå…¨è‡ªå‹•å¯¦ç¾è‡ªå‹•ç™»é™¸ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/e11e69f643584941aaa2b71ee6ed3d7f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/04486eba.html title=Pythonçˆ¬èŸ²ä½¿ç”¨seleniumçˆ¬å–ç¾¤æˆå“¡ä¿¡æ¯ï¼ˆå…¨è‡ªå‹•å¯¦ç¾è‡ªå‹•ç™»é™¸ï¼‰>Pythonçˆ¬èŸ²ä½¿ç”¨seleniumçˆ¬å–ç¾¤æˆå“¡ä¿¡æ¯ï¼ˆå…¨è‡ªå‹•å¯¦ç¾è‡ªå‹•ç™»é™¸ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/86b46e6d.html alt=Pythonçˆ¬èŸ²æ•™ç¨‹ï¼Œåˆ©ç”¨Pythonæ¡é›†QQç¾¤æˆå“¡ä¿¡æ¯ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6d6cce76ad48405c9dbb960d4617bcef style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/86b46e6d.html title=Pythonçˆ¬èŸ²æ•™ç¨‹ï¼Œåˆ©ç”¨Pythonæ¡é›†QQç¾¤æˆå“¡ä¿¡æ¯>Pythonçˆ¬èŸ²æ•™ç¨‹ï¼Œåˆ©ç”¨Pythonæ¡é›†QQç¾¤æˆå“¡ä¿¡æ¯</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>