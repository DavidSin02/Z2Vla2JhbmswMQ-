<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>éºå‚³ç®—æ³•(Python) #5 ç”¨DEAPæ¡†æ¶è§£æ±ºOneMaxå•é¡Œ | æå®¢å¿«è¨Š</title><meta property="og:title" content="éºå‚³ç®—æ³•(Python) #5 ç”¨DEAPæ¡†æ¶è§£æ±ºOneMaxå•é¡Œ - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="http://p1.pstatp.com/large/pgc-image/3279ffb8082c491a967c683ae24bdfcb"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/4a7d591.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/4a7d591.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/4a7d591.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/4a7d591.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/4a7d591.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/4a7d591.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/4a7d591.html><link rel=canonical href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/4a7d591.html><meta property="article:published_time" content="2020-10-29T20:46:33+08:00"><meta property="article:modified_time" content="2020-10-29T20:46:33+08:00"><meta name=Keywords content><meta name=description content="éºå‚³ç®—æ³•(Python) #5 ç”¨DEAPæ¡†æ¶è§£æ±ºOneMaxå•é¡Œ"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E9%81%8A%E6%88%B2/4a7d591.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>éºå‚³ç®—æ³•(Python) #5 ç”¨DEAPæ¡†æ¶è§£æ±ºOneMaxå•é¡Œ</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E9%81%8A%E6%88%B2.html>éŠæˆ²</a></span></div><div class=post-content><p>éºå‚³ç®—æ³•ç³»åˆ—çš„ç¬¬ä¸‰æœŸä»‹ç´¹ç­å¦‚ä½•ä¸ç”¨ä»»ä½•æ¡†æ¶å¾é›¶é–‹å§‹è§£æ±ºOneMaxå•é¡Œï¼Œç¬¬å››æœŸä»‹ç´¹äº†DEAPæ¡†æ¶çš„åŸºæœ¬ç”¨æ³•ã€‚è‹¥è®€è€…å°ä¸‹æ–‡ä¸­å®šç¾©æˆ–è¡“èªä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥æŸ¥çœ‹æœ¬ç³»åˆ—çš„å‰å¹¾ç¯‡æ–‡ç« ã€‚æœ¬æœŸæ–‡ç« å°‡ä»‹ç´¹å¦‚ä½•ä½¿ç”¨DEAPè§£æ±ºOneMaxå•é¡Œã€‚</p><h2 class=pgc-h-arrow-right>1.OneMaxå•é¡Œ(OneMax problem)</h2><p>OneMaxå•é¡Œæ˜¯éºå‚³ç®—æ³•çš„å…¥é–€å•é¡Œï¼Œå…¶å…§å®¹æ˜¯ï¼šå¦‚ä½•ä½¿ä¸€æ®µé•·åº¦å›ºå®šçš„äºŒé€²åˆ¶å­—ç¬¦ä¸²æ‰€æœ‰ä½ç½®ä¸Šæ•¸å­—ä¹‹å’Œæœ€å¤§ã€‚</p><p>è®“æˆ‘å€‘ç”¨ä¸€å€‹é•·åº¦ç‚º5çš„äºŒé€²åˆ¶å­—ç¬¦ä¸²ç‚ºä¾‹ï¼š</p><ul><li>10010 -> å’Œç‚º2</li><li>00111 -> å’Œç‚º3</li><li>11111 -> å’Œç‚º5(æœ€å¤§å€¼)</li></ul><p>å°ä¸€èˆ¬äººï¼Œé¡¯è€Œæ˜“è¦‹ï¼Œç•¶æ‰€æœ‰ä½æ•¸éƒ½ç‚º1æ™‚ï¼Œè©²å­—ç¬¦ä¸²çš„å’Œæœ€å¤§ï¼Œä½†åœ¨æˆ‘å€‘ç”¨éºå‚³ç®—æ³•è§£æ±ºè©²å•é¡Œæ™‚ï¼Œç®—æ³•æœ¬èº«ä¸¦ä¸å…·å‚™é€™æ¨£çš„çŸ¥è­˜ã€‚</p><h2 class=pgc-h-arrow-right>2.å•é¡Œçš„è§£æ±ºæ€è·¯</h2><p>é¦–å…ˆï¼Œæˆ‘å€‘å¾—æŠŠé€™å€‹å•é¡Œè½‰æ›æˆä¸€å€‹éºå‚³ç®—æ³•å•é¡Œï¼Œå³ï¼šæˆ‘å€‘å¾—å®šç¾©å€‹é«”ã€ç¨®ç¾¤ï¼Œé¸æ“‡ã€é›œäº¤ã€çªè®Šæ–¹æ³•ã€é©æ‡‰åº¦å‡½æ•¸ç­‰ã€‚å‡è¨­æœ‰ä¸€å€‹é•·åº¦ç‚º100çš„å­—ç¬¦ä¸²ï¼Œæˆ‘å€‘å¯ä»¥åšå‡ºä»¥ä¸‹å®šç¾©ï¼š</p><ul><li>å€‹é«”ï¼šå€‹é«”å³ç‚ºå•é¡Œçš„è§£ï¼Œé€™å€‹å•é¡Œä¸­å€‹é«”å¯ä»¥ç›´è§€çš„å®šç¾©ç‚ºä¸€å€‹é•·åº¦ç‚º100åˆ—è¡¨ï¼ˆListï¼‰ï¼Œåˆ—è¡¨ä¸Šæ¯å€‹å…ƒç´ ç‚º0æˆ–1.</li><li>ç¨®ç¾¤ï¼šç¨®ç¾¤å³æ‰€æœ‰å€‹é«”çš„åˆé›†ï¼Œæˆ‘å€‘å¯ä»¥æŠŠç¨®ç¾¤å®šç¾©ç‚ºæ‰€æœ‰å€‹é«”çµ„æˆçš„åˆ—è¡¨ã€‚</li><li>é¸æ“‡ï¼šä½¿ç”¨éŒ¦æ¨™è³½æ³•(Tournament Selection)</li><li>é›œäº¤ï¼šä½¿ç”¨å–®é»é›œäº¤æ³•(Singe-Point Crossover)</li><li>çªè®Šï¼šä½¿ç”¨ä½ç¿»è½‰çªè®Šæ³•(Flip Bit Mutation)</li><li>é©æ‡‰åº¦å‡½æ•¸ï¼š æˆ‘å€‘çš„ç›®æ¨™æ˜¯ä½¿å­—ç¬¦ä¸²ä¸Šæ‰€æœ‰æ•¸å­—ä¹‹å’Œæœ€å¤§ï¼Œé©æ‡‰åº¦å‡½æ•¸å¯ä»¥ç›´è§€çš„å®šç¾©ç‚ºåˆ—è¡¨ä¸­æ‰€æœ‰æ•¸å­—ä¹‹å’Œã€‚</li></ul><p>è‹¥å°ä¸Šè¿°å®šç¾©ä¸å¤ªç­è§£çš„ï¼Œå¯ä»¥å›çœ‹éºå‚³ç®—æ³•ç³»åˆ—çš„ç¬¬äºŒæœŸã€‚</p><h2 class=pgc-h-arrow-right>3.ç”¨DEAPæ¡†æ¶å¯¦ç¾éºå‚³ç®—æ³•</h2><p>ä»¥ä¸‹å°‡åˆ†æ­¥é©Ÿè§£é‡‹æ¯ä¸€éƒ¨åˆ†çš„ä»£ç¢¼ï¼Œå®Œæ•´ä»£ç¢¼åœ¨æœ¬æ–‡çš„æœ€å¾Œå¯è¦‹ã€‚</p><h3 class=pgc-h-arrow-right>3.1. æº–å‚™å·¥ä½œ</h3><pre><code># 1.load modulesfrom deap import base,creator,tools,algorithmsimport randomimport numpy as npimport matplotlib.pyplot as plttoolbox = base.Toolbox()</code></pre><p>é¦–å…ˆæˆ‘å€‘éœ€è¦å°å…¥éºå‚³ç®—æ³•æ‰€å¿…é ˆçš„æ¨¡çµ„ï¼š</p><ul><li>baseï¼Œcreatorï¼Œtoolsï¼Œalgorithmsï¼š é€™å››å€‹æ¨¡çµ„æ˜¯DEAPæ¡†æ¶å…§æœ€å¸¸ç”¨çš„æ¨¡çµ„</li><li>random: ç”¨ä»¥ç”Ÿæˆéš¨æ©Ÿæ•¸</li><li>numpyï¼šæˆ‘å€‘å°‡ç”¨åˆ° numpy ä¸­çš„ mean å’Œ max æ–¹ç¨‹ã€‚</li><li>matplotlibï¼š ç”¨ä»¥ç¹ªåœ–</li><li>toolboxï¼šDEAPæ¡†æ¶ä¸­çš„æ ¸å¿ƒï¼Œç•¶ä½¿ç”¨deap.algorithmsæ™‚ï¼Œæˆ‘å€‘éœ€è¦æŠŠéºå‚³ç®—æ³•çš„é‹ç®—ç¬¦å­˜å…¥toolboxå…§ã€‚ åŒæ™‚toolbox.registerä¹Ÿæ˜¯DEAPä¸­æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚</li></ul><h3 class=pgc-h-arrow-right>3.2. åˆå§‹åŒ–ç®—æ³•åƒæ•¸</h3><pre><code># 2.parameters:INDIVIDUAL_LENGTH = 100  # length of bit string to be optimizedPOPULATION_SIZE = 200P_CROSSOVER = 0.9  # probability for crossoverP_MUTATION = 0.1   # probability for mutating an individualMAX_GENERATIONS = 50random.seed(39)</code></pre><ul><li>INDIVIDUAL_LENGTHï¼šå€‹é«”çš„â€œé•·åº¦â€ï¼Œå³äºŒé€²åˆ¶å­—ç¬¦ä¸²çš„é•·åº¦</li><li>POPULATION_SIZE: ç¨®ç¾¤ä¸­å€‹é«”çš„æ•¸ç›®</li><li>P_CROSSOVER: å€‹é«”é–“äº¤é›œçš„æ¦‚ç‡</li><li>P_MUTATION: å€‹é«”çªè®Šçš„æ¦‚ç‡</li><li>MAX_GENERATIONS: ç®—æ³•è¿­ä»£æ¬¡æ•¸ä¸Šé™</li><li>random.seedï¼šç‚ºäº†ä¿è­‰æ¯æ¬¡é‹è¡Œçš„çµæœç›¸åŒï¼Œè¨­å®šäº†éš¨æ©Ÿç¨®å­</li></ul><h3 class=pgc-h-arrow-right>3.3. å®šç¾©å€‹é«”èˆ‡ç¨®ç¾¤</h3><pre><code># 3.create individual and populationtoolbox.register("genBinary", random.randint, 0, 1) # 1creator.create("FitnessMax", base.Fitness, weights=(1.0,)) # 2creator.create("Individual", list, fitness=creator.FitnessMax) # 3toolbox.register("createIndividual", tools.initRepeat, creator.Individual, toolbox.genBinary, INDIVIDUAL_LENGTH) # 4toolbox.register("createPopulation", tools.initRepeat, list, toolbox.createIndividual) # 5</code></pre><ol start=1><li>é€™ä¸€åˆ—å®šäº†genBinaryæ–¹ç¨‹ï¼šè©²å‡½æ•¸å¯ä»¥éš¨æ©Ÿç”Ÿæˆ0æˆ–1ï¼›é€šétoolbox.register()å®šç¾©å¾Œï¼Œæˆ‘å€‘å¯ä»¥é€šétoolbox.genBinary()ç›´æ¥ä½¿ç”¨è©²å‡½æ•¸ã€‚</li><li>å› ç‚ºåœ¨OneMaxå•é¡Œä¸­ï¼Œæˆ‘å€‘éœ€è¦é©æ‡‰åº¦çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥æˆ‘å€‘æ‹“å±•base.Fitnessé¡ï¼Œä¸¦å°‡æ‹“å±•å¾Œçš„é¡å‘½åç‚ºFitnessMaxï¼Œä¸¦è¨­å®šå…¶æ¬Šé‡ç‚º(1.0,)ï¼Œä»£è¡¨æ±‚æœ€å¤§å€¼ï¼ˆåœ¨å…¶ä»–å•é¡Œä¸­ï¼Œå¦‚æœéœ€è¦æ±‚æœ€å°å€¼çš„ï¼Œå¯ä»¥å®šç¾©æ¬Šé‡ç‚º(-1.0,)ï¼‰ã€‚</li></ol><ul><li>åœ¨é€™è£¡æ³¨æ„æˆ‘å€‘å®šç¾©æ¬Šé‡æ˜¯(1.0,)è€Œä¸æ˜¯1.0ï¼Œå…¶åŸå› æ˜¯DEAPæ¡†æ¶æ”¯æŒæ±‚å¤šå€‹ç›®æ¨™çš„çš„æœ€å¤§/æœ€å°å€¼ï¼Œæ‰€ä»¥æˆ‘å€‘å¿…é ˆå®šç¾©æ¬Šé‡ç‚ºå…ƒçµ„ï¼ˆtupleï¼‰ã€‚</li><li>ç•¶åœ¨å…¶ä»–å•é¡Œä¸­æˆ‘å€‘çš„é©æ‡‰åº¦æ–¹ç¨‹æœ‰å¤šå€‹ç›®æ¨™ï¼šå¦‚ç•¶æˆ‘å€‘éœ€è¦ç¬¬ä¸€å€‹ç›®æ¨™æœ€å¤§ï¼ŒåŒæ™‚ç¬¬äºŒå€‹ç›®æ¨™æœ€å°ï¼Œä¸”ç¬¬ä¸€å€‹ç›®æ¨™çš„é‡è¦æ€§æ˜¯ç¬¬äºŒå€‹ç›®æ¨™çš„å…©å€æ™‚ï¼Œæ¬Šé‡å¯ä»¥å®šç¾©ç‚ºï¼š(1.0,-0.5)</li></ul><ol start=3><li>å‰µå»ºIndividualé¡ï¼Œä¸¦è®“FitnessMaxåšç‚ºIndividualçš„fitnessç‰¹æ€§(attribute)</li></ol><ol start=4><li>å®šç¾©createIndividualæ–¹ç¨‹ï¼šè©²æ–¹ç¨‹å¯ä»¥ç”Ÿæˆé•·åº¦ç‚ºINDIVIDUAL_LENGTHçš„åˆ—è¡¨ï¼Œé€šéèª¿ç”¨genBinaryå‡½æ•¸ï¼Œåˆ—è¡¨å…§æ¯å€‹å…ƒç´ éš¨æ©Ÿç‚º0æˆ–1.</li></ol><ol start=5><li>å®šç¾©createPopulationæ–¹ç¨‹ï¼šè©²æ–¹ç¨‹å¯ä»¥ç”Ÿæˆé•·åº¦å¾…å®šçš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­æ¯å€‹å…ƒç´ ç”±createIndividualæ–¹ç¨‹å‰µå»ºã€‚</li></ol><ul><li>æ³¨æ„createPopulationæ–¹ç¨‹ä¸¦æ²’æœ‰å®šç¾©åˆ—è¡¨çš„é•·åº¦ï¼Œé€™æ˜¯å› ç‚ºtoolbox.registerä¸­ç”¨åˆ°äº†functools.partialæ–¹ç¨‹ï¼Œå°šæœªå®šç¾©çš„åƒæ•¸æœƒä»¥*argsæˆ–**kwargsçš„å½¢å¼å‚³éçµ¦tools.initRepeatæ–¹ç¨‹ã€‚</li></ul><p>å¦‚æœè®€è€…å°DEAPæ¡†æ¶å…§çš„æ–¹ç¨‹ä¸å¤ªç­è§£ï¼Œçœ‹å®Œä¸Šè¿°è§£é‡‹å¾Œé‚„æ˜¯æ„Ÿè¦ºäº”é‡Œéœ§ä¸­ï¼Œå»ºè­°æŸ¥çœ‹æœ¬ç³»åˆ—å‰å…©æœŸæ–‡ç« ï¼Œæˆ–è€…åˆ°DEAPå®˜ç¶²ä¸Šå¤šç­è§£ä¸‹é€™äº›æ–¹ç¨‹çš„å®šç¾©ã€‚</p><h3 class=pgc-h-arrow-right>3.4. å®šç¾©é©æ‡‰åº¦å‡½æ•¸</h3><pre><code># 4. define evaluation functiontoolbox.register("evaluate", lambda ind: (sum(ind),))</code></pre><p>åœ¨OneMaxå•é¡Œä¸­ï¼Œé©æ‡‰åº¦å‡½æ•¸å³ç‚ºå€‹é«”ï¼ˆç”¨äºŒé€²åˆ¶å­—ç¬¦ä¸²è¡¨ç¤ºï¼‰ä¸Šæ‰€æœ‰æ•¸å­—ä¹‹å’Œ,å› æ­¤æˆ‘å€‘å°‡é©æ‡‰åº¦å‡½æ•¸å®šç¾©ç‚º(sum(ind),)ã€‚</p><p><strong>åœ¨é€™è£¡è«‹ç‰¹åˆ¥æ³¨æ„</strong>ï¼š</p><ul><li>å› ç‚ºDEAPæ¡†æ¶æ”¯æŒæœ‰å¤šå€‹ç›®æ¨™çš„é©æ‡‰åº¦å‡½æ•¸ï¼Œæ‰€ä»¥æˆ‘å€‘å¿…é ˆæŠŠé©æ‡‰åº¦å‡½æ•¸çš„è¼¸å‡ºå®šç¾©ç‚ºå…ƒçµ„ã€‚</li><li>evaluateæ˜¯é—œéµè©ï¼Œè‹¥è¦ä½¿ç”¨DEAPæ¡†æ¶ï¼Œå¿…é ˆä½¿ç”¨evaluateé€™å€‹å–®è©ä¾†å‘½åé©æ‡‰åº¦å‡½æ•¸ã€‚</li></ul><h3 class=pgc-h-arrow-right>3.5. å®šç¾©éºå‚³ç®—æ³•é‹ç®—ç¬¦ï¼ˆé¸æ“‡ï¼Œé›œäº¤ï¼Œçªè®Šï¼‰</h3><pre><code># 5. define operatorstoolbox.register("select", tools.selTournament, tournsize=2)toolbox.register("mate", tools.cxOnePoint)toolbox.register("mutate", tools.mutFlipBit, indpb=1.0/INDIVIDUAL_LENGTH)</code></pre><ul><li>select:éŒ¦æ¨™è³½æ³•ä½œç‚ºé¸æ“‡é‹ç®—ç¬¦,tournsizeè¡¨ç¤ºéŒ¦æ¨™è³½çš„å¤§å°</li><li>mate:å–®é»é›œäº¤ä½œç‚ºé›œäº¤é‹ç®—ç¬¦</li><li>mutate:å¤šä½ç¿»è½‰çªè®Šä½œç‚ºçªè®Šé‹ç®—ç¬¦ï¼Œindpbè¡¨ç¤ºäº†æ¯ä¸€å€‹ä½ç½®ä¸ŠåŸºå› çªè®Šçš„æ¦‚ç‡ã€‚åœ¨æœ¬æ–‡ä¸­INDIVIDUAL_LENGTHé»˜èªç‚º100ï¼Œ å³æ¯å€‹é«”æ ¼ç”±ä¸€ç™¾å€‹äºŒé€²åˆ¶å­—ç¬¦çµ„æˆï¼Œæ¯å€‹å­—ç¬¦çªè®Šçš„æ¦‚ç‡ç‚º1%</li></ul><p><strong>è«‹ç‰¹åˆ¥æ³¨æ„ï¼š</strong></p><p>select, mate, mutateéƒ½æ˜¯DEAPæ¡†æ¶ä¸­çš„é—œéµè©ï¼Œåœ¨å®šç¾©é‹ç®—ç¬¦æ™‚ï¼Œå¿…é ˆä½¿ç”¨ä½¿ç”¨é€™å¹¾å€‹å–®è©ã€‚</p><h3 class=pgc-h-arrow-right>3.6. é‹è¡Œéºå‚³ç®—æ³•</h3><pre><code># Genetic Algorithm flow:def main():    # create population    population = toolbox.createPopulation(n=POPULATION_SIZE)    # initialize statistics    stats = tools.Statistics(lambda ind: ind.fitness.values)    stats.register("max", np.max)    stats.register("avg", np.mean)    # Genetic Algorithm    population, logbook = algorithms.eaSimple(population, toolbox, cxpb=P_CROSSOVER,     mutpb=P_MUTATION, ngen=MAX_GENERATIONS,stats=stats, verbose=True)    # gather statistics    maxFitnessValues, meanFitnessValues = logbook.select("max", "avg")    # plot statistics:    plt.plot(maxFitnessValues, color='red',label="Max Fitness")    plt.plot(meanFitnessValues, color='green',label="Average Fitness")    plt.legend()    plt.xlabel('Generation')    plt.ylabel('Fitness')    plt.title('Max and Average Fitness over Generations')    plt.show()    print(max(population,key=lambda ind:sum(ind)))if __name__ == "__main__":    main()</code></pre><p>åœ¨ä¸Šè¿°ä»£ç¢¼ä¸­ï¼Œæˆ‘å€‘å®šç¾©äº†main()æ–¹ç¨‹ï¼Œé‹è¡Œè©²æ–¹ç¨‹å°±å¯ä»¥é€²è¡Œéºå‚³ç®—æ³•çš„é‹ç®—ï¼ŒåŒæ™‚ç”Ÿæˆå°æ‡‰çš„çµ±è¨ˆæ•¸æ“šèˆ‡åœ–è¡¨ã€‚</p><p>è©²æ–¹ç¨‹ä¸­æœ‰ä»¥ä¸‹æ­¥é©Ÿï¼š</p><ol start=1><li>å‰µå»ºç¨®ç¾¤:ç¨®ç¾¤å¤§å°ç‚ºPOPULATION_SIZE</li><li>åˆå§‹åŒ–stats: æŠŠå€‹é«”çš„é©æ‡‰åº¦æ”¶é›†é€²tools.Statisticså°è±¡ã€‚</li><li>é€šéalgorithms.eaSimpleæ–¹ç¨‹é‹è¡Œéºå‚³ç®—æ³•ï¼Œä¸¦å°‡æœ€çµ‚çš„ç¨®ç¾¤èˆ‡çµ±è¨ˆæ•¸æ“šåˆ†åˆ¥å­˜å…¥populationå’Œlogbbokè®Šé‡ï¼š</li></ol><ul><li>populationï¼šåˆå§‹çš„ç¨®ç¾¤</li><li>toolboxï¼štoolboxè®Šé‡ï¼Œè©²è®Šé‡å…§åŒ…æ‹¬äº†æˆ‘å€‘ä¹‹å‰å®šç¾©çš„evaluate, select, mate å’Œ mutateæ–¹ç¨‹</li><li>cxpbï¼šé›œäº¤æ¦‚ç‡</li><li>mutpbï¼šçªè®Šæ¦‚ç‡</li><li>ngenï¼šæœ€å¤§è¿­ä»£ä»£æ•¸</li><li>statsï¼šStatisticså°è±¡ï¼Œç”¨ä»¥å„²å­˜è¿­ä»£éç¨‹ä¸­æ¯ä¸€ä»£ç¨®ç¾¤çš„æ•¸æ“š</li><li>verboseï¼šåœ¨è¿­ä»£éç¨‹ä¸­æ˜¯å¦å°‡Statisticsè¼¸å‡ºè‡³æ¨™æº–è¼¸å‡º</li></ul><ol start=4><li>å¾logbookè®Šé‡ä¸­ç²å–æ¯ä¸€ä»£é©æ‡‰åº¦çš„æœ€å¤§å€¼å’Œå‡å€¼</li></ol><ol start=5><li>ä½¿ç”¨æ”¶é›†çš„æ•¸æ“šç•«åœ–ï¼Œä¸¦é¡¯ç¤ºé©æ‡‰åº¦æœ€é«˜çš„å€‹é«”ï¼Œå³æœ€å„ªè§£ã€‚</li></ol><div class=pgc-img><img alt="éºå‚³ç®—æ³•(Python) #5 ç”¨DEAPæ¡†æ¶è§£æ±ºOneMaxå•é¡Œ" onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/3279ffb8082c491a967c683ae24bdfcb><p class=pgc-img-caption></p></div><h2 class=pgc-h-arrow-right>4. é‹ç®—çµæœ</h2><p>ç”±ä¸‹åœ–æ‰€ç¤ºï¼Œåœ¨ç¬¬38ä»£ç®—æ³•å·²ç¶“ç”¢ç”Ÿäº†æœ€å„ªè§£ï¼Œå³å€‹é«”æ‰€æœ‰ä½ç½®ä¸Šéƒ½ç‚º1ï¼š[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]</p><p><br></p><p>ç•¶æˆ‘å€‘è¨­ç½®verbose=Trueæ™‚ï¼Œalgorithms.eaSimpleæœƒåœ¨è¿­ä»£éç¨‹ä¸­å¯¦æ™‚ç”Ÿæˆæ¯ä¸€ä»£çš„æ•¸æ“šä¸¦è¼¸å‡ºè‡³æ¨™æº–è¼¸å‡ºï¼š</p><pre><code>gen     nevals  max     avg  0       200     65      50.351       191     62      52.9052       175     65      55.2253       189     67      57.3454       169     68      59.25 5       176     72      61.2856       170     73      63.3457       182     73      65.1658       179     74      66.8359       181     78      68.47510      188     80      70.13 11      178     82      71.95 12      189     81      73.75513      188     82      75.14514      194     83      76.75515      176     83      78.29 16      182     83      79.35 17      169     85      80.34 18      177     86      81.37 19      178     86      82.43520      184     87      83.31 21      179     88      84.17522      179     89      84.83523      179     90      85.57524      188     91      86.52525      189     93      87.55 26      181     94      88.44 27      190     94      89.31 28      185     95      89.94 29      174     96      90.7  30      188     98      91.41 31      180     98      92.19532      177     98      93.00533      179     98      93.83 34      175     98      94.55535      185     99      95.16536      179     99      95.72537      188     99      96.34538      182     100     97.0439      184     100     97.6340      183     100     98.0341      177     100     98.3742      192     100     98.68543      186     100     98.98544      175     100     99.32545      187     100     99.56546      171     100     99.7347      180     100     99.8948      186     100     99.8749      189     100     99.9150      187     100     99.9</code></pre><h2 class=pgc-h-arrow-right>5. å°çµ</h2><p>æœ¬æ–‡ä¸­ä»‹ç´¹ç­å¦‚ä½•ä½¿ç”¨DEAPæ¡†æ¶ä¾†è§£æ±ºOneMaxå•é¡Œ,æœ¬ç³»åˆ—çš„æ¥ä¸‹ä¾†å¹¾ç¯‡æ–‡ä¸­ï¼Œæˆ‘å°‡è©³ç´°è§£é‡‹algorithms.eaSimpleå¦‚ä½•é‹ä½œï¼Œä»¥åŠå¦‚ä½•è‡ªå®šç¾©tools.Statisticså’Œlogbookã€‚</p><h2 class=pgc-h-arrow-right>6. å®Œæ•´ä»£ç¢¼</h2><pre><code># 1.load modulesfrom deap import base,creator,tools,algorithmsimport randomimport numpy as npimport matplotlib.pyplot as plttoolbox = base.Toolbox()# 2.parameters:INDIVIDUAL_LENGTH = 100  # length of bit string to be optimizedPOPULATION_SIZE = 200P_CROSSOVER = 0.9  # probability for crossoverP_MUTATION = 0.1   # probability for mutating an individualMAX_GENERATIONS = 50random.seed(39)# 3.create individual and populationtoolbox.register("genBinary", random.randint, 0, 1)creator.create("FitnessMax", base.Fitness, weights=(1.0,))creator.create("Individual", list, fitness=creator.FitnessMax)toolbox.register("createIndividual", tools.initRepeat, creator.Individual, toolbox.genBinary, INDIVIDUAL_LENGTH)toolbox.register("createPopulation", tools.initRepeat, list, toolbox.createIndividual)# 4. define evaluation functiontoolbox.register("evaluate", lambda ind: (sum(ind),))# 5. define operatorstoolbox.register("select", tools.selTournament, tournsize=2)toolbox.register("mate", tools.cxOnePoint)toolbox.register("mutate", tools.mutFlipBit, indpb=1.0/INDIVIDUAL_LENGTH)# Genetic Algorithm flow:def main():    # create population    population = toolbox.createPopulation(n=POPULATION_SIZE)    # initialize statistics    stats = tools.Statistics(lambda ind: ind.fitness.values)    stats.register("max", np.max)    stats.register("avg", np.mean)    # Genetic Algorithm    population, logbook = algorithms.eaSimple(population, toolbox, cxpb=P_CROSSOVER,     mutpb=P_MUTATION, ngen=MAX_GENERATIONS,stats=stats, verbose=True)    # gather statistics    maxFitnessValues, meanFitnessValues = logbook.select("max", "avg")    # plot statistics:    plt.plot(maxFitnessValues, color='red',label="Max Fitness")    plt.plot(meanFitnessValues, color='green',label="Average Fitness")    plt.legend()    plt.xlabel('Generation')    plt.ylabel('Fitness')    plt.title('Max and Average Fitness over Generations')    plt.show()if __name__ == "__main__":    main()</code></pre></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>éºå‚³</a></li><li><a>Python</a></li><li><a>DEAP</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E9%81%8A%E6%88%B2/388a5f0.html alt=Pythonç·¨å¯«éºå‚³ç®—æ³•å¯¦æˆ°ï¼Œæ•´æ•¸ç·¨ç¢¼ï¼Œå•Ÿç™¼å¼æœç´¢è§£æ±ºæ—…è¡Œå•†å•é¡Œ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p3.pstatp.com/large/dfic-imagehandler/f1d21356-1ef5-4ec5-a4a5-c5699b12bee1 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/388a5f0.html title=Pythonç·¨å¯«éºå‚³ç®—æ³•å¯¦æˆ°ï¼Œæ•´æ•¸ç·¨ç¢¼ï¼Œå•Ÿç™¼å¼æœç´¢è§£æ±ºæ—…è¡Œå•†å•é¡Œ>Pythonç·¨å¯«éºå‚³ç®—æ³•å¯¦æˆ°ï¼Œæ•´æ•¸ç·¨ç¢¼ï¼Œå•Ÿç™¼å¼æœç´¢è§£æ±ºæ—…è¡Œå•†å•é¡Œ</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/1c10283.html alt=Pythonä¸­çš„éºå‚³ç®—æ³•å®Œæ•´å¯¦ç¾ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/1531731137721602bd9c18c style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/1c10283.html title=Pythonä¸­çš„éºå‚³ç®—æ³•å®Œæ•´å¯¦ç¾>Pythonä¸­çš„éºå‚³ç®—æ³•å®Œæ•´å¯¦ç¾</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/b5f265c.html alt=ä¸€æ–‡è®€æ‡‚éºå‚³ç®—æ³•å·¥ä½œåŸç†ï¼é™„Pythonå¯¦ç¾ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/fde5cfc48c5a45d4891d621c7b4cc5e4 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/b5f265c.html title=ä¸€æ–‡è®€æ‡‚éºå‚³ç®—æ³•å·¥ä½œåŸç†ï¼é™„Pythonå¯¦ç¾>ä¸€æ–‡è®€æ‡‚éºå‚³ç®—æ³•å·¥ä½œåŸç†ï¼é™„Pythonå¯¦ç¾</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/e8e338f.html alt=åŸºæ–¼Pythonçš„éºå‚³ç®—æ³•ç‰¹å¾µç´„ç°¡ï¼ˆé™„ä»£ç¢¼ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p3.pstatp.com/large/pgc-image/4cf33c81f091401a93c3d1b5db2213de style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/e8e338f.html title=åŸºæ–¼Pythonçš„éºå‚³ç®—æ³•ç‰¹å¾µç´„ç°¡ï¼ˆé™„ä»£ç¢¼ï¼‰>åŸºæ–¼Pythonçš„éºå‚³ç®—æ³•ç‰¹å¾µç´„ç°¡ï¼ˆé™„ä»£ç¢¼ï¼‰</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/60f30bd.html alt="éºå‚³ç®—æ³•(Python) #2 åŸºæœ¬é‹ç®—æ–¹æ³•è©³è§£" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/c3dcdafb8df8476dbc472615f3131b59 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/60f30bd.html title="éºå‚³ç®—æ³•(Python) #2 åŸºæœ¬é‹ç®—æ–¹æ³•è©³è§£">éºå‚³ç®—æ³•(Python) #2 åŸºæœ¬é‹ç®—æ–¹æ³•è©³è§£</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/2c5f63f.html alt="éºå‚³ç®—æ³•(Python) #3 å¾é›¶é–‹å§‹è§£æ±ºOneMaxå•é¡Œ" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/5d69e28f41a44f81b8dd0bbe9f2f2b6f style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/2c5f63f.html title="éºå‚³ç®—æ³•(Python) #3 å¾é›¶é–‹å§‹è§£æ±ºOneMaxå•é¡Œ">éºå‚³ç®—æ³•(Python) #3 å¾é›¶é–‹å§‹è§£æ±ºOneMaxå•é¡Œ</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/00fec97.html alt=éºå‚³ç®—æ³•ç¶œåˆæŒ‡å—ï¼ˆä»¥åŠå¦‚ä½•Pythonç·¨ç¢¼ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/pgc-image/15354276244373403483b2e style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/00fec97.html title=éºå‚³ç®—æ³•ç¶œåˆæŒ‡å—ï¼ˆä»¥åŠå¦‚ä½•Pythonç·¨ç¢¼ï¼‰>éºå‚³ç®—æ³•ç¶œåˆæŒ‡å—ï¼ˆä»¥åŠå¦‚ä½•Pythonç·¨ç¢¼ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/91eece92.html alt="åªéœ€ 45 ç§’ï¼ŒPython çµ¦æ•…å®®ç•«ä¸€çµ„æ‰‹ç¹ªåœ–ï¼" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/df1bd890ffee4a439e9f5142ae42c102 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/91eece92.html title="åªéœ€ 45 ç§’ï¼ŒPython çµ¦æ•…å®®ç•«ä¸€çµ„æ‰‹ç¹ªåœ–ï¼">åªéœ€ 45 ç§’ï¼ŒPython çµ¦æ•…å®®ç•«ä¸€çµ„æ‰‹ç¹ªåœ–ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8aab963e.html alt=Pythonæ‰‹ç¹ªåœ–ç­è§£ä¸€ä¸‹ï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/746c9e6e214b48b2a0215fc9e151cdc8 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8aab963e.html title=Pythonæ‰‹ç¹ªåœ–ç­è§£ä¸€ä¸‹ï¼>Pythonæ‰‹ç¹ªåœ–ç­è§£ä¸€ä¸‹ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/cfd854c6.html alt=æ•…å®®ä¸‹é›ªäº†ï¼æˆ‘ç”¨Pythonçµ¦å®ƒç•«äº†ä¸€çµ„æ‰‹ç¹ªåœ–ï¼Œåƒ…ç”¨45ç§’ï¼ˆé™„ä»£ç¢¼ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/774d2f0a372f48c589ec84dd3a164dd9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/cfd854c6.html title=æ•…å®®ä¸‹é›ªäº†ï¼æˆ‘ç”¨Pythonçµ¦å®ƒç•«äº†ä¸€çµ„æ‰‹ç¹ªåœ–ï¼Œåƒ…ç”¨45ç§’ï¼ˆé™„ä»£ç¢¼ï¼‰>æ•…å®®ä¸‹é›ªäº†ï¼æˆ‘ç”¨Pythonçµ¦å®ƒç•«äº†ä¸€çµ„æ‰‹ç¹ªåœ–ï¼Œåƒ…ç”¨45ç§’ï¼ˆé™„ä»£ç¢¼ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/b433c17e.html alt="å››åã€Pythonæ¨¡å¡Šrandom: å½éš¨æ©Ÿæ•¸æ“šç”Ÿæˆèˆ‡éš¨æ©Ÿå…ƒç´ æŠ½å–" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/25f231d6-c1ce-4cf8-8988-5da509a0c26a style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/b433c17e.html title="å››åã€Pythonæ¨¡å¡Šrandom: å½éš¨æ©Ÿæ•¸æ“šç”Ÿæˆèˆ‡éš¨æ©Ÿå…ƒç´ æŠ½å–">å››åã€Pythonæ¨¡å¡Šrandom: å½éš¨æ©Ÿæ•¸æ“šç”Ÿæˆèˆ‡éš¨æ©Ÿå…ƒç´ æŠ½å–</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/04486eba.html alt=Pythonçˆ¬èŸ²ä½¿ç”¨seleniumçˆ¬å–ç¾¤æˆå“¡ä¿¡æ¯ï¼ˆå…¨è‡ªå‹•å¯¦ç¾è‡ªå‹•ç™»é™¸ï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/e11e69f643584941aaa2b71ee6ed3d7f style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/04486eba.html title=Pythonçˆ¬èŸ²ä½¿ç”¨seleniumçˆ¬å–ç¾¤æˆå“¡ä¿¡æ¯ï¼ˆå…¨è‡ªå‹•å¯¦ç¾è‡ªå‹•ç™»é™¸ï¼‰>Pythonçˆ¬èŸ²ä½¿ç”¨seleniumçˆ¬å–ç¾¤æˆå“¡ä¿¡æ¯ï¼ˆå…¨è‡ªå‹•å¯¦ç¾è‡ªå‹•ç™»é™¸ï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/86b46e6d.html alt=Pythonçˆ¬èŸ²æ•™ç¨‹ï¼Œåˆ©ç”¨Pythonæ¡é›†QQç¾¤æˆå“¡ä¿¡æ¯ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6d6cce76ad48405c9dbb960d4617bcef style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/86b46e6d.html title=Pythonçˆ¬èŸ²æ•™ç¨‹ï¼Œåˆ©ç”¨Pythonæ¡é›†QQç¾¤æˆå“¡ä¿¡æ¯>Pythonçˆ¬èŸ²æ•™ç¨‹ï¼Œåˆ©ç”¨Pythonæ¡é›†QQç¾¤æˆå“¡ä¿¡æ¯</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/7739dc7a.html alt=Pythonæ•¸æ“šå¯è¦–åŒ–Matplotlibï¼Œå¦‚ä½•åœ¨ä¸€å‰¯åœ–åƒä¸­é¡¯ç¤ºå¤šçµ„æŸ±å½¢åœ–ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/5d4a0000046e1bea8b90 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/7739dc7a.html title=Pythonæ•¸æ“šå¯è¦–åŒ–Matplotlibï¼Œå¦‚ä½•åœ¨ä¸€å‰¯åœ–åƒä¸­é¡¯ç¤ºå¤šçµ„æŸ±å½¢åœ–ï¼Ÿ>Pythonæ•¸æ“šå¯è¦–åŒ–Matplotlibï¼Œå¦‚ä½•åœ¨ä¸€å‰¯åœ–åƒä¸­é¡¯ç¤ºå¤šçµ„æŸ±å½¢åœ–ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/05b8f164.html alt=Pythonä¸­çš„å¤šé€²ç¨‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/49dd44b999924b69bd3396709ecacaf4 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/05b8f164.html title=Pythonä¸­çš„å¤šé€²ç¨‹>Pythonä¸­çš„å¤šé€²ç¨‹</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>