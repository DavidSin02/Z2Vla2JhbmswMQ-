<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>åŸºæ–¼éºå‚³ç®—æ³•ï¼ˆGAï¼‰é€²åŒ–çš„å°éŠæˆ² | æå®¢å¿«è¨Š</title><meta property="og:title" content="åŸºæ–¼éºå‚³ç®—æ³•ï¼ˆGAï¼‰é€²åŒ–çš„å°éŠæˆ² - æå®¢å¿«è¨Š"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="http://p3.pstatp.com/large/50aa0002ca11ee575709"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/d458300.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/d458300.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/d458300.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/d458300.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/d458300.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/d458300.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/d458300.html><link rel=canonical href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/d458300.html><meta property="article:published_time" content="2020-10-29T20:46:33+08:00"><meta property="article:modified_time" content="2020-10-29T20:46:33+08:00"><meta name=Keywords content><meta name=description content="åŸºæ–¼éºå‚³ç®—æ³•ï¼ˆGAï¼‰é€²åŒ–çš„å°éŠæˆ²"><meta name=author content="æå®¢å¿«è¨Š"><meta property="og:url" content="/tw/%E9%81%8A%E6%88%B2/d458300.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>ğŸ¤“ æå®¢å¿«è¨Š Geek Bank</a></h1><p class=description>ç‚ºä½ å¸¶ä¾†æœ€å…¨çš„ç§‘æŠ€çŸ¥è­˜ ğŸ§¡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>çŒœä½ å–œæ­¡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=ç§‘æŠ€>ç§‘æŠ€</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=éŠæˆ²>éŠæˆ²</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=ç§‘å­¸>ç§‘å­¸</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>åŸºæ–¼éºå‚³ç®—æ³•ï¼ˆGAï¼‰é€²åŒ–çš„å°éŠæˆ²</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E9%81%8A%E6%88%B2.html>éŠæˆ²</a></span></div><div class=post-content><div><blockquote><p>æ‘˜è¦ï¼š æœ¬æ–‡æ˜¯ä¸€ç¯‡ä½¿ç”¨Pythonèªè¨€æ¨¡æ“¬ç”Ÿç‰©é«”å’Œé£Ÿç‰©ä¹‹é–“çš„é—œä¿‚å’ŒåŸºæ–¼éºå‚³ç®—æ³•é€²åŒ–ç”Ÿç‰©é«”çš„å¯¦ä¾‹æ•™ç¨‹ã€‚</p></blockquote><p>åœ¨é€™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å€‘æ¨¡æ“¬äº†ä¸€å€‹åŒ…å«ç”Ÿç‰©é«”å’Œé£Ÿç‰©çš„ç’°å¢ƒï¼Œç”Ÿç‰©é«”ç‚ºäº†ç”Ÿå­˜å¿…é ˆå„˜å¯èƒ½å¤šçš„æ¶ˆè€—é£Ÿç‰©ã€‚åœ¨æ¨¡æ“¬ç’°å¢ƒä¸­ï¼Œç”Ÿç‰©é«”å°‡ç”±ä¸€å€‹ç°¡å–®çš„ã€å®Œå…¨é€£æ¥çš„ç¥ç¶“ç¶²çµ¡ä¾†æ§åˆ¶ã€‚ç¥ç¶“ç¶²çµ¡çš„è¼¸å…¥æ˜¯ä¸€ç¨®æ¨™æº–åŒ–å€¼ï¼Œå¾-1åˆ°+1ä¹‹é–“ï¼Œé€™è¡¨ç¤ºæœ€è¿‘çš„é£Ÿç‰©é¡†ç²’çš„æ–¹å‘ã€‚é€™å€‹æ–¹å‘æ˜¯é€šéæœ€è¿‘çš„é£Ÿç‰©é¡†ç²’(+/-180åº¦)æ–¹å‘è¨ˆç®—å‡ºä¾†çš„ã€‚ä¸‹é¢æ˜¯å…©å€‹ç”Ÿç‰©é«”å’Œé£Ÿç‰©é¡†ç²’çš„ç¤ºä¾‹ï¼š</p><p><img alt=åŸºæ–¼éºå‚³ç®—æ³•ï¼ˆGAï¼‰é€²åŒ–çš„å°éŠæˆ² onerror=errorimg.call(this); src=http://p3.pstatp.com/large/50aa0002ca11ee575709></p><p>å› ç‚ºæˆ‘å€‘çš„è¼¸å…¥ç¯„åœå¾-1åˆ°+1ï¼Œæ‰€ä»¥è¼¸å‡ºç¯„åœæ‡‰ç•¶ä¹Ÿå¾-1åˆ°+1ï¼Œå› æ­¤tanhå‡½æ•¸å°‡æœƒæˆç‚ºç†æƒ³çš„æ¿€æ´»å‡½æ•¸ã€‚ä¸‹é¢æ˜¯ä¸€å€‹ç¥ç¶“ç¶²çµ¡çš„åœ–å’Œå®ƒçš„è¼¸å…¥ã€è¼¸å‡ºä»¥åŠå®ƒçš„éš±è—å±¤ï¼š</p><p><img alt=åŸºæ–¼éºå‚³ç®—æ³•ï¼ˆGAï¼‰é€²åŒ–çš„å°éŠæˆ² onerror=errorimg.call(this); src=http://p3.pstatp.com/large/50a90002d4ffbb5b1039></p><p>ç”±æ–¼ç¥ç¶“ç¶²çµ¡åƒ…åƒ…æ˜¯ç°¡å–®çš„çŸ©é™£ä¹˜æ³•ï¼Œå› æ­¤åˆ©ç”¨NumPyåªéœ€è¦å¹¾è¡Œä»£ç¢¼å°±å¯ä»¥äº†ã€‚åœ¨é€²åŒ–éç¨‹ä¸­ï¼Œä¸€äº›æ¬Šé‡æœƒè¢«å„ªåŒ–ã€‚æœ€å¾Œï¼Œæˆ‘å°‡é»˜èªçš„éš±è—ç¯€é»æ•¸è¨­ç½®ç‚º5ï¼Œé€™å€‹å¯ä»¥æ ¹æ“šä½ è‡ªå·±çš„å–œå¥½è¨­ç½®ã€‚æ¥ä¸‹ä¾†æ˜¯ç·¨å¯«Pythonä»£ç¢¼æ¨¡æ“¬æ•´å€‹ç”Ÿæ…‹ï¼š</p><p><strong>ä¸€ã€ç”Ÿç‰©</strong></p><p>ç”Ÿç‰©é¡åŒ…å«äº†ç¥ç¶“ç¶²çµ¡ä»¥åŠæ›´æ–°å®ƒçš„é€Ÿåº¦å’Œä½ç½®çš„å‡½æ•¸ã€‚ç•¶ä¸€å€‹ç”Ÿç‰©é«”è¢«åˆå§‹åŒ–æ™‚ï¼Œå®ƒçš„ä½ç½®ã€æ–¹å‘ã€é€Ÿåº¦ã€åŠ é€Ÿåº¦å’Œç¥ç¶“ç¶²çµ¡çš„æ¬Šé‡éƒ½æœƒéš¨æ©Ÿç”¢ç”Ÿã€‚ä¸‹é¢æ˜¯é€™å€‹ç”Ÿç‰©é¡çš„ä»£ç¢¼ï¼š</p><pre>class organism(): def __init__(self, settings, wih=None, who=None, name=None): self.x = uniform(settings['x_min'], settings['x_max']) # position (x) self.y = uniform(settings['y_min'], settings['y_max']) # position (y) self.r = uniform(0,360) # orientation [0, 360] self.v = uniform(0,settings['v_max']) # velocity [0, v_max] self.dv = uniform(-settings['dv_max'], settings['dv_max']) # dv self.d_food = 100 # distance to nearest food self.r_food = 0 # orientation to nearest food self.fitness = 0 # fitness (food count) self.wih = wih self.who = who self.name = name # NEURAL NETWORK def think(self): # SIMPLE MLP af = lambda x: np.tanh(x) # activation function h1 = af(np.dot(self.wih, self.r_food)) # hidden layer out = af(np.dot(self.who, h1)) # output layer # UPDATE dv AND dr WITH MLP RESPONSE self.nn_dv = float(out[0]) # [-1, 1] (accelerate=1, deaccelerate=-1) self.nn_dr = float(out[1]) # [-1, 1] (left=1, right=-1) # UPDATE HEADING def update_r(self, settings): self.r += self.nn_dr * settings['dr_max'] * settings['dt'] self.r = self.r % 360 # UPDATE VELOCITY def update_vel(self, settings): self.v += self.nn_dv * settings['dv_max'] * settings['dt'] if self.v &lt; 0: self.v = 0 if self.v &gt; settings['v_max']: self.v = settings['v_max'] # UPDATE POSITION def update_pos(self, settings): dx = self.v * cos(radians(self.r)) * settings['dt'] dy = self.v * sin(radians(self.r)) * settings['dt'] self.x += dx self.y += dy</pre><p><strong>äºŒã€é£Ÿç‰©</strong></p><p>é£Ÿç‰©é¡åŒ…å«åº§æ¨™ä½ç½®å’Œèƒ½é‡å€¼ï¼Œèƒ½é‡å€¼çš„å¤šå°‘å°‡ç›´æ¥å½±éŸ¿ç”Ÿç‰©é«”çš„å¥åº·ã€‚ç¾åœ¨ï¼Œé€™å€‹èƒ½é‡å€¼ä¿æŒä¸è®Šï¼Œä¸¦è¨­ç‚º1ï¼Œä½†å¦‚æœä½ æƒ³è¦ä¿®æ”¹å®ƒï¼Œå®ƒå¯ä»¥è¢«éš¨æ©ŸåŒ–æˆ–æ”¹è®Šç‚ºä»»ä½•å€¼ã€‚æ­¤å¤–ï¼Œç•¶é£Ÿç‰©è¢«ç”Ÿç‰©é«”æ¶ˆè€—å¾Œï¼Œrespawnå‡½æ•¸å°±æœƒè¢«èª¿ç”¨ï¼Œç”¨æ–¼é‡æ–°ç”Ÿæˆé£Ÿç‰©é¡†ç²’çš„ä½ç½®ã€‚é€™ä½¿å¾—æ¯å€‹æ¨¡æ“¬æ™‚é–“å…§çš„é£Ÿç‰©é¡†ç²’ç¸½æ•¸ä¿æŒä¸è®Šã€‚</p><pre>class food(): def __init__(self, settings): self.x = uniform(settings['x_min'], settings['x_max']) self.y = uniform(settings['y_min'], settings['y_max']) self.energy = 1 def respawn(self,settings): self.x = uniform(settings['x_min'], settings['x_max']) self.y = uniform(settings['y_min'], settings['y_max']) self.energy = 1</pre><p><strong>ä¸‰ã€é€²åŒ–</strong></p><p>ç”Ÿç‰©é«”å°‡ä½¿ç”¨éºå‚³ç®—æ³•(GA)é€²è¡Œå„ªåŒ–ï¼Œéºå‚³ç®—æ³•(GA)æ˜¯å±¬æ–¼é€²åŒ–ç®—æ³•(EA)çš„æ›´å¤§ç¯„åœã€‚éºå‚³ç®—æ³•æ¨¡ä»¿è‡ªç„¶çš„ç”Ÿç‰©é€²åŒ–éç¨‹ï¼Œå¾æœ€åˆçš„ç¨®ç¾¤é–‹å§‹ï¼Œé€šéé¸æ“‡ã€äº¤å‰å’Œè®Šç•°ç”¢ç”Ÿå¾Œä»£ï¼Œå½¢æˆä¸€å€‹æœ€å„ªçš„è§£æ±ºæ–¹æ¡ˆã€‚å°æ–¼æœ¬æ•™ç¨‹ï¼ŒEAè¨ˆåŠƒå¦‚ä¸‹:</p><p>1ã€é¸æ“‡ï¼šç°¡å–®çš„é¸æ“‡å½¢å¼è¢«ç¨±ç‚ºç²¾è‹±ä¸»ç¾©ï¼Œå³é¸æ“‡æœ€å„ªç§€çš„ä¸‹ä¸€ä»£ã€‚</p><p>2ã€è·¨ç•Œï¼šåœ¨ç²¾è‹±ä¸»ç¾©éšæ®µä¸­éš¨æ©Ÿé¸æ“‡å€‹é«”ä½œç‚ºçˆ¶æ¯ï¼Œä½µç”¢ç”Ÿä¸€å€‹æ–°çš„å¾Œä»£ã€‚å› æ­¤æˆ‘å€‘è¦è™•ç†ç¥ç¶“ç¶²çµ¡çš„æ¬Šé‡ï¼Œä¸‹é¢çš„æ–¹ç¨‹å°‡å…©å€‹çˆ¶æ¯ä¹‹é–“çš„æ€§ç‹€éºå‚³çµ¦å¾Œä»£:</p><p>offspring=parent1(a)+parent2(1âˆ’a)</p><p>aæ˜¯åœ¨0å’Œ1ä¹‹é–“éš¨æ©Ÿç”Ÿæˆçš„å€¼ï¼Œè€Œçˆ¶1å’Œçˆ¶2è¡¨ç¤ºç¥ç¶“ç¶²çµ¡çš„æ¬Šé‡ã€‚å› ç‚ºæœ‰å…©å€‹æ­£åœ¨æ··åˆçš„çŸ©é™£(wihå’Œwho)ï¼Œå› æ­¤æ–¹ç¨‹å¯¦éš›ä¸Šæ˜¯é€™æ¨£çš„:</p><p>offspring_wih=parent_wih1(a)+parent_wih2(1âˆ’a)</p><p>offspring_who=parent_who1(a)+parent_who2(1âˆ’a)</p><p>3ã€çªè®Šï¼šä¸€æ—¦ç”¢ç”Ÿæ–°çš„å¾Œä»£å°±æœƒç”¢ç”Ÿä¸€å€‹ä»‹æ–¼0å’Œ1ä¹‹é–“çš„éš¨æ©Ÿæ•¸ã€‚å¦‚æœé€™å€‹å€¼ä½æ–¼ç”¨æˆ¶åˆå§‹åŒ–çš„çªè®Šé–¾å€¼ï¼Œå°±æœƒç™¼ç”Ÿçªè®Šã€‚åœ¨ç™¼ç”Ÿçªè®Šçš„æƒ…æ³ä¸‹ï¼Œå…©å€‹ç¥ç¶“ç¶²çµ¡æ¬Šé‡çŸ©é™£ä¸­çš„ä¸€å€‹éš¨æ©Ÿæ¬Šé‡å°‡è¢«ä¸€å€‹éš¨æ©Ÿå€¼æ‰€å–ä»£ï¼Œé€™å€‹å€¼åœ¨åˆå§‹å€¼çš„+/-10%ä¹‹é–“ã€‚é€™å°‡æœƒåœ¨ç”Ÿç‰©é«”ä¸­ç”¢ç”Ÿå¾®å°çš„è®ŠåŒ–ï¼Œå¾è€Œæœ‰å¯èƒ½ç”¢ç”Ÿæ›´å¥åº·çš„ç”Ÿç‰©é«”ã€‚çªè®Šæ•ˆæœåƒ…é™æ–¼åŸå§‹å€¼çš„+/-10%ï¼Œå› ç‚ºæˆ‘å€‘å¸Œæœ›é¿å…åœ¨ç¥ç¶“ç¶²çµ¡ä¸­é€ æˆç½é›£æ€§çš„æ•…éšœè€Œå°è‡´æ•´å€‹ç”Ÿç‰©ç¾¤é«”ç™±ç˜“ã€‚</p><p>ä¸‹é¢çš„åœ–é¡¯ç¤ºäº†é€™å€‹EAæ–¹æ¡ˆï¼š</p><p><img alt=åŸºæ–¼éºå‚³ç®—æ³•ï¼ˆGAï¼‰é€²åŒ–çš„å°éŠæˆ² onerror=errorimg.call(this); src=http://p1.pstatp.com/large/50a8000326fcb7ef6731></p><p>é€™å€‹EAä»£ç¢¼ç¨‹åºå¦‚ä¸‹æ‰€ç¤º:</p><pre>ef evolve(settings, organisms_old, gen): elitism_num = int(floor(settings['elitism'] * settings['pop_size'])) new_orgs = settings['pop_size'] - elitism_num #--- GET STATS FROM CURRENT GENERATION ----------------+ stats = defaultdict(int) for org in organisms_old: if org.fitness &gt; stats['BEST'] or stats['BEST'] == 0: stats['BEST'] = org.fitness if org.fitness &lt; stats['WORST'] or stats['WORST'] == 0: stats['WORST'] = org.fitness stats['SUM'] += org.fitness stats['COUNT'] += 1 stats['AVG'] = stats['SUM'] / stats['COUNT'] #--- ELITISM (KEEP BEST PERFORMING ORGANISMS) ---------+ orgs_sorted = sorted(organisms_old, key=operator.attrgetter('fitness'), reverse=True) organisms_new = [] for i in range(0, elitism_num): organisms_new.append(organism(settings, wih=orgs_sorted[i].wih, who=orgs_sorted[i].who, name=orgs_sorted[i].name)) #--- GENERATE NEW ORGANISMS ---------------------------+ for w in range(0, new_orgs): # SELECTION (TRUNCATION SELECTION) canidates = range(0, elitism_num) random_index = sample(canidates, 2) org_1 = orgs_sorted[random_index[0]] org_2 = orgs_sorted[random_index[1]] # CROSSOVER crossover_weight = random() wih_new = (crossover_weight * org_1.wih) + ((1 - crossover_weight) * org_2.wih) who_new = (crossover_weight * org_1.who) + ((1 - crossover_weight) * org_2.who) # MUTATION mutate = random() if mutate &lt;= settings['mutate']: # PICK WHICH WEIGHT MATRIX TO MUTATE mat_pick = randint(0,1)  # MUTATE: WIH WEIGHTS if mat_pick == 0: index_row = randint(0,settings['hnodes']-1) wih_new[index_row] = wih_new[index_row] * uniform(0.9, 1.1) if wih_new[index_row] &gt; 1: wih_new[index_row] = 1 if wih_new[index_row] &lt; -1: wih_new[index_row] = -1 # MUTATE: WHO WEIGHTS if mat_pick == 1: index_row = randint(0,settings['onodes']-1) index_col = randint(0,settings['hnodes']-1) who_new[index_row][index_col] = who_new[index_row][index_col] * uniform(0.9, 1.1) if who_new[index_row][index_col] &gt; 1: who_new[index_row][index_col] = 1 if who_new[index_row][index_col] &lt; -1: who_new[index_row][index_col] = -1 organisms_new.append(organism(settings, wih=wih_new, who=who_new, name='gen['+str(gen)+']-org['+str(w)+']')) return organisms_new, stats</pre><p><strong>å››ã€æ¨¡æ“¬</strong></p><p>æœ€å¾Œæ˜¯æ¨¡æ“¬å¯¦éš›é‹è¡Œçš„é—œéµä»£ç¢¼ï¼Œæ¨¡æ“¬å‡½æ•¸å°‡åœ¨æ¯ä¸€ä»£èª¿ç”¨ä¸€æ¬¡ã€‚æ¨¡æ“¬æ™‚é–“æ­¥é©Ÿå‰‡æ˜¯é€šéå°‡ç¸½æ¨¡æ“¬æ™‚é–“é™¤ä»¥æ™‚é–“é–“éš”dtä¾†ç¢ºå®šçš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ¨¡æ“¬æ™‚é–“è¨­ç½®ç‚º100ç§’ï¼Œè€Œdtç­‰æ–¼1/25ç§’ï¼Œé‚£éº¼ç¸½å…±éœ€è¦æ¨¡æ“¬2500å€‹æ™‚é–“æ­¥é©Ÿã€‚åœ¨æ¯ä¸€å€‹æ­¥é©Ÿä¸­ï¼Œå°‡é€²è¡Œä»¥ä¸‹æ“ä½œ:</p><p>1ã€ç¢°æ’æª¢æ¸¬ï¼šæª¢æŸ¥ç”Ÿç‰©å’Œé£Ÿç‰©é¡†ç²’ä¹‹é–“çš„ç¢°æ’ã€‚ç•¶æª¢æ¸¬åˆ°ç¢°æ’æ™‚ï¼Œè©²ç”Ÿç‰©é«”å°‡å¾—åˆ°æ›´æ–°ï¼Œé£Ÿç‰©é¡†ç²’å°‡åœ¨ä¸€å€‹æ–°çš„éš¨æ©Ÿä½ç½®ä¸Šé‡ç”Ÿã€‚</p><p>2ã€å°‹æ‰¾æœ€è¿‘çš„é£Ÿç‰©é¡†ç²’ï¼šå°æ–¼æ¯ä¸€å€‹ç”Ÿç‰©é«”ï¼Œå¿…é ˆç¢ºå®šæœ€è¿‘çš„é£Ÿç‰©é¡†ç²’ã€‚</p><p>3ã€ç¢ºå®šæœ€è¿‘çš„é£Ÿç‰©é¡†ç²’çš„æ–¹å‘ï¼šä¸€æ—¦æœ€è¿‘çš„é£Ÿç‰©é¡†ç²’è¢«ä¸€å€‹ç”Ÿç‰©é«”ç¢ºå®šï¼Œå°±å¿…é ˆè¨ˆç®—å‡ºé€™å€‹é¡†ç²’çš„æ–¹å‘ã€‚</p><p>4ã€æŸ¥è©¢ç¥ç¶“ç¶²çµ¡ï¼šç”±æ–¼ä½¿ç”¨äº†æ›´æ–°çš„æ–¹å‘å€¼ï¼Œå› æ­¤æ¯å€‹ç”Ÿç‰©çš„ç¥ç¶“ç¶²çµ¡éƒ½å°‡è®Šå¾—ä¸åŒã€‚</p><p>5ã€æ›´æ–°ç”Ÿç‰©é«”ï¼šåŸºæ–¼ç¥ç¶“ç¶²çµ¡çš„éŸ¿æ‡‰ï¼Œç”Ÿç‰©é«”çš„é€Ÿåº¦å’Œä½ç½®éƒ½å¾—åˆ°äº†æ›´æ–°ã€‚</p><p>ä¸‹é¢æ˜¯æ¨¡æ“¬å‡½æ•¸:</p><pre>def simulate(settings, organisms, foods, gen): total_time_steps = int(settings['gen_time'] / settings['dt']) #--- CYCLE THROUGH EACH TIME STEP ---------------------+ for t_step in range(0, total_time_steps, 1): # PLOT SIMULATION FRAME #if gen == settings['gens'] - 1 and settings['plot']==True: if gen==49: plot_frame(settings, organisms, foods, gen, t_step) # UPDATE FITNESS FUNCTION for food in foods: for org in organisms: food_org_dist = dist(org.x, org.y, food.x, food.y) # UPDATE FITNESS FUNCTION if food_org_dist &lt;= 0.075: org.fitness += food.energy food.respawn(settings) # RESET DISTANCE AND HEADING TO NEAREST FOOD SOURCE org.d_food = 100 org.r_food = 0 # CALCULATE HEADING TO NEAREST FOOD SOURCE for food in foods: for org in organisms: # CALCULATE DISTANCE TO SELECTED FOOD PARTICLE food_org_dist = dist(org.x, org.y, food.x, food.y) # DETERMINE IF THIS IS THE CLOSEST FOOD PARTICLE if food_org_dist &lt; org.d_food: org.d_food = food_org_dist org.r_food = calc_heading(org, food) # GET ORGANISM RESPONSE for org in organisms: org.think() # UPDATE ORGANISMS POSITION AND VELOCITY for org in organisms: org.update_r(settings) org.update_vel(settings) org.update_pos(settings)return organisms</pre><p><strong>äº”ã€çµæœ</strong></p><p>åœ¨å‰µå»ºæ‰€æœ‰çš„ä¸»è¦çµ„ä»¶ä¹‹å¾Œï¼Œæœ€çµ‚ä»£ç¢¼å°±å¯ä»¥çµ„è£èµ·ä¾†äº†ã€‚æ³¨æ„ï¼šåœ¨ä¸Šé¢çš„æ–‡ç« ä¸­ï¼Œå¿½ç•¥äº†ä¸€äº›æ›´å°çš„å‡½æ•¸ï¼Œå› ç‚ºå®ƒå€‘å¤ªç°¡å–®äº†ï¼Œé–±è®€å®ƒå€‘è¦æ¯”ç›´æ¥é–±è®€ä»£ç¢¼èŠ±è²»æ›´é•·çš„æ™‚é–“ã€‚æ‰€æœ‰çš„ä»£ç¢¼æˆ‘éƒ½æ”¾åœ¨GitHubä¸Šäº†ï¼Œä½ å¯ä»¥é»æ“Šé€™è£¡ä¸‹è¼‰ã€‚</p><p>æˆ‘ä½¿ç”¨äº†matplotlibä¾†é¡¯ç¤ºæ¨¡æ“¬ã€‚ç•¶ä½ é‹è¡Œæ•´å€‹ä»£ç¢¼æ™‚ï¼Œè¼¸å‡ºæ‡‰è©²èˆ‡æ­¤é¡ä¼¼:</p><p><img alt=åŸºæ–¼éºå‚³ç®—æ³•ï¼ˆGAï¼‰é€²åŒ–çš„å°éŠæˆ² onerror=errorimg.call(this); src=http://p3.pstatp.com/large/50a8000326fb783eacfc></p><p>ä»¥ä¸Šç‚ºè­¯æ–‡</p><p>æ–‡ç« åŸæ¨™é¡Œã€ŠEvolving Simple Organisms using a Genetic Algorithm and Deep Learning from Scratch with Python</p><p>ã€‹ï¼Œä½œè€…ï¼šNathanï¼Œè­¯è€…ï¼šé»ƒå°å‡¡ï¼Œå¯©æ ¡ï¼šè¢è™ã€‚</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>éºå‚³</a></li><li><a>GA</a></li><li><a>é€²åŒ–</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=æœç´¢>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>ğŸ”</button></form></section><section class=widget><h3 class=widget-title>æœ€æ–°æ–‡ç«  âš¡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E5%AD%B8/d46b63a.html alt=é«˜è€ƒç”Ÿç‰©å¿…ä¿®äºŒã€Šéºå‚³èˆ‡é€²åŒ–ã€‹é‡é»å½™ç¸½ï¼ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/452adf2f-3449-44d9-82db-84073e78b47d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/d46b63a.html title=é«˜è€ƒç”Ÿç‰©å¿…ä¿®äºŒã€Šéºå‚³èˆ‡é€²åŒ–ã€‹é‡é»å½™ç¸½ï¼>é«˜è€ƒç”Ÿç‰©å¿…ä¿®äºŒã€Šéºå‚³èˆ‡é€²åŒ–ã€‹é‡é»å½™ç¸½ï¼</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1a697cad.html alt=è¦–è¦ºäº«å—çš„é€²åŒ–!é¡¯ç¤ºæŠ€è¡“çš„åˆ†é¡å’Œæ¼”é€² class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1a697cad.html title=è¦–è¦ºäº«å—çš„é€²åŒ–!é¡¯ç¤ºæŠ€è¡“çš„åˆ†é¡å’Œæ¼”é€²>è¦–è¦ºäº«å—çš„é€²åŒ–!é¡¯ç¤ºæŠ€è¡“çš„åˆ†é¡å’Œæ¼”é€²</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ea05780d.html alt="ééºå‚³æ‰¿ | ç›§å®¶ï¼ˆæœ›å³¶ï¼‰åˆ€å‰ªè£½ä½œå·¥åº" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/464604d06c04488fb3c75d04b8109a15 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ea05780d.html title="ééºå‚³æ‰¿ | ç›§å®¶ï¼ˆæœ›å³¶ï¼‰åˆ€å‰ªè£½ä½œå·¥åº">ééºå‚³æ‰¿ | ç›§å®¶ï¼ˆæœ›å³¶ï¼‰åˆ€å‰ªè£½ä½œå·¥åº</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d606318b.html alt=æ„›å›æ”¶é–‹å•Ÿâ€œé€²åŒ–2.0â€ï¼šè‡ªåŠ©å›æ”¶æ©Ÿé‹ªåˆ°ä½ å®¶æ¨“ä¸‹ä¾¿åˆ©åº— class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/905500045498e3e14e3e style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d606318b.html title=æ„›å›æ”¶é–‹å•Ÿâ€œé€²åŒ–2.0â€ï¼šè‡ªåŠ©å›æ”¶æ©Ÿé‹ªåˆ°ä½ å®¶æ¨“ä¸‹ä¾¿åˆ©åº—>æ„›å›æ”¶é–‹å•Ÿâ€œé€²åŒ–2.0â€ï¼šè‡ªåŠ©å›æ”¶æ©Ÿé‹ªåˆ°ä½ å®¶æ¨“ä¸‹ä¾¿åˆ©åº—</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/743b42cf.html alt="è‡ªåŠ©å›æ”¶+åœ‹éš›ä½ˆå±€ æ„›å›æ”¶â€œé€²åŒ–2.0â€" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/905800033283d99c9835 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/743b42cf.html title="è‡ªåŠ©å›æ”¶+åœ‹éš›ä½ˆå±€ æ„›å›æ”¶â€œé€²åŒ–2.0â€">è‡ªåŠ©å›æ”¶+åœ‹éš›ä½ˆå±€ æ„›å›æ”¶â€œé€²åŒ–2.0â€</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6198987f.html alt=å°èªªï¼šè˜‘è‡èƒ½é åˆ†è§£ç‰©è³ªé€²åŒ–ï¼Œä½†é€™ç¨®é€²åŒ–ç¨‹åº¦ï¼Œä¹Ÿå¤ªèª‡å¼µäº†å§ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/ff1b000051fb22ac5fb9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6198987f.html title=å°èªªï¼šè˜‘è‡èƒ½é åˆ†è§£ç‰©è³ªé€²åŒ–ï¼Œä½†é€™ç¨®é€²åŒ–ç¨‹åº¦ï¼Œä¹Ÿå¤ªèª‡å¼µäº†å§ï¼Ÿ>å°èªªï¼šè˜‘è‡èƒ½é åˆ†è§£ç‰©è³ªé€²åŒ–ï¼Œä½†é€™ç¨®é€²åŒ–ç¨‹åº¦ï¼Œä¹Ÿå¤ªèª‡å¼µäº†å§ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/faa410ff.html alt=ä¸€å€‹äººæ˜¯å¦‚ä½•é–‹å§‹é€²åŒ–çš„ï¼Ÿ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/9518d813-758a-4918-99f1-ba57c8eda5a9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/faa410ff.html title=ä¸€å€‹äººæ˜¯å¦‚ä½•é–‹å§‹é€²åŒ–çš„ï¼Ÿ>ä¸€å€‹äººæ˜¯å¦‚ä½•é–‹å§‹é€²åŒ–çš„ï¼Ÿ</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e8e3be39.html alt="ç¹è‚²ï½œä¸æ‡‚éºå‚³ è¿‘è¦ªå¿…æ­»" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e8e3be39.html title="ç¹è‚²ï½œä¸æ‡‚éºå‚³ è¿‘è¦ªå¿…æ­»">ç¹è‚²ï½œä¸æ‡‚éºå‚³ è¿‘è¦ªå¿…æ­»</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/25d2687b.html alt=éºå‚³çš„åˆ†å­åŸºç¤â€”â€”DNAçš„çµæ§‹èˆ‡è¤‡è£½ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/5ca2c49e-b12b-4e71-915b-9d378249cebf style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/25d2687b.html title=éºå‚³çš„åˆ†å­åŸºç¤â€”â€”DNAçš„çµæ§‹èˆ‡è¤‡è£½>éºå‚³çš„åˆ†å­åŸºç¤â€”â€”DNAçš„çµæ§‹èˆ‡è¤‡è£½</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/dea05e35.html alt=éºå‚³ç™¼è‚²æ‰€ç­‰åœ¨è…«ç˜¤æ²»ç™‚æ–¹é¢å–å¾—é€²å±• class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RiD1Uhc6mcVlsh style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/dea05e35.html title=éºå‚³ç™¼è‚²æ‰€ç­‰åœ¨è…«ç˜¤æ²»ç™‚æ–¹é¢å–å¾—é€²å±•>éºå‚³ç™¼è‚²æ‰€ç­‰åœ¨è…«ç˜¤æ²»ç™‚æ–¹é¢å–å¾—é€²å±•</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/53aaefa7.html alt="éš¨èº«è²éŸ³å†é€²åŒ–ï¼šSONY ç´¢å°¼ PHA-1A è€³æ©Ÿæ”¾å¤§å™¨" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/6332/1401310711 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/53aaefa7.html title="éš¨èº«è²éŸ³å†é€²åŒ–ï¼šSONY ç´¢å°¼ PHA-1A è€³æ©Ÿæ”¾å¤§å™¨">éš¨èº«è²éŸ³å†é€²åŒ–ï¼šSONY ç´¢å°¼ PHA-1A è€³æ©Ÿæ”¾å¤§å™¨</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/e99a2366.html alt=ç¶ æ›¸ç±¤Â·æš‘æœŸè–¦æ›¸ï½œã€Šæ¤ç‰©é€²åŒ–çš„æ•…äº‹ã€‹ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/RcVchncHG3MM15 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e99a2366.html title=ç¶ æ›¸ç±¤Â·æš‘æœŸè–¦æ›¸ï½œã€Šæ¤ç‰©é€²åŒ–çš„æ•…äº‹ã€‹>ç¶ æ›¸ç±¤Â·æš‘æœŸè–¦æ›¸ï½œã€Šæ¤ç‰©é€²åŒ–çš„æ•…äº‹ã€‹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/8697cf3c.html alt=æ€§çš„é€²åŒ–ï¼ˆ4ã€æ€§çš„å¿«æ„Ÿå’Œç—›æ„Ÿï¼‰ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/dfic-imagehandler/b05d3b91-cfa7-4cd0-bb7c-5819b2696abd style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/8697cf3c.html title=æ€§çš„é€²åŒ–ï¼ˆ4ã€æ€§çš„å¿«æ„Ÿå’Œç—›æ„Ÿï¼‰>æ€§çš„é€²åŒ–ï¼ˆ4ã€æ€§çš„å¿«æ„Ÿå’Œç—›æ„Ÿï¼‰</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/7311593a.html alt=æ•¸çš„é€²åŒ–ï¼šé‚„åŸæ•¸å­¸çš„ç´”ç²¹å®¹é¡ï½œæ•¸å­¸èˆ‡ç”Ÿæ´» class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/1530015351594fa4999aa0b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/7311593a.html title=æ•¸çš„é€²åŒ–ï¼šé‚„åŸæ•¸å­¸çš„ç´”ç²¹å®¹é¡ï½œæ•¸å­¸èˆ‡ç”Ÿæ´»>æ•¸çš„é€²åŒ–ï¼šé‚„åŸæ•¸å­¸çš„ç´”ç²¹å®¹é¡ï½œæ•¸å­¸èˆ‡ç”Ÿæ´»</a></li><hr><li><a href=../../tw/%E7%A7%91%E5%AD%B8/f591c9ba.html alt=å…¨åŸºå› çµ„æ¸¬åºæ­ç¤ºå–€æ–¯ç‰¹æ¤ç‰©é©æ‡‰æ€§é€²åŒ–æ©Ÿåˆ¶ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RwHGPTF3i2xtBt style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E5%AD%B8/f591c9ba.html title=å…¨åŸºå› çµ„æ¸¬åºæ­ç¤ºå–€æ–¯ç‰¹æ¤ç‰©é©æ‡‰æ€§é€²åŒ–æ©Ÿåˆ¶>å…¨åŸºå› çµ„æ¸¬åºæ­ç¤ºå–€æ–¯ç‰¹æ¤ç‰©é©æ‡‰æ€§é€²åŒ–æ©Ÿåˆ¶</a></li><hr></ul></section><section class=widget><h3 class=widget-title>å…¶ä»–</h3><ul class=widget-list><li><a href=TOS.html>ä½¿ç”¨æ¢æ¬¾</a></li><li><a href=CommentPolicy.html>ç•™è¨€æ”¿ç­–</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>è¯çµ¡æˆ‘å€‘</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>æå®¢å¿«è¨Š</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>