<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>區塊鏈安全入門筆記彙編版，一文了解20種名詞解釋及26種攻擊方式 | 极客快訊</title><meta property="og:title" content="區塊鏈安全入門筆記彙編版，一文了解20種名詞解釋及26種攻擊方式 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="https://p3.pstatp.com/large/pgc-image/153820081912869d8e48468"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/eb1a626a.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/eb1a626a.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/eb1a626a.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/eb1a626a.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/eb1a626a.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/eb1a626a.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/eb1a626a.html><link rel=canonical href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/eb1a626a.html><meta property="article:published_time" content="2020-10-29T21:13:47+08:00"><meta property="article:modified_time" content="2020-10-29T21:13:47+08:00"><meta name=Keywords content><meta name=description content="區塊鏈安全入門筆記彙編版，一文了解20種名詞解釋及26種攻擊方式"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E9%81%8A%E6%88%B2/eb1a626a.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>區塊鏈安全入門筆記彙編版，一文了解20種名詞解釋及26種攻擊方式</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E9%81%8A%E6%88%B2.html>遊戲</a></span></div><div class=post-content><div><div class=pgc-img><img alt=區塊鏈安全入門筆記彙編版，一文了解20種名詞解釋及26種攻擊方式 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/153820081912869d8e48468><p class=pgc-img-caption></p></div><blockquote><p><strong>免責聲明：本文旨在傳遞更多市場信息，不構成任何投資建議。文章僅代表作者觀點，不代表火星財經官方立場。</strong></p></blockquote><p class=ql-align-center>小編：記得關注哦</p><p class=ql-align-center><strong>投資區塊鏈，猛戳：<a class=pgc-link data-content=mp href="https://www.huoxing24.com/download?statisticalParameter=120" target=_blank>火星財經App下載</a></strong></p><p>文章來源：來源：慢霧科技</p><div class=pgc-img><img alt=區塊鏈安全入門筆記彙編版，一文了解20種名詞解釋及26種攻擊方式 onerror=errorimg.call(this); src=https://p3.pstatp.com/large/pgc-image/ef57f14fbca44f79ae0269162535b76f><p class=pgc-img-caption></p></div><p class=ql-align-justify>雖然有著越來越多的人蔘與到區塊鏈的行業之中，然而由於很多人之前並沒有接觸過區塊鏈，也沒有相關的安全知識，安全意識薄弱，這就很容易讓攻擊者們有空可鑽。面對區塊鏈的眾多安全問題，我們從兩方面介紹：<strong>區塊鏈安全重點名詞解釋和攻擊方法</strong>，讓新手們更快適應區塊鏈危機四伏的安全攻防世界。</p><p class=ql-align-justify><strong>一、重點名詞解釋</strong></p><p class=ql-align-justify><strong>（一）錢包（Wallet） </strong>錢包(Wallet)是一個管理私鑰的工具，數字貨幣錢包形式多樣，但它通常包含一個軟件客戶端，允許使用者通過錢包檢查、存儲、交易其持有的數字貨幣。<strong>它是進入區塊鏈世界的基礎設施和重要入口。</strong></p><p class=ql-align-justify><strong>（二）冷錢包(Cold Wallet)</strong>冷錢包(Cold Wallet)是一種脫離網絡連接的離線錢包，將數字貨幣進行離線儲存的錢包。使用者在一臺離線的錢包上面生成數字貨幣地址和私鑰，再將其保存起來。冷錢包是在不需要任何網絡的情況下進行數字貨幣的儲存，因此黑客是很難進入錢包獲得私鑰的，但它也不是絕對安全的，隨機數不安全也會導致這個冷錢包不安全，此外硬件損壞、丟失也有可能造成數字貨幣的損失，因此<strong>需要做好密鑰的備份。</strong></p><p class=ql-align-justify><strong>（三）熱錢包 （Hot Wallet）</strong>熱錢包(Hot Wallet)是一種需要網絡連接的在線錢包，在使用上更加方便。但由於熱錢包一般需要在線使用，個人的電子設備有可能因誤點釣魚網站被黑客盜取錢包文件、捕獲錢包密碼或是破解加密私鑰，而部分中心化管理錢包也並非絕對安全。</p><p class=ql-align-justify>因此<strong>在使用中心化交易所或錢包時，最好在不同平臺設置不同密碼，且開啟二次認證，以確保自己的資產安全。</strong></p><p class=ql-align-justify><strong>（四）公鑰(Public Key)</strong>公鑰(Public Key)是和私鑰成對出現的，和私鑰一起組成一個密鑰對，保存在錢包中。公鑰由私鑰生成，但是無法通過公鑰倒推得到私鑰。公鑰能夠通過一系列算法運算得到錢包的地址，因此可以作為擁有這個錢包地址的憑證。</p><p class=ql-align-justify><strong>（五）私鑰(Private Key)</strong>私鑰(Private Key)是一串由隨機算法生成的數據，它可以通過非對稱加密算法算出公並通過私鑰對區塊鏈的資產擁有絕對控制權，因此，區塊鏈資產安全的核心問題在於私鑰的存儲鑰，公鑰可以再算出幣的地址。私鑰是非常重要的，作為密碼，除了地址的所有者之外，都被隱藏。區塊鏈資產實際在區塊鏈上，所有者實際只擁有私鑰，，擁有者需做好安全保管。和傳統的用戶名、密碼形式相比，<strong>使用公鑰和私鑰交易最大的優點在於提高了數據傳遞的安全性和完整性</strong>，因為兩者——對應的關係，用戶基本不用擔心數據在傳遞過程中被黑客中途截取或修改的可能性。同時，也因為私鑰加密必須由它生成的公鑰解密，發送者也不用擔心數據被他人偽造。</p><p class=ql-align-justify><strong>（六）助記詞(Mnemonic)</strong>由於私鑰是一長串毫無意義的字符，比較難以記憶，因此出現了助記詞(Mnemonic)。助記詞是利用固定算法，將私鑰轉換成十多個常見的英文單詞。助記詞和私鑰是互通的，可以相互轉換，它只是作為區塊鏈數字錢包私鑰的友好格式。所以在此強調：助記詞即私鑰！由於它的明文性，<strong>不建議它以電子方式保存，而是抄寫在物理介質上保管好，它和Keystore作為雙重備份互為補充。</strong></p><p class=ql-align-justify><strong>（七）Keystore</strong>Keystore主要在以太坊錢包 App 中比較常見(比特幣類似以太坊Keystore機制的是：BIP38)，是把私鑰通過錢包密碼再加密得來的，與助記詞不同，一般可保存為文本或 JSON 格式存儲。換句話說，Keystore需要用錢包密碼解密後才等同於私鑰。因此，Keystore需要配合錢包密碼來使用，才能導入錢包。當黑客盜取Keystore後，在沒有密碼情況下, 有可能通過暴力破解Keystore密碼解開Keystore，所以<strong>建議使用者在設置密碼時稍微複雜些，比如帶上特殊字符，至少 8 位以上，並安全存儲。</strong></p><p class=ql-align-justify>由於區塊鏈技術的加持使得區塊鏈數字錢包安全係數高於其他的數字錢包，其中最為關鍵的就是兩點：防盜和防丟。相比於盜幣事件原因的多樣化，造成丟幣事件發生的原因主要有五個類型：沒有備份、備份遺失、忘記密碼、備份錯誤以及設備丟失或損壞。因此，我們在備份一個區塊鏈數字錢包的時候，對私鑰、助記詞、Keystore一定要進行多重、多次備份，把丟幣的風險扼殺在搖籃之中。</p><div class=pgc-img><img alt=區塊鏈安全入門筆記彙編版，一文了解20種名詞解釋及26種攻擊方式 onerror=errorimg.call(this); src=https://p1.pstatp.com/large/pgc-image/eef461a70908439ba6d818697918128d><p class=pgc-img-caption></p></div><p class=ql-align-justify><br></p><p class=ql-align-justify><strong>圖片來自imToken Fans 活動分享</strong></p><p class=ql-align-justify>為大家提供一份來自imToken總結的<strong>錢包安全“十不原則”</strong>：</p><p class=ql-align-justify>1. 不使用未備份的錢包；</p><p class=ql-align-justify>2. 不使用郵件傳輸或存儲私鑰；</p><p class=ql-align-justify>3. 不使用微信收藏或雲備份存儲私鑰；</p><p class=ql-align-justify>4. 不要截屏或拍照保存私鑰；</p><p class=ql-align-justify>5. 不使用微信、QQ 傳輸私鑰；</p><p class=ql-align-justify>6. 不要將私鑰告訴身邊的人；</p><p class=ql-align-justify>7. 不要將私鑰發送到群裡；</p><p class=ql-align-justify>8. 不使用第三方提供的未知來源錢包應用；</p><p class=ql-align-justify>9. 不使用他人提供的 Apple ID；</p><p class=ql-align-justify>10. 不要將私鑰導入未知的第三方網站。</p><p class=ql-align-justify><strong>（八）公有鏈(Public Blockchain)</strong>公有鏈(Public Blockchain)簡稱公鏈，是指全世界任何人都可隨時進入讀取、任何人都能發送交易且能獲得有效確認的共識區塊鏈。公鏈通常被認為是完全去中心化的，鏈上數據都是公開透明的，不可更改，任何人都可以通過交易或挖礦讀取和寫入數據。<strong>一般會通過代幣機制(Token)來鼓勵參與者競爭記賬，來確保數據的安全性。</strong></p><p class=ql-align-justify><strong>（九）交易所 Exchange</strong>與買賣股票的證券交易所類似，區塊鏈交易所即數字貨幣買賣交易的平臺。<strong>數字貨幣交易所又分為中心化交易所和去中心化交易所。去中心化交易所：</strong>交易行為直接發生在區塊鏈上，數字貨幣會直接發回使用者的錢包，或是保存在區塊鏈上的智能合約。這樣直接在鏈上交易的好處在於交易所不會持有用戶大量的數字貨幣，所有的數字貨幣會儲存在用戶的錢包或平臺的智能合約上。去中心化交易通過技術手段在信任層面去中心化，也可以說是無需信任，每筆交易都通過區塊鏈進行公開透明，不負責保管用戶的資產和私鑰等信息，用戶資金的所有權完全在自己手上，具有非常好的個人數據安全和隱私性。目前市面上的去中心化交易所有WhaleEx、Bancor、dYdX等。<strong>中心化交易所：</strong>目前熱門的交易所大多都是採用中心化技術的交易所，使用者通常是到平臺上註冊，並經過一連串的身份認證程序(KYC)後，就可以開始在上面交易數字貨幣。用戶在使用中心化交易所時，其貨幣交換不見得會發生在區塊鏈上，取而代之的可能僅是修改交易所數據庫內的資產數字，用戶看到的只是賬面上數字的變化，交易所只要在用戶提款時準備充足的數字貨幣可供匯出即可。當前的主流交易大部分是在中心化交易所內完成的，目前市面上的中心化交易所有幣安，火幣，OKEx等。</p><p class=ql-align-justify><strong>（十）節點 Node</strong>在傳統互聯網領域，企業所有的數據運行都集中在一箇中心化的服務器中，那麼這個服務器就是一個節點。由於區塊鏈是去中心化的分佈式數據庫，是由千千萬萬個“小服務器”組成。區塊鏈網絡中的每一個節點，就相當於存儲所有區塊數據的每一臺電腦或者服務器。所有新區塊的生產，以及交易的驗證與記帳，並將其廣播給全網同步，都由節點來完成。<strong>節點分為“全節點”和“輕節點”，全節點就是擁有全網所有的交易數據的節點，那麼輕節點就是隻擁有和自己相關的交易數據節點。</strong>由於每一個全節點都保留著全網數據，這意味著，其中一個節點出現問題，整個區塊鏈網絡世界也依舊能夠安全運行，這也是去中心化的魅力所在。</p><p class=ql-align-justify><strong>（十一） RPC </strong>遠程過程調用(Remote ProcedureCall，縮寫為 RPC)是一個計算機通信協議。以太坊 RPC 接口是以太坊節點與其他系統交互的窗口，以太坊提供了各種 RPC 調用：HTTP、IPC、WebSocket 等等。在以太坊源碼中，server.go是核心邏輯，負責 API 服務的注入，以及請求處理、返回。http.go實現 HTTP 的調用，websocket.go實現 WebSocket 的調用，ipc.go實現 IPC 的調用。以太坊節點默認在 8545 端口提供了 JSON RPC 接口，數據傳輸採用 JSON 格式，可以執行 Web3 庫的各種命令，可以向前端（例如imToken、Mist 等錢包客戶端）提供區塊鏈上的信息。</p><p class=ql-align-justify><strong>（十二）以太坊黑色情人節漏洞 ETH Black Valentine's Day</strong>2018 年 3 月 20 日，慢霧安全團隊觀測到一起自動化盜幣的攻擊行為，攻擊者利用以太坊節點Geth/Parity RPCAPI 鑑權缺陷，惡意調用eth_sendTransaction盜取代幣，持續時間長達兩年，單被盜的且還未轉出的以太幣價值就高達現價 2 千萬美金(以當時 ETH 市值計算)，還有代幣種類 164 種，總價值難以估計（很多代幣還未上交易所正式發行）。</p><p class=ql-align-justify><strong>（十三）共識 Consensus</strong>共識算法主要是解決分佈式系統中，多個節點之間對某個狀態達成一致性結果的問題。分佈式系統由多個服務節點共同完成對事務的處理，分佈式系統中多個副本對外呈現的數據狀態需要保持一致性。由於節點的不可靠性和節點間通訊的不穩定性，甚至節點作惡，偽造信息，使得節點之間出現數據狀態不一致性的問題。<strong>通過共識算法，可以將多個不可靠的單獨節點組建成一個可靠的分佈式系統，實現數據狀態的一致性，提高系統的可靠性。</strong></p><p class=ql-align-justify>區塊鏈系統本身作為一個超大規模的分佈式系統，但又與傳統的分佈式系統存在明顯區別。由於它不依賴於任何一箇中央權威，系統建立在去中心化的點對點網絡基礎之上，因此分散的節點需要就交易的有效與否達成一致，這就是共識算法發揮作用的地方，即確保所有節點都遵守協議規則並保證所有交易都以可靠的方式進行。由共識算法實現在分散的節點間對交易的處理順序達成一致，這是共識算法在區塊鏈系統中起到的最主要作用。區塊鏈系統中的共識算法還承擔著區塊鏈系統中激勵模型和治理模型中的部分功能，為了解決在對等網絡中(P2P),相互獨立的節點如何達成一項決議問題的過程。簡而言之，共識算法是在解決分佈式系統中如何保持一致性的問題。</p><p class=ql-align-justify><strong>（十四）工作量證明PoW(Proof of Work)</strong>PoW(Proof of Work)是歷史上第一個成功的去中心化區塊鏈共識算法。工作量證明是大多數人所熟悉的，被比特幣、以太坊，萊特幣等主流公鏈廣泛使用。</p><p class=ql-align-justify><strong>工作量證明要求節點參與者執行計算密集型的任務，但是對於其他網絡參與者來說易於驗證。</strong>在比特幣的例子中，礦工競相向由整個網絡維護的區塊鏈賬本中添加所收集到的交易，即區塊。為了做到這一點，礦工必須第一個準確計算出“nonce”，這是一個添加在字符串末尾的數字，用來創建一個滿足開頭特定個數為零的哈希值。不過存在採礦的大量電力消耗和低交易吞吐量等缺點。</p><p class=ql-align-justify><strong>（十五）權益證明PoS(Proof of Stake)</strong>PoS(Proof of Stake)——權益證明機制，一種主流的區塊鏈共識算法，目的是為了讓區塊鏈裡的分佈式節點達成共識，它往往和工作量證明機制(Proof of Work)一起出現，兩種都被認為是區塊鏈共識算法裡面的主流算法之一。<strong>作為一種算法，它通過持幣人的同意來達成共識，目的是確定出新區塊，這過程相對於PoW，不需要硬件和電力，且效率更高。</strong></p><p class=ql-align-justify>PoS共識中引入了 Stake 的概念，持幣人將代幣進行 Staking，要求所有的參與者抵押一部分他們所擁有的 Token 來驗證交易，然後獲得出塊的機會，PoS共識中會通過選舉算法，按照持幣量比例以及 Token 抵押時長，或者是一些其他的方式，選出打包區塊的礦工。礦工在指定高度完成打包交易，生成新區塊，並廣播區塊，廣播的區塊經過PoS共識中另外一道"門檻"，驗證人驗證交易，通過驗證後，區塊得到確認。這樣一輪PoS的共識過程就進行完成了。權益證明通過長期綁定驗證者的利益和整個網絡的利益來阻止不良行為。鎖定代幣後，如果驗證者存在欺詐性交易，那麼他們所抵押的 Token 也會被削減。</p><p class=ql-align-justify><strong>（十六）委託權益證明DPoS(Delegate Proof of Stake)</strong></p><p class=ql-align-justify>委託權益證明，其雛形誕生在 2013 年 12 月 8 日，Daniel Larimer 在bitsharetalk首次談及用投票選擇出塊人的方式，代替PoS中可能出現的選舉隨機數被操縱的問題。<strong>在DPoS中，讓每一個持幣者都可以進行投票，由此產生一定數量的代表 ,或者理解為一定數量的節點或礦池，他們彼此之間的權利是完全相等的。</strong>持幣者可以隨時通過投票更換這些代表，以維繫鏈上系統的“長久純潔性”。在某種程度上，這很像是國家治理裡面的代議制，或者說是人大代表制度。這種制度最大的好處就是解決了驗證人過多導致的效率低下問題，當然，這種制度也有很明顯的缺點，由於 “代表”制度，導致其一直飽受中心化詬病。</p><p class=ql-align-justify><strong>（十七）多籤(Multi-sig)</strong>多籤(Multi-sig)指的是需要多個簽名才能執行的操作(這些簽名是不同私鑰生成的)。這可用於提供更高的安全性，即使丟失單個私鑰的話也不會讓攻擊者取得帳戶的權限，多個值得信賴的各方必須同時批准更新，否則無效。我們都知道，一般來說一個比特幣地址對應一個私鑰，動用這個地址中的資金需要私鑰的持有者發起簽名才行。而多重簽名技術，簡單來說，<strong>就是動用一筆資金時需要多個私鑰簽名才有效</strong>。多籤的一個優勢就是可以多方對一筆付款一起達成共識，才能支付成功。</p><p class=ql-align-justify><strong>（十八）軟分叉(Soft-fork)</strong>軟分叉(Soft-fork)更多情況下是一種<strong>協議升級</strong>，當新共識規則發佈後，沒有升級的舊節點並不會意識到代碼已經發生改變，而繼續生產不合法的區塊，就會產生臨時性分叉，但新節點可以兼容舊節點，即新舊節點始終在同一條鏈上工作。</p><p class=ql-align-justify><strong>（十九）硬分叉(Hard-fork)</strong>硬分叉(Hard-fork)是區塊鏈發生<strong>永久性分歧</strong>，在新共識規則發佈後，已經升級的節點無法驗證未升級節點產生的區塊，未升級節點也無法驗證已經升級的節點產生的區塊，即新舊節點互不兼容，通常硬分叉就會發生，原有正常的一條鏈被分成了兩條鏈（已升級的一條鏈和未升級的一條鏈，且這兩條鏈互不兼容）。</p><p class=ql-align-justify><strong>（二十）智能合約(Smart Contract)</strong>並不是一個新的概念，早在 1995 年就由跨領域法律學者 Nick Szabo 提出：智能合約是一套以數字形式定義的承諾(Promises)，包括合約參與方可以在上面執行這些承諾的協議。在區塊鏈領域中，智能合約本質可以說是一段運行在區塊鏈網絡中的代碼，它以計算機指令的方式實現了傳統合約的自動化處理，完成用戶所賦予的業務邏輯。</p><p class=ql-align-justify><strong>二、攻擊方法介紹</strong></p><p class=ql-align-justify><strong>（一）惡意挖礦攻擊(Cryptojacking)</strong>惡意挖礦攻擊(Cryptojacking)是一種惡意行為，指未經授權的情況下劫持用戶設備挖掘加密貨幣。通常，攻擊者會劫持受害者設備(個人 PC 或服務器)的處理能力和帶寬，由於加密貨幣挖掘需要大量算力，攻擊者會嘗試同時感染多個設備，這樣他們能夠收集到足夠的算力來執行這種低風險和低成本的挖礦活動。<strong>一般惡意挖礦軟件會誘導用戶在計算機上加載挖礦代碼，或通過使用類似網絡釣魚的方法</strong>，如惡意鏈接、電子郵件或是在網站裡植入挖礦腳本等方式，使系統無意中被隱藏的加密挖礦程序感染進而完成攻擊行為。近年來，隨著加密貨幣價格的上漲，更加複雜的惡意軟件被開發出來，使惡意挖礦攻擊事件層出不窮。</p><p class=ql-align-justify><strong>在此我們為大家提供幾條建議防範惡意挖礦攻擊：</strong></p><p class=ql-align-justify>1、注意設備性能和 CPU 利用率；</p><p class=ql-align-justify>2、在 Web 瀏覽器上安裝挖礦腳本隔離插件，例如MinerBlock，NoCoin和 Adblocker；</p><p class=ql-align-justify>3、小心電子郵件附件和鏈接；</p><p class=ql-align-justify>4、安裝一個值得信賴的殺毒軟件，讓軟件應用程序和操作系統保持最新狀態。</p><p class=ql-align-justify><strong>（二）無利益攻擊(Nothing at Stake Attack)</strong>無利益攻擊(Nothing at Stake Attack)，是在PoS共識機制下一個有待解決的問題，其問題的本質可以簡單概括為“作惡無成本，好處無限多”。當PoS共識系統出現分叉(Fork)時，出塊節點可以在“不受任何損失”的前提下，同時在兩個分叉上出塊；無論哪一個分叉後面被公認為主鏈，該節點都可以獲得“所有收益”且不會有任何成本損失。這就很容易給某些節點一種動力去產生新的分叉，支持或發起不合法交易，其他逐利的出塊節點會同時在多條鏈(窗口)上排隊出塊支持新的分叉。隨著時間的推移，分叉越來越多，非法交易，作惡猖狂。<strong>區塊鏈將不再是唯一鏈，所有出塊節點沒有辦法達成共識。</strong>為了預防這樣的情況發生，許多類PoS共識機制對此的解決方法是引入懲罰機制，對作惡的節點進行經濟懲罰(Slashing)，以建立更加穩定的網絡。DPoS實際上也是無利益攻擊的解決方案之一，由上文我們可知DPoS這個機制由持幣人選出出塊節點來運營網絡，出塊節點會將一部分獎勵分給投票者。</p><p class=ql-align-justify><strong>（三）雙花攻擊(Double Spend Attack)</strong>雙花攻擊(Double Spend Attack)即一筆錢花了兩次，雙重支付，利用貨幣的數字特性兩次或多次使用“同一筆錢”完成支付。雙花不會產生新的 Token，但能把自己花出去的錢重新拿回來。簡單說就是，攻擊者將一筆 Token 轉到另外一個地址，通常是轉到交易所進行套現，然後再利用一些攻擊手法對轉賬交易進行回滾。<strong>目前有常見的幾種手法能夠引發雙花攻擊：</strong></p><p class=ql-align-justify><strong>1. Race Attack</strong>這種攻擊主要通過<strong>控制礦工費</strong>來實現雙花。攻擊者同時向網絡中發送兩筆交易，一筆交易發給自己(為了提高攻擊成功的概率，他給這筆交易增加了足夠的礦工費)，一筆交易發給商家。由於發送給自己的交易中含有較高的手續費，會被礦工優先打包進區塊的概率比較高。這時候這筆交易就會先於發給商家的那筆交易，那麼發給商家的交易就會被回滾。對於攻擊者來說，通過控制礦工費，就實現了同一筆 Token 的“雙花”。</p><p class=ql-align-justify><strong>2. Finney Attack</strong>攻擊者主要通過<strong>控制區塊的廣播時間</strong>來實現雙花，攻擊對象針對的是接受 0 確認的商家。假設攻擊者挖到區塊，該區塊中包含著一個交易，即 A 向 B 轉了一定數量的 Token，其中 A 和 B 都是攻擊者的地址。但是攻擊者並不廣播這個區塊，而是立即找到一個願意接受 0 確認交易的商家向他購買一個物品，向商家發一筆交易，用 A 向商家的地址 C 支付，發給商家的交易廣播出去後，攻擊者再把自己之前挖到的區塊廣播出去，由於發給自己的交易先於發給商家的交易，對於攻擊者來說，通過控制區塊的廣播時間，就實現了同一筆 Token 的“雙花”。</p><p class=ql-align-justify><strong>3. Vector76attack</strong>Vector76 Attack 又稱“一次確認攻擊”，也就是交易確認一次後仍然可以<strong>回滾</strong>，是 Finney Attack 和 Race Attack 的組合。攻擊者創建兩個節點，節點 A 連接到商家節點，節點 B 連接到區塊鏈網絡中的其他節點。接著，攻擊者用同一筆 Token 發起兩筆交易，一筆交易發送給商家地址，我們稱為交易 1；一筆交易發送給自己的錢包地址，我們稱為交易 2。與上面說的 Race Attack 一樣，攻擊者對交易 2 添加了較高的礦工費從而提高了礦工的打包概率，此時，攻擊者並沒有把這兩筆交易廣播到網絡中去。接著，攻擊者開始在交易 1 所在的分支上進行挖礦，這條分支我們命名為分支 1。攻擊者挖到區塊後，並沒有廣播出去，而是同時做了兩件事：在節點 A 上發送交易 1，在節點 B 上發送交易 2。由於節點 A 只連接了商家節點，所以當商家節點想把交易 1 傳給其它對等節點時，連接了更多節點的節點 B，已經把交易 2 廣播給了網絡中的大部分節點。於是，從概率上來講，交易 2 就更有可能被網絡認定為是有效的，交易 1 被認定為無效。交易 2 被認為有效後，攻擊者立即把自己之前在分支 1 上挖到的區塊，廣播到網絡中。這時候，這個接受一次確認就支付的商家，會確認交易成功，然後攻擊者就可以立即變現並轉移資產。同時，由於分支 2 連接的更多節點，所以礦工在這個分支上挖出了另一個區塊，也就是分支 2 的鏈長大於分支 1 的鏈長。於是，分支 1 上的交易就會回滾，商家之前支付給攻擊者的交易信息就會被清除，但是攻擊者早已經取款，實現了雙花。</p><p class=ql-align-justify><strong>4. 51% attack</strong>攻擊者佔有超過全網 50% 的算力，在攻擊者控制算力的這段時間，他可以創造一條高度大於原來鏈的新鏈。那麼舊鏈中的交易會被回滾，攻擊者可以使用同一筆 Token 發送一筆新的交易到新鏈上。<strong>（四）異形攻擊(Alien Attack)</strong>異形攻擊(Alien Attack)實際上是一個所有公鏈都可能面臨的問題，又稱地址池汙染，是指誘使同類鏈的節點互相侵入和汙染的一種攻擊手法，漏洞的主要原因是<strong>同類鏈系統在通信協議上沒有對不同鏈的節點做識別。</strong>這種攻擊在一些參考以太坊通信協議實現的公鏈上得到了復現：以太坊同類鏈，由於使用了兼容的握手協議，無法區分節點是否屬於同個鏈，利用這一點，攻擊者先對以太坊節點地址進行收集並進行惡意握手操作，通過跟節點握手達成汙染地址池的目的，使得不同鏈的節點互相握手並把各自地址池裡已知的節點推送給了對方，導致更多的節點互相汙染，最終擴散致整個網絡。遭受異形攻擊的節點通常會通信性能下降，最終造成節點阻塞、主網異常等現象。<strong>相關公鏈需要注意持續保持主網健康狀態監測，以免出現影響主網穩定的攻擊事件出現。</strong></p><p class=ql-align-justify><strong>（五）釣魚攻擊(Phishing)</strong>所謂“釣魚攻擊(Phishing)”，指的是攻擊者偽裝成可以信任的人或機構，通過電子郵件、通訊軟件、社交媒體等方式，以獲取收件人的用戶名、密碼、私鑰等私密信息。隨著技術的發展，網絡釣魚攻擊不僅可以託管各種惡意軟件和勒索軟件攻擊，而且更糟糕的是這些攻擊正在呈現不斷上升的趨勢。<strong>建議用戶保持警惕，通過即時通訊 App、短信或電子郵件獲取到的每條信息都需要謹慎對待，不要在通過點擊鏈接到達的網站上輸入憑據或私鑰，在交易時儘可能的使用硬件錢包和雙因素認證(2FA)，生態中的項目方在攻擊者沒有確切告知漏洞細節之前，不要給攻擊者轉賬，若項目方無法準確判斷和獨自處理，可以聯繫安全公司協助處理。</strong></p><p class=ql-align-justify><strong>（六）木馬攻擊(Trojan Horse Attack)</strong>木馬攻擊(Trojan Horse Attack)是指攻擊者通過隱藏在正常程序中的一段具有特殊功能的惡意代碼，如具備破壞和刪除文件、發送密碼、記錄鍵盤和 DDoS 攻擊等特殊功能的後門程序，將控制程序寄生於被控制的計算機系統中，裡應外合，對被感染木馬病毒的計算機實施操作。<strong>可用來竊取用戶個人信息，甚至是遠程控制對方的計算機而加殼製作，然後通過各種手段傳播或者騙取目標用戶執行該程序，以達到盜取密碼等各種數據資料等目的。</strong>在區塊鏈領域，諸如勒索木馬、惡意挖礦木馬一直是行業內令人頭疼的安全頑疾，據幣世界報道，隨著比特幣的飆升，推動整個數字加密貨幣價格回升，與幣市密切相關的挖礦木馬開始新一輪活躍，僅 2019 年上半年挖礦木馬日均新增 6 萬個樣本，通過分析發現某些新的挖礦木馬家族出現了快速、持續更新版本的現象，其功能設計越來越複雜，在隱藏手法、攻擊手法方面不斷創新，與殺軟廠商的技術對抗正在不斷增強。</p><p class=ql-align-justify><strong>（七）供應鏈攻擊(Supply Chain Attack)</strong>供應鏈攻擊(Supply Chain Attack)是一種非常可怕的攻擊方式，防禦上很難做到完美規避，由於現在的軟件工程，各種包/模塊的依賴十分頻繁、常見，而開發者們很難做到一一檢查，默認都過於信任市面上流通的包管理器，這就導致了供應鏈攻擊幾乎已經成為必選攻擊之一。把這種攻擊稱成為供應鏈攻擊，是為了形象說明這種攻擊是一種依賴關係，一個鏈條，任意環節被感染都會導致鏈條之後的所有環節出問題。供應鏈攻擊防不勝防且不計代價，<strong>建議所有數字加密貨幣相關項目(如交易所、錢包、DApp等)都應該強制至少一名核心技術完整審查一遍所有第三方模塊，看看是否存在可疑代碼，也可以通過抓包查看是否存在可疑請求。</strong></p><p class=ql-align-justify><strong>（八）交易回滾攻擊(Roll Back Attack)</strong>交易回滾攻擊(Roll Back Attack)，故名思義，指的是能對交易的狀態進行回滾。回滾具體是什麼意思呢？回滾具體指的是將已經發生的狀態恢復成它未發生時候的樣子。那麼，交易回滾的意思就是將已經發生的交易變成未發生的狀態。即攻擊者本來已經發生了支付動作，但是通過某些手段，讓轉賬流程發生錯誤，從而回滾整個交易流程，達到交易回滾的目的，這種攻擊手法多發於區塊鏈上的的智能合約遊戲當中，當用戶的下注動作和合約的開獎動作在一個交易內的時候，即內聯交易。攻擊者就可以通過交易發生時檢測智能合約的某些狀態，獲知開獎信息，根據開獎信息選擇是否對下注交易進行回滾。<strong>建議開發者們不要將用戶的下注與開獎放在同一個交易內，防止攻擊者通過檢測智能合約中的開獎狀態實現交易回滾攻擊。</strong></p><p class=ql-align-justify><strong>（九）交易排擠攻擊(Transaction Congestion Attack)</strong>交易排擠攻擊(Transaction Congestion Attack)是針對 EOS 上的使用 defer 進行開獎的遊戲合約的一種攻擊手法，攻擊者可以通過某些手段，在遊戲合約的 defer 開獎交易前發送大量的 defer 交易，惡意侵佔區塊內的 CPU 資源，使得智能合約內本應在指定區塊內執行的 defer 開獎交易因資源不足無法執行，只能去到下一個區塊才執行。由於很多 EOS 上的遊戲智能合約使用區塊信息作為智能合約本身的隨機數，同一個 defer 開獎交易在不同區塊內的執行結果是不一樣的。通過這樣的方式，攻擊者在獲知無法中獎的時候，就通過發送大量的 defer 交易，強行讓智能合約重新開獎，從而達到攻擊目的。<strong>建議智能合約開發者對在不同區塊內執行結果不同的關鍵的操作不要採用 defer 交易的方式，降低合約被攻擊的風險。</strong></p><p class=ql-align-justify><strong>（十）隨機數攻擊(Random Number Attack)</strong>隨機數攻擊(Random Number Attack)，就是針對智能合約的隨機數生成算法進行攻擊，預測智能合約的隨機數。目前區塊鏈上很多遊戲都是採用的鏈上信息（如區塊時間，未來區塊哈希等）作為遊戲合約的隨機數源，也稱隨機數種子。使用這種隨機數種子生成的隨機數被稱為偽隨機數。偽隨機數不是真的隨機數，存在被預測的可能。當使用可被預測的隨機數種子生成隨機數的時候，一旦隨機數生成的算法被攻擊者猜測到或通過逆向等其他方式拿到，攻擊者就可以根據隨機數的生成算法預測遊戲即將出現的隨機數，實現隨機數預測，達到攻擊目的。<strong>建議智能合約開發者不要使用不安全的隨機數種子生成隨機數，降低合約被攻擊的風險。</strong></p><p class=ql-align-justify><strong>（十一）hard_fail狀態攻擊hard_fail Attack</strong>hard_fail是什麼呢？簡單來說就是出現錯誤但是沒有使用錯誤處理器(error handler)處理錯誤，比方說使用onerror捕獲處理，如果說沒有onerror捕獲，就會hard_fail。EOS 上的交易狀態記錄分為 executed,soft_fail, hard_fail, delayed 和 expired 這 5 種狀態，通常在鏈上大部分人觀察到的交易，都是 executed 的，或者 delayed 的，而沒有失敗的交易，這就導致大部分開發者誤以為 EOS 鏈上沒有失敗的交易記錄，從而忽略了對交易狀態的檢查。攻擊者利用這個細節，針對鏈上游戲或交易所進行攻擊，構造執行狀態為hard_fail的交易，欺騙鏈上游戲或交易所進行假充值攻擊，從而獲利。<strong>在此提醒交易所和 EOS DApp遊戲開發者在處理轉賬交易的時候需要嚴格校驗交易狀態，確保交易執行狀態為 executed。</strong></p><p class=ql-align-justify><strong>（十二）重放攻擊 Replay Attack</strong>重放攻擊(Replay Attack)，是針對區塊鏈上的交易信息進行重放，一般來說，區塊鏈為了保證不可篡改和防止雙花攻擊的發生，會對交易進行各種驗證，包括交易的時間戳，nonce，交易 id 等，但是隨著各種去中心化交易所的興起，在智能合約中驗證用戶交易的場景越來越多。這種場景一般是需要用戶對某一條消息進行簽名後上傳給智能合約，然後在合約內部進行驗籤。但由於用戶的簽名信息是會上鍊的，也就是說每個人都能拿到用戶的簽名信息，當在合約中校驗用戶簽名的時候，如果被簽名的消息不存在隨著交易次數變化的變量，如時間戳，nonce 等，攻擊者就可以拿著用戶的簽名，偽造用戶發起交易，從而獲利。這是一種最早出現於DApp生態初期的攻擊形態，由於開發者設計的開獎隨機算法存在嚴重缺陷，使得攻擊者可利用合約漏洞重複開獎，屬於開發者較為容易忽略的錯誤。因此，<strong>開發者們在鏈上進行驗籤操作的時候，需要對被簽名消息加上各種可變因子，防止攻擊者對鏈上簽名進行重放，造成資產損失。</strong></p><p class=ql-align-justify><strong>（十三）重入攻擊 Reentrancy Attack</strong>重入攻擊(Reentrancy Attack)首次出現於以太坊，對應的真實攻擊為 The DAO 攻擊，此次攻擊還導致了原來的以太坊分叉成以太經典(ETC)和現在的以太坊(ETH)。由於項目方採用的轉賬模型為先給用戶發送轉賬然後才對用戶的餘額狀態進行修改，導致惡意用戶可以構造惡意合約，在接受轉賬的同時再次調用項目方的轉賬函數。利用這樣的方法，導致用戶的餘額狀態一直沒有被改變，卻能一直提取項目方資金，最終導致項目方資金被耗光。<strong>提醒智能合約開發者在進行智能合約開發時，在處理轉賬等關鍵操作的時候，如果智能合約中存儲了用戶的資金狀態，要先對資金狀態進行修改，然後再進行實際的資金轉賬，避免重入攻擊。</strong></p><p class=ql-align-justify><strong>（十四）假充值攻擊 False Top-up</strong>假充值攻擊(False Top-up)，分為針對智能合約的假充值攻擊和對交易所的假充值攻擊。在假充值攻擊中，無論是智能合約還是交易所本身，都沒有收到真實的 Token，但是用戶又確實得到了真實的充值記錄，在這種情況下，用戶就可以在沒有真正充值的情況下從智能合約或交易所中用假資產或不存在的資產竊取真實資產。</p><p class=ql-align-justify><strong>1. 智能合約假充值攻擊</strong>針對智能合約的假充值主要是假幣的假充值，這種攻擊手法多發於 EOS 和波場上，由於 EOS 上代幣都是採用合約的方式進行發行的，EOS 鏈的系統代幣同樣也是使用這種方式發行，同時，任何人也可以發行名為 EOS 的代幣。只是發行的合約帳號不一樣，系統代幣的發行合約為"eosio.token"，而其他人發行的代幣來源於其他合約帳號。當合約內沒有校驗 EOS 代幣的來源合約的時候，攻擊者就能通過充值攻擊者自己發佈的 EOS 代幣，對合約進行假充值攻擊。而波場上的假充值攻擊主要是 TRC10 代幣的假充值攻擊，由於每一個 TRC10 都有一個特定的tokenid進行識別，當合約內沒有對tokenid進行校驗的時候，任何人都可以以 1024 個 TRX 發行一個 TRC10 代幣對合約進行假充值。</p><p class=ql-align-justify><strong>2. 交易所假充值攻擊</strong>針對交易所的假充值攻擊分為假幣攻擊和交易狀態失敗的假充值攻擊。以 EOS 和以太坊為例。針對 EOS 可以使用名為 EOS 的假幣的方式對交易所進行假充值攻擊，如果交易所沒有嚴格校驗 EOS 的來源合約為"eosio.token"，攻擊就會發生。同時，區別於 EOS，由於以太坊上會保留交易失敗的記錄，針對 ERC20 Token，如果交易所沒有校驗交易的狀態，就能通過失敗的交易對交易所進行 ERC20 假充值。除此之外，hard_fail狀態攻擊也是屬於假充值攻擊的一種。<strong>建議交易所和智能合約開發者在處理轉賬的時候要充分校驗交易的狀態，如果是 EOS 或波場上的交易，在處理充值時還要同時校驗來源合約是否是"eosio.token" 或tokenid是否為指定的tokenid。</strong></p><p class=ql-align-justify><strong>（十五）短地址攻擊 Short Address Attack</strong>短地址攻擊(Short Address Attack)是針對以太坊上 ERC20 智能合約的一種攻擊形式，利用的是 EVM 中的對於輸入字節碼的自動補全機制進行攻擊。一般而言，針對 ERC20 合約中的 transfer 函數的調用，輸入的字節碼位數都是 136 字節的。當調用 ERC20 中的 transfer 函數進行 ERC20 Token 轉賬時，如果攻擊者提供的地址後有一個或多個 0，那麼攻擊者就可以把地址後的零省去，提供一個缺位的地址。當對這個地址轉賬的時候，比方說轉賬 100 的 A Token，然後輸入的地址是攻擊者提供的缺位地址，這時候，經過編碼輸入的數據是 134 字節，比正常的數據少了 2 字節，在這種情況下，EVM 就會對缺失的字節位在編碼數據的末尾進行補 0 湊成 136 字節，這樣本來地址段缺失的 0 被數據段的 0 補齊了，而由於給地址段補 0，數據段會少 0，而數據段缺失的 0 由 EVM 自動補齊，這就像數據段向地址段移動補齊地址段缺失字節位，然後數據段缺失的字節位由 EVM 用 0 補齊。這種情況下，轉賬金額就會由 100 變成 100 * 16 的 n 次方，n 是地址缺失的 0 的個數。通過這種方式，攻擊者就能對交易所或錢包進行攻擊，盜竊交易所和錢包的資產。<strong>建議交易所和錢包在處理轉賬的時候，要對轉賬地址進行嚴格的校驗，防止短地址攻擊的發生。</strong></p><p class=ql-align-justify><strong>（十六）假幣攻擊 Fake Token Attack</strong>假幣攻擊(Fake Token Attack)，是針對那些在創建官方 Token 時採用通用創建模版創建出來的代幣，每個 Token 的識別僅根據特定的標記進行識別，如 EOS 官方 Token 的識別標記是"eosio.token"合約，波場的 TRC10 的識別標記是tokenid，以太坊的 ERC20 是用合約地址作為識別標記。那麼這樣就會出現一個問題，如果收款方在對這些 Token 進行收款的時候沒有嚴格校驗這些 Token 特有的標記，攻擊就會發生，以 EOS 為例子，由於 EOS 官方 Token 採用的是合約來發行一個名為 EOS 的 Token，標記 EOS 本身的標識是"eosio.token" 這個發行帳號，如果在接受轉賬的時候沒有校驗這個標識，攻擊者就能用其他的帳號同樣發行一個名為 EOS 的 Token，對交易所或錢包進行假幣充值，換取真的代幣。<strong>建議交易所和錢包在處理轉賬的時候，切記要嚴格檢驗各種代幣各種標識，防止假幣攻擊。</strong></p><p class=ql-align-justify><strong>（十七）整型溢出攻擊 Integer Overflow Attack數據的存儲是區塊鏈上重要的一環。</strong>但是每個數據類型本身是存在邊界的，例如以太坊中 uint8 類型的變量就只能存儲 0～255 大小的數據，超過了就存不下了。那麼如果要放一個超過數據類型大小的數字會怎樣呢？例如把 256 存進 uint8 的數據類型中，數據顯示出來會變成 1，而不是其他數值，也不會報錯，因為 uint8 本身能存一個 8 位二進制數字，最大值為 11111111，如果這個時候加 1，這個二進制數就變成了 100000001，而因為數據邊界的關係，只能拿到後 8 位，也就是 00000001，那麼數字的大小就變成 1 了，這種情況我們稱為上溢。有上就有下，下溢的意思就是一個值為 0 的 uint8 數據，如果這個時候對它進行減 1 操作，結果會變成該數據類型所能存儲的最大值加 1 減去被減數，在這個例子中是 255，也就是該數據類型所能存儲的最大值。那麼如果上述兩種情況發生在智能合約當中的話，惡意用戶通過下溢的操作，操縱自己的帳號向其他帳號發送超過自己餘額數量的代幣，如果合約內沒有對餘額進行檢查，惡意用戶的餘額就會下溢出變成一個超大的值，這個時候攻擊者如果大量拋售這些代幣，就能瞬間破壞整個代幣的價值系統。<strong>建議所有的智能合約開發者在智能合約中對數據進行操作的時候，要嚴格校驗數據邊界，防止整形溢出攻擊的發生。</strong></p><p class=ql-align-justify><strong>（十八）條件競爭攻擊 Race Condition</strong>條件競爭(Race Condition)攻擊的方式很多樣，但是核心的本質無非是對某個條件的狀態修改的競爭。條件競爭的例子：著名的 Edgeware 鎖倉合約的拒絕服務漏洞，這個漏洞問題的本質在於對新建的鎖倉合約的餘額的這個條件進行競爭。攻擊者可以監控所有鏈上的鎖倉請求，提前計算出鎖倉合約的地址，然後向合約地址轉賬，造成鎖倉失敗。在官方沒有修復之前，要防止這種攻擊，只能使用比攻擊者更高的手續費讓自己的鎖倉交易先行打包，從而與攻擊者形成競爭避免攻擊。最後，官方修復方案為不對鎖倉合約的餘額進行強制性的相等檢查，而是採用大於等於的形式，避免了攻擊的發生。<strong>建議智能合約的開發者在智能合約中對某些狀態進行修改的時候，要根據實際情況充分考慮條件競爭的風險，防止遭受條件競爭攻擊。</strong></p><p class=ql-align-justify><strong>（十九）越權訪問攻擊 Exceed Authority Access Attack</strong>和傳統安全的定義一樣，越權指的是訪問或執行超出當前賬戶權限的操作，如本來有些操作只能是合約管理員執行的，但是由於限制做得不嚴謹，導致關鍵操作也能被合約管理員以外的人執行，導致不可預測的風險，這種攻擊在以太坊和 EOS 上都曾出現過多次。以 EOS 上著名的BetDice遊戲為例，由於在遊戲合約內的路由(EOS 內可自定義的事件轉發器)中沒有對來源賬號進行嚴格的校驗，導致普通用戶能通過 push action 的方式訪問到合約中的關鍵操作 transfer 函數，直接繞過轉賬流程進行下注，從而發生了越權攻擊，事後雖然BetDice官方緊急修復了代碼，並嚴格限制了來源賬號，但這個漏洞已經讓攻擊者幾乎無成本薅走BetDice獎池內將近 5 萬 EOS。又如在以太坊使用 solidity 版本為 0.4.x 進行合約開發的時候，很多合約開發者在對關鍵函數編寫的時候不僅沒有加上權限校驗，也沒有指定函數可見性，在這種情況下，函數的默認可見性為 public，惡意用戶可以通過這些沒有進行限制的關鍵函數對合約進行攻擊。<strong>建議智能合約開發者們在進行合約開發的時候要注意對關鍵函數進行權限校驗，防止關鍵函數被非法調用造成合約被攻擊。</strong></p><p class=ql-align-justify><strong>（二十）交易順序依賴攻擊 Transaction-Ordering Attack</strong>在區塊鏈的世界當中，一筆交易內可能含有多個不同的交易，而這些交易執行的順序會影響最終的交易的執行結果，由於在挖礦機制的區塊鏈中，交易未被打包前都處於一種待打包的 pending 狀態，如果能事先知道交易裡面執行了哪些其他交易，惡意用戶就能通過增加礦工費的形式，發起一筆交易，讓交易中的其中一筆交易先行打包，擾亂交易順序，造成非預期內的執行結果，達成攻擊。以以太坊為例，假如存在一個 Token 交易平臺，這個平臺上的手續費是通過調控合約中的參數實現的，假如某天平臺項目方通過一筆交易請求調高交易手續費用，這筆交易被打包後的所有買賣Token的交易手續費都要提升，正確的邏輯應該是從這筆交易開始往後所有的 Token 買賣交易的手續費都要提升，但是由於交易從發出到被打包存在一定的延時，請求修改交易手續費的交易不是立即生效的，那麼這時惡意用戶就可以以更高的手續費讓自己的交易先行打包，避免支付更高的手續費。<strong>建議智能合約開發者在進行合約開發的時候要注意交易順序對交易結果產生的影響，避免合約因交易順序的不同遭受攻擊。</strong></p><p class=ql-align-justify><strong>（二十一）女巫攻擊 Sybil Attack</strong>傳聞中女巫是一個會魔法的人，一個人可以幻化出多個自己，令受害人以為有多人，但其實只有一個人。在區塊鏈世界中，女巫攻擊(Sybil Attack)是針對服務器節點的攻擊。攻擊發生時候，通過某種方式，某個惡意節點可以偽裝成多個節點，對被攻擊節點發出鏈接請求，達到節點的最大鏈接請求，導致節點沒辦法接受其他節點的請求，造成節點拒絕服務攻擊。<strong>建議在搭建全節點的情況下，服務器需要在系統層面上對網絡連接情況進行監控，一旦發現某個IP連接異常就調用腳本配置 iptables 規則屏蔽異常的 IP，同時鏈開發者在進行公鏈開發時應該在 P2P 模塊中對單 IP 節點連接數量添加控制。</strong></p><p class=ql-align-justify><strong>（二十二）假錯誤通知攻擊 Fake Onerror Notification Attack</strong>EOS 上存在各種各樣的通知，只要在 action 中添加require_recipient命令，就能對指定的帳號通知該 action，在 EOS 上某些智能合約中，為了用戶體驗或其他原因，一般會對onerror通知進行某些處理。如果這個時候沒有對onerror通知的來源合約是否是eosio進行檢驗的話，就能使用和假轉賬通知同樣的手法對合約進行攻擊，觸發合約中對onerror的處理，從而導致被攻擊合約資產遭受損失。<strong>建議智能合約開發者在進行智能合約開發的時候需要對onerror的來源合約進行校驗，確保合約帳號為eosio帳號，防止假錯誤通知攻擊。</strong></p><p class=ql-align-justify><strong>（二十三）粉塵攻擊 Dusting Attack</strong>粉塵攻擊(Dusting Attack)最早發生於比特幣網絡當中，所謂粉塵，指的是交易中的交易金額相對於正常交易而言十分地小，可以視作微不足道的粉塵。通常這些粉塵在餘額中不會被注意到，許多持幣者也很容易忽略這些餘額。但是由於比特幣或基於比特幣模型的區塊鏈系統的賬本模型是採用 UTXO 模型作為賬戶資金系統，即用戶的每一筆交易金額，都是通過消費之前未消費的資金來產生新的資金。別有用意的用戶，就能通過這種機制，給大量的賬戶發送這些粉塵金額，令交易粉塵化，然後再通過追蹤這些粉塵交易，關聯出該地址的其他關聯地址，通過對這些關聯地址進行行為分析，就可以分析一個地址背後的公司或個人，破壞比特幣本身的匿名性。除此之外，由於比特幣網絡區塊容量大小的限制，大量的粉塵交易會造成區塊的擁堵，從而使得交易手續費提升，進而產生大量待打包交易，降低系統本身的運行效率。對於如何避免粉塵攻擊，可以在構造交易的過程中，根據交易的類型，計算出交易的最低金額，同時對每個輸出進行判斷，如果低於該金額，則不能繼續構造該筆交易。特別的，如果這個輸出剛好發生在找零上，且金額對於你來說不太大，則可以通過捨棄該部分的粉塵輸出，以充作交易手續費來避免構造出粉塵交易。其次，為了保護隱私性，<strong>建議可以在構造交易時把那些金額極小的 UTXO 捨棄掉，使用大額的 UTXO 組成交易。</strong></p><p class=ql-align-justify><strong>（二十四）C2 攻擊 C2 Attack</strong>C2 全稱 Command and Control，翻譯過來就是命令執行與控制，在傳統的網絡攻擊中，在通過各種漏洞進入到目標服務器後，受限於空間，通常通過網絡拉取二段 exploit 進行駐留，實現後滲透流程。所以，C2 架構也就可以理解為，惡意軟件通過什麼樣的方式獲取資源和命令，以及通過什麼樣的方式將數據回傳給攻擊者。在傳統的攻擊手法中，攻擊者一般通過遠程服務器拉取命令到本地執行，但是這種方式也有很明顯的缺點，就是一旦遠程服務器被發現，後續滲透活動就無法正常進行。但是區塊鏈網絡提供了一個天然且不可篡改的大型數據庫，攻擊者通過把攻擊荷載(payload)寫進交易中，並通過發送交易把該命令永久的刻在區塊鏈數據庫中。通過這種方法，即使攻擊命令被發現，也無法篡改鏈上數據，無需擔心服務器被發現然後下線的風險。新技術不斷髮展，舊有的攻擊手法也在隨著新技術的變換而不斷迭代更新。<strong>在區塊鏈的世界中只有在各方面都做好防範，才能避免來自各方面的安全攻擊。</strong></p><p class=ql-align-justify><strong>（二十五）洗幣 Money Launderin</strong>洗幣和洗錢是一樣的，只是對象不同，洗錢指的是將一筆非法得到的金錢通過某些操作後變成正當、合法的收入。而洗幣也是一樣，指的是將非法獲取的代幣，如通過黑客攻擊、攜帶用戶資產跑路或通過詐騙等手段獲取的代幣，通過某些手段，將其來源變成正當、合法的來源。如通過交易所進行洗幣、智能合約中洗幣或通過某些攪拌器進行中轉、通過匿名幣種如門羅幣，Zcash等，令非法所得的資金無法被追蹤，最後成功逃過監管達到洗幣的目的，然後通過把代幣轉換成法幣離場，完成洗幣的流程。<strong>建議各交易所應加強 KYC 策略，增強風控等級，及時監控交易所大資金進出，防範惡意用戶通過交易所進行洗幣，除此之外，可以通過與第三方安全機構進行合作，及時攔截非法資產，阻斷洗錢的可能。</strong></p><p class=ql-align-justify><strong>（二十六）勒索 Ransom</strong>勒索是傳統行業中常見的攻擊行為，攻擊者通過向受害者主機發送勒索病毒對主機文件進行加密來向受害者進行資金勒索。隨著區塊鏈技術的發展，近年來，勒索開始呈現新的方式，如使用比特幣作為勒索的資金支付手段或使用匿名性更高的門羅幣作為資金支付手段。如著名的GandCrab病毒就是比特幣勒索病毒，受害者需要向攻擊者支付一定量的比特幣換取解密私鑰。通過這種勒索手段，GandCrab勒索病毒一年就勒索了超過 20 億美金。值得一提的是，就算向攻擊者發送比特幣，也不一定能換取解密私鑰，造成“人財兩空”的局面。<strong>建議，當資產已經因勒索病毒而造成損失時，不要慌張，更不要向攻擊者支付比特幣或其他加密貨幣，同時，交易所在收到這些勒索郵件時需額外警惕，千萬不能向攻擊者支付比特幣或其他加密貨幣，必要時可尋求第三方安全公司的協助。</strong></p><p class=ql-align-justify>聲明：本文為入駐“火星號”作者作品，不代表火星財經官方立場。</p><p>未經許可擅自轉載本站文章，將追究相關法律責任，侵權必究。</p><p>提示：投資有風險，入市須謹慎，本資訊不作為投資理財建議。</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>區塊</a></li><li><a>入門</a></li><li><a>筆記</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E7%A7%91%E6%8A%80/e2a654d5.html alt=請收藏C語言最全入門筆記 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/000a3011a959479e9bd471fd45a266ca style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/e2a654d5.html title=請收藏C語言最全入門筆記>請收藏C語言最全入門筆記</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/dc2af9c9.html alt=機器學習筆記(七)——初識邏輯迴歸、不同方法推導梯度公式 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/13adbab9c7f94c7fa81d49a98861b051 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/dc2af9c9.html title=機器學習筆記(七)——初識邏輯迴歸、不同方法推導梯度公式>機器學習筆記(七)——初識邏輯迴歸、不同方法推導梯度公式</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/6fe27eab.html alt="前端 | HTML入門基礎知識-網頁" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/e7a0b61194f445b8b9e5ae330961d2ea style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/6fe27eab.html title="前端 | HTML入門基礎知識-網頁">前端 | HTML入門基礎知識-網頁</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a1bc38f3.html alt=HTMLCSS學習筆記（六）——元素類型 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/bdb5988349894ce9bf568c6418f85b7d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a1bc38f3.html title=HTMLCSS學習筆記（六）——元素類型>HTMLCSS學習筆記（六）——元素類型</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c9091681.html alt="MySQL 學習筆記" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c9091681.html title="MySQL 學習筆記">MySQL 學習筆記</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0a06ff55.html alt=區塊鏈上的隨機性：概述與構造 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RJjGCjxAt6MQlC style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0a06ff55.html title=區塊鏈上的隨機性：概述與構造>區塊鏈上的隨機性：概述與構造</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/15f60fea.html alt=此地無人生還：區塊鏈隨機數的原罪與救贖 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/153820081912869d8e48468 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/15f60fea.html title=此地無人生還：區塊鏈隨機數的原罪與救贖>此地無人生還：區塊鏈隨機數的原罪與救贖</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/a382d16d.html alt="區塊鏈入門：為什麼 DApp 經常會遭遇隨機數攻擊？| 火星技術帖" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/RivR6n1AU5yy8h style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/a382d16d.html title="區塊鏈入門：為什麼 DApp 經常會遭遇隨機數攻擊？| 火星技術帖">區塊鏈入門：為什麼 DApp 經常會遭遇隨機數攻擊？| 火星技術帖</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/0f977c9c.html alt="讀書筆記｜《Think in Java》Ⅷ 多態" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/6ee50002bf049682647d style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/0f977c9c.html title="讀書筆記｜《Think in Java》Ⅷ 多態">讀書筆記｜《Think in Java》Ⅷ 多態</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/c489c1e2.html alt="為了買一個馬桶，我做了十幾頁的筆記... 馬桶選購原來水這麼深！" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/6ebfc0f61b9d44818571c56f832e3c84 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/c489c1e2.html title="為了買一個馬桶，我做了十幾頁的筆記... 馬桶選購原來水這麼深！">為了買一個馬桶，我做了十幾頁的筆記... 馬桶選購原來水這麼深！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/19664ba8.html alt=EXCEL入門基礎：對行和列選定數據求和 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/1f03f82096d240dd92410709f3e19eb9 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/19664ba8.html title=EXCEL入門基礎：對行和列選定數據求和>EXCEL入門基礎：對行和列選定數據求和</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/112d1b5f.html alt=一造學習筆記—管理篇（2）：工程造價管理的組織和內容 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/dfic-imagehandler/9e65b076-038f-4720-96ff-182898f42dee style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/112d1b5f.html title=一造學習筆記—管理篇（2）：工程造價管理的組織和內容>一造學習筆記—管理篇（2）：工程造價管理的組織和內容</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/5abb53a8.html alt=工程造價從入門到精通：造價員全能圖解+工程算量表，限時分享！ class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/49834ccb43ed42cb9a54c9827c3ab134 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/5abb53a8.html title=工程造價從入門到精通：造價員全能圖解+工程算量表，限時分享！>工程造價從入門到精通：造價員全能圖解+工程算量表，限時分享！</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/1a5f8d5f.html alt=工程造價：入門知識全套講義，30章600頁，精通造價首選之作 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/9e1b335c343a455f8777dd3144fc1c35 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/1a5f8d5f.html title=工程造價：入門知識全套講義，30章600頁，精通造價首選之作>工程造價：入門知識全套講義，30章600頁，精通造價首選之作</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/2d4007c7.html alt=“黑客”入門學習之“Windows組策略” class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ea21244d5f5c420ebef29650f3fafd1c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/2d4007c7.html title=“黑客”入門學習之“Windows組策略”>“黑客”入門學習之“Windows組策略”</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>