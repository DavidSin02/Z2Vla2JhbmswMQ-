<!doctype html><html lang=tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=dns-prefetch href=https://i.geekbank.cf/><title>三分鐘學會遺傳算法 | 极客快訊</title><meta property="og:title" content="三分鐘學會遺傳算法 - 极客快訊"><meta property="og:type" content="article"><meta property="og:locale" content="tw"><meta property="og:image" content="http://p3.pstatp.com/large/dfic-imagehandler/77327867-8f42-46ff-951d-f833dc5e8032"><link rel=alternate hreflang=x-default href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/fa7911e.html><link rel=alternate hreflang=zh-tw href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/fa7911e.html><link rel=alternate hreflang=zh-cn href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/fa7911e.html><link rel=alternate hreflang=zh-hk href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/fa7911e.html><link rel=alternate hreflang=zh-mo href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/fa7911e.html><link rel=alternate hreflang=zh-my href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/fa7911e.html><link rel=alternate hreflang=zh-sg href=https://geekbank.cf/cn/%e9%81%8a%e6%88%b2/fa7911e.html><link rel=canonical href=https://geekbank.cf/tw/%e9%81%8a%e6%88%b2/fa7911e.html><meta property="article:published_time" content="2020-10-29T20:46:33+08:00"><meta property="article:modified_time" content="2020-10-29T20:46:33+08:00"><meta name=Keywords content><meta name=description content="三分鐘學會遺傳算法"><meta name=author content="极客快訊"><meta property="og:url" content="/tw/%E9%81%8A%E6%88%B2/fa7911e.html"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffc40d"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://geekbank.cf/css/normalize.css><link rel=stylesheet href=https://geekbank.cf/css/style.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=text/javascript src=https://geekbank.cf/js/jqthumb.min.js></script><script data-ad-client=ca-pub-3525055026201463 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><h1><a id=logo href>🤓 极客快訊 Geek Bank</a></h1><p class=description>為你帶來最全的科技知識 🧡</p></div><div><nav id=nav-menu class=clearfix><a class=current href>猜你喜歡</a>
<a href=../../tw/categories/%E7%A7%91%E6%8A%80.html title=科技>科技</a>
<a href=../../tw/categories/%E9%81%8A%E6%88%B2.html title=遊戲>遊戲</a>
<a href=../../tw/categories/%E7%A7%91%E5%AD%B8.html title=科學>科學</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>三分鐘學會遺傳算法</h1></header><date class="post-meta meta-date">2020-10-29</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=tw/categories/%E9%81%8A%E6%88%B2.html>遊戲</a></span></div><div class=post-content><div><div class=pgc-img><img alt=三分鐘學會遺傳算法 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/dfic-imagehandler/77327867-8f42-46ff-951d-f833dc5e8032><p class=pgc-img-caption>遺傳算法</p></div><p>此節介紹最著名的遺傳算法(GA)。遺傳算法屬於進化算法，基本思想是取自“物競天澤、適者生存”的進化法則。簡單來說，遺傳算法就是將問題編碼成為染色體，然後經過不斷選擇、交叉、變異等操作來更新染色體的編碼並進行迭代，每次迭代保留上一代好的染色體，丟棄差的染色體，最終達到滿足目標的最終染色體。整個流程由下圖構成（手寫，見諒 -_-!!）</p><div class=pgc-img><img alt=三分鐘學會遺傳算法 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/697ea4086d9e4b748504b81e237e5b56><p class=pgc-img-caption>流程圖</p></div><p>步驟由以下幾步構成：</p><p><strong>編碼</strong>（coding）——首先初始化及編碼。在此步，根據問題或者目標函數（objective function）構成解數據（solutions），在遺傳算法中，該解數據就被稱為染色體（chromosome）。值得一提的是，遺傳算法為多解（population based）算法，所以會有多條染色體。初始化中會隨機生成N條染色體，, 這裡表示染色體包含了n條。其中 ，這裡表示第i條染色體由d維數值構成。GA會以這個N個數據作為初始點開始進行進化。</p><p><strong>評估適應度</strong>（evaluate fitness）——這一步用染色體來進行目標函數運算，染色體的好壞將被指明。</p><p><strong>選擇</strong>（selection）——從當前染色體中挑選出優良的個體，以一定概率使他們成為父代進行交叉或者變異操作，他們的優秀基因後代得到保留。物競天擇這裡得以體現。</p><p><strong>交叉</strong>（crossover）——父代的兩個兩個染色體，通過互換染色體構成新的染色體。例如下圖，父親母親各提供兩個基因給我。這樣我既保留了父母的基於，同時又有自己的特性。</p><div class=pgc-img><img alt=三分鐘學會遺傳算法 onerror=errorimg.call(this); src=http://p9.pstatp.com/large/pgc-image/77f3317b4c0b45bebe4c69bb9fb37f76><p class=pgc-img-caption>交叉</p></div><p><strong>變異</strong>（mutation）——以一定概率使基因發生突變。該算子一般以較低概率發生。如下圖所示：</p><div class=pgc-img><img alt=三分鐘學會遺傳算法 onerror=errorimg.call(this); src=http://p1.pstatp.com/large/pgc-image/521866192261482b9d35deca981adbd9><p class=pgc-img-caption>變異</p></div><p>下面我們將一步一步為各位呈現如何用matlab編寫一個簡單的GA算法。</p><p>本問題為實數最小化minimization問題。我們需要在解空間內找到最小值或近似最小值，此處我們使用sphere函數作為目標函數（讀者可以自行修改為其他的目標函數）。</p><div class=pgc-img><img alt=三分鐘學會遺傳算法 onerror=errorimg.call(this); src=http://p9.pstatp.com/large/pgc-image/1f35df94386040078630dfd3e338f541><p class=pgc-img-caption>sphere function</p></div><ul><li>初始化：在這一步中，我們將在給定問題空間內生成隨機解，代碼如下：</li></ul><pre>% %% 初始化% % 輸入：chromes_size，dim維數,lb下界，ub上界% % 輸出：chromes新種群function chromes=init_chromes(chromes_size,dim,lb,ub) % 上下界中隨機生成染色體 chromes = rand(chromes_size,dim)*(ub-lb)+lb;end</pre><ul><li>選擇：選擇是從當前代中挑選優秀的染色體保留以繁殖下一代。我們這裡採取的方法是俄羅斯輪盤選擇方式。誰的解優，誰獲得選中的概率越高。首先，我們需要先求出各染色體的fitness倒數。</li><li>,然後求出各染色體的比重，比重越大，被保留機會越大。。代碼如下：</li></ul><pre>%% 選擇%俄羅斯輪盤賭function [newchromes,newfitness] = selection(chromes,fitness) weights = 1./fitness; % fitness倒數 totalfit=sum(weights); % 累加所有weights totalf = weights./totalfit; %求出各染色體比重 index = []; for i = 1:size(chromes,1) % 循環選出較優染色體 pick = rand; while pick == 0 pick = rand; end for j = 1:size(chromes,1) pick = pick - totalf(j); if pick&lt;0 index = [index j]; break end end end newchromes =chromes(index,:); newfitness = fitness(index);end</pre><ul><li>交叉：此步會隨機選取兩個選擇過後的染色體作為父代，從兩個染色體中各截取一部分基因生成新的染色體，代碼如下：</li></ul><pre>%% 交叉function newchromes = crossover(chromes,pc) % 生成一個新的解 newchromes = ones(size(chromes)); for i = 1:size(chromes,1) % 隨機選取兩個染色體 parents=randperm(10,2); %隨機選取一個位置 pos = round(rand*size(chromes,2)); if(rand&lt;pc) % 交叉生成新的解 newchromes(i,:)=[chromes(parents(1),1:pos) chromes(parents(2),pos+1:size(chromes,2))]; else newchromes(i,:)=chromes(i,:); end endend</pre><ul><li>變異：以一各小概率生成隨機變異一個gene，代碼如下：</li></ul><pre>% 變異function newchromes= muatation(chromes,pm,lb,ub) for i = 1:size(chromes,1) newchromes(i,:) = chromes(i,:); if (rand&lt;pm) %隨機選取一位 pos = ceil(rand*size(chromes,2)); %變異 newchromes(i,pos)= rand*(ub-lb)+lb; end endend</pre><ul><li>主函數，首先初始化各參數，然後進行迭代，當滿足終止條件停止：</li></ul><pre>% 清除workspace，清屏clearclc % 染色體數量chromes_size = 20;% 問題維數dim = 10;% 交叉概率pc =0.9;% 變異概率pm = 0.2;% 問題上下邊界lb = -1;ub = 1;% 循環次數maxiter = 1000;% 目標方程namefunc= 'objfun';fd = str2func(namefunc);​% 初始化chromes = init_chromes(chromes_size,dim,lb,ub);% 求個染色體fitness for i = 1:chromes_size fitness(i)=feval(fd,chromes(i,:)); end% 求出最優解 [bestfitness bestindex]=min(fitness); bestchrome = chromes(bestindex,:); % 主循環for iter=1:maxiter % 選擇 [chromes,newfitness] = selection(chromes,fitness); % 交叉 chromes= crossover(chromes,pc); % 變異 chromes= muatation(chromes,pm,lb,ub); % 更新最優 for i = 1:chromes_size fitness(i)=feval(fd,chromes(i,:)); if fitness(i)&lt;bestfitness bestfitness= fitness(i) bestchrome = chromes(i,:); end end trace(iter)=bestfitness; end​% 繪製fitness曲線plot(trace)title('Fitness curve')xlabel('Iterations')ylabel('Fitness value')</pre><p>運行之後生成一個fitness下降曲線，如下圖：</p><div class=pgc-img><img alt=三分鐘學會遺傳算法 onerror=errorimg.call(this); src=http://p3.pstatp.com/large/pgc-image/e6fac4c4983548789d21f3ce9fca6241><p class=pgc-img-caption>適應度下降曲線</p></div><p>遺傳算法大大提升了尋優問題的通用性,因為遺傳算法屬於stochastic algorithm,不再是Deterministic algorithm（如果各位對此感興趣，請留言，我可進一步講解）。</p><p>但是有些顯著缺陷還是明顯影響該算法效率，主要問題如下：</p><ol><li>premature，過早收斂，極易陷入局部最優解</li><li>初始點對算法結果影響巨大，初始點好的解效果好，反之亦然。</li></ol><p>下一節，將介紹群智能算法的代表之作——粒子群尋優算法。</p><p>如有任何疑問請留言，歡迎評論交流，創作不易，請勿抄襲，請收藏，關注，轉發~</p></div></div><div class="post-meta meta-tags"><ul class=clearfix><li><a>鐘學會</a></li><li><a>遺傳</a></li><li><a>算法</a></li></ul></div></article></div></div><div id=secondary><section class=widget><form id=search action=//www.google.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=搜索>
<input type=hidden name=sitesearch value=geekbank.cf>
<button type=submit>🔍</button></form></section><section class=widget><h3 class=widget-title>最新文章 ⚡</h3><ul class=widget-list><li><a href=../../tw/%E9%81%8A%E6%88%B2/3192eea.html alt=俺爸俺媽和俺——是遺傳算法？「AI儒家談」從進化算法說開 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p9.pstatp.com/large/pgc-image/ba8d2959b19647b5b829c2b72605c113 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/3192eea.html title=俺爸俺媽和俺——是遺傳算法？「AI儒家談」從進化算法說開>俺爸俺媽和俺——是遺傳算法？「AI儒家談」從進化算法說開</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/33cca76.html alt="學習筆記：遺傳算法(Python) #1 遺傳算法簡介" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p3.pstatp.com/large/pgc-image/94a779ec533f4b7ba260de3c7b04ce8c style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/33cca76.html title="學習筆記：遺傳算法(Python) #1 遺傳算法簡介">學習筆記：遺傳算法(Python) #1 遺傳算法簡介</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/d0418e7.html alt=理解人工智能的遺傳算法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p3.pstatp.com/large/pgc-image/15361404054583f46c54972 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/d0418e7.html title=理解人工智能的遺傳算法>理解人工智能的遺傳算法</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/fdf46c8.html alt=遺傳算法-理解與實戰 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p3.pstatp.com/large/dfic-imagehandler/d816218a-77fb-426d-b163-aff1377d0a51 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/fdf46c8.html title=遺傳算法-理解與實戰>遺傳算法-理解與實戰</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/abc1008.html alt=遺傳算法和超參數 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p3.pstatp.com/large/pgc-image/1535181061510088ebc8f85 style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/abc1008.html title=遺傳算法和超參數>遺傳算法和超參數</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/5c16da4.html alt=遺傳算法基本操作 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p3.pstatp.com/large/pgc-image/1540342523497fd07077d5b style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/5c16da4.html title=遺傳算法基本操作>遺傳算法基本操作</a></li><hr><li><a href=../../tw/%E9%81%8A%E6%88%B2/5a7929f.html alt=遺傳算法：組合優化算法，按照進化論的方式啟發搜索尋優解 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=http://p1.pstatp.com/large/dfic-imagehandler/a56b19b5-17af-4bef-be7d-66728c6a6e1a style=border-radius:25px></a>
<a href=../../tw/%E9%81%8A%E6%88%B2/5a7929f.html title=遺傳算法：組合優化算法，按照進化論的方式啟發搜索尋優解>遺傳算法：組合優化算法，按照進化論的方式啟發搜索尋優解</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ed4abe39.html alt=算法小專欄：散列表（二） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/a831970b0ccf4e4cbe591777ebd3f2a3 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ed4abe39.html title=算法小專欄：散列表（二）>算法小專欄：散列表（二）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/38aea254.html alt=七大查找算法 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/15393515221731c57aa8da1 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/38aea254.html title=七大查找算法>七大查找算法</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/51e4e55b.html alt=掌握算法-散列 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/7fe8d19cb78241e999d77102bee7e16c style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/51e4e55b.html title=掌握算法-散列>掌握算法-散列</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d2c8de48.html alt=C#算法系列（1）——二叉樹 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d2c8de48.html title=C#算法系列（1）——二叉樹>C#算法系列（1）——二叉樹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/d241e092.html alt=算法--二叉樹（平衡二叉樹、搜索二叉樹、完全二叉樹） class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p3.pstatp.com/large/pgc-image/9b2026e861ad49e88e1e124dc67edb32 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/d241e092.html title=算法--二叉樹（平衡二叉樹、搜索二叉樹、完全二叉樹）>算法--二叉樹（平衡二叉樹、搜索二叉樹、完全二叉樹）</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/bf5399b7.html alt=算法題—完全二叉樹 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/ef7d8ad6eaca4524a71e1e5d1277532b style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/bf5399b7.html title=算法題—完全二叉樹>算法題—完全二叉樹</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/33d4ec6c.html alt=三分鐘學會垃圾分類 class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p1.pstatp.com/large/pgc-image/ab5f948bdb434568a9e97e0256458a85 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/33d4ec6c.html title=三分鐘學會垃圾分類>三分鐘學會垃圾分類</a></li><hr><li><a href=../../tw/%E7%A7%91%E6%8A%80/ea05780d.html alt="非遺傳承 | 盧家（望島）刀剪製作工序" class="image featured" style=display:block;margin-left:auto;margin-right:auto;width:100%><img src=https://p9.pstatp.com/large/pgc-image/464604d06c04488fb3c75d04b8109a15 style=border-radius:25px></a>
<a href=../../tw/%E7%A7%91%E6%8A%80/ea05780d.html title="非遺傳承 | 盧家（望島）刀剪製作工序">非遺傳承 | 盧家（望島）刀剪製作工序</a></li><hr></ul></section><section class=widget><h3 class=widget-title>其他</h3><ul class=widget-list><li><a href=TOS.html>使用條款</a></li><li><a href=CommentPolicy.html>留言政策</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>DMCA</a></li><li><a href=mailto:gdnews@tuta.io rel=nofollow>聯絡我們</a></li></ul></section></div></div></div></div><footer id=footer><div class=container>&copy; 2020 <a href>极客快訊</a></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:true}};</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src=https://kknews.cf/js/totop.js async></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e508ed9e4e698bb"></script></body></html>